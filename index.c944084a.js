(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function hJ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var U={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=Symbol.for("react.element"),pJ=Symbol.for("react.portal"),fJ=Symbol.for("react.fragment"),mJ=Symbol.for("react.strict_mode"),gJ=Symbol.for("react.profiler"),vJ=Symbol.for("react.provider"),_J=Symbol.for("react.context"),bJ=Symbol.for("react.forward_ref"),yJ=Symbol.for("react.suspense"),EJ=Symbol.for("react.memo"),wJ=Symbol.for("react.lazy"),NM=Symbol.iterator;function xJ(n){return n===null||typeof n!="object"?null:(n=NM&&n[NM]||n["@@iterator"],typeof n=="function"?n:null)}var aP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sP=Object.assign,oP={};function Rh(n,e,t){this.props=n,this.context=e,this.refs=oP,this.updater=t||aP}Rh.prototype.isReactComponent={};Rh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Rh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function lP(){}lP.prototype=Rh.prototype;function mx(n,e,t){this.props=n,this.context=e,this.refs=oP,this.updater=t||aP}var gx=mx.prototype=new lP;gx.constructor=mx;sP(gx,Rh.prototype);gx.isPureReactComponent=!0;var TM=Array.isArray,uP=Object.prototype.hasOwnProperty,vx={current:null},cP={key:!0,ref:!0,__self:!0,__source:!0};function dP(n,e,t){var r,i={},o=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(o=""+e.key),e)uP.call(e,r)&&!cP.hasOwnProperty(r)&&(i[r]=e[r]);var d=arguments.length-2;if(d===1)i.children=t;else if(1<d){for(var h=Array(d),f=0;f<d;f++)h[f]=arguments[f+2];i.children=h}if(n&&n.defaultProps)for(r in d=n.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:l0,type:n,key:o,ref:u,props:i,_owner:vx.current}}function kJ(n,e){return{$$typeof:l0,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _x(n){return typeof n=="object"&&n!==null&&n.$$typeof===l0}function CJ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var IM=/\/+/g;function b1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?CJ(""+n.key):e.toString(36)}function pg(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var u=!1;if(n===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case l0:case pJ:u=!0}}if(u)return u=n,i=i(u),n=r===""?"."+b1(u,0):r,TM(i)?(t="",n!=null&&(t=n.replace(IM,"$&/")+"/"),pg(i,e,t,"",function(f){return f})):i!=null&&(_x(i)&&(i=kJ(i,t+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(IM,"$&/")+"/")+n)),e.push(i)),1;if(u=0,r=r===""?".":r+":",TM(n))for(var d=0;d<n.length;d++){o=n[d];var h=r+b1(o,d);u+=pg(o,e,t,h,i)}else if(h=xJ(n),typeof h=="function")for(n=h.call(n),d=0;!(o=n.next()).done;)o=o.value,h=r+b1(o,d++),u+=pg(o,e,t,h,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Fm(n,e,t){if(n==null)return n;var r=[],i=0;return pg(n,r,"","",function(o){return e.call(t,o,i++)}),r}function SJ(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var fa={current:null},fg={transition:null},NJ={ReactCurrentDispatcher:fa,ReactCurrentBatchConfig:fg,ReactCurrentOwner:vx};_t.Children={map:Fm,forEach:function(n,e,t){Fm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Fm(n,function(){e++}),e},toArray:function(n){return Fm(n,function(e){return e})||[]},only:function(n){if(!_x(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_t.Component=Rh;_t.Fragment=fJ;_t.Profiler=gJ;_t.PureComponent=mx;_t.StrictMode=mJ;_t.Suspense=yJ;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NJ;_t.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=sP({},n.props),i=n.key,o=n.ref,u=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,u=vx.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var d=n.type.defaultProps;for(h in e)uP.call(e,h)&&!cP.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&d!==void 0?d[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){d=Array(h);for(var f=0;f<h;f++)d[f]=arguments[f+2];r.children=d}return{$$typeof:l0,type:n.type,key:i,ref:o,props:r,_owner:u}};_t.createContext=function(n){return n={$$typeof:_J,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vJ,_context:n},n.Consumer=n};_t.createElement=dP;_t.createFactory=function(n){var e=dP.bind(null,n);return e.type=n,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(n){return{$$typeof:bJ,render:n}};_t.isValidElement=_x;_t.lazy=function(n){return{$$typeof:wJ,_payload:{_status:-1,_result:n},_init:SJ}};_t.memo=function(n,e){return{$$typeof:EJ,type:n,compare:e===void 0?null:e}};_t.startTransition=function(n){var e=fg.transition;fg.transition={};try{n()}finally{fg.transition=e}};_t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_t.useCallback=function(n,e){return fa.current.useCallback(n,e)};_t.useContext=function(n){return fa.current.useContext(n)};_t.useDebugValue=function(){};_t.useDeferredValue=function(n){return fa.current.useDeferredValue(n)};_t.useEffect=function(n,e){return fa.current.useEffect(n,e)};_t.useId=function(){return fa.current.useId()};_t.useImperativeHandle=function(n,e,t){return fa.current.useImperativeHandle(n,e,t)};_t.useInsertionEffect=function(n,e){return fa.current.useInsertionEffect(n,e)};_t.useLayoutEffect=function(n,e){return fa.current.useLayoutEffect(n,e)};_t.useMemo=function(n,e){return fa.current.useMemo(n,e)};_t.useReducer=function(n,e,t){return fa.current.useReducer(n,e,t)};_t.useRef=function(n){return fa.current.useRef(n)};_t.useState=function(n){return fa.current.useState(n)};_t.useSyncExternalStore=function(n,e,t){return fa.current.useSyncExternalStore(n,e,t)};_t.useTransition=function(){return fa.current.useTransition()};_t.version="18.2.0";(function(n){n.exports=_t})(U);const k=hJ(U.exports);var EE={},Mh={exports:{}},ss={},hP={exports:{}},pP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(ve,Ce){var Le=ve.length;ve.push(Ce);e:for(;0<Le;){var te=Le-1>>>1,X=ve[te];if(0<i(X,Ce))ve[te]=Ce,ve[Le]=X,Le=te;else break e}}function t(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Ce=ve[0],Le=ve.pop();if(Le!==Ce){ve[0]=Le;e:for(var te=0,X=ve.length,ge=X>>>1;te<ge;){var Ke=2*(te+1)-1,qe=ve[Ke],Te=Ke+1,xe=ve[Te];if(0>i(qe,Le))Te<X&&0>i(xe,qe)?(ve[te]=xe,ve[Te]=Le,te=Te):(ve[te]=qe,ve[Ke]=Le,te=Ke);else if(Te<X&&0>i(xe,Le))ve[te]=xe,ve[Te]=Le,te=Te;else break e}}return Ce}function i(ve,Ce){var Le=ve.sortIndex-Ce.sortIndex;return Le!==0?Le:ve.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],f=[],v=1,_=null,y=3,E=!1,x=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ve){for(var Ce=t(f);Ce!==null;){if(Ce.callback===null)r(f);else if(Ce.startTime<=ve)r(f),Ce.sortIndex=Ce.expirationTime,e(h,Ce);else break;Ce=t(f)}}function P(ve){if(C=!1,D(ve),!x)if(t(h)!==null)x=!0,Re(Q);else{var Ce=t(f);Ce!==null&&He(P,Ce.startTime-ve)}}function Q(ve,Ce){x=!1,C&&(C=!1,N(V),V=-1),E=!0;var Le=y;try{for(D(Ce),_=t(h);_!==null&&(!(_.expirationTime>Ce)||ve&&!Ee());){var te=_.callback;if(typeof te=="function"){_.callback=null,y=_.priorityLevel;var X=te(_.expirationTime<=Ce);Ce=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(h)&&r(h),D(Ce)}else r(h);_=t(h)}if(_!==null)var ge=!0;else{var Ke=t(f);Ke!==null&&He(P,Ke.startTime-Ce),ge=!1}return ge}finally{_=null,y=Le,E=!1}}var z=!1,W=null,V=-1,he=5,ce=-1;function Ee(){return!(n.unstable_now()-ce<he)}function Ne(){if(W!==null){var ve=n.unstable_now();ce=ve;var Ce=!0;try{Ce=W(!0,ve)}finally{Ce?se():(z=!1,W=null)}}else z=!1}var se;if(typeof S=="function")se=function(){S(Ne)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ue=oe.port2;oe.port1.onmessage=Ne,se=function(){ue.postMessage(null)}}else se=function(){M(Ne,0)};function Re(ve){W=ve,z||(z=!0,se())}function He(ve,Ce){V=M(function(){ve(n.unstable_now())},Ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ve){ve.callback=null},n.unstable_continueExecution=function(){x||E||(x=!0,Re(Q))},n.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<ve?Math.floor(1e3/ve):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ve){switch(y){case 1:case 2:case 3:var Ce=3;break;default:Ce=y}var Le=y;y=Ce;try{return ve()}finally{y=Le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ve,Ce){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Le=y;y=ve;try{return Ce()}finally{y=Le}},n.unstable_scheduleCallback=function(ve,Ce,Le){var te=n.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?te+Le:te):Le=te,ve){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Le+X,ve={id:v++,callback:Ce,priorityLevel:ve,startTime:Le,expirationTime:X,sortIndex:-1},Le>te?(ve.sortIndex=Le,e(f,ve),t(h)===null&&ve===t(f)&&(C?(N(V),V=-1):C=!0,He(P,Le-te))):(ve.sortIndex=X,e(h,ve),x||E||(x=!0,Re(Q))),ve},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(ve){var Ce=y;return function(){var Le=y;y=Ce;try{return ve.apply(this,arguments)}finally{y=Le}}}})(pP);(function(n){n.exports=pP})(hP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP=U.exports,ts=hP.exports;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mP=new Set,Mf={};function Gc(n,e){fh(n,e),fh(n+"Capture",e)}function fh(n,e){for(Mf[n]=e,n=0;n<e.length;n++)mP.add(e[n])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wE=Object.prototype.hasOwnProperty,TJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OM={},AM={};function IJ(n){return wE.call(AM,n)?!0:wE.call(OM,n)?!1:TJ.test(n)?AM[n]=!0:(OM[n]=!0,!1)}function OJ(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AJ(n,e,t,r){if(e===null||typeof e>"u"||OJ(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ma(n,e,t,r,i,o,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ui[n]=new ma(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ui[e]=new ma(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ui[n]=new ma(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ui[n]=new ma(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ui[n]=new ma(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ui[n]=new ma(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ui[n]=new ma(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ui[n]=new ma(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ui[n]=new ma(n,5,!1,n.toLowerCase(),null,!1,!1)});var bx=/[\-:]([a-z])/g;function yx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bx,yx);Ui[e]=new ma(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bx,yx);Ui[e]=new ma(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bx,yx);Ui[e]=new ma(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ui[n]=new ma(n,1,!1,n.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ui[n]=new ma(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ex(n,e,t,r){var i=Ui.hasOwnProperty(e)?Ui[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AJ(e,t,i,r)&&(t=null),r||i===null?IJ(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var El=fP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hm=Symbol.for("react.element"),zd=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),xE=Symbol.for("react.profiler"),gP=Symbol.for("react.provider"),vP=Symbol.for("react.context"),xx=Symbol.for("react.forward_ref"),kE=Symbol.for("react.suspense"),CE=Symbol.for("react.suspense_list"),kx=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),_P=Symbol.for("react.offscreen"),RM=Symbol.iterator;function Gp(n){return n===null||typeof n!="object"?null:(n=RM&&n[RM]||n["@@iterator"],typeof n=="function"?n:null)}var Cr=Object.assign,y1;function sf(n){if(y1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);y1=e&&e[1]||""}return`
`+y1+n}var E1=!1;function w1(n,e){if(!n||E1)return"";E1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){r=f}n.call(e.prototype)}else{try{throw Error()}catch(f){r=f}n()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,d=o.length-1;1<=u&&0<=d&&i[u]!==o[d];)d--;for(;1<=u&&0<=d;u--,d--)if(i[u]!==o[d]){if(u!==1||d!==1)do if(u--,d--,0>d||i[u]!==o[d]){var h=`
`+i[u].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=u&&0<=d);break}}}finally{E1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?sf(n):""}function RJ(n){switch(n.tag){case 5:return sf(n.type);case 16:return sf("Lazy");case 13:return sf("Suspense");case 19:return sf("SuspenseList");case 0:case 2:case 15:return n=w1(n.type,!1),n;case 11:return n=w1(n.type.render,!1),n;case 1:return n=w1(n.type,!0),n;default:return""}}function SE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case jd:return"Fragment";case zd:return"Portal";case xE:return"Profiler";case wx:return"StrictMode";case kE:return"Suspense";case CE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vP:return(n.displayName||"Context")+".Consumer";case gP:return(n._context.displayName||"Context")+".Provider";case xx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kx:return e=n.displayName||null,e!==null?e:SE(n.type)||"Memo";case tu:e=n._payload,n=n._init;try{return SE(n(e))}catch{}}return null}function MJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SE(e);case 8:return e===wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function bP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DJ(n){var e=bP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qm(n){n._valueTracker||(n._valueTracker=DJ(n))}function yP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=bP(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Lg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function NE(n,e){var t=e.checked;return Cr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function MM(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=wu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EP(n,e){e=e.checked,e!=null&&Ex(n,"checked",e,!1)}function TE(n,e){EP(n,e);var t=wu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?IE(n,e.type,t):e.hasOwnProperty("defaultValue")&&IE(n,e.type,wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function DM(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function IE(n,e,t){(e!=="number"||Lg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var of=Array.isArray;function ah(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+wu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function OE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Cr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function UM(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(of(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:wu(t)}}function wP(n,e){var t=wu(e.value),r=wu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function LM(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function xP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?xP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Bm,kP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Bm=Bm||document.createElement("div"),Bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Df(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UJ=["Webkit","ms","Moz","O"];Object.keys(ff).forEach(function(n){UJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ff[e]=ff[n]})});function CP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ff.hasOwnProperty(n)&&ff[n]?(""+e).trim():e+"px"}function SP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=CP(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var LJ=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RE(n,e){if(e){if(LJ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function ME(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DE=null;function Cx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var UE=null,sh=null,oh=null;function PM(n){if(n=d0(n)){if(typeof UE!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=Rv(e),UE(n.stateNode,n.type,e))}}function NP(n){sh?oh?oh.push(n):oh=[n]:sh=n}function TP(){if(sh){var n=sh,e=oh;if(oh=sh=null,PM(n),e)for(n=0;n<e.length;n++)PM(e[n])}}function IP(n,e){return n(e)}function OP(){}var x1=!1;function AP(n,e,t){if(x1)return n(e,t);x1=!0;try{return IP(n,e,t)}finally{x1=!1,(sh!==null||oh!==null)&&(OP(),TP())}}function Uf(n,e){var t=n.stateNode;if(t===null)return null;var r=Rv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var LE=!1;if(vl)try{var $p={};Object.defineProperty($p,"passive",{get:function(){LE=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{LE=!1}function PJ(n,e,t,r,i,o,u,d,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(v){this.onError(v)}}var mf=!1,Pg=null,Fg=!1,PE=null,FJ={onError:function(n){mf=!0,Pg=n}};function HJ(n,e,t,r,i,o,u,d,h){mf=!1,Pg=null,PJ.apply(FJ,arguments)}function qJ(n,e,t,r,i,o,u,d,h){if(HJ.apply(this,arguments),mf){if(mf){var f=Pg;mf=!1,Pg=null}else throw Error(Ge(198));Fg||(Fg=!0,PE=f)}}function $c(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function RP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function FM(n){if($c(n)!==n)throw Error(Ge(188))}function BJ(n){var e=n.alternate;if(!e){if(e=$c(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return FM(i),n;if(o===r)return FM(i),e;o=o.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=o;else{for(var u=!1,d=i.child;d;){if(d===t){u=!0,t=i,r=o;break}if(d===r){u=!0,r=i,t=o;break}d=d.sibling}if(!u){for(d=o.child;d;){if(d===t){u=!0,t=o,r=i;break}if(d===r){u=!0,r=o,t=i;break}d=d.sibling}if(!u)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function MP(n){return n=BJ(n),n!==null?DP(n):null}function DP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=DP(n);if(e!==null)return e;n=n.sibling}return null}var UP=ts.unstable_scheduleCallback,HM=ts.unstable_cancelCallback,GJ=ts.unstable_shouldYield,$J=ts.unstable_requestPaint,Br=ts.unstable_now,zJ=ts.unstable_getCurrentPriorityLevel,Sx=ts.unstable_ImmediatePriority,LP=ts.unstable_UserBlockingPriority,Hg=ts.unstable_NormalPriority,jJ=ts.unstable_LowPriority,PP=ts.unstable_IdlePriority,Tv=null,No=null;function VJ(n){if(No&&typeof No.onCommitFiberRoot=="function")try{No.onCommitFiberRoot(Tv,n,void 0,(n.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:QJ,WJ=Math.log,KJ=Math.LN2;function QJ(n){return n>>>=0,n===0?32:31-(WJ(n)/KJ|0)|0}var Gm=64,$m=4194304;function lf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,u=t&268435455;if(u!==0){var d=u&~i;d!==0?r=lf(d):(o&=u,o!==0&&(r=lf(o)))}else u=t&~i,u!==0?r=lf(u):o!==0&&(r=lf(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Qs(e),i=1<<t,r|=n[t],e&=~i;return r}function YJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XJ(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var u=31-Qs(o),d=1<<u,h=i[u];h===-1?((d&t)===0||(d&r)!==0)&&(i[u]=YJ(d,e)):h<=e&&(n.expiredLanes|=d),o&=~d}}function FE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function FP(){var n=Gm;return Gm<<=1,(Gm&4194240)===0&&(Gm=64),n}function k1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function u0(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qs(e),n[e]=t}function JJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Qs(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function Nx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Qs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Kt=0;function HP(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qP,Tx,BP,GP,$P,HE=!1,zm=[],du=null,hu=null,pu=null,Lf=new Map,Pf=new Map,iu=[],ZJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qM(n,e){switch(n){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":Lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(e.pointerId)}}function zp(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=d0(e),e!==null&&Tx(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function eZ(n,e,t,r,i){switch(e){case"focusin":return du=zp(du,n,e,t,r,i),!0;case"dragenter":return hu=zp(hu,n,e,t,r,i),!0;case"mouseover":return pu=zp(pu,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Lf.set(o,zp(Lf.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pf.set(o,zp(Pf.get(o)||null,n,e,t,r,i)),!0}return!1}function zP(n){var e=bc(n.target);if(e!==null){var t=$c(e);if(t!==null){if(e=t.tag,e===13){if(e=RP(t),e!==null){n.blockedOn=e,$P(n.priority,function(){BP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=qE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);DE=r,t.target.dispatchEvent(r),DE=null}else return e=d0(t),e!==null&&Tx(e),n.blockedOn=t,!1;e.shift()}return!0}function BM(n,e,t){mg(n)&&t.delete(e)}function nZ(){HE=!1,du!==null&&mg(du)&&(du=null),hu!==null&&mg(hu)&&(hu=null),pu!==null&&mg(pu)&&(pu=null),Lf.forEach(BM),Pf.forEach(BM)}function jp(n,e){n.blockedOn===e&&(n.blockedOn=null,HE||(HE=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,nZ)))}function Ff(n){function e(i){return jp(i,n)}if(0<zm.length){jp(zm[0],n);for(var t=1;t<zm.length;t++){var r=zm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(du!==null&&jp(du,n),hu!==null&&jp(hu,n),pu!==null&&jp(pu,n),Lf.forEach(e),Pf.forEach(e),t=0;t<iu.length;t++)r=iu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<iu.length&&(t=iu[0],t.blockedOn===null);)zP(t),t.blockedOn===null&&iu.shift()}var lh=El.ReactCurrentBatchConfig,Bg=!0;function tZ(n,e,t,r){var i=Kt,o=lh.transition;lh.transition=null;try{Kt=1,Ix(n,e,t,r)}finally{Kt=i,lh.transition=o}}function rZ(n,e,t,r){var i=Kt,o=lh.transition;lh.transition=null;try{Kt=4,Ix(n,e,t,r)}finally{Kt=i,lh.transition=o}}function Ix(n,e,t,r){if(Bg){var i=qE(n,e,t,r);if(i===null)D1(n,e,r,Gg,t),qM(n,r);else if(eZ(i,n,e,t,r))r.stopPropagation();else if(qM(n,r),e&4&&-1<ZJ.indexOf(n)){for(;i!==null;){var o=d0(i);if(o!==null&&qP(o),o=qE(n,e,t,r),o===null&&D1(n,e,r,Gg,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else D1(n,e,r,null,t)}}var Gg=null;function qE(n,e,t,r){if(Gg=null,n=Cx(r),n=bc(n),n!==null)if(e=$c(n),e===null)n=null;else if(t=e.tag,t===13){if(n=RP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gg=n,null}function jP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zJ()){case Sx:return 1;case LP:return 4;case Hg:case jJ:return 16;case PP:return 536870912;default:return 16}default:return 16}}var su=null,Ox=null,gg=null;function VP(){if(gg)return gg;var n,e=Ox,t=e.length,r,i="value"in su?su.value:su.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var u=t-n;for(r=1;r<=u&&e[t-r]===i[o-r];r++);return gg=i.slice(n,1<r?1-r:void 0)}function vg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jm(){return!0}function GM(){return!1}function os(n){function e(t,r,i,o,u){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var d in n)n.hasOwnProperty(d)&&(t=n[d],this[d]=t?t(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jm:GM,this.isPropagationStopped=GM,this}return Cr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),e}var Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=os(Dh),c0=Cr({},Dh,{view:0,detail:0}),iZ=os(c0),C1,S1,Vp,Iv=Cr({},c0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vp&&(Vp&&n.type==="mousemove"?(C1=n.screenX-Vp.screenX,S1=n.screenY-Vp.screenY):S1=C1=0,Vp=n),C1)},movementY:function(n){return"movementY"in n?n.movementY:S1}}),$M=os(Iv),aZ=Cr({},Iv,{dataTransfer:0}),sZ=os(aZ),oZ=Cr({},c0,{relatedTarget:0}),N1=os(oZ),lZ=Cr({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),uZ=os(lZ),cZ=Cr({},Dh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dZ=os(cZ),hZ=Cr({},Dh,{data:0}),zM=os(hZ),pZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gZ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mZ[n])?!!e[n]:!1}function Rx(){return gZ}var vZ=Cr({},c0,{key:function(n){if(n.key){var e=pZ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=vg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fZ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rx,charCode:function(n){return n.type==="keypress"?vg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_Z=os(vZ),bZ=Cr({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jM=os(bZ),yZ=Cr({},c0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rx}),EZ=os(yZ),wZ=Cr({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),xZ=os(wZ),kZ=Cr({},Iv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CZ=os(kZ),SZ=[9,13,27,32],Mx=vl&&"CompositionEvent"in window,gf=null;vl&&"documentMode"in document&&(gf=document.documentMode);var NZ=vl&&"TextEvent"in window&&!gf,WP=vl&&(!Mx||gf&&8<gf&&11>=gf),VM=String.fromCharCode(32),WM=!1;function KP(n,e){switch(n){case"keyup":return SZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vd=!1;function TZ(n,e){switch(n){case"compositionend":return QP(e);case"keypress":return e.which!==32?null:(WM=!0,VM);case"textInput":return n=e.data,n===VM&&WM?null:n;default:return null}}function IZ(n,e){if(Vd)return n==="compositionend"||!Mx&&KP(n,e)?(n=VP(),gg=Ox=su=null,Vd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WP&&e.locale!=="ko"?null:e.data;default:return null}}var OZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OZ[n.type]:e==="textarea"}function YP(n,e,t,r){NP(r),e=$g(e,"onChange"),0<e.length&&(t=new Ax("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var vf=null,Hf=null;function AZ(n){o8(n,0)}function Ov(n){var e=Qd(n);if(yP(e))return n}function RZ(n,e){if(n==="change")return e}var XP=!1;if(vl){var T1;if(vl){var I1="oninput"in document;if(!I1){var QM=document.createElement("div");QM.setAttribute("oninput","return;"),I1=typeof QM.oninput=="function"}T1=I1}else T1=!1;XP=T1&&(!document.documentMode||9<document.documentMode)}function YM(){vf&&(vf.detachEvent("onpropertychange",JP),Hf=vf=null)}function JP(n){if(n.propertyName==="value"&&Ov(Hf)){var e=[];YP(e,Hf,n,Cx(n)),AP(AZ,e)}}function MZ(n,e,t){n==="focusin"?(YM(),vf=e,Hf=t,vf.attachEvent("onpropertychange",JP)):n==="focusout"&&YM()}function DZ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ov(Hf)}function UZ(n,e){if(n==="click")return Ov(e)}function LZ(n,e){if(n==="input"||n==="change")return Ov(e)}function PZ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Js=typeof Object.is=="function"?Object.is:PZ;function qf(n,e){if(Js(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!wE.call(e,i)||!Js(n[i],e[i]))return!1}return!0}function XM(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function JM(n,e){var t=XM(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=XM(t)}}function ZP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ZP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function e8(){for(var n=window,e=Lg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Lg(n.document)}return e}function Dx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function FZ(n){var e=e8(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ZP(t.ownerDocument.documentElement,t)){if(r!==null&&Dx(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=JM(t,o);var u=JM(t,r);i&&u&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==u.node||n.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HZ=vl&&"documentMode"in document&&11>=document.documentMode,Wd=null,BE=null,_f=null,GE=!1;function ZM(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;GE||Wd==null||Wd!==Lg(r)||(r=Wd,"selectionStart"in r&&Dx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_f&&qf(_f,r)||(_f=r,r=$g(BE,"onSelect"),0<r.length&&(e=new Ax("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wd)))}function Vm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kd={animationend:Vm("Animation","AnimationEnd"),animationiteration:Vm("Animation","AnimationIteration"),animationstart:Vm("Animation","AnimationStart"),transitionend:Vm("Transition","TransitionEnd")},O1={},n8={};vl&&(n8=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function Av(n){if(O1[n])return O1[n];if(!Kd[n])return n;var e=Kd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in n8)return O1[n]=e[t];return n}var t8=Av("animationend"),r8=Av("animationiteration"),i8=Av("animationstart"),a8=Av("transitionend"),s8=new Map,e5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ou(n,e){s8.set(n,e),Gc(e,[n])}for(var A1=0;A1<e5.length;A1++){var R1=e5[A1],qZ=R1.toLowerCase(),BZ=R1[0].toUpperCase()+R1.slice(1);Ou(qZ,"on"+BZ)}Ou(t8,"onAnimationEnd");Ou(r8,"onAnimationIteration");Ou(i8,"onAnimationStart");Ou("dblclick","onDoubleClick");Ou("focusin","onFocus");Ou("focusout","onBlur");Ou(a8,"onTransitionEnd");fh("onMouseEnter",["mouseout","mouseover"]);fh("onMouseLeave",["mouseout","mouseover"]);fh("onPointerEnter",["pointerout","pointerover"]);fh("onPointerLeave",["pointerout","pointerover"]);Gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(uf));function n5(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,qJ(r,e,void 0,n),n.currentTarget=null}function o8(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var u=r.length-1;0<=u;u--){var d=r[u],h=d.instance,f=d.currentTarget;if(d=d.listener,h!==o&&i.isPropagationStopped())break e;n5(i,d,f),o=h}else for(u=0;u<r.length;u++){if(d=r[u],h=d.instance,f=d.currentTarget,d=d.listener,h!==o&&i.isPropagationStopped())break e;n5(i,d,f),o=h}}}if(Fg)throw n=PE,Fg=!1,PE=null,n}function gr(n,e){var t=e[WE];t===void 0&&(t=e[WE]=new Set);var r=n+"__bubble";t.has(r)||(l8(e,n,2,!1),t.add(r))}function M1(n,e,t){var r=0;e&&(r|=4),l8(t,n,r,e)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function Bf(n){if(!n[Wm]){n[Wm]=!0,mP.forEach(function(t){t!=="selectionchange"&&(GZ.has(t)||M1(t,!1,n),M1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Wm]||(e[Wm]=!0,M1("selectionchange",!1,e))}}function l8(n,e,t,r){switch(jP(e)){case 1:var i=tZ;break;case 4:i=rZ;break;default:i=Ix}t=i.bind(null,e,t,n),i=void 0,!LE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function D1(n,e,t,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;d!==null;){if(u=bc(d),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}d=d.parentNode}}r=r.return}AP(function(){var f=o,v=Cx(t),_=[];e:{var y=s8.get(n);if(y!==void 0){var E=Ax,x=n;switch(n){case"keypress":if(vg(t)===0)break e;case"keydown":case"keyup":E=_Z;break;case"focusin":x="focus",E=N1;break;case"focusout":x="blur",E=N1;break;case"beforeblur":case"afterblur":E=N1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=$M;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=sZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=EZ;break;case t8:case r8:case i8:E=uZ;break;case a8:E=xZ;break;case"scroll":E=iZ;break;case"wheel":E=CZ;break;case"copy":case"cut":case"paste":E=dZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=jM}var C=(e&4)!==0,M=!C&&n==="scroll",N=C?y!==null?y+"Capture":null:y;C=[];for(var S=f,D;S!==null;){D=S;var P=D.stateNode;if(D.tag===5&&P!==null&&(D=P,N!==null&&(P=Uf(S,N),P!=null&&C.push(Gf(S,P,D)))),M)break;S=S.return}0<C.length&&(y=new E(y,x,null,t,v),_.push({event:y,listeners:C}))}}if((e&7)===0){e:{if(y=n==="mouseover"||n==="pointerover",E=n==="mouseout"||n==="pointerout",y&&t!==DE&&(x=t.relatedTarget||t.fromElement)&&(bc(x)||x[_l]))break e;if((E||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,E?(x=t.relatedTarget||t.toElement,E=f,x=x?bc(x):null,x!==null&&(M=$c(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=f),E!==x)){if(C=$M,P="onMouseLeave",N="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(C=jM,P="onPointerLeave",N="onPointerEnter",S="pointer"),M=E==null?y:Qd(E),D=x==null?y:Qd(x),y=new C(P,S+"leave",E,t,v),y.target=M,y.relatedTarget=D,P=null,bc(v)===f&&(C=new C(N,S+"enter",x,t,v),C.target=D,C.relatedTarget=M,P=C),M=P,E&&x)n:{for(C=E,N=x,S=0,D=C;D;D=Pd(D))S++;for(D=0,P=N;P;P=Pd(P))D++;for(;0<S-D;)C=Pd(C),S--;for(;0<D-S;)N=Pd(N),D--;for(;S--;){if(C===N||N!==null&&C===N.alternate)break n;C=Pd(C),N=Pd(N)}C=null}else C=null;E!==null&&t5(_,y,E,C,!1),x!==null&&M!==null&&t5(_,M,x,C,!0)}}e:{if(y=f?Qd(f):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var Q=RZ;else if(KM(y))if(XP)Q=LZ;else{Q=DZ;var z=MZ}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Q=UZ);if(Q&&(Q=Q(n,f))){YP(_,Q,t,v);break e}z&&z(n,y,f),n==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&IE(y,"number",y.value)}switch(z=f?Qd(f):window,n){case"focusin":(KM(z)||z.contentEditable==="true")&&(Wd=z,BE=f,_f=null);break;case"focusout":_f=BE=Wd=null;break;case"mousedown":GE=!0;break;case"contextmenu":case"mouseup":case"dragend":GE=!1,ZM(_,t,v);break;case"selectionchange":if(HZ)break;case"keydown":case"keyup":ZM(_,t,v)}var W;if(Mx)e:{switch(n){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Vd?KP(n,t)&&(V="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(V="onCompositionStart");V&&(WP&&t.locale!=="ko"&&(Vd||V!=="onCompositionStart"?V==="onCompositionEnd"&&Vd&&(W=VP()):(su=v,Ox="value"in su?su.value:su.textContent,Vd=!0)),z=$g(f,V),0<z.length&&(V=new zM(V,n,null,t,v),_.push({event:V,listeners:z}),W?V.data=W:(W=QP(t),W!==null&&(V.data=W)))),(W=NZ?TZ(n,t):IZ(n,t))&&(f=$g(f,"onBeforeInput"),0<f.length&&(v=new zM("onBeforeInput","beforeinput",null,t,v),_.push({event:v,listeners:f}),v.data=W))}o8(_,e)})}function Gf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $g(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Uf(n,t),o!=null&&r.unshift(Gf(n,o,i)),o=Uf(n,e),o!=null&&r.push(Gf(n,o,i))),n=n.return}return r}function Pd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t5(n,e,t,r,i){for(var o=e._reactName,u=[];t!==null&&t!==r;){var d=t,h=d.alternate,f=d.stateNode;if(h!==null&&h===r)break;d.tag===5&&f!==null&&(d=f,i?(h=Uf(t,o),h!=null&&u.unshift(Gf(t,h,d))):i||(h=Uf(t,o),h!=null&&u.push(Gf(t,h,d)))),t=t.return}u.length!==0&&n.push({event:e,listeners:u})}var $Z=/\r\n?/g,zZ=/\u0000|\uFFFD/g;function r5(n){return(typeof n=="string"?n:""+n).replace($Z,`
`).replace(zZ,"")}function Km(n,e,t){if(e=r5(e),r5(n)!==e&&t)throw Error(Ge(425))}function zg(){}var $E=null,zE=null;function jE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var VE=typeof setTimeout=="function"?setTimeout:void 0,jZ=typeof clearTimeout=="function"?clearTimeout:void 0,i5=typeof Promise=="function"?Promise:void 0,VZ=typeof queueMicrotask=="function"?queueMicrotask:typeof i5<"u"?function(n){return i5.resolve(null).then(n).catch(WZ)}:VE;function WZ(n){setTimeout(function(){throw n})}function U1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ff(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ff(e)}function fu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function a5(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),ko="__reactFiber$"+Uh,$f="__reactProps$"+Uh,_l="__reactContainer$"+Uh,WE="__reactEvents$"+Uh,KZ="__reactListeners$"+Uh,QZ="__reactHandles$"+Uh;function bc(n){var e=n[ko];if(e)return e;for(var t=n.parentNode;t;){if(e=t[_l]||t[ko]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=a5(n);n!==null;){if(t=n[ko])return t;n=a5(n)}return e}n=t,t=n.parentNode}return null}function d0(n){return n=n[ko]||n[_l],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function Rv(n){return n[$f]||null}var KE=[],Yd=-1;function Au(n){return{current:n}}function vr(n){0>Yd||(n.current=KE[Yd],KE[Yd]=null,Yd--)}function dr(n,e){Yd++,KE[Yd]=n.current,n.current=e}var xu={},Ji=Au(xu),Da=Au(!1),Mc=xu;function mh(n,e){var t=n.type.contextTypes;if(!t)return xu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ua(n){return n=n.childContextTypes,n!=null}function jg(){vr(Da),vr(Ji)}function s5(n,e,t){if(Ji.current!==xu)throw Error(Ge(168));dr(Ji,e),dr(Da,t)}function u8(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,MJ(n)||"Unknown",i));return Cr({},t,r)}function Vg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xu,Mc=Ji.current,dr(Ji,n),dr(Da,Da.current),!0}function o5(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=u8(n,e,Mc),r.__reactInternalMemoizedMergedChildContext=n,vr(Da),vr(Ji),dr(Ji,n)):vr(Da),dr(Da,t)}var nl=null,Mv=!1,L1=!1;function c8(n){nl===null?nl=[n]:nl.push(n)}function YZ(n){Mv=!0,c8(n)}function Ru(){if(!L1&&nl!==null){L1=!0;var n=0,e=Kt;try{var t=nl;for(Kt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}nl=null,Mv=!1}catch(i){throw nl!==null&&(nl=nl.slice(n+1)),UP(Sx,Ru),i}finally{Kt=e,L1=!1}}return null}var Xd=[],Jd=0,Wg=null,Kg=0,ms=[],gs=0,Dc=null,cl=1,dl="";function cc(n,e){Xd[Jd++]=Kg,Xd[Jd++]=Wg,Wg=n,Kg=e}function d8(n,e,t){ms[gs++]=cl,ms[gs++]=dl,ms[gs++]=Dc,Dc=n;var r=cl;n=dl;var i=32-Qs(r)-1;r&=~(1<<i),t+=1;var o=32-Qs(e)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,cl=1<<32-Qs(e)+i|t<<i|r,dl=o+n}else cl=1<<o|t<<i|r,dl=n}function Ux(n){n.return!==null&&(cc(n,1),d8(n,1,0))}function Lx(n){for(;n===Wg;)Wg=Xd[--Jd],Xd[Jd]=null,Kg=Xd[--Jd],Xd[Jd]=null;for(;n===Dc;)Dc=ms[--gs],ms[gs]=null,dl=ms[--gs],ms[gs]=null,cl=ms[--gs],ms[gs]=null}var ns=null,es=null,Er=!1,Vs=null;function h8(n,e){var t=bs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function l5(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ns=n,es=fu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ns=n,es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Dc!==null?{id:cl,overflow:dl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=bs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ns=n,es=null,!0):!1;default:return!1}}function QE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function YE(n){if(Er){var e=es;if(e){var t=e;if(!l5(n,e)){if(QE(n))throw Error(Ge(418));e=fu(t.nextSibling);var r=ns;e&&l5(n,e)?h8(r,t):(n.flags=n.flags&-4097|2,Er=!1,ns=n)}}else{if(QE(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,Er=!1,ns=n}}}function u5(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ns=n}function Qm(n){if(n!==ns)return!1;if(!Er)return u5(n),Er=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!jE(n.type,n.memoizedProps)),e&&(e=es)){if(QE(n))throw p8(),Error(Ge(418));for(;e;)h8(n,e),e=fu(e.nextSibling)}if(u5(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){es=fu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}es=null}}else es=ns?fu(n.stateNode.nextSibling):null;return!0}function p8(){for(var n=es;n;)n=fu(n.nextSibling)}function gh(){es=ns=null,Er=!1}function Px(n){Vs===null?Vs=[n]:Vs.push(n)}var XZ=El.ReactCurrentBatchConfig;function $s(n,e){if(n&&n.defaultProps){e=Cr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Qg=Au(null),Yg=null,Zd=null,Fx=null;function Hx(){Fx=Zd=Yg=null}function qx(n){var e=Qg.current;vr(Qg),n._currentValue=e}function XE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function uh(n,e){Yg=n,Fx=Zd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Ra=!0),n.firstContext=null)}function Ss(n){var e=n._currentValue;if(Fx!==n)if(n={context:n,memoizedValue:e,next:null},Zd===null){if(Yg===null)throw Error(Ge(308));Zd=n,Yg.dependencies={lanes:0,firstContext:n}}else Zd=Zd.next=n;return e}var yc=null;function Bx(n){yc===null?yc=[n]:yc.push(n)}function f8(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Bx(e)):(t.next=i.next,i.next=t),e.interleaved=t,bl(n,r)}function bl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ru=!1;function Gx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m8(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function mu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(At&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bl(n,t)}return i=r.interleaved,i===null?(e.next=e,Bx(r)):(e.next=i.next,i.next=e),r.interleaved=e,bl(n,t)}function _g(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Nx(n,t)}}function c5(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var u={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=u:o=o.next=u,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Xg(n,e,t,r){var i=n.updateQueue;ru=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var h=d,f=h.next;h.next=null,u===null?o=f:u.next=f,u=h;var v=n.alternate;v!==null&&(v=v.updateQueue,d=v.lastBaseUpdate,d!==u&&(d===null?v.firstBaseUpdate=f:d.next=f,v.lastBaseUpdate=h))}if(o!==null){var _=i.baseState;u=0,v=f=h=null,d=o;do{var y=d.lane,E=d.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:E,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var x=n,C=d;switch(y=e,E=t,C.tag){case 1:if(x=C.payload,typeof x=="function"){_=x.call(E,_,y);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,y=typeof x=="function"?x.call(E,_,y):x,y==null)break e;_=Cr({},_,y);break e;case 2:ru=!0}}d.callback!==null&&d.lane!==0&&(n.flags|=64,y=i.effects,y===null?i.effects=[d]:y.push(d))}else E={eventTime:E,lane:y,tag:d.tag,payload:d.payload,callback:d.callback,next:null},v===null?(f=v=E,h=_):v=v.next=E,u|=y;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;y=d,d=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(v===null&&(h=_),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=v,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Lc|=u,n.lanes=u,n.memoizedState=_}}function d5(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var g8=new fP.Component().refs;function JE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Cr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Dv={isMounted:function(n){return(n=n._reactInternals)?$c(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=da(),i=vu(n),o=fl(r,i);o.payload=e,t!=null&&(o.callback=t),e=mu(n,o,i),e!==null&&(Ys(e,n,i,r),_g(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=da(),i=vu(n),o=fl(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=mu(n,o,i),e!==null&&(Ys(e,n,i,r),_g(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=da(),r=vu(n),i=fl(t,r);i.tag=2,e!=null&&(i.callback=e),e=mu(n,i,r),e!==null&&(Ys(e,n,r,t),_g(e,n,r))}};function h5(n,e,t,r,i,o,u){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,u):e.prototype&&e.prototype.isPureReactComponent?!qf(t,r)||!qf(i,o):!0}function v8(n,e,t){var r=!1,i=xu,o=e.contextType;return typeof o=="object"&&o!==null?o=Ss(o):(i=Ua(e)?Mc:Ji.current,r=e.contextTypes,o=(r=r!=null)?mh(n,i):xu),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function p5(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Dv.enqueueReplaceState(e,e.state,null)}function ZE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=g8,Gx(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ss(o):(o=Ua(e)?Mc:Ji.current,i.context=mh(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(JE(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dv.enqueueReplaceState(i,i.state,null),Xg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Wp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(u){var d=i.refs;d===g8&&(d=i.refs={}),u===null?delete d[o]:d[o]=u},e._stringRef=o,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function Ym(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function f5(n){var e=n._init;return e(n._payload)}function _8(n){function e(N,S){if(n){var D=N.deletions;D===null?(N.deletions=[S],N.flags|=16):D.push(S)}}function t(N,S){if(!n)return null;for(;S!==null;)e(N,S),S=S.sibling;return null}function r(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function i(N,S){return N=_u(N,S),N.index=0,N.sibling=null,N}function o(N,S,D){return N.index=D,n?(D=N.alternate,D!==null?(D=D.index,D<S?(N.flags|=2,S):D):(N.flags|=2,S)):(N.flags|=1048576,S)}function u(N){return n&&N.alternate===null&&(N.flags|=2),N}function d(N,S,D,P){return S===null||S.tag!==6?(S=$1(D,N.mode,P),S.return=N,S):(S=i(S,D),S.return=N,S)}function h(N,S,D,P){var Q=D.type;return Q===jd?v(N,S,D.props.children,P,D.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===tu&&f5(Q)===S.type)?(P=i(S,D.props),P.ref=Wp(N,S,D),P.return=N,P):(P=kg(D.type,D.key,D.props,null,N.mode,P),P.ref=Wp(N,S,D),P.return=N,P)}function f(N,S,D,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=z1(D,N.mode,P),S.return=N,S):(S=i(S,D.children||[]),S.return=N,S)}function v(N,S,D,P,Q){return S===null||S.tag!==7?(S=Sc(D,N.mode,P,Q),S.return=N,S):(S=i(S,D),S.return=N,S)}function _(N,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return S=$1(""+S,N.mode,D),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hm:return D=kg(S.type,S.key,S.props,null,N.mode,D),D.ref=Wp(N,null,S),D.return=N,D;case zd:return S=z1(S,N.mode,D),S.return=N,S;case tu:var P=S._init;return _(N,P(S._payload),D)}if(of(S)||Gp(S))return S=Sc(S,N.mode,D,null),S.return=N,S;Ym(N,S)}return null}function y(N,S,D,P){var Q=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return Q!==null?null:d(N,S,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Hm:return D.key===Q?h(N,S,D,P):null;case zd:return D.key===Q?f(N,S,D,P):null;case tu:return Q=D._init,y(N,S,Q(D._payload),P)}if(of(D)||Gp(D))return Q!==null?null:v(N,S,D,P,null);Ym(N,D)}return null}function E(N,S,D,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(D)||null,d(S,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hm:return N=N.get(P.key===null?D:P.key)||null,h(S,N,P,Q);case zd:return N=N.get(P.key===null?D:P.key)||null,f(S,N,P,Q);case tu:var z=P._init;return E(N,S,D,z(P._payload),Q)}if(of(P)||Gp(P))return N=N.get(D)||null,v(S,N,P,Q,null);Ym(S,P)}return null}function x(N,S,D,P){for(var Q=null,z=null,W=S,V=S=0,he=null;W!==null&&V<D.length;V++){W.index>V?(he=W,W=null):he=W.sibling;var ce=y(N,W,D[V],P);if(ce===null){W===null&&(W=he);break}n&&W&&ce.alternate===null&&e(N,W),S=o(ce,S,V),z===null?Q=ce:z.sibling=ce,z=ce,W=he}if(V===D.length)return t(N,W),Er&&cc(N,V),Q;if(W===null){for(;V<D.length;V++)W=_(N,D[V],P),W!==null&&(S=o(W,S,V),z===null?Q=W:z.sibling=W,z=W);return Er&&cc(N,V),Q}for(W=r(N,W);V<D.length;V++)he=E(W,N,V,D[V],P),he!==null&&(n&&he.alternate!==null&&W.delete(he.key===null?V:he.key),S=o(he,S,V),z===null?Q=he:z.sibling=he,z=he);return n&&W.forEach(function(Ee){return e(N,Ee)}),Er&&cc(N,V),Q}function C(N,S,D,P){var Q=Gp(D);if(typeof Q!="function")throw Error(Ge(150));if(D=Q.call(D),D==null)throw Error(Ge(151));for(var z=Q=null,W=S,V=S=0,he=null,ce=D.next();W!==null&&!ce.done;V++,ce=D.next()){W.index>V?(he=W,W=null):he=W.sibling;var Ee=y(N,W,ce.value,P);if(Ee===null){W===null&&(W=he);break}n&&W&&Ee.alternate===null&&e(N,W),S=o(Ee,S,V),z===null?Q=Ee:z.sibling=Ee,z=Ee,W=he}if(ce.done)return t(N,W),Er&&cc(N,V),Q;if(W===null){for(;!ce.done;V++,ce=D.next())ce=_(N,ce.value,P),ce!==null&&(S=o(ce,S,V),z===null?Q=ce:z.sibling=ce,z=ce);return Er&&cc(N,V),Q}for(W=r(N,W);!ce.done;V++,ce=D.next())ce=E(W,N,V,ce.value,P),ce!==null&&(n&&ce.alternate!==null&&W.delete(ce.key===null?V:ce.key),S=o(ce,S,V),z===null?Q=ce:z.sibling=ce,z=ce);return n&&W.forEach(function(Ne){return e(N,Ne)}),Er&&cc(N,V),Q}function M(N,S,D,P){if(typeof D=="object"&&D!==null&&D.type===jd&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Hm:e:{for(var Q=D.key,z=S;z!==null;){if(z.key===Q){if(Q=D.type,Q===jd){if(z.tag===7){t(N,z.sibling),S=i(z,D.props.children),S.return=N,N=S;break e}}else if(z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===tu&&f5(Q)===z.type){t(N,z.sibling),S=i(z,D.props),S.ref=Wp(N,z,D),S.return=N,N=S;break e}t(N,z);break}else e(N,z);z=z.sibling}D.type===jd?(S=Sc(D.props.children,N.mode,P,D.key),S.return=N,N=S):(P=kg(D.type,D.key,D.props,null,N.mode,P),P.ref=Wp(N,S,D),P.return=N,N=P)}return u(N);case zd:e:{for(z=D.key;S!==null;){if(S.key===z)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){t(N,S.sibling),S=i(S,D.children||[]),S.return=N,N=S;break e}else{t(N,S);break}else e(N,S);S=S.sibling}S=z1(D,N.mode,P),S.return=N,N=S}return u(N);case tu:return z=D._init,M(N,S,z(D._payload),P)}if(of(D))return x(N,S,D,P);if(Gp(D))return C(N,S,D,P);Ym(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,S!==null&&S.tag===6?(t(N,S.sibling),S=i(S,D),S.return=N,N=S):(t(N,S),S=$1(D,N.mode,P),S.return=N,N=S),u(N)):t(N,S)}return M}var vh=_8(!0),b8=_8(!1),h0={},To=Au(h0),zf=Au(h0),jf=Au(h0);function Ec(n){if(n===h0)throw Error(Ge(174));return n}function $x(n,e){switch(dr(jf,e),dr(zf,n),dr(To,h0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=AE(e,n)}vr(To),dr(To,e)}function _h(){vr(To),vr(zf),vr(jf)}function y8(n){Ec(jf.current);var e=Ec(To.current),t=AE(e,n.type);e!==t&&(dr(zf,n),dr(To,t))}function zx(n){zf.current===n&&(vr(To),vr(zf))}var xr=Au(0);function Jg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P1=[];function jx(){for(var n=0;n<P1.length;n++)P1[n]._workInProgressVersionPrimary=null;P1.length=0}var bg=El.ReactCurrentDispatcher,F1=El.ReactCurrentBatchConfig,Uc=0,kr=null,Jr=null,li=null,Zg=!1,bf=!1,Vf=0,JZ=0;function ji(){throw Error(Ge(321))}function Vx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Js(n[t],e[t]))return!1;return!0}function Wx(n,e,t,r,i,o){if(Uc=o,kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bg.current=n===null||n.memoizedState===null?tee:ree,n=t(r,i),bf){o=0;do{if(bf=!1,Vf=0,25<=o)throw Error(Ge(301));o+=1,li=Jr=null,e.updateQueue=null,bg.current=iee,n=t(r,i)}while(bf)}if(bg.current=ev,e=Jr!==null&&Jr.next!==null,Uc=0,li=Jr=kr=null,Zg=!1,e)throw Error(Ge(300));return n}function Kx(){var n=Vf!==0;return Vf=0,n}function Eo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?kr.memoizedState=li=n:li=li.next=n,li}function Ns(){if(Jr===null){var n=kr.alternate;n=n!==null?n.memoizedState:null}else n=Jr.next;var e=li===null?kr.memoizedState:li.next;if(e!==null)li=e,Jr=n;else{if(n===null)throw Error(Ge(310));Jr=n,n={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},li===null?kr.memoizedState=li=n:li=li.next=n}return li}function Wf(n,e){return typeof e=="function"?e(n):e}function H1(n){var e=Ns(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=Jr,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=u=null,h=null,f=o;do{var v=f.lane;if((Uc&v)===v)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:n(r,f.action);else{var _={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(d=h=_,u=r):h=h.next=_,kr.lanes|=v,Lc|=v}f=f.next}while(f!==null&&f!==o);h===null?u=r:h.next=d,Js(r,e.memoizedState)||(Ra=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=h,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,kr.lanes|=o,Lc|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function q1(n){var e=Ns(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var u=i=i.next;do o=n(o,u.action),u=u.next;while(u!==i);Js(o,e.memoizedState)||(Ra=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function E8(){}function w8(n,e){var t=kr,r=Ns(),i=e(),o=!Js(r.memoizedState,i);if(o&&(r.memoizedState=i,Ra=!0),r=r.queue,Qx(C8.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||li!==null&&li.memoizedState.tag&1){if(t.flags|=2048,Kf(9,k8.bind(null,t,r,i,e),void 0,null),hi===null)throw Error(Ge(349));(Uc&30)!==0||x8(t,e,i)}return i}function x8(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function k8(n,e,t,r){e.value=t,e.getSnapshot=r,S8(e)&&N8(n)}function C8(n,e,t){return t(function(){S8(e)&&N8(n)})}function S8(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Js(n,t)}catch{return!0}}function N8(n){var e=bl(n,1);e!==null&&Ys(e,n,1,-1)}function m5(n){var e=Eo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:n},e.queue=n,n=n.dispatch=nee.bind(null,kr,n),[e.memoizedState,n]}function Kf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function T8(){return Ns().memoizedState}function yg(n,e,t,r){var i=Eo();kr.flags|=n,i.memoizedState=Kf(1|e,t,void 0,r===void 0?null:r)}function Uv(n,e,t,r){var i=Ns();r=r===void 0?null:r;var o=void 0;if(Jr!==null){var u=Jr.memoizedState;if(o=u.destroy,r!==null&&Vx(r,u.deps)){i.memoizedState=Kf(e,t,o,r);return}}kr.flags|=n,i.memoizedState=Kf(1|e,t,o,r)}function g5(n,e){return yg(8390656,8,n,e)}function Qx(n,e){return Uv(2048,8,n,e)}function I8(n,e){return Uv(4,2,n,e)}function O8(n,e){return Uv(4,4,n,e)}function A8(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function R8(n,e,t){return t=t!=null?t.concat([n]):null,Uv(4,4,A8.bind(null,e,n),t)}function Yx(){}function M8(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Vx(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function D8(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Vx(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function U8(n,e,t){return(Uc&21)===0?(n.baseState&&(n.baseState=!1,Ra=!0),n.memoizedState=t):(Js(t,e)||(t=FP(),kr.lanes|=t,Lc|=t,n.baseState=!0),e)}function ZZ(n,e){var t=Kt;Kt=t!==0&&4>t?t:4,n(!0);var r=F1.transition;F1.transition={};try{n(!1),e()}finally{Kt=t,F1.transition=r}}function L8(){return Ns().memoizedState}function eee(n,e,t){var r=vu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},P8(n))F8(e,t);else if(t=f8(n,e,t,r),t!==null){var i=da();Ys(t,n,r,i),H8(t,e,r)}}function nee(n,e,t){var r=vu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(P8(n))F8(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,d=o(u,t);if(i.hasEagerState=!0,i.eagerState=d,Js(d,u)){var h=e.interleaved;h===null?(i.next=i,Bx(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}t=f8(n,e,i,r),t!==null&&(i=da(),Ys(t,n,r,i),H8(t,e,r))}}function P8(n){var e=n.alternate;return n===kr||e!==null&&e===kr}function F8(n,e){bf=Zg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function H8(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Nx(n,t)}}var ev={readContext:Ss,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},tee={readContext:Ss,useCallback:function(n,e){return Eo().memoizedState=[n,e===void 0?null:e],n},useContext:Ss,useEffect:g5,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,yg(4194308,4,A8.bind(null,e,n),t)},useLayoutEffect:function(n,e){return yg(4194308,4,n,e)},useInsertionEffect:function(n,e){return yg(4,2,n,e)},useMemo:function(n,e){var t=Eo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Eo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=eee.bind(null,kr,n),[r.memoizedState,n]},useRef:function(n){var e=Eo();return n={current:n},e.memoizedState=n},useState:m5,useDebugValue:Yx,useDeferredValue:function(n){return Eo().memoizedState=n},useTransition:function(){var n=m5(!1),e=n[0];return n=ZZ.bind(null,n[1]),Eo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=kr,i=Eo();if(Er){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),hi===null)throw Error(Ge(349));(Uc&30)!==0||x8(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,g5(C8.bind(null,r,o,n),[n]),r.flags|=2048,Kf(9,k8.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Eo(),e=hi.identifierPrefix;if(Er){var t=dl,r=cl;t=(r&~(1<<32-Qs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Vf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=JZ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ree={readContext:Ss,useCallback:M8,useContext:Ss,useEffect:Qx,useImperativeHandle:R8,useInsertionEffect:I8,useLayoutEffect:O8,useMemo:D8,useReducer:H1,useRef:T8,useState:function(){return H1(Wf)},useDebugValue:Yx,useDeferredValue:function(n){var e=Ns();return U8(e,Jr.memoizedState,n)},useTransition:function(){var n=H1(Wf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:E8,useSyncExternalStore:w8,useId:L8,unstable_isNewReconciler:!1},iee={readContext:Ss,useCallback:M8,useContext:Ss,useEffect:Qx,useImperativeHandle:R8,useInsertionEffect:I8,useLayoutEffect:O8,useMemo:D8,useReducer:q1,useRef:T8,useState:function(){return q1(Wf)},useDebugValue:Yx,useDeferredValue:function(n){var e=Ns();return Jr===null?e.memoizedState=n:U8(e,Jr.memoizedState,n)},useTransition:function(){var n=q1(Wf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:E8,useSyncExternalStore:w8,useId:L8,unstable_isNewReconciler:!1};function bh(n,e){try{var t="",r=e;do t+=RJ(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function B1(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function e2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var aee=typeof WeakMap=="function"?WeakMap:Map;function q8(n,e,t){t=fl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){tv||(tv=!0,c2=r),e2(n,e)},t}function B8(n,e,t){t=fl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){e2(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){e2(n,e),typeof r!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),t}function v5(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new aee;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=bee.bind(null,n,e,t),e.then(n,n))}function _5(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function b5(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=fl(-1,1),e.tag=2,mu(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var see=El.ReactCurrentOwner,Ra=!1;function oa(n,e,t,r){e.child=n===null?b8(e,null,t,r):vh(e,n.child,t,r)}function y5(n,e,t,r,i){t=t.render;var o=e.ref;return uh(e,i),r=Wx(n,e,t,r,o,i),t=Kx(),n!==null&&!Ra?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yl(n,e,i)):(Er&&t&&Ux(e),e.flags|=1,oa(n,e,r,i),e.child)}function E5(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!i3(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,G8(n,e,o,r,i)):(n=kg(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,(n.lanes&i)===0){var u=o.memoizedProps;if(t=t.compare,t=t!==null?t:qf,t(u,r)&&n.ref===e.ref)return yl(n,e,i)}return e.flags|=1,n=_u(o,r),n.ref=e.ref,n.return=e,e.child=n}function G8(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(qf(o,r)&&n.ref===e.ref)if(Ra=!1,e.pendingProps=r=o,(n.lanes&i)!==0)(n.flags&131072)!==0&&(Ra=!0);else return e.lanes=n.lanes,yl(n,e,i)}return n2(n,e,t,r,i)}function $8(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(nh,Ja),Ja|=t;else{if((t&1073741824)===0)return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,dr(nh,Ja),Ja|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,dr(nh,Ja),Ja|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,dr(nh,Ja),Ja|=r;return oa(n,e,i,t),e.child}function z8(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function n2(n,e,t,r,i){var o=Ua(t)?Mc:Ji.current;return o=mh(e,o),uh(e,i),t=Wx(n,e,t,r,o,i),r=Kx(),n!==null&&!Ra?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yl(n,e,i)):(Er&&r&&Ux(e),e.flags|=1,oa(n,e,t,i),e.child)}function w5(n,e,t,r,i){if(Ua(t)){var o=!0;Vg(e)}else o=!1;if(uh(e,i),e.stateNode===null)Eg(n,e),v8(e,t,r),ZE(e,t,r,i),r=!0;else if(n===null){var u=e.stateNode,d=e.memoizedProps;u.props=d;var h=u.context,f=t.contextType;typeof f=="object"&&f!==null?f=Ss(f):(f=Ua(t)?Mc:Ji.current,f=mh(e,f));var v=t.getDerivedStateFromProps,_=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==r||h!==f)&&p5(e,u,r,f),ru=!1;var y=e.memoizedState;u.state=y,Xg(e,r,u,i),h=e.memoizedState,d!==r||y!==h||Da.current||ru?(typeof v=="function"&&(JE(e,t,v,r),h=e.memoizedState),(d=ru||h5(e,t,d,r,y,h,f))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),u.props=r,u.state=h,u.context=f,r=d):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,m8(n,e),d=e.memoizedProps,f=e.type===e.elementType?d:$s(e.type,d),u.props=f,_=e.pendingProps,y=u.context,h=t.contextType,typeof h=="object"&&h!==null?h=Ss(h):(h=Ua(t)?Mc:Ji.current,h=mh(e,h));var E=t.getDerivedStateFromProps;(v=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==_||y!==h)&&p5(e,u,r,h),ru=!1,y=e.memoizedState,u.state=y,Xg(e,r,u,i);var x=e.memoizedState;d!==_||y!==x||Da.current||ru?(typeof E=="function"&&(JE(e,t,E,r),x=e.memoizedState),(f=ru||h5(e,t,f,r,y,x,h)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,h)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===n.memoizedProps&&y===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&y===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),u.props=r,u.state=x,u.context=h,r=f):(typeof u.componentDidUpdate!="function"||d===n.memoizedProps&&y===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&y===n.memoizedState||(e.flags|=1024),r=!1)}return t2(n,e,t,r,o,i)}function t2(n,e,t,r,i,o){z8(n,e);var u=(e.flags&128)!==0;if(!r&&!u)return i&&o5(e,t,!1),yl(n,e,o);r=e.stateNode,see.current=e;var d=u&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&u?(e.child=vh(e,n.child,null,o),e.child=vh(e,null,d,o)):oa(n,e,d,o),e.memoizedState=r.state,i&&o5(e,t,!0),e.child}function j8(n){var e=n.stateNode;e.pendingContext?s5(n,e.pendingContext,e.pendingContext!==e.context):e.context&&s5(n,e.context,!1),$x(n,e.containerInfo)}function x5(n,e,t,r,i){return gh(),Px(i),e.flags|=256,oa(n,e,t,r),e.child}var r2={dehydrated:null,treeContext:null,retryLane:0};function i2(n){return{baseLanes:n,cachePool:null,transitions:null}}function V8(n,e,t){var r=e.pendingProps,i=xr.current,o=!1,u=(e.flags&128)!==0,d;if((d=u)||(d=n!==null&&n.memoizedState===null?!1:(i&2)!==0),d?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),dr(xr,i&1),n===null)return YE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(u=r.children,n=r.fallback,o?(r=e.mode,o=e.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=Fv(u,r,0,null),n=Sc(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=i2(t),e.memoizedState=r2,n):Xx(e,u));if(i=n.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return oee(n,e,u,r,d,i,t);if(o){o=r.fallback,u=e.mode,i=n.child,d=i.sibling;var h={mode:"hidden",children:r.children};return(u&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=_u(i,h),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=_u(d,o):(o=Sc(o,u,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,u=n.child.memoizedState,u=u===null?i2(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=n.childLanes&~t,e.memoizedState=r2,r}return o=n.child,n=o.sibling,r=_u(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Xx(n,e){return e=Fv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Xm(n,e,t,r){return r!==null&&Px(r),vh(e,n.child,null,t),n=Xx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function oee(n,e,t,r,i,o,u){if(t)return e.flags&256?(e.flags&=-257,r=B1(Error(Ge(422))),Xm(n,e,u,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fv({mode:"visible",children:r.children},i,0,null),o=Sc(o,i,u,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&vh(e,n.child,null,u),e.child.memoizedState=i2(u),e.memoizedState=r2,o);if((e.mode&1)===0)return Xm(n,e,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(Ge(419)),r=B1(o,r,void 0),Xm(n,e,u,r)}if(d=(u&n.childLanes)!==0,Ra||d){if(r=hi,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|u))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bl(n,i),Ys(r,n,i,-1))}return r3(),r=B1(Error(Ge(421))),Xm(n,e,u,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=yee.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,es=fu(i.nextSibling),ns=e,Er=!0,Vs=null,n!==null&&(ms[gs++]=cl,ms[gs++]=dl,ms[gs++]=Dc,cl=n.id,dl=n.overflow,Dc=e),e=Xx(e,r.children),e.flags|=4096,e)}function k5(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),XE(n.return,e,t)}function G1(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function W8(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(oa(n,e,r.children,t),r=xr.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&k5(n,t,e);else if(n.tag===19)k5(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(dr(xr,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Jg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),G1(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Jg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}G1(e,!0,t,null,o);break;case"together":G1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eg(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function yl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Lc|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=_u(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=_u(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function lee(n,e,t){switch(e.tag){case 3:j8(e),gh();break;case 5:y8(e);break;case 1:Ua(e.type)&&Vg(e);break;case 4:$x(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dr(Qg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dr(xr,xr.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?V8(n,e,t):(dr(xr,xr.current&1),n=yl(n,e,t),n!==null?n.sibling:null);dr(xr,xr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return W8(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dr(xr,xr.current),r)break;return null;case 22:case 23:return e.lanes=0,$8(n,e,t)}return yl(n,e,t)}var K8,a2,Q8,Y8;K8=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};a2=function(){};Q8=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ec(To.current);var o=null;switch(t){case"input":i=NE(n,i),r=NE(n,r),o=[];break;case"select":i=Cr({},i,{value:void 0}),r=Cr({},r,{value:void 0}),o=[];break;case"textarea":i=OE(n,i),r=OE(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=zg)}RE(t,r);var u;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var d=i[f];for(u in d)d.hasOwnProperty(u)&&(t||(t={}),t[u]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Mf.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(d=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==d&&(h!=null||d!=null))if(f==="style")if(d){for(u in d)!d.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(t||(t={}),t[u]="");for(u in h)h.hasOwnProperty(u)&&d[u]!==h[u]&&(t||(t={}),t[u]=h[u])}else t||(o||(o=[]),o.push(f,t)),t=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Mf.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&gr("scroll",n),o||d===h||(o=[])):(o=o||[]).push(f,h))}t&&(o=o||[]).push("style",t);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Y8=function(n,e,t,r){t!==r&&(e.flags|=4)};function Kp(n,e){if(!Er)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Vi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function uee(n,e,t){var r=e.pendingProps;switch(Lx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(e),null;case 1:return Ua(e.type)&&jg(),Vi(e),null;case 3:return r=e.stateNode,_h(),vr(Da),vr(Ji),jx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Qm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Vs!==null&&(p2(Vs),Vs=null))),a2(n,e),Vi(e),null;case 5:zx(e);var i=Ec(jf.current);if(t=e.type,n!==null&&e.stateNode!=null)Q8(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Vi(e),null}if(n=Ec(To.current),Qm(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[ko]=e,r[$f]=o,n=(e.mode&1)!==0,t){case"dialog":gr("cancel",r),gr("close",r);break;case"iframe":case"object":case"embed":gr("load",r);break;case"video":case"audio":for(i=0;i<uf.length;i++)gr(uf[i],r);break;case"source":gr("error",r);break;case"img":case"image":case"link":gr("error",r),gr("load",r);break;case"details":gr("toggle",r);break;case"input":MM(r,o),gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gr("invalid",r);break;case"textarea":UM(r,o),gr("invalid",r)}RE(t,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var d=o[u];u==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&Km(r.textContent,d,n),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Km(r.textContent,d,n),i=["children",""+d]):Mf.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&gr("scroll",r)}switch(t){case"input":qm(r),DM(r,o,!0);break;case"textarea":qm(r),LM(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=xP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=u.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=u.createElement(t,{is:r.is}):(n=u.createElement(t),t==="select"&&(u=n,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):n=u.createElementNS(n,t),n[ko]=e,n[$f]=r,K8(n,e,!1,!1),e.stateNode=n;e:{switch(u=ME(t,r),t){case"dialog":gr("cancel",n),gr("close",n),i=r;break;case"iframe":case"object":case"embed":gr("load",n),i=r;break;case"video":case"audio":for(i=0;i<uf.length;i++)gr(uf[i],n);i=r;break;case"source":gr("error",n),i=r;break;case"img":case"image":case"link":gr("error",n),gr("load",n),i=r;break;case"details":gr("toggle",n),i=r;break;case"input":MM(n,r),i=NE(n,r),gr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Cr({},r,{value:void 0}),gr("invalid",n);break;case"textarea":UM(n,r),i=OE(n,r),gr("invalid",n);break;default:i=r}RE(t,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var h=d[o];o==="style"?SP(n,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&kP(n,h)):o==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&Df(n,h):typeof h=="number"&&Df(n,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mf.hasOwnProperty(o)?h!=null&&o==="onScroll"&&gr("scroll",n):h!=null&&Ex(n,o,h,u))}switch(t){case"input":qm(n),DM(n,r,!1);break;case"textarea":qm(n),LM(n);break;case"option":r.value!=null&&n.setAttribute("value",""+wu(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?ah(n,!!r.multiple,o,!1):r.defaultValue!=null&&ah(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=zg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vi(e),null;case 6:if(n&&e.stateNode!=null)Y8(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=Ec(jf.current),Ec(To.current),Qm(e)){if(r=e.stateNode,t=e.memoizedProps,r[ko]=e,(o=r.nodeValue!==t)&&(n=ns,n!==null))switch(n.tag){case 3:Km(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Km(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ko]=e,e.stateNode=r}return Vi(e),null;case 13:if(vr(xr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Er&&es!==null&&(e.mode&1)!==0&&(e.flags&128)===0)p8(),gh(),e.flags|=98560,o=!1;else if(o=Qm(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Ge(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[ko]=e}else gh(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Vi(e),o=!1}else Vs!==null&&(p2(Vs),Vs=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(xr.current&1)!==0?ei===0&&(ei=3):r3())),e.updateQueue!==null&&(e.flags|=4),Vi(e),null);case 4:return _h(),a2(n,e),n===null&&Bf(e.stateNode.containerInfo),Vi(e),null;case 10:return qx(e.type._context),Vi(e),null;case 17:return Ua(e.type)&&jg(),Vi(e),null;case 19:if(vr(xr),o=e.memoizedState,o===null)return Vi(e),null;if(r=(e.flags&128)!==0,u=o.rendering,u===null)if(r)Kp(o,!1);else{if(ei!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(u=Jg(n),u!==null){for(e.flags|=128,Kp(o,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,n=u.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return dr(xr,xr.current&1|2),e.child}n=n.sibling}o.tail!==null&&Br()>yh&&(e.flags|=128,r=!0,Kp(o,!1),e.lanes=4194304)}else{if(!r)if(n=Jg(u),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Kp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Er)return Vi(e),null}else 2*Br()-o.renderingStartTime>yh&&t!==1073741824&&(e.flags|=128,r=!0,Kp(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(t=o.last,t!==null?t.sibling=u:e.child=u,o.last=u)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Br(),e.sibling=null,t=xr.current,dr(xr,r?t&1|2:t&1),e):(Vi(e),null);case 22:case 23:return t3(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Ja&1073741824)!==0&&(Vi(e),e.subtreeFlags&6&&(e.flags|=8192)):Vi(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function cee(n,e){switch(Lx(e),e.tag){case 1:return Ua(e.type)&&jg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return _h(),vr(Da),vr(Ji),jx(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return zx(e),null;case 13:if(vr(xr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));gh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vr(xr),null;case 4:return _h(),null;case 10:return qx(e.type._context),null;case 22:case 23:return t3(),null;case 24:return null;default:return null}}var Jm=!1,Yi=!1,dee=typeof WeakSet=="function"?WeakSet:Set,cn=null;function eh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Nr(n,e,r)}else t.current=null}function s2(n,e,t){try{t()}catch(r){Nr(n,e,r)}}var C5=!1;function hee(n,e){if($E=Bg,n=e8(),Dx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var u=0,d=-1,h=-1,f=0,v=0,_=n,y=null;n:for(;;){for(var E;_!==t||i!==0&&_.nodeType!==3||(d=u+i),_!==o||r!==0&&_.nodeType!==3||(h=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(E=_.firstChild)!==null;)y=_,_=E;for(;;){if(_===n)break n;if(y===t&&++f===i&&(d=u),y===o&&++v===r&&(h=u),(E=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=E}t=d===-1||h===-1?null:{start:d,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(zE={focusedElem:n,selectionRange:t},Bg=!1,cn=e;cn!==null;)if(e=cn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,cn=n;else for(;cn!==null;){e=cn;try{var x=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,M=x.memoizedState,N=e.stateNode,S=N.getSnapshotBeforeUpdate(e.elementType===e.type?C:$s(e.type,C),M);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(P){Nr(e,e.return,P)}if(n=e.sibling,n!==null){n.return=e.return,cn=n;break}cn=e.return}return x=C5,C5=!1,x}function yf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&s2(e,t,o)}i=i.next}while(i!==r)}}function Lv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function o2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function X8(n){var e=n.alternate;e!==null&&(n.alternate=null,X8(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ko],delete e[$f],delete e[WE],delete e[KZ],delete e[QZ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function J8(n){return n.tag===5||n.tag===3||n.tag===4}function S5(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||J8(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function l2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=zg));else if(r!==4&&(n=n.child,n!==null))for(l2(n,e,t),n=n.sibling;n!==null;)l2(n,e,t),n=n.sibling}function u2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(u2(n,e,t),n=n.sibling;n!==null;)u2(n,e,t),n=n.sibling}var Oi=null,zs=!1;function Yl(n,e,t){for(t=t.child;t!==null;)Z8(n,e,t),t=t.sibling}function Z8(n,e,t){if(No&&typeof No.onCommitFiberUnmount=="function")try{No.onCommitFiberUnmount(Tv,t)}catch{}switch(t.tag){case 5:Yi||eh(t,e);case 6:var r=Oi,i=zs;Oi=null,Yl(n,e,t),Oi=r,zs=i,Oi!==null&&(zs?(n=Oi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Oi.removeChild(t.stateNode));break;case 18:Oi!==null&&(zs?(n=Oi,t=t.stateNode,n.nodeType===8?U1(n.parentNode,t):n.nodeType===1&&U1(n,t),Ff(n)):U1(Oi,t.stateNode));break;case 4:r=Oi,i=zs,Oi=t.stateNode.containerInfo,zs=!0,Yl(n,e,t),Oi=r,zs=i;break;case 0:case 11:case 14:case 15:if(!Yi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&s2(t,e,u),i=i.next}while(i!==r)}Yl(n,e,t);break;case 1:if(!Yi&&(eh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(d){Nr(t,e,d)}Yl(n,e,t);break;case 21:Yl(n,e,t);break;case 22:t.mode&1?(Yi=(r=Yi)||t.memoizedState!==null,Yl(n,e,t),Yi=r):Yl(n,e,t);break;default:Yl(n,e,t)}}function N5(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new dee),e.forEach(function(r){var i=Eee.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Bs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,u=e,d=u;e:for(;d!==null;){switch(d.tag){case 5:Oi=d.stateNode,zs=!1;break e;case 3:Oi=d.stateNode.containerInfo,zs=!0;break e;case 4:Oi=d.stateNode.containerInfo,zs=!0;break e}d=d.return}if(Oi===null)throw Error(Ge(160));Z8(o,u,i),Oi=null,zs=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){Nr(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e7(e,n),e=e.sibling}function e7(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bs(e,n),vo(n),r&4){try{yf(3,n,n.return),Lv(3,n)}catch(C){Nr(n,n.return,C)}try{yf(5,n,n.return)}catch(C){Nr(n,n.return,C)}}break;case 1:Bs(e,n),vo(n),r&512&&t!==null&&eh(t,t.return);break;case 5:if(Bs(e,n),vo(n),r&512&&t!==null&&eh(t,t.return),n.flags&32){var i=n.stateNode;try{Df(i,"")}catch(C){Nr(n,n.return,C)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,u=t!==null?t.memoizedProps:o,d=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&EP(i,o),ME(d,u);var f=ME(d,o);for(u=0;u<h.length;u+=2){var v=h[u],_=h[u+1];v==="style"?SP(i,_):v==="dangerouslySetInnerHTML"?kP(i,_):v==="children"?Df(i,_):Ex(i,v,_,f)}switch(d){case"input":TE(i,o);break;case"textarea":wP(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?ah(i,!!o.multiple,E,!1):y!==!!o.multiple&&(o.defaultValue!=null?ah(i,!!o.multiple,o.defaultValue,!0):ah(i,!!o.multiple,o.multiple?[]:"",!1))}i[$f]=o}catch(C){Nr(n,n.return,C)}}break;case 6:if(Bs(e,n),vo(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(C){Nr(n,n.return,C)}}break;case 3:if(Bs(e,n),vo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ff(e.containerInfo)}catch(C){Nr(n,n.return,C)}break;case 4:Bs(e,n),vo(n);break;case 13:Bs(e,n),vo(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(e3=Br())),r&4&&N5(n);break;case 22:if(v=t!==null&&t.memoizedState!==null,n.mode&1?(Yi=(f=Yi)||v,Bs(e,n),Yi=f):Bs(e,n),vo(n),r&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!v&&(n.mode&1)!==0)for(cn=n,v=n.child;v!==null;){for(_=cn=v;cn!==null;){switch(y=cn,E=y.child,y.tag){case 0:case 11:case 14:case 15:yf(4,y,y.return);break;case 1:eh(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,t=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(C){Nr(r,t,C)}}break;case 5:eh(y,y.return);break;case 22:if(y.memoizedState!==null){I5(_);continue}}E!==null?(E.return=y,cn=E):I5(_)}v=v.sibling}e:for(v=null,_=n;;){if(_.tag===5){if(v===null){v=_;try{i=_.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=_.stateNode,h=_.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=CP("display",u))}catch(C){Nr(n,n.return,C)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(C){Nr(n,n.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===n)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Bs(e,n),vo(n),r&4&&N5(n);break;case 21:break;default:Bs(e,n),vo(n)}}function vo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(J8(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Df(i,""),r.flags&=-33);var o=S5(n);u2(n,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,d=S5(n);l2(n,d,u);break;default:throw Error(Ge(161))}}catch(h){Nr(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function pee(n,e,t){cn=n,n7(n)}function n7(n,e,t){for(var r=(n.mode&1)!==0;cn!==null;){var i=cn,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Jm;if(!u){var d=i.alternate,h=d!==null&&d.memoizedState!==null||Yi;d=Jm;var f=Yi;if(Jm=u,(Yi=h)&&!f)for(cn=i;cn!==null;)u=cn,h=u.child,u.tag===22&&u.memoizedState!==null?O5(i):h!==null?(h.return=u,cn=h):O5(i);for(;o!==null;)cn=o,n7(o),o=o.sibling;cn=i,Jm=d,Yi=f}T5(n)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,cn=o):T5(n)}}function T5(n){for(;cn!==null;){var e=cn;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Yi||Lv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yi)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:$s(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&d5(e,o,r);break;case 3:var u=e.updateQueue;if(u!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}d5(e,u,t)}break;case 5:var d=e.stateNode;if(t===null&&e.flags&4){t=d;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&Ff(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Yi||e.flags&512&&o2(e)}catch(y){Nr(e,e.return,y)}}if(e===n){cn=null;break}if(t=e.sibling,t!==null){t.return=e.return,cn=t;break}cn=e.return}}function I5(n){for(;cn!==null;){var e=cn;if(e===n){cn=null;break}var t=e.sibling;if(t!==null){t.return=e.return,cn=t;break}cn=e.return}}function O5(n){for(;cn!==null;){var e=cn;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Lv(4,e)}catch(h){Nr(e,t,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){Nr(e,i,h)}}var o=e.return;try{o2(e)}catch(h){Nr(e,o,h)}break;case 5:var u=e.return;try{o2(e)}catch(h){Nr(e,u,h)}}}catch(h){Nr(e,e.return,h)}if(e===n){cn=null;break}var d=e.sibling;if(d!==null){d.return=e.return,cn=d;break}cn=e.return}}var fee=Math.ceil,nv=El.ReactCurrentDispatcher,Jx=El.ReactCurrentOwner,Cs=El.ReactCurrentBatchConfig,At=0,hi=null,Kr=null,Di=0,Ja=0,nh=Au(0),ei=0,Qf=null,Lc=0,Pv=0,Zx=0,Ef=null,Ia=null,e3=0,yh=1/0,Zo=null,tv=!1,c2=null,gu=null,Zm=!1,ou=null,rv=0,wf=0,d2=null,wg=-1,xg=0;function da(){return(At&6)!==0?Br():wg!==-1?wg:wg=Br()}function vu(n){return(n.mode&1)===0?1:(At&2)!==0&&Di!==0?Di&-Di:XZ.transition!==null?(xg===0&&(xg=FP()),xg):(n=Kt,n!==0||(n=window.event,n=n===void 0?16:jP(n.type)),n)}function Ys(n,e,t,r){if(50<wf)throw wf=0,d2=null,Error(Ge(185));u0(n,t,r),((At&2)===0||n!==hi)&&(n===hi&&((At&2)===0&&(Pv|=t),ei===4&&au(n,Di)),La(n,r),t===1&&At===0&&(e.mode&1)===0&&(yh=Br()+500,Mv&&Ru()))}function La(n,e){var t=n.callbackNode;XJ(n,e);var r=qg(n,n===hi?Di:0);if(r===0)t!==null&&HM(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&HM(t),e===1)n.tag===0?YZ(A5.bind(null,n)):c8(A5.bind(null,n)),VZ(function(){(At&6)===0&&Ru()}),t=null;else{switch(HP(r)){case 1:t=Sx;break;case 4:t=LP;break;case 16:t=Hg;break;case 536870912:t=PP;break;default:t=Hg}t=u7(t,t7.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function t7(n,e){if(wg=-1,xg=0,(At&6)!==0)throw Error(Ge(327));var t=n.callbackNode;if(ch()&&n.callbackNode!==t)return null;var r=qg(n,n===hi?Di:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=iv(n,r);else{e=r;var i=At;At|=2;var o=i7();(hi!==n||Di!==e)&&(Zo=null,yh=Br()+500,Cc(n,e));do try{vee();break}catch(d){r7(n,d)}while(1);Hx(),nv.current=o,At=i,Kr!==null?e=0:(hi=null,Di=0,e=ei)}if(e!==0){if(e===2&&(i=FE(n),i!==0&&(r=i,e=h2(n,i))),e===1)throw t=Qf,Cc(n,0),au(n,r),La(n,Br()),t;if(e===6)au(n,r);else{if(i=n.current.alternate,(r&30)===0&&!mee(i)&&(e=iv(n,r),e===2&&(o=FE(n),o!==0&&(r=o,e=h2(n,o))),e===1))throw t=Qf,Cc(n,0),au(n,r),La(n,Br()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:dc(n,Ia,Zo);break;case 3:if(au(n,r),(r&130023424)===r&&(e=e3+500-Br(),10<e)){if(qg(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){da(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=VE(dc.bind(null,n,Ia,Zo),e);break}dc(n,Ia,Zo);break;case 4:if(au(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var u=31-Qs(r);o=1<<u,u=e[u],u>i&&(i=u),r&=~o}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fee(r/1960))-r,10<r){n.timeoutHandle=VE(dc.bind(null,n,Ia,Zo),r);break}dc(n,Ia,Zo);break;case 5:dc(n,Ia,Zo);break;default:throw Error(Ge(329))}}}return La(n,Br()),n.callbackNode===t?t7.bind(null,n):null}function h2(n,e){var t=Ef;return n.current.memoizedState.isDehydrated&&(Cc(n,e).flags|=256),n=iv(n,e),n!==2&&(e=Ia,Ia=t,e!==null&&p2(e)),n}function p2(n){Ia===null?Ia=n:Ia.push.apply(Ia,n)}function mee(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Js(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function au(n,e){for(e&=~Zx,e&=~Pv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qs(e),r=1<<t;n[t]=-1,e&=~r}}function A5(n){if((At&6)!==0)throw Error(Ge(327));ch();var e=qg(n,0);if((e&1)===0)return La(n,Br()),null;var t=iv(n,e);if(n.tag!==0&&t===2){var r=FE(n);r!==0&&(e=r,t=h2(n,r))}if(t===1)throw t=Qf,Cc(n,0),au(n,e),La(n,Br()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,dc(n,Ia,Zo),La(n,Br()),null}function n3(n,e){var t=At;At|=1;try{return n(e)}finally{At=t,At===0&&(yh=Br()+500,Mv&&Ru())}}function Pc(n){ou!==null&&ou.tag===0&&(At&6)===0&&ch();var e=At;At|=1;var t=Cs.transition,r=Kt;try{if(Cs.transition=null,Kt=1,n)return n()}finally{Kt=r,Cs.transition=t,At=e,(At&6)===0&&Ru()}}function t3(){Ja=nh.current,vr(nh)}function Cc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,jZ(t)),Kr!==null)for(t=Kr.return;t!==null;){var r=t;switch(Lx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jg();break;case 3:_h(),vr(Da),vr(Ji),jx();break;case 5:zx(r);break;case 4:_h();break;case 13:vr(xr);break;case 19:vr(xr);break;case 10:qx(r.type._context);break;case 22:case 23:t3()}t=t.return}if(hi=n,Kr=n=_u(n.current,null),Di=Ja=e,ei=0,Qf=null,Zx=Pv=Lc=0,Ia=Ef=null,yc!==null){for(e=0;e<yc.length;e++)if(t=yc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}t.pending=r}yc=null}return n}function r7(n,e){do{var t=Kr;try{if(Hx(),bg.current=ev,Zg){for(var r=kr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zg=!1}if(Uc=0,li=Jr=kr=null,bf=!1,Vf=0,Jx.current=null,t===null||t.return===null){ei=1,Qf=e,Kr=null;break}e:{var o=n,u=t.return,d=t,h=e;if(e=Di,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,v=d,_=v.tag;if((v.mode&1)===0&&(_===0||_===11||_===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=_5(u);if(E!==null){E.flags&=-257,b5(E,u,d,o,e),E.mode&1&&v5(o,f,e),e=E,h=f;var x=e.updateQueue;if(x===null){var C=new Set;C.add(h),e.updateQueue=C}else x.add(h);break e}else{if((e&1)===0){v5(o,f,e),r3();break e}h=Error(Ge(426))}}else if(Er&&d.mode&1){var M=_5(u);if(M!==null){(M.flags&65536)===0&&(M.flags|=256),b5(M,u,d,o,e),Px(bh(h,d));break e}}o=h=bh(h,d),ei!==4&&(ei=2),Ef===null?Ef=[o]:Ef.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var N=q8(o,h,e);c5(o,N);break e;case 1:d=h;var S=o.type,D=o.stateNode;if((o.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(gu===null||!gu.has(D)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=B8(o,d,e);c5(o,P);break e}}o=o.return}while(o!==null)}s7(t)}catch(Q){e=Q,Kr===t&&t!==null&&(Kr=t=t.return);continue}break}while(1)}function i7(){var n=nv.current;return nv.current=ev,n===null?ev:n}function r3(){(ei===0||ei===3||ei===2)&&(ei=4),hi===null||(Lc&268435455)===0&&(Pv&268435455)===0||au(hi,Di)}function iv(n,e){var t=At;At|=2;var r=i7();(hi!==n||Di!==e)&&(Zo=null,Cc(n,e));do try{gee();break}catch(i){r7(n,i)}while(1);if(Hx(),At=t,nv.current=r,Kr!==null)throw Error(Ge(261));return hi=null,Di=0,ei}function gee(){for(;Kr!==null;)a7(Kr)}function vee(){for(;Kr!==null&&!GJ();)a7(Kr)}function a7(n){var e=l7(n.alternate,n,Ja);n.memoizedProps=n.pendingProps,e===null?s7(n):Kr=e,Jx.current=null}function s7(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=uee(t,e,Ja),t!==null){Kr=t;return}}else{if(t=cee(t,e),t!==null){t.flags&=32767,Kr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ei=6,Kr=null;return}}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=n}while(e!==null);ei===0&&(ei=5)}function dc(n,e,t){var r=Kt,i=Cs.transition;try{Cs.transition=null,Kt=1,_ee(n,e,t,r)}finally{Cs.transition=i,Kt=r}return null}function _ee(n,e,t,r){do ch();while(ou!==null);if((At&6)!==0)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(JJ(n,o),n===hi&&(Kr=hi=null,Di=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||Zm||(Zm=!0,u7(Hg,function(){return ch(),null})),o=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||o){o=Cs.transition,Cs.transition=null;var u=Kt;Kt=1;var d=At;At|=4,Jx.current=null,hee(n,t),e7(t,n),FZ(zE),Bg=!!$E,zE=$E=null,n.current=t,pee(t),$J(),At=d,Kt=u,Cs.transition=o}else n.current=t;if(Zm&&(Zm=!1,ou=n,rv=i),o=n.pendingLanes,o===0&&(gu=null),VJ(t.stateNode),La(n,Br()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(tv)throw tv=!1,n=c2,c2=null,n;return(rv&1)!==0&&n.tag!==0&&ch(),o=n.pendingLanes,(o&1)!==0?n===d2?wf++:(wf=0,d2=n):wf=0,Ru(),null}function ch(){if(ou!==null){var n=HP(rv),e=Cs.transition,t=Kt;try{if(Cs.transition=null,Kt=16>n?16:n,ou===null)var r=!1;else{if(n=ou,ou=null,rv=0,(At&6)!==0)throw Error(Ge(331));var i=At;for(At|=4,cn=n.current;cn!==null;){var o=cn,u=o.child;if((cn.flags&16)!==0){var d=o.deletions;if(d!==null){for(var h=0;h<d.length;h++){var f=d[h];for(cn=f;cn!==null;){var v=cn;switch(v.tag){case 0:case 11:case 15:yf(8,v,o)}var _=v.child;if(_!==null)_.return=v,cn=_;else for(;cn!==null;){v=cn;var y=v.sibling,E=v.return;if(X8(v),v===f){cn=null;break}if(y!==null){y.return=E,cn=y;break}cn=E}}}var x=o.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}cn=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,cn=u;else e:for(;cn!==null;){if(o=cn,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:yf(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,cn=N;break e}cn=o.return}}var S=n.current;for(cn=S;cn!==null;){u=cn;var D=u.child;if((u.subtreeFlags&2064)!==0&&D!==null)D.return=u,cn=D;else e:for(u=S;cn!==null;){if(d=cn,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:Lv(9,d)}}catch(Q){Nr(d,d.return,Q)}if(d===u){cn=null;break e}var P=d.sibling;if(P!==null){P.return=d.return,cn=P;break e}cn=d.return}}if(At=i,Ru(),No&&typeof No.onPostCommitFiberRoot=="function")try{No.onPostCommitFiberRoot(Tv,n)}catch{}r=!0}return r}finally{Kt=t,Cs.transition=e}}return!1}function R5(n,e,t){e=bh(t,e),e=q8(n,e,1),n=mu(n,e,1),e=da(),n!==null&&(u0(n,1,e),La(n,e))}function Nr(n,e,t){if(n.tag===3)R5(n,n,t);else for(;e!==null;){if(e.tag===3){R5(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gu===null||!gu.has(r))){n=bh(t,n),n=B8(e,n,1),e=mu(e,n,1),n=da(),e!==null&&(u0(e,1,n),La(e,n));break}}e=e.return}}function bee(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=da(),n.pingedLanes|=n.suspendedLanes&t,hi===n&&(Di&t)===t&&(ei===4||ei===3&&(Di&130023424)===Di&&500>Br()-e3?Cc(n,0):Zx|=t),La(n,e)}function o7(n,e){e===0&&((n.mode&1)===0?e=1:(e=$m,$m<<=1,($m&130023424)===0&&($m=4194304)));var t=da();n=bl(n,e),n!==null&&(u0(n,e,t),La(n,t))}function yee(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),o7(n,t)}function Eee(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),o7(n,t)}var l7;l7=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Da.current)Ra=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Ra=!1,lee(n,e,t);Ra=(n.flags&131072)!==0}else Ra=!1,Er&&(e.flags&1048576)!==0&&d8(e,Kg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eg(n,e),n=e.pendingProps;var i=mh(e,Ji.current);uh(e,t),i=Wx(null,e,r,n,i,t);var o=Kx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ua(r)?(o=!0,Vg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gx(e),i.updater=Dv,e.stateNode=i,i._reactInternals=e,ZE(e,r,n,t),e=t2(null,e,r,!0,o,t)):(e.tag=0,Er&&o&&Ux(e),oa(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Eg(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xee(r),n=$s(r,n),i){case 0:e=n2(null,e,r,n,t);break e;case 1:e=w5(null,e,r,n,t);break e;case 11:e=y5(null,e,r,n,t);break e;case 14:e=E5(null,e,r,$s(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),n2(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),w5(n,e,r,i,t);case 3:e:{if(j8(e),n===null)throw Error(Ge(387));r=e.pendingProps,o=e.memoizedState,i=o.element,m8(n,e),Xg(e,r,null,t);var u=e.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bh(Error(Ge(423)),e),e=x5(n,e,r,t,i);break e}else if(r!==i){i=bh(Error(Ge(424)),e),e=x5(n,e,r,t,i);break e}else for(es=fu(e.stateNode.containerInfo.firstChild),ns=e,Er=!0,Vs=null,t=b8(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(gh(),r===i){e=yl(n,e,t);break e}oa(n,e,r,t)}e=e.child}return e;case 5:return y8(e),n===null&&YE(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,u=i.children,jE(r,i)?u=null:o!==null&&jE(r,o)&&(e.flags|=32),z8(n,e),oa(n,e,u,t),e.child;case 6:return n===null&&YE(e),null;case 13:return V8(n,e,t);case 4:return $x(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vh(e,null,r,t):oa(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),y5(n,e,r,i,t);case 7:return oa(n,e,e.pendingProps,t),e.child;case 8:return oa(n,e,e.pendingProps.children,t),e.child;case 12:return oa(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,u=i.value,dr(Qg,r._currentValue),r._currentValue=u,o!==null)if(Js(o.value,u)){if(o.children===i.children&&!Da.current){e=yl(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){u=o.child;for(var h=d.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=fl(-1,t&-t),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}}o.lanes|=t,h=o.alternate,h!==null&&(h.lanes|=t),XE(o.return,t,e),d.lanes|=t;break}h=h.next}}else if(o.tag===10)u=o.type===e.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(Ge(341));u.lanes|=t,d=u.alternate,d!==null&&(d.lanes|=t),XE(u,t,e),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===e){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}oa(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uh(e,t),i=Ss(i),r=r(i),e.flags|=1,oa(n,e,r,t),e.child;case 14:return r=e.type,i=$s(r,e.pendingProps),i=$s(r.type,i),E5(n,e,r,i,t);case 15:return G8(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),Eg(n,e),e.tag=1,Ua(r)?(n=!0,Vg(e)):n=!1,uh(e,t),v8(e,r,i),ZE(e,r,i,t),t2(null,e,r,!0,n,t);case 19:return W8(n,e,t);case 22:return $8(n,e,t)}throw Error(Ge(156,e.tag))};function u7(n,e){return UP(n,e)}function wee(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(n,e,t,r){return new wee(n,e,t,r)}function i3(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xee(n){if(typeof n=="function")return i3(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xx)return 11;if(n===kx)return 14}return 2}function _u(n,e){var t=n.alternate;return t===null?(t=bs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function kg(n,e,t,r,i,o){var u=2;if(r=n,typeof n=="function")i3(n)&&(u=1);else if(typeof n=="string")u=5;else e:switch(n){case jd:return Sc(t.children,i,o,e);case wx:u=8,i|=8;break;case xE:return n=bs(12,t,e,i|2),n.elementType=xE,n.lanes=o,n;case kE:return n=bs(13,t,e,i),n.elementType=kE,n.lanes=o,n;case CE:return n=bs(19,t,e,i),n.elementType=CE,n.lanes=o,n;case _P:return Fv(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case gP:u=10;break e;case vP:u=9;break e;case xx:u=11;break e;case kx:u=14;break e;case tu:u=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=bs(u,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function Sc(n,e,t,r){return n=bs(7,n,r,e),n.lanes=t,n}function Fv(n,e,t,r){return n=bs(22,n,r,e),n.elementType=_P,n.lanes=t,n.stateNode={isHidden:!1},n}function $1(n,e,t){return n=bs(6,n,null,e),n.lanes=t,n}function z1(n,e,t){return e=bs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function kee(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k1(0),this.expirationTimes=k1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a3(n,e,t,r,i,o,u,d,h){return n=new kee(n,e,t,d,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bs(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gx(o),n}function Cee(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function c7(n){if(!n)return xu;n=n._reactInternals;e:{if($c(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ua(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(Ua(t))return u8(n,t,e)}return e}function d7(n,e,t,r,i,o,u,d,h){return n=a3(t,r,!0,n,i,o,u,d,h),n.context=c7(null),t=n.current,r=da(),i=vu(t),o=fl(r,i),o.callback=e!=null?e:null,mu(t,o,i),n.current.lanes=i,u0(n,i,r),La(n,r),n}function Hv(n,e,t,r){var i=e.current,o=da(),u=vu(i);return t=c7(t),e.context===null?e.context=t:e.pendingContext=t,e=fl(o,u),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=mu(i,e,u),n!==null&&(Ys(n,i,u,o),_g(n,i,u)),u}function av(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function M5(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function s3(n,e){M5(n,e),(n=n.alternate)&&M5(n,e)}function See(){return null}var h7=typeof reportError=="function"?reportError:function(n){console.error(n)};function o3(n){this._internalRoot=n}qv.prototype.render=o3.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));Hv(n,e,null,null)};qv.prototype.unmount=o3.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Pc(function(){Hv(null,n,null,null)}),e[_l]=null}};function qv(n){this._internalRoot=n}qv.prototype.unstable_scheduleHydration=function(n){if(n){var e=GP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<iu.length&&e!==0&&e<iu[t].priority;t++);iu.splice(t,0,n),t===0&&zP(n)}};function l3(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Bv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function D5(){}function Nee(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=av(u);o.call(f)}}var u=d7(e,r,n,0,null,!1,!1,"",D5);return n._reactRootContainer=u,n[_l]=u.current,Bf(n.nodeType===8?n.parentNode:n),Pc(),u}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var f=av(h);d.call(f)}}var h=a3(n,0,!1,null,null,!1,!1,"",D5);return n._reactRootContainer=h,n[_l]=h.current,Bf(n.nodeType===8?n.parentNode:n),Pc(function(){Hv(e,h,t,r)}),h}function Gv(n,e,t,r,i){var o=t._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var d=i;i=function(){var h=av(u);d.call(h)}}Hv(e,u,n,i)}else u=Nee(t,e,n,i,r);return av(u)}qP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=lf(e.pendingLanes);t!==0&&(Nx(e,t|1),La(e,Br()),(At&6)===0&&(yh=Br()+500,Ru()))}break;case 13:Pc(function(){var r=bl(n,1);if(r!==null){var i=da();Ys(r,n,1,i)}}),s3(n,1)}};Tx=function(n){if(n.tag===13){var e=bl(n,134217728);if(e!==null){var t=da();Ys(e,n,134217728,t)}s3(n,134217728)}};BP=function(n){if(n.tag===13){var e=vu(n),t=bl(n,e);if(t!==null){var r=da();Ys(t,n,e,r)}s3(n,e)}};GP=function(){return Kt};$P=function(n,e){var t=Kt;try{return Kt=n,e()}finally{Kt=t}};UE=function(n,e,t){switch(e){case"input":if(TE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Rv(r);if(!i)throw Error(Ge(90));yP(r),TE(r,i)}}}break;case"textarea":wP(n,t);break;case"select":e=t.value,e!=null&&ah(n,!!t.multiple,e,!1)}};IP=n3;OP=Pc;var Tee={usingClientEntryPoint:!1,Events:[d0,Qd,Rv,NP,TP,n3]},Qp={findFiberByHostInstance:bc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Iee={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:El.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=MP(n),n===null?null:n.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||See,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eg.isDisabled&&eg.supportsFiber)try{Tv=eg.inject(Iee),No=eg}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tee;ss.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l3(e))throw Error(Ge(200));return Cee(n,e,null,t)};ss.createRoot=function(n,e){if(!l3(n))throw Error(Ge(299));var t=!1,r="",i=h7;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a3(n,1,!1,null,null,t,!1,r,i),n[_l]=e.current,Bf(n.nodeType===8?n.parentNode:n),new o3(e)};ss.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=MP(e),n=n===null?null:n.stateNode,n};ss.flushSync=function(n){return Pc(n)};ss.hydrate=function(n,e,t){if(!Bv(e))throw Error(Ge(200));return Gv(null,n,e,!0,t)};ss.hydrateRoot=function(n,e,t){if(!l3(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",u=h7;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),e=d7(e,null,n,1,t!=null?t:null,i,!1,o,u),n[_l]=e.current,Bf(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new qv(e)};ss.render=function(n,e,t){if(!Bv(e))throw Error(Ge(200));return Gv(null,n,e,!1,t)};ss.unmountComponentAtNode=function(n){if(!Bv(n))throw Error(Ge(40));return n._reactRootContainer?(Pc(function(){Gv(null,null,n,!1,function(){n._reactRootContainer=null,n[_l]=null})}),!0):!1};ss.unstable_batchedUpdates=n3;ss.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Bv(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return Gv(n,e,t,!1,r)};ss.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=ss})(Mh);var U5=Mh.exports;EE.createRoot=U5.createRoot,EE.hydrateRoot=U5.hydrateRoot;function j1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];n&&n.addEventListener&&n.addEventListener.apply(n,e)}function V1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];n&&n.removeEventListener&&n.removeEventListener.apply(n,e)}var p7=typeof window<"u",L5=function(n){var e=window.history,t=e[n];e[n]=function(r){var i=t.apply(this,arguments),o=new Event(n.toLowerCase());return o.state=r,window.dispatchEvent(o),i}};p7&&(L5("pushState"),L5("replaceState"));var Oee=function(){return{trigger:"load",length:1}},ng=function(n){var e=window.history,t=e.state,r=e.length,i=window.location,o=i.hash,u=i.host,d=i.hostname,h=i.href,f=i.origin,v=i.pathname,_=i.port,y=i.protocol,E=i.search;return{trigger:n,state:t,length:r,hash:o,host:u,hostname:d,href:h,origin:f,pathname:v,port:_,protocol:y,search:E}},Aee=function(){var n=U.exports.useState(ng("load")),e=n[0],t=n[1];return U.exports.useEffect(function(){var r=function(){return t(ng("popstate"))},i=function(){return t(ng("pushstate"))},o=function(){return t(ng("replacestate"))};return j1(window,"popstate",r),j1(window,"pushstate",i),j1(window,"replacestate",o),function(){V1(window,"popstate",r),V1(window,"pushstate",i),V1(window,"replacestate",o)}},[]),e},Ree=typeof Event=="function";const Mee=p7&&Ree?Aee:Oee;var u3={exports:{}},$v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dee=U.exports,Uee=Symbol.for("react.element"),Lee=Symbol.for("react.fragment"),Pee=Object.prototype.hasOwnProperty,Fee=Dee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hee={key:!0,ref:!0,__self:!0,__source:!0};function f7(n,e,t){var r,i={},o=null,u=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)Pee.call(e,r)&&!Hee.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Uee,type:n,key:o,ref:u,props:i,_owner:Fee.current}}$v.Fragment=Lee;$v.jsx=f7;$v.jsxs=f7;(function(n){n.exports=$v})(u3);const Ya=u3.exports.jsx,P5=u3.exports.jsxs;var bu=function(){return bu=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bu.apply(this,arguments)};function ha(n,e,t,r){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(v){try{f(r.next(v))}catch(_){u(_)}}function h(v){try{f(r.throw(v))}catch(_){u(_)}}function f(v){v.done?o(v.value):i(v.value).then(d,h)}f((r=r.apply(n,e||[])).next())})}function pa(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(f){return function(v){return h([f,v])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(v){f=[6,v],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ma(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={exports:{}};(function(n,e){(function(t,r){r(e)})(W1,function(t){function r(a,s){var l,c=Object.keys(a);return Object.getOwnPropertySymbols&&(l=Object.getOwnPropertySymbols(a),s&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),c.push.apply(c,l)),c}function i(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?r(Object(l),!0).forEach(function(c){v(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function o(a,s,l,c,p,m,g){try{var b=a[m](g),w=b.value}catch(O){return void l(O)}b.done?s(w):Promise.resolve(w).then(c,p)}function u(a){return function(){var s=this,l=arguments;return new Promise(function(c,p){var m=a.apply(s,l);function g(w){o(m,c,p,g,b,"next",w)}function b(w){o(m,c,p,g,b,"throw",w)}g(void 0)})}}function d(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function h(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function f(a,s,l){return s&&h(a.prototype,s),l&&h(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function v(a,s,l){s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l}function _(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&E(a,s)}function y(a){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(a)}function E(a,s){return(E=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l})(a,s)}function x(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function C(a){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,c=y(a),c=(l=s?(l=y(this).constructor,Reflect.construct(c,arguments,l)):c.apply(this,arguments),this);if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(c)}}function M(a){return function(s){if(Array.isArray(s))return S(s)}(a)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(a)||N(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(a,s){if(a){if(typeof a=="string")return S(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return(l=l==="Object"&&a.constructor?a.constructor.name:l)==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?S(a,s):void 0}}function S(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function D(a,s){var l,c=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=N(a))||s&&a&&typeof a.length=="number")return c&&(a=c),l=0,{s:s=function(){},n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(b){throw b},f:s};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m=!0,g=!1;return{s:function(){c=c.call(a)},n:function(){var b=c.next();return m=b.done,b},e:function(b){g=!0,p=b},f:function(){try{m||c.return==null||c.return()}finally{if(g)throw p}}}}var P,Hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof W1<"u"?W1:typeof self<"u"?self:{},ht={exports:{}},ht=function(a){var s,l=Object.prototype,c=l.hasOwnProperty,_e=typeof Symbol=="function"?Symbol:{},p=_e.iterator||"@@iterator",m=_e.asyncIterator||"@@asyncIterator",g=_e.toStringTag||"@@toStringTag";function b(je,gn,Fn){return Object.defineProperty(je,gn,{value:Fn,enumerable:!0,configurable:!0,writable:!0}),je[gn]}try{b({},"")}catch{b=function(gn,Fn,ft){return gn[Fn]=ft}}function w(je,oi,Fn,mo){var nt,Ur,Tt,Si,oi=oi&&oi.prototype instanceof K?oi:K,oi=Object.create(oi.prototype),mo=new Ld(mo||[]);return oi._invoke=(nt=je,Ur=Fn,Tt=mo,Si=L,function(Ka,Qa){if(Si===G)throw new Error("Generator is already running");if(Si===re){if(Ka==="throw")throw Qa;return Yo()}for(Tt.method=Ka,Tt.arg=Qa;;){var Lr=Tt.delegate;if(Lr&&(Lr=function go(sa,ut){var Ni=sa.iterator[ut.method];if(Ni===s){if(ut.delegate=null,ut.method==="throw"){if(sa.iterator.return&&(ut.method="return",ut.arg=s,go(sa,ut),ut.method==="throw"))return ae;ut.method="throw",ut.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}if(Ni=O(Ni,sa.iterator,ut.arg),Ni.type==="throw")return ut.method="throw",ut.arg=Ni.arg,ut.delegate=null,ae;if(Ni=Ni.arg,!Ni)return ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,ae;{if(!Ni.done)return Ni;ut[sa.resultName]=Ni.value,ut.next=sa.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=s)}return ut.delegate=null,ae}(Lr,Tt),Lr)){if(Lr===ae)continue;return Lr}if(Tt.method==="next")Tt.sent=Tt._sent=Tt.arg;else if(Tt.method==="throw"){if(Si===L)throw Si=re,Tt.arg;Tt.dispatchException(Tt.arg)}else Tt.method==="return"&&Tt.abrupt("return",Tt.arg);if(Si=G,Lr=O(nt,Ur,Tt),Lr.type==="normal"){if(Si=Tt.done?re:q,Lr.arg!==ae)return{value:Lr.arg,done:Tt.done}}else Lr.type==="throw"&&(Si=re,Tt.method="throw",Tt.arg=Lr.arg)}}),oi}function O(je,gn,Fn){try{return{type:"normal",arg:je.call(gn,Fn)}}catch(ft){return{type:"throw",arg:ft}}}a.wrap=w;var L="suspendedStart",q="suspendedYield",G="executing",re="completed",ae={};function K(){}function ne(){}function me(){}var _e={},Se=(b(_e,p,function(){return this}),Object.getPrototypeOf),Se=Se&&Se(Se(Wl([]))),Jt=(Se&&Se!==l&&c.call(Se,p)&&(_e=Se),me.prototype=K.prototype=Object.create(_e));function Dr(je){["next","throw","return"].forEach(function(gn){b(je,gn,function(Fn){return this._invoke(gn,Fn)})})}function Ft(je,gn){var Fn;this._invoke=function(ft,nt){function Ur(){return new gn(function(Tt,Si){(function oi(sa,Ka,Qa,Lr){var go,sa=O(je[sa],je,Ka);if(sa.type!=="throw")return(Ka=(go=sa.arg).value)&&typeof Ka=="object"&&c.call(Ka,"__await")?gn.resolve(Ka.__await).then(function(ut){oi("next",ut,Qa,Lr)},function(ut){oi("throw",ut,Qa,Lr)}):gn.resolve(Ka).then(function(ut){go.value=ut,Qa(go)},function(ut){return oi("throw",ut,Qa,Lr)});Lr(sa.arg)})(ft,nt,Tt,Si)})}return Fn=Fn?Fn.then(Ur,Ur):Ur()}}function Dd(je){var gn={tryLoc:je[0]};1 in je&&(gn.catchLoc=je[1]),2 in je&&(gn.finallyLoc=je[2],gn.afterLoc=je[3]),this.tryEntries.push(gn)}function Ud(je){var gn=je.completion||{};gn.type="normal",delete gn.arg,je.completion=gn}function Ld(je){this.tryEntries=[{tryLoc:"root"}],je.forEach(Dd,this),this.reset(!0)}function Wl(je){if(je){var gn,Fn=je[p];if(Fn)return Fn.call(je);if(typeof je.next=="function")return je;if(!isNaN(je.length))return gn=-1,(Fn=function ft(){for(;++gn<je.length;)if(c.call(je,gn))return ft.value=je[gn],ft.done=!1,ft;return ft.value=s,ft.done=!0,ft}).next=Fn}return{next:Yo}}function Yo(){return{value:s,done:!0}}return b(Jt,"constructor",ne.prototype=me),b(me,"constructor",ne),ne.displayName=b(me,g,"GeneratorFunction"),a.isGeneratorFunction=function(je){return je=typeof je=="function"&&je.constructor,!!je&&(je===ne||(je.displayName||je.name)==="GeneratorFunction")},a.mark=function(je){return Object.setPrototypeOf?Object.setPrototypeOf(je,me):(je.__proto__=me,b(je,g,"GeneratorFunction")),je.prototype=Object.create(Jt),je},a.awrap=function(je){return{__await:je}},Dr(Ft.prototype),b(Ft.prototype,m,function(){return this}),a.AsyncIterator=Ft,a.async=function(je,gn,Fn,ft,nt){nt===void 0&&(nt=Promise);var Ur=new Ft(w(je,gn,Fn,ft),nt);return a.isGeneratorFunction(gn)?Ur:Ur.next().then(function(Tt){return Tt.done?Tt.value:Ur.next()})},Dr(Jt),b(Jt,g,"Generator"),b(Jt,p,function(){return this}),b(Jt,"toString",function(){return"[object Generator]"}),a.keys=function(je){var gn,Fn=[];for(gn in je)Fn.push(gn);return Fn.reverse(),function ft(){for(;Fn.length;){var nt=Fn.pop();if(nt in je)return ft.value=nt,ft.done=!1,ft}return ft.done=!0,ft}},a.values=Wl,Ld.prototype={constructor:Ld,reset:function(je){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Ud),!je)for(var gn in this)gn.charAt(0)==="t"&&c.call(this,gn)&&!isNaN(+gn.slice(1))&&(this[gn]=s)},stop:function(){this.done=!0;var je=this.tryEntries[0].completion;if(je.type==="throw")throw je.arg;return this.rval},dispatchException:function(je){if(this.done)throw je;var gn=this;function Fn(oi,mo){return Ur.type="throw",Ur.arg=je,gn.next=oi,mo&&(gn.method="next",gn.arg=s),!!mo}for(var ft=this.tryEntries.length-1;0<=ft;--ft){var nt=this.tryEntries[ft],Ur=nt.completion;if(nt.tryLoc==="root")return Fn("end");if(nt.tryLoc<=this.prev){var Tt=c.call(nt,"catchLoc"),Si=c.call(nt,"finallyLoc");if(Tt&&Si){if(this.prev<nt.catchLoc)return Fn(nt.catchLoc,!0);if(this.prev<nt.finallyLoc)return Fn(nt.finallyLoc)}else if(Tt){if(this.prev<nt.catchLoc)return Fn(nt.catchLoc,!0)}else{if(!Si)throw new Error("try statement without catch or finally");if(this.prev<nt.finallyLoc)return Fn(nt.finallyLoc)}}}},abrupt:function(je,gn){for(var Fn=this.tryEntries.length-1;0<=Fn;--Fn){var ft=this.tryEntries[Fn];if(ft.tryLoc<=this.prev&&c.call(ft,"finallyLoc")&&this.prev<ft.finallyLoc){var nt=ft;break}}var Ur=(nt=nt&&(je==="break"||je==="continue")&&nt.tryLoc<=gn&&gn<=nt.finallyLoc?null:nt)?nt.completion:{};return Ur.type=je,Ur.arg=gn,nt?(this.method="next",this.next=nt.finallyLoc,ae):this.complete(Ur)},complete:function(je,gn){if(je.type==="throw")throw je.arg;return je.type==="break"||je.type==="continue"?this.next=je.arg:je.type==="return"?(this.rval=this.arg=je.arg,this.method="return",this.next="end"):je.type==="normal"&&gn&&(this.next=gn),ae},finish:function(je){for(var gn=this.tryEntries.length-1;0<=gn;--gn){var Fn=this.tryEntries[gn];if(Fn.finallyLoc===je)return this.complete(Fn.completion,Fn.afterLoc),Ud(Fn),ae}},catch:function(je){for(var gn=this.tryEntries.length-1;0<=gn;--gn){var Fn,ft,nt=this.tryEntries[gn];if(nt.tryLoc===je)return(Fn=nt.completion).type==="throw"&&(ft=Fn.arg,Ud(nt)),ft}throw new Error("illegal catch attempt")},delegateYield:function(je,gn,Fn){return this.delegate={iterator:Wl(je),resultName:gn,nextLoc:Fn},this.method==="next"&&(this.arg=s),ae}},a}(ht.exports);try{regeneratorRuntime=ht}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ht:Function("r","regeneratorRuntime = r")(ht)}var Q=new Uint8Array(16),z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function W(a){return typeof a=="string"&&z.test(a)}for(var V=[],he=0;he<256;++he)V.push((he+256).toString(16).substr(1));function ce(a,s){if(s=1<arguments.length&&s!==void 0?s:0,a=(V[a[s+0]]+V[a[s+1]]+V[a[s+2]]+V[a[s+3]]+"-"+V[a[s+4]]+V[a[s+5]]+"-"+V[a[s+6]]+V[a[s+7]]+"-"+V[a[s+8]]+V[a[s+9]]+"-"+V[a[s+10]]+V[a[s+11]]+V[a[s+12]]+V[a[s+13]]+V[a[s+14]]+V[a[s+15]]).toLowerCase(),W(a))return a;throw TypeError("Stringified UUID is invalid")}function Ee(){try{}catch{}}function Ne(a,s,l){var c=(a=a||{}).random||(a.rng||function(){if(P=P||typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto))return P(Q);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,s){l=l||0;for(var p=0;p<16;++p)s[l+p]=c[p];return s}return ce(c)}Ee(),Ee();function se(a){return a&&a.Math==Math&&a}function oe(a){try{return!!a()}catch{return!0}}function ue(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}function Re(a){return Yc(na(a),8,-1)}function He(a){if(a==null)throw k0("Can't call method on "+a);return a}function ve(a){return C0(Lu(a))}function Ce(a){return typeof a=="function"}function Le(a){return typeof a=="object"?a!==null:Xc(a)}function te(a,s){return arguments.length<2?(l=ao[a],Jc(l)?l:void 0):ao[a]&&ao[a][s];var l}function X(a){try{return Lo(a)}catch{return"Object"}}function ge(a){if(ed(a))return a;throw Fu(Pu(a)+" is not a function")}function Ke(a,s){return(a=a[s])==null?void 0:Hu(a)}function qe(a,s){try{Qh(nd,a,{value:s,configurable:!0,writable:!0})}catch{nd[a]=s}return s}function Te(a){return rd(Yh(a))}function xe(a){return"Symbol("+(a===void 0?"":a)+")_"+Zh(++Jh+S0,36)}function Oe(a){var s;return ep(Po,a)&&(ad||typeof Po[a]=="string")||(s="Symbol."+a,ad&&ep(so,a)?Po[a]=so[a]:Po[a]=(np&&sd?sd:N0)(s)),Po[a]}function Je(a,s){if(!Vn(a)||Me(a))return a;var l=ke(a,Qt);if(l){if(l=Et(l,a,s=s===void 0?"default":s),!Vn(l)||Me(l))return l;throw Bn("Can't convert object to primitive value")}return On(a,s=s===void 0?"number":s)}function bn(a){return a=wt(a,"string"),Fo(a)?a:a+""}function An(a){return pH?tp.createElement(a):{}}function hn(a){if(wH(a))return a;throw kH(xH(a)+" is not an object")}function Dn(a){return ck[a]||(ck[a]=AH(a))}function rn(a,s,l,c){var p=(c=c||{}).enumerable,m=c.name!==void 0?c.name:s;if(BH(l)&&$H(l,m,c),c.global)p?a[s]=l:zH(s,l);else{try{c.unsafe?a[s]&&(p=!0):delete a[s]}catch{}p?a[s]=l:GH.f(a,s,{value:l,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return a}function Rn(a){return(a=+a)!=a||a==0?0:WH(a)}function yn(a,s){return(a=KH(a))<0?QH(a+s,0):YH(a,s)}function Cn(a){return 0<a?JH(XH(a),9007199254740991):0}function $(a){return ZH(a.length)}function A(a){return function(s,l,c){var p,m=eq(s),g=tq(m),b=nq(c,g);if(a&&l!=l){for(;b<g;)if((p=m[b++])!=p)return!0}else for(;b<g;b++)if((a||b in m)&&m[b]===l)return a||b||0;return!a&&-1}}function R(a,s){var l,c=rq(a),p=0,m=[];for(l in c)!f_(aq,l)&&f_(c,l)&&hk(m,l);for(;s.length>p;)!f_(c,l=s[p++])||~iq(m,l)||hk(m,l);return m}function j(a,s){return(a=bq[_q(a)])==Eq||a!=yq&&(gq(s)?mq(s):!!s)}function Z(a,s){var l,c,p,m=a.target,g=a.global,b=a.stat,w=g?m_:b?m_[m]||Cq(m,{}):(m_[m]||{}).prototype;if(w)for(l in s){if(c=s[l],p=a.dontCallGetSet?(p=wq(w,l))&&p.value:w[l],!Nq(g?l:m+(b?".":"#")+l,a.forced)&&p!==void 0){if(typeof c==typeof p)continue;Sq(c,p)}(a.sham||p&&p.sham)&&xq(c,"sham",!0),kq(w,l,c,a)}}function be(a,s){return Tq(a),s===void 0?a:Iq?Oq(a,s):function(){return a.apply(s,arguments)}}function Ie(){}function pn(a){if(!fk(a))return!1;try{return mk(Ie,Fq,a),!0}catch{return!1}}function dn(a){if(!fk(a))return!1;switch(Lq(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qq||!!Hq(g_,Pq(a))}catch{return!0}}function nn(a,s){return new(zq(a))(s===0?0:s)}function Be(a){var s=a==1,l=a==2,c=a==3,p=a==4,m=a==6,g=a==7,b=a==5||m;return function(w,O,L,q){for(var G,re,ae=Wq(w),K=Vq(ae),ne=jq(O,L),me=Kq(K),_e=0,O=q||Qq,Se=s?O(w,me):l||g?O(w,0):void 0;_e<me;_e++)if((b||_e in K)&&(re=ne(G=K[_e],_e,ae),a))if(s)Se[_e]=re;else if(re)switch(a){case 3:return!0;case 5:return G;case 6:return _e;case 2:_k(Se,G)}else switch(a){case 4:return!1;case 7:_k(Se,G)}return m?-1:c||p?p:Se}}function xn(a){return 51<=Xq||!Yq(function(){var s=[];return(s.constructor={})[Jq]=function(){return{foo:1}},s[a](Boolean).foo!==1})}var ot,Dt,Or,fi,Ha,Cl,Sl,Os,un,Qc,ht=se(typeof globalThis=="object"&&globalThis)||se(typeof window=="object"&&window)||se(typeof self=="object"&&self)||se(typeof Hi=="object"&&Hi)||function(){return this}()||Function("return this")(),Hi={},Ye=!oe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),vi=!oe(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),As=Function.prototype.call,Mr=vi?As.bind(As):function(){return As.apply(As,arguments)},fr={},Xn={}.propertyIsEnumerable,Do=Object.getOwnPropertyDescriptor,pr=Do&&!Xn.call({1:2},1),pr=(fr.f=pr?function(a){return a=Do(this,a),!!a&&a.enumerable}:Xn,vi),Xn=Function.prototype,xa=Xn.bind,Nl=Xn.call,Du=pr&&xa.bind(Nl,Nl),Xn=pr?function(a){return a&&Du(a)}:function(a){return a&&function(){return Nl.apply(a,arguments)}},xa=Xn,na=xa({}.toString),Yc=xa("".slice),pr=oe,$h=Re,Uu=Object,x0=Xn("".split),xa=pr(function(){return!Uu("z").propertyIsEnumerable(0)})?function(a){return $h(a)=="String"?x0(a,""):Uu(a)}:Uu,k0=TypeError,C0=xa,Lu=He,Xc=Ce,ao=ht,Jc=Ce,pr=Xn({}.isPrototypeOf),Uo=te("navigator","userAgent")||"",dt=Uo,Xr=ht.process,or=ht.Deno,Xr=Xr&&Xr.versions||or&&or.version,or=Xr&&Xr.v8,Xr=Rr=!(Rr=or?0<(zt=or.split("."))[0]&&zt[0]<4?1:+(zt[0]+zt[1]):Rr)&&dt&&(!(zt=dt.match(/Edge\/(\d+)/))||74<=zt[1])&&(zt=dt.match(/Chrome\/(\d+)/))?+zt[1]:Rr,Zc=Xr,or=oe,dt=!!Object.getOwnPropertySymbols&&!or(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Zc&&Zc<41}),zt=dt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",zh=te,jh=Ce,Vh=pr,Wh=Object,Rr=zt?function(a){return typeof a=="symbol"}:function(a){var s=zh("Symbol");return jh(s)&&Vh(s.prototype,Wh(a))},Lo=String,ed=Ce,Pu=X,Fu=TypeError,Hu=ge,Tl=Mr,Il=Ce,qu=Le,Kh=TypeError,or={exports:{}},nd=ht,Qh=Object.defineProperty,Sn=qe,lr="__core-js_shared__",Sn=ht[lr]||Sn(lr,{}),td=Sn,Yh=((or.exports=function(a,s){return td[a]||(td[a]=s!==void 0?s:{})})("versions",[]).push({version:"3.23.4",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"}),He),rd=Object,id=Te,Xh=Xn({}.hasOwnProperty),lr=Object.hasOwn||function(a,s){return Xh(id(a),s)},Pn=Xn,Jh=0,S0=Math.random(),Zh=Pn(1 .toString),Pn=ht,Nt=or.exports,ep=lr,Pt=xe,ad=dt,np=zt,Po=Nt("wks"),so=Pn.Symbol,sd=so&&so.for,N0=np?so:so&&so.withoutSetter||Pt,Et=Mr,Vn=Le,Me=Rr,ke=Ke,On=function(a,s){var l,c;if(s==="string"&&Il(l=a.toString)&&!qu(c=Tl(l,a))||Il(l=a.valueOf)&&!qu(c=Tl(l,a))||s!=="string"&&Il(l=a.toString)&&!qu(c=Tl(l,a)))return c;throw Kh("Can't convert object to primitive value")},Bn=TypeError,Qt=Oe("toPrimitive"),wt=Je,Fo=Rr,dt=Le,tp=ht.document,pH=dt(tp)&&dt(tp.createElement),fH=An,zt=!Ye&&!oe(function(){return Object.defineProperty(fH("div"),"a",{get:function(){return 7}}).a!=7}),mH=Mr,gH=fr,vH=ue,_H=ve,bH=bn,yH=lr,EH=zt,sk=Object.getOwnPropertyDescriptor,Nt=(Hi.f=Ye?sk:function(a,s){if(a=_H(a),s=bH(s),EH)try{return sk(a,s)}catch{}if(yH(a,s))return vH(!mH(gH.f,a,s),a[s])},{}),Pn=Ye&&oe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),wH=Le,xH=String,kH=TypeError,CH=zt,T0=hn,ok=bn,SH=TypeError,u_=Object.defineProperty,NH=Object.getOwnPropertyDescriptor,lk="enumerable",uk="configurable",c_="writable",Pt=(Nt.f=Ye?Pn?function(a,s,l){var c;return T0(a),s=ok(s),T0(l),typeof a=="function"&&s==="prototype"&&"value"in l&&c_ in l&&!l[c_]&&(c=NH(a,s))&&c[c_]&&(a[s]=l.value,l={configurable:(uk in l?l:c)[uk],enumerable:(lk in l?l:c)[lk],writable:!1}),u_(a,s,l)}:u_:function(a,s,l){if(T0(a),s=ok(s),T0(l),CH)try{return u_(a,s,l)}catch{}if("get"in l||"set"in l)throw SH("Accessors not supported");return"value"in l&&(a[s]=l.value),a},Ye),TH=Nt,IH=ue,dt=Pt?function(a,s,l){return TH.f(a,s,IH(1,l))}:function(a,s,l){return a[s]=l,a},zt={exports:{}},Pt=Ye,We=lr,$r=Function.prototype,lt=Pt&&Object.getOwnPropertyDescriptor,We=We($r,"name"),We={EXISTS:We,PROPER:We&&function(){}.name==="something",CONFIGURABLE:We&&(!Pt||lt($r,"name").configurable)},Pt=Ce,lt=Sn,OH=Xn(Function.toString),$r=(Pt(lt.inspectSource)||(lt.inspectSource=function(a){return OH(a)}),lt.inspectSource),Pt=Ce,lt=$r,Yt=ht.WeakMap,Pt=Pt(Yt)&&/native code/.test(lt(Yt)),lt=or.exports,AH=xe,ck=lt("keys"),Yt={},lt=Xn,RH=Le,MH=dt,d_=lr,ti=Dn,ze=Yt,dk="Object already initialized",h_=ht.TypeError,yt=ht.WeakMap,Pt=(Sl=Pt||Sn.state?(ot=Sn.state||(Sn.state=new yt),Dt=lt(ot.get),Or=lt(ot.has),fi=lt(ot.set),Ha=function(a,s){if(Or(ot,a))throw new h_(dk);return s.facade=a,fi(ot,a,s),s},Cl=function(a){return Dt(ot,a)||{}},function(a){return Or(ot,a)}):(ze[Os=ti("state")]=!0,Ha=function(a,s){if(d_(a,Os))throw new h_(dk);return s.facade=a,MH(a,Os,s),s},Cl=function(a){return d_(a,Os)?a[Os]:{}},function(a){return d_(a,Os)}),{set:Ha,get:Cl,has:Sl,enforce:function(a){return Sl(a)?Cl(a):Ha(a,{})},getterFor:function(a){return function(s){if(RH(s)&&(s=Cl(s)).type===a)return s;throw h_("Incompatible receiver, "+a+" required")}}}),Sn=oe,DH=Ce,I0=lr,p_=Ye,UH=We.CONFIGURABLE,LH=$r,PH=Pt.enforce,FH=Pt.get,O0=Object.defineProperty,HH=p_&&!Sn(function(){return O0(function(){},"length",{value:8}).length!==8}),qH=String(String).split("String"),yt=zt.exports=function(a,s,l){String(s).slice(0,7)==="Symbol("&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),l&&l.getter&&(s="get "+s),l&&l.setter&&(s="set "+s),(!I0(a,"name")||UH&&a.name!==s)&&(p_?O0(a,"name",{value:s,configurable:!0}):a.name=s),HH&&l&&I0(l,"arity")&&a.length!==l.arity&&O0(a,"length",{value:l.arity});try{l&&I0(l,"constructor")&&l.constructor?p_&&O0(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch{}return l=PH(a),I0(l,"source")||(l.source=qH.join(typeof s=="string"?s:"")),a},BH=(Function.prototype.toString=yt(function(){return DH(this)&&FH(this).source||LH(this)},"toString"),Ce),GH=Nt,$H=zt.exports,zH=qe,lt={},jH=Math.ceil,VH=Math.floor,WH=Math.trunc||function(a){return a=+a,(0<a?VH:jH)(a)},KH=Rn,QH=Math.max,YH=Math.min,XH=Rn,JH=Math.min,ZH=Cn,eq=ve,nq=yn,tq=$,ze={includes:A(!0),indexOf:A(!1)},ti=Xn,f_=lr,rq=ve,iq=ze.indexOf,aq=Yt,hk=ti([].push),Sn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sq=R,oq=Sn.concat("length","prototype"),yt=(lt.f=Object.getOwnPropertyNames||function(a){return sq(a,oq)},{}),zt=(yt.f=Object.getOwnPropertySymbols,te),lq=lt,uq=yt,cq=hn,dq=Xn([].concat),ti=zt("Reflect","ownKeys")||function(a){var s=lq.f(cq(a)),l=uq.f;return l?dq(s,l(a)):s},pk=lr,hq=ti,pq=Hi,fq=Nt,mq=oe,gq=Ce,vq=/#|\.prototype\./,_q=j.normalize=function(a){return String(a).replace(vq,".").toLowerCase()},bq=j.data={},yq=j.NATIVE="N",Eq=j.POLYFILL="P",zt=j,m_=ht,wq=Hi.f,xq=dt,kq=rn,Cq=qe,Sq=function(a,s,l){for(var c=hq(s),p=fq.f,m=pq.f,g=0;g<c.length;g++){var b=c[g];pk(a,b)||l&&pk(l,b)||p(a,b,m(s,b))}},Nq=zt,Tq=ge,Iq=vi,Oq=Xn(Xn.bind),Aq=Re,ti=Array.isArray||function(a){return Aq(a)=="Array"},mn={},mn=(mn[Oe("toStringTag")]="z",String(mn)==="[object z]"),$n=mn,Rq=Ce,A0=Re,Mq=Oe("toStringTag"),Dq=Object,Uq=A0(function(){return arguments}())=="Arguments",$n=$n?A0:function(a){var s;return a===void 0?"Undefined":a===null?"Null":typeof(s=function(l,c){try{return l[c]}catch{}}(a=Dq(a),Mq))=="string"?s:Uq?A0(a):(s=A0(a))=="Object"&&Rq(a.callee)?"Arguments":s},ra=Xn,mi=oe,fk=Ce,Lq=$n,Pq=$r,Fq=[],mk=te("Reflect","construct"),g_=/^\s*(?:class|function)\b/,Hq=ra(g_.exec),qq=!g_.exec(Ie),ra=(dn.sham=!0,!mk||mi(function(){var a;return pn(pn.call)||!pn(Object)||!pn(function(){a=!0})||a})?dn:pn),gk=ti,Bq=ra,Gq=Le,$q=Oe("species"),vk=Array,zq=function(a){var s;return gk(a)&&(s=a.constructor,(Bq(s)&&(s===vk||gk(s.prototype))||Gq(s)&&(s=s[$q])===null)&&(s=void 0)),s===void 0?vk:s},jq=be,Vq=xa,Wq=Te,Kq=$,Qq=nn,_k=Xn([].push),mi={forEach:Be(0),map:Be(1),filter:Be(2),some:Be(3),every:Be(4),find:Be(5),findIndex:Be(6),filterReject:Be(7)},Yq=oe,Xq=Xr,Jq=Oe("species"),tn=Z,Zq=mi.map,R0=(tn({target:"Array",proto:!0,forced:!xn("map")},{map:function(a){return Zq(this,a,1<arguments.length?arguments[1]:void 0)}}),f(function a(){d(this,a)})),bk=function(){_(s,R0);var a=C(s);function s(){return d(this,s),a.call(this)}return f(s,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),s}(),hr=function(){_(s,bk);var a=C(s);function s(){return d(this,s),a.call(this)}return f(s,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),s}(),eB=((tn=un=un||{}).CREATE="create",tn.UPDATE="update",tn.GET="get",tn.DELETE="delete",tn.QUERY="query",tn.READY="ready",tn.START="start",tn.ENTER_HOST="enter_host",tn.GET_HOSTS="get_hosts",tn.EXIT_HOST="exit_host",tn.HOST_ALIVE="host_alive",tn.AUDIO="audio",tn.VIDEO="video",tn.HOST_CREATE_STREAM="host_create_stream",tn.HOST_DELETE_STREAM="host_delete_stream",tn.HOST_CONNECTED="host_connected",tn.ENTER="enter",tn.EXIT="exit",tn.ALIVE="alive",tn.GET_PARTICIPANTS="get_participants",tn.CREATE_STREAM="create_stream",tn.DELETE_STREAM="delete_stream",tn.CONNECTED="connected",tn.ATTACH="attach",tn.CUSTOM_ITEMS_GET="custom_items_get",tn.CUSTOM_ITEMS_UPDATE="custom_items_update",tn.CUSTOM_ITEMS_DELETE="custom_items_delete",tn.LIVE_EVENT_READY="live_event_ready",tn.LIVE_EVENT_STARTED="live_event_started",tn.LIVE_EVENT_ENDED="live_event_ended",tn.LIVE_EVENT_UPDATED="live_event_updated",tn.HOST_ENTERED="host_entered",tn.HOST_EXITED="host_exited",tn.HOST_DISCONNECTED="host_disconnected",tn.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",tn.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",tn.PARTICIPANT_ENTERED="participant_entered",tn.PARTICIPANT_EXITED="participant_exited",(tn=Qc=Qc||{}).SINGLE_HOST="single_host",tn.MULTIPLE_HOST="multiple_host",function(){_(s,R0);var a=C(s);function s(l){var c;return d(this,s),(c=a.call(this)).payload=c.parseData(l),c}return f(s)}()),Ar=function(){_(s,eB);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s)}();function oo(a){return{liveEventId:a.live_event_id,createdAt:a.created_at,setReadyAt:a.set_ready_at,startedAt:a.started_at,endedAt:a.ended_at,state:a.state,isHostStreaming:a.is_host_streaming,createdBy:a.created_by,setReadyBy:a.set_ready_by,startedBy:a.started_by,endedBy:a.ended_by,duration:a.duration,host:a.host?lo(a.host):void 0,participantCount:a.participant_count,peakParticipantCount:a.peak_participant_count,cumulativeParticipantCount:a.cumulative_participant_count,userIdsForHost:a.user_ids_for_host,customItems:a.custom_items,title:a.title,coverUrl:a.cover_url}}function lo(a){return{hostId:a.host_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,connectedAt:a.connected_at,disconnectedAt:a.disconnected_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,isAudioOn:a.is_audio_on,isVideoOn:a.is_video_on,liveEventId:a.live_event_id}}function rp(a){return{id:a.rtcstream_id}}function ip(a){return{participantId:a.participant_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,liveEventId:a.live_event_id}}var tn=Z,nB=mi.filter;tn({target:"Array",proto:!0,forced:!xn("filter")},{filter:function(a){return nB(this,a,1<arguments.length?arguments[1]:void 0)}});function yk(a){if(9007199254740991<a)throw sB("Maximum allowed index exceeded");return a}function M0(a,s,l){(s=oB(s))in a?lB.f(a,s,uB(0,l)):a[s]=l}function Rs(a){if(mB(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return gB(a)}function Ek(){var a=vB(this),s="";return a.hasIndices&&(s+="d"),a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.unicodeSets&&(s+="v"),a.sticky&&(s+="y"),s}var tB=$n,rB=(mn||rn(Object.prototype,"toString",mn?{}.toString:function(){return"[object "+tB(this)+"]"},{unsafe:!0}),R),iB=Sn,tn=Object.keys||function(a){return rB(a,iB)},aB=Te,wk=tn,sB=(Z({target:"Object",stat:!0,forced:oe(function(){wk(1)})},{keys:function(a){return wk(aB(a))}}),TypeError),oB=bn,lB=Nt,uB=ue,mn=Z,Tn=oe,cB=ti,dB=Le,hB=Te,pB=$,xk=yk,kk=M0,fB=nn,kt=xn,jn=Xr,Ck=Oe("isConcatSpreadable"),jn=51<=jn||!Tn(function(){var a=[];return a[Ck]=!1,a.concat()[0]!==a}),Tn=kt("concat"),mB=(mn({target:"Array",proto:!0,arity:1,forced:!jn||!Tn},{concat:function(a){for(var s,l,c,p=hB(this),m=fB(p,0),g=0,b=-1,w=arguments.length;b<w;b++)if(function(O){if(!dB(O))return!1;var L=O[Ck];return L!==void 0?!!L:cB(O)}(c=b===-1?p:arguments[b]))for(l=pB(c),xk(g+l),s=0;s<l;s++,g++)s in c&&kk(m,g,c[s]);else xk(g+1),kk(m,g++,c);return m.length=g,m}}),$n),gB=String,vB=hn,_B=Mr,bB=lr,yB=pr,EB=Ek,Sk=RegExp.prototype,kt=We.PROPER,mn=rn,wB=hn,Nk=Rs,jn=oe,xB=function(a){var s=a.flags;return s!==void 0||"flags"in Sk||bB(a,"flags")||!yB(Sk,a)?s:_B(EB,a)},Tn="toString",Tk=RegExp.prototype[Tn],jn=jn(function(){return Tk.call({source:"a",flags:"b"})!="/a/b"}),kt=kt&&Tk.name!=Tn;function kB(a){return Object.keys(a).filter(function(s){return a[s]!=null}).map(function(s){return"".concat(encodeURIComponent(s),"=").concat(function(l){return Array.isArray(l)?l.map(function(c){return encodeURIComponent(c.toString())}).join(","):encodeURIComponent(l.toString())}(a[s]))}).join("&")}(jn||kt)&&mn(RegExp.prototype,Tn,function(){var a=wB(this);return"/"+Nk(a.source)+"/"+Nk(xB(a))},{unsafe:!0});var CB=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.QUERY),m.params=m._normalizeParams(l),m.prevToken=c,m.nextToken=p,m}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(L){var c=L.hostType,p=L.liveEventState,m=L.createdAtRange,g=L.participantCountRange,b=L.durationRange,w=L.liveEventIds,O=L.createdByUserIds,L=L.limit;return{hostType:c,liveEventState:p,createdAtRange:m,participantCountRange:g,durationRange:b,liveEventIds:w,createdByUserIds:O,limit:L!=null?Math.min(Math.max(1,L),100):void 0}}},{key:"_createQuery",value:function(){var l;return kB({hostType:this.params.hostType,liveEventState:this.params.liveEventState,created_at_start_date:(l=this.params.createdAtRange)==null?void 0:l[0],created_at_end_date:(l=this.params.createdAtRange)==null?void 0:l[0],participant_count_gte:(l=this.params.participantCountRange)==null?void 0:l[0],participant_count_lte:(l=this.params.participantCountRange)==null?void 0:l[1],duration_range_gte:(l=this.params.durationRange)==null?void 0:l[0],duration_range_lte:(l=this.params.durationRange)==null?void 0:l[1],liveEventIds:this.params.liveEventIds,createdByUserIds:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),s}(),SB=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){var c;return{liveEvents:(c=l.live_events)==null?void 0:c.map(oo),prev:l.prev,next:l.next}}}]),s}(),NB=function(){function a(p,m){d(this,a),this.isLoading=!1,this.params=p,this.sender=m,this.prevToken=null,this.nextToken=null}var s,l,c;return f(a,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(c=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasNext){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return m.stop()}},p,this)})),function(){return c.apply(this,arguments)})},{key:"prev",value:(l=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasPrev){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return m.stop()}},p,this)})),function(){return l.apply(this,arguments)})},{key:"_sendQueryCommand",value:(s=u(regeneratorRuntime.mark(function p(m,g){var b,w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(m&&g)throw new Error("internal error while creating LiveEventListQueryCommand");O.next=2;break;case 2:return this.isLoading=!0,b=new CB(this.params,m,g),O.next=6,this.sender.send(b);case 6:return b=O.sent,w=b.payload,this.prevToken=w.prev,this.nextToken=w.next,this.isLoading=!1,O.abrupt("return",w.liveEvents);case 12:case"end":return O.stop()}},p,this)})),function(p,m){return s.apply(this,arguments)})}]),a}(),jn={},TB=Nt,IB=hn,OB=ve,AB=tn;jn.f=Ye&&!Pn?Object.defineProperties:function(a,s){IB(a);for(var l,c=OB(s),p=AB(s),m=p.length,g=0;g<m;)TB.f(a,l=p[g++],c[l]);return a};function v_(){}function RB(a){a.write(Ak("")),a.close();var s=a.parentWindow.Object;return a=null,s}function D0(a){w_[E_][a]=!0}var __,Bu,kt=te("document","documentElement"),MB=hn,DB=jn,Ik=Sn,mn=Yt,UB=kt,LB=An,b_="prototype",y_="script",Ok=Dn("IE_PROTO"),Ak=function(a){return"<"+y_+">"+a+"</"+y_+">"},U0=function(){try{__=new ActiveXObject("htmlfile")}catch{}U0=typeof document>"u"||document.domain&&__?RB(__):(a=LB("iframe"),s="java"+y_+":",a.style.display="none",UB.appendChild(a),a.src=String(s),(s=a.contentWindow.document).open(),s.write(Ak("document.F=Object")),s.close(),s.F);for(var a,s,l=Ik.length;l--;)delete U0[b_][Ik[l]];return U0()},Tn=(mn[Ok]=!0,Object.create||function(a,s){var l;return a!==null?(v_[b_]=MB(a),l=new v_,v_[b_]=null,l[Ok]=a):l=U0(),s===void 0?l:DB.f(l,s)}),Pn=Oe,jn=Tn,Sn=Nt.f,E_=Pn("unscopables"),w_=Array.prototype,mn=(w_[E_]==null&&Sn(w_,E_,{configurable:!0,value:jn(null)}),Z),PB=mi.findIndex,Pn=D0,Sn="findIndex",Rk=!0,jn=(Sn in[]&&Array(1)[Sn](function(){Rk=!1}),mn({target:"Array",proto:!0,forced:Rk},{findIndex:function(a){return PB(this,a,1<arguments.length?arguments[1]:void 0)}}),Pn(Sn),{}),mn=!oe(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),FB=lr,HB=Ce,qB=Te,Pn=mn,Mk=Dn("IE_PROTO"),x_=Object,BB=x_.prototype,Sn=Pn?x_.getPrototypeOf:function(a){if(a=qB(a),FB(a,Mk))return a[Mk];var s=a.constructor;return HB(s)&&a instanceof s?s.prototype:a instanceof x_?BB:null},mn=oe,Pn=Ce,qi=Sn,$t=rn,k_=Oe("iterator"),rt=!1;[].keys&&("next"in(Gr=[].keys())?(qi=qi(qi(Gr)))!==Object.prototype&&(Bu=qi):rt=!0);function L0(a,s,l){(a=a&&!l?a.prototype:a)&&!jB(a,Dk)&&zB(a,Dk,{configurable:!0,value:s})}function GB(){return this}function $B(){return this}function C_(a,s,l,L,p,m,g){function b(ne){if(ne===p&&ae)return ae;if(!P0&&ne in G)return G[ne];switch(ne){case"keys":case sp:case Fk:return function(){return new l(this,ne)}}return function(){return new l(this)}}sG(l,s,L);var w,O,L=s+" Iterator",q=!1,G=a.prototype,re=G[ap]||G["@@iterator"]||p&&G[p],ae=!P0&&re||b(p),K=s=="Array"&&G.entries||re;if(K&&(K=Uk(K.call(new a)))!==Object.prototype&&K.next&&(Uk(K)!==Pk&&(Lk?Lk(K,Pk):aG(K[ap])||S_(K,ap,$B)),oG(K,L,!0)),cG&&p==sp&&re&&re.name!==sp&&(dG?lG(G,"name",sp):(q=!0,ae=function(){return iG(re,this)})),p)if(w={values:b(sp),keys:m?ae:b("keys"),entries:b(Fk)},g)for(O in w)!P0&&!q&&O in G||S_(G,O,w[O]);else rG({target:s,proto:!0,forced:P0||q},w);return G[ap]!==ae&&S_(G,ap,ae,{name:p}),uG[s]=ae,w}Pn((Bu=Bu==null||mn(function(){var a={};return Bu[k_].call(a)!==a})?{}:Bu)[k_])||$t(Bu,k_,function(){return this});var Gr={IteratorPrototype:Bu,BUGGY_SAFARI_ITERATORS:rt},zB=Nt.f,jB=lr,Dk=Oe("toStringTag"),VB=Gr.IteratorPrototype,WB=Tn,KB=ue,QB=L0,YB=jn,XB=Ce,JB=String,ZB=TypeError,eG=Xn,nG=hn,tG=function(a){if(typeof a=="object"||XB(a))return a;throw ZB("Can't set "+JB(a)+" as a prototype")},qi=Object.setPrototypeOf||("__proto__"in{}?function(){var a,s=!1,l={};try{(a=eG(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(l,[]),s=l instanceof Array}catch{}return function(c,p){return nG(c),tG(p),s?a(c,p):c.__proto__=p,c}}():void 0),rG=Z,iG=Mr,aG=Ce,sG=function(a,s,l,c){return s+=" Iterator",a.prototype=WB(VB,{next:KB(+!c,l)}),QB(a,s,!1),YB[s]=GB,a},Uk=Sn,Lk=qi,oG=L0,lG=dt,S_=rn,Pn=Oe,uG=jn,cG=We.PROPER,dG=We.CONFIGURABLE,Pk=Gr.IteratorPrototype,P0=Gr.BUGGY_SAFARI_ITERATORS,ap=Pn("iterator"),sp="values",Fk="entries",hG=ve,mn=D0,$t=jn,rt=Pt,Sn=Nt.f,We=C_,Gr=Ye,Hk="Array Iterator",pG=rt.set,fG=rt.getterFor(Hk),Pn=We(Array,"Array",function(a,s){pG(this,{type:Hk,target:hG(a),index:0,kind:s})},function(){var a=fG(this),s=a.target,l=a.kind,c=a.index++;return!s||c>=s.length?{value:a.target=void 0,done:!0}:l=="keys"?{value:c,done:!1}:l=="values"?{value:s[c],done:!1}:{value:[c,s[c]],done:!1}},"values"),rt=$t.Arguments=$t.Array;if(mn("keys"),mn("values"),mn("entries"),Gr&&rt.name!=="values")try{Sn(rt,"name",{value:"values"})}catch{}var We={exports:{}},$t={},qk=yn,mG=$,gG=M0,vG=Array,_G=Math.max,bG=Re,yG=ve,Bk=lt.f,EG=function(a,s,l){for(var c=mG(a),p=qk(s,c),m=qk(l===void 0?c:l,c),g=vG(_G(m-p,0)),b=0;p<m;p++,b++)gG(g,b,a[p]);return g.length=b,g},Gk=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];$t.f=function(a){if(!Gk||bG(a)!="Window")return Bk(yG(a));try{return Bk(a)}catch{return EG(Gk)}};function N_(a){NG(a,Ho,{value:{objectID:"O"+OG++,weakData:{}}})}var mn=oe(function(){var a;typeof ArrayBuffer=="function"&&(a=new ArrayBuffer(8),Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8}))}),Gr=oe,wG=Le,xG=Re,$k=mn,T_=Object.isExtensible,Sn=Gr(function(){})||$k?function(a){return!!wG(a)&&(!$k||xG(a)!="ArrayBuffer")&&(!T_||T_(a))}:T_,rt=!oe(function(){return Object.isExtensible(Object.preventExtensions({}))}),kG=Z,CG=Xn,mn=Yt,SG=Le,I_=lr,NG=Nt.f,zk=lt,TG=$t,O_=Sn,IG=rt,jk=!1,Ho=xe("meta"),OG=0,AG=We.exports={enable:function(){AG.enable=function(){},jk=!0;var a=zk.f,s=CG([].splice),l={};l[Ho]=1,a(l).length&&(zk.f=function(c){for(var p=a(c),m=0,g=p.length;m<g;m++)if(p[m]===Ho){s(p,m,1);break}return p},kG({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:TG.f}))},fastKey:function(a,s){if(!SG(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!I_(a,Ho)){if(!O_(a))return"F";if(!s)return"E";N_(a)}return a[Ho].objectID},getWeakData:function(a,s){if(!I_(a,Ho)){if(!O_(a))return!0;if(!s)return!1;N_(a)}return a[Ho].weakData},onFreeze:function(a){return IG&&jk&&O_(a)&&!I_(a,Ho)&&N_(a),a}};mn[Ho]=!0;function Vk(a){if(a!=null)return Wk(a,PG)||Wk(a,"@@iterator")||LG[UG(a)]}function F0(a,s){this.stopped=a,this.result=s}function H0(a,s,l){function c(me){return m&&Yk(m,"normal",me),new F0(!0,me)}function p(me){return G?(KG(me),K?ne(me[0],me[1],c):ne(me[0],me[1])):K?ne(me,c):ne(me)}var m,g,b,w,O,L,q=l&&l.that,G=!(!l||!l.AS_ENTRIES),re=!(!l||!l.IS_RECORD),ae=!(!l||!l.IS_ITERATOR),K=!(!l||!l.INTERRUPTED),ne=VG(s,q);if(re)m=a.iterator;else if(ae)m=a;else{if(!(l=ZG(a)))throw e$(QG(a)+" is not iterable");if(YG(l)){for(g=0,b=XG(a);g<b;g++)if((w=p(a[g]))&&Qk(Xk,w))return w;return new F0(!1)}m=JG(a,l)}for(O=(re?a:m).next;!(L=WG(O,m)).done;){try{w=p(L.value)}catch(me){Yk(m,"throw",me)}if(typeof w=="object"&&w&&Qk(Xk,w))return w}return new F0(!1)}function A_(a,s){if(n$(s,a))return a;throw t$("Incorrect invocation")}var RG=jn,MG=Oe("iterator"),DG=Array.prototype,UG=$n,Wk=Ke,LG=jn,PG=Oe("iterator"),FG=Mr,HG=ge,qG=hn,BG=X,GG=Vk,$G=TypeError,zG=Mr,Kk=hn,jG=Ke,VG=be,WG=Mr,KG=hn,QG=X,YG=function(a){return a!==void 0&&(RG.Array===a||DG[MG]===a)},XG=$,Qk=pr,JG=function(a,s){if(s=arguments.length<2?GG(a):s,HG(s))return qG(FG(s,a));throw $G(BG(a)+" is not iterable")},ZG=Vk,Yk=function(a,s,l){var c,p;Kk(a);try{if(!(c=jG(a,"return"))){if(s==="throw")throw l;return l}c=zG(c,a)}catch(m){p=!0,c=m}if(s==="throw")throw l;if(p)throw c;return Kk(c),l},e$=TypeError,Xk=F0.prototype,n$=pr,t$=TypeError,Jk=Oe("iterator"),Zk=!1;try{var r$=0,od={next:function(){return{done:!!r$++}},return:function(){Zk=!0}};od[Jk]=function(){return this},Array.from(od,function(){throw 2})}catch{}function eC(a,s){if(!s&&!Zk)return!1;var l=!1;try{var c={};c[Jk]=function(){return{next:function(){return{done:l=!0}}}},a(c)}catch{}return l}function nC(a,s,l){return aC&&i$(s=s.constructor)&&s!==l&&a$(s=s.prototype)&&s!==l.prototype&&aC(a,s),a}function tC(s){var s=_$(s),l=b$.f;y$&&s&&!s[oC]&&l(s,oC,{configurable:!0,get:function(){return this}})}function rC(a){return function(p,m){var c,p=I$(O$(p)),m=T$(m),g=p.length;return m<0||g<=m?a?"":void 0:(c=dC(p,m))<55296||56319<c||m+1===g||(g=dC(p,m+1))<56320||57343<g?a?A$(p,m):c:a?R$(p,m,m+2):g-56320+(c-55296<<10)+65536}}function iC(a,s){if(a){if(a[L_]!==P_)try{U_(a,L_,P_)}catch{a[L_]=P_}if(a[mC]||U_(a,mC,s),fC[s]){for(var l in lp)if(a[l]!==lp[l])try{U_(a,l,lp[l])}catch{a[l]=lp[l]}}}}var q0,i$=Ce,a$=Le,aC=qi,s$=Z,o$=ht,l$=Xn,sC=zt,u$=rn,c$=We.exports,d$=H0,h$=A_,p$=Ce,R_=Le,M_=oe,f$=eC,m$=L0,g$=nC,v$=rn,_$=te,b$=Nt,y$=Ye,oC=Oe("species"),E$=Nt.f,w$=Tn,lC=function(a,s,l){for(var c in s)v$(a,c,s[c],l);return a},x$=be,k$=A_,C$=H0,S$=C_,N$=tC,op=Ye,uC=We.exports.fastKey,cC=Pt.set,D_=Pt.getterFor,Gr=(function(a,s,l){function c(ne){var me=l$(re[ne]);u$(re,ne,ne=="add"?function(_e){return me(this,_e===0?0:_e),this}:ne=="delete"?function(_e){return!(L&&!R_(_e))&&me(this,_e===0?0:_e)}:ne=="get"?function(_e){return L&&!R_(_e)?void 0:me(this,_e===0?0:_e)}:ne=="has"?function(_e){return!(L&&!R_(_e))&&me(this,_e===0?0:_e)}:function(_e,Se){return me(this,_e===0?0:_e,Se),this})}var p,m,g,b,w,O=a.indexOf("Map")!==-1,L=a.indexOf("Weak")!==-1,q=O?"set":"add",G=o$[a],re=G&&G.prototype,ae=G,K={};return sC(a,!p$(G)||!(L||re.forEach&&!M_(function(){new G().entries().next()})))?(ae=l.getConstructor(s,a,O,q),c$.enable()):sC(a,!0)&&(m=(p=new ae)[q](L?{}:-0,1)!=p,g=M_(function(){p.has(1)}),b=f$(function(ne){new G(ne)}),w=!L&&M_(function(){for(var ne=new G,me=5;me--;)ne[q](me,me);return!ne.has(-0)}),b||(((ae=s(function(ne,me){return h$(ne,re),ne=g$(new G,ne,ae),me!=null&&d$(me,ne[q],{that:ne,AS_ENTRIES:O}),ne})).prototype=re).constructor=ae),(g||w)&&(c("delete"),c("has"),O&&c("get")),(w||m)&&c(q),L&&re.clear&&delete re.clear),K[a]=ae,s$({global:!0,constructor:!0,forced:ae!=G},K),m$(ae,a),L||l.setStrong(ae,a,O),ae}("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(g,s,l,c){function p(O,L,q){var G,re=w(O),ae=m(O,L);return ae?ae.value=q:(re.last=ae={index:G=uC(L,!0),key:L,value:q,previous:L=re.last,next:void 0,removed:!1},re.first||(re.first=ae),L&&(L.next=ae),op?re.size++:O.size++,G!=="F"&&(re.index[G]=ae)),O}function m(G,L){var q,G=w(G),re=uC(L);if(re!=="F")return G.index[re];for(q=G.first;q;q=q.next)if(q.key==L)return q}var g=g(function(O,L){k$(O,b),cC(O,{type:s,index:w$(null),first:void 0,last:void 0,size:0}),op||(O.size=0),L!=null&&C$(L,O[c],{that:O,AS_ENTRIES:l})}),b=g.prototype,w=D_(s);return lC(b,{clear:function(){for(var O=w(this),L=O.index,q=O.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete L[q.index],q=q.next;O.first=O.last=void 0,op?O.size=0:this.size=0},delete:function(re){var L,q,G=w(this),re=m(this,re);return re&&(L=re.next,q=re.previous,delete G.index[re.index],re.removed=!0,q&&(q.next=L),L&&(L.previous=q),G.first==re&&(G.first=L),G.last==re&&(G.last=q),op?G.size--:this.size--),!!re},forEach:function(O){for(var L,q=w(this),G=x$(O,1<arguments.length?arguments[1]:void 0);L=L?L.next:q.first;)for(G(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(O){return!!m(this,O)}}),lC(b,l?{get:function(O){return O=m(this,O),O&&O.value},set:function(O,L){return p(this,O===0?0:O,L)}}:{add:function(O){return p(this,O=O===0?0:O,O)}}),op&&E$(b,"size",{get:function(){return w(this).size}}),g},setStrong:function(a,s,l){var c=s+" Iterator",p=D_(s),m=D_(c);S$(a,s,function(g,b){cC(this,{type:c,target:g,state:p(g),kind:b,last:void 0})},function(){for(var g=m(this),b=g.kind,w=g.last;w&&w.removed;)w=w.previous;return g.target&&(g.last=w=w?w.next:g.state.first)?b=="keys"?{value:w.key,done:!1}:b=="values"?{value:w.value,done:!1}:{value:[w.key,w.value],done:!1}:{value:g.target=void 0,done:!0}},l?"entries":"values",!l,!0),N$(s)}}),Xn),T$=Rn,I$=Rs,O$=He,A$=Gr("".charAt),dC=Gr("".charCodeAt),R$=Gr("".slice),Yt={codeAt:rC(!1),charAt:rC(!0)},M$=Yt.charAt,D$=Rs,$t=Pt,Sn=C_,hC="String Iterator",U$=$t.set,L$=$t.getterFor(hC),rt=(Sn(String,"String",function(a){U$(this,{type:hC,string:D$(a),index:0})},function(){var a=L$(this),s=a.string,l=a.index;return l>=s.length?{value:void 0,done:!0}:(s=M$(s,l),a.index+=s.length,{value:s,done:!1})}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),mn=An("span").classList,$n=mn&&mn.constructor&&mn.constructor.prototype,jn=$n===Object.prototype?void 0:$n,pC=ht,fC=rt,od=jn,lp=Pn,U_=dt,We=Oe,L_=We("iterator"),mC=We("toStringTag"),P_=lp.values;for(q0 in fC)iC(pC[q0]&&pC[q0].prototype,q0);iC(od,"DOMTokenList");function F_(a,s){var l=[][a];return!!l&&zz(function(){l.call(null,s||function(){return 1},1)})}function gC(a){if(a&&a.forEach!==G_)try{Vz(a,"forEach",G_)}catch{a.forEach=G_}}var sr,B0,vC=Ye,Gr=Xn,P$=Mr,$t=oe,H_=tn,F$=yt,H$=fr,q$=Te,B$=xa,ld=Object.assign,_C=Object.defineProperty,G$=Gr([].concat),Sn=!ld||$t(function(){if(vC&&ld({b:1},ld(_C({},"a",{enumerable:!0,get:function(){_C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},s={},l=Symbol(),c="abcdefghijklmnopqrst";return a[l]=7,c.split("").forEach(function(p){s[p]=p}),ld({},a)[l]!=7||H_(ld({},s)).join("")!=c})?function(a,s){for(var l=q$(a),c=arguments.length,p=1,m=F$.f,g=H$.f;p<c;)for(var b,w=B$(arguments[p++]),O=m?G$(H_(w),m(w)):H_(w),L=O.length,q=0;q<L;)b=O[q++],vC&&!P$(g,w,b)||(l[b]=w[b]);return l}:ld,mn=(Z({target:"Object",stat:!0,arity:2,forced:Object.assign!==Sn},{assign:Sn}),Z),$$=ze.includes,$n=D0,z$=(mn({target:"Array",proto:!0,forced:oe(function(){return!Array(1).includes()})},{includes:function(a){return $$(this,a,1<arguments.length?arguments[1]:void 0)}}),$n("includes"),Le),j$=Re,V$=Oe("match"),W$=function(a){var s;return z$(a)&&((s=a[V$])!==void 0?!!s:j$(a)=="RegExp")},K$=TypeError,Q$=Oe("match"),Pn=Z,Y$=function(a){if(W$(a))throw K$("The method doesn't accept regular expressions");return a},X$=He,bC=Rs,We=function(a){var s=/./;try{"/./"[a](s)}catch{try{return s[Q$]=!1,"/./"[a](s)}catch{}}return!1},J$=Xn("".indexOf),Z$=(Pn({target:"String",proto:!0,forced:!We("includes")},{includes:function(a){return!!~J$(bC(X$(this)),bC(Y$(a)),1<arguments.length?arguments[1]:void 0)}}),t.LiveEventRole=void 0,(od=t.LiveEventRole||(t.LiveEventRole={})).HOST="host",od.PARTICIPANT="participant",t.LiveEventState=void 0,(tn=t.LiveEventState||(t.LiveEventState={})).CREATED="created",tn.READY="ready",tn.ONGOING="ongoing",tn.PAUSED="paused",tn.ENDED="ended",t.HostState=void 0,(yt=t.HostState||(t.HostState={})).ENTERED="entered",yt.CONNECTED="connected",yt.DISCONNECTED="disconnected",yt.EXITED="exited",t.ParticipantState=void 0,(fr=t.ParticipantState||(t.ParticipantState={})).ENTERED="entered",fr.EXITED="exited",function(){_(s,bk);var a=C(s);function s(l,c,p){var m;return d(this,s),(m=a.call(this)).appId=l,m.userId=c,m.accessToken=p,m}return f(s,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),s}()),ez=((Gr=sr=sr||{}).POST="POST",Gr.GET="GET",Gr.DELETE="DELETE",Gr.OPTION="OPTION",Gr.PUT="PUT",function(){_(s,hr);var a=C(s);function s(l,c,p,m,g){var b;return d(this,s),v(x(b=a.call(this)),"type",un.CREATE),b.hostType=l,b.hostIds=Array.isArray(c)?c:[c],b.title=p===null?"":p,b.coverUrl=m===null?"":m,b.coverFile=g===null?"":g,b}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&c.set(m,g)}var c=new FormData;return l(0,"host_type",this.hostType),l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),c}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return sr.POST}}]),s}()),nz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:oo(l.live_event)}}}]),s}(),tz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.GET),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return sr.GET}}]),s}(),rz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:oo(l.live_event)}}}]),s}(),iz=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.ENTER_HOST),v(x(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=l,p.mediaOption=c,p}return f(s,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),az=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:lo(l.host)}}}]),s}(),sz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.READY),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),oz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:oo(l.live_event)}}}]),s}(),lz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.START),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),uz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:oo(l.live_event)}}}]),s}(),cz=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.EXIT_HOST),p.liveEventId=l,p.hostId=c,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),dz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:lo(l.host)}}}]),s}(),hz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.DELETE),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),pz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:oo(l.live_event)}}}]),s}(),fz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.ENTER),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),mz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:ip(l.participant)}}}]),s}(),gz=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.EXIT),p.liveEventId=l,p.participantId=c,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),vz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:ip(l.participant)}}}]),s}(),_z=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.CONNECTED),m.liveEventId=l,m.participantId=c,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),bz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:rp(l.rtcstream)}}}]),s}(),yz=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.HOST_CONNECTED),m.liveEventId=l,m.hostId=c,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Ez=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:rp(l.rtcstream)}}}]),s}(),wz=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.DELETE_STREAM),m.liveEventId=l,m.participantId=c,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),xz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),kz=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.HOST_DELETE_STREAM),m.liveEventId=l,m.hostId=c,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),Cz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Sz=function(){_(s,hr);var a=C(s);function s(l,c,p,m){var g;return d(this,s),v(x(g=a.call(this)),"type",un.ATTACH),g.liveEventId=l,g.participantId=c,g.endpointId=p,g.attachTo=m,g}return f(s,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Nz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:rp(l.rtcstream)}}}]),s}(),_a=function(){_(s,R0);var a=C(s);function s(l){var c;return d(this,s),(c=a.call(this)).type=l.type,c.version=l.version,c.messageId=l.message_id,c.payload=c.parseData(l.payload),c}return f(s)}(),yC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:oo(l.live_event)}}}]),s}(),EC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:oo(l.live_event)}}}]),s}(),wC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:oo(l.live_event)}}}]),s}(),xC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),kC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),CC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),q_=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),B_=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),SC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:ip(l.participant),participantCount:l.particpant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),NC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:ip(l.participant),participantCount:l.particpant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),Tz=function(){_(s,hr);var a=C(s);function s(l,c,p,m,g){var b;return d(this,s),v(x(b=a.call(this)),"type",un.CREATE_STREAM),b.liveEventId=l,b.participantId=c,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Iz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:rp(l.rtcstream)}}}]),s}(),Oz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{hosts:l.hosts.map(lo)}}}]),s}(),Az=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.HOST_ALIVE),p.liveEventId=l,p.hostId=c,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Rz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Mz=function(){_(s,hr);var a=C(s);function s(l,c,p,m,g){var b;return d(this,s),v(x(b=a.call(this)),"type",un.HOST_CREATE_STREAM),b.liveEventId=l,b.hostId=c,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Dz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:rp(l.rtcstream)}}}]),s}(),Uz=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.ALIVE),p.liveEventId=l,p.participantId=c,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Lz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Pz=function(){_(s,Ar);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:ip(l.participant)}}}]),s}(),Fz=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.AUDIO),m.liveEventId=l,m.hostId=c,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),Hz=function(){_(s,hr);var a=C(s);function s(l,c,p){var m;return d(this,s),v(x(m=a.call(this)),"type",un.VIDEO),m.liveEventId=l,m.hostId=c,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return sr.POST}}]),s}(),TC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:lo(l.host)}}}]),s}(),qz=function(){_(s,hr);var a=C(s);function s(l,c,p,m,g){var b;return d(this,s),v(x(b=a.call(this)),"type",un.UPDATE),b.liveEventId=l,b.hostIds=c===null?"":Array.isArray(c)?c:[c],b.title=p===null?"":p,b.coverUrl=m===null?"":m,b.coverFile=g===null?"":g,b}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&c.set(m,g)}var c=new FormData;return l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),c}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return sr.PUT}}]),s}(),IC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:oo(l.live_event)}}}]),s}(),Bz=function(){_(s,hr);var a=C(s);function s(l){var c;return d(this,s),v(x(c=a.call(this)),"type",un.CUSTOM_ITEMS_GET),c.liveEventId=l,c}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return sr.GET}}]),s}(),Gz=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.CUSTOM_ITEMS_UPDATE),p.liveEventId=l,p.customItems=c,p}return f(s,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return sr.PUT}}]),s}(),$z=function(){_(s,hr);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"type",un.CUSTOM_ITEMS_DELETE),p.liveEventId=l,p.keys=c,p}return f(s,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return sr.DELETE}}]),s}(),OC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,updatedAt:l.updated_at,customItems:l.custom_items,updatedKeys:l.updated_keys}}}]),s}(),AC=function(){_(s,_a);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,deletedAt:l.deleted_at,customItems:l.custom_items,deletedKeys:l.deleted_keys}}}]),s}(),er=function(){function a(){d(this,a)}return f(a,null,[{key:"createAuth",value:function(s,l,c){return new Z$(s,l,c)}},{key:"createLiveEvent",value:function(s,l,c,p,m){return new ez(s,l,c,p,m)}},{key:"updateLiveEvent",value:function(s,l,c,p,m){return new qz(s,l,c,p,m)}},{key:"createGetLiveEvent",value:function(s){return new tz(s)}},{key:"createEnterHost",value:function(s,l){return new iz(s,l)}},{key:"createReady",value:function(s){return new sz(s)}},{key:"createStart",value:function(s){return new lz(s)}},{key:"createExitHost",value:function(s,l){return new cz(s,l)}},{key:"createEndLiveEvent",value:function(s){return new hz(s)}},{key:"createEnter",value:function(s){return new fz(s)}},{key:"createExit",value:function(s,l){return new gz(s,l)}},{key:"createConnected",value:function(s,l,c){return new _z(s,l,c)}},{key:"createHostConnected",value:function(s,l,c){return new yz(s,l,c)}},{key:"createStream",value:function(s,l,c,p,m){return new Tz(s,l,c,p,m)}},{key:"createHostCreateStream",value:function(s,l,c,p,m){return new Mz(s,l,c,p,m)}},{key:"createDeleteStream",value:function(s,l,c){return new wz(s,l,c)}},{key:"createHostDeleteStream",value:function(s,l,c){return new kz(s,l,c)}},{key:"createAttach",value:function(s,l,c,p){return new Sz(s,l,c,p)}},{key:"createAudio",value:function(s,l,c){return new Fz(s,l,c)}},{key:"createVideo",value:function(s,l,c){return new Hz(s,l,c)}},{key:"createAlive",value:function(s,l){return new Uz(s,l)}},{key:"createHostAlive",value:function(s,l){return new Az(s,l)}},{key:"createGetCustomItems",value:function(s){return new Bz(s)}},{key:"createUpdateCustomItems",value:function(s,l){return new Gz(s,l)}},{key:"createDeleteCustomItems",value:function(s,l){return new $z(s,l)}},{key:"parseResponse",value:function(s,l){try{switch(s.type){case un.CREATE:return new nz(l);case un.GET:return new rz(l);case un.DELETE:return new pz(l);case un.QUERY:return new SB(l);case un.READY:return new oz(l);case un.START:return new uz(l);case un.ENTER_HOST:return new az(l);case un.GET_HOSTS:return new Oz(l);case un.EXIT_HOST:return new dz(l);case un.HOST_ALIVE:return new Rz(l);case un.AUDIO:return new q_(l);case un.VIDEO:return new B_(l);case un.HOST_CREATE_STREAM:return new Dz(l);case un.HOST_DELETE_STREAM:return new Cz(l);case un.HOST_CONNECTED:return new Ez(l);case un.ENTER:return new mz(l);case un.EXIT:return new vz(l);case un.ALIVE:return new Lz(l);case un.GET_PARTICIPANTS:return new Pz(l);case un.CREATE_STREAM:return new Iz(l);case un.DELETE_STREAM:return new xz(l);case un.CONNECTED:return new bz(l);case un.ATTACH:return new Nz(l);case un.CUSTOM_ITEMS_UPDATE:return new OC(l);case un.CUSTOM_ITEMS_DELETE:return new AC(l)}}catch{return}}},{key:"parse",value:function(s){if(s.call_type==="live")try{switch(s.type){case un.LIVE_EVENT_READY:return new yC(s);case un.LIVE_EVENT_STARTED:return new EC(s);case un.LIVE_EVENT_ENDED:return new wC(s);case un.LIVE_EVENT_UPDATED:return new IC(s);case un.HOST_ENTERED:return new xC(s);case un.HOST_EXITED:return new kC(s);case un.HOST_CONNECTED:return new CC(s);case un.HOST_DISCONNECTED:return new TC(s);case un.HOST_AUDIO_STATUS_CHANGED:return new q_(s);case un.HOST_VIDEO_STATUS_CHANGED:return new B_(s);case un.PARTICIPANT_ENTERED:return new SC(s);case un.PARTICIPANT_EXITED:return new NC(s)}}catch{return}}}]),a}(),zz=oe,jz=mi.forEach,RC=ht,MC=rt,$t=jn,G_=F_("forEach")?[].forEach:function(a){return jz(this,a,1<arguments.length?arguments[1]:void 0)},Vz=dt;for(B0 in MC)MC[B0]&&gC(RC[B0]&&RC[B0].prototype);gC($t);var DC=X,Wz=TypeError,Sn=Z,Kz=Te,Qz=yn,Yz=Rn,Xz=$,Jz=yk,Zz=nn,ej=M0,$_=function(a,s){if(!delete a[s])throw Wz("Cannot delete property "+DC(s)+" of "+DC(a))},mn=xn("splice"),nj=Math.max,tj=Math.min;Sn({target:"Array",proto:!0,forced:!mn},{splice:function(q,s){var l,c,p,m,g,b,w=Kz(this),O=Xz(w),L=Qz(q,O),q=arguments.length;for(q===0?l=c=0:c=q===1?(l=0,O-L):(l=q-2,tj(nj(Yz(s),0),O-L)),Jz(O+l-c),p=Zz(w,c),m=0;m<c;m++)(g=L+m)in w&&ej(p,m,w[g]);if(l<(p.length=c)){for(m=L;m<O-c;m++)b=m+l,(g=m+c)in w?w[b]=w[g]:$_(w,b);for(m=O;O-c+l<m;m--)$_(w,m-1)}else if(c<l)for(m=O-c;L<m;m--)b=m+l-1,(g=m+c-1)in w?w[b]=w[g]:$_(w,b);for(m=0;m<l;m++)w[m+L]=arguments[m+2];return w.length=O-c+l,p}});var gi,$n=Xn([].slice),Pn=Z,UC=ti,rj=ra,ij=Le,LC=yn,aj=$,sj=ve,oj=M0,We=Oe,lj=$n,tn=xn("slice"),uj=We("species"),z_=Array,cj=Math.max,Ol=(Pn({target:"Array",proto:!0,forced:!tn},{slice:function(a,s){var l,c,p,m=sj(this),g=aj(m),b=LC(a,g),w=LC(s===void 0?g:s,g);if(UC(m)&&(l=m.constructor,(l=rj(l)&&(l===z_||UC(l.prototype))||ij(l)&&(l=l[uj])===null?void 0:l)===z_||l===void 0))return lj(m,b,w);for(c=new(l===void 0?z_:l)(cj(w-b,0)),p=0;b<w;b++,p++)b in m&&oj(c,p,m[b]);return c.length=p,c}}),function(){function a(){d(this,a),v(this,"_listeners",{}),v(this,"on",this.addEventListener),v(this,"off",this.removeEventListener)}return f(a,[{key:"addEventListener",value:function(s,l){var c=this;return s in this._listeners||(this._listeners[s]=[]),this._listeners[s].push(l),function(){return c.removeEventListener(s,l)}}},{key:"once",value:function(s,l){var c=this;return this.on(s,function p(){l.apply(void 0,arguments),c.removeEventListener(s,p)})}},{key:"removeEventListener",value:function(s,l){if(s in this._listeners){for(var c=this._listeners[s],p=0,m=c.length;p<m;p++)if(c[p]===l)return void c.splice(p,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(s){if(s in this._listeners){for(var l=this._listeners[s].slice(),c=arguments.length,p=new Array(1<c?c-1:0),m=1;m<c;m++)p[m-1]=arguments[m];for(var g,b=0,w=l.length;b<w;b++)(g=l[b]).call.apply(g,[this].concat(p))}}}]),a}()),yt=Z,fr=Xn,dj=ze.indexOf,rt=F_,j_=fr([].indexOf),PC=!!j_&&1/j_([1],1,-0)<0,jn=rt("indexOf");yt({target:"Array",proto:!0,forced:PC||!jn},{indexOf:function(a){var s=1<arguments.length?arguments[1]:void 0;return PC?j_(this,a,s)||0:dj(this,a,s)}}),($t=gi=gi||{}).VERBOSE="VERBOSE",$t.DEBUG="DEBUG",$t.INFO="INFO",$t.WARNING="WARNING",$t.ERROR="ERROR",$t.NONE="NONE";function FC(a,s,l,c){var p,m=WC(a),g=!VC(function(){var w={};return w[m]=function(){return 7},""[a](w)!=7}),b=g&&!VC(function(){var w=!1,O=/a/;return a==="split"&&((O={constructor:{}}).constructor[kj]=function(){return O},O.flags="",O[m]=/./[m]),O.exec=function(){return w=!0,null},O[m](""),!w});g&&b&&!l||(p=zC(/./[m]),b=s(m,""[a],function(re,O,L,q,G){var re=zC(re),ae=O.exec;return ae===wj||ae===X_.exec?g&&!G?{done:!0,value:p(O,L,q)}:{done:!0,value:re(L,O,q)}:{done:!1}}),jC(String.prototype,a,b[0]),jC(X_,m,b[1])),c&&xj(X_[m],"sham",!0)}function HC(a,s,l){return s+(l?Cj(a,s).length:1)}function qC(a,s){var l=a.exec;if(Rj(l))return(l=KC(l,a,s))!==null&&Aj(l),l;if(Mj(a)==="RegExp")return KC(Dj,a,s);throw Uj("RegExp#exec called on incompatible receiver")}var fn=new(function(){function a(){d(this,a),this._listeners=[]}return f(a,[{key:"verbose",value:function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];this._log.apply(this,[gi.VERBOSE].concat(l))}},{key:"debug",value:function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];this._log.apply(this,[gi.DEBUG].concat(l))}},{key:"info",value:function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];this._log.apply(this,[gi.INFO].concat(l))}},{key:"warning",value:function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];this._log.apply(this,[gi.WARNING].concat(l))}},{key:"error",value:function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];this._log.apply(this,[gi.ERROR].concat(l))}},{key:"_log",value:function(s){for(var l=arguments.length,c=new Array(1<l?l-1:0),p=1;p<l;p++)c[p-1]=arguments[p];var m,g=D(this._listeners);try{for(g.s();!(m=g.n()).done;){var b=m.value;b._permit.apply(b,[s].concat(c))}}catch(w){g.e(w)}finally{g.f()}}},{key:"addListener",value:function(s){this._listeners.push(s)}},{key:"removeListener",value:function(s){s=this._listeners.indexOf(s),s!==-1&&this._listeners.splice(s,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),a}()),Sn=oe,V_=ht.RegExp,mn=Sn(function(){var a=V_("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),ti=mn||Sn(function(){return!V_("a","y").sticky}),We={BROKEN_CARET:mn||Sn(function(){var a=V_("^r","gy");return a.lastIndex=2,a.exec("str")!=null}),MISSED_STICKY:ti,UNSUPPORTED_Y:mn},Pn=oe,hj=ht.RegExp,tn=Pn(function(){var a=hj(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")}),ze=oe,pj=ht.RegExp,fr=ze(function(){var a=pj("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"}),ud=Mr,rt=Xn,fj=Rs,mj=Ek,yt=We,jn=or.exports,gj=Tn,vj=Pt.get,$t=tn,Sn=fr,_j=jn("native-string-replace",String.prototype.replace),G0=RegExp.prototype.exec,W_=G0,bj=rt("".charAt),yj=rt("".indexOf),Ej=rt("".replace),K_=rt("".slice),Q_=(ti=/b*/g,ud(G0,mn=/a/,"a"),ud(G0,ti,"a"),mn.lastIndex!==0||ti.lastIndex!==0),BC=yt.BROKEN_CARET,Y_=/()??/.exec("")[1]!==void 0,Pn=W_=Q_||Y_||BC||$t||Sn?function(w){var s,l,c,p,m,g,b=this,G=vj(b),w=fj(w),L=G.raw;if(L)return L.lastIndex=b.lastIndex,q=ud(W_,L,w),b.lastIndex=L.lastIndex,q;var O=G.groups,L=BC&&b.sticky,q=ud(mj,b),G=b.source,re=0,ae=w;if(L&&(q=Ej(q,"y",""),yj(q,"g")===-1&&(q+="g"),ae=K_(w,b.lastIndex),0<b.lastIndex&&(!b.multiline||b.multiline&&bj(w,b.lastIndex-1)!==`
`)&&(G="(?: "+G+")",ae=" "+ae,re++),s=new RegExp("^(?:"+G+")",q)),Y_&&(s=new RegExp("^"+G+"$(?!\\s)",q)),Q_&&(l=b.lastIndex),c=ud(G0,L?s:b,ae),L?c?(c.input=K_(c.input,re),c[0]=K_(c[0],re),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:Q_&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),Y_&&c&&1<c.length&&ud(_j,c[0],s,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(c[p]=void 0)}),c&&O)for(c.groups=m=gj(null),p=0;p<O.length;p++)m[(g=O[p])[0]]=c[g[1]];return c}:W_,ze=(Z({target:"RegExp",proto:!0,forced:/./.exec!==Pn},{exec:Pn}),vi),We=Function.prototype,GC=We.apply,$C=We.call,or=typeof Reflect=="object"&&Reflect.apply||(ze?$C.bind(GC):function(){return $C.apply(GC,arguments)}),zC=Xn,jC=rn,wj=Pn,VC=oe,WC=Oe,xj=dt,kj=WC("species"),X_=RegExp.prototype,Cj=Yt.charAt,Tn=Xn,Sj=Te,Nj=Math.floor,J_=Tn("".charAt),Tj=Tn("".replace),Z_=Tn("".slice),Ij=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Oj=/\$([$&'`]|\d{1,2})/g,KC=Mr,Aj=hn,Rj=Ce,Mj=Re,Dj=Pn,Uj=TypeError,Lj=or,QC=Mr,tn=Xn,fr=FC,jn=oe,Pj=hn,Fj=Ce,Hj=Rn,qj=Cn,cd=Rs,Bj=He,Gj=HC,$j=Ke,zj=function(a,s,l,c,p,m){var g=l+a.length,b=c.length,w=Oj;return p!==void 0&&(p=Sj(p),w=Ij),Tj(m,w,function(O,L){var q;switch(J_(L,0)){case"$":return"$";case"&":return a;case"`":return Z_(s,0,l);case"'":return Z_(s,g);case"<":q=p[Z_(L,1,-1)];break;default:var G,re=+L;if(re==0)return O;if(b<re)return(G=Nj(re/10))!==0&&G<=b?c[G-1]===void 0?J_(L,1):c[G-1]+J_(L,1):O;q=c[re-1]}return q===void 0?"":q})},jj=qC,eb=Oe("replace"),Vj=Math.max,Wj=Math.min,Kj=tn([].concat),nb=tn([].push),YC=tn("".indexOf),XC=tn("".slice),rt="a".replace(/./,"$0")==="$0",JC=!!/./[eb]&&/./[eb]("a","$0")==="";fr("replace",function(a,s,l){var c=JC?"$":"$0";return[function(p,m){var g=Bj(this),b=p==null?void 0:$j(p,eb);return b?QC(b,p,g,m):QC(s,cd(g),p,m)},function(p,m){var g=Pj(this),b=cd(p);if(typeof m=="string"&&YC(m,c)===-1&&YC(m,"$<")===-1&&(p=l(s,g,b,m),p.done))return p.value;for(var w,O=Fj(m),L=(O||(m=cd(m)),g.global),q=(L&&(w=g.unicode,g.lastIndex=0),[]);(ne=jj(g,b))!==null&&(nb(q,ne),L);)cd(ne[0])===""&&(g.lastIndex=Gj(b,qj(g.lastIndex),w));for(var G,re="",ae=0,K=0;K<q.length;K++){for(var ne,me=cd((ne=q[K])[0]),_e=Vj(Wj(Hj(ne.index),b.length),0),Se=[],Jt=1;Jt<ne.length;Jt++)nb(Se,(G=ne[Jt])===void 0?G:String(G));var Dr=ne.groups,Ft=O?(Ft=Kj([me],Se,_e,b),Dr!==void 0&&nb(Ft,Dr),cd(Lj(m,void 0,Ft))):zj(me,b,_e,Se,Dr,m);ae<=_e&&(re+=XC(b,ae,_e)+Ft,ae=_e+me.length)}return re+XC(b,ae)}]},!!jn(function(){var a=/./;return a.exec=function(){var s=[];return s.groups={a:"7"},s},"".replace(a,"$<a>")!=="7"})||!rt||JC);function tb(a){return function(s){return s=Yj(Qj(s)),1&a&&(s=ZC(s,Xj,"")),s=2&a?ZC(s,Jj,""):s}}var mn=Xn(1 .valueOf),ti=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Qj=He,Yj=Rs,ZC=Xn("".replace),yt=`[	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]`,Xj=RegExp("^"+yt+yt+"*"),Jj=RegExp(yt+yt+"*$"),$t={start:tb(1),end:tb(2),trim:tb(3)},Sn=Ye,vi=ht,We=Xn,ze=zt,dt=rn,eS=lr,Zj=nC,eV=pr,nV=Rr,nS=Je,tV=oe,Yt=lt.f,rV=Hi.f,iV=Nt.f,aV=mn,sV=$t.trim,Tn="Number",Al=vi[Tn],tS=Al.prototype,oV=vi.TypeError,lV=We("".slice),$0=We("".charCodeAt),uV=function(a){var s,l,c,p,m,g,b,w=nS(a,"number");if(nV(w))throw oV("Cannot convert a Symbol value to a number");if(typeof w=="string"&&2<w.length){if(w=sV(w),(a=$0(w,0))===43||a===45){if((s=$0(w,2))===88||s===120)return NaN}else if(a===48){switch($0(w,1)){case 66:case 98:l=2,c=49;break;case 79:case 111:l=8,c=55;break;default:return+w}for(m=(p=lV(w,2)).length,g=0;g<m;g++)if((b=$0(p,g))<48||c<b)return NaN;return parseInt(p,l)}}return+w};if(ze(Tn,!Al(" 0o1")||!Al("0b1")||Al("+0x1"))){for(var z0,up=function(s){var s=arguments.length<1?0:Al(function(c){return c=nS(c,"number"),typeof c=="bigint"?c:uV(c)}(s)),l=this;return eV(tS,l)&&tV(function(){aV(l)})?Zj(Object(s),l,up):s},rS=Sn?Yt(Al):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),rb=0;rS.length>rb;rb++)eS(Al,z0=rS[rb])&&!eS(up,z0)&&iV(up,z0,rV(Al,z0));dt(vi,Tn,(up.prototype=tS).constructor=up,{constructor:!0})}function ib(a){Object.keys(a).forEach(function(s){var l;((l=a[s])===void 0||Number.isNaN(l)||l===""||Array.isArray(l)&&l.length===0)&&delete a[s]})}var St,ab,cp,cV=function(){var a=u(regeneratorRuntime.mark(function s(l){var c,p,m,g,b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(l){G.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return G.next=4,l.getStats();case 4:c=G.sent,m=c.entries(),g=0;case 7:if(!(g<c.size)){G.next=18;break}if(b=m.next(),b=b.value){G.next=11;break}return G.abrupt("continue",15);case 11:if((w=b[1]).type==="candidate-pair"&&w.state==="succeeded")return p=w.localCandidateId,G.abrupt("break",18);G.next=15;break;case 15:g++,G.next=7;break;case 18:if(!(g<c.size)){G.next=28;break}if(w=m.next(),O=w.value){G.next=22;break}return G.abrupt("continue",25);case 22:if((L=O[1]).type==="local-candidate"&&L.id===p)return G.abrupt("return",{connectionType:(q=L.candidateType)!=null?q:"",protocol:(q=L.protocol)!=null?q:"",relayProtocol:(q=L.relayProtocol)!=null?q:""});G.next=25;break;case 25:g++,G.next=18;break;case 28:return G.abrupt("return",null);case 29:case"end":return G.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),dV=function(){var a=u(regeneratorRuntime.mark(function s(l){var c,p,m,g,b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return c={},p={},m={},g={},b=new Map,w=new Map,l.forEach(function(q){q.type==="codec"&&b.set(q.id,q),q.type==="candidate-pair"&&q.state==="succeeded"&&(O=q.localCandidateId,c.webrtc_timestamp=q.time),q.type==="media-source"&&w.set(q.kind,q)}),l.forEach(function(q){var G;q.type==="local-candidate"&&q.id===O&&(p.network_type=q.networkType,p.protocol=q.protocol,p.candidate_type=q.candidateType),q.kind!=="audio"&&q.mediaType!=="audio"||(q.type==="outbound-rtp"&&(m.codec=(G=b.get(q.codecId))==null?void 0:G.mimeType,m.total_packets_sent=q.packetsSent,m.retransmitted_packets_sent=q.retransmittedPacketsSent),q.type==="remote-inbound-rtp"&&(m.rtt=1e3*q.roundTripTime),q.type==="inbound-rtp"&&(G=q.packetsLost/(q.packetsLost+q.packetsReceived)*100,m.total_packets_received=q.packetsReceived,m.total_packets_lost_rate=G,m.total_packets_lost=q.packetsLost,m.jitter=1e3*q.jitter),q.type==="track"&&q.remoteSource&&(m.jitter_buffer_delay=q.jitterBufferDelay,m.jitter_buffer_emitted_count=q.jitterBufferDelayEmittedCount)),q.kind!=="video"&&q.mediaType!=="video"||(g.video_source_width=(G=w.get("video"))==null?void 0:G.width,g.video_source_height=(G=w.get("video"))==null?void 0:G.height,g.video_source_frames_per_second=(G=w.get("video"))==null?void 0:G.framesPerSecond,q.type==="outbound-rtp"&&(g.codec=(G=b.get(q.codecId))==null?void 0:G.mimeType,g.fir_count=q.firCount,g.pli_count=q.pliCount,g.nack_count=q.nackCount,g.qp_sum=q.qpSum,g.retransmitted_packets_sent=q.retransmittedBytesSent,g.quality_limitation_reason=q.qualityLimitationReason,g.quality_limitation_resolution_changes=q.qualityLimitationResolutionChanges),q.type==="remote-inbound-rtp"&&(g.rtt=1e3*q.roundTripTime),q.type==="inbound-rtp"&&(g.header_bytes_received=q.headerBytesReceived,g.key_frames_decoded=q.keyFramesDecoded,g.total_decode_time=q.totalDecodeTime,g.total_inter_frame_delay=q.totalInterFrameDelay,g.total_squared_inter_frame_delay=q.totalSquaredInterFrameDelay,G=q.packetsLost/(q.packetsLost+q.packetsReceived)*100,g.total_packets_lost=q.packetsLost,g.total_packets_received=q.packetsReceived,g.total_packets_lost_rate=G),q.type==="track"&&(q.remoteSource?(g.jitter_buffer_delay=q.jitterBufferDelay,g.jitter_buffer_emitted_count=q.jitterBufferDelayEmittedCount,g.received_frame_width=q.frameWidth,g.received_frame_height=q.frameHeight,g.frames_received=q.framesReceived,g.frames_decoded=q.framesDecoded,g.frames_dropped=q.framesDropped,g.freeze_count=q.freezeCount,g.pause_count=q.pauseCount,g.total_freezes_duration=q.totalFreezesDuration,g.total_pauses_duration=q.totalPausesDuration,g.total_frames_duration=q.totalFramesDuration,g.sum_of_squared_frames_duration=q.sumOfSquaredFramesDuration):(g.sent_frame_width=q.frameWidth,g.sent_frame_height=q.frameHeight)))}),ib(p),ib(m),ib(g),c.transport_info=p,c.audio=m,c.video=g,L.abrupt("return",c);case 15:case"end":return L.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),hV=function(){var a=u(regeneratorRuntime.mark(function s(l){var c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l){p.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return p.next=4,l.getStats();case 4:return c=p.sent,p.abrupt("return",dV(c));case 6:case"end":return p.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),iS=function(){function a(s){d(this,a),this._context=s}return f(a,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(s){this._state&&this._state.type===s.type||(this._state&&this._state.destroy(),this._state=s,this._state.context=this._context,this._state.start())}}]),a}(),aS=function(){function a(s){d(this,a),this._stateMutator=s}return f(a,[{key:"context",set:function(s){this._context=s}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),a}(),sS=function(){function a(s,l){d(this,a),this._context=s,this._stateMutator=l,this._context=s,this._stateMutator=l}return f(a,[{key:"state",get:function(){return this._stateMutator.state}}]),a}(),Rl=function(){_(s,aS);var a=C(s);function s(l){return d(this,s),a.call(this,l)}return f(s)}(),pV=((Pn=St=St||{}).IDLE="idle",Pn.OFFERING="offering",Pn.ANSWERING="answering",Pn.CONNECTED="connected",Pn.RECONNECTING="reconnecting",Pn.ICE_RESTART_OFFERING="iceRestartOffering",Pn.ICE_RESTART_ANSWERING="iceRestartAnswering",Pn.CLOSED="closed",function(){_(l,Rl);var a,s=C(l);function l(c,p){return d(this,l),v(x(c=s.call(this,c)),"type",St.ANSWERING),c._offerCommand=p,c}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function c(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(g){});case 4:case"end":return m.stop()}},c,this)})),function(c){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}()),fV=function(){_(s,Rl);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",St.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}(),mV=function(){_(l,Rl);var a,s=C(l);function l(c,p){return d(this,l),v(x(c=s.call(this,c)),"type",St.CONNECTED),c._isReconnected=p,c}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function c(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return m.stop()}},c,this)})),function(c){return a.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),gV=function(){_(l,Rl);var a,s=C(l);function l(c,p){return d(this,l),v(x(c=s.call(this,c)),"type",St.ICE_RESTART_ANSWERING),c._offerCommand=p,c}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function c(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(g){});case 3:case"end":return m.stop()}},c,this)})),function(c){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),vV=function(){_(s,Rl);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",St.ICE_RESTART_OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),_V=function(){_(l,Rl);var a,s=C(l);function l(){var c;d(this,l);for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return v(x(c=s.call.apply(s,[this].concat(m))),"type",St.IDLE),c}return f(l,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function c(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return m.stop()}},c,this)})),function(c){return a.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),bV=function(){_(s,Rl);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",St.OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),yV=function(){_(s,Rl);var a=C(s);function s(l,c){return d(this,s),v(x(l=a.call(this,l)),"type",St.RECONNECTING),l._offerCommand=c,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(l){this._stateMutator.toIceRestartAnswering(l)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),EV=function(){_(s,iS);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new _V(this))}},{key:"toOffering",value:function(){this._changeState(new bV(this))}},{key:"toAnswering",value:function(l){this._changeState(new pV(this,l))}},{key:"toConnected",value:function(l){this._changeState(new mV(this,l))}},{key:"toReconnecting",value:function(l){this._changeState(new yV(this,l))}},{key:"toIceRestartOffering",value:function(){this._changeState(new vV(this))}},{key:"toIceRestartAnswering",value:function(l){this._changeState(new gV(this,l))}},{key:"toClosed",value:function(){this._changeState(new fV(this))}}]),s}(),wV=function(){_(s,sS);var a=C(s);function s(l){return d(this,s),(l=a.call(this,l,new EV(l)))._stateMutator.toIdle(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onOfferReceived"));var c=this.state;switch(c.type){case St.IDLE:case St.ANSWERING:case St.CONNECTED:case St.RECONNECTING:case St.ICE_RESTART_ANSWERING:c.onOfferReceived(l);break;default:fn.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onAnswerReceived"));var c=this.state;switch(c.type){case St.OFFERING:case St.ICE_RESTART_OFFERING:c.onAnswerReceived(l);break;default:fn.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){fn.verbose("[".concat(this.state.type,"] onClose"));var l=this.state;switch(l.type){case St.IDLE:case St.OFFERING:case St.ANSWERING:case St.CONNECTED:case St.RECONNECTING:case St.ICE_RESTART_OFFERING:case St.ICE_RESTART_ANSWERING:l.onClose();break;default:fn.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){fn.verbose("[".concat(this.state.type,"] createOffer"));var l=this.state;l.type===St.IDLE?l.createOffer():fn.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceConnected"));var l=this.state;switch(l.type){case St.OFFERING:case St.ANSWERING:case St.RECONNECTING:case St.ICE_RESTART_OFFERING:case St.ICE_RESTART_ANSWERING:l.onIceConnected();break;default:fn.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceDisconnected"));var l=this.state;l.type===St.CONNECTED?l.onIceDisconnected():fn.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onIceFailed"));var l=this.state;switch(l.type){case St.CONNECTED:case St.RECONNECTING:l.onIceFailed();break;default:fn.error("[".concat(this.state.type,"] onIceFailed"))}}}]),s}(),xV=((tn=ab=ab||{}).RELAY="relay",tn.ALL="all",function(){_(m,Ol);var a,s,l,c,p=C(m);function m(g,b,w,O,L,q,G,re){var ae;return d(this,m),(ae=p.call(this))._ctx=g,ae.id=b,ae._signalingClient=w,ae._localStream=O,ae._isInitiator=L,ae._turnCredential=q,ae._mediaDirections=G,ae._isDisposable=re,ae._stateMachine=new wV({dispatchEvent:ae._dispatchEvent.bind(x(ae)),isInitiator:ae._isInitiator,setRemoteDescription:ae._setRemoteDescription.bind(x(ae)),sendAnswer:ae._sendAnswer.bind(x(ae)),sendOffer:ae._sendOffer.bind(x(ae)),createRTCConnection:ae._createRTCConnection.bind(x(ae)),prepareSessionDescription:ae._prepareSessionDescription.bind(x(ae)),isDisposable:ae._isDisposable}),O&&O.on("streamChanged",function(K){return ae.onLocalStream(K)}),ae}return f(m,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(g){switch(g.type){case cp.CANDIDATE:return void this._receiveCandidate(g);case cp.OFFER:this._stateMachine.onOfferReceived(g);break;case cp.ANSWER:this._stateMachine.onAnswerReceived(g);break;default:fn.error(new Error("unhandled call event ".concat(g)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(g){if(this._rtcConnection){var b,w=D(g.getTracks());try{for(w.s();!(b=w.n()).done;){var O=b.value;this._replaceTrack(O)}}catch(L){w.e(L)}finally{w.f()}}}},{key:"getCandidateInfo",value:(c=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",cV(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return c.apply(this,arguments)})},{key:"getStatsLog",value:(l=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",hV(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return l.apply(this,arguments)})},{key:"_replaceTrack",value:function(g){var b,w=D(this._rtcConnection.getSenders());try{for(w.s();!(b=w.n()).done;){var O=b.value;O.track&&O.track.kind===g.kind&&O.replaceTrack(g)}}catch(L){w.e(L)}finally{w.f()}}},{key:"_createRTCConnection",value:function(){var g,b=this,w=(this._turnCredential&&(g={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||ab.ALL}),new RTCPeerConnection(g));w.onnegotiationneeded=function(){b._sendOffer(!1)},w.onicecandidate=function(O){var L,q;O.candidate&&(L=(q=b._signalingClient).sendCandidate)!=null&&L.call(q,O.candidate)},w.onconnectionstatechange=function(){return b._handleConnectionStateChange(w)},w.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(w)},w.ontrack=function(O){return b._onRemoteTrack(O)},this._rtcConnection=w}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var b=this._mediaDirections,g=b.audio,b=b.video,w={sendrecv:[],sendonly:[],recvonly:[],none:[]};w[g].push("audio"),w[b].push("video"),w.sendrecv.length&&this._addTracks(w.sendrecv),w.sendonly.length&&this._addSendOnlyTransceivers(w.sendonly),w.recvonly.length&&this._addReceiveOnlyTransceivers(w.recvonly)}},{key:"_addTracks",value:function(g){var b=this,w=(fn.debug("_addTracks()"),this._localStream.localStream);w.getTracks().forEach(function(O){g.includes(O.kind)&&b._rtcConnection.addTrack(O,w)})}},{key:"_addReceiveOnlyTransceivers",value:function(g){var b=this;g.forEach(function(w){b._rtcConnection.addTransceiver(w,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(g){var b=this,w=this._localStream.localStream;g.forEach(function(O){w.getTracks().forEach(function(L){L.kind===O&&b._rtcConnection.addTransceiver(L,{direction:"sendonly",streams:[w]})})})}},{key:"_setRemoteDescription",value:function(g,b){return b=b.replace(/a=extmap:0 ulpfec\r\n/,""),g=new RTCSessionDescription({type:g,sdp:b}),this._rtcConnection.setRemoteDescription(g)}},{key:"_sendOffer",value:(s=u(regeneratorRuntime.mark(function g(b){var w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w={iceRestart:b||!1},O.next=3,this._rtcConnection.createOffer(w);case 3:return w=O.sent,O.next=6,this._rtcConnection.setLocalDescription(w);case 6:return O.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return O.stop()}},g,this)})),function(g){return s.apply(this,arguments)})},{key:"_sendAnswer",value:(a=u(regeneratorRuntime.mark(function g(){var b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._rtcConnection.createAnswer();case 2:return(b=w.sent).sdp=b.sdp.replace("actpass","active"),w.next=6,this._rtcConnection.setLocalDescription(b);case 6:return w.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return w.stop()}},g,this)})),function(){return a.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(g){switch(fn.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(g.iceConnectionState)),g.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(g){fn.verbose("[".concat(this._state.type,"] connectionState ").concat(g.connectionState))}},{key:"_receiveCandidate",value:function(g){g=g.payload.candidate,this._rtcConnection.addIceCandidate({sdpMLineIndex:g.sdpMLineIndex,sdpMid:g.sdpMid,candidate:g.sdp}).catch(function(b){fn.error(b)})}},{key:"_onRemoteTrack",value:function(g){this._remoteStream=g.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),m}());(fr=cp=cp||{}).OFFER="offer",fr.ANSWER="answer",fr.CANDIDATE="candidate";var dp,dd,jn=Re(ht.process)=="process",kV=ra,CV=X,SV=TypeError,oS=hn,NV=function(a){if(kV(a))return a;throw SV(CV(a)+" is not a constructor")},TV=Oe("species"),IV=TypeError,rt=/(?:ipad|iphone|ipod).*applewebkit/i.test(Uo),qa=ht,OV=or,yt=be,lS=Ce,AV=lr,Ye=oe,uS=kt,RV=$n,cS=An,MV=function(a,s){if(a<s)throw IV("Not enough arguments");return a},pr=rt,Rr=jn,lt=qa.setImmediate,Nt=qa.clearImmediate,DV=qa.process,sb=qa.Dispatch,UV=qa.Function,mn=qa.MessageChannel,LV=qa.String,ob=0,hp={},dS="onreadystatechange";try{dp=qa.location}catch{}function lb(a){return function(){fb(a)}}function hS(a){fb(a.data)}function pS(a){qa.postMessage(LV(a),dp.protocol+"//"+dp.host)}function ub(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}function fS(){this.head=null,this.tail=null}function PV(a){var s,l;this.promise=new a(function(c,p){if(s!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");s=c,l=p}),this.resolve=xS(s),this.reject=xS(l)}function mS(a,s){var l,c,p,m,g=s.value,b=s.state==NS,w=b?a.ok:a.fail,O=a.resolve,L=a.reject,q=a.domain;try{w?(b||(s.rejection===TS&&(m=s,hd(kS,Ml,function(){var G=m.facade;j0?yb.emit("rejectionHandled",G):AS(ZV,G,m.value)})),s.rejection=wb),w===!0?l=g:(q&&q.enter(),l=w(g),q&&(q.exit(),p=!0)),l===a.promise?L(CS("Promise-chain cycle")):(c=IS(l))?hd(c,l,O,L):O(l)):L(g)}catch(G){q&&!p&&q.exit(),L(G)}}var pp,Gu,fp,cb,db,hb,gS,pb,vS,_S,fb=function(a){var s;AV(hp,a)&&(s=hp[a],delete hp[a],s())},Sn=(lt&&Nt||(lt=function(a){MV(arguments.length,1);var s=lS(a)?a:UV(a),l=RV(arguments,1);return hp[++ob]=function(){OV(s,void 0,l)},dd(ob),ob},Nt=function(a){delete hp[a]},Rr?dd=function(a){DV.nextTick(lb(a))}:sb&&sb.now?dd=function(a){sb.now(lb(a))}:mn&&!pr?(ze=(We=new mn).port2,We.port1.onmessage=hS,dd=yt(ze.postMessage,ze)):qa.addEventListener&&lS(qa.postMessage)&&!qa.importScripts&&dp&&dp.protocol!=="file:"&&!Ye(pS)?(dd=pS,qa.addEventListener("message",hS,!1)):dd=dS in cS("script")?function(a){uS.appendChild(cS("script"))[dS]=function(){uS.removeChild(this),fb(a)}}:function(a){setTimeout(lb(a),0)}),{set:lt,clear:Nt}),Yt=ht,dt=/ipad|iphone|ipod/i.test(Uo)&&Yt.Pebble!==void 0,vi=/web0s(?!.*chrome)/i.test(Uo),Tn=ht,Pn=be,tn=Hi.f,mb=Sn.set,fr=rt,ra=dt,or=vi,gb=jn,lr=Tn.MutationObserver||Tn.WebKitMutationObserver,kt=Tn.document,bS=Tn.process,$n=Tn.Promise,Rr=tn(Tn,"queueMicrotask"),pr=Rr&&Rr.value,We=(pr||(pp=function(){var a,s;for(gb&&(a=bS.domain)&&a.exit();Gu;){s=Gu.fn,Gu=Gu.next;try{s()}catch(l){throw Gu?cb():fp=void 0,l}}fp=void 0,a&&a.enter()},cb=fr||gb||or||!lr||!kt?!ra&&$n&&$n.resolve?((mn=$n.resolve(void 0)).constructor=$n,gS=Pn(mn.then,mn),function(){gS(pp)}):gb?function(){bS.nextTick(pp)}:(mb=Pn(mb,Tn),function(){mb(pp)}):(db=!0,hb=kt.createTextNode(""),new lr(pp).observe(hb,{characterData:!0}),function(){hb.data=db=!db})),pr||function(a){a={fn:a,next:void 0},fp&&(fp.next=a),Gu||(Gu=a,cb()),fp=a}),FV=ht,yt=(fS.prototype={add:function(a){a={item:a,next:null},this.head?this.tail.next=a:this.head=a,this.tail=a},get:function(){var a=this.head;if(a)return this.head=a.next,this.tail===a&&(this.tail=null),a.item}},fS),ze=ht.Promise,Ye=typeof window=="object"&&typeof Deno!="object",lt=ht,mp=ze,Nt=Ce,Yt=zt,HV=$r,Hi=Oe,qV=Ye,yS=Xr,BV=(mp&&mp.prototype,Hi("species")),ES=!1,wS=Nt(lt.PromiseRejectionEvent),rt={CONSTRUCTOR:Yt("Promise",function(){var a=HV(mp),s=a!==String(mp);if(!s&&yS===66)return!0;if(51<=yS&&/native code/.test(a))return!1;function l(c){c(function(){},function(){})}return a=new mp(function(c){c(1)}),(a.constructor={})[BV]=l,!(ES=a.then(function(){})instanceof l)||!s&&qV&&!wS}),REJECTION_EVENT:wS,SUBCLASSING:ES},dt={},xS=ge,vi=(dt.f=function(a){return new PV(a)},Z),j0=jn,Ml=ht,hd=Mr,tn=rn,Rr=qi,fr=L0,or=tC,GV=ge,V0=Ce,$V=Le,zV=A_,jV=function(l,s){var l=oS(l).constructor;return l===void 0||(l=oS(l)[TV])==null?s:NV(l)},kS=Sn.set,vb=We,VV=function(a,s){var l=FV.console;l&&l.error&&(arguments.length==1?l.error(a):l.error(a,s))},WV=ub,KV=yt,ra=Pt,$n=ze,mn=dt,W0="Promise",Pn=rt.CONSTRUCTOR,QV=rt.REJECTION_EVENT,Tn=rt.SUBCLASSING,_b=ra.getterFor(W0),YV=ra.set,kt=$n&&$n.prototype,pd=$n,K0=kt,CS=Ml.TypeError,bb=Ml.document,yb=Ml.process,Eb=mn.f,XV=Eb,JV=!!(bb&&bb.createEvent&&Ml.dispatchEvent),SS="unhandledrejection",ZV="rejectionhandled",NS=1,eW=2,wb=1,TS=2,IS=function(a){var s;return!(!$V(a)||!V0(s=a.then))&&s},OS=function(a,s){a.notified||(a.notified=!0,vb(function(){for(var l,c,p=a.reactions;l=p.get();)mS(l,a);a.notified=!1,s&&!a.rejection&&(c=a,hd(kS,Ml,function(){var m=c.facade,g=c.value,b=RS(c);if(b&&(b=WV(function(){j0?yb.emit("unhandledRejection",g,m):AS(SS,m,g)}),c.rejection=j0||RS(c)?TS:wb,b.error))throw b.value}))}))},AS=function(a,s,l){var c;JV?((c=bb.createEvent("Event")).promise=s,c.reason=l,c.initEvent(a,!1,!0),Ml.dispatchEvent(c)):c={promise:s,reason:l},!QV&&(s=Ml["on"+a])?s(c):a===SS&&VV("Unhandled promise rejection",l)},RS=function(a){return a.rejection!==wb&&!a.parent},fd=function(a,s,l){return function(c){a(s,c,l)}},md=function(a,s,l){a.done||(a.done=!0,(a=l||a).value=s,a.state=eW,OS(a,!0))},xb=function(a,s,l){if(!a.done){a.done=!0,l&&(a=l);try{if(a.facade===s)throw CS("Promise can't be resolved itself");var c=IS(s);c?vb(function(){var p={done:!1};try{hd(c,s,fd(xb,p,a),fd(md,p,a))}catch(m){md(p,m,a)}}):(a.value=s,a.state=NS,OS(a,!1))}catch(p){md({done:!1},p,a)}}};if(Pn&&(K0=(pd=function(a){zV(this,K0),GV(a),hd(pb,this);var s=_b(this);try{a(fd(xb,s),fd(md,s))}catch(l){md(s,l)}}).prototype,(pb=function(a){YV(this,{type:W0,done:!1,notified:!1,parent:!1,reactions:new KV,rejection:!1,state:0,value:void 0})}).prototype=tn(K0,"then",function(a,s){var l=_b(this),c=Eb(jV(this,pd));return l.parent=!0,c.ok=!V0(a)||a,c.fail=V0(s)&&s,c.domain=j0?yb.domain:void 0,l.state==0?l.reactions.add(c):vb(function(){mS(c,l)}),c.promise}),vS=function(){var a=new pb,s=_b(a);this.promise=a,this.resolve=fd(xb,s),this.reject=fd(md,s)},mn.f=Eb=function(a){return a===pd||a===void 0?new vS:XV(a)},V0($n)&&kt!==Object.prototype)){_S=kt.then,Tn||tn(kt,"then",function(a,s){var l=this;return new pd(function(c,p){hd(_S,l,c,p)}).then(a,s)},{unsafe:!0});try{delete kt.constructor}catch{}Rr&&Rr(kt,K0)}vi({global:!0,constructor:!0,wrap:!0,forced:Pn},{Promise:pd}),fr(pd,W0,!1),or(W0);var nW=ze,lr=eC,pr=rt.CONSTRUCTOR||!lr(function(a){nW.all(a).then(void 0,function(){})}),tW=Mr,rW=ge,iW=dt,aW=ub,sW=H0,zt=(Z({target:"Promise",stat:!0,forced:pr},{all:function(a){var s=this,l=iW.f(s),c=l.resolve,p=l.reject,m=aW(function(){var g=rW(s.resolve),b=[],w=0,O=1;sW(a,function(L){var q=w++,G=!1;O++,tW(g,s,L).then(function(re){G||(G=!0,b[q]=re,--O||c(b))},p)}),--O||c(b)});return m.error&&p(m.value),l.promise}}),Z),$r=ze,Ye=te,Hi=Ce,Nt=rn,lt=$r&&$r.prototype;zt({target:"Promise",proto:!0,forced:rt.CONSTRUCTOR,real:!0},{catch:function(a){return this.then(void 0,a)}}),Hi($r)&&(Yt=Ye("Promise").prototype.catch,lt.catch!==Yt&&Nt(lt,"catch",Yt,{unsafe:!0}));var oW=Mr,lW=ge,uW=dt,cW=ub,dW=H0;Z({target:"Promise",stat:!0,forced:pr},{race:function(a){var s=this,l=uW.f(s),c=l.reject,p=cW(function(){var m=lW(s.resolve);dW(a,function(g){oW(m,s,g).then(l.resolve,c)})});return p.error&&c(p.value),l.promise}});function MS(a){return function(s,l,c,p){PW(l);var m=FW(s),g=HW(m),b=qW(m),w=a?b-1:0,O=a?-1:1;if(c<2)for(;;){if(w in g){p=g[w],w+=O;break}if(w+=O,a?w<0:b<=w)throw BW("Reduce of empty array with no initial value")}for(;a?0<=w:w<b;w+=O)w in g&&(p=l(p,g[w],w,m));return p}}var nr,gp,hW=Mr,pW=dt,fW=(Z({target:"Promise",stat:!0,forced:rt.CONSTRUCTOR},{reject:function(a){var s=pW.f(this);return hW(s.reject,void 0,a),s.promise}}),hn),mW=Le,gW=dt,qi=Z,Sn=te,We=rt.CONSTRUCTOR,vW=function(a,s){return fW(a),mW(s)&&s.constructor===a?s:(a=gW.f(a),(0,a.resolve)(s),a.promise)},kb=(Sn("Promise"),qi({target:"Promise",stat:!0,forced:We},{resolve:function(a){return vW(this,a)}}),f(function a(){var s=this;d(this,a),this.promise=new Promise(function(l,c){s.resolve=l,s.reject=c})})),DS=function(){var a=u(regeneratorRuntime.mark(function s(l,c,p){var m,g,b,w,O,L,q=arguments;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=3<q.length&&q[3]!==void 0?q[3]:{count:0,deferred:new kb},m=b.deferred,g=b.count,G.prev=2,G.next=5,c();case 5:b=G.sent,0<g&&(w=p.onRecover)!=null&&w.call(p),m.resolve(b),G.next=19;break;case 10:if(G.prev=10,G.t0=G.catch(2),(w=p.onError)!=null&&w.call(p,G.t0),0<=(O=l.calcTimeout(g+1)))return(L=p.onRetrial)!=null&&L.call(p,g+1,G.t0),setTimeout(function(){DS(l,c,p,{count:g+1,deferred:m})},O),G.abrupt("return",m.promise);G.next=18;break;case 18:m.reject(G.t0);case 19:return G.abrupt("return",m.promise);case 20:case"end":return G.stop()}},s,null,[[2,10]])}));return function(s,l,c){return a.apply(this,arguments)}}(),_W=function(){function a(){d(this,a)}return f(a,[{key:"calcTimeout",value:function(s){switch(s){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),a}(),bW=function(){function a(s,l,c){d(this,a),this.interval=s,this.noise=l,this.maxRetrial=c}return f(a,[{key:"calcTimeout",value:function(s){return s>this.maxRetrial?-1:s*this.interval+(Math.random()-.5)*this.noise*2}}]),a}(),US=function(){function a(s){d(this,a),this._requests=new Map,this.timeoutTime=s}return f(a,[{key:"has",value:function(s){return this._requests.has(s)}},{key:"get",value:function(s){return this._requests.get(s)}},{key:"register",value:function(s){if(!s)throw new Error("invalid request id");if(this._requests.has(s))throw new Error("duplicate requests");var l=new kb;return this._requests.set(s,{deferred:l,timer:this._createTimeoutTimer(s)}),l}},{key:"unregister",value:function(s){if(!this._requests.has(s))return null;var c=this._requests.get(s),l=c.timer,c=c.deferred;return clearTimeout(l),this._requests.delete(s),c}},{key:"_createTimeoutTimer",value:function(s){var l=this;return setTimeout(function(){l.unregister(s).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(s){var l,c=D(this._requests.keys());try{for(c.s();!(l=c.n()).done;){var p=l.value,m=this._requests.get(p);clearTimeout(m.timer),m.deferred.reject(s)}}catch(g){c.e(g)}finally{c.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),a}(),yW=function(){function a(p,m,g,b){d(this,a),v(this,"_timeoutTime",6e4),this._ctx=p,this._participantId=m,this._mediaDirections=g,this._endpointId=b,this._requestMap=new US(this._timeoutTime)}var s,l,c;return f(a,[{key:"sendOfferSdp",value:(c=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this._endpointId){g.next=5;break}return g.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(m);case 3:g.next=7;break;case 5:return g.next=7,this._sendOfferAndUnregisterPutEndpointRequest(m);case 7:case"end":return g.stop()}},p,this)})),function(p){return c.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(l=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return l.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(s=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return s.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(this._endpointId)return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"));throw new Error("Cannot register put endpoint request without endpoint id")}},{key:"_sendCreateEndpoint",value:function(p){return this._ctx.sendCreateEndpoint(p)}},{key:"_sendPutEndpoint",value:function(p){return this._ctx.sendPutEndpoint(p)}}]),a}(),gd=function(){_(s,aS);var a=C(s);function s(l){return d(this,s),a.call(this,l)}return f(s)}(),EW=((yt=nr=nr||{}).PENDING="pending",yt.ESTABLISHED="established",yt.CONNECTED="connected",yt.FAILED="failed",yt.RELEASING="releasing",yt.CLOSED="closed",function(){_(s,gd);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",nr.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}()),wW=function(){_(s,gd);var a=C(s);function s(l){return d(this,s),v(x(l=a.call(this,l)),"type",nr.CONNECTED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),xW=function(){_(s,gd);var a=C(s);function s(l,c,p){return d(this,s),v(x(l=a.call(this,l)),"type",nr.ESTABLISHED),l._sdp=c,l._hasPendingAttach=p,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),kW=function(){_(s,gd);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",nr.FAILED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("failed"),this._context.endpoint.id?this._stateMutator.toReleasing():this._stateMutator.toClosed()}},{key:"_onDestroy",value:function(){}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),CW=function(){_(s,gd);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",nr.PENDING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("pending"),this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){var l=this,c=(this._context.trialCount+=1,this._context.trialCount);9<=c?this._stateMutator.toFailed():1<c?this._requestTimeout=setTimeout(function(){l._context.createSession()},5e3*c+2e3*(Math.random()-.5)):this._context.createSession()}},{key:"onEndpointRequestSucceeded",value:function(l){this._stateMutator.toEstablished(l,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._request()}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),SW=function(){_(s,gd);var a=C(s);function s(){var l;d(this,s);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",nr.RELEASING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),NW=function(){_(s,iS);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toPending",value:function(){this._changeState(new CW(this))}},{key:"toEstablished",value:function(l,c){this._changeState(new xW(this,l,c))}},{key:"toConnected",value:function(){this._changeState(new wW(this))}},{key:"toFailed",value:function(){this._changeState(new kW(this))}},{key:"toReleasing",value:function(){this._changeState(new SW(this))}},{key:"toClosed",value:function(){this._changeState(new EW(this))}}]),s}(),TW=function(){_(s,sS);var a=C(s);function s(l){return d(this,s),(l=a.call(this,l,new NW(l)))._stateMutator.toPending(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(l){fn.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var c=this.state;switch(c.type){case nr.PENDING:c.onEndpointRequestSucceeded(l);break;case nr.RELEASING:c.onEndpointRequestSucceeded();break;default:fn.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var l=this.state;switch(l.type){case nr.PENDING:case nr.RELEASING:l.onEndpointRequestFailed();break;default:fn.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onICEFailed"));var l=this.state;switch(l.type){case nr.ESTABLISHED:case nr.CONNECTED:l.onICEFailed();break;default:fn.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onPCConnected"));var l=this.state;l.type===nr.ESTABLISHED?l.onPCConnected():fn.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){fn.verbose("[".concat(this.state.type,"] onAttach"));var l=this.state;switch(l.type){case nr.PENDING:case nr.ESTABLISHED:case nr.CONNECTED:l.onAttach();break;default:fn.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){fn.verbose("[".concat(this.state.type,"] onRelease"));var l=this.state;switch(l.type){case nr.PENDING:case nr.ESTABLISHED:case nr.CONNECTED:l.onRelease();break;default:fn.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){fn.verbose("[".concat(this.state.type,"] onReleased"));var l=this.state;l.type===nr.RELEASING?l.onReleased():fn.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){fn.verbose("[".concat(this.state.type,"] onExit"));var l=this.state;switch(l.type){case nr.RELEASING:case nr.PENDING:case nr.CONNECTED:case nr.ESTABLISHED:case nr.FAILED:l.onExit();break;default:fn.error("[".concat(this.state.type,"] onExit"))}}}]),s}(),IW=function(){_(s,R0);var a=C(s);function s(l){var c;return d(this,s),(c=a.call(this)).payload=l.payload||{},c}return f(s)}(),Cb=function(){_(s,IW);var a=C(s);function s(){return d(this,s),a.apply(this,arguments)}return f(s)}(),OW=((Pt=gp=gp||{}).OFFER="offer",Pt.ANSWER="answer",Pt.CANDIDATE="candidate",function(){_(s,Cb);var a=C(s);function s(l){return d(this,s),v(x(l=a.call(this,{payload:l})),"type",gp.ANSWER),l}return f(s)}()),AW=function(){_(s,Cb);var a=C(s);function s(l){return d(this,s),v(x(l=a.call(this,{payload:l})),"type",gp.CANDIDATE),l}return f(s)}(),RW=function(){_(s,Cb);var a=C(s);function s(l){return d(this,s),v(x(l=a.call(this,{payload:l})),"type",gp.OFFER),l}return f(s)}(),MW=function(){function a(){d(this,a)}return f(a,null,[{key:"createOffer",value:function(s,l){return new RW({peerConnectionId:s,sdp:l})}},{key:"createAnswer",value:function(s,l){return new OW({peerConnectionId:s,sdp:l})}},{key:"createCandidate",value:function(s,l){return new AW({peerConnectionId:s,candidate:l})}}]),a}(),LS=function(){_(s,Ol);var a=C(s);function s(l,c,p,m){var g;return d(this,s),v(x(g=a.call(this)),"tmpId",Ne()),v(x(g),"_createSession",function(){switch(fn.debug("_createSession()"),g._type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:fn.error("Not supported endpoint type : ",g._type)}}),v(x(g),"_closePeerConnection",function(){fn.debug("_closePeerConnection()"),g._pc.removeAllEventListeners(),g._pc.close()}),v(x(g),"_requestAttach",function(){DS(new bW(5e3,1e3,8),function(){return g._sendAttach(g._attachedTo)},{onError:function(b){fn.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g._attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){g._dispatchEvent("attached",g._attachedTo)})}),v(x(g),"_requestRelease",function(){fn.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){fn.error("Release request failed",b),g._stateMachine.onReleased()})}),v(x(g),"_setRemoteDescription",function(O){fn.debug("_setRemoteDescription()");var w=g._pc,O=MW.createAnswer(void 0,O);w.onEvent(O),w.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),w.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=l,g._localStream=c,g._type=p,g._participantId=m,g._stateMachine=new TW({endpoint:x(g),dispatchEvent:g._dispatchEvent.bind(x(g)),createSession:g._createSession,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0}),g}return f(s,[{key:"pc",get:function(){return this._pc}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(l){fn.debug("attach()"),this._attachedTo=l,this._stateMachine.onAttach()}},{key:"release",value:function(){fn.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){fn.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){fn.debug("_createMasterSession()"),this._createPeerConnection(this._masterSessionDirection,this._localStream),this._requestCreateEndpoint()}},{key:"_createViewerSession",value:function(){fn.debug("_createViewerSession()"),this._createPeerConnection(this._viewerSessionDirection,void 0),this._requestCreateEndpoint()}},{key:"_createPeerConnection",value:function(l,c){fn.debug("_createPeerConnection()");var p=new yW(this._ctx,this._participantId,l,this.id);this._pc=new xV(this._ctx,void 0,p,c,!0,void 0,l,!0),this._dispatchEvent("pcChanged",this._pc)}},{key:"_requestCreateEndpoint",value:function(){var l=this,c=(fn.debug("_requestCreateEndpoint()"),this._pc),p=this.id?c.signalingClient.registerPutEndpointRequest():c.signalingClient.registerCreateEndpointRequest();c.createOffer(),p.promise.then(function(m){l.id=m.payload.endpoint.id,l._stateMachine.onEndpointRequestSucceeded(m.payload.sdp)}).catch(function(m){fn.error("Endpoint request failed",m),l._stateMachine.onEndpointRequestFailed()})}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(l){return this._ctx.sendAttach(this,l)}}]),s}(),DW=function(){_(l,Ol);var a,s=C(l);function l(){return d(this,l),s.call(this)}return f(l,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(a=u(regeneratorRuntime.mark(function c(){var p,m=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:p=g.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){m._releaseStream(),m._dispatchEvent("streamStopped")},g.next=19;break;case 8:g.prev=8,g.t0=g.catch(0),g.t1=g.t0.name,g.next=g.t1==="InvalidStateError"?13:g.t1==="NotAllowedError"?14:g.t1==="NotFoundError"?15:g.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return g.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return g.stop()}},c,this,[[0,8]])})),function(){return a.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var c,p=D(this._stream.getTracks());try{for(p.s();!(c=p.n()).done;)c.value.stop()}catch(m){p.e(m)}finally{p.f()}delete this._stream}}}]),l}(),UW=function(){_(l,Ol);var a,s=C(l);function l(c){var p,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0};return d(this,l),v(x(p=s.call(this)),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),p._deviceManager=c,p._mediaConstraints=m,p._screenShare=new DW,p._screenShare.on("streamStopped",function(){p._releaseMergedStream(),p._dispatchEvent("screenShareStreamStopped")}),p}return f(l,[{key:"mediaConstraints",set:function(c){this._mediaConstraints=c}},{key:"hasPermission",get:function(){var c;return(c=this._mediaAccess)==null?void 0:c.hasPermission}},{key:"localStream",get:function(){return this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(a=u(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this._checkScreenSharePrerequisites(),p.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return p.stop()}},c,this)})),function(){return a.apply(this,arguments)})},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(c){var p=this;this._mediaAccess=this._deviceManager.useMedia(c),this._mediaAccess.on("streamChanged",function(){p._screenShare.isSharing&&p._mergeScreenShareStream(),p._dispatchEvent("streamChanged",p.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return p._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){var c;this._screenShare.isSharing&&(c=new MediaStream,this._mediaAccess.stream&&0<this._mediaAccess.stream.getAudioTracks().length&&c.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),c.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=c)}},{key:"_releaseMergedStream",value:function(){this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this._dispatchEvent("streamChanged",this.localStream))}}]),l}(),Sb=function(){function a(p,m,g,b){d(this,a),this._liveEvent=p,this._sender=g,this._deviceManager=m,this._mediaOption=b}var s,l,c;return f(a,[{key:"mediaView",get:function(){return this._mediaView},set:function(p){this._mediaView!==p&&(this._mediaView&&(this._mediaView=null),p?this.isHostStream?this._mediaView=this._updateMediaViewStream(p,this.localStream):this._mediaView=this._updateMediaViewStream(p,this.stream):delete this._mediaView)}},{key:"localStream",get:function(){var p;return(p=this._localStream)==null?void 0:p.localStream}},{key:"stream",get:function(){var p;return(p=this._endpoint.pc)==null?void 0:p.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var p=this;this._localStream=new UW(this._deviceManager,{audio:!0,video:!0}),this._localStream.on("streamChanged",function(){p._onLocalStream()})}},{key:"_createEndpoint",value:function(){var p,m=this;return this.isHostStream?(this._localStream||this._createLocalStream(),new LS({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId)):(p=new LS({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId),this._unsubscriber=p.pc.on("remoteStream",function(g){m._onStream()}),p)}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(p){p&&this._endpoint.release(),this._teardown()}},{key:"attach",value:function(p){this._endpoint.attach(p)}},{key:"toggleAudio",value:function(p){var m;(m=this.localStream.getAudioTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnAudioOn=p}},{key:"toggleVideo",value:function(p){var m;(m=this.localStream.getVideoTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnVideoOn=p}},{key:"chooseMediaDevice",value:function(p,m){this._deviceManager.selectDevice(p,m)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var p=this.stream;this._mediaView&&this._updateMediaViewStream(this._mediaView,p)}},{key:"_updateMediaViewStream",value:function(p,m){return m&&(p.srcObject=m),p}},{key:"_sendConnected",value:(c=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=this.isHostStream?er.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.id):er.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id),b.abrupt("return",this._sender.send(g));case 2:case"end":return b.stop()}},p,this)})),function(p){return c.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(p){return p=this.isHostStream?er.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,p.id):er.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id),this._sender.sendWithRetry(p)}},{key:"_sendAttach",value:function(p,m){return p=er.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id,m),this._sender.sendWithRetry(p)}},{key:"_sendCreateEndpoint",value:(l=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.isHostStream)return g=er.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.sdp,"sendonly","sendonly"),b.abrupt("return",this._sender.send(g));b.next=5;break;case 5:return g=er.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.sdp,"recvonly","recvonly"),b.abrupt("return",this._sender.send(g));case 7:case"end":return b.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(s=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._sendCreateEndpoint(m));case 1:case"end":return g.stop()}},p,this)})),function(p){return s.apply(this,arguments)})},{key:"_teardown",value:function(){var p;(p=this._endpoint)!=null&&p.exit(),(this._endpoint=null)!=(p=this._unsubscriber)&&p.call(this),this._unsubscriber=null}}]),a}(),Nb=function(){_(ae,Ol);var a,s,l,c,p,m,g,b,w,O,L,q,G,re=C(ae);function ae(Dr){var ne,me=Dr.deviceManager,_e=Dr.sender,Se=Dr.sb,Jt=Dr.userId,Dr=Dr.info;return d(this,ae),v(x(ne=re.call(this)),"_customItemsUpdatedAt",0),ne._deviceManager=me,ne._sender=_e,ne._sb=Se,ne._userId=Jt,ne._streams=new Map,ne._customItems=null,Dr&&Object.assign(x(ne),Dr),ne._unsubscriber=ne._sender.on("command",function(Ft){ne._onEvent(Ft)}),ne}return f(ae,[{key:"customItems",get:function(){return i({},this._customItems)},set:function(K){this._customItems=K}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?t.LiveEventRole.HOST:t.LiveEventRole.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===t.LiveEventRole.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!!this.host}},{key:"duration",get:function(){return 0<this._duration?this._duration:Date.now()-this.startedAt},set:function(K){this._duration=K}},{key:"fetchOpenChannel",value:(G=u(regeneratorRuntime.mark(function K(){var ne;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return ne=me.sent,ne=this._sb.openChannel.buildOpenChannelFromSerializedData(ne),this.openChannel=ne,me.abrupt("return",ne);case 6:case"end":return me.stop()}},K,this)})),function(){return G.apply(this,arguments)})},{key:"_getOpenChannel",value:(q=u(regeneratorRuntime.mark(function K(){return regeneratorRuntime.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this.openChannel)return ne.abrupt("return",this.openChannel);ne.next=2;break;case 2:return ne.abrupt("return",this.fetchOpenChannel());case 3:case"end":return ne.stop()}},K,this)})),function(){return q.apply(this,arguments)})},{key:"enterAsHost",value:(L=u(regeneratorRuntime.mark(function K(ne){var me,_e;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,this._getOpenChannel();case 2:return me=Se.sent,Se.next=5,me.enter();case 5:return Se.prev=5,Se.next=8,this._sender.send(er.createEnterHost(this.liveEventId,ne));case 8:_e=Se.sent,_e=_e.payload.host,this._streams.set(_e.hostId,new Sb(this,this._deviceManager,this._sender,ne)),this.upsert({host:_e}),Se.next=19;break;case 14:return Se.prev=14,Se.t0=Se.catch(5),Se.next=18,me.exit();case 18:throw Se.t0;case 19:this._startToSendAlive();case 20:case"end":return Se.stop()}},K,this,[[5,14]])})),function(K){return L.apply(this,arguments)})},{key:"setEventReady",value:(O=u(regeneratorRuntime.mark(function K(){var ne;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(this.isHost){me.next=2;break}throw new Error("host only action");case 2:return me.next=4,this._sender.send(er.createReady(this.liveEventId));case 4:ne=me.sent,ne=ne.payload.liveEvent,this.upsert(ne);case 7:case"end":return me.stop()}},K,this)})),function(){return O.apply(this,arguments)})},{key:"startEvent",value:(w=u(regeneratorRuntime.mark(function K(ne){var me;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(this.isHost){_e.next=2;break}throw new Error("host only action");case 2:return _e.next=4,this._sender.send(er.createStart(this.liveEventId));case 4:me=_e.sent,me=me.payload.liveEvent,this.upsert(me),this.isHostStreaming||this.startStreaming(ne),this._toggleAudio(ne.turnAudioOn),this._toggleVideo(ne.turnVideoOn);case 10:case"end":return _e.stop()}},K,this)})),function(K){return w.apply(this,arguments)})},{key:"startStreaming",value:function(K){if(!this.isActiveHost)throw new Error("current host only action");var ne=this._streams.get(this.host.hostId);ne||(K=new Sb(this,this._deviceManager,this._sender,K),this._streams.set(this.host.hostId,K)),ne.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var K=this._streams.get(this.host.hostId);K&&(this._streams.delete(this.host.hostId),K.closeStream(!0))}},{key:"exitAsHost",value:(b=u(regeneratorRuntime.mark(function K(){var ne,me;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(this.isActiveHost){_e.next=2;break}throw new Error("current host only action");case 2:return ne=this.host.hostId,_e.next=5,this._sender.send(er.createExitHost(this.liveEventId,ne));case 5:ne=_e.sent,me=ne.payload.host,this.upsert({host:me}),this.teardown();case 9:case"end":return _e.stop()}},K,this)})),function(){return b.apply(this,arguments)})},{key:"endEvent",value:(g=u(regeneratorRuntime.mark(function K(){var ne;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,this._sender.send(er.createEndLiveEvent(this.liveEventId));case 2:ne=me.sent,ne=ne.payload.liveEvent,this.upsert(ne),this.teardown();case 6:case"end":return me.stop()}},K,this)})),function(){return g.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(K){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(K),this._sender.send(er.createAudio(this.liveEventId,this.host.hostId,K))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(K){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(K),this._sender.send(er.createVideo(this.liveEventId,this.host.hostId,K))}},{key:"selectAudioInput",value:function(K){return this._deviceManager.selectDevice("audioinput",K)}},{key:"selectVideoInput",value:function(K){return this._deviceManager.selectDevice("videoinput",K)}},{key:"enter",value:(m=u(regeneratorRuntime.mark(function K(){var ne,me;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,this._getOpenChannel();case 2:return ne=_e.sent,_e.next=5,ne.enter();case 5:return _e.prev=5,_e.next=8,this._sender.send(er.createEnter(this.liveEventId));case 8:me=_e.sent,me=me.payload.participant,this.upsert({currentLiveUser:me}),this._tryOpen(),_e.next=19;break;case 14:return _e.prev=14,_e.t0=_e.catch(5),_e.next=18,ne.exit();case 18:throw _e.t0;case 19:this._startToSendAlive();case 20:case"end":return _e.stop()}},K,this,[[5,14]])})),function(){return m.apply(this,arguments)})},{key:"exit",value:(p=u(regeneratorRuntime.mark(function K(){return regeneratorRuntime.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,this._sender.send(er.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:ne.sent.payload.participant,this.teardown();case 5:case"end":return ne.stop()}},K,this)})),function(){return p.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(K,ne){ne=this._streams.get(ne),ne&&(ne.mediaView=K)}},{key:"updateLiveEventInfo",value:(c=u(regeneratorRuntime.mark(function K(ne){var me,_e;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return me=er.updateLiveEvent(this.liveEventId,ne.userIdsForHost,ne.title,ne.coverUrl,ne.coverFile),Se.next=3,this._sender.send(me);case 3:me=Se.sent,_e=me.payload.liveEvent,this.upsert(_e);case 6:case"end":return Se.stop()}},K,this)})),function(K){return c.apply(this,arguments)})},{key:"fetchCustomItems",value:(l=u(regeneratorRuntime.mark(function K(){var ne,me;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return ne=er.createGetCustomItems(this.liveEventId),_e.prev=1,_e.next=4,this._sender.send(ne);case 4:return ne=_e.sent,me=ne.payload,this._setCustomItems(me.customItems),_e.abrupt("return",me);case 10:throw _e.prev=10,_e.t0=_e.catch(1),fn.error("failed to update customItems"),_e.t0;case 14:case"end":return _e.stop()}},K,this,[[1,10]])})),function(){return l.apply(this,arguments)})},{key:"updateCustomItems",value:(s=u(regeneratorRuntime.mark(function K(ne){var me,_e;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(Object.keys(ne).some(function(Jt){return typeof ne[Jt]!="string"}))throw new Error("invalid parameter");Se.next=2;break;case 2:return me=er.createUpdateCustomItems(this.liveEventId,ne),Se.prev=3,Se.next=6,this._sender.send(me);case 6:return me=Se.sent,_e=me.payload,this._setCustomItems(_e.customItems,_e.updatedAt),Se.abrupt("return",_e);case 12:throw Se.prev=12,Se.t0=Se.catch(3),fn.error("failed to update customItems"),Se.t0;case 16:case"end":return Se.stop()}},K,this,[[3,12]])})),function(K){return s.apply(this,arguments)})},{key:"deleteCustomItems",value:(a=u(regeneratorRuntime.mark(function K(ne){var me,_e;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(ne.some(function(Jt){return typeof Jt!="string"}))throw new Error("invalid parameter");Se.next=2;break;case 2:return me=er.createDeleteCustomItems(this.liveEventId,ne),Se.prev=3,Se.next=6,this._sender.send(me);case 6:return me=Se.sent,_e=me.payload,this._setCustomItems(_e.customItems,_e.deletedAt),Se.abrupt("return",_e);case 12:throw Se.prev=12,Se.t0=Se.catch(3),fn.error("failed to delete customItems"),Se.t0;case 16:case"end":return Se.stop()}},K,this,[[3,12]])})),function(K){return a.apply(this,arguments)})},{key:"upsert",value:function(K){Object.assign(this,K)}},{key:"teardown",value:function(){(K=this.openChannel)!=null&&K.exit();var K,ne,me=D(this._streams.values());try{for(me.s();!(ne=me.n()).done;)ne.value.closeStream()}catch(_e){me.e(_e)}finally{me.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(K,ne){return(ne===void 0||ne>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=ne,this._customItems=K||{},!0)}},{key:"_onEvent",value:function(K){if(this.liveEventId===K.payload.liveEventId)if(K instanceof yC)this._onReady(K);else if(K instanceof EC)this._onStarted(K);else if(K instanceof wC)this._onEnded(K);else if(K instanceof IC)this._onUpdated(K);else if(K instanceof xC)this._onHostEntered(K);else if(K instanceof kC)this._onHostExited(K);else if(K instanceof CC)this._onHostConnected(K);else if(K instanceof TC)this._onHostDisconnected(K);else if(K instanceof q_)this._onHostAudioStatusChanged(K);else if(K instanceof B_)this._onHostVideoStatusChanged(K);else if(K instanceof SC)this._onParticipantEntered(K);else if(K instanceof NC)this._onParticipantExited(K);else if(K instanceof OC)this._onUpdateCustomItems(K);else{if(!(K instanceof AC))throw new Error("unknown event is received");this._onDeleteCustomItems(K)}}},{key:"_onReady",value:function(K){K=K.payload.liveEvent,this.upsert(K),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(K){K=K.payload.liveEvent,this.upsert(K),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(K){K=K.payload.liveEvent,this.upsert(K),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(K){K=K.payload.liveEvent,this.upsert(K),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(K){K=K.payload.host,this.upsert({host:K}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(K){K=K.payload.host,this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,K)}},{key:"_onHostConnected",value:function(K){K=K.payload.host,this.upsert({host:K}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(K){K=K.payload.host,this.upsert({host:K}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(K){K=K.payload.host,this.upsert({host:K}),K.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),K.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(K){K=K.payload.host,this.upsert({host:K}),K.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),K.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(Se){var Se=Se.payload,ne=Se.participant,me=Se.participantCount,_e=Se.peakParticipantCount,Se=Se.cumulativeParticipantCount;this.upsert({participantCount:me,peakParticipantCount:_e,cumulativeParticipantCount:Se}),this._dispatchEvent("participantEntered",this,ne)}},{key:"_onParticipantExited",value:function(Se){var Se=Se.payload,ne=Se.participant,me=Se.participantCount,_e=Se.peakParticipantCount,Se=Se.cumulativeParticipantCount;this.upsert({participantCount:me,peakParticipantCount:_e,cumulativeParticipantCount:Se}),this._dispatchEvent("participantExited",this,ne)}},{key:"_onUpdateCustomItems",value:function(ne){var ne=ne.payload,me=ne.customItems,_e=ne.updatedAt;ne.updatedKeys,this._setCustomItems(me,_e)&&this._dispatchEvent("customItemsUpdated",me,_e)}},{key:"_onDeleteCustomItems",value:function(ne){var ne=ne.payload,me=ne.customItems,_e=ne.deletedAt;ne.deletedKeys,this._setCustomItems(me,_e)&&this._dispatchEvent("customItemsDeleted",me,_e)}},{key:"_tryOpen",value:function(){var K,ne;this.host&&this.host.state===t.HostState.CONNECTED&&this.state===t.LiveEventState.ONGOING&&(K=this.host.hostId,this._streams.has(K)?ne=this._streams.get(K):(ne=new Sb(this,this._deviceManager,this._sender),this._streams.set(K,ne)),ne.openStream(),ne.attach(K))}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var K=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var ne=er.createHostAlive(K.liveEventId,K.host.hostId);K._sender.send(ne)},3e3):this._aliveIntervalId=setInterval(function(){var ne=er.createAlive(K.liveEventId,K.currentLiveUser.participantId);K._sender.send(ne)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),ae}(),LW=function(){function a(c){d(this,a),this._liveEvents=[],this._ctx=c}var s,l;return f(a,[{key:"createLiveEvent",value:(l=u(regeneratorRuntime.mark(function c(p){var m,g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=er.createLiveEvent(Qc.SINGLE_HOST,p.userIdsForHost?[].concat(M(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile),b.next=3,this._ctx.commandRouter.send(m);case 3:return m=b.sent,g=m.payload.liveEvent,g=new Nb({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:g}),b.prev=6,b.next=9,g.fetchOpenChannel();case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(6),fn.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(g),b.abrupt("return",g);case 16:case"end":return b.stop()}},c,this,[[6,11]])})),function(c){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(s=u(regeneratorRuntime.mark(function c(p){var m,g,b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return m=er.createGetLiveEvent(p),L.next=3,this._ctx.commandRouter.send(m);case 3:if(m=L.sent,g=m.payload.liveEvent,-1<(b=this._liveEvents.findIndex(function(q){return q.liveEventId===p})))return(w=this._liveEvents[b]).upsert(g),L.prev=9,L.next=12,w.fetchOpenChannel();L.next=20;break;case 12:L.next=17;break;case 14:L.prev=14,L.t0=L.catch(9),fn.error("failed to fetch initial open channel");case 17:return L.abrupt("return",w);case 20:return O=new Nb({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:g}),L.prev=21,L.next=24,O.fetchOpenChannel();case 24:L.next=29;break;case 26:L.prev=26,L.t1=L.catch(21),fn.error("failed to fetch initial open channel");case 29:return this._liveEvents.push(O),L.abrupt("return",O);case 31:case"end":return L.stop()}},c,this,[[9,14],[21,26]])})),function(c){return s.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[];var c,p=D(this._liveEvents);try{for(p.s();!(c=p.n()).done;)c.value.teardown()}catch(m){p.e(m)}finally{p.f()}}}]),a}(),PW=ge,FW=Te,HW=xa,qW=$,BW=TypeError,ra=Z,GW={left:MS(!1),right:MS(!0)}.left,mn=Xr,$n=jn,Tn=(ra({target:"Array",proto:!0,forced:!F_("reduce")||!$n&&79<mn&&mn<83},{reduce:function(a){var s=arguments.length;return GW(this,a,s,1<s?arguments[1]:void 0)}}),Z),$W=mi.find,tn=D0,Rr="find",PS=!0,kt=(Rr in[]&&Array(1)[Rr](function(){PS=!1}),Tn({target:"Array",proto:!0,forced:PS},{find:function(a){return $W(this,a,1<arguments.length?arguments[1]:void 0)}}),tn(Rr),function(){function a(s,l){d(this,a),this.key=s,this.value=l}return f(a,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(s){return this.value.width===s.value.width&&this.value.height===s.value.height}}]),a}()),FS=(v(kt,"_720P",new kt("_720P",{width:1280,height:720})),v(kt,"_540P",new kt("_540P",{width:960,height:540})),v(kt,"_480P",new kt("_480P",{width:848,height:480})),v(kt,"_360P",new kt("_360P",{width:640,height:360})),kt._720P),zW=function(){_(s,Ol);var a=C(s);function s(l,c){var p;return d(this,s),v(x(p=a.call(this)),"hasPermission",!1),p._streamManger=l,p.constraints=c,p}return f(s,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var l;this.removeAllEventListeners(),(l=this.onDisposed)!=null&&l.call(this)}},{key:"streamChanged",value:function(l){this._dispatchEvent("streamChanged",l)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),s}(),jW=Mr,VW=hn,WW=Cn,Tb=Rs,KW=He,QW=Ke,YW=HC,HS=qC;FC("match",function(a,s,l){return[function(c){var p=KW(this),m=c==null?void 0:QW(c,a);return m?jW(m,c,p):new RegExp(c)[a](Tb(p))},function(g){var p=VW(this),m=Tb(g),g=l(s,p,m);if(g.done)return g.value;if(!p.global)return HS(p,m);for(var b=p.unicode,w=[],O=p.lastIndex=0;(L=HS(p,m))!==null;){var L=Tb(L[0]);(w[O]=L)===""&&(p.lastIndex=YW(m,WW(p.lastIndex),b)),O++}return O===0?null:w}]});function qS(a,s){var l,c,p,m,g;s.audio&&a.getAudioTracks().length===0&&a.addTrack((p=BS=BS||new(window.AudioContext||window.webkitAudioContext),Dl=p.createOscillator(),l=p.createMediaStreamDestination(),(c=p.createGain()).gain.setValueAtTime(0,p.currentTime),Dl.connect(c).connect(l),Dl.start(),Q0=l.stream.getAudioTracks()[0],l.stream.getAudioTracks()[0])),s.video&&a.getVideoTracks().length===0&&a.addTrack((p=i(i({},FS.value),{},{frameRate:24}),m=p.width,g=p.height,p=p.frameRate,(vd=vd||document.createElement("canvas")).width=m,vd.height=g,vd.getContext("2d").fillRect(0,0,m,g),vp=vp||setInterval(function(){vd.getContext("2d").fillRect(0,0,m,g)},1e3),p=vd.captureStream(p),Y0=p.getVideoTracks()[0],p.getVideoTracks()[0]))}var BS,Dl,vd,vp,Q0,Y0,vi=oe,Pn=Xn,XW=Rs,JW=$t.trim,fr=ti,_p=ht.parseInt,or=ht.Symbol,GS=or&&or.iterator,$S=/^[+-]?0x/i,ZW=Pn($S.exec),lr=_p(fr+"08")!==8||_p(fr+"0x16")!==22||GS&&!vi(function(){_p(Object(GS))})?function(a,s){return a=JW(XW(a)),_p(a,s>>>0||(ZW($S,a)?16:10))}:_p;Z({global:!0,forced:parseInt!=lr},{parseInt:lr});function zS(){Q0&&Q0.stop(),Y0&&Y0.stop(),Y0=Q0=null,vp&&(clearInterval(vp),vp=null),Dl&&(Dl.onended=function(){Dl.disconnect(),Dl=null},Dl.stop())}function Ib(a){if(a){var s,l=D(a.getTracks());try{for(l.s();!(s=l.n()).done;)s.value.stop()}catch(c){l.e(c)}finally{l.f()}}}function X0(a,s,l){return(a=a.match(s))&&a.length>=l&&parseInt(a[l],10)}var jS=function(){var a={browser:null,version:null};if(typeof window>"u"||!window.navigator)return a.browser="Not a browser.",a;var s=window.navigator;if(s.mozGetUserMedia)a.browser="firefox",a.version=X0(s.userAgent,/Firefox\/(\d+)\./,1);else if(s.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)a.browser="chrome",a.version=X0(s.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(s.mediaDevices&&s.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=X0(s.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!s.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=X0(s.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return a}().browser==="safari",eK=function(){function a(l){d(this,a),v(this,"_hasPermission",!1),this._deviceManager=l,this._updateQueued=!1}var s;return f(a,[{key:"updateStream",value:(s=u(regeneratorRuntime.mark(function l(){var c,p,m,g,b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this._updateAt)return this._updateQueued=!0,G.abrupt("return");G.next=3;break;case 3:if(c=this._deviceManager.mediaAccesses.some(function(re){return re.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(re){return re.constraints.video}),c||p){G.next=9;break}return Ib(this.stream),zS(),G.abrupt("return");case 9:return this._updateAt=Date.now(),(m=this.stream)||(b=new MediaStream,qS(b,{audio:c,video:p}),this.stream=b),jS&&Ib(m),G.prev=13,G.next=16,this._deviceManager.getMediaConstraints({usingAudio:c,usingVideo:p});case 16:return b=G.sent,G.next=19,navigator.mediaDevices.getUserMedia(b);case 19:g=G.sent,this._hasPermission=!0,w=D(this._deviceManager.mediaAccesses);try{for(w.s();!(O=w.n()).done;)O.value.hasPermission=!0}catch(re){w.e(re)}finally{w.f()}zS(),G.next=29;break;case 26:G.prev=26,G.t0=G.catch(13),g=new MediaStream;case 29:qS(g,{audio:c,video:p}),jS||Ib(m),this.stream=g,L=D(this._deviceManager.mediaAccesses);try{for(L.s();!(q=L.n()).done;)q.value.streamChanged(this.stream)}catch(re){L.e(re)}finally{L.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:c,video:p},!0);case 36:case"end":return G.stop()}},l,this,[[13,26]])})),function(){return s.apply(this,arguments)})}]),a}();function VS(a,s){return(a==null?void 0:a.deviceId)===(s==null?void 0:s.deviceId)&&(a==null?void 0:a.label)===(s==null?void 0:s.label)&&(a==null?void 0:a.groupId)===(s==null?void 0:s.groupId)}var nK=function(){function a(){var m=this;d(this,a),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new eK(this),navigator.mediaDevices.ondevicechange=function(){return m._onDeviceChanged()}}var s,l,c,p;return f(a,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(m){return m.constraints.audio}),video:this.mediaAccesses.some(function(m){return m.constraints.video})})}},{key:"addSendBirdCallListener",value:function(m,g){this._sendbirdCallListeners.set(m,g)}},{key:"removeSendBirdCallListener",value:function(m){this._sendbirdCallListeners.delete(m)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"_updateStream",value:(p=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._streamManager.updateStream());case 1:case"end":return g.stop()}},m,this)})),function(){return p.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(m){var g=this;this.mediaAccesses.push(m),m.onDisposed=function(){return g.stopMedia(m)}}},{key:"useMedia",value:function(m){{if(m.audio||m.video)return m=new zW(this._streamManager,m),this._registerMediaAccess(m),this._updateStream(),m;fn.error(new Error("you should set true for at least 1 media type."))}}},{key:"stopMedia",value:function(m){this.mediaAccesses.splice(this.mediaAccesses.indexOf(m),1),this._updateStream()}},{key:"fetchMediaDevices",value:(c=u(regeneratorRuntime.mark(function m(){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,navigator.mediaDevices.enumerateDevices();case 2:return g=b.sent,b.abrupt("return",g.reduce(function(w,O){return w[O.kind].push(O),w},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return b.stop()}},m)})),function(){return c.apply(this,arguments)})},{key:"getMediaConstraints",value:(l=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=g.usingAudio,w=g.usingVideo,O={audio:!1,video:!1},G.next=4,this.fetchMediaDevices();case 4:return L=G.sent,q=L.audioinput,L=L.videoinput,b&&q.length&&(q=this.getCurrentAudioInputDevice(),O.audio={deviceId:q==null?void 0:q.deviceId}),w&&L.length&&(q=this.getCurrentVideoInputDevice(),O.video=i(i({deviceId:q==null?void 0:q.deviceId},FS.value),{},{frameRate:24})),G.abrupt("return",O);case 10:case"end":return G.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(m,g){var b,w=this._availableMediaDevices[m],O=this._currentMediaDevices[m],L=w.find(function(q){return q.deviceId===(g==null?void 0:g.deviceId)});return L||(fn.warning("Selected device is unavailable. fallback to default device."),L=((b=L)!=null?b:0<w.length)?w[0]:null),!VS(O,this._currentMediaDevices[m]=L)}},{key:"_onAudioOutputChanged",value:function(){var m,g=D(this.mediaAccesses);try{for(g.s();!(m=g.n()).done;){var b=m.value;b.constraints.audio&&b.audioOutputChanged()}}catch(w){g.e(w)}finally{g.f()}}},{key:"selectDevice",value:function(m,g){g.kind!==m?fn.error(new Error("Tried to select invalid device of type")):this._updateCurrentMediaDevice(m,g)&&(m!=="audioinput"&&m!=="videoinput"||this._updateStream(),m==="audiooutput"&&this._onAudioOutputChanged())}},{key:"_updateAvailableDevices",value:function(m,g){var b,w,O,L=this._currentMediaDevices[m];if(function(K,ne){if(K.length===ne.length){for(var me=0;me<ne.length;me++)if(!VS(K[me],ne[me]))return;return 1}}(this._availableMediaDevices[m],g))return!1;this._availableMediaDevices[m]=g,L=this._updateCurrentMediaDevice(m,L);var q,G=D(this._sendbirdCallListeners.values());try{for(G.s();!(q=G.n()).done;){var re=q.value,ae=this._currentMediaDevices[m];switch(m){case"audioinput":(b=re.onAudioInputDeviceChanged)!=null&&b.call(re,ae,g);break;case"audiooutput":(w=re.onAudioOutputDeviceChanged)!=null&&w.call(re,ae,g);break;case"videoinput":(O=re.onVideoInputDeviceChanged)!=null&&O.call(re,ae,g)}}}catch(K){G.e(K)}finally{G.f()}return L}},{key:"refreshMediaDevices",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q,G,re,ae,K=arguments;return regeneratorRuntime.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(b=g.audio,w=g.video,O=1<K.length&&K[1]!==void 0&&K[1],b||w){ne.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return ne.next=6,this.fetchMediaDevices();case 6:G=ne.sent,L=G.audioinput,q=G.audiooutput,G=G.videoinput,ae=re=!1,b&&(re=this._updateAvailableDevices("audioinput",L),ae=this._updateAvailableDevices("audiooutput",q)),w&&(re=this._updateAvailableDevices("videoinput",G)||re),!O&&re&&this._updateStream(),ae&&this._onAudioOutputChanged();case 16:case"end":return ne.stop()}},m,this)})),function(m){return s.apply(this,arguments)})}]),a}(),WS="v1.0.0-beta.3",tK=function(){function a(s){d(this,a),this._parse=s}return f(a,[{key:"parseToJson",value:function(s){try{return JSON.parse(s)}catch{return{}}}},{key:"validate",value:function(p){var l=p.cmd,c=p.request_id,p=p.call_type;return!!(c||l||p)}},{key:"parseCommand",value:function(s){return s.error?{isValid:!0,error:{requestId:s.request_id,message:s.message,code:s.code}}:{isValid:!0,command:this._parse(s)}}},{key:"parse",value:function(s){return s=this.parseToJson(s),this.validate(s)?this.parseCommand(s):{isValid:!1}}}]),a}(),rK=function(){_(s,Ol);var a=C(s);function s(l){var c;return d(this,s),(c=a.call(this))._ctx=l,c._ws=null,c._retryTimer=null,c._closed=!0,c._sessionKey=null,c._requestMap=new US(c._getTimeoutTime()),c._messageParser=new tK(c._ctx.parse),c._hostUrl=(l=c._ctx.websocketHost)!=null?l:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",c._ctx.appId),c}return f(s,[{key:"connect",value:function(){var l=this;return new Promise(function(c,p){l._sessionKey||p(new Error("tried to connect to websocket server without auth")),l._ws=l._createWebSocket(),l._closed=!1,l._ws.onopen=function(){l._onOpen(),c(null)},l._ws.onmessage=function(w){var w=l._messageParser.parse(w.data),g=w.isValid,b=w.error,w=w.command;g&&(b?l._processError(b):l.processCommand(w))},l._ws.onerror=function(m){return l._onError(m)},l._ws.onclose=function(){l._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(c){var p=c.requestId,c=(c.code,c.message),p=this._requestMap.unregister(p);p&&p.reject(new Error(c))}},{key:"processCommand",value:function(l){this._dispatchEvent("command",l)}},{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(l){}},{key:"_onClose",value:function(){this._startToReconnect()}},{key:"_createWebSocket",value:function(){var l="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+l)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(WS)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){this._removeRetryTimer(),this.connect().catch(function(){})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),iK=function(){function a(l){d(this,a),this._ctx=l,this._fetch=function(){var c;return(c=window).fetch.apply(c,arguments)},this._sessionKey=null,this._hostUrl=(l=this._ctx.apiHost)!=null?l:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var s;return f(a,[{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(s=u(regeneratorRuntime.mark(function l(c){var p,m,g,b,w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(c.getApiOption){O.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(c)));case 2:if((p=c.getApiOption()).auth&&!this._sessionKey)throw new Error("tried to call private api without auth");O.next=5;break;case 5:return g=i({},p.headers),p.body instanceof FormData||(g["Content-Type"]="application/json"),g.SendBird="JS,".concat(this._getOsVersion(),",").concat(WS),g["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(g["SBCall-Session-Token"]=this._sessionKey),O.next=12,this._fetch("".concat(this._getHost()).concat(p.path),{method:p.method,body:p.body instanceof FormData?p.body:JSON.stringify(p.body),headers:g});case 12:return m=O.sent,O.next=15,m.text();case 15:g=O.sent,b=null,O.prev=17,b=JSON.parse(g),O.next=24;break;case 21:throw O.prev=21,O.t0=O.catch(17),new Error("malformed data");case 24:if(m.ok){O.next=34;break}if(b.error)throw new Error("server error");O.next=29;break;case 29:if(m.status===500)throw new Error("internal server error");O.next=31;break;case 31:if(300<=m.status&&m.status<400)throw new Error("malformed data");O.next=33;break;case 33:throw new Error("request failed");case 34:if(O.prev=34,w=this._ctx.parseResponse(c,b))return O.abrupt("return",w);O.next=38;break;case 38:O.next=43;break;case 40:return O.prev=40,O.t1=O.catch(34),O.abrupt("return",b);case 43:return O.abrupt("return",b);case 44:case"end":return O.stop()}},l,this,[[17,21],[34,40]])})),function(l){return s.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),a}(),KS=function(a,s){return(KS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(l[p]=c[p])})(a,s)};function Y(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}KS(a,s),a.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var pe=function(){return(pe=Object.assign||function(a){for(var s,l=1,c=arguments.length;l<c;l++)for(var p in s=arguments[l])Object.prototype.hasOwnProperty.call(s,p)&&(a[p]=s[p]);return a}).apply(this,arguments)};function F(a,s,l,c){return new(l=l||Promise)(function(p,m){function g(O){try{w(c.next(O))}catch(L){m(L)}}function b(O){try{w(c.throw(O))}catch(L){m(L)}}function w(O){var L;O.done?p(O.value):((L=O.value)instanceof l?L:new l(function(q){q(L)})).then(g,b)}w((c=c.apply(a,s||[])).next())})}function H(a,s){var l,c,p,m={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]},g={next:b(0),throw:b(1),return:b(2)};return typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(O){var L=[w,O];if(l)throw new TypeError("Generator is already executing.");for(;m;)try{if(l=1,c&&(p=2&L[0]?c.return:L[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,L[1])).done)return p;switch(c=0,(L=p?[2&L[0],p.value]:L)[0]){case 0:case 1:p=L;break;case 4:return m.label++,{value:L[1],done:!1};case 5:m.label++,c=L[1],L=[0];continue;case 7:L=m.ops.pop(),m.trys.pop();continue;default:if(!((p=0<(p=m.trys).length&&p[p.length-1])||L[0]!==6&&L[0]!==2)){m=0;continue}if(L[0]===3&&(!p||L[1]>p[0]&&L[1]<p[3])){m.label=L[1];break}if(L[0]===6&&m.label<p[1]){m.label=p[1],p=L;break}if(p&&m.label<p[2]){m.label=p[2],m.ops.push(L);break}p[2]&&m.ops.pop(),m.trys.pop();continue}L=s.call(a,m)}catch(q){L=[6,q],c=0}finally{l=p=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}}}function zn(a){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&a[s],c=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return{value:(a=a&&c>=a.length?void 0:a)&&a[c++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function tr(a,s){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var c,p,m=l.call(a),g=[];try{for(;(s===void 0||0<s--)&&!(c=m.next()).done;)g.push(c.value)}catch(b){p={error:b}}finally{try{c&&!c.done&&(l=m.return)&&l.call(m)}finally{if(p)throw p.error}}return g}function br(a,s,l){if(l||arguments.length===2)for(var c,p=0,m=s.length;p<m;p++)!c&&p in s||((c=c||Array.prototype.slice.call(s,0,p))[p]=s[p]);return a.concat(c||Array.prototype.slice.call(s))}Object.defineProperty(zu,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(zu,"SDK_VERSION",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(zu,"SDK_MAJOR_VERSION",{get:function(){return zu.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(zu,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(zu,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0});var Jn,$u=zu;function zu(){}(ze=Jn=Jn||{})[ze.INVALID_TOKEN=400111]="INVALID_TOKEN",ze[ze.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",ze[ze.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",ze[ze.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",ze[ze.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",ze[ze.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",ze[ze.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",ze[ze.LOST_INSTANCE=700100]="LOST_INSTANCE",ze[ze.CONNECTION_RENEW=700102]="CONNECTION_RENEW",ze[ze.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",ze[ze.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",ze[ze.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",ze[ze.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",ze[ze.INVALID_PARAMETER=800110]="INVALID_PARAMETER",ze[ze.NETWORK_ERROR=800120]="NETWORK_ERROR",ze[ze.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",ze[ze.MALFORMED_DATA=800130]="MALFORMED_DATA",ze[ze.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",ze[ze.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",ze[ze.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",ze[ze.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",ze[ze.ACK_TIMEOUT=800180]="ACK_TIMEOUT",ze[ze.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",ze[ze.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",ze[ze.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",ze[ze.REQUEST_FAILED=800220]="REQUEST_FAILED",ze[ze.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",ze[ze.REQUEST_CANCELED=800240]="REQUEST_CANCELED",ze[ze.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",ze[ze.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",ze[ze.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",ze[ze.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",ze[ze.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED";function Ul(a){return!(a instanceof ye&&!a.shouldThrowOutside)}function QS(a,s){return a===s||(a=pe({},a),s=pe({},s),!(a.hasOwnProperty("messageId")&&s.hasOwnProperty("messageId")&&a.messageId!==s.messageId||a.hasOwnProperty("reqId")&&s.hasOwnProperty("reqId")&&a.reqId!==s.reqId||(a.hasOwnProperty("messageId")&&delete a.messageId,a.hasOwnProperty("reqId")&&delete a.reqId,s.hasOwnProperty("messageId")&&delete s.messageId,s.hasOwnProperty("reqId")&&delete s.reqId,JSON.stringify(a)!==JSON.stringify(s))))}function J0(a){return 0<a&&0<=oK.indexOf(a)}function uo(a,s){if((s=s===void 0?!1:s)&&a===null)return!0;if(!(s=fe("object",a)&&a!==null&&a.hasOwnProperty("name")&&typeof a.name=="string"&&a.hasOwnProperty("uri")&&typeof a.uri=="string"&&a.hasOwnProperty("type")&&typeof a.type=="string")){if(typeof Blob<"u")return a instanceof Blob;if(typeof File<"u")return a instanceof File}return s}function aK(c){var s=(s=c.encryption)===void 0?null:s,l=(l=c.store)===void 0?null:l,c=(c=c.localCacheEnabled)===void 0||c;this.nestdb=null,this.store=l,this.preference=new lK({store:l}),this.encryption=s!=null?s:Z0,this.localCacheEnabled=c}function _d(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}function _i(){}function Gn(a){var s={};return a&&Object.keys(a).forEach(function(l){a[l]!==void 0&&a[l]!==NaN&&a[l]!==null&&(s[l]=a[l])}),s}Y(Zn,YS=Error),Object.defineProperty(Zn.prototype,"isInvalidTokenError",{get:function(){return this.code===Jn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(Zn.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Jn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(Zn.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Jn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"debugModeRequired",{get:function(){return new Zn({code:Jn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"lostInstance",{get:function(){return new Zn({code:Jn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"connectionRenew",{get:function(){return new Zn({code:Jn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"invalidConnectionStateTransition",{get:function(){return new Zn({code:Jn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"connectionRequired",{get:function(){return new Zn({code:Jn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"connectionCanceled",{get:function(){return new Zn({code:Jn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"invalidParameters",{get:function(){return new Zn({code:Jn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"networkError",{get:function(){return new Zn({code:Jn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"markAsReadAllRateLimitExceeded",{get:function(){return new Zn({code:Jn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"queryInProgress",{get:function(){return new Zn({code:Jn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"noAckTimeout",{get:function(){return new Zn({code:Jn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"loginTimeout",{get:function(){return new Zn({code:Jn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"connectionClosed",{get:function(){return new Zn({code:Jn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"requestFailed",{get:function(){return new Zn({code:Jn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"fileUploadCanceled",{get:function(){return new Zn({code:Jn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"requestCanceled",{get:function(){return new Zn({code:Jn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"sessionTokenRefreshFailed",{get:function(){return new Zn({code:Jn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(Zn,"sessionTokenRequestFailed",{get:function(){return new Zn({code:Jn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Zn.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this};var Ve,YS,ye=Zn,sK=[Jn.CONNECTION_REQUIRED,Jn.NETWORK_ERROR,Jn.ACK_TIMEOUT,Jn.WEBSOCKET_CONNECTION_CLOSED,Jn.WEBSOCKET_CONNECTION_FAILED,Jn.FILE_UPLOAD_CANCEL_FAILED,Jn.REQUEST_CANCELED,Jn.INTERNAL_SERVER_ERROR,Jn.RATE_LIMIT_EXCEEDED,Jn.UNKNOWN_SERVER_ERROR],oK=[Jn.WEBSOCKET_CONNECTION_CLOSED,Jn.WEBSOCKET_CONNECTION_FAILED,Jn.CONNECTION_REQUIRED],fe=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||(typeof a!="string"?typeof a=="object"?rr(a,s):s instanceof a:typeof s===a)},rr=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Object.values(a).includes(s)},vt=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Array.isArray(s)&&s.every(function(c){return fe(a,c)})},XS=(Object.defineProperty(yp.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(a){fe("boolean",a)&&(this._useMemberInfoInMessage=a)},enumerable:!1,configurable:!0}),Object.defineProperty(yp.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(a){fe("number",a)&&(this._typingIndicatorInvalidateTime=a)},enumerable:!1,configurable:!0}),Object.defineProperty(yp.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(a){fe("number",a)&&1e3<=a&&a<=9e3&&(this._typingIndicatorThrottle=a)},enumerable:!1,configurable:!0}),Object.defineProperty(yp.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(a){fe("number",a)&&5e3<=a&&a<=3e4&&(this._websocketResponseTimeout=a)},enumerable:!1,configurable:!0}),yp),bi={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},Z0={encrypt:function(a){return a},decrypt:function(a){return a}},lK=(ju.prototype._savePreferenceKeys=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._store.set({key:this._keysAddress,value:br([],tr(this._preference.keys()),!1),generation:1})];case 1:return a.sent(),[2]}})})},ju.prototype.init=function(a){var s;return F(this,void 0,void 0,function(){var l,c,p,m,g,b,w;return H(this,function(O){switch(O.label){case 0:return this._keysAddress=a,[4,this._store.get(a)];case 1:l=(s=O.sent())!=null?s:[],O.label=2;case 2:O.trys.push([2,7,8,9]),c=zn(l),p=c.next(),O.label=3;case 3:return p.done?[3,6]:(m=p.value,[4,this._store.get(m)]);case 4:(g=O.sent())&&this._preference.set(m,g),O.label=5;case 5:return p=c.next(),[3,3];case 6:return[3,9];case 7:return g=O.sent(),b={error:g},[3,9];case 8:try{p&&!p.done&&(w=c.return)&&w.call(c)}finally{if(b)throw b.error}return[7];case 9:return[2]}})})},ju.prototype.get=function(a){var s;return F(this,void 0,void 0,function(){return H(this,function(l){return[2,(s=this._preference.get(a))!=null?s:null]})})},ju.prototype.set=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){switch(c.label){case 0:return l=!this._preference.has(a),[4,this._store.set({key:a,value:s,generation:1})];case 1:return c.sent(),this._preference.set(a,s),l?[4,this._savePreferenceKeys()]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},ju.prototype.remove=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._store.remove(a)];case 1:return s.sent(),this._preference.delete(a),[4,this._savePreferenceKeys()];case 2:return s.sent(),[2]}})})},ju.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._store.removeMany(br([],tr(this._preference.keys()),!1))];case 1:return a.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return a.sent(),[2]}})})},ju),uK=(Object.defineProperty(Ob.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),Ob.prototype.clear=function(){this.authToken=null,this.sessionKey=null},Ob),JS=(bp.prototype._register=function(a,s,l){return a in this._container||(this._container[a]=new Map),this._container[a].set(this.key,{occurence:s,handler:l}),this},bp.prototype.on=function(a,s){return this._register(a,-1,s)},bp.prototype.once=function(a,s){return this._register(a,1,s)},bp.prototype.close=function(){for(var a in this._container)this._container[a].delete(this.key)},bp),em=(tm.prototype.on=function(a,s){return new JS({container:this._container}).on(a,s)},tm.prototype.once=function(a,s){return new JS({container:this._container}).once(a,s)},tm.prototype.dispatch=function(a,s){var l,c,p=this._container[a];if(p){var m=[];try{for(var g=zn(p.keys()),b=g.next();!b.done;b=g.next()){var w=b.value,O=p.get(w);O.handler(s),0<O.occurence&&(O.occurence--,O.occurence===0&&m.push(w))}}catch(L){l={error:L}}finally{try{b&&!b.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}m.forEach(function(L){return p.delete(L)})}},tm),cK=(nm.prototype.on=function(a){return this._dispatcher.on("event",a)},nm.prototype.once=function(a){return this._dispatcher.once("event",a)},nm.prototype.dispatch=function(a){this._dispatcher.dispatch("event",a)},nm);function nm(){this._dispatcher=new em}function tm(){this._container={}}function bp(a){a=a.container,this._container={},this._container=a,this.key=_d()}function Ob(){this.sessionKey=null,this.authToken=null}function ju(a){a=a.store,this._preference=new Map,this._store=a}function yp(p){var p=p===void 0?{}:p,s=p.useMemberInfoInMessage,s=s!==void 0&&s,l=p.typingIndicatorInvalidateTime,l=l===void 0?1e4:l,c=p.typingIndicatorThrottle,c=c===void 0?1e3:c,p=p.websocketResponseTimeout,p=p===void 0?1e4:p;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=s,this._typingIndicatorInvalidateTime=l,this._typingIndicatorThrottle=c,this._websocketResponseTimeout=p}function Zn(l){var s=l.code,s=s===void 0?0:s,l=l.message,l=YS.call(this,l)||this;return l.shouldThrowOutside=!1,l.name="SendbirdError",l.code=s,Object.setPrototypeOf(l,Zn.prototype),l}(zt=Ve=Ve||{}).GET="GET",zt.POST="POST",zt.PUT="PUT",zt.DELETE="DELETE",Y(Ep,Rb=_i),Ep.prototype.stringifyParams=function(a){return typeof a!="object"||Array.isArray(a)?String(a):a?JSON.stringify(a):""},Object.defineProperty(Ep.prototype,"query",{get:function(){var a=this,s=Gn(this.params);return"?".concat(Object.keys(s).map(function(l){return"".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(a.stringifyParams(s[l])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(Ep.prototype,"payload",{get:function(){var a,s=this,l=Gn(this.params);return Object.keys(l).some(function(c){return uo(l[c])})?(a=new FormData,Object.keys(l).forEach(function(c){var p,m=l[c];uo(m)?a.append(c,m,(p=m.name)!=null?p:"filename"):a.append(c,s.stringifyParams(m))}),a):JSON.stringify(l)},enumerable:!1,configurable:!0});var rm,ZS,Ab,eN,nN,Rb,Qe=Ep,Ze=(Y(am,nN=_i),Object.defineProperty(am.prototype,"payload",{get:function(){return pe({},this._payload)},enumerable:!1,configurable:!0}),am.prototype.as=function(a){return new a(this._iid,this.payload)},am),dK=(Y(iN,eN=_i),iN),im=(Y(rN,Ab=_i),rN),Mb=(Y(tN,ZS=_i),tN);function tN(a){var s=ZS.call(this)||this;return s.statLog=a,s}function rN(){return Ab!==null&&Ab.apply(this,arguments)||this}function iN(a){var s=eN.call(this)||this;return s.requestId=a,s}function am(a,s){var l=nN.call(this)||this;return l._iid=a,l._payload=s,l}function Ep(){var a=Rb!==null&&Rb.apply(this,arguments)||this;return a.params={},a.requireAuth=!0,a.headers={},a.requestId=_d(),a}(Hi=rm=rm||{}).WEBSOCKET_CONNECT="ws:connect",Hi.API_RESULT="api:result";function Ut(){}uN.payloadify=function(a){return Gn({stat_type:a.type,ts:a.createdAt,data:Gn(a.data)})};var Ll,aN,sN,oN,wp=uN,hK=(Object.defineProperty(Wu.prototype,"_userAgentWithExtension",{get:function(){var c=this._sdkState.extensions,a=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",s=c.sb_syncmanager?"s".concat(c.sb_syncmanager):"",l=c.sb_uikit?"u".concat(c.sb_uikit):"",c=c["device-os-platform"]?"o".concat(c["device-os-platform"]):"";return"".concat(a,"/c").concat($u.SDK_VERSION,"/").concat(s,"/").concat(l,"/").concat(c)},enumerable:!1,configurable:!0}),Wu.prototype._createHeader=function(a,s){s===void 0&&(s=null);var c=this._sdkState,l=c.appId,c=c.appVersion,c=pe(pe({},a.headers),{SendBird:"JS,".concat($u.OS_VERSION,",").concat($u.SDK_VERSION,",").concat(l).concat(c?",".concat(c):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return s||(c["Content-Type"]="application/json; charset=utf-8"),a.requireAuth&&this._auth.hasSession&&(c["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(c["App-Id"]=l,c["Access-Token"]=this._auth.authToken),c},Wu.prototype._statLogApiResult=function(a,s,l){this._dispatcher.dispatch(new Mb(new wp({type:rm.API_RESULT,data:{endpoint:a.path,method:a.method,success:!l,latency:Date.now()-s,error_code:l==null?void 0:l.code,error_description:l==null?void 0:l.message}})))},Wu.prototype.send=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L;return H(this,function(q){switch(q.label){case 0:c=a.path,s=a.method,p=![Ve.GET,Ve.DELETE].includes(s),l=this._sdkState.api,l="".concat(l.host).concat(c).concat(p?"":a.query),c=p?a.payload:null,p=this._createHeader(a,c instanceof FormData?c:null),g=new AbortController,m=g.signal,this._abortControl.set(a.requestId,g),g=Date.now(),q.label=1;case 1:return q.trys.push([1,4,,5]),[4,fetch(l,{method:s,body:c,headers:p,signal:m})];case 2:return[4,(b=q.sent()).json()];case 3:if(O=q.sent(),b.ok||b.redirected)return this._logger.debug("receive api response",a.requestId),this._statLogApiResult(a,g,null),[2,new Ze(this._iid,O)];throw O?(w=new ye(O)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new im):w=ye.requestFailed,this._statLogApiResult(a,g,w),w;case 4:throw O=q.sent(),this._statLogApiResult(a,g,O),O instanceof ye?(this._logger.debug("fail api request",O),O):O.name==="AbortError"?ye.requestCanceled:(L=ye.networkError,this._logger.debug("fail api request",L),L);case 5:return[2]}})})},Wu.prototype.cancel=function(a){this._abortControl.has(a)&&(this._abortControl.get(a).abort(),this._abortControl.delete(a))},Wu.prototype.cancelAll=function(){var a,s;try{for(var l=zn(this._abortControl.values()),c=l.next();!c.done;c=l.next())c.value.abort()}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this._abortControl.clear()},Wu),ur=(Y(bd,oN=_i),bd.createFromRawMessage=function(a,s){var l=s.substring(0,4),c=null;try{c=JSON.parse(s.substring(4))}catch{l="NOOP"}finally{return new bd(a,l,c)}},bd.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},bd.prototype.as=function(a){return new a(this._iid,this.code,this.payload)},bd),co=(Y(Db,sN=_i),Db.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},Db),pK=(Y(lN,aN=co),lN),fK=(Object.defineProperty(Vu.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),Vu.prototype.ping=function(){var a,s=this,l=new pK;try{var c=(a=this.sdkState.websocket.pongTimeout)!=null?a:5e3;this._pingTimeoutTimer=setTimeout(function(){s._logger.debug("pinger.ping() timeout"),s.pingDelegate.error(null)},c),this.pingDelegate.send(l),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return l},Vu.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},Vu.prototype.refreshTimer=function(){var a=this,s=(this._logger.debug("pinger.refreshTimer()"),(s=this.sdkState.websocket.pingInterval)!=null?s:15e3);this.stop(),this._pingTimer=setInterval(function(){a.ping()},s)},Vu.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},Vu.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},Vu);function Vu(c){var s=c.pingDelegate,l=c.sdkState,c=c.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=s,this.sdkState=l,this._logger=c}function lN(){return aN.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}function Db(c){var s=c.code,l=c.ackRequired,c=c.payload,c=c===void 0?null:c,p=this;return(p=sN.call(this)||this).code=s,p.payload=c,p.requestId=(s=p.payload.req_id)!=null?s:_d(),p.ackRequired=l,p.payload.req_id=p.requestId,p}function bd(a,s,l,c){c===void 0&&(c="");var p=this;return(p=oN.call(this)||this)._iid=a,p.code=s,p.payload=l,p.requestId=l?(a=l.req_id)!=null?a:c:"",p}function Wu(a,m){var l=m.auth,c=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._abortControl=new Map,this._iid=a,this._auth=l,this._sdkState=c,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof dK&&g.cancel(b.requestId)}),this._logger=m}function uN(c){var s=c.type,l=c.data,c=c.ts,c=c===void 0?Date.now():c;this.type=s,this.createdAt=c,this.data=l}($r=Ll=Ll||{}).CONNECTING="CONNECTING",$r.OPEN="OPEN",$r.CLOSED="CLOSED";function ta(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})}Y(Ku,dN=em),Object.defineProperty(Ku.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Ll.CONNECTING;case 1:return Ll.OPEN}return Ll.CLOSED},enumerable:!1,configurable:!0}),Ku.prototype.connect=function(a){var s=this;this._ws=new WebSocket(a),this._ws.onopen=function(){s._logger.debug("websocket open"),s.dispatch("open")},this._ws.onmessage=function(l){l.data.split(`
`).forEach(function(c){c&&fe("string",c)&&(c=ur.createFromRawMessage(s._iid,c),s._logger.debug("receive websocket event",c),c.code==="LOGI"?(c.payload&&!c.payload.error&&s._pinger&&s._pinger.start(),s.dispatch("message",c)):c.code==="PONG"?s._pinger&&s._pinger.pong():c.code==="EXPR"?c.payload&&0<c.payload.expires_in&&s._dispatcher.dispatch(new im):c.code!=="NOOP"&&s.dispatch("message",c))})},this._ws.onerror=function(){s._logger.debug("websocket error"),s._pinger&&s._pinger.stop(),s.dispatch("error",ye.networkError)},this._ws.onclose=function(){s._logger.debug("websocket close"),s._pinger&&s._pinger.stop(),s.dispatch("close")},this.lastActive=Date.now()},Ku.prototype.disconnect=function(){var a=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Ut,this._ws.onmessage=Ut,this._ws.onerror=Ut,this._ws.onclose=function(){a.dispatch("close")},this._ws.close(),this._ws=null)},Ku.prototype.send=function(a){if(!this._ws)throw ye.connectionClosed;a.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",a),this._ws.send(a.convertToMessage())},Ku.prototype.error=function(a){this._logger.debug("websocket error",a),this._pinger&&this._pinger.stop(),this.dispatch("error",a)};var Xt,cN,dN,mK=Ku,hN=(Y(pN,cN=_i),pN),gK=(yd.prototype._sendApiRequest=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this.apiClient.send(a)];case 1:return[2,s.sent()]}})})},yd.prototype._sendWebsocketRequest=function(a){return F(this,void 0,void 0,function(){var s,l,c,p=this;return H(this,function(m){if(s=new ta,a.ackRequired){l=null,c=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(a.requestId)&&(p._ackStateMap.delete(a.requestId),l&&(clearTimeout(l),l=null),g?(p._logger.debug("fail websocket request",g),s.reject(g)):(p._logger.debug("receive websocket ack",a.requestId),s.resolve(b)))};try{l=setTimeout(function(){return c(ye.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(a.requestId,{resolve:function(g){return c(null,g)},reject:function(g){return c(g)}}),this.websocketClient.send(a)}catch(g){c(g)}}else try{this.websocketClient.send(a),s.resolve(null)}catch(g){s.reject(g)}return[2,s.promise]})})},yd.prototype.send=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return a instanceof Qe?[4,this._sendApiRequest(a)]:[3,2];case 1:case 3:return[2,s.sent()];case 2:return a instanceof co?[4,this._sendWebsocketRequest(a)]:[3,4];case 4:throw ye.invalidParameters}})})},yd.prototype.cancel=function(a){this.apiClient.cancel(a)},yd.prototype.cancelAll=function(){this.apiClient.cancelAll()},yd);function yd(a,m){var l=m.auth,c=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._ackStateMap=new Map,this._sdkState=c,this._dispatcher=p,this._logger=m,this.apiClient=new hK(a,{auth:l,sdkState:c,dispatcher:p,logger:m}),this.websocketClient=new mK(a,{sdkState:c,dispatcher:p,logger:m}),this.websocketClient.on("message",function(b){var w;b.payload.unread_cnt&&g._dispatcher.dispatch(new hN(b.payload.unread_cnt)),b.requestId?g._ackStateMap.has(b.requestId)&&(w=g._ackStateMap.get(b.requestId),b.code!=="EROR"?w.resolve(b):w.reject(new ye({code:b.payload.code,message:b.payload.message}))):g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(ye.connectionClosed)}),g._ackStateMap.clear()})}function pN(c){var s=c.all,l=c.custom_types,c=c.ts,p=cN.call(this)||this;return p.all=s,p.customTypes=l,p.ts=c,p}function Ku(a,p){var l=p.sdkState,c=p.dispatcher,p=p.logger,m=dN.call(this)||this;return m._pinger=null,m.lastActive=0,m._iid=a,m._sdkState=l,m._dispatcher=c,m._logger=p,m._sdkState.websocket.pingerDisabled||(m._pinger=new fK({pingDelegate:{send:function(g){return m.send(g)},error:function(g){return m.error(g)}},sdkState:m._sdkState,logger:p})),m}(Ye=Xt=Xt||{})[Ye.NONE=0]="NONE",Ye[Ye.INITIALIZED=1]="INITIALIZED",Ye[Ye.CONNECTING=2]="CONNECTING",Ye[Ye.CONNECTED=3]="CONNECTED",Ye[Ye.RECONNECTING=4]="RECONNECTING",Ye[Ye.DISCONNECTED=5]="DISCONNECTED",Ye[Ye.LOGOUT=6]="LOGOUT";function ho(a){return F(void 0,void 0,void 0,function(){return H(this,function(s){return[2,new Promise(function(l){return setTimeout(l,a)})]})})}function Ub(a,s,l){return l===void 0&&(l=new xN),F(void 0,void 0,void 0,function(){var c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:c=0,p=null,m=function(O){return p=(O=O===void 0?null:O)!=null?O:new Error("Halted")},g=function(){c=0},w.label=1;case 1:if(!(s===-1||c<s))return[3,9];w.label=2;case 2:return w.trys.push([2,4,,8]),[4,a(m,g)];case 3:if(b=w.sent(),p)throw p;return[2,b];case 4:if(b=w.sent(),p)return[3,6];if(++c===s)throw b;return[4,ho(l.calcTimeout(c))];case 5:return w.sent(),[3,7];case 6:throw p;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})}function it(a){F(void 0,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,a()];case 1:return l.sent(),[3,3];case 2:if((s=l.sent())instanceof ye)return s.throwOutside(),[3,3];throw s;case 3:return[2]}})})}function xp(a,s){return(s=s===void 0?null:s)!==null&&SN.set(a,s),(s=SN.get(a))!=null?s:""}function vK(a){this.emojiHash=(a=a===void 0?{}:a).emoji_hash||"",this.uploadSizeLimit=a.file_upload_size_limit?1048576*a.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!a.use_reaction,this.applicationAttributes=a.application_attributes||[],this.premiumFeatureList=a.premium_feature_list||[]}Y(FN,EN=_i);var yr,sm,mr,Ba,om,Bi,Ga,Pl,ir,fN,Lb,mN,Pb,Fb,gN,Hb,qb,vN,_N,bN,yN,EN,wN,Ed=FN,_K=(Object.defineProperty(Hl.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Xt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(Hl.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Xt.CONNECTING||this._currentConnectionStateType===Xt.RECONNECTING},enumerable:!1,configurable:!0}),Hl.prototype.send=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:return a instanceof co?this.isReady?(this._logger.debug("send websocket request",a),[4,this.commandRouter.send(a)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",a),s=new ta,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return c.timeout(a.requestId)},1e4)}),[2,s.promise];throw this._logger.debug("fail websocket request"),ye.connectionRequired;case 3:return[3,7];case 4:return a instanceof Qe?this._auth.hasSession?(this._logger.debug("send api request",a),[4,this.commandRouter.send(a)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",a),s=new ta,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return c.timeout(a.requestId)},1e4)}),[2,s.promise];throw l=ye.connectionRequired,this._logger.debug("fail api request",l),l;case 7:return[2]}})})},Hl.prototype.forceSend=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this._logger.debug("send websocket request (forced)",a),[4,this.commandRouter.send(a)];case 1:return[2,s.sent()]}})})},Hl.prototype.timeout=function(a){this._logger.debug("timeout request",a);var s=this._lazyCallQueue.findIndex(function(l){return l.command.requestId===a});-1<s&&(this._lazyCallQueue[s].deferred.reject(ye.connectionRequired),this._lazyCallQueue.splice(s,1))},Hl.prototype.cancel=function(a){this._logger.debug("cancel api request",a),this.commandRouter.cancel(a)},Hl.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},Hl),bK=(Y(PN,yN=Qe),PN),yK=(Y(LN,bN=co),LN),EK=(Y(UN,_N=Ze),UN),wK=(Y(DN,vN=ur),DN),xK=(Y(MN,qb=_i),MN),xN=(RN.prototype.calcTimeout=function(){return 0},RN),kK=(Sp.prototype.createRefreshWebsocketCommand=function(a){return new yK({authToken:a,expiringSession:!0})},Sp.prototype._refreshSessionKey=function(a,s){return F(this,void 0,void 0,function(){var l,c,p,m,g=this;return H(this,function(b){switch(b.label){case 0:if(this._currentConnectionStateType!==Xt.CONNECTED)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),l=this.createRefreshWebsocketCommand(a),[4,this._requestQueue.forceSend(l)];case 2:if(l=b.sent(),p=l.as(wK),c=p.newKey,p=p.error)throw p;return this.auth.sessionKey=c!=null?c:this.auth.sessionKey,this._logger.debug("session refreshed"),it(function(){return F(g,void 0,void 0,function(){return H(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2];case 3:if(p=b.sent(),Ul(p))throw p;return p.isSessionTokenExpiredError?(this._handleError(s),[2]):[3,4];case 4:return b.trys.push([4,6,,7]),m=new bK({userId:this._sdkState.userId,authToken:a,expiringSession:!0}),[4,Ub(function(w){return F(g,void 0,void 0,function(){var O;return H(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(m)];case 1:return O=L.sent(),O=O.as(EK).key,this.auth.sessionKey=O,[3,3];case 2:throw(O=L.sent()).isSessionTokenExpiredError&&w(ye.sessionTokenRefreshFailed),O;case 3:return[2]}})})},3)];case 5:return b.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return b.sent(),this._handleError(s),[2];case 7:return it(function(){return F(g,void 0,void 0,function(){return H(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2]}})})},Sp.prototype._handleError=function(a){var s=this,l=ye.sessionTokenRefreshFailed;it(function(){return F(s,void 0,void 0,function(){return H(this,function(c){return this.handler.onSessionError(l),[2]})})}),a&&a.reject(l)},Sp.prototype.refresh=function(){return F(this,void 0,void 0,function(){var a,s,l,c=this;return H(this,function(p){return this.handler?(a=new ta,s=function(m){m?(c._logger.debug("session refreshing.."),c.auth.authToken=m,c._refreshSessionKey(m,a)):(c._logger.debug("session closed"),it(function(){return F(c,void 0,void 0,function(){return H(this,function(g){return this.handler.onSessionClosed(),[2]})})}),a.resolve())},l=function(){c._dispatcher.dispatch(new xK);var m=ye.sessionTokenRequestFailed;c.handler&&(it(function(){return F(c,void 0,void 0,function(){return H(this,function(g){return this.handler.onSessionError(m),[2]})})}),a.reject(m))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,a):it(function(){return F(c,void 0,void 0,function(){return H(this,function(m){return this.handler.onSessionTokenRequired(s,l),[2]})})}),[2,a.promise]):[2]})})},Sp),Nt=(xd.prototype.run=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2]})})},xd.prototype.onConnect=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){return[2]})})},xd.prototype.onReconnect=function(a,s){return s.resetReconnectCount,F(this,void 0,void 0,function(){return H(this,function(l){return[2]})})},xd.prototype.onDisconnect=function(a,s){return s.error,s.autoReconnect,F(this,void 0,void 0,function(){return H(this,function(l){return[2]})})},xd.prototype.onLogout=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2]})})},xd),kp=(Y(jb,Hb=Nt),jb.prototype.run=function(a){return F(this,void 0,void 0,function(){var s,l=this;return H(this,function(c){switch(c.label){case 0:return s=a.sdkState.userId,a.logout(),it(function(){return F(l,void 0,void 0,function(){return H(this,function(p){return a.connectionHandlers.forEach(function(m){m.onDisconnected(s)}),[2]})})}),[4,a.changeState(new $b)];case 1:return c.sent(),[2]}})})},jb),Bb=(Y(wd,gN=Nt),wd.prototype.run=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return a.disconnect(),this._autoReconnect?[4,a.changeState(new Gb)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},wd.prototype.onConnect=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return a.disconnect(),[4,a.changeState(new CN({authToken:s}))];case 1:return l.sent(),[2]}})})},wd.prototype.onReconnect=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Gb)];case 1:return s.sent(),[2]}})})},wd.prototype.onLogout=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,a.changeState(new kp)];case 1:return s.sent(),[2]}})})},wd),Gb=(Y(Fl,Fb=Nt),Fl.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},Fl.prototype.run=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m=this;return H(this,function(g){switch(g.label){case 0:s=new ta,this._callbacks.push(function(b){return b?s.reject(b):s.resolve()}),it(function(){return F(m,void 0,void 0,function(){return H(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectStarted()}),[2]})})}),g.label=1;case 1:return g.trys.push([1,4,,9]),c=a.sdkState.websocket,l=c.reconnectMaxRetry,c=c.reconnectRetryStrategy,[4,Ub(function(b,w){return F(m,void 0,void 0,function(){var O;return H(this,function(L){switch(L.label){case 0:this._haltConnect=b,this._resetConnect=w,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,a.connect()];case 2:return L.sent(),[3,4];case 3:if((O=L.sent())instanceof ye&&O.code===Jn.CONNECTION_CANCELED)return b(O),[2];throw O;case 4:return[2]}})})},l,c)];case 2:return g.sent(),[4,a.changeState(new kN)];case 3:return g.sent(),it(function(){return F(m,void 0,void 0,function(){return H(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return p=g.sent(),Ul(p)?[3,7]:!(p instanceof ye)||p.code===Jn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new Bb({autoReconnect:!1}))];case 5:g.sent(),g.label=6;case 6:return it(function(){return F(m,void 0,void 0,function(){return H(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectFailed()}),this.flushCallbacks(p),[2]})})}),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,s.promise]}})})},Fl.prototype.onConnect=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){return l=new ta,this._resetConnect&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(p){return p?l.reject(p):l.resolve()}),[2,l.promise]})})},Fl.prototype.onReconnect=function(a,l){var l=l.resetReconnectCount,c=l!==void 0&&l;return F(this,void 0,void 0,function(){var p;return H(this,function(m){return p=new ta,this._resetConnect&&c&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(g){return g?p.reject(g):p.resolve()}),[2,p.promise]})})},Fl.prototype.onDisconnect=function(a,s){var c=s.error,l=c===void 0?null:c,c=s.autoReconnect,p=c===void 0||c;return F(this,void 0,void 0,function(){return H(this,function(m){switch(m.label){case 0:return this._haltConnect&&this._haltConnect(l!=null?l:ye.connectionCanceled),[4,a.changeState(new Bb({autoReconnect:p}))];case 1:return m.sent(),[2]}})})},Fl.prototype.onLogout=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(ye.connectionCanceled),[4,a.changeState(new kp)];case 1:return s.sent(),[2]}})})},Fl),kN=(Y(Cp,Pb=Nt),Cp.prototype.onReconnect=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return a.disconnect(),[4,a.changeState(new Gb)];case 1:return s.sent(),[2]}})})},Cp.prototype.onDisconnect=function(a,s){var l=s.autoReconnect;return F(this,void 0,void 0,function(){return H(this,function(c){switch(c.label){case 0:return[4,a.changeState(new Bb({autoReconnect:l}))];case 1:return c.sent(),[2]}})})},Cp.prototype.onLogout=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,a.changeState(new kp)];case 1:return s.sent(),[2]}})})},Cp),CN=(Y(Yu,mN=Nt),Yu.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},Yu.prototype.run=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:s=new ta,this._callbacks.push(function(m){return m?s.reject(m):s.resolve()}),p.label=1;case 1:return p.trys.push([1,4,,9]),[4,Ub(function(m){return F(c,void 0,void 0,function(){var g;return H(this,function(b){switch(b.label){case 0:this._haltConnect=m,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,a.connect(this._authToken)];case 2:return b.sent(),[3,4];case 3:if((g=b.sent())instanceof ye&&g.code===Jn.CONNECTION_CANCELED)return m(g),[2];throw g;case 4:return[2]}})})},a.sdkState.websocket.connectMaxRetry)];case 2:return p.sent(),[4,a.changeState(new kN)];case 3:return p.sent(),it(function(){return F(c,void 0,void 0,function(){return H(this,function(m){return a.connectionHandlers.forEach(function(g){g.onConnected(a.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return l=p.sent(),Ul(l)?[3,7]:(a.disconnect(),!(l instanceof ye)||l.code===Jn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new $b)]);case 5:p.sent(),p.label=6;case 6:return it(function(){return F(c,void 0,void 0,function(){return H(this,function(m){return this.flushCallbacks(l),[2]})})}),[3,8];case 7:throw l;case 8:return[3,9];case 9:return[2,s.promise]}})})},Yu.prototype.onConnect=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){return s=new ta,this._callbacks.push(function(c){return c?s.reject(c):s.resolve()}),[2,s.promise]})})},Yu.prototype.onDisconnect=function(a,l){var l=l.error,c=l===void 0?null:l;return F(this,void 0,void 0,function(){return H(this,function(p){switch(p.label){case 0:return this._haltConnect&&this._haltConnect(c!=null?c:ye.connectionCanceled),[4,a.changeState(new kp)];case 1:return p.sent(),[2]}})})},Yu.prototype.onLogout=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(ye.connectionCanceled),[4,a.changeState(new kp)];case 1:return s.sent(),[2]}})})},Yu),$b=(Y(zb,Lb=Nt),zb.prototype.onConnect=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,a.changeState(new CN({authToken:s}))];case 1:return l.sent(),[2]}})})},zb),SN=new Map,lt=(AN.payloadify=function(a){return a?{}:null},AN),xt="/".concat("v3","/users"),CK="/".concat("v3","/storage/file"),NN="/".concat("v3","/group_channels"),Qu="/".concat("v3","/open_channels"),SK="/".concat("v3","/sdk/open_channels"),NK="/".concat("v3","/search"),TN="/".concat("v3","/report"),TK="/".concat("v3","/emojis"),IN="/".concat("v3","/emoji_categories"),IK="/".concat("v3","/sdk/statistics"),OK=(Y(ON,fN=Qe),ON);function ON(l){var s=l.userId,l=l.metadata,c=fN.call(this)||this;return c.method=Ve.POST,c.path="".concat(xt,"/").concat(s,"/metadata"),c.params={metadata:l},c}function AN(a){this._iid="",this._iid=a}function zb(){var a=Lb!==null&&Lb.apply(this,arguments)||this;return a.type=Xt.INITIALIZED,a.name="initialized",a}function Yu(s){var s=s.authToken,l=mN.call(this)||this;return l.type=Xt.CONNECTING,l.name="connecting",l._authToken="",l._haltConnect=null,l._callbacks=[],l._authToken=s,l}function Cp(){var a=Pb!==null&&Pb.apply(this,arguments)||this;return a.type=Xt.CONNECTED,a.name="connected",a}function Fl(){var a=Fb!==null&&Fb.apply(this,arguments)||this;return a.type=Xt.RECONNECTING,a.name="reconnecting",a._haltConnect=null,a._resetConnect=null,a._callbacks=[],a}function wd(s){var s=s.autoReconnect,l=gN.call(this)||this;return l.type=Xt.DISCONNECTED,l.name="disconnected",l._autoReconnect=!1,l._autoReconnect=s,l}function jb(){var a=Hb!==null&&Hb.apply(this,arguments)||this;return a.type=Xt.LOGOUT,a.name="logout",a}function xd(){this.type=Xt.NONE,this.name="none"}function Sp(m){var s=m.auth,l=m.sdkState,c=m.dispatcher,p=m.requestQueue,m=m.logger,g=this;this._currentConnectionStateType=Xt.INITIALIZED,this.auth=s,this._sdkState=l,this._dispatcher=c,this._requestQueue=p,this._logger=m,this._dispatcher.on(function(b){var w;b instanceof Ed?(w=b.stateType,g._currentConnectionStateType=w):b instanceof im&&g.refresh()})}function RN(){}function MN(){return qb!==null&&qb.apply(this,arguments)||this}function DN(a,s,l){return a=vN.call(this,a,"LOGI",l)||this,a.error=null,a.newKey=l.new_key,a.error=l.error?new ye(l.error):null,a}function UN(a,s){return a=_N.call(this,a,s)||this,s=s.key,a.key=s,a}function LN(l){var s=l.authToken,l=l.expiringSession;return bN.call(this,{code:"LOGI",payload:{token:s,expiring_session:l===void 0||l?1:0},ackRequired:!0})||this}function PN(c){var s=c.userId,l=c.authToken,c=c.expiringSession,c=c===void 0||c,p=yN.call(this)||this;return p.path="/users/".concat(s,"/session_key"),p.method=Ve.POST,p.params={token:l,expiring_session:!!c},p.requireAuth=!1,p}function Hl(a,m){var l=m.auth,c=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._currentConnectionStateType=Xt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new gK(a,{auth:l,sdkState:c,dispatcher:p,logger:m}),this._auth=l,this._logger=m,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof Ed)switch(b=b.stateType,g._currentConnectionStateType=b){case Xt.CONNECTED:var w=g._lazyCallQueue;g._lazyCallQueue=[],w.forEach(function(O){return F(g,void 0,void 0,function(){var L,q,G,re;return H(this,function(ae){switch(ae.label){case 0:L=O.command,q=O.deferred,G=O.timeout,clearTimeout(G),ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,this.send(L)];case 2:return G=ae.sent(),q.resolve(G),[3,4];case 3:return re=ae.sent(),q.reject(re),[3,4];case 4:return[2]}})})});break;case Xt.INITIALIZED:case Xt.DISCONNECTED:case Xt.LOGOUT:w=g._lazyCallQueue,g._lazyCallQueue=[],w.forEach(function(O){return F(g,void 0,void 0,function(){var L,q;return H(this,function(G){return L=O.deferred,q=O.timeout,clearTimeout(q),this._auth&&this._auth.hasSession?L.reject(ye.connectionClosed):L.reject(ye.connectionRequired),[2]})})})}})}function FN(s){var s=s.stateType,l=EN.call(this)||this;return l.stateType=s,l}Y(function(a,s){return(a=wN.call(this,a,s)||this).metadata=s,a},wN=Ze),(Yt=yr=yr||{}).BASE="base",Yt.GROUP="group",Yt.OPEN="open",(pr=sm=sm||{}).OPERATOR="operator",pr.NONE="none",(dt=mr=mr||{}).BASE="base",dt.USER="user",dt.FILE="file",dt.ADMIN="admin",(rt=Ba=Ba||{}).ALL="",rt.USER="MESG",rt.FILE="FILE",rt.ADMIN="ADMM",(Sn=om=om||{}).USER="MESG",Sn.FILE="FILE",Sn.ADMIN="ADMM",(qi=Bi=Bi||{}).USERS="users",qi.CHANNEL="channel",(We=Ga=Ga||{}).ALL="all",We.NONE="none",We.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel",(yt=Pl=Pl||{}).DEFAULT="default",yt.SUPPRESS="suppress",(Pt=ir=ir||{}).PENDING="pending",Pt.SCHEDULED="scheduled",Pt.SUCCEEDED="succeeded",Pt.FAILED="failed",Pt.CANCELED="canceled";function Lt(a){switch(a){case yr.GROUP:return NN;case yr.OPEN:return Qu;default:return null}}function HN(a){switch(a){case yr.GROUP:return"".concat(TN,"/group_channels");case yr.OPEN:return"".concat(TN,"/open_channels");default:return null}}function Vb(a,s,l){return a=kd(a.mentionType,a.mentionedUserIds,l),s=kd(s.mentionType,s.mentionedUserIds,l),!a&&s?1:a&&!s?-1:0}var qN,BN,GN,$N,zN,Wb,kd=function(a,s,l){var c,p;switch(a){case Bi.CHANNEL:return!0;case Bi.USERS:if(s)try{for(var m=zn(s),g=m.next();!g.done;g=m.next())if(g.value===l)return!0}catch(b){c={error:b}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(c)throw c.error}}}return!1},AK=(Y(YN,zN=Qe),YN),jN=(Y(QN,$N=Ze),QN),RK=(Y(KN,GN=Qe),KN),MK=(Y(WN,BN=Ze),WN),DK=(Y(VN,qN=Qe),VN);function VN(l){var s=l.userId,l=l.metadataKey,c=qN.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(s,"/metadata/").concat(l),c}function WN(a,s){return a=BN.call(this,a,s)||this,a.metadata=s,a}function KN(c){var s=c.userId,l=c.metadata,c=c.upsert,p=GN.call(this)||this;return p.method=Ve.PUT,p.path="".concat(xt,"/").concat(s,"/metadata"),p.params={metadata:l,upsert:c},p}function QN(a,s){return a=$N.call(this,a,s)||this,a.metaData=s!=null?s:{},a}function YN(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.metadata;return(s=zN.call(this)||this).method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0},s}Y(function(){return Wb!==null&&Wb.apply(this,arguments)||this},Wb=Ze),Y(JN,XN=Qe);var XN,Kb,UK=JN;function JN(s){var s=s.userId,l=XN.call(this)||this;return l.method=Ve.DELETE,l.path="".concat(xt,"/").concat(s,"/metadata"),l}Y(function(){return Kb!==null&&Kb.apply(this,arguments)||this},Kb=Ze);function Qb(a,s){return s===void 0&&(s=null),(a=JSON.parse(JSON.stringify(a)))._iid&&delete a._iid,s&&s(a),a}function lm(a,s){return s===void 0&&(s=null),a=JSON.parse(JSON.stringify(a)),s&&s(a),a}function on(a){return{do:function(s){a||s()},throw:function(s){if(!a)throw s}}}var Cd;(xa=Cd=Cd||{}).ONLINE="online",xa.OFFLINE="offline",xa.NON_AVAILABLE="nonavailable",Y(Ds,Yb=lt),Ds.payloadify=function(a){return a?Gn(pe(pe({},Yb.payloadify.call(this,a)),{user_id:a.userId,nickname:a.nickname,profile_url:a.plainProfileUrl,require_auth_for_profile_image:a.requireAuth,metadata:a.metaData,is_online:a.connectionStatus,is_active:a.isActive,last_seen_at:a.lastSeenAt,preferred_languages:a.preferredLanguages,friend_discovery_key:a.friendDiscoveryKey,friend_name:a.friendName})):null},Object.defineProperty(Ds.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(xp(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),Ds.prototype.serialize=function(){return Qb(this)},Ds.prototype._isValidMetaData=function(a){return!Array.isArray(a)&&0<Object.keys(a).length&&Object.keys(a).map(function(s){return a[s]}).every(function(s){return fe("string",s)})},Ds.prototype._applyMetaData=function(a,s){var l=this;s===void 0&&(s=!1),Object.keys(a).forEach(function(c){s?delete l.metaData[c]:l.metaData[c]=a[c]})},Ds.prototype.createMetaData=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(this._isValidMetaData(a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new OK({userId:l.userId,metadata:a}),[4,s.send(l)];case 1:return s=c.sent(),l=s.as(jN).metaData,this._applyMetaData(l),[2,this.metaData]}})})},Ds.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(this._isValidMetaData(a)).throw(ye.invalidParameters),l=we.of(this._iid),c=l.sdkState,l=l.requestQueue,c=new RK({userId:c.userId,metadata:a,upsert:s}),[4,l.send(c)];case 1:return l=p.sent(),c=l.as(MK).metadata,this._applyMetaData(c),[2,this.metaData]}})})},Ds.prototype.deleteMetaData=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),l=we.of(this._iid),s=l.sdkState,l=l.requestQueue,s=new DK({userId:s.userId,metadataKey:a}),[4,l.send(s)];case 1:return c.sent(),this._applyMetaData(((l={})[a]=!0,l),!0),[2,this.metaData]}})})},Ds.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new UK({userId:s.userId}),[4,a.send(s)];case 1:return l.sent(),this.metaData={},[2]}})})};var Xu,ZN,eT,nT,tT,rT,Yb,Kn=Ds,iT=(Y(lT,rT=_i),lT),Xb=(Zb.payloadify=function(a){return pe(pe({},Kn.payloadify(a.user)),{emoji_hash:a.appInfo.emojiHash,file_upload_size_limit:a.appInfo.uploadSizeLimit,application_attributes:a.appInfo.applicationAttributes,premium_feature_list:a.appInfo.premiumFeatureList,login_ts:a.connectedAt/1e3,ping_interval:a.pingInterval,pong_timeout:a.pongTimeout,reconnect:{interval:a.reconnectInterval,max_interval:a.reconnectMaxInterval,retry_cnt:a.reconnectRetryCount,mul:a.reconnectIntervalMultiple},max_unread_cnt_on_super_group:a.maxUnreadCountOnSuperGroup,profile_image_encryption:a.profileImageEncryption,concurrent_call_limit:a.concurrentCallLimit,back_off_delay:a.backOffDelay})},Zb.prototype.apply=function(){var a=this.reconnectInterval,s=this.reconnectMaxInterval,l=this.reconnectIntervalMultiple,c=we.of(this._iid);c.sdkState.websocket.pingInterval=1e3*this.pingInterval,c.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,c.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,c.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return 0<p?1e3*Math.min(a*Math.pow(l,p-1),s):10}},c.appInfo=this.appInfo,c.sessionManager.currentUser=this.user,c.connectedAt=this.connectedAt,this.firstConnectedAt||(c.firstConnectedAt=this.connectedAt),c.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,c.concurrentCallLimit=this.concurrentCallLimit,c.backOffDelay=this.backOffDelay,c.dispatcher.dispatch(new iT({userProfile:this}))},Zb),Jb=(Y(Np,tT=ur),Np.asError=function(a){return new Np(null,"LOGI",pe({user_id:null,error:!0},a))},Np.prototype.applyTo=function(a){if(this.error)throw this.error;var s=we.of(a);if(!s)throw ye.lostInstance;s.sessionManager.auth.sessionKey=this.key,xp(a,this.ekey),this.userProfile.apply()},Np),aT=(Y(oT,nT=_i),oT),LK=(Y(Ms,eT=em),Object.defineProperty(Ms.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Ms.prototype.changeState=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this._currentState=a,this._dispatcher.dispatch(new Ed({stateType:a.type})),this._logger.debug("connection state changes to ".concat(a.name)),[4,this._currentState.run(this)];case 1:return s.sent(),[2]}})})},Ms.prototype._url=function(a){a===void 0&&(a="");var m=this.sdkState,s=m.appId,l=m.appVersion,c=m.userId,m=m.extensions,p=this._sessionManager.auth,g=m.sb_syncmanager?"s".concat(m.sb_syncmanager):"",m=m.sb_uikit?"u".concat(m.sb_uikit):"",g="JS/c".concat($u.SDK_VERSION,"/").concat(g,"/").concat(m);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent($u.OS_VERSION),"&sv=").concat(encodeURIComponent($u.SDK_VERSION),"&ai=").concat(s).concat(l?"&av=".concat(l):"").concat(p.hasSession?"&key=".concat(encodeURIComponent(p.sessionKey)):"&user_id=".concat(encodeURIComponent(c),"&access_token=").concat(encodeURIComponent(a)),"&active=1&SB-User-Agent=").concat(g,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},Ms.prototype._enableStatLog=function(a){this._dispatcher.dispatch(new aT(a))},Ms.prototype._statLogConnection=function(a){this._dispatcher.dispatch(new Mb(new wp({type:rm.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!a,latency:Date.now()-this._connectingAt,error_code:a==null?void 0:a.code,error_description:a==null?void 0:a.message}})))},Ms.prototype.connect=function(a){return a===void 0&&(a=""),F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){return s=this._url(a),l=new ta,this._connectionRequestQueue.push(l),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){c._loginTimer=null,c._dispatcher.dispatch(Jb.asError(ye.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(s)),[2,l.promise]})})},Ms.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Jb.asError(ye.connectionRenew))},Ms.prototype.disconnect=function(){this._websocketClient.disconnect()},Ms.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},Ms),PK=(Object.defineProperty(qo.prototype,"isConnected",{get:function(){return this._context.currentState.type===Xt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(qo.prototype,"isConnecting",{get:function(){var a=this._context.currentState;return a.type===Xt.CONNECTING||a.type===Xt.RECONNECTING},enumerable:!1,configurable:!0}),qo.prototype.connect=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onConnect(this._context,a)];case 1:return s.sent(),[2]}})})},qo.prototype.reconnect=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return a.sent(),[2]}})})},qo.prototype.resetAndReconnect=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return a.sent(),[2]}})})},qo.prototype.background=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return a.sent(),[2]}})})},qo.prototype.disconnect=function(a){return a===void 0&&(a=null),F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:a,autoReconnect:!0})];case 1:return s.sent(),[2]}})})},qo.prototype.logout=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return a.sent(),[2]}})})},qo),FK=(Y(sT,ZN=Qe),sT);function sT(l){var s=l.deviceId,l=l.statLogs,c=ZN.call(this)||this;return c.method=Ve.POST,c.path="".concat(IK),c.params={device_id:s,log_entries:l.map(function(p){return wp.payloadify(p)})},c}function qo(a,w){var l=w.sdkState,c=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.disableAutoReconnect,w=w!==void 0&&w,O=this;this._context=null,this._logger=b,this._context=new LK(a,{sdkState:l,connectionHandlers:c,sessionManager:p,websocketClient:m,dispatcher:g,logger:b}),w||m.on("close",function(){l.appState==="foreground"&&setTimeout(function(){O._logger.debug("try reconnect by websocket connection closed"),O.reconnect()},100)})}function Ms(a,w){var l=w.sdkState,c=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.entryState,w=w===void 0?new $b:w,O=eT.call(this)||this;return O._currentState=null,O._loginTimer=null,O._connectingAt=0,O._connectionRequestQueue=[],O._iid=a,O.sdkState=l,O.connectionHandlers=c,O._sessionManager=p,O._websocketClient=m,O._dispatcher=g,O._logger=b,O._currentState=w,O._websocketClient.on("message",function(L){var q;L.code==="LOGI"&&(O._loginTimer&&(clearTimeout(O._loginTimer),O._loginTimer=null),(q=L.as(Jb)).error?(q.error.isSessionKeyExpiredError&&O._dispatcher.dispatch(new im),O._connectionRequestQueue.forEach(function(G){return G.reject(q.error)}),O._statLogConnection(q.error)):(q.applyTo(O._iid),O._connectionRequestQueue.forEach(function(G){return G.resolve()}),L=q.userProfile,O._enableStatLog(L.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),O._statLogConnection(null)),O._connectionRequestQueue=[])}).on("close",function(){0<O._connectionRequestQueue.length&&(O._connectionRequestQueue.forEach(function(L){return L.reject(ye.networkError)}),O._connectionRequestQueue=[],O._statLogConnection(ye.networkError))}),O}function oT(a){var s=nT.call(this)||this;return s.enabled=a,s}function Np(a,s,l){var c=this;return(c=tT.call(this,a,s,l)||this).error=null,c.userProfile=new Xb(a,l),c.key=l.key,c.ekey=(s=l.ekey)!=null?s:"",c.error=l.error?new ye(l):null,c}function Zb(a,s){this._iid=a,this.appInfo=new vK(s),this.user=new Kn(a,s),this.connectedAt=1e3*((a=s.login_ts)!=null?a:0),this.firstConnectedAt=0,this.pingInterval=(a=s.ping_interval)!=null?a:15e3,this.pongTimeout=(a=s.pong_timeout)!=null?a:5e3,this.reconnectInterval=(a=(a=s.reconnect)==null?void 0:a.interval)!=null?a:3e3,this.reconnectMaxInterval=(a=(a=s.reconnect)==null?void 0:a.max_interval)!=null?a:6e4,this.reconnectRetryCount=(a=(a=s.reconnect)==null?void 0:a.retry_cnt)!=null?a:5,this.reconnectIntervalMultiple=(a=(a=s.reconnect)==null?void 0:a.mul)!=null?a:2,this.maxUnreadCountOnSuperGroup=(a=s.max_unread_cnt_on_super_group)!=null?a:100,this.profileImageEncryption=!!s.profile_image_encryption,this.concurrentCallLimit=(a=s.concurrent_call_limit)!=null?a:5,this.backOffDelay=(a=s.back_off_delay)!=null?a:100}function lT(s){var s=s.userProfile,l=rT.call(this)||this;return l.userProfile=s,l}function Ds(a,s){var l=this;return(l=Yb.call(this,a)||this).userId=(a=(a=s.guest_id)!=null?a:s.user_id)!=null?a:"",l.nickname=(a=(a=s.nickname)!=null?a:s.name)!=null?a:"",l.plainProfileUrl=(a=(a=s.profile_url)!=null?a:s.image)!=null?a:"",l.requireAuth=(a=s.require_auth_for_profile_image)!=null&&a,l.metaData=(a=s.metadata)!=null?a:{},l.connectionStatus=Cd.NON_AVAILABLE,rr(Cd,s.is_online)?l.connectionStatus=s.is_online:fe("boolean",s.is_online)&&(l.connectionStatus=s.is_online?Cd.ONLINE:Cd.OFFLINE),l.isActive=(a=s.is_active)==null||a,l.lastSeenAt=(a=s.last_seen_at)!=null?a:null,l.preferredLanguages=s.preferred_languages?br([],tr(s.preferred_languages),!1):null,l.friendDiscoveryKey=(a=s.friend_discovery_key)!=null?a:null,l.friendName=(a=s.friend_name)!=null?a:null,l}(Xr=Xu=Xu||{})[Xr.PENDING=0]="PENDING",Xr[Xr.ENABLED=1]="ENABLED",Xr[Xr.DISABLED=2]="DISABLED",Object.defineProperty(Ju.prototype,"isEnabled",{get:function(){return this.enabledstate===Xu.ENABLED},enumerable:!1,configurable:!0}),Ju.prototype._save=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(s){return wp.payloadify(s)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},Ju.prototype._flush=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,5,6,7]),0<(a=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length?(s=new FK({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(s)]):[3,4];case 2:return l.sent(),this.queue=this.queue.slice(a.length),[4,this._save()];case 3:l.sent(),l.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return l.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},Ju.prototype.init=function(a){return F(this,void 0,void 0,function(){var s,l=this;return H(this,function(c){switch(c.label){case 0:return this.key=a,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(s=c.sent())?(this.deviceId=s.deviceId,this.queue=s.statLogs.map(function(p){return new wp({type:p.stat_type,ts:p.ts,data:p.data})}),this.generation=s.generation,this.lastFlushedAt=s.lastFlushedAt,108e5<=Date.now()-this.lastFlushedAt&&this.queue.length>=this.minLimit?(s=Math.min(Math.floor(18e4*Math.random()),100),[4,ho(s)]):[3,4]):[3,4];case 2:return c.sent(),[4,this._flush()];case 3:c.sent(),c.label=4;case 4:return this.dispatcher.on(function(p){var m;p instanceof Mb?(m=p.statLog,l.put(m)):p instanceof aT&&(l.enabledstate=p.enabled?Xu.ENABLED:Xu.DISABLED,l.isEnabled?l.queue.length>=l.limit&&l._flush():l.clear())}),[2]}})})},Ju.prototype.put=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this.enabledstate===Xu.DISABLED?[3,3]:(this.queue.push(a),[4,this._save()]);case 1:return s.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},Ju.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return a.sent(),[2]}})})};var Bo,HK=Ju;function Ju(g){var s=g.cacheContext,l=g.requestQueue,c=g.dispatcher,p=g.baseLimit,p=p===void 0?100:p,m=g.maxLimit,m=m===void 0?1e3:m,g=g.minLimit,g=g===void 0?10:g;this.queue=[],this.enabledstate=Xu.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=_d(),this.cacheContext=s,this.requestQueue=l,this.dispatcher=c,this.baseLimit=p,this.limit=p,this.maxLimit=m,this.minLimit=g}(jn=Bo=Bo||{})[jn.NONE=0]="NONE",jn[jn.VERBOSE=1]="VERBOSE",jn[jn.DEBUG=2]="DEBUG",jn[jn.INFO=3]="INFO",jn[jn.WARN=4]="WARN",jn[jn.ERROR=5]="ERROR",Sd.prototype.verbose=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Bo.VERBOSE&&console.log.apply(console,br(["[verbose]"],tr(a),!1))},Sd.prototype.debug=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Bo.DEBUG&&console.log.apply(console,br(["[debug]"],tr(a),!1))},Sd.prototype.info=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Bo.INFO&&console.log.apply(console,br(["[info]"],tr(a),!1))},Sd.prototype.warn=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Bo.WARN&&console.warn.apply(console,br(["[warn]"],tr(a),!1))},Sd.prototype.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Bo.ERROR&&console.error.apply(console,br(["[error]"],tr(a),!1))};var Tp,ey,uT,cT,qK=Sd,Ip={},we=(fT.of=function(a){if(Ip[a])return Ip[a];throw ye.lostInstance},fT),ra=(pT.prototype.init=function(a,b){var l=b.sdkState,c=b.dispatcher,p=b.sessionManager,m=b.requestQueue,g=b.logger,b=(b.onlineDetector,b.cacheContext),b=b===void 0?null:b;this._iid=a,this._cacheContext=b,this._sdkState=l,this._dispatcher=c,this._sessionManager=p,this._requestQueue=m,this._logger=g},pT),BK=(Y(hT,cT=Qe),hT),GK=(Y(dT,uT=Ze),dT),ny=(Y(ty,ey=lt),ty.payloadify=function(a){return a?Gn(pe(pe({},ey.payloadify.call(this,a)),{reply_count:a.replyCount,most_replies:Array.isArray(a.mostRepliedUsers)?a.mostRepliedUsers.map(function(s){return Kn.payloadify(s)}):[],last_replied_at:a.lastRepliedAt,updated_at:a.updatedAt})):null},ty);function ty(a,s){var l=this;return(l=ey.call(this,a)||this).replyCount=0,l.mostRepliedUsers=null,l.lastRepliedAt=0,l.updatedAt=0,l.replyCount=(a=s.reply_count)!=null?a:0,l.mostRepliedUsers=s.hasOwnProperty("most_replies")&&vt("object",s.most_replies)?s.most_replies.map(function(c){return new Kn(l._iid,c)}):[],l.lastRepliedAt=(a=s.last_replied_at)!=null?a:0,l.updatedAt=(a=s.updated_at)!=null?a:0,l}function dT(a,s){var l=this;return(l=uT.call(this,a,s)||this).url=s.url,l.fileSize=(a=s.file_size)!=null?a:0,l.thumbnailSizes=(a=s.thumbnails)!=null?a:[],l.requireAuth=(a=s.require_auth)!=null&&a,l}function hT(a){var s=cT.call(this)||this;if(s.method=Ve.POST,s.path="".concat(CK),s.params=Gn({file:a.file,channel_url:a.channelUrl}),a.thumbnailSizes)for(var l=0;l<a.thumbnailSizes.length;l++){var p=a.thumbnailSizes[l],c=p.maxWidth,p=p.maxHeight;s.params["thumbnail".concat(l+1)]="".concat(c,",").concat(p)}return s.requestId=a.requestId,s}function pT(){}function fT(a,s){var l,c,p,m;return this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,Ip[a]||(Ip[a]=this,l=(l=s.options)!=null?l:new XS,c=this.sdkState={appId:s.appId,appVersion:(c=s.appVersion)!=null?c:"",appState:"foreground",userId:null,extensions:{},api:{host:(c=s.apiHost)!=null?c:"https://api-".concat(s.appId,".sendbird.com")},websocket:{host:(c=s.websocketHost)!=null?c:"wss://ws-".concat(s.appId,".sendbird.com"),pingerDisabled:!!s.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new xN,responseTimeout:l.websocketResponseTimeout}},this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0},p=this.logger=new qK,this.logger.level=(m=s.logLevel)!=null?m:Bo.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new aK({encryption:s.encryption,store:s.store,localCacheEnabled:(m=s.localCacheEnabled)!=null&&m}),this.debugMode=(m=s.debugMode)!=null&&m,this.maxSuperGroupChannelUnreadCount=$u.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=l.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=l.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=l.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null,s=this.dispatcher=new cK,m=new uK,this.requestQueue=new _K(a,{auth:m,sdkState:c,dispatcher:s,logger:p}),this.sessionManager=new kK({auth:m,sdkState:c,dispatcher:s,requestQueue:this.requestQueue,logger:p}),this.connectionManager=new PK(a,{sdkState:c,connectionHandlers:this.connectionHandlers,dispatcher:s,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:p}),this.statLogCollector=new HK({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:s})),Ip[a]}function Sd(){this.level=Bo.WARN}($n=Tp=Tp||{}).ADD="add",$n.DELETE="delete";function ry(m){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var s=fe("string",m.msg_id)?parseInt(m.msg_id):m.msg_id,l=m.user_id,c=m.operation?m.operation.toLowerCase():null,p=m.reaction,m=m.updated_at;s&&fe("string",l)&&fe("string",c)&&rr(Tp,c)&&fe("string",p)&&p&&fe("number",m)&&(this.messageId=s,this.userId=l,this.key=p,this.operation=c,this.updatedAt=m)}Object.defineProperty(cm.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),cm.payloadify=function(a){return a?Gn({key:a.key,user_ids:a.userIds,updated_at:a.updatedAt}):null},cm.prototype.applyEvent=function(a){if(a.key===this.key&&this.updatedAt<=a.updatedAt){if(!this._version[a.userId]||this._version[a.userId]<=a.updatedAt){var s=this.userIds.indexOf(a.userId);switch(a.operation){case Tp.ADD:s<0&&this.userIds.push(a.userId);break;case Tp.DELETE:0<=s&&this.userIds.splice(s,1)}this._version[a.userId]=a.updatedAt}this.updatedAt=Math.max(this.updatedAt,a.updatedAt)}};var ql,um=cm,$a=(yT.payloadify=function(a){return a?Gn({key:a.key,value:(a=a.value)!=null?a:[]}):null},yT),mT=(bT.payloadify=function(a){var s;return a?Gn({url:a.url,secure_url:a.secureUrl,type:a.type,width:(s=a.width)!=null?s:0,height:(s=a.height)!=null?s:0,alt:a.alt}):null},bT),gT=(_T.payloadify=function(a){return a?Gn({"og:title":a.title,"og:url":a.url,"og:description":a.description,"og:image":a.defaultImage?mT.payloadify(a.defaultImage):null}):null},_T),Bl=(vT.payloadify=function(a){return a?Gn({name:a.name,volume:a.volume}):null},vT);function vT(a){var s;this.name=null,this.volume=0,this.name=(s=a.name)!=null?s:"default",this.volume=(s=a.volume)!=null?s:1}function _T(a){this.title=null,this.url=null,this.description=null,this.defaultImage=null,a.hasOwnProperty("og:title")&&(this.title=a["og:title"]),a.hasOwnProperty("og:url")&&(this.url=a["og:url"]),a.hasOwnProperty("og:description")&&(this.description=a["og:description"]),a.hasOwnProperty("og:image")&&(this.defaultImage=new mT(a["og:image"]))}function bT(a){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=a.url,a.hasOwnProperty("secure_url")&&(this.secureUrl=a.secure_url),a.hasOwnProperty("type")&&(this.type=a.type),a.hasOwnProperty("width")&&(this.width=a.width),a.hasOwnProperty("height")&&(this.height=a.height),a.hasOwnProperty("alt")&&(this.alt=a.alt)}function yT(a){this.key=a.key,this.value=vt("string",a.value)?br([],tr(a.value),!1):[]}function cm(a){var s,l,c=a.key,p=(p=br([],tr(a.user_ids),!1))!=null?p:[],m=a.updated_at,g=(fe("string",c)&&c&&vt("string",p)&&0<p.length&&fe("number",m)&&(this.key=c,this.userIds=p,this.updatedAt=m),{});try{for(var b=zn(this.userIds),w=b.next();!w.done;w=b.next())g[w.value]=this.updatedAt}catch(O){s={error:O}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}this._version=g}(mn=ql=ql||{}).PENDING="pending",mn.IN_QUEUE="in_queue",mn.SENT="sent",mn.FAILED="failed",mn.CANCELED="canceled",mn.REMOVED="removed";function iy(a){return fe("number",a.prevResultSize)&&fe("number",a.nextResultSize)&&fe("boolean",a.isInclusive)&&fe("boolean",a.reverse)&&fe("string",a.messageTypeFilter)&&rr(Ba,a.messageTypeFilter)&&vt("string",a.customTypesFilter,!0)&&vt("string",a.senderUserIdsFilter,!0)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeParentMessageInfo)}Y(za,cy=lt),za.payloadify=function(a){var s;return a?Gn(pe(pe({},cy.payloadify.call(this,a)),{channel_url:a.channelUrl,channel_type:a.channelType,message_id:a.messageId,type:function(l){switch(l){case mr.BASE:return"";case mr.USER:return"MESG";case mr.FILE:return"FILE";case mr.ADMIN:return"ADMM"}}(a.messageType),parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,mentioned_user_ids:a.mentionedUserIds,mentioned_users:(s=a.mentionedUsers)==null?void 0:s.map(function(l){return Kn.payloadify(l)}),mentioned_message_template:a.mentionedMessageTemplate,thread_info:a.threadInfo?ny.payloadify(a.threadInfo):null,reactions:a.reactions.map(function(l){return um.payloadify(l)}),sorted_metaarray:(s=a.metaArrays)==null?void 0:s.map(function(l){return $a.payloadify(l)}),og_tag:gT.payloadify(a.ogMetaData),silent:a.silent,is_op_msg:a.isOperatorMessage,apple_critical_alert_options:Bl.payloadify(a.appleCriticalAlertOptions),created_at:a.createdAt,updated_at:a.updatedAt,scheduled_message_id:(s=a.scheduledInfo)==null?void 0:s.scheduledMessageId,scheduled_at:(s=a.scheduledInfo)==null?void 0:s.scheduledAt,scheduled_status:a._scheduledStatus})):null},za.prototype.isIdentical=function(a){return this.messageId===a.messageId},za.prototype.isEqual=function(a){return QS(this,a)},za.prototype.isUserMessage=function(){return this.messageType===mr.USER},za.prototype.isFileMessage=function(){return this.messageType===mr.FILE},za.prototype.isAdminMessage=function(){return this.messageType===mr.ADMIN},za.prototype.serialize=function(){return Qb(this)},za.prototype.getMetaArraysByKeys=function(a){return this.metaArrays.filter(function(s){return a.includes(s.key)})},za.prototype.applyThreadInfoUpdateEvent=function(a){return this.parentMessageId===a.targetMessageId&&(this.threadInfo=a.threadInfo),!1},za.prototype.applyReactionEvent=function(a){if(this.messageId===a.messageId){for(var s=!1,l=0;l<this.reactions.length;l++)if(this.reactions[l].key===a.key){this.reactions[l].applyEvent(a),this.reactions[l].isEmpty&&this.reactions.splice(l,1),s=!0;break}s||a.operation!=="add"||this.reactions.push(new um(um.payloadify({key:a.key,userIds:[a.userId],updatedAt:a.updatedAt})))}},za.prototype.applyParentMessage=function(a){if(this.parentMessageId===a.messageId){var s=this.parentMessage.updatedAt;if(a.updatedAt>=s)return this.parentMessage=a,!0}return!1};var yi,ET,wT,xT,kT,ay,sy,oy,ly,uy,cy,dm=za,Op=(Y(fy,uy=Kn),fy.payloadify=function(a){return a?Gn(pe(pe({},uy.payloadify.call(this,a)),{role:a.role,is_blocked_by_me:a.isBlockedByMe})):null},fy),po=(Y(Rp,ly=dm),Rp.payloadify=function(a){return a?Gn(pe(pe({},ly.payloadify.call(this,a)),{user:Op.payloadify(a.sender),req_id:a.reqId,is_reply_to_channel:a.replyToChannel,request_state:a.sendingStatus,error_code:a.errorCode})):null},Object.defineProperty(Rp.prototype,"isResendable",{get:function(){return this.sendingStatus===ir.FAILED&&0<(a=this.errorCode)&&0<=sK.indexOf(a);var a},enumerable:!1,configurable:!0}),Rp.prototype.isIdentical=function(a){return 0<this.messageId&&0<a.messageId?this.messageId===a.messageId:this.reqId===a.reqId},Rp),dy=(py.payloadify=function(a){return a?Gn({url:"",width:a.maxWidth,height:a.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(py.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),py),hm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Ba.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Nd=(Y(fm,oy=dm),fm.payloadify=function(a){return a?Gn(pe(pe({},oy.payloadify.call(this,a)),{message:a.message,translations:a.translations,parent_message_info:hy(a.parentMessage)})):null},fm.prototype.getThreadedMessagesByTimestamp=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},hm),s),on(0<this.messageId&&fe("number",a)&&iy(s)).throw(ye.invalidParameters),[4,ya.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},fm),CT=(AT.payloadify=function(a){return a?Gn({type:a.type,vendor:a.vendor,detail:a.detail}):null},AT),Ei=(Y(pm,sy=po),pm.payloadify=function(a){return a?Gn(pe(pe({},sy.payloadify.call(this,a)),{message:a.message,translations:a.translations,message_survival_seconds:a.messageSurvivalSeconds,plugins:a.plugins.map(function(s){return CT.payloadify(s)}),parent_message_info:hy(a.parentMessage)})):null},pm.prototype.getThreadedMessagesByTimestamp=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},hm),s),on(0<this.messageId&&fe("number",a)&&iy(s)).throw(ye.invalidParameters),[4,ya.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},pm),hy=function(a){if(a)switch(a.messageType){case mr.USER:return Ei.payloadify(a);case mr.FILE:return ri.payloadify(a);case mr.ADMIN:return Nd.payloadify(a)}return null},Gl=function(a,s){switch(s.type){case"MESG":return new Ei(a,s);case"FILE":return new ri(a,s);case"ADMM":case"BRDM":return new Nd(a,s)}return null},ri=(Y(Ap,ay=po),Ap.payloadify=function(a){return a?Gn(pe(pe({},ay.payloadify.call(this,a)),{url:a.plainUrl,require_auth:a.requireAuth,file:{name:a.name,size:a.size,type:a.type,data:a.data},thumbnails:a.thumbnails.map(function(s){return{url:s.url,width:s.width,height:s.height,real_width:s.realWidth,real_height:s.realHeight}}),message_survival_seconds:a.messageSurvivalSeconds,parent_message_info:hy(a.parentMessage)})):null},Object.defineProperty(Ap.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(xp(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),Ap.prototype.getThreadedMessagesByTimestamp=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},hm),s),on(0<this.messageId&&fe("number",a)&&iy(s)).throw(ye.invalidParameters),[4,ya.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},Ap),$K=(Y(OT,kT=co),OT),zK=(Y(IT,xT=Qe),IT),ST=(Y(TT,wT=ur),TT),jK=(Y(NT,ET=Ze),NT);function NT(p,s){var l,c=this,p=((c=ET.call(this,p,s)||this).message=new ri(p,s),we.of(p).sdkState);return c.isMentioned=kd(c.message.mentionType,(l=c.message.mentionedUserIds)!=null?l:c.message.mentionedUsers.map(function(m){return m.userId}),p.userId),c.forceUpdateLastMessage=(l=s.force_update_last_message)!=null&&l,c}function TT(m,s,l){var c,p=this,m=((p=wT.call(this,m,"FILE",l)||this).message=new ri(m,l),we.of(m).sdkState);return p.isMentioned=kd(p.message.mentionType,(c=p.message.mentionedUserIds)!=null?c:(c=p.message.mentionedUsers)==null?void 0:c.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(c=l.force_update_last_message)!=null&&c,p}function IT(a){var s=this,s=xT.call(this)||this,l=[];return a.mentionType===Bi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(c){return c.userId}))),s.method=Ve.POST,s.path="".concat(Lt(a.channelType),"/").concat(encodeURIComponent(a.channelUrl),"/messages"),s.params=Gn({message_type:mr.FILE,user_id:a.userId,url:a.fileUrl,mention_type:a.mentionType,mentioned_user_ids:l,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,data:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes.map(function(c){return dy.payloadify(c)}),require_auth:a.requireAuth,sorted_metaarray:(l=a.metaArrays)==null?void 0:l.map(function(c){return $a.payloadify(c)}),push_option:a.pushNotificationDeliveryOption,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,apple_critical_alert_options:Bl.payloadify(a.appleCriticalAlertOptions),reply_to_channel:a.isReplyToChannel,req_id:a.reqId}),s}function OT(a){var s,l=[];return a.mentionType===Bi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(c){return c.userId}))),kT.call(this,{code:"FILE",ackRequired:!0,payload:Gn({channel_url:a.channelUrl,url:a.url,name:(s=a.fileName)!=null?s:"",type:(s=a.mimeType)!=null?s:"",size:(s=a.fileSize)!=null?s:0,custom:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes,require_auth:a.requireAuth,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:l,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Pl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function Ap(a,s){var l,c=this,p=((c=ay.call(this,a,s)||this).messageParams=null,c.plainUrl="",c.requireAuth=!1,c.name=null,c.size=0,c.type=null,c.thumbnails=[],c.messageSurvivalSeconds=-1,c.messageType=mr.FILE,(p=s.file)!=null?p:null);return c.plainUrl=((l=(l=p==null?void 0:p.url)!=null?l:s.url)!=null?l:"").split("?auth=")[0],c.name=(l=(l=p==null?void 0:p.name)!=null?l:s.name)!=null?l:"File",c.size=(l=(l=p==null?void 0:p.size)!=null?l:s.size)!=null?l:0,c.data=(l=(l=p==null?void 0:p.data)!=null?l:s.custom)!=null?l:"",c.type=p?(l=p.type)!=null?l:"":(p=s.type)!=null?p:"",c.requireAuth=(l=s.require_auth)!=null&&l,c.thumbnails=s.thumbnails?s.thumbnails.map(function(m){return new dy(pe(pe({},m),{url:"".concat(m.url.split("?auth=")[0]).concat(c.requireAuth?"?auth=".concat(xp(c._iid)):"")}))}):[],c.messageSurvivalSeconds=(p=s.message_survival_seconds)!=null?p:-1,s.parent_message_info&&(l=s.parent_message_info,p=pe(pe({},l),{message_id:c.parentMessageId,channel_url:c.channelUrl,channel_type:c.channelType,file:l.file,url:(p=l.file)==null?void 0:p.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),c.parentMessage=Gl(a,p)),c}function pm(a,s){var l,c,p,m=this;if((m=sy.call(this,a,s)||this).message="",m.messageParams=null,m.translations={},m.translationTargetLanguages=[],m.messageSurvivalSeconds=-1,m.plugins=[],m.message=s.message,m.messageType=mr.USER,m.translations=(c=s.translations)!=null?c:{},m.translationTargetLanguages=(c=s.target_langs)!=null?c:[],m.translations==={}&&0<m.translationTargetLanguages.length)try{for(var g=zn(m.translationTargetLanguages),b=g.next();!b.done;b=g.next()){var w=b.value;m.translations[w]=""}}catch(O){l={error:O}}finally{try{b&&!b.done&&(p=g.return)&&p.call(g)}finally{if(l)throw l.error}}return m.messageSurvivalSeconds=(c=s.message_survival_seconds)!=null?c:-1,m.plugins=s.plugins?s.plugins.map(function(O){return new CT(O)}):[],s.parent_message_info&&(p=s.parent_message_info,s=pe(pe({},p),{created_at:p.ts,message_id:m.parentMessageId,channel_url:m.channelUrl,channel_type:m.channelType,file:p.file,url:(l=p.file)==null?void 0:l.url,require_auth:(c=p.file)==null?void 0:c.require_auth}),m.parentMessage=Gl(a,Gn(s))),m}function AT(a){var s;this.type=null,this.vendor=null,this.detail={},this.type=(s=a.type)!=null?s:"",this.vendor=(s=a.vendor)!=null?s:"",a.hasOwnProperty("detail")&&fe("object",a.detail)&&!Array.isArray(a.detail)&&(this.detail=a.detail)}function fm(a,s){var l,c=this;return(c=oy.call(this,a,s)||this).message=null,c.translations={},c.message=(l=s.message)!=null?l:"",c.messageType=mr.ADMIN,c.translations=(l=s.translations)!=null?l:{},s.parent_message_info&&(l=s.parent_message_info,l=pe(pe({},l),{message_id:c.parentMessageId,channel_url:c.channelUrl,channel_type:c.channelType,file:l.file,url:(s=l.file)==null?void 0:s.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),c.parentMessage=Gl(a,l)),c}function py(a){var s;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=a.url,this.width=a.width,this.height=a.height,this.realWidth=(s=a.real_width)!=null?s:a.width,this.realHeight=(s=a.real_height)!=null?s:a.height}function Rp(a,s){var l=this;if((l=ly.call(this,a,s)||this).sender=null,l.reqId="",l.replyToChannel=!1,l.sendingStatus=null,l.errorCode=0,l.sender=s.user?new Op(l._iid,s.user):s.sender_id,l.reqId=(a=(a=s.req_id)!=null?a:s.request_id)!=null?a:"",l.replyToChannel=(a=s.is_reply_to_channel)!=null&&a,s.request_state&&rr(ir,s.request_state)&&(l.sendingStatus=s.request_state),!l.sendingStatus)if(0<l.messageId)l.sendingStatus=ir.SUCCEEDED;else if(l.scheduledInfo)switch(l._scheduledStatus=s.scheduled_status,s.scheduled_status){case ql.SENT:case ql.IN_QUEUE:l.sendingStatus=ir.SUCCEEDED;break;case ql.PENDING:l.sendingStatus=ir.SCHEDULED;break;case ql.FAILED:case ql.REMOVED:l.sendingStatus=ir.FAILED;break;case ql.CANCELED:l.sendingStatus=ir.CANCELED}else l.sendingStatus=ir.PENDING;return l.errorCode=(a=s.error_code)!=null?a:0,l}function fy(a,s){return a=uy.call(this,a,s)||this,a.role=null,a.isBlockedByMe=!1,a.role=rr(sm,s.role)?s.role:sm.NONE,s.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=s.is_blocked_by_me),a}function za(c,s){var l=this,c=((l=cy.call(this,c)||this).channelUrl=null,l.channelType=yr.BASE,l.messageId=0,l.parentMessageId=null,l.parentMessage=null,l.silent=!1,l.isOperatorMessage=!1,l.messageType=mr.BASE,l.data=null,l.customType=null,l.mentionType=null,l.mentionedUsers=[],l.mentionedUserIds=[],l.mentionedMessageTemplate=null,l.threadInfo=null,l.reactions=[],l.metaArrays=[],l.ogMetaData=null,l.appleCriticalAlertOptions=null,l.createdAt=0,l.updatedAt=0,l.scheduledInfo=null,l._scheduledStatus=null,l.messageId=(c=(c=s.msg_id)!=null?c:s.message_id)!=null?c:0,l.channelUrl=s.channel_url,l.channelType=rr(yr,s.channel_type)?s.channel_type:yr.GROUP,s.channel&&(s.channel.channel_url&&(l.channelUrl=s.channel.channel_url),s.channel.channel_type&&(l.channelType=s.channel.channel_type)),l.parentMessageId=(c=typeof s.parent_message_id=="string"?parseInt(s.parent_message_id):s.parent_message_id)!=null?c:0,l.data=(c=s.data)!=null?c:"",l.customType=(c=s.custom_type)!=null?c:"",l.mentionType=rr(Bi,s.mention_type)?s.mention_type:null,s.mentioned_users),c=(l.mentionedUsers=c?c.map(function(w){return new Kn(l._iid,w)}):null,s.mentioned_user_ids);l.mentionedUserIds=c!=null?c:null,l.mentionedMessageTemplate=(c=s.mentioned_message_template)!=null?c:"",l.threadInfo=s.thread_info?new ny(l._iid,s.thread_info):null,l.reactions=s.reactions?s.reactions.map(function(w){return new um(w)}):[];for(var p=(c=s.metaarray)!=null?c:{},m=(c=s.metaarray_key_order)!=null?c:Object.keys(p).sort(function(w,O){return w.localeCompare(O)}),g=0;g<m.length;g++){var b=m[g];l.metaArrays.push(new $a({key:b,value:p[b]||[]}))}return s.sorted_metaarray&&(l.metaArrays=s.sorted_metaarray.map(function(w){return new $a(w)})),l.ogMetaData=s.og_tag?new gT(s.og_tag):null,l.silent=(c=s.silent)!=null&&c,l.isOperatorMessage=(c=s.is_op_msg)!=null&&c,l.appleCriticalAlertOptions=s.apple_critical_alert_options?new Bl(s.apple_critical_alert_options):null,l.createdAt=(c=(c=s.created_at)!=null?c:s.ts)!=null?c:0,l.updatedAt=(c=s.updated_at)!=null?c:0,typeof s.scheduled_message_id=="number"&&typeof s.scheduled_at=="number"&&s.scheduled_status&&(l.scheduledInfo={scheduledMessageId:s.scheduled_message_id,scheduledAt:s.scheduled_at},l._scheduledStatus=s.scheduled_status),l}(mi=yi=yi||{})[mi.PENDING=0]="PENDING",mi[mi.UPLOADING=1]="UPLOADING",mi[mi.UPLOADED=2]="UPLOADED",mi[mi.SENDING=3]="SENDING",mi[mi.FAILED=4]="FAILED";function RT(a){return rr(Ga,a.replyType)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeParentMessageInfo)&&fe("boolean",a.includeThreadInfo)&&fe("boolean",a.includePollDetails)}Object.defineProperty(Zu.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Xt.CONNECTED||this._connectionState===Xt.CONNECTING||this._connectionState===Xt.RECONNECTING},enumerable:!1,configurable:!0}),Zu.prototype._sendFileMessage=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){switch(c.label){case 0:return this._shouldSendThroughWebSocket?(l=new $K(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)]):[3,2];case 1:return[2,c.sent().as(ST).message];case 2:return l=new zK(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,userId:this._sdkState.userId,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)];case 3:return[2,c.sent().as(jK).message]}})})},Zu.prototype._resolveMessageQueue=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L;return H(this,function(q){switch(q.label){case 0:if(!(s=this._queueMap.get(a.url)))return[3,21];if(s.isResolving)return[3,20];s.isResolving=!0,l=[],c=!0,q.label=1;case 1:q.trys.push([1,15,16,17]),p=zn(s.messageQueue),m=p.next(),q.label=2;case 2:if(m.done)return[3,14];switch((g=m.value).state){case yi.PENDING:case yi.UPLOADING:return[3,3];case yi.UPLOADED:return[3,4];case yi.FAILED:return[3,12]}return[3,13];case 3:return c=!1,l.push(g),[3,13];case 4:if(!c)return[3,10];q.label=5;case 5:return q.trys.push([5,8,,9]),g.state=yi.SENDING,[4,this._sendFileMessage(a,g)];case 6:return b=q.sent(),g.deferred.resolve(b),[4,ho(100)];case 7:return q.sent(),[3,9];case 8:return b=q.sent(),g.deferred.reject(b),[3,9];case 9:return[3,11];case 10:l.push(g),q.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===Jn.REQUEST_CANCELED?ye.fileUploadCanceled:g.error),[3,13];case 13:return m=p.next(),[3,2];case 14:return[3,17];case 15:return O=q.sent(),O={error:O},[3,17];case 16:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(O)throw O.error}return[7];case 17:return w=s.isResolveRequestPending,s.messageQueue=l,s.isResolving=!1,s.isResolveRequestPending=!1,w?[4,this._resolveMessageQueue(a)]:[3,19];case 18:q.sent(),q.label=19;case 19:return[3,21];case 20:s.isResolveRequestPending=!0,q.label=21;case 21:return[2]}})})},Zu.prototype._uploadNextPendingItem=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w;return H(this,function(O){switch(O.label){case 0:return s=this._queueMap.get(a.url),(l=s.messageQueue.find(function(L){return L.state===yi.PENDING}))?uo(l.params.file)?s.uploadQueue.length<6?(l.state=yi.UPLOADING,s.uploadQueue.push(l),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!O.sent())return[3,8];O.label=2;case 2:return O.trys.push([2,4,5,7]),c=new BK({file:l.params.file,channelUrl:a.url,thumbnailSizes:l.params.thumbnailSizes,requestId:l.requestId}),[4,this._requestQueue.send(c)];case 3:return c=O.sent(),g=c.as(GK),b=g.url,p=g.fileSize,p=p===void 0?l.params.fileSize:p,m=g.thumbnailSizes,m=m===void 0?l.params.thumbnailSizes:m,g=g.requireAuth,g=g!==void 0&&g,l.params.fileUrl=b,l.params.fileSize=p,l.params.thumbnailSizes=m,l.params.requireAuth=g,l.requireAuth=g,l.state=yi.UPLOADED,[3,7];case 4:return b=O.sent(),l.state=yi.FAILED,l.error=b,[3,7];case 5:return 0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 6:return O.sent(),[7];case 7:return[3,10];case 8:return l.state=yi.FAILED,l.error=ye.connectionRequired,0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 9:O.sent(),O.label=10;case 10:return[3,13];case 11:return l.params.thumbnailSizes=[],l.state=yi.UPLOADED,[4,this._resolveMessageQueue(a)];case 12:O.sent(),O.label=13;case 13:return[2]}})})},Zu.prototype.request=function(a,s,l){var c;return F(this,void 0,void 0,function(){var p;return H(this,function(m){return p=new ta,uo(l.file)&&(l.fileName=(c=l.fileName)!=null?c:l.file.name,l.mimeType=(c=l.mimeType)!=null?c:l.file.type,l.fileSize=(c=l.fileSize)!=null?c:l.file.size),this._queueMap.has(a.url)||this._queueMap.set(a.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(a.url).messageQueue.push({requestId:s,params:l,state:yi.PENDING,deferred:p,requireAuth:l.requireAuth}),this._uploadNextPendingItem(a),[2,p.promise]})})},Zu.prototype.cancel=function(a,s){s===void 0&&(s=null);var l,c,p=this._queueMap.get(a.url);if(p){p=s?[p.messageQueue.find(function(w){return w.requestId===s})]:br([],tr(p.messageQueue),!1);try{for(var m=zn(p),g=m.next();!g.done;g=m.next()){var b=g.value;if(b)switch(b.state){case yi.PENDING:b.state=yi.FAILED,b.error=ye.requestCanceled,this._resolveMessageQueue(a);break;case yi.UPLOADING:this._requestQueue.cancel(b.requestId)}}}catch(w){l={error:w}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}};var ii,VK=Zu,MT={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Ba.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Ga.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},my={replyType:Ga.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1};function Zu(a,g){var l=g.sdkState,c=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=a,this._sdkState=l,this._requestQueue=p,this._cacheContext=g,this._dispatcher=c,this._dispatcher.on(function(w){w instanceof Ed&&(b._connectionState=w.stateType)}),this._onlineDetector=m}(Tn=ii=ii||{}).UNKNOWN="UNKNOWN",Tn.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",Tn.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",Tn.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",Tn.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",Tn.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",Tn.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",Tn.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",Tn.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",Tn.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",Tn.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",Tn.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",Tn.REQUEST_MESSAGE="REQUEST_MESSAGE",Tn.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",Tn.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",Tn.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",Tn.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",Tn.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",Tn.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",Tn.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",Tn.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",Tn.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",Tn.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED",Y(FT,UT=_i);var Mp,DT,UT,LT,ba=FT,WK=(Y(PT,DT=_i),PT);function PT(l){var s=l.messageIds,l=l.source,c=DT.call(this)||this;return c.messageIds=s,c.source=l,c}function FT(l){var s=l.messages,l=l.source,c=UT.call(this)||this;return c.messages=s,c.source=l,c}function KK(l){var s=l.reqId,l=l.source,c=LT.call(this)||this;return c.reqId=s,c.source=l,c}Y(KK,LT=_i),Y(uI,QT=Qe);var HT,qT,BT,GT,$T,zT,jT,VT,WT,KT,QT,QK=uI,YK=(Y(lI,KT=Ze),lI),YT=(Y(oI,WT=Qe),oI),XT=(Y(sI,VT=Ze),sI),XK=(Y(aI,jT=Qe),aI),JK=(Y(iI,zT=Ze),iI),ZK=(Y(rI,$T=Qe),rI),eQ=(Y(tI,GT=Ze),tI),JT={},ya=(ja.of=function(a){return JT[a]},ja.prototype.buildMessageFromSerializedData=function(a){var s=lm(a);switch(s.messageType){case mr.USER:return new Ei(this._iid,Ei.payloadify(s));case mr.FILE:return new ri(this._iid,ri.payloadify(s));case mr.ADMIN:return new Nd(this._iid,Nd.payloadify(s))}return null},ja.prototype.buildUserMessageCreateParamsFromSerializedData=function(a,s){return Gn({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,message:s.message,translationTargetLanguages:Object.keys(s.translations)})},ja.prototype.buildFileMessageCreateParamsFromSerializedData=function(a,s){return Gn({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,file:a.file,fileKey:a.fileKey,fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,thumbnailSizes:s.thumbnails.map(function(l){return{maxWidth:l.width,maxHeight:l.height}}),fileType:a.fileType,requireAuth:s.requireAuth})},ja.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildUserMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},ja.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildFileMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},ja.prototype.buildSenderFromSerializedData=function(a){return a=lm(a),new Op(this._iid,Op.payloadify(a))},ja.prototype.getMessage=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return s=new QK(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(YK).message]}})})},ja.prototype.getScheduledMessage=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return s=new ZK(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(eQ).message]}})})},ja.prototype.getMessagesByTimestamp=function(a,s,l,c,p){return p===void 0&&(p=ii.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var m,g;return H(this,function(b){switch(b.label){case 0:return m=new YT(pe(pe({channelType:s,channelUrl:a,timestamp:l},MT),c)),[4,this._requestQueue.send(m)];case 1:return m=b.sent(),g=m.as(XT).messages,this._dispatcher.dispatch(new ba({messages:g,source:p})),[2,g]}})})},ja.prototype.getThreadedMessagesByTimestamp=function(a,s,l,c){return c===void 0&&(c=ii.REQUEST_THREADED_MESSAGE),F(this,void 0,void 0,function(){var p,m,g;return H(this,function(b){switch(b.label){case 0:return p=new YT(pe(pe(pe({channelUrl:a.channelUrl,channelType:a.channelType,timestamp:s},hm),l),{replyType:Ga.ALL,parentMessageId:a.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return p=b.sent(),m=p.as(XT).messages,(g=m.slice(1)).forEach(function(w){w.parentMessage=a}),this._dispatcher.dispatch(new ba({messages:g,source:c})),[2,{parentMessage:m[0],threadedMessages:g}]}})})},ja.prototype.getMessageChangelogs=function(a,s,l,c,p){return p===void 0&&(p=ii.REQUEST_MESSAGE_CHANGELOGS),F(this,void 0,void 0,function(){var m,g,b,w,O;return H(this,function(L){switch(L.label){case 0:return m=new XK(Gn(pe(pe({channelType:s,channelUrl:a,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null},my),c))),[4,this._requestQueue.send(m)];case 1:return m=L.sent(),w=m.as(JK),g=w.updatedMessages,O=w.deletedMessagesInfo,b=w.hasMore,w=w.nextToken,O=O.map(function(q){return q.messageId}),0<g.length&&this._dispatcher.dispatch(new ba({messages:g,source:p})),0<O.length&&this._dispatcher.dispatch(new WK({messageIds:O,source:p})),[2,{updatedMessages:g,deletedMessageIds:O,hasMore:b,token:w}]}})})},ja),gy=(Dp.prototype._trigger=function(a,s){switch(s.sendingStatus){case ir.PENDING:this._onPending(s);break;case ir.FAILED:case ir.CANCELED:this._onFailed(a,s.scheduledInfo?null:s);break;case ir.SCHEDULED:case ir.SUCCEEDED:this._onSucceeded(s)}},Dp.prototype.onPending=function(a){return this._onPending=a,this},Dp.prototype.onFailed=function(a){return this._onFailed=a,this},Dp.prototype.onSucceeded=function(a){return this._onSucceeded=a,this},Dp),nQ=(Y(nI,BT=lt),nI),tQ={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},tn=(Object.defineProperty(mm.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(mm.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),mm.prototype._validate=function(){return fe("number",this.limit)&&0<this.limit},mm),rQ=(Y(eI,qT=Qe),eI),iQ=(Y(ZT,HT=Ze),ZT);function ZT(a,s){var l=HT.call(this,a,s)||this;return l.messages=s.results.map(function(c){return Gl(a,c)}),l.hasNext=s.has_next,l.nextToken=s.end_cursor,l}function eI(G){var s=G.channelCustomType,l=G.keyword,c=G.limit,p=G.reverse,m=G.exactMatch,g=G.channelUrl,b=G.order,w=G.messageTimestampFrom,O=G.messageTimestampTo,L=G.advancedQuery,q=G.targetFields,G=G.nextToken,re=qT.call(this)||this;return re.method=Ve.GET,re.path="".concat(NK,"/messages"),re.params={custom_type:s,query:l,limit:c,reverse:p,exact_match:m,channel_url:g,message_ts_from:w,message_ts_to:O,sort_field:b,advanced_query:L,target_fields:q,after:G},re}function mm(a,s){this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=a,this.limit=(a=s.limit)!=null?a:20}function nI(a,g){var l=BT.call(this,a)||this,c=(l.threadInfo=null,l.targetMessageId=0,l.channelUrl=null,l.channelType=null,g.thread_info),p=g.root_message_id,m=g.channel_url,g=g.channel_type;return c&&fe("object",c)&&fe("number",p)&&fe("string",m)&&fe("string",g)&&(l.threadInfo=new ny(a,c),l.targetMessageId=p,l.channelUrl=m,l.channelType=g),l}function Dp(){this._onPending=Ut,this._onFailed=Ut,this._onSucceeded=Ut}function ja(a,g){var l=g.sdkState,c=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext;this._iid=a,this._sdkState=l,this._requestQueue=p,this._dispatcher=c,this._onlineDetector=m,this._cacheContext=g,this.fileMessageQueue=new VK(a,{sdkState:l,dispatcher:c,requestQueue:p,onlineDetector:m,cacheContext:g}),JT[a]=this}function tI(a,s){var l=GT.call(this,a,s)||this;return l.message=s?Gl(a,pe({},s)):null,l}function rI(l){var s=l.channelUrl,l=l.scheduledMessageId,c=$T.call(this)||this;return c.method=Ve.GET,c.path="".concat(NN,"/").concat(encodeURIComponent(s),"/scheduled_messages/").concat(encodeURIComponent(l)),c.params={},c}function iI(a,s){var l=zT.call(this,a,s)||this;return l.updatedMessages=s.updated.map(function(c){return Gl(a,c)}),l.deletedMessagesInfo=s.deleted.map(function(c){return{messageId:c.message_id,deletedAt:c.deleted_at}}),l.hasMore=s.has_more,l.nextToken=s.next,l}function aI(L){var s=L.channelType,l=L.channelUrl,c=L.timestamp,p=L.token,m=L.replyType,g=L.includeMetaArray,b=L.includeReactions,w=L.includeThreadInfo,O=L.includeParentMessageInfo,L=L.includePollDetails,q=jT.call(this)||this;return q.method=Ve.GET,q.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages/changelogs"),q.params={change_ts:c,token:p,with_sorted_meta_array:g,include_reactions:b,include_thread_info:w,include_reply_type:m,include_parent_message_info:O,include_poll_details:L},q}function sI(a,s){var l=VT.call(this,a,s)||this;return l.messages=s.messages.map(function(c){return Gl(a,c)}),l}function oI(Se){var s=Se.channelType,l=Se.channelUrl,c=Se.timestamp,c=c===void 0?null:c,p=Se.token,p=p===void 0?null:p,m=Se.prevResultSize,g=Se.nextResultSize,b=Se.isInclusive,w=Se.reverse,O=Se.messageTypeFilter,L=Se.customTypesFilter,q=Se.senderUserIdsFilter,G=Se.replyType,re=Se.includeMetaArray,ae=Se.includeReactions,K=Se.parentMessageId,ne=Se.includeThreadInfo,me=Se.includeParentMessageInfo,_e=Se.showSubchannelMessagesOnly,Se=Se.includePollDetails,Jt=WT.call(this)||this;return Jt.method=Ve.GET,Jt.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages"),Jt.params=Gn({is_sdk:!0,prev_limit:m,next_limit:g,include:b,reverse:w,message_ts:c,message_id:p,message_type:O!=null?O:null,custom_types:L,sender_ids:q,include_reply_type:G,with_sorted_meta_array:re,include_reactions:ae,parent_message_id:K,include_thread_info:ne,include_parent_message_info:me,show_subchannel_message_only:_e,include_poll_details:Se}),Jt}function lI(a,s){var l=KT.call(this,a,s)||this;return l.message=s?Gl(a,pe({},s)):null,l}function uI(w){var s=w.channelType,l=w.channelUrl,c=w.messageId,p=w.includeMetaArray,m=w.includeReactions,g=w.includeThreadInfo,b=w.includeParentMessageInfo,w=w.includePollDetails,O=QT.call(this)||this;return O.method=Ve.GET,O.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(c)),O.params={is_sdk:!0,with_sorted_meta_array:p,include_reactions:m,include_thread_info:g,include_parent_message_info:b,include_poll_details:w},O}(Rr=Mp=Mp||{}).SCORE="score",Rr.TIMESTAMP="ts",Y(_m,by=tn),_m.prototype._validate=function(){return by.prototype._validate.call(this)&&fe("string",this.keyword)&&0<this.keyword.length&&fe("boolean",this.reverse)&&fe("boolean",this.exactMatch)&&fe("string",this.channelUrl)&&fe("string",this.channelCustomType)&&(fe("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(fe("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&rr(Mp,this.order)&&fe("boolean",this.advancedQuery)&&vt("string",this.targetFields,!0)},_m.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p;return H(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new rQ(pe(pe({},this),{nextToken:this._nextToken||null})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(iQ),l=s.messages,c=s.hasNext,p=s.nextToken,this._nextToken=p,this._hasNext=c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})};var gm,vy,_y,by,aQ=_m,kt=(Y(yy,_y=tn),yy.prototype._validate=function(){return _y.prototype._validate.call(this)&&fe("string",this.channelUrl)&&rr(yr,this.channelType)},yy),sQ=(Y(vm,vy=kt),vm.prototype._validate=function(){return vy.prototype._validate.call(this)&&fe("boolean",this.reverse)&&rr(Ba,this.messageTypeFilter)&&rr(Ga,this.replyType)&&vt("string",this.customTypesFilter,!0)&&vt("string",this.senderUserIdsFilter,!0)&&fe("boolean",this.includeMetaArray)&&fe("boolean",this.includeReactions)&&fe("boolean",this.includeParentMessageInfo)&&fe("boolean",this.includeThreadInfo)&&fe("boolean",this.showSubchannelMessagesOnly)},vm.prototype.load=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,ya.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return a=s.sent(),this._edge=Math.min.apply(Math,br([Number.MAX_SAFE_INTEGER],tr(a.map(function(l){return l.createdAt})),!1)),this._hasNext=a.length>=this.limit,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},vm),oQ={channelUrl:null,scheduledMessageId:0},lQ=(Y(ec,gm=ra),ec.prototype.init=function(a,w){var l=w.sdkState,c=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;gm.prototype.init.call(this,a,{sdkState:l,dispatcher:c,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new ya(a,{sdkState:l,dispatcher:c,requestQueue:m,onlineDetector:b,cacheContext:w})},ec.prototype.buildMessageFromSerializedData=function(a){return this._manager.buildMessageFromSerializedData(a)},ec.prototype.buildSenderFromSerializedData=function(a){return this._manager.buildSenderFromSerializedData(a)},ec.prototype.getMessage=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return a=pe(pe({},tQ),a),on(fe("string",(l=a).channelUrl)&&fe("string",l.channelType)&&rr(yr,l.channelType)&&fe("number",l.messageId)&&fe("boolean",l.includeMetaArray)&&fe("boolean",l.includeParentMessageInfo)&&fe("boolean",l.includeThreadInfo)&&fe("boolean",l.includePollDetails)).throw(ye.invalidParameters),[2,this._manager.getMessage(a)];var l})})},ec.prototype.getScheduledMessage=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return a=pe(pe({},oQ),a),on(fe("string",(l=a).channelUrl)&&fe("number",l.scheduledMessageId)).throw(ye.invalidParameters),[2,this._manager.getScheduledMessage(a)];var l})})},ec);function ec(){var a=gm!==null&&gm.apply(this,arguments)||this;return a.name="message",a}function vm(a,s,l,c){var p=this;return(p=vy.call(this,a,s,l,c)||this).reverse=!1,p.messageTypeFilter=Ba.ALL,p.customTypesFilter=null,p.senderUserIdsFilter=null,p.replyType=Ga.NONE,p.includeMetaArray=!1,p.includeReactions=!1,p.includeParentMessageInfo=!1,p.includeThreadInfo=!1,p.showSubchannelMessagesOnly=!1,p._edge=Number.MAX_SAFE_INTEGER,p.reverse=(a=c.reverse)!=null&&a,p.messageTypeFilter=(s=c.messageTypeFilter)!=null?s:Ba.ALL,p.customTypesFilter=(l=c.customTypesFilter)!=null?l:null,p.senderUserIdsFilter=(a=c.senderUserIdsFilter)!=null?a:null,p.replyType=(s=c.replyType)!=null?s:Ga.NONE,p.includeMetaArray=(l=c.includeMetaArray)!=null&&l,p.includeReactions=(a=c.includeReactions)!=null&&a,p.includeParentMessageInfo=(s=c.includeParentMessageInfo)!=null&&s,p.includeThreadInfo=(l=c.includeThreadInfo)!=null&&l,p.showSubchannelMessagesOnly=(a=c.showSubchannelMessagesOnly)!=null&&a,p}function yy(a,s,l,c){return a=_y.call(this,a,c)||this,a.channelUrl=s,a.channelType=l,a}function _m(a,s){var l=this;return(l=by.call(this,a,s)||this).keyword="",l.reverse=!1,l.exactMatch=!1,l.channelUrl="",l.channelCustomType="",l.messageTimestampFrom=null,l.messageTimestampTo=null,l.order=Mp.SCORE,l.advancedQuery=!1,l.targetFields=null,l._nextToken="",l.keyword=s.keyword,l.reverse=(a=s.reverse)!=null&&a,l.exactMatch=(a=s.exactMatch)!=null&&a,l.channelUrl=(a=s.channelUrl)!=null?a:"",l.channelCustomType=(a=s.channelCustomType)!=null?a:"",l.messageTimestampFrom=(a=s.messageTimestampFrom)!=null?a:null,l.messageTimestampTo=(a=s.messageTimestampTo)!=null?a:null,l.order=(a=s.order)!=null?a:Mp.SCORE,l.advancedQuery=(a=s.advancedQuery)!=null&&a,l.targetFields=(a=s.targetFields)!=null?a:null,l}function cI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&rr(Bi,a.mentionType)&&vt("string",a.mentionedUserIds,!0)&&vt(Kn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&vt($a,a.metaArrays,!0)&&fe("number",a.parentMessageId,!0)&&fe("boolean",a.isReplyToChannel)&&rr(Pl,a.pushNotificationDeliveryOption,!0)&&fe(Bl,a.appleCriticalAlertOptions,!0)}function dI(a){return a?{isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}var Td,Mr={data:null,customType:null,mentionType:Bi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},hI=pe(pe({},Mr),{message:null,translationTargetLanguages:null});($t=Td=Td||{}).FILE="file",$t.BLOB="blob",$t.BLOB_LIKE_OBJECT="blobLikeObject",$t.URL="url";function Ey(a){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&a instanceof Blob}function wy(a){return a===Td.BLOB||a===Td.FILE}function pI(a){return a?{file:a.file,fileKey:a.fileKey,fileType:a.fileType,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}function fI(a){return cI(a)&&(uo(a.file)||fe("string",a.fileUrl))&&fe("string",a.fileName,!0)&&fe("string",a.mimeType,!0)&&fe("number",a.fileSize,!0)&&(a.thumbnailSizes===null||Array.isArray(a.thumbnailSizes)&&a.thumbnailSizes.every(function(s){return fe("object",s)&&0<s.maxWidth&&0<s.maxHeight}))}var xy,mI=pe(pe({},Mr),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1});(ti=xy=xy||{}).MUTED="muted",ti.BANNED="banned";function gI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&rr(Bi,a.mentionType)&&vt("string",a.mentionedUserIds,!0)&&vt(Kn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&vt($a,a.metaArrays,!0)&&rr(Pl,a.pushNotificationDeliveryOption,!0)&&fe(Bl,a.appleCriticalAlertOptions,!0)}AI.payloadify=function(a){return a?Gn({restriction_type:a.restrictionType,description:a.description,end_at:a.endAt}):null};var Up,ky,vI,_I,bI,yI,EI,Cy,wI,xI,Sy,kI=AI,Id=(Y(Ty,Sy=Kn),Ty.payloadify=function(a){return a?Gn(pe(pe({},Sy.payloadify.call(this,a)),kI.payloadify(a.restrictionInfo))):null},Ty),ht={data:null,customType:null,mentionType:Bi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},uQ=pe(pe({},ht),{message:null,translationTargetLanguages:null}),cQ=pe({},ht),dQ=(Y(OI,xI=Qe),OI),hQ=(Y(II,wI=Ze),II),pQ=(Y(ym,Cy=kt),ym.prototype._validate=function(){return Cy.prototype._validate.call(this)},ym.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p;return H(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(a=[],this._hasNext?(this._isLoading=!0,s=we.of(this._iid).requestQueue,l=new dQ(pe(pe({},this),{channelUrl:this.channelUrl,token:this._token})),[4,s.send(l)]):[3,2]):[3,5];case 1:return s=m.sent(),l=s.as(hQ),c=l.operators,p=l.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,c];case 2:return[2,a];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},ym),fQ=(Y(TI,EI=Qe),TI),mQ=(Y(NI,yI=Ze),NI),gQ=(Y(Ny,bI=kt),Ny.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new fQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(mQ),l=s.mutedUsers,c=s.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},Ny),vQ=(Y(SI,_I=Qe),SI),_Q=(Y(CI,vI=Ze),CI),bQ=(Y(bm,ky=kt),bm.prototype._validate=function(){return ky.prototype._validate.call(this)},bm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new vQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(_Q),l=s.bannedUsers,c=s.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},bm);function bm(a,s,l,c){return ky.call(this,a,s,l,c)||this}function CI(a,p){var l=vI.call(this,a,p)||this,c=(l.token=null,l.bannedUsers=[],p.next),p=p.banned_list;return l.token=c,p&&0<p.length&&(l.bannedUsers=p.map(function(m){return new Id(a,m.user)})),l}function SI(m){var s=this,l=m.channelUrl,c=m.channelType,p=m.limit,m=m.token;return(s=_I.call(this)||this).method=Ve.GET,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/ban"),s.params=Gn({limit:p,token:m}),s}function Ny(a,s,l,c){return bI.call(this,a,s,l,c)||this}function NI(a,p){var l=yI.call(this,a,p)||this,c=(l.token=null,l.mutedUsers=[],p.next),p=p.muted_list;return l.token=c,p&&0<p.length&&(l.mutedUsers=p.map(function(m){return new Id(a,m)})),l}function TI(m){var s=this,l=m.channelUrl,c=m.channelType,p=m.limit,m=m.token;return(s=EI.call(this)||this).method=Ve.GET,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/mute"),s.params={limit:p,token:m},s}function ym(a,s,l,c){return Cy.call(this,a,s,l,c)||this}function II(a,s){var l=wI.call(this,a,s)||this;return l.operators=s.operators.map(function(c){return new Kn(a,c)}),l.token=s.next,l}function OI(p){var s=p.channelUrl,l=p.channelType,c=p.token,p=p.limit,m=xI.call(this)||this;return m.method=Ve.GET,m.path="".concat(Lt(l),"/").concat(encodeURIComponent(s),"/operators"),m.params={token:c,limit:p},m}function Ty(a,s){return a=Sy.call(this,a,s)||this,a.restrictionInfo=null,a.restrictionInfo=new kI(s),a}function AI(a){var s;this.restrictionType=null,this.description=null,this.endAt=-1,rr(xy,a.restriction_type)&&(this.restrictionType=a.restriction_type),this.description=(s=a.description)!=null?s:null,this.endAt=(s=(s=a.end_at)!=null?s:a.muted_end_at)!=null?s:-1}(or=Up=Up||{}).SPAM="spam",or.HARASSING="harassing",or.SUSPICIOUS="suspicious",or.INAPPROPRIATE="inappropriate",Y(MI,RI=Qe);var RI,Iy,yQ=MI;function MI(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.operatorUserIds;return(s=RI.call(this)||this).method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(){return Iy!==null&&Iy.apply(this,arguments)||this},Iy=Ze),Y(LI,DI=Qe);var DI,UI,EQ=LI;function LI(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.operatorUserIds;return(s=DI.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(a,s){return UI.call(this,a,s)||this},UI=Ze),Y(C6,n6=Qe);var PI,FI,HI,qI,BI,GI,$I,zI,jI,VI,WI,KI,QI,YI,XI,JI,ZI,e6,n6,t6,wQ=C6,xQ=(Y(k6,e6=Ze),k6),r6=(Y(x6,ZI=Qe),x6),i6=(Y(w6,JI=Ze),w6),kQ=(Y(E6,XI=Qe),E6),CQ=(Y(y6,YI=Ze),y6),SQ=(Y(b6,QI=ur),b6),NQ=(Y(_6,KI=Qe),_6),TQ=(Y(v6,WI=Ze),v6),IQ=(Y(g6,VI=Qe),g6),OQ=(Y(m6,jI=Ze),m6),a6=(Y(f6,zI=Qe),f6),s6=(Y(p6,$I=Ze),p6),AQ=(Y(h6,GI=Qe),h6),RQ=(Y(d6,BI=Ze),d6),Oy=(Y(c6,qI=Qe),c6),Ay=(Y(u6,HI=Ze),u6),MQ=(Y(l6,FI=ur),l6),DQ=(Y(o6,PI=Qe),o6);function o6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.key;return(s=PI.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metacounter/").concat(p),s.params=null,s}function l6(a,s,l){return a=FI.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function u6(a,s){return a=HI.call(this,a,s)||this,a.metaCounter=s,a}function c6(g){var s=this,l=g.channelUrl,c=g.channelType,p=g.metaCounter,m=g.upsert,m=m!==void 0&&m,g=g.mode,g=g===void 0?"set":g;return(s=qI.call(this)||this).method=Ve.PUT,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p,upsert:m,mode:g},s}function d6(a,s){return a=BI.call(this,a,s)||this,a.metaCounter=s,a}function h6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.metaCounter;return(s=GI.call(this)||this).method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p},s}function p6(a,s){return a=$I.call(this,a,s)||this,a.metaCounter=s,a}function f6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.keys;return(s=zI.call(this)||this).method=Ve.GET,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={keys:p},s}function m6(a,s){return a=jI.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function g6(c){var s=this,l=c.channelUrl,c=c.channelType;return(s=VI.call(this)||this).method=Ve.PUT,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metadata"),s.params={include_ts:!0},s}function v6(a,s){return a=WI.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function _6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.key;return(s=KI.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metadata/").concat(p),s.params={include_ts:!0},s}function b6(a,s,l){return a=QI.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function y6(l,p){var l=YI.call(this,l,p)||this,c=(l.ts=null,p.metadata),p=p.ts;return l.metadata=c,l.ts=p!=null?p:null,l}function E6(m){var s=this,l=m.channelUrl,c=m.channelType,p=m.metadata,m=m.upsert;return(s=XI.call(this)||this).method=Ve.PUT,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0,upsert:m!=null&&m},s}function w6(l,p){var l=JI.call(this,l,p)||this,c=(l.ts=null,p.metadata),p=p.ts;return l.metadata=c,l.ts=p!=null?p:null,l}function x6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.keys;return(s=ZI.call(this)||this).method=Ve.GET,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metadata"),s.params={keys:p,include_ts:!0},s}function k6(l,b){var l=e6.call(this,l,b)||this,c=(l.isMuted=!1,l.startAt=null,l.endAt=null,l.remainingDuration=null,l.description=null,b.is_muted),p=b.start_at,m=b.end_at,g=b.remaining_duration,b=b.description;return l.isMuted=c,l.startAt=p,l.endAt=m,l.remainingDuration=g,l.description=b,l}function C6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.userId;return(s=n6.call(this)||this).method=Ve.GET,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/mute/").concat(p),s}Y(function(a,s){return t6.call(this,a,s)||this},t6=Ze),Y(N6,S6=Qe);var S6,Ry,UQ=N6;function N6(c){var s=this,l=c.channelUrl,c=c.channelType;return(s=S6.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/metacounter"),s.params=null,s}Y(function(){return Ry!==null&&Ry.apply(this,arguments)||this},Ry=Ze),Y(O6,T6=Qe);var T6,I6,LQ=O6;function O6(g){var s=this,l=g.channelUrl,c=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=T6.call(this)||this).method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/mute"),s.params={user_id:p,seconds:m,description:g},s}Y(function(a,s){return I6.call(this,a,s)||this},I6=Ze),Y(D6,R6=ur);var A6,R6,My,PQ=D6,FQ=(Y(M6,A6=Qe),M6);function M6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.userId;return(s=A6.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/mute/").concat(encodeURIComponent(p)),s}function D6(a,s,l){var c=R6.call(this,a,"SYEV",l)||this;return c.user=new Id(a,l.data),c}Y(function(){return My!==null&&My.apply(this,arguments)||this},My=Ze),Y(F6,L6=ur);var U6,L6,Dy,HQ=F6,qQ=(Y(P6,U6=Qe),P6);function P6(g){var s=this,l=g.channelUrl,c=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=U6.call(this)||this).method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/ban"),s.params=Gn({user_id:p,seconds:m,description:g}),s}function F6(a,s,l){var c=L6.call(this,a,"SYEV",l)||this;return c.user=new Id(a,l.data),c}Y(function(){return Dy!==null&&Dy.apply(this,arguments)||this},Dy=Ze),Y(G6,q6=ur);var H6,q6,Uy,BQ=G6,GQ=(Y(B6,H6=Qe),B6);function B6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.userId;return(s=H6.call(this)||this).method=Ve.DELETE,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/ban/").concat(encodeURIComponent(p)),s}function G6(a,s,l){var c=q6.call(this,a,"SYEV",l)||this;return c.memberCount=null,c.joinedMemberCount=null,c.user=new Id(a,l.data),l.data.member_count&&(c.memberCount=l.data.member_count),l.data.joined_member_count&&(c.joinedMemberCount=l.data.joined_member_count),c}Y(function(){return Uy!==null&&Uy.apply(this,arguments)||this},Uy=Ze),Y(W6,z6=ur);var $6,z6,Ly,$Q=W6,j6=(Y(V6,$6=Qe),V6);function V6(p){var s=this,l=p.channelUrl,c=p.channelType,p=p.freezing;return(s=$6.call(this)||this).method=Ve.PUT,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(l),"/freeze"),s.params={freeze:p},s}function W6(a,s,l){var c=z6.call(this,a,"SYEV",l)||this;return c.user=new Id(a,l.data),c}Y(function(){return Ly!==null&&Ly.apply(this,arguments)||this},Ly=Ze),Y(_4,i4=ur);var K6,Q6,Y6,X6,J6,Z6,e4,n4,t4,r4,i4,Py,zQ=_4,jQ=(Y(v4,r4=Qe),v4),VQ=(Y(g4,t4=Qe),g4),WQ=(Y(m4,n4=Qe),m4),KQ=(Y(f4,e4=co),f4),a4=(Y(p4,Z6=ur),p4),s4=(Y(h4,J6=co),h4),Fy=(Y(d4,X6=ur),d4),QQ=(Y(c4,Y6=co),c4),o4=(Y(u4,Q6=ur),u4),YQ=(Y(l4,K6=Qe),l4);function l4(a){var s=K6.call(this)||this;return s.method=Ve.DELETE,s.path="".concat(Lt(a.channelType),"/").concat(a.channelUrl,"/messages/").concat(a.messageId),s}function u4(m,s,l){var c,p=this,m=((p=Q6.call(this,m,"FEDI",l)||this).message=new ri(m,l),we.of(m).sdkState);return p.mentionCountChange=Vb({mentionType:(c=(c=l.old_values)==null?void 0:c.mention_type)!=null?c:null,mentionedUserIds:(l=(c=l.old_values)==null?void 0:c.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(c=p.message.mentionedUserIds)!=null?c:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function c4(a){var s=[];return a.mentionType===Bi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),Y6.call(this,{code:"FEDI",ackRequired:!0,payload:Gn({channel_url:a.channelUrl,msg_id:a.messageId,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function d4(m,s,l){var c,p=this,m=((p=X6.call(this,m,"MEDI",l)||this).message=new Ei(m,l),we.of(m).sdkState);return p.mentionCountChange=Vb({mentionType:(c=(c=l.old_values)==null?void 0:c.mention_type)!=null?c:null,mentionedUserIds:(l=(c=l.old_values)==null?void 0:c.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(c=p.message.mentionedUserIds)!=null?c:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function h4(a){var s=[];return a.mentionType===Bi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),J6.call(this,{code:"MEDI",ackRequired:!0,payload:Gn({channel_url:a.channelUrl,msg_id:a.messageId,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function p4(m,s,l){var c,p=this,m=((p=Z6.call(this,m,"MESG",l)||this).message=new Ei(m,l),we.of(m).sdkState);return p.isMentioned=kd(p.message.mentionType,(c=p.message.mentionedUserIds)!=null?c:(c=p.message.mentionedUsers)==null?void 0:c.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(c=l.force_update_last_message)!=null&&c,p}function f4(a){var s=[];return a.mentionType===Bi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),e4.call(this,{code:"MESG",ackRequired:!0,payload:Gn({channel_url:a.channelUrl,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Pl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function m4(w){var s=this,l=w.channelUrl,c=w.channelType,p=w.category,m=w.userId,g=w.offendingUserId,b=w.messageId,w=w.description;return(s=n4.call(this)||this).method=Ve.POST,s.path="".concat(HN(c),"/").concat(encodeURIComponent(l),"/messages/").concat(b),s.params={report_category:p,reporting_user_id:m,report_description:w,offending_user_id:g},s}function g4(b){var s=this,l=b.channelUrl,c=b.channelType,p=b.category,m=b.userId,g=b.offendingUserId,b=b.description;return(s=t4.call(this)||this).method=Ve.POST,s.path="/report/users/".concat(g),s.params={channel_url:l,channel_type:c===yr.OPEN?"open_channels":"group_channels",report_category:p,reporting_user_id:m,report_description:b},s}function v4(g){var s=this,l=g.channelUrl,c=g.channelType,p=g.category,m=g.userId,g=g.description;return(s=r4.call(this)||this).method=Ve.POST,s.path="".concat(HN(c),"/").concat(encodeURIComponent(l)),s.params={report_category:p,reporting_user_id:m,report_description:g},s}function _4(a,s,l){return a=i4.call(this,a,"SYEV",l)||this,a.freeze=l.data.freeze,a}Y(function(){return Py!==null&&Py.apply(this,arguments)||this},Py=Ze),Y(B4,I4=ur);var Hy,b4,y4,E4,w4,x4,k4,C4,S4,N4,T4,I4,Ea,qy,Va,By,XQ=B4,JQ=(Y(q4,T4=Qe),q4),ZQ=(Y(H4,N4=Ze),H4),eY=(Y(F4,S4=Qe),F4),nY=(Y(P4,C4=Ze),P4),tY=(Y(L4,k4=Qe),L4),rY=(Y(U4,x4=Ze),U4),iY=(Y(D4,w4=Qe),D4),aY=(Y(M4,E4=Ze),M4),sY=(Y(R4,y4=Qe),R4),oY=(Y(A4,b4=Ze),A4),O4=(Y(Xe,Hy=lt),Xe.payloadify=function(a){return Gn(pe(pe({},Hy.payloadify.call(this,a)),{channel_url:a.url,name:a.name,cover_url:a.coverUrl,custom_type:a.customType,data:a.data,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,created_by:Kn.payloadify(a.creator),created_at:a.createdAt/1e3}))},Xe.prototype.isGroupChannel=function(){return this.channelType===yr.GROUP},Xe.prototype.isOpenChannel=function(){return this.channelType===yr.OPEN},Object.defineProperty(Xe.prototype,"cachedMetaData",{get:function(){var a={};return this._cachedMetaData.forEach(function(s,l){s.isRemoved||(a[l]=s.value)}),a},enumerable:!1,configurable:!0}),Xe.prototype._upsertCachedMetaData=function(a,s){var l=this;Object.keys(a).forEach(function(c){var p=l._cachedMetaData.get(c);(!p||p.updatedAt<=s)&&l._cachedMetaData.set(c,{value:a[c],isRemoved:!1,updatedAt:s})})},Xe.prototype._removeFromCachedMetaData=function(a,s){var l=this;a.forEach(function(c){c=l._cachedMetaData.get(c),c&&c.updatedAt<s&&(c.isRemoved=!1,c.updatedAt=s)})},Xe.prototype._generateRequestId=function(){return"rq-".concat(_d())},Xe.prototype.isIdentical=function(a){return a&&this.url===a.url},Xe.prototype.isEqual=function(a){return QS(this,a)},Xe.prototype.createOperatorListQuery=function(a){return new pQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createMutedUserListQuery=function(a){return new gQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createBannedUserListQuery=function(a){return new bQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createPreviousMessageListQuery=function(a){return new sQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.addOperators=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new yQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},Xe.prototype.removeOperators=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new EQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},Xe.prototype.getMyMutedInfo=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g;return H(this,function(b){switch(b.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new wQ({channelUrl:this.url,channelType:this.channelType,userId:s.userId}),[4,a.send(s)];case 1:return a=b.sent(),s=a.as(xQ),l=s.isMuted,c=s.startAt,p=s.endAt,m=s.remainingDuration,g=s.description,[2,{isMuted:l,startAt:c,endAt:p,remainingDuration:m,description:g}]}})})},Xe.prototype.getMetaData=function(a){return F(this,void 0,void 0,function(){var s,l,c,p;return H(this,function(m){switch(m.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new r6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return s=m.sent(),l=s.as(i6),c=l.metadata,p=l.ts,this._upsertCachedMetaData(c,p),[2,c]}})})},Xe.prototype.getAllMetaData=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,s=new r6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(i6),l=s.metadata,c=s.ts,this._upsertCachedMetaData(l,c),[2,l]}})})},Xe.prototype.createMetaData=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new AK({channelUrl:this.url,channelType:this.channelType,metadata:a}),[4,s.send(l)];case 1:return s=c.sent(),l=s.as(jN).metaData,this._upsertCachedMetaData(l,0),[2,l]}})})},Xe.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),F(this,void 0,void 0,function(){var l,c,p,m;return H(this,function(g){switch(g.label){case 0:return l=we.of(this._iid).requestQueue,c=new kQ({channelUrl:this.url,channelType:this.channelType,metadata:a,upsert:s}),[4,l.send(c)];case 1:return l=g.sent(),c=l.as(CQ),p=c.metadata,m=c.ts,this._upsertCachedMetaData(p,m),[2,p]}})})},Xe.prototype.deleteMetaData=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new NQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return s=c.sent(),l=s.as(TQ).ts,this._removeFromCachedMetaData([a],l),[2]}})})},Xe.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new IQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return a=l.sent(),s=a.as(OQ).ts,this._removeFromCachedMetaData(br([],tr(this._cachedMetaData.keys()),!1),s),[2]}})})},Xe.prototype.getMetaCounters=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new a6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return[2,c.sent().as(s6).metaCounter]}})})},Xe.prototype.getAllMetaCounters=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new a6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return[2,l.sent().as(s6).metaCounter]}})})},Xe.prototype.createMetaCounters=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new AQ({channelUrl:this.url,channelType:this.channelType,metaCounter:a}),[4,s.send(l)];case 1:return[2,c.sent().as(RQ).metaCounter]}})})},Xe.prototype.updateMetaCounters=function(a,s){return s===void 0&&(s=!1),F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return l=we.of(this._iid).requestQueue,c=new Oy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:s}),[4,l.send(c)];case 1:return[2,p.sent().as(Ay).metaCounter]}})})},Xe.prototype.increaseMetaCounters=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new Oy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"increase"}),[4,s.send(l)];case 1:return[2,c.sent().as(Ay).metaCounter]}})})},Xe.prototype.decreaseMetaCounters=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new Oy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"decrease"}),[4,s.send(l)];case 1:return[2,c.sent().as(Ay).metaCounter]}})})},Xe.prototype.deleteMetaCounter=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new DQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},Xe.prototype.deleteAllMetaCounters=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new UQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return l.sent(),[2]}})})},Xe.prototype.muteUser=function(a,s,l){return F(this,void 0,void 0,function(){return H(this,function(c){return[2,this.muteUserWithUserId(a.userId,s,l)]})})},Xe.prototype.muteUserWithUserId=function(a,s,l){return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return on(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(ye.invalidParameters),c=we.of(this._iid).requestQueue,p=new LQ({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,c.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.unmuteUser=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.unmuteUserWithUserId(a.userId)]})})},Xe.prototype.unmuteUserWithUserId=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new FQ({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},Xe.prototype.banUser=function(a,s,l){return F(this,void 0,void 0,function(){return H(this,function(c){return[2,this.banUserWithUserId(a.userId,s,l)]})})},Xe.prototype.banUserWithUserId=function(a,s,l){return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return on(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(ye.invalidParameters),c=we.of(this._iid).requestQueue,p=new qQ({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,c.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.unbanUser=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.unbanUserWithUserId(a.userId)]})})},Xe.prototype.unbanUserWithUserId=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid).requestQueue,l=new GQ({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},Xe.prototype.freeze=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new j6({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!0,[2]}})})},Xe.prototype.unfreeze=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new j6({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!1,[2]}})})},Xe.prototype.getMessagesByTimestamp=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},MT),s),on(fe("number",a)&&fe("number",(c=s).prevResultSize)&&fe("number",c.nextResultSize)&&fe("boolean",c.isInclusive)&&fe("boolean",c.reverse)&&fe("string",c.messageTypeFilter)&&rr(Ba,c.messageTypeFilter)&&vt("string",c.customTypesFilter,!0)&&vt("string",c.senderUserIdsFilter,!0)&&rr(Ga,c.replyType)&&fe("boolean",c.includeMetaArray)&&fe("boolean",c.includeReactions)&&fe("boolean",c.includeParentMessageInfo)&&fe("boolean",c.includeThreadInfo)&&fe("boolean",c.showSubchannelMessagesOnly)).throw(ye.invalidParameters),[4,ya.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}var c})})},Xe.prototype.getMessageChangeLogsSinceTimestamp=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},my),s),on(fe("number",a)&&RT(s)).throw(ye.invalidParameters),[4,ya.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Xe.prototype.getMessageChangeLogsSinceToken=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return s=pe(pe({},my),s),on(fe("string",a)&&RT(s)).throw(ye.invalidParameters),[4,ya.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Xe.prototype._createPendingSendableMessagePayload=function(a,s,l){var c=we.of(this._iid).sessionManager;return Gn({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,sorted_metaarray:a.metaArrays?a.metaArrays.map(function(p){return $a.payloadify(p)}):null,apple_critical_alert_options:a.appleCriticalAlertOptions?Bl.payloadify(a.appleCriticalAlertOptions):null,created_at:l,user:Op.payloadify(c.currentUser),req_id:s,request_state:ir.PENDING,mentioned_user_ids:a.mentionedUserIds,mentioned_users:a.mentionedUsers})},Xe.prototype._createPendingUserMessage=function(a,s,l){var c={};if(a.translationTargetLanguages)try{for(var p=zn(a.translationTargetLanguages),m=p.next();!m.done;m=p.next())c[m.value]=""}catch(w){b={error:w}}finally{try{m&&!m.done&&(g=p.return)&&g.call(p)}finally{if(b)throw b.error}}var g=Gn(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:mr.USER,message:a.message,translations:c})),b=new Ei(this._iid,g);return b.messageParams=a,b},Xe.prototype._createPendingScheduledUserMessage=function(a,s,l){return s=this._createPendingUserMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Xe.prototype._createPendingFileMessage=function(a,s,l){return s=Gn(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:mr.FILE,url:a.fileUrl,file:{name:a.fileName,size:a.fileSize,type:a.mimeType,data:a.data},thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(c){return{url:"",width:c.maxWidth,height:c.maxHeight}}):[]})),l=new ri(this._iid,s),l.messageParams=a,l},Xe.prototype._createPendingScheduledFileMessage=function(a,s,l){return s=this._createPendingFileMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Xe.prototype._markMessageAsFailed=function(a,s,l){l===void 0&&(l=!1),a.errorCode=s.code,s.code===Jn.REQUEST_CANCELED?a.sendingStatus=ir.CANCELED:l||(a.sendingStatus=ir.FAILED)},Xe.prototype.sendUserMessage=function(a){return a=pe(pe({},hI),a),on(cI(s=a)&&fe("string",s.message)&&vt("string",s.translationTargetLanguages,!0)).throw(ye.invalidParameters),this._sendUserMessage(a);var s},Xe.prototype._sendUserMessage=function(a,s,O){var c,p=this,g=(s===void 0&&(s=Date.now()),O===void 0&&(O=null),we.of(this._iid)),m=g.dispatcher,g=g.requestQueue,b=O,w=new gy,O=(b||(b=this._generateRequestId(),c=we.of(this._iid).dispatcher,ho(2).then(function(){var L=p._createPendingUserMessage(a,b,s);c.dispatch(new ba({messages:[L],source:ii.EVENT_MESSAGE_SENT_PENDING})),it(function(){return F(p,void 0,void 0,function(){return H(this,function(q){return[2,w._trigger(null,L)]})})})})),new KQ(pe({channelUrl:this.url,channelType:this.channelType,reqId:b},a)));return g.send(O).then(function(L){var q=L.as(a4).message;m.dispatch(new ba({messages:[q],source:ii.EVENT_MESSAGE_SENT_SUCCESS})),it(function(){return F(p,void 0,void 0,function(){return H(this,function(G){return[2,w._trigger(null,q)]})})})}).catch(function(L){if(Ul(L))throw L;ho(2).then(function(){var q=p._createPendingUserMessage(a,b,s),G=we.of(p._iid).cacheContext.localCacheEnabled&&J0(L.code);p._markMessageAsFailed(q,L,G),m.dispatch(new ba({messages:[q],source:q.sendingStatus===ir.PENDING?ii.REQUEST_RESEND_MESSAGE:ii.EVENT_MESSAGE_SENT_FAILED})),it(function(){return F(p,void 0,void 0,function(){return H(this,function(re){return[2,w._trigger(L,q)]})})})})}),w},Xe.prototype._autoResendUserMessage=function(a){return on(a instanceof Ei).throw(ye.invalidParameters),this._sendUserMessage(a.messageParams,a.createdAt,a.reqId)},Xe.prototype.resendUserMessage=function(a){var s;return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){return on(a instanceof Ei&&!a.scheduledInfo).throw(ye.invalidParameters),l=new ta,c=(s=a.messageParams)!=null?s:Gn({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,mentionedMessageTemplate:a.mentionedMessageTemplate,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,message:a.message,translationTargetLanguages:Object.keys(a.translations)}),this._sendUserMessage(c).onFailed(function(m){return l.reject(m)}).onSucceeded(function(m){return l.resolve(m)}),[2,l.promise]})})},Xe.prototype.updateUserMessage=function(a,s){return F(this,void 0,void 0,function(){var l,c,p;return H(this,function(m){switch(m.label){case 0:return s=pe(pe({},uQ),s),on(fe("number",a)&&gI(g=s)&&fe("string",g.message,!0)&&vt("string",g.translationTargetLanguages,!0)).throw(ye.invalidParameters),c=we.of(this._iid),l=c.dispatcher,c=c.requestQueue,p=new s4(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,c.send(p)];case 1:return c=m.sent(),p=c.as(Fy).message,l.dispatch(new ba({messages:[p],source:ii.EVENT_MESSAGE_UPDATED})),[2,p]}var g})})},Xe.prototype.copyUserMessage=function(a,s){var l;return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){return on(a instanceof Xe&&s instanceof Ei&&s.sendingStatus===ir.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(ye.invalidParameters),c=new ta,p=(l=s.messageParams)!=null?l:pe(pe({},s),{mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),translationTargetLanguages:Object.keys(s.translations),pushNotificationDeliveryOption:Pl.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),a._sendUserMessage(p).onSucceeded(function(g){return c.resolve(g)}).onFailed(function(g){return c.reject(g)}),[2,c.promise]})})},Xe.prototype.translateUserMessage=function(a,s){return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(a instanceof Ei&&0<a.messageId&&vt("string",s)).throw(ye.invalidParameters),l=we.of(this._iid).requestQueue,c=new tY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,translationTargetLanguages:s}),[4,l.send(c)];case 1:return[2,p.sent().as(rY).message]}})})},Xe.prototype._createScheduledUserMessage=function(a,s){var l=this,c=we.of(this._iid).requestQueue,p=Date.now(),m=this._generateRequestId(),g=(ho(2).then(function(){var b=l._createPendingScheduledUserMessage(a,m,p);it(function(){return F(l,void 0,void 0,function(){return H(this,function(w){return[2,s._trigger(null,b)]})})})}),new iY(pe({reqId:m,channelType:this.channelType,channelUrl:this.url},a)));c.send(g).then(function(b){var w=b.as(aY).message;it(function(){return F(l,void 0,void 0,function(){return H(this,function(O){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(Ul(b))throw b;ho(2).then(function(){var w=l._createPendingScheduledUserMessage(a,m,p);l._markMessageAsFailed(w,b),it(function(){return F(l,void 0,void 0,function(){return H(this,function(O){return[2,s._trigger(b,w)]})})})})})},Xe.prototype.sendFileMessage=function(a){return a=pe(pe({},mI),a),on(fI(a)).throw(ye.invalidParameters),this._sendFileMessage(a)},Xe.prototype._sendFileMessage=function(a,s,l){var c=this,p=(s===void 0&&(s=Date.now()),l===void 0&&(l=null),we.of(this._iid).dispatcher),m=ya.of(this._iid).fileMessageQueue,g=l,b=new gy;return g||(g=this._generateRequestId(),ho(2).then(function(){var w=c._createPendingFileMessage(a,g,s);p.dispatch(new ba({messages:[w],source:ii.EVENT_MESSAGE_SENT_PENDING})),it(function(){return F(c,void 0,void 0,function(){return H(this,function(O){return[2,b._trigger(null,w)]})})})})),m.request(this,g,a).then(function(w){p.dispatch(new ba({messages:[w],source:ii.EVENT_MESSAGE_SENT_SUCCESS})),it(function(){return F(c,void 0,void 0,function(){return H(this,function(O){return[2,b._trigger(null,w)]})})})}).catch(function(w){if(Ul(w))throw w;ho(2).then(function(){var O=c._createPendingFileMessage(a,g,s),L=we.of(c._iid).cacheContext.localCacheEnabled&&J0(w.code);c._markMessageAsFailed(O,w,L),p.dispatch(new ba({messages:[O],source:O.sendingStatus===ir.PENDING?ii.REQUEST_RESEND_MESSAGE:ii.EVENT_MESSAGE_SENT_FAILED})),it(function(){return F(c,void 0,void 0,function(){return H(this,function(q){return[2,b._trigger(w,O)]})})})})}),b},Xe.prototype._autoResendFileMessage=function(a){on(a instanceof ri).throw(ye.invalidParameters);var s=we.of(this._iid).logger;return s.debug("autoResendFileMessage pending",a),this._sendFileMessage(a.messageParams,a.createdAt,a.reqId).onFailed(function(l){s.debug("autoResendFileMessage failed",l)}).onSucceeded(function(l){s.debug("autoResendFileMessage success",l)})},Xe.prototype._createScheduledFileMessage=function(a,s,l,c){var p=this,m=we.of(this._iid).requestQueue,g=new sY(pe(pe({reqId:l,channelType:this.channelType,channelUrl:this.url},a),{fileUrl:a.fileUrl,requireAuth:a.requireAuth}));m.send(g).then(function(b){var w=b.as(oY).message;it(function(){return F(p,void 0,void 0,function(){return H(this,function(O){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(Ul(b))throw b;ho(2).then(function(){var w=p._createPendingScheduledFileMessage(a,l,c);p._markMessageAsFailed(w,b),it(function(){return F(p,void 0,void 0,function(){return H(this,function(O){return[2,s._trigger(b,w)]})})})})})},Xe.prototype.sendFileMessages=function(a){on(a.every(function(b){return fI(pe(pe({},mI),b))})).throw(ye.invalidParameters);var s,l,c=new gy;try{for(var p=zn(a),m=p.next();!m.done;m=p.next()){var g=m.value;this.sendFileMessage(g).onPending(function(b){return c._trigger(null,b)}).onFailed(function(b,w){return c._trigger(b,w)}).onSucceeded(function(b){return c._trigger(null,b)})}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return c},Xe.prototype.resendFileMessage=function(a,s){var l;return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){return on(a instanceof ri&&s instanceof Blob&&!a.scheduledInfo).throw(ye.invalidParameters),c=new ta,p=(l=a.messageParams)!=null?l:(g=s,Gn({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,file:g=s===void 0?null:g,fileUrl:a.url,fileName:a.name,fileSize:a.size,mimeType:a.type,thumbnailSizes:a.thumbnails.map(function(b){return{maxWidth:b.width,maxHeight:b.height}})})),this._sendFileMessage(p).onFailed(function(b){return c.reject(b)}).onSucceeded(function(b){return c.resolve(b)}),[2,c.promise];var g})})},Xe.prototype.updateFileMessage=function(a,s){return F(this,void 0,void 0,function(){var l,c,p;return H(this,function(m){switch(m.label){case 0:return s=pe(pe({},cQ),s),on(fe("number",a)&&gI(s)).throw(ye.invalidParameters),c=we.of(this._iid),l=c.dispatcher,c=c.requestQueue,p=new QQ(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,c.send(p)];case 1:return c=m.sent(),p=c.as(o4).message,l.dispatch(new ba({messages:[p],source:ii.EVENT_MESSAGE_UPDATED})),[2,p]}})})},Xe.prototype.cancelUploadingFileMessage=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return on(fe("string",a)).throw(ye.invalidParameters),ya.of(this._iid).fileMessageQueue.cancel(this,a),[2,!0]})})},Xe.prototype.copyFileMessage=function(a,s){var l;return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){return on(a instanceof Xe&&s instanceof ri&&s.sendingStatus===ir.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(ye.invalidParameters),c=new ta,p=pe(pe({},s),{fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),pushNotificationDeliveryOption:Pl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:s.thumbnails.map(function(g){return{maxWidth:g.width,maxHeight:g.height}}),requireAuth:s.requireAuth}),a._sendFileMessage(p).onSucceeded(function(g){return c.resolve(g)}).onFailed(function(g){return c.reject(g)}),[2,c.promise]})})},Xe.prototype.deleteMessage=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(a instanceof po).throw(ye.invalidParameters),0<a.messageId?(s=we.of(this._iid).requestQueue,l=new YQ({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId}),[4,s.send(l)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},Xe.prototype.addReaction=function(a,s){return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(a instanceof dm&&0<a.messageId&&fe("string",s)).throw(ye.invalidParameters),l=we.of(this._iid).requestQueue,c=new JQ({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(c)];case 1:return[2,p.sent().as(ZQ).reactionEvent]}})})},Xe.prototype.deleteReaction=function(a,s){return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(a instanceof dm&&0<a.messageId&&fe("string",s)).throw(ye.invalidParameters),l=we.of(this._iid).requestQueue,c=new eY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(c)];case 1:return[2,p.sent().as(nY).reactionEvent]}})})},Xe.prototype._updateMessageMetaArray=function(a,s,l,c){return F(this,void 0,void 0,function(){var p,m,g;return H(this,function(b){switch(b.label){case 0:return m=we.of(this._iid),p=m.dispatcher,m=m.requestQueue,g=new s4({channelType:this.channelType,channelUrl:this.url,messageId:a,metaArrayParams:{array:s,mode:l,upsert:c}}),[4,m.send(g)];case 1:return m=b.sent(),g=m.as(Fy).message,p.dispatch(new ba({messages:[g],source:ii.EVENT_MESSAGE_UPDATED})),[2,g]}})})},Xe.prototype.createMessageMetaArrayKeys=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){return on(a instanceof po&&0<a.messageId&&vt("string",s)).throw(ye.invalidParameters),l=s.map(function(p){return new $a({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"add",!0)]})})},Xe.prototype.deleteMessageMetaArrayKeys=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){return on(a instanceof po&&0<a.messageId&&vt("string",s)).throw(ye.invalidParameters),l=s.map(function(p){return new $a({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"remove",!0)]})})},Xe.prototype.addMessageMetaArrayValues=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){return on(a instanceof po&&0<a.messageId&&s.every(function(c){return c instanceof $a})).throw(ye.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"add",!0)]})})},Xe.prototype.removeMessageMetaArrayValues=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){return on(a instanceof po&&0<a.messageId&&s.every(function(c){return c instanceof $a})).throw(ye.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"remove",!0)]})})},Xe.prototype.report=function(a,s){return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(rr(Up,a)&&fe("string",s)).throw(ye.invalidParameters),l=we.of(this._iid),c=l.sdkState,l=l.requestQueue,c=new jQ({channelUrl:this.url,channelType:this.channelType,userId:c.userId,category:a,description:s}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},Xe.prototype.reportUser=function(a,s,l){return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return on(a instanceof Kn&&rr(Up,s)&&fe("string",l)).throw(ye.invalidParameters),c=we.of(this._iid),p=c.sdkState,c=c.requestQueue,p=new VQ({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.userId,category:s,description:l}),[4,c.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.reportMessage=function(a,s,l){return F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return on(a instanceof po&&rr(Up,s)&&fe("string",l)).throw(ye.invalidParameters),c=we.of(this._iid),p=c.sdkState,c=c.requestQueue,p=new WQ({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.sender.userId,messageId:a.messageId,category:s,description:l}),[4,c.send(p)];case 1:return m.sent(),[2]}})})},Xe);function Xe(a,s){var l=this;return(l=Hy.call(this,a)||this).url="",l.channelType=yr.BASE,l.name="",l.coverUrl="",l.customType="",l.data="",l.isFrozen=!1,l.isEphemeral=!1,l.creator=null,l.createdAt=0,l.url=s.channel_url,l.name=(a=s.name)!=null?a:"",l.coverUrl=(a=s.cover_url)!=null?a:"",l.customType=(a=s.custom_type)!=null?a:"",l.data=(a=s.data)!=null?a:"",l.isFrozen=!!fe("boolean",s.freeze)&&s.freeze,l.isEphemeral=!!fe("boolean",s.is_ephemeral)&&s.is_ephemeral,l.creator=s.created_by?new Kn(l._iid,s.created_by):null,l.createdAt=1e3*s.created_at,l._cachedMetaData=new Map,s.metadata&&s.ts&&Object.keys(s.metadata).forEach(function(c){l._cachedMetaData.set(c,{value:s.metadata[c],isRemoved:!1,updatedAt:s.ts})}),l}function A4(a,s){var l=b4.call(this,a,s)||this;return l.message=new ri(a,s),l}function R4(a){var s=this,s=y4.call(this)||this,l=[],c=(a.mentionType===Bi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:om.FILE,url:a.fileUrl,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(m){return dy.payloadify(m)}):[],custom_type:a.customType,data:a.data,require_auth:a.requireAuth,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(c=a.metaArrays)==null?void 0:c.map(function(m){return $a.payloadify(m)}),apple_critical_alert_options:Bl.payloadify(a.appleCriticalAlertOptions),push_option:a.pushNotificationDeliveryOption},s}function M4(a,s){var l=E4.call(this,a,s)||this;return l.message=new Ei(a,s),l}function D4(a){var s=this,s=w4.call(this)||this,l=[],c=(a.mentionType===Bi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=Ve.POST,s.path="".concat(Lt(c),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:om.USER,message:a.message,custom_type:a.customType,data:a.data,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(c=a.metaArrays)==null?void 0:c.map(function(m){return $a.payloadify(m)}),apple_critical_alert_options:Bl.payloadify(a.appleCriticalAlertOptions),target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption},s}function U4(a,s){var l=x4.call(this,a,s)||this;return l.message=new Ei(a,s),l}function L4(p){var s=p.channelType,l=p.channelUrl,c=p.messageId,p=p.translationTargetLanguages,m=k4.call(this)||this;return m.method=Ve.POST,m.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(c),"/translation"),m.params={target_langs:p},m}function P4(a,s){return a=C4.call(this,a,s)||this,a.reactionEvent=new ry(pe({},s)),a}function F4(p){var s=p.channelType,l=p.channelUrl,c=p.messageId,p=p.reactionKey,m=S4.call(this)||this;return m.method=Ve.DELETE,m.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(c,"/reactions"),m.params={reaction:p},m}function H4(a,s){return a=N4.call(this,a,s)||this,a.reactionEvent=new ry(s),a}function q4(p){var s=p.channelType,l=p.channelUrl,c=p.messageId,p=p.reactionKey,m=T4.call(this)||this;return m.method=Ve.POST,m.path="".concat(Lt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(c,"/reactions"),m.params={reaction:p},m}function B4(a,s,l){return a=I4.call(this,a,"DELM",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.messageId=Number(l.msg_id),a}(Pn=Ea=Ea||{}).SUCCESS="success",Pn.PENDING="pending",Pn.ERROR="error",(fr=qy=qy||{}).DEFAULT="default",fr.ALL="all",fr.MENTION_ONLY="mention_only",fr.OFF="off",(vi=Va=Va||{}).FCM="gcm",vi.APNS="apns",vi.UNKNOWN="unknown",(lr=By=By||{}).ALTERNATIVE="alternative",lr.DEFAULT="default";var $l;(ze=$l=$l||{}).LATEST_LAST_MESSAGE="latest_last_message",ze.CHRONOLOGICAL="chronological",ze.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",ze.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical";function Gy(a){switch(a){case $l.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case $l.CHRONOLOGICAL:return["-createdAt","syncIndex"];case $l.CHANNEL_NAME_ALPHABETICAL:return["name"]}}wm.prototype.clone=function(){var a=new wm,s=JSON.parse(JSON.stringify(this));return Object.keys(s).forEach(function(l){a[l]=s[l]}),a},wm.prototype.match=function(a){switch(this.messageTypeFilter){case Ba.USER:if(a.messageType!==mr.USER)return!1;break;case Ba.FILE:if(a.messageType!==mr.FILE)return!1;break;case Ba.ADMIN:if(a.messageType!==mr.ADMIN)return!1}if(this.customTypesFilter&&0<this.customTypesFilter.length&&!this.customTypesFilter.includes(a.customType)||this.senderUserIdsFilter&&0<this.senderUserIdsFilter.length&&(!(a instanceof po)||!this.senderUserIdsFilter.includes(a.sender.userId)))return!1;switch(this.replyType){case Ga.NONE:if(0<a.parentMessageId)return!1;break;case Ga.ONLY_REPLY_TO_CHANNEL:if(a instanceof po&&0<a.parentMessageId&&!a.replyToChannel)return!1}return!0};var ai,Em=wm;function wm(){this.messageTypeFilter=Ba.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Ga.NONE}(Hi=ai=ai||{}).CHANNEL_LATEST="channel_latest",Hi.NEWEST_CHILD_MESSAGE="newest_child_message";function Go(a){switch(a){case ai.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ai.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}}pe(pe({},hI),{scheduledAt:null}),pe(pe({},Mr),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var $y,G4,$4,z4,j4={},V4=(Y(Gi,z4=lt),Gi.of=function(a){return j4[a]},Object.defineProperty(Gi.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a&&a.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(Gi.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),Gi.prototype._serialize=function(a){if(0<a.messageId)throw ye.invalidParameters;var s,l=pe({},a.serialize());return a instanceof Ei?(a.messageParams&&(l.messageParams=dI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},dI(s)),{scheduledAt:s.scheduledAt})))):a instanceof ri&&(a.messageParams&&(l.messageParams=pI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},pI(s)),{scheduledAt:s.scheduledAt})))),l},Gi.prototype._deserialize=function(a){return a?(a=pe(pe({},a),{messageId:parseInt(a.messageId)}),ya.of(this._iid).buildMessageFromSerializedData(a)):null},Gi.prototype.get=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},Gi.prototype.fetch=function(a){var g=a.channelUrl,s=g===void 0?null:g,g=a.filter,l=g===void 0?new Em:g,g=a.order,c=g===void 0?ai.CHANNEL_LATEST:g,g=a.sendingStatus,p=g===void 0?null:g,g=a.backward,m=g!==void 0&&g,g=a.parentMessageId,b=g===void 0?null:g;return F(this,void 0,void 0,function(){var w,O,L=this;return H(this,function(q){switch(q.label){case 0:return this.localCacheEnabled?(O=Go(c),w={"/where":function(G){return!!(c!==ai.NEWEST_CHILD_MESSAGE||b&&G.parentMessageId!==0&&G.parentMessageId===b)&&l.match(L._deserialize(G))}},s&&(w.channelUrl=s),p&&(w.sendingStatus=p),w={where:w,index:O,backward:m},[4,this.collection.query(w)]):[3,3];case 1:return[4,q.sent().fetch({})];case 2:return O=q.sent(),[2,Promise.all(O.map(function(G){return F(L,void 0,void 0,function(){var re,ae,K,ne,me,_e;return H(this,function(Se){switch(Se.label){case 0:return re=ya.of(this._iid),ae=this._deserialize(G),(K=G.messageParams)?ae instanceof Ei?(ae.messageParams=re.buildUserMessageCreateParamsFromSerializedData(K,ae),[3,4]):[3,1]:[3,4];case 1:return ae instanceof ri?K.fileKey&&typeof K.fileKey=="string"&&wy(K.fileType)?(ne=K,[4,this.collection.getBlob(K.fileKey)]):[3,3]:[3,4];case 2:ne.file=Se.sent(),Se.label=3;case 3:ae.messageParams=re.buildFileMessageCreateParamsFromSerializedData(K,ae),Se.label=4;case 4:return ae.scheduledInfo&&G.scheduledInfo&&G.scheduledInfo.scheduledMessageParams?ae instanceof Ei?(me=G.scheduledInfo.scheduledMessageParams,ae.scheduledInfo.scheduledMessageParams=re.buildScheduledUserMessageCreateParamsFromSerializedData(me,ae),[3,8]):[3,5]:[3,8];case 5:return ae instanceof ri?(me=G.scheduledInfo.scheduledMessageParams).fileKey&&typeof me.fileKey=="string"&&wy(me.fileType)?(_e=me,[4,this.collection.getBlob(me.fileKey)]):[3,7]:[3,8];case 6:_e.file=Se.sent(),Se.label=7;case 7:ae.scheduledInfo.scheduledMessageParams=re.buildScheduledFileMessageCreateParamsFromSerializedData(me,ae),Se.label=8;case 8:return[2,ae]}})})}))];case 3:return[2,[]]}})})},Gi.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Em),F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,this.fetch({filter:s,order:ai.NEWEST_CHILD_MESSAGE,channelUrl:a.channelUrl,backward:!1,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},Gi.prototype.upsert=function(a){return F(this,void 0,void 0,function(){var s,l=this;return H(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,3];case 1:return c.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})},Gi.prototype.upsertChildMessages=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(c){return F(s,void 0,void 0,function(){var p,m;return H(this,function(g){switch(g.label){case 0:return p=[],0<((m=c.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(c)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(c)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},Gi.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=zn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(c=l.value,[4,this.collection.remove(c)]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return c=g.sent(),p={error:c},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},Gi.prototype.removeMessagesOfChannel=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a}})]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},Gi.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},Gi.prototype.saveBlobs=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(c){return F(s,void 0,void 0,function(){var p,m,g;return H(this,function(b){switch(b.label){case 0:return c instanceof ri?c.messageParams&&(p=c.messageParams).file&&Ey(p.file)?[4,this.collection.saveBlob(p.file,c.reqId)]:[3,2]:[3,4];case 1:g=b.sent(),p.fileKey=g,p.fileType=Td.BLOB,b.label=2;case 2:return c.scheduledInfo&&c.scheduledInfo.scheduledMessageParams&&(m=c.scheduledInfo.scheduledMessageParams).file&&Ey(m.file)?[4,this.collection.saveBlob(m.file,c.reqId)]:[3,4];case 3:g=b.sent(),m.fileKey=g,m.fileType=Td.BLOB,b.label=4;case 4:return[2]}})})}))];case 1:return l.sent(),[2]}})})},Gi),W4={},lY=(Y(si,$4=lt),si.of=function(a){return W4[a]},Object.defineProperty(si.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a?a.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(si.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),si.prototype._serialize=function(a){return pe(pe({},a.serialize()),{messageId:"".concat(a.messageId)})},si.prototype._deserialize=function(a){return a=pe(pe({},a),{messageId:parseInt(a.messageId)}),ya.of(this._iid).buildMessageFromSerializedData(a)},si.prototype.get=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},si.prototype.fetch=function(a){var s=a.channelUrl,l=a.token,b=a.limit,c=b===void 0?100:b,b=a.filter,p=b===void 0?new Em:b,b=a.order,m=b===void 0?ai.CHANNEL_LATEST:b,b=a.backward,g=b!==void 0&&b,b=a.parentMessageId,w=b===void 0?null:b;return F(this,void 0,void 0,function(){var O,L=this;return H(this,function(q){switch(q.label){case 0:return this.localCacheEnabled?(O=Go(m),O={where:{channelUrl:s,"/where":function(G){if(l)switch(m){case ai.CHANNEL_LATEST:if(!g&&G.createdAt>l||g&&G.createdAt<l)return!1;break;case ai.NEWEST_CHILD_MESSAGE:if(!w||G.parentMessageId===0||G.parentMessageId!==w)return!1}return p.match(L._deserialize(G))}},index:O,backward:g},[4,this.collection.query(O)]):[3,3];case 1:return[4,q.sent().fetch({limit:c})];case 2:return O=q.sent(),[2,Promise.all(O.map(function(G){return F(L,void 0,void 0,function(){var re,ae,K;return H(this,function(ne){switch(ne.label){case 0:return re=this._deserialize(G),(ae=G.messageParams)?re instanceof Ei?(re.messageParams=ae,[3,4]):[3,1]:[3,4];case 1:return re instanceof ri?ae.fileKey&&typeof ae.fileKey=="string"&&wy(ae.fileType)?(K=ae,[4,this.collection.getBlob(ae.fileKey)]):[3,3]:[3,4];case 2:K.file=ne.sent(),ne.label=3;case 3:re.messageParams=ae,ne.label=4;case 4:return[2,re]}})})}))];case 3:return[2,[]]}})})},si.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Em),F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,this.fetch({channelUrl:a.channelUrl,token:Date.now(),limit:null,backward:!1,filter:s,order:ai.NEWEST_CHILD_MESSAGE,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},si.prototype.upsert=function(a){return F(this,void 0,void 0,function(){var s,l=this;return H(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,5];case 1:return c.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:return c.sent(),[4,this.upsertChildMessages(a)];case 3:return c.sent(),[4,this._unsentMessageCache.upsertChildMessages(a)];case 4:c.sent(),c.label=5;case 5:return[2]}})})},si.prototype.upsertChildMessages=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(c){return F(s,void 0,void 0,function(){var p,m;return H(this,function(g){switch(g.label){case 0:return p=[],0<((m=c.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(c)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(c)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},si.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=zn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(c=l.value,[4,this.collection.remove("".concat(c))]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return c=g.sent(),p={error:c},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},si.prototype.removeMessagesOfChannel=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a},index:Go(ai.CHANNEL_LATEST)})]:[3,6];case 1:return l.sent(),[4,(s=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync"))];case 2:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync.meta"))];case 3:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs"))];case 4:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs.meta"))];case 5:l.sent(),l.label=6;case 6:return[2]}})})},si.prototype.removeUnderOffset=function(a,s){return F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a,createdAt:{"<":s}},index:Go(ai.CHANNEL_LATEST)})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},si.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},si.prototype.countBetween=function(a,s,l){return F(this,void 0,void 0,function(){var c,p=this;return H(this,function(m){switch(m.label){case 0:return this.localCacheEnabled?(c=Go(ai.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:a,"/where":function(g){return g=p._deserialize(g),l.includes(g.createdAt)&&s.match(g)}},index:c}).count()]):[3,2];case 1:return[2,m.sent()];case 2:return[2,0]}})})},si.prototype.saveBlobs=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(c){return F(s,void 0,void 0,function(){var p,m;return H(this,function(g){switch(g.label){case 0:return c instanceof ri&&c.messageParams&&(p=c.messageParams).file&&Ey(p.file)?[4,this.collection.saveBlob(p.file,c.reqId)]:[3,2];case 1:m=g.sent(),p.fileKey=m,g.label=2;case 2:return[2]}})})}))];case 1:return l.sent(),[2]}})})},si),uY=(Y(Q4,G4=_i),Q4),zy={},K4=($o.of=function(a){return zy[a]},$o.prototype.processNonAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=g.sent();try{for(s=zn(a),l=s.next();!l.done;l=s.next())(c=l.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",c.reqId),c.sendingStatus=ir.FAILED,c.errorCode=Jn.ACK_TIMEOUT,this._dispatcher.dispatch(new ba({messages:[c],source:ii.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}}return[2]}})})},$o.prototype.processAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=w.sent();try{for(s=zn(a),l=s.next();!l.done;l=s.next())(c=l.value).errorCode&&J0(c.errorCode)&&(p=new Date().getTime(),m=c.createdAt+2592e5,p<=m?this._autoResendQueue.map(function(O){return O.reqId}).indexOf(c.reqId)<0&&this._autoResendQueue.push(c):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(m).toLocaleString()),c.sendingStatus=ir.FAILED,this._dispatcher.dispatch(new ba({messages:[c],source:ii.LOCAL_MESSAGE_FAILED}))))}catch(O){g={error:O}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2]}})})},$o.prototype.completeCurrentAndProcessNextAutoResend=function(a){this._localCacheEnabled&&(a.sendingStatus===ir.SUCCEEDED||a.sendingStatus===ir.FAILED&&!J0(a.errorCode))&&(0<=(a=this.indexOf(a))&&this._autoResendQueue.splice(a,1),a===0&&this._processNextAutoResend())},$o.prototype._fetchAllCachedPendingMessages=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return(a=V4.of(this._iid))?[4,a.fetch({sendingStatus:ir.PENDING,backward:!0})]:[3,2];case 1:return s=l.sent(),[3,3];case 2:s=[],l.label=3;case 3:return[2,s]}})})},$o.prototype.indexOf=function(a){return 0<this._autoResendQueue.length?this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId):-1},$o.prototype._isNotInQueue=function(a){return this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId)===-1},$o.prototype._processNextAutoResend=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{0<this._autoResendQueue.length?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),a=this._autoResendQueue[0],this._dispatcher.dispatch(new uY({message:a})),this._logger.debug("processing auto-resend for message request id: ",a.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(l){this._logger.warn("process auto-resend error: ",l),this._isProcessingAutoResend=!1}return[2]})})},$o);function $o(a,m){var l=m.localCacheEnabled,c=m.dispatcher,p=m.sdkState,m=m.logger,g=this;(zy[a]=this)._iid=a,(zy[a]=this)._localCacheEnabled=l,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=c,this._logger=m,this._sdkState=p,this._localCacheEnabled&&c.on(function(b){if(b instanceof Ed)switch(b.stateType){case Xt.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case Xt.DISCONNECTED:g._isProcessingAutoResend=!1}})}function Q4(s){var s=s.message,l=G4.call(this)||this;return l.message=s,l}function si(a,p){var l=p.sdkState,c=p.cacheContext,p=p.unsentMessageCache,m=$4.call(this,a)||this;return m._sdkState=l,m._cacheContext=c,m._unsentMessageCache=p,W4[a]=m}function Gi(a,c){var l=c.sdkState,c=c.cacheContext,p=z4.call(this,a)||this;return p._sdkState=l,p._cacheContext=c,j4[a]=p}($r=$y=$y||{})[$r.USER_BLOCK=20001]="USER_BLOCK",$r[$r.USER_UNBLOCK=2e4]="USER_UNBLOCK",$r[$r.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED",jy.getDataAsUserBlockEvent=function(a,c){var c=c.data,l=c.blocker,c=c.blockee;return{blocker:new Kn(a,l),blockee:new Kn(a,c)}},jy.getDataAsFriendDiscoveredEvent=function(a,s){return s=s.data.friend_discoveries,{friendDiscoveries:Array.isArray(s)?s.map(function(l){return new Kn(a,l)}):[]}};var Y4,X4,J4,Z4,eO,nO,tO=jy,cY=(Y(lO,nO=_i),lO),dY=(Y(oO,eO=ur),oO),hY=(Y(sO,Z4=Qe),sO),pY=(Y(aO,J4=Ze),aO),fY=(Y(iO,X4=Qe),iO),mY=(Y(rO,Y4=Ze),rO);function rO(a,s){return a=Y4.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function iO(l){var s=l.userId,l=l.pushTriggerOption,c=X4.call(this)||this;return c.method=Ve.PUT,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),c.params={push_trigger_option:l},c}function aO(a,s){return a=J4.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function sO(s){var s=s.userId,l=Z4.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function oO(a,s,l){return a=eO.call(this,a,"USEV",l)||this,a.event=new tO(l),a}function lO(a,l){var l=l.userId,c=nO.call(this)||this;return c._iid=a,c.userId=l,c}function jy(a){this.category=a.cat,this.data=a.data}var Vy,uO,cO,dO,hO,pO,gY={profileImage:null,profileUrl:null,nickname:null},vY=(Y(function(){return Vy!==null&&Vy.apply(this,arguments)||this},Vy=lt),Y(Od,hO=em),Object.defineProperty(Od.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),Od.prototype._toggleState=function(){var a=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){a._pauseDelayTimer=null,a.dispatch("pause")},3e4)),this._currentState=document.visibilityState},Od.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},Od.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},Od),_Y=(Object.defineProperty(nc.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),nc.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},nc.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},nc.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},nc.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},nc.prototype.isOnline=function(){return F(this,void 0,void 0,function(){return H(this,function(a){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(s,l){fetch("https://www.google.com",{method:Ve.GET}).then(function(){return s(!0)}).catch(function(){return s(!1)})})]})})},nc),fO=(Y(_O,dO=Qe),_O),mO=(Y(vO,cO=Ze),vO),bY=(Y(gO,uO=Qe),gO);function gO(l){var s=l.userId,l=l.token,c=uO.call(this)||this;return c.method=Ve.POST,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns"),c.params={apns_device_token:l,always_push:!0},c}function vO(a,s){var l=cO.call(this,a,s)||this;return l.user=null,l.user=new Kn(a,pe({},s)),l}function _O(m){var s=m.userId,l=m.nickname,l=l===void 0?null:l,c=m.profileUrl,c=c===void 0?null:c,p=m.profileImage,p=p===void 0?null:p,m=m.preferredLanguages,m=m===void 0?null:m,g=dO.call(this)||this;return g.method=Ve.PUT,g.path="".concat(xt,"/").concat(encodeURIComponent(s)),g.params=Gn({nickname:l,profile_url:c,profile_file:p,preferred_languages:m}),g}function nc(l){var s=l.logger,l=l.connectionDelegate,l=l===void 0?null:l;this.logger=s,l&&(this.connectionDelegate=l),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}function Od(){var a=hO.call(this)||this;return a._pauseDelayTimer=null,a._currentState="visible",a._toggleState=a._toggleState.bind(a),a}Y(function(a,s){var l=pO.call(this,a,s)||this;return l.token=s.token,l.type=s.type?Va[s.type.toLowerCase()]:Va.UNKNOWN,l.user=new Kn(a,s.user),l},pO=Ze),Y(EO,bO=Qe);var bO,yO,yY=EO;function EO(l){var s=l.userId,l=l.token,c=bO.call(this)||this;return c.method=Ve.POST,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm"),c.params={gcm_reg_token:l,always_push:!0},c}Y(function(a,s){var l=yO.call(this,a,s)||this;return l.token=s.token,l.type=s.type?Va[s.type.toLowerCase()]:Va.UNKNOWN,l.user=new Kn(a,s.user),l},yO=Ze),Y(kO,wO=Qe);var wO,xO,EY=kO;function kO(l){var s=l.userId,l=l.token,c=wO.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns/").concat(encodeURIComponent(l)),c}Y(function(a,s){var l=xO.call(this,a,s)||this;return l.token=s.token,l.user=new Kn(a,s.user),l},xO=Ze),Y(NO,CO=Qe);var CO,SO,wY=NO;function NO(l){var s=l.userId,l=l.token,c=CO.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm/").concat(encodeURIComponent(l)),c}Y(function(a,s){var l=SO.call(this,a,s)||this;return l.token=s.token,l.user=new Kn(a,s.user),l},SO=Ze),Y(OO,TO=Qe);var TO,IO,xY=OO;function OO(s){var s=s.userId,l=TO.call(this)||this;return l.method=Ve.DELETE,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns"),l}Y(function(a,s){var l=IO.call(this,a,s)||this;return l.type=s.type?Va[s.type.toLowerCase()]:Va.UNKNOWN,l.user=new Kn(a,s.user),l},IO=Ze),Y(MO,AO=Qe);var AO,RO,kY=MO;function MO(s){var s=s.userId,l=AO.call(this)||this;return l.method=Ve.DELETE,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm"),l}Y(function(a,s){var l=RO.call(this,a,s)||this;return l.type=s.type?Va[s.type.toLowerCase()]:Va.UNKNOWN,l.user=new Kn(a,s.user),l},RO=Ze),Y(cA,KO=Qe);var DO,UO,LO,PO,FO,HO,qO,BO,GO,$O,zO,jO,VO,WO,KO,QO,CY=cA,SY=(Y(uA,WO=Ze),uA),NY=(Y(lA,VO=Qe),lA),TY=(Y(oA,jO=Ze),oA),IY=(Y(sA,zO=Qe),sA),OY=(Y(aA,$O=Ze),aA),AY=(Y(iA,GO=Qe),iA),RY=(Y(rA,BO=Ze),rA),MY=(Y(tA,qO=Qe),tA),DY=(Y(nA,HO=Ze),nA),UY=(Y(eA,FO=Qe),eA),LY=(Y(ZO,PO=Ze),ZO),PY=(Y(JO,LO=Qe),JO),FY=(Y(XO,UO=Ze),XO),HY=(Y(YO,DO=Qe),YO);function YO(l){var s=l.userId,l=l.blockedUserId,c=DO.call(this)||this;return c.method=Ve.POST,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/block"),c.params={target_id:l},c}function XO(a,s){return a=UO.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function JO(p){var s=p.userId,l=p.snoozeOn,c=p.startTs,p=p.endTs,m=LO.call(this)||this;return m.method=Ve.PUT,m.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),m.params={snooze_enabled:l,snooze_start_ts:c,snooze_end_ts:p},m}function ZO(a,s){return a=PO.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function eA(s){var s=s.userId,l=FO.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function nA(a,s){return a=HO.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function tA(b){var s=b.userId,l=b.doNotDisturbOn,c=b.startHour,p=b.startMin,m=b.endHour,g=b.endMin,b=b.timezone,w=qO.call(this)||this;return w.method=Ve.PUT,w.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),w.params={do_not_disturb:l,start_hour:c,start_min:p,end_hour:m,end_min:g,timezone:b},w}function rA(a,s){return a=BO.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function iA(s){var s=s.userId,l=GO.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function aA(a,s){return a=$O.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function sA(l){var s=l.userId,l=l.willAutoAccept,c=zO.call(this)||this;return c.method=Ve.PUT,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),c.params={auto_accept:l},c}function oA(a,s){return a=jO.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function lA(s){var s=s.userId,l=VO.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),l}function uA(a,s){return a=WO.call(this,a,s)||this,a.pushTokens={type:s.type?Va[s.type.toLowerCase()]:Va.UNKNOWN,deviceTokens:s.device_tokens,hasMore:s.has_more,token:s.token},a}function cA(p){var s=p.userId,l=p.type,c=p.token,p=p.ts,m=KO.call(this)||this;return m.method=Ve.GET,m.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/").concat(encodeURIComponent(l),"/device_tokens"),m.params={created_ts:p,token:c},m}Y(function(a,s){var l=QO.call(this,a,s)||this;return l.user=new Kn(a,s),l},QO=Ze),Y(hA,dA=Qe);var dA,Wy,qY=hA;function hA(l){var s=l.userId,l=l.unblockedUserId,c=dA.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/block/").concat(encodeURIComponent(l)),c}Y(function(){return Wy!==null&&Wy.apply(this,arguments)||this},Wy=Ze),Y(OA,EA=Qe);var pA,fA,mA,gA,vA,_A,bA,yA,EA,Ky,BY=OA,GY=(Y(IA,yA=Ze),IA),$Y=(Y(TA,bA=Qe),TA),zY=(Y(NA,_A=Ze),NA),jY=(Y(SA,vA=Qe),SA),VY=(Y(CA,gA=Ze),CA),WY=(Y(kA,mA=Qe),kA),KY=(Y(xA,fA=Ze),xA),QY=(Y(wA,pA=Qe),wA);function wA(l){var s=l.userId,l=l.discoveryKeys,c=pA.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friend_discoveries"),c.params={friend_discovery_keys:l},c}function xA(a,s){return a=fA.call(this,a,s)||this,a.friendDiscoveryRequestId=s.friend_discovery_request_id,a}function kA(l){var s=l.userId,l=l.discoveries,c=mA.call(this)||this;return c.method=Ve.PUT,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friend_discoveries"),c.params={friend_discoveries:l.map(function(p){return{friend_discovery_key:p.friendDiscoveryKey,friend_name:p.friendName}})},c}function CA(a,s){var l=gA.call(this,a,s)||this;return l.changelogs={addedUsers:s.added.map(function(c){return new Kn(a,c)}),updatedUsers:s.updated.map(function(c){return new Kn(a,c)}),deletedUserIds:s.deleted,hasMore:s.has_more,token:s.next},l}function SA(l){var s=l.userId,l=l.token,c=vA.call(this)||this;return c.method=Ve.GET,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends/changelogs"),c.params={token:l},c}function NA(a,s){return a=_A.call(this,a,s)||this,a.name=s.name,a}function TA(l){var s=l.userId,l=l.templateName,c=bA.call(this)||this;return c.method=Ve.PUT,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/template"),c.params={name:l},c}function IA(a,s){return a=yA.call(this,a,s)||this,a.name=s.name,a}function OA(s){var s=s.userId,l=EA.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/template"),l}Y(function(){return Ky!==null&&Ky.apply(this,arguments)||this},Ky=Ze),Y(LA,MA=Qe);var AA,RA,MA,Qy,YY=LA,XY=(Y(UA,RA=Ze),UA),JY=(Y(DA,AA=Qe),DA);function DA(l){var s=l.userId,l=l.userIds,c=AA.call(this)||this;return c.method=Ve.DELETE,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),c.params={user_ids:l},c}function UA(a,s){var l=RA.call(this,a,s)||this;return l.users=s.users.map(function(c){return new Kn(a,c)}),l}function LA(l){var s=l.userId,l=l.userIds,c=MA.call(this)||this;return c.method=Ve.POST,c.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),c.params={user_ids:l},c}Y(function(){return Qy!==null&&Qy.apply(this,arguments)||this},Qy=Ze),Y(GA,HA=Qe);var PA,FA,HA,Yy,ZY=GA,eX=(Y(BA,FA=Ze),BA),nX=(Y(qA,PA=Qe),qA);function qA(l){var s=l.userId,l=l.allowFriendDiscovery,c=PA.call(this)||this;return c.method=Ve.PUT,c.path="".concat(xt,"/").concat(s,"/allow_friend_discovery"),c.params={allow_friend_discovery:l},c}function BA(a,s){return a=FA.call(this,a,s)||this,a.allowFriendDiscovery=s.allow_friend_discovery,a}function GA(s){var s=s.userId,l=HA.call(this)||this;return l.method=Ve.GET,l.path="".concat(xt,"/").concat(s,"/allow_friend_discovery"),l.params={},l}Y(function(){return Yy!==null&&Yy.apply(this,arguments)||this},Yy=Ze);function tX(a){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=a.emoji_hash||"",this.emojiCategories=a.emoji_categories?a.emoji_categories.map(function(s){return new tR(s)}):[]}var qt,xm,$A,zA,Xy,jA,VA,Jy,WA,KA,QA,YA,XA,JA,ZA,eR,nR=function(a){this.key=null,this.url=null,this.key=a.key,this.url=a.url},tR=function(a){var s;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(s=a.id)!=null?s:0,this.name=(s=a.name)!=null?s:"",this.url=(s=a.url)!=null?s:"",this.emojis=a.emojis?a.emojis.map(function(l){return new nR(l)}):[]},rX=(Y(mR,eR=Qe),mR),iX=(Y(fR,ZA=Ze),fR),aX=(Y(pR,JA=Qe),pR),sX=(Y(hR,XA=Ze),hR),oX=(Y(dR,YA=Qe),dR),lX=(Y(cR,QA=Ze),cR),uX=(Y(uR,KA=Qe),uR),cX=(Y(lR,WA=Ze),lR),dX=(Y(Tm,Jy=tn),Tm.prototype._validate=function(){return Jy.prototype._validate.call(this)&&vt("string",this.userIdsFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)&&vt("string",this.metaDataValuesFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)},Tm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new uX(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(cX),l=s.users,c=s.next,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},Tm),hX=(Y(oR,VA=Qe),oR),pX=(Y(sR,jA=Ze),sR),fX=(Y(Nm,Xy=tn),Nm.prototype._validate=function(){return Xy.prototype._validate.call(this)&&vt("string",this.userIdsFilter,!0)},Nm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new hX(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(pX),l=s.users,c=s.next,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},Nm),mX=(Y(aR,zA=Qe),aR),gX=(Y(iR,$A=Ze),iR),vX=(Y(Sm,xm=tn),Sm.prototype._validate=function(){return xm.prototype._validate.call(this)},Sm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p;return H(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new mX(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(gX),l=s.users,c=s.hasMore,p=s.next,this._token=p,this._hasNext=c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},Sm),km={},Cm=(rR.get=function(a){return km[a]},rR);function rR(w){var s=w.dbname,l=w.itemSizeLimit,c=w.cacheLimit,c=c===void 0?256:c,p=w.blockHashBase,p=p===void 0?2:p,m=w.blockHashMultiplier,m=m===void 0?10:m,g=w.blockHashConstant,g=g===void 0?11:g,b=w.transactionApplyDelay,b=b===void 0?200:b,w=w.disableLogger,w=w!==void 0&&w;return km[s]||(this.itemSizeLimit=l===void 0?1048576:l,this.cacheLimit=c,this.blockHashBase=p,this.blockHashMultiplier=m,this.blockHashConstant=g,this.transactionApplyDelay=b,this.disableLogger=w,km[s]=this),km[s]}function Sm(){return xm!==null&&xm.apply(this,arguments)||this}function iR(a,s){var l=$A.call(this,a,s)||this;return l.hasMore=s.has_more,l.users=s.users.map(function(c){return new Kn(a,c)}),l.next=s.next,l}function aR(c){var s=c.userId,l=c.limit,c=c.token,p=zA.call(this)||this;return p.method=Ve.GET,p.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),p.params={limit:l,token:c},p}function Nm(a,s){var l=this;return(l=Xy.call(this,a,s)||this).userIdsFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l}function sR(a,s){var l=jA.call(this,a,s)||this;return l.users=s.users.map(function(c){return new Kn(a,c)}),l.next=s.next,l}function oR(p){var s=p.userId,l=p.limit,c=p.token,p=p.userIdsFilter,m=VA.call(this)||this;return m.method=Ve.GET,m.path="".concat(xt,"/").concat(s,"/block"),m.params=Gn({limit:l,token:c,user_ids:p}),m}function Tm(a,s){var l=this;return(l=Jy.call(this,a,s)||this).userIdsFilter=null,l.metaDataKeyFilter=null,l.metaDataValuesFilter=null,l.nicknameStartsWithFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l.metaDataKeyFilter=(a=s.metaDataKeyFilter)!=null?a:null,l.metaDataValuesFilter=(a=s.metaDataValuesFilter)!=null?a:null,l.nicknameStartsWithFilter=s.nicknameStartsWithFilter||null,l}function lR(a,s){var l=WA.call(this,a,s)||this;return l.users=s.users.map(function(c){return new Kn(a,c)}),l.next=s.next,l}function uR(g){var s=g.limit,l=g.token,c=g.userIdsFilter,p=g.metaDataKeyFilter,m=g.metaDataValuesFilter,g=g.nicknameStartsWithFilter,b=KA.call(this)||this;return b.method=Ve.GET,b.path=xt,b.params=Gn({limit:s,token:l,user_ids:c,metadatakey:p,metadatavalues_in:m,nickname_startswith:g}),b}function cR(a,s){return a=QA.call(this,a,s)||this,a.emoji=new nR(s),a}function dR(s){var s=s.key,l=YA.call(this)||this;return l.method=Ve.GET,l.path="".concat(TK,"/").concat(s),l}function hR(a,s){return a=XA.call(this,a,s)||this,a.emojiCategory=new tR(s),a}function pR(s){var s=s.categoryId,l=JA.call(this)||this;return l.method=Ve.GET,l.path="".concat(IN,"/").concat(s),l}function fR(a,s){return a=ZA.call(this,a,s)||this,a.emojiContainer=new tX(s),a}function mR(){var a=eR.call(this)||this;return a.method=Ve.GET,a.path=IN,a}(Ye=qt=qt||{})[Ye.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",Ye[Ye.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",Ye[Ye.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",Ye[Ye.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",Ye[Ye.STORE_IS_FULL=61001003]="STORE_IS_FULL",Ye[Ye.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",Ye[Ye.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",Ye[Ye.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",Ye[Ye.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",Ye[Ye.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",Ye[Ye.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",Ye[Ye.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",Ye[Ye.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",Ye[Ye.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",Ye[Ye.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",Ye[Ye.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",Ye[Ye.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",Ye[Ye.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",Ye[Ye.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",Ye[Ye.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",Ye[Ye.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",Ye[Ye.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",Ye[Ye.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",Ye[Ye.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",Ye[Ye.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND",Y(Un,gR=Error),Object.defineProperty(Un,"storeNotDefined",{get:function(){return new Un({code:qt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeNotAvailable",{get:function(){return new Un({code:qt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeNotAvailableInPrivateBrowsing",{get:function(){return new Un({code:qt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeIsFull",{get:function(){return new Un({code:qt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeKeyTypeIsInvalid",{get:function(){return new Un({code:qt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeBrokenIntegrity",{get:function(){return new Un({code:qt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeBrokenBlob",{get:function(){return new Un({code:qt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeEncryptionInvalid",{get:function(){return new Un({code:qt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeItemSizeExceeded",{get:function(){return new Un({code:qt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeReadFailed",{get:function(){return new Un({code:qt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"storeWriteFailed",{get:function(){return new Un({code:qt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"databaseSchemaNotOnUpgrade",{get:function(){return new Un({code:qt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionNotReady",{get:function(){return new Un({code:qt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionKeyNotMatch",{get:function(){return new Un({code:qt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionQueryNotValid",{get:function(){return new Un({code:qt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionInsertDuplicate",{get:function(){return new Un({code:qt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionKeyNotFound",{get:function(){return new Un({code:qt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionKeyNotGiven",{get:function(){return new Un({code:qt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionWriteFailed",{get:function(){return new Un({code:qt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"collectionItemSizeExceeded",{get:function(){return new Un({code:qt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"indexTableIsRequired",{get:function(){return new Un({code:qt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"indexTypesNotMatch",{get:function(){return new Un({code:qt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"compareTypesNotMatch",{get:function(){return new Un({code:qt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(Un,"circularReferenceFound",{get:function(){return new Un({code:qt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0});var Ad,gR,pt=Un;function Un(l){var s=l.code,s=s===void 0?qt.UNKNOWN_ERROR:s,l=l.message,l=gR.call(this,l===void 0?"Unknown error occurred.":l)||this;return l.code=s,Object.setPrototypeOf(l,Un.prototype),l}(Nt=Ad=Ad||{}).INIT="init",Nt.READY="ready",Nt.CLOSED="closed";function ia(a,s){if(s===void 0&&(s=new WeakMap),typeof a!="object"||a===null)return a;if(s.has(a))throw pt.circularReferenceFound;s.set(a,!0);var l=null;if(Array.isArray(a))l=a.map(function(p){return ia(p,s)});else if(a instanceof RegExp)l=a;else if(a instanceof Date)l=a;else for(var c in l={},a)l[c]=ia(a[c],s);return s.delete(a),l}function zo(a,s){if(s==null)return 1;if(a==null)return-1;if(typeof a!=typeof s)throw pt.compareTypesNotMatch;var l=0;switch(typeof a){case"boolean":case"number":l=a-s;break;case"string":l=a.localeCompare(s)}return l}function Rd(a){return new Promise(function(s){setTimeout(function(){return s()},a)})}function tc(a,s){if(s){if(typeof a=="function")return a(s);for(var l in a)if(["/and","&&"].includes(l)){if(a[l].some(function(w){return!tc(w,s)}))return}else if(["/or","||"].includes(l)){if(a[l].every(function(w){return!tc(w,s)}))return}else if(l==="/where"){if(!(0,a[l])(s))return}else{var c=l;if(typeof a[c]=="object"){var p,m=a[c];for(p in m)switch(p){case"/eq":case"=":if((g=s[c])!==(b=m[p]))return;break;case"/neq":case"!=":if((g=s[c])===(b=m[p]))return;break;case"/gt":case">":var g=s[c],b=m[p];if(0<zo(g,b))break;return;case"/gte":case">=":if(g=s[c],b=m[p],0<=zo(g,b))break;return;case"/lt":case"<":if(g=s[c],b=m[p],zo(g,b)<0)break;return;case"/lte":case"<=":if(g=s[c],b=m[p],zo(g,b)<=0)break;return;case"/in":if(g=s[c],(b=m[p]).includes(g))break;return;case"/nin":if(g=s[c],(b=m[p]).includes(g))return;break;case"/contain":if(g=s[c],b=m[p],g.includes(b))break;return;case"/regex":if(g=s[c],(b=m[p]).test(g))break;return;case"/where":if(g=s[c],!(0,m[p])(g))return}}else if(typeof a[c]=="function"){if(!a[c](s[c]))return}else if(a[c]!==s[c])return}return 1}}function Im(){}function vR(){return Promise.resolve()}function _X(a){return a}function _R(a,s){s(null)}var bR=function(a,s){for(var l=0,c=0;c<a.length;c++)l=a.charCodeAt(c)+(l<<6)+(l<<16)-l;return(l>>>0)%s};function Zy(a,s){return"".concat(ic(a,s),".metadata")}function e1(a,s){return"".concat(ic(a,s),"/block.")}function yR(a,s){return"".concat(ic(a,s),"/blob.")}function n1(a,s,l,c){return c===void 0&&(c=0),"".concat(yR(a,s)).concat(l,".").concat(c)}Object.defineProperty(jo.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),jo.prototype.prev=function(){return F(this,void 0,void 0,function(){var a,s,l;return H(this,function(c){switch(c.label){case 0:if(!this.hasPrevious)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),a=this._prevValue,[4,(s=this)._backward()];case 2:return s._prevValue=c.sent()||null,this._nextValue=a,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},jo.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l;return H(this,function(c){switch(c.label){case 0:if(!this.hasNext)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),a=this._nextValue,[4,(s=this)._forward()];case 2:return s._nextValue=c.sent()||null,this._prevValue=a,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},jo.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()};var rc,wi,fo,bX=jo,t1=(a1.prototype.findOptimizedStartPosition=function(){var a=this,s=["=","/eq",">",">=","/gt","/gte"],l=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var c=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var m=this._indexer.fields[p],g=1;if(m[0]==="-"&&(m=m.slice(1),g=-1),this.condition[m]){if(typeof this.condition[m]=="object"){var b,w=0<g?l:s;for(b in this.condition[m])if(w.includes(b)){for(var O=c;0<=O;O--)if(g*zo(this._indexer.origin[O].columnValues[p],this.condition[m][b])<=0){c=O;break}}}else for(O=c;0<=O;O--)if(g*zo(this._indexer.origin[O].columnValues[p],this.condition[m])<=0){c=O;break}}}return Math.min(c+1,this._indexer.origin.length-1)}var L=0;if(typeof this.condition!="function")for(var q=this,p=0;p<this._indexer.fields.length;p++)(function(re){var ae=q._indexer.fields[re],K=1;if(ae[0]==="-"&&(ae=ae.slice(1),K=-1),q.condition[ae]){if(typeof q.condition[ae]=="object")Object.keys(q.condition[ae]).forEach(function(me){if((0<K?s:l).includes(me)){for(var _e=L;_e<a._indexer.origin.length;_e++)if(0<=K*zo(a._indexer.origin[_e].columnValues[re],a.condition[ae][me])){L=_e;break}}});else for(var ne=L;ne<q._indexer.origin.length;ne++)if(0<=K*zo(q._indexer.origin[ne].columnValues[re],q.condition[ae])){L=ne;break}}})(p);return Math.max(L-1,0)},a1.prototype.each=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w=this;return H(this,function(O){switch(O.label){case 0:if(s=this.findOptimizedStartPosition(),l=0,this.backward&&this._indexer.origin[s]&&(l=this._indexer.origin[s].keys.length-1),c=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[++l]){if(!w._indexer.origin[++s])return!1;l=0}return!0}return!1},p=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[--l]){if(!w._indexer.origin[--s])return!1;l=w._indexer.origin[s].keys.length-1}return!0}return!1},m=null,!this._indexer.origin[s])return[3,4];g=this.backward?p:c,O.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])];case 2:if(b=O.sent(),tc(this.condition,b))return m=b,[3,4];O.label=3;case 3:if(g())return[3,1];O.label=4;case 4:return[4,new Promise(function(L){L=new bX({initialNextValue:ia(m),iterator:a,forward:function(){return F(w,void 0,void 0,function(){var q,G;return H(this,function(re){switch(re.label){case 0:q=this.backward?p:c,re.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=re.sent(),tc(this.condition,G)?[2,ia(G)]:[3,1];case 3:return[2,null]}})})},backward:function(){return F(w,void 0,void 0,function(){var q,G;return H(this,function(re){switch(re.label){case 0:q=this.backward?c:p,re.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=re.sent(),tc(this.condition,G)?[2,ia(G)]:[3,1];case 3:return[2,null]}})})},complete:L}),a(L)})];case 5:return[2,O.sent()]}})})},a1),yX=(i1.prototype.fetch=function(a){return a===void 0&&(a={}),F(this,void 0,void 0,function(){var s,l,c,p,m=this;return H(this,function(g){switch(g.label){case 0:if(s=Math.max(a.offset||0,0),(l=typeof a.limit=="number"?a.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(l<0)throw pt.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),c=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return F(m,void 0,void 0,function(){return H(this,function(w){return!b.error&&b.hasNext?s===0?(c.push(b.nextValue),0<l&&l<=c.length?b.stop():b.next()):(s--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,c];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},i1.prototype.count=function(){return F(this,void 0,void 0,function(){var a,s,l=this;return H(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a=0,[4,this._mutex.lock()];case 1:return c.sent(),[4,this._iterator.each(function(p){return F(l,void 0,void 0,function(){return H(this,function(m){return!p.error&&p.hasNext?(a++,p.next()):p.stop(),[2]})})})];case 2:return c.sent(),this._mutex.unlock(),[2,a];case 3:throw s=c.sent(),this._mutex.unlock(),s;case 4:return[2]}})})},i1),r1=function(a){return"".concat("nest","@").concat(a)},ic=function(a,s){return"".concat(r1(a),"/").concat(s)},EX=(zl.prototype._makeShards=function(a,s){var l=Math.max(this._store.itemSizeLimit-1024,0);if(0<l){for(var c=Math.ceil(a.data.length/l),c="".concat(c,".").concat(a.type,".").concat(s),p=[],m=0;m<a.data.length;m+=l){var g=a.data.slice(m,m+l);p.push(g)}return{blobId:c,shards:p}}return{blobId:null,shards:null}},zl.prototype._encode=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l){var c=new FileReader;c.onload=function(){l({data:c.result,type:a.type})},c.readAsDataURL(a)})];case 1:return[2,s.sent()]}})})},zl.prototype._decode=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g;return H(this,function(b){switch(b.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(a.data)];case 1:return[4,b.sent().blob()];case 2:return[2,b.sent()];case 3:for(s=[],l=atob(a.data.split(",")[1]),c=0;c<l.length;c+=512){for(p=l.slice(c,c+512),m=new Array(p.length),g=0;g<p.length;g++)m[g]=p.charCodeAt(g);s.push(new Uint8Array(m))}return[2,new Blob(s,{type:a.type})]}})})},zl.prototype.get=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:if(s=[],l=tr(a.split("."),2),c=l[0],l=l[1],!(0<(c=parseInt(c))))return[3,6];p=0,g.label=1;case 1:return p<c?(m=n1(this.dbname,this.collectionName,a,p),[4,this._store.get(m)]):[3,4];case 2:if(!(m=g.sent())||!m.d)throw pt.storeBrokenBlob;s.push(m.d),g.label=3;case 3:return p++,[3,1];case 4:return[4,this._decode({data:s.join(""),type:l})];case 5:return[2,g.sent()];case 6:return[2,null]}})})},zl.prototype.save=function(a,s){return s===void 0&&(s="".concat(Date.now())),F(this,void 0,void 0,function(){var l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return l=[],[4,this._encode(a)];case 1:if(c=w.sent(),c=this._makeShards(c,s),p=c.blobId,m=c.shards,!p)return[3,3];for(g=0;g<m.length;g++)b=n1(this.dbname,this.collectionName,p,g),l.push({key:b,value:{d:m[g]},generation:1});return[4,this._store.setMany(l)];case 2:if(w.sent().some(function(O){return O instanceof Error}))throw pt.storeWriteFailed;return[2,p];case 3:return[2,null]}})})},zl.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s,l,c,p;return H(this,function(m){switch(m.label){case 0:if(s=[],l=tr(a.split("."),1),l=l[0],!(0<(c=parseInt(l))))return[3,2];for(p=0;p<c;p++)s.push(n1(this.dbname,this.collectionName,a,p));return[4,this._store.removeMany(s)];case 1:m.sent(),m.label=2;case 2:return[2]}})})},zl.prototype.clear=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return a=yR(this.dbname,this.collectionName),s=[],[4,this._store.getAllKeys()];case 1:l=w.sent();try{for(c=zn(l),p=c.next();!p.done;p=c.next())(m=p.value).startsWith(a)&&s.push(m)}catch(O){g={error:O}}finally{try{p&&!p.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}}return[4,this._store.removeMany(l)];case 2:return w.sent(),[2]}})})},zl);function zl(c){var s=c.dbname,l=c.collectionName,c=c.store;this.dbname=s,this.collectionName=l,this._store=c}function i1(m){var s=m.condition,s=s===void 0?{}:s,l=m.backward,l=l!==void 0&&l,c=m.mutex,p=m.blockManager,m=m.indexer;this._mutex=c,this._iterator=new t1({condition:s,backward:l,blockManager:p,indexer:m})}function a1(p){var s=p.condition,l=p.backward,l=l!==void 0&&l,c=p.blockManager,p=p.indexer;this.condition=s===void 0?{}:s,this.backward=l,this._blockManager=c,this._indexer=p}function jo(b){var s=b.initialPrevValue,l=b.initialNextValue,l=l===void 0?null:l,c=b.iterator,p=b.map,p=p===void 0?_X:p,m=b.backward,m=m===void 0?vR:m,g=b.forward,g=g===void 0?vR:g,b=b.complete,b=b===void 0?Im:b;this._prevValue=s===void 0?null:s,this._nextValue=l,this._error=null,this._map=p,this._backward=m,this._forward=g,this._iterator=c,this._complete=b}(Yt=rc=rc||{})[Yt.COMMIT=0]="COMMIT",Yt[Yt.WRITE=1]="WRITE",Yt[Yt.ERROR=2]="ERROR",(pr=wi=wi||{}).PENDING="pending",pr.PERSISTENT="persistent",pr.VOLATILE="volatile",(dt=fo=fo||{})[dt.NO_CACHE=0]="NO_CACHE",dt[dt.DEFAULT=1]="DEFAULT",dt[dt.PERSISTENT=2]="PERSISTENT";var ER=[wi.PENDING,wi.VOLATILE],Om={},ls=(Wo.get=function(a){return Om[a]},Object.defineProperty(Wo.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Wo.prototype.find=function(a,s,l){return l===void 0&&(l=fo.DEFAULT),F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return(c=this.get(s))?[3,2]:[4,a.get(s)];case 1:return(p=m.sent())&&(c={key:s,value:p,generation:1,state:l===fo.PERSISTENT?wi.PERSISTENT:wi.VOLATILE},this.put(c)),[3,3];case 2:l===fo.PERSISTENT&&(c.state=wi.PERSISTENT),m.label=3;case 3:return[2,c]}})})},Wo.prototype.get=function(l,s){s===void 0&&(s=fo.DEFAULT);var l=this._items.map(function(c){return c.key}).indexOf(l);return-1<l?(l=this._items[l],s===fo.PERSISTENT&&(l.state=wi.PERSISTENT),s!==fo.NO_CACHE&&this.put(l),l):null},Wo.prototype.put=function(a){var s,l;if(0<this._limit){var c=this._items.map(function(O){return O.key}).indexOf(a.key);if(-1<c)ER.includes(this._items[c].state)&&ER.includes(a.state)?(this._items.splice(c,1),this._items.push(a)):(this._items[c].state=a.state,this._items[c].generation=a.generation,this._items[c].value=a.value);else{this._items.push(a);var p=this._items.filter(function(O){return O.state===wi.VOLATILE}).length-this._limit;if(0<p){var m=[];try{for(var g=zn(this._items),b=g.next();!b.done;b=g.next()){var w=b.value;w.state===wi.VOLATILE&&0<p?p--:m.push(w)}}catch(O){s={error:O}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}this._items=m}}}},Wo.prototype.remove=function(a){a=this._items.map(function(s){return s.key}).indexOf(a),-1<a&&this._items.splice(a,1)},Wo.prototype.clearByCondition=function(a){this._items=this._items.filter(function(s){return!a(s)})},Wo.prototype.clear=function(a){this._items=(a=a===void 0?!1:a)?[]:this._items.filter(function(s){return s.state!==wi.VOLATILE})},Wo),wX=(Object.defineProperty(us.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(us.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),us.prototype._getReducedRecordset=function(a){return a===void 0&&(a=[]),F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(s=l.sent()||[]).push.apply(s,br([],tr(a),!1)),[2,this._reduceRecordSet(s)]}})})},us.prototype._reduceRecordSet=function(a){for(var s=[],l={},c=a.length-1;0<=c;c--){for(var p=a[c],m=[],g=p.requests.length-1;0<=g;g--){var b=p.requests[g],w=b.data;l[w.key]||(m.unshift(b),l[w.key]=!0)}0<m.length&&(p.requests=m,s.unshift(p))}return s},us.prototype._applyRecord=function(a,s){return F(this,void 0,void 0,function(){var l,c,p,m,g,b,w,O;return H(this,function(L){switch(L.label){case 0:l=ls.get(this.dbname),c=s.generation,p=s.requests,m=null,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(q){return pe(pe({},q.data),{generation:c})}))];case 2:for(g=L.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(m=m||g[b],w=p[b].data,l.put(pe(pe({},w),{generation:c,state:wi.PERSISTENT})));return[3,4];case 3:return O=L.sent(),m=O,[3,4];case 4:return m?[3,6]:(O=a.filter(function(q){return q.generation!==c}),[4,this._store.set({key:this.recordsetKey,value:O,generation:c})]);case 5:return L.sent(),this._onWrite.forEach(function(q){q(p.map(function(G){return G.data}))}),[3,7];case 6:this._onError.forEach(function(q){return q(m)}),L.label=7;case 7:return[2]}})})},us.prototype.init=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g;return H(this,function(b){switch(b.label){case 0:return[4,(a=this)._store.get(this.metadataKey)];case 1:return a._metadata=b.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:s=b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),l=zn(s),c=l.next(),b.label=4;case 4:return c.done?[3,7]:(p=c.value,[4,this._applyRecord(s,p)]);case 5:b.sent(),b.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),m={error:p},[3,10];case 9:try{c&&!c.done&&(g=l.return)&&g.call(l)}finally{if(m)throw m.error}return[7];case 10:return[2]}})})},us.prototype.on=function(a,s,l){switch(a){case rc.COMMIT:this._onCommit.set(s,l);break;case rc.WRITE:this._onWrite.set(s,l);break;case rc.ERROR:this._onError.set(s,l)}},us.prototype.requestWrite=function(a,s){this._requests.push({data:a,options:s=s===void 0?null:s}),ls.get(this.dbname).put(pe({state:wi.PENDING,generation:this.generation},a))},us.prototype.requestMultipleWrite=function(a,s){s===void 0&&(s=null);var l,c,p=ls.get(this.dbname);try{for(var m=zn(a),g=m.next();!g.done;g=m.next()){var b=g.value;this._requests.push({data:b,options:s}),p.put(pe({state:wi.PENDING,generation:this.generation},b))}}catch(w){l={error:w}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}},us.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){return ls.get(this.dbname).clearByCondition(function(s){return s.state===wi.PENDING}),this._requests=[],[2]})})},us.prototype.commit=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b,w,O,L,q=this;return H(this,function(G){switch(G.label){case 0:if(!(0<(a=this._requests).length))return[3,4];for(s=[],l={},b=a.length-1;0<=b;b--)c=a[b],w=c.data,l[w.key]||(l[w.key]=!0,s.unshift(c));return p={generation:this.generation,requests:s},[4,this._getReducedRecordset([p])];case 1:return m=G.sent(),[4,this._store.set({key:this.recordsetKey,value:m,generation:this.generation})];case 2:return G.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(G.sent(),g=ls.get(this.dbname),b=0;b<s.length;b++)O=s[b],w=O.data,O=O.options,g.put(pe(pe({},w),{generation:p.generation,state:O&&O.persistent?wi.PERSISTENT:wi.VOLATILE}));this._requests=[],this._onCommit.forEach(function(re){re(a.map(function(ae){return ae.data}))}),L=Cm.get(this.dbname),setTimeout(function(){try{q._applyRecord(m,p)}catch(re){q._onError.forEach(function(ae){return ae(re)})}},L.transactionApplyDelay),G.label=4;case 4:return[2]}})})},us),Am=(Us.createFromCacheItem=function(a){return a?new Us(a.value):null},Object.defineProperty(Us.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Us.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Us.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},Us.prototype.getItemByKey=function(a){var s=this;return this._items.find(function(l){return l=l[s.keyName],a===l})},Us.prototype.has=function(a){var s=this;return this._items.map(function(l){return l[s.keyName]}).includes(a)},Us.prototype.add=function(a){var s=this,l=this._items.map(function(c){return c[s.keyName]}).indexOf(a[this.keyName]);return l<0?this._items.length<this.limit&&(this._items.push(a),!0):(this._items[l]=a,!0)},Us.prototype.remove=function(a){for(var s in this._items)if(this._items[s][this.keyName]===a)return this._items.splice(parseInt(s),1),!0;return!1},Us.prototype.clear=function(){this._items=[]},Us),xX=(Object.defineProperty(Vl.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),Vl.prototype.createBlockId=function(a,s){return s===void 0&&(s=this.metadata.blockLevel),l=this.dbname,c=this.collectionName,p=s,a="".concat(function(m,g,b){return g=b.base*Math.pow(b.multiplier,g)+b.constant,(b.hashFunction||bR)(m,g)}(a,s,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(e1(l,c)).concat(p,".").concat(a);var l,c,p},Vl.prototype._findBlock=function(a){return F(this,void 0,void 0,function(){var s,l,c,p;return H(this,function(m){switch(m.label){case 0:s=ls.get(this.dbname),l=this.metadata.blockLevel,m.label=1;case 1:return 0<l?(c=this.createBlockId(a,l),[4,s.find(this._store,c)]):[3,4];case 2:if((c=m.sent())&&(p=Am.createFromCacheItem(c)).getItemByKey(a))return[2,p];m.label=3;case 3:return l--,[3,1];case 4:return[2,null]}})})},Vl.prototype.getFromBlock=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return[2,(s=l.sent())?s.getItemByKey(a):null]}})})},Vl.prototype.putToBlock=function(a,s){return F(this,void 0,void 0,function(){var l,c,p;return H(this,function(m){switch(m.label){case 0:return c=Cm.get(this.dbname),l=this.createBlockId(a),c=Math.floor(this._store.itemSizeLimit/c.itemSizeLimit),[4,ls.get(this.dbname).find(this._store,l)];case 1:return p=m.sent(),(p=p?Am.createFromCacheItem(p):new Am({blockId:l,keyName:this.keyName,items:[],limit:c})).add(s)?(this._transaction.requestWrite({key:p.blockId,value:p.serialize()}),[2,!0]):[2,!1]}})})},Vl.prototype.removeFromBlock=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return(s=l.sent())&&s.remove(a)?(this._transaction.requestWrite({key:s.blockId,value:s.serialize()}),[2,!0]):[2,!1]}})})},Vl.prototype.clearAllBlocks=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return a=e1(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return s=w.sent(),s=s.filter(function(O){return O.startsWith(a)}),[4,this._store.removeMany(s)];case 2:w.sent(),l=ls.get(this.dbname);try{for(c=zn(s),p=c.next();!p.done;p=c.next())m=p.value,l.remove(m)}catch(O){g={error:O}}finally{try{p&&!p.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}}return[2]}})})},Vl),jl=(xi.createKey=function(a){return a.join(">")},xi.parseKey=function(a){return a.split(">")},xi.prototype._addItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),c=tr(this.indexOf(l),2),p=c[0];return c[1]?!this._table[p].keys.includes(s)&&(this._table[p].keys.push(s),!0):(this._table.splice(p,0,{columnValues:l,keys:[s]}),!0)},xi.prototype._removeItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),l=tr(this.indexOf(l),2),c=l[0];return l[1]&&(l=this._table[c].keys.indexOf(s),-1<l)?(this._table[c].keys.splice(l,1),this._table[c].keys.length===0&&this._table.splice(c,1),!0):!1},Object.defineProperty(xi.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(xi.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),xi.prototype.getColumnValues=function(a){var s,l,c=[];try{for(var p=zn(this.fields),m=p.next();!m.done;m=p.next()){var g,b=m.value,w=a[b=b[0]==="-"?b.slice(1):b];if(g=typeof w,w!==null&&g!="undefined"&&g!="boolean"&&g!="number"&&g!="string")throw pt.indexTypesNotMatch;c.push(a[b])}}catch(O){s={error:O}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return c},xi.prototype.diff=function(a,s){for(var l in this.fields){var c=this.fields[l][0]==="-"?-1:1,l=zo(a[l],s[l]);if(l!==0)return c*l}return 0},xi.prototype.indexOf=function(a){if(0<this._table.length){for(var s=0,l=this._table.length-1;s<=l;){var c=Math.floor((s+l)/2),p=this.diff(a,this._table[c].columnValues);if(0<p)s=c+1;else{if(!(p<0))return[c,!0];l=c-1}}return[s,!1]}return[0,!1]},xi.prototype.ensure=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b,w,O,L,q,G,re,ae;return H(this,function(K){switch(K.label){case 0:return[4,(a=ls.get(this.dbname)).find(this._store,this.indexerKey,fo.PERSISTENT)];case 1:return(s=K.sent())?[3,11]:(l=e1(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:c=K.sent(),K.label=3;case 3:K.trys.push([3,8,9,10]),p=zn(c),m=p.next(),K.label=4;case 4:return m.done?[3,7]:(g=m.value).startsWith(l)?[4,a.find(this._store,g,fo.NO_CACHE)]:[3,6];case 5:g=K.sent(),L=Am.createFromCacheItem(g);try{for(re=void 0,b=zn(L.items),w=b.next();!w.done;w=b.next())O=w.value,this._addItem(O)}catch(ne){re={error:ne}}finally{try{w&&!w.done&&(ae=b.return)&&ae.call(b)}finally{if(re)throw re.error}}K.label=6;case 6:return m=p.next(),[3,4];case 7:return[3,10];case 8:return L=K.sent(),q={error:L},[3,10];case 9:try{m&&!m.done&&(G=p.return)&&G.call(p)}finally{if(q)throw q.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=s.value,this._table=ia(this._origin),K.label=12;case 12:return[2]}})})},xi.prototype.drop=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return ls.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return a.sent(),[2]}})})},xi.prototype.addItem=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return this._addItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.removeItem=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return this._removeItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.commit=function(){this._origin=this._table,this._table=ia(this._origin)},xi.prototype.abort=function(){this._table=ia(this._origin)},xi),Vo=typeof document<"u"&&typeof navigator<"u";function xi(g){var s=g.dbname,l=g.collectionName,c=g.keyName,p=g.fields,m=g.transaction,g=g.store,b=this;this._origin=[],this._table=[],this.dbname=s,this.collectionName=l,this.keyName=c,this.fields=p,this.indexerKey=(s=this.dbname,l=this.collectionName,c=this.fields.join(">"),"".concat(ic(s,l),"/index.").concat(c)),this._transaction=m,this._store=g,this._transaction.on(rc.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(rc.ERROR,this.indexerKey,function(){return b.abort()})}function Vl(g){var s=g.dbname,l=g.collectionName,c=g.metadata,p=g.hashFunction,p=p===void 0?bR:p,m=g.transaction,g=g.store;this.dbname=s,this.collectionName=l,this.hashFunction=p,this.metadata=c,this._transaction=m,this._store=g}function Us(p){var s=p.blockId,l=p.keyName,c=p.items,c=c===void 0?[]:c,p=p.limit;this.blockId=s,this.keyName=l,this.limit=p,this._items=br([],tr(c),!1)}function us(c){var s=c.dbname,l=c.collectionName,c=c.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=s,this.collectionName=l,this.metadataKey="".concat(ic(s,l),"/trans.metadata"),this.recordsetKey="".concat(ic(s,l),"/trans.recordset"),this._store=c}function Wo(l){var s=l.dbname,l=l.limit,l=l===void 0?256:l;return Om[s]||(this.dbname=s,this._items=[],this._limit=l,Om[s]=this),Om[s]}Vo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var kX=Vo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Vo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Vo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Vo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");function wR(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}var Lp,ki,CX=Vo&&navigator.userAgent&&navigator.userAgent.includes("Edge/");(rt=Lp=Lp||{})[rt.PROCESSING=0]="PROCESSING",rt[rt.DONE=1]="DONE",(Sn=ki=ki||{}).NEWNODE="newnode",Sn.REMOVENODE="removenode",Sn.CLAIM_HOST="claimhost",Sn.SYNC_HOST="synchost",Sn.REQUEST_LOCK="requestlock",Sn.ACQUIRE_LOCK="acquirelock",Sn.RELEASE_LOCK="releaselock";var Ko,s1={},xR=(Object.defineProperty($i.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty($i.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty($i.prototype,"isInSync",{get:function(){return this._state==Lp.DONE},enumerable:!1,configurable:!0}),$i.prototype._send=function(c,s){var l,c={nodeId:this.nodeId,requestId:(l=(s=s===void 0?{}:s)==null?void 0:s.requestId)!=null?l:wR(),key:this.key,op:c,data:(l=s.data)!=null?l:null,ts:Date.now()};return Vo&&window.postMessage(c,"*"),c},$i.prototype._acquire=function(a){(a=a===void 0?null:a)?(this._currentItem=a,this._currentItem.onAcquired(a.requestId)):this._currentItem=null},$i.prototype._release=function(a){var s,l;this._currentItem&&this._currentItem.requestId===a&&(s=this._currentItem,this._currentItem=null,s.nodeId===this.nodeId&&this._send(ki.RELEASE_LOCK,{requestId:s.requestId}),-1<(l=this._queue.findIndex(function(c){return c.requestId===a}))&&this._queue.splice(l,1),s.onReleased(a))},$i.prototype._requestLock=function(a){var s=this;return new Promise(function(l){var c,p={nodeId:a.nodeId,requestId:a.requestId,ts:a.ts,onAcquired:function(g){s.isHost&&s._send(ki.ACQUIRE_LOCK,{requestId:g}),l()},onReleased:function(){s._acquire(s._queue[0])}},m=!1;for(c in s._queue)if(s._queue[c].ts>p.ts){s._queue.splice(parseInt(c),0,p),m=!0;break}m||s._queue.push(p),s._currentItem||s._acquire(s._queue[0])})},$i.prototype._sendSync=function(){var a;this.isHost&&this._send(ki.SYNC_HOST,{data:{currentItemRequestId:(a=this._currentItem)==null?void 0:a.requestId,queue:this._queue.map(function(s){return{nodeId:s.nodeId,requestId:s.requestId,ts:s.ts}})}})},$i.prototype._waitUntilSyncCompleted=function(){return F(this,void 0,void 0,function(){var a=this;return H(this,function(s){return this.isHost&&!this.isInSync?[2,new Promise(function(l){a._activationQueue.push(l)})]:[2]})})},$i.prototype._waitSync=function(){var a=this;this.isInSync||(this._activationTimeout=setTimeout(function(){a._completeSync()},8))},$i.prototype._completeSync=function(){this.isInSync||(this._state=Lp.DONE,this._activationQueue.forEach(function(a){return a()}),this._activationQueue=[])},$i.prototype.registerNode=function(){this._send(ki.NEWNODE),this._waitSync()},$i.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ki.CLAIM_HOST),this._waitSync()},$i.prototype.lock=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return s.sent(),a=this._send(ki.REQUEST_LOCK),[4,this._requestLock(a)];case 2:return s.sent(),[2]}})})},$i.prototype.unlock=function(){var a;this._release((a=this._currentItem)==null?void 0:a.requestId)},$i),o1=(Bt.metadataOf=function(a,s,l){return F(this,void 0,void 0,function(){var c;return H(this,function(p){switch(p.label){case 0:return c=Zy(a,s),[4,l.get(c)];case 1:return[2,p.sent()]}})})},Object.defineProperty(Bt.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(Bt.prototype,"isReady",{get:function(){return this._state===Ad.READY},enumerable:!1,configurable:!0}),Bt.prototype.init=function(){return F(this,void 0,void 0,function(){var a,s,l,c,p,m,g,b,w,O,L,q,G,re=this;return H(this,function(ae){switch(ae.label){case 0:return[4,this._mutex.lock()];case 1:ae.sent(),ae.label=2;case 2:return ae.trys.push([2,9,,10]),a=Cm.get(this.dbname),[4,Bt.metadataOf(this.dbname,this.name,this._store)];case 3:return s=ae.sent(),this._metadata=s||{keyName:this.keyName,blockLevel:1,blockHashBase:a.blockHashBase,blockHashMultiplier:a.blockHashMultiplier,blockHashConstant:a.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:ae.sent(),this._blockManager=new xX({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),l=br([],tr(this.indexes),!1),c=[],p=l.map(function(K){return jl.createKey(K)}),m=s?s.indexes.map(function(K){return jl.createKey(K)}):[];try{for(g=zn(m),b=g.next();!b.done;b=g.next())w=b.value,p.includes(w)||c.push(jl.parseKey(w))}catch(K){q={error:K}}finally{try{b&&!b.done&&(G=g.return)&&G.call(g)}finally{if(q)throw q.error}}return(O=[]).push.apply(O,br([],tr(l.map(function(K){return K=new jl({dbname:re.dbname,collectionName:re.name,keyName:re.keyName,fields:K,transaction:re._transaction,store:re._store}),re._indexers.push(K),K.ensure()})),!1)),O.push.apply(O,br([],tr(c.map(function(K){return new jl({dbname:re.dbname,collectionName:re.name,keyName:re.keyName,fields:K,transaction:re._transaction,store:re._store}).drop()})),!1)),[4,Promise.all(O)];case 5:return ae.sent(),[4,this._transaction.commit()];case 6:return ae.sent(),p.sort().join(",")===m.sort().join(",")?[3,8]:(O=Zy(this.dbname,this.name),this._metadata.indexes=l,[4,this._store.set({key:O,value:this._metadata,generation:1})]);case 7:ae.sent(),ae.label=8;case 8:return this._state=Ad.READY,this._mutex.unlock(),[3,10];case 9:throw L=ae.sent(),this._mutex.unlock(),L;case 10:return[2]}})})},Bt.prototype.close=function(){this._state=Ad.CLOSED},Bt.prototype._hasPropertyOfKeyName=function(a){return a=a[this.keyName],typeof a=="string"&&!!a},Bt.prototype._getIndexerBy=function(a){a=(a=a===void 0?null:a)||[this.keyName];var s,l,c=jl.createKey(a);try{for(var p=zn(this._indexers),m=p.next();!m.done;m=p.next()){var g=m.value;if(c===jl.createKey(g.fields))return g}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return null},Bt.prototype._upgradeBlockLevel=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return a=Zy(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:a,value:this._metadata,generation:1})];case 1:return s.sent(),[2]}})})},Bt.prototype._requestInsert=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return g.sent()?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return g.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return g.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:g.sent(),g.label=5;case 5:g.trys.push([5,10,11,12]),l=zn(this._indexers),c=l.next(),g.label=6;case 6:return c.done?[3,9]:[4,c.value.addItem(a)];case 7:g.sent(),g.label=8;case 8:return c=l.next(),[3,6];case 9:return[3,12];case 10:return p=g.sent(),p={error:p},[3,12];case 11:try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 12:return[3,14];case 13:throw pt.collectionInsertDuplicate;case 14:return[2]}})})},Bt.prototype._requestUpsert=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L,q;return H(this,function(G){switch(G.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=G.sent())?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return G.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return G.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:G.sent(),G.label=5;case 5:G.trys.push([5,10,11,12]),c=zn(this._indexers),p=c.next(),G.label=6;case 6:return p.done?[3,9]:[4,(b=p.value).addItem(a)];case 7:G.sent(),G.label=8;case 8:return p=c.next(),[3,6];case 9:return[3,12];case 10:return w=G.sent(),w={error:w},[3,12];case 11:try{p&&!p.done&&(O=c.return)&&O.call(c)}finally{if(w)throw w.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(s,a)];case 14:G.sent(),G.label=15;case 15:G.trys.push([15,21,22,23]),m=zn(this._indexers),g=m.next(),G.label=16;case 16:return g.done?[3,20]:(b=g.value).diff(b.getColumnValues(l),b.getColumnValues(a))===0?[3,19]:[4,b.removeItem(l)];case 17:return G.sent(),[4,b.addItem(a)];case 18:G.sent(),G.label=19;case 19:return g=m.next(),[3,16];case 20:return[3,23];case 21:return L=G.sent(),L={error:L},[3,23];case 22:try{g&&!g.done&&(q=m.return)&&q.call(m)}finally{if(L)throw L.error}return[7];case 23:return[2]}})})},Bt.prototype._requestUpdate=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=w.sent())?[4,this._blockManager.putToBlock(s,a)]:[3,11];case 2:w.sent(),w.label=3;case 3:w.trys.push([3,9,10,11]),c=zn(this._indexers),p=c.next(),w.label=4;case 4:return p.done?[3,8]:(m=p.value).diff(m.getColumnValues(l),m.getColumnValues(a))===0?[3,7]:[4,m.removeItem(l)];case 5:return w.sent(),[4,m.addItem(a)];case 6:w.sent(),w.label=7;case 7:return p=c.next(),[3,4];case 8:return[3,11];case 9:return g=w.sent(),g={error:g},[3,11];case 10:try{p&&!p.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}return[7];case 11:return[2]}})})},Bt.prototype._requestRemove=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:return[4,this._blockManager.getFromBlock(a)];case 1:return(s=g.sent())?[4,this._blockManager.removeFromBlock(a)]:[3,10];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,8,9,10]),l=zn(this._indexers),c=l.next(),g.label=4;case 4:return c.done?[3,7]:[4,c.value.removeItem(s)];case 5:g.sent(),g.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return p=g.sent(),p={error:p},[3,10];case 9:try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 10:return[2]}})})},Bt.prototype._requestClear=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:p.sent(),p.label=2;case 2:p.trys.push([2,7,8,9]),a=zn(this._indexers),s=a.next(),p.label=3;case 3:return s.done?[3,6]:[4,s.value.clear()];case 4:p.sent(),p.label=5;case 5:return s=a.next(),[3,3];case 6:return[3,9];case 7:return l=p.sent(),l={error:l},[3,9];case 8:try{s&&!s.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}return[7];case 9:return[2]}})})},Bt.prototype.getByKey=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(a)];case 3:return s=l.sent(),this._mutex.unlock(),[2,ia(s)];case 4:throw s=l.sent(),this._mutex.unlock(),s;case 5:return[3,7];case 6:throw pt.collectionNotReady;case 7:return[2]}})})},Bt.prototype.query=function(a){return a===void 0&&(a={}),this.isReady?new yX({condition:a.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(a.index),backward:!!a.backward}):null},Bt.prototype.insertOne=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestInsert(ia(a))];throw pt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},Bt.prototype.insertMany=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b=this;return H(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(O){return!b._hasPropertyOfKeyName(O)}))throw pt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=zn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestInsert(ia(c))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return c=w.sent(),m={error:c},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw pt.collectionNotReady;case 16:return[2]}})})},Bt.prototype.upsertOne=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpsert(ia(a))];throw pt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},Bt.prototype.upsertMany=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b=this;return H(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(O){return!b._hasPropertyOfKeyName(O)}))throw pt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=zn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestUpsert(ia(c))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return c=w.sent(),m={error:c},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw pt.collectionNotReady;case 16:return[2]}})})},Bt.prototype.update=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpdate(ia(a))];throw pt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},Bt.prototype.updateIf=function(a,s){return F(this,void 0,void 0,function(){var l,c,p,m,g,b,w,O,L,q=this;return H(this,function(G){switch(G.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:G.sent(),G.label=2;case 2:return G.trys.push([2,13,,15]),b=a.where,l=b===void 0?{}:b,b=a.index,b=b===void 0?null:b,g=a.backward,g=g!==void 0&&g,c=[],[4,new t1({condition:l,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(b)}).each(function(re){return F(q,void 0,void 0,function(){var ae,K;return H(this,function(ne){if(re.error)throw re.stop(),re.error;if(re.hasNext){if(ae=re.nextValue,tc(l,ae)&&s.set){if(typeof s.set!="function")for(K in s.set)ae[K]=s.set[K];else s.set(ae);c.push(ae)}re.next()}else re.stop();return[2]})})})];case 3:G.sent(),G.label=4;case 4:G.trys.push([4,9,10,11]),p=zn(c),m=p.next(),G.label=5;case 5:return m.done?[3,8]:(g=m.value,[4,this._requestUpdate(ia(g))]);case 6:G.sent(),G.label=7;case 7:return m=p.next(),[3,5];case 8:return[3,11];case 9:return b=G.sent(),O={error:b},[3,11];case 10:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(O)throw O.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return G.sent(),this._mutex.unlock(),[2,c];case 13:return w=G.sent(),[4,this._transaction.clear()];case 14:throw G.sent(),this._mutex.unlock(),w;case 15:return[3,17];case 16:throw this._transaction.clear(),pt.collectionNotReady;case 17:return[2]}})})},Bt.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this._requestRemove(a)];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[3,7];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},Bt.prototype.removeIf=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L=this;return H(this,function(q){switch(q.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:q.sent(),q.label=2;case 2:return q.trys.push([2,13,,14]),g=a.where,s=g===void 0?{}:g,g=a.index,g=g===void 0?null:g,m=a.backward,m=m!==void 0&&m,l=[],[4,new t1({condition:s,blockManager:this._blockManager,backward:m,indexer:this._getIndexerBy(g)}).each(function(G){return F(L,void 0,void 0,function(){var re;return H(this,function(ae){if(G.error)throw G.stop(),G.error;return G.hasNext?(re=G.nextValue,tc(s,re)&&(re=re[this.keyName],l.push(re)),G.next()):G.stop(),[2]})})})];case 3:q.sent(),q.label=4;case 4:q.trys.push([4,9,10,11]),c=zn(l),p=c.next(),q.label=5;case 5:return p.done?[3,8]:(m=p.value,[4,this._requestRemove(m)]);case 6:q.sent(),q.label=7;case 7:return p=c.next(),[3,5];case 8:return[3,11];case 9:return g=q.sent(),w={error:g},[3,11];case 10:try{p&&!p.done&&(O=c.return)&&O.call(c)}finally{if(w)throw w.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return q.sent(),this._mutex.unlock(),[2,l];case 13:throw b=q.sent(),this._mutex.unlock(),b;case 14:return[3,16];case 15:throw this._transaction.clear(),pt.collectionNotReady;case 16:return[2]}})})},Bt.prototype.clear=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return s.sent(),[4,this._transaction.commit()];case 4:return s.sent(),this._mutex.unlock(),[3,7];case 5:return a=s.sent(),[4,this._transaction.clear()];case 6:throw s.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},Bt.prototype.getBlob=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.get(a)];case 1:return[2,s.sent()]}})})},Bt.prototype.saveBlob=function(a,s){return s===void 0&&(s=null),F(this,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.save(a,s)];case 1:return[2,l.sent()]}})})},Bt.prototype.removeBlob=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.remove(a)];case 1:return s.sent(),[2]}})})},Bt.prototype.removeAllBlobs=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,this._blobContainer.clear()];case 1:return a.sent(),[2]}})})},Bt),wa={},Rm=(Object.defineProperty(Ps.prototype,"rawData",{get:function(){return wa[this.dbname]},set:function(a){wa[this.dbname]=a},enumerable:!1,configurable:!0}),Ps.prototype.observe=function(a,s,l){var c=this;this.observer[a]={},s.forEach(function(p){return c.observer[a][p]=l})},Ps.prototype.init=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:this.dbname=a,wa[this.dbname]={},l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(bi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(bi.value))throw pt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(bi)];case 4:return l.sent(),[7];case 5:return[2]}})})},Ps.prototype.getAllKeys=function(){return F(this,void 0,void 0,function(){return H(this,function(a){return[2,Object.keys(wa[this.dbname]).filter(function(s){return s!==bi.key})]})})},Ps.prototype.get=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,Rd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.get?s.get(a):null)throw s;return[2,wa[this.dbname][a]?this._encryption.decrypt(wa[this.dbname][a]):null]}})})},Ps.prototype.set=function(a){return F(this,void 0,void 0,function(){var s,l,c;return H(this,function(p){switch(p.label){case 0:return[4,Rd(this.delay)];case 1:if(p.sent(),s=a.key,c=a.value,l=this.observer[s],l=l&&l.set?l.set(s):null)throw l;if(l=this._encryption.encrypt(c),c=JSON.stringify(l),s===bi.key||c.length<this.itemSizeLimit)return wa[this.dbname][s]=l,[2,wa[this.dbname][s]];throw pt.storeItemSizeExceeded}})})},Ps.prototype.setMany=function(a){return F(this,void 0,void 0,function(){var s,l=this;return H(this,function(c){switch(c.label){case 0:return[4,Rd(this.delay)];case 1:return c.sent(),s=[],a.forEach(function(b){var m,g=b.key,b=b.value,w=l.observer[g];w&&w.set&&w.set(g)?s.push(pt.collectionWriteFailed):(w=l._encryption.encrypt(b),m=JSON.stringify(w),g===bi.key||m.length<l.itemSizeLimit?(wa[l.dbname][g]=w,s.push(b)):s.push(pt.storeItemSizeExceeded))}),[2,s]}})})},Ps.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,Rd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.remove?s.remove(a):null)throw s;return wa[this.dbname][a]&&delete wa[this.dbname][a],[2,a]}})})},Ps.prototype.removeMany=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b;return H(this,function(w){switch(w.label){case 0:return[4,Rd(this.delay)];case 1:w.sent();try{for(s=zn(a),l=s.next();!l.done;l=s.next()){if(c=l.value,p=this.observer[c],m=p&&p.remove?p.remove(c):null)throw m;wa[this.dbname][c]&&delete wa[this.dbname][c]}}catch(O){g={error:O}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2,a]}})})},Ps.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,Rd(this.delay)];case 1:return a.sent(),wa[this.dbname]={},[2]}})})},Ps),SX=(Qo.prototype.init=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:return this.dbname=a,[4,new Promise(function(m,g){var b;c._window&&Vo?kX?((b=c._indexedDB.open("_testMozilla")).onerror=function(){return g(pt.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return m()}):CX?c._window.indexedDB||!c._window.PointerEvent&&!c._window.MSPointerEvent||g(pt.storeNotAvailableInPrivateBrowsing):m():g(pt.storeNotAvailable)})];case 1:return p.sent(),s=this,[4,new Promise(function(m,g){var b=c._indexedDB.open(a);b.addEventListener("upgradeneeded",function(w){w.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(w){return m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 2:s._database=p.sent(),p.label=3;case 3:return p.trys.push([3,,5,7]),[4,this.get(bi.key)];case 4:if((l=p.sent())&&JSON.stringify(l)!==JSON.stringify(bi.value))throw pt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(bi)];case 6:return p.sent(),[7];case 7:return[2]}})})},Qo.prototype.getAllKeys=function(){return F(this,void 0,void 0,function(){var a=this;return H(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,c){var p=a._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();p.addEventListener("success",function(m){l(m.target.result.filter(function(g){return g!==bi.key}))}),p.addEventListener("error",function(m){return c(m.target.error)})})];case 1:return[2,s.sent()]}})})},Qo.prototype.get=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,p){var m=s._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(a);m.addEventListener("success",function(g){return c(g.target.result?s._encryption.decrypt(g.target.result.value):null)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},Qo.prototype.set=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:return s=a.key,l=a.value,[4,new Promise(function(m,g){var b=c._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:s,value:c._encryption.encrypt(l)});b.addEventListener("success",function(w){m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 1:return p.sent(),[2,l]}})})},Qo.prototype.setMany=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:return s=[],l=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),a.forEach(function(m){var g=m.key,b=m.value;s.push(new Promise(function(w){var O=l.put({key:g,value:c._encryption.encrypt(b)});O.addEventListener("success",function(L){w(L.target.result)}),O.addEventListener("error",function(){w(pt.collectionWriteFailed)})}))}),[4,Promise.all(s)];case 1:return p.sent(),[2,a.map(function(m){return m.value})]}})})},Qo.prototype.remove=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,p){var m=s._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(a);m.addEventListener("success",function(){return c(a)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},Qo.prototype.removeMany=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return s=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(a.map(function(c){return new Promise(function(p,m){var g=s.delete(c);g.addEventListener("success",function(){return p(c)}),g.addEventListener("error",function(b){return m(b.target.error)})})}))];case 1:return[2,l.sent()]}})})},Qo.prototype.clear=function(){return F(this,void 0,void 0,function(){var a=this;return H(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,c){var p=a._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();p.addEventListener("success",function(){return l()}),p.addEventListener("error",function(m){return c(m.target.error)})})];case 1:return[2,s.sent()]}})})},Qo),NX=(Ls.prototype._isBelonging=function(a){return a.startsWith("".concat(this.dbname,"/"))},Ls.prototype._getActualKey=function(a){return"".concat(this.dbname,"/").concat(a)},Ls.prototype.init=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:this.dbname=a,l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(bi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(bi.value))throw pt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(bi)];case 4:return l.sent(),[7];case 5:return[2]}})})},Ls.prototype.getAllKeys=function(){return F(this,void 0,void 0,function(){var a,s=this;return H(this,function(l){switch(l.label){case 0:return a=this._getActualKey(bi.key),[4,this._asyncStorage.getAllKeys()];case 1:return[2,l.sent().filter(function(c){return s._isBelonging(c)&&c!==a}).map(function(c){return c.substring("".concat(s.dbname,"/").length)})]}})})},Ls.prototype.get=function(a){return F(this,void 0,void 0,function(){var s;return H(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(a))];case 1:return[2,(s=l.sent())?this._encryption.decrypt(JSON.parse(s)):null]}})})},Ls.prototype.set=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=a.key,l=a.value,l=JSON.stringify(this._encryption.encrypt(l)),s===bi.key||l.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(s),l)]:[3,2];case 1:return c.sent(),[2,JSON.parse(l)];case 2:throw pt.storeItemSizeExceeded}})})},Ls.prototype.setMany=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L;return H(this,function(q){switch(q.label){case 0:s=[],l=[];try{for(c=zn(a),p=c.next();!p.done;p=c.next()){m=p.value;try{g=m.key,b=m.value,w=JSON.stringify(this._encryption.encrypt(b)),g===bi.key||w.length<this.itemSizeLimit?(l.push([this._getActualKey(g),w]),s.push(b)):s.push(pt.storeItemSizeExceeded)}catch{s.push(pt.collectionWriteFailed)}}}catch(G){O={error:G}}finally{try{p&&!p.done&&(L=c.return)&&L.call(c)}finally{if(O)throw O.error}}q.label=1;case 1:return q.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(l)];case 2:return q.sent(),[3,4];case 3:return q.sent(),[2,new Array(s.length).fill(pt.collectionWriteFailed)];case 4:return[2,s]}})})},Ls.prototype.remove=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(a))];case 1:return s.sent(),[2,a]}})})},Ls.prototype.removeMany=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.multiRemove(a.map(function(c){return s._getActualKey(c)}))];case 1:return l.sent(),[2,a]}})})},Ls.prototype.clear=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return[4,this.getAllKeys()];case 1:return a=s.sent(),[4,this.removeMany(a)];case 2:return s.sent(),[4,this.remove(bi.key)];case 3:return s.sent(),[2]}})})},Ls),Mm=!0,ac=(Pp.off=function(){Mm=!1},Pp.log=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Mm&&console.log.apply(console,br(["".concat("[NESTDB]","[LOG]")],tr(a),!1))},Pp.warning=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Mm&&console.warn.apply(console,br(["".concat("[NESTDB]","[WARNING]")],tr(a),!1))},Pp.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Mm&&console.error.apply(console,br(["".concat("[NESTDB]","[ERROR]")],tr(a),!1))},Pp);function Pp(){}function Ls(l){var s=l.AsyncStorage,l=l.encryption,l=l===void 0?Z0:l;this.itemSizeLimit=6291456,this._asyncStorage=s,this._encryption=l}function Qo(a){a===void 0&&(a={}),this.itemSizeLimit=104857600,a=a.encryption,a=a===void 0?Z0:a,this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=a}function Ps(c){var s=(c=c===void 0?{}:c).itemSizeLimit,s=s===void 0?4194304:s,l=c.delay,l=l===void 0?1:l,c=c.encryption,c=c===void 0?Z0:c;this._encryption=c,this.itemSizeLimit=s,this.delay=l,this.observer={}}function Bt(g){var s=g.dbname,l=g.collectionName,c=g.keyName,p=g.keyHash,m=g.indexes,g=g.store,b=this;this._state=Ad.INIT,this._metadata=null,this._indexers=[],this.dbname=s,this.name=l,this.keyName=c,this.indexes=br([[c]],tr(m.filter(function(w){return jl.createKey(w)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new xR("".concat(ic(s,l),".lock")),this._blobContainer=new EX({dbname:s,collectionName:l,store:g}),this._transaction=new wX({dbname:s,collectionName:l,store:g})}function $i(a,s){s===void 0&&(s={});var l=this;return this._state=Lp.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],s1[a]&&!s.forceCreate||(this.nodeId=wR(),this.key=a,Vo&&(!s.startAsInvisible&&document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&l.claimHost()}),window.addEventListener("message",function(c){var p,m,g=c.data,b=g.nodeId,w=g.requestId,O=g.key,L=g.op,q=g.data;if(b!==l.nodeId&&O===l.key)switch(L){case ki.NEWNODE:l._sendSync();break;case ki.CLAIM_HOST:l._sendSync(),l._hostId=b;break;case ki.SYNC_HOST:if(!l.isInSync){l._activationTimeout&&clearTimeout(l._activationTimeout);var G=q.currentItemRequestId,re=q.queue;try{for(var ae=zn(re),K=ae.next();!K.done;K=ae.next())(function(ne){l._queue.findIndex(function(me){return me.requestId===ne.requestId})<0&&l._requestLock({nodeId:ne.nodeId,requestId:ne.requestId,key:l.key,op:ki.REQUEST_LOCK,ts:ne.ts})})(K.value)}catch(ne){p={error:ne}}finally{try{K&&!K.done&&(m=ae.return)&&m.call(ae)}finally{if(p)throw p.error}}l._currentItem=l._queue.find(function(ne){return ne.requestId===G}),l._completeSync()}break;case ki.REMOVENODE:l._queue=l._queue.filter(function(ne){return ne.nodeId!==g.nodeId}),l._currentItem&&l._currentItem.nodeId===g.nodeId&&(l._currentItem=null,l._acquire(l._queue[0]));break;case ki.REQUEST_LOCK:l._requestLock(g);break;case ki.ACQUIRE_LOCK:re=l._queue.find(function(ne){return ne.requestId===w}),l._acquire(re);break;case ki.RELEASE_LOCK:l._release(w)}}),window.addEventListener("beforeunload",function(){l._send(ki.REMOVENODE)})),s1[a]=this),s1[a]}(qi=Ko=Ko||{}).INIT="INIT",qi.OPENING="OPENING",qi.OPENED="OPENED",qi.CLOSED="CLOSED",Object.defineProperty(Fs.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(Fs.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Fs.prototype.commitSchema=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){switch(l.label){case 0:return this._state!==Ko.OPENING?[3,2]:[4,Promise.all(a.map(function(c){return F(s,void 0,void 0,function(){var p,m,g;return H(this,function(b){switch(b.label){case 0:return p=c.collectionName,m=c.keyName,g=c.index,g=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new o1({dbname:this.name,collectionName:p,keyName:m,keyHash:c.keyHash||null,indexes:g,store:this._store})),[4,this._collections.get(p).init()];case 1:return b.sent(),[2]}})})}))];case 1:return l.sent(),[3,3];case 2:throw pt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},Fs.prototype.open=function(){var a;return F(this,void 0,void 0,function(){var s,l,c,p,m=this;return H(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===Ko.OPENED)return[3,15];this._state=Ko.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,s="".concat(r1(b),".metadata"),l={version:0,collectionNames:[]},[4,this._store.get(s)];case 4:return c=(a=g.sent())!=null?a:l,[2,new Promise(function(w,O){function L(G){c.version<m._version?m._event.upgrade(c.version,function(re){return F(m,void 0,void 0,function(){var ae;return H(this,function(K){switch(K.label){case 0:if(re)return[3,5];c.version++,c.collectionNames=Array.from(this._collections.keys()),K.label=1;case 1:return K.trys.push([1,3,,4]),[4,this._store.set({key:s,value:c,generation:this._version})];case 2:return K.sent(),G({continued:!0}),[3,4];case 3:return ae=K.sent(),G({continued:!1,err:ae}),[3,4];case 4:return[3,6];case 5:G({continued:!1,err:re}),K.label=6;case 6:return[2]}})})}):G({continued:!1})}function q(K){var re,ae=K.continued,K=(K=K.err)===void 0?null:K;ae!==void 0&&ae?setTimeout(function(){return L(q)},10):K?(ac.error(K.message),m._globalMutex.unlock(),m._event.error(K),O(K)):(re=[],c.collectionNames.forEach(function(ne){m._collections.has(ne)||re.push(F(m,void 0,void 0,function(){var me;return H(this,function(_e){switch(_e.label){case 0:return[4,o1.metadataOf(this.name,ne,this._store)];case 1:return(me=_e.sent())?(me=new o1({dbname:this.name,collectionName:ne,keyName:me.keyName,indexes:me.indexes,store:this._store}),this._collections.set(ne,me),[4,me.init()]):[3,3];case 2:_e.sent(),_e.label=3;case 3:return[2]}})}))}),Promise.all(re).then(function(){m._state=Ko.OPENED,m._globalMutex.unlock(),m._event.success(),w()}).catch(function(ne){ac.error(ne.message),m._globalMutex.unlock(),m._event.error(ne),O(ne)}))}L(q)})];case 5:switch((p=g.sent()).code){case qt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case qt.STORE_NOT_AVAILABLE:return[3,8];case qt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return ac.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Rm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return ac.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Rm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return ac.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw ac.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},Fs.prototype.close=function(){this._collections.forEach(function(a){return a.close()}),this._state=Ko.CLOSED},Fs.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(s){return s.clear()}))];case 1:return a.sent(),[2]}})})},Fs.prototype.reset=function(){return F(this,void 0,void 0,function(){var a,s=this;return H(this,function(l){switch(l.label){case 0:return this.close(),(a=ls.get(this.name))&&a.clearByCondition(function(c){return c.key.startsWith(r1(s.name))}),[4,this._store.clear()];case 1:return l.sent(),[2]}})})},Fs.prototype.on=function(a,s){this._event[a]=s},Fs.prototype.off=function(a){typeof this._event[a]=="function"&&(this._event[a]=a==="upgrade"?_R:Im)},Fs.prototype.collection=function(a){return this._collections.get(a)||null};var Ci,TX=Fs,Fp=null,IX=(an.init=function(re){var s,l=re.appId,c=re.appVersion,c=c===void 0?null:c,p=re.modules,p=p===void 0?[]:p,m=re.options,m=m===void 0?new XS:m,g=re.debugMode,g=g!==void 0&&g,b=re.customApiHost,w=re.customWebSocketHost,O=re.newInstance,L=re.logLevel,q=re.localCacheEnabled,q=q!==void 0&&q,G=re.localCacheEncryption,re=re.useAsyncStorageStore,re=re===void 0?null:re;return!Fp||O!==void 0&&O?(O="su-".concat(_d()),s=new Rm({encryption:G=G!=null?G:{encrypt:function(ae){return ae},decrypt:function(ae){return ae}}}),g||(s=re?new NX({AsyncStorage:re,encryption:G}):new SX({encryption:G})),new we(O,{appId:l,appVersion:c,options:m,apiHost:b!=null?b:"https://api-".concat(l,".sendbird.com"),websocketHost:w!=null?w:"wss://ws-".concat(l,".sendbird.com"),store:s,encryption:G,logLevel:L,localCacheEnabled:q,debugMode:g}),re=new an(O,m,br(br([],tr(p),!1),[new lQ],!1)),Fp=Fp||re,re):Fp},Object.defineProperty(an,"instance",{get:function(){return Fp},enumerable:!1,configurable:!0}),Object.defineProperty(an,"version",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"appId",{get:function(){return we.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"appInfo",{get:function(){return we.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"appVersion",{get:function(){var a;return(a=we.of(this._iid).sdkState.appVersion)!=null?a:""},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"debugMode",{get:function(){return we.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"logLevel",{get:function(){return we.of(this._iid).logger.level},set:function(a){we.of(this._iid).logger.level=a},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"isCacheEnabled",{get:function(){return we.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"ekey",{get:function(){return xp(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"currentUser",{get:function(){var a;return(a=we.of(this._iid).sessionManager.currentUser)!=null?a:null},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"connectionState",{get:function(){var a=we.of(this._iid).connectionManager;return a.isConnected?Ll.OPEN:a.isConnecting?Ll.CONNECTING:Ll.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"lastConnectedAt",{get:function(){var a=we.of(this._iid),s=a.connectedAt;return a.connectionManager.isConnected?s:0},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(an.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),an.prototype._getPreferenceCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".pref")},an.prototype._getUserProfileCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".profile")},an.prototype.getMemoryStoreForDebugging=function(){var s=we.of(this._iid),a=s.debugMode,s=s.cacheContext;if(a)return s.store instanceof Rm?s.store:null;throw ye.debugModeRequired},an.prototype.addExtension=function(a,s){var l=we.of(this._iid).sdkState;-1<["sb_uikit","sb_syncmanager"].indexOf(a)&&(l.extensions[a]=s)},an.prototype.initializeCache=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:return c=we.of(this._iid),s=c.sdkState,l=c.cacheContext,p=c.connectionManager,c=c.dispatcher,s.userId&&s.userId===a?[3,6]:[4,p.logout()];case 1:return g.sent(),s.userId=a,l.localCacheEnabled?(p="sendbird@".concat(s.appId,"/").concat(a,".db"),l.nestdb&&l.nestdb.state!==Ko.CLOSED&&l.nestdb.name===p?[3,3]:((m=l.nestdb=new TX({name:"sendbird@".concat(s.appId,"/").concat(a,".db"),version:1,store:l.store})).on("upgrade",(b=m,function(w,O){w===0?b.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[Gy($l.LATEST_LAST_MESSAGE),Gy($l.CHRONOLOGICAL),Gy($l.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[Go(ai.CHANNEL_LATEST),Go(ai.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Go(ai.CHANNEL_LATEST),Go(ai.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return O()}).catch(function(L){return O(L)}):O()})),[4,m.open()])):[3,6];case 2:g.sent(),c.dispatch(new cY(this._iid,{userId:a})),g.label=3;case 3:return[4,l.preference.init(this._getPreferenceCacheKey(a))];case 4:return g.sent(),[4,l.preference.get(this._getUserProfileCacheKey(a))];case 5:(m=g.sent())&&new Xb(this._iid,m).apply(),g.label=6;case 6:return[2]}var b})})},an.prototype.clearCachedData=function(){return F(this,void 0,void 0,function(){var a;return H(this,function(s){switch(s.label){case 0:return(a=we.of(this._iid).cacheContext).localCacheEnabled?(a.nestdb&&a.nestdb.clear(),[4,a.preference.clear()]):[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},an.prototype.clearCachedMessages=function(a){return F(this,void 0,void 0,function(){var s,l,c=this;return H(this,function(p){switch(p.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=lY.of(this._iid),l=V4.of(this._iid),s&&l?[4,Promise.all(a.map(function(m){return F(c,void 0,void 0,function(){return H(this,function(g){switch(g.label){case 0:return[4,s.removeMessagesOfChannel(m)];case 1:return g.sent(),[4,l.removeMessagesOfChannel(m)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},an.prototype.connect=function(a,s){return s===void 0&&(s=null),F(this,void 0,void 0,function(){var l,c,p,m,g;return H(this,function(b){switch(b.label){case 0:m=we.of(this._iid),l=m.sdkState,c=m.cacheContext,p=m.connectionManager,m=m.statLogCollector,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.initializeCache(a)];case 2:return b.sent(),[3,4];case 3:return b.sent(),g=we.of(this._iid).logger,c.localCacheEnabled=!1,g.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,m.init("sendbird@".concat(l.appId,"/").concat(a,".statlog"))];case 5:return b.sent(),[4,p.connect(s)];case 6:return b.sent(),this._appStateChangeDetector.start(),l.appState="foreground",[4,(g=K4.of(this._iid))==null?void 0:g.processNonAutoResendRegisteredPendingMessages()];case 7:return b.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},an.prototype.reconnect=function(){var l=we.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.sessionManager.auth.hasSession;return l&&a.resetAndReconnect().then(function(){s.appState="foreground"}).catch(function(){}),l},an.prototype.disconnect=function(){return F(this,void 0,void 0,function(){var a,s,l;return H(this,function(c){switch(c.label){case 0:return l=we.of(this._iid),a=l.connectionManager,s=l.cacheContext,l=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),l.cancelAll(),[4,a.logout()];case 1:return c.sent(),s.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},an.prototype.setBackgroundState=function(){var l=we.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="foreground"&&(s.appState="background",l.debug("going background state"),a.background())},an.prototype.setForegroundState=function(){var l=we.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="background"&&(s.appState="foreground",l.debug("going foreground state"),a.resetAndReconnect())},an.prototype.setSessionHandler=function(a){on(!1).throw(ye.invalidParameters),we.of(this._iid).sessionManager.handler=a},an.prototype.addUserEventHandler=function(a,s){on(fe("string",a)&&!1).throw(ye.invalidParameters),we.of(this._iid).userEventHandlers.set(a,s)},an.prototype.removeUserEventHandler=function(a){we.of(this._iid).userEventHandlers.delete(a)},an.prototype.removeAllUserEventHandler=function(){we.of(this._iid).userEventHandlers.clear()},an.prototype.addConnectionHandler=function(a,s){on(fe("string",a)&&!1).throw(ye.invalidParameters),we.of(this._iid).connectionHandlers.set(a,s)},an.prototype.removeConnectionHandler=function(a){we.of(this._iid).connectionHandlers.delete(a)},an.prototype.removeAllConnectionHandler=function(){we.of(this._iid).connectionHandlers.clear()},an.prototype.createApplicationUserListQuery=function(a){return new dX(this._iid,a=a===void 0?{}:a)},an.prototype.createBlockedUserListQuery=function(a){return new fX(this._iid,a=a===void 0?{}:a)},an.prototype.createFriendListQuery=function(a){return new vX(this._iid,a=a===void 0?{}:a)},an.prototype.createMessageSearchQuery=function(a){return new aQ(this._iid,a)},an.prototype.buildUserFromSerializedData=function(a){return a=lm(a),new Kn(this._iid,Kn.payloadify(a))},an.prototype.updateCurrentUserInfo=function(a){return a===void 0&&(a={}),F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return a=pe(pe({},gY),a),on(uo((p=a).profileImage,!0)&&fe("string",p.profileUrl,!0)&&fe("string",p.nickname,!0)).throw(ye.invalidParameters),this.currentUser?(s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new fO(pe({userId:l.userId},a)),[4,s.send(l)]):[3,2];case 1:return s=c.sent(),l=s.as(mO).user,this.currentUser&&(a.nickname&&(this.currentUser.nickname=l.nickname),(a.profileUrl||a.profileImage)&&(this.currentUser.plainProfileUrl=l.profileUrl)),[2,l];case 2:throw ye.connectionRequired}var p})})},an.prototype.updateCurrentUserInfoWithPreferredLanguages=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),this.currentUser?(s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new fO({userId:l.userId,preferredLanguages:a}),[4,s.send(l)]):[3,2];case 1:return s=c.sent(),l=s.as(mO).user,this.currentUser&&(this.currentUser.preferredLanguages=l.preferredLanguages),[2,l];case 2:throw ye.connectionRequired}})})},an.prototype.registerFCMPushTokenForCurrentUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:if(on(fe("string",a)).throw(ye.invalidParameters),!this.currentUser)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new yY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return c.sent(),this._fcmPushToken="",[2,Ea.SUCCESS];case 3:return c.sent(),[2,Ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Ea.PENDING];case 6:return[2]}})})},an.prototype.unregisterFCMPushTokenForCurrentUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:if(on(fe("string",a)).throw(ye.invalidParameters),!this.currentUser)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new wY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return c.sent(),this._fcmPushToken="",[2,Ea.SUCCESS];case 3:return c.sent(),[2,Ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Ea.PENDING];case 6:return[2]}})})},an.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return this.currentUser?(a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new kY({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},an.prototype.registerAPNSPushTokenForCurrentUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:if(on(fe("string",a)).throw(ye.invalidParameters),!this.currentUser)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new bY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return c.sent(),this._fcmPushToken="",[2,Ea.SUCCESS];case 3:return c.sent(),[2,Ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Ea.PENDING];case 6:return[2]}})})},an.prototype.unregisterAPNSPushTokenForCurrentUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:if(on(fe("string",a)).throw(ye.invalidParameters),!this.currentUser)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new EY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return c.sent(),this._fcmPushToken="",[2,Ea.SUCCESS];case 3:return c.sent(),[2,Ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Ea.PENDING];case 6:return[2]}})})},an.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return this.currentUser?(a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new xY({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},an.prototype.getChannelInvitationPreference=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new NY({userId:s.userId}),[4,a.send(s)];case 1:return[2,{autoAccept:l.sent().as(TY).autoAccept}]}})})},an.prototype.setChannelInvitationPreference=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("boolean",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new IY({userId:l.userId,willAutoAccept:a}),[4,s.send(l)];case 1:return[2,{autoAccept:c.sent().as(OY).autoAccept}]}})})},an.prototype.getDoNotDisturb=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new AY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(RY).preference]}})})},an.prototype.setDoNotDisturb=function(a,s,l,c,p,m){return s===void 0&&(s=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=""),F(this,void 0,void 0,function(){var g,b;return H(this,function(w){switch(w.label){case 0:return on(fe("boolean",a)&&fe("number",s)&&fe("number",l)&&fe("number",c)&&fe("number",p)&&fe("string",m)).throw(ye.invalidParameters),g=we.of(this._iid),b=g.sdkState,g=g.requestQueue,b=new MY({userId:b.userId,doNotDisturbOn:a,startHour:s,startMin:l,endHour:c,endMin:p,timezone:m}),[4,g.send(b)];case 1:return[2,w.sent().as(DY).preference]}})})},an.prototype.getSnoozePeriod=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new UY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(LY).snoozePeriod]}})})},an.prototype.setSnoozePeriod=function(a,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),F(this,void 0,void 0,function(){var c,p;return H(this,function(m){switch(m.label){case 0:return on(fe("boolean",a)&&fe("number",s)&&fe("number",l)).throw(ye.invalidParameters),c=we.of(this._iid),p=c.sdkState,c=c.requestQueue,p=new PY({userId:p.userId,snoozeOn:a,startTs:s,endTs:l}),[4,c.send(p)];case 1:return[2,m.sent().as(FY).snoozePeriod]}})})},an.prototype.getMyPushTokensByToken=function(a,s){return F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(fe("string",a)&&rr(Va,s)).throw(ye.invalidParameters),l=we.of(this._iid),c=l.sdkState,l=l.requestQueue,c=new CY({userId:c.userId,type:s,token:a}),[4,l.send(c)];case 1:return[2,p.sent().as(SY).pushTokens]}})})},an.prototype.getPushTriggerOption=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new hY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(pY).pushTriggerOption]}})})},an.prototype.setPushTriggerOption=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(rr(qy,a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new fY({userId:l.userId,pushTriggerOption:a}),[4,s.send(l)];case 1:return[2,c.sent().as(mY).pushTriggerOption]}})})},an.prototype.getPushTemplate=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new BY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(GY).name]}})})},an.prototype.setPushTemplate=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(rr(By,a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new $Y({userId:l.userId,templateName:a}),[4,s.send(l)];case 1:return[2,c.sent().as(zY).name]}})})},an.prototype.blockUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(a instanceof Kn||fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new HY({userId:l.userId,blockedUserId:a instanceof Kn?a.userId:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},an.prototype.blockUserWithUserId=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.blockUser(a)]})})},an.prototype.unblockUser=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(a instanceof Kn||fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new qY({userId:l.userId,unblockedUserId:a instanceof Kn?a.userId:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},an.prototype.unblockUserWithUserId=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.unblockUser(a)]})})},an.prototype.getFriendChangeLogsByToken=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new jY({userId:l.userId,token:a}),[4,s.send(l)];case 1:return[2,c.sent().as(VY).changelogs]}})})},an.prototype.getAllowFriendDiscovery=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new ZY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(eX).allowFriendDiscovery]}})})},an.prototype.setAllowFriendDiscovery=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(fe("boolean",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new nX({userId:l.userId,allowFriendDiscovery:a}),[4,s.send(l)];case 1:return c.sent(),[2,a]}})})},an.prototype.uploadFriendDiscoveries=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new WY({userId:l.userId,discoveries:a}),[4,s.send(l)];case 1:return[2,c.sent().as(KY).friendDiscoveryRequestId]}})})},an.prototype.deleteFriendDiscovery=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.deleteFriendDiscoveries([a])]})})},an.prototype.deleteFriendDiscoveries=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new QY({userId:l.userId,discoveryKeys:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},an.prototype.addFriends=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new YY({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return[2,c.sent().as(XY).users]}})})},an.prototype.deleteFriend=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this.deleteFriends([a])]})})},an.prototype.deleteFriends=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return on(vt("string",a)).throw(ye.invalidParameters),s=we.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new JY({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return c.sent(),[2]}})})},an.prototype.getAllEmoji=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new rX,[4,a.send(s)];case 1:return[2,l.sent().as(iX).emojiContainer]}})})},an.prototype.getEmojiCategory=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new aX({categoryId:a}),[4,s.send(l)];case 1:return[2,c.sent().as(sX).emojiCategory]}})})},an.prototype.getEmoji=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,l=new oX({key:a}),[4,s.send(l)];case 1:return[2,c.sent().as(lX).emoji]}})})},an);function an(a,p,l){var c=this,p=(this._fcmPushToken=null,this._apnsPushToken=null,this._iid=a,this.options=p,we.of(a)),m=p.sdkState,g=p.cacheContext,b=p.dispatcher,w=p.sessionManager,O=p.requestQueue,L=p.logger,q=p.userEventHandlers;this._onlineDetector=new _Y({logger:L,connectionDelegate:{reconnect:function(){var re=we.of(a),G=re.sdkState,re=re.connectionManager;G.appState==="foreground"&&re.resetAndReconnect()},disconnect:function(){we.of(a).connectionManager.disconnect()}}}),new K4(a,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:m,logger:L}),l.forEach(function(G){G.init(a,{sdkState:m,cacheContext:g,dispatcher:b,sessionManager:w,requestQueue:O,logger:L,onlineDetector:c._onlineDetector}),c[G.name]=G}),this._appStateChangeDetector=new vY,this._appStateChangeDetector.on("resume",function(){L.debug("the page resumes from freeze"),c.setForegroundState()}).on("pause",function(){L.debug("the page freezes"),c.setBackgroundState()}),b.on(function(G){var re;if(G instanceof ur)G.code==="USEV"&&(ne=G.as(dY).event).category===$y.FRIEND_DISCOVERED&&(re=tO.getDataAsFriendDiscoveredEvent(a,ne).friendDiscoveries,it(function(){return F(c,void 0,void 0,function(){return H(this,function(_e){return[2,q.forEach(function(Se){Se.onFriendsDiscovered(re)})]})})}));else if(G instanceof hN){var ae=we.of(c._iid).subscribedUnreadMessageCount,K=!1,ne=G.ts;if(typeof ne=="number"&&ne>ae.ts){if(ae.all!==G.all&&(K=!0),ae.all=0<=G.all?G.all:0,G.customTypes)for(var me in G.customTypes)ae.customTypes[me]!==G.customTypes[me]&&(K=!0),ae.customTypes[me]=G.customTypes[me];K=K&&0<ae.ts,ae.ts=ne}K&&it(function(){return F(c,void 0,void 0,function(){return H(this,function(_e){return[2,q.forEach(function(Se){Se.onTotalUnreadMessageCountUpdated(ae.all,ae.customTypes)})]})})})}else G instanceof iT&&g.localCacheEnabled&&g.preference.set(c._getUserProfileCacheKey(m.userId),Xb.payloadify(G.userProfile))})}function Fs(p){var s=p.name,l=p.version,c=p.store,p=p.config;this.name=s,this._version=l,this._state=Ko.INIT,this._config=p||new Cm({dbname:s}),this._store=c,this._event={success:Im,error:Im,upgrade:_R},this._collections=new Map,this._globalMutex=new xR("".concat(this.name,".lock")),this._config.disableLogger&&ac.off(),new ls({dbname:s,limit:this._config.cacheLimit})}(We=Ci=Ci||{})[We.NONE=0]="NONE",We[We.CHANNEL_ENTER=10102]="CHANNEL_ENTER",We[We.CHANNEL_EXIT=10103]="CHANNEL_EXIT",We[We.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",We[We.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",We[We.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",We[We.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",We[We.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",We[We.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",We[We.TYPING_START=10900]="TYPING_START",We[We.TYPING_END=10901]="TYPING_END",We[We.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",We[We.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",We[We.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",We[We.CHANNEL_INVITE=10020]="CHANNEL_INVITE",We[We.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",We[We.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",We[We.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",We[We.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",We[We.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",We[We.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",We[We.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",We[We.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",Object.defineProperty(l1.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===yr.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(l1.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===yr.OPEN},enumerable:!1,configurable:!0});var kR,CR,SR,NR,TR,IR,OR,OX=l1,AR=(Y(FR,OR=ur),FR),AX=(Y(PR,IR=AR),PR),RX=(Y(LR,TR=ur),LR),MX=(Y(UR,NR=ur),UR),DX=(Y(DR,SR=ur),DR),UX=(Y(MR,CR=ur),MR),LX=(Y(RR,kR=ur),RR);function RR(a,s,l){var c=kR.call(this,a,"MTHD",l)||this;return c.event=new nQ(a,l),c}function MR(a,s,l){return a=CR.call(this,a,"MRCT",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.event=new ry(l),a}function DR(m,s,l){var c,p=this,m=((p=SR.call(this,m,"AEDI",l)||this).message=new Nd(m,l),we.of(m).sdkState);return p.mentionCountChange=Vb({mentionType:(c=(c=l.old_values)==null?void 0:c.mention_type)!=null?c:null,mentionedUserIds:(l=(c=l.old_values)==null?void 0:c.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(c=p.message.mentionedUserIds)!=null?c:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function UR(m,s,l){var c,p=this,m=((p=NR.call(this,m,"ADMM",l)||this).message=new Nd(m,l),we.of(m).sdkState);return p.isMentioned=kd(p.message.mentionType,(c=p.message.mentionedUserIds)!=null?c:(c=p.message.mentionedUsers)==null?void 0:c.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(c=l.force_update_last_message)!=null&&c,p}function LR(a,s,l){return a=TR.call(this,a,"MCNT",l)||this,a.groupChannelMemberCounts=l.group_channels.map(function(c){return{channelUrl:c.channel_url,memberCount:c.member_count,joinedMemberCount:c.joined_member_count,updatedAt:c.ts}}),a.openChannelMemberCounts=l.open_channels.map(function(c){return{channelUrl:c.channel_url,participantCount:c.participant_count,updatedAt:c.ts}}),a}function PR(p,m,l){var c=IR.call(this,p,m,l)||this,p=l.data.operators,m=p===void 0?[]:p;return c.operators=m.map(function(g){return new Kn(c._iid,g)}),c}function FR(a,s,l){return a=OR.call(this,a,"SYEV",l)||this,a.event=new OX(l),a}function l1(a){this.channelUrl=a.channel_url,this.channelType=a.channel_type,this.category=a.cat,this.data=a.data,this.ts=a.ts}Y(Hs,u1=lt),Object.defineProperty(Hs.prototype,"enteredChannels",{get:function(){var a=this;return this._enteredChannelUrls.map(function(s){return a._channels.get(s)}).filter(function(s){return s!==null})},enumerable:!1,configurable:!0}),Hs.prototype.isEnteredChannel=function(a){return this._enteredChannelUrls.includes(a)},Hs.prototype.enter=function(a){this._enteredChannelUrls.indexOf(a)<0&&this._enteredChannelUrls.push(a)},Hs.prototype.exit=function(a){a=this._enteredChannelUrls.indexOf(a),0<=a&&this._enteredChannelUrls.splice(a,1)},Hs.prototype.exitAll=function(){this._enteredChannelUrls=[]},Hs.prototype.get=function(a){var s;return F(this,void 0,void 0,function(){return H(this,function(l){return[2,(s=this._channels.get(a))!=null?s:null]})})},Hs.prototype.upsert=function(a){return F(this,void 0,void 0,function(){var s=this;return H(this,function(l){return a.forEach(function(c){var p;s._channels.has(c.url)?(p=s._channels.get(c.url),Object.assign(p,c)):s._channels.set(c.url,c)}),[2]})})},Hs.prototype.remove=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return this._channels.delete(a),this.exit(a),[2]})})},Hs.prototype.clear=function(){return F(this,void 0,void 0,function(){return H(this,function(a){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})};var HR,qR,BR,u1,GR,PX=Hs,$R={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},FX=(Y(WR,BR=Qe),WR),zR=(Y(VR,qR=Ze),VR),HX=(Y(jR,HR=Qe),jR);function jR(b){var s=this,l=b.channelUrl,c=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=HR.call(this)||this).method=Ve.POST,s.path=Qu,s.params=Gn({channel_url:l,cover_url:fe("string",c)?c:null,cover_file:uo(c)?c:null,name:p,data:m,custom_type:g,operators:b}),s}function VR(a,s){var l=qR.call(this,a,s)||this;return l.channel=null,l.channel=new Md(a,s),l}function WR(l){var s=l.channelUrl,l=l.isInternalCall,c=BR.call(this)||this;return c.method=Ve.GET,c.path="".concat(l?SK:Qu,"/").concat(encodeURIComponent(s)),c}function Hs(){var a=u1!==null&&u1.apply(this,arguments)||this;return a._channels=new Map,a._enteredChannelUrls=[],a}Y(function(a,s){var l=GR.call(this,a,s)||this;return l.channel=new Md(a,s),l},GR=Ze),Y(gM,tM=co);var KR,QR,YR,c1,XR,JR,ZR,eM,nM,tM,rM,qX=gM,iM=(Y(mM,nM=ur),mM),BX=(Y(fM,eM=co),fM),aM=(Y(pM,ZR=ur),pM),sM={},sc=(aa.of=function(a){return sM[a]},aa.prototype.buildOpenChannelFromSerializedData=function(a){return a=lm(a),new Md(a._iid,Md.payloadify(a))},aa.prototype.getChannelFromCache=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.get(a)];case 1:return[2,s.sent()]}})})},aa.prototype.upsertChannelsToCache=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.upsert(a)];case 1:return s.sent(),[2]}})})},aa.prototype.removeChannelsFromCache=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m;return H(this,function(g){switch(g.label){case 0:g.trys.push([0,5,6,7]),s=zn(a),l=s.next(),g.label=1;case 1:return l.done?[3,4]:(c=l.value,[4,this._openChannelCache.remove(c)]);case 2:g.sent(),g.label=3;case 3:return l=s.next(),[3,1];case 4:return[3,7];case 5:return c=g.sent(),p={error:c},[3,7];case 6:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 7:return[2]}})})},aa.prototype.setEnteredToCache=function(a){this._openChannelCache.enter(a.url)},aa.prototype.setExitedToCache=function(a){this._openChannelCache.exit(a.url)},aa.prototype._handleEvent=function(a){return F(this,void 0,void 0,function(){var s,l,c,p,m,g,b,w,O,L,q,G,re,ae,K,ne,me,_e,Se,Jt,Dr,Ft,Dd,Ud,Ld,Wl,Yo,je,gn,Fn,ft,nt,Ur,Tt,Si,oi,mo,Ka,Qa,Lr,go,sa,ut,Ni,Hp,qp,Pm,Kl,f1,m1,g1,v1,_1,SM,zi=this;return H(this,function(Rt){switch(Rt.label){case 0:switch(Rt.trys.push([0,51,,52]),a.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return p=null,a.code==="MESG"?p=a.as(a4):a.code==="FILE"?p=a.as(ST):a.code!=="ADMM"&&a.code!="BRDM"||(p=a.as(MX)),p?(s=p.message,l=p.isMentioned,s.channelType!==yr.OPEN?[3,3]:[4,this.getChannel(s.channelUrl,!0)]):[3,3];case 2:c=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr,qs;return H(this,function(Ql){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())Pr=ln.value,this._openChannelCache.isEnteredChannel(c.url)&&Pr.onMessageReceived(c,s),l&&Pr.onMentionReceived(c,s)}catch(Bp){zr={error:Bp}}finally{try{ln&&!ln.done&&(qs=Wn.return)&&qs.call(Wn)}finally{if(zr)throw zr.error}}return[2]})})}),Rt.label=3;case 3:return[3,50];case 4:return p=null,a.code==="MEDI"?p=a.as(Fy):a.code==="FEDI"?p=a.as(o4):a.code==="AEDI"&&(p=a.as(DX)),!p||(m=p.message).channelType!==yr.OPEN?[3,6]:[4,this.getChannel(m.channelUrl,!0)];case 5:g=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr,qs;return H(this,function(Ql){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())Pr=ln.value,this._openChannelCache.isEnteredChannel(g.url)&&Pr.onMessageUpdated(g,m)}catch(Bp){zr={error:Bp}}finally{try{ln&&!ln.done&&(qs=Wn.return)&&qs.call(Wn)}finally{if(zr)throw zr.error}}return[2]})})}),Rt.label=6;case 6:return[3,50];case 7:return O=a.as(XQ),Se=O.channelUrl,L=O.channelType,b=O.messageId,L!==yr.OPEN?[3,9]:[4,this.getChannel(Se,!0)];case 8:w=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr,qs;return H(this,function(Ql){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())Pr=ln.value,this._openChannelCache.isEnteredChannel(w.url)&&Pr.onMessageDeleted(w,b)}catch(Bp){zr={error:Bp}}finally{try{ln&&!ln.done&&(qs=Wn.return)&&qs.call(Wn)}finally{if(zr)throw zr.error}}return[2]})})}),Rt.label=9;case 9:return[3,50];case 10:return O=a.as(UX),Se=O.channelUrl,L=O.channelType,q=O.event,L!==yr.OPEN?[3,12]:[4,this.getChannel(Se,!0)];case 11:G=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr;return H(this,function(qs){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())ln.value.onReactionUpdated(G,q)}catch(Ql){Pr={error:Ql}}finally{try{ln&&!ln.done&&(zr=Wn.return)&&zr.call(Wn)}finally{if(Pr)throw Pr.error}}return[2]})})}),Rt.label=12;case 12:return[3,50];case 13:return(re=a.as(LX).event).channelType!==yr.OPEN?[3,15]:[4,this.getChannel(re.channelUrl,!0)];case 14:ae=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr;return H(this,function(qs){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())ln.value.onThreadInfoUpdated(ae,re)}catch(Ql){Pr={error:Ql}}finally{try{ln&&!ln.done&&(zr=Wn.return)&&zr.call(Wn)}finally{if(Pr)throw Pr.error}}return[2]})})}),Rt.label=15;case 15:return[3,50];case 16:K=a.as(RX).openChannelMemberCounts,ne=[],Rt.label=17;case 17:Rt.trys.push([17,22,23,24]),me=zn(K),_e=me.next(),Rt.label=18;case 18:return _e.done?[3,21]:(Jt=_e.value,Se=Jt.channelUrl,je=Jt.participantCount,Jt=Jt.updatedAt,[4,this.getChannelFromCache(Se)]);case 19:(Dr=Rt.sent())&&Dr._updateParticipantCount(je,Jt)&&ne.push(Dr),Rt.label=20;case 20:return _e=me.next(),[3,18];case 21:return[3,24];case 22:return Dr=Rt.sent(),_1={error:Dr},[3,24];case 23:try{_e&&!_e.done&&(SM=me.return)&&SM.call(me)}finally{if(_1)throw _1.error}return[7];case 24:return 0<ne.length?[4,this.upsertChannelsToCache(ne)]:[3,26];case 25:Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){var Wn,ln,Pr,zr;return H(this,function(qs){try{for(Wn=zn(this._openChannelHandlers.values()),ln=Wn.next();!ln.done;ln=Wn.next())ln.value.onChannelMemberCountChanged(ne)}catch(Ql){Pr={error:Ql}}finally{try{ln&&!ln.done&&(zr=Wn.return)&&zr.call(Wn)}finally{if(Pr)throw Pr.error}}return[2]})})}),Rt.label=26;case 26:return[3,50];case 27:if((Ft=a.as(AR).event).isOpenChannelEvent)switch(Ft.category){case Ci.CHANNEL_ENTER:return[3,28];case Ci.CHANNEL_EXIT:return[3,30];case Ci.CHANNEL_OPERATOR_UPDATE:return[3,32];case Ci.USER_CHANNEL_MUTE:case Ci.USER_CHANNEL_UNMUTE:return[3,34];case Ci.USER_CHANNEL_BAN:case Ci.USER_CHANNEL_UNBAN:return[3,36];case Ci.CHANNEL_FREEZE:case Ci.CHANNEL_UNFREEZE:return[3,38];case Ci.CHANNEL_DELETED:return[3,40];case Ci.CHANNEL_PROP_CHANGED:return[3,43];case Ci.CHANNEL_META_DATA_CHANGED:return[3,45];case Ci.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(Ft.channelUrl,!0)];case 29:return Dd=Rt.sent(),Yo=a.as(iM),je=Yo.participantCount,Ud=Yo.user,Ld=Dd._updateParticipantCount(je,Ft.ts),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){ln.onUserEntered(Dd,Ud),Ld&&ln.onChannelParticipantCountChanged(Dd)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(Ft.channelUrl,!0)];case 31:return Wl=Rt.sent(),Yo=a.as(aM),je=Yo.participantCount,gn=Yo.user,Fn=Wl._updateParticipantCount(je,Ft.ts),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){ln.onUserExited(Wl,gn),Fn&&ln.onChannelParticipantCountChanged(Wl)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(Ft.channelUrl,!0)];case 33:return ft=Rt.sent(),nt=a.as(AX).operators,ft.operators=nt,this.upsertChannelsToCache([ft]),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){ln.onOperatorUpdated(ft,nt)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(Ft.channelUrl,!0)];case 35:return Ur=Rt.sent(),Tt=Ft.category===Ci.USER_CHANNEL_MUTE,Si=a.as(Tt?PQ:HQ).user,it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){Tt?ln.onUserMuted(Ur,Si):ln.onUserUnmuted(Ur,Si)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(Ft.channelUrl,!0)];case 37:return oi=Rt.sent(),mo=Ft.category===Ci.USER_CHANNEL_BAN,Ka=a.as(mo?BQ:$Q).user,it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){mo?ln.onUserBanned(oi,Ka):ln.onUserUnbanned(oi,Ka)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(Ft.channelUrl,!0)];case 39:return Qa=Rt.sent(),Lr=a.as(zQ).freeze,Qa.isFrozen=Lr,this.upsertChannelsToCache([Qa]),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){Lr?ln.onChannelFrozen(Qa):ln.onChannelUnfrozen(Qa)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(Ft.channelUrl,!0)];case 41:return go=Rt.sent(),[4,this.removeChannelsFromCache([go.url])];case 42:return Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){ln.onChannelDeleted(go.url,go.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(Ft.channelUrl,!0)];case 44:return sa=Rt.sent(),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){ln.onChannelChanged(sa)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(Ft.channelUrl,!0)];case 46:return ut=Rt.sent(),Kl=a.as(SQ),Ni=Kl.created,Hp=Kl.updated,qp=Kl.deleted,Ni&&ut._upsertCachedMetaData(Ni,Ft.ts),Hp&&ut._upsertCachedMetaData(Hp,Ft.ts),qp&&ut._removeFromCachedMetaData(qp,Ft.ts),it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){Ni&&ln.onMetaDataCreated(ut,Ni),Hp&&ln.onMetaDataUpdated(ut,Hp),qp&&ln.onMetaDataDeleted(ut,qp)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(Ft.channelUrl,!0)];case 48:return Pm=Rt.sent(),Kl=a.as(MQ),f1=Kl.created,m1=Kl.updated,g1=Kl.deleted,it(function(){return F(zi,void 0,void 0,function(){return H(this,function(Wn){return this._openChannelHandlers.forEach(function(ln){f1&&ln.onMetaCounterCreated(Pm,f1),m1&&ln.onMetaCounterUpdated(Pm,m1),g1&&ln.onMetaCounterDeleted(Pm,g1)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(v1=Rt.sent(),Ul(v1))throw v1;return[3,52];case 52:return[2]}})})},aa.prototype.addHandler=function(a,s){this._openChannelHandlers.set(a,s)},aa.prototype.removeHandler=function(a){this._openChannelHandlers.delete(a)},aa.prototype.clearHandler=function(){this._openChannelHandlers.clear()},aa.prototype.getChannel=function(a,s){return F(this,void 0,void 0,function(){var l;return H(this,function(c){switch(c.label){case 0:on(fe("string",a)).throw(ye.invalidParameters),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.getChannelFromCache(a)];case 2:return(l=c.sent())?[2,l]:[3,4];case 3:return c.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(a)];case 5:return[2,c.sent()]}})})},aa.prototype.getChannelWithoutCache=function(a,s){return s===void 0&&(s=!1),F(this,void 0,void 0,function(){var l,c;return H(this,function(p){switch(p.label){case 0:return on(fe("string",a)).throw(ye.invalidParameters),l=new FX({channelUrl:a,isInternalCall:s}),[4,this._requestQueue.send(l)];case 1:return l=p.sent(),c=l.as(zR).channel,[4,this.upsertChannelsToCache([c])];case 2:return p.sent(),[2,c]}})})},aa.prototype.createChannel=function(a){return F(this,void 0,void 0,function(){var s,l;return H(this,function(c){switch(c.label){case 0:return a=pe(pe({},$R),a),on(vt("string",(p=a).operatorUserIds,!0)&&(fe("string",p.coverUrlOrImage)||uo(p.coverUrlOrImage)||p.coverUrlOrImage===null)&&fe("string",p.name,!0)&&fe("string",p.data,!0)&&fe("string",p.customType,!0)&&(fe("string",p.channelUrl)&&/^\w+$/.test(p.channelUrl)||p.channelUrl===null)).throw(ye.invalidParameters),s=new HX(a),[4,this._requestQueue.send(s)];case 1:return s=c.sent(),l=s.as(zR).channel,this.upsertChannelsToCache([l]),[2,l]}var p})})},aa),oM={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},GX=(Y(hM,JR=Qe),hM),$X=(Y(dM,XR=Ze),dM),zX=(Y(Dm,c1=kt),Dm.prototype._validate=function(){return c1.prototype._validate.call(this)},Dm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new GX(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as($X),l=s.participants,c=s.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw ye.queryInProgress;case 4:return[3,6];case 5:throw ye.invalidParameters;case 6:return[2]}})})},Dm),jX=(Y(cM,YR=Qe),cM),VX=(Y(uM,QR=Ze),uM),WX=(Y(lM,KR=Qe),lM);function lM(l){var s=this,l=l.channelUrl;return(s=KR.call(this)||this).method=Ve.DELETE,s.path="".concat(Qu,"/").concat(encodeURIComponent(l)),s}function uM(a,s){var l=QR.call(this,a,s)||this;return l.channel=new Md(a,s),l}function cM(b){var s=this,l=b.channelUrl,c=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=YR.call(this)||this).method=Ve.PUT,s.path="".concat(Qu,"/").concat(encodeURIComponent(l)),s.params=Gn({cover_url:fe("string",c)?c:null,cover_file:uo(c)?c:null,name:p,data:m,custom_type:g,operators:b}),s}function Dm(a,s,l){return c1.call(this,a,s,yr.OPEN,l)||this}function dM(a,p){var l=XR.call(this,a,p)||this,c=(l.token=null,l.participants=[],p.next),p=p.participants;return l.token=c,l.participants=p.map(function(m){return new Kn(a,m)}),l}function hM(p){var s=this,l=p.channelUrl,c=p.token,p=p.limit;return(s=JR.call(this)||this).method=Ve.GET,s.path="".concat(Qu,"/").concat(encodeURIComponent(l),"/participants"),s.params={token:c,limit:p},s}function aa(a,p){var l=p.sdkState,c=p.dispatcher,p=p.requestQueue,m=this;this._sdkState=l,this._requestQueue=p,this._dispatcher=c,this._openChannelCache=new PX(a),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,w;if(g instanceof ur)m._handleEvent(g);else if(g instanceof Ed&&g.stateType===Xt.CONNECTED){var O=m._openChannelCache.enteredChannels;try{for(var L=zn(O),q=L.next();!q.done;q=L.next())q.value.enter()}catch(G){b={error:G}}finally{try{q&&!q.done&&(w=L.return)&&w.call(L)}finally{if(b)throw b.error}}}}),sM[a]=this}function pM(a,s,l){var c,p=this,p=ZR.call(this,a,"EXIT",l)||this;return l.data&&(p.participantCount=(c=l.data.participant_count)!=null?c:0,p.user=new Kn(a,l.data),p.ts=(c=l.data.edge_ts)!=null?c:0),p}function fM(a){return a=a.channelUrl,eM.call(this,{code:"EXIT",payload:{channel_url:a},ackRequired:!0})||this}function mM(a,s,l){var c,p=this,p=nM.call(this,a,"ENTR",l)||this;return l.data&&(p.participantCount=(c=l.data.participant_count)!=null?c:0,p.user=new Kn(a,l.data),p.ts=(c=l.data.edge_ts)!=null?c:0),p}function gM(a){return a=a.channelUrl,tM.call(this,{code:"ENTR",payload:{channel_url:a},ackRequired:!0})||this}Y(function(a,s){return rM.call(this,a,s)||this},rM=Ze),Y(Wa,vM=O4),Wa.payloadify=function(a){return a?Gn(pe(pe({},O4.payloadify(a)),{participant_count:a.participantCount,operators:a.operators.map(function(s){return Kn.payloadify(s)})})):null},Wa.prototype.serialize=function(){return Qb(this)},Wa.prototype.isOperator=function(a){return a instanceof Kn?this.isOperator(a.userId):this.operators.some(function(s){return s.userId===a})},Wa.prototype._updateParticipantCount=function(a,s){return s>this._lastParticipantCountUpdated&&(this.participantCount=a,this._lastParticipantCountUpdated=s,!0)},Wa.prototype.createParticipantListQuery=function(a){return new zX(this._iid,this.url,a)},Wa.prototype.refresh=function(){return F(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,sc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,a.sent()]}})})},Wa.prototype.enter=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,s=new qX({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(iM),l=s.participantCount,c=s.ts,this._updateParticipantCount(l,c),sc.of(this._iid).setEnteredToCache(this),[2]}})})},Wa.prototype.exit=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,s=new BX({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(aM),l=s.participantCount,c=s.ts,this._updateParticipantCount(l,c),sc.of(this._iid).setExitedToCache(this),ya.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},Wa.prototype.updateChannel=function(a){return F(this,void 0,void 0,function(){var s,l,c;return H(this,function(p){switch(p.label){case 0:return a=pe(pe({},oM),a),on(vt("string",(m=a).operatorUserIds,!0)&&(fe("string",m.coverUrlOrImage)||uo(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&fe("string",m.name,!0)&&fe("string",m.data,!0)&&fe("string",m.customType,!0)).throw(ye.invalidParameters),l=we.of(this._iid).requestQueue,s=new jX(pe({channelUrl:this.url},a)),[4,l.send(s)];case 1:return l=p.sent(),c=l.as(VX).channel,[4,sc.of(this._iid).upsertChannelsToCache([c])];case 2:return p.sent(),[2,c]}var m})})},Wa.prototype.updateChannelWithOperatorUserIds=function(a,s,l,c,p){return F(this,void 0,void 0,function(){var m;return H(this,function(g){return m=pe(pe({},oM),{name:a,coverUrlOrImage:s,data:l,operatorUserIds:c,customType:p}),[2,this.updateChannel(m)]})})},Wa.prototype.delete=function(){return F(this,void 0,void 0,function(){var a,s;return H(this,function(l){switch(l.label){case 0:return a=we.of(this._iid).requestQueue,s=new WX({channelUrl:this.url}),[4,a.send(s)];case 1:return l.sent(),[4,sc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return l.sent(),[2]}})})};var vM,_M,d1,Md=Wa;function Wa(a,s){var l,c=this;return(c=vM.call(this,a,s)||this)._lastParticipantCountUpdated=0,c.participantCount=0,c.operators=[],c.channelType=yr.OPEN,c.participantCount=(l=s.participant_count)!=null?l:0,c.operators=Array.isArray(s.operators)?s.operators.map(function(p){return new Kn(a,p)}):[],c}function KX(a){a===void 0&&(a={});var s=_M.call(this)||this;return Object.keys(a).forEach(function(l){s.hasOwnProperty(l)&&(s[l]=a[l])}),s}function bM(){var a=d1!==null&&d1.apply(this,arguments)||this;return a.onUserEntered=Ut,a.onUserExited=Ut,a.onChannelParticipantCountChanged=Ut,a}Y(bM,d1=function(){this.onUserMuted=Ut,this.onUserUnmuted=Ut,this.onUserBanned=Ut,this.onUserUnbanned=Ut,this.onChannelChanged=Ut,this.onChannelDeleted=Ut,this.onChannelFrozen=Ut,this.onChannelUnfrozen=Ut,this.onOperatorUpdated=Ut,this.onChannelMemberCountChanged=Ut,this.onMetaDataCreated=Ut,this.onMetaDataUpdated=Ut,this.onMetaDataDeleted=Ut,this.onMetaCounterCreated=Ut,this.onMetaCounterUpdated=Ut,this.onMetaCounterDeleted=Ut,this.onMessageReceived=Ut,this.onMessageUpdated=Ut,this.onMessageDeleted=Ut,this.onMentionReceived=Ut,this.onReactionUpdated=Ut,this.onThreadInfoUpdated=Ut}),Y(KX,_M=bM),Y(xM,EM=Qe);var Um,h1,yM,EM,QX=xM,YX=(Y(wM,yM=Ze),wM),XX=(Y(Lm,h1=tn),Lm.prototype._validate=function(){return h1.prototype._validate.call(this)&&fe("boolean",this.includeFrozen)&&fe("boolean",this.includeMetaData)&&fe("string",this.nameKeyword,!0)&&fe("string",this.urlKeyword,!0)&&vt("string",this.customTypes,!0)},Lm.prototype.next=function(){return F(this,void 0,void 0,function(){var a,s,l,c;return H(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,s=new QX(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,3]:[3,6];case 1:return a=p.sent(),s=a.as(YX),l=s.channels,c=s.token,this._token=c,this._hasNext=!!c,[4,sc.of(this._iid).upsertChannelsToCache(l)];case 2:return p.sent(),this._isLoading=!1,[2,l];case 3:return[2,[]];case 4:throw ye.queryInProgress;case 5:return[3,7];case 6:throw ye.invalidParameters;case 7:return[2]}})})},Lm),JX=(Y(cs,Um=ra),cs.prototype.init=function(a,w){var l=w.sdkState,c=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;Um.prototype.init.call(this,a,{sdkState:l,dispatcher:c,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new sc(a,{sdkState:l,dispatcher:c,requestQueue:m})},cs.prototype.createOpenChannelListQuery=function(a){return new XX(this._iid,a=a===void 0?{}:a)},cs.prototype.addOpenChannelHandler=function(a,s){this._manager.addHandler(a,s)},cs.prototype.removeOpenChannelHandler=function(a){this._manager.removeHandler(a)},cs.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},cs.prototype.buildOpenChannelFromSerializedData=function(a){return this._manager.buildOpenChannelFromSerializedData(a)},cs.prototype.getChannel=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this._manager.getChannel(a)]})})},cs.prototype.getChannelWithoutCache=function(a){return F(this,void 0,void 0,function(){return H(this,function(s){return[2,this._manager.getChannelWithoutCache(a)]})})},cs.prototype.createChannel=function(a){return a===void 0&&(a={}),F(this,void 0,void 0,function(){return H(this,function(s){return[2,this._manager.createChannel(a)]})})},cs.prototype.createChannelWithOperatorUserIds=function(a,s,l,c,p){return F(this,void 0,void 0,function(){var m;return H(this,function(g){return(m=pe({},$R)).name=a,m.coverUrlOrImage=s,m.data=l,m.operatorUserIds=c,m.customType=p,[2,this._manager.createChannel(m)]})})},cs);function cs(){var a=Um!==null&&Um.apply(this,arguments)||this;return a.name="openChannel",a}function Lm(a,s){var l=this;return(l=h1.call(this,a,s)||this).includeFrozen=!0,l.includeMetaData=!0,l.nameKeyword=null,l.urlKeyword=null,l.customTypes=null,l.includeFrozen=(a=s.includeFrozen)==null||a,l.includeMetaData=(a=s.includeMetaData)==null||a,l.nameKeyword=(a=s.nameKeyword)!=null?a:null,l.urlKeyword=(a=s.urlKeyword)!=null?a:null,l.customTypes=(a=s.customTypes)!=null?a:null,l}function wM(a,m){var l=yM.call(this,a,m)||this,c=(l.token=null,l.channels=[],l.ts=null,m.next),p=m.channels,m=m.ts;return l.token=c,p&&0<p.length&&(l.channels=p.map(function(g){return new Md(a,g)})),l.ts=typeof m=="number"?m:null,l}function xM(w){var s=this,l=w.token,c=w.limit,p=w.nameKeyword,m=w.urlKeyword,g=w.customTypes,b=w.includeFrozen,w=w.includeMetaData;return(s=EM.call(this)||this).method=Ve.GET,s.path=Qu,s.params=Gn({token:l,limit:c,name_contains:p,url_contains:m,custom_types:g,show_frozen:b,show_metadata:w}),s}function kM(a){return function(p,m,b){var p=CM(aJ(p)),m=iJ(m),g=p.length,b=b===void 0?" ":CM(b);return m<=g||b==""?p:((g=sJ(b,lJ((m=m-g)/b.length))).length>m&&(g=oJ(g,0,m)),a?p+g:g+p)}}var ZX=function(){_(p,Ol);var a,s,l,c=C(p);function p(m){var g;return d(this,p),(g=c.call(this))._ctx=m,g.wsClient=new rK(i(i({},m),{},{parse:function(b){return er.parse(b)}})),g.apiClient=new iK(i(i({},m),{},{parseResponse:function(b,w){return er.parseResponse(b,w)}})),g._unsubscriber=g.wsClient.on("command",function(b){g._dispatchEvent("command",b)}),g}return f(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"sendAPI",value:function(m){return this.apiClient.send(m)}},{key:"send",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"sendWithRetry",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q,G=this,re=arguments;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return b=1<re.length&&re[1]!==void 0?re[1]:new _W,L=2<re.length&&re[2]!==void 0?re[2]:{count:0,deferred:new kb},w=L.deferred,O=L.count,ae.prev=3,ae.next=6,this.send(g);case 6:L=ae.sent,w.resolve(L),ae.next=14;break;case 10:ae.prev=10,ae.t0=ae.catch(3),0<(q=b.calcTimeout(O))?setTimeout(function(){G.sendWithRetry(g,b,{count:O+1,deferred:w})},q):w.reject(ae.t0);case 14:return ae.abrupt("return",w.promise);case 15:case"end":return ae.stop()}},m,this,[[3,10]])})),function(m){return s.apply(this,arguments)})},{key:"_setSessionKey",value:function(m){this.apiClient.setSessionKey(m),this.wsClient.setSessionKey(m)}},{key:"authenticate",value:(a=u(regeneratorRuntime.mark(function m(g){var b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return b=g.userId,w=g.accessToken,this._ctx.sb||(this._ctx.sb=IX.init({appId:this._ctx.appId,modules:[new JX]})),L.prev=2,L.next=5,this._ctx.sb.connect(b,w);case 5:return O=er.createAuth(this._ctx.appId,b,w),L.next=8,this.send(O);case 8:O=L.sent,this._setSessionKey(O.sbcall_session_token),this._ctx.liveEventManager.userId=O.user.user_id,L.next=17;break;case 13:throw L.prev=13,L.t0=L.catch(2),fn.error("failed to authenticate user ".concat(b)),L.t0;case 17:case"end":return L.stop()}},m,this,[[2,13]])})),function(m){return a.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(),eJ=Rn,nJ=Rs,tJ=He,rJ=RangeError,yt=Xn,iJ=Cn,CM=Rs,aJ=He,sJ=yt(function(a){var s=nJ(tJ(this)),l="",c=eJ(a);if(c<0||c==1/0)throw rJ("Wrong number of repetitions");for(;0<c;(c>>>=1)&&(s+=s))1&c&&(l+=s);return l}),oJ=yt("".slice),lJ=Math.ceil,Pt={start:kM(!1),end:kM(!0)},xa=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Uo),Xr=Z,uJ=Pt.start,p1=(Xr({target:"String",proto:!0,forced:xa},{padStart:function(a){return uJ(this,a,1<arguments.length?arguments[1]:void 0)}}),{VERBOSE:{level:-1,name:gi.VERBOSE,public:!1},DEBUG:{level:1,name:gi.DEBUG,public:!1},INFO:{level:2,name:gi.INFO,public:!0},WARNING:{level:3,name:gi.WARNING,public:!0},ERROR:{level:4,name:gi.ERROR,public:!0},NONE:{level:100,name:gi.NONE,public:!0}}),cJ=function(){function a(s){d(this,a),this.level=s||gi.NONE}return f(a,[{key:"setLoggerLevel",value:function(s){var l;return(l=p1[s])!=null&&l.public&&(this.level=s),this.level}},{key:"_enabledFor",value:function(s){try{return p1[this.level].level<=p1[s].level}catch{return!1}}}]),a}(),dJ=function(){_(s,cJ);var a=C(s);function s(l){return d(this,s),a.call(this,l)}return f(s,[{key:"_getLogType",value:function(l){switch(l){case gi.ERROR:return"error";case gi.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(O){var c=O.getFullYear().toString().padStart(2,"0"),p=(O.getMonth()+1).toString().padStart(2,"0"),m=O.getDate().toString().padStart(2,"0"),g=O.getHours().toString().padStart(2,"0"),b=O.getMinutes().toString().padStart(2,"0"),w=O.getSeconds().toString().padStart(2,"0"),O=O.getMilliseconds().toString().padStart(2,"0");return"[".concat(c,".").concat(p,".").concat(m," ").concat(g,":").concat(b,":").concat(w,":").concat(O,"]")}},{key:"_permit",value:function(l){var c=this._getLogType(l),p=new Date;if(this._enabledFor(l)&&console&&console[c]){for(var p="".concat(this._getTimeString(p)," [").concat(l,"]"),m=arguments.length,g=new Array(1<m?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];(l=console)[c].apply(l,[p].concat(g))}}}]),s}(),jn=function(){function a(){d(this,a),v(this,"_ctx",{})}var s,l,c,p;return f(a,[{key:"init",value:function(b){var g=b.appId,b=b.chatInstance;b&&(this._ctx.sb=b),this._consoleLogListener=new dJ(gi.NONE),fn.addListener(this._consoleLogListener),this._ctx.appId=g,this._ctx.clientId=Ne(),this._ctx.commandRouter=new ZX(this._ctx),this._ctx.deviceManager=new nK,this._ctx.liveEventManager=new LW(this._ctx)}},{key:"setLoggerLevel",value:function(m){return this._consoleLogListener.setLoggerLevel(m)}},{key:"authenticate",value:(p=u(regeneratorRuntime.mark(function m(g,b){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._ctx.commandRouter.authenticate({userId:g,accessToken:b});case 2:return w.next=4,this._ctx.commandRouter.connectWs();case 4:case"end":return w.stop()}},m,this)})),function(m,g){return p.apply(this,arguments)})},{key:"deauthenticate",value:(c=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),fn.removeAllListener();case 5:case"end":return g.stop()}},m,this)})),function(){return c.apply(this,arguments)})},{key:"createLiveEvent",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.createLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(s=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.getLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return s.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(m){return new NB(m,this._ctx.commandRouter)}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}}]),a}(),mn=(t.ErrorCode=void 0,($n=t.ErrorCode||(t.ErrorCode={}))[$n.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",$n[$n.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",$n[$n.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",$n[$n.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",$n[$n.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",$n[$n.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",$n[$n.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",$n[$n.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",$n[$n.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",new jn);t.LiveEvent=Nb,t.SendbirdLive=mn,Object.defineProperty(t,"__esModule",{value:!0})})})(Ir,Ir.exports);var qee="sendbird-modal-root";function Zi(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var Bee=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;Zi(Bee);var Gee=function(n){var e=n.children,t=n.isOpen,r=t===void 0?!1:t;n.close;var i=n.modalRoot,o=i===void 0?qee:i,u=n.className,d=u===void 0?"":u,h=n.modalClassName,f=h===void 0?"":h;if(!r)return null;var v=document.getElementById(o);return Mh.exports.createPortal(k.createElement("div",{className:"sendbird-modal__wrapper ".concat(d)},k.createElement("div",{className:"sendbird-modal__mask"}),k.createElement("div",{className:"sendbird-modal__container ".concat(f)},e)),v)},dh=function(n,e){var t=U.exports.useState(!1),r=t[0],i=t[1],o=U.exports.useCallback(function(){return i(!0)},[i]),u=U.exports.useCallback(function(){return i(!1)},[i]),d=function(h){var f=h.children;return k.createElement(Gee,{isOpen:r,close:u,className:n,modalClassName:e},f)};return[d,o,u]};function F5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(t),!0).forEach(function(r){$ee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $ee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sl(n,e){return jee(n)||Wee(n,e)||m7(n,e)||Qee()}function wc(n){return zee(n)||Vee(n)||m7(n)||Kee()}function zee(n){if(Array.isArray(n))return f2(n)}function jee(n){if(Array.isArray(n))return n}function Vee(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Wee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,u,d;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(h){o=!0,d=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw d}}return r}}function m7(n,e){if(!!n){if(typeof n=="string")return f2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f2(n,e)}}function f2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de={exports:{}},K1,H5;function Yee(){if(H5)return K1;H5=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K1=n,K1}var Q1,q5;function Xee(){if(q5)return Q1;q5=1;var n=Yee();function e(){}function t(){}return t.resetWarningCache=e,Q1=function(){function r(u,d,h,f,v,_){if(_!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Q1}de.exports=Xee()();var c3=k.createContext(),Jee=function(e,t){var r=function(u){return k.createElement(c3.Consumer,null,function(d){t&&typeof t!="function"&&console.warn("Second parameter to withSendbirdContext must be a pure function");var h=wr(t&&typeof t=="function"?wr({},t(d)):wr({},d),u);return k.createElement(e,h)})},i=e.displayName||e.name||"Component";return r.displayName="SendbirdAware".concat(i),r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m2=function(n,e){return m2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},m2(n,e)};function B(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}m2(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ee=function(){return ee=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},ee.apply(this,arguments)};function T(n,e,t,r){return new(t||(t=Promise))(function(i,o){function u(f){try{h(r.next(f))}catch(v){o(v)}}function d(f){try{h(r.throw(f))}catch(v){o(v)}}function h(f){var v;f.done?i(f.value):(v=f.value,v instanceof t?v:new t(function(_){_(v)})).then(u,d)}h((r=r.apply(n,e||[])).next())})}function I(n,e){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(h){return function(f){return function(v){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&v[0]?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!((i=i.length>0&&i[i.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){u.label=v[1];break}if(v[0]===6&&u.label<i[1]){u.label=i[1],i=v;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(v);break}i[2]&&u.ops.pop(),u.trys.pop();continue}v=e.call(n,u)}catch(_){v=[6,_],r=0}finally{t=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([h,f])}}}function $e(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,i,o=t.call(n),u=[];try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(d){i={error:d}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return u}function vn(n,e,t){if(t||arguments.length===2)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var et,Zee="4.0.4",Nc=function(){function n(){}return Object.defineProperty(n,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_VERSION",{get:function(){return"4.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_MAJOR_VERSION",{get:function(){return n.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(n,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),n}();(function(n){n[n.INVALID_TOKEN=400111]="INVALID_TOKEN",n[n.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",n[n.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",n[n.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",n[n.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",n[n.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",n[n.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",n[n.LOST_INSTANCE=700100]="LOST_INSTANCE",n[n.CONNECTION_RENEW=700102]="CONNECTION_RENEW",n[n.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",n[n.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",n[n.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",n[n.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",n[n.INVALID_PARAMETER=800110]="INVALID_PARAMETER",n[n.NETWORK_ERROR=800120]="NETWORK_ERROR",n[n.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",n[n.MALFORMED_DATA=800130]="MALFORMED_DATA",n[n.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",n[n.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",n[n.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",n[n.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",n[n.ACK_TIMEOUT=800180]="ACK_TIMEOUT",n[n.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",n[n.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",n[n.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",n[n.REQUEST_FAILED=800220]="REQUEST_FAILED",n[n.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",n[n.REQUEST_CANCELED=800240]="REQUEST_CANCELED",n[n.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",n[n.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",n[n.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",n[n.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",n[n.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(et||(et={}));var Ae,Ks=function(n){return!(n instanceof le&&!n.shouldThrowOutside)},le=function(n){function e(t){var r=t.code,i=r===void 0?0:r,o=t.message,u=n.call(this,o)||this;return u.shouldThrowOutside=!1,u.name="SendbirdError",u.code=i,Object.setPrototypeOf(u,e.prototype),u}return B(e,n),Object.defineProperty(e.prototype,"isInvalidTokenError",{get:function(){return this.code===et.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===et.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===et.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(e,"debugModeRequired",{get:function(){return new e({code:et.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"lostInstance",{get:function(){return new e({code:et.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"connectionRenew",{get:function(){return new e({code:et.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"invalidConnectionStateTransition",{get:function(){return new e({code:et.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"connectionRequired",{get:function(){return new e({code:et.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"connectionCanceled",{get:function(){return new e({code:et.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"invalidParameters",{get:function(){return new e({code:et.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"networkError",{get:function(){return new e({code:et.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"markAsReadAllRateLimitExceeded",{get:function(){return new e({code:et.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"queryInProgress",{get:function(){return new e({code:et.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"noAckTimeout",{get:function(){return new e({code:et.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"loginTimeout",{get:function(){return new e({code:et.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"connectionClosed",{get:function(){return new e({code:et.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"requestFailed",{get:function(){return new e({code:et.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fileUploadCanceled",{get:function(){return new e({code:et.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"requestCanceled",{get:function(){return new e({code:et.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sessionTokenRefreshFailed",{get:function(){return new e({code:et.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sessionTokenRequestFailed",{get:function(){return new e({code:et.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),e.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},e}(Error),ene=[et.CONNECTION_REQUIRED,et.NETWORK_ERROR,et.ACK_TIMEOUT,et.WEBSOCKET_CONNECTION_CLOSED,et.WEBSOCKET_CONNECTION_FAILED,et.FILE_UPLOAD_CANCEL_FAILED,et.REQUEST_CANCELED,et.INTERNAL_SERVER_ERROR,et.RATE_LIMIT_EXCEEDED,et.UNKNOWN_SERVER_ERROR],nne=[et.WEBSOCKET_CONNECTION_CLOSED,et.WEBSOCKET_CONNECTION_FAILED,et.CONNECTION_REQUIRED],g7=function(n,e){if(n!==e){var t=ee({},n),r=ee({},e);return(!t.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||t.messageId===r.messageId)&&(!t.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}return!0},J=function(n,e,t){return t===void 0&&(t=!1),!(!t||e!=null)||(typeof n!="string"?typeof n=="object"?Nn(n,e):tne(n,e):typeof e===n)},Nn=function(n,e,t){return t===void 0&&(t=!1),!(!t||e!=null)||Object.values(n).includes(e)},tne=function(n,e){return e instanceof n},In=function(n,e,t){return t===void 0&&(t=!1),!(!t||e!=null)||Array.isArray(e)&&e.every(function(r){return J(n,r)})},sv=function(n){return n>0&&nne.indexOf(n)>=0},Mi=function(n,e){if(e===void 0&&(e=!1),e&&n===null)return!0;var t=J("object",n)&&n!==null&&n.hasOwnProperty("name")&&typeof n.name=="string"&&n.hasOwnProperty("uri")&&typeof n.uri=="string"&&n.hasOwnProperty("type")&&typeof n.type=="string";if(!t){if(typeof Blob<"u")return n instanceof Blob;if(typeof File<"u")return n instanceof File}return t},rne=function(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(var t=vn([],_n(n),!1).sort(),r=vn([],_n(e),!1).sort(),i=0;i<t.length;++i)if(t[i]!==r[i])return!1;return!0},v7=function(){function n(e){var t=e===void 0?{}:e,r=t.useMemberInfoInMessage,i=r!==void 0&&r,o=t.typingIndicatorInvalidateTime,u=o===void 0?1e4:o,d=t.typingIndicatorThrottle,h=d===void 0?1e3:d,f=t.websocketResponseTimeout,v=f===void 0?1e4:f;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=i,this._typingIndicatorInvalidateTime=u,this._typingIndicatorThrottle=h,this._websocketResponseTimeout=v}return Object.defineProperty(n.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(e){J("boolean",e)&&(this._useMemberInfoInMessage=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(e){J("number",e)&&(this._typingIndicatorInvalidateTime=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(e){J("number",e)&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(e){J("number",e)&&e>=5e3&&e<=3e4&&(this._websocketResponseTimeout=e)},enumerable:!1,configurable:!0}),n}(),Ai={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},zv={encrypt:function(n){return n},decrypt:function(n){return n}},ine=function(){function n(e){var t=e.store;this._preference=new Map,this._store=t}return n.prototype._savePreferenceKeys=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._store.set({key:this._keysAddress,value:vn([],_n(this._preference.keys()),!1),generation:1})];case 1:return e.sent(),[2]}})})},n.prototype.init=function(e){var t;return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._keysAddress=e,[4,this._store.get(e)];case 1:r=(t=_.sent())!==null&&t!==void 0?t:[],_.label=2;case 2:_.trys.push([2,7,8,9]),i=$e(r),o=i.next(),_.label=3;case 3:return o.done?[3,6]:(u=o.value,[4,this._store.get(u)]);case 4:(d=_.sent())&&this._preference.set(u,d),_.label=5;case 5:return o=i.next(),[3,3];case 6:return[3,9];case 7:return h=_.sent(),f={error:h},[3,9];case 8:try{o&&!o.done&&(v=i.return)&&v.call(i)}finally{if(f)throw f.error}return[7];case 9:return[2]}})})},n.prototype.get=function(e){var t;return T(this,void 0,void 0,function(){return I(this,function(r){return[2,(t=this._preference.get(e))!==null&&t!==void 0?t:null]})})},n.prototype.set=function(e,t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=!this._preference.has(e),[4,this._store.set({key:e,value:t,generation:1})];case 1:return i.sent(),this._preference.set(e,t),r?[4,this._savePreferenceKeys()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._store.remove(e)];case 1:return t.sent(),this._preference.delete(e),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._store.removeMany(vn([],_n(this._preference.keys()),!1))];case 1:return e.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}})})},n}(),ane=function(n){var e=n.encryption,t=e===void 0?null:e,r=n.store,i=r===void 0?null:r,o=n.localCacheEnabled,u=o===void 0||o;this.nestdb=null,this.store=i,this.preference=new ine({store:i}),this.encryption=t!=null?t:zv,this.localCacheEnabled=u},sne=function(){function n(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(n.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.authToken=null,this.sessionKey=null},n}(),ys=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(e==="x"?t:3&t|8).toString(16)})},B5=function(){function n(e){var t=e.container;this._container={},this._container=t,this.key=ys()}return n.prototype._register=function(e,t,r){return e in this._container||(this._container[e]=new Map),this._container[e].set(this.key,{occurence:t,handler:r}),this},n.prototype.on=function(e,t){return this._register(e,-1,t)},n.prototype.once=function(e,t){return this._register(e,1,t)},n.prototype.close=function(){for(var e in this._container)this._container[e].delete(this.key)},n}(),p0=function(){function n(){this._container={}}return n.prototype.on=function(e,t){return new B5({container:this._container}).on(e,t)},n.prototype.once=function(e,t){return new B5({container:this._container}).once(e,t)},n.prototype.dispatch=function(e,t){var r,i,o=this._container[e];if(o){var u=[];try{for(var d=$e(o.keys()),h=d.next();!h.done;h=d.next()){var f=h.value,v=o.get(f);v.handler(t),v.occurence>0&&(v.occurence--,v.occurence===0&&u.push(f))}}catch(_){r={error:_}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}u.forEach(function(_){return o.delete(_)})}},n}(),one=function(){function n(){this._dispatcher=new p0}return n.prototype.on=function(e){return this._dispatcher.on("event",e)},n.prototype.once=function(e){return this._dispatcher.once("event",e)},n.prototype.dispatch=function(e){this._dispatcher.dispatch("event",e)},n}(),ni=function(){},wn=function(n){var e={};return n&&Object.keys(n).forEach(function(t){n[t]!==void 0&&n[t]!==NaN&&n[t]!==null&&(e[t]=n[t])}),e};(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE"})(Ae||(Ae={}));var ov,De=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=ys(),t}return B(e,n),e.prototype.stringifyParams=function(t){return typeof t!="object"||Array.isArray(t)?String(t):t?JSON.stringify(t):""},Object.defineProperty(e.prototype,"query",{get:function(){var t=this,r=wn(this.params);return"?".concat(Object.keys(r).map(function(i){return"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t.stringifyParams(r[i])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payload",{get:function(){var t=this,r=wn(this.params);if(Object.keys(r).some(function(o){return Mi(r[o])})){var i=new FormData;return Object.keys(r).forEach(function(o){var u,d=r[o];if(Mi(d)){var h=d;i.append(o,h,(u=h.name)!==null&&u!==void 0?u:"filename")}else i.append(o,t.stringifyParams(d))}),i}return JSON.stringify(r)},enumerable:!1,configurable:!0}),e}(ni),Pe=function(n){function e(t,r){var i=n.call(this)||this;return i._iid=t,i._payload=r,i}return B(e,n),Object.defineProperty(e.prototype,"payload",{get:function(){return ee({},this._payload)},enumerable:!1,configurable:!0}),e.prototype.as=function(t){return new t(this._iid,this.payload)},e}(ni),lne=function(n){function e(t){var r=n.call(this)||this;return r.requestId=t,r}return B(e,n),e}(ni),jv=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return B(e,n),e}(ni),d3=function(n){function e(t){var r=n.call(this)||this;return r.statLog=t,r}return B(e,n),e}(ni);(function(n){n.WEBSOCKET_CONNECT="ws:connect",n.API_RESULT="api:result"})(ov||(ov={}));var yu,Yf=function(){function n(e){var t=e.type,r=e.data,i=e.ts,o=i===void 0?Date.now():i;this.type=t,this.createdAt=o,this.data=r}return n.payloadify=function(e){return wn({stat_type:e.type,ts:e.createdAt,data:wn(e.data)})},n}(),bo=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},une=function(){function n(e,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,d=this;this._abortControl=new Map,this._iid=e,this._auth=r,this._sdkState=i,this._dispatcher=o,this._dispatcher.on(function(h){h instanceof lne&&d.cancel(h.requestId)}),this._logger=u}return Object.defineProperty(n.prototype,"_userAgentWithExtension",{get:function(){var e=this._sdkState.extensions,t=bo()?"reactnative":"JS",r=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",i=e.sb_uikit?"u".concat(e.sb_uikit):"",o=e["device-os-platform"]?"o".concat(e["device-os-platform"]):"";return"".concat(t,"/c").concat(Nc.SDK_VERSION,"/").concat(r,"/").concat(i,"/").concat(o)},enumerable:!1,configurable:!0}),n.prototype._createHeader=function(e,t){t===void 0&&(t=null);var r=this._sdkState,i=r.appId,o=r.appVersion,u=ee(ee({},e.headers),{SendBird:"JS,".concat(Nc.OS_VERSION,",").concat(Nc.SDK_VERSION,",").concat(i).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(u["Content-Type"]="application/json; charset=utf-8"),e.requireAuth&&this._auth.hasSession&&(u["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(u["App-Id"]=i,u["Access-Token"]=this._auth.authToken),u},n.prototype._statLogApiResult=function(e,t,r){this._dispatcher.dispatch(new d3(new Yf({type:ov.API_RESULT,data:{endpoint:e.path,method:e.method,success:!r,latency:Date.now()-t,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},n.prototype.send=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x,C,M;return I(this,function(N){switch(N.label){case 0:t=e.path,r=e.method,i=![Ae.GET,Ae.DELETE].includes(r),o=this._sdkState.api,u="".concat(o.host).concat(t).concat(i?"":e.query),d=i?e.payload:null,h=this._createHeader(e,d instanceof FormData?d:null),f=new AbortController,v=f.signal,this._abortControl.set(e.requestId,f),_=Date.now(),N.label=1;case 1:return N.trys.push([1,4,,5]),[4,fetch(u,{method:r,body:d,headers:h,signal:v})];case 2:return[4,(y=N.sent()).json()];case 3:if(E=N.sent(),y.ok||y.redirected)return this._logger.debug("receive api response",e.requestId),this._statLogApiResult(e,_,null),[2,new Pe(this._iid,E)];throw E?((x=new le(E)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new jv),this._statLogApiResult(e,_,x),x):(x=le.requestFailed,this._statLogApiResult(e,_,x),x);case 4:throw C=N.sent(),this._statLogApiResult(e,_,C),C instanceof le?(this._logger.debug("fail api request",C),C):C.name==="AbortError"?le.requestCanceled:(M=le.networkError,this._logger.debug("fail api request",M),M);case 5:return[2]}})})},n.prototype.cancel=function(e){this._abortControl.has(e)&&(this._abortControl.get(e).abort(),this._abortControl.delete(e))},n.prototype.cancelAll=function(){var e,t;try{for(var r=$e(this._abortControl.values()),i=r.next();!i.done;i=r.next())i.value.abort()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._abortControl.clear()},n}(),Mt=function(n){function e(t,r,i,o){o===void 0&&(o="");var u,d=this;return(d=n.call(this)||this)._iid=t,d.code=r,d.payload=i,d.requestId=i?(u=i.req_id)!==null&&u!==void 0?u:o:"",d}return B(e,n),e.createFromRawMessage=function(t,r){var i=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{i="NOOP"}finally{return new e(t,i,o)}},e.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},e.prototype.as=function(t){return new t(this._iid,this.code,this.payload)},e}(ni),Fa=function(n){function e(t){var r,i=t.code,o=t.ackRequired,u=t.payload,d=u===void 0?null:u,h=this;return(h=n.call(this)||this).code=i,h.payload=d,h.requestId=(r=h.payload.req_id)!==null&&r!==void 0?r:ys(),h.ackRequired=o,h.payload.req_id=h.requestId,h}return B(e,n),e.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},e}(ni),cne=function(n){function e(){return n.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return B(e,n),e}(Fa),dne=function(){function n(e){var t=e.pingDelegate,r=e.sdkState,i=e.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=r,this._logger=i}return Object.defineProperty(n.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),n.prototype.ping=function(){var e,t=this,r=new cne;try{var i=(e=this.sdkState.websocket.pongTimeout)!==null&&e!==void 0?e:5e3;this._pingTimeoutTimer=setTimeout(function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)},i),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},n.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n.prototype.refreshTimer=function(){var e,t=this;this._logger.debug("pinger.refreshTimer()");var r=(e=this.sdkState.websocket.pingInterval)!==null&&e!==void 0?e:15e3;this.stop(),this._pingTimer=setInterval(function(){t.ping()},r)},n.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},n.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n}(),Ln=function(){};(function(n){n.CONNECTING="CONNECTING",n.OPEN="OPEN",n.CLOSED="CLOSED"})(yu||(yu={}));var It,hne=function(n){function e(t,r){var i=r.sdkState,o=r.dispatcher,u=r.logger,d=n.call(this)||this;return d._pinger=null,d.lastActive=0,d._iid=t,d._sdkState=i,d._dispatcher=o,d._logger=u,d._sdkState.websocket.pingerDisabled||(d._pinger=new dne({pingDelegate:{send:function(h){return d.send(h)},error:function(h){return d.error(h)}},sdkState:d._sdkState,logger:u})),d}return B(e,n),Object.defineProperty(e.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return yu.CONNECTING;case 1:return yu.OPEN}return yu.CLOSED},enumerable:!1,configurable:!0}),e.prototype.connect=function(t){var r=this;this._ws=new WebSocket(t),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(i){i.data.split(`
`).forEach(function(o){if(o&&J("string",o)){var u=Mt.createFromRawMessage(r._iid,o);r._logger.debug("receive websocket event",u),u.code==="LOGI"?(u.payload&&!u.payload.error&&r._pinger&&r._pinger.start(),r.dispatch("message",u)):u.code==="PONG"?r._pinger&&r._pinger.pong():u.code==="EXPR"?u.payload&&u.payload.expires_in>0&&r._dispatcher.dispatch(new jv):u.code==="NOOP"||r.dispatch("message",u)}})},this._ws.onerror=function(){r._logger.debug("websocket error"),r._pinger&&r._pinger.stop(),r.dispatch("error",le.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r._pinger&&r._pinger.stop(),r.dispatch("close")},this.lastActive=Date.now()},e.prototype.disconnect=function(){var t=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Ln,this._ws.onmessage=Ln,this._ws.onerror=Ln,this._ws.onclose=function(){t.dispatch("close")},this._ws.close(),this._ws=null)},e.prototype.send=function(t){if(!this._ws)throw le.connectionClosed;t.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",t),this._ws.send(t.convertToMessage())},e.prototype.error=function(t){this._logger.debug("websocket error",t),this._pinger&&this._pinger.stop(),this.dispatch("error",t)},e}(p0),_7=function(n){function e(t){var r=t.all,i=t.custom_types,o=t.ts,u=n.call(this)||this;return u.all=r,u.customTypes=i,u.ts=o,u}return B(e,n),e}(ni),ca=function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})},pne=function(){function n(e,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,d=this;this._ackStateMap=new Map,this._sdkState=i,this._dispatcher=o,this._logger=u,this.apiClient=new une(e,{auth:r,sdkState:i,dispatcher:o,logger:u}),this.websocketClient=new hne(e,{sdkState:i,dispatcher:o,logger:u}),this.websocketClient.on("message",function(h){if(h.payload.unread_cnt&&d._dispatcher.dispatch(new _7(h.payload.unread_cnt)),h.requestId){if(d._ackStateMap.has(h.requestId)){var f=d._ackStateMap.get(h.requestId);h.code!=="EROR"?f.resolve(h):f.reject(new le({code:h.payload.code,message:h.payload.message}))}}else d._dispatcher.dispatch(h)}).on("close",function(){d._ackStateMap.forEach(function(h){h.reject(le.connectionClosed)}),d._ackStateMap.clear()})}return n.prototype._sendApiRequest=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this.apiClient.send(e)];case 1:return[2,t.sent()]}})})},n.prototype._sendWebsocketRequest=function(e){return T(this,void 0,void 0,function(){var t,r,i,o=this;return I(this,function(u){if(t=new ca,e.ackRequired){r=null,i=function(d,h){d===void 0&&(d=null),h===void 0&&(h=null),o._ackStateMap.has(e.requestId)&&(o._ackStateMap.delete(e.requestId),r&&(clearTimeout(r),r=null),d?(o._logger.debug("fail websocket request",d),t.reject(d)):(o._logger.debug("receive websocket ack",e.requestId),t.resolve(h)))};try{r=setTimeout(function(){return i(le.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(e.requestId,{resolve:function(d){return i(null,d)},reject:function(d){return i(d)}}),this.websocketClient.send(e)}catch(d){i(d)}}else try{this.websocketClient.send(e),t.resolve(null)}catch(d){t.reject(d)}return[2,t.promise]})})},n.prototype.send=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e instanceof De?[4,this._sendApiRequest(e)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return e instanceof Fa?[4,this._sendWebsocketRequest(e)]:[3,4];case 4:throw le.invalidParameters}})})},n.prototype.cancel=function(e){this.apiClient.cancel(e)},n.prototype.cancelAll=function(){this.apiClient.cancelAll()},n}();(function(n){n[n.NONE=0]="NONE",n[n.INITIALIZED=1]="INITIALIZED",n[n.CONNECTING=2]="CONNECTING",n[n.CONNECTED=3]="CONNECTED",n[n.RECONNECTING=4]="RECONNECTING",n[n.DISCONNECTED=5]="DISCONNECTED",n[n.LOGOUT=6]="LOGOUT"})(It||(It={}));var Ct,Es,_r,di,Eh,pi,Xi,ku,Ht,no=function(n){function e(t){var r=t.stateType,i=n.call(this)||this;return i.stateType=r,i}return B(e,n),e}(ni),fne=function(){function n(e,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,d=this;this._currentConnectionStateType=It.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new pne(e,{auth:r,sdkState:i,dispatcher:o,logger:u}),this._auth=r,this._logger=u,this._dispatcher=o,this._dispatcher.on(function(h){if(h instanceof no){var f=h.stateType;switch(d._currentConnectionStateType=f,f){case It.CONNECTED:var v=d._lazyCallQueue;d._lazyCallQueue=[],v.forEach(function(_){return T(d,void 0,void 0,function(){var y,E,x,C,M;return I(this,function(N){switch(N.label){case 0:y=_.command,E=_.deferred,x=_.timeout,clearTimeout(x),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.send(y)];case 2:return C=N.sent(),E.resolve(C),[3,4];case 3:return M=N.sent(),E.reject(M),[3,4];case 4:return[2]}})})});break;case It.INITIALIZED:case It.DISCONNECTED:case It.LOGOUT:v=d._lazyCallQueue,d._lazyCallQueue=[],v.forEach(function(_){return T(d,void 0,void 0,function(){var y,E;return I(this,function(x){return y=_.deferred,E=_.timeout,clearTimeout(E),this._auth&&this._auth.hasSession?y.reject(le.connectionClosed):y.reject(le.connectionRequired),[2]})})})}}})}return Object.defineProperty(n.prototype,"isReady",{get:function(){return this._currentConnectionStateType===It.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===It.CONNECTING||this._currentConnectionStateType===It.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.send=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return e instanceof Fa?this.isReady?(this._logger.debug("send websocket request",e),[4,this.commandRouter.send(e)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",e),t=new ca,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout(function(){return i.timeout(e.requestId)},1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),le.connectionRequired;case 3:return[3,7];case 4:return e instanceof De?this._auth.hasSession?(this._logger.debug("send api request",e),[4,this.commandRouter.send(e)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",e),t=new ca,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout(function(){return i.timeout(e.requestId)},1e4)}),[2,t.promise];throw r=le.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},n.prototype.forceSend=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this._logger.debug("send websocket request (forced)",e),[4,this.commandRouter.send(e)];case 1:return[2,t.sent()]}})})},n.prototype.timeout=function(e){this._logger.debug("timeout request",e);var t=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===e});t>-1&&(this._lazyCallQueue[t].deferred.reject(le.connectionRequired),this._lazyCallQueue.splice(t,1))},n.prototype.cancel=function(e){this._logger.debug("cancel api request",e),this.commandRouter.cancel(e)},n.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},n}(),mne=function(n){function e(t){var r=t.userId,i=t.authToken,o=t.expiringSession,u=o===void 0||o,d=n.call(this)||this;return d.path="/users/".concat(r,"/session_key"),d.method=Ae.POST,d.params={token:i,expiring_session:!!u},d.requireAuth=!1,d}return B(e,n),e}(De),gne=function(n){function e(t){var r=t.authToken,i=t.expiringSession,o=i===void 0||i;return n.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0},ackRequired:!0})||this}return B(e,n),e}(Fa),vne=function(n){function e(t,r){var i=n.call(this,t,r)||this,o=r.key;return i.key=o,i}return B(e,n),e}(Pe),_ne=function(n){function e(t,r,i){var o=n.call(this,t,"LOGI",i)||this;return o.error=null,o.newKey=i.new_key,o.error=i.error?new le(i.error):null,o}return B(e,n),e}(Mt),bne=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return B(e,n),e}(ni),fs=function(n){return T(void 0,void 0,void 0,function(){return I(this,function(e){return[2,new Promise(function(t){return setTimeout(t,n)})]})})},b7=function(){function n(){}return n.prototype.calcTimeout=function(){return 0},n}(),Vv=function(n,e,t){return t===void 0&&(t=new b7),T(void 0,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:r=0,i=null,o=function(v){return v===void 0&&(v=null),i=v!=null?v:new Error("Halted")},u=function(){r=0},f.label=1;case 1:if(!(e===-1||r<e))return[3,9];f.label=2;case 2:return f.trys.push([2,4,,8]),[4,n(o,u)];case 3:if(d=f.sent(),i)throw i;return[2,d];case 4:if(h=f.sent(),i)return[3,6];if(++r===e)throw h;return[4,fs(t.calcTimeout(r))];case 5:return f.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},en=function(n){return T(void 0,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:return t.sent(),[3,3];case 2:if(!((e=t.sent())instanceof le))throw e;return e.throwOutside(),[3,3];case 3:return[2]}})})},ws=function(n){return T(void 0,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}})})},yne=function(){function n(e){var t=e.auth,r=e.sdkState,i=e.dispatcher,o=e.requestQueue,u=e.logger,d=this;this._currentConnectionStateType=It.INITIALIZED,this.auth=t,this._sdkState=r,this._dispatcher=i,this._requestQueue=o,this._logger=u,this._dispatcher.on(function(h){if(h instanceof no){var f=h.stateType;d._currentConnectionStateType=f}else h instanceof jv&&d.refresh()})}return n.prototype.createRefreshWebsocketCommand=function(e){return new gne({authToken:e,expiringSession:!0})},n.prototype._refreshSessionKey=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f,v=this;return I(this,function(_){switch(_.label){case 0:if(this._currentConnectionStateType!==It.CONNECTED)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 2:if(i=_.sent(),o=i.as(_ne),u=o.newKey,d=o.error)throw d;return this.auth.sessionKey=u!=null?u:this.auth.sessionKey,this._logger.debug("session refreshed"),en(function(){return T(v,void 0,void 0,function(){return I(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2];case 3:if(h=_.sent(),Ks(h))throw h;return h.isSessionTokenExpiredError?(this._handleError(t),[2]):[3,4];case 4:return _.trys.push([4,6,,7]),f=new mne({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,Vv(function(y){return T(v,void 0,void 0,function(){var E,x,C;return I(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(f)];case 1:return E=M.sent(),x=E.as(vne).key,this.auth.sessionKey=x,[3,3];case 2:throw(C=M.sent()).isSessionTokenExpiredError&&y(le.sessionTokenRefreshFailed),C;case 3:return[2]}})})},3)];case 5:return _.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return _.sent(),this._handleError(t),[2];case 7:return en(function(){return T(v,void 0,void 0,function(){return I(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2]}})})},n.prototype._handleError=function(e){var t=this,r=le.sessionTokenRefreshFailed;en(function(){return T(t,void 0,void 0,function(){return I(this,function(i){return this.handler.onSessionError(r),[2]})})}),e&&e.reject(r)},n.prototype.refresh=function(){return T(this,void 0,void 0,function(){var e,t,r,i=this;return I(this,function(o){return this.handler?(e=new ca,t=function(u){u?(i._logger.debug("session refreshing.."),i.auth.authToken=u,i._refreshSessionKey(u,e)):(i._logger.debug("session closed"),en(function(){return T(i,void 0,void 0,function(){return I(this,function(d){return this.handler.onSessionClosed(),[2]})})}),e.resolve())},r=function(){i._dispatcher.dispatch(new bne);var u=le.sessionTokenRequestFailed;i.handler&&(en(function(){return T(i,void 0,void 0,function(){return I(this,function(d){return this.handler.onSessionError(u),[2]})})}),e.reject(u))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,e):en(function(){return T(i,void 0,void 0,function(){return I(this,function(u){return this.handler.onSessionTokenRequired(t,r),[2]})})}),[2,e.promise]):[2]})})},n}(),Lh=function(){function n(){this.type=It.NONE,this.name="none"}return n.prototype.run=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2]})})},n.prototype.onConnect=function(e,t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},n.prototype.onReconnect=function(e,t){return t.resetReconnectCount,T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},n.prototype.onDisconnect=function(e,t){return t.error,t.autoReconnect,T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},n.prototype.onLogout=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2]})})},n}(),Xf=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=It.LOGOUT,t.name="logout",t}return B(e,n),e.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return r=t.sdkState.userId,t.logout(),en(function(){return T(i,void 0,void 0,function(){return I(this,function(u){return t.connectionHandlers.forEach(function(d){d.onDisconnected(r)}),[2]})})}),[4,t.changeState(new h3)];case 1:return o.sent(),[2]}})})},e}(Lh),g2=function(n){function e(t){var r=t.autoReconnect,i=n.call(this)||this;return i.type=It.DISCONNECTED,i.name="disconnected",i._autoReconnect=!1,i._autoReconnect=r,i}return B(e,n),e.prototype.run=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return t.disconnect(),this._autoReconnect?[4,t.changeState(new v2)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return t.disconnect(),[4,t.changeState(new E7({authToken:r}))];case 1:return i.sent(),[2]}})})},e.prototype.onReconnect=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new v2)];case 1:return r.sent(),[2]}})})},e.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new Xf)];case 1:return r.sent(),[2]}})})},e}(Lh),v2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=It.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return B(e,n),e.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},e.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h=this;return I(this,function(f){switch(f.label){case 0:r=new ca,this._callbacks.push(function(v){return v?r.reject(v):r.resolve()}),en(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectStarted()}),[2]})})}),f.label=1;case 1:return f.trys.push([1,4,,9]),i=t.sdkState.websocket,o=i.reconnectMaxRetry,u=i.reconnectRetryStrategy,[4,Vv(function(v,_){return T(h,void 0,void 0,function(){var y;return I(this,function(E){switch(E.label){case 0:this._haltConnect=v,this._resetConnect=_,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,t.connect()];case 2:return E.sent(),[3,4];case 3:if((y=E.sent())instanceof le&&y.code===et.CONNECTION_CANCELED)return v(y),[2];throw y;case 4:return[2]}})})},o,u)];case 2:return f.sent(),[4,t.changeState(new y7)];case 3:return f.sent(),en(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return d=f.sent(),Ks(d)?[3,7]:d instanceof le?d.code===et.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new g2({autoReconnect:!1}))]:[3,6];case 5:f.sent(),f.label=6;case 6:return en(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectFailed()}),this.flushCallbacks(d),[2]})})}),[3,8];case 7:throw d;case 8:return[3,9];case 9:return[2,r.promise]}})})},e.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return i=new ca,this._resetConnect&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(u){return u?i.reject(u):i.resolve()}),[2,i.promise]})})},e.prototype.onReconnect=function(t,r){var i=r.resetReconnectCount,o=i!==void 0&&i;return T(this,void 0,void 0,function(){var u;return I(this,function(d){return u=new ca,this._resetConnect&&o&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(h){return h?u.reject(h):u.resolve()}),[2,u.promise]})})},e.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i,u=r.autoReconnect,d=u===void 0||u;return T(this,void 0,void 0,function(){return I(this,function(h){switch(h.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:le.connectionCanceled),[4,t.changeState(new g2({autoReconnect:d}))];case 1:return h.sent(),[2]}})})},e.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(le.connectionCanceled),[4,t.changeState(new Xf)];case 1:return r.sent(),[2]}})})},e}(Lh),y7=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=It.CONNECTED,t.name="connected",t}return B(e,n),e.prototype.onReconnect=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return t.disconnect(),[4,t.changeState(new v2)];case 1:return r.sent(),[2]}})})},e.prototype.onDisconnect=function(t,r){var i=r.autoReconnect;return T(this,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return[4,t.changeState(new g2({autoReconnect:i}))];case 1:return o.sent(),[2]}})})},e.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new Xf)];case 1:return r.sent(),[2]}})})},e}(Lh),E7=function(n){function e(t){var r=t.authToken,i=n.call(this)||this;return i.type=It.CONNECTING,i.name="connecting",i._authToken="",i._haltConnect=null,i._callbacks=[],i._authToken=r,i}return B(e,n),e.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},e.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){switch(u.label){case 0:r=new ca,this._callbacks.push(function(d){return d?r.reject(d):r.resolve()}),u.label=1;case 1:return u.trys.push([1,4,,9]),[4,Vv(function(d){return T(o,void 0,void 0,function(){var h;return I(this,function(f){switch(f.label){case 0:this._haltConnect=d,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t.connect(this._authToken)];case 2:return f.sent(),[3,4];case 3:if((h=f.sent())instanceof le&&h.code===et.CONNECTION_CANCELED)return d(h),[2];throw h;case 4:return[2]}})})},t.sdkState.websocket.connectMaxRetry)];case 2:return u.sent(),[4,t.changeState(new y7)];case 3:return u.sent(),en(function(){return T(o,void 0,void 0,function(){return I(this,function(d){return t.connectionHandlers.forEach(function(h){h.onConnected(t.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return i=u.sent(),Ks(i)?[3,7]:(t.disconnect(),i instanceof le?i.code===et.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new h3)]:[3,6]);case 5:u.sent(),u.label=6;case 6:return en(function(){return T(o,void 0,void 0,function(){return I(this,function(d){return this.flushCallbacks(i),[2]})})}),[3,8];case 7:throw i;case 8:return[3,9];case 9:return[2,r.promise]}})})},e.prototype.onConnect=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){return r=new ca,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},e.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i;return T(this,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:le.connectionCanceled),[4,t.changeState(new Xf)];case 1:return u.sent(),[2]}})})},e.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(le.connectionCanceled),[4,t.changeState(new Xf)];case 1:return r.sent(),[2]}})})},e}(Lh),h3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=It.INITIALIZED,t.name="initialized",t}return B(e,n),e.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,t.changeState(new E7({authToken:r}))];case 1:return i.sent(),[2]}})})},e}(Lh),G5=new Map,Jf=function(n,e){var t;return e===void 0&&(e=null),e!==null&&G5.set(n,e),(t=G5.get(n))!==null&&t!==void 0?t:""},Ene=function(n){n===void 0&&(n={}),this.emojiHash=n.emoji_hash||"",this.uploadSizeLimit=n.file_upload_size_limit?1048576*n.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!n.use_reaction,this.applicationAttributes=n.application_attributes||[],this.premiumFeatureList=n.premium_feature_list||[]},to=function(){function n(e){this._iid="",this._iid=e}return n.payloadify=function(e){return e?{}:null},n}(),tt="/".concat("v3","/users"),wne="/".concat("v3","/storage/file"),Fi="/".concat("v3","/group_channels"),xne="/".concat("v3","/sdk/group_channels"),zc="/".concat("v3","/open_channels"),kne="/".concat("v3","/sdk/open_channels"),Cne="/".concat("v3","/search"),$5="/".concat("v3","/report"),Sne="/".concat("v3","/emojis"),w7="/".concat("v3","/emoji_categories"),x7="/".concat("v3","/scheduled_messages"),Nne="/".concat("v3","/sdk/statistics"),Tne=function(n){function e(t){var r=t.userId,i=t.metadata,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(tt,"/").concat(r,"/metadata"),o.params={metadata:i},o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metadata=r,i}B(e,n)})(Pe),function(n){n.BASE="base",n.GROUP="group",n.OPEN="open"}(Ct||(Ct={})),function(n){n.OPERATOR="operator",n.NONE="none"}(Es||(Es={})),function(n){n.BASE="base",n.USER="user",n.FILE="file",n.ADMIN="admin"}(_r||(_r={})),function(n){n.ALL="",n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(di||(di={})),function(n){n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(Eh||(Eh={})),function(n){n.USERS="users",n.CHANNEL="channel"}(pi||(pi={})),function(n){n.ALL="all",n.NONE="none",n.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Xi||(Xi={})),function(n){n.DEFAULT="default",n.SUPPRESS="suppress"}(ku||(ku={})),function(n){n.PENDING="pending",n.SCHEDULED="scheduled",n.SUCCEEDED="succeeded",n.FAILED="failed",n.CANCELED="canceled"}(Ht||(Ht={}));var bt=function(n){switch(n){case Ct.GROUP:return Fi;case Ct.OPEN:return zc;default:return null}},k7=function(n){switch(n){case Ct.GROUP:return"".concat($5,"/group_channels");case Ct.OPEN:return"".concat($5,"/open_channels");default:return null}},wh=function(n,e,t){var r,i;switch(n){case pi.CHANNEL:return!0;case pi.USERS:if(e)try{for(var o=$e(e),u=o.next();!u.done;u=o.next())if(u.value===t)return!0}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}return!1},p3=function(n,e,t){var r=wh(n.mentionType,n.mentionedUserIds,t),i=wh(e.mentionType,e.mentionedUserIds,t);return!r&&i?1:r&&!i?-1:0},Ine=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0},r}return B(e,n),e}(De),C7=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metaData=r!=null?r:{},i}return B(e,n),e}(Pe),One=function(n){function e(t){var r=t.userId,i=t.metadata,o=t.upsert,u=n.call(this)||this;return u.method=Ae.PUT,u.path="".concat(tt,"/").concat(r,"/metadata"),u.params={metadata:i,upsert:o},u}return B(e,n),e}(De),Ane=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metadata=r,i}return B(e,n),e}(Pe),Rne=function(n){function e(t){var r=t.userId,i=t.metadataKey,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(r,"/metadata/").concat(i),o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var Mne=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(tt,"/").concat(r,"/metadata"),i}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var th,f0=function(n,e){e===void 0&&(e=null);var t=JSON.parse(JSON.stringify(n));return t._iid&&delete t._iid,e&&e(t),t},Tc=function(n,e){e===void 0&&(e=null);var t=JSON.parse(JSON.stringify(n));return e&&e(t),t},Fe=function(n){return{do:function(e){n||e()},throw:function(e){if(!n)throw e}}};(function(n){n.ONLINE="online",n.OFFLINE="offline",n.NON_AVAILABLE="nonavailable"})(th||(th={}));var fc,Mn=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M=this;return(M=n.call(this,t)||this).userId=(o=(i=r.guest_id)!==null&&i!==void 0?i:r.user_id)!==null&&o!==void 0?o:"",M.nickname=(d=(u=r.nickname)!==null&&u!==void 0?u:r.name)!==null&&d!==void 0?d:"",M.plainProfileUrl=(f=(h=r.profile_url)!==null&&h!==void 0?h:r.image)!==null&&f!==void 0?f:"",M.requireAuth=(v=r.require_auth_for_profile_image)!==null&&v!==void 0&&v,M.metaData=(_=r.metadata)!==null&&_!==void 0?_:{},M.connectionStatus=th.NON_AVAILABLE,Nn(th,r.is_online)?M.connectionStatus=r.is_online:J("boolean",r.is_online)&&(M.connectionStatus=r.is_online?th.ONLINE:th.OFFLINE),M.isActive=(y=r.is_active)===null||y===void 0||y,M.lastSeenAt=(E=r.last_seen_at)!==null&&E!==void 0?E:null,M.preferredLanguages=r.preferred_languages?vn([],_n(r.preferred_languages),!1):null,M.friendDiscoveryKey=(x=r.friend_discovery_key)!==null&&x!==void 0?x:null,M.friendName=(C=r.friend_name)!==null&&C!==void 0?C:null,M}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(e.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(Jf(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return f0(this)},e.prototype._isValidMetaData=function(t){return!Array.isArray(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(r){return t[r]}).every(function(r){return J("string",r)})},e.prototype._applyMetaData=function(t,r){var i=this;r===void 0&&(r=!1),Object.keys(t).forEach(function(o){r?delete i.metaData[o]:i.metaData[o]=t[o]})},e.prototype.createMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(this._isValidMetaData(t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Tne({userId:i.userId,metadata:t}),[4,o.send(u)];case 1:return d=f.sent(),h=d.as(C7).metaData,this._applyMetaData(h),[2,this.metaData]}})})},e.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(this._isValidMetaData(t)).throw(le.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,d=new One({userId:o.userId,metadata:t,upsert:r}),[4,u.send(d)];case 1:return h=v.sent(),f=h.as(Ane).metadata,this._applyMetaData(f),[2,this.metaData]}})})},e.prototype.deleteMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Rne({userId:i.userId,metadataKey:t}),[4,o.send(u)];case 1:return h.sent(),this._applyMetaData(((d={})[t]=!0,d),!0),[2,this.metaData]}})})},e.prototype.deleteAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Mne({userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),this.metaData={},[2]}})})},e}(to),S7=function(n){function e(t){var r=t.userProfile,i=n.call(this)||this;return i.userProfile=r,i}return B(e,n),e}(ni),_2=function(){function n(e,t){var r,i,o,u,d,h,f,v,_,y,E,x,C,M;this._iid=e,this.appInfo=new Ene(t),this.user=new Mn(e,t),this.connectedAt=1e3*((r=t.login_ts)!==null&&r!==void 0?r:0),this.firstConnectedAt=0,this.pingInterval=(i=t.ping_interval)!==null&&i!==void 0?i:15e3,this.pongTimeout=(o=t.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(d=(u=t.reconnect)===null||u===void 0?void 0:u.interval)!==null&&d!==void 0?d:3e3,this.reconnectMaxInterval=(f=(h=t.reconnect)===null||h===void 0?void 0:h.max_interval)!==null&&f!==void 0?f:6e4,this.reconnectRetryCount=(_=(v=t.reconnect)===null||v===void 0?void 0:v.retry_cnt)!==null&&_!==void 0?_:5,this.reconnectIntervalMultiple=(E=(y=t.reconnect)===null||y===void 0?void 0:y.mul)!==null&&E!==void 0?E:2,this.maxUnreadCountOnSuperGroup=(x=t.max_unread_cnt_on_super_group)!==null&&x!==void 0?x:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=(C=t.concurrent_call_limit)!==null&&C!==void 0?C:5,this.backOffDelay=(M=t.back_off_delay)!==null&&M!==void 0?M:100}return n.payloadify=function(e){return ee(ee({},Mn.payloadify(e.user)),{emoji_hash:e.appInfo.emojiHash,file_upload_size_limit:e.appInfo.uploadSizeLimit,application_attributes:e.appInfo.applicationAttributes,premium_feature_list:e.appInfo.premiumFeatureList,login_ts:e.connectedAt/1e3,ping_interval:e.pingInterval,pong_timeout:e.pongTimeout,reconnect:{interval:e.reconnectInterval,max_interval:e.reconnectMaxInterval,retry_cnt:e.reconnectRetryCount,mul:e.reconnectIntervalMultiple},max_unread_cnt_on_super_group:e.maxUnreadCountOnSuperGroup,profile_image_encryption:e.profileImageEncryption,concurrent_call_limit:e.concurrentCallLimit,back_off_delay:e.backOffDelay})},n.prototype.apply=function(){var e=this.reconnectInterval,t=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,i=ie.of(this._iid);i.sdkState.websocket.pingInterval=1e3*this.pingInterval,i.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,i.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,i.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(e*Math.pow(r,o-1),t):10}},i.appInfo=this.appInfo,i.sessionManager.currentUser=this.user,i.connectedAt=this.connectedAt,this.firstConnectedAt||(i.firstConnectedAt=this.connectedAt),i.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,i.concurrentCallLimit=this.concurrentCallLimit,i.backOffDelay=this.backOffDelay,i.dispatcher.dispatch(new S7({userProfile:this}))},n}(),Y1=function(n){function e(t,r,i){var o,u=this;return(u=n.call(this,t,r,i)||this).error=null,u.userProfile=new _2(t,i),u.key=i.key,u.ekey=(o=i.ekey)!==null&&o!==void 0?o:"",u.error=i.error?new le(i):null,u}return B(e,n),e.asError=function(t){return new e(null,"LOGI",ee({user_id:null,error:!0},t))},e.prototype.applyTo=function(t){if(this.error)throw this.error;var r=ie.of(t);if(!r)throw le.lostInstance;r.sessionManager.auth.sessionKey=this.key,Jf(t,this.ekey),this.userProfile.apply()},e}(Mt),N7=function(n){function e(t){var r=n.call(this)||this;return r.enabled=t,r}return B(e,n),e}(ni),Dne=function(n){function e(t,r){var i=r.sdkState,o=r.connectionHandlers,u=r.sessionManager,d=r.websocketClient,h=r.dispatcher,f=r.logger,v=r.entryState,_=v===void 0?new h3:v,y=n.call(this)||this;return y._currentState=null,y._loginTimer=null,y._connectingAt=0,y._connectionRequestQueue=[],y._iid=t,y.sdkState=i,y.connectionHandlers=o,y._sessionManager=u,y._websocketClient=d,y._dispatcher=h,y._logger=f,y._currentState=_,y._websocketClient.on("message",function(E){if(E.code==="LOGI"){y._loginTimer&&(clearTimeout(y._loginTimer),y._loginTimer=null);var x=E.as(Y1);if(x.error)x.error.isSessionKeyExpiredError&&y._dispatcher.dispatch(new jv),y._connectionRequestQueue.forEach(function(M){return M.reject(x.error)}),y._statLogConnection(x.error);else{x.applyTo(y._iid),y._connectionRequestQueue.forEach(function(M){return M.resolve()});var C=x.userProfile;y._enableStatLog(C.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),y._statLogConnection(null)}y._connectionRequestQueue=[]}}).on("close",function(){y._connectionRequestQueue.length>0&&(y._connectionRequestQueue.forEach(function(E){return E.reject(le.networkError)}),y._connectionRequestQueue=[],y._statLogConnection(le.networkError))}),y}return B(e,n),Object.defineProperty(e.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),e.prototype.changeState=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._currentState=t,this._dispatcher.dispatch(new no({stateType:t.type})),this._logger.debug("connection state changes to ".concat(t.name)),[4,this._currentState.run(this)];case 1:return r.sent(),[2]}})})},e.prototype._url=function(t){t===void 0&&(t="");var r=this.sdkState,i=r.appId,o=r.appVersion,u=r.userId,d=r.extensions,h=this._sessionManager.auth,f=d.sb_syncmanager?"s".concat(d.sb_syncmanager):"",v=d.sb_uikit?"u".concat(d.sb_uikit):"",_="JS/c".concat(Nc.SDK_VERSION,"/").concat(f,"/").concat(v);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Nc.OS_VERSION),"&sv=").concat(encodeURIComponent(Nc.SDK_VERSION),"&ai=").concat(i).concat(o?"&av=".concat(o):"").concat(h.hasSession?"&key=".concat(encodeURIComponent(h.sessionKey)):"&user_id=".concat(encodeURIComponent(u),"&access_token=").concat(encodeURIComponent(t)),"&active=1&SB-User-Agent=").concat(_,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},e.prototype._enableStatLog=function(t){this._dispatcher.dispatch(new N7(t))},e.prototype._statLogConnection=function(t){this._dispatcher.dispatch(new d3(new Yf({type:ov.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!t,latency:Date.now()-this._connectingAt,error_code:t==null?void 0:t.code,error_description:t==null?void 0:t.message}})))},e.prototype.connect=function(t){return t===void 0&&(t=""),T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){return r=this._url(t),i=new ca,this._connectionRequestQueue.push(i),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(Y1.asError(le.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(r)),[2,i.promise]})})},e.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Y1.asError(le.connectionRenew))},e.prototype.disconnect=function(){this._websocketClient.disconnect()},e.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},e}(p0),Une=function(){function n(e,t){var r=t.sdkState,i=t.connectionHandlers,o=t.sessionManager,u=t.websocketClient,d=t.dispatcher,h=t.logger,f=t.disableAutoReconnect,v=f!==void 0&&f,_=this;this._context=null,this._logger=h,this._context=new Dne(e,{sdkState:r,connectionHandlers:i,sessionManager:o,websocketClient:u,dispatcher:d,logger:h}),v||u.on("close",function(){r.appState==="foreground"&&setTimeout(function(){_._logger.debug("try reconnect by websocket connection closed"),_.reconnect()},100)})}return Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._context.currentState.type===It.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isConnecting",{get:function(){var e=this._context.currentState;return e.type===It.CONNECTING||e.type===It.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.connect=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onConnect(this._context,e)];case 1:return t.sent(),[2]}})})},n.prototype.reconnect=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return e.sent(),[2]}})})},n.prototype.resetAndReconnect=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}})})},n.prototype.background=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return e.sent(),[2]}})})},n.prototype.disconnect=function(e){return e===void 0&&(e=null),T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:e,autoReconnect:!0})];case 1:return t.sent(),[2]}})})},n.prototype.logout=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return e.sent(),[2]}})})},n}(),Lne=function(n){function e(t){var r=t.deviceId,i=t.statLogs,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(Nne),o.params={device_id:r,log_entries:i.map(function(u){return Yf.payloadify(u)})},o}return B(e,n),e}(De);(function(n){n[n.PENDING=0]="PENDING",n[n.ENABLED=1]="ENABLED",n[n.DISABLED=2]="DISABLED"})(fc||(fc={}));var tl,Pne=function(){function n(e){var t=e.cacheContext,r=e.requestQueue,i=e.dispatcher,o=e.baseLimit,u=o===void 0?100:o,d=e.maxLimit,h=d===void 0?1e3:d,f=e.minLimit,v=f===void 0?10:f;this.queue=[],this.enabledstate=fc.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=ys(),this.cacheContext=t,this.requestQueue=r,this.dispatcher=i,this.baseLimit=u,this.limit=u,this.maxLimit=h,this.minLimit=v}return Object.defineProperty(n.prototype,"isEnabled",{get:function(){return this.enabledstate===fc.ENABLED},enumerable:!1,configurable:!0}),n.prototype._save=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(t){return Yf.payloadify(t)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype._flush=function(){return T(this,void 0,void 0,function(){var e,t;return I(this,function(r){switch(r.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),(e=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new Lne({deviceId:this.deviceId,statLogs:e}),[4,this.requestQueue.send(t)]):[3,4];case 2:return r.sent(),this.queue=this.queue.slice(e.length),[4,this._save()];case 3:r.sent(),r.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return r.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},n.prototype.init=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return this.key=e,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=o.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map(function(u){return new Yf({type:u.stat_type,ts:u.ts,data:u.data})}),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(r=Math.min(Math.floor(18e4*Math.random()),100),[4,fs(r)]):[3,4]):[3,4];case 2:return o.sent(),[4,this._flush()];case 3:o.sent(),o.label=4;case 4:return this.dispatcher.on(function(u){if(u instanceof d3){var d=u.statLog;i.put(d)}else u instanceof N7&&(i.enabledstate=u.enabled?fc.ENABLED:fc.DISABLED,i.isEnabled?i.queue.length>=i.limit&&i._flush():i.clear())}),[2]}})})},n.prototype.put=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.enabledstate===fc.DISABLED?[3,3]:(this.queue.push(e),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}})})},n}();(function(n){n[n.NONE=0]="NONE",n[n.VERBOSE=1]="VERBOSE",n[n.DEBUG=2]="DEBUG",n[n.INFO=3]="INFO",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR"})(tl||(tl={}));var Zf,Fne=function(){function n(){this.level=tl.WARN}return n.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=tl.VERBOSE&&console.log.apply(console,vn(["[verbose]"],_n(e),!1))},n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=tl.DEBUG&&console.log.apply(console,vn(["[debug]"],_n(e),!1))},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=tl.INFO&&console.log.apply(console,vn(["[info]"],_n(e),!1))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=tl.WARN&&console.warn.apply(console,vn(["[warn]"],_n(e),!1))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=tl.ERROR&&console.error.apply(console,vn(["[error]"],_n(e),!1))},n}(),Yp={},ie=function(){function n(e,t){var r,i,o,u,d,h,f;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Yp[e]){Yp[e]=this;var v=(r=t.options)!==null&&r!==void 0?r:new v7,_=this.sdkState={appId:t.appId,appVersion:(i=t.appVersion)!==null&&i!==void 0?i:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=t.apiHost)!==null&&o!==void 0?o:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:(u=t.websocketHost)!==null&&u!==void 0?u:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new b7,responseTimeout:v.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var y=this.logger=new Fne;this.logger.level=(d=t.logLevel)!==null&&d!==void 0?d:tl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new ane({encryption:t.encryption,store:t.store,localCacheEnabled:(h=t.localCacheEnabled)!==null&&h!==void 0&&h}),this.debugMode=(f=t.debugMode)!==null&&f!==void 0&&f,this.maxSuperGroupChannelUnreadCount=Nc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=v.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=v.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=v.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var E=this.dispatcher=new one,x=new sne;this.requestQueue=new fne(e,{auth:x,sdkState:_,dispatcher:E,logger:y}),this.sessionManager=new yne({auth:x,sdkState:_,dispatcher:E,requestQueue:this.requestQueue,logger:y}),this.connectionManager=new Une(e,{sdkState:_,connectionHandlers:this.connectionHandlers,dispatcher:E,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:y}),this.statLogCollector=new Pne({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:E})}return Yp[e]}return n.of=function(e){if(Yp[e])return Yp[e];throw le.lostInstance},n}(),f3=function(){function n(){}return n.prototype.init=function(e,t){var r=t.sdkState,i=t.dispatcher,o=t.sessionManager,u=t.requestQueue,d=t.logger;t.onlineDetector;var h=t.cacheContext,f=h===void 0?null:h;this._iid=e,this._cacheContext=f,this._sdkState=r,this._dispatcher=i,this._sessionManager=o,this._requestQueue=u,this._logger=d},n}(),T7=function(n){function e(t){var r=n.call(this)||this;if(r.method=Ae.POST,r.path="".concat(wne),r.params=wn({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var i=0;i<t.thumbnailSizes.length;i++){var o=t.thumbnailSizes[i],u=o.maxWidth,d=o.maxHeight;r.params["thumbnail".concat(i+1)]="".concat(u,",").concat(d)}return r.requestId=t.requestId,r}return B(e,n),e}(De),I7=function(n){function e(t,r){var i,o,u,d=this;return(d=n.call(this,t,r)||this).url=r.url,d.fileSize=(i=r.file_size)!==null&&i!==void 0?i:0,d.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],d.requireAuth=(u=r.require_auth)!==null&&u!==void 0&&u,d}return B(e,n),e}(Pe),b2=function(n){function e(t,r){var i,o,u,d=this;return(d=n.call(this,t)||this).replyCount=0,d.mostRepliedUsers=null,d.lastRepliedAt=0,d.updatedAt=0,d.replyCount=(i=r.reply_count)!==null&&i!==void 0?i:0,d.mostRepliedUsers=r.hasOwnProperty("most_replies")&&In("object",r.most_replies)?r.most_replies.map(function(h){return new Mn(d._iid,h)}):[],d.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,d.updatedAt=(u=r.updated_at)!==null&&u!==void 0?u:0,d}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map(function(r){return Mn.payloadify(r)}):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},e}(to);(function(n){n.ADD="add",n.DELETE="delete"})(Zf||(Zf={}));var lu,Oa,m3=function(n){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var e=J("string",n.msg_id)?parseInt(n.msg_id):n.msg_id,t=n.user_id,r=n.operation?n.operation.toLowerCase():null,i=n.reaction,o=n.updated_at;e&&J("string",t)&&J("string",r)&&Nn(Zf,r)&&J("string",i)&&i&&J("number",o)&&(this.messageId=e,this.userId=t,this.key=i,this.operation=r,this.updatedAt=o)},tg=function(){function n(e){var t,r,i,o=e.key,u=(i=vn([],_n(e.user_ids),!1))!==null&&i!==void 0?i:[],d=e.updated_at;J("string",o)&&o&&In("string",u)&&u.length>0&&J("number",d)&&(this.key=o,this.userIds=u,this.updatedAt=d);var h={};try{for(var f=$e(this.userIds),v=f.next();!v.done;v=f.next())h[v.value]=this.updatedAt}catch(_){t={error:_}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}this._version=h}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),n.payloadify=function(e){return e?wn({key:e.key,user_ids:e.userIds,updated_at:e.updatedAt}):null},n.prototype.applyEvent=function(e){if(e.key===this.key&&this.updatedAt<=e.updatedAt){if(!this._version[e.userId]||this._version[e.userId]<=e.updatedAt){var t=this.userIds.indexOf(e.userId);switch(e.operation){case Zf.ADD:t<0&&this.userIds.push(e.userId);break;case Zf.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[e.userId]=e.updatedAt}this.updatedAt=Math.max(this.updatedAt,e.updatedAt)}},n}(),ua=function(){function n(e){this.key=e.key,this.value=In("string",e.value)?vn([],_n(e.value),!1):[]}return n.payloadify=function(e){var t;return e?wn({key:e.key,value:(t=e.value)!==null&&t!==void 0?t:[]}):null},n}(),z5=function(){function n(e){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=e.url,e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=e.width),e.hasOwnProperty("height")&&(this.height=e.height),e.hasOwnProperty("alt")&&(this.alt=e.alt)}return n.payloadify=function(e){var t,r;return e?wn({url:e.url,secure_url:e.secureUrl,type:e.type,width:(t=e.width)!==null&&t!==void 0?t:0,height:(r=e.height)!==null&&r!==void 0?r:0,alt:e.alt}):null},n}(),j5=function(){function n(e){this.title=null,this.url=null,this.description=null,this.defaultImage=null,e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new z5(e["og:image"]))}return n.payloadify=function(e){return e?wn({"og:title":e.title,"og:url":e.url,"og:description":e.description,"og:image":e.defaultImage?z5.payloadify(e.defaultImage):null}):null},n}(),Io=function(){function n(e){var t,r;this.name=null,this.volume=0,this.name=(t=e.name)!==null&&t!==void 0?t:"default",this.volume=(r=e.volume)!==null&&r!==void 0?r:1}return n.payloadify=function(e){return e?wn({name:e.name,volume:e.volume}):null},n}();(function(n){n.PENDING="pending",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled"})(lu||(lu={})),function(n){n.PENDING="pending",n.IN_QUEUE="in_queue",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled",n.REMOVED="removed"}(Oa||(Oa={}));var Ti,Hne=function(n){switch(n){case _r.BASE:return"";case _r.USER:return"MESG";case _r.FILE:return"FILE";case _r.ADMIN:return"ADMM"}},lv=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M,N=this;(N=n.call(this,t)||this).channelUrl=null,N.channelType=Ct.BASE,N.messageId=0,N.parentMessageId=null,N.parentMessage=null,N.silent=!1,N.isOperatorMessage=!1,N.messageType=_r.BASE,N.data=null,N.customType=null,N.mentionType=null,N.mentionedUsers=[],N.mentionedUserIds=[],N.mentionedMessageTemplate=null,N.threadInfo=null,N.reactions=[],N.metaArrays=[],N.ogMetaData=null,N.appleCriticalAlertOptions=null,N.createdAt=0,N.updatedAt=0,N.scheduledInfo=null,N._scheduledStatus=Oa.PENDING,N.messageId=(o=(i=r.msg_id)!==null&&i!==void 0?i:r.message_id)!==null&&o!==void 0?o:0,N.channelUrl=r.channel_url,N.channelType=Nn(Ct,r.channel_type)?r.channel_type:Ct.GROUP,r.channel&&(r.channel.channel_url&&(N.channelUrl=r.channel.channel_url),r.channel.channel_type&&(N.channelType=r.channel.channel_type)),N.parentMessageId=(u=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&u!==void 0?u:0,N.data=(d=r.data)!==null&&d!==void 0?d:"",N.customType=(h=r.custom_type)!==null&&h!==void 0?h:"",N.mentionType=Nn(pi,r.mention_type)?r.mention_type:null;var S=r.mentioned_users;N.mentionedUsers=S?S.map(function(V){return new Mn(N._iid,V)}):null;var D=r.mentioned_user_ids;N.mentionedUserIds=D!=null?D:null,N.mentionedMessageTemplate=(f=r.mentioned_message_template)!==null&&f!==void 0?f:"",N.threadInfo=r.thread_info?new b2(N._iid,r.thread_info):null,N.reactions=r.reactions?r.reactions.map(function(V){return new tg(V)}):[];for(var P=(v=r.metaarray)!==null&&v!==void 0?v:{},Q=(_=r.metaarray_key_order)!==null&&_!==void 0?_:Object.keys(P).sort(function(V,he){return V.localeCompare(he)}),z=0;z<Q.length;z++){var W=Q[z];N.metaArrays.push(new ua({key:W,value:P[W]||[]}))}return r.sorted_metaarray&&(N.metaArrays=r.sorted_metaarray.map(function(V){return new ua(V)})),N.ogMetaData=r.og_tag?new j5(r.og_tag):null,N.silent=(y=r.silent)!==null&&y!==void 0&&y,N.isOperatorMessage=(E=r.is_op_msg)!==null&&E!==void 0&&E,N.appleCriticalAlertOptions=r.apple_critical_alert_options?new Io(r.apple_critical_alert_options):null,N.createdAt=(C=(x=r.created_at)!==null&&x!==void 0?x:r.ts)!==null&&C!==void 0?C:0,N.updatedAt=(M=r.updated_at)!==null&&M!==void 0?M:0,typeof r.scheduled_message_id=="number"&&r.scheduled_at&&r.scheduled_status&&(N.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},N._scheduledStatus=r.scheduled_status),N}return B(e,n),e.payloadify=function(t){var r,i,o,u;return t?wn(ee(ee({},n.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:Hne(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map(function(d){return Mn.payloadify(d)}),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?b2.payloadify(t.threadInfo):null,reactions:t.reactions.map(function(d){return tg.payloadify(d)}),sorted_metaarray:(i=t.metaArrays)===null||i===void 0?void 0:i.map(function(d){return ua.payloadify(d)}),og_tag:j5.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:(o=t.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(u=t.scheduledInfo)===null||u===void 0?void 0:u.scheduledAt,scheduled_status:t._scheduledStatus})):null},e.prototype.isIdentical=function(t){return this.messageId===t.messageId},e.prototype.isEqual=function(t){return g7(this,t)},e.prototype.isUserMessage=function(){return this.messageType===_r.USER},e.prototype.isFileMessage=function(){return this.messageType===_r.FILE},e.prototype.isAdminMessage=function(){return this.messageType===_r.ADMIN},e.prototype.serialize=function(){return f0(this)},e.prototype.getMetaArraysByKeys=function(t){return this.metaArrays.filter(function(r){return t.includes(r.key)})},e.prototype.applyThreadInfoUpdateEvent=function(t){return this.parentMessageId===t.targetMessageId&&(this.threadInfo=t.threadInfo),!1},e.prototype.applyReactionEvent=function(t){if(this.messageId===t.messageId){for(var r=!1,i=0;i<this.reactions.length;i++)if(this.reactions[i].key===t.key){this.reactions[i].applyEvent(t),this.reactions[i].isEmpty&&this.reactions.splice(i,1),r=!0;break}r||t.operation!=="add"||this.reactions.push(new tg(tg.payloadify({key:t.key,userIds:[t.userId],updatedAt:t.updatedAt})))}},e.prototype.applyParentMessage=function(t){if(this.parentMessageId===t.messageId){var r=this.parentMessage.updatedAt;if(t.updatedAt>=r)return this.parentMessage=t,!0}return!1},e}(to),e0=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.role=null,i.isBlockedByMe=!1,i.role=Nn(Es,r.role)?r.role:Es.NONE,r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),i}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},e}(Mn),Vr=function(n){function e(t,r){var i,o,u,d,h=this;if((h=n.call(this,t,r)||this).sender=null,h.reqId="",h.replyToChannel=!1,h.sendingStatus=Ht.PENDING,h.errorCode=0,h.sender=r.user?new e0(h._iid,r.user):r.sender_id,h.reqId=(o=(i=r.req_id)!==null&&i!==void 0?i:r.request_id)!==null&&o!==void 0?o:"",h.replyToChannel=(u=r.is_reply_to_channel)!==null&&u!==void 0&&u,h.sendingStatus=h.messageId>0?Ht.SUCCEEDED:Ht.FAILED,r.request_state&&Nn(Ht,r.request_state)&&(h.sendingStatus=r.request_state),r.scheduled_status)switch(r.scheduled_status){case Oa.SENT:case Oa.IN_QUEUE:h.sendingStatus=Ht.SUCCEEDED;break;case Oa.PENDING:h.sendingStatus=Ht.SCHEDULED;break;case Oa.FAILED:case Oa.REMOVED:h.sendingStatus=Ht.FAILED;break;case Oa.CANCELED:h.sendingStatus=Ht.CANCELED}return h.errorCode=(d=r.error_code)!==null&&d!==void 0?d:0,h}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{user:e0.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(e.prototype,"isResendable",{get:function(){return this.sendingStatus===Ht.FAILED&&(t=this.errorCode)>0&&ene.indexOf(t)>=0;var t},enumerable:!1,configurable:!0}),e.prototype.isIdentical=function(t){return this.messageId>0&&t.messageId>0?this.messageId===t.messageId:this.reqId===t.reqId},e}(lv),Wv=function(){function n(e){var t,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=e.url,this.width=e.width,this.height=e.height,this.realWidth=(t=e.real_width)!==null&&t!==void 0?t:e.width,this.realHeight=(r=e.real_height)!==null&&r!==void 0?r:e.height}return n.payloadify=function(e){return e?wn({url:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(n.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),n}(),Kv={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:di.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},g3=function(n){return J("number",n.prevResultSize)&&J("number",n.nextResultSize)&&J("boolean",n.isInclusive)&&J("boolean",n.reverse)&&J("string",n.messageTypeFilter)&&Nn(di,n.messageTypeFilter)&&In("string",n.customTypesFilter,!0)&&In("string",n.senderUserIdsFilter,!0)&&J("boolean",n.includeMetaArray)&&J("boolean",n.includeReactions)&&J("boolean",n.includeParentMessageInfo)},xh=function(n){function e(t,r){var i,o,u,d,h=this;if((h=n.call(this,t,r)||this).message=null,h.translations={},h.message=(i=r.message)!==null&&i!==void 0?i:"",h.messageType=_r.ADMIN,h.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var f=r.parent_message_info,v=ee(ee({},f),{message_id:h.parentMessageId,channel_url:h.channelUrl,channel_type:h.channelType,file:f.file,url:(u=f.file)===null||u===void 0?void 0:u.url,require_auth:(d=f.file)===null||d===void 0?void 0:d.require_auth});h.parentMessage=Ts(t,v)}return h}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:Qv(t.parentMessage)})):null},e.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},Kv),r),Fe(this.messageId>0&&J("number",t)&&g3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},e}(lv),V5=function(){function n(e){var t,r;this.type=null,this.vendor=null,this.detail={},this.type=(t=e.type)!==null&&t!==void 0?t:"",this.vendor=(r=e.vendor)!==null&&r!==void 0?r:"",e.hasOwnProperty("detail")&&J("object",e.detail)&&!Array.isArray(e.detail)&&(this.detail=e.detail)}return n.payloadify=function(e){return e?wn({type:e.type,vendor:e.vendor,detail:e.detail}):null},n}(),Zr=function(n){function e(t,r){var i,o,u,d,h,f,v,_=this;if((_=n.call(this,t,r)||this).message="",_.messageParams=null,_.translations={},_.translationTargetLanguages=[],_.messageSurvivalSeconds=-1,_.plugins=[],_.message=r.message,_.messageType=_r.USER,_.translations=(u=r.translations)!==null&&u!==void 0?u:{},_.translationTargetLanguages=(d=r.target_langs)!==null&&d!==void 0?d:[],_.translations==={}&&_.translationTargetLanguages.length>0)try{for(var y=$e(_.translationTargetLanguages),E=y.next();!E.done;E=y.next()){var x=E.value;_.translations[x]=""}}catch(N){i={error:N}}finally{try{E&&!E.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}if(_.messageSurvivalSeconds=(h=r.message_survival_seconds)!==null&&h!==void 0?h:-1,_.plugins=r.plugins?r.plugins.map(function(N){return new V5(N)}):[],r.parent_message_info){var C=r.parent_message_info,M=ee(ee({},C),{created_at:C.ts,message_id:_.parentMessageId,channel_url:_.channelUrl,channel_type:_.channelType,file:C.file,url:(f=C.file)===null||f===void 0?void 0:f.url,require_auth:(v=C.file)===null||v===void 0?void 0:v.require_auth});_.parentMessage=Ts(t,wn(M))}return _}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map(function(r){return V5.payloadify(r)}),parent_message_info:Qv(t.parentMessage)})):null},e.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},Kv),r),Fe(this.messageId>0&&J("number",t)&&g3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},e}(Vr),Qv=function(n){if(n)switch(n.messageType){case _r.USER:return Zr.payloadify(n);case _r.FILE:return Qr.payloadify(n);case _r.ADMIN:return xh.payloadify(n)}return null},Ts=function(n,e){switch(e.type){case"MESG":return new Zr(n,e);case"FILE":return new Qr(n,e);case"ADMM":case"BRDM":return new xh(n,e)}return null},Qr=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D=this;(D=n.call(this,t,r)||this).messageParams=null,D.plainUrl="",D.requireAuth=!1,D.name=null,D.size=0,D.type=null,D.thumbnails=[],D.messageSurvivalSeconds=-1,D.messageType=_r.FILE;var P=(i=r.file)!==null&&i!==void 0?i:null;if(D.plainUrl=((u=(o=P==null?void 0:P.url)!==null&&o!==void 0?o:r.url)!==null&&u!==void 0?u:"").split("?auth=")[0],D.name=(h=(d=P==null?void 0:P.name)!==null&&d!==void 0?d:r.name)!==null&&h!==void 0?h:"File",D.size=(v=(f=P==null?void 0:P.size)!==null&&f!==void 0?f:r.size)!==null&&v!==void 0?v:0,D.data=(y=(_=P==null?void 0:P.data)!==null&&_!==void 0?_:r.custom)!==null&&y!==void 0?y:"",D.type=P?(E=P.type)!==null&&E!==void 0?E:"":(x=r.type)!==null&&x!==void 0?x:"",D.requireAuth=(C=r.require_auth)!==null&&C!==void 0&&C,D.thumbnails=r.thumbnails?r.thumbnails.map(function(W){return new Wv(ee(ee({},W),{url:"".concat(W.url.split("?auth=")[0]).concat(D.requireAuth?"?auth=".concat(Jf(D._iid)):"")}))}):[],D.messageSurvivalSeconds=(M=r.message_survival_seconds)!==null&&M!==void 0?M:-1,r.parent_message_info){var Q=r.parent_message_info,z=ee(ee({},Q),{message_id:D.parentMessageId,channel_url:D.channelUrl,channel_type:D.channelType,file:Q.file,url:(N=Q.file)===null||N===void 0?void 0:N.url,require_auth:(S=Q.file)===null||S===void 0?void 0:S.require_auth});D.parentMessage=Ts(t,z)}return D}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:Qv(t.parentMessage)})):null},Object.defineProperty(e.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(Jf(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),e.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},Kv),r),Fe(this.messageId>0&&J("number",t)&&g3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},e}(Vr),qne=function(n){function e(t){var r,i,o,u=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(d){return d.userId}))),n.call(this,{code:"FILE",ackRequired:!0,payload:wn({channel_url:t.channelUrl,url:t.url,name:(r=t.fileName)!==null&&r!==void 0?r:"",type:(i=t.mimeType)!==null&&i!==void 0?i:"",size:(o=t.fileSize)!==null&&o!==void 0?o:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:u,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==ku.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(e,n),e}(Fa),Bne=function(n){function e(t){var r,i=this;i=n.call(this)||this;var o=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(u){return u.userId}))),i.method=Ae.POST,i.path="".concat(bt(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),i.params=wn({message_type:_r.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:o,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map(function(u){return Wv.payloadify(u)}),require_auth:t.requireAuth,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(u){return ua.payloadify(u)}),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId}),i}return B(e,n),e}(De),v3=function(n){function e(t,r,i){var o,u,d,h=this;(h=n.call(this,t,"FILE",i)||this).message=new Qr(t,i);var f=ie.of(t).sdkState;return h.isMentioned=wh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(d=i.force_update_last_message)!==null&&d!==void 0&&d,h}return B(e,n),e}(Mt),Gne=function(n){function e(t,r){var i,o,u=this;(u=n.call(this,t,r)||this).message=new Qr(t,r);var d=ie.of(t).sdkState;return u.isMentioned=wh(u.message.mentionType,(i=u.message.mentionedUserIds)!==null&&i!==void 0?i:u.message.mentionedUsers.map(function(h){return h.userId}),d.userId),u.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,u}return B(e,n),e}(Pe);(function(n){n[n.PENDING=0]="PENDING",n[n.UPLOADING=1]="UPLOADING",n[n.UPLOADED=2]="UPLOADED",n[n.SENDING=3]="SENDING",n[n.FAILED=4]="FAILED"})(Ti||(Ti={}));var En,$ne=function(){function n(e,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,d=t.cacheContext,h=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=e,this._sdkState=r,this._requestQueue=o,this._cacheContext=d,this._dispatcher=i,this._dispatcher.on(function(f){f instanceof no&&(h._connectionState=f.stateType)}),this._onlineDetector=u}return Object.defineProperty(n.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===It.CONNECTED||this._connectionState===It.CONNECTING||this._connectionState===It.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype._sendFileMessage=function(e,t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new qne(ee(ee({channelUrl:e.url,channelType:e.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return i=o.sent(),[2,i.as(v3).message];case 2:return r=new Bne(ee(ee({channelUrl:e.url,channelType:e.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)];case 3:return i=o.sent(),[2,i.as(Gne).message]}})})},n.prototype._resolveMessageQueue=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:if(!(t=this._queueMap.get(e.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,r=[],i=!0,x.label=1;case 1:x.trys.push([1,15,16,17]),o=$e(t.messageQueue),u=o.next(),x.label=2;case 2:if(u.done)return[3,14];switch(d=u.value,d.state){case Ti.PENDING:case Ti.UPLOADING:return[3,3];case Ti.UPLOADED:return[3,4];case Ti.FAILED:return[3,12]}return[3,13];case 3:return i=!1,r.push(d),[3,13];case 4:if(!i)return[3,10];x.label=5;case 5:return x.trys.push([5,8,,9]),d.state=Ti.SENDING,[4,this._sendFileMessage(e,d)];case 6:return h=x.sent(),d.deferred.resolve(h),[4,fs(100)];case 7:return x.sent(),[3,9];case 8:return f=x.sent(),d.deferred.reject(f),[3,9];case 9:return[3,11];case 10:r.push(d),x.label=11;case 11:return[3,13];case 12:return d.deferred.reject(d.error.code===et.REQUEST_CANCELED?le.fileUploadCanceled:d.error),[3,13];case 13:return u=o.next(),[3,2];case 14:return[3,17];case 15:return v=x.sent(),y={error:v},[3,17];case 16:try{u&&!u.done&&(E=o.return)&&E.call(o)}finally{if(y)throw y.error}return[7];case 17:return _=t.isResolveRequestPending,t.messageQueue=r,t.isResolving=!1,t.isResolveRequestPending=!1,_?[4,this._resolveMessageQueue(e)]:[3,19];case 18:x.sent(),x.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,x.label=21;case 21:return[2]}})})},n.prototype._uploadNextPendingItem=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x,C;return I(this,function(M){switch(M.label){case 0:return t=this._queueMap.get(e.url),(r=t.messageQueue.find(function(N){return N.state===Ti.PENDING}))?Mi(r.params.file)?t.uploadQueue.length<6?(r.state=Ti.UPLOADING,t.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!M.sent())return[3,8];M.label=2;case 2:return M.trys.push([2,4,5,7]),i=new T7({file:r.params.file,channelUrl:e.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(i)];case 3:return o=M.sent(),u=o.as(I7),d=u.url,h=u.fileSize,f=h===void 0?r.params.fileSize:h,v=u.thumbnailSizes,_=v===void 0?r.params.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,r.params.fileUrl=d,r.params.fileSize=f,r.params.thumbnailSizes=_,r.params.requireAuth=E,r.requireAuth=E,r.state=Ti.UPLOADED,[3,7];case 4:return x=M.sent(),r.state=Ti.FAILED,r.error=x,[3,7];case 5:return(C=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(C,1),this._uploadNextPendingItem(e)),[4,this._resolveMessageQueue(e)];case 6:return M.sent(),[7];case 7:return[3,10];case 8:return r.state=Ti.FAILED,r.error=le.connectionRequired,(C=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(C,1),this._uploadNextPendingItem(e)),[4,this._resolveMessageQueue(e)];case 9:M.sent(),M.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=Ti.UPLOADED,[4,this._resolveMessageQueue(e)];case 12:M.sent(),M.label=13;case 13:return[2]}})})},n.prototype.request=function(e,t,r){var i,o,u;return T(this,void 0,void 0,function(){var d;return I(this,function(h){return d=new ca,Mi(r.file)&&(r.fileName=(i=r.fileName)!==null&&i!==void 0?i:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(u=r.fileSize)!==null&&u!==void 0?u:r.file.size),this._queueMap.has(e.url)||this._queueMap.set(e.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(e.url).messageQueue.push({requestId:t,params:r,state:Ti.PENDING,deferred:d,requireAuth:r.requireAuth}),this._uploadNextPendingItem(e),[2,d.promise]})})},n.prototype.cancel=function(e,t){var r,i;t===void 0&&(t=null);var o=this._queueMap.get(e.url);if(o){var u=t?[o.messageQueue.find(function(v){return v.requestId===t})]:vn([],_n(o.messageQueue),!1);try{for(var d=$e(u),h=d.next();!h.done;h=d.next()){var f=h.value;if(f)switch(f.state){case Ti.PENDING:f.state=Ti.FAILED,f.error=le.requestCanceled,this._resolveMessageQueue(e);break;case Ti.UPLOADING:this._requestQueue.cancel(f.requestId)}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}},n}(),O7={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:di.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Xi.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},zne=function(n){return J("number",n.prevResultSize)&&J("number",n.nextResultSize)&&J("boolean",n.isInclusive)&&J("boolean",n.reverse)&&J("string",n.messageTypeFilter)&&Nn(di,n.messageTypeFilter)&&In("string",n.customTypesFilter,!0)&&In("string",n.senderUserIdsFilter,!0)&&Nn(Xi,n.replyType)&&J("boolean",n.includeMetaArray)&&J("boolean",n.includeReactions)&&J("boolean",n.includeParentMessageInfo)&&J("boolean",n.includeThreadInfo)&&J("boolean",n.showSubchannelMessagesOnly)},y2={replyType:Xi.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},W5=function(n){return Nn(Xi,n.replyType)&&J("boolean",n.includeReactions)&&J("boolean",n.includeMetaArray)&&J("boolean",n.includeParentMessageInfo)&&J("boolean",n.includeThreadInfo)&&J("boolean",n.includePollDetails)};(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",n.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",n.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",n.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",n.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",n.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",n.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",n.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",n.REQUEST_MESSAGE="REQUEST_MESSAGE",n.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",n.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",n.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",n.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",n.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",n.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",n.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",n.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",n.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",n.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(En||(En={}));var xf,rg=function(n){return n.startsWith("EVENT_")||n===En.SYNC_MESSAGE_FILL||n===En.SYNC_MESSAGE_CHANGELOGS},ar=function(n){function e(t){var r=t.messages,i=t.source,o=n.call(this)||this;return o.messages=r,o.source=i,o}return B(e,n),e}(ni),_3=function(n){function e(t){var r=t.messageIds,i=t.source,o=n.call(this)||this;return o.messageIds=r,o.source=i,o}return B(e,n),e}(ni),A7=function(n){function e(t){var r=t.reqId,i=t.source,o=n.call(this)||this;return o.reqId=r,o.source=i,o}return B(e,n),e}(ni),jne=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.includeMetaArray,d=t.includeReactions,h=t.includeThreadInfo,f=t.includeParentMessageInfo,v=t.includePollDetails,_=n.call(this)||this;return _.method=Ae.GET,_.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o)),_.params={is_sdk:!0,with_sorted_meta_array:u,include_reactions:d,include_thread_info:h,include_parent_message_info:f,include_poll_details:v},_}return B(e,n),e}(De),Vne=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=r?Ts(t,ee({},r)):null,i}return B(e,n),e}(Pe),K5=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=o===void 0?null:o,d=t.token,h=d===void 0?null:d,f=t.prevResultSize,v=t.nextResultSize,_=t.isInclusive,y=t.reverse,E=t.messageTypeFilter,x=t.customTypesFilter,C=t.senderUserIdsFilter,M=t.replyType,N=t.includeMetaArray,S=t.includeReactions,D=t.parentMessageId,P=t.includeThreadInfo,Q=t.includeParentMessageInfo,z=t.showSubchannelMessagesOnly,W=t.includePollDetails,V=n.call(this)||this;return V.method=Ae.GET,V.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages"),V.params=wn({is_sdk:!0,prev_limit:f,next_limit:v,include:_,reverse:y,message_ts:u,message_id:h,message_type:E!=null?E:null,custom_types:x,sender_ids:C,include_reply_type:M,with_sorted_meta_array:N,include_reactions:S,parent_message_id:D,include_thread_info:P,include_parent_message_info:Q,show_subchannel_message_only:z,include_poll_details:W}),V}return B(e,n),e}(De),Q5=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.messages=r.messages.map(function(o){return Ts(t,o)}),i}return B(e,n),e}(Pe),Wne=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=t.token,d=t.replyType,h=t.includeMetaArray,f=t.includeReactions,v=t.includeThreadInfo,_=t.includeParentMessageInfo,y=t.includePollDetails,E=n.call(this)||this;return E.method=Ae.GET,E.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages/changelogs"),E.params={change_ts:o,token:u,with_sorted_meta_array:h,include_reactions:f,include_thread_info:v,include_reply_type:d,include_parent_message_info:_,include_poll_details:y},E}return B(e,n),e}(De),Kne=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.updatedMessages=r.updated.map(function(o){return Ts(t,o)}),i.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),i.hasMore=r.has_more,i.nextToken=r.next,i}return B(e,n),e}(Pe),Qne=function(n){function e(t){var r=t.channelUrl,i=t.scheduledMessageId,o=n.call(this)||this;return o.method=Ae.GET,o.path="".concat(Fi,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(i)),o.params={},o}return B(e,n),e}(De),Yne=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=r?Ts(t,ee({},r)):null,i}return B(e,n),e}(Pe),Y5={},ci=function(){function n(e,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,d=t.cacheContext;this._iid=e,this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._onlineDetector=u,this._cacheContext=d,this.fileMessageQueue=new $ne(e,{sdkState:r,dispatcher:i,requestQueue:o,onlineDetector:u,cacheContext:d}),Y5[e]=this}return n.of=function(e){return Y5[e]},n.prototype.buildMessageFromSerializedData=function(e){var t=Tc(e);switch(t.messageType){case _r.USER:return new Zr(this._iid,Zr.payloadify(t));case _r.FILE:return new Qr(this._iid,Qr.payloadify(t));case _r.ADMIN:return new xh(this._iid,xh.payloadify(t))}return null},n.prototype.buildUserMessageCreateParamsFromSerializedData=function(e,t){return wn({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations)})},n.prototype.buildFileMessageCreateParamsFromSerializedData=function(e,t){return wn({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:e.file,fileKey:e.fileKey,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:e.fileType,requireAuth:t.requireAuth})},n.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(e,t){return ee(ee({},this.buildUserMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},n.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(e,t){return ee(ee({},this.buildFileMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},n.prototype.buildSenderFromSerializedData=function(e){var t=Tc(e);return new e0(this._iid,e0.payloadify(t))},n.prototype.getMessage=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=new jne(e),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Vne).message]}})})},n.prototype.getScheduledMessage=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=new Qne(e),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Yne).message]}})})},n.prototype.getMessagesByTimestamp=function(e,t,r,i,o){return o===void 0&&(o=En.REQUEST_MESSAGE),T(this,void 0,void 0,function(){var u,d,h;return I(this,function(f){switch(f.label){case 0:return u=new K5(ee(ee({channelType:t,channelUrl:e,timestamp:r},O7),i)),[4,this._requestQueue.send(u)];case 1:return d=f.sent(),h=d.as(Q5).messages,this._dispatcher.dispatch(new ar({messages:h,source:o})),[2,h]}})})},n.prototype.getThreadedMessagesByTimestamp=function(e,t,r,i){return i===void 0&&(i=En.REQUEST_THREADED_MESSAGE),T(this,void 0,void 0,function(){var o,u,d,h;return I(this,function(f){switch(f.label){case 0:return o=new K5(ee(ee(ee({channelUrl:e.channelUrl,channelType:e.channelType,timestamp:t},Kv),r),{replyType:Xi.ALL,parentMessageId:e.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return u=f.sent(),d=u.as(Q5).messages,(h=d.slice(1)).forEach(function(v){v.parentMessage=e}),this._dispatcher.dispatch(new ar({messages:h,source:i})),[2,{parentMessage:d[0],threadedMessages:h}]}})})},n.prototype.getMessageChangelogs=function(e,t,r,i,o){return o===void 0&&(o=En.REQUEST_MESSAGE_CHANGELOGS),T(this,void 0,void 0,function(){var u,d,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return u=new Wne(wn(ee(ee({channelType:t,channelUrl:e,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},y2),i))),[4,this._requestQueue.send(u)];case 1:return d=x.sent(),h=d.as(Kne),f=h.updatedMessages,v=h.deletedMessagesInfo,_=h.hasMore,y=h.nextToken,E=v.map(function(C){return C.messageId}),f.length>0&&this._dispatcher.dispatch(new ar({messages:f,source:o})),E.length>0&&this._dispatcher.dispatch(new _3({messageIds:E,source:o})),[2,{updatedMessages:f,deletedMessageIds:E,hasMore:_,token:y}]}})})},n}(),rl=function(){function n(){this._onPending=Ln,this._onFailed=Ln,this._onSucceeded=Ln}return n.prototype._trigger=function(e,t){switch(t.sendingStatus){case Ht.PENDING:this._onPending(t);break;case Ht.FAILED:case Ht.CANCELED:this._onFailed(e,t.isResendable?t:null);break;case Ht.SCHEDULED:case Ht.SUCCEEDED:this._onSucceeded(t)}},n.prototype.onPending=function(e){return this._onPending=e,this},n.prototype.onFailed=function(e){return this._onFailed=e,this},n.prototype.onSucceeded=function(e){return this._onSucceeded=e,this},n}(),Xne=function(n){function e(t,r){var i=n.call(this,t)||this;i.threadInfo=null,i.targetMessageId=0,i.channelUrl=null,i.channelType=null;var o=r.thread_info,u=r.root_message_id,d=r.channel_url,h=r.channel_type;return o&&J("object",o)&&J("number",u)&&J("string",d)&&J("string",h)&&(i.threadInfo=new b2(t,o),i.targetMessageId=u,i.channelUrl=d,i.channelType=h),i}return B(e,n),e}(to),Jne={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},wl=function(){function n(e,t){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=e,this.limit=(r=t.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),n.prototype._validate=function(){return J("number",this.limit)&&this.limit>0},n}(),Zne=function(n){function e(t){var r=t.channelCustomType,i=t.keyword,o=t.limit,u=t.reverse,d=t.exactMatch,h=t.channelUrl,f=t.order,v=t.messageTimestampFrom,_=t.messageTimestampTo,y=t.advancedQuery,E=t.targetFields,x=t.nextToken,C=n.call(this)||this;return C.method=Ae.GET,C.path="".concat(Cne,"/messages"),C.params={custom_type:r,query:i,limit:o,reverse:u,exact_match:d,channel_url:h,message_ts_from:v,message_ts_to:_,sort_field:f,advanced_query:y,target_fields:E,after:x},C}return B(e,n),e}(De),ete=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.messages=r.results.map(function(o){return Ts(t,o)}),i.hasNext=r.has_next,i.nextToken=r.end_cursor,i}return B(e,n),e}(Pe);(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(xf||(xf={}));var nte=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E=this;return(E=n.call(this,t,r)||this).keyword="",E.reverse=!1,E.exactMatch=!1,E.channelUrl="",E.channelCustomType="",E.messageTimestampFrom=null,E.messageTimestampTo=null,E.order=xf.SCORE,E.advancedQuery=!1,E.targetFields=null,E._nextToken="",E.keyword=r.keyword,E.reverse=(i=r.reverse)!==null&&i!==void 0&&i,E.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,E.channelUrl=(u=r.channelUrl)!==null&&u!==void 0?u:"",E.channelCustomType=(d=r.channelCustomType)!==null&&d!==void 0?d:"",E.messageTimestampFrom=(h=r.messageTimestampFrom)!==null&&h!==void 0?h:null,E.messageTimestampTo=(f=r.messageTimestampTo)!==null&&f!==void 0?f:null,E.order=(v=r.order)!==null&&v!==void 0?v:xf.SCORE,E.advancedQuery=(_=r.advancedQuery)!==null&&_!==void 0&&_,E.targetFields=(y=r.targetFields)!==null&&y!==void 0?y:null,E}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("string",this.keyword)&&this.keyword.length>0&&J("boolean",this.reverse)&&J("boolean",this.exactMatch)&&J("string",this.channelUrl)&&J("string",this.channelCustomType)&&(J("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(J("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Nn(xf,this.order)&&J("boolean",this.advancedQuery)&&In("string",this.targetFields,!0)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Zne(ee(ee({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(ete),u=o.messages,d=o.hasNext,h=o.nextToken,this._nextToken=h,this._hasNext=d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),Ph=function(n){function e(t,r,i,o){var u=n.call(this,t,o)||this;return u.channelUrl=r,u.channelType=i,u}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("string",this.channelUrl)&&Nn(Ct,this.channelType)},e}(wl),tte=function(n){function e(t,r,i,o){var u,d,h,f,v,_,y,E,x,C,M=this;return(M=n.call(this,t,r,i,o)||this).reverse=!1,M.messageTypeFilter=di.ALL,M.customTypesFilter=null,M.senderUserIdsFilter=null,M.replyType=Xi.NONE,M.includeMetaArray=!1,M.includeReactions=!1,M.includeParentMessageInfo=!1,M.includeThreadInfo=!1,M.showSubchannelMessagesOnly=!1,M._edge=Number.MAX_SAFE_INTEGER,M.reverse=(u=o.reverse)!==null&&u!==void 0&&u,M.messageTypeFilter=(d=o.messageTypeFilter)!==null&&d!==void 0?d:di.ALL,M.customTypesFilter=(h=o.customTypesFilter)!==null&&h!==void 0?h:null,M.senderUserIdsFilter=(f=o.senderUserIdsFilter)!==null&&f!==void 0?f:null,M.replyType=(v=o.replyType)!==null&&v!==void 0?v:Xi.NONE,M.includeMetaArray=(_=o.includeMetaArray)!==null&&_!==void 0&&_,M.includeReactions=(y=o.includeReactions)!==null&&y!==void 0&&y,M.includeParentMessageInfo=(E=o.includeParentMessageInfo)!==null&&E!==void 0&&E,M.includeThreadInfo=(x=o.includeThreadInfo)!==null&&x!==void 0&&x,M.showSubchannelMessagesOnly=(C=o.showSubchannelMessagesOnly)!==null&&C!==void 0&&C,M}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("boolean",this.reverse)&&Nn(di,this.messageTypeFilter)&&Nn(Xi,this.replyType)&&In("string",this.customTypesFilter,!0)&&In("string",this.senderUserIdsFilter,!0)&&J("boolean",this.includeMetaArray)&&J("boolean",this.includeReactions)&&J("boolean",this.includeParentMessageInfo)&&J("boolean",this.includeThreadInfo)&&J("boolean",this.showSubchannelMessagesOnly)},e.prototype.load=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,ci.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return t=r.sent(),this._edge=Math.min.apply(Math,vn([Number.MAX_SAFE_INTEGER],_n(t.map(function(i){return i.createdAt})),!1)),this._hasNext=t.length>=this.limit,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph),rte={channelUrl:null,scheduledMessageId:0},ite=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.name="message",t}return B(e,n),e.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,d=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:d,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new ci(t,{sdkState:i,dispatcher:o,requestQueue:d,onlineDetector:f,cacheContext:v})},e.prototype.buildMessageFromSerializedData=function(t){return this._manager.buildMessageFromSerializedData(t)},e.prototype.buildSenderFromSerializedData=function(t){return this._manager.buildSenderFromSerializedData(t)},e.prototype.getMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ee(ee({},Jne),t),Fe(function(i){return J("string",i.channelUrl)&&J("string",i.channelType)&&Nn(Ct,i.channelType)&&J("number",i.messageId)&&J("boolean",i.includeMetaArray)&&J("boolean",i.includeParentMessageInfo)&&J("boolean",i.includeThreadInfo)&&J("boolean",i.includePollDetails)}(t)).throw(le.invalidParameters),[2,this._manager.getMessage(t)]})})},e.prototype.getScheduledMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ee(ee({},rte),t),Fe(function(i){return J("string",i.channelUrl)&&J("number",i.scheduledMessageId)}(t)).throw(le.invalidParameters),[2,this._manager.getScheduledMessage(t)]})})},e}(f3),kh,b3={data:null,customType:null,mentionType:pi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},y3=function(n){return J("string",n.data,!0)&&J("string",n.customType,!0)&&Nn(pi,n.mentionType)&&In("string",n.mentionedUserIds,!0)&&In(Mn,n.mentionedUsers,!0)&&J("string",n.mentionedMessageTemplate,!0)&&In(ua,n.metaArrays,!0)&&J("number",n.parentMessageId,!0)&&J("boolean",n.isReplyToChannel)&&Nn(ku,n.pushNotificationDeliveryOption,!0)&&J(Io,n.appleCriticalAlertOptions,!0)},X5=function(n){return n?{isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}:null},R7=ee(ee({},b3),{message:null,translationTargetLanguages:null}),M7=function(n){return y3(n)&&J("string",n.message)&&In("string",n.translationTargetLanguages,!0)};(function(n){n.FILE="file",n.BLOB="blob",n.BLOB_LIKE_OBJECT="blobLikeObject",n.URL="url"})(kh||(kh={}));var E2,w2=function(n){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&n instanceof Blob},x2=function(n){return n===kh.BLOB||n===kh.FILE},J5=function(n){return n?{file:n.file,fileKey:n.fileKey,fileType:n.fileType,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}:null},Z5=ee(ee({},b3),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),eD=function(n){return y3(n)&&(Mi(n.file)||J("string",n.fileUrl))&&J("string",n.fileName,!0)&&J("string",n.mimeType,!0)&&J("number",n.fileSize,!0)&&(n.thumbnailSizes===null||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(e){return J("object",e)&&e.maxWidth>0&&e.maxHeight>0}))};(function(n){n.MUTED="muted",n.BANNED="banned"})(E2||(E2={}));var kf,nD=function(){function n(e){var t,r,i;this.restrictionType=null,this.description=null,this.endAt=-1,Nn(E2,e.restriction_type)&&(this.restrictionType=e.restriction_type),this.description=(t=e.description)!==null&&t!==void 0?t:null,this.endAt=(i=(r=e.end_at)!==null&&r!==void 0?r:e.muted_end_at)!==null&&i!==void 0?i:-1}return n.payloadify=function(e){return e?wn({restriction_type:e.restrictionType,description:e.description,end_at:e.endAt}):null},n}(),jc=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.restrictionInfo=null,i.restrictionInfo=new nD(r),i}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),nD.payloadify(t.restrictionInfo))):null},e}(Mn),E3={data:null,customType:null,mentionType:pi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},w3=function(n){return J("string",n.data,!0)&&J("string",n.customType,!0)&&Nn(pi,n.mentionType)&&In("string",n.mentionedUserIds,!0)&&In(Mn,n.mentionedUsers,!0)&&J("string",n.mentionedMessageTemplate,!0)&&In(ua,n.metaArrays,!0)&&Nn(ku,n.pushNotificationDeliveryOption,!0)&&J(Io,n.appleCriticalAlertOptions,!0)},D7=ee(ee({},E3),{message:null,translationTargetLanguages:null}),U7=function(n){return w3(n)&&J("string",n.message,!0)&&In("string",n.translationTargetLanguages,!0)},ate=ee({},E3),ste=function(n){function e(t){var r=t.channelUrl,i=t.channelType,o=t.token,u=t.limit,d=n.call(this)||this;return d.method=Ae.GET,d.path="".concat(bt(i),"/").concat(encodeURIComponent(r),"/operators"),d.params={token:o,limit:u},d}return B(e,n),e}(De),ote=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.operators=r.operators.map(function(o){return new Mn(t,o)}),i.token=r.next,i}return B(e,n),e}(Pe),lte=function(n){function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ie.of(this._iid).requestQueue,i=new ste(ee(ee({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(i)]):[3,2]):[3,5];case 1:return o=f.sent(),u=o.as(ote),d=u.operators,h=u.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,t];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph),ute=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,d=t.token;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={limit:u,token:d},r}return B(e,n),e}(De),cte=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.mutedUsers=[];var o=r.next,u=r.muted_list;return i.token=o,u&&u.length>0&&(i.mutedUsers=u.map(function(d){return new jc(t,d)})),i}return B(e,n),e}(Pe),dte=function(n){function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return B(e,n),e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new ute(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(cte),u=o.mutedUsers,d=o.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph),hte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,d=t.token;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=wn({limit:u,token:d}),r}return B(e,n),e}(De),pte=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.bannedUsers=[];var o=r.next,u=r.banned_list;return i.token=o,u&&u.length>0&&(i.bannedUsers=u.map(function(d){return new jc(t,d.user)})),i}return B(e,n),e}(Pe),fte=function(n){function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new hte(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(pte),u=o.bannedUsers,d=o.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph);(function(n){n.SPAM="spam",n.HARASSING="harassing",n.SUSPICIOUS="suspicious",n.INAPPROPRIATE="inappropriate"})(kf||(kf={}));var mte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var gte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var vte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/mute/").concat(u),r}return B(e,n),e}(De),_te=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.isMuted=!1,i.startAt=null,i.endAt=null,i.remainingDuration=null,i.description=null;var o=r.is_muted,u=r.start_at,d=r.end_at,h=r.remaining_duration,f=r.description;return i.isMuted=o,i.startAt=u,i.endAt=d,i.remainingDuration=h,i.description=f,i}return B(e,n),e}(Pe),tD=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={keys:u,include_ts:!0},r}return B(e,n),e}(De),rD=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(e,n),e}(Pe),bte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata,d=t.upsert;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0,upsert:d!=null&&d},r}return B(e,n),e}(De),yte=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(e,n),e}(Pe),L7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(e,n),e}(Mt),Ete=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metadata/").concat(u),r.params={include_ts:!0},r}return B(e,n),e}(De),wte=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(e,n),e}(Pe),xte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={include_ts:!0},r}return B(e,n),e}(De),kte=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(e,n),e}(Pe),iD=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={keys:u},r}return B(e,n),e}(De),aD=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metaCounter=r,i}return B(e,n),e}(Pe),Cte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u},r}return B(e,n),e}(De),Ste=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metaCounter=r,i}return B(e,n),e}(Pe),X1=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter,d=t.upsert,h=d!==void 0&&d,f=t.mode,v=f===void 0?"set":f;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u,upsert:h,mode:v},r}return B(e,n),e}(De),J1=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.metaCounter=r,i}return B(e,n),e}(Pe),P7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(e,n),e}(Mt),Nte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metacounter/").concat(u),r.params=null,r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var Tte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params=null,r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var Ite=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,d=t.seconds,h=t.description;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={user_id:u,seconds:d,description:h},r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var F7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.user=new jc(t,i.data),o}return B(e,n),e}(Mt),Ote=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(u)),r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var H7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.user=new jc(t,i.data),o}return B(e,n),e}(Mt),Ate=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,d=t.seconds,h=t.description;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=wn({user_id:u,seconds:d,description:h}),r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var q7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new jc(t,i.data),i.data.member_count&&(o.memberCount=i.data.member_count),i.data.joined_member_count&&(o.joinedMemberCount=i.data.joined_member_count),o}return B(e,n),e}(Mt),Rte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/ban/").concat(encodeURIComponent(u)),r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var B7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.user=new jc(t,i.data),o}return B(e,n),e}(Mt),sD=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.freezing;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(bt(o),"/").concat(encodeURIComponent(i),"/freeze"),r.params={freeze:u},r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var G7=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.freeze=i.data.freeze,o}return B(e,n),e}(Mt),Mte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,d=t.userId,h=t.description;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(k7(o),"/").concat(encodeURIComponent(i)),r.params={report_category:u,reporting_user_id:d,report_description:h},r}return B(e,n),e}(De),Dte=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,d=t.userId,h=t.offendingUserId,f=t.description;return(r=n.call(this)||this).method=Ae.POST,r.path="/report/users/".concat(h),r.params={channel_url:i,channel_type:o===Ct.OPEN?"open_channels":"group_channels",report_category:u,reporting_user_id:d,report_description:f},r}return B(e,n),e}(De),Ute=function(n){function e(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,d=t.userId,h=t.offendingUserId,f=t.messageId,v=t.description;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(k7(o),"/").concat(encodeURIComponent(i),"/messages/").concat(f),r.params={report_category:u,reporting_user_id:d,report_description:v,offending_user_id:h},r}return B(e,n),e}(De),Lte=function(n){function e(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),n.call(this,{code:"MESG",ackRequired:!0,payload:wn({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==ku.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(e,n),e}(Fa),x3=function(n){function e(t,r,i){var o,u,d,h=this;(h=n.call(this,t,"MESG",i)||this).message=new Zr(t,i);var f=ie.of(t).sdkState;return h.isMentioned=wh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(d=i.force_update_last_message)!==null&&d!==void 0&&d,h}return B(e,n),e}(Mt),oD=function(n){function e(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),n.call(this,{code:"MEDI",ackRequired:!0,payload:wn({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(e,n),e}(Fa),uv=function(n){function e(t,r,i){var o,u,d,h,f,v,_=this;(_=n.call(this,t,"MEDI",i)||this).message=new Zr(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=p3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(d=i.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(e,n),e}(Mt),Pte=function(n){function e(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),n.call(this,{code:"FEDI",ackRequired:!0,payload:wn({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(e,n),e}(Fa),k3=function(n){function e(t,r,i){var o,u,d,h,f,v,_=this;(_=n.call(this,t,"FEDI",i)||this).message=new Qr(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=p3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(d=i.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(e,n),e}(Mt),Fte=function(n){function e(t){var r=n.call(this)||this;return r.method=Ae.DELETE,r.path="".concat(bt(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var $7=function(n){function e(t,r,i){var o=n.call(this,t,"DELM",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.messageId=Number(i.msg_id),o}return B(e,n),e}(Mt),Hte=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,d=n.call(this)||this;return d.method=Ae.POST,d.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),d.params={reaction:u},d}return B(e,n),e}(De),qte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.reactionEvent=new m3(r),i}return B(e,n),e}(Pe),Bte=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,d=n.call(this)||this;return d.method=Ae.DELETE,d.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),d.params={reaction:u},d}return B(e,n),e}(De),Gte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.reactionEvent=new m3(ee({},r)),i}return B(e,n),e}(Pe),$te=function(n){function e(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.translationTargetLanguages,d=n.call(this)||this;return d.method=Ae.POST,d.path="".concat(bt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o),"/translation"),d.params={target_langs:u},d}return B(e,n),e}(De),zte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=new Zr(t,r),i}return B(e,n),e}(Pe),jte=function(n){function e(t){var r,i=this;i=n.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,d=t.channelUrl;return i.method=Ae.POST,i.path="".concat(bt(u),"/").concat(encodeURIComponent(d),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Eh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return ua.payloadify(h)}),apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(e,n),e}(De),z7=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=new Zr(t,r),i}return B(e,n),e}(Pe),Vte=function(n){function e(t){var r,i=this;i=n.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,d=t.channelUrl;return i.method=Ae.POST,i.path="".concat(bt(u),"/").concat(encodeURIComponent(d),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Eh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(h){return Wv.payloadify(h)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return ua.payloadify(h)}),apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(e,n),e}(De),Wte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=new Qr(t,r),i}return B(e,n),e}(Pe),Kte=2,k2=function(n){function e(t,r){var i,o,u,d,h=this;return(h=n.call(this,t)||this).url="",h.channelType=Ct.BASE,h.name="",h.coverUrl="",h.customType="",h.data="",h.isFrozen=!1,h.isEphemeral=!1,h.creator=null,h.createdAt=0,h.url=r.channel_url,h.name=(i=r.name)!==null&&i!==void 0?i:"",h.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",h.customType=(u=r.custom_type)!==null&&u!==void 0?u:"",h.data=(d=r.data)!==null&&d!==void 0?d:"",h.isFrozen=!!J("boolean",r.freeze)&&r.freeze,h.isEphemeral=!!J("boolean",r.is_ephemeral)&&r.is_ephemeral,h.creator=r.created_by?new Mn(h._iid,r.created_by):null,h.createdAt=1e3*r.created_at,h._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(f){h._cachedMetaData.set(f,{value:r.metadata[f],isRemoved:!1,updatedAt:r.ts})}),h}return B(e,n),e.payloadify=function(t){return wn(ee(ee({},n.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:Mn.payloadify(t.creator),created_at:t.createdAt/1e3}))},e.prototype.isGroupChannel=function(){return this.channelType===Ct.GROUP},e.prototype.isOpenChannel=function(){return this.channelType===Ct.OPEN},Object.defineProperty(e.prototype,"cachedMetaData",{get:function(){var t={};return this._cachedMetaData.forEach(function(r,i){r.isRemoved||(t[i]=r.value)}),t},enumerable:!1,configurable:!0}),e.prototype._upsertCachedMetaData=function(t,r){var i=this;Object.keys(t).forEach(function(o){var u=i._cachedMetaData.get(o);(!u||u.updatedAt<=r)&&i._cachedMetaData.set(o,{value:t[o],isRemoved:!1,updatedAt:r})})},e.prototype._removeFromCachedMetaData=function(t,r){var i=this;t.forEach(function(o){var u=i._cachedMetaData.get(o);u&&u.updatedAt<r&&(u.isRemoved=!1,u.updatedAt=r)})},e.prototype._generateRequestId=function(){return"rq-".concat(ys())},e.prototype.isIdentical=function(t){return t&&this.url===t.url},e.prototype.isEqual=function(t){return g7(this,t)},e.prototype.createOperatorListQuery=function(t){return t===void 0&&(t={}),new lte(this._iid,this.url,this.channelType,t)},e.prototype.createMutedUserListQuery=function(t){return t===void 0&&(t={}),new dte(this._iid,this.url,this.channelType,t)},e.prototype.createBannedUserListQuery=function(t){return t===void 0&&(t={}),new fte(this._iid,this.url,this.channelType,t)},e.prototype.createPreviousMessageListQuery=function(t){return t===void 0&&(t={}),new tte(this._iid,this.url,this.channelType,t)},e.prototype.addOperators=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(In("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new mte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},e.prototype.removeOperators=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(In("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new gte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},e.prototype.getMyMutedInfo=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y;return I(this,function(E){switch(E.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new vte({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,i.send(o)];case 1:return u=E.sent(),d=u.as(_te),h=d.isMuted,f=d.startAt,v=d.endAt,_=d.remainingDuration,y=d.description,[2,{isMuted:h,startAt:f,endAt:v,remainingDuration:_,description:y}]}})})},e.prototype.getMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(In("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new tD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=f.sent(),u=o.as(rD),d=u.metadata,h=u.ts,this._upsertCachedMetaData(d,h),[2,d]}})})},e.prototype.getAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new tD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(rD),u=o.metadata,d=o.ts,this._upsertCachedMetaData(u,d),[2,u]}})})},e.prototype.createMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(d){switch(d.label){case 0:return r=ie.of(this._iid).requestQueue,i=new Ine({channelUrl:this.url,channelType:this.channelType,metadata:t}),[4,r.send(i)];case 1:return o=d.sent(),u=o.as(C7).metaData,this._upsertCachedMetaData(u,0),[2,u]}})})},e.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return i=ie.of(this._iid).requestQueue,o=new bte({channelUrl:this.url,channelType:this.channelType,metadata:t,upsert:r}),[4,i.send(o)];case 1:return u=v.sent(),d=u.as(yte),h=d.metadata,f=d.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},e.prototype.deleteMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Ete({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o=d.sent(),u=o.as(wte).ts,this._removeFromCachedMetaData([t],u),[2]}})})},e.prototype.deleteAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid).requestQueue,r=new xte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i=u.sent(),o=i.as(kte).ts,this._removeFromCachedMetaData(vn([],_n(this._cachedMetaData.keys()),!1),o),[2]}})})},e.prototype.getMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(In("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new iD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(aD).metaCounter]}})})},e.prototype.getAllMetaCounters=function(){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new iD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(aD).metaCounter]}})})},e.prototype.createMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new Cte({channelUrl:this.url,channelType:this.channelType,metaCounter:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(Ste).metaCounter]}})})},e.prototype.updateMetaCounters=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u;return I(this,function(d){switch(d.label){case 0:return i=ie.of(this._iid).requestQueue,o=new X1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:r}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(J1).metaCounter]}})})},e.prototype.increaseMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new X1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"increase"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(J1).metaCounter]}})})},e.prototype.decreaseMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new X1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"decrease"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(J1).metaCounter]}})})},e.prototype.deleteMetaCounter=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Nte({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},e.prototype.deleteAllMetaCounters=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Tte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},e.prototype.muteUser=function(t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){return[2,this.muteUserWithUserId(t.userId,r,i)]})})},e.prototype.muteUserWithUserId=function(t,r,i){return T(this,void 0,void 0,function(){var o,u;return I(this,function(d){switch(d.label){case 0:return Fe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(le.invalidParameters),o=ie.of(this._iid).requestQueue,u=new Ite({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.unmuteUser=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this.unmuteUserWithUserId(t.userId)]})})},e.prototype.unmuteUserWithUserId=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Ote({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},e.prototype.banUser=function(t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){return[2,this.banUserWithUserId(t.userId,r,i)]})})},e.prototype.banUserWithUserId=function(t,r,i){return T(this,void 0,void 0,function(){var o,u;return I(this,function(d){switch(d.label){case 0:return Fe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(le.invalidParameters),o=ie.of(this._iid).requestQueue,u=new Ate({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.unbanUser=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this.unbanUserWithUserId(t.userId)]})})},e.prototype.unbanUserWithUserId=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Rte({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},e.prototype.freeze=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new sD({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!0,[2]}})})},e.prototype.unfreeze=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new sD({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!1,[2]}})})},e.prototype.getMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},O7),r),Fe(J("number",t)&&zne(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},e.prototype.getMessageChangeLogsSinceTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},y2),r),Fe(J("number",t)&&W5(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},e.prototype.getMessageChangeLogsSinceToken=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},y2),r),Fe(J("string",t)&&W5(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},e.prototype._createPendingSendableMessagePayload=function(t,r,i){var o=ie.of(this._iid).sessionManager;return wn({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map(function(u){return ua.payloadify(u)}):null,apple_critical_alert_options:t.appleCriticalAlertOptions?Io.payloadify(t.appleCriticalAlertOptions):null,created_at:i,user:e0.payloadify(o.currentUser),req_id:r,request_state:Ht.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:t.mentionedUsers})},e.prototype._createPendingUserMessage=function(t,r,i){var o,u,d={};if(t.translationTargetLanguages)try{for(var h=$e(t.translationTargetLanguages),f=h.next();!f.done;f=h.next())d[f.value]=""}catch(y){o={error:y}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(o)throw o.error}}var v=wn(ee(ee({},this._createPendingSendableMessagePayload(t,r,i)),{type:_r.USER,message:t.message,translations:d})),_=new Zr(this._iid,v);return _.messageParams=t,_},e.prototype._createPendingScheduledUserMessage=function(t,r,i){var o=this._createPendingUserMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},e.prototype._createPendingFileMessage=function(t,r,i){var o=wn(ee(ee({},this._createPendingSendableMessagePayload(t,r,i)),{type:_r.FILE,url:t.fileUrl,file:{name:t.fileName,size:t.fileSize,type:t.mimeType,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(d){return{url:"",width:d.maxWidth,height:d.maxHeight}}):[]})),u=new Qr(this._iid,o);return u.messageParams=t,u},e.prototype._createPendingScheduledFileMessage=function(t,r,i){var o=this._createPendingFileMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},e.prototype._markMessageAsFailed=function(t,r,i){i===void 0&&(i=!1),t.errorCode=r.code,r.code===et.REQUEST_CANCELED?t.sendingStatus=Ht.CANCELED:i||(t.sendingStatus=Ht.FAILED)},e.prototype.sendUserMessage=function(t){return t=ee(ee({},R7),t),Fe(M7(t)).throw(le.invalidParameters),this._sendUserMessage(t)},e.prototype._sendUserMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=ie.of(this._iid),d=u.dispatcher,h=u.requestQueue,f=i,v=new rl;if(!f){f=this._generateRequestId();var _=ie.of(this._iid).dispatcher;fs(2).then(function(){var E=o._createPendingUserMessage(t,f,r);_.dispatch(new ar({messages:[E],source:En.EVENT_MESSAGE_SENT_PENDING})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(x){return[2,v._trigger(null,E)]})})})})}var y=new Lte(ee({channelUrl:this.url,channelType:this.channelType,reqId:f},t));return h.send(y).then(function(E){var x=E.as(x3).message;d.dispatch(new ar({messages:[x],source:En.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(C){return[2,v._trigger(null,x)]})})})}).catch(function(E){if(Ks(E))throw E;fs(2).then(function(){var x=o._createPendingUserMessage(t,f,r),C=ie.of(o._iid).cacheContext.localCacheEnabled&&sv(E.code);o._markMessageAsFailed(x,E,C),d.dispatch(new ar({messages:[x],source:x.sendingStatus===Ht.PENDING?En.REQUEST_RESEND_MESSAGE:En.EVENT_MESSAGE_SENT_FAILED})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(M){return[2,v._trigger(E,x)]})})})})}),v},e.prototype._autoResendUserMessage=function(t){return Fe(t instanceof Zr).throw(le.invalidParameters),this._sendUserMessage(t.messageParams,t.createdAt,t.reqId)},e.prototype.resendUserMessage=function(t){var r;return T(this,void 0,void 0,function(){var i,o;return I(this,function(u){var d;return Fe(t instanceof Zr&&!t.scheduledInfo).throw(le.invalidParameters),i=new ca,o=(r=t.messageParams)!==null&&r!==void 0?r:wn({data:(d=t).data,customType:d.customType,mentionType:d.mentionType,mentionedUsers:d.mentionedUsers,mentionedUserIds:d.mentionedUserIds,mentionedMessageTemplate:d.mentionedMessageTemplate,metaArrays:d.metaArrays,parentMessageId:d.parentMessageId,appleCriticalAlertOptions:d.appleCriticalAlertOptions,message:d.message,translationTargetLanguages:Object.keys(d.translations)}),this._sendUserMessage(o).onFailed(function(h){return i.reject(h)}).onSucceeded(function(h){return i.resolve(h)}),[2,i.promise]})})},e.prototype.updateUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return r=ee(ee({},D7),r),Fe(J("number",t)&&U7(r)).throw(le.invalidParameters),i=ie.of(this._iid),o=i.dispatcher,u=i.requestQueue,d=new oD(ee({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(d)];case 1:return h=v.sent(),f=h.as(uv).message,o.dispatch(new ar({messages:[f],source:En.EVENT_MESSAGE_UPDATED})),[2,f]}})})},e.prototype.copyUserMessage=function(t,r){var i,o,u;return T(this,void 0,void 0,function(){var d,h;return I(this,function(f){return Fe(t instanceof e&&r instanceof Zr&&r.sendingStatus===Ht.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(le.invalidParameters),d=new ca,h=(i=r.messageParams)!==null&&i!==void 0?i:ee(ee({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:ku.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),t._sendUserMessage(h).onSucceeded(function(v){return d.resolve(v)}).onFailed(function(v){return d.reject(v)}),[2,d.promise]})})},e.prototype.translateUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(t instanceof Zr&&t.messageId>0&&In("string",r)).throw(le.invalidParameters),i=ie.of(this._iid).requestQueue,o=new $te({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:r}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(zte).message]}})})},e.prototype._createScheduledUserMessage=function(t,r){var i=this,o=ie.of(this._iid),u=o.dispatcher,d=o.requestQueue,h=Date.now(),f=this._generateRequestId();fs(2).then(function(){var _=i._createPendingScheduledUserMessage(t,f,h);u.dispatch(new ar({messages:[_],source:En.EVENT_MESSAGE_SENT_PENDING})),en(function(){return T(i,void 0,void 0,function(){return I(this,function(y){return[2,r._trigger(null,_)]})})})});var v=new jte(ee({reqId:f,channelType:this.channelType,channelUrl:this.url},t));d.send(v).then(function(_){var y=_.as(z7).message;u.dispatch(new ar({messages:[y],source:En.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return T(i,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(Ks(_))throw _;fs(2).then(function(){var y=i._createPendingScheduledUserMessage(t,f,h);i._markMessageAsFailed(y,_),u.dispatch(new ar({messages:[y],source:En.EVENT_MESSAGE_SENT_FAILED})),en(function(){return T(i,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(_,y)]})})})})})},e.prototype.sendFileMessage=function(t){return t=ee(ee({},Z5),t),Fe(eD(t)).throw(le.invalidParameters),this._sendFileMessage(t)},e.prototype._sendFileMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=ie.of(this._iid).dispatcher,d=ci.of(this._iid).fileMessageQueue,h=i,f=new rl;return h||(h=this._generateRequestId(),fs(2).then(function(){var v=o._createPendingFileMessage(t,h,r);u.dispatch(new ar({messages:[v],source:En.EVENT_MESSAGE_SENT_PENDING})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(_){return[2,f._trigger(null,v)]})})})})),d.request(this,h,t).then(function(v){u.dispatch(new ar({messages:[v],source:En.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(_){return[2,f._trigger(null,v)]})})})}).catch(function(v){if(Ks(v))throw v;fs(2).then(function(){var _=o._createPendingFileMessage(t,h,r),y=ie.of(o._iid).cacheContext.localCacheEnabled&&sv(v.code);o._markMessageAsFailed(_,v,y),u.dispatch(new ar({messages:[_],source:_.sendingStatus===Ht.PENDING?En.REQUEST_RESEND_MESSAGE:En.EVENT_MESSAGE_SENT_FAILED})),en(function(){return T(o,void 0,void 0,function(){return I(this,function(E){return[2,f._trigger(v,_)]})})})})}),f},e.prototype._autoResendFileMessage=function(t){Fe(t instanceof Qr).throw(le.invalidParameters);var r=ie.of(this._iid).logger;return r.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.createdAt,t.reqId).onFailed(function(i){r.debug("autoResendFileMessage failed",i)}).onSucceeded(function(i){r.debug("autoResendFileMessage success",i)})},e.prototype._createScheduledFileMessage=function(t,r,i,o){var u=this,d=ie.of(this._iid),h=d.dispatcher,f=d.requestQueue,v=new Vte(ee(ee({reqId:i,channelType:this.channelType,channelUrl:this.url},t),{fileUrl:t.fileUrl,requireAuth:t.requireAuth}));f.send(v).then(function(_){var y=_.as(Wte).message;h.dispatch(new ar({messages:[y],source:En.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return T(u,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(Ks(_))throw _;fs(2).then(function(){var y=u._createPendingScheduledFileMessage(t,i,o);u._markMessageAsFailed(y,_),h.dispatch(new ar({messages:[y],source:En.EVENT_MESSAGE_SENT_FAILED})),en(function(){return T(u,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(_,y)]})})})})})},e.prototype.sendFileMessages=function(t){var r,i;Fe(t.every(function(f){return eD(ee(ee({},Z5),f))})).throw(le.invalidParameters);var o=new rl;try{for(var u=$e(t),d=u.next();!d.done;d=u.next()){var h=d.value;this.sendFileMessage(h).onPending(function(f){return o._trigger(null,f)}).onFailed(function(f,v){return o._trigger(f,v)}).onSucceeded(function(f){return o._trigger(null,f)})}}catch(f){r={error:f}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o},e.prototype.resendFileMessage=function(t,r){var i;return T(this,void 0,void 0,function(){var o,u;return I(this,function(d){return Fe(t instanceof Qr&&r instanceof Blob&&!t.scheduledInfo).throw(le.invalidParameters),o=new ca,u=(i=t.messageParams)!==null&&i!==void 0?i:function(h,f){return f===void 0&&(f=null),wn({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,metaArrays:h.metaArrays,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,file:f,fileUrl:h.url,fileName:h.name,fileSize:h.size,mimeType:h.type,thumbnailSizes:h.thumbnails.map(function(v){return{maxWidth:v.width,maxHeight:v.height}})})}(t,r),this._sendFileMessage(u).onFailed(function(h){return o.reject(h)}).onSucceeded(function(h){return o.resolve(h)}),[2,o.promise]})})},e.prototype.updateFileMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return r=ee(ee({},ate),r),Fe(J("number",t)&&function(_){return w3(_)}(r)).throw(le.invalidParameters),i=ie.of(this._iid),o=i.dispatcher,u=i.requestQueue,d=new Pte(ee({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(d)];case 1:return h=v.sent(),f=h.as(k3).message,o.dispatch(new ar({messages:[f],source:En.EVENT_MESSAGE_UPDATED})),[2,f]}})})},e.prototype.cancelUploadingFileMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),ci.of(this._iid).fileMessageQueue.cancel(this,t),[2,!0]})})},e.prototype.copyFileMessage=function(t,r){var i,o;return T(this,void 0,void 0,function(){var u,d;return I(this,function(h){return Fe(t instanceof e&&r instanceof Qr&&r.sendingStatus===Ht.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(le.invalidParameters),u=new ca,d=ee(ee({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(i=r.mentionedUserIds)!==null&&i!==void 0?i:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(f){return f.userId}),pushNotificationDeliveryOption:ku.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(f){return{maxWidth:f.width,maxHeight:f.height}}),requireAuth:r.requireAuth}),t._sendFileMessage(d).onSucceeded(function(f){return u.resolve(f)}).onFailed(function(f){return u.reject(f)}),[2,u.promise]})})},e.prototype.deleteMessage=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(t instanceof Vr).throw(le.invalidParameters),t.messageId>0?(r=ie.of(this._iid).requestQueue,i=new Fte({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.addReaction=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(t instanceof lv&&t.messageId>0&&J("string",r)).throw(le.invalidParameters),i=ie.of(this._iid).requestQueue,o=new Hte({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(qte).reactionEvent]}})})},e.prototype.deleteReaction=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(t instanceof lv&&t.messageId>0&&J("string",r)).throw(le.invalidParameters),i=ie.of(this._iid).requestQueue,o=new Bte({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(Gte).reactionEvent]}})})},e.prototype._updateMessageMetaArray=function(t,r,i,o){return T(this,void 0,void 0,function(){var u,d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return u=ie.of(this._iid),d=u.dispatcher,h=u.requestQueue,f=new oD({channelType:this.channelType,channelUrl:this.url,messageId:t,metaArrayParams:{array:r,mode:i,upsert:o}}),[4,h.send(f)];case 1:return v=y.sent(),_=v.as(uv).message,d.dispatch(new ar({messages:[_],source:En.EVENT_MESSAGE_UPDATED})),[2,_]}})})},e.prototype.createMessageMetaArrayKeys=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return Fe(t instanceof Vr&&t.messageId>0&&In("string",r)).throw(le.invalidParameters),i=r.map(function(u){return new ua({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"add",!0)]})})},e.prototype.deleteMessageMetaArrayKeys=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return Fe(t instanceof Vr&&t.messageId>0&&In("string",r)).throw(le.invalidParameters),i=r.map(function(u){return new ua({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"remove",!0)]})})},e.prototype.addMessageMetaArrayValues=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){return Fe(t instanceof Vr&&t.messageId>0&&r.every(function(o){return o instanceof ua})).throw(le.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"add",!0)]})})},e.prototype.removeMessageMetaArrayValues=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){return Fe(t instanceof Vr&&t.messageId>0&&r.every(function(o){return o instanceof ua})).throw(le.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"remove",!0)]})})},e.prototype.report=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(Nn(kf,t)&&J("string",r)).throw(le.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,d=new Mte({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:t,description:r}),[4,u.send(d)];case 1:return h.sent(),[2]}})})},e.prototype.reportUser=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(t instanceof Mn&&Nn(kf,r)&&J("string",i)).throw(le.invalidParameters),o=ie.of(this._iid),u=o.sdkState,d=o.requestQueue,h=new Dte({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.userId,category:r,description:i}),[4,d.send(h)];case 1:return f.sent(),[2]}})})},e.prototype.reportMessage=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(t instanceof Vr&&Nn(kf,r)&&J("string",i)).throw(le.invalidParameters),o=ie.of(this._iid),u=o.sdkState,d=o.requestQueue,h=new Ute({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:r,description:i}),[4,d.send(h)];case 1:return f.sent(),[2]}})})},e}(to),Ca,xc,rs,C2;(function(n){n.SUCCESS="success",n.PENDING="pending",n.ERROR="error"})(Ca||(Ca={})),function(n){n.DEFAULT="default",n.ALL="all",n.MENTION_ONLY="mention_only",n.OFF="off"}(xc||(xc={})),function(n){n.FCM="gcm",n.APNS="apns",n.UNKNOWN="unknown"}(rs||(rs={})),function(n){n.ALTERNATIVE="alternative",n.DEFAULT="default"}(C2||(C2={}));var Yr,Cf,S2,j7=100,V7="GroupChannel",Qte="url",W7=100,Yte="Message",Xte="messageId";(function(n){n.LATEST_LAST_MESSAGE="latest_last_message",n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Yr||(Yr={})),function(n){n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(Cf||(Cf={})),function(n){n.CREATED_AT="created_at",n.SCHEDULED_AT="scheduled_at"}(S2||(S2={}));var ui,Cg=function(n){switch(n){case Yr.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Yr.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Yr.CHANNEL_NAME_ALPHABETICAL:return["name"]}},n0=function(){function n(){this.messageTypeFilter=di.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Xi.NONE}return n.prototype.clone=function(){var e=new n,t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){e[r]=t[r]}),e},n.prototype.match=function(e){switch(this.messageTypeFilter){case di.USER:if(e.messageType!==_r.USER)return!1;break;case di.FILE:if(e.messageType!==_r.FILE)return!1;break;case di.ADMIN:if(e.messageType!==_r.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(e instanceof Vr)||!this.senderUserIdsFilter.includes(e.sender.userId)))return!1;switch(this.replyType){case Xi.NONE:if(e.parentMessageId>0)return!1;break;case Xi.ONLY_REPLY_TO_CHANNEL:if(e instanceof Vr&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!0},n}();(function(n){n.CHANNEL_LATEST="channel_latest",n.NEWEST_CHILD_MESSAGE="newest_child_message"})(ui||(ui={}));var t0,hl=function(n){switch(n){case ui.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ui.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},Jte=ee(ee({},R7),{scheduledAt:null}),Zte=function(n){return M7(n)&&J("number",n.scheduledAt,!0)},ere=ee(ee({},b3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),nre=function(n){return y3(n)&&J("number",n.scheduledAt)&&(Mi(n.file)||J("string",n.fileUrl))&&J("string",n.fileName,!0)&&J("string",n.mimeType,!0)&&J("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes.every(function(e){return J("object",e)&&e.maxWidth>0&&e.maxHeight>0}))},tre="UnsentMessage",rre="reqId",lD={},C3=function(n){function e(t,r){var i=r.sdkState,o=r.cacheContext,u=n.call(this,t)||this;return u._sdkState=i,u._cacheContext=o,lD[t]=u,u}return B(e,n),e.of=function(t){return lD[t]},Object.defineProperty(e.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t&&t.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),e.prototype._serialize=function(t){if(t.messageId>0)throw le.invalidParameters;var r,i=ee({},t.serialize());return t instanceof Zr?(t.messageParams&&(i.messageParams=X5(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(r=t.scheduledInfo.scheduledMessageParams,ee(ee({},X5(r)),{scheduledAt:r.scheduledAt})))):t instanceof Qr&&(t.messageParams&&(i.messageParams=J5(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=function(o){return ee(ee({},J5(o)),{scheduledAt:o.scheduledAt})}(t.scheduledInfo.scheduledMessageParams))),i},e.prototype._deserialize=function(t){return t?(t=ee(ee({},t),{messageId:parseInt(t.messageId)}),ci.of(this._iid).buildMessageFromSerializedData(t)):null},e.prototype.get=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},e.prototype.fetch=function(t){var r=t.channelUrl,i=r===void 0?null:r,o=t.filter,u=o===void 0?new n0:o,d=t.order,h=d===void 0?ui.CHANNEL_LATEST:d,f=t.sendingStatus,v=f===void 0?null:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,x=E===void 0?null:E;return T(this,void 0,void 0,function(){var C,M,N,S,D=this;return I(this,function(P){switch(P.label){case 0:return this.localCacheEnabled?(C=hl(h),M={"/where":function(Q){return!!(h!==ui.NEWEST_CHILD_MESSAGE||x&&Q.parentMessageId!==0&&Q.parentMessageId===x)&&u.match(D._deserialize(Q))}},i&&(M.channelUrl=i),v&&(M.sendingStatus=v),N={where:M,index:C,backward:y},[4,this.collection.query(N)]):[3,3];case 1:return[4,P.sent().fetch({})];case 2:return S=P.sent(),[2,Promise.all(S.map(function(Q){return T(D,void 0,void 0,function(){var z,W,V,he,ce,Ee;return I(this,function(Ne){switch(Ne.label){case 0:return z=ci.of(this._iid),W=this._deserialize(Q),(V=Q.messageParams)?W instanceof Zr?(W.messageParams=z.buildUserMessageCreateParamsFromSerializedData(V,W),[3,4]):[3,1]:[3,4];case 1:return W instanceof Qr?V.fileKey&&typeof V.fileKey=="string"&&x2(V.fileType)?(he=V,[4,this.collection.getBlob(V.fileKey)]):[3,3]:[3,4];case 2:he.file=Ne.sent(),Ne.label=3;case 3:W.messageParams=z.buildFileMessageCreateParamsFromSerializedData(V,W),Ne.label=4;case 4:return W.scheduledInfo&&Q.scheduledInfo&&Q.scheduledInfo.scheduledMessageParams?W instanceof Zr?(ce=Q.scheduledInfo.scheduledMessageParams,W.scheduledInfo.scheduledMessageParams=z.buildScheduledUserMessageCreateParamsFromSerializedData(ce,W),[3,8]):[3,5]:[3,8];case 5:return W instanceof Qr?(ce=Q.scheduledInfo.scheduledMessageParams).fileKey&&typeof ce.fileKey=="string"&&x2(ce.fileType)?(Ee=ce,[4,this.collection.getBlob(ce.fileKey)]):[3,7]:[3,8];case 6:Ee.file=Ne.sent(),Ne.label=7;case 7:W.scheduledInfo.scheduledMessageParams=z.buildScheduledFileMessageCreateParamsFromSerializedData(ce,W),Ne.label=8;case 8:return[2,W]}})})}))];case 3:return[2,[]]}})})},e.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new n0),T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.fetch({filter:r,order:ui.NEWEST_CHILD_MESSAGE,channelUrl:t.channelUrl,backward:!1,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},e.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,3];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.upsertChildMessages=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,d;return I(this,function(h){switch(h.label){case 0:return u=[],((d=o.threadInfo)===null||d===void 0?void 0:d.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=$e(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove(o)]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),d={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})},e.prototype.removeMessagesOfChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.saveBlobs=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,d,h;return I(this,function(f){switch(f.label){case 0:return o instanceof Qr?o.messageParams&&(u=o.messageParams).file&&w2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2]:[3,4];case 1:h=f.sent(),u.fileKey=h,u.fileType=kh.BLOB,f.label=2;case 2:return o.scheduledInfo&&o.scheduledInfo.scheduledMessageParams&&(d=o.scheduledInfo.scheduledMessageParams).file&&w2(d.file)?[4,this.collection.saveBlob(d.file,o.reqId)]:[3,4];case 3:h=f.sent(),d.fileKey=h,d.fileType=kh.BLOB,f.label=4;case 4:return[2]}})})}))];case 1:return i.sent(),[2]}})})},e}(to),uD={},K7=function(n){function e(t,r){var i=r.sdkState,o=r.cacheContext,u=r.unsentMessageCache,d=n.call(this,t)||this;return d._sdkState=i,d._cacheContext=o,d._unsentMessageCache=u,uD[t]=d,d}return B(e,n),e.of=function(t){return uD[t]},Object.defineProperty(e.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),e.prototype._serialize=function(t){return ee(ee({},t.serialize()),{messageId:"".concat(t.messageId)})},e.prototype._deserialize=function(t){return t=ee(ee({},t),{messageId:parseInt(t.messageId)}),ci.of(this._iid).buildMessageFromSerializedData(t)},e.prototype.get=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},e.prototype.fetch=function(t){var r=t.channelUrl,i=t.token,o=t.limit,u=o===void 0?100:o,d=t.filter,h=d===void 0?new n0:d,f=t.order,v=f===void 0?ui.CHANNEL_LATEST:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,x=E===void 0?null:E;return T(this,void 0,void 0,function(){var C,M,N,S=this;return I(this,function(D){switch(D.label){case 0:return this.localCacheEnabled?(C=hl(v),M={where:{channelUrl:r,"/where":function(P){if(i)switch(v){case ui.CHANNEL_LATEST:if(!y&&P.createdAt>i||y&&P.createdAt<i)return!1;break;case ui.NEWEST_CHILD_MESSAGE:if(!x||P.parentMessageId===0||P.parentMessageId!==x)return!1}return h.match(S._deserialize(P))}},index:C,backward:y},[4,this.collection.query(M)]):[3,3];case 1:return[4,D.sent().fetch({limit:u})];case 2:return N=D.sent(),[2,Promise.all(N.map(function(P){return T(S,void 0,void 0,function(){var Q,z,W;return I(this,function(V){switch(V.label){case 0:return Q=this._deserialize(P),(z=P.messageParams)?Q instanceof Zr?(Q.messageParams=z,[3,4]):[3,1]:[3,4];case 1:return Q instanceof Qr?z.fileKey&&typeof z.fileKey=="string"&&x2(z.fileType)?(W=z,[4,this.collection.getBlob(z.fileKey)]):[3,3]:[3,4];case 2:W.file=V.sent(),V.label=3;case 3:Q.messageParams=z,V.label=4;case 4:return[2,Q]}})})}))];case 3:return[2,[]]}})})},e.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new n0),T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.fetch({channelUrl:t.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:ui.NEWEST_CHILD_MESSAGE,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},e.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,5];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(t)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(t)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},e.prototype.upsertChildMessages=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,d;return I(this,function(h){switch(h.label){case 0:return u=[],((d=o.threadInfo)===null||d===void 0?void 0:d.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=$e(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove("".concat(o))]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),d={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})},e.prototype.removeMessagesOfChannel=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t},index:hl(ui.CHANNEL_LATEST)})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}})})},e.prototype.removeUnderOffset=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t,createdAt:{"<":r}},index:hl(ui.CHANNEL_LATEST)})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.countBetween=function(t,r,i){return T(this,void 0,void 0,function(){var o,u=this;return I(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?(o=hl(ui.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:t,"/where":function(h){var f=u._deserialize(h);return i.includes(f.createdAt)&&r.match(f)}},index:o}).count()]):[3,2];case 1:return[2,d.sent()];case 2:return[2,0]}})})},e.prototype.saveBlobs=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,d;return I(this,function(h){switch(h.label){case 0:return o instanceof Qr&&o.messageParams&&(u=o.messageParams).file&&w2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2];case 1:d=h.sent(),u.fileKey=d,h.label=2;case 2:return[2]}})})}))];case 1:return i.sent(),[2]}})})},e}(to),Q7=function(n){function e(t){var r=t.message,i=n.call(this)||this;return i.message=r,i}return B(e,n),e}(ni),Z1={},rh=function(){function n(e,t){var r=t.localCacheEnabled,i=t.dispatcher,o=t.sdkState,u=t.logger,d=this;Z1[e]=this,this._iid=e,Z1[e]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=i,this._logger=u,this._sdkState=o,this._localCacheEnabled&&i.on(function(h){if(h instanceof no)switch(h.stateType){case It.CONNECTED:d._isProcessingAutoResend||d.processAutoResendRegisteredPendingMessages().then(function(){return d._processNextAutoResend()});break;case It.DISCONNECTED:d._isProcessingAutoResend=!1}})}return n.of=function(e){return Z1[e]},n.prototype.processNonAutoResendRegisteredPendingMessages=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:e=d.sent();try{for(t=$e(e),r=t.next();!r.done;r=t.next())(i=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",i.reqId),i.sendingStatus=Ht.FAILED,i.errorCode=et.ACK_TIMEOUT,this._dispatcher.dispatch(new ar({messages:[i],source:En.LOCAL_MESSAGE_FAILED})))}catch(h){o={error:h}}finally{try{r&&!r.done&&(u=t.return)&&u.call(t)}finally{if(o)throw o.error}}return[2]}})})},n.prototype.processAutoResendRegisteredPendingMessages=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:e=f.sent();try{for(t=$e(e),r=t.next();!r.done;r=t.next())(i=r.value).errorCode&&sv(i.errorCode)&&(o=new Date().getTime(),u=i.createdAt+2592e5,o<=u?this._autoResendQueue.map(function(v){return v.reqId}).indexOf(i.reqId)<0&&this._autoResendQueue.push(i):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(u).toLocaleString()),i.sendingStatus=Ht.FAILED,this._dispatcher.dispatch(new ar({messages:[i],source:En.LOCAL_MESSAGE_FAILED}))))}catch(v){d={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(d)throw d.error}}return[2]}})})},n.prototype.completeCurrentAndProcessNextAutoResend=function(e){if(this._localCacheEnabled&&(e.sendingStatus===Ht.SUCCEEDED||e.sendingStatus===Ht.FAILED&&!sv(e.errorCode))){var t=this.indexOf(e);t>=0&&this._autoResendQueue.splice(t,1),t===0&&this._processNextAutoResend()}},n.prototype._fetchAllCachedPendingMessages=function(){return T(this,void 0,void 0,function(){var e,t;return I(this,function(r){switch(r.label){case 0:return(e=C3.of(this._iid))?[4,e.fetch({sendingStatus:Ht.PENDING,backward:!0})]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=[],r.label=3;case 3:return[2,t]}})})},n.prototype.indexOf=function(e){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(t){return t.reqId}).indexOf(e.reqId):-1},n.prototype._isNotInQueue=function(e){return this._autoResendQueue.map(function(t){return t.reqId}).indexOf(e.reqId)===-1},n.prototype._processNextAutoResend=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),e=this._autoResendQueue[0],this._dispatcher.dispatch(new Q7({message:e})),this._logger.debug("processing auto-resend for message request id: ",e.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},n}();(function(n){n[n.USER_BLOCK=20001]="USER_BLOCK",n[n.USER_UNBLOCK=2e4]="USER_UNBLOCK",n[n.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(t0||(t0={}));var cv=function(){function n(e){this.category=e.cat,this.data=e.data}return n.getDataAsUserBlockEvent=function(e,t){var r=t.data,i=r.blocker,o=r.blockee;return{blocker:new Mn(e,i),blockee:new Mn(e,o)}},n.getDataAsFriendDiscoveredEvent=function(e,t){var r=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(i){return new Mn(e,i)}):[]}},n}(),Y7=function(n){function e(t,r){var i=r.userId,o=n.call(this)||this;return o._iid=t,o.userId=i,o}return B(e,n),e}(ni),X7=function(n){function e(t,r,i){var o=n.call(this,t,"USEV",i)||this;return o.event=new cv(i),o}return B(e,n),e}(Mt),J7=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(e,n),e}(De),Z7=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(e,n),e}(Pe),eF=function(n){function e(t){var r=t.userId,i=t.pushTriggerOption,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:i},o}return B(e,n),e}(De),nF=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(e,n),e}(Pe),ire={profileImage:null,profileUrl:null,nickname:null},are=function(){this.onSessionExpired=Ln,this.onSessionTokenRequired=function(n){return n(null)},this.onSessionError=Ln,this.onSessionRefreshed=Ln,this.onSessionClosed=Ln},tF=function(){this.onConnected=Ln,this.onReconnectStarted=Ln,this.onReconnectSucceeded=Ln,this.onReconnectFailed=Ln,this.onDisconnected=Ln},sre=function(){this.onFriendsDiscovered=Ln,this.onTotalUnreadMessageCountUpdated=Ln};(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(to);var ore=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._pauseDelayTimer=null,t._currentState="visible",t}return B(e,n),Object.defineProperty(e.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener},enumerable:!1,configurable:!0}),e.prototype._toggleState=function(){var t=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){t._pauseDelayTimer=null,t.dispatch("pause")},3e4)),this._currentState=document.visibilityState},e.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},e.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},e}(p0),lre=function(){function n(e){var t=e.logger,r=e.connectionDelegate,i=r===void 0?null:r;this.logger=t,i&&(this.connectionDelegate=i),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),n.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},n.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},n.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},n.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},n.prototype.isOnline=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(t,r){fetch("https://www.google.com",{method:Ae.GET}).then(function(){return t(!0)}).catch(function(){return t(!1)})})]})})},n}(),cD=function(n){function e(t){var r=t.userId,i=t.nickname,o=i===void 0?null:i,u=t.profileUrl,d=u===void 0?null:u,h=t.profileImage,f=h===void 0?null:h,v=t.preferredLanguages,_=v===void 0?null:v,y=n.call(this)||this;return y.method=Ae.PUT,y.path="".concat(tt,"/").concat(encodeURIComponent(r)),y.params=wn({nickname:o,profile_url:d,profile_file:f,preferred_languages:_}),y}return B(e,n),e}(De),dD=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.user=null,i.user=new Mn(t,ee({},r)),i}return B(e,n),e}(Pe),ure=function(n){function e(t){var r=t.userId,i=t.token,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:i,always_push:!0},o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.token=r.token,i.type=r.type?rs[r.type.toLowerCase()]:rs.UNKNOWN,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var cre=function(n){function e(t){var r=t.userId,i=t.token,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:i,always_push:!0},o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.token=r.token,i.type=r.type?rs[r.type.toLowerCase()]:rs.UNKNOWN,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var dre=function(n){function e(t){var r=t.userId,i=t.token,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(i)),o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.token=r.token,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var hre=function(n){function e(t){var r=t.userId,i=t.token,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(i)),o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.token=r.token,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var pre=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/apns"),i}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.type=r.type?rs[r.type.toLowerCase()]:rs.UNKNOWN,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var fre=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/gcm"),i}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.type=r.type?rs[r.type.toLowerCase()]:rs.UNKNOWN,i.user=new Mn(t,r.user),i}B(e,n)})(Pe);var mre=function(n){function e(t){var r=t.userId,i=t.type,o=t.token,u=t.ts,d=n.call(this)||this;return d.method=Ae.GET,d.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(i),"/device_tokens"),d.params={created_ts:u,token:o},d}return B(e,n),e}(De),gre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.pushTokens={type:r.type?rs[r.type.toLowerCase()]:rs.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},i}return B(e,n),e}(Pe),vre=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),i}return B(e,n),e}(De),_re=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(e,n),e}(Pe),bre=function(n){function e(t){var r=t.userId,i=t.willAutoAccept,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:i},o}return B(e,n),e}(De),yre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(e,n),e}(Pe),Ere=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(e,n),e}(De),wre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(e,n),e}(Pe),xre=function(n){function e(t){var r=t.userId,i=t.doNotDisturbOn,o=t.startHour,u=t.startMin,d=t.endHour,h=t.endMin,f=t.timezone,v=n.call(this)||this;return v.method=Ae.PUT,v.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),v.params={do_not_disturb:i,start_hour:o,start_min:u,end_hour:d,end_min:h,timezone:f},v}return B(e,n),e}(De),kre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(e,n),e}(Pe),Cre=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(e,n),e}(De),Sre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(e,n),e}(Pe),Nre=function(n){function e(t){var r=t.userId,i=t.snoozeOn,o=t.startTs,u=t.endTs,d=n.call(this)||this;return d.method=Ae.PUT,d.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push_preference"),d.params={snooze_enabled:i,snooze_start_ts:o,snooze_end_ts:u},d}return B(e,n),e}(De),Tre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(e,n),e}(Pe),Ire=function(n){function e(t){var r=t.userId,i=t.blockedUserId,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:i},o}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.user=new Mn(t,r),i}B(e,n)})(Pe);var Ore=function(n){function e(t){var r=t.userId,i=t.unblockedUserId,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(i)),o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var Are=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/template"),i}return B(e,n),e}(De),Rre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name=r.name,i}return B(e,n),e}(Pe),Mre=function(n){function e(t){var r=t.userId,i=t.templateName,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:i},o}return B(e,n),e}(De),Dre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name=r.name,i}return B(e,n),e}(Pe),Ure=function(n){function e(t){var r=t.userId,i=t.token,o=n.call(this)||this;return o.method=Ae.GET,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:i},o}return B(e,n),e}(De),Lre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.changelogs={addedUsers:r.added.map(function(o){return new Mn(t,o)}),updatedUsers:r.updated.map(function(o){return new Mn(t,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},i}return B(e,n),e}(Pe),Pre=function(n){function e(t){var r=t.userId,i=t.discoveries,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:i.map(function(u){return{friend_discovery_key:u.friendDiscoveryKey,friend_name:u.friendName}})},o}return B(e,n),e}(De),Fre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.friendDiscoveryRequestId=r.friend_discovery_request_id,i}return B(e,n),e}(Pe),Hre=function(n){function e(t){var r=t.userId,i=t.discoveryKeys,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:i},o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var qre=function(n){function e(t){var r=t.userId,i=t.userIds,o=n.call(this)||this;return o.method=Ae.POST,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(e,n),e}(De),Bre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Mn(t,o)}),i}return B(e,n),e}(Pe),Gre=function(n){function e(t){var r=t.userId,i=t.userIds,o=n.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var $re=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(r,"/allow_friend_discovery"),i.params={},i}return B(e,n),e}(De),zre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.allowFriendDiscovery=r.allow_friend_discovery,i}return B(e,n),e}(Pe),jre=function(n){function e(t){var r=t.userId,i=t.allowFriendDiscovery,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:i},o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var Gt,rF=function(n){this.key=null,this.url=null,this.key=n.key,this.url=n.url},iF=function(n){var e,t,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(e=n.id)!==null&&e!==void 0?e:0,this.name=(t=n.name)!==null&&t!==void 0?t:"",this.url=(r=n.url)!==null&&r!==void 0?r:"",this.emojis=n.emojis?n.emojis.map(function(i){return new rF(i)}):[]},Vre=function(n){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=n.emoji_hash||"",this.emojiCategories=n.emoji_categories?n.emoji_categories.map(function(e){return new iF(e)}):[]},Wre=function(n){function e(){var t=n.call(this)||this;return t.method=Ae.GET,t.path=w7,t}return B(e,n),e}(De),Kre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.emojiContainer=new Vre(r),i}return B(e,n),e}(Pe),Qre=function(n){function e(t){var r=t.categoryId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(w7,"/").concat(r),i}return B(e,n),e}(De),Yre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.emojiCategory=new iF(r),i}return B(e,n),e}(Pe),Xre=function(n){function e(t){var r=t.key,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(Sne,"/").concat(r),i}return B(e,n),e}(De),Jre=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.emoji=new rF(r),i}return B(e,n),e}(Pe),Zre=function(n){function e(t){var r=t.limit,i=t.token,o=t.userIdsFilter,u=t.metaDataKeyFilter,d=t.metaDataValuesFilter,h=t.nicknameStartsWithFilter,f=n.call(this)||this;return f.method=Ae.GET,f.path=tt,f.params=wn({limit:r,token:i,user_ids:o,metadatakey:u,metadatavalues_in:d,nickname_startswith:h}),f}return B(e,n),e}(De),eie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Mn(t,o)}),i.next=r.next,i}return B(e,n),e}(Pe),nie=function(n){function e(t,r){var i,o,u,d=this;return(d=n.call(this,t,r)||this).userIdsFilter=null,d.metaDataKeyFilter=null,d.metaDataValuesFilter=null,d.nicknameStartsWithFilter=null,d.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,d.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,d.metaDataValuesFilter=(u=r.metaDataValuesFilter)!==null&&u!==void 0?u:null,d.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,d}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&In("string",this.userIdsFilter,!0)&&J("string",this.metaDataKeyFilter,!0)&&In("string",this.metaDataValuesFilter,!0)&&J("string",this.metaDataKeyFilter,!0)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Zre(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(eie),u=o.users,d=o.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),tie=function(n){function e(t){var r=t.userId,i=t.limit,o=t.token,u=t.userIdsFilter,d=n.call(this)||this;return d.method=Ae.GET,d.path="".concat(tt,"/").concat(r,"/block"),d.params=wn({limit:i,token:o,user_ids:u}),d}return B(e,n),e}(De),rie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Mn(t,o)}),i.next=r.next,i}return B(e,n),e}(Pe),iie=function(n){function e(t,r){var i,o=this;return(o=n.call(this,t,r)||this).userIdsFilter=null,o.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,o}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&In("string",this.userIdsFilter,!0)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new tie(ee(ee({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=v.sent(),d=u.as(rie),h=d.users,f=d.next,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),aie=function(n){function e(t){var r=t.userId,i=t.limit,o=t.token,u=n.call(this)||this;return u.method=Ae.GET,u.path="".concat(tt,"/").concat(encodeURIComponent(r),"/friends"),u.params={limit:i,token:o},u}return B(e,n),e}(De),sie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.hasMore=r.has_more,i.users=r.users.map(function(o){return new Mn(t,o)}),i.next=r.next,i}return B(e,n),e}(Pe),oie=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new aie(ee(ee({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=_.sent(),d=u.as(sie),h=d.users,f=d.hasMore,v=d.next,this._token=v,this._hasNext=f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),ig={},Yv=function(){function n(e){var t=e.dbname,r=e.itemSizeLimit,i=r===void 0?1048576:r,o=e.cacheLimit,u=o===void 0?256:o,d=e.blockHashBase,h=d===void 0?2:d,f=e.blockHashMultiplier,v=f===void 0?10:f,_=e.blockHashConstant,y=_===void 0?11:_,E=e.transactionApplyDelay,x=E===void 0?200:E,C=e.disableLogger,M=C!==void 0&&C;return ig[t]||(this.itemSizeLimit=i,this.cacheLimit=u,this.blockHashBase=h,this.blockHashMultiplier=v,this.blockHashConstant=y,this.transactionApplyDelay=x,this.disableLogger=M,ig[t]=this),ig[t]}return n.get=function(e){return ig[e]},n}();(function(n){n[n.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",n[n.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",n[n.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",n[n.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",n[n.STORE_IS_FULL=61001003]="STORE_IS_FULL",n[n.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",n[n.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",n[n.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",n[n.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",n[n.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",n[n.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",n[n.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",n[n.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",n[n.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",n[n.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",n[n.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",n[n.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",n[n.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",n[n.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",n[n.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",n[n.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",n[n.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",n[n.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",n[n.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",n[n.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Gt||(Gt={}));var ih,mt=function(n){function e(t){var r=t.code,i=r===void 0?Gt.UNKNOWN_ERROR:r,o=t.message,u=o===void 0?"Unknown error occurred.":o,d=n.call(this,u)||this;return d.code=i,Object.setPrototypeOf(d,e.prototype),d}return B(e,n),Object.defineProperty(e,"storeNotDefined",{get:function(){return new e({code:Gt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeNotAvailable",{get:function(){return new e({code:Gt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeNotAvailableInPrivateBrowsing",{get:function(){return new e({code:Gt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeIsFull",{get:function(){return new e({code:Gt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeKeyTypeIsInvalid",{get:function(){return new e({code:Gt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeBrokenIntegrity",{get:function(){return new e({code:Gt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeBrokenBlob",{get:function(){return new e({code:Gt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeEncryptionInvalid",{get:function(){return new e({code:Gt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeItemSizeExceeded",{get:function(){return new e({code:Gt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeReadFailed",{get:function(){return new e({code:Gt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"storeWriteFailed",{get:function(){return new e({code:Gt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"databaseSchemaNotOnUpgrade",{get:function(){return new e({code:Gt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionNotReady",{get:function(){return new e({code:Gt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionKeyNotMatch",{get:function(){return new e({code:Gt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionQueryNotValid",{get:function(){return new e({code:Gt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionInsertDuplicate",{get:function(){return new e({code:Gt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionKeyNotFound",{get:function(){return new e({code:Gt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionKeyNotGiven",{get:function(){return new e({code:Gt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionWriteFailed",{get:function(){return new e({code:Gt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"collectionItemSizeExceeded",{get:function(){return new e({code:Gt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"indexTableIsRequired",{get:function(){return new e({code:Gt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"indexTypesNotMatch",{get:function(){return new e({code:Gt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"compareTypesNotMatch",{get:function(){return new e({code:Gt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularReferenceFound",{get:function(){return new e({code:Gt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),e}(Error);(function(n){n.INIT="init",n.READY="ready",n.CLOSED="closed"})(ih||(ih={}));var hD,la=function(n,e){if(e===void 0&&(e=new WeakMap),typeof n=="object"&&n!==null){if(e.has(n))throw mt.circularReferenceFound;e.set(n,!0);var t=null;if(Array.isArray(n))t=n.map(function(i){return la(i,e)});else if(n instanceof RegExp)t=n;else if(n instanceof Date)t=n;else for(var r in t={},n)t[r]=la(n[r],e);return e.delete(n),t}return n},pl=function(n,e){if(e==null)return 1;if(n==null)return-1;if(typeof n!=typeof e)throw mt.compareTypesNotMatch;var t=0;switch(typeof n){case"boolean":case"number":t=n-e;break;case"string":t=n.localeCompare(e)}return t},pD=function(n,e){for(var t=0,r=0;r<n.length;r++)t=n.charCodeAt(r)+(t<<6)+(t<<16)-t;return(t>>>0)%e},Fd=function(n){return new Promise(function(e){setTimeout(function(){return e()},n)})},Ic=function(n,e){if(!e)return!1;if(typeof n!="function"){for(var t in n)if(["/and","&&"].includes(t)){if(n[t].some(function(h){return!Ic(h,e)}))return!1}else if(["/or","||"].includes(t)){if(n[t].every(function(h){return!Ic(h,e)}))return!1}else if(t==="/where"){if(!(0,n[t])(e))return!1}else{var r=t;if(typeof n[r]=="object"){var i=n[r];for(var o in i)switch(o){case"/eq":case"=":if((u=e[r])!==(d=i[o]))return!1;break;case"/neq":case"!=":if((u=e[r])===(d=i[o]))return!1;break;case"/gt":case">":var u=e[r],d=i[o];if(!(pl(u,d)>0))return!1;break;case"/gte":case">=":if(u=e[r],d=i[o],!(pl(u,d)>=0))return!1;break;case"/lt":case"<":if(u=e[r],d=i[o],!(pl(u,d)<0))return!1;break;case"/lte":case"<=":if(u=e[r],d=i[o],!(pl(u,d)<=0))return!1;break;case"/in":if(u=e[r],!(d=i[o]).includes(u))return!1;break;case"/nin":if(u=e[r],(d=i[o]).includes(u))return!1;break;case"/contain":if(u=e[r],d=i[o],!u.includes(d))return!1;break;case"/regex":if(u=e[r],!(d=i[o]).test(u))return!1;break;case"/where":if(u=e[r],!(0,i[o])(u))return!1}}else if(typeof n[r]=="function"){if(!n[r](e[r]))return!1}else if(n[r]!==e[r])return!1}return!0}return n(e)},Sg=function(){},fD=function(){return Promise.resolve()},lie=function(n){return n},mD=function(n,e){e(null)};(function(n){n[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD"})(hD||(hD={}));var Oc,Ri,wo,uie=function(){function n(e){var t=e.initialPrevValue,r=t===void 0?null:t,i=e.initialNextValue,o=i===void 0?null:i,u=e.iterator,d=e.map,h=d===void 0?lie:d,f=e.backward,v=f===void 0?fD:f,_=e.forward,y=_===void 0?fD:_,E=e.complete,x=E===void 0?Sg:E;this._prevValue=r,this._nextValue=o,this._error=null,this._map=h,this._backward=v,this._forward=y,this._iterator=u,this._complete=x}return Object.defineProperty(n.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),n.prototype.prev=function(){return T(this,void 0,void 0,function(){var e,t,r;return I(this,function(i){switch(i.label){case 0:if(!this.hasPrevious)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),e=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=i.sent()||null,this._nextValue=e,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},n.prototype.next=function(){return T(this,void 0,void 0,function(){var e,t,r;return I(this,function(i){switch(i.label){case 0:if(!this.hasNext)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),e=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=i.sent()||null,this._prevValue=e,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},n}(),N2=function(){function n(e){var t=e.condition,r=t===void 0?{}:t,i=e.backward,o=i!==void 0&&i,u=e.blockManager,d=e.indexer;this.condition=r,this.backward=o,this._blockManager=u,this._indexer=d}return n.prototype.findOptimizedStartPosition=function(){var e=this,t=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var i=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var u=this._indexer.fields[o],d=1;if(u[0]==="-"&&(u=u.slice(1),d=-1),this.condition[u]){if(typeof this.condition[u]=="object"){var h=d>0?r:t;for(var f in this.condition[u])if(h.includes(f)){for(var v=i;v>=0;v--)if(d*pl(this._indexer.origin[v].columnValues[o],this.condition[u][f])<=0){i=v;break}}}else for(v=i;v>=0;v--)if(d*pl(this._indexer.origin[v].columnValues[o],this.condition[u])<=0){i=v;break}}}return Math.min(i+1,this._indexer.origin.length-1)}var _=0;if(typeof this.condition!="function")for(var y=function(C){var M=E._indexer.fields[C],N=1;if(M[0]==="-"&&(M=M.slice(1),N=-1),E.condition[M]){if(typeof E.condition[M]=="object")Object.keys(E.condition[M]).forEach(function(D){if((N>0?t:r).includes(D)){for(var P=_;P<e._indexer.origin.length;P++)if(N*pl(e._indexer.origin[P].columnValues[C],e.condition[M][D])>=0){_=P;break}}});else for(var S=_;S<E._indexer.origin.length;S++)if(N*pl(E._indexer.origin[S].columnValues[C],E.condition[M])>=0){_=S;break}}},E=this,o=0;o<this._indexer.fields.length;o++)y(o);return Math.max(_-1,0)},n.prototype.each=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f=this;return I(this,function(v){switch(v.label){case 0:if(t=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[t]&&(r=this._indexer.origin[t].keys.length-1),i=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[++r]){if(!f._indexer.origin[++t])return!1;r=0}return!0}return!1},o=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[--r]){if(!f._indexer.origin[--t])return!1;r=f._indexer.origin[t].keys.length-1}return!0}return!1},u=null,!this._indexer.origin[t])return[3,4];d=this.backward?o:i,v.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])];case 2:if(h=v.sent(),Ic(this.condition,h))return u=h,[3,4];v.label=3;case 3:if(d())return[3,1];v.label=4;case 4:return[4,new Promise(function(_){var y=new uie({initialNextValue:la(u),iterator:e,forward:function(){return T(f,void 0,void 0,function(){var E,x;return I(this,function(C){switch(C.label){case 0:E=this.backward?o:i,C.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return x=C.sent(),Ic(this.condition,x)?[2,la(x)]:[3,1];case 3:return[2,null]}})})},backward:function(){return T(f,void 0,void 0,function(){var E,x;return I(this,function(C){switch(C.label){case 0:E=this.backward?i:o,C.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return x=C.sent(),Ic(this.condition,x)?[2,la(x)]:[3,1];case 3:return[2,null]}})})},complete:_});e(y)})];case 5:return[2,v.sent()]}})})},n}(),cie=function(){function n(e){var t=e.condition,r=t===void 0?{}:t,i=e.backward,o=i!==void 0&&i,u=e.mutex,d=e.blockManager,h=e.indexer;this._mutex=u,this._iterator=new N2({condition:r,backward:o,blockManager:d,indexer:h})}return n.prototype.fetch=function(e){return e===void 0&&(e={}),T(this,void 0,void 0,function(){var t,r,i,o,u=this;return I(this,function(d){switch(d.label){case 0:if(t=Math.max(e.offset||0,0),(r=typeof e.limit=="number"?e.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw mt.collectionQueryNotValid;d.label=1;case 1:return d.trys.push([1,4,,5]),i=[],[4,this._mutex.lock()];case 2:return d.sent(),[4,this._iterator.each(function(h){return T(u,void 0,void 0,function(){return I(this,function(f){return h.error?h.stop():h.hasNext?t===0?(i.push(h.nextValue),0<r&&r<=i.length?h.stop():h.next()):(t--,h.next()):h.stop(),[2]})})})];case 3:return d.sent(),this._mutex.unlock(),[2,i];case 4:throw o=d.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},n.prototype.count=function(){return T(this,void 0,void 0,function(){var e,t,r=this;return I(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=0,[4,this._mutex.lock()];case 1:return i.sent(),[4,this._iterator.each(function(o){return T(r,void 0,void 0,function(){return I(this,function(u){return o.error?o.stop():o.hasNext?(e++,o.next()):o.stop(),[2]})})})];case 2:return i.sent(),this._mutex.unlock(),[2,e];case 3:throw t=i.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},n}(),T2=function(n){return"".concat("nest","@").concat(n)},Fc=function(n,e){return"".concat(T2(n),"/").concat(e)},eE=function(n,e){return"".concat(Fc(n,e),".metadata")},I2=function(n,e){return"".concat(Fc(n,e),"/block.")},aF=function(n,e){return"".concat(Fc(n,e),"/blob.")},nE=function(n,e,t,r){return r===void 0&&(r=0),"".concat(aF(n,e)).concat(t,".").concat(r)},die=function(){function n(e){var t=e.dbname,r=e.collectionName,i=e.store;this.dbname=t,this.collectionName=r,this._store=i}return n.prototype._makeShards=function(e,t){var r=Math.max(this._store.itemSizeLimit-1024,0);if(r>0){for(var i=Math.ceil(e.data.length/r),o="".concat(i,".").concat(e.type,".").concat(t),u=[],d=0;d<e.data.length;d+=r){var h=e.data.slice(d,d+r);u.push(h)}return{blobId:o,shards:u}}return{blobId:null,shards:null}},n.prototype._encode=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r){var i=new FileReader;i.onload=function(){r({data:i.result,type:e.type})},i.readAsDataURL(e)})];case 1:return[2,t.sent()]}})})},n.prototype._decode=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(e.data)];case 1:return[4,h.sent().blob()];case 2:return[2,h.sent()];case 3:for(t=[],r=atob(e.data.split(",")[1]),i=0;i<r.length;i+=512){for(o=r.slice(i,i+512),u=new Array(o.length),d=0;d<o.length;d++)u[d]=o.charCodeAt(d);t.push(new Uint8Array(u))}return[2,new Blob(t,{type:e.type})]}})})},n.prototype.get=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:if(t=[],r=_n(e.split("."),2),i=r[0],o=r[1],!((u=parseInt(i))>0))return[3,6];d=0,v.label=1;case 1:return d<u?(h=nE(this.dbname,this.collectionName,e,d),[4,this._store.get(h)]):[3,4];case 2:if(!(f=v.sent())||!f.d)throw mt.storeBrokenBlob;t.push(f.d),v.label=3;case 3:return d++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:o})];case 5:return[2,v.sent()];case 6:return[2,null]}})})},n.prototype.save=function(e,t){return t===void 0&&(t="".concat(Date.now())),T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return r=[],[4,this._encode(e)];case 1:if(i=v.sent(),o=this._makeShards(i,t),u=o.blobId,d=o.shards,!u)return[3,3];for(h=0;h<d.length;h++)f=nE(this.dbname,this.collectionName,u,h),r.push({key:f,value:{d:d[h]},generation:1});return[4,this._store.setMany(r)];case 2:if(v.sent().some(function(_){return _ instanceof Error}))throw mt.storeWriteFailed;return[2,u];case 3:return[2,null]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:if(t=[],r=_n(e.split("."),1),i=r[0],!((o=parseInt(i))>0))return[3,2];for(u=0;u<o;u++)t.push(nE(this.dbname,this.collectionName,e,u));return[4,this._store.removeMany(t)];case 1:d.sent(),d.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return e=aF(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:r=f.sent();try{for(i=$e(r),o=i.next();!o.done;o=i.next())(u=o.value).startsWith(e)&&t.push(u)}catch(v){d={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(d)throw d.error}}return[4,this._store.removeMany(r)];case 2:return f.sent(),[2]}})})},n}();(function(n){n[n.COMMIT=0]="COMMIT",n[n.WRITE=1]="WRITE",n[n.ERROR=2]="ERROR"})(Oc||(Oc={})),function(n){n.PENDING="pending",n.PERSISTENT="persistent",n.VOLATILE="volatile"}(Ri||(Ri={})),function(n){n[n.NO_CACHE=0]="NO_CACHE",n[n.DEFAULT=1]="DEFAULT",n[n.PERSISTENT=2]="PERSISTENT"}(wo||(wo={}));var gD=[Ri.PENDING,Ri.VOLATILE],ag={},_s=function(){function n(e){var t=e.dbname,r=e.limit,i=r===void 0?256:r;return ag[t]||(this.dbname=t,this._items=[],this._limit=i,ag[t]=this),ag[t]}return n.get=function(e){return ag[e]},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.find=function(e,t,r){return r===void 0&&(r=wo.DEFAULT),T(this,void 0,void 0,function(){var i,o;return I(this,function(u){switch(u.label){case 0:return(i=this.get(t))?[3,2]:[4,e.get(t)];case 1:return(o=u.sent())&&(i={key:t,value:o,generation:1,state:r===wo.PERSISTENT?Ri.PERSISTENT:Ri.VOLATILE},this.put(i)),[3,3];case 2:r===wo.PERSISTENT&&(i.state=Ri.PERSISTENT),u.label=3;case 3:return[2,i]}})})},n.prototype.get=function(e,t){t===void 0&&(t=wo.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(e);if(r>-1){var i=this._items[r];return t===wo.PERSISTENT&&(i.state=Ri.PERSISTENT),t!==wo.NO_CACHE&&this.put(i),i}return null},n.prototype.put=function(e){var t,r;if(this._limit>0){var i=this._items.map(function(_){return _.key}).indexOf(e.key);if(i>-1)gD.includes(this._items[i].state)&&gD.includes(e.state)?(this._items.splice(i,1),this._items.push(e)):(this._items[i].state=e.state,this._items[i].generation=e.generation,this._items[i].value=e.value);else{this._items.push(e);var o=this._items.filter(function(_){return _.state===Ri.VOLATILE}),u=o.length-this._limit;if(u>0){var d=[];try{for(var h=$e(this._items),f=h.next();!f.done;f=h.next()){var v=f.value;v.state===Ri.VOLATILE&&u>0?u--:d.push(v)}}catch(_){t={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}this._items=d}}}},n.prototype.remove=function(e){var t=this._items.map(function(r){return r.key}).indexOf(e);t>-1&&this._items.splice(t,1)},n.prototype.clearByCondition=function(e){this._items=this._items.filter(function(t){return!e(t)})},n.prototype.clear=function(e){e===void 0&&(e=!1),this._items=e?[]:this._items.filter(function(t){return t.state!==Ri.VOLATILE})},n}(),hie=function(){function n(e){var t=e.dbname,r=e.collectionName,i=e.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=r,this.metadataKey=function(o,u){return"".concat(Fc(o,u),"/trans.metadata")}(t,r),this.recordsetKey=function(o,u){return"".concat(Fc(o,u),"/trans.recordset")}(t,r),this._store=i}return Object.defineProperty(n.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),n.prototype._getReducedRecordset=function(e){return e===void 0&&(e=[]),T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=r.sent()||[]).push.apply(t,vn([],_n(e),!1)),[2,this._reduceRecordSet(t)]}})})},n.prototype._reduceRecordSet=function(e){for(var t=[],r={},i=e.length-1;i>=0;i--){for(var o=e[i],u=[],d=o.requests.length-1;d>=0;d--){var h=o.requests[d],f=h.data;r[f.key]||(u.unshift(h),r[f.key]=!0)}u.length>0&&(o.requests=u,t.unshift(o))}return t},n.prototype._applyRecord=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:r=_s.get(this.dbname),i=t.generation,o=t.requests,u=null,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(E){return ee(ee({},E.data),{generation:i})}))];case 2:for(d=y.sent(),h=0;h<o.length;h++)d[h]instanceof Error&&(u||(u=d[h]),f=o[h].data,r.put(ee(ee({},f),{generation:i,state:Ri.PERSISTENT})));return[3,4];case 3:return v=y.sent(),u=v,[3,4];case 4:return u?[3,6]:(_=e.filter(function(E){return E.generation!==i}),[4,this._store.set({key:this.recordsetKey,value:_,generation:i})]);case 5:return y.sent(),this._onWrite.forEach(function(E){E(o.map(function(x){return x.data}))}),[3,7];case 6:this._onError.forEach(function(E){return E(u)}),y.label=7;case 7:return[2]}})})},n.prototype.init=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return e=this,[4,this._store.get(this.metadataKey)];case 1:return e._metadata=f.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=$e(t),i=r.next(),f.label=4;case 4:return i.done?[3,7]:(o=i.value,[4,this._applyRecord(t,o)]);case 5:f.sent(),f.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return u=f.sent(),d={error:u},[3,10];case 9:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 10:return[2]}})})},n.prototype.on=function(e,t,r){switch(e){case Oc.COMMIT:this._onCommit.set(t,r);break;case Oc.WRITE:this._onWrite.set(t,r);break;case Oc.ERROR:this._onError.set(t,r)}},n.prototype.requestWrite=function(e,t){t===void 0&&(t=null),this._requests.push({data:e,options:t}),_s.get(this.dbname).put(ee({state:Ri.PENDING,generation:this.generation},e))},n.prototype.requestMultipleWrite=function(e,t){var r,i;t===void 0&&(t=null);var o=_s.get(this.dbname);try{for(var u=$e(e),d=u.next();!d.done;d=u.next()){var h=d.value;this._requests.push({data:h,options:t}),o.put(ee({state:Ri.PENDING,generation:this.generation},h))}}catch(f){r={error:f}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return _s.get(this.dbname).clearByCondition(function(t){return t.state===Ri.PENDING}),this._requests=[],[2]})})},n.prototype.commit=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h,f,v,_,y,E=this;return I(this,function(x){switch(x.label){case 0:if(!((e=this._requests).length>0))return[3,4];for(t=[],r={},h=e.length-1;h>=0;h--)i=e[h],v=i.data,r[v.key]||(r[v.key]=!0,t.unshift(i));return o={generation:this.generation,requests:t},[4,this._getReducedRecordset([o])];case 1:return u=x.sent(),[4,this._store.set({key:this.recordsetKey,value:u,generation:this.generation})];case 2:return x.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(x.sent(),d=_s.get(this.dbname),h=0;h<t.length;h++)f=t[h],v=f.data,_=f.options,d.put(ee(ee({},v),{generation:o.generation,state:_&&_.persistent?Ri.PERSISTENT:Ri.VOLATILE}));this._requests=[],this._onCommit.forEach(function(C){C(e.map(function(M){return M.data}))}),y=Yv.get(this.dbname),setTimeout(function(){try{E._applyRecord(u,o)}catch(C){E._onError.forEach(function(M){return M(C)})}},y.transactionApplyDelay),x.label=4;case 4:return[2]}})})},n}(),Ng=function(){function n(e){var t=e.blockId,r=e.keyName,i=e.items,o=i===void 0?[]:i,u=e.limit;this.blockId=t,this.keyName=r,this.limit=u,this._items=vn([],_n(o),!1)}return n.createFromCacheItem=function(e){return e?new n(e.value):null},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},n.prototype.getItemByKey=function(e){var t=this;return this._items.find(function(r){var i=r[t.keyName];return e===i})},n.prototype.has=function(e){var t=this;return this._items.map(function(r){return r[t.keyName]}).includes(e)},n.prototype.add=function(e){var t=this,r=this._items.map(function(i){return i[t.keyName]}).indexOf(e[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(e),!0):(this._items[r]=e,!0)},n.prototype.remove=function(e){for(var t in this._items)if(this._items[t][this.keyName]===e)return this._items.splice(parseInt(t),1),!0;return!1},n.prototype.clear=function(){this._items=[]},n}(),pie=function(){function n(e){var t=e.dbname,r=e.collectionName,i=e.metadata,o=e.hashFunction,u=o===void 0?pD:o,d=e.transaction,h=e.store;this.dbname=t,this.collectionName=r,this.hashFunction=u,this.metadata=i,this._transaction=d,this._store=h}return Object.defineProperty(n.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),n.prototype.createBlockId=function(e,t){return t===void 0&&(t=this.metadata.blockLevel),r=this.dbname,i=this.collectionName,o=t,u="".concat(function(d,h,f){var v=f.base*Math.pow(f.multiplier,h)+f.constant;return(f.hashFunction||pD)(d,v)}(e,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(I2(r,i)).concat(o,".").concat(u);var r,i,o,u},n.prototype._findBlock=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:t=_s.get(this.dbname),r=this.metadata.blockLevel,d.label=1;case 1:return r>0?(i=this.createBlockId(e,r),[4,t.find(this._store,i)]):[3,4];case 2:if((o=d.sent())&&(u=Ng.createFromCacheItem(o),u.getItemByKey(e)))return[2,u];d.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},n.prototype.getFromBlock=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._findBlock(e)];case 1:return[2,(t=r.sent())?t.getItemByKey(e):null]}})})},n.prototype.putToBlock=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return r=Yv.get(this.dbname),i=this.createBlockId(e),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,_s.get(this.dbname).find(this._store,i)];case 1:return u=h.sent(),(d=u?Ng.createFromCacheItem(u):new Ng({blockId:i,keyName:this.keyName,items:[],limit:o})).add(t)?(this._transaction.requestWrite({key:d.blockId,value:d.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.removeFromBlock=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._findBlock(e)];case 1:return(t=r.sent())&&t.remove(e)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.clearAllBlocks=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return e=I2(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=v.sent(),r=t.filter(function(_){return _.startsWith(e)}),[4,this._store.removeMany(r)];case 2:v.sent(),i=_s.get(this.dbname);try{for(o=$e(r),u=o.next();!u.done;u=o.next())d=u.value,i.remove(d)}catch(_){h={error:_}}finally{try{u&&!u.done&&(f=o.return)&&f.call(o)}finally{if(h)throw h.error}}return[2]}})})},n}(),Xl=function(){function n(e){var t=e.dbname,r=e.collectionName,i=e.keyName,o=e.fields,u=e.transaction,d=e.store,h=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=r,this.keyName=i,this.fields=o,this.indexerKey=function(f,v,_){return"".concat(Fc(f,v),"/index.").concat(_)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=u,this._store=d,this._transaction.on(Oc.COMMIT,this.indexerKey,function(){return h.commit()}),this._transaction.on(Oc.ERROR,this.indexerKey,function(){return h.abort()})}return n.createKey=function(e){return e.join(">")},n.parseKey=function(e){return e.split(">")},n.prototype._addItem=function(e){var t=e[this.keyName],r=this.getColumnValues(e),i=_n(this.indexOf(r),2),o=i[0];return i[1]?!this._table[o].keys.includes(t)&&(this._table[o].keys.push(t),!0):(this._table.splice(o,0,{columnValues:r,keys:[t]}),!0)},n.prototype._removeItem=function(e){var t=e[this.keyName],r=this.getColumnValues(e),i=_n(this.indexOf(r),2),o=i[0];if(i[1]){var u=this._table[o].keys.indexOf(t);if(u>-1)return this._table[o].keys.splice(u,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),n.prototype.getColumnValues=function(e){var t,r,i,o,u=[];try{for(var d=$e(this.fields),h=d.next();!h.done;h=d.next()){var f=h.value;if(f[0]==="-"&&(f=f.slice(1)),i=e[f],o=void 0,o=typeof i,i!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw mt.indexTypesNotMatch;u.push(e[f])}}catch(v){t={error:v}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return u},n.prototype.diff=function(e,t){for(var r in this.fields){var i=this.fields[r][0]==="-"?-1:1,o=pl(e[r],t[r]);if(o!==0)return i*o}return 0},n.prototype.indexOf=function(e){if(this._table.length>0){for(var t=0,r=this._table.length-1;t<=r;){var i=Math.floor((t+r)/2),o=this.diff(e,this._table[i].columnValues);if(o>0)t=i+1;else{if(!(o<0))return[i,!0];r=i-1}}return[t,!1]}return[0,!1]},n.prototype.ensure=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h,f,v,_,y,E,x,C,M,N;return I(this,function(S){switch(S.label){case 0:return[4,(e=_s.get(this.dbname)).find(this._store,this.indexerKey,wo.PERSISTENT)];case 1:return(t=S.sent())?[3,11]:(r=I2(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:i=S.sent(),S.label=3;case 3:S.trys.push([3,8,9,10]),o=$e(i),u=o.next(),S.label=4;case 4:return u.done?[3,7]:(d=u.value).startsWith(r)?[4,e.find(this._store,d,wo.NO_CACHE)]:[3,6];case 5:h=S.sent(),f=Ng.createFromCacheItem(h);try{for(M=void 0,v=$e(f.items),_=v.next();!_.done;_=v.next())y=_.value,this._addItem(y)}catch(D){M={error:D}}finally{try{_&&!_.done&&(N=v.return)&&N.call(v)}finally{if(M)throw M.error}}S.label=6;case 6:return u=o.next(),[3,4];case 7:return[3,10];case 8:return E=S.sent(),x={error:E},[3,10];case 9:try{u&&!u.done&&(C=o.return)&&C.call(o)}finally{if(x)throw x.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=la(this._origin),S.label=12;case 12:return[2]}})})},n.prototype.drop=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return _s.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return e.sent(),[2]}})})},n.prototype.addItem=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return this._addItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.removeItem=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return this._removeItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.commit=function(){this._origin=this._table,this._table=la(this._origin)},n.prototype.abort=function(){this._table=la(this._origin)},n}(),ml=typeof document<"u"&&typeof navigator<"u";ml&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var fie=ml&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");ml&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),ml&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),ml&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Sf,Ii,mie=ml&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),vD=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(e==="x"?t:3&t|8).toString(16)})};(function(n){n[n.PROCESSING=0]="PROCESSING",n[n.DONE=1]="DONE"})(Sf||(Sf={})),function(n){n.NEWNODE="newnode",n.REMOVENODE="removenode",n.CLAIM_HOST="claimhost",n.SYNC_HOST="synchost",n.REQUEST_LOCK="requestlock",n.ACQUIRE_LOCK="acquirelock",n.RELEASE_LOCK="releaselock"}(Ii||(Ii={}));var il,tE={},sF=function(){function n(e,t){t===void 0&&(t={});var r=this;return this._state=Sf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],tE[e]&&!t.forceCreate||(this.nodeId=vD(),this.key=e,ml&&(t.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(i){var o,u,d=i.data,h=d.nodeId,f=d.requestId,v=d.key,_=d.op,y=d.data;if(h!==r.nodeId&&v===r.key)switch(_){case Ii.NEWNODE:r._sendSync();break;case Ii.CLAIM_HOST:r._sendSync(),r._hostId=h;break;case Ii.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var E=y,x=E.currentItemRequestId,C=E.queue,M=function(P){var Q=r._queue.findIndex(function(z){return z.requestId===P.requestId});Q<0&&r._requestLock({nodeId:P.nodeId,requestId:P.requestId,key:r.key,op:Ii.REQUEST_LOCK,ts:P.ts})};try{for(var N=$e(C),S=N.next();!S.done;S=N.next())M(S.value)}catch(P){o={error:P}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function(P){return P.requestId===x}),r._completeSync()}break;case Ii.REMOVENODE:r._queue=r._queue.filter(function(P){return P.nodeId!==d.nodeId}),r._currentItem&&r._currentItem.nodeId===d.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case Ii.REQUEST_LOCK:r._requestLock(d);break;case Ii.ACQUIRE_LOCK:var D=r._queue.find(function(P){return P.requestId===f});r._acquire(D);break;case Ii.RELEASE_LOCK:r._release(f)}}),window.addEventListener("beforeunload",function(){r._send(Ii.REMOVENODE)})),tE[e]=this),tE[e]}return Object.defineProperty(n.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInSync",{get:function(){return this._state==Sf.DONE},enumerable:!1,configurable:!0}),n.prototype._send=function(e,t){var r,i;t===void 0&&(t={});var o={nodeId:this.nodeId,requestId:(r=t==null?void 0:t.requestId)!==null&&r!==void 0?r:vD(),key:this.key,op:e,data:(i=t.data)!==null&&i!==void 0?i:null,ts:Date.now()};return ml&&window.postMessage(o,"*"),o},n.prototype._acquire=function(e){e===void 0&&(e=null),e?(this._currentItem=e,this._currentItem.onAcquired(e.requestId)):this._currentItem=null},n.prototype._release=function(e){if(this._currentItem&&this._currentItem.requestId===e){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(Ii.RELEASE_LOCK,{requestId:t.requestId});var r=this._queue.findIndex(function(i){return i.requestId===e});r>-1&&this._queue.splice(r,1),t.onReleased(e)}},n.prototype._requestLock=function(e){var t=this;return new Promise(function(r){var i={nodeId:e.nodeId,requestId:e.requestId,ts:e.ts,onAcquired:function(d){t.isHost&&t._send(Ii.ACQUIRE_LOCK,{requestId:d}),r()},onReleased:function(){t._acquire(t._queue[0])}},o=!1;for(var u in t._queue)if(t._queue[u].ts>i.ts){t._queue.splice(parseInt(u),0,i),o=!0;break}o||t._queue.push(i),t._currentItem||t._acquire(t._queue[0])})},n.prototype._sendSync=function(){var e;this.isHost&&this._send(Ii.SYNC_HOST,{data:{currentItemRequestId:(e=this._currentItem)===null||e===void 0?void 0:e.requestId,queue:this._queue.map(function(t){return{nodeId:t.nodeId,requestId:t.requestId,ts:t.ts}})}})},n.prototype._waitUntilSyncCompleted=function(){return T(this,void 0,void 0,function(){var e=this;return I(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(r){e._activationQueue.push(r)})]:[2]})})},n.prototype._waitSync=function(){var e=this;this.isInSync||(this._activationTimeout=setTimeout(function(){e._completeSync()},8))},n.prototype._completeSync=function(){this.isInSync||(this._state=Sf.DONE,this._activationQueue.forEach(function(e){return e()}),this._activationQueue=[])},n.prototype.registerNode=function(){this._send(Ii.NEWNODE),this._waitSync()},n.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Ii.CLAIM_HOST),this._waitSync()},n.prototype.lock=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),e=this._send(Ii.REQUEST_LOCK),[4,this._requestLock(e)];case 2:return t.sent(),[2]}})})},n.prototype.unlock=function(){var e;this._release((e=this._currentItem)===null||e===void 0?void 0:e.requestId)},n}(),rE=function(){function n(e){var t=e.dbname,r=e.collectionName,i=e.keyName,o=e.keyHash,u=e.indexes,d=e.store,h=this;this._state=ih.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=r,this.keyName=i,this.indexes=vn([[i]],_n(u.filter(function(f){return Xl.createKey(f)!==h.keyName})),!1),this._keyHash=o,this._store=d,this._mutex=new sF(function(f,v){return"".concat(Fc(f,v),".lock")}(t,r)),this._blobContainer=new die({dbname:t,collectionName:r,store:d}),this._transaction=new hie({dbname:t,collectionName:r,store:d})}return n.metadataOf=function(e,t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=eE(e,t),[4,r.get(i)];case 1:return[2,o.sent()]}})})},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReady",{get:function(){return this._state===ih.READY},enumerable:!1,configurable:!0}),n.prototype.init=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h,f,v,_,y,E,x,C=this;return I(this,function(M){switch(M.label){case 0:return[4,this._mutex.lock()];case 1:M.sent(),M.label=2;case 2:return M.trys.push([2,9,,10]),e=Yv.get(this.dbname),[4,n.metadataOf(this.dbname,this.name,this._store)];case 3:return t=M.sent(),this._metadata=t||{keyName:this.keyName,blockLevel:1,blockHashBase:e.blockHashBase,blockHashMultiplier:e.blockHashMultiplier,blockHashConstant:e.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:M.sent(),this._blockManager=new pie({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=vn([],_n(this.indexes),!1),i=[],o=r.map(function(N){return Xl.createKey(N)}),u=t?t.indexes.map(function(N){return Xl.createKey(N)}):[];try{for(d=$e(u),h=d.next();!h.done;h=d.next())f=h.value,o.includes(f)||i.push(Xl.parseKey(f))}catch(N){E={error:N}}finally{try{h&&!h.done&&(x=d.return)&&x.call(d)}finally{if(E)throw E.error}}return(v=[]).push.apply(v,vn([],_n(r.map(function(N){var S=new Xl({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:N,transaction:C._transaction,store:C._store});return C._indexers.push(S),S.ensure()})),!1)),v.push.apply(v,vn([],_n(i.map(function(N){return new Xl({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:N,transaction:C._transaction,store:C._store}).drop()})),!1)),[4,Promise.all(v)];case 5:return M.sent(),[4,this._transaction.commit()];case 6:return M.sent(),o.sort().join(",")===u.sort().join(",")?[3,8]:(_=eE(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:_,value:this._metadata,generation:1})]);case 7:M.sent(),M.label=8;case 8:return this._state=ih.READY,this._mutex.unlock(),[3,10];case 9:throw y=M.sent(),this._mutex.unlock(),y;case 10:return[2]}})})},n.prototype.close=function(){this._state=ih.CLOSED},n.prototype._hasPropertyOfKeyName=function(e){var t=e[this.keyName];return typeof t=="string"&&!!t},n.prototype._getIndexerBy=function(e){var t,r;e===void 0&&(e=null),e||(e=[this.keyName]);var i=Xl.createKey(e);try{for(var o=$e(this._indexers),u=o.next();!u.done;u=o.next()){var d=u.value;if(i===Xl.createKey(d.fields))return d}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null},n.prototype._upgradeBlockLevel=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return e=eE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:e,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},n.prototype._requestInsert=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return h.sent()?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return h.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return h.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:h.sent(),h.label=5;case 5:h.trys.push([5,10,11,12]),r=$e(this._indexers),i=r.next(),h.label=6;case 6:return i.done?[3,9]:[4,i.value.addItem(e)];case 7:h.sent(),h.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=h.sent(),u={error:o},[3,12];case 11:try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw mt.collectionInsertDuplicate;case 14:return[2]}})})},n.prototype._requestUpsert=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x;return I(this,function(C){switch(C.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=C.sent())?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return C.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return C.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:C.sent(),C.label=5;case 5:C.trys.push([5,10,11,12]),i=$e(this._indexers),o=i.next(),C.label=6;case 6:return o.done?[3,9]:[4,(f=o.value).addItem(e)];case 7:C.sent(),C.label=8;case 8:return o=i.next(),[3,6];case 9:return[3,12];case 10:return u=C.sent(),_={error:u},[3,12];case 11:try{o&&!o.done&&(y=i.return)&&y.call(i)}finally{if(_)throw _.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,e)];case 14:C.sent(),C.label=15;case 15:C.trys.push([15,21,22,23]),d=$e(this._indexers),h=d.next(),C.label=16;case 16:return h.done?[3,20]:(f=h.value).diff(f.getColumnValues(r),f.getColumnValues(e))===0?[3,19]:[4,f.removeItem(r)];case 17:return C.sent(),[4,f.addItem(e)];case 18:C.sent(),C.label=19;case 19:return h=d.next(),[3,16];case 20:return[3,23];case 21:return v=C.sent(),E={error:v},[3,23];case 22:try{h&&!h.done&&(x=d.return)&&x.call(d)}finally{if(E)throw E.error}return[7];case 23:return[2]}})})},n.prototype._requestUpdate=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=v.sent())?[4,this._blockManager.putToBlock(t,e)]:[3,11];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,9,10,11]),i=$e(this._indexers),o=i.next(),v.label=4;case 4:return o.done?[3,8]:(u=o.value).diff(u.getColumnValues(r),u.getColumnValues(e))===0?[3,7]:[4,u.removeItem(r)];case 5:return v.sent(),[4,u.addItem(e)];case 6:v.sent(),v.label=7;case 7:return o=i.next(),[3,4];case 8:return[3,11];case 9:return d=v.sent(),h={error:d},[3,11];case 10:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}return[7];case 11:return[2]}})})},n.prototype._requestRemove=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return[4,this._blockManager.getFromBlock(e)];case 1:return(t=h.sent())?[4,this._blockManager.removeFromBlock(e)]:[3,10];case 2:h.sent(),h.label=3;case 3:h.trys.push([3,8,9,10]),r=$e(this._indexers),i=r.next(),h.label=4;case 4:return i.done?[3,7]:[4,i.value.removeItem(t)];case 5:h.sent(),h.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return o=h.sent(),u={error:o},[3,10];case 9:try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(u)throw u.error}return[7];case 10:return[2]}})})},n.prototype._requestClear=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),e=$e(this._indexers),t=e.next(),u.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:u.sent(),u.label=5;case 5:return t=e.next(),[3,3];case 6:return[3,9];case 7:return r=u.sent(),i={error:r},[3,9];case 8:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}return[7];case 9:return[2]}})})},n.prototype.getByKey=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(e)];case 3:return t=i.sent(),this._mutex.unlock(),[2,la(t)];case 4:throw r=i.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw mt.collectionNotReady;case 7:return[2]}})})},n.prototype.query=function(e){return e===void 0&&(e={}),this.isReady?new cie({condition:e.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(e.index),backward:!!e.backward}):null},n.prototype.insertOne=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw mt.collectionKeyNotGiven;return[4,this._requestInsert(la(e))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,e];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},n.prototype.insertMany=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f=this;return I(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),e.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw mt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=$e(e),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestInsert(la(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),d={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(d)throw d.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,e];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw mt.collectionNotReady;case 16:return[2]}})})},n.prototype.upsertOne=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw mt.collectionKeyNotGiven;return[4,this._requestUpsert(la(e))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,e];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},n.prototype.upsertMany=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f=this;return I(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),e.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw mt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=$e(e),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestUpsert(la(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),d={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(d)throw d.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,e];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw mt.collectionNotReady;case 16:return[2]}})})},n.prototype.update=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw mt.collectionKeyNotGiven;return[4,this._requestUpdate(la(e))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,e];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},n.prototype.updateIf=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f,v,_,y,E,x,C,M,N=this;return I(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:S.sent(),S.label=2;case 2:return S.trys.push([2,13,,15]),r=e.where,i=r===void 0?{}:r,o=e.index,u=o===void 0?null:o,d=e.backward,h=d!==void 0&&d,f=[],[4,new N2({condition:i,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(u)}).each(function(D){return T(N,void 0,void 0,function(){var P,Q;return I(this,function(z){if(D.error)throw D.stop(),D.error;if(D.hasNext){if(P=D.nextValue,Ic(i,P)&&t.set){if(typeof t.set!="function")for(Q in t.set)P[Q]=t.set[Q];else t.set(P);f.push(P)}D.next()}else D.stop();return[2]})})})];case 3:S.sent(),S.label=4;case 4:S.trys.push([4,9,10,11]),v=$e(f),_=v.next(),S.label=5;case 5:return _.done?[3,8]:(y=_.value,[4,this._requestUpdate(la(y))]);case 6:S.sent(),S.label=7;case 7:return _=v.next(),[3,5];case 8:return[3,11];case 9:return E=S.sent(),C={error:E},[3,11];case 10:try{_&&!_.done&&(M=v.return)&&M.call(v)}finally{if(C)throw C.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return S.sent(),this._mutex.unlock(),[2,f];case 13:return x=S.sent(),[4,this._transaction.clear()];case 14:throw S.sent(),this._mutex.unlock(),x;case 15:return[3,17];case 16:throw this._transaction.clear(),mt.collectionNotReady;case 17:return[2]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(e)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},n.prototype.removeIf=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x,C,M=this;return I(this,function(N){switch(N.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:N.sent(),N.label=2;case 2:return N.trys.push([2,13,,14]),t=e.where,r=t===void 0?{}:t,i=e.index,o=i===void 0?null:i,u=e.backward,d=u!==void 0&&u,h=[],[4,new N2({condition:r,blockManager:this._blockManager,backward:d,indexer:this._getIndexerBy(o)}).each(function(S){return T(M,void 0,void 0,function(){var D,P;return I(this,function(Q){if(S.error)throw S.stop(),S.error;return S.hasNext?(D=S.nextValue,Ic(r,D)&&(P=D[this.keyName],h.push(P)),S.next()):S.stop(),[2]})})})];case 3:N.sent(),N.label=4;case 4:N.trys.push([4,9,10,11]),f=$e(h),v=f.next(),N.label=5;case 5:return v.done?[3,8]:(_=v.value,[4,this._requestRemove(_)]);case 6:N.sent(),N.label=7;case 7:return v=f.next(),[3,5];case 8:return[3,11];case 9:return y=N.sent(),x={error:y},[3,11];case 10:try{v&&!v.done&&(C=f.return)&&C.call(f)}finally{if(x)throw x.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return N.sent(),this._mutex.unlock(),[2,h];case 13:throw E=N.sent(),this._mutex.unlock(),E;case 14:return[3,16];case 15:throw this._transaction.clear(),mt.collectionNotReady;case 16:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return e=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},n.prototype.getBlob=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(e)];case 1:return[2,t.sent()]}})})},n.prototype.saveBlob=function(e,t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.removeBlob=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(e)];case 1:return t.sent(),[2]}})})},n.prototype.removeAllBlobs=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.clear()];case 1:return e.sent(),[2]}})})},n}(),ka={},dv=function(){function n(e){e===void 0&&(e={});var t=e.itemSizeLimit,r=t===void 0?4194304:t,i=e.delay,o=i===void 0?1:i,u=e.encryption,d=u===void 0?zv:u;this._encryption=d,this.itemSizeLimit=r,this.delay=o,this.observer={}}return Object.defineProperty(n.prototype,"rawData",{get:function(){return ka[this.dbname]},set:function(e){ka[this.dbname]=e},enumerable:!1,configurable:!0}),n.prototype.observe=function(e,t,r){var i=this;this.observer[e]={},t.forEach(function(o){return i.observer[e][o]=r})},n.prototype.init=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:this.dbname=e,ka[this.dbname]={},r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Ai.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Ai.value))throw mt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Ai)];case 4:return r.sent(),[7];case 5:return[2]}})})},n.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return[2,Object.keys(ka[this.dbname]).filter(function(t){return t!==Ai.key})]})})},n.prototype.get=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return[4,Fd(this.delay)];case 1:if(i.sent(),t=this.observer[e],r=t&&t.get?t.get(e):null)throw r;return[2,ka[this.dbname][e]?this._encryption.decrypt(ka[this.dbname][e]):null]}})})},n.prototype.set=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return[4,Fd(this.delay)];case 1:if(h.sent(),t=e.key,r=e.value,i=this.observer[t],o=i&&i.set?i.set(t):null)throw o;if(u=this._encryption.encrypt(r),d=JSON.stringify(u),t===Ai.key||d.length<this.itemSizeLimit)return ka[this.dbname][t]=u,[2,ka[this.dbname][t]];throw mt.storeItemSizeExceeded}})})},n.prototype.setMany=function(e){return T(this,void 0,void 0,function(){var t,r=this;return I(this,function(i){switch(i.label){case 0:return[4,Fd(this.delay)];case 1:return i.sent(),t=[],e.forEach(function(o){var u=o.key,d=o.value,h=r.observer[u];if(h&&h.set&&h.set(u))t.push(mt.collectionWriteFailed);else{var f=r._encryption.encrypt(d),v=JSON.stringify(f);u===Ai.key||v.length<r.itemSizeLimit?(ka[r.dbname][u]=f,t.push(d)):t.push(mt.storeItemSizeExceeded)}}),[2,t]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return[4,Fd(this.delay)];case 1:if(i.sent(),t=this.observer[e],r=t&&t.remove?t.remove(e):null)throw r;return ka[this.dbname][e]&&delete ka[this.dbname][e],[2,e]}})})},n.prototype.removeMany=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return[4,Fd(this.delay)];case 1:f.sent();try{for(t=$e(e),r=t.next();!r.done;r=t.next()){if(i=r.value,o=this.observer[i],u=o&&o.remove?o.remove(i):null)throw u;ka[this.dbname][i]&&delete ka[this.dbname][i]}}catch(v){d={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(d)throw d.error}}return[2,e]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,Fd(this.delay)];case 1:return e.sent(),ka[this.dbname]={},[2]}})})},n}(),gie=function(){function n(e){e===void 0&&(e={}),this.itemSizeLimit=104857600;var t=e.encryption,r=t===void 0?zv:t;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=r}return n.prototype.init=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return this.dbname=e,[4,new Promise(function(u,d){if(i._window&&ml)if(fie){var h=i._indexedDB.open("_testMozilla");h.onerror=function(){return d(mt.storeNotAvailableInPrivateBrowsing)},h.onsuccess=function(){return u()}}else mie?i._window.indexedDB||!i._window.PointerEvent&&!i._window.MSPointerEvent||d(mt.storeNotAvailableInPrivateBrowsing):u();else d(mt.storeNotAvailable)})];case 1:return o.sent(),t=this,[4,new Promise(function(u,d){var h=i._indexedDB.open(e);h.addEventListener("upgradeneeded",function(f){f.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),h.addEventListener("success",function(f){return u(f.target.result)}),h.addEventListener("error",function(f){return d(f.target.error)})})];case 2:t._database=o.sent(),o.label=3;case 3:return o.trys.push([3,,5,7]),[4,this.get(Ai.key)];case 4:if((r=o.sent())&&JSON.stringify(r)!==JSON.stringify(Ai.value))throw mt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(Ai)];case 6:return o.sent(),[7];case 7:return[2]}})})},n.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){var e=this;return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=e._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();o.addEventListener("success",function(u){r(u.target.result.filter(function(d){return d!==Ai.key}))}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},n.prototype.get=function(e){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(e);u.addEventListener("success",function(d){return i(d.target.result?t._encryption.decrypt(d.target.result.value):null)}),u.addEventListener("error",function(d){return o(d.target.error)})})];case 1:return[2,r.sent()]}})})},n.prototype.set=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return t=e.key,r=e.value,[4,new Promise(function(u,d){var h=i._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:t,value:i._encryption.encrypt(r)});h.addEventListener("success",function(f){u(f.target.result)}),h.addEventListener("error",function(f){return d(f.target.error)})})];case 1:return o.sent(),[2,r]}})})},n.prototype.setMany=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return t=[],r=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),e.forEach(function(u){var d=u.key,h=u.value;t.push(new Promise(function(f){var v=r.put({key:d,value:i._encryption.encrypt(h)});v.addEventListener("success",function(_){f(_.target.result)}),v.addEventListener("error",function(){f(mt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return o.sent(),[2,e.map(function(u){return u.value})]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(e);u.addEventListener("success",function(){return i(e)}),u.addEventListener("error",function(d){return o(d.target.error)})})];case 1:return[2,r.sent()]}})})},n.prototype.removeMany=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return t=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(e.map(function(i){return new Promise(function(o,u){var d=t.delete(i);d.addEventListener("success",function(){return o(i)}),d.addEventListener("error",function(h){return u(h.target.error)})})}))];case 1:return[2,r.sent()]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){var e=this;return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=e._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();o.addEventListener("success",function(){return r()}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},n}(),vie=function(){function n(e){var t=e.AsyncStorage,r=e.encryption,i=r===void 0?zv:r;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=i}return n.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},n.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},n.prototype.init=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:this.dbname=e,r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Ai.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Ai.value))throw mt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Ai)];case 4:return r.sent(),[7];case 5:return[2]}})})},n.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){var e,t,r=this;return I(this,function(i){switch(i.label){case 0:return e=this._getActualKey(Ai.key),[4,this._asyncStorage.getAllKeys()];case 1:return t=i.sent(),[2,t.filter(function(o){return r._isBelonging(o)&&o!==e}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},n.prototype.get=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(t=r.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},n.prototype.set=function(e){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=e.key,r=e.value,i=JSON.stringify(this._encryption.encrypt(r)),t===Ai.key||i.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),i)]:[3,2];case 1:return o.sent(),[2,JSON.parse(i)];case 2:throw mt.storeItemSizeExceeded}})})},n.prototype.setMany=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:t=[],r=[];try{for(i=$e(e),o=i.next();!o.done;o=i.next()){u=o.value;try{d=u.key,h=u.value,f=JSON.stringify(this._encryption.encrypt(h)),d===Ai.key||f.length<this.itemSizeLimit?(r.push([this._getActualKey(d),f]),t.push(h)):t.push(mt.storeItemSizeExceeded)}catch{t.push(mt.collectionWriteFailed)}}}catch(E){v={error:E}}finally{try{o&&!o.done&&(_=i.return)&&_.call(i)}finally{if(v)throw v.error}}y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(r)];case 2:return y.sent(),[3,4];case 3:return y.sent(),[2,new Array(t.length).fill(mt.collectionWriteFailed)];case 4:return[2,t]}})})},n.prototype.remove=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(e))];case 1:return t.sent(),[2,e]}})})},n.prototype.removeMany=function(e){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.multiRemove(e.map(function(i){return t._getActualKey(i)}))];case 1:return r.sent(),[2,e]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[4,this.remove(Ai.key)];case 3:return t.sent(),[2]}})})},n}(),sg=!0,oc=function(){function n(){}return n.off=function(){sg=!1},n.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];sg&&console.log.apply(console,vn(["".concat("[NESTDB]","[LOG]")],_n(e),!1))},n.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];sg&&console.warn.apply(console,vn(["".concat("[NESTDB]","[WARNING]")],_n(e),!1))},n.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];sg&&console.error.apply(console,vn(["".concat("[NESTDB]","[ERROR]")],_n(e),!1))},n}();(function(n){n.INIT="INIT",n.OPENING="OPENING",n.OPENED="OPENED",n.CLOSED="CLOSED"})(il||(il={}));var _ie=function(){function n(e){var t=e.name,r=e.version,i=e.store,o=e.config;this.name=t,this._version=r,this._state=il.INIT,this._config=o||new Yv({dbname:t}),this._store=i,this._event={success:Sg,error:Sg,upgrade:mD},this._collections=new Map,this._globalMutex=new sF("".concat(this.name,".lock")),this._config.disableLogger&&oc.off(),new _s({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.commitSchema=function(e){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return this._state!==il.OPENING?[3,2]:[4,Promise.all(e.map(function(i){return T(t,void 0,void 0,function(){var o,u,d,h;return I(this,function(f){switch(f.label){case 0:return o=i.collectionName,u=i.keyName,d=i.index,h=d===void 0?[]:d,this._collections.has(o)||this._collections.set(o,new rE({dbname:this.name,collectionName:o,keyName:u,keyHash:i.keyHash||null,indexes:h,store:this._store})),[4,this._collections.get(o).init()];case 1:return f.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw mt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},n.prototype.open=function(){var e;return T(this,void 0,void 0,function(){var t,r,i,o,u=this;return I(this,function(d){switch(d.label){case 0:return[4,this._globalMutex.lock()];case 1:if(d.sent(),this._state===il.OPENED)return[3,15];this._state=il.OPENING,d.label=2;case 2:return d.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return d.sent(),h=this.name,t="".concat(T2(h),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return i=(e=d.sent())!==null&&e!==void 0?e:r,[2,new Promise(function(f,v){var _=function(E){i.version<u._version?u._event.upgrade(i.version,function(x){return T(u,void 0,void 0,function(){var C;return I(this,function(M){switch(M.label){case 0:if(x)return[3,5];i.version++,i.collectionNames=Array.from(this._collections.keys()),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this._store.set({key:t,value:i,generation:this._version})];case 2:return M.sent(),E({continued:!0}),[3,4];case 3:return C=M.sent(),E({continued:!1,err:C}),[3,4];case 4:return[3,6];case 5:E({continued:!1,err:x}),M.label=6;case 6:return[2]}})})}):E({continued:!1})},y=function(E){var x=E.continued,C=x!==void 0&&x,M=E.err,N=M===void 0?null:M;if(C)setTimeout(function(){return _(y)},10);else if(N)oc.error(N.message),u._globalMutex.unlock(),u._event.error(N),v(N);else{var S=[];i.collectionNames.forEach(function(D){u._collections.has(D)||S.push(T(u,void 0,void 0,function(){var P,Q;return I(this,function(z){switch(z.label){case 0:return[4,rE.metadataOf(this.name,D,this._store)];case 1:return(P=z.sent())?(Q=new rE({dbname:this.name,collectionName:D,keyName:P.keyName,indexes:P.indexes,store:this._store}),this._collections.set(D,Q),[4,Q.init()]):[3,3];case 2:z.sent(),z.label=3;case 3:return[2]}})}))}),Promise.all(S).then(function(){u._state=il.OPENED,u._globalMutex.unlock(),u._event.success(),f()}).catch(function(D){oc.error(D.message),u._globalMutex.unlock(),u._event.error(D),v(D)})}};_(y)})];case 5:switch(o=d.sent(),o.code){case Gt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Gt.STORE_NOT_AVAILABLE:return[3,8];case Gt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return oc.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new dv({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return d.sent(),[3,14];case 8:return oc.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new dv({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return d.sent(),[3,14];case 10:return oc.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return d.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return d.sent(),[3,14];case 13:throw oc.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var h})})},n.prototype.close=function(){this._collections.forEach(function(e){return e.close()}),this._state=il.CLOSED},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(t){return t.clear()}))];case 1:return e.sent(),[2]}})})},n.prototype.reset=function(){return T(this,void 0,void 0,function(){var e,t=this;return I(this,function(r){switch(r.label){case 0:return this.close(),(e=_s.get(this.name))&&e.clearByCondition(function(i){return i.key.startsWith(T2(t.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},n.prototype.on=function(e,t){this._event[e]=t},n.prototype.off=function(e){typeof this._event[e]=="function"&&(e==="upgrade"?this._event[e]=mD:this._event[e]=Sg)},n.prototype.collection=function(e){return this._collections.get(e)||null},n}(),Xp=null,bie=function(){function n(e,t,r){var i=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=e,this.options=t;var o=ie.of(e),u=o.sdkState,d=o.cacheContext,h=o.dispatcher,f=o.sessionManager,v=o.requestQueue,_=o.logger,y=o.userEventHandlers;this._onlineDetector=new lre({logger:_,connectionDelegate:{reconnect:function(){var E=ie.of(e),x=E.sdkState,C=E.connectionManager;x.appState==="foreground"&&C.resetAndReconnect()},disconnect:function(){ie.of(e).connectionManager.disconnect()}}}),new rh(e,{localCacheEnabled:d.localCacheEnabled,dispatcher:h,sdkState:u,logger:_}),r.forEach(function(E){E.init(e,{sdkState:u,cacheContext:d,dispatcher:h,sessionManager:f,requestQueue:v,logger:_,onlineDetector:i._onlineDetector}),i[E.name]=E}),this._appStateChangeDetector=new ore,this._appStateChangeDetector.on("resume",function(){_.debug("the page resumes from freeze"),i.setForegroundState()}).on("pause",function(){_.debug("the page freezes"),i.setBackgroundState()}),h.on(function(E){if(E instanceof Mt){if(E.code==="USEV"){var x=E.as(X7).event;if(x.category===t0.FRIEND_DISCOVERED){var C=cv.getDataAsFriendDiscoveredEvent(e,x).friendDiscoveries;en(function(){return T(i,void 0,void 0,function(){return I(this,function(P){return[2,y.forEach(function(Q){Q.onFriendsDiscovered(C)})]})})})}}}else if(E instanceof _7){var M=ie.of(i._iid).subscribedUnreadMessageCount,N=!1,S=E.ts;if(typeof S=="number"&&S>M.ts){if(M.all!==E.all&&(N=!0),M.all=E.all>=0?E.all:0,E.customTypes)for(var D in E.customTypes)M.customTypes[D]!==E.customTypes[D]&&(N=!0),M.customTypes[D]=E.customTypes[D];N=N&&M.ts>0,M.ts=S}N&&en(function(){return T(i,void 0,void 0,function(){return I(this,function(P){return[2,y.forEach(function(Q){Q.onTotalUnreadMessageCountUpdated(M.all,M.customTypes)})]})})})}else E instanceof S7&&d.localCacheEnabled&&d.preference.set(i._getUserProfileCacheKey(u.userId),_2.payloadify(E.userProfile))})}return n.init=function(e){var t=e.appId,r=e.appVersion,i=r===void 0?null:r,o=e.modules,u=o===void 0?[]:o,d=e.options,h=d===void 0?new v7:d,f=e.debugMode,v=f!==void 0&&f,_=e.customApiHost,y=e.customWebSocketHost,E=e.newInstance,x=E!==void 0&&E,C=e.logLevel,M=e.localCacheEnabled,N=M!==void 0&&M,S=e.localCacheEncryption,D=e.useAsyncStorageStore,P=D===void 0?null:D;if(!Xp||x){var Q="su-".concat(ys()),z=S!=null?S:{encrypt:function(he){return he},decrypt:function(he){return he}},W=new dv({encryption:z});v||(W=P?new vie({AsyncStorage:P,encryption:z}):new gie({encryption:z})),new ie(Q,{appId:t,appVersion:i,options:h,apiHost:_!=null?_:"https://api-".concat(t,".sendbird.com"),websocketHost:y!=null?y:"wss://ws-".concat(t,".sendbird.com"),store:W,encryption:z,logLevel:C,localCacheEnabled:N,debugMode:v});var V=new n(Q,h,vn(vn([],_n(u),!1),[new ite],!1));return Xp||(Xp=V),V}return Xp},Object.defineProperty(n,"instance",{get:function(){return Xp},enumerable:!1,configurable:!0}),Object.defineProperty(n,"version",{get:function(){return Zee},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appId",{get:function(){return ie.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appInfo",{get:function(){return ie.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appVersion",{get:function(){var e;return(e=ie.of(this._iid).sdkState.appVersion)!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"debugMode",{get:function(){return ie.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"logLevel",{get:function(){return ie.of(this._iid).logger.level},set:function(e){ie.of(this._iid).logger.level=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isCacheEnabled",{get:function(){return ie.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ekey",{get:function(){return Jf(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){var e;return(e=ie.of(this._iid).sessionManager.currentUser)!==null&&e!==void 0?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){var e=ie.of(this._iid).connectionManager;return e.isConnected?yu.OPEN:e.isConnecting?yu.CONNECTING:yu.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastConnectedAt",{get:function(){var e=ie.of(this._iid),t=e.connectedAt;return e.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),n.prototype._getPreferenceCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".pref")},n.prototype._getUserProfileCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".profile")},n.prototype.getMemoryStoreForDebugging=function(){var e=ie.of(this._iid),t=e.debugMode,r=e.cacheContext;if(t)return r.store instanceof dv?r.store:null;throw le.debugModeRequired},n.prototype.addExtension=function(e,t){var r=ie.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(e)>-1&&(r.extensions[e]=t)},n.prototype.initializeCache=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.cacheContext,o=t.connectionManager,u=t.dispatcher,r.userId&&r.userId===e?[3,6]:[4,o.logout()];case 1:return v.sent(),r.userId=e,i.localCacheEnabled?(d="sendbird@".concat(r.appId,"/").concat(e,".db"),i.nestdb&&i.nestdb.state!==il.CLOSED&&i.nestdb.name===d?[3,3]:((h=i.nestdb=new _ie({name:"sendbird@".concat(r.appId,"/").concat(e,".db"),version:1,store:i.store})).on("upgrade",function(_){return function(y,E){y===0?_.commitSchema([{collectionName:V7,keyName:Qte,index:[Cg(Yr.LATEST_LAST_MESSAGE),Cg(Yr.CHRONOLOGICAL),Cg(Yr.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:Yte,keyName:Xte,index:[hl(ui.CHANNEL_LATEST),hl(ui.NEWEST_CHILD_MESSAGE)]},{collectionName:tre,keyName:rre,index:[hl(ui.CHANNEL_LATEST),hl(ui.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return E()}).catch(function(x){return E(x)}):E()}}(h)),[4,h.open()])):[3,6];case 2:v.sent(),u.dispatch(new Y7(this._iid,{userId:e})),v.label=3;case 3:return[4,i.preference.init(this._getPreferenceCacheKey(e))];case 4:return v.sent(),[4,i.preference.get(this._getUserProfileCacheKey(e))];case 5:(f=v.sent())&&new _2(this._iid,f).apply(),v.label=6;case 6:return[2]}})})},n.prototype.clearCachedData=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return(e=ie.of(this._iid).cacheContext).localCacheEnabled?(e.nestdb&&e.nestdb.clear(),[4,e.preference.clear()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearCachedMessages=function(e){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return Fe(In("string",e)).throw(le.invalidParameters),t=K7.of(this._iid),r=C3.of(this._iid),t&&r?[4,Promise.all(e.map(function(u){return T(i,void 0,void 0,function(){return I(this,function(d){switch(d.label){case 0:return[4,t.removeMessagesOfChannel(u)];case 1:return d.sent(),[4,r.removeMessagesOfChannel(u)];case 2:return d.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.connect=function(e,t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:r=ie.of(this._iid),i=r.sdkState,o=r.cacheContext,u=r.connectionManager,d=r.statLogCollector,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.initializeCache(e)];case 2:return v.sent(),[3,4];case 3:return v.sent(),h=ie.of(this._iid).logger,o.localCacheEnabled=!1,h.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,d.init("sendbird@".concat(i.appId,"/").concat(e,".statlog"))];case 5:return v.sent(),[4,u.connect(t)];case 6:return v.sent(),this._appStateChangeDetector.start(),i.appState="foreground",[4,(f=rh.of(this._iid))==null?void 0:f.processNonAutoResendRegisteredPendingMessages()];case 7:return v.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},n.prototype.reconnect=function(){var e=ie.of(this._iid),t=e.connectionManager,r=e.sdkState,i=e.sessionManager.auth.hasSession;return i&&t.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){}),i},n.prototype.disconnect=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ie.of(this._iid),t=e.connectionManager,r=e.cacheContext,i=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),i.cancelAll(),[4,t.logout()];case 1:return o.sent(),r.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},n.prototype.setBackgroundState=function(){var e=ie.of(this._iid),t=e.connectionManager,r=e.sdkState,i=e.logger;r.appState==="foreground"&&(r.appState="background",i.debug("going background state"),t.background())},n.prototype.setForegroundState=function(){var e=ie.of(this._iid),t=e.connectionManager,r=e.sdkState,i=e.logger;r.appState==="background"&&(r.appState="foreground",i.debug("going foreground state"),t.resetAndReconnect())},n.prototype.setSessionHandler=function(e){Fe(e instanceof are).throw(le.invalidParameters),ie.of(this._iid).sessionManager.handler=e},n.prototype.addUserEventHandler=function(e,t){Fe(J("string",e)&&t instanceof sre).throw(le.invalidParameters),ie.of(this._iid).userEventHandlers.set(e,t)},n.prototype.removeUserEventHandler=function(e){ie.of(this._iid).userEventHandlers.delete(e)},n.prototype.removeAllUserEventHandler=function(){ie.of(this._iid).userEventHandlers.clear()},n.prototype.addConnectionHandler=function(e,t){Fe(J("string",e)&&t instanceof tF).throw(le.invalidParameters),ie.of(this._iid).connectionHandlers.set(e,t)},n.prototype.removeConnectionHandler=function(e){ie.of(this._iid).connectionHandlers.delete(e)},n.prototype.removeAllConnectionHandler=function(){ie.of(this._iid).connectionHandlers.clear()},n.prototype.createApplicationUserListQuery=function(e){return e===void 0&&(e={}),new nie(this._iid,e)},n.prototype.createBlockedUserListQuery=function(e){return e===void 0&&(e={}),new iie(this._iid,e)},n.prototype.createFriendListQuery=function(e){return e===void 0&&(e={}),new oie(this._iid,e)},n.prototype.createMessageSearchQuery=function(e){return new nte(this._iid,e)},n.prototype.buildUserFromSerializedData=function(e){var t=Tc(e);return new Mn(this._iid,Mn.payloadify(t))},n.prototype.updateCurrentUserInfo=function(e){return e===void 0&&(e={}),T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return e=ee(ee({},ire),e),Fe(function(f){return Mi(f.profileImage,!0)&&J("string",f.profileUrl,!0)&&J("string",f.nickname,!0)}(e)).throw(le.invalidParameters),this.currentUser?(t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new cD(ee({userId:r.userId},e)),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),d=u.as(dD).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=d.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=d.profileUrl)),[2,d];case 2:throw le.connectionRequired}})})},n.prototype.updateCurrentUserInfoWithPreferredLanguages=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(In("string",e)).throw(le.invalidParameters),this.currentUser?(t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new cD({userId:r.userId,preferredLanguages:e}),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),d=u.as(dD).user,this.currentUser&&(this.currentUser.preferredLanguages=d.preferredLanguages),[2,d];case 2:throw le.connectionRequired}})})},n.prototype.registerFCMPushTokenForCurrentUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",e)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new cre({userId:r.userId,token:e}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 3:return u.sent(),[2,Ca.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=e,[2,Ca.PENDING];case 6:return[2]}})})},n.prototype.unregisterFCMPushTokenForCurrentUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",e)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new hre({userId:r.userId,token:e}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 3:return u.sent(),[2,Ca.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=e,[2,Ca.PENDING];case 6:return[2]}})})},n.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return this.currentUser?(e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new fre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.registerAPNSPushTokenForCurrentUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",e)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new ure({userId:r.userId,token:e}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 3:return u.sent(),[2,Ca.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=e,[2,Ca.PENDING];case 6:return[2]}})})},n.prototype.unregisterAPNSPushTokenForCurrentUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",e)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new dre({userId:r.userId,token:e}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 3:return u.sent(),[2,Ca.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=e,[2,Ca.PENDING];case 6:return[2]}})})},n.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return this.currentUser?(e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new pre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.getChannelInvitationPreference=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new vre({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,{autoAccept:o.as(_re).autoAccept}]}})})},n.prototype.setChannelInvitationPreference=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(J("boolean",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new bre({userId:r.userId,willAutoAccept:e}),[4,i.send(o)];case 1:return u=d.sent(),[2,{autoAccept:u.as(yre).autoAccept}]}})})},n.prototype.getDoNotDisturb=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new Ere({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(wre).preference]}})})},n.prototype.setDoNotDisturb=function(e,t,r,i,o,u){return t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=""),T(this,void 0,void 0,function(){var d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return Fe(J("boolean",e)&&J("number",t)&&J("number",r)&&J("number",i)&&J("number",o)&&J("string",u)).throw(le.invalidParameters),d=ie.of(this._iid),h=d.sdkState,f=d.requestQueue,v=new xre({userId:h.userId,doNotDisturbOn:e,startHour:t,startMin:r,endHour:i,endMin:o,timezone:u}),[4,f.send(v)];case 1:return _=y.sent(),[2,_.as(kre).preference]}})})},n.prototype.getSnoozePeriod=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new Cre({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(Sre).snoozePeriod]}})})},n.prototype.setSnoozePeriod=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),T(this,void 0,void 0,function(){var i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(J("boolean",e)&&J("number",t)&&J("number",r)).throw(le.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,d=new Nre({userId:o.userId,snoozeOn:e,startTs:t,endTs:r}),[4,u.send(d)];case 1:return h=f.sent(),[2,h.as(Tre).snoozePeriod]}})})},n.prototype.getMyPushTokensByToken=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",e)&&Nn(rs,t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new mre({userId:i.userId,type:t,token:e}),[4,o.send(u)];case 1:return d=h.sent(),[2,d.as(gre).pushTokens]}})})},n.prototype.getPushTriggerOption=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new J7({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(Z7).pushTriggerOption]}})})},n.prototype.setPushTriggerOption=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(Nn(xc,e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new eF({userId:r.userId,pushTriggerOption:e}),[4,i.send(o)];case 1:return[2,u.sent().as(nF).pushTriggerOption]}})})},n.prototype.getPushTemplate=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new Are({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(Rre).name]}})})},n.prototype.setPushTemplate=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(Nn(C2,e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Mre({userId:r.userId,templateName:e}),[4,i.send(o)];case 1:return[2,u.sent().as(Dre).name]}})})},n.prototype.blockUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(e instanceof Mn||J("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ire({userId:r.userId,blockedUserId:e instanceof Mn?e.userId:e}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.blockUserWithUserId=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.blockUser(e)]})})},n.prototype.unblockUser=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(e instanceof Mn||J("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ore({userId:r.userId,unblockedUserId:e instanceof Mn?e.userId:e}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.unblockUserWithUserId=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.unblockUser(e)]})})},n.prototype.getFriendChangeLogsByToken=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(J("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ure({userId:r.userId,token:e}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(Lre).changelogs]}})})},n.prototype.getAllowFriendDiscovery=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new $re({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(zre).allowFriendDiscovery]}})})},n.prototype.setAllowFriendDiscovery=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(J("boolean",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new jre({userId:r.userId,allowFriendDiscovery:e}),[4,i.send(o)];case 1:return u.sent(),[2,e]}})})},n.prototype.uploadFriendDiscoveries=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Pre({userId:r.userId,discoveries:e}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(Fre).friendDiscoveryRequestId]}})})},n.prototype.deleteFriendDiscovery=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.deleteFriendDiscoveries([e])]})})},n.prototype.deleteFriendDiscoveries=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(In("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Hre({userId:r.userId,discoveryKeys:e}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.addFriends=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return Fe(In("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new qre({userId:r.userId,userIds:e}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(Bre).users]}})})},n.prototype.deleteFriend=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.deleteFriends([e])]})})},n.prototype.deleteFriends=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(In("string",e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Gre({userId:r.userId,userIds:e}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.getAllEmoji=function(){return T(this,void 0,void 0,function(){var e,t,r;return I(this,function(i){switch(i.label){case 0:return e=ie.of(this._iid).requestQueue,t=new Wre,[4,e.send(t)];case 1:return r=i.sent(),[2,r.as(Kre).emojiContainer]}})})},n.prototype.getEmojiCategory=function(e){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Qre({categoryId:e}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Yre).emojiCategory]}})})},n.prototype.getEmoji=function(e){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Xre({key:e}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Jre).emoji]}})})},n}(),ct;(function(n){n[n.NONE=0]="NONE",n[n.CHANNEL_ENTER=10102]="CHANNEL_ENTER",n[n.CHANNEL_EXIT=10103]="CHANNEL_EXIT",n[n.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",n[n.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",n[n.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",n[n.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",n[n.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",n[n.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",n[n.TYPING_START=10900]="TYPING_START",n[n.TYPING_END=10901]="TYPING_END",n[n.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",n[n.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",n[n.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",n[n.CHANNEL_INVITE=10020]="CHANNEL_INVITE",n[n.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",n[n.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",n[n.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",n[n.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",n[n.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",n[n.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",n[n.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",n[n.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(ct||(ct={}));var yie=function(){function n(e){this.channelUrl=e.channel_url,this.channelType=e.channel_type,this.category=e.cat,this.data=e.data,this.ts=e.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Ct.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Ct.OPEN},enumerable:!1,configurable:!0}),n}(),Vc=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.event=new yie(i),o}return B(e,n),e}(Mt),oF=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this,u=i.data.operators,d=u===void 0?[]:u;return o.operators=d.map(function(h){return new Mn(o._iid,h)}),o}return B(e,n),e}(Vc),lF=function(n){function e(t,r,i){var o=n.call(this,t,"MCNT",i)||this;return o.groupChannelMemberCounts=i.group_channels.map(function(u){return{channelUrl:u.channel_url,memberCount:u.member_count,joinedMemberCount:u.joined_member_count,updatedAt:u.ts}}),o.openChannelMemberCounts=i.open_channels.map(function(u){return{channelUrl:u.channel_url,participantCount:u.participant_count,updatedAt:u.ts}}),o}return B(e,n),e}(Mt),uF=function(n){function e(t,r,i){var o,u,d,h=this;(h=n.call(this,t,"ADMM",i)||this).message=new xh(t,i);var f=ie.of(t).sdkState;return h.isMentioned=wh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(d=i.force_update_last_message)!==null&&d!==void 0&&d,h}return B(e,n),e}(Mt),cF=function(n){function e(t,r,i){var o,u,d,h,f,v,_=this;(_=n.call(this,t,"AEDI",i)||this).message=new xh(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=p3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(d=i.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(e,n),e}(Mt),dF=function(n){function e(t,r,i){var o=n.call(this,t,"MRCT",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.event=new m3(i),o}return B(e,n),e}(Mt),hF=function(n){function e(t,r,i){var o=n.call(this,t,"MTHD",i)||this;return o.event=new Xne(t,i),o}return B(e,n),e}(Mt),pF=function(){this.onUserMuted=Ln,this.onUserUnmuted=Ln,this.onUserBanned=Ln,this.onUserUnbanned=Ln,this.onChannelChanged=Ln,this.onChannelDeleted=Ln,this.onChannelFrozen=Ln,this.onChannelUnfrozen=Ln,this.onOperatorUpdated=Ln,this.onChannelMemberCountChanged=Ln,this.onMetaDataCreated=Ln,this.onMetaDataUpdated=Ln,this.onMetaDataDeleted=Ln,this.onMetaCounterCreated=Ln,this.onMetaCounterUpdated=Ln,this.onMetaCounterDeleted=Ln,this.onMessageReceived=Ln,this.onMessageUpdated=Ln,this.onMessageDeleted=Ln,this.onMentionReceived=Ln,this.onReactionUpdated=Ln,this.onThreadInfoUpdated=Ln},Eie=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._channels=new Map,t._enteredChannelUrls=[],t}return B(e,n),Object.defineProperty(e.prototype,"enteredChannels",{get:function(){var t=this;return this._enteredChannelUrls.map(function(r){return t._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),e.prototype.isEnteredChannel=function(t){return this._enteredChannelUrls.includes(t)},e.prototype.enter=function(t){this._enteredChannelUrls.indexOf(t)<0&&this._enteredChannelUrls.push(t)},e.prototype.exit=function(t){var r=this._enteredChannelUrls.indexOf(t);r>=0&&this._enteredChannelUrls.splice(r,1)},e.prototype.exitAll=function(){this._enteredChannelUrls=[]},e.prototype.get=function(t){var r;return T(this,void 0,void 0,function(){return I(this,function(i){return[2,(r=this._channels.get(t))!==null&&r!==void 0?r:null]})})},e.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){return t.forEach(function(o){if(r._channels.has(o.url)){var u=r._channels.get(o.url);Object.assign(u,o)}else r._channels.set(o.url,o)}),[2]})})},e.prototype.remove=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return this._channels.delete(t),this.exit(t),[2]})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},e}(to),fF={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},wie=function(n){function e(t){var r=t.channelUrl,i=t.isInternalCall,o=n.call(this)||this;return o.method=Ae.GET,o.path="".concat(i?kne:zc,"/").concat(encodeURIComponent(r)),o}return B(e,n),e}(De),_D=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=null,i.channel=new Ch(t,r),i}return B(e,n),e}(Pe),xie=function(n){function e(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,d=t.data,h=t.customType,f=t.operatorUserIds;return(r=n.call(this)||this).method=Ae.POST,r.path=zc,r.params=wn({channel_url:i,cover_url:J("string",o)?o:null,cover_file:Mi(o)?o:null,name:u,data:d,custom_type:h,operators:f}),r}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new Ch(t,r),i}B(e,n)})(Pe);var kie=function(n){function e(t){var r=t.channelUrl;return n.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return B(e,n),e}(Fa),mF=function(n){function e(t,r,i){var o,u,d=this;return d=n.call(this,t,"ENTR",i)||this,i.data&&(d.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,d.user=new Mn(t,i.data),d.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),d}return B(e,n),e}(Mt),Cie=function(n){function e(t){var r=t.channelUrl;return n.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return B(e,n),e}(Fa),gF=function(n){function e(t,r,i){var o,u,d=this;return d=n.call(this,t,"EXIT",i)||this,i.data&&(d.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,d.user=new Mn(t,i.data),d.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),d}return B(e,n),e}(Mt),bD={},mc=function(){function n(e,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=this;this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._openChannelCache=new Eie(e),this._openChannelHandlers=new Map,this._dispatcher.on(function(d){var h,f;if(d instanceof Mt)u._handleEvent(d);else if(d instanceof no&&d.stateType===It.CONNECTED){var v=u._openChannelCache.enteredChannels;try{for(var _=$e(v),y=_.next();!y.done;y=_.next())y.value.enter()}catch(E){h={error:E}}finally{try{y&&!y.done&&(f=_.return)&&f.call(_)}finally{if(h)throw h.error}}}}),bD[e]=this}return n.of=function(e){return bD[e]},n.prototype.buildOpenChannelFromSerializedData=function(e){var t=Tc(e);return new Ch(t._iid,Ch.payloadify(t))},n.prototype.getChannelFromCache=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.get(e)];case 1:return[2,t.sent()]}})})},n.prototype.upsertChannelsToCache=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.upsert(e)];case 1:return t.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,7]),t=$e(e),r=t.next(),h.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,this._openChannelCache.remove(i)]);case 2:h.sent(),h.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=h.sent(),u={error:o},[3,7];case 6:try{r&&!r.done&&(d=t.return)&&d.call(t)}finally{if(u)throw u.error}return[7];case 7:return[2]}})})},n.prototype.setEnteredToCache=function(e){this._openChannelCache.enter(e.url)},n.prototype.setExitedToCache=function(e){this._openChannelCache.exit(e.url)},n.prototype._handleEvent=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P,Q,z,W,V,he,ce,Ee,Ne,se,oe,ue,Re,He,ve,Ce,Le,te,X,ge,Ke,qe,Te,xe,Oe,Je,bn,An,hn,Dn,rn,Rn,yn,Cn,$,A,R,j,Z,be,Ie,pn=this;return I(this,function(dn){switch(dn.label){case 0:switch(dn.trys.push([0,51,,52]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return o=null,e.code==="MESG"?o=e.as(x3):e.code==="FILE"?o=e.as(v3):e.code!=="ADMM"&&e.code!="BRDM"||(o=e.as(uF)),o?(t=o.message,r=o.isMentioned,t.channelType!==Ct.OPEN?[3,3]:[4,this.getChannel(t.channelUrl,!0)]):[3,3];case 2:i=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot,Dt;return I(this,function(Or){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())xn=Be.value,this._openChannelCache.isEnteredChannel(i.url)&&xn.onMessageReceived(i,t),r&&xn.onMentionReceived(i,t)}catch(fi){ot={error:fi}}finally{try{Be&&!Be.done&&(Dt=nn.return)&&Dt.call(nn)}finally{if(ot)throw ot.error}}return[2]})})}),dn.label=3;case 3:return[3,50];case 4:return o=null,e.code==="MEDI"?o=e.as(uv):e.code==="FEDI"?o=e.as(k3):e.code==="AEDI"&&(o=e.as(cF)),o?(u=o.message).channelType!==Ct.OPEN?[3,6]:[4,this.getChannel(u.channelUrl,!0)]:[3,6];case 5:d=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot,Dt;return I(this,function(Or){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())xn=Be.value,this._openChannelCache.isEnteredChannel(d.url)&&xn.onMessageUpdated(d,u)}catch(fi){ot={error:fi}}finally{try{Be&&!Be.done&&(Dt=nn.return)&&Dt.call(nn)}finally{if(ot)throw ot.error}}return[2]})})}),dn.label=6;case 6:return[3,50];case 7:return h=e.as($7),z=h.channelUrl,y=h.channelType,f=h.messageId,y!==Ct.OPEN?[3,9]:[4,this.getChannel(z,!0)];case 8:v=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot,Dt;return I(this,function(Or){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())xn=Be.value,this._openChannelCache.isEnteredChannel(v.url)&&xn.onMessageDeleted(v,f)}catch(fi){ot={error:fi}}finally{try{Be&&!Be.done&&(Dt=nn.return)&&Dt.call(nn)}finally{if(ot)throw ot.error}}return[2]})})}),dn.label=9;case 9:return[3,50];case 10:return _=e.as(dF),z=_.channelUrl,y=_.channelType,E=_.event,y!==Ct.OPEN?[3,12]:[4,this.getChannel(z,!0)];case 11:x=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot;return I(this,function(Dt){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())Be.value.onReactionUpdated(x,E)}catch(Or){xn={error:Or}}finally{try{Be&&!Be.done&&(ot=nn.return)&&ot.call(nn)}finally{if(xn)throw xn.error}}return[2]})})}),dn.label=12;case 12:return[3,50];case 13:return(C=e.as(hF).event).channelType!==Ct.OPEN?[3,15]:[4,this.getChannel(C.channelUrl,!0)];case 14:M=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot;return I(this,function(Dt){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())Be.value.onThreadInfoUpdated(M,C)}catch(Or){xn={error:Or}}finally{try{Be&&!Be.done&&(ot=nn.return)&&ot.call(nn)}finally{if(xn)throw xn.error}}return[2]})})}),dn.label=15;case 15:return[3,50];case 16:N=e.as(lF).openChannelMemberCounts,S=[],dn.label=17;case 17:dn.trys.push([17,22,23,24]),D=$e(N),P=D.next(),dn.label=18;case 18:return P.done?[3,21]:(Q=P.value,z=Q.channelUrl,He=Q.participantCount,W=Q.updatedAt,[4,this.getChannelFromCache(z)]);case 19:(V=dn.sent())&&V._updateParticipantCount(He,W)&&S.push(V),dn.label=20;case 20:return P=D.next(),[3,18];case 21:return[3,24];case 22:return he=dn.sent(),be={error:he},[3,24];case 23:try{P&&!P.done&&(Ie=D.return)&&Ie.call(D)}finally{if(be)throw be.error}return[7];case 24:return S.length>0?[4,this.upsertChannelsToCache(S)]:[3,26];case 25:dn.sent(),en(function(){return T(pn,void 0,void 0,function(){var nn,Be,xn,ot;return I(this,function(Dt){try{for(nn=$e(this._openChannelHandlers.values()),Be=nn.next();!Be.done;Be=nn.next())Be.value.onChannelMemberCountChanged(S)}catch(Or){xn={error:Or}}finally{try{Be&&!Be.done&&(ot=nn.return)&&ot.call(nn)}finally{if(xn)throw xn.error}}return[2]})})}),dn.label=26;case 26:return[3,50];case 27:if(!(ce=e.as(Vc).event).isOpenChannelEvent)return[3,49];switch(ce.category){case ct.CHANNEL_ENTER:return[3,28];case ct.CHANNEL_EXIT:return[3,30];case ct.CHANNEL_OPERATOR_UPDATE:return[3,32];case ct.USER_CHANNEL_MUTE:case ct.USER_CHANNEL_UNMUTE:return[3,34];case ct.USER_CHANNEL_BAN:case ct.USER_CHANNEL_UNBAN:return[3,36];case ct.CHANNEL_FREEZE:case ct.CHANNEL_UNFREEZE:return[3,38];case ct.CHANNEL_DELETED:return[3,40];case ct.CHANNEL_PROP_CHANGED:return[3,43];case ct.CHANNEL_META_DATA_CHANGED:return[3,45];case ct.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(ce.channelUrl,!0)];case 29:return Ee=dn.sent(),Ne=e.as(mF),He=Ne.participantCount,se=Ne.user,oe=Ee._updateParticipantCount(He,ce.ts),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Be.onUserEntered(Ee,se),oe&&Be.onChannelParticipantCountChanged(Ee)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(ce.channelUrl,!0)];case 31:return ue=dn.sent(),Re=e.as(gF),He=Re.participantCount,ve=Re.user,Ce=ue._updateParticipantCount(He,ce.ts),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Be.onUserExited(ue,ve),Ce&&Be.onChannelParticipantCountChanged(ue)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(ce.channelUrl,!0)];case 33:return Le=dn.sent(),te=e.as(oF).operators,Le.operators=te,this.upsertChannelsToCache([Le]),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Be.onOperatorUpdated(Le,te)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(ce.channelUrl,!0)];case 35:return X=dn.sent(),ge=ce.category===ct.USER_CHANNEL_MUTE,Ke=e.as(ge?F7:H7).user,en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){ge?Be.onUserMuted(X,Ke):Be.onUserUnmuted(X,Ke)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(ce.channelUrl,!0)];case 37:return qe=dn.sent(),Te=ce.category===ct.USER_CHANNEL_BAN,xe=e.as(Te?q7:B7).user,en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Te?Be.onUserBanned(qe,xe):Be.onUserUnbanned(qe,xe)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(ce.channelUrl,!0)];case 39:return Oe=dn.sent(),Je=e.as(G7).freeze,Oe.isFrozen=Je,this.upsertChannelsToCache([Oe]),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Je?Be.onChannelFrozen(Oe):Be.onChannelUnfrozen(Oe)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(ce.channelUrl,!0)];case 41:return bn=dn.sent(),[4,this.removeChannelsFromCache([bn.url])];case 42:return dn.sent(),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Be.onChannelDeleted(bn.url,bn.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(ce.channelUrl,!0)];case 44:return An=dn.sent(),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){Be.onChannelChanged(An)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(ce.channelUrl,!0)];case 46:return hn=dn.sent(),Dn=e.as(L7),rn=Dn.created,Rn=Dn.updated,yn=Dn.deleted,rn&&hn._upsertCachedMetaData(rn,ce.ts),Rn&&hn._upsertCachedMetaData(Rn,ce.ts),yn&&hn._removeFromCachedMetaData(yn,ce.ts),en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){rn&&Be.onMetaDataCreated(hn,rn),Rn&&Be.onMetaDataUpdated(hn,Rn),yn&&Be.onMetaDataDeleted(hn,yn)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(ce.channelUrl,!0)];case 48:return Cn=dn.sent(),$=e.as(P7),A=$.created,R=$.updated,j=$.deleted,en(function(){return T(pn,void 0,void 0,function(){return I(this,function(nn){return this._openChannelHandlers.forEach(function(Be){A&&Be.onMetaCounterCreated(Cn,A),R&&Be.onMetaCounterUpdated(Cn,R),j&&Be.onMetaCounterDeleted(Cn,j)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(Z=dn.sent(),Ks(Z))throw Z;return[3,52];case 52:return[2]}})})},n.prototype.addHandler=function(e,t){this._openChannelHandlers.set(e,t)},n.prototype.removeHandler=function(e){this._openChannelHandlers.delete(e)},n.prototype.clearHandler=function(){this._openChannelHandlers.clear()},n.prototype.getChannel=function(e,t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:Fe(J("string",e)).throw(le.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e)];case 5:return[2,i.sent()]}})})},n.prototype.getChannelWithoutCache=function(e,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(J("string",e)).throw(le.invalidParameters),r=new wie({channelUrl:e,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return i=u.sent(),o=i.as(_D).channel,[4,this.upsertChannelsToCache([o])];case 2:return u.sent(),[2,o]}})})},n.prototype.createChannel=function(e){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ee(ee({},fF),e),Fe(function(u){return In("string",u.operatorUserIds,!0)&&(J("string",u.coverUrlOrImage)||Mi(u.coverUrlOrImage)||u.coverUrlOrImage===null)&&J("string",u.name,!0)&&J("string",u.data,!0)&&J("string",u.customType,!0)&&(J("string",u.channelUrl)&&/^\w+$/.test(u.channelUrl)||u.channelUrl===null)}(e)).throw(le.invalidParameters),t=new xie(e),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(_D).channel,this.upsertChannelsToCache([i]),[2,i]}})})},n}(),yD={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},Sie=function(n){function e(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(zc,"/").concat(encodeURIComponent(i),"/participants"),r.params={token:o,limit:u},r}return B(e,n),e}(De),Nie=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.participants=[];var o=r.next,u=r.participants;return i.token=o,i.participants=u.map(function(d){return new Mn(t,d)}),i}return B(e,n),e}(Pe),Tie=function(n){function e(t,r,i){return n.call(this,t,r,Ct.OPEN,i)||this}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Sie(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Nie),u=o.participants,d=o.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph),Iie=function(n){function e(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,d=t.data,h=t.customType,f=t.operatorUserIds;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(zc,"/").concat(encodeURIComponent(i)),r.params=wn({cover_url:J("string",o)?o:null,cover_file:Mi(o)?o:null,name:u,data:d,custom_type:h,operators:f}),r}return B(e,n),e}(De),Oie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new Ch(t,r),i}return B(e,n),e}(Pe),Aie=function(n){function e(t){var r=this,i=t.channelUrl;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(zc,"/").concat(encodeURIComponent(i)),r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var Ch=function(n){function e(t,r){var i,o=this;return(o=n.call(this,t,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=Ct.OPEN,o.participantCount=(i=r.participant_count)!==null&&i!==void 0?i:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(u){return new Mn(t,u)}):[],o}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},k2.payloadify(t)),{participant_count:t.participantCount,operators:t.operators.map(function(r){return Mn.payloadify(r)})})):null},e.prototype.serialize=function(){return f0(this)},e.prototype.isOperator=function(t){return t instanceof Mn?this.isOperator(t.userId):this.operators.some(function(r){return r.userId===t})},e.prototype._updateParticipantCount=function(t,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=t,this._lastParticipantCountUpdated=r,!0)},e.prototype.createParticipantListQuery=function(t){return new Tie(this._iid,this.url,t)},e.prototype.refresh=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,mc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,t.sent()]}})})},e.prototype.enter=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new kie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(mF),u=o.participantCount,d=o.ts,this._updateParticipantCount(u,d),mc.of(this._iid).setEnteredToCache(this),[2]}})})},e.prototype.exit=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Cie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(gF),u=o.participantCount,d=o.ts,this._updateParticipantCount(u,d),mc.of(this._iid).setExitedToCache(this),ci.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},e.prototype.updateChannel=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(d){switch(d.label){case 0:return t=ee(ee({},yD),t),Fe(function(h){return In("string",h.operatorUserIds,!0)&&(J("string",h.coverUrlOrImage)||Mi(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&J("string",h.name,!0)&&J("string",h.data,!0)&&J("string",h.customType,!0)}(t)).throw(le.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Iie(ee({channelUrl:this.url},t)),[4,r.send(i)];case 1:return o=d.sent(),u=o.as(Oie).channel,[4,mc.of(this._iid).upsertChannelsToCache([u])];case 2:return d.sent(),[2,u]}})})},e.prototype.updateChannelWithOperatorUserIds=function(t,r,i,o,u){return T(this,void 0,void 0,function(){var d;return I(this,function(h){return d=ee(ee({},yD),{name:t,coverUrlOrImage:r,data:i,operatorUserIds:o,customType:u}),[2,this.updateChannel(d)]})})},e.prototype.delete=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Aie({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[4,mc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return i.sent(),[2]}})})},e}(k2),Rie=function(n){function e(t){t===void 0&&(t={});var r=n.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(e,n),e}(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onUserEntered=Ln,t.onUserExited=Ln,t.onChannelParticipantCountChanged=Ln,t}return B(e,n),e}(pF)),Mie=function(n){function e(t){var r=this,i=t.token,o=t.limit,u=t.nameKeyword,d=t.urlKeyword,h=t.customTypes,f=t.includeFrozen,v=t.includeMetaData;return(r=n.call(this)||this).method=Ae.GET,r.path=zc,r.params=wn({token:i,limit:o,name_contains:u,url_contains:d,custom_types:h,show_frozen:f,show_metadata:v}),r}return B(e,n),e}(De),Die=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,d=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return new Ch(t,h)})),i.ts=typeof d=="number"?d:null,i}return B(e,n),e}(Pe),Uie=function(n){function e(t,r){var i,o,u,d,h,f=this;return(f=n.call(this,t,r)||this).includeFrozen=!0,f.includeMetaData=!0,f.nameKeyword=null,f.urlKeyword=null,f.customTypes=null,f.includeFrozen=(i=r.includeFrozen)===null||i===void 0||i,f.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,f.nameKeyword=(u=r.nameKeyword)!==null&&u!==void 0?u:null,f.urlKeyword=(d=r.urlKeyword)!==null&&d!==void 0?d:null,f.customTypes=(h=r.customTypes)!==null&&h!==void 0?h:null,f}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.nameKeyword,!0)&&J("string",this.urlKeyword,!0)&&In("string",this.customTypes,!0)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Mie(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,3]:[3,6];case 1:return i=h.sent(),o=i.as(Die),u=o.channels,d=o.token,this._token=d,this._hasNext=!!d,[4,mc.of(this._iid).upsertChannelsToCache(u)];case 2:return h.sent(),this._isLoading=!1,[2,u];case 3:return[2,[]];case 4:throw le.queryInProgress;case 5:return[3,7];case 6:throw le.invalidParameters;case 7:return[2]}})})},e}(wl),Lie=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.name="openChannel",t}return B(e,n),e.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,d=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:d,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new mc(t,{sdkState:i,dispatcher:o,requestQueue:d})},e.prototype.createOpenChannelListQuery=function(t){return t===void 0&&(t={}),new Uie(this._iid,t)},e.prototype.addOpenChannelHandler=function(t,r){this._manager.addHandler(t,r)},e.prototype.removeOpenChannelHandler=function(t){this._manager.removeHandler(t)},e.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},e.prototype.buildOpenChannelFromSerializedData=function(t){return this._manager.buildOpenChannelFromSerializedData(t)},e.prototype.getChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.getChannel(t)]})})},e.prototype.getChannelWithoutCache=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.getChannelWithoutCache(t)]})})},e.prototype.createChannel=function(t){return t===void 0&&(t={}),T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.createChannel(t)]})})},e.prototype.createChannelWithOperatorUserIds=function(t,r,i,o,u){return T(this,void 0,void 0,function(){var d;return I(this,function(h){return(d=ee({},fF)).name=t,d.coverUrlOrImage=r,d.data=i,d.operatorUserIds=o,d.customType=u,[2,this._manager.createChannel(d)]})})},e}(f3),Tr;(function(n){n.NONE="none",n.JOINED="joined",n.INVITED="invited"})(Tr||(Tr={}));var gl,Aa,Pa,Ac,Co,hv,Eu,r0,Xs=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.state=null,i.role=null,i.isMuted=!1,i.isBlockedByMe=!1,i.isBlockingMe=!1,i.state=Nn(Tr,r.state)?r.state:null,i.role=Nn(Es,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(i.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(i.isBlockingMe=r.is_blocking_me),i}return B(e,n),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},e}(jc),vF=function(n){function e(t,r){var i,o,u=this;return(u=n.call(this,t)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",u.channelType=(o=r.channel_type)!==null&&o!==void 0?o:Ct.GROUP,u.reader=new Mn(u._iid,r.user),u.readAt=r.ts,u}return B(e,n),e}(to);(function(n){n.ALL="all",n.PUBLIC="public",n.PRIVATE="private"})(gl||(gl={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Aa||(Aa={})),function(n){n.ALL="all",n.SUPER="super",n.NON_SUPER="nonsuper",n.BROADCAST_ONLY="broadcast_only",n.EXCLUSIVE_ONLY="exclusive_only"}(Pa||(Pa={})),function(n){n.ALL="all",n.UNREAD_MESSAGE="unread_message"}(Ac||(Ac={})),function(n){n.ALL="all",n.UNHIDDEN="unhidden_only",n.HIDDEN="hidden_only",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Co||(Co={})),function(n){n.ALL="all",n.OPERATOR="operator",n.NONOPERATOR="nonoperator"}(hv||(hv={})),function(n){n.AND="AND",n.OR="OR"}(Eu||(Eu={})),function(n){n.MEMBER_NICKNAME="member_nickname",n.CHANNEL_NAME="channel_name"}(r0||(r0={}));var Fr,_F=function(){function n(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.myMemberStateFilter=Aa.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=Pa.ALL,this.publicChannelFilter=gl.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Ac.ALL,this.hiddenChannelFilter=Co.UNHIDDEN,this.includeFrozen=!0}return n.prototype._isFriend=function(e){return!!e.friendDiscoveryKey||!!e.friendName},Object.defineProperty(n.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),n.prototype.setSearchFilter=function(e,t){Array.isArray(e)&&e.length!==0&&typeof t=="string"&&t&&(this._searchFilter={query:t,fields:e})},Object.defineProperty(n.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),n.prototype.setUserIdsFilter=function(e,t,r){r===void 0&&(r=Eu.AND),this._userIdsFilter={userIds:e,includeMode:t,queryType:r}},n.prototype.clone=function(){var e=new n;this.searchFilter&&e.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&e.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){e[r]=t[r]}),e},n.prototype.match=function(e,t){if(this._searchFilter){var r=this._searchFilter,i=r.query,o=r.fields;if(i&&o&&o.length>0&&!o.some(function(y){switch(y){case r0.CHANNEL_NAME:return e.name.toLowerCase().includes(i.toLowerCase());case r0.MEMBER_NICKNAME:return e.members.some(function(E){return E.nickname.toLowerCase().includes(i.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var u=this._userIdsFilter,d=u.userIds,h=u.includeMode,f=u.queryType,v=e.members.map(function(y){return y.userId});if(h){if(d.length>0)switch(f){case Eu.AND:if(d.some(function(y){return!v.includes(y)}))return!1;break;case Eu.OR:if(d.every(function(y){return!v.includes(y)}))return!1}}else if(d.includes(t)||d.push(t),e.members.length>d.length||!rne(d,v))return!1}if(!this.includeEmpty&&!e.lastMessage||!this.includeFrozen&&e.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e.customType)||this.channelNameContainsFilter&&!e.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var _=this.nicknameContainsFilter.toLowerCase();if(e.members.every(function(y){return!y.nickname.toLowerCase().includes(_)}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(e.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case Aa.JOINED:if(e.myMemberState!=="joined")return!1;break;case Aa.INVITED:if(e.myMemberState!=="invited")return!1;break;case Aa.INVITED_BY_FRIEND:if(e.myMemberState!=="invited"||!this._isFriend(e.inviter))return!1;break;case Aa.INVITED_BY_NON_FRIEND:if(e.myMemberState!=="invited"||this._isFriend(e.inviter))return!1;break;case Aa.ALL:if(e.myMemberState==="none")return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Co.UNHIDDEN:if(e.isHidden||e.hiddenState!=="unhidden")return!1;break;case Co.HIDDEN:if(!e.isHidden)return!1;break;case Co.HIDDEN_ALLOW_AUTO_UNHIDE:if(!e.isHidden||e.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Co.HIDDEN_PREVENT_AUTO_UNHIDE:if(!e.isHidden||e.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Ac.UNREAD_MESSAGE&&e.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case gl.PUBLIC:if(!e.isPublic)return!1;break;case gl.PRIVATE:if(e.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Pa.SUPER:if(!e.isSuper)return!1;break;case Pa.NON_SUPER:if(e.isSuper)return!1}return!0},n}(),Pie=function(n){function e(t,r){var i=r.sdkState,o=r.cacheContext,u=n.call(this,t)||this;return u._channels=new Map,u._sdkState=i,u._cacheContext=o,u}return B(e,n),Object.defineProperty(e.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection(V7):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),e.prototype._serialize=function(t,r){return r===void 0&&(r=0),ee(ee({},t.serialize()),{lastMessageUpdatedAt:t.lastMessage?t.lastMessage.createdAt:0,syncIndex:r})},e.prototype._deserialize=function(t){return Wr.of(this._iid).buildGroupChannelFromSerializedData(t)},Object.defineProperty(e.prototype,"channels",{get:function(){return vn([],_n(this._channels.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.isCachedInMemory=function(t){return this._channels.has(t)},e.prototype.get=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return this._channels.has(t)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(t)]:[3,2];case 1:if(r=o.sent())return i=this._deserialize(r),this._channels.set(t,i),[2,i];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(t)]}})})},e.prototype.fetch=function(t){var r=t.token,i=t.limit,o=i===void 0?j7:i,u=t.backward,d=u!==void 0&&u,h=t.filter,f=h===void 0?new _F:h,v=t.order,_=v===void 0?Yr.LATEST_LAST_MESSAGE:v;return T(this,void 0,void 0,function(){var y,E,x,C,M=this;return I(this,function(N){switch(N.label){case 0:return this.localCacheEnabled?(y=Cg(_),E={where:function(S){if(r)switch(_){case Yr.CHANNEL_NAME_ALPHABETICAL:if(!d&&S.name.localeCompare(r)<0||d&&S.name.localeCompare(r)>0)return!1;break;case Yr.CHRONOLOGICAL:if(!d&&S.createdAt>r||d&&S.createdAt<r)return!1;break;case Yr.LATEST_LAST_MESSAGE:if(!d&&S.lastMessageUpdatedAt>r||d&&S.lastMessageUpdatedAt<r)return!1}return f.match(M._deserialize(S),M._sdkState.userId)},index:y,backward:d},[4,this.collection.query(E)]):[3,3];case 1:return[4,N.sent().fetch({limit:o})];case 2:return x=N.sent(),(C=x.map(function(S){return M._deserialize(S)})).forEach(function(S){M._channels.has(S.url)||M._channels.set(S.url,S)}),[2,C];case 3:return[2,[]]}})})},e.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){switch(u.label){case 0:if(t.forEach(function(d){if(o._channels.has(d.url)){var h=o._channels.get(d.url);Object.assign(h,d,{_iid:o._iid})}else o._channels.set(d.url,d)}),!this.localCacheEnabled)return[3,2];for(i in r=[],t)r.push(this._serialize(t[i],parseInt(i)));return[4,this.collection.upsertMany(r)];case 1:u.sent(),u.label=2;case 2:return[2]}})})},e.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),r=$e(t),i=r.next(),f.label=1;case 1:return i.done?[3,4]:(o=i.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:f.sent(),f.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return u=f.sent(),d={error:u},[3,7];case 6:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 7:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearMemoryCache=function(){this._channels.clear()},e.prototype._setBlockStateOfAllChannels=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P,Q,z,W;return I(this,function(V){switch(V.label){case 0:if(o=[],t===this._sdkState.userId)try{for(u=$e(this._channels.values()),d=u.next();!d.done;d=u.next()){y=d.value;try{for(S=void 0,h=$e(y.members),f=h.next();!f.done;f=h.next())if((C=f.value).userId===r){C.isBlockedByMe=i,o.push(y);break}}catch(he){S={error:he}}finally{try{f&&!f.done&&(D=h.return)&&D.call(h)}finally{if(S)throw S.error}}}}catch(he){M={error:he}}finally{try{d&&!d.done&&(N=u.return)&&N.call(u)}finally{if(M)throw M.error}}else if(r===this._sdkState.userId)try{for(v=$e(this._channels.values()),_=v.next();!_.done;_=v.next()){y=_.value;try{for(z=void 0,E=$e(y.members),x=E.next();!x.done;x=E.next())if((C=x.value).userId===t){C.isBlockingMe=i,o.push(y);break}}catch(he){z={error:he}}finally{try{x&&!x.done&&(W=E.return)&&W.call(E)}finally{if(z)throw z.error}}}}catch(he){P={error:he}}finally{try{_&&!_.done&&(Q=v.return)&&Q.call(v)}finally{if(P)throw P.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[2]}})})},e.prototype.block=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!0)];case 1:return i.sent(),[2]}})})},e.prototype.unblock=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!1)];case 1:return i.sent(),[2]}})})},e.prototype.markAsRead=function(t,r){return r===void 0&&(r=vn([],_n(this._channels.keys()),!1)),T(this,void 0,void 0,function(){var i,o,u,d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:i=[],y.label=1;case 1:y.trys.push([1,6,7,8]),o=$e(r),u=o.next(),y.label=2;case 2:return u.done?[3,5]:(d=u.value,[4,this.get(d)]);case 3:(h=y.sent())._updateUnreadMemberState(this._sdkState.userId,t)&&(h._updateUnreadCount(0,0),i.push(h)),y.label=4;case 4:return u=o.next(),[3,2];case 5:return[3,8];case 6:return f=y.sent(),v={error:f},[3,8];case 7:try{u&&!u.done&&(_=o.return)&&_.call(o)}finally{if(v)throw v.error}return[7];case 8:return i.length>0?[4,this.upsert(i)]:[3,10];case 9:y.sent(),y.label=10;case 10:return[2]}})})},e}(to),Tg={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},O2=function(n){return In("string",n.invitedUserIds,!0)&&J("string",n.channelUrl,!0)&&J("string",n.coverUrl,!0)&&(Mi(n.coverImage)||J("string",n.coverImage)||n.coverImage===null)&&J("boolean",n.isDistinct,!0)&&J("boolean",n.isSuper,!0)&&J("boolean",n.isBroadcast,!0)&&J("boolean",n.isExclusive,!0)&&J("boolean",n.isPublic,!0)&&J("boolean",n.isStrict,!0)&&J("boolean",n.isDiscoverable,!0)&&J("boolean",n.isEphemeral,!0)&&J("string",n.accessCode,!0)&&J("string",n.name,!0)&&J("string",n.data,!0)&&J("string",n.customType,!0)&&In("string",n.operatorUserIds,!0)&&J("number",n.messageSurvivalSeconds,!0)},pv={customTypes:null,includeEmpty:!1,includeFrozen:!0},A2=function(n){return In("string",n.customTypes,!0)&&J("boolean",n.includeEmpty)&&J("boolean",n.includeFrozen)},bF={myMemberStateFilter:Aa.ALL},yF=function(n){return Nn(Aa,n.myMemberStateFilter)};(function(n){n.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",n.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",n.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",n.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",n.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",n.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",n.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",n.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",n.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(Fr||(Fr={}));var kn,Fie={keys:[]},Hie={channelCustomTypesFilter:null,superChannelFilter:Pa.ALL},qie={channelUrl:null,scheduledStatus:null,messageTypeFilter:di.ALL};(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",n.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",n.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",n.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",n.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",n.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",n.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",n.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",n.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",n.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",n.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",n.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",n.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",n.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",n.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",n.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",n.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",n.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",n.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",n.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.REQUEST_CHANNEL="REQUEST_CHANNEL",n.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",n.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",n.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(kn||(kn={}));var ED=function(n){return n.startsWith("EVENT_")||n===kn.SYNC_CHANNEL_BACKGROUND||n===kn.SYNC_CHANNEL_CHANGELOGS},at=function(n){function e(t){var r=t.channels,i=t.source,o=n.call(this)||this;return o.channels=r,o.source=i,o}return B(e,n),e}(ni),cf=function(n){function e(t){var r=t.channelUrls,i=t.source,o=n.call(this)||this;return o.channelUrls=r,o.source=i,o}return B(e,n),e}(ni),Bie=function(){function n(e){var t=e.groupChannelCache,r=e.messageCache,i=e.unsentMessageCache,o=e.dispatcher,u=this;this._observers=new Map,o.on(function(d){return T(u,void 0,void 0,function(){var h,f,v,_,y=this;return I(this,function(E){switch(E.label){case 0:return d instanceof at?(h=d.channels,_=d.source,f=h.filter(function(x){return x instanceof is}),[4,t.upsert(f)]):[3,2];case 1:return E.sent(),this._broadcastUpdateEvent(f,_),[3,7];case 2:return d instanceof cf?(v=d.channelUrls,_=d.source,[4,t.remove(v)]):[3,5];case 3:return E.sent(),[4,ws(function(){return T(y,void 0,void 0,function(){var x,C,M,N,S,D;return I(this,function(P){switch(P.label){case 0:P.trys.push([0,6,7,8]),x=$e(v),C=x.next(),P.label=1;case 1:return C.done?[3,5]:(M=C.value,[4,r.removeMessagesOfChannel(M)]);case 2:return P.sent(),[4,i.removeMessagesOfChannel(M)];case 3:P.sent(),P.label=4;case 4:return C=x.next(),[3,1];case 5:return[3,8];case 6:return N=P.sent(),S={error:N},[3,8];case 7:try{C&&!C.done&&(D=x.return)&&D.call(x)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})})];case 4:return E.sent(),this._broadcastRemoveEvent(v,_),[3,7];case 5:return d instanceof Y7?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,7];case 6:E.sent(),E.label=7;case 7:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(e,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(e,t)}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveEvent=function(e,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(e,t)}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(e,t){this._observers.set(e,t)},n.prototype.unsubscribe=function(e){this._observers.delete(e)},n}(),Gie=function(){function n(e){var t=e.messageCache,r=e.unsentMessageCache,i=e.dispatcher,o=e.logger,u=this;this._observers=new Map,this._logger=null,this._logger=o,i.on(function(d){return T(u,void 0,void 0,function(){var h,f,v,_,y,E,x=this;return I(this,function(C){switch(C.label){case 0:return d instanceof ar?(h=d.messages,E=d.source,f=h.filter(function(M){return M.messageId>0}),v=h.filter(function(M){return M.messageId===0}),f.length>0?[4,ws(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,t.upsert(f)];case 1:return M.sent(),[4,r.remove(f.map(function(N){return N instanceof Vr?N.reqId:null}).filter(function(N){return N!==null}))];case 2:return M.sent(),[2]}})})})]:[3,2]):[3,5];case 1:C.sent(),this._broadcastUpdateEvent(f,E),C.label=2;case 2:return v.length>0?[4,ws(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,r.upsert(v)];case 1:return M.sent(),[2]}})})})]:[3,4];case 3:C.sent(),this._broadcastUpdateEvent(v,E),C.label=4;case 4:return[3,9];case 5:return d instanceof _3?(_=d.messageIds,E=d.source,[4,ws(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,t.remove(_)];case 1:return M.sent(),[2]}})})})]):[3,7];case 6:return C.sent(),this._broadcastRemoveEvent(_,E),[3,9];case 7:return d instanceof A7?(y=d.reqId,E=d.source,[4,ws(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,r.remove([y])];case 1:return M.sent(),[2]}})})})]):[3,9];case 8:C.sent(),this._broadcastRemoveUnsentEvent(y,E),C.label=9;case 9:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(e,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(e,t)}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveEvent=function(e,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(e,t)}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveUnsentEvent=function(e,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemoveUnsent(e,t)}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(e,t){this._observers.set(e,t)},n.prototype.unsubscribe=function(e){this._observers.delete(e)},n}(),$ie=function(n){function e(t){var r=t.userId,i=t.ts,o=t.token,u=t.filter,d=n.call(this)||this,h=ee(ee({},pv),u),f=h.customTypes,v=h.includeEmpty,_=h.includeFrozen;return d.method=Ae.GET,d.path="".concat(tt,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),d.params=wn({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:i,token:o,custom_types:f,show_empty:v,show_frozen:_}),d}return B(e,n),e}(De),zie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.updatedChannels=r.updated.map(function(o){return new is(t,o)}),i.deletedChannelUrls=r.deleted,i.hasMore=r.has_more,i.token=r.next,i}return B(e,n),e}(Pe),EF=function(n){function e(t){var r=t.channelUrl,i=t.isInternalCall,o=n.call(this)||this;return o.method=Ae.GET,o.path="".concat(i?xne:Fi,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return B(e,n),e}(De),wF=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=null,i.channel=new is(t,r),i}return B(e,n),e}(Pe),jie=function(n){function e(t){var r=this,i=t.userId,o=t.token,u=t.limit,d=t.order,h=t.includeEmpty,f=t.myMemberStateFilter,v=t.superChannelFilter,_=t.publicChannelFilter,y=t.unreadChannelFilter,E=t.nicknameContainsFilter,x=t.channelNameContainsFilter,C=t.channelUrlsFilter,M=t.customTypesFilter,N=t.customTypeStartsWithFilter,S=t.hiddenChannelFilter,D=t.metadataOrderKeyFilter,P=t.metadataKey,Q=t.metadataValues,z=t.metadataValueStartsWith,W=t.includeFrozen,V=t.includeMetaData,he=t.searchFilter,ce=t.userIdsFilter;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(tt,"/").concat(encodeURIComponent(i),"/my_group_channels"),r.params=wn({token:o,limit:u,order:d,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,member_state_filter:f,super_mode:v,public_mode:_,unread_filter:y,members_nickname_contains:E,name_contains:x,channel_urls:C,custom_types:M,custom_type_startswith:N,hidden_mode:S,metadata_order_key:D,metadata_key:P,metadata_values:Q,metadata_value_startswith:z,show_frozen:W,show_metadata:V}),he&&he.query&&he.fields&&(r.params.search_query=he.query,r.params.search_fields=he.fields),ce&&ce.userIds&&ce.userIds.length>0&&(ce.includeMode?(r.params.members_include_in=ce.userIds,r.params.query_type=ce.queryType.toUpperCase()):r.params.members_exactly_in=ce.userIds),r}return B(e,n),e}(De),Vie=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,d=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=d,new is(t,h)})),i.ts=d!=null?d:null,i}return B(e,n),e}(Pe),Wie=function(n){function e(t){var r=t.userId,i=t.filter,o=n.call(this)||this,u=i.myMemberStateFilter;return o.method=Ae.GET,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:u!=null?u:Aa.ALL},o}return B(e,n),e}(De),Kie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.groupChannelCount=r.group_channel_count,i}return B(e,n),e}(Pe),Qie=function(n){function e(t){var r=t.userId,i=t.filter,o=n.call(this)||this,u=i.keys;return o.method=Ae.GET,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:u},o}return B(e,n),e}(De),Yie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return typeof r[Fr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(i.groupChannelUnreadMentionCount=r[Fr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[Fr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(i.groupChannelUnreadMessageCount=r[Fr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[Fr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(i.groupChannelInvitationCount=r[Fr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[Fr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(i.superGroupChannelUnreadMentionCount=r[Fr.SUPER_UNREAD_MENTION_COUNT]),typeof r[Fr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.superGroupChannelUnreadMessageCount=r[Fr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[Fr.SUPER_INVITATION_COUNT]=="number"&&(i.superGroupChannelInvitationCount=r[Fr.SUPER_INVITATION_COUNT]),typeof r[Fr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMentionCount=r[Fr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[Fr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMessageCount=r[Fr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[Fr.NONSUPER_INVITATION_COUNT]=="number"&&(i.nonSuperGroupChannelInvitationCount=r[Fr.NONSUPER_INVITATION_COUNT]),i}return B(e,n),e}(Pe),Xie=function(n){function e(t){var r=t.userId,i=n.call(this)||this;return i.method=Ae.GET,i.path="".concat(tt,"/").concat(encodeURIComponent(r),"/unread_channel_count"),i}return B(e,n),e}(De),Jie=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(e,n),e}(Pe),Zie=function(n){function e(t){var r=t.userId,i=t.filter,o=n.call(this)||this,u=i.channelCustomTypesFilter,d=i.superChannelFilter;return o.method=Ae.GET,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:d!=null?d:Pa.ALL,custom_types:u},o}return B(e,n),e}(De),eae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(e,n),e}(Pe),nae=function(n){function e(t){var r=t.channelUrl,i=t.scheduledStatus,o=t.messageTypeFilter,u=n.call(this)||this;return u.method=Ae.GET,u.path="".concat(x7,"/count"),u.params={channel_url:r,status:rae(i)},o&&(u.params.message_type=o),u}return B(e,n),e}(De),tae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.count=r.count,i}return B(e,n),e}(Pe),rae=function(n){if(n){var e=[];n.forEach(function(t){switch(t){case lu.PENDING:e.push(Oa.PENDING);break;case lu.SENT:e.push(Oa.IN_QUEUE),e.push(Oa.SENT);break;case lu.CANCELED:e.push(Oa.CANCELED);break;case lu.FAILED:e.push(Oa.FAILED)}})}},iae=function(n){function e(t){var r=this,i=t.userId,o=t.channelUrl,u=t.coverUrl,d=t.coverImage,h=t.isDistinct,f=t.isSuper,v=t.isBroadcast,_=t.isPublic,y=t.isExclusive,E=t.isDiscoverable,x=t.isStrict,C=t.isEphemeral,M=t.accessCode,N=t.name,S=t.data,D=t.customType,P=t.messageSurvivalSeconds,Q=t.invitedUserIds,z=t.operatorUserIds;return(r=n.call(this)||this).method=Ae.POST,r.path=Fi,r.params=wn({user_ids:vn([i],_n(Q!=null?Q:[]),!1).filter(function(W,V,he){return V===he.indexOf(W)}),channel_url:o,cover_url:u,cover_file:d,is_distinct:h,is_super:f,is_broadcast:v,is_exclusive:y,is_public:_,is_discoverable:E,strict:x,is_ephemeral:C,access_code:M,name:N,data:S,custom_type:D,operator_ids:z,message_survival_seconds:P}),r}return B(e,n),e}(De),aae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i.isCreated=r.is_created,i}return B(e,n),e}(Pe),wD=function(n){function e(t){var r=t.userId,i=t.channelUrls,o=n.call(this)||this;return o.method=Ae.PUT,o.path="".concat(tt,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:i},o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var sae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/join"),r.params={user_id:o,access_code:u},r}return B(e,n),e}(De),oae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i}return B(e,n),e}(Pe),lae=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this,u=i.data,d=u.member_count,h=d===void 0?null:d,f=u.joined_member_count,v=f===void 0?null:f,_=u.users,y=_===void 0?null:_;return o.memberCount=h,o.joinedMemberCount=v,o.members=Array.isArray(y)?y.map(function(E){return new Xs(t,E)}):[new Xs(t,i.data)],o}return B(e,n),e}(Vc),uae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userId,u=t.shouldRemoveOperatorStatus;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/leave"),r.params={user_id:o,should_remove_operator_status:u},r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var cae=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this,u=i.data,d=u.member_count,h=d===void 0?null:d,f=u.joined_member_count,v=f===void 0?null:f;return o.memberCount=h,o.joinedMemberCount=v,o.member=new Xs(o._iid,i.data),o}return B(e,n),e}(Vc),dae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userIds;return(r=n.call(this)||this).method=Ae.POST,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/invite"),r.params={user_ids:o},r}return B(e,n),e}(De),hae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i}return B(e,n),e}(Pe),pae=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this,u=i.data,d=u.member_count,h=d===void 0?null:d,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitees,x=E===void 0?[]:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new Mn(t,y):null,o.invitees=x.map(function(C){return new Xs(t,C)}),o}return B(e,n),e}(Vc),fae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userId;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/decline"),r.params={user_id:o},r}return B(e,n),e}(De),mae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i.channel.myMemberState=Tr.NONE,i}return B(e,n),e}(Pe),gae=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this,u=i.data,d=u.member_count,h=d===void 0?null:d,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitee,x=E===void 0?null:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new Mn(t,y):null,o.invitee=x?new Xs(t,x):null,o}return B(e,n),e}(Vc),vae=function(n){function e(t){var r=t.channelUrl;return n.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return B(e,n),e}(Fa),xF=function(n){function e(t,r,i){var o=n.call(this,t,"READ",i)||this;return o.readStatus=new vF(t,i),o}return B(e,n),e}(Mt),_ae=function(n){function e(t){var r=t.channelUrl,i=t.userId,o=n.call(this)||this;return(o=n.call(this)||this).method=Ae.PUT,o.path="".concat(Fi,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=wn({userId:i}),o}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var el,bae=function(n){function e(t,r,i){var o=n.call(this,t,"DLVR",i)||this;return o.channelUrl=i.channel_url,o.deliveredStateUpdate=i.updated,o}return B(e,n),e}(Mt),yae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userId,u=t.hidePreviousMessages,d=t.allowAutoUnhide;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/hide"),r.params={user_id:o,hide_previous_messages:u,allow_auto_unhide:d},r}return B(e,n),e}(De),Eae=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(e,n),e}(Pe),wae=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,i.data&&(o.allowAutoUnhide=i.data.allow_auto_unhide,o.hidePreviousMessages=i.data.hide_previous_messages),o.messageOffsetTimestamp=i.ts_message_offset,o}return B(e,n),e}(Mt),xae=function(n){function e(t){var r=t.channelUrl,i=t.time;return n.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(e,n),e}(Fa),kae=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.user=new Mn(t,i.data),o}return B(e,n),e}(Mt),Cae=function(n){function e(t){var r=t.channelUrl,i=t.time;return n.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(e,n),e}(Fa),Sae=function(n){function e(t,r,i){var o=n.call(this,t,"SYEV",i)||this;return o.user=new Mn(t,i.data),o}return B(e,n),e}(Mt),Nae=function(n){function e(t){var r=t.channelUrl,i=t.messageId;return n.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:i}})||this}return B(e,n),e}(Fa),kF=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P,Q,z,W,V=this;return(V=n.call(this,t,r)||this).includeEmpty=!1,V.includeFrozen=!0,V.includeMetaData=!0,V.channelUrlsFilter=null,V.customTypesFilter=null,V.customTypeStartsWithFilter=null,V.nicknameContainsFilter="",V.channelNameContainsFilter="",V.myMemberStateFilter=Aa.ALL,V.unreadChannelFilter=Ac.ALL,V.superChannelFilter=Pa.ALL,V.publicChannelFilter=gl.ALL,V.hiddenChannelFilter=Co.UNHIDDEN,V.searchFilter={fields:[],query:null},V.userIdsFilter={userIds:[],includeMode:!0,queryType:Eu.AND},V.metadataKey=null,V.metadataValues=null,V.metadataOrderKeyFilter=null,V.metadataValueStartsWith=null,V.order=Yr.LATEST_LAST_MESSAGE,V.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,V.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,V.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,V.channelUrlsFilter=(d=r.channelUrlsFilter)!==null&&d!==void 0?d:null,V.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,V.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:"",V.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:"",V.channelNameContainsFilter=(_=r.channelNameContainsFilter)!==null&&_!==void 0?_:"",V.myMemberStateFilter=(y=r.myMemberStateFilter)!==null&&y!==void 0?y:Aa.ALL,V.unreadChannelFilter=(E=r.unreadChannelFilter)!==null&&E!==void 0?E:Ac.ALL,V.superChannelFilter=(x=r.superChannelFilter)!==null&&x!==void 0?x:Pa.ALL,V.publicChannelFilter=(C=r.publicChannelFilter)!==null&&C!==void 0?C:gl.ALL,V.hiddenChannelFilter=(M=r.hiddenChannelFilter)!==null&&M!==void 0?M:Co.UNHIDDEN,V.searchFilter=(N=r.searchFilter)!==null&&N!==void 0?N:{fields:[],query:null},V.userIdsFilter=(S=r.userIdsFilter)!==null&&S!==void 0?S:{userIds:[],includeMode:!0,queryType:Eu.AND},V.metadataKey=(D=r.metadataKey)!==null&&D!==void 0?D:null,V.metadataValues=(P=r.metadataValues)!==null&&P!==void 0?P:null,V.metadataOrderKeyFilter=(Q=r.metadataOrderKeyFilter)!==null&&Q!==void 0?Q:null,V.metadataValueStartsWith=(z=r.metadataValueStartsWith)!==null&&z!==void 0?z:null,V.order=(W=r.order)!==null&&W!==void 0?W:Yr.LATEST_LAST_MESSAGE,V}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter)&&In("string",this.channelUrlsFilter,!0)&&In("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter)&&J("string",this.nicknameContainsFilter)&&Nn(Aa,this.myMemberStateFilter)&&Nn(Pa,this.superChannelFilter)&&Nn(gl,this.publicChannelFilter)&&Nn(Ac,this.unreadChannelFilter)&&Nn(Co,this.hiddenChannelFilter)&&In(r0,this.searchFilter.fields)&&J("string",this.searchFilter.query,!0)&&In("string",this.userIdsFilter.userIds)&&J("boolean",this.userIdsFilter.includeMode)&&Nn(Eu,this.userIdsFilter.queryType)&&Nn(Yr,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&In("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},e.prototype.serialize=function(){return f0(this)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Wr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return t=o.sent(),r=t.channels,i=t.token,this._token=i,this._hasNext=!!i,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),i0=function(){function n(e){var t=e.top,r=t===void 0?Number.MAX_SAFE_INTEGER:t,i=e.bottom,o=i===void 0?0:i;this.top=r,this.bottom=o}return n.prototype.includes=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.every(function(i){return e.top<=i&&i<=e.bottom})},n.prototype.overlap=function(e){return this.includes(e.top)||this.includes(e.bottom)},n.prototype.extends=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.top=Math.min.apply(Math,vn([this.top],_n(e),!1)),this.bottom=Math.max.apply(Math,vn([this.bottom],_n(e),!1))},n}(),xD={},Wr=function(){function n(e,t){var r=t.sdkState,i=t.cacheContext,o=t.dispatcher,u=t.sessionManager,d=t.requestQueue,h=t.logger,f=this;this._leftChannels=new Map,this._markAsReadAllLastSentAt=0,this._iid=e,this._sdkState=r,this._sessionManager=u,this._requestQueue=d,this._dispatcher=o,this._logger=h,this._groupChannelHandlers=new Map,this._groupChannelCache=new Pie(this._iid,{sdkState:r,cacheContext:i}),this._unsentMessageCache=new C3(this._iid,{sdkState:r,cacheContext:i}),this._messageCache=new K7(this._iid,{sdkState:r,cacheContext:i,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new Bie({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new Gie({messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:h}),setInterval(function(){var v,_,y=function(C){C.invalidateTypingStatus()&&(f._dispatcher.dispatch(new at({channels:[C],source:kn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),f._groupChannelHandlers.forEach(function(M){M.onTypingStatusUpdated(C)}))};try{for(var E=$e(f._groupChannelCache.channels),x=E.next();!x.done;x=E.next())y(x.value)}catch(C){v={error:C}}finally{try{x&&!x.done&&(_=E.return)&&_.call(E)}finally{if(v)throw v.error}}},1e3),this._dispatcher.on(function(v){v instanceof Mt?f._handleEvent(v):v instanceof Q7&&T(f,void 0,void 0,function(){var _,y;return I(this,function(E){switch(E.label){case 0:return _=v.message,[4,this.getChannel(_.channelUrl,!0)];case 1:return y=E.sent(),_ instanceof Zr?y._autoResendUserMessage(_):_ instanceof Qr&&y._autoResendFileMessage(_),[2]}})})}),xD[e]=this}return n.of=function(e){return xD[e]},Object.defineProperty(n.prototype,"handlers",{get:function(){return vn([],_n(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.buildGroupChannelFromSerializedData=function(e){var t=Tc(e);return new is(this._iid,is.payloadify(t))},n.prototype.buildGroupChannelListQueryFromSerializedData=function(e){var t=Tc(e);return new kF(this._iid,t)},n.prototype.buildMemberFromSerializedData=function(e){var t=Tc(e);return new Xs(this._iid,Xs.payloadify(t))},n.prototype.getChannelFromCache=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(e)];case 1:return[2,t.sent()]}})})},n.prototype.getChannelsFromCache=function(e,t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._groupChannelCache.fetch({token:e,filter:t,order:r})];case 1:return[2,i.sent()]}})})},n.prototype._handleEvent=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P,Q,z,W,V,he,ce,Ee,Ne,se,oe,ue,Re,He,ve,Ce,Le,te,X,ge,Ke,qe,Te,xe,Oe,Je,bn,An,hn,Dn,rn,Rn,yn,Cn,$,A,R,j,Z,be,Ie,pn,dn,nn,Be,xn,ot,Dt,Or,fi,Ha,Cl,Sl,Os,un,Qc,As,Do,Nl,Du,Xn,na,Yc,$h,Uu,x0,k0,C0,Lu,Xc,ao,Jc,Uo,Zc,zh,jh,Vh,Wh,Lo,ed,Pu,Fu,Hu,Tl,Il,qu,Kh,nd,Qh,td,Yh,rd,id,Xh,Jh,S0,Zh,ep,ad,np,Po,so,sd,N0,Et=this;return I(this,function(Vn){switch(Vn.label){case 0:switch(Vn.trys.push([0,72,,73]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"SYEV":return[3,32];case"USEV":return[3,70]}return[3,71];case 1:return f=null,e.code==="MESG"?f=e.as(x3):e.code==="FILE"?f=e.as(v3):e.code!=="ADMM"&&e.code!="BRDM"||(f=e.as(uF)),f?(t=f.message,r=f.isMentioned,i=f.forceUpdateLastMessage,t.channelType!==Ct.GROUP?[3,3]:(ws(function(){return T(Et,void 0,void 0,function(){var Me;return I(this,function(ke){return Me=new Nae(t),this._requestQueue.send(Me),[2]})})}),V=this._groupChannelCache.isCachedInMemory(t.channelUrl),E=t instanceof Vr&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((o=Vn.sent()).hiddenState=Ta.UNHIDDEN,t instanceof Vr){u=ie.of(this._iid).useMemberInfoInMessage;try{for(d=$e(o.members),h=d.next();!h.done;h=d.next())if((na=h.value).userId===t.sender.userId){u?(t.sender.nickname=na.nickname,t.sender.plainProfileUrl=na.plainProfileUrl,t.sender.metaData=na.metaData,t.sender.isBlockedByMe=na.isBlockedByMe):(na.nickname=t.sender.nickname,na.plainProfileUrl=t.sender.plainProfileUrl,na.metaData=t.sender.metaData,na.isBlockedByMe=t.sender.isBlockedByMe);break}}catch(Me){Jh={error:Me}}finally{try{h&&!h.done&&(S0=d.return)&&S0.call(d)}finally{if(Jh)throw Jh.error}}u&&r&&t.mentionedUsers.forEach(function(Me){var ke,On;try{for(var Bn=$e(o.members),Qt=Bn.next();!Qt.done;Qt=Bn.next()){var wt=Qt.value;if(Me.userId===wt.userId){Me.nickname=wt.nickname,Me.plainProfileUrl=wt.plainProfileUrl,Me.metaData=wt.metaData;break}}}catch(Fo){ke={error:Fo}}finally{try{Qt&&!Qt.done&&(On=Bn.return)&&On.call(Bn)}finally{if(ke)throw ke.error}}}),E&&(C=this._sessionManager.currentUser)&&(C.nickname=t.sender.nickname,C.plainProfileUrl=t.sender.plainProfileUrl,C.metaData=t.sender.metaData)}t.silent&&!E||(o.isEphemeral||V)&&((!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),E||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),i&&(!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),this._dispatcher.dispatch(new at({channels:[o],source:kn.EVENT_MESSAGE_RECEIVED})),t.silent&&!E||en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onChannelChanged(o)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})}),this._dispatcher.dispatch(new ar({messages:[t],source:En.EVENT_MESSAGE_RECEIVED})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn,Qt;return I(this,function(wt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())(On=ke.value).onMessageReceived(o,t),r&&On.onMentionReceived(o,t)}catch(Fo){Bn={error:Fo}}finally{try{ke&&!ke.done&&(Qt=Me.return)&&Qt.call(Me)}finally{if(Bn)throw Bn.error}}return[2]})})}),Vn.label=3;case 3:return[3,71];case 4:return f=null,e.code==="MEDI"?f=e.as(uv):e.code==="FEDI"?f=e.as(k3):e.code==="AEDI"&&(f=e.as(cF)),f?(v=f.message,_=f.mentionCountChange,v.channelType!==Ct.GROUP?[3,6]:(V=this._groupChannelCache.isCachedInMemory(v.channelUrl),[4,this.getChannel(v.channelUrl,!0)])):[3,6];case 5:y=Vn.sent(),E=v instanceof Vr&&v.sender.userId===this._sdkState.userId,x=!1,E?(C=this._sessionManager.currentUser)&&(C.nickname=v.sender.nickname,C.plainProfileUrl=v.sender.plainProfileUrl,C.metaData=v.sender.metaData):y.isReadMessage(v)&&_!==0&&!v.silent&&V&&(y._updateUnreadCount(y.unreadMessageCount,y.unreadMentionCount+_),x=!0),!y.lastMessage||y.lastMessage.createdAt<v.createdAt?(y.lastMessage=v,x=!0):y.lastMessage.isIdentical(v)&&(V?y.lastMessage.updatedAt<v.updatedAt&&(y.lastMessage=v,x=!0):x=!0),x&&(this._dispatcher.dispatch(new at({channels:[y],source:kn.EVENT_MESSAGE_UPDATED})),v.silent&&!E||en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onChannelChanged(y)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})})),this._dispatcher.dispatch(new ar({messages:[v],source:En.EVENT_MESSAGE_UPDATED})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn,Qt;return I(this,function(wt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())(On=ke.value).onMessageUpdated(y,v),_!==0&&On.onMentionReceived(y,v)}catch(Fo){Bn={error:Fo}}finally{try{ke&&!ke.done&&(Qt=Me.return)&&Qt.call(Me)}finally{if(Bn)throw Bn.error}}return[2]})})}),Vn.label=6;case 6:return[3,71];case 7:return M=e.as($7),ge=M.channelUrl,Ne=M.channelType,N=M.messageId,Ne!==Ct.GROUP?[3,9]:[4,this.getChannel(ge,!0)];case 8:S=Vn.sent(),this._dispatcher.dispatch(new _3({messageIds:[N],source:En.EVENT_MESSAGE_DELETED})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onMessageDeleted(S,N)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})}),Vn.label=9;case 9:return[3,71];case 10:return(D=e.as(xF).readStatus).channelType!==Ct.GROUP?[3,12]:(V=this._groupChannelCache.isCachedInMemory(D.channelUrl),[4,this.getChannel(D.channelUrl,!0)]);case 11:P=Vn.sent(),V&&P._updateUnreadMemberState(D.reader.userId,D.readAt),D.reader.userId===this._sdkState.userId?V?(P.unreadMessageCount>0||P.unreadMentionCount>0)&&(P._updateUnreadCount(0,0),this._dispatcher.dispatch(new at({channels:[P],source:kn.EVENT_CHANNEL_READ})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onChannelChanged(P)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})})):P.unreadMessageCount!==0&&P.unreadMentionCount!==0||(this._dispatcher.dispatch(new at({channels:[P],source:kn.EVENT_CHANNEL_READ})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onChannelChanged(P)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})})):(this._dispatcher.dispatch(new at({channels:[P],source:kn.EVENT_CHANNEL_READ})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onUnreadMemberStatusUpdated(P)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})})),Vn.label=12;case 12:return[3,71];case 13:return Q=e.as(bae),ge=Q.channelUrl,z=Q.deliveredStateUpdate,W=z===void 0?{}:z,V=this._groupChannelCache.isCachedInMemory(ge),[4,this.getChannel(ge,!0)];case 14:if(he=Vn.sent(),V)for(ce in W)he._updateUndeliveredMemberState(ce,W[ce]);return this._dispatcher.dispatch(new at({channels:[he],source:kn.EVENT_CHANNEL_DELIVERED})),Object.keys(W).some(function(Me){return Me!==Et._sdkState.userId})&&en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onUndeliveredMemberStatusUpdated(he)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})}),[3,71];case 15:return Ee=e.as(dF),ge=Ee.channelUrl,Ne=Ee.channelType,se=Ee.event,Ne!==Ct.GROUP?[3,18]:[4,this.getChannel(ge,!0)];case 16:return oe=Vn.sent(),[4,this.getMessageFromCache(se.messageId)];case 17:(He=Vn.sent())&&(He.applyReactionEvent(se),this._dispatcher.dispatch(new ar({messages:[He],source:En.EVENT_MESSAGE_REACTION_UPDATED}))),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onReactionUpdated(oe,se)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})}),Vn.label=18;case 18:return[3,71];case 19:return(ue=e.as(hF).event).channelType!==Ct.GROUP?[3,22]:[4,this.getChannel(ue.channelUrl,!0)];case 20:return Re=Vn.sent(),[4,this.getMessageFromCache(ue.targetMessageId)];case 21:(He=Vn.sent())&&(He.applyThreadInfoUpdateEvent(ue),this._dispatcher.dispatch(new ar({messages:[He],source:En.EVENT_MESSAGE_THREADINFO_UPDATED}))),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onThreadInfoUpdated(Re,ue)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})}),Vn.label=22;case 22:return[3,71];case 23:ve=e.as(lF).groupChannelMemberCounts,Ce=[],Vn.label=24;case 24:Vn.trys.push([24,29,30,31]),Le=$e(ve),te=Le.next(),Vn.label=25;case 25:return te.done?[3,28]:(X=te.value,ge=X.channelUrl,fi=X.memberCount,Ha=X.joinedMemberCount,Ke=X.updatedAt,[4,this.getChannelFromCache(ge)]);case 26:(qe=Vn.sent())&&qe._setLatestMemberCount(fi,Ha,Ke)&&Ce.push(qe),Vn.label=27;case 27:return te=Le.next(),[3,25];case 28:return[3,31];case 29:return Te=Vn.sent(),Zh={error:Te},[3,31];case 30:try{te&&!te.done&&(ep=Le.return)&&ep.call(Le)}finally{if(Zh)throw Zh.error}return[7];case 31:return Ce.length>0&&(this._dispatcher.dispatch(new at({channels:Ce,source:kn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),en(function(){return T(Et,void 0,void 0,function(){var Me,ke,On,Bn;return I(this,function(Qt){try{for(Me=$e(this._groupChannelHandlers.values()),ke=Me.next();!ke.done;ke=Me.next())ke.value.onChannelMemberCountChanged(Ce)}catch(wt){On={error:wt}}finally{try{ke&&!ke.done&&(Bn=Me.return)&&Bn.call(Me)}finally{if(On)throw On.error}}return[2]})})})),[3,71];case 32:if(!(xe=e.as(Vc).event).isGroupChannelEvent)return[3,69];switch(xe.category){case ct.CHANNEL_JOIN:return[3,33];case ct.CHANNEL_LEAVE:return[3,35];case ct.CHANNEL_OPERATOR_UPDATE:return[3,39];case ct.CHANNEL_INVITE:return[3,41];case ct.CHANNEL_DECLINE_INVITE:return[3,43];case ct.TYPING_START:case ct.TYPING_END:return[3,45];case ct.USER_CHANNEL_MUTE:case ct.USER_CHANNEL_UNMUTE:return[3,47];case ct.USER_CHANNEL_BAN:return[3,49];case ct.USER_CHANNEL_UNBAN:return[3,53];case ct.CHANNEL_FREEZE:case ct.CHANNEL_UNFREEZE:return[3,55];case ct.CHANNEL_HIDE:return[3,57];case ct.CHANNEL_UNHIDE:return[3,59];case ct.CHANNEL_DELETED:return[3,61];case ct.CHANNEL_PROP_CHANGED:return[3,63];case ct.CHANNEL_META_DATA_CHANGED:return[3,65];case ct.CHANNEL_META_COUNTERS_CHANGED:return[3,67]}return[3,69];case 33:return[4,this.getChannel(xe.channelUrl,!0)];case 34:return Oe=Vn.sent(),Je=e.as(lae),bn=Je.memberCount,An=Je.joinedMemberCount,hn=Je.members,Dn=!1,hn.forEach(function(Me){Oe.isExclusive||Oe.isSuper||Oe.isBroadcast?Dn=Dn||Oe._setLatestMemberCount(bn,An,xe.ts):(Me.state=Tr.JOINED,Oe.addMember(Me,xe.ts),Et._updateJoinedMemberCount(Oe)),Me.userId===Et._sdkState.userId&&(Oe.myMemberState=Tr.JOINED)}),this._dispatcher.dispatch(new at({channels:[Oe],source:kn.EVENT_CHANNEL_JOINED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){var On,Bn;try{for(var Qt=$e(hn),wt=Qt.next();!wt.done;wt=Qt.next()){var Fo=wt.value;ke.onUserJoined(Oe,Fo)}}catch(tp){On={error:tp}}finally{try{wt&&!wt.done&&(Bn=Qt.return)&&Bn.call(Qt)}finally{if(On)throw On.error}}Oe.isBroadcast&&Dn&&ke.onChannelMemberCountChanged([Oe])}),[2]})})}),[3,69];case 35:return(Yc=this._leftChannels.get(xe.channelUrl))?(Rn=Yc.channel,[3,38]):[3,36];case 36:return[4,this.getChannel(xe.channelUrl,!0)];case 37:Rn=Vn.sent(),Vn.label=38;case 38:return rn=Rn,yn=e.as(cae),fi=yn.memberCount,Ha=yn.joinedMemberCount,Cn=yn.member,$=!1,rn.isExclusive||rn.isSuper||rn.isBroadcast?$=rn._setLatestMemberCount(fi,Ha,xe.ts):(rn.removeMember(Cn),this._updateJoinedMemberCount(rn)),Cn.userId===this._sdkState.userId?rn.isPublic?(rn.myMemberState=Tr.NONE,rn.invitedAt=0,rn.joinedAt=0,rn._updateUnreadCount(0,0),this._dispatcher.dispatch(new at({channels:[rn],source:kn.EVENT_CHANNEL_LEFT}))):(this._markAsLeave(rn),this._dispatcher.dispatch(new cf({channelUrls:[rn.url],source:kn.EVENT_CHANNEL_LEFT}))):this._dispatcher.dispatch(new at({channels:[rn],source:kn.EVENT_CHANNEL_LEFT})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onUserLeft(rn,Cn),rn.isBroadcast&&$&&ke.onChannelMemberCountChanged([rn])}),[2]})})}),[3,69];case 39:return[4,this.getChannel(xe.channelUrl,!0)];case 40:A=Vn.sent(),R=e.as(oF).operators,j=R.map(function(Me){return Me.userId});try{for(Z=$e(A.members),be=Z.next();!be.done;be=Z.next())(na=be.value).role=j.includes(na.userId)?Es.OPERATOR:Es.NONE}catch(Me){ad={error:Me}}finally{try{be&&!be.done&&(np=Z.return)&&np.call(Z)}finally{if(ad)throw ad.error}}return A.myRole=j.includes(this._sdkState.userId)?Es.OPERATOR:Es.NONE,this._dispatcher.dispatch(new at({channels:[A],source:kn.EVENT_CHANNEL_OPERATOR_UPDATED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onOperatorUpdated(A,R)}),[2]})})}),[3,69];case 41:return[4,this.getChannel(xe.channelUrl,!0)];case 42:Ie=Vn.sent(),pn=e.as(pae),fi=pn.memberCount,Ha=pn.joinedMemberCount,dn=pn.inviter,(nn=pn.invitees).forEach(function(Me){return Me.state=Tr.INVITED});try{for(Be=$e(nn),xn=Be.next();!xn.done;xn=Be.next())ot=xn.value,Ie.isExclusive||Ie.isSuper||Ie.isBroadcast?Ie._setLatestMemberCount(fi,Ha,xe.ts):Ie.addMember(ot,xe.ts),this._sdkState.userId===ot.userId&&(Ie.hiddenState=Ta.UNHIDDEN,Ie.myMemberState!==Tr.JOINED&&(Ie.myMemberState=Tr.INVITED),Ie.invitedAt=xe.ts)}catch(Me){Po={error:Me}}finally{try{xn&&!xn.done&&(so=Be.return)&&so.call(Be)}finally{if(Po)throw Po.error}}return this._dispatcher.dispatch(new at({channels:[Ie],source:kn.EVENT_CHANNEL_INVITED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onUserReceivedInvitation(Ie,dn,nn)}),[2]})})}),[3,69];case 43:return[4,this.getChannel(xe.channelUrl,!0)];case 44:return Dt=Vn.sent(),Or=e.as(gae),fi=Or.memberCount,Ha=Or.joinedMemberCount,Cl=Or.inviter,Sl=Or.invitee,Dt.isExclusive||Dt.isSuper||Dt.isBroadcast?Dt._setLatestMemberCount(fi,Ha,xe.ts):Dt.removeMember(Sl),this._sdkState.userId===Sl.userId?(Dt.invitedAt=0,Dt.myMemberState=Tr.NONE,Dt.isPublic?this._dispatcher.dispatch(new at({channels:[Dt],source:kn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new cf({channelUrls:[Dt.url],source:kn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new at({channels:[Dt],source:kn.EVENT_CHANNEL_DECLINED_INVITE})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onUserDeclinedInvitation(Dt,Cl,Sl)}),[2]})})}),[3,69];case 45:return[4,this.getChannel(xe.channelUrl,!0)];case 46:return Os=Vn.sent(),un=xe.category===ct.TYPING_START,Qc=e.as(un?kae:Sae).user,Os._updateTypingStatus(Qc,un?xe.ts:0),this._dispatcher.dispatch(new at({channels:[Os],source:kn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onTypingStatusUpdated(Os)}),[2]})})}),[3,69];case 47:return[4,this.getChannel(xe.channelUrl,!0)];case 48:As=Vn.sent(),Do=xe.category===ct.USER_CHANNEL_MUTE,(Nl=e.as(Do?F7:H7).user).userId===this._sdkState.userId&&(As.myMutedState=Do?ol.MUTED:ol.UNMUTED);try{for(Du=$e(As.members),Xn=Du.next();!Xn.done;Xn=Du.next())if((na=Xn.value).userId===Nl.userId){na.isMuted=Do;break}}catch(Me){sd={error:Me}}finally{try{Xn&&!Xn.done&&(N0=Du.return)&&N0.call(Du)}finally{if(sd)throw sd.error}}return this._dispatcher.dispatch(new at({channels:[As],source:Do?kn.EVENT_CHANNEL_MUTED:kn.EVENT_CHANNEL_UNMUTED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){Do?ke.onUserMuted(As,Nl):ke.onUserUnmuted(As,Nl)}),[2]})})}),[3,69];case 49:return(Yc=this._leftChannels.get(xe.channelUrl))?(Uu=Yc.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(xe.channelUrl,!0)];case 51:Uu=Vn.sent(),Vn.label=52;case 52:return $h=Uu,this._markAsLeave($h),x0=e.as(q7).user,en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onUserBanned($h,x0)}),[2]})})}),[3,69];case 53:return[4,this.getChannel(xe.channelUrl,!0)];case 54:return k0=Vn.sent(),C0=e.as(B7).user,en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onUserUnbanned(k0,C0)}),[2]})})}),[3,69];case 55:return[4,this.getChannel(xe.channelUrl,!0)];case 56:return Lu=Vn.sent(),Xc=e.as(G7).freeze,Lu.isFrozen=Xc,this._dispatcher.dispatch(new at({channels:[Lu],source:Xc?kn.EVENT_CHANNEL_FROZEN:kn.EVENT_CHANNEL_UNFROZEN})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){Xc?ke.onChannelFrozen(Lu):ke.onChannelUnfrozen(Lu)}),[2]})})}),[3,69];case 57:return[4,this.getChannel(xe.channelUrl,!0)];case 58:return ao=Vn.sent(),Jc=e.as(wae),Uo=Jc.allowAutoUnhide,Zc=Jc.hidePreviousMessages,zh=Jc.messageOffsetTimestamp,Uo!==null&&(ao.hiddenState=Uo?Ta.HIDDEN_ALLOW_AUTO_UNHIDE:Ta.HIDDEN_PREVENT_AUTO_UNHIDE),Zc!==null&&Zc&&ao._updateUnreadCount(0,0),zh!==null&&(ao.messageOffsetTimestamp=zh),this._dispatcher.dispatch(new at({channels:[ao],source:kn.EVENT_CHANNEL_HIDDEN})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onChannelHidden(ao)}),[2]})})}),[3,69];case 59:return[4,this.getChannel(xe.channelUrl,!0)];case 60:return(jh=Vn.sent()).hiddenState=Ta.UNHIDDEN,this._dispatcher.dispatch(new at({channels:[jh],source:kn.EVENT_CHANNEL_UNHIDDEN})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onChannelChanged(jh)}),[2]})})}),[3,69];case 61:return[4,this.getChannel(xe.channelUrl,!0)];case 62:return Vh=Vn.sent(),this._dispatcher.dispatch(new cf({channelUrls:[xe.channelUrl],source:kn.EVENT_CHANNEL_DELETED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onChannelDeleted(Vh.url,Vh.channelType)}),[2]})})}),[3,69];case 63:return[4,this.getChannelWithoutCache(xe.channelUrl,!0)];case 64:return Wh=Vn.sent(),this._dispatcher.dispatch(new at({channels:[Wh],source:kn.EVENT_CHANNEL_UPDATED})),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){ke.onChannelChanged(Wh)}),[2]})})}),[3,69];case 65:return[4,this.getChannel(xe.channelUrl,!0)];case 66:return Lo=Vn.sent(),ed=e.as(L7),Pu=ed.created,Fu=ed.updated,Hu=ed.deleted,Pu&&Lo._upsertCachedMetaData(Pu,xe.ts),Fu&&Lo._upsertCachedMetaData(Fu,xe.ts),Hu&&Lo._removeFromCachedMetaData(Hu,xe.ts),en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){Pu&&ke.onMetaDataCreated(Lo,Pu),Fu&&ke.onMetaDataUpdated(Lo,Fu),Hu&&ke.onMetaDataDeleted(Lo,Hu)}),[2]})})}),[3,69];case 67:return[4,this.getChannel(xe.channelUrl,!0)];case 68:return Tl=Vn.sent(),Il=e.as(P7),qu=Il.created,Kh=Il.updated,nd=Il.deleted,en(function(){return T(Et,void 0,void 0,function(){return I(this,function(Me){return this._groupChannelHandlers.forEach(function(ke){qu&&ke.onMetaCounterCreated(Tl,qu),Kh&&ke.onMetaCounterUpdated(Tl,Kh),nd&&ke.onMetaCounterDeleted(Tl,nd)}),[2]})})}),[3,69];case 69:return[3,71];case 70:switch((Qh=e.as(X7).event).category){case t0.USER_BLOCK:td=cv.getDataAsUserBlockEvent(this._iid,Qh),rd=td.blocker,id=td.blockee,this._groupChannelCache.block(rd.userId,id.userId);break;case t0.USER_UNBLOCK:Yh=cv.getDataAsUserBlockEvent(this._iid,Qh),rd=Yh.blocker,id=Yh.blockee,this._groupChannelCache.unblock(rd.userId,id.userId)}return[3,71];case 71:return[3,73];case 72:if(Xh=Vn.sent(),Ks(Xh))throw Xh;return[3,73];case 73:return[2]}})})},n.prototype._markAsLeave=function(e){var t,r=this,i=(t=this._leftChannels.get(e.url))!==null&&t!==void 0?t:{channel:e,ref:0};i.ref++,this._leftChannels.set(e.url,i),setTimeout(function(){i.ref--,i.ref===0&&r._leftChannels.delete(e.url)},1e4)},n.prototype.addHandler=function(e,t){this._groupChannelHandlers.set(e,t)},n.prototype.removeHandler=function(e){this._groupChannelHandlers.delete(e)},n.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},n.prototype.subscribeGroupChannelEvent=function(e,t){this._groupChannelBroadcast.subscribe(e,t)},n.prototype.unsubscribeGroupChannelEvent=function(e){this._groupChannelBroadcast.unsubscribe(e)},n.prototype.subscribeMessageEvent=function(e,t){this._messageBroadcast.subscribe(e,t)},n.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},n.prototype._updateJoinedMemberCount=function(e){e.joinedMemberCount=e.members.filter(function(t){return t.state===Tr.JOINED}).length},n.prototype.getChannel=function(e,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:Fe(J("string",e)).throw(le.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,t)];case 5:return[2,i.sent()]}})})},n.prototype.getChannelWithoutCache=function(e,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",e)).throw(le.invalidParameters),r=new EF({channelUrl:e,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:switch(i=h.sent(),o=i.as(wF).channel,u=o.unreadMessageCount,d=o.unreadMentionCount,o.myCountPreference){case Na.UNREAD_MESSAGE_COUNT_ONLY:d=0;break;case Na.UNREAD_MENTION_COUNT_ONLY:u=0;break;case Na.OFF:u=0,d=0}return o._updateUnreadCount(u,d),[4,this._groupChannelCache.upsert([o])];case 2:return h.sent(),[2,o]}})})},n.prototype.getMyGroupChannels=function(e,t,r,i){return i===void 0&&(i=kn.REQUEST_CHANNEL),T(this,void 0,void 0,function(){var o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return o=new jie(ee(ee({},t),{userId:this._sdkState.userId,token:e,limit:r})),[4,this._requestQueue.send(o)];case 1:return u=v.sent(),d=u.as(Vie),h=d.channels,f=d.token,this._dispatcher.dispatch(new at({channels:h,source:i})),[2,{channels:h,token:f}]}})})},n.prototype.getMessageFromCache=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._messageCache.get(e)];case 1:return[2,t.sent()]}})})},n.prototype.getMessagesFromCache=function(e,t,r,i,o){return o===void 0&&(o=W7),T(this,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,limit:o,filter:i,backward:r==="next"})];case 1:return[2,u.sent()]}})})},n.prototype.getAllFailedMessagesFromCache=function(e,t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:e,filter:t,sendingStatus:Ht.FAILED})];case 1:return[2,r.sent()]}})})},n.prototype.removeFailedMessageFromCache=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([e])];case 1:return t.sent(),[2]}})})},n.prototype.getCachedMessageCountBetween=function(e,t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(e,t,new i0({top:r,bottom:i}))];case 1:return[2,o.sent()]}})})},n.prototype.getMyGroupChannelChangeLogs=function(e,t,r){return r===void 0&&(r=kn.REQUEST_CHANNEL_CHANGELOGS),T(this,void 0,void 0,function(){var i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return t=ee(ee({},pv),t),Fe(J("string",e)&&A2(t)).throw(le.invalidParameters),i=new $ie(wn({userId:this._sdkState.userId,ts:typeof e=="number"?e:null,token:typeof e=="string"?e:null,filter:t})),[4,this._requestQueue.send(i)];case 1:return o=f.sent(),u=o.as(zie),d=u.updatedChannels,h=u.deletedChannelUrls,d.length>0&&this._dispatcher.dispatch(new at({channels:d,source:r})),h.length>0&&this._dispatcher.dispatch(new cf({channelUrls:h,source:r})),[2,u]}})})},n.prototype.getGroupChannelCount=function(e){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return e=ee(ee({},bF),e),Fe(yF(e)).throw(le.invalidParameters),t=new Wie({userId:this._sdkState.userId,filter:e}),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Kie).groupChannelCount]}})})},n.prototype.getUnreadItemCount=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ee(ee({},Fie),e),Fe(function(d){return In(Fr,d.keys)}(e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Qie({userId:r.userId,filter:e}),[4,i.send(o)];case 1:return[2,u.sent().as(Yie)]}})})},n.prototype.getTotalUnreadChannelCount=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return e=ie.of(this._iid),t=e.sdkState,r=e.requestQueue,i=new Xie({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(Jie).unreadCount]}})})},n.prototype.getTotalUnreadMessageCount=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return e=ee(ee({},Hie),e),Fe(function(h){return In("string",h.channelCustomTypesFilter)&&Nn(Pa,h.superChannelFilter)}(e)).throw(le.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Zie({userId:r.userId,filter:e}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(eae).unreadCount]}})})},n.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ee(ee({},qie),e),Fe(function(u){return J("string",u.channelUrl,!0)&&In(lu,u.scheduledStatus,!0)&&Nn(di,u.messageTypeFilter)}(e)).throw(le.invalidParameters),t=ie.of(this._iid).requestQueue,r=new nae(e),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(tae).count]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){var e=ie.of(this._iid).subscribedUnreadMessageCount;return e.all>=0?e.all:0},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var e=0,t=ie.of(this._iid).subscribedUnreadMessageCount;for(var r in t.customTypes)e+=t.customTypes[r];return e},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){var t;return(t=ie.of(this._iid).subscribedUnreadMessageCount.customTypes[e])!==null&&t!==void 0?t:0},n.prototype.createChannel=function(e){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return e=ee(ee({},Tg),e),Fe(O2(e)).throw(le.invalidParameters),e.isPublic||(e.accessCode=null),t=new iae(ee({userId:this._sdkState.userId},e)),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(aae).channel,[4,this._groupChannelCache.upsert([i])];case 2:return o.sent(),[2,i]}})})},n.prototype.markAsReadAll=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return e=Date.now(),Fe(e-this._markAsReadAllLastSentAt>=1e3).throw(le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,t=new wD({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:f.sent(),r=this._groupChannelCache.channels;try{for(i=$e(r),o=i.next();!o.done;o=i.next())(u=o.value)._updateUnreadMemberState(this._sdkState.userId,e),u._updateUnreadCount(0,0)}catch(v){d={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(d)throw d.error}}return r.length>0?[4,this._groupChannelCache.upsert(r)]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.markAsReadWithChannelUrls=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v;return I(this,function(_){switch(_.label){case 0:return t=Date.now(),Fe(In("string",e)&&t-this._markAsReadAllLastSentAt>=1e3).throw(le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,r=new wD({userId:this._sdkState.userId,channelUrls:e}),[4,this._requestQueue.send(r)];case 1:_.sent(),i=this._groupChannelCache.channels,o=[];try{for(u=$e(i),d=u.next();!d.done;d=u.next())h=d.value,e.includes(h.url)&&(h._updateUnreadMemberState(this._sdkState.userId,t),h._updateUnreadCount(0,0),o.push(h))}catch(y){f={error:y}}finally{try{d&&!d.done&&(v=u.return)&&v.call(u)}finally{if(f)throw f.error}}return o.length>0?[4,this._groupChannelCache.upsert(o)]:[3,3];case 2:_.sent(),_.label=3;case 3:return[2]}})})},n.prototype.markAsDelivered=function(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this.getChannel(e)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}})})},n}(),Jl=new Map,lc=new Map,kD=new Map,Tae=function(){function n(e){var t=e.key,r=e.concurrentCallLimit,i=r===void 0?2:r,o=e.backOffDelay,u=o===void 0?0:o,d=this;this._holdersKey=n.createSemaphoreHoldersKey(t),this._resolversKey=n.createSemaphoreResolversKey(t),this._chainProcessStateKey=n.createChainProcessStateKey(t),this._numLocks=i,this._backOffDelay=u,this._localAcquiredKeys=[],this._localResolversData=[],bo()?(Jl[this._holdersKey]||(Jl[this._holdersKey]=[]),lc[this._resolversKey]||(lc[this._resolversKey]=[])):(window.addEventListener("storage",function(h){return T(d,void 0,void 0,function(){var f,v;return I(this,function(_){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(h.key){case this._holdersKey:if(f=JSON.parse(h.oldValue),v=JSON.parse(h.newValue),!f||!v||v.length>=f.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(h.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var h=d._getLocalResolversData(),f=d._localResolversData.map(function(_){return _.key}),v=h.filter(function(_){return f.indexOf(_.key)<0});window.localStorage.setItem(d._resolversKey,JSON.stringify(v)),d._localAcquiredKeys.forEach(function(_){return d.release(_)})}))}return n.createSemaphoreHoldersKey=function(e){return"collection@semaphore_holders_for:"+e},n.createSemaphoreResolversKey=function(e){return"collection@semaphore_resolvers_for:"+e},n.createChainProcessStateKey=function(e){return"collection@semaphore_chain_process_state_for:"+e},Object.defineProperty(n.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"numLocksAvailable",{get:function(){if(bo())return this.numLocks-Jl[this._holdersKey].length;var e=this._getLocalHoldersData();return this.numLocks-e.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"waitCount",{get:function(){return bo()?lc[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),n.prototype._hasHighestPriorityResolver=function(){var e=this._getLocalResolversData();return e.length>0&&this._localResolversData.map(function(t){return t.key}).indexOf(e[0].key)>=0},n.prototype._isProcessChainAcquireRunning=function(){if(bo())return kD[this._chainProcessStateKey];var e=window.localStorage[this._chainProcessStateKey];return e!==void 0&&JSON.parse(e)},n.prototype._setProcessChainAcquireRunning=function(e){bo()?kD[this._chainProcessStateKey]=e:e?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(e)):window.localStorage.removeItem(this._chainProcessStateKey)},n.prototype._processChainResolve=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,fs(this._backOffDelay)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),bo()?this._processChainResolve():(e=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(e)),t.label=3;case 3:return[2]}})})},n.prototype.acquire=function(e){return e===void 0&&(e=0),T(this,void 0,void 0,function(){var t,r=this;return I(this,function(i){return bo()?[2,new Promise(function(o){for(var u={key:ys(),resolver:function(v){return o(v)},priority:e},d=lc[r._resolversKey],h=-1,f=0;f<d.length;f++)if(e>d[f].priority){h=f;break}h>=0?lc[r._resolversKey].splice(h,0,u):lc[r._resolversKey].push(u),r._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(o){for(var u=ys(),d={key:u,priority:e},h={key:u,resolver:function(_){return o(_)},priority:e},f=-1,v=0;v<t.length;v++)if(e>t[v].priority){f=v;break}f>=0?(t.splice(f,0,d),r._localResolversData.splice(f,0,h)):(t.push(d),r._localResolversData.push(h)),window.localStorage.setItem(r._resolversKey,JSON.stringify(t)),r._processChainResolve()})])})})},n.prototype.release=function(e){if(bo()){if((t=Jl[this._holdersKey].indexOf(e))>=0)return Jl[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else if(window.localStorage[this._holdersKey]){var t,r=JSON.parse(window.localStorage[this._holdersKey]),i=vn([],_n(r),!1);if((t=r.indexOf(e))>=0){r.splice(t,1),window.localStorage.setItem(this._holdersKey,JSON.stringify(r)),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(e),1);var o=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(i),newValue:JSON.stringify(r)});return dispatchEvent(o),!0}}return!1},n.prototype._tryResolve=function(){if(bo()){if(Jl[this._holdersKey].length<this.numLocks){var e=ys();return Jl[this._holdersKey]=vn(vn([],_n(Jl[this._holdersKey]),!1),[e],!1),(r=lc[this._resolversKey].shift()).resolver(e),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){e=ys();var r=this._localResolversData.shift(),i=this._getLocalResolversData(),o=i.map(function(d){return d.key}).indexOf(r.key);i.splice(o,1),window.localStorage.setItem(this._resolversKey,JSON.stringify(i)),window.localStorage.setItem(this._holdersKey,JSON.stringify(vn(vn([],_n(t),!1),[e],!1))),this._localAcquiredKeys.push(e);var u=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(vn([],_n(t),!1)),newValue:JSON.stringify(vn(vn([],_n(t),!1),[e],!1))});return dispatchEvent(u),(0,r.resolver)(e),!0}}return!1},n.prototype._getLocalHoldersData=function(){var e=window.localStorage[this._holdersKey];return e!==void 0?JSON.parse(e):[]},n.prototype._getLocalResolversData=function(){var e=window.localStorage[this._resolversKey];return e!==void 0?JSON.parse(e):[]},n}();(function(n){n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.END=2]="END"})(el||(el={}));var R2,Hc=function(n){function e(t,r,i,o){i===void 0&&(i=2),o===void 0&&(o=10);var u=n.call(this)||this;return u._worker=null,u._state=el.IDLE,u._semaphore=null,u._retryCount=0,u._retryLimit=3,u.priority=0,u._worker=r,u._semaphore=new Tae({key:t,concurrentCallLimit:i,backOffDelay:o}),u}return B(e,n),Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._state===el.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._state===el.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDone",{get:function(){return this._state===el.END},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),e.prototype._run=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(t)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return i=o.sent(),this.dispatch("error",i),this._retryCount<this._retryLimit?(this._retryCount++,this._run(t)):this.stop(),[3,4];case 4:return[2]}})})},e.prototype.start=function(t){this.isIdle&&(this._state=el.RUNNING,this._run(t))},e.prototype.stop=function(){this._state=el.IDLE,this.dispatch("stop")},e.prototype.end=function(){this._state=el.END,this.dispatch("end")},e}(p0),fv=function(n){this.source=n},iE=function(n){this.source=n},Jp={},aE=function(){function n(e){var t=e._iid,r=e.channel,i=this;this._prevSync=null,this._nextSync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,d=ie.of(this._iid),h=d.sdkState,f=d.logger;this._metadataKey=(o=h.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/sync.meta"));var v=function(_,y){return"sendbird:".concat(_,"@groupchannel/").concat(y,"/message/sync")}(h.userId,r.url);this._prevSync=new Hc(v,function(_){return T(i,void 0,void 0,function(){var y,E,x,C,M,N;return I(this,function(S){switch(S.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:if(S.sent(),f.debug("message background prev sync from",(C=this._metadata)===null||C===void 0?void 0:C.range.top),this._metadata.previousComplete)return[3,9];S.label=2;case 2:return S.trys.push([2,5,,8]),[4,ci.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(N=(M=this._metadata.range)===null||M===void 0?void 0:M.top)!==null&&N!==void 0?N:_,{prevResultSize:100,nextResultSize:0,replyType:Xi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},En.SYNC_MESSAGE_BACKGROUND)];case 3:return E=S.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.top,this._metadata.previousComplete=!y.hasNext,f.debug("message background prev sync progress",y),[4,this.saveMetadata()];case 4:return S.sent(),[3,8];case 5:return(x=S.sent())instanceof le&&x.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:S.sent(),S.label=7;case 7:return y.hasNext=!1,y.nextToken=0,[3,8];case 8:return[3,10];case 9:y.hasNext=!1,S.label=10;case 10:return[2,y]}})})}),this._nextSync=new Hc(v,function(_){return T(i,void 0,void 0,function(){var y,E,x,C,M;return I(this,function(N){switch(N.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return N.sent(),f.debug("message background next sync from",(x=this._metadata)===null||x===void 0?void 0:x.range.bottom),[4,ci.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(M=(C=this._metadata.range)===null||C===void 0?void 0:C.bottom)!==null&&M!==void 0?M:_,{prevResultSize:0,nextResultSize:100,replyType:Xi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},En.SYNC_MESSAGE_BACKGROUND)];case 2:return E=N.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.bottom,f.debug("message background next sync progress",y),[4,this.saveMetadata()];case 3:return N.sent(),[2,y]}})})})}return n.of=function(e,t){if(Jp[e]||(Jp[e]={}),!Jp[e][t.url]){var r=Jp[e][t.url]=new n({_iid:e,channel:t});ie.of(e).dispatcher.on(function(i){i instanceof no&&(i.stateType===It.CONNECTED?r.resume():r.pause())})}return Jp[e][t.url]},Object.defineProperty(n.prototype,"range",{get:function(){var e;return(e=this._metadata)===null||e===void 0?void 0:e.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousComplete",{get:function(){var e;return!!(!((e=this._metadata)===null||e===void 0)&&e.previousComplete)},enumerable:!1,configurable:!0}),n.prototype.isWrappingMessages=function(e){var t;return(t=this.range)===null||t===void 0?void 0:t.includes.apply(t,vn([],_n(e.map(function(r){return r.createdAt})),!1))},n.prototype.extendRange=function(e){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,vn([],_n(e.map(function(r){return r.createdAt})),!1))},n.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ie.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata={range:new i0(e?e.range:{top:Number.MAX_SAFE_INTEGER,bottom:Number.MAX_SAFE_INTEGER}),previousComplete:!!e&&e.previousComplete},t.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},n.prototype.resume=function(){var e,t,r,i;ie.of(this._iid).logger.debug("message background sync resume()"),this._metadata&&this._metadata.previousComplete||this._prevSync.start((t=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&t!==void 0?t:Date.now()),this._nextSync.start((i=(r=this._metadata)===null||r===void 0?void 0:r.range.bottom)!==null&&i!==void 0?i:Date.now())},n.prototype.pause=function(){ie.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},n}(),Zp={},Iae=function(){function n(e){var t=e._iid,r=e.channel,i=this;this._sync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,d=ie.of(this._iid).sdkState;this._metadataKey=(o=d.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/changelogs.meta"));var h=function(f,v){return"sendbird:".concat(f,"@groupchannel/").concat(v,"/message/changelogs")}(d.userId,this._channel.url);this._sync=new Hc(h,function(){return T(i,void 0,void 0,function(){var f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return f={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:x.sent(),x.label=2;case 2:return x.trys.push([2,5,,8]),[4,ci.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:Xi.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includePollDetails:!0},En.SYNC_MESSAGE_CHANGELOGS)];case 3:return v=x.sent(),_=v.hasMore,y=v.token,f.hasNext=_,f.nextToken=y,this._metadata.token=y,[4,this.saveMetadata()];case 4:return x.sent(),[3,8];case 5:return(E=x.sent())instanceof le&&E.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:x.sent(),x.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[2,f]}})})})}return n.of=function(e,t){if(Zp[e]||(Zp[e]={}),!Zp[e][t.url]){var r=Zp[e][t.url]=new n({_iid:e,channel:t});ie.of(e).dispatcher.on(function(i){i instanceof no&&(i.stateType===It.CONNECTED?r.resume():r.pause())})}return Zp[e][t.url]},n.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(e=ie.of(this._iid),t=e.cacheContext,r=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},n.prototype.resume=function(){this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n}(),Oae=function(n){function e(t){var r,i,o,u,d,h,f=this;return(f=n.call(this)||this).method=Ae.GET,f.path="".concat(bt(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),f.params=wn({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:(r=t.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(i=t.customTypes)!==null&&i!==void 0?i:["*"],message_type:(o=t.messageType)!==null&&o!==void 0?o:null,include_reactions:(u=t.includeReactions)===null||u===void 0||u,with_sorted_meta_array:(d=t.includeMetaArray)===null||d===void 0||d,show_subchannel_messages_only:(h=t.showSubchannelMessagesOnly)!==null&&h!==void 0&&h}),f}return B(e,n),e}(De),Aae=function(n){function e(t,r){var i,o,u,d,h=this;return(h=n.call(this,t,r)||this).isHugeGap=r.is_huge_gap,h.prevMessages=((i=r.prev_messages)!==null&&i!==void 0?i:[]).map(function(f){return Ts(t,f)}),h.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,h.nextMessages=((u=r.next_messages)!==null&&u!==void 0?u:[]).map(function(f){return Ts(t,f)}),h.nextHasmore=(d=r.next_hasmore)!==null&&d!==void 0&&d,h}return B(e,n),e}(Pe),CF=function(n,e){return n.findIndex(function(t){return t.isIdentical(e)})},CD=function(n,e,t){if(n.length>0){var r=CF(n,e);if(r<0){for(var i=0,o=n.length-1,u=Math.floor((i+o)/2);i<o;){var d=SD(n[u],e,t);if(d>0)o=u,u=Math.floor((i+o)/2);else{if(!(d<0))return{place:u,contains:n[u].isIdentical(e)};i=u+1,u=Math.floor((i+o)/2)}}return{place:SD(n[u],e,t)>0?u:u+1,contains:!1}}return{place:r,contains:!0}}return{place:n.length,contains:!1}},SD=function(n,e,t){switch(t){case Yr.LATEST_LAST_MESSAGE:return n.lastMessage&&e.lastMessage?e.lastMessage.createdAt-n.lastMessage.createdAt:n.lastMessage?-1:e.lastMessage?1:e.createdAt-n.createdAt;case Yr.CHRONOLOGICAL:return e.createdAt-n.createdAt;case Yr.CHANNEL_NAME_ALPHABETICAL:return n.name.localeCompare(e.name)}},uc=function(n,e){if(e instanceof Vr)return n.findIndex(function(t){return t instanceof Vr&&e.isIdentical(t)});n.findIndex(function(t){return t.isIdentical(e)})},ND=function(n,e){if(n.length>0){for(var t=0,r=n.length-1,i=Math.floor((t+r)/2);t<r;){var o=n[i].createdAt-e.createdAt;if(o>0)r=i,i=Math.floor((t+r)/2);else{if(!(o<0))return i;t=i+1,i=Math.floor((t+r)/2)}}return n[i].createdAt>e.createdAt?i:i+1}return n.length};(function(n){n.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(R2||(R2={}));var Nf,Tf,If,Rae=function(){function n(){}return n.prototype._invokeResponse=function(e,t,r){var i=this;en(function(){return T(i,void 0,void 0,function(){return I(this,function(o){switch(e){case"local":this._onCacheResult(t,r);break;case"remote":this._onApiResult(t,r)}return[2]})})})},n.prototype.onCacheResult=function(e){return this._onCacheResult=e,this},n.prototype.onApiResult=function(e){return this._onApiResult=e,this},n}(),Mae=function(){function n(e,t){var r=t.channel,i=t.filter,o=t.startingPoint,u=t.limit,d=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._readReceiptMap=new Map,this._deliveryReceiptMap=new Map,this._iid=e,this._key="mc-".concat(ys()),this.filter=i!=null?i:new n0,this._channel=r,this._syncRange=new i0({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=o||Date.now()+6e5,this._limit=u||W7;var h=Wr.of(this._iid);h.subscribeGroupChannelEvent(this._key,{onUpdate:function(E,x){var C,M,N,S,D=CF(E,d._channel);if(D>=0)switch(en(function(){return T(d,void 0,void 0,function(){var ue;return I(this,function(Re){return ue=new fv(x),this._channel=E[D],this._handler.onChannelUpdated(ue,this.channel),[2]})})}),x){case kn.EVENT_CHANNEL_UPDATED:var P=!1;for(var Q in d._messages)if((Ee=d._messages[Q]).createdAt>=d._channel.messageOffsetTimestamp){P=!0;var z=parseInt(Q);if(z>0){var W=d._messages.splice(0,z);d._removeMessagesFromView(W.map(function(ue){return ue.messageId}),En.EVENT_MESSAGE_OFFSET_UPDATED)}break}!P&&d._messages.length>0&&d._removeMessagesFromView(d._messages.map(function(ue){return ue.messageId}),En.EVENT_MESSAGE_OFFSET_UPDATED);break;case kn.EVENT_CHANNEL_READ:var V=[];try{for(var he=$e(d._messages),ce=he.next();!ce.done;ce=he.next()){var Ee=ce.value;(oe=d._readReceiptMap.get(Ee.messageId))>0&&oe!==d._channel.getUnreadMemberCount(Ee)&&V.push(Ee)}}catch(ue){C={error:ue}}finally{try{ce&&!ce.done&&(M=he.return)&&M.call(he)}finally{if(C)throw C.error}}V.length>0&&d._updateMessagesToView(V,En.EVENT_MESSAGE_READ);break;case kn.EVENT_CHANNEL_DELIVERED:V=[];try{for(var Ne=$e(d._messages),se=Ne.next();!se.done;se=Ne.next()){var oe;Ee=se.value,(oe=d._deliveryReceiptMap.get(Ee.messageId))>0&&oe!==d._channel.getUndeliveredMemberCount(Ee)&&V.push(Ee)}}catch(ue){N={error:ue}}finally{try{se&&!se.done&&(S=Ne.return)&&S.call(Ne)}finally{if(N)throw N.error}}V.length>0&&d._updateMessagesToView(V,En.EVENT_MESSAGE_READ)}},onRemove:function(E,x){E.indexOf(d.channel.url)>=0&&en(function(){return T(d,void 0,void 0,function(){var C;return I(this,function(M){return C=new fv(x),this._handler.onChannelDeleted(C,this.channel.url),[2]})})})}}),h.subscribeMessageEvent(this._key,{onUpdate:function(E,x){var C,M,N=[],S=[];try{for(var D=$e(E),P=D.next();!P.done;P=D.next()){var Q=P.value;Q.channelUrl===d._channel.url&&(d.filter.match(Q)?N.push(Q):S.push(Q.messageId))}}catch(z){C={error:z}}finally{try{P&&!P.done&&(M=D.return)&&M.call(D)}finally{if(C)throw C.error}}if(rg(x)){if(N.length>0)switch(x){case En.EVENT_MESSAGE_SENT_FAILED:case En.EVENT_MESSAGE_SENT_SUCCESS:case En.EVENT_MESSAGE_UPDATED:case En.EVENT_MESSAGE_THREADINFO_UPDATED:case En.EVENT_MESSAGE_REACTION_UPDATED:case En.SYNC_MESSAGE_CHANGELOGS:d._updateMessagesToView(N,x);break;case En.EVENT_MESSAGE_SENT_PENDING:case En.EVENT_MESSAGE_RECEIVED:case En.SYNC_MESSAGE_FILL:d._addMessagesToView(N,x)}S.length>0&&d._removeMessagesFromView(S,x)}},onRemove:function(E,x){d._removeMessagesFromView(E,x)},onRemoveUnsent:function(E,x){d._removeUnsentMessageFromView(E,x)}});var f=ie.of(this._iid).cacheContext;!this._channel.isSuper&&f.localCacheEnabled&&aE.of(this._iid,this._channel).resume(),Iae.of(this._iid,this._channel).resume(),this._prevFill=new Hc(this._key,function(E){return T(d,void 0,void 0,function(){var x,C;return I(this,function(M){switch(M.label){case 0:return[4,this._getRemoteMessages(E,{prevLimit:this._limit,source:En.SYNC_MESSAGE_FILL})];case 1:return(x=M.sent()).length>0?(C=Math.min.apply(Math,vn([],_n(x.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(C),[2,{hasNext:x.length>=this._limit&&this.viewTop<C,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Hc(this._key,function(E){return T(d,void 0,void 0,function(){var x,C;return I(this,function(M){switch(M.label){case 0:return[4,this._getRemoteMessages(E,{nextLimit:this._limit,source:En.SYNC_MESSAGE_FILL})];case 1:return(x=M.sent()).length>0?(C=Math.max.apply(Math,vn([],_n(x.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(C),[2,{hasNext:!(x.length>=this._limit&&this._hasNext)||this.viewBottom>C,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})});var v=ie.of(this._iid),_=v.dispatcher,y=v.logger;_.on(function(E){E instanceof no&&(E.stateType===It.CONNECTED?(y.debug("check huge gap"),d._checkHugeGap()):(d._prevFill.stop(),d._nextFill.stop()))})}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"succeededMessages",{get:function(){return vn([],_n(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(e){return e.sendingStatus===Ht.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(e){return e.sendingStatus===Ht.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewTop",{get:function(){return Math.min.apply(Math,vn(vn([],_n(this._messages.map(function(e){return e.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,vn(vn([],_n(this._messages.map(function(e){return e.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),n.prototype.setMessageCollectionHandler=function(e){this._handler=e},n.prototype._filterUnderOffsetMessage=function(e){var t=this;return e.filter(function(r){return r.createdAt>=t._channel.messageOffsetTimestamp})},n.prototype._addMessagesToView=function(e,t){var r,i,o=this,u=this._filterUnderOffsetMessage(e),d=[],h=[];try{for(var f=$e(u),v=f.next();!v.done;v=f.next()){var _=v.value;if(_.messageId>0){if((C=uc(this._messages,_))<0){var y=uc(this._unsentMessages,_);y<0?d.push(_):(this._unsentMessages.splice(y,1),h.push(_));var E=ND(this._messages,_);this._messages.splice(E,0,_)}else h.push(_),this._messages[C]=_;if(this._readReceiptMap.set(_.messageId,this._channel.getUnreadMemberCount(_)),this._deliveryReceiptMap.set(_.messageId,this._channel.getUndeliveredMemberCount(_)),_.updatedAt>0){var x=this._updateChildMessagesInView(_);h.push.apply(h,vn([],_n(x),!1))}}else{var C;_ instanceof Vr&&((C=uc(this._unsentMessages,_))<0?uc(this._messages,_)<0&&(this._unsentMessages.push(_),d.push(_)):(h.push(_),this._unsentMessages[C]=_))}}}catch(M){r={error:M}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}rg(t)&&en(function(){return T(o,void 0,void 0,function(){var M;return I(this,function(N){return M=new iE(t),d.length>0&&this._handler.onMessagesAdded(M,this.channel,d),h.length>0&&this._handler.onMessagesUpdated(M,this.channel,h),[2]})})})},n.prototype._updateChildMessagesInView=function(e){var t=[];return this._messages.forEach(function(r){r.applyParentMessage(e)&&t.push(r)}),t},n.prototype._updateMessagesToView=function(e,t){var r,i,o=this,u=[];try{for(var d=$e(e),h=d.next();!h.done;h=d.next()){var f,v=h.value;if(v.messageId>0)if((f=uc(this._messages,v))>=0)u.push(v),this._messages[f]=v;else{var _=uc(this._unsentMessages,v);if(_>=0){u.push(v),this._unsentMessages.splice(_,1);var y=ND(this._messages,v);this._messages.splice(y,0,v)}}else v instanceof Vr&&(f=uc(this._unsentMessages,v))>=0&&(u.push(v),this._unsentMessages[f]=v)}}catch(E){r={error:E}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return rg(t)&&en(function(){return T(o,void 0,void 0,function(){var E;return I(this,function(x){return E=new iE(t),u.length>0&&this._handler.onMessagesUpdated(E,this.channel,u),[2]})})}),u},n.prototype._removeMessagesFromView=function(e,t){var r,i,o=this,u=[],d=function(_){var y=h._messages.findIndex(function(E){return E.messageId===_});y>=0&&(u.push(h._messages[y].messageId),h._messages.splice(y,1))},h=this;try{for(var f=$e(e),v=f.next();!v.done;v=f.next())d(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return rg(t)&&u.length>0&&en(function(){return T(o,void 0,void 0,function(){var _;return I(this,function(y){return _=new iE(t),u.length>0&&this._handler.onMessagesDeleted(_,this.channel,u),[2]})})}),u},n.prototype._removeUnsentMessageFromView=function(e,t){var r=this._unsentMessages.findIndex(function(i){return i.reqId===e});r>=0&&this._unsentMessages.splice(r,1)},n.prototype._getLocalMessages=function(e,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o;return T(this,void 0,void 0,function(){var d,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return d=Wr.of(this._iid),i>0?[4,d.getMessagesFromCache(this._channel.url,e,"prev",this.filter,this._limit)]:[3,2];case 1:return f=x.sent(),[3,3];case 2:f=[],x.label=3;case 3:return h=f,u>0?[4,d.getMessagesFromCache(this._channel.url,e,"next",this.filter,this._limit)]:[3,5];case 4:return _=x.sent(),[3,6];case 5:_=[],x.label=6;case 6:if(v=_,h.length>0&&v.length){for(E in y=h.map(function(C){return C.messageId}),v)if(y.includes(v[E].messageId)){v.splice(parseInt(E),1);break}}return[2,vn(vn([],_n(h),!1),_n(v),!1).sort(function(C,M){return M.createdAt-C.createdAt})]}})})},n.prototype._getRemoteMessages=function(e,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o,d=t.source,h=d===void 0?En.REQUEST_MESSAGE:d;return T(this,void 0,void 0,function(){var f,v;return I(this,function(_){switch(_.label){case 0:return f=ci.of(this._iid),i>0||u>0?[4,f.getMessagesByTimestamp(this._channel.url,this._channel.channelType,e,ee(ee({},this.filter),{prevResultSize:i,nextResultSize:u,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0}),h)]:[3,2];case 1:return v=_.sent(),[3,3];case 2:v=[],_.label=3;case 3:return[2,v]}})})},n.prototype._checkHugeGap=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o,u,d,h,f,v,_=this;return I(this,function(y){switch(y.label){case 0:return this._messages.length>0?(e=this.viewTop,t=this._syncRange.top,r=this._syncRange.bottom,i=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(o=Wr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,e,t)]):[3,4];case 1:return u=y.sent(),[4,o.getCachedMessageCountBetween(this._channel.url,this.filter,r,i)];case 2:return d=y.sent(),[4,Vv(function(){return T(_,void 0,void 0,function(){var E,x,C,M,N,S,D,P,Q,z,W,V,he,ce,Ee,Ne,se,oe=this;return I(this,function(ue){switch(ue.label){case 0:return E=ie.of(this._iid),x=E.dispatcher,C=E.requestQueue,M=new Oae(ee({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:e,prevEnd:t,prevCount:u,nextStart:r,nextEnd:i,nextCount:d},this.filter)),[4,C.send(M)];case 1:return N=ue.sent(),S=N.as(Aae),D=S.isHugeGap,P=S.prevMessages,Q=P===void 0?[]:P,z=S.prevHasMore,W=S.nextMessages,V=W===void 0?[]:W,he=S.nextHasmore,D?en(function(){return T(oe,void 0,void 0,function(){return I(this,function(Re){return this._handler.onHugeGapDetected(),[2]})})}):(this._hasPrevious=z,this._hasNext=he,ce=this.viewTop,Ee=this.viewBottom,Ne=Math.min.apply(Math,vn([Number.MAX_SAFE_INTEGER],_n(Q.map(function(Re){return Re.createdAt})),!1)),se=Math.max.apply(Math,vn([0],_n(V.map(function(Re){return Re.createdAt})),!1)),x.dispatch(new ar({messages:Q,source:En.SYNC_MESSAGE_FILL})),x.dispatch(new ar({messages:V,source:En.SYNC_MESSAGE_FILL})),this._syncRange.extends(Ne,se),ce<Ne&&this._prevFill.start(Ne),Ee>se&&this._nextFill.start(se)),[2]}})})},1)];case 3:return y.sent(),[3,6];case 4:return h=Math.floor(this._limit/2),[4,this._getRemoteMessages(Date.now(),{prevLimit:h,nextLimit:h,source:En.SYNC_MESSAGE_FILL})];case 5:(f=y.sent()).length>0&&((v=this._syncRange).extends.apply(v,vn([],_n(f.map(function(E){return E.createdAt})),!1)),f.length<h&&(this._hasPrevious=!1,this._hasNext=!1)),y.label=6;case 6:return[2]}})})},n.prototype._loadAllFailedMessages=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return[4,Wr.of(this._iid).getAllFailedMessagesFromCache(this._channel.url,this.filter)];case 1:return e=t.sent(),this._unsentMessages=e,[2,e]}})})},n.prototype.initialize=function(e){var t=this,r=new Rae;this._messages=[],this._unsentMessages=[],this._syncRange=new i0({}),this._hasNext=!0,this._hasPrevious=!0;var i=Math.floor(this._limit/2);return e===R2.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u=t._filterUnderOffsetMessage(o);t._addMessagesToView(u,En.REQUEST_MESSAGE),r._invokeResponse("local",null,u)}).catch(function(o){if(Ks(o))throw o;r._invokeResponse("local",o,null)}).finally(function(){t._loadAllFailedMessages(),t._getRemoteMessages(t._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u;t._messages=[];var d=t._filterUnderOffsetMessage(o);d.length<i&&(t._hasPrevious=!1,t._hasNext=!1),d.length>0&&((u=t._syncRange).extends.apply(u,vn([],_n(d.map(function(h){return h.createdAt})),!1)),t._addMessagesToView(d,En.REQUEST_MESSAGE)),r._invokeResponse("remote",null,d)}).catch(function(o){if(Ks(o))throw o;r._invokeResponse("remote",o,null)})}),r},n.prototype.loadPrevious=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o=this;return I(this,function(u){switch(u.label){case 0:return this._hasPrevious?(e=this.viewTop,t=[],[4,ws(function(){return T(o,void 0,void 0,function(){var d;return I(this,function(h){switch(h.label){case 0:return d=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{prevLimit:this._limit})];case 1:return t=d.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return u.sent(),r=aE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,ws(function(){return T(o,void 0,void 0,function(){var d,h;return I(this,function(f){switch(f.label){case 0:return d=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(e,{prevLimit:this._limit})];case 1:return t=d.apply(this,[f.sent()]),this._hasPrevious=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,vn([],_n(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.top)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,En.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,vn([],_n(t.map(function(d){return d.createdAt})),!1)),this._addMessagesToView(t,En.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t];case 5:return[2,[]]}})})},n.prototype.loadNext=function(){return T(this,void 0,void 0,function(){var e,t,r,i,o=this;return I(this,function(u){switch(u.label){case 0:return e=this.viewBottom,t=[],[4,ws(function(){return T(o,void 0,void 0,function(){var d;return I(this,function(h){switch(h.label){case 0:return d=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{nextLimit:this._limit})];case 1:return t=d.apply(this,[h.sent()]),[2]}})})})];case 1:return u.sent(),r=aE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,ws(function(){return T(o,void 0,void 0,function(){var d,h;return I(this,function(f){switch(f.label){case 0:return d=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(e,{nextLimit:this._limit})];case 1:return t=d.apply(this,[f.sent()]),this._hasNext=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,vn([],_n(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.bottom)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,En.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,vn([],_n(t.map(function(d){return d.createdAt})),!1)),this._addMessagesToView(t,En.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t]}})})},n.prototype.removeFailedMessage=function(e){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,Wr.of(this._iid).removeFailedMessageFromCache(e)];case 1:return r.sent(),(t=this._unsentMessages.findIndex(function(i){return i.reqId===e}))>-1&&this._unsentMessages.splice(t,1),[2]}})})},n.prototype.dispose=function(){var e=Wr.of(this._iid);e.unsubscribeGroupChannelEvent(this._key),e.unsubscribeMessageEvent(this._key)},n}(),Dae={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Uae={hidePreviousMessages:!1,allowAutoUnhide:!0},Lae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit,d=t.order,h=t.mutedMemberFilter,f=t.memberStateFilter,v=t.nicknameStartsWithFilter,_=t.operatorFilter;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/members"),r.params={token:o,limit:u,order:d,muted_member_filter:h,member_state_filter:f,nickname_startswith:v,operator_filter:_,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return B(e,n),e}(De),Pae=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.members=[];var o=r.next,u=r.members;return i.token=o,u&&u.length>0&&(i.members=u.map(function(d){return new Xs(t,d)})),i}return B(e,n),e}(Pe);(function(n){n.ALL="all",n.MUTED="muted",n.UNMUTED="unmuted"})(Nf||(Nf={})),function(n){n.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",n.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(Tf||(Tf={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(If||(If={}));var Fae=function(n){function e(t,r,i){var o,u,d,h,f=this;return(f=n.call(this,t,r,Ct.GROUP,i)||this).mutedMemberFilter=Nf.ALL,f.memberStateFilter=If.ALL,f.nicknameStartsWithFilter=null,f.operatorFilter=hv.ALL,f.order=Tf.MEMBER_NICKNAME_ALPHABETICAL,f.mutedMemberFilter=(o=i.mutedMemberFilter)!==null&&o!==void 0?o:Nf.ALL,f.memberStateFilter=(u=i.memberStateFilter)!==null&&u!==void 0?u:If.ALL,f.nicknameStartsWithFilter=(d=i.nicknameStartsWithFilter)!==null&&d!==void 0?d:null,f.order=(h=i.order)!==null&&h!==void 0?h:Tf.MEMBER_NICKNAME_ALPHABETICAL,f}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&Nn(Nf,this.mutedMemberFilter)&&Nn(If,this.memberStateFilter)&&(J("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&Nn(hv,this.operatorFilter)&&Nn(Tf,this.order)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Lae(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Pae),u=o.members,d=o.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(Ph),Hae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/accept"),r.params={user_id:o,access_code:u},r}return B(e,n),e}(De),qae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i.channel.myMemberState=Tr.JOINED,i}return B(e,n),e}(Pe),Bae=function(n){function e(t){var r=this,i=t.channelUrl,o=t.isDistinct,u=t.isPublic,d=t.isDiscoverable,h=t.coverUrl,f=t.coverImage,v=t.accessCode,_=t.name,y=t.data,E=t.customType,x=t.operatorUserIds,C=t.messageSurvivalSeconds;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i)),r.params=wn({is_distinct:o,is_public:u,is_discoverable:d,name:_,data:y,custom_type:E,cover_url:h,cover_file:f,access_code:v,operator_ids:x,message_survival_seconds:C}),r}return B(e,n),e}(De),Gae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.channel=new is(t,r),i}return B(e,n),e}(Pe),$ae=function(n){function e(t){var r=this,i=t.channelUrl;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(Fi,"/").concat(encodeURIComponent(i)),r}return B(e,n),e}(De);(function(n){function e(t,r){return n.call(this,t,r)||this}B(e,n)})(Pe);var zae=function(n){function e(t){var r=this,i=t.channelUrl;return(r=n.call(this)||this).method=Ae.DELETE,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/hide"),r}return B(e,n),e}(De);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}B(e,n)})(Pe);var jae=function(n){function e(t){var r=t.userId,i=t.channelUrl,o=t.countPreference,u=n.call(this)||this;return u.method=Ae.PUT,u.path="".concat(tt,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(i)),u.params={count_preference:o},u}return B(e,n),e}(De),Vae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.countPreference=Na[r.count_preference],i}return B(e,n),e}(Pe),Wae=function(n){function e(t){var r=this,i=t.channelUrl;return(r=n.call(this)||this).method=Ae.PUT,r.path="".concat(Fi,"/").concat(encodeURIComponent(i),"/reset_user_history"),r}return B(e,n),e}(De),Kae=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(e,n),e}(Pe),Qae=ee(ee({},E3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Yae=ee(ee({},D7),{scheduledAt:null}),Xae=function(n){function e(t){var r,i=this;i=n.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,d=t.channelUrl,h=t.scheduledMessageId;return i.method=Ae.PUT,i.path="".concat(bt(u),"/").concat(encodeURIComponent(d),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Eh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(f){return Wv.payloadify(f)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return ua.payloadify(f)}),apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(e,n),e}(De),Jae=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=new Qr(t,r),i}return B(e,n),e}(Pe),Zae=function(n){function e(t){var r,i=this;i=n.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,d=t.channelUrl,h=t.scheduledMessageId;return i.method=Ae.PUT,i.path="".concat(bt(u),"/").concat(encodeURIComponent(d),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Eh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return ua.payloadify(f)}),apple_critical_alert_options:Io.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(e,n),e}(De);(function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.message=new Zr(t,r),i}B(e,n)})(Pe);var Na,ol,Ta,ese=function(n){function e(t){var r=n.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Ae.DELETE,r.path="".concat(bt(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u)),r}return B(e,n),e}(De),nse=function(n){function e(t){var r=n.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Ae.POST,r.path="".concat(bt(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u),"/send_now"),r}return B(e,n),e}(De);(function(n){n.ALL="all",n.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",n.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",n.OFF="off"})(Na||(Na={})),function(n){n.MUTED="muted",n.UNMUTED="unmuted"}(ol||(ol={})),function(n){n.UNHIDDEN="unhidden",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Ta||(Ta={}));var Of,is=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P,Q,z=this;return(z=n.call(this,t,r)||this)._unreadMemberStateMap=new Map,z._undeliveredMemberStateMap=new Map,z._typingStatus=new Map,z._lastMemberCountUpdated=0,z._typingStarted=0,z._typingEnded=0,z.isDistinct=!1,z.isSuper=!1,z.isBroadcast=!1,z.isExclusive=!1,z.isPublic=!1,z.isDiscoverable=!0,z.isAccessCodeRequired=!1,z.isPushEnabled=!1,z.unreadMessageCount=0,z.unreadMentionCount=0,z.members=[],z.memberCount=0,z.joinedMemberCount=0,z.hiddenState=Ta.UNHIDDEN,z.lastMessage=null,z.messageOffsetTimestamp=0,z.messageSurvivalSeconds=-1,z.myMemberState=Tr.NONE,z.myRole=Es.NONE,z.myMutedState=ol.UNMUTED,z.myLastRead=0,z.myCountPreference=Na.ALL,z.myPushTriggerOption=xc.DEFAULT,z.inviter=null,z.invitedAt=0,z.joinedAt=0,z.channelType=Ct.GROUP,z.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,z.isSuper=(u=r.is_super)!==null&&u!==void 0&&u,z.isBroadcast=(d=r.is_broadcast)!==null&&d!==void 0&&d,z.isExclusive=(h=r.is_exclusive)!==null&&h!==void 0&&h,z.isPublic=(f=r.is_public)!==null&&f!==void 0&&f,z.isDiscoverable=(v=r.is_discoverable)!==null&&v!==void 0?v:z.isPublic,z.isAccessCodeRequired=(_=r.is_access_code_required)!==null&&_!==void 0&&_,z.isPushEnabled=(y=r.is_push_enabled)!==null&&y!==void 0&&y,Array.isArray(r.members)&&(i=z.members).push.apply(i,vn([],_n(r.members.map(function(W){return new Xs(z._iid,W)})),!1)),z.memberCount=(E=r.member_count)!==null&&E!==void 0?E:0,z.joinedMemberCount=(x=r.joined_member_count)!==null&&x!==void 0?x:0,z.hiddenState=Nn(Ta,r.hidden_state)?r.hidden_state:Ta.UNHIDDEN,z.messageOffsetTimestamp=(C=r.ts_message_offset)!==null&&C!==void 0?C:0,z.messageSurvivalSeconds=(M=r.message_survival_seconds)!==null&&M!==void 0?M:-1,z.lastMessage=r.last_message?Ts(z._iid,ee({channel_type:z.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(W){J("number",r.read_receipt[W])&&z._updateUnreadMemberState(W,r.read_receipt[W])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(W){J("number",r.delivery_receipt[W])&&z._updateUndeliveredMemberState(W,r.delivery_receipt[W])}),z.myMemberState=Nn(Tr,r.member_state)?r.member_state:Tr.NONE,z.myRole=Nn(Es,r.my_role)?r.my_role:Es.NONE,Nn(ol,r.is_muted)?z.myMutedState=r.is_muted:J("boolean",r.is_muted)?z.myMutedState=r.is_muted?ol.MUTED:ol.UNMUTED:z.myMutedState=ol.UNMUTED,z.myCountPreference=Nn(Na,r.count_preference)?r.count_preference:Na.ALL,z.myPushTriggerOption=Nn(xc,r.push_trigger_option)?r.push_trigger_option:xc.ALL,z.myLastRead=(N=r.user_last_read)!==null&&N!==void 0?N:0,z.inviter=r.inviter?new Mn(z._iid,r.inviter):null,z.invitedAt=(S=r.invited_at)!==null&&S!==void 0?S:0,z.joinedAt=(D=r.joined_ts)!==null&&D!==void 0?D:0,z._updateUnreadCount((P=r.unread_message_count)!==null&&P!==void 0?P:0,(Q=r.unread_mention_count)!==null&&Q!==void 0?Q:0),z}return B(e,n),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.hiddenState!==Ta.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTyping",{get:function(){return Object.keys(this._typingStatus).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedUnreadMemberState",{get:function(){var t,r,i={};try{for(var o=$e(this._unreadMemberStateMap),u=o.next();!u.done;u=o.next()){var d=_n(u.value,2),h=d[0],f=d[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedUndeliveredMemberState",{get:function(){var t,r,i={};try{for(var o=$e(this._undeliveredMemberStateMap),u=o.next();!u.done;u=o.next()){var d=_n(u.value,2),h=d[0],f=d[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),e.payloadify=function(t){return t?wn(ee(ee({},n.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map(function(r){return Xs.payloadify(r)}),last_message:Qv(t.lastMessage),inviter:t.inviter?Mn.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt})):null},e.prototype._updateUnreadCount=function(t,r){if(typeof t=="number"&&t>=0)if(this.myCountPreference===Na.ALL||this.myCountPreference===Na.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var i=ie.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=i&&t>=i?i:t}else this.unreadMessageCount=t;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Na.ALL||this.myCountPreference===Na.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},e.prototype._updateUnreadMemberState=function(t,r){var i=this._unreadMemberStateMap.get(t);return(!i||i<r)&&(this._unreadMemberStateMap.set(t,r),ie.of(this._iid).sdkState.userId===t&&(this.myLastRead=r),!0)},e.prototype._updateUndeliveredMemberState=function(t,r){var i=this._undeliveredMemberStateMap.get(t);(!i||i<r)&&this._undeliveredMemberStateMap.set(t,r)},e.prototype._updateTypingStatus=function(t,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus[t.userId]={user:t,ts:r}:delete this._typingStatus[t.userId]},e.prototype._invalidateTypingStatus=function(){var t=new Date().getTime(),r=!1;for(var i in this._typingStatus)t-this._typingStatus[i].ts>=1e4&&(delete this._typingStatus[i],r=!0);return r},e.prototype._setLatestMemberCount=function(t,r,i){var o=!1;return i>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=i,o=t!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=t,this.joinedMemberCount=r),o},e.prototype.isReadMessage=function(t){var r=ie.of(this._iid).sdkState,i=this._unreadMemberStateMap.get(r.userId);return i&&i>=t.createdAt},e.prototype.serialize=function(){var t=this;return f0(this,function(r){r.cachedUnreadMemberState=t.cachedUnreadMemberState,r.cachedUndeliveredMemberState=t.cachedUndeliveredMemberState})},e.prototype.createMessageCollection=function(t){return t===void 0&&(t={}),new Mae(this._iid,ee({channel:this},t))},e.prototype.createMemberListQuery=function(t){return t===void 0&&(t={}),new Fae(this._iid,this.url,t)},e.prototype.addMember=function(t,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var i=this.members.findIndex(function(u){return u.userId===t.userId});if(i>-1){var o=this.members[i];o.state===Tr.JOINED&&(t.state=o.state),this.members.splice(i,1),this.memberCount--}this.members.push(t),this.memberCount++,this._updateUnreadMemberState(t.userId,r),this._updateUndeliveredMemberState(t.userId,r)}},e.prototype.removeMember=function(t){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=this.members.findIndex(function(i){return i.userId===t.userId});if(r>-1)return this.members.splice(r,1),this.memberCount--,!0}return!1},e.prototype.getUnreadMemberCount=function(t){var r,i;if(t instanceof Vr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=ie.of(this._iid).sdkState,u=t.createdAt,d=0;try{for(var h=$e(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Tr.JOINED&&t.sender.userId!==v.userId&&(this.cachedUnreadMemberState[v.userId]||0)<u&&d++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d}return 0},e.prototype.getUndeliveredMemberCount=function(t){var r,i;if(t instanceof Vr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=ie.of(this._iid).sdkState,u=t.createdAt,d=0;try{for(var h=$e(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Tr.JOINED&&t.sender.userId!==v.userId&&(this.cachedUndeliveredMemberState[v.userId]||0)<u&&d++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d}return 0},e.prototype.getReadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=ie.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(d){(r||d.userId!==o.userId&&d.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(d.userId)>=t.createdAt&&u.push(d)}),u},e.prototype.getUnreadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=ie.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(d){(r||d.userId!==o.userId&&d.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(d.userId)<t.createdAt&&u.push(d)}),u},e.prototype.getReadStatus=function(t){var r=this;t===void 0&&(t=!1);var i=ie.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(u){if(t||u.userId!==i.userId){var d=r._unreadMemberStateMap.get(u.userId);o[u.userId]=new vF(r._iid,{channel_url:r.url,channel_type:r.channelType,user:Xs.payloadify(u),ts:d})}}),o},e.prototype.getTypingUsers=function(){var t=[];for(var r in this._typingStatus){var i=this._typingStatus[r].user;t.push(i)}return t},e.prototype.invalidateTypingStatus=function(){var t=ie.of(this._iid).typingIndicatorInvalidateTime,r=new Date().getTime(),i=!1;for(var o in this._typingStatus)r-this._typingStatus[o].ts>=t&&(delete this._typingStatus[o],i=!0);return i},e.prototype.refresh=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.requestQueue,i=t.dispatcher,o=new EF({channelUrl:this.url}),[4,r.send(o)];case 1:return u=h.sent(),d=u.as(wF).channel,i.dispatch(new at({channels:[d],source:kn.REQUEST_CHANNEL})),[2,d]}})})},e.prototype.freeze=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,n.prototype.freeze.call(this)];case 1:return t.sent(),ie.of(this._iid).dispatcher.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_HIDDEN})),[2]}})})},e.prototype.unfreeze=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,n.prototype.unfreeze.call(this)];case 1:return t.sent(),ie.of(this._iid).dispatcher.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},e.prototype.updateChannel=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return t=ee(ee({},Dae),t),Fe(function(v){return J("string",v.coverUrl,!0)&&(Mi(v.coverImage)||J("string",v.coverImage)||v.coverImage===null)&&J("boolean",v.isDistinct,!0)&&J("boolean",v.isPublic,!0)&&J("boolean",v.isDiscoverable,!0)&&J("string",v.accessCode,!0)&&J("string",v.name,!0)&&J("string",v.data,!0)&&J("string",v.customType,!0)&&In("string",v.operatorUserIds,!0)&&J("number",v.messageSurvivalSeconds,!0)}(t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new Bae(ee({channelUrl:this.url},t)),[4,o.send(u)];case 1:return d=f.sent(),h=d.as(Gae).channel,i.dispatch(new at({channels:[h],source:kn.EVENT_CHANNEL_UPDATED})),[2,h]}})})},e.prototype.invite=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(t.every(function(i){return i instanceof Mn})).throw(le.invalidParameters),[2,this.inviteWithUserIds(t.map(function(i){return i.userId}))]})})},e.prototype.inviteWithUserIds=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h;return I(this,function(f){switch(f.label){case 0:return Fe(In("string",t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new dae({channelUrl:this.url,userIds:t}),[4,o.send(u)];case 1:return d=f.sent(),h=d.as(hae).channel,i.dispatch(new at({channels:[h],source:kn.EVENT_CHANNEL_INVITED})),[2,h]}})})},e.prototype.join=function(t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(J("string",t)||t===null).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,d=new sae({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(d)];case 1:return h=v.sent(),(f=h.as(oae).channel).myMemberState=Tr.JOINED,i.dispatch(new at({channels:[f],source:kn.EVENT_CHANNEL_JOINED})),[2,this]}})})},e.prototype.leave=function(t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(d){switch(d.label){case 0:return r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new uae({channelUrl:this.url,userId:i.userId,shouldRemoveOperatorStatus:t}),[4,o.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.acceptInvitation=function(t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(J("string",t)||t===null).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,d=new Hae({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(d)];case 1:return h=v.sent(),(f=h.as(qae).channel).myMemberState=Tr.JOINED,i.dispatch(new at({channels:[f],source:kn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,f]}})})},e.prototype.declineInvitation=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new fae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u=h.sent(),(d=u.as(mae).channel).myMemberState=Tr.NONE,[2,d]}})})},e.prototype.sendUserMessage=function(t){var r=this,i=new rl,o=ie.of(this._iid).dispatcher,u=rh.of(this._iid);return n.prototype.sendUserMessage.call(this,t).onPending(function(d){u.completeCurrentAndProcessNextAutoResend(d),i._trigger(null,d)}).onFailed(function(d,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(d,h)}).onSucceeded(function(d){var h=Wr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(d),r.lastMessage=d,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new at({channels:[r],source:kn.EVENT_MESSAGE_SENT})),i._trigger(null,d)}),i},e.prototype._autoResendUserMessage=function(t){var r=this,i=new rl,o=ie.of(this._iid).dispatcher,u=rh.of(this._iid);return n.prototype._autoResendUserMessage.call(this,t).onPending(function(d){u.completeCurrentAndProcessNextAutoResend(d),i._trigger(null,d)}).onFailed(function(d,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(d,h)}).onSucceeded(function(d){var h=Wr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(d),r.lastMessage=d,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new at({channels:[r],source:kn.EVENT_MESSAGE_SENT})),i._trigger(null,d)}),i},e.prototype.sendFileMessage=function(t){var r=this,i=new rl,o=ie.of(this._iid).dispatcher,u=rh.of(this._iid);return n.prototype.sendFileMessage.call(this,t).onPending(function(d){u.completeCurrentAndProcessNextAutoResend(d),i._trigger(null,d)}).onFailed(function(d,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(d,h)}).onSucceeded(function(d){var h=Wr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(d),r.lastMessage=d,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new at({channels:[r],source:kn.EVENT_MESSAGE_SENT})),i._trigger(null,d)}),i},e.prototype._autoResendFileMessage=function(t){var r=this,i=new rl,o=ie.of(this._iid).dispatcher,u=rh.of(this._iid);return n.prototype._autoResendFileMessage.call(this,t).onPending(function(d){u.completeCurrentAndProcessNextAutoResend(d),i._trigger(null,d)}).onFailed(function(d,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(d,h)}).onSucceeded(function(d){var h=Wr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(d),r.lastMessage=d,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new at({channels:[r],source:kn.EVENT_MESSAGE_SENT})),i._trigger(null,d)}),i},e.prototype.deleteMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,n.prototype.deleteMessage.call(this,t)];case 1:return r.sent(),t.messageId===0&&ie.of(this._iid).dispatcher.dispatch(new A7({reqId:t.reqId,source:En.EVENT_MESSAGE_DELETED})),[2]}})})},e.prototype.hide=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return t=ee(ee({},Uae),t),Fe(function(_){return J("boolean",_.hidePreviousMessages)&&J("boolean",_.allowAutoUnhide)}(t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,d=new yae(ee({channelUrl:this.url,userId:o.userId},t)),[4,u.send(d)];case 1:return h=v.sent(),f=h.as(Eae).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?Ta.HIDDEN_ALLOW_AUTO_UNHIDE:Ta.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),f&&(this.messageOffsetTimestamp=f),i.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},e.prototype.unhide=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new zae({channelUrl:this.url}),[4,i.send(o)];case 1:return u.sent(),this.hiddenState=Ta.UNHIDDEN,r.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},e.prototype.delete=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new $ae({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},e.prototype.markAsRead=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f=this;return I(this,function(v){switch(v.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=new vae({channelUrl:this.url}),[4,o.send(u)];case 1:return d=v.sent(),h=d.as(xF).readStatus,this._updateUnreadMemberState(r.userId,h.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Wr.of(this._iid).handlers.map(function(_){return _.onChannelChanged(f)})),i.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_READ})),[2]}})})},e.prototype.markAsDelivered=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new _ae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.startTyping=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){return t=ie.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=i&&(this._typingStarted=o,this._typingEnded=0,u=new xae({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},e.prototype.endTyping=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){return t=ie.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=i&&(this._typingStarted=0,this._typingEnded=o,u=new Cae({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},e.prototype.createScheduledUserMessage=function(t){t=ee(ee({},Jte),t),Fe(Zte(t)).throw(le.invalidParameters);var r=new rl;return this._createScheduledUserMessage(t,r),r},e.prototype.updateScheduledUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(d){switch(d.label){case 0:return r=ee(ee({},Yae),r),Fe(function(h){return U7(h)&&J("number",h.scheduledAt,!0)}(r)).throw(le.invalidParameters),i=ie.of(this._iid).requestQueue,o=new Zae(ee({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r)),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(z7).message]}})})},e.prototype.createScheduledFileMessage=function(t){var r=this;t=ee(ee({},ere),t),Fe(nre(t)).throw(le.invalidParameters);var i=ie.of(this._iid).dispatcher,o=Date.now(),u=this._generateRequestId(),d=new rl;return fs(Kte).then(function(){var h=r._createPendingScheduledFileMessage(t,u,o);i.dispatch(new ar({messages:[h],source:En.EVENT_MESSAGE_SENT_PENDING})),en(function(){return T(r,void 0,void 0,function(){return I(this,function(f){return[2,d._trigger(null,h)]})})})}),Mi(t.file)?this._uploadFileAndUpdateParams(t).then(function(){return r._createScheduledFileMessage(t,d,u,o)}):this._createScheduledFileMessage(t,d,u,o),d},e.prototype.updateScheduledFileMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o;return I(this,function(u){switch(u.label){case 0:return r=ee(ee({},Qae),r),Fe(function(d){return w3(d)&&J("number",d.scheduledAt,!0)&&(Mi(d.file)||J("string",d.fileUrl))&&J("string",d.fileName,!0)&&J("string",d.mimeType,!0)&&J("number",d.fileSize,!0)&&(d.thumbnailSizes===null||d.thumbnailSizes.every(function(h){return J("object",h)&&h.maxWidth>0&&h.maxHeight>0}))}(r)).throw(le.invalidParameters),Mi(r.file)?[4,this._uploadFileAndUpdateParams(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return i=new Xae(ee(ee({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r),{fileUrl:r.fileUrl,requireAuth:r.requireAuth})),[4,ie.of(this._iid).requestQueue.send(i)];case 3:return o=u.sent(),[2,o.as(Jae).message]}})})},e.prototype.cancelScheduledMessage=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=new ese({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ie.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},e.prototype.sendScheduledMessageNow=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=new nse({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ie.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},e.prototype.getMyPushTriggerOption=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(d){switch(d.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new J7({userId:r.userId}),[4,i.send(o)];case 1:return u=d.sent(),[2,u.as(Z7).pushTriggerOption]}})})},e.prototype.setMyPushTriggerOption=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return Fe(Nn(xc,t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new eF({userId:i.userId,pushTriggerOption:t}),[4,o.send(u)];case 1:return d=h.sent(),[2,d.as(nF).pushTriggerOption]}})})},e.prototype.setMyCountPreference=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(Nn(Na,t)).throw(le.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,d=new jae({channelUrl:this.url,userId:o.userId,countPreference:t}),[4,u.send(d)];case 1:return h=v.sent(),f=h.as(Vae).countPreference,this.myCountPreference=f,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),i.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_CREATED})),[2,f]}})})},e.prototype.resetMyHistory=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new Wae({channelUrl:this.url}),[4,i.send(o)];case 1:return u=h.sent(),d=u.as(Kae).messageOffsetTimestamp,this.messageOffsetTimestamp=d,r.dispatch(new at({channels:[this],source:kn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},e.prototype._uploadFileAndUpdateParams=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,d,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return Mi(t.file)?(r=ie.of(this._iid).requestQueue,i=new T7({file:t.file,channelUrl:this.url,thumbnailSizes:t.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(i)]):[3,2];case 1:o=x.sent(),u=o.as(I7),d=u.url,h=u.fileSize,f=h===void 0?t.fileSize:h,v=u.thumbnailSizes,_=v===void 0?t.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,t.fileUrl=d,t.fileSize=f,t.thumbnailSizes=_,t.requireAuth=E,x.label=2;case 2:return[2]}})})},e}(k2),sE={},TD=function(){function n(e){var t=e._iid,r=this;this._sync=null,this._metadata=null,this._iid=t;var i,o=ie.of(this._iid),u=o.sdkState,d=o.logger;this._metadataKey=(i=u.userId,"sendbird:".concat(i,"@groupchannel/sync.meta"));var h=function(f){return"sendbird:".concat(f,"@groupchannel/sync")}(u.userId);this._sync=new Hc(h,function(){return T(r,void 0,void 0,function(){var f,v,_,y,E,x;return I(this,function(C){switch(C.label){case 0:return f={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(C.sent(),d.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];C.label=2;case 2:return C.trys.push([2,5,,8]),[4,Wr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:Yr.CHRONOLOGICAL},100,kn.SYNC_CHANNEL_BACKGROUND)];case 3:return v=C.sent(),_=v.channels,y=v.token,f.hasNext=_.length>=100&&!!y,f.nextToken=y,this._metadata.token=y,(x=this._metadata.range).extends.apply(x,vn([],_n(_.map(function(M){return M.createdAt})),!1)),this._metadata.completed=!f.hasNext,d.debug("channel background sync progress",f),[4,this.saveMetadata()];case 4:return C.sent(),[3,8];case 5:return(E=C.sent())instanceof le&&E.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:C.sent(),C.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[3,10];case 9:f.hasNext=!1,f.nextToken="",C.label=10;case 10:return[2,f]}})})})}return n.of=function(e){if(!sE[e]){var t=sE[e]=new n({_iid:e});ie.of(e).dispatcher.on(function(r){r instanceof no&&(r.stateType===It.CONNECTED?t.resume():t.pause())})}return sE[e]},Object.defineProperty(n.prototype,"range",{get:function(){var e;return(e=this._metadata)===null||e===void 0?void 0:e.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completed",{get:function(){var e;return!!(!((e=this._metadata)===null||e===void 0)&&e.completed)},enumerable:!1,configurable:!0}),n.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var e;return I(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ie.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata={token:e?e.token:"",range:new i0(e?e.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!e&&e.completed},t.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.clearMetaData=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,ie.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),[2]}})})},n.prototype.resume=function(){var e,t;ie.of(this._iid).logger.debug("channel background sync resume()"),this._sync.start((t=(e=this._metadata)===null||e===void 0?void 0:e.token)!==null&&t!==void 0?t:"")},n.prototype.pause=function(){ie.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},n}(),oE={},tse=function(){function n(e){var t=e._iid,r=this;this._sync=null,this._metadataKey=null,this._metadata=null,this._iid=t;var i,o=ie.of(this._iid).sdkState;this._metadataKey=(i=o.userId,"sendbird:".concat(i,"@groupchannel/changelogs.meta"));var u=function(d){return"sendbird:".concat(d,"@groupchannel/changelogs")}(o.userId);this._sync=new Hc(u,function(){return T(r,void 0,void 0,function(){var d,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return d={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,5,,8]),[4,Wr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},kn.SYNC_CHANNEL_CHANGELOGS)];case 3:return h=y.sent(),f=h.hasMore,v=h.token,d.hasNext=f,d.nextToken=v,this._metadata.token=v,[4,this.saveMetadata()];case 4:return y.sent(),[3,8];case 5:return(_=y.sent())instanceof le&&_.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:y.sent(),y.label=7;case 7:return d.hasNext=!1,d.nextToken="",[3,8];case 8:return[2,d]}})})})}return n.of=function(e){if(!oE[e]){var t=oE[e]=new n({_iid:e});ie.of(e).dispatcher.on(function(r){r instanceof no&&(r.stateType===It.CONNECTED?t.resume():t.pause())})}return oE[e]},n.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var e,t,r,i;return I(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(e=ie.of(this._iid),t=e.cacheContext,r=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(e){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},n.prototype.resume=function(){this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n}(),rse=function(){function n(e,t){var r=t.filter,i=t.order,o=t.limit,u=this;this.channels=[],this._iid=e,this._key="gcc-".concat(ys()),this.filter=r!=null?r:new _F,this.order=i!=null?i:Yr.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o!=null?o:j7;var d=ie.of(this._iid),h=d.sdkState;d.cacheContext.localCacheEnabled&&TD.of(e).resume(),tse.of(e).resume(),Wr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(f,v){var _=f.filter(function(E){return u.filter.match(E,h.userId)}),y=f.filter(function(E){return!u.filter.match(E,h.userId)}).map(function(E){return E.url});_.length>0&&u._addChannelsToView(_,v),y.length>0&&u._removeChannelsFromView(y,v)},onRemove:function(f,v){u._removeChannelsFromView(f,v)}})}return Object.defineProperty(n.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),n.prototype.setGroupChannelCollectionHandler=function(e){this._handler=e},n.prototype._addChannelsToView=function(e,t,r){var i,o,u=this;r===void 0&&(r=!1);var d=[],h=[];try{for(var f=$e(e),v=f.next();!v.done;v=f.next()){var _=v.value,y=CD(this.channels,_,this.order),E=y.place;if(y.contains)switch(h.push(_),t){case kn.EVENT_CHANNEL_UPDATED:case kn.EVENT_MESSAGE_RECEIVED:this.channels.splice(E,1);var x=CD(this.channels,_,this.order).place;this.channels.splice(x,0,_);break;default:this.channels[E]=_}else if(E===this.channels.length){var C=TD.of(this._iid);(r||C.completed)&&(d.push(_),this.channels.push(_))}else d.push(_),this.channels.splice(E,0,_)}}catch(M){i={error:M}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}ED(t)&&en(function(){return T(u,void 0,void 0,function(){var M;return I(this,function(N){return M=new fv(t),d.length>0&&this._handler.onChannelsAdded(M,d),h.length>0&&this._handler.onChannelsUpdated(M,h),[2]})})})},n.prototype._removeChannelsFromView=function(e,t){var r,i,o=this,u=[],d=function(_){var y=h.channels.findIndex(function(E){return E.url===_});y>=0&&(u.push(h.channels[y].url),h.channels.splice(y,1))},h=this;try{for(var f=$e(e),v=f.next();!v.done;v=f.next())d(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return ED(t)&&u.length>0&&en(function(){return T(o,void 0,void 0,function(){var _;return I(this,function(y){return _=new fv(t),this._handler.onChannelsDeleted(_,u),[2]})})}),u},n.prototype._getLocalChannels=function(){return T(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,Wr.of(this._iid).getChannelsFromCache(this._token,this.filter,this.order)];case 1:return[2,e.sent()]}})})},n.prototype._getRemoteChannels=function(){return T(this,void 0,void 0,function(){var e,t,r;return I(this,function(i){switch(i.label){case 0:return[4,Wr.of(this._iid).getMyGroupChannels(this._token,ee(ee({},this.filter),{order:this.order}),this._limit)];case 1:return e=i.sent(),t=e.channels,r=e.token,this._token=r,[2,t]}})})},n.prototype.loadMore=function(){return T(this,void 0,void 0,function(){var e,t=this;return I(this,function(r){switch(r.label){case 0:return this._hasMore?(e=[],[4,ws(function(){return T(t,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._getLocalChannels()];case 1:return e=i.sent(),[2]}})})})]):[3,3];case 1:return r.sent(),[4,ws(function(){return T(t,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._getRemoteChannels()];case 1:return e=i.sent(),[2]}})})})];case 2:return r.sent(),this._addChannelsToView(e,kn.REQUEST_CHANNEL,!0),[2,e];case 3:return[2,[]]}})})},n.prototype.dispose=function(){Wr.of(this._iid).unsubscribeGroupChannelEvent(this._key)},n}(),ise=function(n){function e(t){var r=this,i=t.token,o=t.limit,u=t.order,d=t.includeEmpty,h=t.membershipFilter,f=t.channelNameContainsFilter,v=t.channelUrlsFilter,_=t.customTypesFilter,y=t.customTypeStartsWithFilter,E=t.superChannelFilter,x=t.metadataOrderKeyFilter,C=t.metadataKey,M=t.metadataValues,N=t.metadataValueStartsWith,S=t.includeFrozen,D=t.includeMetaData;return(r=n.call(this)||this).method=Ae.GET,r.path=Fi,r.params=wn({token:i,limit:o,order:u,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:d,public_mode:gl.PUBLIC,public_membership_mode:h,name_contains:f,channel_urls:v,custom_types:_,custom_type_startswith:y,super_mode:E,metadata_order_key:x,metadata_key:C,metadata_values:M,metadata_value_startswith:N,show_frozen:S,show_metadata:D}),r}return B(e,n),e}(De),ase=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,d=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=d,new is(t,h)})),i.ts=typeof d=="number"?d:null,i}return B(e,n),e}(Pe);(function(n){n.ALL="all",n.JOINED="joined"})(Of||(Of={}));var sse=function(n){function e(t,r){var i,o,u,d,h,f,v,_,y,E,x,C,M,N,S=this;return(S=n.call(this,t,r)||this).includeEmpty=!1,S.includeFrozen=!0,S.includeMetaData=!0,S.channelUrlsFilter=null,S.customTypesFilter=null,S.customTypeStartsWithFilter=null,S.nicknameContainsFilter=null,S.channelNameContainsFilter=null,S.membershipFilter=Of.ALL,S.superChannelFilter=Pa.ALL,S.metadataKey=null,S.metadataValues=null,S.metadataOrderKeyFilter=null,S.metadataValueStartsWith=null,S.order=Cf.CHRONOLOGICAL,S.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,S.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,S.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,S.channelUrlsFilter=(d=r.channelUrlsFilter)!==null&&d!==void 0?d:null,S.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,S.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:null,S.channelNameContainsFilter=(v=r.channelNameContainsFilter)!==null&&v!==void 0?v:null,S.membershipFilter=(_=r.membershipFilter)!==null&&_!==void 0?_:Of.ALL,S.superChannelFilter=(y=r.superChannelFilter)!==null&&y!==void 0?y:Pa.ALL,S.metadataKey=(E=r.metadataKey)!==null&&E!==void 0?E:null,S.metadataValues=(x=r.metadataValues)!==null&&x!==void 0?x:null,S.metadataOrderKeyFilter=(C=r.metadataOrderKeyFilter)!==null&&C!==void 0?C:null,S.metadataValueStartsWith=(M=r.metadataValueStartsWith)!==null&&M!==void 0?M:null,S.order=(N=r.order)!==null&&N!==void 0?N:Cf.CHRONOLOGICAL,S}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter,!0)&&In("string",this.channelUrlsFilter,!0)&&In("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter,!0)&&Nn(Of,this.membershipFilter)&&Nn(Pa,this.superChannelFilter)&&Nn(Cf,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&In("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ie.of(this._iid),i=r.requestQueue,o=r.dispatcher,u=new ise(ee(ee({},this),{token:this._token})),[4,i.send(u)]):[3,2]):[3,5];case 1:return d=_.sent(),h=d.as(ase),f=h.channels,v=h.token,this._token=v,this._hasNext=!!v,o.dispatch(new at({channels:f,source:kn.REQUEST_CHANNEL})),this._isLoading=!1,[2,f];case 2:return[2,t];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),ose=function(n){function e(t){t===void 0&&(t={});var r=n.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(e,n),e}(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onUserJoined=Ln,t.onUserLeft=Ln,t.onUserReceivedInvitation=Ln,t.onUserDeclinedInvitation=Ln,t.onChannelHidden=Ln,t.onUnreadMemberStatusUpdated=Ln,t.onUndeliveredMemberStatusUpdated=Ln,t.onTypingStatusUpdated=Ln,t}return B(e,n),e}(pF)),lse=function(n){function e(t){var r=this,i=t.token,o=t.limit,u=t.order,d=t.reverse,h=t.channelUrl,f=t.messageTypeFilter,v=t.scheduledStatus;return(r=n.call(this)||this).method=Ae.GET,r.path="".concat(x7),r.params=wn({limit:o,reverse:d,channel_url:h,order:u,status:v}),i&&(r.params.token=i),f&&(r.params.message_type_filter=f),r}return B(e,n),e}(De),use=function(n){function e(t,r){var i=n.call(this,t,r)||this;i.token=null,i.scheduledMessages=[];var o=r.next,u=r.scheduled_messages;return i.token=o,i.scheduledMessages=u.map(function(d){return Ts(t,d)}),i}return B(e,n),e}(Pe),cse=function(n){function e(t,r){var i,o,u,d,h,f=this;return(f=n.call(this,t,r)||this).channelUrl=null,f.order=null,f.reverse=!1,f.scheduledStatus=null,f.messageTypeFilter=di.ALL,f.channelUrl=(i=r.channelUrl)!==null&&i!==void 0?i:null,f.order=(o=r.order)!==null&&o!==void 0?o:null,f.reverse=(u=r.reverse)!==null&&u!==void 0&&u,f.scheduledStatus=(d=r.scheduledStatus)!==null&&d!==void 0?d:null,f.messageTypeFilter=(h=r.messageTypeFilter)!==null&&h!==void 0?h:di.ALL,f}return B(e,n),e.prototype._validate=function(){return n.prototype._validate.call(this)&&J("string",this.channelUrl,!0)&&(Nn(S2,this.order)||this.order===null)&&J("boolean",this.reverse)&&(In(lu,this.scheduledStatus)||this.scheduledStatus===null)&&Nn(di,this.messageTypeFilter)},e.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,d;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new lse(ee(ee({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(use),u=o.scheduledMessages,d=o.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},e}(wl),dse=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.name="groupChannel",t}return B(e,n),e.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,d=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:d,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new Wr(t,{sdkState:i,cacheContext:v,dispatcher:o,sessionManager:u,requestQueue:d,logger:h})},e.prototype.createGroupChannelCollection=function(t){return t===void 0&&(t={}),new rse(this._iid,t)},e.prototype.createMyGroupChannelListQuery=function(t){return t===void 0&&(t={}),new kF(this._iid,t)},e.prototype.createPublicGroupChannelListQuery=function(t){return t===void 0&&(t={}),new sse(this._iid,t)},e.prototype.createScheduledMessageListQuery=function(t){return t===void 0&&(t={}),new cse(this._iid,t)},e.prototype.addGroupChannelHandler=function(t,r){Fe(J("string",t)&&r instanceof ose).throw(le.invalidParameters),this._manager.addHandler(t,r)},e.prototype.removeGroupChannelHandler=function(t){Fe(J("string",t)).throw(le.invalidParameters),this._manager.removeHandler(t)},e.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},e.prototype.buildGroupChannelFromSerializedData=function(t){return this._manager.buildGroupChannelFromSerializedData(t)},e.prototype.buildGroupChannelListQueryFromSerializedData=function(t){return this._manager.buildGroupChannelListQueryFromSerializedData(t)},e.prototype.buildMemberFromSerializedData=function(t){return this._manager.buildMemberFromSerializedData(t)},e.prototype.getChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),[2,this._manager.getChannel(t)]})})},e.prototype.getChannelWithoutCache=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),[2,this._manager.getChannelWithoutCache(t)]})})},e.prototype.getMyGroupChannelChangeLogsByToken=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},pv),r),Fe(J("string",t)&&A2(r)).throw(le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},e.prototype.getMyGroupChannelChangeLogsByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ee(ee({},pv),r),Fe(J("number",t)&&A2(r)).throw(le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},e.prototype.getGroupChannelCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ee(ee({},bF),t),Fe(yF(t)).throw(le.invalidParameters),[2,this._manager.getGroupChannelCount(t)]})})},e.prototype.getUnreadItemCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(t)];case 1:return[2,r.sent()]}})})},e.prototype.getTotalUnreadChannelCount=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,t.sent()]}})})},e.prototype.getTotalUnreadMessageCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(t)];case 1:return[2,r.sent()]}})})},e.prototype.getTotalScheduledMessageCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(t)];case 1:return[2,r.sent()]}})})},e.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){return this._manager.getSubscribedCustomTypeUnreadMessageCount(t)},e.prototype.createChannel=function(t){return t===void 0&&(t={}),T(this,void 0,void 0,function(){return I(this,function(r){return t=ee(ee({},Tg),t),Fe(O2(t)).throw(le.invalidParameters),[2,this._manager.createChannel(t)]})})},e.prototype.createDistinctChannelIfNotExist=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ee(ee({},Tg),t),Fe(O2(t)).throw(le.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]})})},e.prototype.createChannelWithUserIds=function(t,r,i,o,u,d){return r===void 0&&(r=!1),i===void 0&&(i=null),o===void 0&&(o=null),u===void 0&&(u=""),d===void 0&&(d=""),T(this,void 0,void 0,function(){var h;return I(this,function(f){return h=ee(ee({},Tg),{invitedUserIds:t,isDistinct:r,name:i,data:u,customType:d}),typeof o=="string"?h.coverUrl=o:h.coverImage=o,[2,this.createChannel(h)]})})},e.prototype.markAsReadAll=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this._manager.markAsReadAll(),[2]})})},e.prototype.markAsReadWithChannelUrls=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(In("string",t)).throw(le.invalidParameters),this._manager.markAsReadWithChannelUrls(t),[2]})})},e.prototype.markAsDelivered=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),[4,this.getChannel(t)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},e}(f3),SF="INIT_USER",S3="RESET_USER",NF="UPDATE_USER_INFO";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M2=function(n,e){return M2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},M2(n,e)};function hse(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var sn=function(){return sn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},sn.apply(this,arguments)};function Hn(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var TF={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},pse={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},fse={NONE:"NONE",PENDING:"PENDING",SENT:"SENT",FAILED:"FAILED",DELIVERED:"DELIVERED",READ:"READ"},ID=function(e){return e===""||e===null},IF=function(e){return TF.IMAGE.indexOf(e)>=0},OF=function(e){return TF.VIDEO.indexOf(e)>=0},OD=function(e){return IF(e)||OF(e)},AF=function(){return sn({},fse)},RF=function(){return sn({},pse)},mse=function(e,t){return Array.isArray(t)?Hn(Hn([],e,!0),t,!0):(e.push(t),e)},D2=function(e){return Array.isArray(e)?e.reduce(mse,[]).join(" "):e},gse=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,AD=function(e){return gse.test(e)},al;(function(n){n[n.normal=0]="normal",n[n.mention=1]="mention",n[n.url=2]="url"})(al||(al={}));var vse=function(e,t,r){for(var i=t||[],o=r||"@",u=[],d=RegExp("".concat(o,"{(").concat(i.map(function(y){return y==null?void 0:y.userId}).join("|"),")}"),"g"),h,f=0,v=function(){var E=h[0],x=h[1],C=d.lastIndex,M=C-E.length,N=e.slice(f,M);u.push({type:AD(N)?al.url:al.normal,value:N});var S=i.find(function(D){return(D==null?void 0:D.userId)===x});S?u.push({type:al.mention,value:(S==null?void 0:S.nickname)||"(No name)",userId:x}):u.push({type:al.normal,value:E}),f=C};(h=d.exec(e))!==null;)v();if(f<e.length){var _=e.slice(f);u.push({type:AD(_)?al.url:al.normal,value:_})}return u},_se=function(e,t){if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1};/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sa.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function RD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:e.mimeType||null,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.isArray(n)?n:[n],i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(f){var v=typeof f=="string",_=v&&f.trim().charAt(0)==="<";return v&&!_}function u(f,v){t.onError(f,r[v],v)}function d(f,v){var _=t.onSuccess(f,r[v],v);f=_===!1?"":_||f,i[v]=f,i.indexOf(null)===-1&&t.onComplete(i)}var h=document.createElement("a");r.forEach(function(f,v){h.setAttribute("href",f),h.href=String(h.href);var _=Boolean(document.all&&!window.atob),y=_&&h.host.split(":")[0]!==location.host.split(":")[0];if(y){var E=h.protocol===location.protocol;if(E){var x=new XDomainRequest;x.open("GET",f),x.timeout=0,x.onprogress=Function.prototype,x.ontimeout=Function.prototype,x.onload=function(){var M=x.responseText;o(M)?d(M,v):u(x,v)},x.onerror=function(M){u(x,v)},setTimeout(function(){x.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(f,")")),u(null,v)}else{var C=new XMLHttpRequest;C.open("GET",f),t.mimeType&&C.overrideMimeType&&C.overrideMimeType(t.mimeType),t.onBeforeSend(C,f,v),C.onreadystatechange=function(){if(C.readyState===4){var M=C.responseText;C.status<400&&o(M)||C.status===0&&o(M)?d(M,v):u(C,v)}},C.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function MD(n){var e={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:n.skipDisabled!==!1,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(f){return!bse(f,t.exclude)}),i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(){var f=i.indexOf(null)===-1;if(f){i.reduce(function(_,y,E){return y===""&&_.push(E),_},[]).reverse().forEach(function(_){return[r,i].forEach(function(y){return y.splice(_,1)})});var v=i.join("");t.onComplete(v,i,r)}}function u(f,v,_,y){var E=t.onSuccess(f,_,y);f=E!==void 0&&Boolean(E)===!1?"":E||f,h(f,_,y,function(x,C){i[v]===null&&(C.forEach(function(M){return t.onError(M.xhr,_,M.url)}),!t.filter||t.filter.test(x)?i[v]=x:i[v]="",o())})}function d(f,v){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],y={};return y.rules=(f.replace(e.cssComments,"").match(e.cssImports)||[]).filter(function(E){return _.indexOf(E)===-1}),y.urls=y.rules.map(function(E){return E.replace(e.cssImports,"$1")}),y.absoluteUrls=y.urls.map(function(E){return lE(E,v)}),y.absoluteRules=y.rules.map(function(E,x){var C=y.urls[x],M=lE(y.absoluteUrls[x],v);return E.replace(C,M)}),y}function h(f,v,_,y){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],C=d(f,_,x);C.rules.length?RD(C.absoluteUrls,{onBeforeSend:function(N,S,D){t.onBeforeSend(N,v,S)},onSuccess:function(N,S,D){var P=t.onSuccess(N,v,S);N=P===!1?"":P||N;var Q=d(N,S,x);return Q.rules.forEach(function(z,W){N=N.replace(z,Q.absoluteRules[W])}),N},onError:function(N,S,D){E.push({xhr:N,url:S}),x.push(C.rules[D]),h(f,v,_,y,E,x)},onComplete:function(N){N.forEach(function(S,D){f=f.replace(C.rules[D],S)}),h(f,v,_,y,E,x)}}):y(f,E)}r.length?r.forEach(function(f,v){var _=f.getAttribute("href"),y=f.getAttribute("rel"),E=f.nodeName.toLowerCase()==="link"&&_&&y&&y.toLowerCase().indexOf("stylesheet")!==-1,x=t.skipDisabled===!1?!1:f.disabled,C=f.nodeName.toLowerCase()==="style";if(E&&!x){var M=_.indexOf("data:text/css")!==-1;if(M){var N=decodeURIComponent(_.substring(_.indexOf(",")+1));t.useCSSOM&&(N=Array.apply(null,f.sheet.cssRules).map(function(D){return D.cssText}).join("")),u(N,v,f,location.href)}else RD(_,{mimeType:"text/css",onBeforeSend:function(P,Q,z){t.onBeforeSend(P,f,Q)},onSuccess:function(P,Q,z){var W=lE(_);u(P,v,f,W)},onError:function(P,Q,z){i[v]="",t.onError(P,f,Q),o()}})}else if(C&&!x){var S=f.textContent;t.useCSSOM&&(S=Array.apply(null,f.sheet.cssRules).map(function(D){return D.cssText}).join("")),u(S,v,f,location.href)}else i[v]="",o()}):t.onComplete("",[])}function lE(n,e){var t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=e||document.baseURI||(document.querySelector("base")||{}).href||location.href,i.href=n,i.href}function bse(n,e){var t=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return t.call(n,e)}var MF=DF;function DF(n,e,t){n instanceof RegExp&&(n=DD(n,t)),e instanceof RegExp&&(e=DD(e,t));var r=UF(n,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+n.length,r[1]),post:t.slice(r[1]+e.length)}}function DD(n,e){var t=e.match(n);return t?t[0]:null}DF.range=UF;function UF(n,e,t){var r,i,o,u,d,h=t.indexOf(n),f=t.indexOf(e,h+1),v=h;if(h>=0&&f>0){if(n===e)return[h,f];for(r=[],o=t.length;v>=0&&!d;)v==h?(r.push(v),h=t.indexOf(n,v+1)):r.length==1?d=[r.pop(),f]:(i=r.pop(),i<o&&(o=i,u=f),f=t.indexOf(e,v+1)),v=h<f&&h>=0?h:f;r.length&&(d=[o,u])}return d}function N3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},r=Sa({},t,e),i=[];function o(se){throw new Error("CSS parse error: ".concat(se))}function u(se){var oe=se.exec(n);if(oe)return n=n.slice(oe[0].length),oe}function d(){return u(/^{\s*/)}function h(){return u(/^}/)}function f(){u(/^\s*/)}function v(){if(f(),!(n[0]!=="/"||n[1]!=="*")){for(var se=2;n[se]&&(n[se]!=="*"||n[se+1]!=="/");)se++;if(!n[se])return o("end of comment is missing");var oe=n.slice(2,se);return n=n.slice(se+2),{type:"comment",comment:oe}}}function _(){for(var se=[],oe;oe=v();)se.push(oe);return r.removeComments?[]:se}function y(){for(f();n[0]==="}";)o("extra closing bracket");var se=u(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(se){var oe=se[0].trim(),ue,Re=/\/\*/.test(oe);Re&&(oe=oe.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var He=/["']\w*,\w*["']/.test(oe);He&&(oe=oe.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(Ce){return Ce.replace(/,/g,"\u200C")}));var ve=/,/.test(oe);return ve?ue=oe.split(/\s*(?![^(]*\)),\s*/):ue=[oe],He&&(ue=ue.map(function(Ce){return Ce.replace(/\u200C/g,",")})),ue}}function E(){if(n[0]==="@")return ce();u(/^([;\s]*)+/);var se=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oe=u(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!oe){if(oe=oe[0].trim(),!u(/^:\s*/))return o("property missing ':'");var ue=u(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),Re={type:"declaration",property:oe.replace(se,""),value:ue?ue[0].replace(se,"").trim():""};return u(/^[;\s]*/),Re}}function x(){if(!d())return o("missing '{'");for(var se,oe=_();se=E();)oe.push(se),oe=oe.concat(_());return h()?oe:o("missing '}'")}function C(){f();for(var se=[],oe;oe=u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)se.push(oe[1]),u(/^,\s*/);if(se.length)return{type:"keyframe",values:se,declarations:x()}}function M(){var se=u(/^@([-\w]+)?keyframes\s*/);if(!!se){var oe=se[1];if(se=u(/^([-\w]+)\s*/),!se)return o("@keyframes missing name");var ue=se[1];if(!d())return o("@keyframes missing '{'");for(var Re,He=_();Re=C();)He.push(Re),He=He.concat(_());return h()?{type:"keyframes",name:ue,vendor:oe,keyframes:He}:o("@keyframes missing '}'")}}function N(){var se=u(/^@page */);if(se){var oe=y()||[];return{type:"page",selectors:oe,declarations:x()}}}function S(){var se=u(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(se){var oe="".concat(se[1],"-").concat(se[2])+(se[3]?"-".concat(se[3]):"");return{type:"page-margin-box",name:oe,declarations:x()}}}function D(){var se=u(/^@font-face\s*/);if(se)return{type:"font-face",declarations:x()}}function P(){var se=u(/^@supports *([^{]+)/);if(se)return{type:"supports",supports:se[1].trim(),rules:Ne()}}function Q(){var se=u(/^@host\s*/);if(se)return{type:"host",rules:Ne()}}function z(){var se=u(/^@media([^{]+)*/);if(se)return{type:"media",media:(se[1]||"").trim(),rules:Ne()}}function W(){var se=u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(se)return{type:"custom-media",name:se[1].trim(),media:se[2].trim()}}function V(){var se=u(/^@([-\w]+)?document *([^{]+)/);if(se)return{type:"document",document:se[2].trim(),vendor:se[1]?se[1].trim():null,rules:Ne()}}function he(){var se=u(/^@(import|charset|namespace)\s*([^;]+);/);if(se)return{type:se[1],name:se[2].trim()}}function ce(){if(f(),n[0]==="@"){var se=he()||D()||z()||M()||P()||V()||W()||Q()||N()||S();if(se&&!r.preserveStatic){var oe=!1;if(se.declarations)oe=se.declarations.some(function(Re){return/var\(/.test(Re.value)});else{var ue=se.keyframes||se.rules||[];oe=ue.some(function(Re){return(Re.declarations||[]).some(function(He){return/var\(/.test(He.value)})})}return oe?se:{}}return se}}function Ee(){if(!r.preserveStatic){var se=MF("{","}",n);if(se){var oe=/:(?:root|host)(?![.:#(])/.test(se.pre)&&/--\S*\s*:/.test(se.body),ue=/var\(/.test(se.body);if(!oe&&!ue)return n=n.slice(se.end+1),{}}}var Re=y()||[],He=r.preserveStatic?x():x().filter(function(ve){var Ce=Re.some(function(te){return/:(?:root|host)(?![.:#(])/.test(te)})&&/^--\S/.test(ve.property),Le=/var\(/.test(ve.value);return Ce||Le});return Re.length||o("selector missing"),{type:"rule",selectors:Re,declarations:He}}function Ne(se){if(!se&&!d())return o("missing '{'");for(var oe,ue=_();n.length&&(se||n[0]!=="}")&&(oe=ce()||Ee());)oe.type&&ue.push(oe),ue=ue.concat(_());return!se&&!h()?o("missing '}'"):ue}return{type:"stylesheet",stylesheet:{rules:Ne(!0),errors:i}}}function UD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},r=Sa({},t,e),i=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof n=="string"&&(n=N3(n,r)),n.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(u){return i.test(u)})||o.declarations.forEach(function(u,d){var h=u.property,f=u.value;h&&h.indexOf("--")===0&&(r.store[h]=f)})}),r.store}function LF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,r={charset:function(u){return"@charset "+u.name+";"},comment:function(u){return u.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+u.comment+"*/":""},"custom-media":function(u){return"@custom-media "+u.name+" "+u.media+";"},declaration:function(u){return u.property+":"+u.value+";"},document:function(u){return"@"+(u.vendor||"")+"document "+u.document+"{"+i(u.rules)+"}"},"font-face":function(u){return"@font-face{"+i(u.declarations)+"}"},host:function(u){return"@host{"+i(u.rules)+"}"},import:function(u){return"@import "+u.name+";"},keyframe:function(u){return u.values.join(",")+"{"+i(u.declarations)+"}"},keyframes:function(u){return"@"+(u.vendor||"")+"keyframes "+u.name+"{"+i(u.keyframes)+"}"},media:function(u){return"@media "+u.media+"{"+i(u.rules)+"}"},namespace:function(u){return"@namespace "+u.name+";"},page:function(u){return"@page "+(u.selectors.length?u.selectors.join(", "):"")+"{"+i(u.declarations)+"}"},"page-margin-box":function(u){return"@"+u.name+"{"+i(u.declarations)+"}"},rule:function(u){var d=u.declarations;if(d.length)return u.selectors.join(",")+"{"+i(d)+"}"},supports:function(u){return"@supports "+u.supports+"{"+i(u.rules)+"}"}};function i(o){for(var u="",d=0;d<o.length;d++){var h=o[d];t&&t(h);var f=r[h.type](h);f&&(u+=f,f.length&&h.selectors&&(u+=e))}return u}return i(n.stylesheet.rules)}function PF(n,e){n.rules.forEach(function(t){if(t.rules){PF(t,e);return}if(t.keyframes){t.keyframes.forEach(function(r){r.type==="keyframe"&&e(r.declarations,t)});return}!t.declarations||e(t.declarations,n)})}var yse="--",Ese="var";function wse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=Sa({},t,e);return typeof n=="string"&&(n=N3(n,r)),PF(n.stylesheet,function(i,o){for(var u=0;u<i.length;u++){var d=i[u],h=d.type,f=d.property,v=d.value;if(h==="declaration"){if(!r.preserveVars&&f&&f.indexOf(yse)===0){i.splice(u,1),u--;continue}if(v.indexOf(Ese+"(")!==-1){var _=df(v,r);_!==d.value&&(_=xse(_),r.preserveVars?(i.splice(u,0,{type:h,property:f,value:_}),u++):d.value=_)}}}}),LF(n)}function xse(n){var e=/calc\(([^)]+)\)/g;return(n.match(e)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));n=n.replace(t,r)}),n}function df(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(n.indexOf("var(")===-1)return n;var r=MF("(",")",n);function i(u){var d=u.split(",")[0].replace(/[\s\n\t]/g,""),h=(u.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],f=Object.prototype.hasOwnProperty.call(e.variables,d)?String(e.variables[d]):void 0,v=f||(h?String(h):void 0),_=t||u;return f||e.onWarning('variable "'.concat(d,'" is undefined')),v&&v!=="undefined"&&v.length>0?df(v,e,_):"var(".concat(_,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(e.onWarning("var() must contain a non-whitespace string"),n):r.pre.slice(0,-3)+i(r.body)+df(r.post,e)}else return r.pre+"(".concat(df(r.body,e),")")+df(r.post,e);else return n.indexOf("var(")!==-1&&e.onWarning('missing closing ")" in the value "'.concat(n,'"')),n}var Xv=typeof window<"u",LD=Xv&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),gc={group:0,job:0},og={rootElement:Xv?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},xo={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},Hr={dom:{},job:{},user:{}},Ig=!1,Za=null,hf=0,U2=null,L2=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function ll(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e="cssVars(): ",t=Sa({},og,n);function r(v,_,y,E){!t.silent&&window.console&&console.error("".concat(e).concat(v,`
`),_),t.onError(v,_,y,E)}function i(v){!t.silent&&window.console&&console.warn("".concat(e).concat(v)),t.onWarning(v)}function o(v){t.onFinally(Boolean(v),LD,uE()-t.__benchmark)}if(!!Xv){if(t.watch){t.watch=og.watch,kse(t),ll(t);return}else t.watch===!1&&Za&&(Za.disconnect(),Za=null);if(!t.__benchmark){if(Ig===t.rootElement){Cse(n);return}var u=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=uE(),t.exclude=[Za?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(v){return v}).join(","),t.variables=Tse(t.variables),u.forEach(function(v){var _=v.nodeName.toLowerCase()==="style"&&v.__cssVars.text,y=_&&v.textContent!==v.__cssVars.text;_&&y&&(v.sheet&&(v.sheet.disabled=!1),v.setAttribute("data-cssvars",""))}),!Za){var d=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));d.forEach(function(v){var _=v.getAttribute("data-cssvars-group"),y=_?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(_,'"]')):null;y||v.parentNode.removeChild(v)}),hf&&u.length<hf&&(hf=u.length,Hr.dom={})}}if(document.readyState!=="loading")if(LD&&t.onlyLegacy){var h=!1;if(t.updateDOM){var f=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(v){var _=t.variables[v];h=h||_!==getComputedStyle(f).getPropertyValue(v),f.style.setProperty(v,_)})}o(h)}else!L2&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?MD({rootElement:og.rootElement,include:og.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(_,y,E){var x=(y.sheet||{}).disabled&&!y.__cssVars;return x?!1:(_=_.replace(xo.cssComments,"").replace(xo.cssMediaQueries,""),_=(_.match(xo.cssVarDeclRules)||[]).join(""),_||!1)},onComplete:function(_,y,E){UD(_,{store:Hr.dom,onWarning:i}),L2=!0,ll(t)}}):(Ig=t.rootElement,MD({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(_,y,E){var x=_.responseURL||FF(E,location.href),C=_.statusText?"(".concat(_.statusText,")"):"Unspecified Error"+(_.status===0?" (possibly CORS related)":""),M="CSS XHR Error: ".concat(x," ").concat(_.status," ").concat(C);r(M,y,_,x)},onSuccess:function(_,y,E){var x=(y.sheet||{}).disabled&&!y.__cssVars;if(x)return!1;var C=y.nodeName.toLowerCase()==="link",M=y.nodeName.toLowerCase()==="style"&&_!==y.textContent,N=t.onSuccess(_,y,E);return _=N!==void 0&&Boolean(N)===!1?"":N||_,t.updateURLs&&(C||M)&&(_=Nse(_,E)),_},onComplete:function(_,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],x=Sa({},Hr.dom,Hr.user),C=!1;if(Hr.job={},E.forEach(function(W,V){var he=y[V];if(W.__cssVars=W.__cssVars||{},W.__cssVars.text=he,xo.cssVars.test(he))try{var ce=N3(he,{preserveStatic:t.preserveStatic,removeComments:!0});UD(ce,{parseHost:Boolean(t.rootElement.host),store:Hr.dom,onWarning:i}),W.__cssVars.tree=ce}catch(Ee){r(Ee.message,W)}}),Sa(Hr.job,Hr.dom),t.updateDOM?(Sa(Hr.user,t.variables),Sa(Hr.job,Hr.user)):(Sa(Hr.job,Hr.user,t.variables),Sa(x,t.variables)),C=gc.job>0&&Boolean(Object.keys(Hr.job).length>Object.keys(x).length||Boolean(Object.keys(x).length&&Object.keys(Hr.job).some(function(W){return Hr.job[W]!==x[W]}))),C)P2(t.rootElement),ll(t);else{var M=[],N=[],S=!1;if(t.updateDOM&&gc.job++,E.forEach(function(W,V){var he=!W.__cssVars.tree;if(W.__cssVars.tree)try{wse(W.__cssVars.tree,Sa({},t,{variables:Hr.job,onWarning:i}));var ce=LF(W.__cssVars.tree);if(t.updateDOM){var Ee=y[V],Ne=xo.cssVarFunc.test(Ee);if(W.getAttribute("data-cssvars")||W.setAttribute("data-cssvars","src"),ce.length&&Ne){var se=W.getAttribute("data-cssvars-group")||++gc.group,oe=ce.replace(/\s/g,""),ue=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(se,'"]'))||document.createElement("style");S=S||xo.cssKeyframes.test(ce),t.preserveStatic&&W.sheet&&(W.sheet.disabled=!0),ue.hasAttribute("data-cssvars")||ue.setAttribute("data-cssvars","out"),oe===W.textContent.replace(/\s/g,"")?(he=!0,ue&&ue.parentNode&&(W.removeAttribute("data-cssvars-group"),ue.parentNode.removeChild(ue))):oe!==ue.textContent.replace(/\s/g,"")&&([W,ue].forEach(function(Re){Re.setAttribute("data-cssvars-job",gc.job),Re.setAttribute("data-cssvars-group",se)}),ue.textContent=ce,M.push(ce),N.push(ue),ue.parentNode||W.parentNode.insertBefore(ue,W.nextSibling))}}else W.textContent.replace(/\s/g,"")!==ce&&M.push(ce)}catch(Re){r(Re.message,W)}he&&W.setAttribute("data-cssvars","skip"),W.hasAttribute("data-cssvars-job")||W.setAttribute("data-cssvars-job",gc.job)}),hf=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var D=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),P=0,Q;Q=D[P];++P)if(Q.shadowRoot&&Q.shadowRoot.querySelector("style")){var z=Sa({},t,{rootElement:Q.shadowRoot});ll(z)}}t.updateDOM&&S&&Sse(t.rootElement),Ig=!1,t.onComplete(M.join(""),N,JSON.parse(JSON.stringify(Hr.job)),uE()-t.__benchmark),o(N.length)}}}));else document.addEventListener("DOMContentLoaded",function v(_){ll(n),document.removeEventListener("DOMContentLoaded",v)})}}ll.reset=function(){gc.job=0,gc.group=0,Ig=!1,Za&&(Za.disconnect(),Za=null),hf=0,U2=null,L2=!1;for(var n in Hr)Hr[n]={}};function kse(n){function e(h){var f=t(h)&&h.hasAttribute("disabled"),v=(h.sheet||{}).disabled;return f||v}function t(h){var f=h.nodeName.toLowerCase()==="link"&&(h.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return f}function r(h){return h.nodeName.toLowerCase()==="style"}function i(h){var f=!1;if(h.type==="attributes"&&t(h.target)&&!e(h.target)){var v=h.attributeName==="disabled",_=h.attributeName==="href",y=h.target.getAttribute("data-cssvars")==="skip",E=h.target.getAttribute("data-cssvars")==="src";v?f=!y&&!E:_&&(y?h.target.setAttribute("data-cssvars",""):E&&P2(n.rootElement,!0),f=!0)}return f}function o(h){var f=!1;if(h.type==="childList"){var v=r(h.target),_=h.target.getAttribute("data-cssvars")==="out";f=v&&!_}return f}function u(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.addedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.hasAttribute("data-cssvars"),E=r(v)&&xo.cssVars.test(v.textContent),x=!y&&(t(v)||E);return x&&!e(v)})),f}function d(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.removedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.getAttribute("data-cssvars")==="out",E=_&&v.getAttribute("data-cssvars")==="src",x=E;if(E||y){var C=v.getAttribute("data-cssvars-group"),M=n.rootElement.querySelector('[data-cssvars-group="'.concat(C,'"]'));E&&P2(n.rootElement,!0),M&&M.parentNode.removeChild(M)}return x})),f}!window.MutationObserver||(Za&&(Za.disconnect(),Za=null),Za=new MutationObserver(function(h){var f=h.some(function(v){return i(v)||o(v)||u(v)||d(v)});f&&ll(n)}),Za.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Cse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(U2),U2=setTimeout(function(){n.__benchmark=null,ll(n)},e)}function Sse(n){var e=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(y){return getComputedStyle(document.body)[y]})[0];if(e){for(var t=[].slice.call(n.querySelectorAll("*")),r=[],i="__CSSVARSPONYFILL-KEYFRAMES__",o=0,u=t.length;o<u;o++){var d=t[o],h=getComputedStyle(d)[e];h!=="none"&&(d.style[e]+=i,r.push(d))}document.body.offsetHeight;for(var f=0,v=r.length;f<v;f++){var _=r[f].style;_[e]=_[e].replace(i,"")}}}function Nse(n,e){var t=n.replace(xo.cssComments,"").match(xo.cssUrls)||[];return t.forEach(function(r){var i=r.replace(xo.cssUrls,"$1"),o=FF(i,e);n=n.replace(r,r.replace(i,o))}),n}function Tse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=/^-{2}/;return Object.keys(n).reduce(function(t,r){var i=e.test(r)?r:"--".concat(r.replace(/^-+/,""));return t[i]=n[r],t},{})}function FF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=e,i.href=n,i.href}function uE(){return Xv&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function P2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(n.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(r){return r.setAttribute("data-cssvars","")}),e&&(Hr.dom={})}var Rc=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},F2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",t={en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect\u2026",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times per message.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message"}};return t[e]},lg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ise(n,e,t){t=t||{};var r;return typeof lg[n]=="string"?r=lg[n]:e===1?r=lg[n].one:r=lg[n].other.replace("{{count}}",e),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function cE(n){return function(e){var t=e||{},r=t.width?String(t.width):n.defaultWidth,i=n.formats[r]||n.formats[n.defaultWidth];return i}}var Ose={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ase={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mse={date:cE({formats:Ose,defaultWidth:"full"}),time:cE({formats:Ase,defaultWidth:"full"}),dateTime:cE({formats:Rse,defaultWidth:"full"})},Dse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Use(n,e,t,r){return Dse[n]}function ef(n){return function(e,t){var r=t||{},i=r.context?String(r.context):"standalone",o;if(i==="formatting"&&n.formattingValues){var u=n.defaultFormattingWidth||n.defaultWidth,d=r.width?String(r.width):u;o=n.formattingValues[d]||n.formattingValues[u]}else{var h=n.defaultWidth,f=r.width?String(r.width):n.defaultWidth;o=n.values[f]||n.values[h]}var v=n.argumentCallback?n.argumentCallback(e):e;return o[v]}}var Lse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function Gse(n,e){var t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var $se={ordinalNumber:Gse,era:ef({values:Lse,defaultWidth:"wide"}),quarter:ef({values:Pse,defaultWidth:"wide",argumentCallback:function(n){return Number(n)-1}}),month:ef({values:Fse,defaultWidth:"wide"}),day:ef({values:Hse,defaultWidth:"wide"}),dayPeriod:ef({values:qse,defaultWidth:"wide",formattingValues:Bse,defaultFormattingWidth:"wide"})};function zse(n){return function(e,t){var r=String(e),i=t||{},o=r.match(n.matchPattern);if(!o)return null;var u=o[0],d=r.match(n.parsePattern);if(!d)return null;var h=n.valueCallback?n.valueCallback(d[0]):d[0];return h=i.valueCallback?i.valueCallback(h):h,{value:h,rest:r.slice(u.length)}}}function nf(n){return function(e,t){var r=String(e),i=t||{},o=i.width,u=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],d=r.match(u);if(!d)return null;var h=d[0],f=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],v;return Object.prototype.toString.call(f)==="[object Array]"?v=Vse(f,function(_){return _.test(h)}):v=jse(f,function(_){return _.test(h)}),v=n.valueCallback?n.valueCallback(v):v,v=i.valueCallback?i.valueCallback(v):v,{value:v,rest:r.slice(h.length)}}}function jse(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function Vse(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}var Wse=/^(\d+)(th|st|nd|rd)?/i,Kse=/\d+/i,Qse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yse={any:[/^b/i,/^(a|c)/i]},Xse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jse={any:[/1/i,/2/i,/3/i,/4/i]},Zse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},noe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},toe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},roe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ioe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aoe={ordinalNumber:zse({matchPattern:Wse,parsePattern:Kse,valueCallback:function(n){return parseInt(n,10)}}),era:nf({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Yse,defaultParseWidth:"any"}),quarter:nf({matchPatterns:Xse,defaultMatchWidth:"wide",parsePatterns:Jse,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:nf({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:eoe,defaultParseWidth:"any"}),day:nf({matchPatterns:noe,defaultMatchWidth:"wide",parsePatterns:toe,defaultParseWidth:"any"}),dayPeriod:nf({matchPatterns:roe,defaultMatchWidth:"any",parsePatterns:ioe,defaultParseWidth:"any"})},soe={code:"en-US",formatDistance:Ise,formatLong:Mse,formatRelative:Use,localize:$se,match:aoe,options:{weekStartsOn:0,firstWeekContainsDate:1}},HF=soe,ro=k.createContext({stringSet:F2("en"),dateLocale:HF}),ooe=function(e){var t=e.children;return k.createElement(ro.Provider,{value:e},t)},m0=function(){return k.useContext(ro)},qF="INIT_SDK",T3="SET_SDK_LOADING",I3="RESET_SDK",H2="SDK_ERROR",loe="3.1.3",uoe=function(e){var t=e.sdkDispatcher,r=e.userDispatcher,i=e.sdk,o=e.onDisconnect;t({type:T3,payload:!0}),i&&i.disconnect?i.disconnect().then(function(){t({type:I3}),r({type:S3})}).finally(function(){o()}):o()},PD=function(e,t){var r=e.userId,i=e.appId,o=e.nickname,u=e.profileUrl,d=e.accessToken,h=e.configureSession,f=e.customApiHost,v=e.customWebSocketHost,_=e.sdk,y=e.logger,E=t.sdkDispatcher,x=t.userDispatcher;uoe({sdkDispatcher:E,userDispatcher:x,sdk:_,logger:y,onDisconnect:function(){y.info("Setup connection");var M=null;if(E({type:T3,payload:!0}),r&&i){var N={appId:i,modules:[new dse,new Lie]};f&&(N.customApiHost=f),v&&(N.customWebSocketHost=v);var S=bie.init(N);h&&typeof h=="function"&&(M=h(S),S.setSessionHandler(M)),S.addExtension("sb_uikit",loe);var D=function(z){E({type:qF,payload:S}),x({type:SF,payload:z}),(o!==z.nickname||u!==z.profileUrl)&&!(ID(o)&&ID(u))&&S.updateCurrentUserInfo({nickname:o||z.nickname,profileUrl:u||z.profileUrl}).then(function(W){x({type:NF,payload:W})})},P=function(z){y.error("Connection failed","".concat(z)),E({type:I3}),E({type:S3}),E({type:H2})};d?S.connect(r,d).then(function(Q){return D(Q)}).catch(function(Q){return P(Q)}):S.connect(r).then(function(Q){return D(Q)}).catch(function(Q){return P(Q)})}else E({type:H2}),y.warning("Connection failed","UserId or appId missing")}})},coe=function(e){if(e==null)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})},doe=function(e){U.exports.useLayoutEffect(function(){coe(e)||ll({variables:sn({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},e)})},[e])},BF={initialized:!1,loading:!1,sdk:{},error:!1};function hoe(n,e){switch(e.type){case T3:return wr(wr({},n),{},{initialized:!1,loading:e.payload});case H2:return wr(wr({},n),{},{initialized:!1,loading:!1,error:!0});case qF:return{sdk:e.payload,initialized:!0,loading:!1,error:!1};case I3:return BF;default:return n}}var GF={initialized:!1,loading:!1,user:{}};function poe(n,e){switch(e.type){case SF:return{initialized:!0,loading:!1,user:e.payload};case S3:return GF;case NF:return wr(wr({},n),{},{user:e.payload});default:return n}}function foe(n,e){var t=U.exports.useState(!0),r=sl(t,2),i=r[0],o=r[1];return U.exports.useEffect(function(){var u=Rc();try{e.warning("sdk changed",u);var d=new tF;d.onDisconnected=function(){e.warning("onDisconnected",{isOnline:i})},d.onReconnectStarted=function(){o(!1),e.warning("onReconnectStarted",{isOnline:i})},d.onReconnectSucceeded=function(){o(!0),e.warning("onReconnectSucceeded",{isOnline:i})},d.onReconnectFailed=function(){n.reconnect(),e.warning("onReconnectFailed")},e.info("Added ConnectionHandler",u),n!=null&&n.addConnectionHandler&&n.addConnectionHandler(u,d)}catch{}return function(){try{n.removeConnectionHandler(u),e.info("Removed ConnectionHandler",u)}catch{}}},[n]),U.exports.useEffect(function(){var u=function(){try{e.warning("Try reconnecting SDK"),n.connectionState!=="OPEN"&&n.reconnect()}catch{}};return window.addEventListener("online",u),function(){window.removeEventListener("online",u)}},[n]),U.exports.useEffect(function(){var u=document.querySelector("body");if(i)try{u.classList.remove("sendbird__offline"),e.info("Removed class sendbird__offline from body")}catch{}else try{u.classList.add("sendbird__offline"),e.info("Added class sendbird__offline to body")}catch{}},[i]),i}var Xa={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},moe=function(e){switch(e){case Xa.WARNING:return"color: Orange";case Xa.ERROR:return"color: Red";default:return"color: Gray"}},goe=function(e){var t=e.level,r=e.title,i=e.description,o=i===void 0?"":i;console.log("%c SendbirdUIKit | ".concat(t," | ").concat(new Date().toISOString()," | ").concat(r," ").concat(o&&"|"),moe(t),o)},voe=function(){return{info:function(){},error:function(){},warning:function(){}}},FD=function(e,t){var r=t||goe,i=Array.isArray(e)?e:[e],o=function(h){return function(f,v){return r({level:h,title:f,description:v})}},u=i.reduce(function(d,h){return h===Xa.DEBUG||h===Xa.ALL?wr(wr({},d),{},{info:o(Xa.INFO),error:o(Xa.ERROR),warning:o(Xa.WARNING)}):h===Xa.INFO?wr(wr({},d),{},{info:o(Xa.INFO)}):h===Xa.ERROR?wr(wr({},d),{},{error:o(Xa.ERROR)}):h===Xa.WARNING?wr(wr({},d),{},{warning:o(Xa.WARNING)}):wr({},d)},voe());return u},_oe=function(){var n={},e=n.hasOwnProperty;return{__getTopics:function(){return n},subscribe:function(r,i){e.call(n,r)||(n[r]=[]);var o=n[r].push(i)-1;return{remove:function(){delete n[r][o]}}},publish:function(r,i){!e.call(n,r)||n[r].forEach(function(o){o(i!==void 0?i:{})})}}};function boe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;U.exports.useEffect(function(){var t=document.querySelector(e);return n.forEach(function(r){var i=document.createElement("div");i.setAttribute("id",r),t.appendChild(i)}),function(){n.forEach(function(r){var i=document.getElementById(r);i&&t.removeChild(i)})}},[])}function O3(n){var e=n.userId,t=n.dateLocale,r=n.appId,i=n.accessToken,o=n.configureSession,u=n.customApiHost,d=n.customWebSocketHost,h=n.children,f=n.disableUserProfile,v=n.renderUserProfile,_=n.allowProfileEdit,y=n.theme,E=n.nickname,x=n.profileUrl,C=n.userListQuery,M=n.config,N=M===void 0?{}:M,S=n.colorSet,D=n.stringSet,P=n.imageCompression,Q=n.isReactionEnabled,z=n.isMentionEnabled,W=n.isTypingIndicatorEnabledOnChannelList,V=n.isMessageReceiptStatusEnabledOnChannelList,he=N.logLevel,ce=he===void 0?"":he,Ee=N.userMention,Ne=Ee===void 0?{}:Ee,se=N.isREMUnitEnabled,oe=se===void 0?!1:se,ue=U.exports.useState(FD(ce)),Re=sl(ue,2),He=Re[0],ve=Re[1],Ce=U.exports.useState(),Le=sl(Ce,2),te=Le[0],X=Le[1],ge=U.exports.useReducer(hoe,BF),Ke=sl(ge,2),qe=Ke[0],Te=Ke[1],xe=U.exports.useReducer(poe,GF),Oe=sl(xe,2),Je=Oe[0],bn=Oe[1];doe(S),U.exports.useEffect(function(){X(_oe())},[]),U.exports.useEffect(function(){He.info("App Init"),PD({userId:e,appId:r,accessToken:i,sdkStore:qe,nickname:E,profileUrl:x,configureSession:o,customApiHost:u,customWebSocketHost:d,sdk:qe.sdk,logger:He},{sdkDispatcher:Te,userDispatcher:bn})},[e,r,i]),U.exports.useEffect(function(){ve(FD(ce))},[ce]),boe(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var An=U.exports.useState(y),hn=sl(An,2),Dn=hn[0],rn=hn[1];U.exports.useEffect(function(){rn(y)},[y]),U.exports.useEffect(function(){var Cn=document.querySelector("body");Cn.classList.remove("sendbird-experimental__rem__units"),oe&&Cn.classList.add("sendbird-experimental__rem__units")},[oe]),U.exports.useEffect(function(){He.info("Setup theme","Theme: ".concat(Dn));try{var Cn=document.querySelector("body");Cn.classList.remove("sendbird-theme--light"),Cn.classList.remove("sendbird-theme--dark"),Cn.classList.add("sendbird-theme--".concat(Dn||"light")),He.info("Finish setup theme")}catch($){He.warning("Setup theme failed","".concat($))}return function(){try{var $=document.querySelector("body");$.classList.remove("sendbird-theme--light"),$.classList.remove("sendbird-theme--dark")}catch{}}},[Dn]);var Rn=foe(qe.sdk,He),yn=k.useMemo(function(){return D?wr(wr({},F2("en")),D):F2("en")},[D]);return k.createElement(c3.Provider,{value:{stores:{sdkStore:qe,userStore:Je},dispatchers:{sdkDispatcher:Te,userDispatcher:bn,reconnect:function(){PD({userId:e,appId:r,accessToken:i,sdkStore:qe,nickname:E,profileUrl:x,logger:He,sdk:qe.sdk},{sdkDispatcher:Te,userDispatcher:bn})}},config:{disableUserProfile:f,renderUserProfile:v,allowProfileEdit:_,isOnline:Rn,userId:e,appId:r,accessToken:i,theme:Dn,setCurrenttheme:rn,userListQuery:C,logger:He,pubSub:te,imageCompression:P,isReactionEnabled:Q,isMentionEnabled:z||!1,userMention:{maxMentionCount:(Ne==null?void 0:Ne.maxMentionCount)||10,maxSuggestionCount:(Ne==null?void 0:Ne.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:W,isMessageReceiptStatusEnabledOnChannelList:V}}},k.createElement(ooe,{stringSet:yn,dateLocale:t},h))}O3.propTypes={userId:de.exports.string.isRequired,appId:de.exports.string.isRequired,accessToken:de.exports.string,customApiHost:de.exports.string,customWebSocketHost:de.exports.string,configureSession:de.exports.func,children:de.exports.oneOfType([de.exports.element,de.exports.arrayOf(de.exports.element),de.exports.any]).isRequired,theme:de.exports.string,nickname:de.exports.string,dateLocale:de.exports.shape({}),profileUrl:de.exports.string,disableUserProfile:de.exports.bool,renderUserProfile:de.exports.func,allowProfileEdit:de.exports.bool,userListQuery:de.exports.func,config:de.exports.shape({logLevel:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),pubSub:de.exports.shape({subscribe:de.exports.func,publish:de.exports.func}),userMention:de.exports.shape({maxMentionCount:de.exports.number,maxSuggestionCount:de.exports.number}),isREMUnitEnabled:de.exports.bool}),stringSet:de.exports.objectOf(de.exports.string),colorSet:de.exports.objectOf(de.exports.string),isReactionEnabled:de.exports.bool,isMentionEnabled:de.exports.bool,imageCompression:de.exports.shape({compressionRate:de.exports.number,resizingWidth:de.exports.oneOfType([de.exports.number,de.exports.string]),resizingHeight:de.exports.oneOfType([de.exports.number,de.exports.string])}),isTypingIndicatorEnabledOnChannelList:de.exports.bool,isMessageReceiptStatusEnabledOnChannelList:de.exports.bool};O3.defaultProps={accessToken:"",customApiHost:null,customWebSocketHost:null,configureSession:null,theme:"light",nickname:"",dateLocale:null,profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{},isReactionEnabled:!0,isMentionEnabled:!1,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1};var yoe=`.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        margin-left: 8px;
        margin-bottom: 12px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50:  #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50:  #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: 'Roboto', sans-serif;
  --sendbird-message-balloon-width: 404px; }

.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem; }

.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem; }

.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: .875rem; }
  .sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
    font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: .75rem; }

.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-list {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-list {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px; }

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden; }

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default); }

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px; }

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px; }

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal; }

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px; }
  .sendbird-iconbutton .sendbird-iconbutton__inner {
    height: 100%; }
    .sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-iconbutton:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-iconbutton:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-iconbutton:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-iconbutton:active {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-iconbutton:disabled {
    cursor: not-allowed !important; }
    .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
    cursor: pointer; }
  .sendbird-channel-header .sendbird-channel-header__title {
    display: flex;
    flex-direction: row;
    width: 260px;
    height: 48px;
    border-radius: 4px; }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-dark-background-500); }
    .sendbird-channel-header .sendbird-channel-header__title:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
      width: 48px;
      padding: 8px;
      box-sizing: border-box; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
      margin-left: 4px;
      padding-top: 8px; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
      display: block;
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-channel-header .sendbird-channel-header__right-icon {
    position: absolute;
    right: 16px;
    top: 16px; }

.sendbird-image-renderer {
  overflow: hidden;
  position: relative; }

.sendbird-image-renderer__hidden-image-loader {
  display: none; }

.sendbird-icon {
  display: inline-block; }
  .sendbird-icon:focus {
    outline: none; }

.sendbird-theme--light .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--light .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-icon-color--white [class*='fill'] {
  fill: #ffffff; }

.sendbird-icon-color--gray [class*='fill'] {
  fill: var(--sendbird-light-onlight-04); }

.sendbird-theme--light .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-light-background-300); }

.sendbird-theme--dark .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-dark-background-400); }

.sendbird-theme--light .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-dark-error-200); }

.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative; }
  .sendbird-avatar:focus {
    outline: none; }
  .sendbird-avatar .sendbird-avatar-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
    transform: translate(2%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
    transform: translate(-102%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
    transform: translate(-50%, -102%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
    transform: translate(-77%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
    transform: translate(-23%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar-img--default {
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-dark-background-300); }

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px; }

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px; }

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-add-channel__rectangle .sendbird-icon {
    position: absolute;
    left: 22px;
    top: 24px; }

.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px; }

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-y: auto; }

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center; }

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-modal__content {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-04); }
  .sendbird-theme--dark .sendbird-modal__content {
    background-color: var(--sendbird-dark-background-500);
    box-shadow: var(--sendbird-dark-shadow-04); }
  .sendbird-modal__content .sendbird-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    cursor: pointer; }
    .sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-modal__content .sendbird-modal__header {
    margin-bottom: 16px; }
  .sendbird-modal__content .sendbird-modal__body {
    height: calc(100% - 116px); }
  .sendbird-modal__content .sendbird-modal__footer {
    margin-top: 32px;
    text-align: right; }
    .sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
      margin-left: 8px;
      width: 80px;
      height: 40px; }

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0; }
  .sendbird-theme--light .sendbird-modal__backdrop {
    background-color: var(--sendbird-light-overlay-02); }
  .sendbird-theme--dark .sendbird-modal__backdrop {
    background-color: var(--sendbird-dark-overlay-02); }

.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer; }
  .sendbird-button:hover {
    box-shadow: none; }
  .sendbird-button:focus {
    outline: none; }
  .sendbird-button:active {
    box-shadow: none; }
  .sendbird-button.sendbird-button__disabled {
    cursor: not-allowed; }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-button--big {
  height: 40px; }
  .sendbird-button--big .sendbird-button__text {
    margin: 10px 16px; }

.sendbird-button--small {
  height: 32px; }
  .sendbird-button--small .sendbird-button__text {
    margin: 6px 16px; }

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400); }

.sendbird-button--secondary {
  background-color: transparent; }
  .sendbird-theme--light .sendbird-button--secondary {
    border: 1px solid var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-button--secondary {
    border: 1px solid var(--sendbird-dark-ondark-03); }
  .sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:hover {
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary.sendbird-button__disabled {
    cursor: not-allowed;
    border: none; }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-dark-ondark-02); }
    .sendbird-button--secondary.sendbird-button__disabled:hover {
      border: none; }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-dark-background-400); }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-light-onlight-02); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-dark-ondark-02); }
  .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary:focus {
    border: 1px solid transparent;
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px; }
    .sendbird-theme--dark .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px; }
    .sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:active {
    box-shadow: none; }
    .sendbird-theme--light .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-button--danger:active {
  box-shadow: none; }
  .sendbird-theme--light .sendbird-button--danger:active {
    background-color: var(--sendbird-light-error-500); }
  .sendbird-theme--dark .sendbird-button--danger:active {
    background-color: var(--sendbird-dark-error-500); }

.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500); }

.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500); }

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-button--disabled {
    background-color: var(--sendbird-light-background-200);
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-button--disabled {
    background-color: var(--sendbird-dark-background-400);
    color: var(--sendbird-dark-onlight-01); }

.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px; }
  .sendbird-theme--light .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item .sendbird-user-list-item__avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    cursor: pointer; }
  .sendbird-user-list-item .sendbird-muted-avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    pointer-events: none; }
  .sendbird-user-list-item .sendbird-user-list-item__title {
    position: absolute;
    top: 17px;
    left: 56px;
    max-width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item .sendbird-user-list-item__action {
    position: absolute;
    right: 0;
    top: 10px; }
  .sendbird-user-list-item .sendbird-user-list-item__operator {
    position: absolute;
    right: 40px;
    top: 22px; }
    .sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
      right: 66px; }

.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block; }
  .sendbird-muted-avatar .sendbird-muted-avatar__icon {
    position: relative; }
    .sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
      position: absolute;
      top: 4px;
      left: 4px; }
  .sendbird-muted-avatar .sendbird-muted-avatar__bg {
    opacity: .5;
    position: absolute;
    border-radius: 50%;
    top: 0;
    left: 0; }
    .sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-dark-primary-300); }

.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none; }

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0; }

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit; }
  .sendbird-theme--light .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-light-background-400); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-dark-background-300); }
  .sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none; }

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block; }

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center; }
  .sendbird-theme--light .sendbird__user-profile {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird__user-profile {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird__user-profile .sendbird__user-profile-avatar {
    margin: 8px 0px; }
  .sendbird__user-profile .sendbird__user-profile-name {
    max-width: 250px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis; }
  .sendbird__user-profile .sendbird__user-profile-message {
    margin-top: 20px; }
    .sendbird__user-profile .sendbird__user-profile-message button {
      width: 272px; }
  .sendbird__user-profile .sendbird__user-profile-separator {
    margin: 24px 0px;
    height: 1px; }
    .sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-dark-ondark-04); }
  .sendbird__user-profile .sendbird__user-profile-userId--label,
  .sendbird__user-profile .sendbird__user-profile-userId--value {
    display: block;
    text-align: left; }
  .sendbird__user-profile .sendbird__user-profile-userId--label {
    margin-bottom: 8px; }

.sendbird-context-menu {
  display: 'inline'; }

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed; }

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
    cursor: pointer;
    white-space: nowrap;
    padding: 8px 16px; }
    .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
    margin: 4px; }

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center; }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
          max-width: 74px;
          justify-content: flex-end; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        display: flex;
        align-items: center;
        margin-left: 8px;
        margin-bottom: 12px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
          display: inline-flex;
          align-items: center;
          margin-right: 4px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-light-secondary-300); }
  .sendbird-theme--dark .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-dark-secondary-200); }

.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block; }
  .sendbird-theme--light .sendbird-badge {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-badge {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-badge .sendbird-badge__text {
    margin: 0px 6px; }

.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }
  .sendbird-mention-user-label:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-mention-user-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-mention-user-label {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-mention-user-label.reverse {
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-mention-user-label.reverse {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-mention-user-label.purple {
    font-family: Roboto;
    font-size: 18px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: normal;
    letter-spacing: normal; }
    .sendbird-theme--light .sendbird-mention-user-label.purple {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-mention-user-label.purple {
      color: var(--sendbird-dark-primary-200); }

.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-light-background-100);
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-dark-background-400);
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-reaction-button__inner {
    margin: 3px; }

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-light-primary-100);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-dark-primary-400);
    background-color: var(--sendbird-dark-primary-400); }
  .sendbird-reaction-button--selected:hover {
    border: solid 1px var(--sendbird-selected-reaction-button-border-hover); }
  .sendbird-reaction-button--selected__inner {
    margin: 3px; }
  .sendbird-reaction-button--selected.sendbird-reactions--pressed {
    display: block !important; }

.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%; }
  .sendbird-message-status .sendbird-message-status__icon {
    position: relative;
    display: inline-block;
    top: -2px; }
    .sendbird-message-status .sendbird-message-status__icon.hide-icon {
      display: none; }
  .sendbird-message-status .sendbird-message-status__text {
    position: relative;
    display: inline-block;
    margin-left: 4px; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
        cursor: pointer; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
        cursor: pointer; }

.sendbird-loader {
  display: inline-block;
  -webkit-animation: 1s infinite linear;
          animation: 1s infinite linear;
  -webkit-animation-name: rotate;
          animation-name: rotate; }

@-webkit-keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

@keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

.sendbird-edit-user-profile section {
  margin-top: 16px; }
  .sendbird-edit-user-profile section .sendbird-input-label {
    display: block;
    margin-bottom: 12px; }

.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px; }

.sendbird-edit-user-profile__img {
  position: relative; }

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px; }

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer; }

.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative; }
  .sendbird-input .sendbird-input__input {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    letter-spacing: normal;
    padding: 10px 16px;
    box-sizing: border-box;
    background-color: inherit; }
    .sendbird-theme--light .sendbird-input .sendbird-input__input {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03); }
    .sendbird-input .sendbird-input__input:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-light-onlight-01);
        border: solid 2px var(--sendbird-light-primary-300); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-dark-ondark-01);
        border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-light-onlight-01);
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-dark-ondark-01);
      border: solid 1px var(--sendbird-dark-primary-200); }
    .sendbird-input .sendbird-input__input:disabled {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-light-background-100);
        color: var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-dark-background-500);
        color: var(--sendbird-dark-ondark-03); }
  .sendbird-input .sendbird-input__placeholder {
    position: absolute;
    pointer-events: none;
    top: 10px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-dark-ondark-03); }

.sendbird-input-label {
  margin: 4px 0; }

.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block; }

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer; }

.sendbird-textbutton--disabled {
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-textbutton--disabled {
    color: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-textbutton--disabled {
    color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300); }

.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%; }
  .sendbird-place-holder .sendbird-place-holder__body {
    display: flex;
    flex-direction: column;
    height: 104px;
    align-items: center; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
      margin-bottom: 10px; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
      margin-top: 10px; }
  .sendbird-place-holder .sendbird-place-holder__body__reconnect {
    margin-top: 18px;
    display: flex;
    flex-direction: row;
    cursor: pointer; }
    .sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
      margin-right: 4px; }
  .sendbird-place-holder .sendbird-place-holder__body--align-top {
    position: absolute;
    top: 24px;
    display: flex;
    width: 100%;
    flex-direction: column;
    justify-content: center; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
      display: flex;
      flex-direction: row;
      justify-content: center;
      padding-left: 16px;
      padding-right: 16px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
        display: flex;
        min-width: 60px;
        margin-right: 2px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
        display: block;
        max-width: calc(100% - 62px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
      display: flex;
      justify-content: center; }

.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-conversation {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-conversation {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-conversation__messages {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2; }

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end; }

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px; }

@-webkit-keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@-webkit-keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@-webkit-keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

.sendbird-msg-hoc__animated .sendbird-message-content {
  -webkit-animation: bounce 1s ease;
          animation: bounce 1s ease; }

@-webkit-keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

@keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  -webkit-animation-name: sbTextHighlight;
          animation-name: sbTextHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body
.sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body
.sendbird-og-message-item-body__cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column; }
  .sendbird-conversation__scroll-container .sendbird-conversation__padding {
    flex: 1 1 0; }

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px; }
  .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
    position: absolute;
    display: inline-flex;
    bottom: 8px; }
    .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
      margin-left: 24px;
      margin-right: 10px; }

.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px; }

.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow: scroll; }

.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px; }

.sendbird-conversation__scroll-bottom-button {
  position: -webkit-sticky;
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1; }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-05); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-dark-background-400);
    box-shadow: var(--sendbird-dark-shadow-05); }
  .sendbird-conversation__scroll-bottom-button:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-conversation__scroll-bottom-button:focus {
    outline: none; }

.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px; }
  .sendbird-theme--light .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
      position: relative;
      display: inline-block; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
      position: relative;
      display: inline-block;
      margin-left: 16px;
      max-width: calc(100% - 250px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
      position: absolute;
      display: inline-block;
      right: 16px;
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
      margin-right: 4px; }

.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center; }
  .sendbird-separator .sendbird-separator__left {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__right {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__text {
    margin: 0px 16px;
    display: flex;
    white-space: nowrap; }

.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative; }
  .sendbird-message-input .sendbird-message-input--textarea {
    width: 100%;
    border-radius: 4px;
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    height: 56px;
    overflow-y: hidden;
    letter-spacing: normal;
    padding: 18px 64px 18px 16px;
    box-sizing: border-box;
    resize: none;
    font-family: var(--sendbird-font-family-default);
    background-color: inherit;
    white-space: pre-wrap; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03);
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-message-input .sendbird-message-input--textarea:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-light-onlight-01);
        border: solid 1px var(--sendbird-light-primary-300);
        box-shadow: var(--sendbird-light-shadow-message-input); }
      .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-dark-ondark-01);
        border: solid 1px var(--sendbird-dark-primary-200);
        box-shadow: var(--sendbird-dark-shadow-message-input); }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-message-input .sendbird-message-input--placeholder {
    position: absolute;
    pointer-events: none;
    top: 18px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-dark-ondark-03); }
  .sendbird-message-input .sendbird-message-input--attach {
    position: absolute;
    right: 12px;
    bottom: 18px;
    padding: 6px; }
  .sendbird-message-input .sendbird-message-input--send {
    position: absolute;
    padding: 6px;
    right: 16px;
    bottom: 16px; }
  .sendbird-message-input .sendbird-message-input--attach-input {
    display: none; }

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-input__edit {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-message-input__edit {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px; }
  .sendbird-message-input--edit-action button:last-child {
    margin-left: 8px; }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
    width: 80px; }
    .sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-dark-ondark-03); }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
    width: 80px; }

.sendbird-message-input-form__disabled {
  cursor: not-allowed; }

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled; }
  .sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-input__disabled svg {
    fill: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-message-input__disabled svg {
    fill: var(--sendbird-dark-ondark-03); }

.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%; }
  .sendbird-message-content.incoming {
    justify-content: flex-start; }
  .sendbird-message-content.outgoing {
    justify-content: flex-end; }
  .sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
    margin-top: -8px;
    bottom: -8px; }

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px; }
  .sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
    position: absolute;
    left: 0px;
    bottom: 2px; }

.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-start; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
    position: absolute;
    bottom: 6px;
    right: -84px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    min-width: 80px; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
      display: none; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
    position: relative;
    margin-left: 12px;
    margin-bottom: 4px; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }

.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
    width: 70px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
    padding-top: 2px; }
    .sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
      padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
    position: relative;
    flex-direction: row;
    height: 32px;
    display: none; }
    .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
    width: 70px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
    top: 18px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
    position: absolute;
    top: 2px;
    right: 4px;
    flex-direction: row;
    display: none; }
    .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-end; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
    position: relative;
    width: -webkit-fit-content;
    width: -moz-fit-content;
    width: fit-content; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
      position: absolute;
      bottom: 2px;
      left: -84px;
      white-space: nowrap;
      display: flex;
      justify-content: flex-end;
      box-sizing: content-box;
      min-width: 80px;
      min-height: 16px; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
        display: none; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
        position: relative;
        display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column; }
  .sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
    width: 100%;
    box-sizing: border-box; }

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px; }
  .sendbird-theme--light .sendbird-message-content-reactions {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-content-reactions {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-dark-primary-300); }

.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none; }

.sendbird-text {
  color: var(--primary-1); }

.sendbird-emoji-reactions {
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px; }
  .sendbird-theme--light .sendbird-emoji-reactions {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-emoji-reactions {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
    display: inline-flex;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px; }
  .sendbird-emoji-reactions:focus {
    outline: none; }

.sendbird-emoji-reactions__add-reaction-badge {
  display: inline-flex;
  width: 36px;
  height: 24px; }

.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px; }
  .sendbird-theme--light .sendbird-tooltip {
    background-color: var(--sendbird-light-background-700); }
  .sendbird-theme--dark .sendbird-tooltip {
    background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip::after {
    content: '';
    position: absolute;
    bottom: -4px;
    width: 8px;
    height: 8px;
    transform: rotate(45deg); }
    .sendbird-theme--light .sendbird-tooltip::after {
      background-color: var(--sendbird-light-background-700); }
    .sendbird-theme--dark .sendbird-tooltip::after {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip__text {
    font-family: var(--sendbird-font-family-default);
    font-size: 12px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.33;
    letter-spacing: normal; }

.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex; }
  .sendbird-tooltip-wrapper__hover-tooltip {
    position: absolute;
    display: inline-flex;
    width: 200px; }
    .sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
      position: relative;
      display: inline-flex; }

.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge--is-add:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }
  .sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    left: 8px; }

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-light-primary-100);
    border: solid 1px var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-dark-primary-400);
    border: solid 1px var(--sendbird-dark-primary-400); }
  .sendbird-reaction-badge--selected:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    position: absolute;
    top: 2px;
    left: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
    margin-left: 4px; }

.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center; }
  .sendbird-admin-message .sendbird-admin-message__text {
    display: flex; }

.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word; }
  .sendbird-text-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
    display: inline;
    margin: 0px 2px; }

div.sendbird-text-message-item-body {
  margin: 0px; }

.sendbird-word {
  display: inline-flex;
  margin-right: 4px;
  height: -webkit-fit-content;
  height: -moz-fit-content;
  height: fit-content; }
  .sendbird-word .sendbird-word__url,
  .sendbird-word .sendbird-word__normal {
    display: inline-block; }

.sendbird-link-label {
  text-decoration: unset; }
  .sendbird-link-label:hover {
    cursor: pointer;
    text-decoration: underline; }
  .sendbird-link-label:focus {
    outline: none; }
  .sendbird-link-label__label {
    display: inline; }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-word .sendbird-word__mention {
  display: inline-block; }
  .sendbird-word .sendbird-word__mention:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-dark-onlight-01); }

.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px; }
  .sendbird-file-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin-right: 8px; }
    .sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
    position: relative;
    top: -6px; }

.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px; }
  .sendbird-thumbnail-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
    position: absolute;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
    position: absolute;
    top: 0px;
    display: none;
    width: 100%;
    height: 270px;
    border-radius: 16px;
    background-color: var(--sendbird-light-overlay-01); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
    position: absolute;
    width: 100%;
    height: 270px;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer; }
  .sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
    display: inline-flex; }

.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
    position: relative;
    padding: 8px 12px;
    box-sizing: border-box;
    border-radius: 16px 16px 0px 0px;
    word-break: break-word; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
      display: inline;
      margin: 0px 2px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
    position: relative;
    overflow: hidden; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center; }
  .sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
    border-radius: 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 8px 12px;
    display: flex;
    flex-direction: column;
    border-radius: 0px 0px 16px 16px; }
    .sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
      margin-bottom: 4px;
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block;
      margin: 4px 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
    display: none;
    position: absolute;
    top: 0%;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px 16px 0px 0px; }

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px; }

.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px; }
  .sendbird-unknown-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
    display: block; }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
    display: block; }

.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px; }
  .sendbird-quote-message.incoming {
    align-items: flex-start; }
  .sendbird-quote-message.outgoing {
    align-items: flex-end; }
  .sendbird-quote-message .sendbird-quote-message__replied-to {
    position: relative;
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    height: 16px;
    padding: 0px 12px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
      position: relative;
      margin-bottom: 4px;
      margin-right: 4px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
      position: relative;
      max-width: 360px;
      overflow: hidden;
      overflow-x: hidden;
      white-space: nowrap;
      word-break: keep-all;
      text-overflow: ellipsis;
      font-size: 12px; }
  .sendbird-quote-message .sendbird-quote-message__replied-message {
    position: relative;
    display: inline-flex; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
      position: relative;
      white-space: pre-wrap;
      word-break: break-all;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
        position: relative;
        display: inline-flex;
        max-height: 30px;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
      position: relative;
      width: 144px;
      height: 108px;
      border-radius: 6.4px;
      overflow: hidden; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
        position: absolute;
        top: 0px;
        display: inline-flex;
        width: 100%;
        height: 100%;
        opacity: 0.5; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center; }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        top: 0px; }
        .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
          position: relative;
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
          .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
          .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
      position: relative;
      display: inline-flex;
      flex-direction: row;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
        margin-right: 2px; }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-message-input-wrapper {
  position: relative;
  width: 100%; }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
    position: relative;
    width: 100%; }
    .sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding-left: 24px;
    padding-right: 24px; }

.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
    width: 44px;
    min-width: 44px;
    height: 44px;
    min-height: 44px;
    position: relative;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-quote_message_input .sendbird-quote_message_input__body {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    overflow: hidden; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-bottom: 8px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__close-button {
    position: absolute;
    top: 26px;
    right: 40px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
      cursor: pointer; }

.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-channel-settings .sendbird-channel-settings__header-icon {
    cursor: pointer;
    position: absolute;
    top: 16px;
    right: 16px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-channel-settings .sendbird-channel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-settings .sendbird-channel-settings__scroll-area {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    height: calc(100% - 64px);
    overflow-y: auto; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-item {
    cursor: pointer;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
      outline: none; }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    position: absolute;
    top: 10px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
    left: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    right: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
    transform: rotate(90deg); }
  .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-dark-ondark-01); }

.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-profile .sendbird-channel-profile--inner {
    height: 92px; }
  .sendbird-channel-profile .sendbird-channel-profile__avatar {
    margin-bottom: 16px;
    display: flex;
    justify-content: center; }
  .sendbird-channel-profile .sendbird-channel-profile__title {
    display: block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-channel-profile .sendbird-channel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }

.channel-profile-form .channel-profile-form__img-section {
  position: relative; }

.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px; }

.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px; }

.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px; }
  .channel-profile-form .channel-profile-form__name-section .sendbird-input {
    height: 40px; }

.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px; }

.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative; }

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow: scroll; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
    right: 72px; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
    max-width: 240px; }

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block; }

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px; }
  .sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
    margin-left: 8px; }

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px; }
  .sendbird-channel-settings__frozen-icon .sendbird-icon {
    cursor: pointer; }

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px; }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-light-onlight-02); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-dark-ondark-02); }

.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-accordion .sendbird-accordion__member {
    position: relative;
    padding: 12px 0px 12px 44px;
    height: 40px;
    box-sizing: border-box; }
  .sendbird-accordion .sendbird-accordion__footer {
    display: flex;
    justify-content: flex-start;
    margin-top: 8px; }

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-accordion__panel-header {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-accordion__panel-header {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-accordion__panel-header:focus {
    outline: none; }
  .sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
    cursor: not-allowed; }

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px; }

.sendbird-accordion__panel-icon-left {
  left: 16px; }

.sendbird-accordion__panel-icon-right {
  right: 16px; }

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg); }

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300); }

.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px; }
  .sendbird-user-list-item--small__avatar {
    cursor: pointer;
    position: absolute;
    top: 10px;
    left: 12px; }
  .sendbird-user-list-item--small .sendbird-muted-avatar {
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 2;
    pointer-events: none; }
  .sendbird-user-list-item--small__title {
    position: absolute;
    top: 10px;
    left: 54px;
    width: 160px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item--small__action {
    display: none;
    position: absolute;
    right: 10px;
    top: 4px; }
  .sendbird-user-list-item--small__operator {
    position: absolute;
    right: 24px;
    top: 10px; }
  .sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
    display: block; }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
    display: none; }
  .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-search-pannel {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-pannel {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
    position: absolute;
    top: 14px;
    left: 48px;
    margin: 0px;
    padding: 0px;
    border: 0px;
    outline: none;
    font-size: 14px;
    width: calc(100% - 90px); }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-light-onlight-01);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-dark-ondark-01);
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
    position: relative;
    display: flex;
    width: 100%;
    height: 64px;
    min-height: 64px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
      position: absolute;
      top: 20px;
      left: 24px;
      width: calc(100% - 74px);
      overflow-x: hidden;
      word-break: keep-all;
      text-overflow: ellipsis; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
      position: absolute;
      top: 16px;
      right: 16px; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input {
    display: flex;
    position: relative;
    padding: 16px;
    box-sizing: border-box; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
      position: relative;
      border-radius: 4px;
      width: 100%;
      height: 44px; }
      .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-dark-ondark-03); }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
        position: absolute;
        top: 10px;
        left: 16px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
        position: absolute;
        top: 12px;
        right: 12px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
        position: absolute;
        top: 12px;
        right: 12px; }
        .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
          cursor: pointer; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow-y: hidden; }

.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow: scroll; }
  .sendbird-theme--light .sendbird-message-search {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-item .sendbird-message-search-item__left {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-item .sendbird-message-search-item__right {
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 12px; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
      box-sizing: border-box;
      display: flex;
      width: inherit;
      height: 32px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 36px;
      word-break: break-word; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
      position: absolute;
      top: 12px;
      right: 18px; }
  .sendbird-message-search-item .sendbird-message-search-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__left {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
      position: absolute;
      top: 12px;
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
      position: absolute;
      top: 36px;
      box-sizing: border-box;
      width: 100%;
      height: 32px;
      display: flex;
      flex-direction: row;
      align-items: center; }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
        position: relative;
        margin-right: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        min-width: 26px;
        height: 26px;
        border-radius: 8px; }
        .sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-light-background-100); }
        .sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-dark-background-500); }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
        height: 16px;
        position: relative;
        display: flex;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: keep-all;
        white-space: nowrap; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
    position: absolute;
    top: 12px;
    right: 18px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box; }
  .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
    width: 320px;
    overflow-y: scroll;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-app__wrap .sendbird-app__conversation-wrap {
    flex: 1;
    position: relative;
    width: calc(100% - 320px); }
  .sendbird-app__wrap .sendbird-app__channellist-wrap {
    max-width: 320px; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-left: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-left: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-chat-header__search {
    margin-right: 16px; }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-channel-settings {
    border-left: none; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
    .sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
      height: 64px; }

.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-conversation {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-conversation {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
    overflow-y: auto;
    flex: 1 1 0;
    order: 2;
    width: 100%; }
  .sendbird-openchannel-conversation .sendbird-openchannel-footer {
    order: 3;
    padding: 12px 24px 24px 24px; }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
    display: flex;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column; }
    .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
      flex: 1 1 0; }

.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-dark-information-100); }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    bottom: 0px;
    height: 100%;
    overflow: hidden; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
      height: 8px; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
      width: 100%;
      height: 100%;
      overflow: scroll; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
      width: 100%;
      height: 100%; }
      .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
        width: 100%;
        height: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    bottom: 8px;
    left: calc(50% - 20px);
    width: 40px;
    height: 40px;
    border-radius: 24px;
    z-index: 1; }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-light-primary-300);
      box-shadow: var(--sendbird-light-shadow-05); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-dark-primary-200);
      box-shadow: var(--sendbird-dark-shadow-05); }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
      cursor: pointer; }
      .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-light-primary-400); }
      .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-dark-primary-300); }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-light-primary-500); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-dark-primary-400); }

.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
    display: block; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
      position: relative;
      display: flex;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 8px 24px 8px 12px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
      position: relative;
      display: flex;
      margin-bottom: 2px; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
      position: relative;
      display: flex;
      width: 100%; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
        position: relative;
        word-break: break-all; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
    position: absolute;
    right: 16px;
    display: none; }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
    word-wrap: break-word; }

.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
    display: block; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: row; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
      position: relative;
      display: flex;
      width: 52px;
      min-width: 52px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
        position: absolute;
        display: flex;
        top: 8px;
        left: 24px; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
      position: relative;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      margin: 8px 24px 8px 12px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
        position: relative;
        display: flex;
        margin-bottom: 2px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
          position: relative;
          display: flex; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
          position: relative;
          display: flex;
          margin-left: 4px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
        position: relative;
        display: inline;
        white-space: pre-wrap;
        word-break: break-all; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
      position: absolute;
      right: 16px;
      display: none; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-light-primary-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
    position: relative;
    display: inline;
    margin-bottom: 8px;
    width: 100%; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
      position: relative;
      display: inline-block;
      box-sizing: border-box;
      width: calc(100% - 64px);
      max-width: 360px;
      left: 64px;
      padding: 12px 12px 4px 12px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-light-onlight-04);
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-dark-ondark-04);
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
        position: relative;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 8px;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
        position: relative;
        display: inline-block;
        white-space: pre-wrap;
        overflow-wrap: normal;
        margin-bottom: 8px;
        max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-light-primary-300); }
          .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-dark-primary-200); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
        position: relative;
        display: block;
        white-space: pre-wrap;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        max-height: 32px;
        margin-bottom: 8px;
        width: 100%;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-top: 4px;
        margin-bottom: 8px;
        width: 100%; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
          cursor: pointer; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
    position: relative;
    left: 64px;
    top: 2px; }

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all; }

.sendbird-theme--light .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-dark-primary-200); }

.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
    display: block; }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
      position: absolute;
      display: inline;
      margin-top: 8px;
      margin-left: 28px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-left: 12px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
      position: relative;
      display: inline;
      margin-bottom: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
        position: relative;
        display: inline;
        margin-right: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
        position: relative;
        display: inline; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
      position: relative;
      display: flex;
      border-radius: 8px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
        opacity: 1; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
        position: relative;
        box-sizing: content-box; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
          position: absolute;
          opacity: 0;
          width: 100%;
          height: 100%;
          max-width: 360px;
          top: 0px;
          left: 0px;
          border-radius: 8px;
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-light-overlay-02); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-dark-overlay-02); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
          max-width: 360px;
          max-height: 360px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
            cursor: pointer; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
            max-width: 360px;
            max-height: 360px;
            border-radius: 8px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
            position: absolute;
            top: calc(50% - 28px);
            left: calc(50% - 28px); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
          border-radius: 8px; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-dark-background-500); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }

.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
    display: block; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
      position: absolute;
      display: block;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    margin-bottom: 4px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
      position: relative;
      display: flex;
      margin-top: 8px; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
      position: relative;
      display: flex;
      margin-top: 4px;
      margin-bottom: 4px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-light-background-100);
        border: solid 1px var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-dark-background-500);
        border: solid 1px var(--sendbird-dark-ondark-04); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
        position: relative;
        display: inline-block;
        margin: 8px;
        border-radius: 8.6px; }
        .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-light-background-50); }
        .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-dark-background-600); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
        position: relative;
        display: flex;
        margin-top: 22px;
        margin-right: 16px;
        margin-left: 4px;
        overflow: hidden;
        height: 20px;
        max-height: 20px;
        text-overflow: ellipsis;
        white-space: nowrap; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative; }
  .sendbird-theme--light .sendbird-openchannel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-participants-accordion__footer {
    text-align: left;
    padding-top: 16px;
    padding-left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
    position: absolute;
    left: 14px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
    position: absolute;
    left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
    height: 100%; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
      padding-top: 64px;
      height: calc(100% - 64px);
      overflow-y: scroll; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
      display: block;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0; }
      .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-settings .sendbird-participants-accordion,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
    text-align: left; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
    margin-top: 40%; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    padding: 16px;
    box-sizing: border-box;
    position: relative; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
      display: inline-block; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
      cursor: pointer;
      position: absolute;
      display: none;
      top: 10px;
      right: 18px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
      margin-top: 8px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
      text-align: left;
      display: block;
      word-wrap: break-word; }
  .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
    display: block;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
      outline: none; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member {
    position: relative;
    padding: 12px 0px 12px 56px;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
      max-width: 190px;
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
      position: absolute;
      right: 16px; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
      display: inline-block; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
    position: absolute;
    left: 16px;
    top: 10px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
    position: absolute;
    display: none;
    top: 4px;
    right: 8px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
  .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
    padding-top: 16px;
    display: flex;
    justify-content: left;
    padding-left: 12px; }
    .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
      margin-left: 8px; }

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll; }

.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
    height: 116px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
    margin-bottom: 16px;
    text-align: center; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__title {
    display: inline-block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }`;Zi(yoe);var Eoe=function(n){var e=n.userId,t=n.appId,r=n.accessToken,i=n.chatInstance;return ha(void 0,void 0,void 0,function(){var o;return pa(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Ir.exports.SendbirdLive.init({appId:t,chatInstance:i}),[4,Ir.exports.SendbirdLive.authenticate(e,r)];case 1:return u.sent(),[3,3];case 2:return o=u.sent(),console.error(o),[3,3];case 3:return[2]}})})},woe=function(){function n(){this._topics={},this._topics={}}return n.prototype.subscribe=function(e,t){var r=this;this._topics[e]||(this._topics[e]=[]);var i=this._topics[e].push(t)-1;return{remove:function(){delete r._topics[e][i]}}},n.prototype.publish=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];!this._topics[e]||this._topics[e].forEach(function(i){i.apply(void 0,t)})},n}(),Ao=k.createContext({});function Fh(){var n=U.exports.useContext(c3);return n}function xoe(n){var e=this,t,r,i,o,u=n.userId,d=n.appId,h=n.accessToken,f=n.customApiHost,v=n.customWebSocketHost,_=n.children,y=n.theme,E=n.colorSet,x=n.stringSet,C=n.imageSet,M=n.fontSet,N=U.exports.useState(!1),S=N[0],D=N[1],P=U.exports.useState(),Q=P[0],z=P[1],W=Fh(),V=(r=(t=W==null?void 0:W.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,he=(o=(i=W==null?void 0:W.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized;return U.exports.useEffect(function(){var ce=function(){return ha(e,void 0,void 0,function(){return pa(this,function(Ee){switch(Ee.label){case 0:return he?[4,Eoe({userId:u,appId:d,accessToken:h,chatInstance:V})]:[2];case 1:return Ee.sent(),z(new woe),D(!0),[2]}})})};ce()},[u,d,h,he]),k.createElement(Ao.Provider,{value:{userId:u,appId:d,accessToken:h,customApiHost:f,customWebSocketHost:v,children:_,theme:y,colorSet:E,stringSet:x,imageSet:C,fontSet:M,pubSub:Q}},S?_:k.createElement("div",null))}var HD=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(n){return"".concat(n,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(n){return"".concat(n," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(n){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(n){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(n){return"".concat(n)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function koe(n){var e=n.userId,t=n.appId,r=n.nickname,i=n.accessToken;n.customApiHost,n.customWebSocketHost,n.children,n.theme;var o=n.colorSet,u=n.stringSet,d=U.exports.useMemo(function(){return u?bu(bu({},HD()),u):HD()},[u]);return k.createElement(O3,{userId:e,appId:t,nickname:r,accessToken:i,colorSet:o},k.createElement(xoe,bu({},n,{stringSet:d})))}var qD,BD,GD;function q2(){return q2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},q2.apply(this,arguments)}var Coe=function(e){return U.exports.createElement("svg",q2({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},e),qD||(qD=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},U.exports.createElement("path",{d:"M112 0v64H0V0h112z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},U.exports.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),BD||(BD=U.exports.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),GD||(GD=U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},U.exports.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},U.exports.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},Soe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;Zi(Soe);function Noe(n){var e,t,r,i=n.liveEvent,o=n.onClick,u=n.showHostNickname,d=u===void 0?!0:u,h=n.showStatusLabel,f=h===void 0?!0:h,v=U.exports.useContext(Ao).stringSet,_=function(y){switch(y){case"created":return v.EVENT_STATUS_CREATED;case"ready":return v.EVENT_STATUS_READY;case"ongoing":return v.EVENT_STATUS_ONGOING;case"ended":return v.EVENT_STATUS_ENDED}};return k.createElement("div",{className:"live-event-elem",onClick:function(){return o(i)}},k.createElement("div",{className:"cover-image__wrapper"},i.coverUrl?k.createElement("img",{src:i.coverUrl,alt:"cover_image",className:"cover-image"}):k.createElement(Coe,{viewBox:"0 0 112 64",width:112,height:64})),k.createElement("div",{className:"detail"},k.createElement("div",{className:"title__wrapper"},k.createElement("div",{className:"title"},(e=i.title)!==null&&e!==void 0?e:v.CREATE_EVENT_DEFAULT_TITLE),k.createElement("div",{className:"participant-count__wrapper"},i.state===Ir.exports.LiveEventState.ONGOING?k.createElement("div",{className:"participant-icon--red"}):k.createElement("div",{className:"participant-icon--grey"}),k.createElement("div",{className:"participant-count"},(t=i.participantCount)!==null&&t!==void 0?t:0))),d&&k.createElement("div",{className:"created-by"},i.host?(r=i.host.nickname)!==null&&r!==void 0?r:"HOST":v.LIST_HOST_NICKNAME_PLACEHOLDER),f&&k.createElement("div",{className:"event-state--".concat(i.state)},_(i.state))))}var $D;function B2(){return B2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},B2.apply(this,arguments)}var Toe=function(e){return U.exports.createElement("svg",B2({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),$D||($D=U.exports.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function Ioe(n){var e=this,t=n.onClickCreate,r=n.onClickElem,i=n.queryParams,o=n.renderTitle,u=n.renderCreateButton,d=n.renderLiveEventElem,h=n.showStatusLabel,f=h===void 0?!0:h,v=n.showHostNickname,_=v===void 0?!0:v,y=U.exports.useContext(Ao).stringSet,E=i||{limit:20},x=U.exports.useState(Ir.exports.SendbirdLive.createLiveEventListQuery(E)),C=x[0],M=x[1],N=U.exports.useRef(null),S=U.exports.useState([]),D=S[0],P=S[1],Q=function(){return ha(e,void 0,void 0,function(){return pa(this,function(V){switch(V.label){case 0:return M(Ir.exports.SendbirdLive.createLiveEventListQuery(E)),N.current&&(N.current.scrollTop=0),[4,z(!0)];case 1:return V.sent(),[2]}})})},z=function(V){return ha(e,void 0,void 0,function(){var he;return pa(this,function(ce){switch(ce.label){case 0:if(!C.hasNext)return[2];ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,C.next()];case 2:return he=ce.sent(),V?P(he):(M(C),P(Ma(Ma([],D,!0),he,!0))),[3,4];case 3:return ce.sent(),[3,4];case 4:return[2]}})})},W=function(){if(N.current){var V=N.current,he=V.scrollTop,ce=V.scrollHeight,Ee=V.clientHeight;he+Ee===ce&&z(!1)}};return U.exports.useEffect(function(){Q()},[i]),k.createElement("div",{className:"live-event-list-view"},k.createElement("div",{className:"header"},(o==null?void 0:o())||k.createElement("div",{className:"title"},y.LIST_HEADER_TITLE),k.createElement("div",{className:"refresh",onClick:Q},k.createElement(Toe,{viewBox:"0 0 64 64",width:22,height:22})),(u==null?void 0:u())||k.createElement("div",{className:"create-button",onClick:t},y.LIST_HEADER_BUTTON)),k.createElement("div",{className:"list",ref:N,onScroll:W},D.map(function(V){return(d==null?void 0:d({liveEvent:V,onClick:r}))||k.createElement(Noe,{key:V.liveEventId,liveEvent:V,showStatusLabel:f,showHostNickname:_,onClick:r})})))}var mv="SEND_MESSAGE_START",gv="SEND_USER_MESSAGE",vv="SEND_FILE_MESSAGE",G2="UPDATE_USER_MESSAGE",$2="DELETE_MESSAGE",Ooe="CREATE_CHANNEL",Og=function(){},g0=k.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null}),A3=function(e){var t=e.children;return k.createElement(g0.Provider,{value:e},t)};A3.propTypes={children:de.exports.oneOfType([de.exports.element,de.exports.arrayOf(de.exports.element),de.exports.any]).isRequired,isOpenChannel:de.exports.bool,disableUserProfile:de.exports.bool,renderUserProfile:de.exports.func};A3.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var ds={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},yo={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function Aoe(n){switch(n){case ds.H_1:return"sendbird-label--h-1";case ds.H_2:return"sendbird-label--h-2";case ds.SUBTITLE_1:return"sendbird-label--subtitle-1";case ds.SUBTITLE_2:return"sendbird-label--subtitle-2";case ds.BODY_1:return"sendbird-label--body-1";case ds.BODY_2:return"sendbird-label--body-2";case ds.BUTTON_1:return"sendbird-label--button-1";case ds.BUTTON_2:return"sendbird-label--button-2";case ds.CAPTION_1:return"sendbird-label--caption-1";case ds.CAPTION_2:return"sendbird-label--caption-2";case ds.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function $F(n){switch(n){case yo.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case yo.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case yo.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case yo.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case yo.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case yo.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case yo.PRIMARY:return"sendbird-label--color-primary";case yo.ERROR:return"sendbird-label--color-error";case yo.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}function Yn(n){var e=n.className,t=n.type,r=n.color,i=n.children;return k.createElement("span",{className:[].concat(wc(Array.isArray(e)?e:[e]),["sendbird-label",t?Aoe(t):"",r?$F(r):""]).join(" ")},i)}Yn.propTypes={className:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),type:de.exports.oneOf(["H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3"]),color:de.exports.oneOf(["ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ONCONTENT_1","ONCONTENT_2","PRIMARY","ERROR","SECONDARY_3"]),children:de.exports.oneOfType([de.exports.string,de.exports.number,de.exports.element,de.exports.any])};Yn.defaultProps={className:[],type:"",color:"",children:null};var Qn=ds,qn=yo,Cu=k.forwardRef(function(n,e){var t=n.className,r=t===void 0?"":t,i=n.children,o=n.disabled,u=o===void 0?!1:o,d=n.width,h=d===void 0?"56px":d,f=n.height,v=f===void 0?"56px":f,_=n.type,y=_===void 0?"button":_,E=n.style,x=E===void 0?{}:E,C=n.onBlur,M=C===void 0?function(){}:C,N=n.onClick,S=N===void 0?function(){}:N,D=U.exports.useState(!1),P=D[0],Q=D[1];return k.createElement("button",{className:Hn(Hn([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",P?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:u,ref:e,type:y,style:sn(sn({},x),{height:v,width:h}),onClick:function(W){u||(Q(!0),S==null||S(W))},onBlur:function(W){Q(!1),M==null||M(W)}},k.createElement("span",{className:"sendbird-iconbutton__inner"},i))}),hs=function(e){var t=e.className,r=t===void 0?"":t,i=e.url,o=e.alt,u=o===void 0?"":o,d=e.width,h=d===void 0?null:d,f=e.height,v=f===void 0?null:f,_=e.circle,y=_===void 0?!1:_,E=e.fixedSize,x=E===void 0?!1:E,C=e.placeHolder,M=C===void 0?null:C,N=e.defaultComponent,S=N===void 0?null:N,D=e.onLoad,P=D===void 0?function(){}:D,Q=e.onError,z=Q===void 0?function(){}:Q,W=U.exports.useState(!1),V=W[0],he=W[1],ce=U.exports.useState(!0),Ee=ce[0],Ne=ce[1],se=U.exports.useMemo(function(){return typeof S=="function"?S():S},[S]),oe=U.exports.useMemo(function(){return M&&typeof M=="function"?M({style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null},[M]),ue=U.exports.useMemo(function(){return he(!1),k.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:i,alt:u,onLoad:function(){Ne(!1),P()},onError:function(){he(!0),z()}})},[i]);return k.createElement("div",{className:Hn(Hn([],Array.isArray(r)?r:[r],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v}},Ee&&oe,V?se:k.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(i,")"),borderRadius:y?"50%":null}}),ue)},Ue={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},zD;function z2(){return z2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},z2.apply(this,arguments)}function Roe(n){return U.exports.createElement("svg",z2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),zD||(zD=U.exports.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var jD;function j2(){return j2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},j2.apply(this,arguments)}function Moe(n){return U.exports.createElement("svg",j2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),jD||(jD=U.exports.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var VD;function V2(){return V2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},V2.apply(this,arguments)}function Doe(n){return U.exports.createElement("svg",V2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),VD||(VD=U.exports.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var WD;function W2(){return W2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},W2.apply(this,arguments)}function Uoe(n){return U.exports.createElement("svg",W2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),WD||(WD=U.exports.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var KD;function K2(){return K2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},K2.apply(this,arguments)}function Loe(n){return U.exports.createElement("svg",K2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),KD||(KD=U.exports.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var QD;function Q2(){return Q2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Q2.apply(this,arguments)}function Poe(n){return U.exports.createElement("svg",Q2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),QD||(QD=U.exports.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var YD;function Y2(){return Y2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y2.apply(this,arguments)}function Foe(n){return U.exports.createElement("svg",Y2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),YD||(YD=U.exports.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var XD;function X2(){return X2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X2.apply(this,arguments)}function Hoe(n){return U.exports.createElement("svg",X2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),XD||(XD=U.exports.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var JD;function J2(){return J2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},J2.apply(this,arguments)}function qoe(n){return U.exports.createElement("svg",J2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),JD||(JD=U.exports.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var ZD;function Z2(){return Z2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z2.apply(this,arguments)}function Boe(n){return U.exports.createElement("svg",Z2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ZD||(ZD=U.exports.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var eU;function ew(){return ew=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ew.apply(this,arguments)}function Goe(n){return U.exports.createElement("svg",ew({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),eU||(eU=U.exports.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var nU;function nw(){return nw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nw.apply(this,arguments)}function $oe(n){return U.exports.createElement("svg",nw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),nU||(nU=U.exports.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var tU;function tw(){return tw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tw.apply(this,arguments)}function zoe(n){return U.exports.createElement("svg",tw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),tU||(tU=U.exports.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var rU;function rw(){return rw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rw.apply(this,arguments)}function joe(n){return U.exports.createElement("svg",rw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),rU||(rU=U.exports.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var iU;function iw(){return iw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iw.apply(this,arguments)}function Voe(n){return U.exports.createElement("svg",iw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),iU||(iU=U.exports.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var aU;function aw(){return aw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aw.apply(this,arguments)}function Woe(n){return U.exports.createElement("svg",aw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),aU||(aU=U.exports.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var sU;function sw(){return sw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sw.apply(this,arguments)}function Koe(n){return U.exports.createElement("svg",sw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),sU||(sU=U.exports.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var oU;function ow(){return ow=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ow.apply(this,arguments)}function Qoe(n){return U.exports.createElement("svg",ow({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),oU||(oU=U.exports.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var lU;function lw(){return lw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lw.apply(this,arguments)}function Yoe(n){return U.exports.createElement("svg",lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),lU||(lU=U.exports.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var uU;function uw(){return uw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uw.apply(this,arguments)}function Xoe(n){return U.exports.createElement("svg",uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),uU||(uU=U.exports.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var cU;function cw(){return cw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cw.apply(this,arguments)}function Joe(n){return U.exports.createElement("svg",cw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),cU||(cU=U.exports.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var dU;function dw(){return dw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dw.apply(this,arguments)}function Zoe(n){return U.exports.createElement("svg",dw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},n),dU||(dU=U.exports.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var hU;function hw(){return hw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hw.apply(this,arguments)}function ele(n){return U.exports.createElement("svg",hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),hU||(hU=U.exports.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var pU;function pw(){return pw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pw.apply(this,arguments)}function nle(n){return U.exports.createElement("svg",pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),pU||(pU=U.exports.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var fU;function fw(){return fw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fw.apply(this,arguments)}function tle(n){return U.exports.createElement("svg",fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),fU||(fU=U.exports.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var mU;function mw(){return mw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mw.apply(this,arguments)}function rle(n){return U.exports.createElement("svg",mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),mU||(mU=U.exports.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var gU;function gw(){return gw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gw.apply(this,arguments)}function ile(n){return U.exports.createElement("svg",gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),gU||(gU=U.exports.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var vU;function vw(){return vw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vw.apply(this,arguments)}function ale(n){return U.exports.createElement("svg",vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),vU||(vU=U.exports.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var _U;function _w(){return _w=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_w.apply(this,arguments)}function sle(n){return U.exports.createElement("svg",_w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),_U||(_U=U.exports.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var bU;function bw(){return bw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bw.apply(this,arguments)}function ole(n){return U.exports.createElement("svg",bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),bU||(bU=U.exports.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var yU;function yw(){return yw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yw.apply(this,arguments)}function lle(n){return U.exports.createElement("svg",yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),yU||(yU=U.exports.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var EU;function Ew(){return Ew=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ew.apply(this,arguments)}function ule(n){return U.exports.createElement("svg",Ew({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),EU||(EU=U.exports.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var wU;function ww(){return ww=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ww.apply(this,arguments)}function cle(n){return U.exports.createElement("svg",ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),wU||(wU=U.exports.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var xU;function xw(){return xw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xw.apply(this,arguments)}function dle(n){return U.exports.createElement("svg",xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),xU||(xU=U.exports.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var kU;function kw(){return kw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kw.apply(this,arguments)}function hle(n){return U.exports.createElement("svg",kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),kU||(kU=U.exports.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var CU;function Cw(){return Cw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cw.apply(this,arguments)}function ple(n){return U.exports.createElement("svg",Cw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),CU||(CU=U.exports.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var SU;function Sw(){return Sw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sw.apply(this,arguments)}function fle(n){return U.exports.createElement("svg",Sw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),SU||(SU=U.exports.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var NU;function Nw(){return Nw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nw.apply(this,arguments)}function mle(n){return U.exports.createElement("svg",Nw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),NU||(NU=U.exports.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var TU;function Tw(){return Tw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tw.apply(this,arguments)}function gle(n){return U.exports.createElement("svg",Tw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),TU||(TU=U.exports.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var IU;function Iw(){return Iw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Iw.apply(this,arguments)}function vle(n){return U.exports.createElement("svg",Iw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),IU||(IU=U.exports.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var OU;function Ow(){return Ow=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ow.apply(this,arguments)}function _le(n){return U.exports.createElement("svg",Ow({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),OU||(OU=U.exports.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var AU;function Aw(){return Aw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Aw.apply(this,arguments)}function ble(n){return U.exports.createElement("svg",Aw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),AU||(AU=U.exports.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var RU;function Rw(){return Rw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rw.apply(this,arguments)}function yle(n){return U.exports.createElement("svg",Rw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),RU||(RU=U.exports.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var MU;function Mw(){return Mw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mw.apply(this,arguments)}function Ele(n){return U.exports.createElement("svg",Mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),MU||(MU=U.exports.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var DU;function Dw(){return Dw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dw.apply(this,arguments)}function wle(n){return U.exports.createElement("svg",Dw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),DU||(DU=U.exports.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var UU;function Uw(){return Uw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uw.apply(this,arguments)}function xle(n){return U.exports.createElement("svg",Uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},n),UU||(UU=U.exports.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var LU;function Lw(){return Lw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lw.apply(this,arguments)}function kle(n){return U.exports.createElement("svg",Lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),LU||(LU=U.exports.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var PU;function Pw(){return Pw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pw.apply(this,arguments)}function Cle(n){return U.exports.createElement("svg",Pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),PU||(PU=U.exports.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var FU;function Fw(){return Fw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fw.apply(this,arguments)}function Sle(n){return U.exports.createElement("svg",Fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),FU||(FU=U.exports.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var HU;function Hw(){return Hw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hw.apply(this,arguments)}function Nle(n){return U.exports.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),HU||(HU=U.exports.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var qU;function qw(){return qw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qw.apply(this,arguments)}function Tle(n){return U.exports.createElement("svg",qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),qU||(qU=U.exports.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var BU;function Bw(){return Bw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bw.apply(this,arguments)}function Ile(n){return U.exports.createElement("svg",Bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),BU||(BU=U.exports.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var GU;function Gw(){return Gw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gw.apply(this,arguments)}function Ole(n){return U.exports.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),GU||(GU=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var $U;function $w(){return $w=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$w.apply(this,arguments)}function Ale(n){return U.exports.createElement("svg",$w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),$U||($U=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var zU;function zw(){return zw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zw.apply(this,arguments)}function Rle(n){return U.exports.createElement("svg",zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),zU||(zU=U.exports.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var Qi={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function Mle(n){switch(n){case Qi.PRIMARY:return"sendbird-icon-color--primary";case Qi.SECONDARY:return"sendbird-icon-color--secondary";case Qi.CONTENT:return"sendbird-icon-color--content";case Qi.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case Qi.WHITE:return"sendbird-icon-color--white";case Qi.GRAY:return"sendbird-icon-color--gray";case Qi.SENT:return"sendbird-icon-color--sent";case Qi.READ:return"sendbird-icon-color--read";case Qi.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case Qi.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case Qi.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case Qi.BACKGROUND_3:return"sendbird-icon-color--background-3";case Qi.ERROR:return"sendbird-icon-color--error";default:return""}}function Dle(n){switch(n){case Ue.ADD:return k.createElement(Roe,null);case Ue.ARROW_LEFT:return k.createElement(Moe,null);case Ue.ATTACH:return k.createElement(Doe,null);case Ue.BAN:return k.createElement(Uoe,null);case Ue.BROADCAST:return k.createElement(Loe,null);case Ue.CAMERA:return k.createElement(Poe,null);case Ue.CHANNELS:return k.createElement(Foe,null);case Ue.CHAT:return k.createElement(Hoe,null);case Ue.CHAT_FILLED:return k.createElement(qoe,null);case Ue.CHEVRON_DOWN:return k.createElement(Boe,null);case Ue.CHEVRON_RIGHT:return k.createElement(Goe,null);case Ue.CLOSE:return k.createElement($oe,null);case Ue.COLLAPSE:return k.createElement(zoe,null);case Ue.COPY:return k.createElement(joe,null);case Ue.CREATE:return k.createElement(Voe,null);case Ue.DELETE:return k.createElement(Woe,null);case Ue.DISCONNECTED:return k.createElement(Koe,null);case Ue.DOCUMENT:return k.createElement(Qoe,null);case Ue.DONE:return k.createElement(Yoe,null);case Ue.DONE_ALL:return k.createElement(Xoe,null);case Ue.DOWNLOAD:return k.createElement(Joe,null);case Ue.EDIT:return k.createElement(Zoe,null);case Ue.EMOJI_MORE:return k.createElement(ele,null);case Ue.ERROR:return k.createElement(nle,null);case Ue.EXPAND:return k.createElement(tle,null);case Ue.FILE_AUDIO:return k.createElement(rle,null);case Ue.FILE_DOCUMENT:return k.createElement(ile,null);case Ue.FREEZE:return k.createElement(ale,null);case Ue.GIF:return k.createElement(sle,null);case Ue.INFO:return k.createElement(ole,null);case Ue.LEAVE:return k.createElement(lle,null);case Ue.MEMBERS:return k.createElement(ule,null);case Ue.MESSAGE:return k.createElement(cle,null);case Ue.MODERATIONS:return k.createElement(dle,null);case Ue.MORE:return k.createElement(hle,null);case Ue.MUTE:return k.createElement(ple,null);case Ue.NOTIFICATIONS:return k.createElement(fle,null);case Ue.NOTIFICATIONS_OFF_FILLED:return k.createElement(mle,null);case Ue.OPERATOR:return k.createElement(gle,null);case Ue.PHOTO:return k.createElement(vle,null);case Ue.PLAY:return k.createElement(_le,null);case Ue.PLUS:return k.createElement(ble,null);case Ue.QUESTION:return k.createElement(yle,null);case Ue.REFRESH:return k.createElement(Ele,null);case Ue.REMOVE:return k.createElement(wle,null);case Ue.REPLY:return k.createElement(xle,null);case Ue.SEARCH:return k.createElement(kle,null);case Ue.SEND:return k.createElement(Cle,null);case Ue.SETTINGS_FILLED:return k.createElement(Sle,null);case Ue.SPINNER:return k.createElement(Nle,null);case Ue.SUPERGROUP:return k.createElement(Tle,null);case Ue.THUMBNAIL_NONE:return k.createElement(Ile,null);case Ue.TOGGLE_OFF:return k.createElement(Ole,null);case Ue.TOGGLE_ON:return k.createElement(Ale,null);case Ue.USER:return k.createElement(Rle,null);default:return"icon"}}function Ule(n){switch(n){case Ue.ADD:return"sendbird-icon-add";case Ue.ARROW_LEFT:return"sendbird-icon-arrow-left";case Ue.ATTACH:return"sendbird-icon-attach";case Ue.BAN:return"sendbird-icon-ban";case Ue.BROADCAST:return"sendbird-icon-broadcast";case Ue.CAMERA:return"sendbird-icon-camera";case Ue.CHANNELS:return"sendbird-icon-channels";case Ue.CHAT:return"sendbird-icon-chat";case Ue.CHAT_FILLED:return"sendbird-icon-chat-filled";case Ue.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case Ue.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case Ue.CLOSE:return"sendbird-icon-close";case Ue.COLLAPSE:return"sendbird-icon-collapse";case Ue.COPY:return"sendbird-icon-copy";case Ue.CREATE:return"sendbird-icon-create";case Ue.DELETE:return"sendbird-icon-delete";case Ue.DISCONNECTED:return"sendbird-icon-disconnected";case Ue.DOCUMENT:return"sendbird-icon-document";case Ue.DONE:return"sendbird-icon-done";case Ue.DONE_ALL:return"sendbird-icon-done-all";case Ue.DOWNLOAD:return"sendbird-icon-down-load";case Ue.EDIT:return"sendbird-icon-edit";case Ue.EMOJI_MORE:return"sendbird-icon-emoji-more";case Ue.ERROR:return"sendbird-icon-error";case Ue.EXPAND:return"sendbird-icon-expand";case Ue.FILE_AUDIO:return"sendbird-icon-file-audio";case Ue.FILE_DOCUMENT:return"sendbird-icon-file-document";case Ue.FREEZE:return"sendbird-icon-freeze";case Ue.GIF:return"sendbird-icon-gif";case Ue.INFO:return"sendbird-icon-info";case Ue.LEAVE:return"sendbird-icon-leave";case Ue.MEMBERS:return"sendbird-icon-members";case Ue.MESSAGE:return"sendbird-icon-message";case Ue.MODERATIONS:return"sendbird-icon-moderations";case Ue.MORE:return"sendbird-icon-more";case Ue.MUTE:return"sendbird-icon-mute";case Ue.NOTIFICATIONS:return"sendbird-icon-notifications";case Ue.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case Ue.OPERATOR:return"sendbird-icon-operator";case Ue.PHOTO:return"sendbird-icon-photo";case Ue.PLAY:return"sendbird-icon-play";case Ue.PLUS:return"sendbird-iconn-plus";case Ue.QUESTION:return"sendbird-icon-question";case Ue.REFRESH:return"sendbird-icon-refresh";case Ue.REMOVE:return"sendbird-icon-remove";case Ue.REPLY:return"sendbird-icon-reply";case Ue.SEARCH:return"sendbird-icon-search";case Ue.SEND:return"sendbird-icon-send";case Ue.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case Ue.SPINNER:return"sendbird-icon-spinner";case Ue.SUPERGROUP:return"sendbird-icon-supergroup";case Ue.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case Ue.TOGGLE_OFF:return"sendbird-icon-toggle-off";case Ue.TOGGLE_ON:return"sendbird-icon-toggle-on";case Ue.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}function gt(n){var e=n.className,t=n.type,r=n.fillColor,i=n.width,o=n.height,u=n.onClick,d=n.children,h={width:typeof i=="string"?i:"".concat(i,"px"),minWidth:typeof i=="string"?i:"".concat(i,"px"),height:typeof o=="string"?o:"".concat(o,"px"),minHeight:typeof o=="string"?o:"".concat(o,"px")};return k.createElement("div",{className:[].concat(wc(Array.isArray(e)?e:[e]),["sendbird-icon",Ule(t),Mle(r)]).join(" "),role:"button",onClick:u,onKeyDown:u,tabIndex:"0",style:h},d||Dle(t))}gt.propTypes={className:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),type:de.exports.oneOfType([de.exports.oneOf(Object.keys(Ue)),de.exports.string]).isRequired,fillColor:de.exports.oneOf(Object.keys(Qi)),width:de.exports.oneOfType([de.exports.string,de.exports.number]),height:de.exports.oneOfType([de.exports.string,de.exports.number]),onClick:de.exports.func,children:de.exports.element};gt.defaultProps={className:"",fillColor:Qi.DEFAULT,width:26,height:26,onClick:function(){},children:null};var st=Ue,Ot=Qi,jU=function(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=Number.parseFloat(n);if(!Number.isNaN(e))return e}return null},Xo="sendbird-avatar-img",Lle=function(e){var t=e.width,r=e.height,i=jU(t),o=jU(r);return typeof i=="number"&&(i*=.575),typeof o=="number"&&(o*=.575),k.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:r}},k.createElement(gt,{type:st.USER,fillColor:Ot.CONTENT,width:i,height:o}))},Ple=function(e){var t=e.width,r=e.height;return k.createElement(Lle,{width:t,height:r})},Fle=function(e){var t=e.src,r=t===void 0?"":t,i=e.alt,o=i===void 0?"":i,u=e.height,d=e.width,h=e.customDefaultComponent,f=function(){return h?h({width:d,height:u}):Ple({width:d,height:u})};return typeof r=="string"?k.createElement(hs,{className:Xo,url:r,height:u,width:d,alt:o,defaultComponent:f}):r&&r.length?r.length===1?k.createElement(hs,{className:Xo,url:r[0],height:u,width:d,alt:o,defaultComponent:f}):r.length===2?k.createElement("div",{className:"sendbird-avatar--inner__two-child"},k.createElement(hs,{className:Xo,url:r[0],height:u,width:d,alt:o,defaultComponent:f}),k.createElement(hs,{className:Xo,url:r[1],height:u,width:d,alt:o,defaultComponent:f})):r.length===3?k.createElement(k.Fragment,null,k.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},k.createElement(hs,{className:Xo,url:r[0],height:u,width:d,alt:o,defaultComponent:f})),k.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},k.createElement(hs,{className:Xo,url:r[1],height:u,width:d,alt:o,defaultComponent:f}),k.createElement(hs,{className:Xo,url:r[2],height:u,width:d,alt:o,defaultComponent:f}))):k.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(v){return k.createElement(hs,{className:Xo,url:v,height:u,width:d,alt:o,key:Rc(),defaultComponent:f})})):k.createElement(hs,{className:Xo,url:"",height:u,width:d,alt:o,defaultComponent:f})};function Hle(n,e){var t=n.className,r=t===void 0?"":t,i=n.src,o=i===void 0?"":i,u=n.alt,d=u===void 0?"":u,h=n.width,f=h===void 0?"56px":h,v=n.height,_=v===void 0?"56px":v,y=n.onClick,E=n.customDefaultComponent;return k.createElement("div",{className:Hn(Hn([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:e,style:{height:_,width:f},onClick:y,onKeyDown:y,tabIndex:0},k.createElement(Fle,{src:o,width:f,height:_,alt:d,customDefaultComponent:E}))}var Wc=k.forwardRef(Hle),xl=function(e){var t=e.stores,r=t===void 0?{}:t,i=r.sdkStore,o=i===void 0?{}:i,u=o.sdk;return u},Mu=function(e){var t=e.config,r=t===void 0?{}:t,i=r.pubSub;return i},qle=function(e){return function(t,r){return new Promise(function(i,o){var u=xl(e);u||o(new Error("Sdk not found")),(u==null?void 0:u.connect)&&typeof u.connect=="function"||o(new Error('Not found the function "connect')),r?u.connect(t,r).then(function(d){return i(d)}).catch(function(d){return o(d)}):u.connect(t).then(function(d){return i(d)}).catch(function(d){return o(d)})})}},Ble=function(e){return function(){return new Promise(function(t,r){var i=xl(e);i||r(new Error("Sdk not found")),i.disconnect&&typeof i.disconnect=="function"||r(new Error('Not found the function "disconnect')),i.disconnect().then(function(o){return t(o)}).catch(function(o){return r(o)})})}},Gle=function(e){return function(t,r){return new Promise(function(i,o){var u=xl(e);u||o(new Error("Sdk not found")),u.updateCurrentUserInfo&&typeof u.updateCurrentUserInfo=="function"||o(new Error('Not found the function "updateCurrentUserInfo"'));var d={nickname:t};r&&(d.profileUrl=r),u.updateCurrentUserInfo(d).then(function(h){return i(h)}).catch(function(h){return o(h)})})}},zF=function(e){return function(t){return new Promise(function(r,i){var o=xl(e),u=Mu(e);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.createChannel&&typeof o.groupChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.groupChannel.createChannel(t).then(function(d){r(d),u.publish(Ooe,{channel:d})}).catch(i)})}},$le=function(e){return function(t){return new Promise(function(r,i){var o=xl(e);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.createChannel&&typeof o.openChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.openChannel.createChannel(t).then(function(u){r(u)}).catch(i)})}},jF=function(e){return function(t){return new Promise(function(r,i){var o=xl(e);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.getChannel&&typeof o.groupChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.groupChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},R3=function(e){return function(t){return new Promise(function(r,i){var o=xl(e);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.getChannel&&typeof o.openChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.openChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},zle=function(e){return function(t){return new Promise(function(r,i){var o;(o=jF(e))===null||o===void 0||o(t).then(function(u){u.leave().then(function(){r()}).catch(i)}).catch(i)})}},jle=function(e){return function(t){return new Promise(function(r,i){var o;(o=R3(e))===null||o===void 0||o(t).then(function(u){u.enter().then(function(){r(u)}).catch(i)}).catch(i)})}},Vle=function(e){return function(t){return new Promise(function(r,i){var o;(o=R3(e))===null||o===void 0||o(t).then(function(u){u.exit().then(function(){r(u)}).catch(i)}).catch(i)})}},Wle=function(){return function(e){return new Promise(function(t,r){e.freeze&&typeof(e==null?void 0:e.freeze)=="function"||r(new Error('Not found the function "freeze"')),e.freeze().then(function(){t()}).catch(r)})}},Kle=function(){return function(e){return new Promise(function(t,r){e.unfreeze&&typeof(e==null?void 0:e.unfreeze)=="function"||r(new Error('Not found the function "unfreeze"')),e.unfreeze().then(function(){t()}).catch(r)})}},VF=function(){function n(){this._onPending=Og,this._onFailed=Og,this._onSucceeded=Og}return n.prototype.triggerPending=function(e){this._onPending(e)},n.prototype.triggerFailed=function(e,t){this._onFailed(e,t.isResendable?t:null)},n.prototype.triggerSucceeded=function(e){this._onSucceeded(e)},n.prototype.onPending=function(e){return typeof e=="function"&&(this._onPending=e),this},n.prototype.onFailed=function(e){return typeof e=="function"&&(this._onFailed=e),this},n.prototype.onSucceeded=function(e){return typeof e=="function"&&(this._onSucceeded=e),this},n}(),Qle=function(e){return function(t,r){var i=new VF,o=Mu(e);return t.sendUserMessage(r).onFailed(function(u,d){return i.triggerFailed(u,d)}).onPending(function(u){o.publish(mv,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(gv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},Yle=function(e){return function(t,r){var i=new VF,o=Mu(e);return t.sendFileMessage(r).onFailed(function(u,d){return i.triggerFailed(u,d)}).onPending(function(u){o.publish(mv,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(vv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},Xle=function(e){return function(t,r,i){return new Promise(function(o,u){var d=Mu(e);t.updateUserMessage(r,i).then(function(h){d.publish(G2,{message:h,channel:t,fromSelector:!0}),o(h)}).catch(u)})}},Jle=function(e){return function(t,r){return new Promise(function(i,o){var u=Mu(e),d=r.messageId;t.deleteMessage(r).then(function(){u.publish($2,{messageId:d,channel:t}),i(r)}).catch(o)})}},Zle=function(e){return function(t,r){return new Promise(function(i,o){var u=Mu(e);t.resendUserMessage(r).then(function(d){u.publish(gv,{message:d,channel:t}),i(d)}).catch(o)})}},eue=function(e){return function(t,r,i){return new Promise(function(o,u){var d=Mu(e);t.resendFileMessage(r,i).then(function(h){d.publish(vv,{message:h,channel:t}),o(h)}).catch(u)})}},M3={getSdk:xl,getPubSub:Mu,getConnect:qle,getDisconnect:Ble,getUpdateUserInfo:Gle,getCreateGroupChannel:zF,getCreateOpenChannel:$le,getGetGroupChannel:jF,getGetOpenChannel:R3,getLeaveGroupChannel:zle,getEnterOpenChannel:jle,getExitOpenChannel:Vle,getFreezeChannel:Wle,getUnfreezeChannel:Kle,getSendUserMessage:Qle,getSendFileMessage:Yle,getUpdateUserMessage:Xle,getDeleteMessage:Jle,getResendUserMessage:Zle,getResendFileMessage:eue},VU;(function(n){n.GROUP="group",n.SUPERGROUP="supergroup",n.BROADCAST="broadcast"})(VU||(VU={}));var WF="sendbird-modal-root",uu;(function(n){n[n.PRIMARY=0]="PRIMARY",n[n.SECONDARY=1]="SECONDARY",n[n.DANGER=2]="DANGER",n[n.DISABLED=3]="DISABLED"})(uu||(uu={}));var Sh;(function(n){n[n.BIG=0]="BIG",n[n.SMALL=1]="SMALL"})(Sh||(Sh={}));function nue(n){switch(n){case uu.PRIMARY:return"sendbird-button--primary";case uu.SECONDARY:return"sendbird-button--secondary";case uu.DANGER:return"sendbird-button--danger";case uu.DISABLED:return"sendbird-button--disabled";default:return null}}function tue(n){switch(n){case Sh.BIG:return"sendbird-button--big";case Sh.SMALL:return"sendbird-button--small";default:return null}}function a0(n){var e=n.className,t=n.type,r=t===void 0?uu.PRIMARY:t,i=n.size,o=i===void 0?Sh.BIG:i,u=n.children,d=u===void 0?"Button":u,h=n.disabled,f=h===void 0?!1:h,v=n.onClick,_=v===void 0?function(){}:v,y=Hn(Hn([],Array.isArray(e)?e:[e],!0),["sendbird-button",f?"sendbird-button__disabled":"",nue(r),tue(o)],!1).join(" ");return k.createElement("button",{className:y,type:"button",onClick:_,disabled:f},k.createElement(Yn,{className:"sendbird-button__text",type:Qn.BUTTON_1,color:qn.ONCONTENT_1},d))}var Nh=uu,WU=Sh,rue=function(e){var t=e.titleText;return k.createElement("div",{className:"sendbird-modal__header"},k.createElement(Yn,{type:Qn.H_1,color:qn.ONBACKGROUND_1},t))},iue=function(e){var t=e.children;return k.createElement("div",{className:"sendbird-modal__body"},k.createElement(Yn,{type:Qn.SUBTITLE_1,color:qn.ONBACKGROUND_2},t))},aue=function(e){var t=e.submitText,r=e.disabled,i=r===void 0?!1:r,o=e.type,u=o===void 0?Nh.DANGER:o,d=e.onSubmit,h=e.onCancel,f=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:"sendbird-modal__footer"},k.createElement(a0,{type:Nh.SECONDARY,onClick:h},k.createElement(Yn,{type:Qn.BUTTON_1,color:qn.ONBACKGROUND_1},f.BUTTON__CANCEL)),k.createElement(a0,{type:u,disabled:i,onClick:d},t))};function sue(n){var e=n.children,t=e===void 0?null:e,r=n.titleText,i=n.submitText,o=n.disabled,u=o===void 0?!1:o,d=n.hideFooter,h=d===void 0?!1:d,f=n.type,v=f===void 0?Nh.DANGER:f,_=n.onCancel,y=_===void 0?function(){}:_,E=n.onSubmit,x=E===void 0?function(){}:E;return Mh.exports.createPortal(k.createElement("div",{className:"sendbird-modal"},k.createElement("div",{className:"sendbird-modal__content"},k.createElement(rue,{titleText:r}),k.createElement(iue,null,t),!h&&k.createElement(aue,{disabled:u,onCancel:y,onSubmit:x,submitText:i,type:v}),k.createElement("div",{className:"sendbird-modal__close"},k.createElement(Cu,{width:"32px",height:"32px",onClick:y},k.createElement(gt,{type:st.CLOSE,fillColor:Ot.DEFAULT,width:"24px",height:"24px"})))),k.createElement("div",{className:"sendbird-modal__backdrop"})),document.getElementById(WF))}function oue(n){var e=n.user,t=n.currentUserId,r=n.logger,i=n.disableMessaging,o=i===void 0?!1:i,u=n.createChannel,d=n.onSuccess,h=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:"sendbird__user-profile"},k.createElement("section",{className:"sendbird__user-profile-avatar"},k.createElement(Wc,{height:"80px",width:"80px",src:e==null?void 0:e.profileUrl})),k.createElement("section",{className:"sendbird__user-profile-name"},k.createElement(Yn,{type:Qn.H_2,color:qn.ONBACKGROUND_1},(e==null?void 0:e.nickname)||h.NO_NAME)),(e==null?void 0:e.userId)!==t&&!o&&k.createElement("section",{className:"sendbird__user-profile-message"},k.createElement(a0,{type:Nh.SECONDARY,onClick:function(){var v={isDistinct:!0,invitedUserIds:[e==null?void 0:e.userId]};d(),u(v).then(function(_){r.info("UserProfile, channel create",_)})}},h.USER_PROFILE__MESSAGE)),k.createElement("div",{className:"sendbird__user-profile-separator"}),k.createElement("section",{className:"sendbird__user-profile-userId"},k.createElement(Yn,{className:"sendbird__user-profile-userId--label",type:Qn.CAPTION_2,color:qn.ONBACKGROUND_2},h.USER_PROFILE__USER_ID),k.createElement(Yn,{className:"sendbird__user-profile-userId--value",type:Qn.BODY_1,color:qn.ONBACKGROUND_1},e==null?void 0:e.userId)))}var lue=function(e){return{sdk:xl(e),createChannel:zF(e),logger:e.config.logger,pubsub:e.config.pubSub}},Jv=Jee(oue,lue),uue=function(n){hse(e,n);function e(t){var r=n.call(this,t)||this;return r.menuRef=k.createRef(),r.setupEvents=function(){var i=r.props.closeDropdown,o=r.menuRef,u=function(h){var f,v;(o==null?void 0:o.current)&&!(!((v=(f=o==null?void 0:o.current)===null||f===void 0?void 0:f.contains)===null||v===void 0)&&v.call(f,h.target))&&(i==null||i())};r.setState({handleClickOutside:u}),document.addEventListener("mousedown",u)},r.cleanUpEvents=function(){var i=r.state.handleClickOutside;document.removeEventListener("mousedown",i)},r.getMenuPosition=function(){var i,o,u=r.props,d=u.parentRef,h=u.openLeft,f=(o=(i=d==null?void 0:d.current)===null||i===void 0?void 0:i.getBoundingClientRect)===null||o===void 0?void 0:o.call(i),v=(f==null?void 0:f.x)||(f==null?void 0:f.left)||0,_=(f==null?void 0:f.y)||(f==null?void 0:f.top)||0,y={top:_,left:v};if(!r.menuRef.current)return y;var E=window.innerWidth,x=window.innerHeight,C=r.menuRef.current.getBoundingClientRect();if(_+C.height>x&&(y.top-=C.height),v+C.width>E&&!h&&(y.left-=C.width),y.top<0&&(y.top=C.height<x?(x-C.height)/2:0),y.left<0&&(y.left=C.width<E?(E-C.width)/2:0),y.top+=32,h){var M=Number.isNaN(C.width-30)?108:C.width-30;y.left-=M}return r.setState({menuStyle:y}),y},r.state={menuStyle:{},handleClickOutside:function(){}},r}return e.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},e.prototype.componentWillUnmount=function(){this.cleanUpEvents()},e.prototype.render=function(){var t=this.state.menuStyle,r=this.props,i=r.children,o=r.style;return Mh.exports.createPortal(k.createElement(k.Fragment,null,k.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),k.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:sn({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},o)},i)),document.getElementById("sendbird-dropdown-portal"))},e}(k.Component),cue=13,Su=uue,xs=function(e){var t=e.className,r=t===void 0?"":t,i=e.children,o=e.onClick,u=e.disable,d=u===void 0?!1:u,h=function(v){!d&&o&&(o==null||o(v))};return k.createElement("li",{className:D2([r,"sendbird-dropdown__menu-item",d?"disable":""]),role:"menuitem",onClick:h,onKeyPress:function(v){v.keyCode===cue&&h(v)},tabIndex:0},k.createElement(Yn,{className:"sendbird-dropdown__menu-item__text",type:Qn.SUBTITLE_2,color:d?qn.ONBACKGROUND_4:qn.ONBACKGROUND_1},i))};function Nu(n){var e=n.menuTrigger,t=n.menuItems,r=U.exports.useState(!1),i=r[0],o=r[1];return k.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},e(function(){return o(!i)}),i&&t(function(){return o(!1)}))}function ea(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function io(n){ea(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function due(n){ea(1,arguments);var e=io(n);return!isNaN(e)}function ks(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function hue(n,e){ea(2,arguments);var t=io(n).getTime(),r=ks(e);return new Date(t+r)}function pue(n,e){ea(2,arguments);var t=ks(e);return hue(n,-t)}function jt(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Zl={y:function(n,e){var t=n.getUTCFullYear(),r=t>0?t:1-t;return jt(e==="yy"?r%100:r,e.length)},M:function(n,e){var t=n.getUTCMonth();return e==="M"?String(t+1):jt(t+1,2)},d:function(n,e){return jt(n.getUTCDate(),e.length)},a:function(n,e){var t=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(n,e){return jt(n.getUTCHours()%12||12,e.length)},H:function(n,e){return jt(n.getUTCHours(),e.length)},m:function(n,e){return jt(n.getUTCMinutes(),e.length)},s:function(n,e){return jt(n.getUTCSeconds(),e.length)},S:function(n,e){var t=e.length,r=n.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,t-3));return jt(i,e.length)}},fue=864e5;function mue(n){ea(1,arguments);var e=io(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=t-r;return Math.floor(i/fue)+1}function _v(n){ea(1,arguments);var e=1,t=io(n),r=t.getUTCDay(),i=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function KF(n){ea(1,arguments);var e=io(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=_v(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=_v(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function gue(n){ea(1,arguments);var e=KF(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=_v(t);return r}var vue=6048e5;function _ue(n){ea(1,arguments);var e=io(n),t=_v(e).getTime()-gue(e).getTime();return Math.round(t/vue)+1}function bv(n,e){ea(1,arguments);var t=e||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,o=i==null?0:ks(i),u=t.weekStartsOn==null?o:ks(t.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=io(n),h=d.getUTCDay(),f=(h<u?7:0)+h-u;return d.setUTCDate(d.getUTCDate()-f),d.setUTCHours(0,0,0,0),d}function QF(n,e){ea(1,arguments);var t=io(n,e),r=t.getUTCFullYear(),i=e||{},o=i.locale,u=o&&o.options&&o.options.firstWeekContainsDate,d=u==null?1:ks(u),h=i.firstWeekContainsDate==null?d:ks(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(r+1,0,h),f.setUTCHours(0,0,0,0);var v=bv(f,e),_=new Date(0);_.setUTCFullYear(r,0,h),_.setUTCHours(0,0,0,0);var y=bv(_,e);return t.getTime()>=v.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function bue(n,e){ea(1,arguments);var t=e||{},r=t.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=i==null?1:ks(i),u=t.firstWeekContainsDate==null?o:ks(t.firstWeekContainsDate),d=QF(n,e),h=new Date(0);h.setUTCFullYear(d,0,u),h.setUTCHours(0,0,0,0);var f=bv(h,e);return f}var yue=6048e5;function Eue(n,e){ea(1,arguments);var t=io(n),r=bv(t,e).getTime()-bue(t,e).getTime();return Math.round(r/yue)+1}var Hd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wue={G:function(n,e,t){var r=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){var r=n.getUTCFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Zl.y(n,e)},Y:function(n,e,t,r){var i=QF(n,r),o=i>0?i:1-i;if(e==="YY"){var u=o%100;return jt(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):jt(o,e.length)},R:function(n,e){var t=KF(n);return jt(t,e.length)},u:function(n,e){var t=n.getUTCFullYear();return jt(t,e.length)},Q:function(n,e,t){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return jt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return jt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){var r=n.getUTCMonth();switch(e){case"M":case"MM":return Zl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){var r=n.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return jt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){var i=Eue(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):jt(i,e.length)},I:function(n,e,t){var r=_ue(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):jt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getUTCDate(),{unit:"date"}):Zl.d(n,e)},D:function(n,e,t){var r=mue(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):jt(r,e.length)},E:function(n,e,t){var r=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){var i=n.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return jt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){var i=n.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return jt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){var r=n.getUTCDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return jt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){var r=n.getUTCHours(),i=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){var r=n.getUTCHours(),i;switch(r===12?i=Hd.noon:r===0?i=Hd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){var r=n.getUTCHours(),i;switch(r>=17?i=Hd.evening:r>=12?i=Hd.afternoon:r>=4?i=Hd.morning:i=Hd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){var r=n.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Zl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Zl.H(n,e)},K:function(n,e,t){var r=n.getUTCHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):jt(r,e.length)},k:function(n,e,t){var r=n.getUTCHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):jt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Zl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Zl.s(n,e)},S:function(n,e){return Zl.S(n,e)},X:function(n,e,t,r){var i=r._originalDate||n,o=i.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return QU(o);case"XXXX":case"XX":return hc(o);case"XXXXX":case"XXX":default:return hc(o,":")}},x:function(n,e,t,r){var i=r._originalDate||n,o=i.getTimezoneOffset();switch(e){case"x":return QU(o);case"xxxx":case"xx":return hc(o);case"xxxxx":case"xxx":default:return hc(o,":")}},O:function(n,e,t,r){var i=r._originalDate||n,o=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KU(o,":");case"OOOO":default:return"GMT"+hc(o,":")}},z:function(n,e,t,r){var i=r._originalDate||n,o=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KU(o,":");case"zzzz":default:return"GMT"+hc(o,":")}},t:function(n,e,t,r){var i=r._originalDate||n,o=Math.floor(i.getTime()/1e3);return jt(o,e.length)},T:function(n,e,t,r){var i=r._originalDate||n,o=i.getTime();return jt(o,e.length)}};function KU(n,e){var t=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=e||"";return t+String(i)+u+jt(o,2)}function QU(n,e){if(n%60===0){var t=n>0?"-":"+";return t+jt(Math.abs(n)/60,2)}return hc(n,e)}function hc(n,e){var t=e||"",r=n>0?"-":"+",i=Math.abs(n),o=jt(Math.floor(i/60),2),u=jt(i%60,2);return r+o+t+u}var xue=wue;function YU(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function YF(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function kue(n,e){var t=n.match(/(P+)(p+)?/),r=t[1],i=t[2];if(!i)return YU(n,e);var o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",YU(r,e)).replace("{{time}}",YF(i,e))}var Cue={p:YF,P:kue},Sue=Cue;function Nue(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var Tue=["D","DD"],Iue=["YY","YYYY"];function Oue(n){return Tue.indexOf(n)!==-1}function Aue(n){return Iue.indexOf(n)!==-1}function XU(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var Rue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Due=/^'([^]*?)'?$/,Uue=/''/g,Lue=/[a-zA-Z]/;function Hh(n,e,t){ea(2,arguments);var r=String(e),i=t||{},o=i.locale||HF,u=o.options&&o.options.firstWeekContainsDate,d=u==null?1:ks(u),h=i.firstWeekContainsDate==null?d:ks(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=o.options&&o.options.weekStartsOn,v=f==null?0:ks(f),_=i.weekStartsOn==null?v:ks(i.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var y=io(n);if(!due(y))throw new RangeError("Invalid time value");var E=Nue(y),x=pue(y,E),C={firstWeekContainsDate:h,weekStartsOn:_,locale:o,_originalDate:y},M=r.match(Mue).map(function(N){var S=N[0];if(S==="p"||S==="P"){var D=Sue[S];return D(N,o.formatLong,C)}return N}).join("").match(Rue).map(function(N){if(N==="''")return"'";var S=N[0];if(S==="'")return Pue(N);var D=xue[S];if(D)return!i.useAdditionalWeekYearTokens&&Aue(N)&&XU(N,e,n),!i.useAdditionalDayOfYearTokens&&Oue(N)&&XU(N,e,n),D(x,N,o.localize,C);if(S.match(Lue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return N}).join("");return M}function Pue(n){return n.match(Due)[1].replace(Uue,"'")}function JU(n){ea(1,arguments);var e=io(n);return e.setHours(0,0,0,0),e}function Fue(n,e){ea(2,arguments);var t=JU(n),r=JU(e);return t.getTime()===r.getTime()}function ZU(n){var e=n.className,t=e===void 0?"":e,r=n.children,i=n.isReverse,o=i===void 0?!1:i,u=n.color,d=n.userId;return k.createElement("span",{className:"sendbird-mention-user-label ".concat(t," ").concat(o?"reverse":""," ").concat(u),contentEditable:!1,"data-userid":d},r)}var eL=function(e){return e==null};function Jo(n,e){if(eL(n)||eL(e))return!1;var t=n.toString(),r=e.toString();return t===r}var qd="@";AF();var D3=RF();D3.SUCCEEDED;D3.FAILED;D3.PENDING;var U3=RF();U3.SUCCEEDED;U3.FAILED;U3.PENDING;function v0(n){var e=n.className,t=e===void 0?"":e,r=n.width,i=r===void 0?"26px":r,o=n.height,u=o===void 0?"26px":o,d=n.children;return k.createElement("div",{className:Hn(Hn([],Array.isArray(t)?t:[t],!0),["sendbird-loader"],!1).join(" "),style:{width:typeof i=="string"?i:"".concat(i,"px"),height:typeof u=="string"?u:"".concat(u,"px")}},d||k.createElement(gt,{type:st.SPINNER,width:"26px",height:"26px"}))}AF();de.exports.bool,de.exports.func.isRequired;var js;(function(n){n[n.ONBACKGROUND_1=0]="ONBACKGROUND_1",n[n.ONBACKGROUND_2=1]="ONBACKGROUND_2",n[n.ONBACKGROUND_3=2]="ONBACKGROUND_3",n[n.ONBACKGROUND_4=3]="ONBACKGROUND_4",n[n.ONCONTENT_1=4]="ONCONTENT_1",n[n.ONCONTENT_2=5]="ONCONTENT_2",n[n.PRIMARY=6]="PRIMARY",n[n.ERROR=7]="ERROR"})(js||(js={}));var jw=function(e){switch(e){case js.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case js.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case js.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case js.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case js.ONCONTENT_1:return"sendbird-color--oncontent-1";case js.PRIMARY:return"sendbird-color--primary";case js.ERROR:return"sendbird-color--error";default:return null}},Hue=function(e){var t=e.className,r=t===void 0?"":t,i=e.color,o=i===void 0?js.ONBACKGROUND_1:i,u=e.disabled,d=u===void 0?!1:u,h=e.disableUnderline,f=h===void 0?!1:h,v=e.onClick,_=v===void 0?function(){}:v,y=e.children;return k.createElement("div",{className:Hn(Hn([],Array.isArray(r)?r:[r],!0),[jw(o),f?"sendbird-textbutton--not-underline":"sendbird-textbutton",d?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(x){return _(x)},onKeyPress:function(x){return _(x)}},y)};function que(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var Bue=que(),jr=Bue;function Ag(n){var e=n.className,t=e===void 0?"":e,r=n.type,i=n.searchInString,o=i===void 0?"":i,u=n.retryToConnect,d=u===void 0?null:u,h=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:Hn(Hn([],Array.isArray(t)?t:[t],!0),["sendbird-place-holder"],!1).join(" ")},r===jr.LOADING&&k.createElement(v0,{width:"48px",height:"48px"},k.createElement(gt,{type:st.SPINNER,fillColor:Ot.PRIMARY,width:"48px",height:"48px"})),(r===jr.NO_CHANNELS||r===jr.NO_MESSAGES||r===jr.WRONG)&&k.createElement("div",{className:"sendbird-place-holder__body"},r===jr.NO_CHANNELS&&k.createElement(gt,{className:"sendbird-place-holder__body__icon",type:st.CHAT,fillColor:Ot.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===jr.WRONG&&k.createElement(gt,{className:"sendbird-place-holder__body__icon",type:st.ERROR,fillColor:Ot.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===jr.NO_MESSAGES&&k.createElement(gt,{className:"sendbird-place-holder__body__icon",type:st.MESSAGE,fillColor:Ot.ON_BACKGROUND_3,width:"64px",height:"64px"}),k.createElement(Yn,{className:"sendbird-place-holder__body__text",type:Qn.BODY_1,color:qn.ONBACKGROUND_2},r===jr.NO_CHANNELS&&h.PLACE_HOLDER__NO_CHANNEL,r===jr.WRONG&&h.PLACE_HOLDER__WRONG,r===jr.NO_MESSAGES&&h.PLACE_HOLDER__NO_MESSAGES),d&&k.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:d,onKeyPress:d,tabIndex:0},k.createElement(gt,{className:"sendbird-place-holder__body__reconnect__icon",type:st.REFRESH,fillColor:Ot.PRIMARY,width:"20px",height:"20px"}),k.createElement(Yn,{className:"sendbird-place-holder__body__reconnect__text",type:Qn.BUTTON_1,color:qn.PRIMARY},h.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===jr.NO_RESULTS||r===jr.SEARCH_IN||r===jr.SEARCHING)&&k.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===jr.SEARCH_IN&&k.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},k.createElement(Yn,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Qn.BUTTON_2,color:qn.ONBACKGROUND_2},h.SEARCH_IN),k.createElement(Yn,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Qn.BUTTON_2,color:qn.PRIMARY},"'".concat(o)),k.createElement(Yn,{className:"sendbird-place-holder__body--align-top__text__quote",type:Qn.BUTTON_2,color:qn.PRIMARY},"'")),r===jr.SEARCHING&&k.createElement(Yn,{className:"sendbird-place-hlder__body--align-top__searching",type:Qn.BODY_1,color:qn.ONBACKGROUND_2},h.SEARCHING),r===jr.NO_RESULTS&&k.createElement(Yn,{className:"sendbird-place-hlder__body--align-top__no-result",type:Qn.BODY_1,color:qn.ONBACKGROUND_2},h.NO_SEARCHED_MESSAGE)))}var nL={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Bd={ElementNode:1,TextNode:3},ug={Span:"SPAN",Br:"BR",Div:"DIV"},Gue=function(e){var t=e.children,r=t===void 0?null:t,i=e.className,o=i===void 0?"":i,u=e.separatorColor,d=u===void 0?js.ONBACKGROUND_4:u;return k.createElement("div",{className:Hn(Hn([],Array.isArray(o)?o:[o],!0),["sendbird-separator"],!1).join(" ")},k.createElement("div",{className:["sendbird-separator__left","".concat(jw(d),"--background-color")].join(" ")}),k.createElement("div",{className:"sendbird-separator__text"},r||k.createElement(Yn,{type:Qn.CAPTION_2,color:qn.ONBACKGROUND_2},"Date Separator")),k.createElement("div",{className:["sendbird-separator__right","".concat(jw(d),"--background-color")].join(" ")}))},Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $ue(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}var XF={exports:{}},qh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tL=Object.getOwnPropertySymbols,zue=Object.prototype.hasOwnProperty,jue=Object.prototype.propertyIsEnumerable;function Vue(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Wue(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Kue=Wue()?Object.assign:function(n,e){for(var t,r=Vue(n),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var u in t)zue.call(t,u)&&(r[u]=t[u]);if(tL){i=tL(t);for(var d=0;d<i.length;d++)jue.call(t,i[d])&&(r[i[d]]=t[i[d]])}}return r},_0={exports:{}},hh=typeof Reflect=="object"?Reflect:null,rL=hh&&typeof hh.apply=="function"?hh.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Rg;hh&&typeof hh.ownKeys=="function"?Rg=hh.ownKeys:Object.getOwnPropertySymbols?Rg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Rg=function(e){return Object.getOwnPropertyNames(e)};function Que(n){console&&console.warn&&console.warn(n)}var JF=Number.isNaN||function(e){return e!==e};function Zt(){Zt.init.call(this)}_0.exports=Zt;_0.exports.once=Zue;Zt.EventEmitter=Zt;Zt.prototype._events=void 0;Zt.prototype._eventsCount=0;Zt.prototype._maxListeners=void 0;var iL=10;function Zv(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return iL},set:function(n){if(typeof n!="number"||n<0||JF(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");iL=n}});Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||JF(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ZF(n){return n._maxListeners===void 0?Zt.defaultMaxListeners:n._maxListeners}Zt.prototype.getMaxListeners=function(){return ZF(this)};Zt.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var d=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw d.context=u,d}var h=o[e];if(h===void 0)return!1;if(typeof h=="function")rL(h,this,t);else for(var f=h.length,v=i9(h,f),r=0;r<f;++r)rL(v[r],this,t);return!0};function e9(n,e,t,r){var i,o,u;if(Zv(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),u=o[e]),u===void 0)u=o[e]=t,++n._eventsCount;else if(typeof u=="function"?u=o[e]=r?[t,u]:[u,t]:r?u.unshift(t):u.push(t),i=ZF(n),i>0&&u.length>i&&!u.warned){u.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=n,d.type=e,d.count=u.length,Que(d)}return n}Zt.prototype.addListener=function(e,t){return e9(this,e,t,!1)};Zt.prototype.on=Zt.prototype.addListener;Zt.prototype.prependListener=function(e,t){return e9(this,e,t,!0)};function Yue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n9(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=Yue.bind(r);return i.listener=t,r.wrapFn=i,i}Zt.prototype.once=function(e,t){return Zv(t),this.on(e,n9(this,e,t)),this};Zt.prototype.prependOnceListener=function(e,t){return Zv(t),this.prependListener(e,n9(this,e,t)),this};Zt.prototype.removeListener=function(e,t){var r,i,o,u,d;if(Zv(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,u=r.length-1;u>=0;u--)if(r[u]===t||r[u].listener===t){d=r[u].listener,o=u;break}if(o<0)return this;o===0?r.shift():Xue(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,d||t)}return this};Zt.prototype.off=Zt.prototype.removeListener;Zt.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),u;for(i=0;i<o.length;++i)u=o[i],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function t9(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Jue(i):i9(i,i.length)}Zt.prototype.listeners=function(e){return t9(this,e,!0)};Zt.prototype.rawListeners=function(e){return t9(this,e,!1)};Zt.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):r9.call(n,e)};Zt.prototype.listenerCount=r9;function r9(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?Rg(this._events):[]};function i9(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function Xue(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function Jue(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function Zue(n,e){return new Promise(function(t,r){function i(u){n.removeListener(e,o),r(u)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}a9(n,e,o,{once:!0}),e!=="error"&&ece(n,i,{once:!0})})}function ece(n,e,t){typeof n.on=="function"&&a9(n,"error",e,t)}function a9(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(o){r.once&&n.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Bh=_0.exports,Ro={},nce=function(e){return e instanceof Buffer},Ww={exports:{}},Kw={exports:{}};typeof Object.create=="function"?Kw.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Kw.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};try{var aL=Ro;if(typeof aL.inherits!="function")throw"";Ww.exports=aL.inherits}catch{Ww.exports=Kw.exports}(function(n){var e=Object.getOwnPropertyDescriptors||function(X){for(var ge=Object.keys(X),Ke={},qe=0;qe<ge.length;qe++)Ke[ge[qe]]=Object.getOwnPropertyDescriptor(X,ge[qe]);return Ke},t=/%[sdj%]/g;n.format=function(te){if(!P(te)){for(var X=[],ge=0;ge<arguments.length;ge++)X.push(o(arguments[ge]));return X.join(" ")}for(var ge=1,Ke=arguments,qe=Ke.length,Te=String(te).replace(t,function(Oe){if(Oe==="%%")return"%";if(ge>=qe)return Oe;switch(Oe){case"%s":return String(Ke[ge++]);case"%d":return Number(Ke[ge++]);case"%j":try{return JSON.stringify(Ke[ge++])}catch{return"[Circular]"}default:return Oe}}),xe=Ke[ge];ge<qe;xe=Ke[++ge])N(xe)||!V(xe)?Te+=" "+xe:Te+=" "+o(xe);return Te},n.deprecate=function(te,X){if(typeof process<"u"&&process.noDeprecation===!0)return te;if(typeof process>"u")return function(){return n.deprecate(te,X).apply(this,arguments)};var ge=!1;function Ke(){if(!ge){if(process.throwDeprecation)throw new Error(X);process.traceDeprecation?console.trace(X):console.error(X),ge=!0}return te.apply(this,arguments)}return Ke};var r={},i;n.debuglog=function(te){if(z(i)&&(i={}.NODE_DEBUG||""),te=te.toUpperCase(),!r[te])if(new RegExp("\\b"+te+"\\b","i").test(i)){var X=process.pid;r[te]=function(){var ge=n.format.apply(n,arguments);console.error("%s %d: %s",te,X,ge)}}else r[te]=function(){};return r[te]};function o(te,X){var ge={seen:[],stylize:d};return arguments.length>=3&&(ge.depth=arguments[2]),arguments.length>=4&&(ge.colors=arguments[3]),M(X)?ge.showHidden=X:X&&n._extend(ge,X),z(ge.showHidden)&&(ge.showHidden=!1),z(ge.depth)&&(ge.depth=2),z(ge.colors)&&(ge.colors=!1),z(ge.customInspect)&&(ge.customInspect=!0),ge.colors&&(ge.stylize=u),f(ge,te,ge.depth)}n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(te,X){var ge=o.styles[X];return ge?"\x1B["+o.colors[ge][0]+"m"+te+"\x1B["+o.colors[ge][1]+"m":te}function d(te,X){return te}function h(te){var X={};return te.forEach(function(ge,Ke){X[ge]=!0}),X}function f(te,X,ge){if(te.customInspect&&X&&Ee(X.inspect)&&X.inspect!==n.inspect&&!(X.constructor&&X.constructor.prototype===X)){var Ke=X.inspect(ge,te);return P(Ke)||(Ke=f(te,Ke,ge)),Ke}var qe=v(te,X);if(qe)return qe;var Te=Object.keys(X),xe=h(Te);if(te.showHidden&&(Te=Object.getOwnPropertyNames(X)),ce(X)&&(Te.indexOf("message")>=0||Te.indexOf("description")>=0))return _(X);if(Te.length===0){if(Ee(X)){var Oe=X.name?": "+X.name:"";return te.stylize("[Function"+Oe+"]","special")}if(W(X))return te.stylize(RegExp.prototype.toString.call(X),"regexp");if(he(X))return te.stylize(Date.prototype.toString.call(X),"date");if(ce(X))return _(X)}var Je="",bn=!1,An=["{","}"];if(C(X)&&(bn=!0,An=["[","]"]),Ee(X)){var hn=X.name?": "+X.name:"";Je=" [Function"+hn+"]"}if(W(X)&&(Je=" "+RegExp.prototype.toString.call(X)),he(X)&&(Je=" "+Date.prototype.toUTCString.call(X)),ce(X)&&(Je=" "+_(X)),Te.length===0&&(!bn||X.length==0))return An[0]+Je+An[1];if(ge<0)return W(X)?te.stylize(RegExp.prototype.toString.call(X),"regexp"):te.stylize("[Object]","special");te.seen.push(X);var Dn;return bn?Dn=y(te,X,ge,xe,Te):Dn=Te.map(function(rn){return E(te,X,ge,xe,rn,bn)}),te.seen.pop(),x(Dn,Je,An)}function v(te,X){if(z(X))return te.stylize("undefined","undefined");if(P(X)){var ge="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(ge,"string")}if(D(X))return te.stylize(""+X,"number");if(M(X))return te.stylize(""+X,"boolean");if(N(X))return te.stylize("null","null")}function _(te){return"["+Error.prototype.toString.call(te)+"]"}function y(te,X,ge,Ke,qe){for(var Te=[],xe=0,Oe=X.length;xe<Oe;++xe)He(X,String(xe))?Te.push(E(te,X,ge,Ke,String(xe),!0)):Te.push("");return qe.forEach(function(Je){Je.match(/^\d+$/)||Te.push(E(te,X,ge,Ke,Je,!0))}),Te}function E(te,X,ge,Ke,qe,Te){var xe,Oe,Je;if(Je=Object.getOwnPropertyDescriptor(X,qe)||{value:X[qe]},Je.get?Je.set?Oe=te.stylize("[Getter/Setter]","special"):Oe=te.stylize("[Getter]","special"):Je.set&&(Oe=te.stylize("[Setter]","special")),He(Ke,qe)||(xe="["+qe+"]"),Oe||(te.seen.indexOf(Je.value)<0?(N(ge)?Oe=f(te,Je.value,null):Oe=f(te,Je.value,ge-1),Oe.indexOf(`
`)>-1&&(Te?Oe=Oe.split(`
`).map(function(bn){return"  "+bn}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(bn){return"   "+bn}).join(`
`))):Oe=te.stylize("[Circular]","special")),z(xe)){if(Te&&qe.match(/^\d+$/))return Oe;xe=JSON.stringify(""+qe),xe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.substr(1,xe.length-2),xe=te.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=te.stylize(xe,"string"))}return xe+": "+Oe}function x(te,X,ge){var Ke=te.reduce(function(qe,Te){return Te.indexOf(`
`)>=0,qe+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ke>60?ge[0]+(X===""?"":X+`
 `)+" "+te.join(`,
  `)+" "+ge[1]:ge[0]+X+" "+te.join(", ")+" "+ge[1]}function C(te){return Array.isArray(te)}n.isArray=C;function M(te){return typeof te=="boolean"}n.isBoolean=M;function N(te){return te===null}n.isNull=N;function S(te){return te==null}n.isNullOrUndefined=S;function D(te){return typeof te=="number"}n.isNumber=D;function P(te){return typeof te=="string"}n.isString=P;function Q(te){return typeof te=="symbol"}n.isSymbol=Q;function z(te){return te===void 0}n.isUndefined=z;function W(te){return V(te)&&se(te)==="[object RegExp]"}n.isRegExp=W;function V(te){return typeof te=="object"&&te!==null}n.isObject=V;function he(te){return V(te)&&se(te)==="[object Date]"}n.isDate=he;function ce(te){return V(te)&&(se(te)==="[object Error]"||te instanceof Error)}n.isError=ce;function Ee(te){return typeof te=="function"}n.isFunction=Ee;function Ne(te){return te===null||typeof te=="boolean"||typeof te=="number"||typeof te=="string"||typeof te=="symbol"||typeof te>"u"}n.isPrimitive=Ne,n.isBuffer=nce;function se(te){return Object.prototype.toString.call(te)}function oe(te){return te<10?"0"+te.toString(10):te.toString(10)}var ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Re(){var te=new Date,X=[oe(te.getHours()),oe(te.getMinutes()),oe(te.getSeconds())].join(":");return[te.getDate(),ue[te.getMonth()],X].join(" ")}n.log=function(){console.log("%s - %s",Re(),n.format.apply(n,arguments))},n.inherits=Ww.exports,n._extend=function(te,X){if(!X||!V(X))return te;for(var ge=Object.keys(X),Ke=ge.length;Ke--;)te[ge[Ke]]=X[ge[Ke]];return te};function He(te,X){return Object.prototype.hasOwnProperty.call(te,X)}var ve=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(ve&&X[ve]){var ge=X[ve];if(typeof ge!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ge,ve,{value:ge,enumerable:!1,writable:!1,configurable:!0}),ge}function ge(){for(var Ke,qe,Te=new Promise(function(Je,bn){Ke=Je,qe=bn}),xe=[],Oe=0;Oe<arguments.length;Oe++)xe.push(arguments[Oe]);xe.push(function(Je,bn){Je?qe(Je):Ke(bn)});try{X.apply(this,xe)}catch(Je){qe(Je)}return Te}return Object.setPrototypeOf(ge,Object.getPrototypeOf(X)),ve&&Object.defineProperty(ge,ve,{value:ge,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ge,e(X))},n.promisify.custom=ve;function Ce(te,X){if(!te){var ge=new Error("Promise was rejected with a falsy value");ge.reason=te,te=ge}return X(te)}function Le(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var ge=[],Ke=0;Ke<arguments.length;Ke++)ge.push(arguments[Ke]);var qe=ge.pop();if(typeof qe!="function")throw new TypeError("The last argument must be of type Function");var Te=this,xe=function(){return qe.apply(Te,arguments)};te.apply(this,ge).then(function(Oe){process.nextTick(xe,null,Oe)},function(Oe){process.nextTick(Ce,Oe,xe)})}return Object.setPrototypeOf(X,Object.getPrototypeOf(te)),Object.defineProperties(X,e(te)),X}n.callbackify=Le})(Ro);var Is=Vw.process,Tu={},e_={};e_.byteLength=ice;e_.toByteArray=sce;e_.fromByteArray=uce;var So=[],ps=[],tce=typeof Uint8Array<"u"?Uint8Array:Array,dE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Gd=0,rce=dE.length;Gd<rce;++Gd)So[Gd]=dE[Gd],ps[dE.charCodeAt(Gd)]=Gd;ps["-".charCodeAt(0)]=62;ps["_".charCodeAt(0)]=63;function s9(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function ice(n){var e=s9(n),t=e[0],r=e[1];return(t+r)*3/4-r}function ace(n,e,t){return(e+t)*3/4-t}function sce(n){var e,t=s9(n),r=t[0],i=t[1],o=new tce(ace(n,r,i)),u=0,d=i>0?r-4:r,h;for(h=0;h<d;h+=4)e=ps[n.charCodeAt(h)]<<18|ps[n.charCodeAt(h+1)]<<12|ps[n.charCodeAt(h+2)]<<6|ps[n.charCodeAt(h+3)],o[u++]=e>>16&255,o[u++]=e>>8&255,o[u++]=e&255;return i===2&&(e=ps[n.charCodeAt(h)]<<2|ps[n.charCodeAt(h+1)]>>4,o[u++]=e&255),i===1&&(e=ps[n.charCodeAt(h)]<<10|ps[n.charCodeAt(h+1)]<<4|ps[n.charCodeAt(h+2)]>>2,o[u++]=e>>8&255,o[u++]=e&255),o}function oce(n){return So[n>>18&63]+So[n>>12&63]+So[n>>6&63]+So[n&63]}function lce(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(oce(r));return i.join("")}function uce(n){for(var e,t=n.length,r=t%3,i=[],o=16383,u=0,d=t-r;u<d;u+=o)i.push(lce(n,u,u+o>d?d:u+o));return r===1?(e=n[t-1],i.push(So[e>>2]+So[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(So[e>>10]+So[e>>4&63]+So[e<<2&63]+"=")),i.join("")}var L3={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */L3.read=function(n,e,t,r,i){var o,u,d=i*8-r-1,h=(1<<d)-1,f=h>>1,v=-7,_=t?i-1:0,y=t?-1:1,E=n[e+_];for(_+=y,o=E&(1<<-v)-1,E>>=-v,v+=d;v>0;o=o*256+n[e+_],_+=y,v-=8);for(u=o&(1<<-v)-1,o>>=-v,v+=r;v>0;u=u*256+n[e+_],_+=y,v-=8);if(o===0)o=1-f;else{if(o===h)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,r),o=o-f}return(E?-1:1)*u*Math.pow(2,o-r)};L3.write=function(n,e,t,r,i,o){var u,d,h,f=o*8-i-1,v=(1<<f)-1,_=v>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:o-1,x=r?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,u=v):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+_>=1?e+=y/h:e+=y*Math.pow(2,1-_),e*h>=2&&(u++,h/=2),u+_>=v?(d=0,u=v):u+_>=1?(d=(e*h-1)*Math.pow(2,i),u=u+_):(d=e*Math.pow(2,_-1)*Math.pow(2,i),u=0));i>=8;n[t+E]=d&255,E+=x,d/=256,i-=8);for(u=u<<i|d,f+=i;f>0;n[t+E]=u&255,E+=x,u/=256,f-=8);n[t+E-x]|=C*128};var cce={}.toString,dce=Array.isArray||function(n){return cce.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(n){var e=e_,t=L3,r=dce;n.Buffer=d,n.SlowBuffer=N,n.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=Vw.TYPED_ARRAY_SUPPORT!==void 0?Vw.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=o();function i(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u($,A){if(o()<A)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?($=new Uint8Array(A),$.__proto__=d.prototype):($===null&&($=new d(A)),$.length=A),$}function d($,A,R){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d($,A,R);if(typeof $=="number"){if(typeof A=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,$)}return h(this,$,A,R)}d.poolSize=8192,d._augment=function($){return $.__proto__=d.prototype,$};function h($,A,R,j){if(typeof A=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer?x($,A,R,j):typeof A=="string"?y($,A,R):C($,A)}d.from=function($,A,R){return h(null,$,A,R)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0}));function f($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function v($,A,R,j){return f(A),A<=0?u($,A):R!==void 0?typeof j=="string"?u($,A).fill(R,j):u($,A).fill(R):u($,A)}d.alloc=function($,A,R){return v(null,$,A,R)};function _($,A){if(f(A),$=u($,A<0?0:M(A)|0),!d.TYPED_ARRAY_SUPPORT)for(var R=0;R<A;++R)$[R]=0;return $}d.allocUnsafe=function($){return _(null,$)},d.allocUnsafeSlow=function($){return _(null,$)};function y($,A,R){if((typeof R!="string"||R==="")&&(R="utf8"),!d.isEncoding(R))throw new TypeError('"encoding" must be a valid string encoding');var j=S(A,R)|0;$=u($,j);var Z=$.write(A,R);return Z!==j&&($=$.slice(0,Z)),$}function E($,A){var R=A.length<0?0:M(A.length)|0;$=u($,R);for(var j=0;j<R;j+=1)$[j]=A[j]&255;return $}function x($,A,R,j){if(A.byteLength,R<0||A.byteLength<R)throw new RangeError("'offset' is out of bounds");if(A.byteLength<R+(j||0))throw new RangeError("'length' is out of bounds");return R===void 0&&j===void 0?A=new Uint8Array(A):j===void 0?A=new Uint8Array(A,R):A=new Uint8Array(A,R,j),d.TYPED_ARRAY_SUPPORT?($=A,$.__proto__=d.prototype):$=E($,A),$}function C($,A){if(d.isBuffer(A)){var R=M(A.length)|0;return $=u($,R),$.length===0||A.copy($,0,0,R),$}if(A){if(typeof ArrayBuffer<"u"&&A.buffer instanceof ArrayBuffer||"length"in A)return typeof A.length!="number"||Cn(A.length)?u($,0):E($,A);if(A.type==="Buffer"&&r(A.data))return E($,A.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function M($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function N($){return+$!=$&&($=0),d.alloc(+$)}d.isBuffer=function(A){return!!(A!=null&&A._isBuffer)},d.compare=function(A,R){if(!d.isBuffer(A)||!d.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(A===R)return 0;for(var j=A.length,Z=R.length,be=0,Ie=Math.min(j,Z);be<Ie;++be)if(A[be]!==R[be]){j=A[be],Z=R[be];break}return j<Z?-1:Z<j?1:0},d.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(A,R){if(!r(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return d.alloc(0);var j;if(R===void 0)for(R=0,j=0;j<A.length;++j)R+=A[j].length;var Z=d.allocUnsafe(R),be=0;for(j=0;j<A.length;++j){var Ie=A[j];if(!d.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Z,be),be+=Ie.length}return Z};function S($,A){if(d.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var R=$.length;if(R===0)return 0;for(var j=!1;;)switch(A){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":case void 0:return hn($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Rn($).length;default:if(j)return hn($).length;A=(""+A).toLowerCase(),j=!0}}d.byteLength=S;function D($,A,R){var j=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,A>>>=0,R<=A))return"";for($||($="utf8");;)switch($){case"hex":return Ce(this,A,R);case"utf8":case"utf-8":return oe(this,A,R);case"ascii":return He(this,A,R);case"latin1":case"binary":return ve(this,A,R);case"base64":return se(this,A,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,A,R);default:if(j)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),j=!0}}d.prototype._isBuffer=!0;function P($,A,R){var j=$[A];$[A]=$[R],$[R]=j}d.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<A;R+=2)P(this,R,R+1);return this},d.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<A;R+=4)P(this,R,R+3),P(this,R+1,R+2);return this},d.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<A;R+=8)P(this,R,R+7),P(this,R+1,R+6),P(this,R+2,R+5),P(this,R+3,R+4);return this},d.prototype.toString=function(){var A=this.length|0;return A===0?"":arguments.length===0?oe(this,0,A):D.apply(this,arguments)},d.prototype.equals=function(A){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:d.compare(this,A)===0},d.prototype.inspect=function(){var A="",R=n.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(A+=" ... ")),"<Buffer "+A+">"},d.prototype.compare=function(A,R,j,Z,be){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),j===void 0&&(j=A?A.length:0),Z===void 0&&(Z=0),be===void 0&&(be=this.length),R<0||j>A.length||Z<0||be>this.length)throw new RangeError("out of range index");if(Z>=be&&R>=j)return 0;if(Z>=be)return-1;if(R>=j)return 1;if(R>>>=0,j>>>=0,Z>>>=0,be>>>=0,this===A)return 0;for(var Ie=be-Z,pn=j-R,dn=Math.min(Ie,pn),nn=this.slice(Z,be),Be=A.slice(R,j),xn=0;xn<dn;++xn)if(nn[xn]!==Be[xn]){Ie=nn[xn],pn=Be[xn];break}return Ie<pn?-1:pn<Ie?1:0};function Q($,A,R,j,Z){if($.length===0)return-1;if(typeof R=="string"?(j=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,isNaN(R)&&(R=Z?0:$.length-1),R<0&&(R=$.length+R),R>=$.length){if(Z)return-1;R=$.length-1}else if(R<0)if(Z)R=0;else return-1;if(typeof A=="string"&&(A=d.from(A,j)),d.isBuffer(A))return A.length===0?-1:z($,A,R,j,Z);if(typeof A=="number")return A=A&255,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call($,A,R):Uint8Array.prototype.lastIndexOf.call($,A,R):z($,[A],R,j,Z);throw new TypeError("val must be string, number or Buffer")}function z($,A,R,j,Z){var be=1,Ie=$.length,pn=A.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if($.length<2||A.length<2)return-1;be=2,Ie/=2,pn/=2,R/=2}function dn(Dt,Or){return be===1?Dt[Or]:Dt.readUInt16BE(Or*be)}var nn;if(Z){var Be=-1;for(nn=R;nn<Ie;nn++)if(dn($,nn)===dn(A,Be===-1?0:nn-Be)){if(Be===-1&&(Be=nn),nn-Be+1===pn)return Be*be}else Be!==-1&&(nn-=nn-Be),Be=-1}else for(R+pn>Ie&&(R=Ie-pn),nn=R;nn>=0;nn--){for(var xn=!0,ot=0;ot<pn;ot++)if(dn($,nn+ot)!==dn(A,ot)){xn=!1;break}if(xn)return nn}return-1}d.prototype.includes=function(A,R,j){return this.indexOf(A,R,j)!==-1},d.prototype.indexOf=function(A,R,j){return Q(this,A,R,j,!0)},d.prototype.lastIndexOf=function(A,R,j){return Q(this,A,R,j,!1)};function W($,A,R,j){R=Number(R)||0;var Z=$.length-R;j?(j=Number(j),j>Z&&(j=Z)):j=Z;var be=A.length;if(be%2!==0)throw new TypeError("Invalid hex string");j>be/2&&(j=be/2);for(var Ie=0;Ie<j;++Ie){var pn=parseInt(A.substr(Ie*2,2),16);if(isNaN(pn))return Ie;$[R+Ie]=pn}return Ie}function V($,A,R,j){return yn(hn(A,$.length-R),$,R,j)}function he($,A,R,j){return yn(Dn(A),$,R,j)}function ce($,A,R,j){return he($,A,R,j)}function Ee($,A,R,j){return yn(Rn(A),$,R,j)}function Ne($,A,R,j){return yn(rn(A,$.length-R),$,R,j)}d.prototype.write=function(A,R,j,Z){if(R===void 0)Z="utf8",j=this.length,R=0;else if(j===void 0&&typeof R=="string")Z=R,j=this.length,R=0;else if(isFinite(R))R=R|0,isFinite(j)?(j=j|0,Z===void 0&&(Z="utf8")):(Z=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var be=this.length-R;if((j===void 0||j>be)&&(j=be),A.length>0&&(j<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var Ie=!1;;)switch(Z){case"hex":return W(this,A,R,j);case"utf8":case"utf-8":return V(this,A,R,j);case"ascii":return he(this,A,R,j);case"latin1":case"binary":return ce(this,A,R,j);case"base64":return Ee(this,A,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,A,R,j);default:if(Ie)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),Ie=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se($,A,R){return A===0&&R===$.length?e.fromByteArray($):e.fromByteArray($.slice(A,R))}function oe($,A,R){R=Math.min($.length,R);for(var j=[],Z=A;Z<R;){var be=$[Z],Ie=null,pn=be>239?4:be>223?3:be>191?2:1;if(Z+pn<=R){var dn,nn,Be,xn;switch(pn){case 1:be<128&&(Ie=be);break;case 2:dn=$[Z+1],(dn&192)===128&&(xn=(be&31)<<6|dn&63,xn>127&&(Ie=xn));break;case 3:dn=$[Z+1],nn=$[Z+2],(dn&192)===128&&(nn&192)===128&&(xn=(be&15)<<12|(dn&63)<<6|nn&63,xn>2047&&(xn<55296||xn>57343)&&(Ie=xn));break;case 4:dn=$[Z+1],nn=$[Z+2],Be=$[Z+3],(dn&192)===128&&(nn&192)===128&&(Be&192)===128&&(xn=(be&15)<<18|(dn&63)<<12|(nn&63)<<6|Be&63,xn>65535&&xn<1114112&&(Ie=xn))}}Ie===null?(Ie=65533,pn=1):Ie>65535&&(Ie-=65536,j.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),j.push(Ie),Z+=pn}return Re(j)}var ue=4096;function Re($){var A=$.length;if(A<=ue)return String.fromCharCode.apply(String,$);for(var R="",j=0;j<A;)R+=String.fromCharCode.apply(String,$.slice(j,j+=ue));return R}function He($,A,R){var j="";R=Math.min($.length,R);for(var Z=A;Z<R;++Z)j+=String.fromCharCode($[Z]&127);return j}function ve($,A,R){var j="";R=Math.min($.length,R);for(var Z=A;Z<R;++Z)j+=String.fromCharCode($[Z]);return j}function Ce($,A,R){var j=$.length;(!A||A<0)&&(A=0),(!R||R<0||R>j)&&(R=j);for(var Z="",be=A;be<R;++be)Z+=An($[be]);return Z}function Le($,A,R){for(var j=$.slice(A,R),Z="",be=0;be<j.length;be+=2)Z+=String.fromCharCode(j[be]+j[be+1]*256);return Z}d.prototype.slice=function(A,R){var j=this.length;A=~~A,R=R===void 0?j:~~R,A<0?(A+=j,A<0&&(A=0)):A>j&&(A=j),R<0?(R+=j,R<0&&(R=0)):R>j&&(R=j),R<A&&(R=A);var Z;if(d.TYPED_ARRAY_SUPPORT)Z=this.subarray(A,R),Z.__proto__=d.prototype;else{var be=R-A;Z=new d(be,void 0);for(var Ie=0;Ie<be;++Ie)Z[Ie]=this[Ie+A]}return Z};function te($,A,R){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+A>R)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUIntLE=function(A,R,j){A=A|0,R=R|0,j||te(A,R,this.length);for(var Z=this[A],be=1,Ie=0;++Ie<R&&(be*=256);)Z+=this[A+Ie]*be;return Z},d.prototype.readUIntBE=function(A,R,j){A=A|0,R=R|0,j||te(A,R,this.length);for(var Z=this[A+--R],be=1;R>0&&(be*=256);)Z+=this[A+--R]*be;return Z},d.prototype.readUInt8=function(A,R){return R||te(A,1,this.length),this[A]},d.prototype.readUInt16LE=function(A,R){return R||te(A,2,this.length),this[A]|this[A+1]<<8},d.prototype.readUInt16BE=function(A,R){return R||te(A,2,this.length),this[A]<<8|this[A+1]},d.prototype.readUInt32LE=function(A,R){return R||te(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},d.prototype.readUInt32BE=function(A,R){return R||te(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},d.prototype.readIntLE=function(A,R,j){A=A|0,R=R|0,j||te(A,R,this.length);for(var Z=this[A],be=1,Ie=0;++Ie<R&&(be*=256);)Z+=this[A+Ie]*be;return be*=128,Z>=be&&(Z-=Math.pow(2,8*R)),Z},d.prototype.readIntBE=function(A,R,j){A=A|0,R=R|0,j||te(A,R,this.length);for(var Z=R,be=1,Ie=this[A+--Z];Z>0&&(be*=256);)Ie+=this[A+--Z]*be;return be*=128,Ie>=be&&(Ie-=Math.pow(2,8*R)),Ie},d.prototype.readInt8=function(A,R){return R||te(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},d.prototype.readInt16LE=function(A,R){R||te(A,2,this.length);var j=this[A]|this[A+1]<<8;return j&32768?j|4294901760:j},d.prototype.readInt16BE=function(A,R){R||te(A,2,this.length);var j=this[A+1]|this[A]<<8;return j&32768?j|4294901760:j},d.prototype.readInt32LE=function(A,R){return R||te(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},d.prototype.readInt32BE=function(A,R){return R||te(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},d.prototype.readFloatLE=function(A,R){return R||te(A,4,this.length),t.read(this,A,!0,23,4)},d.prototype.readFloatBE=function(A,R){return R||te(A,4,this.length),t.read(this,A,!1,23,4)},d.prototype.readDoubleLE=function(A,R){return R||te(A,8,this.length),t.read(this,A,!0,52,8)},d.prototype.readDoubleBE=function(A,R){return R||te(A,8,this.length),t.read(this,A,!1,52,8)};function X($,A,R,j,Z,be){if(!d.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<be)throw new RangeError('"value" argument is out of bounds');if(R+j>$.length)throw new RangeError("Index out of range")}d.prototype.writeUIntLE=function(A,R,j,Z){if(A=+A,R=R|0,j=j|0,!Z){var be=Math.pow(2,8*j)-1;X(this,A,R,j,be,0)}var Ie=1,pn=0;for(this[R]=A&255;++pn<j&&(Ie*=256);)this[R+pn]=A/Ie&255;return R+j},d.prototype.writeUIntBE=function(A,R,j,Z){if(A=+A,R=R|0,j=j|0,!Z){var be=Math.pow(2,8*j)-1;X(this,A,R,j,be,0)}var Ie=j-1,pn=1;for(this[R+Ie]=A&255;--Ie>=0&&(pn*=256);)this[R+Ie]=A/pn&255;return R+j},d.prototype.writeUInt8=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,1,255,0),d.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[R]=A&255,R+1};function ge($,A,R,j){A<0&&(A=65535+A+1);for(var Z=0,be=Math.min($.length-R,2);Z<be;++Z)$[R+Z]=(A&255<<8*(j?Z:1-Z))>>>(j?Z:1-Z)*8}d.prototype.writeUInt16LE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8):ge(this,A,R,!0),R+2},d.prototype.writeUInt16BE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=A&255):ge(this,A,R,!1),R+2};function Ke($,A,R,j){A<0&&(A=4294967295+A+1);for(var Z=0,be=Math.min($.length-R,4);Z<be;++Z)$[R+Z]=A>>>(j?Z:3-Z)*8&255}d.prototype.writeUInt32LE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=A&255):Ke(this,A,R,!0),R+4},d.prototype.writeUInt32BE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255):Ke(this,A,R,!1),R+4},d.prototype.writeIntLE=function(A,R,j,Z){if(A=+A,R=R|0,!Z){var be=Math.pow(2,8*j-1);X(this,A,R,j,be-1,-be)}var Ie=0,pn=1,dn=0;for(this[R]=A&255;++Ie<j&&(pn*=256);)A<0&&dn===0&&this[R+Ie-1]!==0&&(dn=1),this[R+Ie]=(A/pn>>0)-dn&255;return R+j},d.prototype.writeIntBE=function(A,R,j,Z){if(A=+A,R=R|0,!Z){var be=Math.pow(2,8*j-1);X(this,A,R,j,be-1,-be)}var Ie=j-1,pn=1,dn=0;for(this[R+Ie]=A&255;--Ie>=0&&(pn*=256);)A<0&&dn===0&&this[R+Ie+1]!==0&&(dn=1),this[R+Ie]=(A/pn>>0)-dn&255;return R+j},d.prototype.writeInt8=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,1,127,-128),d.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[R]=A&255,R+1},d.prototype.writeInt16LE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8):ge(this,A,R,!0),R+2},d.prototype.writeInt16BE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=A&255):ge(this,A,R,!1),R+2},d.prototype.writeInt32LE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24):Ke(this,A,R,!0),R+4},d.prototype.writeInt32BE=function(A,R,j){return A=+A,R=R|0,j||X(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),d.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255):Ke(this,A,R,!1),R+4};function qe($,A,R,j,Z,be){if(R+j>$.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Te($,A,R,j,Z){return Z||qe($,A,R,4),t.write($,A,R,j,23,4),R+4}d.prototype.writeFloatLE=function(A,R,j){return Te(this,A,R,!0,j)},d.prototype.writeFloatBE=function(A,R,j){return Te(this,A,R,!1,j)};function xe($,A,R,j,Z){return Z||qe($,A,R,8),t.write($,A,R,j,52,8),R+8}d.prototype.writeDoubleLE=function(A,R,j){return xe(this,A,R,!0,j)},d.prototype.writeDoubleBE=function(A,R,j){return xe(this,A,R,!1,j)},d.prototype.copy=function(A,R,j,Z){if(j||(j=0),!Z&&Z!==0&&(Z=this.length),R>=A.length&&(R=A.length),R||(R=0),Z>0&&Z<j&&(Z=j),Z===j||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-R<Z-j&&(Z=A.length-R+j);var be=Z-j,Ie;if(this===A&&j<R&&R<Z)for(Ie=be-1;Ie>=0;--Ie)A[Ie+R]=this[Ie+j];else if(be<1e3||!d.TYPED_ARRAY_SUPPORT)for(Ie=0;Ie<be;++Ie)A[Ie+R]=this[Ie+j];else Uint8Array.prototype.set.call(A,this.subarray(j,j+be),R);return be},d.prototype.fill=function(A,R,j,Z){if(typeof A=="string"){if(typeof R=="string"?(Z=R,R=0,j=this.length):typeof j=="string"&&(Z=j,j=this.length),A.length===1){var be=A.charCodeAt(0);be<256&&(A=be)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!d.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof A=="number"&&(A=A&255);if(R<0||this.length<R||this.length<j)throw new RangeError("Out of range index");if(j<=R)return this;R=R>>>0,j=j===void 0?this.length:j>>>0,A||(A=0);var Ie;if(typeof A=="number")for(Ie=R;Ie<j;++Ie)this[Ie]=A;else{var pn=d.isBuffer(A)?A:hn(new d(A,Z).toString()),dn=pn.length;for(Ie=0;Ie<j-R;++Ie)this[Ie+R]=pn[Ie%dn]}return this};var Oe=/[^+\/0-9A-Za-z-_]/g;function Je($){if($=bn($).replace(Oe,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function bn($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function An($){return $<16?"0"+$.toString(16):$.toString(16)}function hn($,A){A=A||1/0;for(var R,j=$.length,Z=null,be=[],Ie=0;Ie<j;++Ie){if(R=$.charCodeAt(Ie),R>55295&&R<57344){if(!Z){if(R>56319){(A-=3)>-1&&be.push(239,191,189);continue}else if(Ie+1===j){(A-=3)>-1&&be.push(239,191,189);continue}Z=R;continue}if(R<56320){(A-=3)>-1&&be.push(239,191,189),Z=R;continue}R=(Z-55296<<10|R-56320)+65536}else Z&&(A-=3)>-1&&be.push(239,191,189);if(Z=null,R<128){if((A-=1)<0)break;be.push(R)}else if(R<2048){if((A-=2)<0)break;be.push(R>>6|192,R&63|128)}else if(R<65536){if((A-=3)<0)break;be.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((A-=4)<0)break;be.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return be}function Dn($){for(var A=[],R=0;R<$.length;++R)A.push($.charCodeAt(R)&255);return A}function rn($,A){for(var R,j,Z,be=[],Ie=0;Ie<$.length&&!((A-=2)<0);++Ie)R=$.charCodeAt(Ie),j=R>>8,Z=R%256,be.push(Z),be.push(j);return be}function Rn($){return e.toByteArray(Je($))}function yn($,A,R,j){for(var Z=0;Z<j&&!(Z+R>=A.length||Z>=$.length);++Z)A[Z+R]=$[Z];return Z}function Cn($){return $!==$}})(Tu);function Kc(){this.head=null,this.tail=null,this.length=0}Kc.prototype.push=function(n){var e={data:n,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length};Kc.prototype.unshift=function(n){var e={data:n,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length};Kc.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}};Kc.prototype.clear=function(){this.head=this.tail=null,this.length=0};Kc.prototype.join=function(n){if(this.length===0)return"";for(var e=this.head,t=""+e.data;e=e.next;)t+=n+e.data;return t};Kc.prototype.concat=function(n){if(this.length===0)return Tu.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var e=Tu.Buffer.allocUnsafe(n>>>0),t=this.head,r=0;t;)t.data.copy(e,r),r+=t.data.length,t=t.next;return e};var Qw={exports:{}};(function(n,e){var t=Tu,r=t.Buffer;function i(u,d){for(var h in u)d[h]=u[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=o);function o(u,d,h){return r(u,d,h)}i(r,o),o.from=function(u,d,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,d,h)},o.alloc=function(u,d,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var f=r(u);return d!==void 0?typeof h=="string"?f.fill(d,h):f.fill(d):f.fill(0),f},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(Qw,Qw.exports);var P3=Qw.exports.Buffer,sL=P3.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function hce(n){if(!n)return"utf8";for(var e;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(e)return;n=(""+n).toLowerCase(),e=!0}}function pce(n){var e=hce(n);if(typeof e!="string"&&(P3.isEncoding===sL||!sL(n)))throw new Error("Unknown encoding: "+n);return e||n}var o9=b0;function b0(n){this.encoding=pce(n);var e;switch(this.encoding){case"utf16le":this.text=bce,this.end=yce,e=4;break;case"utf8":this.fillLast=gce,e=4;break;case"base64":this.text=Ece,this.end=wce,e=3;break;default:this.write=xce,this.end=kce;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=P3.allocUnsafe(e)}b0.prototype.write=function(n){if(n.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(n),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<n.length?e?e+this.text(n,t):this.text(n,t):e||""};b0.prototype.end=_ce;b0.prototype.text=vce;b0.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function hE(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function fce(n,e,t){var r=e.length-1;if(r<t)return 0;var i=hE(e[r]);return i>=0?(i>0&&(n.lastNeed=i-1),i):--r<t||i===-2?0:(i=hE(e[r]),i>=0?(i>0&&(n.lastNeed=i-2),i):--r<t||i===-2?0:(i=hE(e[r]),i>=0?(i>0&&(i===2?i=0:n.lastNeed=i-3),i):0))}function mce(n,e,t){if((e[0]&192)!==128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return n.lastNeed=2,"\uFFFD"}}function gce(n){var e=this.lastTotal-this.lastNeed,t=mce(this,n);if(t!==void 0)return t;if(this.lastNeed<=n.length)return n.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,e,0,n.length),this.lastNeed-=n.length}function vce(n,e){var t=fce(this,n,e);if(!this.lastNeed)return n.toString("utf8",e);this.lastTotal=t;var r=n.length-(t-this.lastNeed);return n.copy(this.lastChar,0,r),n.toString("utf8",e,r)}function _ce(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+"\uFFFD":e}function bce(n,e){if((n.length-e)%2===0){var t=n.toString("utf16le",e);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",e,n.length-1)}function yce(n){var e=n&&n.length?this.write(n):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function Ece(n,e){var t=(n.length-e)%3;return t===0?n.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",e,n.length-t))}function wce(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function xce(n){return n.toString(this.encoding)}function kce(n){return n&&n.length?this.write(n):""}Sr.ReadableState=l9;var Wt=Ro.debuglog("stream");Ro.inherits(Sr,Bh);function Cce(n,e,t){if(typeof n.prependListener=="function")return n.prependListener(e,t);!n._events||!n._events[e]?n.on(e,t):Array.isArray(n._events[e])?n._events[e].unshift(t):n._events[e]=[t,n._events[e]]}function Sce(n,e){return n.listeners(e).length}function l9(n,e){n=n||{},this.objectMode=!!n.objectMode,e instanceof as&&(this.objectMode=this.objectMode||!!n.readableObjectMode);var t=n.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Kc,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=n.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,n.encoding&&(this.decoder=new o9(n.encoding),this.encoding=n.encoding)}function Sr(n){if(!(this instanceof Sr))return new Sr(n);this._readableState=new l9(n,this),this.readable=!0,n&&typeof n.read=="function"&&(this._read=n.read),Bh.call(this)}Sr.prototype.push=function(n,e){var t=this._readableState;return!t.objectMode&&typeof n=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(n=Buffer.from(n,e),e="")),u9(this,t,n,e,!1)};Sr.prototype.unshift=function(n){var e=this._readableState;return u9(this,e,n,"",!0)};Sr.prototype.isPaused=function(){return this._readableState.flowing===!1};function u9(n,e,t,r,i){var o=Ice(e,t);if(o)n.emit("error",o);else if(t===null)e.reading=!1,Oce(n,e);else if(e.objectMode||t&&t.length>0)if(e.ended&&!i){var u=new Error("stream.push() after EOF");n.emit("error",u)}else if(e.endEmitted&&i){var d=new Error("stream.unshift() after end event");n.emit("error",d)}else{var h;e.decoder&&!i&&!r&&(t=e.decoder.write(t),h=!e.objectMode&&t.length===0),i||(e.reading=!1),h||(e.flowing&&e.length===0&&!e.sync?(n.emit("data",t),n.read(0)):(e.length+=e.objectMode?1:t.length,i?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&n_(n))),Ace(n,e)}else i||(e.reading=!1);return Nce(e)}function Nce(n){return!n.ended&&(n.needReadable||n.length<n.highWaterMark||n.length===0)}Sr.prototype.setEncoding=function(n){return this._readableState.decoder=new o9(n),this._readableState.encoding=n,this};var oL=8388608;function Tce(n){return n>=oL?n=oL:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function lL(n,e){return n<=0||e.length===0&&e.ended?0:e.objectMode?1:n!==n?e.flowing&&e.length?e.buffer.head.data.length:e.length:(n>e.highWaterMark&&(e.highWaterMark=Tce(n)),n<=e.length?n:e.ended?e.length:(e.needReadable=!0,0))}Sr.prototype.read=function(n){Wt("read",n),n=parseInt(n,10);var e=this._readableState,t=n;if(n!==0&&(e.emittedReadable=!1),n===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Wt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?pE(this):n_(this),null;if(n=lL(n,e),n===0&&e.ended)return e.length===0&&pE(this),null;var r=e.needReadable;Wt("need readable",r),(e.length===0||e.length-n<e.highWaterMark)&&(r=!0,Wt("length less than watermark",r)),e.ended||e.reading?(r=!1,Wt("reading or ended",r)):r&&(Wt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(n=lL(t,e)));var i;return n>0?i=c9(n,e):i=null,i===null?(e.needReadable=!0,n=0):e.length-=n,e.length===0&&(e.ended||(e.needReadable=!0),t!==n&&e.ended&&pE(this)),i!==null&&this.emit("data",i),i};function Ice(n,e){var t=null;return!Buffer.isBuffer(e)&&typeof e!="string"&&e!==null&&e!==void 0&&!n.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function Oce(n,e){if(!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,n_(n)}}function n_(n){var e=n._readableState;e.needReadable=!1,e.emittedReadable||(Wt("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Is.nextTick(uL,n):uL(n))}function uL(n){Wt("emit readable"),n.emit("readable"),F3(n)}function Ace(n,e){e.readingMore||(e.readingMore=!0,Is.nextTick(Rce,n,e))}function Rce(n,e){for(var t=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Wt("maybeReadMore read 0"),n.read(0),t!==e.length);)t=e.length;e.readingMore=!1}Sr.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Sr.prototype.pipe=function(n,e){var t=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n);break}r.pipesCount+=1,Wt("pipe count=%d opts=%j",r.pipesCount,e);var i=!e||e.end!==!1,o=i?d:v;r.endEmitted?Is.nextTick(o):t.once("end",o),n.on("unpipe",u);function u(N){Wt("onunpipe"),N===t&&v()}function d(){Wt("onend"),n.end()}var h=Mce(t);n.on("drain",h);var f=!1;function v(){Wt("cleanup"),n.removeListener("close",x),n.removeListener("finish",C),n.removeListener("drain",h),n.removeListener("error",E),n.removeListener("unpipe",u),t.removeListener("end",d),t.removeListener("end",v),t.removeListener("data",y),f=!0,r.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&h()}var _=!1;t.on("data",y);function y(N){Wt("ondata"),_=!1;var S=n.write(N);S===!1&&!_&&((r.pipesCount===1&&r.pipes===n||r.pipesCount>1&&d9(r.pipes,n)!==-1)&&!f&&(Wt("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,_=!0),t.pause())}function E(N){Wt("onerror",N),M(),n.removeListener("error",E),Sce(n,"error")===0&&n.emit("error",N)}Cce(n,"error",E);function x(){n.removeListener("finish",C),M()}n.once("close",x);function C(){Wt("onfinish"),n.removeListener("close",x),M()}n.once("finish",C);function M(){Wt("unpipe"),t.unpipe(n)}return n.emit("pipe",t),r.flowing||(Wt("pipe resume"),t.resume()),n};function Mce(n){return function(){var e=n._readableState;Wt("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&n.listeners("data").length&&(e.flowing=!0,F3(n))}}Sr.prototype.unpipe=function(n){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return n&&n!==e.pipes?this:(n||(n=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,n&&n.emit("unpipe",this),this);if(!n){var t=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)t[i].emit("unpipe",this);return this}var o=d9(e.pipes,n);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),n.emit("unpipe",this),this)};Sr.prototype.on=function(n,e){var t=Bh.prototype.on.call(this,n,e);if(n==="data")this._readableState.flowing!==!1&&this.resume();else if(n==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&n_(this):Is.nextTick(Dce,this))}return t};Sr.prototype.addListener=Sr.prototype.on;function Dce(n){Wt("readable nexttick read 0"),n.read(0)}Sr.prototype.resume=function(){var n=this._readableState;return n.flowing||(Wt("resume"),n.flowing=!0,Uce(this,n)),this};function Uce(n,e){e.resumeScheduled||(e.resumeScheduled=!0,Is.nextTick(Lce,n,e))}function Lce(n,e){e.reading||(Wt("resume read 0"),n.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,n.emit("resume"),F3(n),e.flowing&&!e.reading&&n.read(0)}Sr.prototype.pause=function(){return Wt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Wt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function F3(n){var e=n._readableState;for(Wt("flow",e.flowing);e.flowing&&n.read()!==null;);}Sr.prototype.wrap=function(n){var e=this._readableState,t=!1,r=this;n.on("end",function(){if(Wt("wrapped end"),e.decoder&&!e.ended){var u=e.decoder.end();u&&u.length&&r.push(u)}r.push(null)}),n.on("data",function(u){if(Wt("wrapped data"),e.decoder&&(u=e.decoder.write(u)),!(e.objectMode&&u==null)&&!(!e.objectMode&&(!u||!u.length))){var d=r.push(u);d||(t=!0,n.pause())}});for(var i in n)this[i]===void 0&&typeof n[i]=="function"&&(this[i]=function(u){return function(){return n[u].apply(n,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return Bce(o,function(u){n.on(u,r.emit.bind(r,u))}),r._read=function(u){Wt("wrapped _read",u),t&&(t=!1,n.resume())},r};Sr._fromList=c9;function c9(n,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!n||n>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.head.data:t=e.buffer.concat(e.length),e.buffer.clear()):t=Pce(n,e.buffer,e.decoder),t}function Pce(n,e,t){var r;return n<e.head.data.length?(r=e.head.data.slice(0,n),e.head.data=e.head.data.slice(n)):n===e.head.data.length?r=e.shift():r=t?Fce(n,e):Hce(n,e),r}function Fce(n,e){var t=e.head,r=1,i=t.data;for(n-=i.length;t=t.next;){var o=t.data,u=n>o.length?o.length:n;if(u===o.length?i+=o:i+=o.slice(0,n),n-=u,n===0){u===o.length?(++r,t.next?e.head=t.next:e.head=e.tail=null):(e.head=t,t.data=o.slice(u));break}++r}return e.length-=r,i}function Hce(n,e){var t=Buffer.allocUnsafe(n),r=e.head,i=1;for(r.data.copy(t),n-=r.data.length;r=r.next;){var o=r.data,u=n>o.length?o.length:n;if(o.copy(t,t.length-n,0,u),n-=u,n===0){u===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(u));break}++i}return e.length-=i,t}function pE(n){var e=n._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Is.nextTick(qce,e,n))}function qce(n,e){!n.endEmitted&&n.length===0&&(n.endEmitted=!0,e.readable=!1,e.emit("end"))}function Bce(n,e){for(var t=0,r=n.length;t<r;t++)e(n[t],t)}function d9(n,e){for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}Li.WritableState=H3;Ro.inherits(Li,_0.exports.EventEmitter);function Gce(){}function $ce(n,e,t){this.chunk=n,this.encoding=e,this.callback=t,this.next=null}function H3(n,e){Object.defineProperty(this,"buffer",{get:Ro.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),n=n||{},this.objectMode=!!n.objectMode,e instanceof as&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var t=n.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=n.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){Yce(e,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new m9(this)}H3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};function Li(n){if(!(this instanceof Li)&&!(this instanceof as))return new Li(n);this._writableState=new H3(n,this),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev)),_0.exports.EventEmitter.call(this)}Li.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function zce(n,e){var t=new Error("write after end");n.emit("error",t),Is.nextTick(e,t)}function jce(n,e,t,r){var i=!0,o=!1;return t===null?o=new TypeError("May not write null values to stream"):!Tu.Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(n.emit("error",o),Is.nextTick(r,o),i=!1),i}Li.prototype.write=function(n,e,t){var r=this._writableState,i=!1;return typeof e=="function"&&(t=e,e=null),Tu.Buffer.isBuffer(n)?e="buffer":e||(e=r.defaultEncoding),typeof t!="function"&&(t=Gce),r.ended?zce(this,t):jce(this,r,n,t)&&(r.pendingcb++,i=Wce(this,r,n,e,t)),i};Li.prototype.cork=function(){var n=this._writableState;n.corked++};Li.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,!n.writing&&!n.corked&&!n.finished&&!n.bufferProcessing&&n.bufferedRequest&&h9(this,n))};Li.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function Vce(n,e,t){return!n.objectMode&&n.decodeStrings!==!1&&typeof e=="string"&&(e=Tu.Buffer.from(e,t)),e}function Wce(n,e,t,r,i){t=Vce(e,t,r),Tu.Buffer.isBuffer(t)&&(r="buffer");var o=e.objectMode?1:t.length;e.length+=o;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest=new $ce(t,r,i),d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Yw(n,e,!1,o,t,r,i);return u}function Yw(n,e,t,r,i,o,u){e.writelen=r,e.writecb=u,e.writing=!0,e.sync=!0,t?n._writev(i,e.onwrite):n._write(i,o,e.onwrite),e.sync=!1}function Kce(n,e,t,r,i){--e.pendingcb,t?Is.nextTick(i,r):i(r),n._writableState.errorEmitted=!0,n.emit("error",r)}function Qce(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function Yce(n,e){var t=n._writableState,r=t.sync,i=t.writecb;if(Qce(t),e)Kce(n,t,r,e,i);else{var o=p9(t);!o&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&h9(n,t),r?Is.nextTick(cL,n,t,o,i):cL(n,t,o,i)}}function cL(n,e,t,r){t||Xce(n,e),e.pendingcb--,r(),f9(n,e)}function Xce(n,e){e.length===0&&e.needDrain&&(e.needDrain=!1,n.emit("drain"))}function h9(n,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(n._writev&&t&&t.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=t;for(var u=0;t;)i[u]=t,t=t.next,u+=1;Yw(n,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new m9(e)}else{for(;t;){var d=t.chunk,h=t.encoding,f=t.callback,v=e.objectMode?1:d.length;if(Yw(n,e,!1,v,d,h,f),t=t.next,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=t,e.bufferProcessing=!1}Li.prototype._write=function(n,e,t){t(new Error("not implemented"))};Li.prototype._writev=null;Li.prototype.end=function(n,e,t){var r=this._writableState;typeof n=="function"?(t=n,n=null,e=null):typeof e=="function"&&(t=e,e=null),n!=null&&this.write(n,e),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&Jce(this,r,t)};function p9(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function dL(n,e){e.prefinished||(e.prefinished=!0,n.emit("prefinish"))}function f9(n,e){var t=p9(e);return t&&(e.pendingcb===0?(dL(n,e),e.finished=!0,n.emit("finish")):dL(n,e)),t}function Jce(n,e,t){e.ending=!0,f9(n,e),t&&(e.finished?Is.nextTick(t):n.once("finish",t)),e.ended=!0,n.writable=!1}function m9(n){var e=this;this.next=null,this.entry=null,this.finish=function(t){var r=e.entry;for(e.entry=null;r;){var i=r.callback;n.pendingcb--,i(t),r=r.next}n.corkedRequestsFree?n.corkedRequestsFree.next=e:n.corkedRequestsFree=e}}Ro.inherits(as,Sr);var hL=Object.keys(Li.prototype);for(var fE=0;fE<hL.length;fE++){var mE=hL[fE];as.prototype[mE]||(as.prototype[mE]=Li.prototype[mE])}function as(n){if(!(this instanceof as))return new as(n);Sr.call(this,n),Li.call(this,n),n&&n.readable===!1&&(this.readable=!1),n&&n.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Zce)}function Zce(){this.allowHalfOpen||this._writableState.ended||Is.nextTick(ede,this)}function ede(n){n.end()}Ro.inherits(Zs,as);function nde(n){this.afterTransform=function(e,t){return tde(n,e,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function tde(n,e,t){var r=n._transformState;r.transforming=!1;var i=r.writecb;if(!i)return n.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,t!=null&&n.push(t),i(e);var o=n._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&n._read(o.highWaterMark)}function Zs(n){if(!(this instanceof Zs))return new Zs(n);as.call(this,n),this._transformState=new nde(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){pL(e,t)}):pL(e)})}Zs.prototype.push=function(n,e){return this._transformState.needTransform=!1,as.prototype.push.call(this,n,e)};Zs.prototype._transform=function(n,e,t){throw new Error("Not implemented")};Zs.prototype._write=function(n,e,t){var r=this._transformState;if(r.writecb=t,r.writechunk=n,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Zs.prototype._read=function(n){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};function pL(n,e){if(e)return n.emit("error",e);var t=n._writableState,r=n._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}Ro.inherits(Th,Zs);function Th(n){if(!(this instanceof Th))return new Th(n);Zs.call(this,n)}Th.prototype._transform=function(n,e,t){t(null,n)};Ro.inherits(eo,Bh);eo.Readable=Sr;eo.Writable=Li;eo.Duplex=as;eo.Transform=Zs;eo.PassThrough=Th;eo.Stream=eo;function eo(){Bh.call(this)}eo.prototype.pipe=function(n,e){var t=this;function r(v){n.writable&&n.write(v)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}n.on("drain",i),!n._isStdio&&(!e||e.end!==!1)&&(t.on("end",u),t.on("close",d));var o=!1;function u(){o||(o=!0,n.end())}function d(){o||(o=!0,typeof n.destroy=="function"&&n.destroy())}function h(v){if(f(),Bh.listenerCount(this,"error")===0)throw v}t.on("error",h),n.on("error",h);function f(){t.removeListener("data",r),n.removeListener("drain",i),t.removeListener("end",u),t.removeListener("close",d),t.removeListener("error",h),n.removeListener("error",h),t.removeListener("end",f),t.removeListener("close",f),n.removeListener("close",f)}return t.on("end",f),t.on("close",f),n.on("close",f),n.emit("pipe",t),n};var rde=Object.freeze({__proto__:null,default:eo,Readable:Sr,Writable:Li,Duplex:as,Transform:Zs,PassThrough:Th,Stream:eo}),ide=$ue(rde);/** @license React v17.0.2
 * react-dom-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Kue,ul=k,ade=ide;function qr(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q3=60106,yv=60107,B3=60108,G3=60114,Ev=60109,$3=60110,z3=60112,wv=60113,j3=60120,V3=60115,W3=60116,g9=60121,v9=60117,_9=60119,b9=60129,y9=60131;if(typeof Symbol=="function"&&Symbol.for){var Wi=Symbol.for;q3=Wi("react.portal"),yv=Wi("react.fragment"),B3=Wi("react.strict_mode"),G3=Wi("react.profiler"),Ev=Wi("react.provider"),$3=Wi("react.context"),z3=Wi("react.forward_ref"),wv=Wi("react.suspense"),j3=Wi("react.suspense_list"),V3=Wi("react.memo"),W3=Wi("react.lazy"),g9=Wi("react.block"),v9=Wi("react.fundamental"),_9=Wi("react.scope"),b9=Wi("react.debug_trace_mode"),y9=Wi("react.legacy_hidden")}function Af(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yv:return"Fragment";case q3:return"Portal";case G3:return"Profiler";case B3:return"StrictMode";case wv:return"Suspense";case j3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $3:return(n.displayName||"Context")+".Consumer";case Ev:return(n._context.displayName||"Context")+".Provider";case z3:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case V3:return Af(n.type);case g9:return Af(n._render);case W3:e=n._payload,n=n._init;try{return Af(n(e))}catch{}}return null}var sde=ul.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E9={};function s0(n,e){for(var t=n._threadCount|0;t<=e;t++)n[t]=n._currentValue2,n._threadCount=t+1}function ode(n,e,t,r){if(r&&(r=n.contextType,typeof r=="object"&&r!==null))return s0(r,t),r[t];if(n=n.contextTypes){t={};for(var i in n)t[i]=e[i];e=t}else e=E9;return e}for(var Ki=new Uint16Array(16),cg=0;15>cg;cg++)Ki[cg]=cg+1;Ki[15]=0;var lde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fL=Object.prototype.hasOwnProperty,mL={},gL={};function w9(n){return fL.call(gL,n)?!0:fL.call(mL,n)?!1:lde.test(n)?gL[n]=!0:(mL[n]=!0,!1)}function ude(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function cde(n,e,t,r){if(e===null||typeof e>"u"||ude(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ga(n,e,t,r,i,o,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Pi[n]=new ga(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Pi[e]=new ga(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Pi[n]=new ga(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Pi[n]=new ga(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Pi[n]=new ga(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Pi[n]=new ga(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Pi[n]=new ga(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Pi[n]=new ga(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Pi[n]=new ga(n,5,!1,n.toLowerCase(),null,!1,!1)});var K3=/[\-:]([a-z])/g;function Q3(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(K3,Q3);Pi[e]=new ga(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(K3,Q3);Pi[e]=new ga(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(K3,Q3);Pi[e]=new ga(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Pi[n]=new ga(n,1,!1,n.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Pi[n]=new ga(n,1,!1,n.toLowerCase(),null,!0,!0)});var dde=/["'&<>]/;function vc(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=dde.exec(n);if(e){var t="",r,i=0;for(r=e.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(t+=n.substring(i,r)),i=r+1,t+=e}n=i!==r?t+n.substring(i,r):t}return n}function hde(n,e){var t=Pi.hasOwnProperty(n)?Pi[n]:null,r;return(r=n!=="style")&&(r=t!==null?t.type===0:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")),r||cde(n,e,t,!1)?"":t!==null?(n=t.attributeName,r=t.type,r===3||r===4&&e===!0?n+'=""':(t.sanitizeURL&&(e=""+e),n+'="'+(vc(e)+'"'))):w9(n)?n+'="'+(vc(e)+'"'):""}function pde(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var fde=typeof Object.is=="function"?Object.is:pde,Oo=null,Mg=null,cr=null,pf=!1,xv=!1,cu=null,t_=0;function _c(){if(Oo===null)throw Error(qr(321));return Oo}function vL(){if(0<t_)throw Error(qr(312));return{memoizedState:null,queue:null,next:null}}function Y3(){return cr===null?Mg===null?(pf=!1,Mg=cr=vL()):(pf=!0,cr=Mg):cr.next===null?(pf=!1,cr=cr.next=vL()):(pf=!0,cr=cr.next),cr}function x9(n,e,t,r){for(;xv;)xv=!1,t_+=1,cr=null,t=n(e,r);return k9(),t}function k9(){Oo=null,xv=!1,Mg=null,t_=0,cr=cu=null}function C9(n,e){return typeof e=="function"?e(n):e}function _L(n,e,t){if(Oo=_c(),cr=Y3(),pf){var r=cr.queue;if(e=r.dispatch,cu!==null&&(t=cu.get(r),t!==void 0)){cu.delete(r),r=cr.memoizedState;do r=n(r,t.action),t=t.next;while(t!==null);return cr.memoizedState=r,[r,e]}return[cr.memoizedState,e]}return n=n===C9?typeof e=="function"?e():e:t!==void 0?t(e):e,cr.memoizedState=n,n=cr.queue={last:null,dispatch:null},n=n.dispatch=mde.bind(null,Oo,n),[cr.memoizedState,n]}function bL(n,e){if(Oo=_c(),cr=Y3(),e=e===void 0?null:e,cr!==null){var t=cr.memoizedState;if(t!==null&&e!==null){var r=t[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!fde(e[i],r[i])){r=!1;break e}r=!0}if(r)return t[0]}}return n=n(),cr.memoizedState=[n,e],n}function mde(n,e,t){if(!(25>t_))throw Error(qr(301));if(n===Oo)if(xv=!0,n={action:t,next:null},cu===null&&(cu=new Map),t=cu.get(e),t===void 0)cu.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function gE(){}var kc=null,gde={readContext:function(n){var e=kc.threadID;return s0(n,e),n[e]},useContext:function(n){_c();var e=kc.threadID;return s0(n,e),n[e]},useMemo:bL,useReducer:_L,useRef:function(n){Oo=_c(),cr=Y3();var e=cr.memoizedState;return e===null?(n={current:n},cr.memoizedState=n):e},useState:function(n){return _L(C9,n)},useLayoutEffect:function(){},useCallback:function(n,e){return bL(function(){return n},e)},useImperativeHandle:gE,useEffect:gE,useDebugValue:gE,useDeferredValue:function(n){return _c(),n},useTransition:function(){return _c(),[function(n){n()},!1]},useOpaqueIdentifier:function(){return(kc.identifierPrefix||"")+"R:"+(kc.uniqueID++).toString(36)},useMutableSource:function(n,e){return _c(),e(n._source)}},vde={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function _de(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var S9={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},bde=Ws({menuitem:!0},S9),Rf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yde=["Webkit","ms","Moz","O"];Object.keys(Rf).forEach(function(n){yde.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Rf[e]=Rf[n]})});var Ede=/([A-Z])/g,wde=/^ms-/,eu=ul.Children.toArray,vE=sde.ReactCurrentDispatcher,xde={listing:!0,pre:!0,textarea:!0},kde=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,yL={},_E={};function Cde(n){if(n==null)return n;var e="";return ul.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}var Sde=Object.prototype.hasOwnProperty,Nde={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function EL(n,e){if(n===void 0)throw Error(qr(152,Af(e)||"Component"))}function Tde(n,e,t){function r(u,d){var h=d.prototype&&d.prototype.isReactComponent,f=ode(d,e,t,h),v=[],_=!1,y={isMounted:function(){return!1},enqueueForceUpdate:function(){if(v===null)return null},enqueueReplaceState:function(D,P){_=!0,v=[P]},enqueueSetState:function(D,P){if(v===null)return null;v.push(P)}};if(h){if(h=new d(u.props,f,y),typeof d.getDerivedStateFromProps=="function"){var E=d.getDerivedStateFromProps.call(null,u.props,h.state);E!=null&&(h.state=Ws({},h.state,E))}}else if(Oo={},h=d(u.props,f,y),h=x9(d,u.props,h,f),h==null||h.render==null){n=h,EL(n,d);return}if(h.props=u.props,h.context=f,h.updater=y,y=h.state,y===void 0&&(h.state=y=null),typeof h.UNSAFE_componentWillMount=="function"||typeof h.componentWillMount=="function")if(typeof h.componentWillMount=="function"&&typeof d.getDerivedStateFromProps!="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&typeof d.getDerivedStateFromProps!="function"&&h.UNSAFE_componentWillMount(),v.length){y=v;var x=_;if(v=null,_=!1,x&&y.length===1)h.state=y[0];else{E=x?y[0]:h.state;var C=!0;for(x=x?1:0;x<y.length;x++){var M=y[x];M=typeof M=="function"?M.call(h,E,u.props,f):M,M!=null&&(C?(C=!1,E=Ws({},E,M)):Ws(E,M))}h.state=E}}else v=null;if(n=h.render(),EL(n,d),typeof h.getChildContext=="function"&&(u=d.childContextTypes,typeof u=="object")){var N=h.getChildContext();for(var S in N)if(!(S in u))throw Error(qr(108,Af(d)||"Unknown",S))}N&&(e=Ws({},e,N))}for(;ul.isValidElement(n);){var i=n,o=i.type;if(typeof o!="function")break;r(i,o)}return{child:n,context:e}}var X3=function(){function n(t,r,i){ul.isValidElement(t)?t.type!==yv?t=[t]:(t=t.props.children,t=ul.isValidElement(t)?[t]:eu(t)):t=eu(t),t={type:null,domNamespace:vde.html,children:t,childIndex:0,context:E9,footer:""};var o=Ki[0];if(o===0){var u=Ki;o=u.length;var d=2*o;if(!(65536>=d))throw Error(qr(304));var h=new Uint16Array(d);for(h.set(u),Ki=h,Ki[0]=o+1,u=o;u<d-1;u++)Ki[u]=u+1;Ki[d-1]=0}else Ki[0]=Ki[o];this.threadID=o,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=r,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=i&&i.identifierPrefix||""}var e=n.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;Ki[t]=Ki[0],Ki[0]=t}},e.pushProvider=function(t){var r=++this.contextIndex,i=t.type._context,o=this.threadID;s0(i,o);var u=i[o];this.contextStack[r]=i,this.contextValueStack[r]=u,i[o]=t.props.value},e.popProvider=function(){var t=this.contextIndex,r=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,r[this.threadID]=i},e.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},e.read=function(t){if(this.exhausted)return null;var r=kc;kc=this;var i=vE.current;vE.current=gde;try{for(var o=[""],u=!1;o[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var d=this.threadID;Ki[d]=Ki[0],Ki[0]=d;break}var h=this.stack[this.stack.length-1];if(u||h.childIndex>=h.children.length){var f=h.footer;if(f!==""&&(this.previousWasTextNode=!1),this.stack.pop(),h.type==="select")this.currentSelectValue=null;else if(h.type!=null&&h.type.type!=null&&h.type.type.$$typeof===Ev)this.popProvider(h.type);else if(h.type===wv){this.suspenseDepth--;var v=o.pop();if(u){u=!1;var _=h.fallbackFrame;if(!_)throw Error(qr(303));this.stack.push(_),o[this.suspenseDepth]+="<!--$!-->";continue}else o[this.suspenseDepth]+=v}o[this.suspenseDepth]+=f}else{var y=h.children[h.childIndex++],E="";try{E+=this.render(y,h.context,h.domNamespace)}catch(x){throw x!=null&&typeof x.then=="function"?Error(qr(294)):x}finally{}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=E}}return o[0]}finally{vE.current=i,kc=r,k9()}},e.render=function(t,r,i){if(typeof t=="string"||typeof t=="number")return i=""+t,i===""?"":this.makeStaticMarkup?vc(i):this.previousWasTextNode?"<!-- -->"+vc(i):(this.previousWasTextNode=!0,vc(i));if(r=Tde(t,r,this.threadID),t=r.child,r=r.context,t===null||t===!1)return"";if(!ul.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw i=t.$$typeof,Error(i===q3?qr(257):qr(258,i.toString()));return t=eu(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}var o=t.type;if(typeof o=="string")return this.renderDOM(t,r,i);switch(o){case y9:case b9:case B3:case G3:case j3:case yv:return t=eu(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case wv:throw Error(qr(294));case _9:throw Error(qr(343))}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z3:Oo={};var u=o.render(t.props,t.ref);return u=x9(o.render,t.props,u,t.ref),u=eu(u),this.stack.push({type:null,domNamespace:i,children:u,childIndex:0,context:r,footer:""}),"";case V3:return t=[ul.createElement(o.type,Ws({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Ev:return o=eu(t.props.children),i={type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""},this.pushProvider(t),this.stack.push(i),"";case $3:o=t.type,u=t.props;var d=this.threadID;return s0(o,d),o=eu(u.children(o[d])),this.stack.push({type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""}),"";case v9:throw Error(qr(338));case W3:return o=t.type,u=o._init,o=u(o._payload),t=[ul.createElement(o,Ws({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}throw Error(qr(130,o==null?o:typeof o,""))},e.renderDOM=function(t,r,i){var o=t.type.toLowerCase();if(!yL.hasOwnProperty(o)){if(!kde.test(o))throw Error(qr(65,o));yL[o]=!0}var u=t.props;if(o==="input")u=Ws({type:void 0},u,{defaultChecked:void 0,defaultValue:void 0,value:u.value!=null?u.value:u.defaultValue,checked:u.checked!=null?u.checked:u.defaultChecked});else if(o==="textarea"){var d=u.value;if(d==null){d=u.defaultValue;var h=u.children;if(h!=null){if(d!=null)throw Error(qr(92));if(Array.isArray(h)){if(!(1>=h.length))throw Error(qr(93));h=h[0]}d=""+h}d==null&&(d="")}u=Ws({},u,{value:void 0,children:""+d})}else if(o==="select")this.currentSelectValue=u.value!=null?u.value:u.defaultValue,u=Ws({},u,{value:void 0});else if(o==="option"){h=this.currentSelectValue;var f=Cde(u.children);if(h!=null){var v=u.value!=null?u.value+"":f;if(d=!1,Array.isArray(h)){for(var _=0;_<h.length;_++)if(""+h[_]===v){d=!0;break}}else d=""+h===v;u=Ws({selected:void 0,children:void 0},u,{selected:d,children:f})}}if(d=u){if(bde[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(qr(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(qr(60));if(!(typeof d.dangerouslySetInnerHTML=="object"&&"__html"in d.dangerouslySetInnerHTML))throw Error(qr(61))}if(d.style!=null&&typeof d.style!="object")throw Error(qr(62))}d=u,h=this.makeStaticMarkup,f=this.stack.length===1,v="<"+t.type;e:if(o.indexOf("-")===-1)_=typeof d.is=="string";else switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":_=!1;break e;default:_=!0}for(P in d)if(Sde.call(d,P)){var y=d[P];if(y!=null){if(P==="style"){var E=void 0,x="",C="";for(E in y)if(y.hasOwnProperty(E)){var M=E.indexOf("--")===0,N=y[E];if(N!=null){if(M)var S=E;else if(S=E,_E.hasOwnProperty(S))S=_E[S];else{var D=S.replace(Ede,"-$1").toLowerCase().replace(wde,"-ms-");S=_E[S]=D}x+=C+S+":",C=E,M=N==null||typeof N=="boolean"||N===""?"":M||typeof N!="number"||N===0||Rf.hasOwnProperty(C)&&Rf[C]?(""+N).trim():N+"px",x+=M,C=";"}}y=x||null}E=null,_?Nde.hasOwnProperty(P)||(E=P,E=w9(E)&&y!=null?E+'="'+(vc(y)+'"'):""):E=hde(P,y),E&&(v+=" "+E)}}h||f&&(v+=' data-reactroot=""');var P=v;d="",S9.hasOwnProperty(o)?P+="/>":(P+=">",d="</"+t.type+">");e:{if(h=u.dangerouslySetInnerHTML,h!=null){if(h.__html!=null){h=h.__html;break e}}else if(h=u.children,typeof h=="string"||typeof h=="number"){h=vc(h);break e}h=null}return h!=null?(u=[],xde.hasOwnProperty(o)&&h.charAt(0)===`
`&&(P+=`
`),P+=h):u=eu(u.children),t=t.type,i=i==null||i==="http://www.w3.org/1999/xhtml"?_de(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:o,children:u,childIndex:0,context:r,footer:d}),this.previousWasTextNode=!1,P},n}();function Ide(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var N9=function(n){function e(r,i,o){var u=n.call(this,{})||this;return u.partialRenderer=new X3(r,i,o),u}Ide(e,n);var t=e.prototype;return t._destroy=function(r,i){this.partialRenderer.destroy(),i(r)},t._read=function(r){try{this.push(this.partialRenderer.read(r))}catch(i){this.destroy(i)}},e}(ade.Readable);qh.renderToNodeStream=function(n,e){return new N9(n,!1,e)};qh.renderToStaticMarkup=function(n,e){n=new X3(n,!0,e);try{return n.read(1/0)}finally{n.destroy()}};qh.renderToStaticNodeStream=function(n,e){return new N9(n,!0,e)};qh.renderToString=function(n,e){n=new X3(n,!1,e);try{return n.read(1/0)}finally{n.destroy()}};qh.version="17.0.2";XF.exports=qh;var wL=XF.exports,tf="sendbird-message-input-text-field",Ode=76,_o=function(){},Ade=function(e){return function(t){t.target.files&&t.target.files[0]&&e(t.target.files[0]),t.target.value=""}},xL={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},r_=k.forwardRef(function(n,e){var t=n.className,r=n.isEdit,i=n.isMentionEnabled,o=n.disabled,u=n.message,d=n.placeholder,h=n.maxLength,f=n.onFileUpload,v=n.onSendMessage,_=n.onUpdateMessage,y=n.onCancelEdit,E=n.onStartTyping,x=n.channelUrl,C=n.mentionSelectedUser,M=n.onUserMentioned,N=n.onMentionStringChange,S=n.onMentionedUserIdsUpdated,D=n.onKeyUp,P=n.onKeyDown,Q=U.exports.useContext(ro),z=Q.stringSet,W=U.exports.useRef(null),V=U.exports.useState(!1),he=sl(V,2),ce=he[0],Ee=he[1],Ne=U.exports.useState([]),se=sl(Ne,2),oe=se[0],ue=se[1],Re=U.exports.useState(wr({},xL)),He=sl(Re,2),ve=He[0],Ce=He[1],Le=U.exports.useMemo(function(){return function(){try{var qe=e.current,Te=window.document.body.offsetHeight*.6;qe&&qe.scrollHeight>=Ode?Te<qe.scrollHeight?(qe.style.height="auto",qe.style.height="".concat(Te,"px")):(qe.style.height="auto",qe.style.height="".concat(qe.scrollHeight,"px")):qe.style.height=""}catch{}}},[]);U.exports.useEffect(function(){r||(Ee(!1),document.getElementById(tf).innerHTML="")},[x]),U.exports.useEffect(function(){if(r&&u!==null&&u!==void 0&&u.messageId){var qe,Te,xe,Oe=e.current;if(i&&(u==null||(qe=u.mentionedUsers)===null||qe===void 0?void 0:qe.length)>0&&(u==null||(Te=u.mentionedMessageTemplate)===null||Te===void 0?void 0:Te.length)>0){var Je,bn=u.mentionedUsers,An=bn===void 0?[]:bn;Oe.innerHTML=u==null||(Je=u.mentionedMessageTemplate)===null||Je===void 0?void 0:Je.split(" ").map(function(hn){return vse(hn,An).map(function(Dn){var rn=Dn.type,Rn=Dn.value,yn=Dn.userId;if(rn===al.mention&&An.some(function($){return($==null?void 0:$.userId)===yn})){var Cn;return wL.renderToString(k.createElement(ZU,{userId:yn},"".concat(qd).concat(((Cn=An.find(function($){return($==null?void 0:$.userId)===yn}))===null||Cn===void 0?void 0:Cn.nickname)||Rn||z.MENTION_NAME__NO_NAME)))}return Rn}).join("")}).join(" ")}else Oe.innerHTML=u==null?void 0:u.message,ue([]);Ee((Oe==null||(xe=Oe.innerText)===null||xe===void 0?void 0:xe.length)>0),Le()}},[r,u]);var te=U.exports.useCallback(function(){var qe=e.current;if(i){var Te=wc(qe.getElementsByClassName("sendbird-mention-user-label")).map(function(xe){var Oe;return xe==null||(Oe=xe.dataset)===null||Oe===void 0?void 0:Oe.userid});(!_se(oe,Te)||Te.length===0)&&(S(Te),ue(Te))}Ee(qe.innerText.length>0)},[ve,i]);U.exports.useEffect(function(){if(i&&C){var qe=ve.targetString,Te=ve.startNodeIndex,xe=ve.startOffsetIndex,Oe=ve.endNodeIndex,Je=ve.endOffsetIndex;if(qe&&Te!==null&&xe!==null){var bn,An,hn,Dn,rn=e.current,Rn=wc(rn==null?void 0:rn.childNodes),yn=(bn=document)===null||bn===void 0?void 0:bn.createTextNode((An=Rn[Te])===null||An===void 0?void 0:An.textContent.slice(0,xe)),Cn=(hn=document)===null||hn===void 0?void 0:hn.createTextNode("\xA0".concat((Dn=Rn[Oe])===null||Dn===void 0?void 0:Dn.textContent.slice(Je))),$=wL.renderToString(k.createElement(ZU,{userId:C==null?void 0:C.userId},"".concat(qd).concat((C==null?void 0:C.nickname)||z.MENTION_NAME__NO_NAME))),A=document.createElement("div");A.innerHTML=$;var R=[].concat(wc(Rn.slice(0,Te)),[yn,A.childNodes[0],Cn],wc(Rn.slice(Oe+1)));if(rn.innerHTML="",R.forEach(function(be){rn.appendChild(be)}),M(C),window.getSelection||document.getSelection){var j=window.getSelection()||document.getSelection();j.removeAllRanges();var Z=new Range;Z.selectNodeContents(rn),Z.setStart(rn.childNodes[Te+2],1),Z.setEnd(rn.childNodes[Te+2],1),Z.collapse(!1),j.addRange(Z),rn.focus()}Ce(wr({},xL)),Le(),te()}}},[C,i]);var X=U.exports.useCallback(function(){var qe,Te,xe,Oe,Je=((qe=window)===null||qe===void 0||(Te=qe.getSelection)===null||Te===void 0?void 0:Te.call(qe))||((xe=document)===null||xe===void 0||(Oe=xe.getSelection)===null||Oe===void 0?void 0:Oe.call(xe)),bn=e.current;if(Je.anchorNode===bn&&N(""),i&&Je&&Je.anchorNode===Je.focusNode&&Je.anchorOffset===Je.focusOffset)for(var An="",hn=null,Dn=null,rn=0;rn<bn.childNodes.length;rn+=1){var Rn=bn.childNodes[rn];if(Rn.nodeType===Bd.TextNode){var yn=Rn===Je.anchorNode?(Rn==null?void 0:Rn.textContent.slice(0,Je.anchorOffset))||"":(Rn==null?void 0:Rn.textContent)||"";if(An.length>0)An+=yn;else{for(var Cn=yn.lastIndexOf(qd),$=Cn-1;$>-1&&yn[$]===qd;$-=1)Cn=$;Cn>-1&&(An=yn,hn=rn,Dn=Cn)}}else An="",hn=null,Dn=null;if(Rn===Je.anchorNode){var A=An?An.slice(Dn):"";Ce({targetString:A,startNodeIndex:hn,startOffsetIndex:Dn,endNodeIndex:rn,endOffsetIndex:Je.anchorOffset}),N(A);return}}},[i]),ge=function(){var Te=e.current;if(!r&&Te!==null&&Te!==void 0&&Te.innerText){var xe="",Oe="";Te.childNodes.forEach(function(bn){if(bn.nodeType===Bd.ElementNode&&bn.nodeName===ug.Span){var An=bn.innerText,hn=bn.dataset,Dn=hn===void 0?{}:hn,rn=Dn.userid,Rn=rn===void 0?"":rn;xe+=An,Oe+="".concat(qd,"{").concat(Rn,"}")}else if(bn.nodeType===Bd.ElementNode&&bn.nodeName===ug.Br)xe+=`
`,Oe+=`
`;else{var yn=bn.textContent,Cn=yn===void 0?"":yn;xe+=Cn,Oe+=Cn}});var Je={message:xe,mentionTemplate:Oe};v(Je),document.getElementById(tf).innerHTML="",Ee(!1),Le()}},Ke=function(){var Te=e.current,xe=u==null?void 0:u.messageId;if(r&&xe){var Oe="",Je="";Te.childNodes.forEach(function(An){if(An.nodeType===Bd.ElementNode&&An.nodeName===ug.Span){var hn=An.innerText,Dn=An.dataset,rn=Dn===void 0?{}:Dn,Rn=rn.userid,yn=Rn===void 0?"":Rn;Oe+=hn,Je+="".concat(qd,"{").concat(yn,"}")}else if(An.nodeType===Bd.ElementNode&&An.nodeName===ug.Span)Oe+=`
`,Je+=`
`;else{var Cn=An.textContent,$=Cn===void 0?"":Cn;Oe+=$,Je+=$}});var bn={messageId:xe,message:Oe,mentionTemplate:Je};_(bn),document.getElementById(tf).innerHTML=""}};return k.createElement("form",{className:D2([t,r?"sendbird-message-input__edit":"",o?"sendbird-message-input-form__disabled":""])},k.createElement("div",{className:D2(["sendbird-message-input",o?"sendbird-message-input__disabled":""])},k.createElement("div",{id:"".concat(tf).concat(r?u==null?void 0:u.messageId:""),className:"sendbird-message-input--textarea",contentEditable:!o,role:"textbox","aria-label":"Text Input",disabled:o,ref:e,maxLength:h,onKeyDown:function(Te){var xe=P(Te);if(xe)Te.preventDefault();else{var Oe,Je,bn,An,hn,Dn,rn,Rn;!Te.shiftKey&&Te.key===nL.Enter&&(Te==null||(Oe=Te.nativeEvent)===null||Oe===void 0?void 0:Oe.isComposing)!==!0&&(Te.preventDefault(),ge()),Te.key===nL.Backspace&&(e==null||(Je=e.current)===null||Je===void 0||(bn=Je.childNodes)===null||bn===void 0?void 0:bn.length)===2&&!(e!=null&&(An=e.current)!==null&&An!==void 0&&(hn=An.childNodes)!==null&&hn!==void 0&&(Dn=hn[0])!==null&&Dn!==void 0&&Dn.textContent)&&((rn=e.current.childNodes)===null||rn===void 0||(Rn=rn[1])===null||Rn===void 0?void 0:Rn.nodeType)===Bd.ElementNode&&e.current.removeChild(e.current.childNodes[1])}},onKeyUp:function(Te){var xe=D(Te);xe?Te.preventDefault():X()},onClick:function(){X()},onInput:function(){var Te,xe,Oe,Je;Le(),E(),Ee(((Te=document)===null||Te===void 0||(xe=Te.getElementById)===null||xe===void 0||(Oe=xe.call(Te,tf))===null||Oe===void 0||(Je=Oe.innerText)===null||Je===void 0?void 0:Je.length)>0),te()},onPaste:function(Te){Te.preventDefault(),document.execCommand("insertHTML",!1,Te==null?void 0:Te.clipboardData.getData("text"))}}),!ce&&k.createElement(Yn,{className:"sendbird-message-input--placeholder",type:Qn.BODY_1,color:qn.ONBACKGROUND_3},d||z.MESSAGE_INPUT__PLACE_HOLDER),!r&&ce&&k.createElement(Cu,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return ge()}},k.createElement(gt,{type:st.SEND,fillColor:Ot.PRIMARY,width:"20px",height:"20px"})),!r&&!ce&&k.createElement(Cu,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){W.current.click()}},k.createElement(gt,{type:st.ATTACH,fillColor:Ot.CONTENT_INVERSE,width:"20px",height:"20px"}),k.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:W,onChange:Ade(f)}))),r&&k.createElement("div",{className:"sendbird-message-input--edit-action"},k.createElement(a0,{className:"sendbird-message-input--edit-action__cancel",type:Nh.SECONDARY,size:WU.SMALL,onClick:y},z.BUTTON__CANCEL),k.createElement(a0,{className:"sendbird-message-input--edit-action__save",type:Nh.PRIMARY,size:WU.SMALL,onClick:function(){return Ke()}},z.BUTTON__SAVE)))});r_.propTypes={className:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),placeholder:de.exports.oneOfType([de.exports.string,de.exports.bool]),isEdit:de.exports.bool,isMentionEnabled:de.exports.bool,message:de.exports.shape({messageId:de.exports.oneOfType([de.exports.string,de.exports.number]),message:de.exports.string,mentionedMessageTemplate:de.exports.string,mentionedUsers:de.exports.arrayOf(de.exports.shape({}))}),disabled:de.exports.bool,maxLength:de.exports.number,onFileUpload:de.exports.func,onSendMessage:de.exports.func,onUpdateMessage:de.exports.func,onStartTyping:de.exports.func,onCancelEdit:de.exports.func,channelUrl:de.exports.string,mentionSelectedUser:de.exports.shape({userId:de.exports.string,nickname:de.exports.string}),onUserMentioned:de.exports.func,onMentionStringChange:de.exports.func,onMentionedUserIdsUpdated:de.exports.func,onKeyUp:de.exports.func,onKeyDown:de.exports.func};r_.defaultProps={className:"",channelUrl:"",onSendMessage:_o,onUpdateMessage:_o,message:null,isEdit:!1,isMentionEnabled:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:_o,onCancelEdit:_o,onStartTyping:_o,mentionSelectedUser:null,onUserMentioned:_o,onMentionStringChange:_o,onMentionedUserIdsUpdated:_o,onKeyUp:_o,onKeyDown:_o};var Rde=/https?:\/\//;function kv(n){var e=n.className,t=n.src,r=n.type,i=n.color,o=n.children,u=Rde.test(t)?t:"http://".concat(t);return k.createElement("a",{className:[].concat(wc(Array.isArray(e)?e:[e]),["sendbird-link-label",i?$F(i):""]).join(" "),href:u,target:"_blank",rel:"noopener noreferrer"},k.createElement(Yn,{className:"sendbird-link-label__label",type:r,color:i},o))}kv.propTypes={className:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),src:de.exports.string.isRequired,type:de.exports.oneOf(Object.keys(Qn)).isRequired,color:de.exports.oneOf(Object.keys(qn)).isRequired,children:de.exports.oneOfType([de.exports.string,de.exports.element,de.exports.arrayOf(de.exports.string),de.exports.arrayOf(de.exports.element)]).isRequired};kv.defaultProps={className:""};var T9=k.createContext({opened:"",setOpened:Og});T9.Consumer;T9.Provider;var kL;(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(kL||(kL={}));de.exports.string.isRequired,de.exports.string.isRequired,de.exports.string,de.exports.string,de.exports.string,de.exports.string,de.exports.func,de.exports.string,de.exports.string,de.exports.bool,de.exports.bool,de.exports.func,de.exports.func,de.exports.shape({}),de.exports.shape({logLevel:de.exports.oneOfType([de.exports.string,de.exports.arrayOf(de.exports.string)]),isREMUnitEnabled:de.exports.bool}),de.exports.bool,de.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),de.exports.bool,de.exports.bool,de.exports.objectOf(de.exports.string),de.exports.objectOf(de.exports.string),de.exports.shape({compressionRate:de.exports.number,resizingWidth:de.exports.oneOfType([de.exports.number,de.exports.string]),resizingHeight:de.exports.oneOfType([de.exports.number,de.exports.string])}),de.exports.bool,de.exports.bool,de.exports.bool,de.exports.bool;var CL=function(e){return Hh(e.createdAt,"p")},Mde=function(e,t){return typeof t!="number"||typeof t=="number"&&t>e},qc=function n(e){e===void 0&&(e=0);var t=10,r=e;if(!(r>t))try{var i=document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");i.scrollTop=i.scrollHeight}catch{setTimeout(function(){n(r+1)},500*r)}},SL=function(e,t){var r,i,o,u;if(!(e&&t&&(e==null?void 0:e.messageType)&&e.messageType!=="admin"&&(t==null?void 0:t.messageType)&&t.messageType!=="admin"&&(e==null?void 0:e.sender)&&(t==null?void 0:t.sender)&&(e==null?void 0:e.createdAt)&&(t==null?void 0:t.createdAt)&&((r=e==null?void 0:e.sender)===null||r===void 0?void 0:r.userId)&&((i=t==null?void 0:t.sender)===null||i===void 0?void 0:i.userId)))return!1;var d=e,h=t;return(d==null?void 0:d.sendingStatus)===(h==null?void 0:h.sendingStatus)&&((o=d==null?void 0:d.sender)===null||o===void 0?void 0:o.userId)===((u=h==null?void 0:h.sender)===null||u===void 0?void 0:u.userId)&&CL(e)===CL(t)},Dde=function(e,t,r){return[SL(e,t),SL(t,r)]},Ude=function(e){return Math.abs(e)>999999?"".concat((Math.abs(e)/1e6).toFixed(1),"M"):Math.abs(e)>999?"".concat((Math.abs(e)/1e3).toFixed(1),"K"):"".concat(e)},Lde=function(e,t){var r=e==null?void 0:e.operators;return!(r.map(function(i){return i.userId}).indexOf(t)<0)},Pde=function(e,t){var r=e==null?void 0:e.isFrozen;return r&&!Lde(e,t)},Fde=function(e,t){return e.indexOf(t)>-1},bE=function(e,t,r){var i=function o(u){var d=u.hasNext;d?u.next().then(function(h){r(h),o(u)}).catch(function(h){t.warning("OpenChannel | FetchUserList failed",h)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",e),i(e)},dg=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=Number.parseFloat(e);if(!Number.isNaN(t))return t}return null},I9="SET_CURRENT_CHANNEL",Xw="SET_CHANNEL_INVALID",O9="RESET_MESSAGES",A9="EXIT_CURRENT_CHANNEL",R9="GET_PREV_MESSAGES_START",J3="GET_PREV_MESSAGES_SUCESS",Cv="GET_PREV_MESSAGES_FAIL",Ih="SENDING_MESSAGE_FAILED",Iu="SENDING_MESSAGE_SUCCEEDED",o0="SENDING_MESSAGE_START",M9="RESENDING_MESSAGE_START",D9="FETCH_PARTICIPANT_LIST",U9="FETCH_BANNED_USER_LIST",Jw="FETCH_MUTED_USER_LIST",L9="TRIM_MESSAGE_LIST",P9="ON_MESSAGE_RECEIVED",i_="ON_MESSAGE_UPDATED",a_="ON_MESSAGE_DELETED",F9="ON_MESSAGE_DELETED_BY_REQ_ID",H9="ON_OPERATOR_UPDATED",q9="ON_USER_ENTERED",B9="ON_USER_EXITED",Z3="ON_USER_MUTED",G9="ON_USER_UNMUTED",$9="ON_USER_BANNED",z9="ON_USER_UNBANNED",j9="ON_CHANNEL_FROZEN",V9="ON_CHANNEL_UNFROZEN",W9="ON_CHANNEL_CHANGED",K9="ON_CHANNEL_DELETED",Q9="ON_META_DATA_CREATED",Y9="ON_META_DATA_UPDATED",X9="ON_META_DATA_DELETED",J9="ON_META_COUNTERS_CREATED",Z9="ON_META_COUNTERS_UPDATED",eH="ON_META_COUNTERS_DELETED",nH="ON_MENTION_RECEIVED";function Hde(n,e){var t,r,i;switch(e.type){case O9:return sn(sn({},n),{allMessages:[]});case A9:return((t=e.payload)===null||t===void 0?void 0:t.url)===((r=n.currentOpenChannel)===null||r===void 0?void 0:r.url)?sn(sn({},n),{currentOpenChannel:null}):n;case I9:{var o=e.payload,u=o.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===o.url?n:sn(sn({},n),{currentOpenChannel:o,isInvalid:!1,operators:u,participants:u,bannedParticipantIds:[],mutedParticipantIds:[]})}case Xw:return sn(sn({},n),{isInvalid:!0});case R9:return sn(sn({},n),{loading:!0});case J3:case Cv:{var d=e.type===Cv,h=e.payload,f=h.currentOpenChannel,v=f===void 0?{}:f,_=h.messages,y=_===void 0?[]:_,E=h.hasMore,x=h.lastMessageTimestamp,C=v.url,M=d?[]:y,N=d?!1:E,S=d?0:x,D=n.currentOpenChannel,P=D.url;if(C!==P)return n;var Q=n.allMessages.filter(function(yn){return!M.find(function(Cn){var $=Cn.messageId;return Jo($,yn.messageId)})});return sn(sn({},n),{loading:!1,initialized:!0,hasMore:N,lastMessageTimestamp:S,allMessages:Hn(Hn([],M,!0),Q,!0)})}case o0:{var z=e.payload,W=z.message,V=z.channel;return(V==null?void 0:V.url)!==n.currentOpenChannel.url||n.allMessages.some(function(yn){return yn.reqId===W.reqId})?n:sn(sn({},n),{allMessages:Hn(Hn([],n.allMessages,!0),[W],!1)})}case Iu:{var he=e.payload,ce=n.allMessages.map(function(yn){return Jo(yn.reqId,he.reqId)?he:yn});return sn(sn({},n),{allMessages:ce})}case Ih:{var Ee=e.payload;return Ee.sendingStatus="failed",n.allMessages.some(function(yn){return(yn==null?void 0:yn.reqId)===(Ee==null?void 0:Ee.reqId)})?sn(sn({},n),{allMessages:n.allMessages.map(function(yn){return Jo(yn.reqId,Ee.reqId)?Ee:yn})}):sn(sn({},n),{allMessages:Hn(Hn([],n.allMessages.filter(function(yn){return!Jo(yn.reqId,Ee)}),!0),[Ee],!1)})}case L9:{var Ne=n.allMessages,se=(i=e.payload)===null||i===void 0?void 0:i.messageLimit;if(se&&se>0&&(Ne==null?void 0:Ne.length)>se){var oe=Ne.length-se;return sn(sn({},n),{allMessages:Ne.slice(oe)})}return n}case M9:{var ue=e.payload.channel,Re=e.payload.message;return ue.url!==n.currentOpenChannel.url?n:sn(sn({},n),{allMessages:n.allMessages.map(function(yn){return Jo(yn.reqId,Re.reqId)?Re:yn})})}case D9:{var ue=e.payload.channel,He=e.payload.users;return ue.url!==n.currentOpenChannel.url?n:sn(sn({},n),{participants:Hn(Hn([],n.participants,!0),He,!0)})}case U9:{var ue=e.payload.channel,ve=e.payload.users;return ue.url!==n.currentOpenChannel.url||!ve.every(function(Cn){return typeof Cn.userId=="string"})?n:sn(sn({},n),{bannedParticipantIds:Hn(Hn([],n.bannedParticipantIds,!0),ve.map(function(Cn){return Cn.userId}),!0)})}case Jw:{var ue=e.payload.channel,Ce=e.payload.users;return ue.url!==n.currentOpenChannel.url||!Ce.every(function(Cn){return typeof Cn.userId=="string"})?n:sn(sn({},n),{mutedParticipantIds:Hn(Hn([],n.mutedParticipantIds,!0),Ce.map(function(Cn){return Cn.userId}),!0)})}case P9:{var ue=e.payload.channel,Le=e.payload.message,v=n.currentOpenChannel;return!Jo(ue.url,v.url)||!(n.allMessages.map(function($){return $.messageId}).indexOf(Le.messageId)<0)?n:sn(sn({},n),{allMessages:Hn(Hn([],n.allMessages,!0),[Le],!1)})}case i_:{var ue=e.payload.channel,te=e.payload.message,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url?n:sn(sn({},n),{allMessages:n.allMessages.map(function(Cn){return Cn.isIdentical(te)?te:Cn})})}case a_:{var ue=e.payload.channel,ge=e.payload.messageId,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url?n:sn(sn({},n),{allMessages:n.allMessages.filter(function($){return!Jo($.messageId,ge)})})}case F9:return sn(sn({},n),{allMessages:n.allMessages.filter(function(yn){return!Jo(yn.reqId,e.payload)})});case H9:{var ue=e.payload.channel,Ke=e.payload.operators,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url?n:sn(sn({},n),{currentOpenChannel:ue,operators:Ke})}case q9:{var ue=e.payload.channel,qe=e.payload.user,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url?n:sn(sn({},n),{participants:Hn(Hn([],n.participants,!0),[qe],!1)})}case B9:{var ue=e.payload.channel,Te=e.payload.user,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url?n:sn(sn({},n),{participants:n.participants.filter(function($){return!Jo($.userId,Te.userId)})})}case Z3:{var ue=e.payload.channel,xe=e.payload.user,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url||n.mutedParticipantIds.indexOf(xe.userId)>=0?n:sn(sn({},n),{mutedParticipantIds:Hn(Hn([],n.mutedParticipantIds,!0),[xe.userId],!1)})}case G9:{var ue=e.payload.channel,Oe=e.payload.user,X=n.currentOpenChannel;return!X||X.url&&X.url!==ue.url||n.mutedParticipantIds.indexOf(Oe.userId)<0?n:sn(sn({},n),{mutedParticipantIds:n.mutedParticipantIds.filter(function($){return $!==Oe.userId})})}case $9:{var ue=e.payload.channel,Je=e.payload.user,bn=e.payload.currentUser,X=n.currentOpenChannel;return(X==null?void 0:X.url)===(ue==null?void 0:ue.url)&&(Je==null?void 0:Je.userId)===(bn==null?void 0:bn.userId)?sn(sn({},n),{currentOpenChannel:null}):(X==null?void 0:X.url)===(ue==null?void 0:ue.url)?sn(sn({},n),{bannedParticipantIds:Hn(Hn([],n.bannedParticipantIds,!0),[Je.userId],!1)}):n}case z9:{var ue=e.payload.channel,An=e.payload.user,X=n.currentOpenChannel;return(X==null?void 0:X.url)===(ue==null?void 0:ue.url)?sn(sn({},n),{bannedParticipantIds:n.bannedParticipantIds.filter(function($){return $!==An.userId})}):n}case j9:{var hn=e.payload,X=n.currentOpenChannel;return!X||X.url&&X.url!==hn.url?n:sn(sn({},n),{frozen:!0})}case V9:{var Dn=e.payload,X=n.currentOpenChannel;return!X||X.url&&X.url!==Dn.url?n:sn(sn({},n),{frozen:!1})}case W9:{var rn=e.payload,X=n.currentOpenChannel;return!X||X.url&&X.url!==rn.url?n:sn(sn({},n),{currentOpenChannel:rn})}case K9:{var Rn=e.payload,X=n==null?void 0:n.currentOpenChannel;return(X==null?void 0:X.url)===Rn?sn(sn({},n),{currentOpenChannel:null}):n}case Q9:return n;case Y9:return n;case X9:return n;case J9:return n;case Z9:return n;case eH:return n;case nH:return n;default:return n}}var qde={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function Bde(n,e){var t=n.channelUrl,r=n.sdkInit,i=n.fetchingParticipants,o=n.userId,u=n.currentOpenChannel,d=e.sdk,h=e.logger,f=e.messagesDispatcher;U.exports.useEffect(function(){var v;t&&r&&(d==null?void 0:d.openChannel)&&(u&&(u==null?void 0:u.exit)&&((v=u.exit)===null||v===void 0||v.call(u).then(function(){h.info("OpenChannel | useSetChannel: Exit from the previous open channel",u==null?void 0:u.url),f({type:A9,payload:u})})),h.info("OpenChannel | useSetChannel: Fetching channel",t),d.openChannel.getChannel(t).then(function(_){h.info("OpenChannel | useSetChannel: Succeeded to fetch channel",_),f({type:I9,payload:_}),_.enter().then(function(){if(_.isOperator(o)){var y=_.createBannedUserListQuery(),E=_.createMutedUserListQuery();bE(y,h,function(C){f({type:U9,payload:{channel:_,users:C}})}),bE(E,h,function(C){f({type:Jw,payload:{channel:_,users:C}})})}else _.getMyMutedInfo().then(function(C){C!=null&&C.isMuted&&f({type:Jw,payload:{channel:_,users:[d==null?void 0:d.currentUser]}})});if(i){var x=_.createParticipantListQuery({limit:_.participantCount});bE(x,h,function(C){f({type:D9,payload:{channel:_,users:C}})})}}).catch(function(y){h.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:t,error:y}),f({type:Xw,payload:null})})}).catch(function(_){h.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:t,error:_}),f({type:Xw,payload:null})}))},[t,r,i])}function Gde(n,e){var t=n.currentOpenChannel,r=n.checkScrollBottom,i=e.sdk,o=e.logger,u=e.messagesDispatcher;U.exports.useEffect(function(){var d,h,f=Rc();if(t&&t.url&&((d=i==null?void 0:i.openChannel)===null||d===void 0?void 0:d.addOpenChannelHandler)){o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",f);var v={onMessageReceived:function(E,x){var C=r(),M=E==null?void 0:E.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:M,message:x}),u({type:P9,payload:{channel:E,message:x}}),C)try{setTimeout(function(){qc()})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:C,message:x}),u({type:i_,payload:{channel:E,message:x}})},onMessageDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:C,messageId:x}),u({type:a_,payload:{channel:E,messageId:x}})},onOperatorUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:C,operators:x}),u({type:H9,payload:{channel:E,operators:x}})},onUserEntered:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:C,user:x}),u({type:q9,payload:{channel:E,user:x}})},onUserExited:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:C,user:x}),u({type:B9,payload:{channel:E,user:x}})},onUserMuted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:C,user:x}),u({type:Z3,payload:{channel:E,user:x}})},onUserUnmuted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:C,user:x}),u({type:G9,payload:{channel:E,user:x}})},onUserBanned:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:C,user:x}),u({type:$9,payload:{channel:E,user:x,currentUser:i==null?void 0:i.currentUser}})},onUserUnbanned:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:C,user:x}),u({type:z9,payload:{channel:E,user:x}})},onChannelFrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",E),u({type:j9,payload:E})},onChannelUnfrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",E),u({type:V9,payload:E})},onChannelChanged:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",E),u({type:W9,payload:E})},onMetaDataCreated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:C,metaData:x}),u({type:Q9,payload:{channel:E,metaData:x}})},onMetaDataUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:C,metaData:x}),u({type:Y9,payload:{channel:E,metaData:x}})},onMetaDataDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:C,metaDataKeys:x}),u({type:X9,payload:{channel:E,metaDataKeys:x}})},onMetaCounterCreated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:C,metaCounter:x}),u({type:J9,payload:{channel:E,metaCounter:x}})},onMetaCounterUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:C,metaCounter:x}),u({type:Z9,payload:{channel:E,metaCounter:x}})},onMetaCounterDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:C,metaCounterKeys:x}),u({type:eH,payload:{channel:E,metaCounterKeys:x}})},onMentionReceived:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:C,message:x}),u({type:nH,payload:{channel:E,message:x}})},onChannelDeleted:function(E,x){x===Ct.OPEN&&(t==null?void 0:t.url)===E&&u({type:K9,payload:E})}},_=new Rie(v);(h=i==null?void 0:i.openChannel)===null||h===void 0||h.addOpenChannelHandler(f,_)}return function(){var y;!((y=i==null?void 0:i.openChannel)===null||y===void 0)&&y.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",f),i.openChannel.removeOpenChannelHandler(f))}},[t])}function $de(n,e){var t=n.currentOpenChannel,r=n.userFilledMessageListParams,i=e.logger,o=e.messagesDispatcher;U.exports.useEffect(function(){if(i.info("OpenChannel | useInitialMessagesFetch: Setup started",t),o({type:O9,payload:null}),t&&t.getMessagesByTimestamp){var u={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(function(d){u[d]=r[d]}),i.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),i.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:u}),o({type:R9,payload:null}),t.getMessagesByTimestamp(new Date().getTime(),u).then(function(d){i.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",d);var h=d&&d.length>0,f=h?d[0].createdAt:null;o({type:J3,payload:{currentOpenChannel:t,messages:d,hasMore:h,lastMessageTimestamp:f}}),setTimeout(function(){qc()})}).catch(function(d){i.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",d),o({type:Cv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r])}function zde(n,e){var t=n.currentOpenChannel,r=n.lastMessageTimestamp,i=n.fetchMore,o=e.sdk,u=e.logger,d=e.messagesDispatcher,h=e.hasMore,f=e.userFilledMessageListParams;return U.exports.useCallback(function(v){if(i&&h){u.info("OpenChannel | useScrollCallback: start");var _={prevResultSize:30,includeReactions:!1,nextResultSize:0};f&&(Object.keys(f).forEach(function(y){_[y]=f[y]}),u.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",f)),u.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:_}),t.getMessagesByTimestamp(r||new Date().getTime(),_).then(function(y){u.info("OpenChannel | useScrollCallback: Fetching messages succeeded",y);var E=y&&y.length>0,x=E?y[0].createdAt:null;d({type:J3,payload:{currentOpenChannel:t,messages:y,hasMore:E,lastMessageTimestamp:x}}),setTimeout(function(){v()})}).catch(function(y){u.error("OpenChannel | useScrollCallback: Fetching messages failed",y),d({type:Cv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r,i,o])}function jde(n,e){var t=n.conversationScrollRef,r=e.logger;return U.exports.useCallback(function(){var i=!0;if(t&&(t==null?void 0:t.current))try{var o=t.current;i=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(u){r.error("OpenChannel | useCheckScrollBottom",u)}return i},[t])}function Vde(n,e){var t=n.currentOpenChannel,r=n.onBeforeSendUserMessage,i=n.checkScrollBottom,o=n.messageInputRef,u=e.sdk,d=e.logger,h=e.messagesDispatcher;return U.exports.useCallback(function(){if(u){var f=o.current.innerText,v=function(M){var N=typeof M=="string"?M.trim():M.toString(10).trim(),S={message:N};return S},_=r&&typeof r=="function";_&&d.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);var y=r?r(f):v(f);d.info("OpenChannel | useSendMessageCallback: Sending message has started",y);var E=i(),x=null;t.sendUserMessage(y).onPending(function(C){h({type:o0,payload:{message:C,channel:t}}),x=C}).onSucceeded(function(C){d.info("OpenChannel | useSendMessageCallback: Sending message succeeded",C),h({type:Iu,payload:C}),E&&setTimeout(function(){qc()})}).onFailed(function(C){d.warning("OpenChannel | useSendMessageCallback: Sending message failed",C),h({type:Ih,payload:x}),(C==null?void 0:C.code)===900041&&h({type:Z3,payload:{channel:t,user:u.currentUser}})})}},[t,r,i,o])}function Wde(n,e){var t=n.currentOpenChannel,r=n.checkScrollBottom,i=n.imageCompression,o=i===void 0?{}:i,u=n.onBeforeSendFileMessage,d=e.sdk,h=e.logger,f=e.messagesDispatcher;return U.exports.useCallback(function(v){if(d){var _=o.compressionRate,y=o.resizingWidth,E=o.resizingHeight,x=u&&typeof u=="function",C=v.type==="image/jpg"||v.type==="image/png"||v.type==="image/jpeg",M=_>0&&_<1,N=dg(y)||dg(E),S=C&&(M||N),D=function(V){var he={};return he.file=V,he};if(S)try{var P=document.createElement("img");P.src=URL.createObjectURL(v),P.onload=function(){URL.revokeObjectURL(P.src);var W=document.createElement("canvas"),V=P.naturalWidth||P.width,he=P.naturalHeight||P.height,ce=dg(y)||V,Ee=dg(E)||he;v.type==="image/png"&&!N&&(ce*=_,Ee*=_),W.width=ce,W.height=Ee;var Ne=W.getContext("2d");Ne.drawImage(P,0,0,ce,Ee),Ne.canvas.toBlob(function(se){var oe=new File([se],v.name,{type:v.type});x&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var ue=u?u(oe):D(oe);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",ue);var Re=r();t.sendFileMessage(ue).onPending(function(He){f({type:o0,payload:{message:sn(sn({},He),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(He){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",He),f({type:Iu,payload:He}),Re&&setTimeout(function(){qc()})}).onFailed(function(He,ve){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:ve,error:He}),ve.localUrl=URL.createObjectURL(v),ve.file=v,f({type:Ih,payload:ve})})},v.type,_)}}catch(W){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",W)}else{x&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var Q=u?u(v):D(v);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",Q);var z=r();t.sendFileMessage(Q).onPending(function(W){f({type:o0,payload:{message:sn(sn({},W),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(W){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",W),f({type:Iu,payload:W}),z&&setTimeout(function(){qc()})}).onFailed(function(W,V){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:V,error:W}),V.localUrl=URL.createObjectURL(v),V.file=v,f({type:Ih,payload:V})})}}},[t,u,r,o])}function Kde(n,e){var t=n.currentOpenChannel,r=n.onBeforeSendUserMessage,i=e.logger,o=e.messagesDispatcher;return U.exports.useCallback(function(u,d,h){var f=function(y){var E={message:y};return E};r&&typeof r=="function"&&i.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var v=r?r(d):f(d);t.updateUserMessage(u,v).then(function(_){h&&h(),i.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:_,params:v}),o({type:i_,payload:{channel:t,message:_}})})},[t,r])}function Qde(n,e){var t=n.currentOpenChannel,r=e.logger,i=e.messagesDispatcher;return U.exports.useCallback(function(o,u){r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);var d=o.sendingStatus;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",d),d==="failed"||d==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),i({type:F9,payload:o.reqId}),u&&u();else{if(!(o.messageType==="file"||o.messageType==="user"))return;var h=o;t.deleteMessage(h).then(function(){r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",d),u&&u(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),i({type:a_,payload:{channel:t,messageId:o.messageId}})}).catch(function(f){r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",f)})}},[t])}function Yde(n,e){var t=n.currentOpenChannel,r=e.logger,i=e.messagesDispatcher;return U.exports.useCallback(function(o){r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);var u=o,d=u.messageType,h=u.file;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",i({type:M9,payload:{channel:t,message:o}}),d==="user"&&o.messageType==="user"&&t.resendUserMessage(o).then(function(f){r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),i({type:Iu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),o.requestState="failed",i({type:Ih,payload:o})}),d==="file"&&o.messageType==="file"&&t.resendFileMessage(o,h).then(function(f){r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),i({type:Iu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),o.requestState="failed",i({type:Ih,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[t])}var Xde=5e3;function Jde(n,e){var t=n.messagesLength,r=n.messageLimit,i=e.messagesDispatcher,o=e.logger,u=U.exports.useState(!1),d=u[0],h=u[1];U.exports.useEffect(function(){d||(typeof t=="number"&&t>r&&(o.info("Trimming MessageList"),i({type:L9,payload:{messageLimit:r}})),h(!0),setTimeout(function(){h(!1)},Xde))},[t,r])}var tH=k.createContext(void 0),Zde=function(e){var t,r,i,o,u,d,h=e.channelUrl,f=e.children,v=e.isMessageGroupingEnabled,_=v===void 0?!0:v,y=e.queries,E=e.onBeforeSendUserMessage,x=e.messageLimit,C=e.onBeforeSendFileMessage,M=e.onChatHeaderActionClick,N=!1,S=Fh(),D=(r=(t=S==null?void 0:S.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,P=(o=(i=S==null?void 0:S.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized,Q=(d=(u=S==null?void 0:S.stores)===null||u===void 0?void 0:u.userStore)===null||d===void 0?void 0:d.user,z=S==null?void 0:S.config,W=z.userId,V=z.isOnline,he=z.logger,ce=z.pubSub,Ee=z.imageCompression,Ne=U.exports.useReducer(Hde,qde),se=Ne[0],oe=Ne[1],ue=se.allMessages,Re=se.loading,He=se.initialized,ve=se.currentOpenChannel,Ce=se.isInvalid,Le=se.hasMore,te=se.lastMessageTimestamp,X=se.operators,ge=se.bannedParticipantIds,Ke=se.mutedParticipantIds,qe=U.exports.useRef(null),Te=U.exports.useRef(null),xe=y==null?void 0:y.messageListParams,Oe=!He||!V||Pde(ve,W)||Fde(Ke,W),Je=U.exports.useMemo(function(){return ge.indexOf(Q.userId)>=0},[h,ge,Q]),bn=U.exports.useMemo(function(){return Ke.indexOf(Q.userId)>=0},[h,Ke,Q]),An=U.exports.useMemo(function(){return X.map(function(R){return R.userId}).indexOf(Q.userId)>=0},[h,X,Q]);Bde({channelUrl:h,sdkInit:P,fetchingParticipants:N,userId:W,currentOpenChannel:ve},{sdk:D,logger:he,messagesDispatcher:oe});var hn=jde({conversationScrollRef:Te},{logger:he});Gde({currentOpenChannel:ve,checkScrollBottom:hn},{sdk:D,logger:he,messagesDispatcher:oe}),$de({currentOpenChannel:ve,userFilledMessageListParams:xe},{logger:he,messagesDispatcher:oe});var Dn=Mde(ue==null?void 0:ue.length,x),rn=zde({currentOpenChannel:ve,lastMessageTimestamp:te,fetchMore:Dn},{sdk:D,logger:he,messagesDispatcher:oe,hasMore:Le,userFilledMessageListParams:xe}),Rn=Vde({currentOpenChannel:ve,onBeforeSendUserMessage:E,checkScrollBottom:hn,messageInputRef:qe},{sdk:D,logger:he,messagesDispatcher:oe}),yn=Wde({currentOpenChannel:ve,onBeforeSendFileMessage:C,checkScrollBottom:hn,imageCompression:Ee},{sdk:D,logger:he,messagesDispatcher:oe}),Cn=Kde({currentOpenChannel:ve,onBeforeSendUserMessage:E},{logger:he,messagesDispatcher:oe}),$=Qde({currentOpenChannel:ve},{logger:he,messagesDispatcher:oe}),A=Yde({currentOpenChannel:ve},{logger:he,messagesDispatcher:oe});return Jde({messagesLength:ue==null?void 0:ue.length,messageLimit:x},{messagesDispatcher:oe,logger:he}),U.exports.useEffect(function(){var R=new Map;if(!(!ce||!ce.subscribe))return R.set(gv,ce.subscribe(gv,function(j){var Z=j.channel,be=j.message;qc(),Z&&h===(Z==null?void 0:Z.url)&&oe({type:Iu,payload:be})})),R.set(mv,ce.subscribe(mv,function(j){var Z=j.channel,be=j.message;Z&&h===(Z==null?void 0:Z.url)&&oe({type:o0,payload:{message:be,channel:Z}})})),R.set(vv,ce.subscribe(vv,function(j){var Z=j.channel,be=j.message;qc(),Z&&h===(Z==null?void 0:Z.url)&&oe({type:Iu,payload:{message:be,channel:Z}})})),R.set(G2,ce.subscribe(G2,function(j){var Z=j.channel,be=j.message,Ie=j.fromSelector;Ie&&Z&&h===(Z==null?void 0:Z.url)&&oe({type:i_,payload:{channel:Z,message:be}})})),R.set($2,ce.subscribe($2,function(j){var Z=j.channel,be=j.messageId;Z&&h===(Z==null?void 0:Z.url)&&oe({type:a_,payload:be})})),function(){R&&R.forEach(function(j){try{j.remove()}catch{}})}},[h,P]),k.createElement(tH.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:_,queries:y,onBeforeSendUserMessage:E,messageLimit:x,onBeforeSendFileMessage:C,onChatHeaderActionClick:M,allMessages:ue,loading:Re,initialized:He,currentOpenChannel:ve,isInvalid:Ce,hasMore:Le,lastMessageTimestamp:te,operators:X,bannedParticipantIds:ge,mutedParticipantIds:Ke,messageInputRef:qe,conversationScrollRef:Te,disabled:Oe,amIBanned:Je,amIMuted:bn,amIOperator:An,checkScrollBottom:hn,fetchMore:Dn,onScroll:rn,handleSendMessage:Rn,handleFileUpload:yn,updateMessage:Cn,deleteMessage:$,resendMessage:A}},k.createElement(A3,{isOpenChannel:!0,renderUserProfile:e==null?void 0:e.renderUserProfile,disableUserProfile:e==null?void 0:e.disableUserProfile},f))},y0=function(){return k.useContext(tH)},ehe=function(e,t){var r=y0(),i=r.currentOpenChannel,o=r.disabled,u=r.handleSendMessage,d=r.handleFileUpload,h=i;if(!!h){var f=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:"sendbird-openchannel-footer"},k.createElement(r_,{ref:t,disabled:o,onSendMessage:u,onFileUpload:d,placeholder:o&&f.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},nhe=k.forwardRef(ehe),the=function(){var e=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:"sendbird-frozen-channel-notification"},k.createElement(Yn,{className:"sendbird-frozen-channel-notification__text",type:Qn.CAPTION_2},e.CHANNEL_FROZEN))};function rhe(){var n=U.exports.useContext(ro).stringSet,e=y0(),t=e.currentOpenChannel,r=e.onChatHeaderActionClick,i=e.amIOperator,o=t==null?void 0:t.name,u="".concat(Ude(t==null?void 0:t.participantCount)," ").concat(n.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS),d=t==null?void 0:t.coverUrl;return k.createElement("div",{className:"sendbird-openchannel-conversation-header"},k.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},d?k.createElement(Wc,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:d,alt:"channel cover image",width:"32px",height:"32px"}):k.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},k.createElement(gt,{type:st.CHANNELS,fillColor:Ot.CONTENT,width:"18px",height:"18px"})),k.createElement(Yn,{className:"sendbird-openchannel-conversation-header__left__title",type:Qn.H_2,color:qn.ONBACKGROUND_1},o||n.NO_TITLE),k.createElement(Yn,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Qn.BODY_2,color:qn.ONBACKGROUND_2},u||n.NO_TITLE)),k.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},k.createElement(Cu,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:r},k.createElement(gt,{type:i?st.INFO:st.MEMBERS,fillColor:Ot.PRIMARY,width:"24px",height:"24px"}))))}var rH=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},ek={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},E0=function(e){return e.sender||e._sender},iH=function(e){return e===ek.SUCCEEDED},s_=function(e){return e===ek.PENDING},w0=function(e){return e===ek.FAILED},nk=function(e,t){return E0(e).userId===t},tk=function(e){var t,r=e.message;return(r==null?void 0:r.messageType)==="user"&&((t=r==null?void 0:r.message)===null||t===void 0?void 0:t.length)>0},Oh=function(e){var t=e.message,r=e.status,i=e.userId;return nk(t,i)&&w0(r)&&(t==null?void 0:t.isResendable())},rk=function(e){var t=e.message,r=e.status,i=e.userId;return nk(t,i)&&iH(r)},Ah=function(e){var t=e.message,r=e.userId;return nk(t,r)},o_=function(e){var t=e.message,r=e.status,i=e.userId;return t.messageType==="user"?Ah({message:t,status:r,userId:i})||rk({message:t,status:r,userId:i})||tk({message:t,status:r,userId:i})||Oh({message:t,status:r,userId:i}):Ah({message:t,status:r,userId:i})||Oh({message:t,status:r,userId:i})};function ihe(n){var e=n.className,t=n.message,r=n.isOperator,i=n.userId,o=n.resendMessage,u=n.disabled,d=n.showEdit,h=n.showRemove,f=n.chainTop;if(!t||t.messageType!=="user")return null;var v=m0(),_=v.stringSet,y=v.dateLocale,E=U.exports.useContext(g0),x=E.disableUserProfile,C=E.renderUserProfile,M=U.exports.useRef(null),N=U.exports.useRef(null),S=U.exports.useRef(null),D=U.exports.useState({}),P=D[0],Q=D[1],z=t==null?void 0:t.sendingStatus,W=s_(z),V=w0(z),he=E0(t),ce=U.exports.useMemo(function(){return function(){var Ee=t.message.split(/\r/),Ne=Ee.map(function(se){return se!==""?se:k.createElement("br",null)});return t.updatedAt>0&&Ne.push(k.createElement(Yn,{key:Rc(),type:Qn.BODY_1,color:qn.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," ".concat(_.MESSAGE_EDITED," "))),Ne}},[t,t.updatedAt]);return U.exports.useEffect(function(){var Ee;((Ee=M==null?void 0:M.current)===null||Ee===void 0?void 0:Ee.clientHeight)>36?Q({top:"8px "}):Q({top:"2px"})},[window.innerWidth]),k.createElement("div",{className:Hn(Hn([],Array.isArray(e)?e:[e],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:M},k.createElement("div",{className:"sendbird-openchannel-user-message__left"},!f&&k.createElement(Nu,{menuTrigger:function(Ne){return k.createElement(Wc,{className:"sendbird-openchannel-user-message__left__avatar",src:he.profileUrl||"",ref:N,width:"28px",height:"28px",onClick:function(){x||Ne()}})},menuItems:function(Ne){return k.createElement(Su,{parentRef:N,parentContainRef:N,closeDropdown:Ne,style:{paddingTop:0,paddingBottom:0}},C?C({user:he,close:Ne}):k.createElement(Jv,{user:he,onSuccess:Ne,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-user-message__right"},!f&&k.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},k.createElement(Yn,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Qn.CAPTION_2,color:r?qn.SECONDARY_3:qn.ONBACKGROUND_2},he&&(he.friendName||he.nickname||he.userId)),k.createElement(Yn,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Qn.CAPTION_3,color:qn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&Hh(t==null?void 0:t.createdAt,"p",{locale:y}))),k.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},k.createElement(Yn,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Qn.BODY_1,color:qn.ONBACKGROUND_1},ce())),(W||V)&&k.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},W&&k.createElement(v0,{width:"16px",height:"16px"},k.createElement(gt,{className:"sendbird-openchannel-user-message__right__tail__pending",type:st.SPINNER,fillColor:Ot.PRIMARY,width:"16px",height:"16px"})),V&&k.createElement(gt,{className:"sendbird-openchannel-user-message__right__tail__failed",type:st.ERROR,fillColor:Ot.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:S,style:P},k.createElement(Nu,{menuTrigger:function(Ne){return o_({message:t,userId:i,status:z})&&k.createElement(Cu,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){Ne()}},k.createElement(gt,{type:st.MORE,fillColor:Ot.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Ne){return k.createElement(Su,{parentRef:S,parentContainRef:S,closeDropdown:Ne,openLeft:!0},tk({message:t,userId:i,status:z})&&k.createElement(xs,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){rH(t.message),Ne()}},_.CONTEXT_MENU_DROPDOWN__COPY),rk({message:t,userId:i,status:z})&&k.createElement(xs,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){u||(d(!0),Ne())}},_.CONTEXT_MENU_DROPDOWN__EDIT),Oh({message:t,userId:i,status:z})&&k.createElement(xs,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){o(t),Ne()}},_.CONTEXT_MENU_DROPDOWN__RESEND),Ah({message:t,userId:i,status:z})&&k.createElement(xs,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){u||(h(!0),Ne())}},_.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function ahe(n){var e=n.className,t=n.message;return k.createElement("div",{className:Hn(Hn([],Array.isArray(e)?e:[e],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},k.createElement(Yn,{className:"sendbird-openchannel-admin-message__text",type:Qn.CAPTION_2,color:qn.ONBACKGROUND_2},t.message||""))}var she=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,ohe=function(e){return function(t){return e.test(t)}},lhe=function(e){var t=e.ogMetaData;if(!t)return!1;var r=t.url;return!!r};function uhe(n){var e=n.message,t=n.isOperator,r=n.className,i=n.disabled,o=n.showEdit,u=n.showRemove,d=n.resendMessage,h=n.chainTop,f=n.userId;if(!e||e.messageType!=="user")return null;var v=e==null?void 0:e.sendingStatus,_=e.ogMetaData,y=_.defaultImage,E=m0(),x=E.stringSet,C=E.dateLocale,M=U.exports.useContext(g0),N=M.disableUserProfile,S=M.renderUserProfile,D=U.exports.useState({}),P=D[0],Q=D[1],z=U.exports.useRef(null),W=U.exports.useRef(null),V=U.exports.useRef(null),he=ohe(she),ce=s_(v),Ee=w0(v),Ne=E0(e),se=U.exports.useMemo(function(){return function(){var ue="sendbird-openchannel-og-message--word",Re=e.message.split(" "),He=Re.map(function(ve){return he(ve)?k.createElement(kv,{key:Rc(),className:[ue,"sendbird-openchannel-og-message--word--link"],src:ve,type:Qn.BODY_1,color:qn.PRIMARY},ve):k.createElement(Yn,{key:Rc(),className:ue,type:Qn.BODY_1,color:qn.ONBACKGROUND_1},ve)});return e.updatedAt>0&&He.push(k.createElement(Yn,{key:Rc(),className:ue,type:Qn.BODY_1,color:qn.ONBACKGROUND_2},x.MESSAGE_EDITED)),He}},[e,e.updatedAt]),oe=function(){if(lhe(e)){var Re=_.url;window.open(Re)}};return U.exports.useEffect(function(){var ue;((ue=z==null?void 0:z.current)===null||ue===void 0?void 0:ue.clientHeight)>36?Q({top:"8px "}):Q({top:"2px"})},[window.innerWidth]),k.createElement("div",{className:Hn(Hn([],Array.isArray(r)?r:[r],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:z},k.createElement("div",{className:"sendbird-openchannel-og-message__top"},k.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!h&&k.createElement(Nu,{menuTrigger:function(Re){return k.createElement(Wc,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Ne.profileUrl||"",ref:V,width:"28px",height:"28px",onClick:function(){N||Re()}})},menuItems:function(Re){return k.createElement(Su,{parentRef:V,parentContainRef:V,closeDropdown:Re,style:{paddingTop:0,paddingBottom:0}},S?S({user:Ne,close:Re}):k.createElement(Jv,{user:Ne,onSuccess:Re,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!h&&k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},k.createElement(Yn,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Qn.CAPTION_2,color:t?qn.SECONDARY_3:qn.ONBACKGROUND_2},Ne&&(Ne.friendName||Ne.nickname||Ne.userId)),k.createElement(Yn,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Qn.CAPTION_3,color:qn.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&Hh(e==null?void 0:e.createdAt,"p",{locale:C}))),k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},k.createElement(Yn,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Qn.BODY_1,color:qn.ONBACKGROUND_1},se()))),k.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:W,style:P},k.createElement(Nu,{menuTrigger:function(Re){return o_({message:e,userId:f,status:v})&&k.createElement(Cu,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){Re()}},k.createElement(gt,{type:st.MORE,fillColor:Ot.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Re){return k.createElement(Su,{parentRef:W,parentContainRef:W,closeDropdown:Re,openLeft:!0},tk({message:e,userId:f,status:v})&&k.createElement(xs,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){rH(e.message),Re()}},x.CONTEXT_MENU_DROPDOWN__COPY),rk({message:e,userId:f,status:v})&&k.createElement(xs,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){i||(o(!0),Re())}},x.CONTEXT_MENU_DROPDOWN__EDIT),Oh({message:e,userId:f,status:v})&&k.createElement(xs,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){d(e),Re()}},x.CONTEXT_MENU_DROPDOWN__RESEND),Ah({message:e,userId:f,status:v})&&k.createElement(xs,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){i||(u(!0),Re())}},x.CONTEXT_MENU_DROPDOWN__DELETE))}}))),k.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},_.url&&k.createElement(Yn,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Qn.CAPTION_3,color:qn.ONBACKGROUND_2},_.url),_.title&&k.createElement(kv,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:_.url,type:Qn.SUBTITLE_2,color:qn.PRIMARY},_.title),_.description&&k.createElement(Yn,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Qn.BODY_2,color:qn.ONBACKGROUND_1},_.description),_.url&&k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:oe,onKeyDown:oe,tabIndex:0},y&&k.createElement(hs,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:y.url||"",alt:y.alt||"",height:"189px",defaultComponent:k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},k.createElement(gt,{type:st.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(ce||Ee)&&k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},ce&&k.createElement(v0,{width:"16px",height:"16px"},k.createElement(gt,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:st.SPINNER,fillColor:Ot.PRIMARY,width:"16px",height:"16px"})),Ee&&k.createElement(gt,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:st.ERROR,fillColor:Ot.ERROR,width:"16px",height:"16px"}))))}var ph={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},NL={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},che=function(e){return NL.IMAGE.indexOf(e)>=0?ph.IMAGE:NL.VIDEO.indexOf(e)>=0?ph.VIDEO:ph.UNSUPPORTED};function dhe(n){var e,t=n.className,r=n.message,i=n.isOperator,o=n.disabled,u=n.userId,d=n.chainTop,h=n.onClick,f=n.showRemove,v=n.resendMessage,_=r.type,y=r.url,E=r.thumbnails,x=r.localUrl,C=r==null?void 0:r.sendingStatus,M=E&&E.length>0&&E[0].url||null,N=m0(),S=N.stringSet,D=N.dateLocale,P=U.exports.useContext(g0),Q=P.disableUserProfile,z=P.renderUserProfile,W=U.exports.useState(360),V=W[0],he=W[1],ce=U.exports.useRef(null),Ee=U.exports.useRef(null),Ne=U.exports.useRef(null),se=U.exports.useMemo(function(){return function(ve){return function(Ce){var Le=Ce.style;return k.createElement("div",{style:Le},k.createElement(gt,{type:ve,fillColor:Ot.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),oe=iH(C),ue=s_(C),Re=w0(C),He=E0(r);return U.exports.useEffect(function(){var ve,Ce=((ve=ce==null?void 0:ce.current)===null||ve===void 0?void 0:ve.clientWidth)-80;he(Ce>360?360:Ce)},[]),k.createElement("div",{className:Hn(Hn([],Array.isArray(t)?t:[t],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:ce},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!d&&k.createElement(Nu,{menuTrigger:function(Ce){return k.createElement(Wc,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:He.profileUrl||"",ref:Ne,width:"28px",height:"28px",onClick:function(){Q||Ce()}})},menuItems:function(Ce){return k.createElement(Su,{parentRef:Ne,parentContainRef:Ne,closeDropdown:Ce,style:{paddingTop:0,paddingBottom:0}},z?z({user:He,close:Ce}):k.createElement(Jv,{user:He,onSuccess:Ce,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!d&&k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},k.createElement(Yn,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Qn.CAPTION_2,color:i?qn.SECONDARY_3:qn.ONBACKGROUND_2},He&&(He.friendName||He.nickname||He.userId)),k.createElement(Yn,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Qn.CAPTION_3,color:qn.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&Hh(r.createdAt,"p",{locale:D}))),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){oe&&h(!0)},onKeyDown:function(){oe&&h(!0)},tabIndex:0},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(e={},e[ph.VIDEO]=y||x?k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},M?k.createElement(hs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:M,width:V,height:"270px",alt:"image",placeHolder:se(st.PLAY)}):k.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},k.createElement("source",{src:y||x,type:_})),k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:st.PLAY,fillColor:Ot.ON_BACKGROUND_2,width:"56px",height:"56px"})):k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:st.PHOTO,fillColor:Ot.ON_BACKGROUND_2,width:"56px",height:"56px"}),e[ph.IMAGE]=y||x?k.createElement(hs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:M||y||x,alt:"image",width:V,height:"270px",placeHolder:se(st.PHOTO)}):k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:st.PHOTO,fillColor:Ot.ON_BACKGROUND_2,width:"56px",height:"56px"}),e[ph.UNSUPPORTED]=k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:st.PHOTO,fillColor:Ot.ON_BACKGROUND_2,width:"56px",height:"56px"}),e)[che(_)])),(ue||Re)&&k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},ue&&k.createElement(v0,{width:"16px",height:"16px"},k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:st.SPINNER,fillColor:Ot.PRIMARY,width:"16px",height:"16px"})),Re&&k.createElement(gt,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:st.ERROR,fillColor:Ot.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:Ee},k.createElement(Nu,{menuTrigger:function(Ce){return o_({message:r,userId:u,status:C})&&k.createElement(Cu,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:Ce},k.createElement(gt,{type:st.MORE,fillColor:Ot.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Ce){return k.createElement(Su,{parentRef:Ee,parentContainRef:Ee,closeDropdown:Ce,openLeft:!0},Oh({message:r,userId:u,status:C})&&k.createElement(xs,{onClick:function(){v(r),Ce()}},S.CONTEXT_MENU_DROPDOWN__RESEND),Ah({message:r,userId:u,status:C})&&k.createElement(xs,{onClick:function(){o||(f(!0),Ce())}},S.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var TL=function(e){var t=/(\.mp3)$/i,r=/(\.gif)$/i;return t.test(e)?st.FILE_AUDIO:r.test(e)?st.GIF:st.FILE_DOCUMENT},hhe=function(e,t){if(e==null)return"";if(e.length<=t)return e;var r="...",i=r.length,o=t-i,u=Math.ceil(o/2),d=Math.floor(o/2);return e.substr(0,u)+r+e.substr(e.length-d)};function phe(n){var e=n.className,t=n.message,r=n.isOperator,i=n.userId,o=n.disabled,u=n.chainTop,d=n.showRemove,h=n.resendMessage,f=t==null?void 0:t.sendingStatus,v=m0(),_=v.dateLocale,y=v.stringSet,E=U.exports.useRef(null),x=U.exports.useRef(null),C=U.exports.useContext(g0),M=C.disableUserProfile,N=C.renderUserProfile,S=function(){window.open(t.url)},D=s_(f),P=w0(f),Q=E0(t);return k.createElement("div",{className:Hn(Hn([],Array.isArray(e)?e:[e],!0),["sendbird-openchannel-file-message"],!1).join(" ")},k.createElement("div",{className:"sendbird-openchannel-file-message__left"},!u&&k.createElement(Nu,{menuTrigger:function(W){return k.createElement(Wc,{className:"sendbird-openchannel-file-message__left__avatar",src:Q.profileUrl||"",ref:x,width:"28px",height:"28px",onClick:function(){M||W()}})},menuItems:function(W){return k.createElement(Su,{parentRef:x,parentContainRef:x,closeDropdown:W,style:{paddingTop:0,paddingBottom:0}},N?N({user:Q,close:W}):k.createElement(Jv,{user:Q,onSuccess:W,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-file-message__right"},!u&&k.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},k.createElement(Yn,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Qn.CAPTION_2,color:r?qn.SECONDARY_3:qn.ONBACKGROUND_2},Q&&(Q.friendName||Q.nickname||Q.userId)),k.createElement(Yn,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Qn.CAPTION_3,color:qn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&Hh(t.createdAt,"p",{locale:_}))),k.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},TL(t.url)&&k.createElement(gt,{className:"sendbird-openchannel-file-message__right__body__icon",type:TL(t.url),fillColor:Ot.PRIMARY,width:"48px",height:"48px"}),k.createElement(Hue,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:S},k.createElement(Yn,{type:Qn.BODY_1,color:qn.ONBACKGROUND_1},hhe(t.name||t.url,40)))),(D||P)&&k.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},D&&k.createElement(v0,{width:"16px",height:"16px"},k.createElement(gt,{className:"sendbird-openchannel-file-message__right__tail__pending",type:st.SPINNER,fillColor:Ot.PRIMARY,width:"16px",height:"16px"})),P&&k.createElement(gt,{className:"sendbird-openchannel-file-message__right__tail__failed",type:st.ERROR,fillColor:Ot.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:E},k.createElement(Nu,{menuTrigger:function(W){return o_({message:t,userId:i,status:f})&&k.createElement(Cu,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:W},k.createElement(gt,{type:st.MORE,width:"24px",height:"24px"}))},menuItems:function(W){return k.createElement(Su,{parentRef:E,parentContainRef:E,closeDropdown:W,openLeft:!0},Oh({message:t,userId:i,status:f})&&k.createElement(xs,{onClick:function(){o||(h(t),W())}},y.CONTEXT_MENU_DROPDOWN__RESEND),Ah({message:t,userId:i,status:f})&&k.createElement(xs,{onClick:function(){o||(d(!0),W())}},y.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var fhe=function(e){var t=e.profileUrl,r=e.nickname,i=e.name,o=e.type,u=e.url,d=e.isByMe,h=d===void 0?!0:d,f=e.disableDelete,v=f===void 0?!1:f,_=e.onClose,y=e.onDelete,E=U.exports.useContext(ro).stringSet;return k.createElement("div",{className:"sendbird-fileviewer"},k.createElement("div",{className:"sendbird-fileviewer__header"},k.createElement("div",{className:"sendbird-fileviewer__header__left"},k.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},k.createElement(Wc,{height:"32px",width:"32px",src:t})),k.createElement(Yn,{className:"sendbird-fileviewer__header__left__filename",type:Qn.H_2,color:qn.ONBACKGROUND_1},i),k.createElement(Yn,{className:"sendbird-fileviewer__header__left__sender-name",type:Qn.BODY_1,color:qn.ONBACKGROUND_2},r)),k.createElement("div",{className:"sendbird-fileviewer__header__right"},OD(o)&&k.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},k.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:u,target:"_blank"},k.createElement(gt,{type:st.DOWNLOAD,fillColor:Ot.ON_BACKGROUND_1,height:"24px",width:"24px"})),y&&h&&k.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},k.createElement(gt,{className:v?"disabled":"",type:st.DELETE,fillColor:v?Ot.GRAY:Ot.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(C){v||y==null||y(C)}}))),k.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},k.createElement(gt,{type:st.CLOSE,fillColor:Ot.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(C){return _==null?void 0:_(C)}})))),k.createElement("div",{className:"sendbird-fileviewer__content"},OF(o)&&k.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},k.createElement("source",{src:u,type:o})),IF(o)&&k.createElement("img",{src:u,alt:i,className:"sendbird-fileviewer__content__img"}),!OD(o)&&k.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},k.createElement(Yn,{type:Qn.H_1,color:qn.ONBACKGROUND_1},(E==null?void 0:E.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function mhe(n){var e,t,r,i=n.message,o=n.isByMe,u=o===void 0?!1:o,d=n.onClose,h=n.onDelete;return Mh.exports.createPortal(k.createElement(fhe,{profileUrl:(e=i==null?void 0:i.sender)===null||e===void 0?void 0:e.profileUrl,nickname:(t=i==null?void 0:i.sender)===null||t===void 0?void 0:t.nickname,name:i==null?void 0:i.name,type:i==null?void 0:i.type,url:i==null?void 0:i.url,isByMe:u,disableDelete:((r=i==null?void 0:i.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:d,onDelete:h}),document.getElementById(WF))}function ghe(n){var e=n.onCloseModal,t=n.onDeleteMessage,r=U.exports.useContext(ro).stringSet;return k.createElement(sue,{onCancel:e,onSubmit:t,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}var ik={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},vhe=function(e){return ik.IMAGE.indexOf(e)>=0},_he=function(e){return ik.VIDEO.indexOf(e)>=0};sn({},ik);var vs={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},IL={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},bhe=function(e){var t,r;return((t=e==null?void 0:e.isUserMessage)===null||t===void 0?void 0:t.call(e))||(e==null?void 0:e.messageType)==="user"?e!=null&&e.ogMetaData?vs.OG:vs.USER:!((r=e==null?void 0:e.isAdminMessage)===null||r===void 0)&&r.call(e)?vs.ADMIN:(e==null?void 0:e.messageType)==="file"?vhe(e.type)||_he(e.type)?vs.THUMBNAIL:vs.FILE:vs.UNKNOWN};function yhe(n){var e,t,r=n.message,i=n.chainTop,o=n.chainBottom,u=n.hasSeparator,d=n.renderMessage,h=y0(),f=h.currentOpenChannel,v=h.deleteMessage,_=h.updateMessage,y=h.resendMessage,E=m0().dateLocale,x=f==null?void 0:f.isFrozen,C=Fh(),M=(t=C==null?void 0:C.config)===null||t===void 0?void 0:t.userId,N=null;(r==null?void 0:r.messageType)!=="admin"&&(N=r==null?void 0:r.sender);var S=U.exports.useMemo(function(){return function(oe){return k.createElement(k.Fragment,null,d?d(oe):null)}},[r,d]),D=U.exports.useState(!1),P=D[0],Q=D[1],z=U.exports.useState(!1),W=z[0],V=z[1],he=U.exports.useState(!1),ce=he[0],Ee=he[1],Ne=U.exports.useRef(null),se=!1;return N&&(r==null?void 0:r.messageType)!=="admin"&&(se=M===N.userId||(r==null?void 0:r.sendingStatus)===IL.PENDING||(r==null?void 0:r.sendingStatus)===IL.FAILED),d&&S?k.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},k.createElement(S,{message:r,chainTop:i,chainBottom:o})):(r==null?void 0:r.messageType)==="user"&&P?k.createElement(r_,{isEdit:!0,disabled:x,ref:Ne,message:r,name:r==null?void 0:r.messageId,onUpdateMessage:function(ue){var Re=ue.messageId,He=ue.message;_(Re,He),Q(!1)},onCancelEdit:function(){Q(!1)}}):k.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},u&&(r==null?void 0:r.createdAt)&&k.createElement(Gue,null,k.createElement(Yn,{type:Qn.CAPTION_2,color:qn.ONBACKGROUND_2},Hh(r==null?void 0:r.createdAt,"MMMM dd, yyyy",{locale:E}))),(e={},e[vs.ADMIN]=function(){if((r==null?void 0:r.messageType)==="admin")return k.createElement(ahe,{message:r})}(),e[vs.FILE]=function(){var oe;if((r==null?void 0:r.messageType)==="file")return k.createElement(phe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),disabled:x,userId:M,showRemove:V,resendMessage:y,chainTop:i,chainBottom:o})}(),e[vs.OG]=function(){var oe;if((r==null?void 0:r.messageType)==="user")return k.createElement(uhe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),userId:M,showEdit:Q,disabled:x,showRemove:V,resendMessage:y,chainTop:i,chainBottom:o})}(),e[vs.THUMBNAIL]=function(){var oe;if((r==null?void 0:r.messageType)==="file")return k.createElement(dhe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),disabled:x,userId:M,showRemove:V,resendMessage:y,onClick:Ee,chainTop:i,chainBottom:o})}(),e[vs.USER]=function(){var oe;if((r==null?void 0:r.messageType)==="user")return k.createElement(ihe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),userId:M,disabled:x,showEdit:Q,showRemove:V,resendMessage:y,chainTop:i,chainBottom:o})}(),e[vs.UNKNOWN]=function(){}(),e)[bhe(r)],W&&k.createElement(ghe,{onCloseModal:function(){return V(!1)},onDeleteMessage:function(){(r==null?void 0:r.messageType)!=="admin"&&v(r)}}),ce&&(r==null?void 0:r.messageType)==="file"&&k.createElement(mhe,{onClose:function(){return Ee(!1)},message:r,onDelete:function(){return v(r)},isByMe:se}))}function Ehe(n,e){var t,r=y0(),i=r.isMessageGroupingEnabled,o=i===void 0?!0:i,u=r.allMessages,d=r.hasMore,h=r.onScroll,f=e||U.exports.useRef(null),v=U.exports.useState(!1),_=v[0],y=v[1],E=function(N){var S=N.target,D=S.scrollTop,P=S.scrollHeight,Q=S.clientHeight;if(P>D+Q+1?y(!0):y(!1),!!d&&D===0){var z=f.current.querySelectorAll(".sendbird-msg--scroll-ref"),W=z&&z[0];h(function(){try{W.scrollIntoView()}catch{}})}},x=function(){f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),y(!1))},C=U.exports.useMemo(function(){return u.length>0},[u.length]);return k.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),k.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",C?"":"no-messages"].join(" "),onScroll:E,ref:f},C?u.map(function(M,N){var S=u[N-1],D=u[N-1],P=S&&S.createdAt,Q=M==null?void 0:M.createdAt,z=!(P&&Fue(Q,P)),W=o?Dde(S,M,D):[!1,!1],V=W[0],he=W[1];return k.createElement(yhe,{key:(M==null?void 0:M.messageId)||(M==null?void 0:M.reqId),message:M,chainTop:V,chainBottom:he,hasSeparator:z,renderMessage:n==null?void 0:n.renderMessage})}):((t=n==null?void 0:n.renderPlaceHolderEmptyList)===null||t===void 0?void 0:t.call(n))||k.createElement(Ag,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:jr.NO_MESSAGES}))),_&&k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:x,onKeyDown:x,tabIndex:0,role:"button"},k.createElement(gt,{width:"24px",height:"24px",type:st.CHEVRON_DOWN,fillColor:Ot.CONTENT})))}var whe=k.forwardRef(Ehe),hg="sendbird-openchannel-conversation",xhe=function(e){var t=e.renderMessage,r=e.renderHeader,i=e.renderInput,o=e.renderPlaceHolderEmptyList,u=e.renderPlaceHolderError,d=e.renderPlaceHolderLoading,h=y0(),f=h.currentOpenChannel,v=h.amIBanned,_=h.loading,y=h.isInvalid,E=h.messageInputRef;return!f||!(f!=null&&f.url)||v?(u==null?void 0:u())||k.createElement("div",{className:hg},k.createElement(Ag,{type:jr.NO_CHANNELS})):_?(d==null?void 0:d())||k.createElement("div",{className:hg},k.createElement(Ag,{type:jr.LOADING})):y?(u==null?void 0:u())||k.createElement("div",{className:hg},k.createElement(Ag,{type:jr.WRONG})):k.createElement("div",{className:hg},(r==null?void 0:r())||k.createElement(rhe,null),(f==null?void 0:f.isFrozen)&&k.createElement(the,null),k.createElement(whe,{renderMessage:t,renderPlaceHolderEmptyList:o}),(i==null?void 0:i())||k.createElement(nhe,{ref:E}))},khe=function(e){return k.createElement(Zde,{channelUrl:e==null?void 0:e.channelUrl,isMessageGroupingEnabled:e==null?void 0:e.isMessageGroupingEnabled,queries:e==null?void 0:e.queries,messageLimit:e==null?void 0:e.messageLimit,onBeforeSendUserMessage:e==null?void 0:e.onBeforeSendUserMessage,onBeforeSendFileMessage:e==null?void 0:e.onBeforeSendFileMessage,onChatHeaderActionClick:e==null?void 0:e.onChatHeaderActionClick,disableUserProfile:e==null?void 0:e.disableUserProfile,renderUserProfile:e==null?void 0:e.renderUserProfile},k.createElement(xhe,{renderMessage:e==null?void 0:e.renderMessage,renderHeader:e==null?void 0:e.renderHeader,renderInput:e==null?void 0:e.renderInput,renderPlaceHolderEmptyList:e==null?void 0:e.renderPlaceHolderEmptyList,renderPlaceHolderError:e==null?void 0:e.renderPlaceHolderError,renderPlaceHolderLoading:e==null?void 0:e.renderPlaceHolderLoading}))},Che=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;Zi(Che);var OL,AL;function Zw(){return Zw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zw.apply(this,arguments)}var Gh=function(e){return U.exports.createElement("svg",Zw({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},e),OL||(OL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-user_svg__a"},U.exports.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-user_svg__b"},U.exports.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),AL||(AL=U.exports.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},U.exports.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},U.exports.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},RL;function ex(){return ex=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ex.apply(this,arguments)}var kl=function(e){return U.exports.createElement("svg",ex({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),RL||(RL=U.exports.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function ak(n){var e=n.key,t=n.userId,r=n.disabled,i=r===void 0?!1:r,o=n.nickname,u=o===void 0?"":o,d=n.profileUrl,h=d===void 0?"":d,f=n.hideProfile,v=f===void 0?!1:f,_=n.onRemove,y=_===void 0?function(){}:_,E=h?k.createElement("img",{src:h,className:"profile-image"}):k.createElement(Gh,{fill:"#ccc",className:"profile-image"});return k.createElement("div",{className:"event-host",key:e},v?null:E,k.createElement("div",{className:"nickname"},u),k.createElement("div",{className:"remove-button",onClick:function(){i||y(t)}},k.createElement(kl,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var ML;function nx(){return nx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nx.apply(this,arguments)}var She=function(e){return U.exports.createElement("svg",nx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),ML||(ML=U.exports.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function aH(n){var e=n.message,t=n.count,r=n.maxLength,i=n.error,o=i===void 0?!1:i;return k.createElement("div",{className:"event-host-status"},k.createElement("div",{className:"message ".concat(o?"error":"")},e),k.createElement("div",{className:"count"},k.createElement("span",{className:"value ".concat(o?"error":"")},t)," / ",r," users"),k.createElement(She,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var DL;function tx(){return tx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tx.apply(this,arguments)}var Nhe=function(e){return U.exports.createElement("svg",tx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),DL||(DL=U.exports.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function The(n){var e=n.userId,t=n.nickname,r=t===void 0?"":t,i=n.profileUrl,o=i===void 0?"":i,u=n.onClick,d=u===void 0?function(){}:u,h=o?k.createElement("img",{src:o,className:"profile-image"}):k.createElement(Gh,{fill:"#fff",className:"profile-image"});return k.createElement("div",{className:"searched-user",onClick:function(){return d()}},h,k.createElement("div",{className:"info"},k.createElement("div",{className:"nickname"},r),k.createElement("div",{className:"user-id"},e)))}function Ihe(n){var e=n.initialHostUsers,t=e===void 0?[]:e,r=n.maxHostLength,i=r===void 0?sH:r,o=n.renderCustomEventHostView,u=o===void 0?ak:o,d=n.onUpdateHost,h=d===void 0?function(){}:d,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(0),E=y[0],x=y[1],C=U.exports.useState(!1),M=C[0],N=C[1],S=U.exports.useState(!1),D=S[0],P=S[1],Q=U.exports.useState(t),z=Q[0],W=Q[1],V=U.exports.useState("nickname"),he=V[0],ce=V[1],Ee=U.exports.useState(""),Ne=Ee[0],se=Ee[1],oe=U.exports.useState(""),ue=oe[0],Re=oe[1],He=U.exports.useState(!1),ve=He[0],Ce=He[1],Le=Fh();U.exports.useEffect(function(){W(t)},[t]),U.exports.useEffect(function(){z.length>i?(Ce(!0),Re("The number of users allowed has exceeded.")):(Ce(!1),Re(""))},[z]);var te=function(X,ge){var Ke=M3.getSdk(Le);if(Ke&&ge){var qe=null;switch(X){case"nickname":{qe=Ke.createApplicationUserListQuery({nicknameStartsWithFilter:ge});break}case"user ID":{qe=Ke.createApplicationUserListQuery({userIdsFilter:[ge]});break}}if(qe){var Te=E+1;x(Te),N(!0),P(!1),qe.next().then(function(xe){Te>=E&&(_(xe),N(!1),P(!1),x(Te))}).catch(function(xe){Te>=E&&(N(!1),P(!0),x(Te))})}}};return k.createElement("div",{className:"event-host-form"},k.createElement("div",{className:"input"},k.createElement("div",{className:"search-type-panel"},k.createElement("select",{className:"search-type",value:he,onChange:function(X){var ge=X.target.value;switch(ce(ge),ge){case"user ID":Re("Only an exact match can be found.");break;default:Re("")}Ce(!1),te(ge,Ne)}},k.createElement("option",{value:"nickname"},"Nickname"),k.createElement("option",{value:"user ID"},"User ID"))),k.createElement("div",{className:"form"},z.map(function(X){return u({key:X.userId,userId:X.userId,disabled:t.map(function(ge){return ge.userId}).includes(X.userId),nickname:X.nickname,profileUrl:X.profileUrl,onRemove:function(ge){var Ke=z.filter(function(qe){return qe.userId!==ge});W(Ke),h(Ke.map(function(qe){return qe.userId}))}})}),k.createElement("input",{type:"text",placeholder:"Enter ".concat(he),className:"host-form",value:Ne,onChange:function(X){var ge=X.target.value;se(ge),te(he,ge)}}))),k.createElement(aH,{message:ue,error:ve,count:z.length,maxLength:i}),Ne?k.createElement("div",{className:"search-result"},v.length>0?k.createElement("div",{className:"users"},v.map(function(X){return k.createElement(The,{key:X.userId,userId:X.userId,nickname:X.nickname,profileUrl:X.profileUrl,onClick:function(){if(!z.map(function(Ke){return Ke.userId}).includes(X.userId)){var ge=Ma(Ma([],z,!0),[X],!1);W(ge),h(ge.map(function(Ke){return Ke.userId}))}se(""),_([]),P(!1),N(!1)}})})):k.createElement("div",{className:"status"},M?k.createElement(Nhe,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!M&&!D&&v.length===0?k.createElement("div",{className:"no-result"},"No matches found with ",Ne):null,D?k.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Ohe(n){var e=n.initialHostUsers,t=e===void 0?[]:e,r=n.maxHostLength,i=r===void 0?sH:r,o=n.renderCustomEventHostView,u=o===void 0?ak:o,d=n.onUpdateHost,h=d===void 0?function(){}:d,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(""),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],N=C[1],S=U.exports.useState(!1),D=S[0],P=S[1];return U.exports.useEffect(function(){_(t.map(function(Q){return Q.userId}))},[t]),U.exports.useEffect(function(){v.length>i?(P(!0),N("The number of users allowed has exceeded.")):(P(!1),N("If the ACL attributes are turned on, you can access user list information from the SDK."))},[v]),k.createElement("div",{className:"event-host-form"},k.createElement("div",{className:"input"},k.createElement("div",{className:"form"},v.map(function(Q){return u({key:Q,userId:Q,disabled:t.map(function(z){return z.userId}).includes(Q),nickname:Q,hideProfile:!0,onRemove:function(z){var W=v.filter(function(V){return V!==z});_(W),h(W)}})}),k.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:E,onChange:function(Q){var z,W=Q.target.value,V=W.split(",");x((z=V.pop())!==null&&z!==void 0?z:"");var he=V.filter(function(Ee,Ne){return Ee.length>0&&!v.includes(Ee)&&V.indexOf(Ee)===Ne});if(he.length>0){var ce=Ma(Ma([],v,!0),he,!0);_(ce),h(ce)}}}))),k.createElement(aH,{message:M,error:D,count:v.length,maxLength:i}))}var UL,LL;function rx(){return rx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rx.apply(this,arguments)}var Ahe=function(e){return U.exports.createElement("svg",rx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),UL||(UL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-live_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-live_svg__b"},U.exports.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),LL||(LL=U.exports.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},U.exports.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},sH=10;function Rhe(n){var e=this,t,r,i=n.showUserIdsForHostSelectionView,o=i===void 0?!0:i,u=n.disableAcl,d=u===void 0?!1:u,h=n.renderCustomEventHostView,f=h===void 0?ak:h,v=n.onClose,_=v===void 0?function(){}:v,y=U.exports.useState(""),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],N=C[1],S=U.exports.useRef(null),D=U.exports.useRef(null),P=U.exports.useContext(Ao).stringSet,Q=Fh(),z=M3.getSdk(Q),W=U.exports.useState([]),V=W[0],he=W[1];U.exports.useEffect(function(){o&&z!=null&&z.currentUser&&he([z.currentUser])},[z==null?void 0:z.currentUser]);var ce=U.exports.useState(V.map(function(se){return se.userId})),Ee=ce[0],Ne=ce[1];return k.createElement("div",{className:"create-event-view"},k.createElement("div",{className:"close",onClick:function(){return _()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},P.LIVE_EVENT_CREATE_HEADER_TITLE),k.createElement("div",{className:"section-title"},P.LIVE_EVENT_CREATE_EVENT_TITLE),k.createElement("div",null,k.createElement("input",{type:"text",placeholder:P.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:E,onChange:function(se){x(se.target.value)}})),k.createElement("div",{className:"section-title"},P.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),k.createElement("div",{className:"cover-image-box"},k.createElement("div",{className:"cover-image-container",ref:S},M?k.createElement("img",{src:M,alt:"Cover image",className:"cover-image"}):k.createElement(Ahe,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),k.createElement("input",{type:"file",className:"cover-image-file",ref:D,accept:"image/*",onChange:function(){var se,oe=D.current,ue=(se=oe==null?void 0:oe.files)!==null&&se!==void 0?se:[];if(ue.length===1){var Re=new FileReader;Re.onload=function(){S.current&&N(Re.result)},Re.readAsDataURL(ue[0])}}}),k.createElement("div",{className:"cover-image-upload",onClick:function(){D.current.click()}},P.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),k.createElement("div",{className:"cover-image-remove",onClick:function(){D.current&&(D.current.value=""),N("")}},!((r=(t=D.current)===null||t===void 0?void 0:t.files)===null||r===void 0)&&r.length?P.REMOVE_IMAGE:"")),k.createElement("div",{className:"section-title"},P.LIST_USERS_FOR_HOST_HEADER_TITLE),d?k.createElement(Ohe,{initialHostUsers:V,renderCustomEventHostView:f,onUpdateHost:function(se){return Ne(se)}}):k.createElement(Ihe,{initialHostUsers:V,renderCustomEventHostView:f,onUpdateHost:function(se){return Ne(se)}}),k.createElement("div",{className:"button-box"},k.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return _()}}),k.createElement("input",{type:"button",className:"major-button",value:P.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return ha(e,void 0,void 0,function(){var se,oe,ue;return pa(this,function(Re){switch(Re.label){case 0:return[4,Ir.exports.SendbirdLive.createLiveEvent({userIdsForHost:Ma([],Ee,!0),title:E,coverFile:(ue=(oe=D==null?void 0:D.current)===null||oe===void 0?void 0:oe.files)===null||ue===void 0?void 0:ue[0]})];case 1:return se=Re.sent(),[4,se.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return Re.sent(),_(se),[2]}})})}})))}var Mhe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: #333 !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;Zi(Mhe);var PL;function ix(){return ix=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ix.apply(this,arguments)}var Dhe=function(e){return U.exports.createElement("svg",ix({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),PL||(PL=U.exports.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},FL,HL;function ax(){return ax=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ax.apply(this,arguments)}var Uhe=function(e){return U.exports.createElement("svg",ax({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),FL||(FL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__b"},U.exports.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),HL||(HL=U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},U.exports.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},qL,BL;function sx(){return sx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sx.apply(this,arguments)}var Lhe=function(e){return U.exports.createElement("svg",sx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),qL||(qL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),BL||(BL=U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},GL,$L;function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ox.apply(this,arguments)}var Phe=function(e){return U.exports.createElement("svg",ox({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),GL||(GL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__b"},U.exports.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),$L||($L=U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},U.exports.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},zL,jL;function lx(){return lx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lx.apply(this,arguments)}var Fhe=function(e){return U.exports.createElement("svg",lx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),zL||(zL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),jL||(jL=U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},Hhe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 4px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;Zi(Hhe);var qhe=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;Zi(qhe);function Bhe(n){var e=n.liveEvent,t=n.onClose;return k.createElement("div",{className:"settings"},k.createElement("div",{className:"close",onClick:function(){return t()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},"Settings"),k.createElement("div",{className:"settings__select-container"},k.createElement("div",{className:"settings__select-label"},"Camera"),k.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Ir.exports.SendbirdLive.getAvailableVideoInputDevices().find(function(u){return u.deviceId===i});o&&e.selectVideoInput(o)}},Ir.exports.SendbirdLive.getAvailableVideoInputDevices().map(function(r){return k.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))),k.createElement("div",{className:"settings__select-container"},k.createElement("div",{className:"settings__select-label"},"Microphone"),k.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Ir.exports.SendbirdLive.getAvailableAudioInputDevices().find(function(u){return u.deviceId===i});o&&e.selectAudioInput(o)}},Ir.exports.SendbirdLive.getAvailableAudioInputDevices().map(function(r){return k.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))))}function Ghe(n){var e=this,t=n.liveEvent,r=n.onStart,i=n.onEnd,o=U.exports.useState(t.state===Ir.exports.LiveEventState.ONGOING),u=o[0],d=o[1],h=U.exports.useState(0),f=h[0],v=h[1],_=U.exports.useState(!0),y=_[0],E=_[1],x=U.exports.useState(!0),C=x[0],M=x[1],N=dh(""),S=N[0],D=N[1],P=N[2],Q=U.exports.useContext(Ao).stringSet;U.exports.useEffect(function(){var Ee=setInterval(function(){v(t.duration)},1e3);return function(){return clearInterval(Ee)}},[]);var z=function(){return ha(e,void 0,void 0,function(){return pa(this,function(Ee){switch(Ee.label){case 0:return[4,t.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return Ee.sent(),d(!0),r(t),[2]}})})},W=function(Ee){Ee?t.startVideo():t.stopVideo(),M(Ee)},V=function(Ee){Ee?t.unmuteAudioInput():t.muteAudioInput(),E(Ee)};function he(Ee){return Ee.toString().padStart(2,"0")}function ce(Ee){var Ne=Math.floor(Ee/1e3),se=Math.floor(Ne/60),oe=Math.floor(se/60);return Ne=Ne%60,se=se%60,"".concat(he(oe),":").concat(he(se),":").concat(he(Ne))}return k.createElement("div",{className:"control-bar"},k.createElement("div",{className:"control-bar__left-buttons"},k.createElement("div",{className:"control-bar__settings"},k.createElement(Dhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return D()}})),k.createElement("div",{className:"control-bar__video"},C?k.createElement(Uhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return W(!1)}}):k.createElement(Lhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return W(!0)}})),k.createElement("div",{className:"control-bar__audio__wrapper"},k.createElement("div",{className:"control-bar__audio"},y?k.createElement(Phe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return V(!1)}}):k.createElement(Fhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return V(!0)}})),k.createElement("div",{className:"control-bar__volume"}))),k.createElement("div",{className:"control-bar__right-buttons"},u&&k.createElement("div",{className:"participant-icon--red"}),u&&k.createElement("div",{className:"control-bar__duration"},ce(f)),u?k.createElement("div",{className:"control-bar__end-live",onClick:function(){i(t)}},Q.LIVE_EVENT_END_DIALOG_OPTION_END):k.createElement("div",{className:"control-bar__start-live",onClick:z},Q.START_LIVE_EVENT_HEADER_BUTTON)),k.createElement(S,null,k.createElement(Bhe,{liveEvent:t,onClose:function(){P()}})))}var $he=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;Zi($he);function zhe(n){var e=n.onExit,t=e===void 0?function(){}:e,r=n.onClose,i=r===void 0?function(){}:r,o=U.exports.useContext(Ao).stringSet;return k.createElement("div",{className:"confirm-end-dialog"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),k.createElement("div",{className:"close",onClick:function(){return i()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"minor-button",onClick:function(){return i()}},"Cancel"),k.createElement("div",{className:"minor-button",onClick:function(){return t(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),k.createElement("div",{className:"major-button",onClick:function(){return t(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}function Bc(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function va(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Dg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(t){return typeof t}:Dg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(n)}function Mo(n){va(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Dg(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function jhe(n,e){va(2,arguments);var t=Mo(n).getTime(),r=Bc(e);return new Date(t+r)}var Vhe={};function l_(){return Vhe}function Whe(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Ug(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ug=function(t){return typeof t}:Ug=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(n)}function Khe(n){return va(1,arguments),n instanceof Date||Ug(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Qhe(n){if(va(1,arguments),!Khe(n)&&typeof n!="number")return!1;var e=Mo(n);return!isNaN(Number(e))}function Yhe(n,e){va(2,arguments);var t=Bc(e);return jhe(n,-t)}var Xhe=864e5;function Jhe(n){va(1,arguments);var e=Mo(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=t-r;return Math.floor(i/Xhe)+1}function Sv(n){va(1,arguments);var e=1,t=Mo(n),r=t.getUTCDay(),i=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function oH(n){va(1,arguments);var e=Mo(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Sv(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=Sv(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function Zhe(n){va(1,arguments);var e=oH(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=Sv(t);return r}var epe=6048e5;function npe(n){va(1,arguments);var e=Mo(n),t=Sv(e).getTime()-Zhe(e).getTime();return Math.round(t/epe)+1}function Nv(n,e){var t,r,i,o,u,d,h,f;va(1,arguments);var v=l_(),_=Bc((t=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(u=e.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Mo(n),E=y.getUTCDay(),x=(E<_?7:0)+E-_;return y.setUTCDate(y.getUTCDate()-x),y.setUTCHours(0,0,0,0),y}function lH(n,e){var t,r,i,o,u,d,h,f;va(1,arguments);var v=Mo(n),_=v.getUTCFullYear(),y=l_(),E=Bc((t=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(u=e.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(_+1,0,E),x.setUTCHours(0,0,0,0);var C=Nv(x,e),M=new Date(0);M.setUTCFullYear(_,0,E),M.setUTCHours(0,0,0,0);var N=Nv(M,e);return v.getTime()>=C.getTime()?_+1:v.getTime()>=N.getTime()?_:_-1}function tpe(n,e){var t,r,i,o,u,d,h,f;va(1,arguments);var v=l_(),_=Bc((t=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(u=e.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),y=lH(n,e),E=new Date(0);E.setUTCFullYear(y,0,_),E.setUTCHours(0,0,0,0);var x=Nv(E,e);return x}var rpe=6048e5;function ipe(n,e){va(1,arguments);var t=Mo(n),r=Nv(t,e).getTime()-tpe(t,e).getTime();return Math.round(r/rpe)+1}function Vt(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var nu={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Vt(t==="yy"?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):Vt(r+1,2)},d:function(e,t){return Vt(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return Vt(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Vt(e.getUTCHours(),t.length)},m:function(e,t){return Vt(e.getUTCMinutes(),t.length)},s:function(e,t){return Vt(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Vt(o,t.length)}},$d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ape={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return nu.y(e,t)},Y:function(e,t,r,i){var o=lH(e,i),u=o>0?o:1-o;if(t==="YY"){var d=u%100;return Vt(d,2)}return t==="Yo"?r.ordinalNumber(u,{unit:"year"}):Vt(u,t.length)},R:function(e,t){var r=oH(e);return Vt(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return Vt(r,t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Vt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Vt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return nu.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Vt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var o=ipe(e,i);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Vt(o,t.length)},I:function(e,t,r){var i=npe(e);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):Vt(i,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):nu.d(e,t)},D:function(e,t,r){var i=Jhe(e);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Vt(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var o=e.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Vt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var o=e.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Vt(u,t.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return Vt(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i=e.getUTCHours(),o;switch(i===12?o=$d.noon:i===0?o=$d.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i=e.getUTCHours(),o;switch(i>=17?o=$d.evening:i>=12?o=$d.afternoon:i>=4?o=$d.morning:o=$d.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return nu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):nu.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Vt(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):Vt(i,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):nu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):nu.s(e,t)},S:function(e,t){return nu.S(e,t)},X:function(e,t,r,i){var o=i._originalDate||e,u=o.getTimezoneOffset();if(u===0)return"Z";switch(t){case"X":return WL(u);case"XXXX":case"XX":return pc(u);case"XXXXX":case"XXX":default:return pc(u,":")}},x:function(e,t,r,i){var o=i._originalDate||e,u=o.getTimezoneOffset();switch(t){case"x":return WL(u);case"xxxx":case"xx":return pc(u);case"xxxxx":case"xxx":default:return pc(u,":")}},O:function(e,t,r,i){var o=i._originalDate||e,u=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VL(u,":");case"OOOO":default:return"GMT"+pc(u,":")}},z:function(e,t,r,i){var o=i._originalDate||e,u=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VL(u,":");case"zzzz":default:return"GMT"+pc(u,":")}},t:function(e,t,r,i){var o=i._originalDate||e,u=Math.floor(o.getTime()/1e3);return Vt(u,t.length)},T:function(e,t,r,i){var o=i._originalDate||e,u=o.getTime();return Vt(u,t.length)}};function VL(n,e){var t=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=e||"";return t+String(i)+u+Vt(o,2)}function WL(n,e){if(n%60===0){var t=n>0?"-":"+";return t+Vt(Math.abs(n)/60,2)}return pc(n,e)}function pc(n,e){var t=e||"",r=n>0?"-":"+",i=Math.abs(n),o=Vt(Math.floor(i/60),2),u=Vt(i%60,2);return r+o+t+u}var spe=ape,KL=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uH=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ope=function(e,t){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return KL(e,t);var u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",KL(i,t)).replace("{{time}}",uH(o,t))},lpe={p:uH,P:ope},upe=lpe,cpe=["D","DD"],dpe=["YY","YYYY"];function hpe(n){return cpe.indexOf(n)!==-1}function ppe(n){return dpe.indexOf(n)!==-1}function QL(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var fpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mpe=function(e,t,r){var i,o=fpe[e];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function yE(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var gpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bpe={date:yE({formats:gpe,defaultWidth:"full"}),time:yE({formats:vpe,defaultWidth:"full"}),dateTime:yE({formats:_pe,defaultWidth:"full"})},ype={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Epe=function(e,t,r,i){return ype[e]};function rf(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):o;i=n.formattingValues[u]||n.formattingValues[o]}else{var d=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[h]||n.values[d]}var f=n.argumentCallback?n.argumentCallback(e):e;return i[f]}}var wpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Spe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Npe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tpe=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ipe={ordinalNumber:Tpe,era:rf({values:wpe,defaultWidth:"wide"}),quarter:rf({values:xpe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:rf({values:kpe,defaultWidth:"wide"}),day:rf({values:Cpe,defaultWidth:"wide"}),dayPeriod:rf({values:Spe,defaultWidth:"wide",formattingValues:Npe,defaultFormattingWidth:"wide"})};function af(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;var u=o[0],d=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(d)?Ape(d,function(_){return _.test(u)}):Ope(d,function(_){return _.test(u)}),f;f=n.valueCallback?n.valueCallback(h):h,f=t.valueCallback?t.valueCallback(f):f;var v=e.slice(u.length);return{value:f,rest:v}}}function Ope(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function Ape(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function Rpe(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var i=r[0],o=e.match(n.parsePattern);if(!o)return null;var u=n.valueCallback?n.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}var Mpe=/^(\d+)(th|st|nd|rd)?/i,Dpe=/\d+/i,Upe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lpe={any:[/^b/i,/^(a|c)/i]},Ppe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fpe={any:[/1/i,/2/i,/3/i,/4/i]},Hpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$pe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jpe={ordinalNumber:Rpe({matchPattern:Mpe,parsePattern:Dpe,valueCallback:function(e){return parseInt(e,10)}}),era:af({matchPatterns:Upe,defaultMatchWidth:"wide",parsePatterns:Lpe,defaultParseWidth:"any"}),quarter:af({matchPatterns:Ppe,defaultMatchWidth:"wide",parsePatterns:Fpe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:af({matchPatterns:Hpe,defaultMatchWidth:"wide",parsePatterns:qpe,defaultParseWidth:"any"}),day:af({matchPatterns:Bpe,defaultMatchWidth:"wide",parsePatterns:Gpe,defaultParseWidth:"any"}),dayPeriod:af({matchPatterns:$pe,defaultMatchWidth:"any",parsePatterns:zpe,defaultParseWidth:"any"})},Vpe={code:"en-US",formatDistance:mpe,formatLong:bpe,formatRelative:Epe,localize:Ipe,match:jpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Wpe=Vpe,Kpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ype=/^'([^]*?)'?$/,Xpe=/''/g,Jpe=/[a-zA-Z]/;function YL(n,e,t){var r,i,o,u,d,h,f,v,_,y,E,x,C,M,N,S,D,P;va(2,arguments);var Q=String(e),z=l_(),W=(r=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:z.locale)!==null&&r!==void 0?r:Wpe,V=Bc((o=(u=(d=(h=t==null?void 0:t.firstWeekContainsDate)!==null&&h!==void 0?h:t==null||(f=t.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&d!==void 0?d:z.firstWeekContainsDate)!==null&&u!==void 0?u:(_=z.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var he=Bc((E=(x=(C=(M=t==null?void 0:t.weekStartsOn)!==null&&M!==void 0?M:t==null||(N=t.locale)===null||N===void 0||(S=N.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&C!==void 0?C:z.weekStartsOn)!==null&&x!==void 0?x:(D=z.locale)===null||D===void 0||(P=D.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&E!==void 0?E:0);if(!(he>=0&&he<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!W.localize)throw new RangeError("locale must contain localize property");if(!W.formatLong)throw new RangeError("locale must contain formatLong property");var ce=Mo(n);if(!Qhe(ce))throw new RangeError("Invalid time value");var Ee=Whe(ce),Ne=Yhe(ce,Ee),se={firstWeekContainsDate:V,weekStartsOn:he,locale:W,_originalDate:ce},oe=Q.match(Qpe).map(function(ue){var Re=ue[0];if(Re==="p"||Re==="P"){var He=upe[Re];return He(ue,W.formatLong)}return ue}).join("").match(Kpe).map(function(ue){if(ue==="''")return"'";var Re=ue[0];if(Re==="'")return Zpe(ue);var He=spe[Re];if(He)return!(t!=null&&t.useAdditionalWeekYearTokens)&&ppe(ue)&&QL(ue,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&hpe(ue)&&QL(ue,e,String(n)),He(Ne,ue,W.localize,se);if(Re.match(Jpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");return ue}).join("");return oe}function Zpe(n){var e=n.match(Ype);return e?e[1].replace(Xpe,"'"):n}var XL;function ux(){return ux=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ux.apply(this,arguments)}var JL=function(e){return U.exports.createElement("svg",ux({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),XL||(XL=U.exports.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},ZL;function cx(){return cx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cx.apply(this,arguments)}var efe=function(e){return U.exports.createElement("svg",cx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},e),ZL||(ZL=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},eP;function dx(){return dx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dx.apply(this,arguments)}var nfe=function(e){return U.exports.createElement("svg",dx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},e),eP||(eP=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},nP;function hx(){return hx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hx.apply(this,arguments)}var cH=function(e){return U.exports.createElement("svg",hx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),nP||(nP=U.exports.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},tP;function px(){return px=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},px.apply(this,arguments)}var dH=function(e){return U.exports.createElement("svg",px({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),tP||(tP=U.exports.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},rP;function fx(){return fx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fx.apply(this,arguments)}var tfe=function(e){return U.exports.createElement("svg",fx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),rP||(rP=U.exports.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},rfe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;Zi(rfe);function ife(n){var e=n.liveEvent,t=n.onHostsClick,r=t===void 0?function(){}:t,i=n.onParticipantsClick,o=i===void 0?function(){}:i,u=n.onClose,d=u===void 0?function(){}:u,h=e.openChannel,f=U.exports.useState(""),v=f[0],_=f[1],y=U.exports.useState(h.isFrozen),E=y[0],x=y[1],C=U.exports.useState(e.userIdsForHost.length),M=C[0],N=C[1],S=U.exports.useState("".concat(h.participantCount)),D=S[0],P=S[1];return U.exports.useEffect(function(){_(h.name||"Untitled")},[h.name]),U.exports.useEffect(function(){N(h.operators.length)},[e.userIdsForHost.length]),U.exports.useEffect(function(){h.participantCount>1e3?P("".concat(Math.floor(h.participantCount/1e3),"k")):P("".concat(h.participantCount))},[h.participantCount]),U.exports.useEffect(function(){x(e.openChannel.isFrozen)},[h.isFrozen]),k.createElement("div",{className:"event-detail-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},"Live event information"),k.createElement("div",{className:"close",onClick:function(){return d()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"event-summary"},k.createElement("div",{className:"profile"},e.host?k.createElement("img",{src:e.host.profileURL}):k.createElement(Gh,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),k.createElement("div",{className:"title"},v)),k.createElement("div",{className:"event-menu button",onClick:function(){return r()}},k.createElement(cH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Hosts"),k.createElement("div",{className:"count"},M),k.createElement(JL,{width:24,height:24,viewBox:"-10 -10 80 80"})),k.createElement("div",{className:"event-menu button",onClick:function(){return o()}},k.createElement(dH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Participants"),k.createElement("div",{className:"count"},D),k.createElement(JL,{width:24,height:24,viewBox:"-10 -10 80 80"})),k.createElement("div",{className:"event-menu"},k.createElement(tfe,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Freeze channel"),k.createElement("div",{className:"toggle"},E?k.createElement(efe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):k.createElement(nfe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),k.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Live event ID"),k.createElement("div",{className:"value"},e.liveEventId)),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Created on"),k.createElement("div",{className:"value"},YL(e.createdAt,"PPp"))),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Created by"),k.createElement("div",{className:"value"},e.createdBy)),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Started on"),k.createElement("div",{className:"value"},e.startedAt?YL(e.startedAt,"PPp"):"")),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Started by"),k.createElement("div",{className:"value"},e.startedBy?e.startedBy:"")))}var afe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;Zi(afe);function sfe(n){var e=n.nickname,t=e===void 0?"":e,r=n.profileUrl,i=r===void 0?"":r,o=i?k.createElement("img",{src:i,className:"profile-image"}):k.createElement(Gh,{fill:"#fff",className:"profile-image"});return k.createElement("div",{className:"user-view"},o,k.createElement("div",{className:"nickname"},t))}function iP(n){var e=n.title,t=n.count,r=n.query,i=n.onClose,o=i===void 0?function(){}:i,u=U.exports.useRef(null),d=U.exports.useState([]),h=d[0],f=d[1],v=U.exports.useState(!0),_=v[0],y=v[1];U.exports.useEffect(function(){r().then(function(x){var C=x.result,M=x.hasNext;f(Ma([],C,!0)),y(M)})},[]);var E=function(){if(u.current){var x=u.current,C=x.scrollTop,M=x.scrollHeight,N=x.clientHeight;C+N===M&&_&&r().then(function(S){var D=S.result,P=S.hasNext;f(Ma(Ma([],h,!0),D,!0)),y(P)})}};return k.createElement("div",{className:"user-list-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},e," ",k.createElement("span",{className:"count"},t)),k.createElement("div",{className:"close",onClick:function(){return o()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"list",ref:u,onScroll:E},h.map(function(x){return k.createElement(sfe,{key:x.userId,userId:x.userId,nickname:x.nickname,profileUrl:x.profileUrl})})))}var ofe=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;Zi(ofe);var Gs;(function(n){n[n.CHAT=0]="CHAT",n[n.EVENT_INFO=1]="EVENT_INFO",n[n.HOST_LIST=2]="HOST_LIST",n[n.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(Gs||(Gs={}));function hH(n){var e=this,t=n.liveEvent,r=n.initialViewStack,i=r===void 0?[Gs.CHAT]:r,o=t.openChannel,u=Fh(),d=M3.getSdk(u),h=U.exports.useState(Ma([],i,!0)),f=h[0],v=h[1],_=U.exports.useState(i[i.length-1]),y=_[0],E=_[1],x=function(M){v(Ma(Ma([],f,!0),[M],!1))},C=function(){f.length>1&&v(f.slice(0,-1))};return U.exports.useEffect(function(){t.openChannel,v(Ma([],i,!0))},[t]),U.exports.useEffect(function(){E(f[f.length-1])},[f]),k.createElement("div",{className:"sendbirdlive-right__wrapper"},y===Gs.CHAT?k.createElement(khe,{channelUrl:t.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var M;((M=t.host)===null||M===void 0?void 0:M.userId)===(d==null?void 0:d.currentUser.userId)?x(Gs.EVENT_INFO):x(Gs.PARTICIPANT_LIST)}}):null,y===Gs.EVENT_INFO?k.createElement(ife,{liveEvent:t,onHostsClick:function(){return x(Gs.HOST_LIST)},onParticipantsClick:function(){return x(Gs.PARTICIPANT_LIST)},onClose:function(){return C()}}):null,y===Gs.HOST_LIST?k.createElement(iP,{title:"Hosts",count:o.operators.length,query:function(){return ha(e,void 0,void 0,function(){return pa(this,function(M){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return C()}}):null,y===Gs.PARTICIPANT_LIST?k.createElement(iP,{title:"Participants",count:o.participantCount,query:function(){return ha(e,void 0,void 0,function(){var M,N,S,D;return pa(this,function(P){switch(P.label){case 0:return M=o.createParticipantListQuery({}),M?[4,M.next()]:[3,2];case 1:return S=P.sent(),[3,3];case 2:S=[],P.label=3;case 3:return N=S,D=M==null?void 0:M.hasNext,[2,{result:N,hasNext:D}]}})})},onClose:function(){return C()}}):null)}function lfe(n){var e=this,t=n.liveEvent;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount,n.eventEndViewDisplayTime,n.allowExitWithoutEnding,n.showEventSummaryView;var r=n.onClose,i=U.exports.useContext(Ao).stringSet,o=U.exports.useRef(null),u=U.exports.useState(t.state),d=u[0],h=u[1],f=U.exports.useState(t.participantCount||0),v=f[0],_=f[1],y=dh("","dark-background"),E=y[0],x=y[1],C=y[2],M=function(S){switch(S){case"created":return i.EVENT_STATUS_CREATED;case"ready":return i.EVENT_STATUS_READY;case"ongoing":return i.EVENT_STATUS_ONGOING;case"ended":return i.EVENT_STATUS_ENDED}};U.exports.useEffect(function(){var S=function(){return ha(e,void 0,void 0,function(){return pa(this,function(D){switch(D.label){case 0:return t.state!==Ir.exports.LiveEventState.CREATED?[3,2]:[4,t.setEventReady()];case 1:D.sent(),D.label=2;case 2:return t.state===Ir.exports.LiveEventState.ONGOING&&!t.isHostStreaming?[4,t.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:D.sent(),t.setVideoViewForLiveEvent(o.current,t.host.hostId),D.label=4;case 4:return o.current.autoplay=!0,o.current.muted=!0,[2]}})})};S()},[t]),U.exports.useEffect(function(){var S=[t.on("participantEntered",function(){_(t.participantCount)}),t.on("participantExited",function(){_(t.participantCount)})];return function(){S.map(function(D){return D()})}},[t]);function N(S){var D=Math.floor(S/1e3),P=Math.floor(D/60);return P=P%60,"".concat(P<0?0:P)}return k.createElement("div",{className:"host-view"},k.createElement("div",{className:"host-view__main"},k.createElement("div",{className:"video-wrapper"},k.createElement("video",{className:"host-view__video",ref:o})),k.createElement("div",{className:"host-view__info"},k.createElement("div",{className:"host-view__profile"},t.host&&t.host.profileURL?k.createElement("img",{src:t.host.profileURL,alt:"Host profile image",className:"host-profile-image"}):k.createElement(Gh,{viewBox:"-4 -4 20 20",width:56,height:56})),k.createElement("div",{className:"host-view__info__wrapper"},k.createElement("div",{className:"host-view__title__wrapper"},k.createElement("div",{className:"event-state--".concat(d)},M(d)),k.createElement("div",{className:"host-view__title"},t.title)),k.createElement("div",{className:"host-view__detail"},v!=null?v:0," watching now \u2219 Started ",N(t.duration)," mins ago"),k.createElement("div",{className:"host-view__host-name"},t.host?t.host.nickname:"No Host"))),k.createElement(Ghe,{liveEvent:t,onStart:function(S){S.setVideoViewForLiveEvent(o.current,S.host.hostId),h(S.state)},onEnd:function(){x()}}),k.createElement(E,null,k.createElement(zhe,{onExit:function(S){return ha(e,void 0,void 0,function(){return pa(this,function(D){switch(D.label){case 0:return S?[4,t.endEvent()]:[3,2];case 1:return D.sent(),[3,4];case 2:return[4,t.exitAsHost()];case 3:D.sent(),D.label=4;case 4:return C(),r(t),[2]}})})},onClose:function(){C()}}))),k.createElement(hH,{liveEvent:t}))}var ufe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;Zi(ufe);var cfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;Zi(cfe);var dfe=function(n){var e=n.message;return k.createElement("div",{className:"toast-container"},e&&k.createElement("div",{className:"toast"},e))},hfe=function(){var n=U.exports.useState(void 0),e=n[0],t=n[1],r=U.exports.useState(void 0),i=r[0],o=r[1],u=function(f,v){v===void 0&&(v=1e6),t(f);var _=setTimeout(function(){d()},v);o(_)},d=function(){clearTimeout(i),o(void 0),t(void 0)},h=function(){return k.createElement(dfe,{message:e})};return[h,u,d]},pfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;Zi(pfe);function ffe(n){var e=n.onClose;return k.createElement("div",{className:"ended-modal"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},"Host has ended this live event."),k.createElement("div",{className:"close",onClick:e},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"major-button",onClick:e},"End live")))}function mfe(n){var e=this,t=n.liveEvent,r=n.onClose;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount;var i=n.eventEndViewDisplayTime,o=U.exports.useRef(null),u=hfe(),d=u[0],h=u[1],f=U.exports.useState(t.host),v=f[0],_=f[1],y=U.exports.useState(t.state),E=y[0],x=y[1],C=U.exports.useState(t.participantCount||0),M=C[0],N=C[1],S=dh("",""),D=S[0],P=S[1],Q=S[2],z=U.exports.useState(),W=z[0],V=z[1],he=U.exports.useContext(Ao).stringSet,ce=function(ue){switch(ue){case"created":return he.EVENT_STATUS_CREATED;case"ready":return he.EVENT_STATUS_READY;case"ongoing":return he.EVENT_STATUS_ONGOING;case"ended":return he.EVENT_STATUS_ENDED}},Ee=function(){return ha(e,void 0,void 0,function(){return pa(this,function(ue){return o.current.autoplay=!0,v&&t.setVideoViewForLiveEvent(o.current,v.hostId),[2]})})},Ne=function(){P();var ue=setTimeout(function(){se()},i!=null?i:3e3);V(ue)},se=function(){return ha(e,void 0,void 0,function(){return pa(this,function(ue){return clearTimeout(W),V(void 0),Q(),r(t),[2]})})};U.exports.useEffect(function(){Ee()},[v,E]),U.exports.useEffect(function(){t.state===Ir.exports.LiveEventState.CREATED&&h("Live event will begin soon.");var ue=[t.on("liveEventStarted",function(){x(t.state)}),t.on("liveEventEnded",function(){x(t.state),Ne()}),t.on("hostEntered",function(){h("Host Entered"),_(t.host)}),t.on("hostConnected",function(Re,He){h("Host Connected"),_(Re.host)}),t.on("hostDisconnected",function(){h("Host Disconnected"),_(t.host)}),t.on("hostExited",function(){h("Host Exited"),_(t.host)}),t.on("hostMutedAudio",function(){h("Host is muted"),_(t.host)}),t.on("hostUnmutedAudio",function(){h("Host is unmuted"),_(t.host)}),t.on("participantEntered",function(){N(t.participantCount)}),t.on("participantExited",function(){N(t.participantCount)})];return function(){ue.map(function(Re){return Re()})}},[t]);function oe(ue){var Re=Math.floor(ue/1e3),He=Math.floor(Re/60);return He=He%60,"".concat(He<0?0:He)}return k.createElement("div",{className:"participant-view"},k.createElement("div",{className:"participant-view__main"},k.createElement(d,null),k.createElement("div",{className:"video-wrapper"},k.createElement("video",{className:"participant-view__video",ref:o})),k.createElement("div",{className:"participant-view__info"},k.createElement("div",{className:"participant-view__profile"},t.host&&t.host.profileURL?k.createElement("img",{src:t.host.profileURL,alt:"Host profile image",className:"host-profile-image"}):k.createElement(Gh,{viewBox:"-4 -4 20 20",width:56,height:56})),k.createElement("div",{className:"participant-view__info__wrapper"},k.createElement("div",{className:"participant-view__title__wrapper"},k.createElement("div",{className:"event-state--".concat(E)},ce(E)),k.createElement("div",{className:"participant-view__title"},t.title)),k.createElement("div",{className:"participant-view__detail"},M!=null?M:0," watching now \u2219 Started streaming ",oe(t.duration)," mins ago"),k.createElement("div",{className:"participant-view__host-name"},v?v.nickname||" ":"No Host")))),k.createElement(hH,{liveEvent:t}),k.createElement(D,null,k.createElement(ffe,{onClose:se})))}var gfe=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;Zi(gfe);function vfe(n){var e=this,t=n.liveEventId,r=n.onClose,i=U.exports.useContext(Ao).stringSet,o=function(){return ha(e,void 0,void 0,function(){var d;return pa(this,function(h){switch(h.label){case 0:return[4,Ir.exports.SendbirdLive.getLiveEvent(t)];case 1:return d=h.sent(),[4,d.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return h.sent(),r(d,!0),[2]}})})},u=function(){return ha(e,void 0,void 0,function(){var d;return pa(this,function(h){switch(h.label){case 0:return[4,Ir.exports.SendbirdLive.getLiveEvent(t)];case 1:return d=h.sent(),[4,d.enter()];case 2:return h.sent(),r(d,!1),[2]}})})};return k.createElement("div",{className:"enter-view"},k.createElement("div",{className:"close",onClick:function(){return r()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),k.createElement("div",{className:"enter-view__item",onClick:o},k.createElement("div",{className:"enter-view__item__icon"},k.createElement(cH,{viewBox:"0 0 64 64",width:28,height:28})),k.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),k.createElement("div",{className:"enter-view__item",onClick:u},k.createElement("div",{className:"enter-view__item__icon"},k.createElement(dH,{viewBox:"0 0 64 64",width:28,height:28})),k.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var _fe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;Zi(_fe);function bfe(n){var e=n.liveEvent,t=n.onClose,r=U.exports.useContext(Ao).stringSet,i=U.exports.useMemo(function(){return e&&e.state===Ir.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:r.UNKNOWN_ERROR_ALERT_DESCRIPTION},[e]);return k.createElement("div",{className:"enter-error-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},i),k.createElement("div",{className:"close",onClick:function(){return t()}},k.createElement(kl,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"major-button",onClick:function(){return t()}},"OK")))}function yfe(n){var e=this,t=n.userId,r=n.appId,i=n.nickname,o=n.accessToken,u=n.customApiHost,d=n.customWebSocketHost,h=n.theme,f=n.colorSet,v=n.stringSet,_=n.customize,y=U.exports.useState(!1),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],N=C[1],S=U.exports.useState(),D=S[0],P=S[1],Q=dh(""),z=Q[0],W=Q[1],V=Q[2],he=dh(""),ce=he[0],Ee=he[1],Ne=he[2],se=dh(""),oe=se[0],ue=se[1],Re=se[2],He=bu(bu({},_==null?void 0:_.liveEventList),{onClickCreate:function(){W()},onClickElem:function(Ce){return ha(e,void 0,void 0,function(){var Le,te;return pa(this,function(X){switch(X.label){case 0:return X.trys.push([0,8,,9]),[4,Ir.exports.SendbirdLive.getLiveEvent(Ce.liveEventId)];case 1:return Le=X.sent(),Le.state===Ir.exports.LiveEventState.ENDED?(ue(),[2]):Le.isHost&&!Le.host?(console.log(Le),Le.state!==Ir.exports.LiveEventState.CREATED?[3,3]:[4,Le.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]):[3,5];case 2:return X.sent(),x(!0),P(Le),[3,4];case 3:N(Ce.liveEventId),Ee(),X.label=4;case 4:return[3,7];case 5:return[4,Le.enter()];case 6:X.sent(),P(Le),X.label=7;case 7:return[3,9];case 8:return te=X.sent(),console.error(te),ue(),[3,9];case 9:return[2]}})})}}),ve=function(Ce){var Le=Ce.onClose;return D?E?k.createElement(lfe,{liveEvent:D,onClose:Le}):k.createElement(mfe,{liveEvent:D,onClose:Le}):k.createElement("div",{className:"sendbirdlive-app__no-event"},k.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),k.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),k.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:W},"Create"))};return k.createElement(koe,{userId:t,appId:r,nickname:i,accessToken:o,customApiHost:u,customWebSocketHost:d,theme:h,colorSet:f,stringSet:v},k.createElement("div",{className:"sendbirdlive-app__wrapper"},k.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!E&&k.createElement(Ioe,bu({},He))),k.createElement(oe,null,k.createElement(bfe,{liveEvent:D,onClose:Re})),k.createElement(ce,null,k.createElement(vfe,{liveEventId:M,onClose:function(Ce,Le){P(Ce),Ce&&Le&&x(!0),Ne()}})),k.createElement(z,null,k.createElement(Rhe,{onClose:function(Ce){P(Ce),Ce!=null&&Ce.isHost&&x(!0),V()}})),k.createElement(ve,{onClose:function(){x(!1),P(void 0)}})))}function Efe(){const[n,e]=U.exports.useState(""),[t,r]=U.exports.useState(""),[i,o]=U.exports.useState(""),[u,d]=U.exports.useState(!1),h=new URLSearchParams(Mee().search);return U.exports.useEffect(()=>{let f={};const v=h.get("q");if(v)try{f=JSON.parse(atob(v)),f.app_id&&e(f.app_id),f.user_id&&r(f.user_id),f.access_token&&o(f.access_token),d(!0)}catch{console.error("incorrect auth query")}},[]),Ya("div",{className:"App",children:u?Ya(yfe,{appId:n,userId:t,nickname:t,accessToken:i||null}):P5("div",{className:"login-panel",children:[Ya("img",{src:"./logo.png",className:"logo"}),P5("div",{className:"login-form",children:[Ya("div",{className:"section",children:"Application ID"}),Ya("input",{type:"text",className:"input",placeholder:"Application ID",value:n,onChange:f=>e(f.target.value)}),Ya("div",{className:"section",children:"User ID"}),Ya("input",{type:"text",className:"input",placeholder:"User ID",value:t,onChange:f=>r(f.target.value)}),Ya("div",{className:"section",children:"Access token (optional)"}),Ya("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:i,onChange:f=>o(f.target.value)}),Ya("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>d(!0)})]}),Ya("img",{src:"./logo_horizontal.png",className:"logo-horizontal"})]})})}EE.createRoot(document.getElementById("root")).render(Ya(k.StrictMode,{children:Ya(Efe,{})}));
