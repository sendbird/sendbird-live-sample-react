(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function OJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=Symbol.for("react.element"),AJ=Symbol.for("react.portal"),RJ=Symbol.for("react.fragment"),MJ=Symbol.for("react.strict_mode"),DJ=Symbol.for("react.profiler"),UJ=Symbol.for("react.provider"),LJ=Symbol.for("react.context"),PJ=Symbol.for("react.forward_ref"),FJ=Symbol.for("react.suspense"),HJ=Symbol.for("react.memo"),qJ=Symbol.for("react.lazy"),LM=Symbol.iterator;function BJ(e){return e===null||typeof e!="object"?null:(e=LM&&e[LM]||e["@@iterator"],typeof e=="function"?e:null)}var mP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gP=Object.assign,vP={};function Fh(e,n,t){this.props=e,this.context=n,this.refs=vP,this.updater=t||mP}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _P(){}_P.prototype=Fh.prototype;function kx(e,n,t){this.props=e,this.context=n,this.refs=vP,this.updater=t||mP}var Cx=kx.prototype=new _P;Cx.constructor=kx;gP(Cx,Fh.prototype);Cx.isPureReactComponent=!0;var PM=Array.isArray,bP=Object.prototype.hasOwnProperty,Sx={current:null},yP={key:!0,ref:!0,__self:!0,__source:!0};function EP(e,n,t){var r,i={},o=null,u=null;if(n!=null)for(r in n.ref!==void 0&&(u=n.ref),n.key!==void 0&&(o=""+n.key),n)bP.call(n,r)&&!yP.hasOwnProperty(r)&&(i[r]=n[r]);var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];i.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:f0,type:e,key:o,ref:u,props:i,_owner:Sx.current}}function GJ(e,n){return{$$typeof:f0,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Nx(e){return typeof e=="object"&&e!==null&&e.$$typeof===f0}function $J(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var FM=/\/+/g;function N1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?$J(""+e.key):n.toString(36)}function yg(e,n,t,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case f0:case AJ:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+N1(u,0):r,PM(i)?(t="",e!=null&&(t=e.replace(FM,"$&/")+"/"),yg(i,n,t,"",function(f){return f})):i!=null&&(Nx(i)&&(i=GJ(i,t+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(FM,"$&/")+"/")+e)),n.push(i)),1;if(u=0,r=r===""?".":r+":",PM(e))for(var c=0;c<e.length;c++){o=e[c];var h=r+N1(o,c);u+=yg(o,n,t,h,i)}else if(h=BJ(e),typeof h=="function")for(e=h.call(e),c=0;!(o=e.next()).done;)o=o.value,h=r+N1(o,c++),u+=yg(o,n,t,h,i);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return u}function zm(e,n,t){if(e==null)return e;var r=[],i=0;return yg(e,r,"","",function(o){return n.call(t,o,i++)}),r}function zJ(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ba={current:null},Eg={transition:null},jJ={ReactCurrentDispatcher:ba,ReactCurrentBatchConfig:Eg,ReactCurrentOwner:Sx};yt.Children={map:zm,forEach:function(e,n,t){zm(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return zm(e,function(){n++}),n},toArray:function(e){return zm(e,function(n){return n})||[]},only:function(e){if(!Nx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Fh;yt.Fragment=RJ;yt.Profiler=DJ;yt.PureComponent=kx;yt.StrictMode=MJ;yt.Suspense=FJ;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jJ;yt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gP({},e.props),i=e.key,o=e.ref,u=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,u=Sx.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in n)bP.call(n,h)&&!yP.hasOwnProperty(h)&&(r[h]=n[h]===void 0&&c!==void 0?c[h]:n[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:f0,type:e.type,key:i,ref:o,props:r,_owner:u}};yt.createContext=function(e){return e={$$typeof:LJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UJ,_context:e},e.Consumer=e};yt.createElement=EP;yt.createFactory=function(e){var n=EP.bind(null,e);return n.type=e,n};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:PJ,render:e}};yt.isValidElement=Nx;yt.lazy=function(e){return{$$typeof:qJ,_payload:{_status:-1,_result:e},_init:zJ}};yt.memo=function(e,n){return{$$typeof:HJ,type:e,compare:n===void 0?null:n}};yt.startTransition=function(e){var n=Eg.transition;Eg.transition={};try{e()}finally{Eg.transition=n}};yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yt.useCallback=function(e,n){return ba.current.useCallback(e,n)};yt.useContext=function(e){return ba.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return ba.current.useDeferredValue(e)};yt.useEffect=function(e,n){return ba.current.useEffect(e,n)};yt.useId=function(){return ba.current.useId()};yt.useImperativeHandle=function(e,n,t){return ba.current.useImperativeHandle(e,n,t)};yt.useInsertionEffect=function(e,n){return ba.current.useInsertionEffect(e,n)};yt.useLayoutEffect=function(e,n){return ba.current.useLayoutEffect(e,n)};yt.useMemo=function(e,n){return ba.current.useMemo(e,n)};yt.useReducer=function(e,n,t){return ba.current.useReducer(e,n,t)};yt.useRef=function(e){return ba.current.useRef(e)};yt.useState=function(e){return ba.current.useState(e)};yt.useSyncExternalStore=function(e,n,t){return ba.current.useSyncExternalStore(e,n,t)};yt.useTransition=function(){return ba.current.useTransition()};yt.version="18.2.0";(function(e){e.exports=yt})(U);const k=OJ(U.exports);var OE={},Hh={exports:{}},ds={},wP={exports:{}},xP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ge,be){var Le=ge.length;ge.push(be);e:for(;0<Le;){var ee=Le-1>>>1,X=ge[ee];if(0<i(X,be))ge[ee]=be,ge[Le]=X,Le=ee;else break e}}function t(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var be=ge[0],Le=ge.pop();if(Le!==be){ge[0]=Le;e:for(var ee=0,X=ge.length,me=X>>>1;ee<me;){var Qe=2*(ee+1)-1,qe=ge[Qe],Te=Qe+1,ke=ge[Te];if(0>i(qe,Le))Te<X&&0>i(ke,qe)?(ge[ee]=ke,ge[Te]=Le,ee=Te):(ge[ee]=qe,ge[Qe]=Le,ee=Qe);else if(Te<X&&0>i(ke,Le))ge[ee]=ke,ge[Te]=Le,ee=Te;else break e}}return be}function i(ge,be){var Le=ge.sortIndex-be.sortIndex;return Le!==0?Le:ge.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],f=[],v=1,_=null,y=3,E=!1,x=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ge){for(var be=t(f);be!==null;){if(be.callback===null)r(f);else if(be.startTime<=ge)r(f),be.sortIndex=be.expirationTime,n(h,be);else break;be=t(f)}}function H(ge){if(C=!1,D(ge),!x)if(t(h)!==null)x=!0,De(K);else{var be=t(f);be!==null&&He(H,be.startTime-ge)}}function K(ge,be){x=!1,C&&(C=!1,S(j),j=-1),E=!0;var Le=y;try{for(D(be),_=t(h);_!==null&&(!(_.expirationTime>be)||ge&&!we());){var ee=_.callback;if(typeof ee=="function"){_.callback=null,y=_.priorityLevel;var X=ee(_.expirationTime<=be);be=e.unstable_now(),typeof X=="function"?_.callback=X:_===t(h)&&r(h),D(be)}else r(h);_=t(h)}if(_!==null)var me=!0;else{var Qe=t(f);Qe!==null&&He(H,Qe.startTime-be),me=!1}return me}finally{_=null,y=Le,E=!1}}var z=!1,W=null,j=-1,ce=5,ue=-1;function we(){return!(e.unstable_now()-ue<ce)}function Se(){if(W!==null){var ge=e.unstable_now();ue=ge;var be=!0;try{be=W(!0,ge)}finally{be?ie():(z=!1,W=null)}}else z=!1}var ie;if(typeof N=="function")ie=function(){N(Se)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,de=oe.port2;oe.port1.onmessage=Se,ie=function(){de.postMessage(null)}}else ie=function(){M(Se,0)};function De(ge){W=ge,z||(z=!0,ie())}function He(ge,be){j=M(function(){ge(e.unstable_now())},be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){x||E||(x=!0,De(K))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return t(h)},e.unstable_next=function(ge){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var Le=y;y=be;try{return ge()}finally{y=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,be){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var Le=y;y=ge;try{return be()}finally{y=Le}},e.unstable_scheduleCallback=function(ge,be,Le){var ee=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?ee+Le:ee):Le=ee,ge){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Le+X,ge={id:v++,callback:be,priorityLevel:ge,startTime:Le,expirationTime:X,sortIndex:-1},Le>ee?(ge.sortIndex=Le,n(f,ge),t(h)===null&&ge===t(f)&&(C?(S(j),j=-1):C=!0,He(H,Le-ee))):(ge.sortIndex=X,n(h,ge),x||E||(x=!0,De(K))),ge},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(ge){var be=y;return function(){var Le=y;y=be;try{return ge.apply(this,arguments)}finally{y=Le}}}})(xP);(function(e){e.exports=xP})(wP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP=U.exports,os=wP.exports;function Ge(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CP=new Set,Hf={};function Qc(e,n){yh(e,n),yh(e+"Capture",n)}function yh(e,n){for(Hf[e]=n,e=0;e<n.length;e++)CP.add(n[e])}var wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AE=Object.prototype.hasOwnProperty,VJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HM={},qM={};function WJ(e){return AE.call(qM,e)?!0:AE.call(HM,e)?!1:VJ.test(e)?qM[e]=!0:(HM[e]=!0,!1)}function KJ(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QJ(e,n,t,r){if(n===null||typeof n>"u"||KJ(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ya(e,n,t,r,i,o,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=u}var Li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Li[e]=new ya(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Li[n]=new ya(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Li[e]=new ya(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Li[e]=new ya(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Li[e]=new ya(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Li[e]=new ya(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Li[e]=new ya(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Li[e]=new ya(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Li[e]=new ya(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tx=/[\-:]([a-z])/g;function Ix(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Tx,Ix);Li[n]=new ya(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Tx,Ix);Li[n]=new ya(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Tx,Ix);Li[n]=new ya(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Li[e]=new ya(e,1,!1,e.toLowerCase(),null,!1,!1)});Li.xlinkHref=new ya("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Li[e]=new ya(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ox(e,n,t,r){var i=Li.hasOwnProperty(n)?Li[n]:null;(i!==null?i.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(QJ(n,t,i,r)&&(t=null),r||i===null?WJ(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Sl=kP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jm=Symbol.for("react.element"),Yd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),SP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),ME=Symbol.for("react.suspense"),DE=Symbol.for("react.suspense_list"),Mx=Symbol.for("react.memo"),lu=Symbol.for("react.lazy"),TP=Symbol.for("react.offscreen"),BM=Symbol.iterator;function Kp(e){return e===null||typeof e!="object"?null:(e=BM&&e[BM]||e["@@iterator"],typeof e=="function"?e:null)}var Nr=Object.assign,T1;function hf(e){if(T1===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);T1=n&&n[1]||""}return`
`+T1+e}var I1=!1;function O1(e,n){if(!e||I1)return"";I1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var r=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(f){r=f}e.call(n.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,c=o.length-1;1<=u&&0<=c&&i[u]!==o[c];)c--;for(;1<=u&&0<=c;u--,c--)if(i[u]!==o[c]){if(u!==1||c!==1)do if(u--,c--,0>c||i[u]!==o[c]){var h=`
`+i[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=c);break}}}finally{I1=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?hf(e):""}function YJ(e){switch(e.tag){case 5:return hf(e.type);case 16:return hf("Lazy");case 13:return hf("Suspense");case 19:return hf("SuspenseList");case 0:case 2:case 15:return e=O1(e.type,!1),e;case 11:return e=O1(e.type.render,!1),e;case 1:return e=O1(e.type,!0),e;default:return""}}function UE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xd:return"Fragment";case Yd:return"Portal";case RE:return"Profiler";case Ax:return"StrictMode";case ME:return"Suspense";case DE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NP:return(e.displayName||"Context")+".Consumer";case SP:return(e._context.displayName||"Context")+".Provider";case Rx:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mx:return n=e.displayName||null,n!==null?n:UE(e.type)||"Memo";case lu:n=e._payload,e=e._init;try{return UE(e(n))}catch{}}return null}function XJ(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UE(n);case 8:return n===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Iu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IP(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function JJ(e){var n=IP(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vm(e){e._valueTracker||(e._valueTracker=JJ(e))}function OP(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=IP(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function $g(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function LE(e,n){var t=n.checked;return Nr({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:e._wrapperState.initialChecked})}function GM(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=Iu(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function AP(e,n){n=n.checked,n!=null&&Ox(e,"checked",n,!1)}function PE(e,n){AP(e,n);var t=Iu(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?FE(e,n.type,t):n.hasOwnProperty("defaultValue")&&FE(e,n.type,Iu(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function $M(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function FE(e,n,t){(n!=="number"||$g(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var pf=Array.isArray;function dh(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Iu(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function HE(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Nr({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zM(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(Ge(92));if(pf(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:Iu(t)}}function RP(e,n){var t=Iu(n.value),r=Iu(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function jM(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function MP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qE(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?MP(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wm,DP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Wm=Wm||document.createElement("div"),Wm.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function qf(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZJ=["Webkit","ms","Moz","O"];Object.keys(yf).forEach(function(e){ZJ.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),yf[n]=yf[e]})});function UP(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||yf.hasOwnProperty(e)&&yf[e]?(""+n).trim():n+"px"}function LP(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=UP(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var eZ=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BE(e,n){if(n){if(eZ[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Ge(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Ge(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Ge(62))}}function GE(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $E=null;function Dx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zE=null,hh=null,ph=null;function VM(e){if(e=v0(e)){if(typeof zE!="function")throw Error(Ge(280));var n=e.stateNode;n&&(n=Hv(n),zE(e.stateNode,e.type,n))}}function PP(e){hh?ph?ph.push(e):ph=[e]:hh=e}function FP(){if(hh){var e=hh,n=ph;if(ph=hh=null,VM(e),n)for(e=0;e<n.length;e++)VM(n[e])}}function HP(e,n){return e(n)}function qP(){}var A1=!1;function BP(e,n,t){if(A1)return e(n,t);A1=!0;try{return HP(e,n,t)}finally{A1=!1,(hh!==null||ph!==null)&&(qP(),FP())}}function Bf(e,n){var t=e.stateNode;if(t===null)return null;var r=Hv(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(Ge(231,n,typeof t));return t}var jE=!1;if(wl)try{var Qp={};Object.defineProperty(Qp,"passive",{get:function(){jE=!0}}),window.addEventListener("test",Qp,Qp),window.removeEventListener("test",Qp,Qp)}catch{jE=!1}function nZ(e,n,t,r,i,o,u,c,h){var f=Array.prototype.slice.call(arguments,3);try{n.apply(t,f)}catch(v){this.onError(v)}}var Ef=!1,zg=null,jg=!1,VE=null,tZ={onError:function(e){Ef=!0,zg=e}};function rZ(e,n,t,r,i,o,u,c,h){Ef=!1,zg=null,nZ.apply(tZ,arguments)}function iZ(e,n,t,r,i,o,u,c,h){if(rZ.apply(this,arguments),Ef){if(Ef){var f=zg;Ef=!1,zg=null}else throw Error(Ge(198));jg||(jg=!0,VE=f)}}function Yc(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function GP(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function WM(e){if(Yc(e)!==e)throw Error(Ge(188))}function aZ(e){var n=e.alternate;if(!n){if(n=Yc(e),n===null)throw Error(Ge(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return WM(i),e;if(o===r)return WM(i),n;o=o.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=o;else{for(var u=!1,c=i.child;c;){if(c===t){u=!0,t=i,r=o;break}if(c===r){u=!0,r=i,t=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===t){u=!0,t=o,r=i;break}if(c===r){u=!0,r=o,t=i;break}c=c.sibling}if(!u)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?e:n}function $P(e){return e=aZ(e),e!==null?zP(e):null}function zP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=zP(e);if(n!==null)return n;e=e.sibling}return null}var jP=os.unstable_scheduleCallback,KM=os.unstable_cancelCallback,sZ=os.unstable_shouldYield,oZ=os.unstable_requestPaint,qr=os.unstable_now,lZ=os.unstable_getCurrentPriorityLevel,Ux=os.unstable_ImmediatePriority,VP=os.unstable_UserBlockingPriority,Vg=os.unstable_NormalPriority,uZ=os.unstable_LowPriority,WP=os.unstable_IdlePriority,Uv=null,Ro=null;function cZ(e){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(Uv,e,void 0,(e.current.flags&128)===128)}catch{}}var no=Math.clz32?Math.clz32:pZ,dZ=Math.log,hZ=Math.LN2;function pZ(e){return e>>>=0,e===0?32:31-(dZ(e)/hZ|0)|0}var Km=64,Qm=4194304;function ff(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wg(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=t&268435455;if(u!==0){var c=u&~i;c!==0?r=ff(c):(o&=u,o!==0&&(r=ff(o)))}else u=t&~i,u!==0?r=ff(u):o!==0&&(r=ff(o));if(r===0)return 0;if(n!==0&&n!==r&&(n&i)===0&&(i=r&-r,o=n&-n,i>=o||i===16&&(o&4194240)!==0))return n;if((r&4)!==0&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-no(n),i=1<<t,r|=e[t],n&=~i;return r}function fZ(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mZ(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-no(o),c=1<<u,h=i[u];h===-1?((c&t)===0||(c&r)!==0)&&(i[u]=fZ(c,n)):h<=n&&(e.expiredLanes|=c),o&=~c}}function WE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KP(){var e=Km;return Km<<=1,(Km&4194240)===0&&(Km=64),e}function R1(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function m0(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-no(n),e[n]=t}function gZ(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var i=31-no(t),o=1<<i;n[i]=0,r[i]=-1,e[i]=-1,t&=~o}}function Lx(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-no(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}var Qt=0;function QP(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var YP,Px,XP,JP,ZP,KE=!1,Ym=[],_u=null,bu=null,yu=null,Gf=new Map,$f=new Map,cu=[],vZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QM(e,n){switch(e){case"focusin":case"focusout":_u=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":Gf.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$f.delete(n.pointerId)}}function Yp(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},n!==null&&(n=v0(n),n!==null&&Px(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function _Z(e,n,t,r,i){switch(n){case"focusin":return _u=Yp(_u,e,n,t,r,i),!0;case"dragenter":return bu=Yp(bu,e,n,t,r,i),!0;case"mouseover":return yu=Yp(yu,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return Gf.set(o,Yp(Gf.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$f.set(o,Yp($f.get(o)||null,e,n,t,r,i)),!0}return!1}function e8(e){var n=Sc(e.target);if(n!==null){var t=Yc(n);if(t!==null){if(n=t.tag,n===13){if(n=GP(t),n!==null){e.blockedOn=n,ZP(e.priority,function(){XP(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wg(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=QE(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);$E=r,t.target.dispatchEvent(r),$E=null}else return n=v0(t),n!==null&&Px(n),e.blockedOn=t,!1;n.shift()}return!0}function YM(e,n,t){wg(e)&&t.delete(n)}function bZ(){KE=!1,_u!==null&&wg(_u)&&(_u=null),bu!==null&&wg(bu)&&(bu=null),yu!==null&&wg(yu)&&(yu=null),Gf.forEach(YM),$f.forEach(YM)}function Xp(e,n){e.blockedOn===n&&(e.blockedOn=null,KE||(KE=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,bZ)))}function zf(e){function n(i){return Xp(i,e)}if(0<Ym.length){Xp(Ym[0],e);for(var t=1;t<Ym.length;t++){var r=Ym[t];r.blockedOn===e&&(r.blockedOn=null)}}for(_u!==null&&Xp(_u,e),bu!==null&&Xp(bu,e),yu!==null&&Xp(yu,e),Gf.forEach(n),$f.forEach(n),t=0;t<cu.length;t++)r=cu[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<cu.length&&(t=cu[0],t.blockedOn===null);)e8(t),t.blockedOn===null&&cu.shift()}var fh=Sl.ReactCurrentBatchConfig,Kg=!0;function yZ(e,n,t,r){var i=Qt,o=fh.transition;fh.transition=null;try{Qt=1,Fx(e,n,t,r)}finally{Qt=i,fh.transition=o}}function EZ(e,n,t,r){var i=Qt,o=fh.transition;fh.transition=null;try{Qt=4,Fx(e,n,t,r)}finally{Qt=i,fh.transition=o}}function Fx(e,n,t,r){if(Kg){var i=QE(e,n,t,r);if(i===null)G1(e,n,r,Qg,t),QM(e,r);else if(_Z(i,e,n,t,r))r.stopPropagation();else if(QM(e,r),n&4&&-1<vZ.indexOf(e)){for(;i!==null;){var o=v0(i);if(o!==null&&YP(o),o=QE(e,n,t,r),o===null&&G1(e,n,r,Qg,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else G1(e,n,r,null,t)}}var Qg=null;function QE(e,n,t,r){if(Qg=null,e=Dx(r),e=Sc(e),e!==null)if(n=Yc(e),n===null)e=null;else if(t=n.tag,t===13){if(e=GP(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Qg=e,null}function n8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lZ()){case Ux:return 1;case VP:return 4;case Vg:case uZ:return 16;case WP:return 536870912;default:return 16}default:return 16}}var hu=null,Hx=null,xg=null;function t8(){if(xg)return xg;var e,n=Hx,t=n.length,r,i="value"in hu?hu.value:hu.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var u=t-e;for(r=1;r<=u&&n[t-r]===i[o-r];r++);return xg=i.slice(e,1<r?1-r:void 0)}function kg(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xm(){return!0}function XM(){return!1}function hs(e){function n(t,r,i,o,u){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(t=e[c],this[c]=t?t(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xm:XM,this.isPropagationStopped=XM,this}return Nr(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Xm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Xm)},persist:function(){},isPersistent:Xm}),n}var qh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=hs(qh),g0=Nr({},qh,{view:0,detail:0}),wZ=hs(g0),M1,D1,Jp,Lv=Nr({},g0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jp&&(Jp&&e.type==="mousemove"?(M1=e.screenX-Jp.screenX,D1=e.screenY-Jp.screenY):D1=M1=0,Jp=e),M1)},movementY:function(e){return"movementY"in e?e.movementY:D1}}),JM=hs(Lv),xZ=Nr({},Lv,{dataTransfer:0}),kZ=hs(xZ),CZ=Nr({},g0,{relatedTarget:0}),U1=hs(CZ),SZ=Nr({},qh,{animationName:0,elapsedTime:0,pseudoElement:0}),NZ=hs(SZ),TZ=Nr({},qh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IZ=hs(TZ),OZ=Nr({},qh,{data:0}),ZM=hs(OZ),AZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DZ(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=MZ[e])?!!n[e]:!1}function Bx(){return DZ}var UZ=Nr({},g0,{key:function(e){if(e.key){var n=AZ[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bx,charCode:function(e){return e.type==="keypress"?kg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LZ=hs(UZ),PZ=Nr({},Lv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e5=hs(PZ),FZ=Nr({},g0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bx}),HZ=hs(FZ),qZ=Nr({},qh,{propertyName:0,elapsedTime:0,pseudoElement:0}),BZ=hs(qZ),GZ=Nr({},Lv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$Z=hs(GZ),zZ=[9,13,27,32],Gx=wl&&"CompositionEvent"in window,wf=null;wl&&"documentMode"in document&&(wf=document.documentMode);var jZ=wl&&"TextEvent"in window&&!wf,r8=wl&&(!Gx||wf&&8<wf&&11>=wf),n5=String.fromCharCode(32),t5=!1;function i8(e,n){switch(e){case"keyup":return zZ.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jd=!1;function VZ(e,n){switch(e){case"compositionend":return a8(n);case"keypress":return n.which!==32?null:(t5=!0,n5);case"textInput":return e=n.data,e===n5&&t5?null:e;default:return null}}function WZ(e,n){if(Jd)return e==="compositionend"||!Gx&&i8(e,n)?(e=t8(),xg=Hx=hu=null,Jd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return r8&&n.locale!=="ko"?null:n.data;default:return null}}var KZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r5(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KZ[e.type]:n==="textarea"}function s8(e,n,t,r){PP(r),n=Yg(n,"onChange"),0<n.length&&(t=new qx("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var xf=null,jf=null;function QZ(e){v8(e,0)}function Pv(e){var n=nh(e);if(OP(n))return e}function YZ(e,n){if(e==="change")return n}var o8=!1;if(wl){var L1;if(wl){var P1="oninput"in document;if(!P1){var i5=document.createElement("div");i5.setAttribute("oninput","return;"),P1=typeof i5.oninput=="function"}L1=P1}else L1=!1;o8=L1&&(!document.documentMode||9<document.documentMode)}function a5(){xf&&(xf.detachEvent("onpropertychange",l8),jf=xf=null)}function l8(e){if(e.propertyName==="value"&&Pv(jf)){var n=[];s8(n,jf,e,Dx(e)),BP(QZ,n)}}function XZ(e,n,t){e==="focusin"?(a5(),xf=n,jf=t,xf.attachEvent("onpropertychange",l8)):e==="focusout"&&a5()}function JZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pv(jf)}function ZZ(e,n){if(e==="click")return Pv(n)}function eee(e,n){if(e==="input"||e==="change")return Pv(n)}function nee(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var io=typeof Object.is=="function"?Object.is:nee;function Vf(e,n){if(io(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!AE.call(n,i)||!io(e[i],n[i]))return!1}return!0}function s5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o5(e,n){var t=s5(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=s5(t)}}function u8(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?u8(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function c8(){for(var e=window,n=$g();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=$g(e.document)}return n}function $x(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function tee(e){var n=c8(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&u8(t.ownerDocument.documentElement,t)){if(r!==null&&$x(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=o5(t,o);var u=o5(t,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(u.node,u.offset)):(n.setEnd(u.node,u.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ree=wl&&"documentMode"in document&&11>=document.documentMode,Zd=null,YE=null,kf=null,XE=!1;function l5(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;XE||Zd==null||Zd!==$g(r)||(r=Zd,"selectionStart"in r&&$x(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kf&&Vf(kf,r)||(kf=r,r=Yg(YE,"onSelect"),0<r.length&&(n=new qx("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Zd)))}function Jm(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var eh={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},F1={},d8={};wl&&(d8=document.createElement("div").style,"AnimationEvent"in window||(delete eh.animationend.animation,delete eh.animationiteration.animation,delete eh.animationstart.animation),"TransitionEvent"in window||delete eh.transitionend.transition);function Fv(e){if(F1[e])return F1[e];if(!eh[e])return e;var n=eh[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in d8)return F1[e]=n[t];return e}var h8=Fv("animationend"),p8=Fv("animationiteration"),f8=Fv("animationstart"),m8=Fv("transitionend"),g8=new Map,u5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pu(e,n){g8.set(e,n),Qc(n,[e])}for(var H1=0;H1<u5.length;H1++){var q1=u5[H1],iee=q1.toLowerCase(),aee=q1[0].toUpperCase()+q1.slice(1);Pu(iee,"on"+aee)}Pu(h8,"onAnimationEnd");Pu(p8,"onAnimationIteration");Pu(f8,"onAnimationStart");Pu("dblclick","onDoubleClick");Pu("focusin","onFocus");Pu("focusout","onBlur");Pu(m8,"onTransitionEnd");yh("onMouseEnter",["mouseout","mouseover"]);yh("onMouseLeave",["mouseout","mouseover"]);yh("onPointerEnter",["pointerout","pointerover"]);yh("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),see=new Set("cancel close invalid load scroll toggle".split(" ").concat(mf));function c5(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,iZ(r,n,void 0,e),e.currentTarget=null}function v8(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var u=r.length-1;0<=u;u--){var c=r[u],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&i.isPropagationStopped())break e;c5(i,c,f),o=h}else for(u=0;u<r.length;u++){if(c=r[u],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&i.isPropagationStopped())break e;c5(i,c,f),o=h}}}if(jg)throw e=VE,jg=!1,VE=null,e}function vr(e,n){var t=n[t2];t===void 0&&(t=n[t2]=new Set);var r=e+"__bubble";t.has(r)||(_8(n,e,2,!1),t.add(r))}function B1(e,n,t){var r=0;n&&(r|=4),_8(t,e,r,n)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[Zm]){e[Zm]=!0,CP.forEach(function(t){t!=="selectionchange"&&(see.has(t)||B1(t,!1,e),B1(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zm]||(n[Zm]=!0,B1("selectionchange",!1,n))}}function _8(e,n,t,r){switch(n8(n)){case 1:var i=yZ;break;case 4:i=EZ;break;default:i=Fx}t=i.bind(null,n,t,e),i=void 0,!jE||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function G1(e,n,t,r,i){var o=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;c!==null;){if(u=Sc(c),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}c=c.parentNode}}r=r.return}BP(function(){var f=o,v=Dx(t),_=[];e:{var y=g8.get(e);if(y!==void 0){var E=qx,x=e;switch(e){case"keypress":if(kg(t)===0)break e;case"keydown":case"keyup":E=LZ;break;case"focusin":x="focus",E=U1;break;case"focusout":x="blur",E=U1;break;case"beforeblur":case"afterblur":E=U1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=JM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=kZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=HZ;break;case h8:case p8:case f8:E=NZ;break;case m8:E=BZ;break;case"scroll":E=wZ;break;case"wheel":E=$Z;break;case"copy":case"cut":case"paste":E=IZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=e5}var C=(n&4)!==0,M=!C&&e==="scroll",S=C?y!==null?y+"Capture":null:y;C=[];for(var N=f,D;N!==null;){D=N;var H=D.stateNode;if(D.tag===5&&H!==null&&(D=H,S!==null&&(H=Bf(N,S),H!=null&&C.push(Kf(N,H,D)))),M)break;N=N.return}0<C.length&&(y=new E(y,x,null,t,v),_.push({event:y,listeners:C}))}}if((n&7)===0){e:{if(y=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",y&&t!==$E&&(x=t.relatedTarget||t.fromElement)&&(Sc(x)||x[xl]))break e;if((E||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,E?(x=t.relatedTarget||t.toElement,E=f,x=x?Sc(x):null,x!==null&&(M=Yc(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=f),E!==x)){if(C=JM,H="onMouseLeave",S="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(C=e5,H="onPointerLeave",S="onPointerEnter",N="pointer"),M=E==null?y:nh(E),D=x==null?y:nh(x),y=new C(H,N+"leave",E,t,v),y.target=M,y.relatedTarget=D,H=null,Sc(v)===f&&(C=new C(S,N+"enter",x,t,v),C.target=D,C.relatedTarget=M,H=C),M=H,E&&x)n:{for(C=E,S=x,N=0,D=C;D;D=$d(D))N++;for(D=0,H=S;H;H=$d(H))D++;for(;0<N-D;)C=$d(C),N--;for(;0<D-N;)S=$d(S),D--;for(;N--;){if(C===S||S!==null&&C===S.alternate)break n;C=$d(C),S=$d(S)}C=null}else C=null;E!==null&&d5(_,y,E,C,!1),x!==null&&M!==null&&d5(_,M,x,C,!0)}}e:{if(y=f?nh(f):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var K=YZ;else if(r5(y))if(o8)K=eee;else{K=JZ;var z=XZ}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(K=ZZ);if(K&&(K=K(e,f))){s8(_,K,t,v);break e}z&&z(e,y,f),e==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&FE(y,"number",y.value)}switch(z=f?nh(f):window,e){case"focusin":(r5(z)||z.contentEditable==="true")&&(Zd=z,YE=f,kf=null);break;case"focusout":kf=YE=Zd=null;break;case"mousedown":XE=!0;break;case"contextmenu":case"mouseup":case"dragend":XE=!1,l5(_,t,v);break;case"selectionchange":if(ree)break;case"keydown":case"keyup":l5(_,t,v)}var W;if(Gx)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Jd?i8(e,t)&&(j="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(j="onCompositionStart");j&&(r8&&t.locale!=="ko"&&(Jd||j!=="onCompositionStart"?j==="onCompositionEnd"&&Jd&&(W=t8()):(hu=v,Hx="value"in hu?hu.value:hu.textContent,Jd=!0)),z=Yg(f,j),0<z.length&&(j=new ZM(j,e,null,t,v),_.push({event:j,listeners:z}),W?j.data=W:(W=a8(t),W!==null&&(j.data=W)))),(W=jZ?VZ(e,t):WZ(e,t))&&(f=Yg(f,"onBeforeInput"),0<f.length&&(v=new ZM("onBeforeInput","beforeinput",null,t,v),_.push({event:v,listeners:f}),v.data=W))}v8(_,n)})}function Kf(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Yg(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bf(e,t),o!=null&&r.unshift(Kf(e,o,i)),o=Bf(e,n),o!=null&&r.push(Kf(e,o,i))),e=e.return}return r}function $d(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d5(e,n,t,r,i){for(var o=n._reactName,u=[];t!==null&&t!==r;){var c=t,h=c.alternate,f=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&f!==null&&(c=f,i?(h=Bf(t,o),h!=null&&u.unshift(Kf(t,h,c))):i||(h=Bf(t,o),h!=null&&u.push(Kf(t,h,c)))),t=t.return}u.length!==0&&e.push({event:n,listeners:u})}var oee=/\r\n?/g,lee=/\u0000|\uFFFD/g;function h5(e){return(typeof e=="string"?e:""+e).replace(oee,`
`).replace(lee,"")}function eg(e,n,t){if(n=h5(n),h5(e)!==n&&t)throw Error(Ge(425))}function Xg(){}var JE=null,ZE=null;function e2(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var n2=typeof setTimeout=="function"?setTimeout:void 0,uee=typeof clearTimeout=="function"?clearTimeout:void 0,p5=typeof Promise=="function"?Promise:void 0,cee=typeof queueMicrotask=="function"?queueMicrotask:typeof p5<"u"?function(e){return p5.resolve(null).then(e).catch(dee)}:n2;function dee(e){setTimeout(function(){throw e})}function $1(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){e.removeChild(i),zf(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);zf(n)}function Eu(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function f5(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),Io="__reactFiber$"+Bh,Qf="__reactProps$"+Bh,xl="__reactContainer$"+Bh,t2="__reactEvents$"+Bh,hee="__reactListeners$"+Bh,pee="__reactHandles$"+Bh;function Sc(e){var n=e[Io];if(n)return n;for(var t=e.parentNode;t;){if(n=t[xl]||t[Io]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=f5(e);e!==null;){if(t=e[Io])return t;e=f5(e)}return n}e=t,t=e.parentNode}return null}function v0(e){return e=e[Io]||e[xl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function Hv(e){return e[Qf]||null}var r2=[],th=-1;function Fu(e){return{current:e}}function _r(e){0>th||(e.current=r2[th],r2[th]=null,th--)}function hr(e,n){th++,r2[th]=e.current,e.current=n}var Ou={},ra=Fu(Ou),Ha=Fu(!1),qc=Ou;function Eh(e,n){var t=e.type.contextTypes;if(!t)return Ou;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function qa(e){return e=e.childContextTypes,e!=null}function Jg(){_r(Ha),_r(ra)}function m5(e,n,t){if(ra.current!==Ou)throw Error(Ge(168));hr(ra,n),hr(Ha,t)}function b8(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(Ge(108,XJ(e)||"Unknown",i));return Nr({},t,r)}function Zg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ou,qc=ra.current,hr(ra,e),hr(Ha,Ha.current),!0}function g5(e,n,t){var r=e.stateNode;if(!r)throw Error(Ge(169));t?(e=b8(e,n,qc),r.__reactInternalMemoizedMergedChildContext=e,_r(Ha),_r(ra),hr(ra,e)):_r(Ha),hr(Ha,t)}var sl=null,qv=!1,z1=!1;function y8(e){sl===null?sl=[e]:sl.push(e)}function fee(e){qv=!0,y8(e)}function Hu(){if(!z1&&sl!==null){z1=!0;var e=0,n=Qt;try{var t=sl;for(Qt=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}sl=null,qv=!1}catch(i){throw sl!==null&&(sl=sl.slice(e+1)),jP(Ux,Hu),i}finally{Qt=n,z1=!1}}return null}var rh=[],ih=0,ev=null,nv=0,ys=[],Es=0,Bc=null,ml=1,gl="";function vc(e,n){rh[ih++]=nv,rh[ih++]=ev,ev=e,nv=n}function E8(e,n,t){ys[Es++]=ml,ys[Es++]=gl,ys[Es++]=Bc,Bc=e;var r=ml;e=gl;var i=32-no(r)-1;r&=~(1<<i),t+=1;var o=32-no(n)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,ml=1<<32-no(n)+i|t<<i|r,gl=o+e}else ml=1<<o|t<<i|r,gl=e}function zx(e){e.return!==null&&(vc(e,1),E8(e,1,0))}function jx(e){for(;e===ev;)ev=rh[--ih],rh[ih]=null,nv=rh[--ih],rh[ih]=null;for(;e===Bc;)Bc=ys[--Es],ys[Es]=null,gl=ys[--Es],ys[Es]=null,ml=ys[--Es],ys[Es]=null}var ss=null,as=null,wr=!1,Js=null;function w8(e,n){var t=ks(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function v5(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ss=e,as=Eu(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ss=e,as=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=Bc!==null?{id:ml,overflow:gl}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=ks(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,ss=e,as=null,!0):!1;default:return!1}}function i2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a2(e){if(wr){var n=as;if(n){var t=n;if(!v5(e,n)){if(i2(e))throw Error(Ge(418));n=Eu(t.nextSibling);var r=ss;n&&v5(e,n)?w8(r,t):(e.flags=e.flags&-4097|2,wr=!1,ss=e)}}else{if(i2(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,wr=!1,ss=e}}}function _5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ss=e}function ng(e){if(e!==ss)return!1;if(!wr)return _5(e),wr=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!e2(e.type,e.memoizedProps)),n&&(n=as)){if(i2(e))throw x8(),Error(Ge(418));for(;n;)w8(e,n),n=Eu(n.nextSibling)}if(_5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){as=Eu(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}as=null}}else as=ss?Eu(e.stateNode.nextSibling):null;return!0}function x8(){for(var e=as;e;)e=Eu(e.nextSibling)}function wh(){as=ss=null,wr=!1}function Vx(e){Js===null?Js=[e]:Js.push(e)}var mee=Sl.ReactCurrentBatchConfig;function Qs(e,n){if(e&&e.defaultProps){n=Nr({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}var tv=Fu(null),rv=null,ah=null,Wx=null;function Kx(){Wx=ah=rv=null}function Qx(e){var n=tv.current;_r(tv),e._currentValue=n}function s2(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function mh(e,n){rv=e,Wx=ah=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Pa=!0),e.firstContext=null)}function As(e){var n=e._currentValue;if(Wx!==e)if(e={context:e,memoizedValue:n,next:null},ah===null){if(rv===null)throw Error(Ge(308));ah=e,rv.dependencies={lanes:0,firstContext:e}}else ah=ah.next=e;return n}var Nc=null;function Yx(e){Nc===null?Nc=[e]:Nc.push(e)}function k8(e,n,t,r){var i=n.interleaved;return i===null?(t.next=t,Yx(n)):(t.next=i.next,i.next=t),n.interleaved=t,kl(e,r)}function kl(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var uu=!1;function Xx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C8(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wu(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Mt&2)!==0){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,kl(e,t)}return i=r.interleaved,i===null?(n.next=n,Yx(r)):(n.next=i.next,i.next=n),r.interleaved=n,kl(e,t)}function Cg(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Lx(e,t)}}function b5(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var u={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=u:o=o.next=u,t=t.next}while(t!==null);o===null?i=o=n:o=o.next=n}else i=o=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function iv(e,n,t,r){var i=e.updateQueue;uu=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,f=h.next;h.next=null,u===null?o=f:u.next=f,u=h;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==u&&(c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=h))}if(o!==null){var _=i.baseState;u=0,v=f=h=null,c=o;do{var y=c.lane,E=c.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,C=c;switch(y=n,E=t,C.tag){case 1:if(x=C.payload,typeof x=="function"){_=x.call(E,_,y);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,y=typeof x=="function"?x.call(E,_,y):x,y==null)break e;_=Nr({},_,y);break e;case 2:uu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else E={eventTime:E,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(f=v=E,h=_):v=v.next=E,u|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(v===null&&(h=_),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=v,n=i.shared.interleaved,n!==null){i=n;do u|=i.lane,i=i.next;while(i!==n)}else o===null&&(i.shared.lanes=0);$c|=u,e.lanes=u,e.memoizedState=_}}function y5(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var S8=new kP.Component().refs;function o2(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:Nr({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Bv={isMounted:function(e){return(e=e._reactInternals)?Yc(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ga(),i=ku(e),o=bl(r,i);o.payload=n,t!=null&&(o.callback=t),n=wu(e,o,i),n!==null&&(to(n,e,i,r),Cg(n,e,i))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ga(),i=ku(e),o=bl(r,i);o.tag=1,o.payload=n,t!=null&&(o.callback=t),n=wu(e,o,i),n!==null&&(to(n,e,i,r),Cg(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ga(),r=ku(e),i=bl(t,r);i.tag=2,n!=null&&(i.callback=n),n=wu(e,i,r),n!==null&&(to(n,e,r,t),Cg(n,e,r))}};function E5(e,n,t,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):n.prototype&&n.prototype.isPureReactComponent?!Vf(t,r)||!Vf(i,o):!0}function N8(e,n,t){var r=!1,i=Ou,o=n.contextType;return typeof o=="object"&&o!==null?o=As(o):(i=qa(n)?qc:ra.current,r=n.contextTypes,o=(r=r!=null)?Eh(e,i):Ou),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bv,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function w5(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Bv.enqueueReplaceState(n,n.state,null)}function l2(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=S8,Xx(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=As(o):(o=qa(n)?qc:ra.current,i.context=Eh(e,o)),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(o2(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Bv.enqueueReplaceState(i,i.state,null),iv(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zp(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,e));var i=r,o=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(u){var c=i.refs;c===S8&&(c=i.refs={}),u===null?delete c[o]:c[o]=u},n._stringRef=o,n)}if(typeof e!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,e))}return e}function tg(e,n){throw e=Object.prototype.toString.call(n),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function x5(e){var n=e._init;return n(e._payload)}function T8(e){function n(S,N){if(e){var D=S.deletions;D===null?(S.deletions=[N],S.flags|=16):D.push(N)}}function t(S,N){if(!e)return null;for(;N!==null;)n(S,N),N=N.sibling;return null}function r(S,N){for(S=new Map;N!==null;)N.key!==null?S.set(N.key,N):S.set(N.index,N),N=N.sibling;return S}function i(S,N){return S=Cu(S,N),S.index=0,S.sibling=null,S}function o(S,N,D){return S.index=D,e?(D=S.alternate,D!==null?(D=D.index,D<N?(S.flags|=2,N):D):(S.flags|=2,N)):(S.flags|=1048576,N)}function u(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,N,D,H){return N===null||N.tag!==6?(N=X1(D,S.mode,H),N.return=S,N):(N=i(N,D),N.return=S,N)}function h(S,N,D,H){var K=D.type;return K===Xd?v(S,N,D.props.children,H,D.key):N!==null&&(N.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===lu&&x5(K)===N.type)?(H=i(N,D.props),H.ref=Zp(S,N,D),H.return=S,H):(H=Ag(D.type,D.key,D.props,null,S.mode,H),H.ref=Zp(S,N,D),H.return=S,H)}function f(S,N,D,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=J1(D,S.mode,H),N.return=S,N):(N=i(N,D.children||[]),N.return=S,N)}function v(S,N,D,H,K){return N===null||N.tag!==7?(N=Mc(D,S.mode,H,K),N.return=S,N):(N=i(N,D),N.return=S,N)}function _(S,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return N=X1(""+N,S.mode,D),N.return=S,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jm:return D=Ag(N.type,N.key,N.props,null,S.mode,D),D.ref=Zp(S,null,N),D.return=S,D;case Yd:return N=J1(N,S.mode,D),N.return=S,N;case lu:var H=N._init;return _(S,H(N._payload),D)}if(pf(N)||Kp(N))return N=Mc(N,S.mode,D,null),N.return=S,N;tg(S,N)}return null}function y(S,N,D,H){var K=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return K!==null?null:c(S,N,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case jm:return D.key===K?h(S,N,D,H):null;case Yd:return D.key===K?f(S,N,D,H):null;case lu:return K=D._init,y(S,N,K(D._payload),H)}if(pf(D)||Kp(D))return K!==null?null:v(S,N,D,H,null);tg(S,D)}return null}function E(S,N,D,H,K){if(typeof H=="string"&&H!==""||typeof H=="number")return S=S.get(D)||null,c(N,S,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case jm:return S=S.get(H.key===null?D:H.key)||null,h(N,S,H,K);case Yd:return S=S.get(H.key===null?D:H.key)||null,f(N,S,H,K);case lu:var z=H._init;return E(S,N,D,z(H._payload),K)}if(pf(H)||Kp(H))return S=S.get(D)||null,v(N,S,H,K,null);tg(N,H)}return null}function x(S,N,D,H){for(var K=null,z=null,W=N,j=N=0,ce=null;W!==null&&j<D.length;j++){W.index>j?(ce=W,W=null):ce=W.sibling;var ue=y(S,W,D[j],H);if(ue===null){W===null&&(W=ce);break}e&&W&&ue.alternate===null&&n(S,W),N=o(ue,N,j),z===null?K=ue:z.sibling=ue,z=ue,W=ce}if(j===D.length)return t(S,W),wr&&vc(S,j),K;if(W===null){for(;j<D.length;j++)W=_(S,D[j],H),W!==null&&(N=o(W,N,j),z===null?K=W:z.sibling=W,z=W);return wr&&vc(S,j),K}for(W=r(S,W);j<D.length;j++)ce=E(W,S,j,D[j],H),ce!==null&&(e&&ce.alternate!==null&&W.delete(ce.key===null?j:ce.key),N=o(ce,N,j),z===null?K=ce:z.sibling=ce,z=ce);return e&&W.forEach(function(we){return n(S,we)}),wr&&vc(S,j),K}function C(S,N,D,H){var K=Kp(D);if(typeof K!="function")throw Error(Ge(150));if(D=K.call(D),D==null)throw Error(Ge(151));for(var z=K=null,W=N,j=N=0,ce=null,ue=D.next();W!==null&&!ue.done;j++,ue=D.next()){W.index>j?(ce=W,W=null):ce=W.sibling;var we=y(S,W,ue.value,H);if(we===null){W===null&&(W=ce);break}e&&W&&we.alternate===null&&n(S,W),N=o(we,N,j),z===null?K=we:z.sibling=we,z=we,W=ce}if(ue.done)return t(S,W),wr&&vc(S,j),K;if(W===null){for(;!ue.done;j++,ue=D.next())ue=_(S,ue.value,H),ue!==null&&(N=o(ue,N,j),z===null?K=ue:z.sibling=ue,z=ue);return wr&&vc(S,j),K}for(W=r(S,W);!ue.done;j++,ue=D.next())ue=E(W,S,j,ue.value,H),ue!==null&&(e&&ue.alternate!==null&&W.delete(ue.key===null?j:ue.key),N=o(ue,N,j),z===null?K=ue:z.sibling=ue,z=ue);return e&&W.forEach(function(Se){return n(S,Se)}),wr&&vc(S,j),K}function M(S,N,D,H){if(typeof D=="object"&&D!==null&&D.type===Xd&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case jm:e:{for(var K=D.key,z=N;z!==null;){if(z.key===K){if(K=D.type,K===Xd){if(z.tag===7){t(S,z.sibling),N=i(z,D.props.children),N.return=S,S=N;break e}}else if(z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===lu&&x5(K)===z.type){t(S,z.sibling),N=i(z,D.props),N.ref=Zp(S,z,D),N.return=S,S=N;break e}t(S,z);break}else n(S,z);z=z.sibling}D.type===Xd?(N=Mc(D.props.children,S.mode,H,D.key),N.return=S,S=N):(H=Ag(D.type,D.key,D.props,null,S.mode,H),H.ref=Zp(S,N,D),H.return=S,S=H)}return u(S);case Yd:e:{for(z=D.key;N!==null;){if(N.key===z)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){t(S,N.sibling),N=i(N,D.children||[]),N.return=S,S=N;break e}else{t(S,N);break}else n(S,N);N=N.sibling}N=J1(D,S.mode,H),N.return=S,S=N}return u(S);case lu:return z=D._init,M(S,N,z(D._payload),H)}if(pf(D))return x(S,N,D,H);if(Kp(D))return C(S,N,D,H);tg(S,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,N!==null&&N.tag===6?(t(S,N.sibling),N=i(N,D),N.return=S,S=N):(t(S,N),N=X1(D,S.mode,H),N.return=S,S=N),u(S)):t(S,N)}return M}var xh=T8(!0),I8=T8(!1),_0={},Mo=Fu(_0),Yf=Fu(_0),Xf=Fu(_0);function Tc(e){if(e===_0)throw Error(Ge(174));return e}function Jx(e,n){switch(hr(Xf,n),hr(Yf,e),hr(Mo,_0),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:qE(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=qE(n,e)}_r(Mo),hr(Mo,n)}function kh(){_r(Mo),_r(Yf),_r(Xf)}function O8(e){Tc(Xf.current);var n=Tc(Mo.current),t=qE(n,e.type);n!==t&&(hr(Yf,e),hr(Mo,t))}function Zx(e){Yf.current===e&&(_r(Mo),_r(Yf))}var Cr=Fu(0);function av(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var j1=[];function e3(){for(var e=0;e<j1.length;e++)j1[e]._workInProgressVersionPrimary=null;j1.length=0}var Sg=Sl.ReactCurrentDispatcher,V1=Sl.ReactCurrentBatchConfig,Gc=0,Sr=null,Xr=null,li=null,sv=!1,Cf=!1,Jf=0,gee=0;function Vi(){throw Error(Ge(321))}function n3(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!io(e[t],n[t]))return!1;return!0}function t3(e,n,t,r,i,o){if(Gc=o,Sr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Sg.current=e===null||e.memoizedState===null?yee:Eee,e=t(r,i),Cf){o=0;do{if(Cf=!1,Jf=0,25<=o)throw Error(Ge(301));o+=1,li=Xr=null,n.updateQueue=null,Sg.current=wee,e=t(r,i)}while(Cf)}if(Sg.current=ov,n=Xr!==null&&Xr.next!==null,Gc=0,li=Xr=Sr=null,sv=!1,n)throw Error(Ge(300));return e}function r3(){var e=Jf!==0;return Jf=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?Sr.memoizedState=li=e:li=li.next=e,li}function Rs(){if(Xr===null){var e=Sr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var n=li===null?Sr.memoizedState:li.next;if(n!==null)li=n,Xr=e;else{if(e===null)throw Error(Ge(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},li===null?Sr.memoizedState=li=e:li=li.next=e}return li}function Zf(e,n){return typeof n=="function"?n(e):n}function W1(e){var n=Rs(),t=n.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=e;var r=Xr,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=u=null,h=null,f=o;do{var v=f.lane;if((Gc&v)===v)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var _={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=_,u=r):h=h.next=_,Sr.lanes|=v,$c|=v}f=f.next}while(f!==null&&f!==o);h===null?u=r:h.next=c,io(r,n.memoizedState)||(Pa=!0),n.memoizedState=r,n.baseState=u,n.baseQueue=h,t.lastRenderedState=r}if(e=t.interleaved,e!==null){i=e;do o=i.lane,Sr.lanes|=o,$c|=o,i=i.next;while(i!==e)}else i===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function K1(e){var n=Rs(),t=n.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);io(o,n.memoizedState)||(Pa=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function A8(){}function R8(e,n){var t=Sr,r=Rs(),i=n(),o=!io(r.memoizedState,i);if(o&&(r.memoizedState=i,Pa=!0),r=r.queue,i3(U8.bind(null,t,r,e),[e]),r.getSnapshot!==n||o||li!==null&&li.memoizedState.tag&1){if(t.flags|=2048,e0(9,D8.bind(null,t,r,i,n),void 0,null),hi===null)throw Error(Ge(349));(Gc&30)!==0||M8(t,n,i)}return i}function M8(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=Sr.updateQueue,n===null?(n={lastEffect:null,stores:null},Sr.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function D8(e,n,t,r){n.value=t,n.getSnapshot=r,L8(n)&&P8(e)}function U8(e,n,t){return t(function(){L8(n)&&P8(e)})}function L8(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!io(e,t)}catch{return!0}}function P8(e){var n=kl(e,1);n!==null&&to(n,e,1,-1)}function k5(e){var n=So();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},n.queue=e,e=e.dispatch=bee.bind(null,Sr,e),[n.memoizedState,e]}function e0(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Sr.updateQueue,n===null?(n={lastEffect:null,stores:null},Sr.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function F8(){return Rs().memoizedState}function Ng(e,n,t,r){var i=So();Sr.flags|=e,i.memoizedState=e0(1|n,t,void 0,r===void 0?null:r)}function Gv(e,n,t,r){var i=Rs();r=r===void 0?null:r;var o=void 0;if(Xr!==null){var u=Xr.memoizedState;if(o=u.destroy,r!==null&&n3(r,u.deps)){i.memoizedState=e0(n,t,o,r);return}}Sr.flags|=e,i.memoizedState=e0(1|n,t,o,r)}function C5(e,n){return Ng(8390656,8,e,n)}function i3(e,n){return Gv(2048,8,e,n)}function H8(e,n){return Gv(4,2,e,n)}function q8(e,n){return Gv(4,4,e,n)}function B8(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function G8(e,n,t){return t=t!=null?t.concat([e]):null,Gv(4,4,B8.bind(null,n,e),t)}function a3(){}function $8(e,n){var t=Rs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&n3(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function z8(e,n){var t=Rs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&n3(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function j8(e,n,t){return(Gc&21)===0?(e.baseState&&(e.baseState=!1,Pa=!0),e.memoizedState=t):(io(t,n)||(t=KP(),Sr.lanes|=t,$c|=t,e.baseState=!0),n)}function vee(e,n){var t=Qt;Qt=t!==0&&4>t?t:4,e(!0);var r=V1.transition;V1.transition={};try{e(!1),n()}finally{Qt=t,V1.transition=r}}function V8(){return Rs().memoizedState}function _ee(e,n,t){var r=ku(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},W8(e))K8(n,t);else if(t=k8(e,n,t,r),t!==null){var i=ga();to(t,e,r,i),Q8(t,n,r)}}function bee(e,n,t){var r=ku(e),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(W8(e))K8(n,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var u=n.lastRenderedState,c=o(u,t);if(i.hasEagerState=!0,i.eagerState=c,io(c,u)){var h=n.interleaved;h===null?(i.next=i,Yx(n)):(i.next=h.next,h.next=i),n.interleaved=i;return}}catch{}finally{}t=k8(e,n,i,r),t!==null&&(i=ga(),to(t,e,r,i),Q8(t,n,r))}}function W8(e){var n=e.alternate;return e===Sr||n!==null&&n===Sr}function K8(e,n){Cf=sv=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Q8(e,n,t){if((t&4194240)!==0){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Lx(e,t)}}var ov={readContext:As,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},yee={readContext:As,useCallback:function(e,n){return So().memoizedState=[e,n===void 0?null:n],e},useContext:As,useEffect:C5,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Ng(4194308,4,B8.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Ng(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ng(4,2,e,n)},useMemo:function(e,n){var t=So();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=So();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=_ee.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){var n=So();return e={current:e},n.memoizedState=e},useState:k5,useDebugValue:a3,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=k5(!1),n=e[0];return e=vee.bind(null,e[1]),So().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=Sr,i=So();if(wr){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=n(),hi===null)throw Error(Ge(349));(Gc&30)!==0||M8(r,n,t)}i.memoizedState=t;var o={value:t,getSnapshot:n};return i.queue=o,C5(U8.bind(null,r,o,e),[e]),r.flags|=2048,e0(9,D8.bind(null,r,o,t,n),void 0,null),t},useId:function(){var e=So(),n=hi.identifierPrefix;if(wr){var t=gl,r=ml;t=(r&~(1<<32-no(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Jf++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=gee++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Eee={readContext:As,useCallback:$8,useContext:As,useEffect:i3,useImperativeHandle:G8,useInsertionEffect:H8,useLayoutEffect:q8,useMemo:z8,useReducer:W1,useRef:F8,useState:function(){return W1(Zf)},useDebugValue:a3,useDeferredValue:function(e){var n=Rs();return j8(n,Xr.memoizedState,e)},useTransition:function(){var e=W1(Zf)[0],n=Rs().memoizedState;return[e,n]},useMutableSource:A8,useSyncExternalStore:R8,useId:V8,unstable_isNewReconciler:!1},wee={readContext:As,useCallback:$8,useContext:As,useEffect:i3,useImperativeHandle:G8,useInsertionEffect:H8,useLayoutEffect:q8,useMemo:z8,useReducer:K1,useRef:F8,useState:function(){return K1(Zf)},useDebugValue:a3,useDeferredValue:function(e){var n=Rs();return Xr===null?n.memoizedState=e:j8(n,Xr.memoizedState,e)},useTransition:function(){var e=K1(Zf)[0],n=Rs().memoizedState;return[e,n]},useMutableSource:A8,useSyncExternalStore:R8,useId:V8,unstable_isNewReconciler:!1};function Ch(e,n){try{var t="",r=n;do t+=YJ(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:n,stack:i,digest:null}}function Q1(e,n,t){return{value:e,source:null,stack:t!=null?t:null,digest:n!=null?n:null}}function u2(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var xee=typeof WeakMap=="function"?WeakMap:Map;function Y8(e,n,t){t=bl(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){uv||(uv=!0,b2=r),u2(e,n)},t}function X8(e,n,t){t=bl(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r(i)},t.callback=function(){u2(e,n)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){u2(e,n),typeof r!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})}),t}function S5(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new xee;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(i.add(t),e=Pee.bind(null,e,n,t),n.then(e,e))}function N5(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function T5(e,n,t,r,i){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=bl(-1,1),n.tag=2,wu(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var kee=Sl.ReactCurrentOwner,Pa=!1;function ha(e,n,t,r){n.child=e===null?I8(n,null,t,r):xh(n,e.child,t,r)}function I5(e,n,t,r,i){t=t.render;var o=n.ref;return mh(n,i),r=t3(e,n,t,r,o,i),t=r3(),e!==null&&!Pa?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Cl(e,n,i)):(wr&&t&&zx(n),n.flags|=1,ha(e,n,r,i),n.child)}function O5(e,n,t,r,i){if(e===null){var o=t.type;return typeof o=="function"&&!p3(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=o,J8(e,n,o,r,i)):(e=Ag(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,(e.lanes&i)===0){var u=o.memoizedProps;if(t=t.compare,t=t!==null?t:Vf,t(u,r)&&e.ref===n.ref)return Cl(e,n,i)}return n.flags|=1,e=Cu(o,r),e.ref=n.ref,e.return=n,n.child=e}function J8(e,n,t,r,i){if(e!==null){var o=e.memoizedProps;if(Vf(o,r)&&e.ref===n.ref)if(Pa=!1,n.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Pa=!0);else return n.lanes=e.lanes,Cl(e,n,i)}return c2(e,n,t,r,i)}function Z8(e,n,t){var r=n.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(oh,rs),rs|=t;else{if((t&1073741824)===0)return e=o!==null?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,hr(oh,rs),rs|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,hr(oh,rs),rs|=r}else o!==null?(r=o.baseLanes|t,n.memoizedState=null):r=t,hr(oh,rs),rs|=r;return ha(e,n,i,t),n.child}function e7(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function c2(e,n,t,r,i){var o=qa(t)?qc:ra.current;return o=Eh(n,o),mh(n,i),t=t3(e,n,t,r,o,i),r=r3(),e!==null&&!Pa?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Cl(e,n,i)):(wr&&r&&zx(n),n.flags|=1,ha(e,n,t,i),n.child)}function A5(e,n,t,r,i){if(qa(t)){var o=!0;Zg(n)}else o=!1;if(mh(n,i),n.stateNode===null)Tg(e,n),N8(n,t,r),l2(n,t,r,i),r=!0;else if(e===null){var u=n.stateNode,c=n.memoizedProps;u.props=c;var h=u.context,f=t.contextType;typeof f=="object"&&f!==null?f=As(f):(f=qa(t)?qc:ra.current,f=Eh(n,f));var v=t.getDerivedStateFromProps,_=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||h!==f)&&w5(n,u,r,f),uu=!1;var y=n.memoizedState;u.state=y,iv(n,r,u,i),h=n.memoizedState,c!==r||y!==h||Ha.current||uu?(typeof v=="function"&&(o2(n,t,v,r),h=n.memoizedState),(c=uu||E5(n,t,c,r,y,h,f))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=h),u.props=r,u.state=h,u.context=f,r=c):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,C8(e,n),c=n.memoizedProps,f=n.type===n.elementType?c:Qs(n.type,c),u.props=f,_=n.pendingProps,y=u.context,h=t.contextType,typeof h=="object"&&h!==null?h=As(h):(h=qa(t)?qc:ra.current,h=Eh(n,h));var E=t.getDerivedStateFromProps;(v=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==_||y!==h)&&w5(n,u,r,h),uu=!1,y=n.memoizedState,u.state=y,iv(n,r,u,i);var x=n.memoizedState;c!==_||y!==x||Ha.current||uu?(typeof E=="function"&&(o2(n,t,E,r),x=n.memoizedState),(f=uu||E5(n,t,f,r,y,x,h)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,h)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=x),u.props=r,u.state=x,u.context=h,r=f):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=1024),r=!1)}return d2(e,n,t,r,o,i)}function d2(e,n,t,r,i,o){e7(e,n);var u=(n.flags&128)!==0;if(!r&&!u)return i&&g5(n,t,!1),Cl(e,n,o);r=n.stateNode,kee.current=n;var c=u&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&u?(n.child=xh(n,e.child,null,o),n.child=xh(n,null,c,o)):ha(e,n,c,o),n.memoizedState=r.state,i&&g5(n,t,!0),n.child}function n7(e){var n=e.stateNode;n.pendingContext?m5(e,n.pendingContext,n.pendingContext!==n.context):n.context&&m5(e,n.context,!1),Jx(e,n.containerInfo)}function R5(e,n,t,r,i){return wh(),Vx(i),n.flags|=256,ha(e,n,t,r),n.child}var h2={dehydrated:null,treeContext:null,retryLane:0};function p2(e){return{baseLanes:e,cachePool:null,transitions:null}}function t7(e,n,t){var r=n.pendingProps,i=Cr.current,o=!1,u=(n.flags&128)!==0,c;if((c=u)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hr(Cr,i&1),e===null)return a2(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(u=r.children,e=r.fallback,o?(r=n.mode,o=n.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=jv(u,r,0,null),e=Mc(e,r,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=p2(t),n.memoizedState=h2,e):s3(n,u));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Cee(e,n,u,r,c,i,t);if(o){o=r.fallback,u=n.mode,i=e.child,c=i.sibling;var h={mode:"hidden",children:r.children};return(u&1)===0&&n.child!==i?(r=n.child,r.childLanes=0,r.pendingProps=h,n.deletions=null):(r=Cu(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Cu(c,o):(o=Mc(o,u,t,null),o.flags|=2),o.return=n,r.return=n,r.sibling=o,n.child=r,r=o,o=n.child,u=e.child.memoizedState,u=u===null?p2(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~t,n.memoizedState=h2,r}return o=e.child,e=o.sibling,r=Cu(o,{mode:"visible",children:r.children}),(n.mode&1)===0&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function s3(e,n){return n=jv({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function rg(e,n,t,r){return r!==null&&Vx(r),xh(n,e.child,null,t),e=s3(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cee(e,n,t,r,i,o,u){if(t)return n.flags&256?(n.flags&=-257,r=Q1(Error(Ge(422))),rg(e,n,u,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(o=r.fallback,i=n.mode,r=jv({mode:"visible",children:r.children},i,0,null),o=Mc(o,i,u,null),o.flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,(n.mode&1)!==0&&xh(n,e.child,null,u),n.child.memoizedState=p2(u),n.memoizedState=h2,o);if((n.mode&1)===0)return rg(e,n,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(Ge(419)),r=Q1(o,r,void 0),rg(e,n,u,r)}if(c=(u&e.childLanes)!==0,Pa||c){if(r=hi,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|u))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kl(e,i),to(r,e,i,-1))}return h3(),r=Q1(Error(Ge(421))),rg(e,n,u,r)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=Fee.bind(null,e),i._reactRetry=n,null):(e=o.treeContext,as=Eu(i.nextSibling),ss=n,wr=!0,Js=null,e!==null&&(ys[Es++]=ml,ys[Es++]=gl,ys[Es++]=Bc,ml=e.id,gl=e.overflow,Bc=n),n=s3(n,r.children),n.flags|=4096,n)}function M5(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),s2(e.return,n,t)}function Y1(e,n,t,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function r7(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(ha(e,n,r.children,t),r=Cr.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M5(e,t,n);else if(e.tag===19)M5(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hr(Cr,r),(n.mode&1)===0)n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&av(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Y1(n,!1,i,t,o);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&av(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Y1(n,!0,t,null,o);break;case"together":Y1(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tg(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Cl(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),$c|=n.lanes,(t&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(Ge(153));if(n.child!==null){for(e=n.child,t=Cu(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=Cu(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function See(e,n,t){switch(n.tag){case 3:n7(n),wh();break;case 5:O8(n);break;case 1:qa(n.type)&&Zg(n);break;case 4:Jx(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,i=n.memoizedProps.value;hr(tv,r._currentValue),r._currentValue=i;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(hr(Cr,Cr.current&1),n.flags|=128,null):(t&n.child.childLanes)!==0?t7(e,n,t):(hr(Cr,Cr.current&1),e=Cl(e,n,t),e!==null?e.sibling:null);hr(Cr,Cr.current&1);break;case 19:if(r=(t&n.childLanes)!==0,(e.flags&128)!==0){if(r)return r7(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hr(Cr,Cr.current),r)break;return null;case 22:case 23:return n.lanes=0,Z8(e,n,t)}return Cl(e,n,t)}var i7,f2,a7,s7;i7=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};f2=function(){};a7=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,Tc(Mo.current);var o=null;switch(t){case"input":i=LE(e,i),r=LE(e,r),o=[];break;case"select":i=Nr({},i,{value:void 0}),r=Nr({},r,{value:void 0}),o=[];break;case"textarea":i=HE(e,i),r=HE(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xg)}BE(t,r);var u;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(u in c)c.hasOwnProperty(u)&&(t||(t={}),t[u]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Hf.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(u in c)!c.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(t||(t={}),t[u]="");for(u in h)h.hasOwnProperty(u)&&c[u]!==h[u]&&(t||(t={}),t[u]=h[u])}else t||(o||(o=[]),o.push(f,t)),t=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&vr("scroll",e),o||c===h||(o=[])):(o=o||[]).push(f,h))}t&&(o=o||[]).push("style",t);var f=o;(n.updateQueue=f)&&(n.flags|=4)}};s7=function(e,n,t,r){t!==r&&(n.flags|=4)};function ef(e,n){if(!wr)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wi(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Nee(e,n,t){var r=n.pendingProps;switch(jx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(n),null;case 1:return qa(n.type)&&Jg(),Wi(n),null;case 3:return r=n.stateNode,kh(),_r(Ha),_r(ra),e3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ng(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Js!==null&&(w2(Js),Js=null))),f2(e,n),Wi(n),null;case 5:Zx(n);var i=Tc(Xf.current);if(t=n.type,e!==null&&n.stateNode!=null)a7(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(Ge(166));return Wi(n),null}if(e=Tc(Mo.current),ng(n)){r=n.stateNode,t=n.type;var o=n.memoizedProps;switch(r[Io]=n,r[Qf]=o,e=(n.mode&1)!==0,t){case"dialog":vr("cancel",r),vr("close",r);break;case"iframe":case"object":case"embed":vr("load",r);break;case"video":case"audio":for(i=0;i<mf.length;i++)vr(mf[i],r);break;case"source":vr("error",r);break;case"img":case"image":case"link":vr("error",r),vr("load",r);break;case"details":vr("toggle",r);break;case"input":GM(r,o),vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},vr("invalid",r);break;case"textarea":zM(r,o),vr("invalid",r)}BE(t,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var c=o[u];u==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&eg(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&eg(r.textContent,c,e),i=["children",""+c]):Hf.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&vr("scroll",r)}switch(t){case"input":Vm(r),$M(r,o,!0);break;case"textarea":Vm(r),jM(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xg)}r=i,n.updateQueue=r,r!==null&&(n.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MP(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(t,{is:r.is}):(e=u.createElement(t),t==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,t),e[Io]=n,e[Qf]=r,i7(e,n,!1,!1),n.stateNode=e;e:{switch(u=GE(t,r),t){case"dialog":vr("cancel",e),vr("close",e),i=r;break;case"iframe":case"object":case"embed":vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<mf.length;i++)vr(mf[i],e);i=r;break;case"source":vr("error",e),i=r;break;case"img":case"image":case"link":vr("error",e),vr("load",e),i=r;break;case"details":vr("toggle",e),i=r;break;case"input":GM(e,r),i=LE(e,r),vr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Nr({},r,{value:void 0}),vr("invalid",e);break;case"textarea":zM(e,r),i=HE(e,r),vr("invalid",e);break;default:i=r}BE(t,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?LP(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&DP(e,h)):o==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&qf(e,h):typeof h=="number"&&qf(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hf.hasOwnProperty(o)?h!=null&&o==="onScroll"&&vr("scroll",e):h!=null&&Ox(e,o,h,u))}switch(t){case"input":Vm(e),$M(e,r,!1);break;case"textarea":Vm(e),jM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Iu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?dh(e,!!r.multiple,o,!1):r.defaultValue!=null&&dh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Wi(n),null;case 6:if(e&&n.stateNode!=null)s7(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(Ge(166));if(t=Tc(Xf.current),Tc(Mo.current),ng(n)){if(r=n.stateNode,t=n.memoizedProps,r[Io]=n,(o=r.nodeValue!==t)&&(e=ss,e!==null))switch(e.tag){case 3:eg(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eg(r.nodeValue,t,(e.mode&1)!==0)}o&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Io]=n,n.stateNode=r}return Wi(n),null;case 13:if(_r(Cr),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&as!==null&&(n.mode&1)!==0&&(n.flags&128)===0)x8(),wh(),n.flags|=98560,o=!1;else if(o=ng(n),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ge(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[Io]=n}else wh(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wi(n),o=!1}else Js!==null&&(w2(Js),Js=null),o=!0;if(!o)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Cr.current&1)!==0?Zr===0&&(Zr=3):h3())),n.updateQueue!==null&&(n.flags|=4),Wi(n),null);case 4:return kh(),f2(e,n),e===null&&Wf(n.stateNode.containerInfo),Wi(n),null;case 10:return Qx(n.type._context),Wi(n),null;case 17:return qa(n.type)&&Jg(),Wi(n),null;case 19:if(_r(Cr),o=n.memoizedState,o===null)return Wi(n),null;if(r=(n.flags&128)!==0,u=o.rendering,u===null)if(r)ef(o,!1);else{if(Zr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=av(e),u!==null){for(n.flags|=128,ef(o,!1),r=u.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)o=t,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return hr(Cr,Cr.current&1|2),n.child}e=e.sibling}o.tail!==null&&qr()>Sh&&(n.flags|=128,r=!0,ef(o,!1),n.lanes=4194304)}else{if(!r)if(e=av(u),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),ef(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!wr)return Wi(n),null}else 2*qr()-o.renderingStartTime>Sh&&t!==1073741824&&(n.flags|=128,r=!0,ef(o,!1),n.lanes=4194304);o.isBackwards?(u.sibling=n.child,n.child=u):(t=o.last,t!==null?t.sibling=u:n.child=u,o.last=u)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=qr(),n.sibling=null,t=Cr.current,hr(Cr,r?t&1|2:t&1),n):(Wi(n),null);case 22:case 23:return d3(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&(n.mode&1)!==0?(rs&1073741824)!==0&&(Wi(n),n.subtreeFlags&6&&(n.flags|=8192)):Wi(n),null;case 24:return null;case 25:return null}throw Error(Ge(156,n.tag))}function Tee(e,n){switch(jx(n),n.tag){case 1:return qa(n.type)&&Jg(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kh(),_r(Ha),_r(ra),e3(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Zx(n),null;case 13:if(_r(Cr),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Ge(340));wh()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _r(Cr),null;case 4:return kh(),null;case 10:return Qx(n.type._context),null;case 22:case 23:return d3(),null;case 24:return null;default:return null}}var ig=!1,na=!1,Iee=typeof WeakSet=="function"?WeakSet:Set,dn=null;function sh(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ir(e,n,r)}else t.current=null}function m2(e,n,t){try{t()}catch(r){Ir(e,n,r)}}var D5=!1;function Oee(e,n){if(JE=Kg,e=c8(),$x(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var u=0,c=-1,h=-1,f=0,v=0,_=e,y=null;n:for(;;){for(var E;_!==t||i!==0&&_.nodeType!==3||(c=u+i),_!==o||r!==0&&_.nodeType!==3||(h=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(E=_.firstChild)!==null;)y=_,_=E;for(;;){if(_===e)break n;if(y===t&&++f===i&&(c=u),y===o&&++v===r&&(h=u),(E=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=E}t=c===-1||h===-1?null:{start:c,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(ZE={focusedElem:e,selectionRange:t},Kg=!1,dn=n;dn!==null;)if(n=dn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,dn=e;else for(;dn!==null;){n=dn;try{var x=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,M=x.memoizedState,S=n.stateNode,N=S.getSnapshotBeforeUpdate(n.elementType===n.type?C:Qs(n.type,C),M);S.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(H){Ir(n,n.return,H)}if(e=n.sibling,e!==null){e.return=n.return,dn=e;break}dn=n.return}return x=D5,D5=!1,x}function Sf(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&m2(n,t,o)}i=i.next}while(i!==r)}}function $v(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function g2(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function o7(e){var n=e.alternate;n!==null&&(e.alternate=null,o7(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Io],delete n[Qf],delete n[t2],delete n[hee],delete n[pee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l7(e){return e.tag===5||e.tag===3||e.tag===4}function U5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v2(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=Xg));else if(r!==4&&(e=e.child,e!==null))for(v2(e,n,t),e=e.sibling;e!==null;)v2(e,n,t),e=e.sibling}function _2(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_2(e,n,t),e=e.sibling;e!==null;)_2(e,n,t),e=e.sibling}var Ai=null,Ys=!1;function tu(e,n,t){for(t=t.child;t!==null;)u7(e,n,t),t=t.sibling}function u7(e,n,t){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(Uv,t)}catch{}switch(t.tag){case 5:na||sh(t,n);case 6:var r=Ai,i=Ys;Ai=null,tu(e,n,t),Ai=r,Ys=i,Ai!==null&&(Ys?(e=Ai,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Ai.removeChild(t.stateNode));break;case 18:Ai!==null&&(Ys?(e=Ai,t=t.stateNode,e.nodeType===8?$1(e.parentNode,t):e.nodeType===1&&$1(e,t),zf(e)):$1(Ai,t.stateNode));break;case 4:r=Ai,i=Ys,Ai=t.stateNode.containerInfo,Ys=!0,tu(e,n,t),Ai=r,Ys=i;break;case 0:case 11:case 14:case 15:if(!na&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&m2(t,n,u),i=i.next}while(i!==r)}tu(e,n,t);break;case 1:if(!na&&(sh(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(c){Ir(t,n,c)}tu(e,n,t);break;case 21:tu(e,n,t);break;case 22:t.mode&1?(na=(r=na)||t.memoizedState!==null,tu(e,n,t),na=r):tu(e,n,t);break;default:tu(e,n,t)}}function L5(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Iee),n.forEach(function(r){var i=Hee.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ws(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=e,u=n,c=u;e:for(;c!==null;){switch(c.tag){case 5:Ai=c.stateNode,Ys=!1;break e;case 3:Ai=c.stateNode.containerInfo,Ys=!0;break e;case 4:Ai=c.stateNode.containerInfo,Ys=!0;break e}c=c.return}if(Ai===null)throw Error(Ge(160));u7(o,u,i),Ai=null,Ys=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){Ir(i,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)c7(n,e),n=n.sibling}function c7(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ws(n,e),wo(e),r&4){try{Sf(3,e,e.return),$v(3,e)}catch(C){Ir(e,e.return,C)}try{Sf(5,e,e.return)}catch(C){Ir(e,e.return,C)}}break;case 1:Ws(n,e),wo(e),r&512&&t!==null&&sh(t,t.return);break;case 5:if(Ws(n,e),wo(e),r&512&&t!==null&&sh(t,t.return),e.flags&32){var i=e.stateNode;try{qf(i,"")}catch(C){Ir(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=t!==null?t.memoizedProps:o,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&AP(i,o),GE(c,u);var f=GE(c,o);for(u=0;u<h.length;u+=2){var v=h[u],_=h[u+1];v==="style"?LP(i,_):v==="dangerouslySetInnerHTML"?DP(i,_):v==="children"?qf(i,_):Ox(i,v,_,f)}switch(c){case"input":PE(i,o);break;case"textarea":RP(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?dh(i,!!o.multiple,E,!1):y!==!!o.multiple&&(o.defaultValue!=null?dh(i,!!o.multiple,o.defaultValue,!0):dh(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qf]=o}catch(C){Ir(e,e.return,C)}}break;case 6:if(Ws(n,e),wo(e),r&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){Ir(e,e.return,C)}}break;case 3:if(Ws(n,e),wo(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{zf(n.containerInfo)}catch(C){Ir(e,e.return,C)}break;case 4:Ws(n,e),wo(e);break;case 13:Ws(n,e),wo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(u3=qr())),r&4&&L5(e);break;case 22:if(v=t!==null&&t.memoizedState!==null,e.mode&1?(na=(f=na)||v,Ws(n,e),na=f):Ws(n,e),wo(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!v&&(e.mode&1)!==0)for(dn=e,v=e.child;v!==null;){for(_=dn=v;dn!==null;){switch(y=dn,E=y.child,y.tag){case 0:case 11:case 14:case 15:Sf(4,y,y.return);break;case 1:sh(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,t=y.return;try{n=r,x.props=n.memoizedProps,x.state=n.memoizedState,x.componentWillUnmount()}catch(C){Ir(r,t,C)}}break;case 5:sh(y,y.return);break;case 22:if(y.memoizedState!==null){F5(_);continue}}E!==null?(E.return=y,dn=E):F5(_)}v=v.sibling}e:for(v=null,_=e;;){if(_.tag===5){if(v===null){v=_;try{i=_.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,h=_.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=UP("display",u))}catch(C){Ir(e,e.return,C)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(C){Ir(e,e.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Ws(n,e),wo(e),r&4&&L5(e);break;case 21:break;default:Ws(n,e),wo(e)}}function wo(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(l7(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qf(i,""),r.flags&=-33);var o=U5(e);_2(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,c=U5(e);v2(e,c,u);break;default:throw Error(Ge(161))}}catch(h){Ir(e,e.return,h)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Aee(e,n,t){dn=e,d7(e)}function d7(e,n,t){for(var r=(e.mode&1)!==0;dn!==null;){var i=dn,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||ig;if(!u){var c=i.alternate,h=c!==null&&c.memoizedState!==null||na;c=ig;var f=na;if(ig=u,(na=h)&&!f)for(dn=i;dn!==null;)u=dn,h=u.child,u.tag===22&&u.memoizedState!==null?H5(i):h!==null?(h.return=u,dn=h):H5(i);for(;o!==null;)dn=o,d7(o),o=o.sibling;dn=i,ig=c,na=f}P5(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,dn=o):P5(e)}}function P5(e){for(;dn!==null;){var n=dn;if((n.flags&8772)!==0){var t=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:na||$v(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!na)if(t===null)r.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Qs(n.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&y5(n,o,r);break;case 3:var u=n.updateQueue;if(u!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}y5(n,u,t)}break;case 5:var c=n.stateNode;if(t===null&&n.flags&4){t=c;var h=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&zf(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}na||n.flags&512&&g2(n)}catch(y){Ir(n,n.return,y)}}if(n===e){dn=null;break}if(t=n.sibling,t!==null){t.return=n.return,dn=t;break}dn=n.return}}function F5(e){for(;dn!==null;){var n=dn;if(n===e){dn=null;break}var t=n.sibling;if(t!==null){t.return=n.return,dn=t;break}dn=n.return}}function H5(e){for(;dn!==null;){var n=dn;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{$v(4,n)}catch(h){Ir(n,t,h)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var i=n.return;try{r.componentDidMount()}catch(h){Ir(n,i,h)}}var o=n.return;try{g2(n)}catch(h){Ir(n,o,h)}break;case 5:var u=n.return;try{g2(n)}catch(h){Ir(n,u,h)}}}catch(h){Ir(n,n.return,h)}if(n===e){dn=null;break}var c=n.sibling;if(c!==null){c.return=n.return,dn=c;break}dn=n.return}}var Ree=Math.ceil,lv=Sl.ReactCurrentDispatcher,o3=Sl.ReactCurrentOwner,Os=Sl.ReactCurrentBatchConfig,Mt=0,hi=null,Wr=null,Ui=0,rs=0,oh=Fu(0),Zr=0,n0=null,$c=0,zv=0,l3=0,Nf=null,Da=null,u3=0,Sh=1/0,il=null,uv=!1,b2=null,xu=null,ag=!1,pu=null,cv=0,Tf=0,y2=null,Ig=-1,Og=0;function ga(){return(Mt&6)!==0?qr():Ig!==-1?Ig:Ig=qr()}function ku(e){return(e.mode&1)===0?1:(Mt&2)!==0&&Ui!==0?Ui&-Ui:mee.transition!==null?(Og===0&&(Og=KP()),Og):(e=Qt,e!==0||(e=window.event,e=e===void 0?16:n8(e.type)),e)}function to(e,n,t,r){if(50<Tf)throw Tf=0,y2=null,Error(Ge(185));m0(e,t,r),((Mt&2)===0||e!==hi)&&(e===hi&&((Mt&2)===0&&(zv|=t),Zr===4&&du(e,Ui)),Ba(e,r),t===1&&Mt===0&&(n.mode&1)===0&&(Sh=qr()+500,qv&&Hu()))}function Ba(e,n){var t=e.callbackNode;mZ(e,n);var r=Wg(e,e===hi?Ui:0);if(r===0)t!==null&&KM(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&KM(t),n===1)e.tag===0?fee(q5.bind(null,e)):y8(q5.bind(null,e)),cee(function(){(Mt&6)===0&&Hu()}),t=null;else{switch(QP(r)){case 1:t=Ux;break;case 4:t=VP;break;case 16:t=Vg;break;case 536870912:t=WP;break;default:t=Vg}t=b7(t,h7.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function h7(e,n){if(Ig=-1,Og=0,(Mt&6)!==0)throw Error(Ge(327));var t=e.callbackNode;if(gh()&&e.callbackNode!==t)return null;var r=Wg(e,e===hi?Ui:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||n)n=dv(e,r);else{n=r;var i=Mt;Mt|=2;var o=f7();(hi!==e||Ui!==n)&&(il=null,Sh=qr()+500,Rc(e,n));do try{Uee();break}catch(c){p7(e,c)}while(1);Kx(),lv.current=o,Mt=i,Wr!==null?n=0:(hi=null,Ui=0,n=Zr)}if(n!==0){if(n===2&&(i=WE(e),i!==0&&(r=i,n=E2(e,i))),n===1)throw t=n0,Rc(e,0),du(e,r),Ba(e,qr()),t;if(n===6)du(e,r);else{if(i=e.current.alternate,(r&30)===0&&!Mee(i)&&(n=dv(e,r),n===2&&(o=WE(e),o!==0&&(r=o,n=E2(e,o))),n===1))throw t=n0,Rc(e,0),du(e,r),Ba(e,qr()),t;switch(e.finishedWork=i,e.finishedLanes=r,n){case 0:case 1:throw Error(Ge(345));case 2:_c(e,Da,il);break;case 3:if(du(e,r),(r&130023424)===r&&(n=u3+500-qr(),10<n)){if(Wg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ga(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=n2(_c.bind(null,e,Da,il),n);break}_c(e,Da,il);break;case 4:if(du(e,r),(r&4194240)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-no(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=qr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ree(r/1960))-r,10<r){e.timeoutHandle=n2(_c.bind(null,e,Da,il),r);break}_c(e,Da,il);break;case 5:_c(e,Da,il);break;default:throw Error(Ge(329))}}}return Ba(e,qr()),e.callbackNode===t?h7.bind(null,e):null}function E2(e,n){var t=Nf;return e.current.memoizedState.isDehydrated&&(Rc(e,n).flags|=256),e=dv(e,n),e!==2&&(n=Da,Da=t,n!==null&&w2(n)),e}function w2(e){Da===null?Da=e:Da.push.apply(Da,e)}function Mee(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!io(o(),i))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function du(e,n){for(n&=~l3,n&=~zv,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-no(n),r=1<<t;e[t]=-1,n&=~r}}function q5(e){if((Mt&6)!==0)throw Error(Ge(327));gh();var n=Wg(e,0);if((n&1)===0)return Ba(e,qr()),null;var t=dv(e,n);if(e.tag!==0&&t===2){var r=WE(e);r!==0&&(n=r,t=E2(e,r))}if(t===1)throw t=n0,Rc(e,0),du(e,n),Ba(e,qr()),t;if(t===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,_c(e,Da,il),Ba(e,qr()),null}function c3(e,n){var t=Mt;Mt|=1;try{return e(n)}finally{Mt=t,Mt===0&&(Sh=qr()+500,qv&&Hu())}}function zc(e){pu!==null&&pu.tag===0&&(Mt&6)===0&&gh();var n=Mt;Mt|=1;var t=Os.transition,r=Qt;try{if(Os.transition=null,Qt=1,e)return e()}finally{Qt=r,Os.transition=t,Mt=n,(Mt&6)===0&&Hu()}}function d3(){rs=oh.current,_r(oh)}function Rc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,uee(t)),Wr!==null)for(t=Wr.return;t!==null;){var r=t;switch(jx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jg();break;case 3:kh(),_r(Ha),_r(ra),e3();break;case 5:Zx(r);break;case 4:kh();break;case 13:_r(Cr);break;case 19:_r(Cr);break;case 10:Qx(r.type._context);break;case 22:case 23:d3()}t=t.return}if(hi=e,Wr=e=Cu(e.current,null),Ui=rs=n,Zr=0,n0=null,l3=zv=$c=0,Da=Nf=null,Nc!==null){for(n=0;n<Nc.length;n++)if(t=Nc[n],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}t.pending=r}Nc=null}return e}function p7(e,n){do{var t=Wr;try{if(Kx(),Sg.current=ov,sv){for(var r=Sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sv=!1}if(Gc=0,li=Xr=Sr=null,Cf=!1,Jf=0,o3.current=null,t===null||t.return===null){Zr=1,n0=n,Wr=null;break}e:{var o=e,u=t.return,c=t,h=n;if(n=Ui,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,v=c,_=v.tag;if((v.mode&1)===0&&(_===0||_===11||_===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=N5(u);if(E!==null){E.flags&=-257,T5(E,u,c,o,n),E.mode&1&&S5(o,f,n),n=E,h=f;var x=n.updateQueue;if(x===null){var C=new Set;C.add(h),n.updateQueue=C}else x.add(h);break e}else{if((n&1)===0){S5(o,f,n),h3();break e}h=Error(Ge(426))}}else if(wr&&c.mode&1){var M=N5(u);if(M!==null){(M.flags&65536)===0&&(M.flags|=256),T5(M,u,c,o,n),Vx(Ch(h,c));break e}}o=h=Ch(h,c),Zr!==4&&(Zr=2),Nf===null?Nf=[o]:Nf.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var S=Y8(o,h,n);b5(o,S);break e;case 1:c=h;var N=o.type,D=o.stateNode;if((o.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(xu===null||!xu.has(D)))){o.flags|=65536,n&=-n,o.lanes|=n;var H=X8(o,c,n);b5(o,H);break e}}o=o.return}while(o!==null)}g7(t)}catch(K){n=K,Wr===t&&t!==null&&(Wr=t=t.return);continue}break}while(1)}function f7(){var e=lv.current;return lv.current=ov,e===null?ov:e}function h3(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),hi===null||($c&268435455)===0&&(zv&268435455)===0||du(hi,Ui)}function dv(e,n){var t=Mt;Mt|=2;var r=f7();(hi!==e||Ui!==n)&&(il=null,Rc(e,n));do try{Dee();break}catch(i){p7(e,i)}while(1);if(Kx(),Mt=t,lv.current=r,Wr!==null)throw Error(Ge(261));return hi=null,Ui=0,Zr}function Dee(){for(;Wr!==null;)m7(Wr)}function Uee(){for(;Wr!==null&&!sZ();)m7(Wr)}function m7(e){var n=_7(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?g7(e):Wr=n,o3.current=null}function g7(e){var n=e;do{var t=n.alternate;if(e=n.return,(n.flags&32768)===0){if(t=Nee(t,n,rs),t!==null){Wr=t;return}}else{if(t=Tee(t,n),t!==null){t.flags&=32767,Wr=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zr=6,Wr=null;return}}if(n=n.sibling,n!==null){Wr=n;return}Wr=n=e}while(n!==null);Zr===0&&(Zr=5)}function _c(e,n,t){var r=Qt,i=Os.transition;try{Os.transition=null,Qt=1,Lee(e,n,t,r)}finally{Os.transition=i,Qt=r}return null}function Lee(e,n,t,r){do gh();while(pu!==null);if((Mt&6)!==0)throw Error(Ge(327));t=e.finishedWork;var i=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var o=t.lanes|t.childLanes;if(gZ(e,o),e===hi&&(Wr=hi=null,Ui=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||ag||(ag=!0,b7(Vg,function(){return gh(),null})),o=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||o){o=Os.transition,Os.transition=null;var u=Qt;Qt=1;var c=Mt;Mt|=4,o3.current=null,Oee(e,t),c7(t,e),tee(ZE),Kg=!!JE,ZE=JE=null,e.current=t,Aee(t),oZ(),Mt=c,Qt=u,Os.transition=o}else e.current=t;if(ag&&(ag=!1,pu=e,cv=i),o=e.pendingLanes,o===0&&(xu=null),cZ(t.stateNode),Ba(e,qr()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)i=n[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(uv)throw uv=!1,e=b2,b2=null,e;return(cv&1)!==0&&e.tag!==0&&gh(),o=e.pendingLanes,(o&1)!==0?e===y2?Tf++:(Tf=0,y2=e):Tf=0,Hu(),null}function gh(){if(pu!==null){var e=QP(cv),n=Os.transition,t=Qt;try{if(Os.transition=null,Qt=16>e?16:e,pu===null)var r=!1;else{if(e=pu,pu=null,cv=0,(Mt&6)!==0)throw Error(Ge(331));var i=Mt;for(Mt|=4,dn=e.current;dn!==null;){var o=dn,u=o.child;if((dn.flags&16)!==0){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(dn=f;dn!==null;){var v=dn;switch(v.tag){case 0:case 11:case 15:Sf(8,v,o)}var _=v.child;if(_!==null)_.return=v,dn=_;else for(;dn!==null;){v=dn;var y=v.sibling,E=v.return;if(o7(v),v===f){dn=null;break}if(y!==null){y.return=E,dn=y;break}dn=E}}}var x=o.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}dn=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,dn=u;else e:for(;dn!==null;){if(o=dn,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Sf(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,dn=S;break e}dn=o.return}}var N=e.current;for(dn=N;dn!==null;){u=dn;var D=u.child;if((u.subtreeFlags&2064)!==0&&D!==null)D.return=u,dn=D;else e:for(u=N;dn!==null;){if(c=dn,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:$v(9,c)}}catch(K){Ir(c,c.return,K)}if(c===u){dn=null;break e}var H=c.sibling;if(H!==null){H.return=c.return,dn=H;break e}dn=c.return}}if(Mt=i,Hu(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(Uv,e)}catch{}r=!0}return r}finally{Qt=t,Os.transition=n}}return!1}function B5(e,n,t){n=Ch(t,n),n=Y8(e,n,1),e=wu(e,n,1),n=ga(),e!==null&&(m0(e,1,n),Ba(e,n))}function Ir(e,n,t){if(e.tag===3)B5(e,e,t);else for(;n!==null;){if(n.tag===3){B5(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xu===null||!xu.has(r))){e=Ch(t,e),e=X8(n,e,1),n=wu(n,e,1),e=ga(),n!==null&&(m0(n,1,e),Ba(n,e));break}}n=n.return}}function Pee(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=ga(),e.pingedLanes|=e.suspendedLanes&t,hi===e&&(Ui&t)===t&&(Zr===4||Zr===3&&(Ui&130023424)===Ui&&500>qr()-u3?Rc(e,0):l3|=t),Ba(e,n)}function v7(e,n){n===0&&((e.mode&1)===0?n=1:(n=Qm,Qm<<=1,(Qm&130023424)===0&&(Qm=4194304)));var t=ga();e=kl(e,n),e!==null&&(m0(e,n,t),Ba(e,t))}function Fee(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),v7(e,t)}function Hee(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(n),v7(e,t)}var _7;_7=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ha.current)Pa=!0;else{if((e.lanes&t)===0&&(n.flags&128)===0)return Pa=!1,See(e,n,t);Pa=(e.flags&131072)!==0}else Pa=!1,wr&&(n.flags&1048576)!==0&&E8(n,nv,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Tg(e,n),e=n.pendingProps;var i=Eh(n,ra.current);mh(n,t),i=t3(null,n,r,e,i,t);var o=r3();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,qa(r)?(o=!0,Zg(n)):o=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xx(n),i.updater=Bv,n.stateNode=i,i._reactInternals=n,l2(n,r,e,t),n=d2(null,n,r,!0,o,t)):(n.tag=0,wr&&o&&zx(n),ha(null,n,i,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Tg(e,n),e=n.pendingProps,i=r._init,r=i(r._payload),n.type=r,i=n.tag=Bee(r),e=Qs(r,e),i){case 0:n=c2(null,n,r,e,t);break e;case 1:n=A5(null,n,r,e,t);break e;case 11:n=I5(null,n,r,e,t);break e;case 14:n=O5(null,n,r,Qs(r.type,e),t);break e}throw Error(Ge(306,r,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Qs(r,i),c2(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Qs(r,i),A5(e,n,r,i,t);case 3:e:{if(n7(n),e===null)throw Error(Ge(387));r=n.pendingProps,o=n.memoizedState,i=o.element,C8(e,n),iv(n,r,null,t);var u=n.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){i=Ch(Error(Ge(423)),n),n=R5(e,n,r,t,i);break e}else if(r!==i){i=Ch(Error(Ge(424)),n),n=R5(e,n,r,t,i);break e}else for(as=Eu(n.stateNode.containerInfo.firstChild),ss=n,wr=!0,Js=null,t=I8(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(wh(),r===i){n=Cl(e,n,t);break e}ha(e,n,r,t)}n=n.child}return n;case 5:return O8(n),e===null&&a2(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,e2(r,i)?u=null:o!==null&&e2(r,o)&&(n.flags|=32),e7(e,n),ha(e,n,u,t),n.child;case 6:return e===null&&a2(n),null;case 13:return t7(e,n,t);case 4:return Jx(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=xh(n,null,r,t):ha(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Qs(r,i),I5(e,n,r,i,t);case 7:return ha(e,n,n.pendingProps,t),n.child;case 8:return ha(e,n,n.pendingProps.children,t),n.child;case 12:return ha(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,i=n.pendingProps,o=n.memoizedProps,u=i.value,hr(tv,r._currentValue),r._currentValue=u,o!==null)if(io(o.value,u)){if(o.children===i.children&&!Ha.current){n=Cl(e,n,t);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var c=o.dependencies;if(c!==null){u=o.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=bl(-1,t&-t),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}}o.lanes|=t,h=o.alternate,h!==null&&(h.lanes|=t),s2(o.return,t,n),c.lanes|=t;break}h=h.next}}else if(o.tag===10)u=o.type===n.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(Ge(341));u.lanes|=t,c=u.alternate,c!==null&&(c.lanes|=t),s2(u,t,n),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===n){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}ha(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=n.pendingProps.children,mh(n,t),i=As(i),r=r(i),n.flags|=1,ha(e,n,r,t),n.child;case 14:return r=n.type,i=Qs(r,n.pendingProps),i=Qs(r.type,i),O5(e,n,r,i,t);case 15:return J8(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Qs(r,i),Tg(e,n),n.tag=1,qa(r)?(e=!0,Zg(n)):e=!1,mh(n,t),N8(n,r,i),l2(n,r,i,t),d2(null,n,r,!0,e,t);case 19:return r7(e,n,t);case 22:return Z8(e,n,t)}throw Error(Ge(156,n.tag))};function b7(e,n){return jP(e,n)}function qee(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(e,n,t,r){return new qee(e,n,t,r)}function p3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bee(e){if(typeof e=="function")return p3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rx)return 11;if(e===Mx)return 14}return 2}function Cu(e,n){var t=e.alternate;return t===null?(t=ks(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ag(e,n,t,r,i,o){var u=2;if(r=e,typeof e=="function")p3(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Xd:return Mc(t.children,i,o,n);case Ax:u=8,i|=8;break;case RE:return e=ks(12,t,n,i|2),e.elementType=RE,e.lanes=o,e;case ME:return e=ks(13,t,n,i),e.elementType=ME,e.lanes=o,e;case DE:return e=ks(19,t,n,i),e.elementType=DE,e.lanes=o,e;case TP:return jv(t,i,o,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SP:u=10;break e;case NP:u=9;break e;case Rx:u=11;break e;case Mx:u=14;break e;case lu:u=16,r=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return n=ks(u,t,n,i),n.elementType=e,n.type=r,n.lanes=o,n}function Mc(e,n,t,r){return e=ks(7,e,r,n),e.lanes=t,e}function jv(e,n,t,r){return e=ks(22,e,r,n),e.elementType=TP,e.lanes=t,e.stateNode={isHidden:!1},e}function X1(e,n,t){return e=ks(6,e,null,n),e.lanes=t,e}function J1(e,n,t){return n=ks(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Gee(e,n,t,r,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R1(0),this.expirationTimes=R1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f3(e,n,t,r,i,o,u,c,h){return e=new Gee(e,n,t,c,h),n===1?(n=1,o===!0&&(n|=8)):n=0,o=ks(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xx(o),e}function $ee(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yd,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function y7(e){if(!e)return Ou;e=e._reactInternals;e:{if(Yc(e)!==e||e.tag!==1)throw Error(Ge(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(qa(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Ge(171))}if(e.tag===1){var t=e.type;if(qa(t))return b8(e,t,n)}return n}function E7(e,n,t,r,i,o,u,c,h){return e=f3(t,r,!0,e,i,o,u,c,h),e.context=y7(null),t=e.current,r=ga(),i=ku(t),o=bl(r,i),o.callback=n!=null?n:null,wu(t,o,i),e.current.lanes=i,m0(e,i,r),Ba(e,r),e}function Vv(e,n,t,r){var i=n.current,o=ga(),u=ku(i);return t=y7(t),n.context===null?n.context=t:n.pendingContext=t,n=bl(o,u),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=wu(i,n,u),e!==null&&(to(e,i,u,o),Cg(e,i,u)),u}function hv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G5(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function m3(e,n){G5(e,n),(e=e.alternate)&&G5(e,n)}function zee(){return null}var w7=typeof reportError=="function"?reportError:function(e){console.error(e)};function g3(e){this._internalRoot=e}Wv.prototype.render=g3.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Ge(409));Vv(e,n,null,null)};Wv.prototype.unmount=g3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zc(function(){Vv(null,e,null,null)}),n[xl]=null}};function Wv(e){this._internalRoot=e}Wv.prototype.unstable_scheduleHydration=function(e){if(e){var n=JP();e={blockedOn:null,target:e,priority:n};for(var t=0;t<cu.length&&n!==0&&n<cu[t].priority;t++);cu.splice(t,0,e),t===0&&e8(e)}};function v3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $5(){}function jee(e,n,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=hv(u);o.call(f)}}var u=E7(n,r,e,0,null,!1,!1,"",$5);return e._reactRootContainer=u,e[xl]=u.current,Wf(e.nodeType===8?e.parentNode:e),zc(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=hv(h);c.call(f)}}var h=f3(e,0,!1,null,null,!1,!1,"",$5);return e._reactRootContainer=h,e[xl]=h.current,Wf(e.nodeType===8?e.parentNode:e),zc(function(){Vv(n,h,t,r)}),h}function Qv(e,n,t,r,i){var o=t._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var c=i;i=function(){var h=hv(u);c.call(h)}}Vv(n,u,e,i)}else u=jee(t,n,e,i,r);return hv(u)}YP=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=ff(n.pendingLanes);t!==0&&(Lx(n,t|1),Ba(n,qr()),(Mt&6)===0&&(Sh=qr()+500,Hu()))}break;case 13:zc(function(){var r=kl(e,1);if(r!==null){var i=ga();to(r,e,1,i)}}),m3(e,1)}};Px=function(e){if(e.tag===13){var n=kl(e,134217728);if(n!==null){var t=ga();to(n,e,134217728,t)}m3(e,134217728)}};XP=function(e){if(e.tag===13){var n=ku(e),t=kl(e,n);if(t!==null){var r=ga();to(t,e,n,r)}m3(e,n)}};JP=function(){return Qt};ZP=function(e,n){var t=Qt;try{return Qt=e,n()}finally{Qt=t}};zE=function(e,n,t){switch(n){case"input":if(PE(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=Hv(r);if(!i)throw Error(Ge(90));OP(r),PE(r,i)}}}break;case"textarea":RP(e,t);break;case"select":n=t.value,n!=null&&dh(e,!!t.multiple,n,!1)}};HP=c3;qP=zc;var Vee={usingClientEntryPoint:!1,Events:[v0,nh,Hv,PP,FP,c3]},nf={findFiberByHostInstance:Sc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wee={bundleType:nf.bundleType,version:nf.version,rendererPackageName:nf.rendererPackageName,rendererConfig:nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$P(e),e===null?null:e.stateNode},findFiberByHostInstance:nf.findFiberByHostInstance||zee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{Uv=sg.inject(Wee),Ro=sg}catch{}}ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vee;ds.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v3(n))throw Error(Ge(200));return $ee(e,n,null,t)};ds.createRoot=function(e,n){if(!v3(e))throw Error(Ge(299));var t=!1,r="",i=w7;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=f3(e,1,!1,null,null,t,!1,r,i),e[xl]=n.current,Wf(e.nodeType===8?e.parentNode:e),new g3(n)};ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=$P(n),e=e===null?null:e.stateNode,e};ds.flushSync=function(e){return zc(e)};ds.hydrate=function(e,n,t){if(!Kv(n))throw Error(Ge(200));return Qv(null,e,n,!0,t)};ds.hydrateRoot=function(e,n,t){if(!v3(e))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",u=w7;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),n=E7(n,null,e,1,t!=null?t:null,i,!1,o,u),e[xl]=n.current,Wf(e),r)for(e=0;e<r.length;e++)t=r[e],i=t._getVersion,i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new Wv(n)};ds.render=function(e,n,t){if(!Kv(n))throw Error(Ge(200));return Qv(null,e,n,!1,t)};ds.unmountComponentAtNode=function(e){if(!Kv(e))throw Error(Ge(40));return e._reactRootContainer?(zc(function(){Qv(null,null,e,!1,function(){e._reactRootContainer=null,e[xl]=null})}),!0):!1};ds.unstable_batchedUpdates=c3;ds.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Kv(t))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return Qv(e,n,t,!1,r)};ds.version="18.2.0-next-9e3b772b8-20220608";(function(e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}n(),e.exports=ds})(Hh);var z5=Hh.exports;OE.createRoot=z5.createRoot,OE.hydrateRoot=z5.hydrateRoot;function Z1(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.addEventListener&&e.addEventListener.apply(e,n)}function eE(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.removeEventListener&&e.removeEventListener.apply(e,n)}var x7=typeof window<"u",j5=function(e){var n=window.history,t=n[e];n[e]=function(r){var i=t.apply(this,arguments),o=new Event(e.toLowerCase());return o.state=r,window.dispatchEvent(o),i}};x7&&(j5("pushState"),j5("replaceState"));var Kee=function(){return{trigger:"load",length:1}},og=function(e){var n=window.history,t=n.state,r=n.length,i=window.location,o=i.hash,u=i.host,c=i.hostname,h=i.href,f=i.origin,v=i.pathname,_=i.port,y=i.protocol,E=i.search;return{trigger:e,state:t,length:r,hash:o,host:u,hostname:c,href:h,origin:f,pathname:v,port:_,protocol:y,search:E}},Qee=function(){var e=U.exports.useState(og("load")),n=e[0],t=e[1];return U.exports.useEffect(function(){var r=function(){return t(og("popstate"))},i=function(){return t(og("pushstate"))},o=function(){return t(og("replacestate"))};return Z1(window,"popstate",r),Z1(window,"pushstate",i),Z1(window,"replacestate",o),function(){eE(window,"popstate",r),eE(window,"pushstate",i),eE(window,"replacestate",o)}},[]),n},Yee=typeof Event=="function";const Xee=x7&&Yee?Qee:Kee;var _3={exports:{}},Yv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jee=U.exports,Zee=Symbol.for("react.element"),ene=Symbol.for("react.fragment"),nne=Object.prototype.hasOwnProperty,tne=Jee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rne={key:!0,ref:!0,__self:!0,__source:!0};function k7(e,n,t){var r,i={},o=null,u=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(u=n.ref);for(r in n)nne.call(n,r)&&!rne.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:Zee,type:e,key:o,ref:u,props:i,_owner:tne.current}}Yv.Fragment=ene;Yv.jsx=k7;Yv.jsxs=k7;(function(e){e.exports=Yv})(_3);const ns=_3.exports.jsx,V5=_3.exports.jsxs;var Su=function(){return Su=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Su.apply(this,arguments)};function va(e,n,t,r){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(v){try{f(r.next(v))}catch(_){u(_)}}function h(v){try{f(r.throw(v))}catch(_){u(_)}}function f(v){v.done?o(v.value):i(v.value).then(c,h)}f((r=r.apply(e,n||[])).next())})}function _a(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(f){return function(v){return h([f,v])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=n.call(e,t)}catch(v){f=[6,v],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Fa(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={exports:{}};(function(e,n){(function(t,r){r(n)})(nE,function(t){function r(a,s){var l,d=Object.keys(a);return Object.getOwnPropertySymbols&&(l=Object.getOwnPropertySymbols(a),s&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),d.push.apply(d,l)),d}function i(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?r(Object(l),!0).forEach(function(d){v(a,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(l,d))})}return a}function o(a,s,l,d,p,m,g){try{var b=a[m](g),w=b.value}catch(O){return void l(O)}b.done?s(w):Promise.resolve(w).then(d,p)}function u(a){return function(){var s=this,l=arguments;return new Promise(function(d,p){var m=a.apply(s,l);function g(w){o(m,d,p,g,b,"next",w)}function b(w){o(m,d,p,g,b,"throw",w)}g(void 0)})}}function c(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function h(a,s){for(var l=0;l<s.length;l++){var d=s[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,s,l){return s&&h(a.prototype,s),l&&h(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function v(a,s,l){s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l}function _(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&E(a,s)}function y(a){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(a)}function E(a,s){return(E=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l})(a,s)}function x(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function C(a){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=y(a),d=(l=s?(l=y(this).constructor,Reflect.construct(d,arguments,l)):d.apply(this,arguments),this);if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(d)}}function M(a){return function(s){if(Array.isArray(s))return N(s)}(a)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(a)||S(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(a,s){if(a){if(typeof a=="string")return N(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return(l=l==="Object"&&a.constructor?a.constructor.name:l)==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?N(a,s):void 0}}function N(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,d=new Array(s);l<s;l++)d[l]=a[l];return d}function D(a,s){var l,d=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!d){if(Array.isArray(a)||(d=S(a))||s&&a&&typeof a.length=="number")return d&&(a=d),l=0,{s:s=function(){},n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(b){throw b},f:s};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m=!0,g=!1;return{s:function(){d=d.call(a)},n:function(){var b=d.next();return m=b.done,b},e:function(b){g=!0,p=b},f:function(){try{m||d.return==null||d.return()}finally{if(g)throw p}}}}var H,qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof nE<"u"?nE:typeof self<"u"?self:{},ft={exports:{}},ft=function(a){var s,l=Object.prototype,d=l.hasOwnProperty,_e=typeof Symbol=="function"?Symbol:{},p=_e.iterator||"@@iterator",m=_e.asyncIterator||"@@asyncIterator",g=_e.toStringTag||"@@toStringTag";function b(Ve,vn,Hn){return Object.defineProperty(Ve,vn,{value:Hn,enumerable:!0,configurable:!0,writable:!0}),Ve[vn]}try{b({},"")}catch{b=function(vn,Hn,gt){return vn[Hn]=gt}}function w(Ve,oi,Hn,yo){var tt,Dr,Ot,Si,oi=oi&&oi.prototype instanceof Ne?oi:Ne,oi=Object.create(oi.prototype),yo=new Gd(yo||[]);return oi._invoke=(tt=Ve,Dr=Hn,Ot=yo,Si=L,function(Za,es){if(Si===G)throw new Error("Generator is already running");if(Si===te){if(Za==="throw")throw es;return nl()}for(Ot.method=Za,Ot.arg=es;;){var Ur=Ot.delegate;if(Ur&&(Ur=function Eo(da,dt){var Ni=da.iterator[dt.method];if(Ni===s){if(dt.delegate=null,dt.method==="throw"){if(da.iterator.return&&(dt.method="return",dt.arg=s,Eo(da,dt),dt.method==="throw"))return ae;dt.method="throw",dt.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}if(Ni=O(Ni,da.iterator,dt.arg),Ni.type==="throw")return dt.method="throw",dt.arg=Ni.arg,dt.delegate=null,ae;if(Ni=Ni.arg,!Ni)return dt.method="throw",dt.arg=new TypeError("iterator result is not an object"),dt.delegate=null,ae;{if(!Ni.done)return Ni;dt[da.resultName]=Ni.value,dt.next=da.nextLoc,dt.method!=="return"&&(dt.method="next",dt.arg=s)}return dt.delegate=null,ae}(Ur,Ot),Ur)){if(Ur===ae)continue;return Ur}if(Ot.method==="next")Ot.sent=Ot._sent=Ot.arg;else if(Ot.method==="throw"){if(Si===L)throw Si=te,Ot.arg;Ot.dispatchException(Ot.arg)}else Ot.method==="return"&&Ot.abrupt("return",Ot.arg);if(Si=G,Ur=O(tt,Dr,Ot),Ur.type==="normal"){if(Si=Ot.done?te:q,Ur.arg!==ae)return{value:Ur.arg,done:Ot.done}}else Ur.type==="throw"&&(Si=te,Ot.method="throw",Ot.arg=Ur.arg)}}),oi}function O(Ve,vn,Hn){try{return{type:"normal",arg:Ve.call(vn,Hn)}}catch(gt){return{type:"throw",arg:gt}}}a.wrap=w;var L="suspendedStart",q="suspendedYield",G="executing",te="completed",ae={};function Ne(){}function Q(){}function se(){}var _e={},ve=(b(_e,p,function(){return this}),Object.getPrototypeOf),ve=ve&&ve(ve(Zl([]))),ze=(ve&&ve!==l&&d.call(ve,p)&&(_e=ve),se.prototype=Ne.prototype=Object.create(_e));function si(Ve){["next","throw","return"].forEach(function(vn){b(Ve,vn,function(Hn){return this._invoke(vn,Hn)})})}function ct(Ve,vn){var Hn;this._invoke=function(gt,tt){function Dr(){return new vn(function(Ot,Si){(function oi(da,Za,es,Ur){var Eo,da=O(Ve[da],Ve,Za);if(da.type!=="throw")return(Za=(Eo=da.arg).value)&&typeof Za=="object"&&d.call(Za,"__await")?vn.resolve(Za.__await).then(function(dt){oi("next",dt,es,Ur)},function(dt){oi("throw",dt,es,Ur)}):vn.resolve(Za).then(function(dt){Eo.value=dt,es(Eo)},function(dt){return oi("throw",dt,es,Ur)});Ur(da.arg)})(gt,tt,Ot,Si)})}return Hn=Hn?Hn.then(Dr,Dr):Dr()}}function Jl(Ve){var vn={tryLoc:Ve[0]};1 in Ve&&(vn.catchLoc=Ve[1]),2 in Ve&&(vn.finallyLoc=Ve[2],vn.afterLoc=Ve[3]),this.tryEntries.push(vn)}function Bd(Ve){var vn=Ve.completion||{};vn.type="normal",delete vn.arg,Ve.completion=vn}function Gd(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(Jl,this),this.reset(!0)}function Zl(Ve){if(Ve){var vn,Hn=Ve[p];if(Hn)return Hn.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length))return vn=-1,(Hn=function gt(){for(;++vn<Ve.length;)if(d.call(Ve,vn))return gt.value=Ve[vn],gt.done=!1,gt;return gt.value=s,gt.done=!0,gt}).next=Hn}return{next:nl}}function nl(){return{value:s,done:!0}}return b(ze,"constructor",Q.prototype=se),b(se,"constructor",Q),Q.displayName=b(se,g,"GeneratorFunction"),a.isGeneratorFunction=function(Ve){return Ve=typeof Ve=="function"&&Ve.constructor,!!Ve&&(Ve===Q||(Ve.displayName||Ve.name)==="GeneratorFunction")},a.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,se):(Ve.__proto__=se,b(Ve,g,"GeneratorFunction")),Ve.prototype=Object.create(ze),Ve},a.awrap=function(Ve){return{__await:Ve}},si(ct.prototype),b(ct.prototype,m,function(){return this}),a.AsyncIterator=ct,a.async=function(Ve,vn,Hn,gt,tt){tt===void 0&&(tt=Promise);var Dr=new ct(w(Ve,vn,Hn,gt),tt);return a.isGeneratorFunction(vn)?Dr:Dr.next().then(function(Ot){return Ot.done?Ot.value:Dr.next()})},si(ze),b(ze,g,"Generator"),b(ze,p,function(){return this}),b(ze,"toString",function(){return"[object Generator]"}),a.keys=function(Ve){var vn,Hn=[];for(vn in Ve)Hn.push(vn);return Hn.reverse(),function gt(){for(;Hn.length;){var tt=Hn.pop();if(tt in Ve)return gt.value=tt,gt.done=!1,gt}return gt.done=!0,gt}},a.values=Zl,Gd.prototype={constructor:Gd,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Bd),!Ve)for(var vn in this)vn.charAt(0)==="t"&&d.call(this,vn)&&!isNaN(+vn.slice(1))&&(this[vn]=s)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var vn=this;function Hn(oi,yo){return Dr.type="throw",Dr.arg=Ve,vn.next=oi,yo&&(vn.method="next",vn.arg=s),!!yo}for(var gt=this.tryEntries.length-1;0<=gt;--gt){var tt=this.tryEntries[gt],Dr=tt.completion;if(tt.tryLoc==="root")return Hn("end");if(tt.tryLoc<=this.prev){var Ot=d.call(tt,"catchLoc"),Si=d.call(tt,"finallyLoc");if(Ot&&Si){if(this.prev<tt.catchLoc)return Hn(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return Hn(tt.finallyLoc)}else if(Ot){if(this.prev<tt.catchLoc)return Hn(tt.catchLoc,!0)}else{if(!Si)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return Hn(tt.finallyLoc)}}}},abrupt:function(Ve,vn){for(var Hn=this.tryEntries.length-1;0<=Hn;--Hn){var gt=this.tryEntries[Hn];if(gt.tryLoc<=this.prev&&d.call(gt,"finallyLoc")&&this.prev<gt.finallyLoc){var tt=gt;break}}var Dr=(tt=tt&&(Ve==="break"||Ve==="continue")&&tt.tryLoc<=vn&&vn<=tt.finallyLoc?null:tt)?tt.completion:{};return Dr.type=Ve,Dr.arg=vn,tt?(this.method="next",this.next=tt.finallyLoc,ae):this.complete(Dr)},complete:function(Ve,vn){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&vn&&(this.next=vn),ae},finish:function(Ve){for(var vn=this.tryEntries.length-1;0<=vn;--vn){var Hn=this.tryEntries[vn];if(Hn.finallyLoc===Ve)return this.complete(Hn.completion,Hn.afterLoc),Bd(Hn),ae}},catch:function(Ve){for(var vn=this.tryEntries.length-1;0<=vn;--vn){var Hn,gt,tt=this.tryEntries[vn];if(tt.tryLoc===Ve)return(Hn=tt.completion).type==="throw"&&(gt=Hn.arg,Bd(tt)),gt}throw new Error("illegal catch attempt")},delegateYield:function(Ve,vn,Hn){return this.delegate={iterator:Zl(Ve),resultName:vn,nextLoc:Hn},this.method==="next"&&(this.arg=s),ae}},a}(ft.exports);try{regeneratorRuntime=ft}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ft:Function("r","regeneratorRuntime = r")(ft)}var K=new Uint8Array(16),z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function W(a){return typeof a=="string"&&z.test(a)}for(var j=[],ce=0;ce<256;++ce)j.push((ce+256).toString(16).substr(1));function ue(a,s){if(s=1<arguments.length&&s!==void 0?s:0,a=(j[a[s+0]]+j[a[s+1]]+j[a[s+2]]+j[a[s+3]]+"-"+j[a[s+4]]+j[a[s+5]]+"-"+j[a[s+6]]+j[a[s+7]]+"-"+j[a[s+8]]+j[a[s+9]]+"-"+j[a[s+10]]+j[a[s+11]]+j[a[s+12]]+j[a[s+13]]+j[a[s+14]]+j[a[s+15]]).toLowerCase(),W(a))return a;throw TypeError("Stringified UUID is invalid")}function we(){try{}catch{}}function Se(a,s,l){var d=(a=a||{}).random||(a.rng||function(){if(H=H||typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto))return H(K);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,s){l=l||0;for(var p=0;p<16;++p)s[l+p]=d[p];return s}return ue(d)}we(),we();function ie(a){return a&&a.Math==Math&&a}function oe(a){try{return!!a()}catch{return!0}}function de(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}function De(a){return rd(sa(a),8,-1)}function He(a){if(a==null)throw O0("Can't call method on "+a);return a}function ge(a){return A0($u(a))}function be(a){return typeof a=="function"}function Le(a){return typeof a=="object"?a!==null:id(a)}function ee(a,s){return arguments.length<2?(l=ho[a],ad(l)?l:void 0):ho[a]&&ho[a][s];var l}function X(a){try{return Bo(a)}catch{return"Object"}}function me(a){if(od(a))return a;throw ju(zu(a)+" is not a function")}function Qe(a,s){return(a=a[s])==null?void 0:Vu(a)}function qe(a,s){try{np(ld,a,{value:s,configurable:!0,writable:!0})}catch{ld[a]=s}return s}function Te(a){return cd(tp(a))}function ke(a){return"Symbol("+(a===void 0?"":a)+")_"+ap(++ip+R0,36)}function Oe(a){var s;return sp(Go,a)&&(hd||typeof Go[a]=="string")||(s="Symbol."+a,hd&&sp(po,a)?Go[a]=po[a]:Go[a]=(op&&pd?pd:M0)(s)),Go[a]}function Ze(a,s){if(!Wn(a)||Re(a))return a;var l=Ce(a,Yt);if(l){if(l=xt(l,a,s=s===void 0?"default":s),!Wn(l)||Re(l))return l;throw Gn("Can't convert object to primitive value")}return An(a,s=s===void 0?"number":s)}function yn(a){return a=kt(a,"string"),$o(a)?a:a+""}function Rn(a){return SH?lp.createElement(a):{}}function pn(a){if(UH(a))return a;throw PH(LH(a)+" is not an object")}function Un(a){return bk[a]||(bk[a]=zH(a))}function an(a,s,l,d){var p=(d=d||{}).enumerable,m=d.name!==void 0?d.name:s;if(eq(l)&&tq(l,m,d),d.global)p?a[s]=l:rq(s,l);else{try{d.unsafe?a[s]&&(p=!0):delete a[s]}catch{}p?a[s]=l:nq.f(a,s,{value:l,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return a}function Mn(a){return(a=+a)!=a||a==0?0:sq(a)}function En(a,s){return(a=oq(a))<0?lq(a+s,0):uq(a,s)}function Sn(a){return 0<a?dq(cq(a),9007199254740991):0}function $(a){return hq(a.length)}function A(a){return function(s,l,d){var p,m=pq(s),g=mq(m),b=fq(d,g);if(a&&l!=l){for(;b<g;)if((p=m[b++])!=p)return!0}else for(;b<g;b++)if((a||b in m)&&m[b]===l)return a||b||0;return!a&&-1}}function R(a,s){var l,d=gq(a),p=0,m=[];for(l in d)!w_(_q,l)&&w_(d,l)&&Ek(m,l);for(;s.length>p;)!w_(d,l=s[p++])||~vq(m,l)||Ek(m,l);return m}function V(a,s){return(a=Rq[Aq(a)])==Dq||a!=Mq&&(Iq(s)?Tq(s):!!s)}function Z(a,s){var l,d,p,m=a.target,g=a.global,b=a.stat,w=g?x_:b?x_[m]||Fq(m,{}):(x_[m]||{}).prototype;if(w)for(l in s){if(d=s[l],p=a.dontCallGetSet?(p=Uq(w,l))&&p.value:w[l],!qq(g?l:m+(b?".":"#")+l,a.forced)&&p!==void 0){if(typeof d==typeof p)continue;Hq(d,p)}(a.sham||p&&p.sham)&&Lq(d,"sham",!0),Pq(w,l,d,a)}}function ye(a,s){return Bq(a),s===void 0?a:Gq?$q(a,s):function(){return a.apply(s,arguments)}}function Ie(){}function mn(a){if(!xk(a))return!1;try{return kk(Ie,Xq,a),!0}catch{return!1}}function hn(a){if(!xk(a))return!1;switch(Qq(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zq||!!Jq(k_,Yq(a))}catch{return!0}}function tn(a,s){return new(rB(a))(s===0?0:s)}function Be(a){var s=a==1,l=a==2,d=a==3,p=a==4,m=a==6,g=a==7,b=a==5||m;return function(w,O,L,q){for(var G,te,ae=sB(w),Ne=aB(ae),Q=iB(O,L),se=oB(Ne),_e=0,O=q||lB,ve=s?O(w,se):l||g?O(w,0):void 0;_e<se;_e++)if((b||_e in Ne)&&(te=Q(G=Ne[_e],_e,ae),a))if(s)ve[_e]=te;else if(te)switch(a){case 3:return!0;case 5:return G;case 6:return _e;case 2:Nk(ve,G)}else switch(a){case 4:return!1;case 7:Nk(ve,G)}return m?-1:d||p?p:ve}}function kn(a){return 51<=cB||!uB(function(){var s=[];return(s.constructor={})[dB]=function(){return{foo:1}},s[a](Boolean).foo!==1})}var lt,Lt,Ar,fi,za,Ol,Al,Us,ln,td,ft=ie(typeof globalThis=="object"&&globalThis)||ie(typeof window=="object"&&window)||ie(typeof self=="object"&&self)||ie(typeof qi=="object"&&qi)||function(){return this}()||Function("return this")(),qi={},Xe=!oe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),vi=!oe(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),Ls=Function.prototype.call,Mr=vi?Ls.bind(Ls):function(){return Ls.apply(Ls,arguments)},mr={},Jn={}.propertyIsEnumerable,Ho=Object.getOwnPropertyDescriptor,fr=Ho&&!Jn.call({1:2},1),fr=(mr.f=fr?function(a){return a=Ho(this,a),!!a&&a.enumerable}:Jn,vi),Jn=Function.prototype,Ta=Jn.bind,Rl=Jn.call,Bu=fr&&Ta.bind(Rl,Rl),Jn=fr?function(a){return a&&Bu(a)}:function(a){return a&&function(){return Rl.apply(a,arguments)}},Ta=Jn,sa=Ta({}.toString),rd=Ta("".slice),fr=oe,Qh=De,Gu=Object,I0=Jn("".split),Ta=fr(function(){return!Gu("z").propertyIsEnumerable(0)})?function(a){return Qh(a)=="String"?I0(a,""):Gu(a)}:Gu,O0=TypeError,A0=Ta,$u=He,id=be,ho=ft,ad=be,fr=Jn({}.isPrototypeOf),qo=ee("navigator","userAgent")||"",pt=qo,Yr=ft.process,lr=ft.Deno,Yr=Yr&&Yr.versions||lr&&lr.version,lr=Yr&&Yr.v8,Yr=Rr=!(Rr=lr?0<(jt=lr.split("."))[0]&&jt[0]<4?1:+(jt[0]+jt[1]):Rr)&&pt&&(!(jt=pt.match(/Edge\/(\d+)/))||74<=jt[1])&&(jt=pt.match(/Chrome\/(\d+)/))?+jt[1]:Rr,sd=Yr,lr=oe,pt=!!Object.getOwnPropertySymbols&&!lr(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&sd&&sd<41}),jt=pt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Yh=ee,Xh=be,Jh=fr,Zh=Object,Rr=jt?function(a){return typeof a=="symbol"}:function(a){var s=Yh("Symbol");return Xh(s)&&Jh(s.prototype,Zh(a))},Bo=String,od=be,zu=X,ju=TypeError,Vu=me,Ml=Mr,Dl=be,Wu=Le,ep=TypeError,lr={exports:{}},ld=ft,np=Object.defineProperty,Nn=qe,ur="__core-js_shared__",Nn=ft[ur]||Nn(ur,{}),ud=Nn,tp=((lr.exports=function(a,s){return ud[a]||(ud[a]=s!==void 0?s:{})})("versions",[]).push({version:"3.23.4",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"}),He),cd=Object,dd=Te,rp=Jn({}.hasOwnProperty),ur=Object.hasOwn||function(a,s){return rp(dd(a),s)},Fn=Jn,ip=0,R0=Math.random(),ap=Fn(1 .toString),Fn=ft,It=lr.exports,sp=ur,Ht=ke,hd=pt,op=jt,Go=It("wks"),po=Fn.Symbol,pd=po&&po.for,M0=op?po:po&&po.withoutSetter||Ht,xt=Mr,Wn=Le,Re=Rr,Ce=Qe,An=function(a,s){var l,d;if(s==="string"&&Dl(l=a.toString)&&!Wu(d=Ml(l,a))||Dl(l=a.valueOf)&&!Wu(d=Ml(l,a))||s!=="string"&&Dl(l=a.toString)&&!Wu(d=Ml(l,a)))return d;throw ep("Can't convert object to primitive value")},Gn=TypeError,Yt=Oe("toPrimitive"),kt=Ze,$o=Rr,pt=Le,lp=ft.document,SH=pt(lp)&&pt(lp.createElement),NH=Rn,jt=!Xe&&!oe(function(){return Object.defineProperty(NH("div"),"a",{get:function(){return 7}}).a!=7}),TH=Mr,IH=mr,OH=de,AH=ge,RH=yn,MH=ur,DH=jt,mk=Object.getOwnPropertyDescriptor,It=(qi.f=Xe?mk:function(a,s){if(a=AH(a),s=RH(s),DH)try{return mk(a,s)}catch{}if(MH(a,s))return OH(!TH(IH.f,a,s),a[s])},{}),Fn=Xe&&oe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),UH=Le,LH=String,PH=TypeError,FH=jt,D0=pn,gk=yn,HH=TypeError,v_=Object.defineProperty,qH=Object.getOwnPropertyDescriptor,vk="enumerable",_k="configurable",__="writable",Ht=(It.f=Xe?Fn?function(a,s,l){var d;return D0(a),s=gk(s),D0(l),typeof a=="function"&&s==="prototype"&&"value"in l&&__ in l&&!l[__]&&(d=qH(a,s))&&d[__]&&(a[s]=l.value,l={configurable:(_k in l?l:d)[_k],enumerable:(vk in l?l:d)[vk],writable:!1}),v_(a,s,l)}:v_:function(a,s,l){if(D0(a),s=gk(s),D0(l),FH)try{return v_(a,s,l)}catch{}if("get"in l||"set"in l)throw HH("Accessors not supported");return"value"in l&&(a[s]=l.value),a},Xe),BH=It,GH=de,pt=Ht?function(a,s,l){return BH.f(a,s,GH(1,l))}:function(a,s,l){return a[s]=l,a},jt={exports:{}},Ht=Xe,Ke=ur,Gr=Function.prototype,ut=Ht&&Object.getOwnPropertyDescriptor,Ke=Ke(Gr,"name"),Ke={EXISTS:Ke,PROPER:Ke&&function(){}.name==="something",CONFIGURABLE:Ke&&(!Ht||ut(Gr,"name").configurable)},Ht=be,ut=Nn,$H=Jn(Function.toString),Gr=(Ht(ut.inspectSource)||(ut.inspectSource=function(a){return $H(a)}),ut.inspectSource),Ht=be,ut=Gr,Jt=ft.WeakMap,Ht=Ht(Jt)&&/native code/.test(ut(Jt)),ut=lr.exports,zH=ke,bk=ut("keys"),Jt={},ut=Jn,jH=Le,VH=pt,b_=ur,ni=Un,je=Jt,yk="Object already initialized",y_=ft.TypeError,wt=ft.WeakMap,Ht=(Al=Ht||Nn.state?(lt=Nn.state||(Nn.state=new wt),Lt=ut(lt.get),Ar=ut(lt.has),fi=ut(lt.set),za=function(a,s){if(Ar(lt,a))throw new y_(yk);return s.facade=a,fi(lt,a,s),s},Ol=function(a){return Lt(lt,a)||{}},function(a){return Ar(lt,a)}):(je[Us=ni("state")]=!0,za=function(a,s){if(b_(a,Us))throw new y_(yk);return s.facade=a,VH(a,Us,s),s},Ol=function(a){return b_(a,Us)?a[Us]:{}},function(a){return b_(a,Us)}),{set:za,get:Ol,has:Al,enforce:function(a){return Al(a)?Ol(a):za(a,{})},getterFor:function(a){return function(s){if(jH(s)&&(s=Ol(s)).type===a)return s;throw y_("Incompatible receiver, "+a+" required")}}}),Nn=oe,WH=be,U0=ur,E_=Xe,KH=Ke.CONFIGURABLE,QH=Gr,YH=Ht.enforce,XH=Ht.get,L0=Object.defineProperty,JH=E_&&!Nn(function(){return L0(function(){},"length",{value:8}).length!==8}),ZH=String(String).split("String"),wt=jt.exports=function(a,s,l){String(s).slice(0,7)==="Symbol("&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),l&&l.getter&&(s="get "+s),l&&l.setter&&(s="set "+s),(!U0(a,"name")||KH&&a.name!==s)&&(E_?L0(a,"name",{value:s,configurable:!0}):a.name=s),JH&&l&&U0(l,"arity")&&a.length!==l.arity&&L0(a,"length",{value:l.arity});try{l&&U0(l,"constructor")&&l.constructor?E_&&L0(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch{}return l=YH(a),U0(l,"source")||(l.source=ZH.join(typeof s=="string"?s:"")),a},eq=(Function.prototype.toString=wt(function(){return WH(this)&&XH(this).source||QH(this)},"toString"),be),nq=It,tq=jt.exports,rq=qe,ut={},iq=Math.ceil,aq=Math.floor,sq=Math.trunc||function(a){return a=+a,(0<a?aq:iq)(a)},oq=Mn,lq=Math.max,uq=Math.min,cq=Mn,dq=Math.min,hq=Sn,pq=ge,fq=En,mq=$,je={includes:A(!0),indexOf:A(!1)},ni=Jn,w_=ur,gq=ge,vq=je.indexOf,_q=Jt,Ek=ni([].push),Nn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bq=R,yq=Nn.concat("length","prototype"),wt=(ut.f=Object.getOwnPropertyNames||function(a){return bq(a,yq)},{}),jt=(wt.f=Object.getOwnPropertySymbols,ee),Eq=ut,wq=wt,xq=pn,kq=Jn([].concat),ni=jt("Reflect","ownKeys")||function(a){var s=Eq.f(xq(a)),l=wq.f;return l?kq(s,l(a)):s},wk=ur,Cq=ni,Sq=qi,Nq=It,Tq=oe,Iq=be,Oq=/#|\.prototype\./,Aq=V.normalize=function(a){return String(a).replace(Oq,".").toLowerCase()},Rq=V.data={},Mq=V.NATIVE="N",Dq=V.POLYFILL="P",jt=V,x_=ft,Uq=qi.f,Lq=pt,Pq=an,Fq=qe,Hq=function(a,s,l){for(var d=Cq(s),p=Nq.f,m=Sq.f,g=0;g<d.length;g++){var b=d[g];wk(a,b)||l&&wk(l,b)||p(a,b,m(s,b))}},qq=jt,Bq=me,Gq=vi,$q=Jn(Jn.bind),zq=De,ni=Array.isArray||function(a){return zq(a)=="Array"},gn={},gn=(gn[Oe("toStringTag")]="z",String(gn)==="[object z]"),zn=gn,jq=be,P0=De,Vq=Oe("toStringTag"),Wq=Object,Kq=P0(function(){return arguments}())=="Arguments",zn=zn?P0:function(a){var s;return a===void 0?"Undefined":a===null?"Null":typeof(s=function(l,d){try{return l[d]}catch{}}(a=Wq(a),Vq))=="string"?s:Kq?P0(a):(s=P0(a))=="Object"&&jq(a.callee)?"Arguments":s},la=Jn,mi=oe,xk=be,Qq=zn,Yq=Gr,Xq=[],kk=ee("Reflect","construct"),k_=/^\s*(?:class|function)\b/,Jq=la(k_.exec),Zq=!k_.exec(Ie),la=(hn.sham=!0,!kk||mi(function(){var a;return mn(mn.call)||!mn(Object)||!mn(function(){a=!0})||a})?hn:mn),Ck=ni,eB=la,nB=Le,tB=Oe("species"),Sk=Array,rB=function(a){var s;return Ck(a)&&(s=a.constructor,(eB(s)&&(s===Sk||Ck(s.prototype))||nB(s)&&(s=s[tB])===null)&&(s=void 0)),s===void 0?Sk:s},iB=ye,aB=Ta,sB=Te,oB=$,lB=tn,Nk=Jn([].push),mi={forEach:Be(0),map:Be(1),filter:Be(2),some:Be(3),every:Be(4),find:Be(5),findIndex:Be(6),filterReject:Be(7)},uB=oe,cB=Yr,dB=Oe("species"),rn=Z,hB=mi.map,F0=(rn({target:"Array",proto:!0,forced:!kn("map")},{map:function(a){return hB(this,a,1<arguments.length?arguments[1]:void 0)}}),f(function a(){c(this,a)})),Tk=function(){_(s,F0);var a=C(s);function s(){return c(this,s),a.call(this)}return f(s,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),s}(),or=function(){_(s,Tk);var a=C(s);function s(){return c(this,s),a.call(this)}return f(s,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),s}(),pB=((rn=ln=ln||{}).CREATE="create",rn.UPDATE="update",rn.GET="get",rn.DELETE="delete",rn.QUERY="query",rn.READY="ready",rn.START="start",rn.ENTER_HOST="enter_host",rn.GET_HOSTS="get_hosts",rn.EXIT_HOST="exit_host",rn.HOST_ALIVE="host_alive",rn.AUDIO="audio",rn.VIDEO="video",rn.HOST_CREATE_STREAM="host_create_stream",rn.HOST_DELETE_STREAM="host_delete_stream",rn.HOST_CONNECTED="host_connected",rn.ENTER="enter",rn.EXIT="exit",rn.ALIVE="alive",rn.GET_PARTICIPANTS="get_participants",rn.CREATE_STREAM="create_stream",rn.DELETE_STREAM="delete_stream",rn.CONNECTED="connected",rn.ATTACH="attach",rn.CUSTOM_ITEMS_GET="custom_items_get",rn.CUSTOM_ITEMS_UPDATE="custom_items_update",rn.CUSTOM_ITEMS_DELETE="custom_items_delete",rn.LIVE_EVENT_READY="live_event_ready",rn.LIVE_EVENT_STARTED="live_event_started",rn.LIVE_EVENT_ENDED="live_event_ended",rn.LIVE_EVENT_UPDATED="live_event_updated",rn.HOST_ENTERED="host_entered",rn.HOST_EXITED="host_exited",rn.HOST_DISCONNECTED="host_disconnected",rn.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",rn.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",rn.PARTICIPANT_ENTERED="participant_entered",rn.PARTICIPANT_EXITED="participant_exited",(rn=td=td||{}).SINGLE_HOST="single_host",rn.MULTIPLE_HOST="multiple_host",function(){_(s,F0);var a=C(s);function s(l){var d;return c(this,s),(d=a.call(this)).payload=d.parseData(l),d}return f(s)}()),pr=function(){_(s,pB);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s)}();function Ps(a){return{liveEventId:a.live_event_id,createdAt:a.created_at,setReadyAt:a.set_ready_at,startedAt:a.started_at,endedAt:a.ended_at,state:a.state,isHostStreaming:a.is_host_streaming,createdBy:a.created_by,setReadyBy:a.set_ready_by,startedBy:a.started_by,endedBy:a.ended_by,duration:a.duration,host:a.host?fo(a.host):void 0,participantCount:a.participant_count,peakParticipantCount:a.peak_participant_count,cumulativeParticipantCount:a.cumulative_participant_count,userIdsForHost:a.user_ids_for_host,customItems:a.custom_items,title:a.title,coverUrl:a.cover_url}}function fo(a){return{hostId:a.host_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,connectedAt:a.connected_at,disconnectedAt:a.disconnected_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,isAudioOn:a.is_audio_on,isVideoOn:a.is_video_on,liveEventId:a.live_event_id}}function up(a){return{id:a.rtcstream_id}}function cp(a){return{participantId:a.participant_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,liveEventId:a.live_event_id}}var rn=Z,fB=mi.filter;rn({target:"Array",proto:!0,forced:!kn("filter")},{filter:function(a){return fB(this,a,1<arguments.length?arguments[1]:void 0)}});function Ik(a){if(9007199254740991<a)throw bB("Maximum allowed index exceeded");return a}function H0(a,s,l){(s=yB(s))in a?EB.f(a,s,wB(0,l)):a[s]=l}function Fs(a){if(TB(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return IB(a)}function Ok(){var a=OB(this),s="";return a.hasIndices&&(s+="d"),a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.unicodeSets&&(s+="v"),a.sticky&&(s+="y"),s}var mB=zn,gB=(gn||an(Object.prototype,"toString",gn?{}.toString:function(){return"[object "+mB(this)+"]"},{unsafe:!0}),R),vB=Nn,rn=Object.keys||function(a){return gB(a,vB)},_B=Te,Ak=rn,bB=(Z({target:"Object",stat:!0,forced:oe(function(){Ak(1)})},{keys:function(a){return Ak(_B(a))}}),TypeError),yB=yn,EB=It,wB=de,gn=Z,In=oe,xB=ni,kB=Le,CB=Te,SB=$,Rk=Ik,Mk=H0,NB=tn,St=kn,Vn=Yr,Dk=Oe("isConcatSpreadable"),Vn=51<=Vn||!In(function(){var a=[];return a[Dk]=!1,a.concat()[0]!==a}),In=St("concat"),TB=(gn({target:"Array",proto:!0,arity:1,forced:!Vn||!In},{concat:function(a){for(var s,l,d,p=CB(this),m=NB(p,0),g=0,b=-1,w=arguments.length;b<w;b++)if(function(O){if(!kB(O))return!1;var L=O[Dk];return L!==void 0?!!L:xB(O)}(d=b===-1?p:arguments[b]))for(l=SB(d),Rk(g+l),s=0;s<l;s++,g++)s in d&&Mk(m,g,d[s]);else Rk(g+1),Mk(m,g++,d);return m.length=g,m}}),zn),IB=String,OB=pn,AB=Mr,RB=ur,MB=fr,DB=Ok,Uk=RegExp.prototype,St=Ke.PROPER,gn=an,UB=pn,Lk=Fs,Vn=oe,LB=function(a){var s=a.flags;return s!==void 0||"flags"in Uk||RB(a,"flags")||!MB(Uk,a)?s:AB(DB,a)},In="toString",Pk=RegExp.prototype[In],Vn=Vn(function(){return Pk.call({source:"a",flags:"b"})!="/a/b"}),St=St&&Pk.name!=In;function PB(a){return Object.keys(a).filter(function(s){return a[s]!=null}).map(function(s){return"".concat(encodeURIComponent(s),"=").concat(function(l){return Array.isArray(l)?l.map(function(d){return encodeURIComponent(d.toString())}).join(","):encodeURIComponent(l.toString())}(a[s]))}).join("&")}(Vn||St)&&gn(RegExp.prototype,In,function(){var a=UB(this);return"/"+Lk(a.source)+"/"+Lk(LB(a))},{unsafe:!0});var FB=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.QUERY),m.params=m._normalizeParams(l),m.prevToken=d,m.nextToken=p,m}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(L){var d=L.hostType,p=L.liveEventState,m=L.createdAtRange,g=L.participantCountRange,b=L.durationRange,w=L.liveEventIds,O=L.createdByUserIds,L=L.limit;return{hostType:d,liveEventState:p,createdAtRange:m,participantCountRange:g,durationRange:b,liveEventIds:w,createdByUserIds:O,limit:L!=null?Math.min(Math.max(1,L),100):void 0}}},{key:"_createQuery",value:function(){var l;return PB({hostType:this.params.hostType,liveEventState:this.params.liveEventState,created_at_start_date:(l=this.params.createdAtRange)==null?void 0:l[0],created_at_end_date:(l=this.params.createdAtRange)==null?void 0:l[0],participant_count_gte:(l=this.params.participantCountRange)==null?void 0:l[0],participant_count_lte:(l=this.params.participantCountRange)==null?void 0:l[1],duration_range_gte:(l=this.params.durationRange)==null?void 0:l[0],duration_range_lte:(l=this.params.durationRange)==null?void 0:l[1],liveEventIds:this.params.liveEventIds,createdByUserIds:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),s}(),HB=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){var d;return{liveEvents:(d=l.live_events)==null?void 0:d.map(Ps),prev:l.prev,next:l.next}}}]),s}(),qB=function(){function a(p,m){c(this,a),this.isLoading=!1,this.params=p,this.sender=m,this.prevToken=null,this.nextToken=null}var s,l,d;return f(a,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(d=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasNext){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return m.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"prev",value:(l=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasPrev){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return m.stop()}},p,this)})),function(){return l.apply(this,arguments)})},{key:"_sendQueryCommand",value:(s=u(regeneratorRuntime.mark(function p(m,g){var b,w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(m&&g)throw new Error("internal error while creating LiveEventListQueryCommand");O.next=2;break;case 2:return this.isLoading=!0,b=new FB(this.params,m,g),O.next=6,this.sender.send(b);case 6:return b=O.sent,w=b.payload,this.prevToken=w.prev,this.nextToken=w.next,this.isLoading=!1,O.abrupt("return",w.liveEvents);case 12:case"end":return O.stop()}},p,this)})),function(p,m){return s.apply(this,arguments)})}]),a}(),Vn={},BB=It,GB=pn,$B=ge,zB=rn;Vn.f=Xe&&!Fn?Object.defineProperties:function(a,s){GB(a);for(var l,d=$B(s),p=zB(s),m=p.length,g=0;g<m;)BB.f(a,l=p[g++],d[l]);return a};function C_(){}function jB(a){a.write(qk("")),a.close();var s=a.parentWindow.Object;return a=null,s}function q0(a){O_[I_][a]=!0}var S_,Ku,St=ee("document","documentElement"),VB=pn,WB=Vn,Fk=Nn,gn=Jt,KB=St,QB=Rn,N_="prototype",T_="script",Hk=Un("IE_PROTO"),qk=function(a){return"<"+T_+">"+a+"</"+T_+">"},B0=function(){try{S_=new ActiveXObject("htmlfile")}catch{}B0=typeof document>"u"||document.domain&&S_?jB(S_):(a=QB("iframe"),s="java"+T_+":",a.style.display="none",KB.appendChild(a),a.src=String(s),(s=a.contentWindow.document).open(),s.write(qk("document.F=Object")),s.close(),s.F);for(var a,s,l=Fk.length;l--;)delete B0[N_][Fk[l]];return B0()},In=(gn[Hk]=!0,Object.create||function(a,s){var l;return a!==null?(C_[N_]=VB(a),l=new C_,C_[N_]=null,l[Hk]=a):l=B0(),s===void 0?l:WB.f(l,s)}),Fn=Oe,Vn=In,Nn=It.f,I_=Fn("unscopables"),O_=Array.prototype,gn=(O_[I_]==null&&Nn(O_,I_,{configurable:!0,value:Vn(null)}),Z),YB=mi.findIndex,Fn=q0,Nn="findIndex",Bk=!0,Vn=(Nn in[]&&Array(1)[Nn](function(){Bk=!1}),gn({target:"Array",proto:!0,forced:Bk},{findIndex:function(a){return YB(this,a,1<arguments.length?arguments[1]:void 0)}}),Fn(Nn),{}),gn=!oe(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),XB=ur,JB=be,ZB=Te,Fn=gn,Gk=Un("IE_PROTO"),A_=Object,eG=A_.prototype,Nn=Fn?A_.getPrototypeOf:function(a){if(a=ZB(a),XB(a,Gk))return a[Gk];var s=a.constructor;return JB(s)&&a instanceof s?s.prototype:a instanceof A_?eG:null},gn=oe,Fn=be,Bi=Nn,zt=an,R_=Oe("iterator"),it=!1;[].keys&&("next"in(Br=[].keys())?(Bi=Bi(Bi(Br)))!==Object.prototype&&(Ku=Bi):it=!0);function G0(a,s,l){(a=a&&!l?a.prototype:a)&&!iG(a,$k)&&rG(a,$k,{configurable:!0,value:s})}function nG(){return this}function tG(){return this}function M_(a,s,l,L,p,m,g){function b(Q){if(Q===p&&ae)return ae;if(!$0&&Q in G)return G[Q];switch(Q){case"keys":case hp:case Wk:return function(){return new l(this,Q)}}return function(){return new l(this)}}bG(l,s,L);var w,O,L=s+" Iterator",q=!1,G=a.prototype,te=G[dp]||G["@@iterator"]||p&&G[p],ae=!$0&&te||b(p),Ne=s=="Array"&&G.entries||te;if(Ne&&(Ne=zk(Ne.call(new a)))!==Object.prototype&&Ne.next&&(zk(Ne)!==Vk&&(jk?jk(Ne,Vk):_G(Ne[dp])||D_(Ne,dp,tG)),yG(Ne,L,!0)),xG&&p==hp&&te&&te.name!==hp&&(kG?EG(G,"name",hp):(q=!0,ae=function(){return vG(te,this)})),p)if(w={values:b(hp),keys:m?ae:b("keys"),entries:b(Wk)},g)for(O in w)!$0&&!q&&O in G||D_(G,O,w[O]);else gG({target:s,proto:!0,forced:$0||q},w);return G[dp]!==ae&&D_(G,dp,ae,{name:p}),wG[s]=ae,w}Fn((Ku=Ku==null||gn(function(){var a={};return Ku[R_].call(a)!==a})?{}:Ku)[R_])||zt(Ku,R_,function(){return this});var Br={IteratorPrototype:Ku,BUGGY_SAFARI_ITERATORS:it},rG=It.f,iG=ur,$k=Oe("toStringTag"),aG=Br.IteratorPrototype,sG=In,oG=de,lG=G0,uG=Vn,cG=be,dG=String,hG=TypeError,pG=Jn,fG=pn,mG=function(a){if(typeof a=="object"||cG(a))return a;throw hG("Can't set "+dG(a)+" as a prototype")},Bi=Object.setPrototypeOf||("__proto__"in{}?function(){var a,s=!1,l={};try{(a=pG(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(l,[]),s=l instanceof Array}catch{}return function(d,p){return fG(d),mG(p),s?a(d,p):d.__proto__=p,d}}():void 0),gG=Z,vG=Mr,_G=be,bG=function(a,s,l,d){return s+=" Iterator",a.prototype=sG(aG,{next:oG(+!d,l)}),lG(a,s,!1),uG[s]=nG,a},zk=Nn,jk=Bi,yG=G0,EG=pt,D_=an,Fn=Oe,wG=Vn,xG=Ke.PROPER,kG=Ke.CONFIGURABLE,Vk=Br.IteratorPrototype,$0=Br.BUGGY_SAFARI_ITERATORS,dp=Fn("iterator"),hp="values",Wk="entries",CG=ge,gn=q0,zt=Vn,it=Ht,Nn=It.f,Ke=M_,Br=Xe,Kk="Array Iterator",SG=it.set,NG=it.getterFor(Kk),Fn=Ke(Array,"Array",function(a,s){SG(this,{type:Kk,target:CG(a),index:0,kind:s})},function(){var a=NG(this),s=a.target,l=a.kind,d=a.index++;return!s||d>=s.length?{value:a.target=void 0,done:!0}:l=="keys"?{value:d,done:!1}:l=="values"?{value:s[d],done:!1}:{value:[d,s[d]],done:!1}},"values"),it=zt.Arguments=zt.Array;if(gn("keys"),gn("values"),gn("entries"),Br&&it.name!=="values")try{Nn(it,"name",{value:"values"})}catch{}var Ke={exports:{}},zt={},Qk=En,TG=$,IG=H0,OG=Array,AG=Math.max,RG=De,MG=ge,Yk=ut.f,DG=function(a,s,l){for(var d=TG(a),p=Qk(s,d),m=Qk(l===void 0?d:l,d),g=OG(AG(m-p,0)),b=0;p<m;p++,b++)IG(g,b,a[p]);return g.length=b,g},Xk=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];zt.f=function(a){if(!Xk||RG(a)!="Window")return Yk(MG(a));try{return Yk(a)}catch{return DG(Xk)}};function U_(a){qG(a,zo,{value:{objectID:"O"+$G++,weakData:{}}})}var gn=oe(function(){var a;typeof ArrayBuffer=="function"&&(a=new ArrayBuffer(8),Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8}))}),Br=oe,UG=Le,LG=De,Jk=gn,L_=Object.isExtensible,Nn=Br(function(){})||Jk?function(a){return!!UG(a)&&(!Jk||LG(a)!="ArrayBuffer")&&(!L_||L_(a))}:L_,it=!oe(function(){return Object.isExtensible(Object.preventExtensions({}))}),PG=Z,FG=Jn,gn=Jt,HG=Le,P_=ur,qG=It.f,Zk=ut,BG=zt,F_=Nn,GG=it,eC=!1,zo=ke("meta"),$G=0,zG=Ke.exports={enable:function(){zG.enable=function(){},eC=!0;var a=Zk.f,s=FG([].splice),l={};l[zo]=1,a(l).length&&(Zk.f=function(d){for(var p=a(d),m=0,g=p.length;m<g;m++)if(p[m]===zo){s(p,m,1);break}return p},PG({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:BG.f}))},fastKey:function(a,s){if(!HG(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!P_(a,zo)){if(!F_(a))return"F";if(!s)return"E";U_(a)}return a[zo].objectID},getWeakData:function(a,s){if(!P_(a,zo)){if(!F_(a))return!0;if(!s)return!1;U_(a)}return a[zo].weakData},onFreeze:function(a){return GG&&eC&&F_(a)&&!P_(a,zo)&&U_(a),a}};gn[zo]=!0;function nC(a){if(a!=null)return tC(a,YG)||tC(a,"@@iterator")||QG[KG(a)]}function z0(a,s){this.stopped=a,this.result=s}function j0(a,s,l){function d(se){return m&&aC(m,"normal",se),new z0(!0,se)}function p(se){return G?(o$(se),Ne?Q(se[0],se[1],d):Q(se[0],se[1])):Ne?Q(se,d):Q(se)}var m,g,b,w,O,L,q=l&&l.that,G=!(!l||!l.AS_ENTRIES),te=!(!l||!l.IS_RECORD),ae=!(!l||!l.IS_ITERATOR),Ne=!(!l||!l.INTERRUPTED),Q=a$(s,q);if(te)m=a.iterator;else if(ae)m=a;else{if(!(l=h$(a)))throw p$(l$(a)+" is not iterable");if(u$(l)){for(g=0,b=c$(a);g<b;g++)if((w=p(a[g]))&&iC(sC,w))return w;return new z0(!1)}m=d$(a,l)}for(O=(te?a:m).next;!(L=s$(O,m)).done;){try{w=p(L.value)}catch(se){aC(m,"throw",se)}if(typeof w=="object"&&w&&iC(sC,w))return w}return new z0(!1)}function H_(a,s){if(f$(s,a))return a;throw m$("Incorrect invocation")}var jG=Vn,VG=Oe("iterator"),WG=Array.prototype,KG=zn,tC=Qe,QG=Vn,YG=Oe("iterator"),XG=Mr,JG=me,ZG=pn,e$=X,n$=nC,t$=TypeError,r$=Mr,rC=pn,i$=Qe,a$=ye,s$=Mr,o$=pn,l$=X,u$=function(a){return a!==void 0&&(jG.Array===a||WG[VG]===a)},c$=$,iC=fr,d$=function(a,s){if(s=arguments.length<2?n$(a):s,JG(s))return ZG(XG(s,a));throw t$(e$(a)+" is not iterable")},h$=nC,aC=function(a,s,l){var d,p;rC(a);try{if(!(d=i$(a,"return"))){if(s==="throw")throw l;return l}d=r$(d,a)}catch(m){p=!0,d=m}if(s==="throw")throw l;if(p)throw d;return rC(d),l},p$=TypeError,sC=z0.prototype,f$=fr,m$=TypeError,oC=Oe("iterator"),lC=!1;try{var g$=0,fd={next:function(){return{done:!!g$++}},return:function(){lC=!0}};fd[oC]=function(){return this},Array.from(fd,function(){throw 2})}catch{}function uC(a,s){if(!s&&!lC)return!1;var l=!1;try{var d={};d[oC]=function(){return{next:function(){return{done:l=!0}}}},a(d)}catch{}return l}function cC(a,s,l){return fC&&v$(s=s.constructor)&&s!==l&&_$(s=s.prototype)&&s!==l.prototype&&fC(a,s),a}function dC(s){var s=A$(s),l=R$.f;M$&&s&&!s[gC]&&l(s,gC,{configurable:!0,get:function(){return this}})}function hC(a){return function(p,m){var d,p=G$($$(p)),m=B$(m),g=p.length;return m<0||g<=m?a?"":void 0:(d=yC(p,m))<55296||56319<d||m+1===g||(g=yC(p,m+1))<56320||57343<g?a?z$(p,m):d:a?j$(p,m,m+2):g-56320+(d-55296<<10)+65536}}function pC(a,s){if(a){if(a[z_]!==j_)try{$_(a,z_,j_)}catch{a[z_]=j_}if(a[kC]||$_(a,kC,s),xC[s]){for(var l in fp)if(a[l]!==fp[l])try{$_(a,l,fp[l])}catch{a[l]=fp[l]}}}}var V0,v$=be,_$=Le,fC=Bi,b$=Z,y$=ft,E$=Jn,mC=jt,w$=an,x$=Ke.exports,k$=j0,C$=H_,S$=be,q_=Le,B_=oe,N$=uC,T$=G0,I$=cC,O$=an,A$=ee,R$=It,M$=Xe,gC=Oe("species"),D$=It.f,U$=In,vC=function(a,s,l){for(var d in s)O$(a,d,s[d],l);return a},L$=ye,P$=H_,F$=j0,H$=M_,q$=dC,pp=Xe,_C=Ke.exports.fastKey,bC=Ht.set,G_=Ht.getterFor,Br=(function(a,s,l){function d(Q){var se=E$(te[Q]);w$(te,Q,Q=="add"?function(_e){return se(this,_e===0?0:_e),this}:Q=="delete"?function(_e){return!(L&&!q_(_e))&&se(this,_e===0?0:_e)}:Q=="get"?function(_e){return L&&!q_(_e)?void 0:se(this,_e===0?0:_e)}:Q=="has"?function(_e){return!(L&&!q_(_e))&&se(this,_e===0?0:_e)}:function(_e,ve){return se(this,_e===0?0:_e,ve),this})}var p,m,g,b,w,O=a.indexOf("Map")!==-1,L=a.indexOf("Weak")!==-1,q=O?"set":"add",G=y$[a],te=G&&G.prototype,ae=G,Ne={};return mC(a,!S$(G)||!(L||te.forEach&&!B_(function(){new G().entries().next()})))?(ae=l.getConstructor(s,a,O,q),x$.enable()):mC(a,!0)&&(m=(p=new ae)[q](L?{}:-0,1)!=p,g=B_(function(){p.has(1)}),b=N$(function(Q){new G(Q)}),w=!L&&B_(function(){for(var Q=new G,se=5;se--;)Q[q](se,se);return!Q.has(-0)}),b||(((ae=s(function(Q,se){return C$(Q,te),Q=I$(new G,Q,ae),se!=null&&k$(se,Q[q],{that:Q,AS_ENTRIES:O}),Q})).prototype=te).constructor=ae),(g||w)&&(d("delete"),d("has"),O&&d("get")),(w||m)&&d(q),L&&te.clear&&delete te.clear),Ne[a]=ae,b$({global:!0,constructor:!0,forced:ae!=G},Ne),T$(ae,a),L||l.setStrong(ae,a,O),ae}("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(g,s,l,d){function p(O,L,q){var G,te=w(O),ae=m(O,L);return ae?ae.value=q:(te.last=ae={index:G=_C(L,!0),key:L,value:q,previous:L=te.last,next:void 0,removed:!1},te.first||(te.first=ae),L&&(L.next=ae),pp?te.size++:O.size++,G!=="F"&&(te.index[G]=ae)),O}function m(G,L){var q,G=w(G),te=_C(L);if(te!=="F")return G.index[te];for(q=G.first;q;q=q.next)if(q.key==L)return q}var g=g(function(O,L){P$(O,b),bC(O,{type:s,index:U$(null),first:void 0,last:void 0,size:0}),pp||(O.size=0),L!=null&&F$(L,O[d],{that:O,AS_ENTRIES:l})}),b=g.prototype,w=G_(s);return vC(b,{clear:function(){for(var O=w(this),L=O.index,q=O.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete L[q.index],q=q.next;O.first=O.last=void 0,pp?O.size=0:this.size=0},delete:function(te){var L,q,G=w(this),te=m(this,te);return te&&(L=te.next,q=te.previous,delete G.index[te.index],te.removed=!0,q&&(q.next=L),L&&(L.previous=q),G.first==te&&(G.first=L),G.last==te&&(G.last=q),pp?G.size--:this.size--),!!te},forEach:function(O){for(var L,q=w(this),G=L$(O,1<arguments.length?arguments[1]:void 0);L=L?L.next:q.first;)for(G(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(O){return!!m(this,O)}}),vC(b,l?{get:function(O){return O=m(this,O),O&&O.value},set:function(O,L){return p(this,O===0?0:O,L)}}:{add:function(O){return p(this,O=O===0?0:O,O)}}),pp&&D$(b,"size",{get:function(){return w(this).size}}),g},setStrong:function(a,s,l){var d=s+" Iterator",p=G_(s),m=G_(d);H$(a,s,function(g,b){bC(this,{type:d,target:g,state:p(g),kind:b,last:void 0})},function(){for(var g=m(this),b=g.kind,w=g.last;w&&w.removed;)w=w.previous;return g.target&&(g.last=w=w?w.next:g.state.first)?b=="keys"?{value:w.key,done:!1}:b=="values"?{value:w.value,done:!1}:{value:[w.key,w.value],done:!1}:{value:g.target=void 0,done:!0}},l?"entries":"values",!l,!0),q$(s)}}),Jn),B$=Mn,G$=Fs,$$=He,z$=Br("".charAt),yC=Br("".charCodeAt),j$=Br("".slice),Jt={codeAt:hC(!1),charAt:hC(!0)},V$=Jt.charAt,W$=Fs,zt=Ht,Nn=M_,EC="String Iterator",K$=zt.set,Q$=zt.getterFor(EC),it=(Nn(String,"String",function(a){K$(this,{type:EC,string:W$(a),index:0})},function(){var a=Q$(this),s=a.string,l=a.index;return l>=s.length?{value:void 0,done:!0}:(s=V$(s,l),a.index+=s.length,{value:s,done:!1})}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),gn=Rn("span").classList,zn=gn&&gn.constructor&&gn.constructor.prototype,Vn=zn===Object.prototype?void 0:zn,wC=ft,xC=it,fd=Vn,fp=Fn,$_=pt,Ke=Oe,z_=Ke("iterator"),kC=Ke("toStringTag"),j_=fp.values;for(V0 in xC)pC(wC[V0]&&wC[V0].prototype,V0);pC(fd,"DOMTokenList");function V_(a,s){var l=[][a];return!!l&&lj(function(){l.call(null,s||function(){return 1},1)})}function CC(a){if(a&&a.forEach!==Y_)try{cj(a,"forEach",Y_)}catch{a.forEach=Y_}}var nr,W0,SC=Xe,Br=Jn,Y$=Mr,zt=oe,W_=rn,X$=wt,J$=mr,Z$=Te,ez=Ta,md=Object.assign,NC=Object.defineProperty,nz=Br([].concat),Nn=!md||zt(function(){if(SC&&md({b:1},md(NC({},"a",{enumerable:!0,get:function(){NC(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},s={},l=Symbol(),d="abcdefghijklmnopqrst";return a[l]=7,d.split("").forEach(function(p){s[p]=p}),md({},a)[l]!=7||W_(md({},s)).join("")!=d})?function(a,s){for(var l=Z$(a),d=arguments.length,p=1,m=X$.f,g=J$.f;p<d;)for(var b,w=ez(arguments[p++]),O=m?nz(W_(w),m(w)):W_(w),L=O.length,q=0;q<L;)b=O[q++],SC&&!Y$(g,w,b)||(l[b]=w[b]);return l}:md,gn=(Z({target:"Object",stat:!0,arity:2,forced:Object.assign!==Nn},{assign:Nn}),Z),tz=je.includes,zn=q0,rz=(gn({target:"Array",proto:!0,forced:oe(function(){return!Array(1).includes()})},{includes:function(a){return tz(this,a,1<arguments.length?arguments[1]:void 0)}}),zn("includes"),Le),iz=De,az=Oe("match"),sz=function(a){var s;return rz(a)&&((s=a[az])!==void 0?!!s:iz(a)=="RegExp")},oz=TypeError,lz=Oe("match"),Fn=Z,uz=function(a){if(sz(a))throw oz("The method doesn't accept regular expressions");return a},cz=He,TC=Fs,Ke=function(a){var s=/./;try{"/./"[a](s)}catch{try{return s[lz]=!1,"/./"[a](s)}catch{}}return!1},dz=Jn("".indexOf),hz=(Fn({target:"String",proto:!0,forced:!Ke("includes")},{includes:function(a){return!!~dz(TC(cz(this)),TC(uz(a)),1<arguments.length?arguments[1]:void 0)}}),t.LiveEventRole=void 0,(fd=t.LiveEventRole||(t.LiveEventRole={})).HOST="host",fd.PARTICIPANT="participant",t.LiveEventState=void 0,(rn=t.LiveEventState||(t.LiveEventState={})).CREATED="created",rn.READY="ready",rn.ONGOING="ongoing",rn.PAUSED="paused",rn.ENDED="ended",t.HostState=void 0,(wt=t.HostState||(t.HostState={})).ENTERED="entered",wt.CONNECTED="connected",wt.DISCONNECTED="disconnected",wt.EXITED="exited",t.ParticipantState=void 0,(mr=t.ParticipantState||(t.ParticipantState={})).ENTERED="entered",mr.EXITED="exited",function(){_(s,Tk);var a=C(s);function s(l,d,p){var m;return c(this,s),(m=a.call(this)).appId=l,m.userId=d,m.accessToken=p,m}return f(s,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),s}()),pz=((Br=nr=nr||{}).POST="POST",Br.GET="GET",Br.DELETE="DELETE",Br.OPTION="OPTION",Br.PUT="PUT",function(){_(s,or);var a=C(s);function s(l,d,p,m,g,b){var w;return c(this,s),v(x(w=a.call(this)),"type",ln.CREATE),w.hostType=l,w.hostIds=Array.isArray(d)?d:[d],w.title=p===null?"":p,w.coverUrl=m===null?"":m,w.coverFile=g===null?"":g,w.customItems=b,w}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&d.set(m,g)}var d=new FormData;return l(0,"host_type",this.hostType),l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),l(0,"customItems",JSON.stringify(this.customItems)),d}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return nr.POST}}]),s}()),fz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),mz=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.GET),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.GET}}]),s}(),gz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),vz=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.ENTER_HOST),v(x(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=l,p.mediaOption=d,p}return f(s,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),_z=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:fo(l.host)}}}]),s}(),bz=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.READY),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),yz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),Ez=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.START),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),wz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),xz=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.EXIT_HOST),p.liveEventId=l,p.hostId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),kz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:fo(l.host)}}}]),s}(),Cz=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.DELETE),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Sz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),Nz=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.ENTER),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Tz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:cp(l.participant)}}}]),s}(),Iz=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.EXIT),p.liveEventId=l,p.participantId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Oz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:cp(l.participant)}}}]),s}(),Az=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.CONNECTED),m.liveEventId=l,m.participantId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Rz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:up(l.rtcstream)}}}]),s}(),Mz=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.HOST_CONNECTED),m.liveEventId=l,m.hostId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Dz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:up(l.rtcstream)}}}]),s}(),Uz=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.DELETE_STREAM),m.liveEventId=l,m.participantId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Lz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Pz=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.HOST_DELETE_STREAM),m.liveEventId=l,m.hostId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Fz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Hz=function(){_(s,or);var a=C(s);function s(l,d,p,m){var g;return c(this,s),v(x(g=a.call(this)),"type",ln.ATTACH),g.liveEventId=l,g.participantId=d,g.endpointId=p,g.attachTo=m,g}return f(s,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),qz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:up(l.rtcstream)}}}]),s}(),xa=function(){_(s,F0);var a=C(s);function s(l){var d;return c(this,s),(d=a.call(this)).type=l.type,d.version=l.version,d.messageId=l.message_id,d.payload=d.parseData(l.payload),d}return f(s)}(),IC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:Ps(l.live_event)}}}]),s}(),OC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:Ps(l.live_event)}}}]),s}(),AC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:Ps(l.live_event)}}}]),s}(),RC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),MC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),DC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),K_=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),Q_=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),UC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:cp(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),LC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:cp(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),Bz=function(){_(s,or);var a=C(s);function s(l,d,p,m,g){var b;return c(this,s),v(x(b=a.call(this)),"type",ln.CREATE_STREAM),b.liveEventId=l,b.participantId=d,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Gz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:up(l.rtcstream)}}}]),s}(),$z=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{hosts:l.hosts.map(fo)}}}]),s}(),zz=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.HOST_ALIVE),p.liveEventId=l,p.hostId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),jz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Vz=function(){_(s,or);var a=C(s);function s(l,d,p,m,g){var b;return c(this,s),v(x(b=a.call(this)),"type",ln.HOST_CREATE_STREAM),b.liveEventId=l,b.hostId=d,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Wz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:up(l.rtcstream)}}}]),s}(),Kz=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.ALIVE),p.liveEventId=l,p.participantId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Qz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),Yz=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:cp(l.participant)}}}]),s}(),Xz=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.AUDIO),m.liveEventId=l,m.hostId=d,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Jz=function(){_(s,or);var a=C(s);function s(l,d,p){var m;return c(this,s),v(x(m=a.call(this)),"type",ln.VIDEO),m.liveEventId=l,m.hostId=d,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),PC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:fo(l.host)}}}]),s}(),Zz=function(){_(s,or);var a=C(s);function s(l,d,p,m,g){var b;return c(this,s),v(x(b=a.call(this)),"type",ln.UPDATE),b.liveEventId=l,b.hostIds=d===null?"":Array.isArray(d)?d:[d],b.title=p===null?"":p,b.coverUrl=m===null?"":m,b.coverFile=g===null?"":g,b}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&d.set(m,g)}var d=new FormData;return l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),d}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.PUT}}]),s}(),ej=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:Ps(l.live_event)}}}]),s}(),FC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:Ps(l.live_event)}}}]),s}(),nj=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.CUSTOM_ITEMS_GET),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.GET}}]),s}(),tj=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items}}}]),s}(),rj=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.CUSTOM_ITEMS_UPDATE),p.liveEventId=l,p.customItems=d,p}return f(s,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.PUT}}]),s}(),ij=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items,updatedKeys:l.updated_keys,updatedAt:l.updated_at}}}]),s}(),aj=function(){_(s,or);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"type",ln.CUSTOM_ITEMS_DELETE),p.liveEventId=l,p.keys=d,p}return f(s,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),sj=function(){_(s,pr);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items,deletedKeys:l.deleted_keys,deletedAt:l.deleted_at}}}]),s}(),HC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,updatedAt:l.updated_at,customItems:l.custom_items,updatedKeys:l.updated_keys}}}]),s}(),qC=function(){_(s,xa);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,deletedAt:l.deleted_at,customItems:l.custom_items,deletedKeys:l.deleted_keys}}}]),s}(),oj=function(){_(s,or);var a=C(s);function s(l){var d;return c(this,s),v(x(d=a.call(this)),"type",ln.CUSTOM_ITEMS_DELETE),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Xt=function(){function a(){c(this,a)}return f(a,null,[{key:"createAuth",value:function(s,l,d){return new hz(s,l,d)}},{key:"createLiveEvent",value:function(s,l,d,p,m,g){return new pz(s,l,d,p,m,g)}},{key:"updateLiveEvent",value:function(s,l,d,p,m){return new Zz(s,l,d,p,m)}},{key:"createGetLiveEvent",value:function(s){return new mz(s)}},{key:"createEnterHost",value:function(s,l){return new vz(s,l)}},{key:"createReady",value:function(s){return new bz(s)}},{key:"createStart",value:function(s){return new Ez(s)}},{key:"createExitHost",value:function(s,l){return new xz(s,l)}},{key:"createEndLiveEvent",value:function(s){return new Cz(s)}},{key:"createEnter",value:function(s){return new Nz(s)}},{key:"createExit",value:function(s,l){return new Iz(s,l)}},{key:"createConnected",value:function(s,l,d){return new Az(s,l,d)}},{key:"createHostConnected",value:function(s,l,d){return new Mz(s,l,d)}},{key:"createStream",value:function(s,l,d,p,m){return new Bz(s,l,d,p,m)}},{key:"createHostCreateStream",value:function(s,l,d,p,m){return new Vz(s,l,d,p,m)}},{key:"createDeleteStream",value:function(s,l,d){return new Uz(s,l,d)}},{key:"createHostDeleteStream",value:function(s,l,d){return new Pz(s,l,d)}},{key:"createAttach",value:function(s,l,d,p){return new Hz(s,l,d,p)}},{key:"createAudio",value:function(s,l,d){return new Xz(s,l,d)}},{key:"createVideo",value:function(s,l,d){return new Jz(s,l,d)}},{key:"createAlive",value:function(s,l){return new Kz(s,l)}},{key:"createHostAlive",value:function(s,l){return new zz(s,l)}},{key:"createGetCustomItems",value:function(s){return new nj(s)}},{key:"createUpdateCustomItems",value:function(s,l){return new rj(s,l)}},{key:"createDeleteCustomItems",value:function(s,l){return new aj(s,l)}},{key:"createDeleteAllCustomItems",value:function(s){return new oj(s)}},{key:"parseResponse",value:function(s,l){try{switch(s.type){case ln.CREATE:return new fz(l);case ln.GET:return new gz(l);case ln.DELETE:return new Sz(l);case ln.QUERY:return new HB(l);case ln.READY:return new yz(l);case ln.START:return new wz(l);case ln.ENTER_HOST:return new _z(l);case ln.GET_HOSTS:return new $z(l);case ln.EXIT_HOST:return new kz(l);case ln.HOST_ALIVE:return new jz(l);case ln.AUDIO:return new K_(l);case ln.VIDEO:return new Q_(l);case ln.HOST_CREATE_STREAM:return new Wz(l);case ln.HOST_DELETE_STREAM:return new Fz(l);case ln.HOST_CONNECTED:return new Dz(l);case ln.ENTER:return new Tz(l);case ln.EXIT:return new Oz(l);case ln.ALIVE:return new Qz(l);case ln.GET_PARTICIPANTS:return new Yz(l);case ln.CREATE_STREAM:return new Gz(l);case ln.DELETE_STREAM:return new Lz(l);case ln.CONNECTED:return new Rz(l);case ln.ATTACH:return new qz(l);case ln.UPDATE:return new ej(l);case ln.CUSTOM_ITEMS_GET:return new tj(l);case ln.CUSTOM_ITEMS_UPDATE:return new ij(l);case ln.CUSTOM_ITEMS_DELETE:return new sj(l)}}catch{return}}},{key:"parse",value:function(s){if(s.call_type==="live")try{switch(s.type){case ln.LIVE_EVENT_READY:return new IC(s);case ln.LIVE_EVENT_STARTED:return new OC(s);case ln.LIVE_EVENT_ENDED:return new AC(s);case ln.LIVE_EVENT_UPDATED:return new FC(s);case ln.HOST_ENTERED:return new RC(s);case ln.HOST_EXITED:return new MC(s);case ln.HOST_CONNECTED:return new DC(s);case ln.HOST_DISCONNECTED:return new PC(s);case ln.HOST_AUDIO_STATUS_CHANGED:return new K_(s);case ln.HOST_VIDEO_STATUS_CHANGED:return new Q_(s);case ln.PARTICIPANT_ENTERED:return new UC(s);case ln.PARTICIPANT_EXITED:return new LC(s);case ln.CUSTOM_ITEMS_UPDATE:return new HC(s);case ln.CUSTOM_ITEMS_DELETE:return new qC(s)}}catch{return}}}]),a}(),lj=oe,uj=mi.forEach,BC=ft,GC=it,zt=Vn,Y_=V_("forEach")?[].forEach:function(a){return uj(this,a,1<arguments.length?arguments[1]:void 0)},cj=pt;for(W0 in GC)GC[W0]&&CC(BC[W0]&&BC[W0].prototype);CC(zt);var $C=X,dj=TypeError,Nn=Z,hj=Te,pj=En,fj=Mn,mj=$,gj=Ik,vj=tn,_j=H0,X_=function(a,s){if(!delete a[s])throw dj("Cannot delete property "+$C(s)+" of "+$C(a))},gn=kn("splice"),bj=Math.max,yj=Math.min;Nn({target:"Array",proto:!0,forced:!gn},{splice:function(q,s){var l,d,p,m,g,b,w=hj(this),O=mj(w),L=pj(q,O),q=arguments.length;for(q===0?l=d=0:d=q===1?(l=0,O-L):(l=q-2,yj(bj(fj(s),0),O-L)),gj(O+l-d),p=vj(w,d),m=0;m<d;m++)(g=L+m)in w&&_j(p,m,w[g]);if(l<(p.length=d)){for(m=L;m<O-d;m++)b=m+l,(g=m+d)in w?w[b]=w[g]:X_(w,b);for(m=O;O-d+l<m;m--)X_(w,m-1)}else if(d<l)for(m=O-d;L<m;m--)b=m+l-1,(g=m+d-1)in w?w[b]=w[g]:X_(w,b);for(m=0;m<l;m++)w[m+L]=arguments[m+2];return w.length=O-d+l,p}});var gi,zn=Jn([].slice),Fn=Z,zC=ni,Ej=la,wj=Le,jC=En,xj=$,kj=ge,Cj=H0,Ke=Oe,Sj=zn,rn=kn("slice"),Nj=Ke("species"),J_=Array,Tj=Math.max,Ul=(Fn({target:"Array",proto:!0,forced:!rn},{slice:function(a,s){var l,d,p,m=kj(this),g=xj(m),b=jC(a,g),w=jC(s===void 0?g:s,g);if(zC(m)&&(l=m.constructor,(l=Ej(l)&&(l===J_||zC(l.prototype))||wj(l)&&(l=l[Nj])===null?void 0:l)===J_||l===void 0))return Sj(m,b,w);for(d=new(l===void 0?J_:l)(Tj(w-b,0)),p=0;b<w;b++,p++)b in m&&Cj(d,p,m[b]);return d.length=p,d}}),function(){function a(){c(this,a),v(this,"_listeners",{}),v(this,"on",this.addEventListener),v(this,"off",this.removeEventListener)}return f(a,[{key:"addEventListener",value:function(s,l){var d=this;return s in this._listeners||(this._listeners[s]=[]),this._listeners[s].push(l),function(){return d.removeEventListener(s,l)}}},{key:"once",value:function(s,l){var d=this;return this.on(s,function p(){l.apply(void 0,arguments),d.removeEventListener(s,p)})}},{key:"removeEventListener",value:function(s,l){if(s in this._listeners){for(var d=this._listeners[s],p=0,m=d.length;p<m;p++)if(d[p]===l)return void d.splice(p,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(s){if(s in this._listeners){for(var l=this._listeners[s].slice(),d=arguments.length,p=new Array(1<d?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];for(var g,b=0,w=l.length;b<w;b++)(g=l[b]).call.apply(g,[this].concat(p))}}}]),a}()),wt=Z,mr=Jn,Ij=je.indexOf,it=V_,Z_=mr([].indexOf),VC=!!Z_&&1/Z_([1],1,-0)<0,Vn=it("indexOf");wt({target:"Array",proto:!0,forced:VC||!Vn},{indexOf:function(a){var s=1<arguments.length?arguments[1]:void 0;return VC?Z_(this,a,s)||0:Ij(this,a,s)}}),(zt=gi=gi||{}).VERBOSE="VERBOSE",zt.DEBUG="DEBUG",zt.INFO="INFO",zt.WARNING="WARNING",zt.ERROR="ERROR",zt.NONE="NONE";function WC(a,s,l,d){var p,m=tS(a),g=!nS(function(){var w={};return w[m]=function(){return 7},""[a](w)!=7}),b=g&&!nS(function(){var w=!1,O=/a/;return a==="split"&&((O={constructor:{}}).constructor[Gj]=function(){return O},O.flags="",O[m]=/./[m]),O.exec=function(){return w=!0,null},O[m](""),!w});g&&b&&!l||(p=ZC(/./[m]),b=s(m,""[a],function(te,O,L,q,G){var te=ZC(te),ae=O.exec;return ae===qj||ae===ab.exec?g&&!G?{done:!0,value:p(O,L,q)}:{done:!0,value:te(L,O,q)}:{done:!1}}),eS(String.prototype,a,b[0]),eS(ab,m,b[1])),d&&Bj(ab[m],"sham",!0)}function KC(a,s,l){return s+(l?$j(a,s).length:1)}function QC(a,s){var l=a.exec;if(Yj(l))return(l=rS(l,a,s))!==null&&Qj(l),l;if(Xj(a)==="RegExp")return rS(Jj,a,s);throw Zj("RegExp#exec called on incompatible receiver")}var fn=new(function(){function a(){c(this,a),this._listeners=[]}return f(a,[{key:"verbose",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[gi.VERBOSE].concat(l))}},{key:"debug",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[gi.DEBUG].concat(l))}},{key:"info",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[gi.INFO].concat(l))}},{key:"warning",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[gi.WARNING].concat(l))}},{key:"error",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[gi.ERROR].concat(l))}},{key:"_log",value:function(s){for(var l=arguments.length,d=new Array(1<l?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];var m,g=D(this._listeners);try{for(g.s();!(m=g.n()).done;){var b=m.value;b._permit.apply(b,[s].concat(d))}}catch(w){g.e(w)}finally{g.f()}}},{key:"addListener",value:function(s){this._listeners.push(s)}},{key:"removeListener",value:function(s){s=this._listeners.indexOf(s),s!==-1&&this._listeners.splice(s,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),a}()),Nn=oe,eb=ft.RegExp,gn=Nn(function(){var a=eb("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),ni=gn||Nn(function(){return!eb("a","y").sticky}),Ke={BROKEN_CARET:gn||Nn(function(){var a=eb("^r","gy");return a.lastIndex=2,a.exec("str")!=null}),MISSED_STICKY:ni,UNSUPPORTED_Y:gn},Fn=oe,Oj=ft.RegExp,rn=Fn(function(){var a=Oj(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")}),je=oe,Aj=ft.RegExp,mr=je(function(){var a=Aj("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"}),gd=Mr,it=Jn,Rj=Fs,Mj=Ok,wt=Ke,Vn=lr.exports,Dj=In,Uj=Ht.get,zt=rn,Nn=mr,Lj=Vn("native-string-replace",String.prototype.replace),K0=RegExp.prototype.exec,nb=K0,Pj=it("".charAt),Fj=it("".indexOf),Hj=it("".replace),tb=it("".slice),rb=(ni=/b*/g,gd(K0,gn=/a/,"a"),gd(K0,ni,"a"),gn.lastIndex!==0||ni.lastIndex!==0),YC=wt.BROKEN_CARET,ib=/()??/.exec("")[1]!==void 0,Fn=nb=rb||ib||YC||zt||Nn?function(w){var s,l,d,p,m,g,b=this,G=Uj(b),w=Rj(w),L=G.raw;if(L)return L.lastIndex=b.lastIndex,q=gd(nb,L,w),b.lastIndex=L.lastIndex,q;var O=G.groups,L=YC&&b.sticky,q=gd(Mj,b),G=b.source,te=0,ae=w;if(L&&(q=Hj(q,"y",""),Fj(q,"g")===-1&&(q+="g"),ae=tb(w,b.lastIndex),0<b.lastIndex&&(!b.multiline||b.multiline&&Pj(w,b.lastIndex-1)!==`
`)&&(G="(?: "+G+")",ae=" "+ae,te++),s=new RegExp("^(?:"+G+")",q)),ib&&(s=new RegExp("^"+G+"$(?!\\s)",q)),rb&&(l=b.lastIndex),d=gd(K0,L?s:b,ae),L?d?(d.input=tb(d.input,te),d[0]=tb(d[0],te),d.index=b.lastIndex,b.lastIndex+=d[0].length):b.lastIndex=0:rb&&d&&(b.lastIndex=b.global?d.index+d[0].length:l),ib&&d&&1<d.length&&gd(Lj,d[0],s,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d&&O)for(d.groups=m=Dj(null),p=0;p<O.length;p++)m[(g=O[p])[0]]=d[g[1]];return d}:nb,je=(Z({target:"RegExp",proto:!0,forced:/./.exec!==Fn},{exec:Fn}),vi),Ke=Function.prototype,XC=Ke.apply,JC=Ke.call,lr=typeof Reflect=="object"&&Reflect.apply||(je?JC.bind(XC):function(){return JC.apply(XC,arguments)}),ZC=Jn,eS=an,qj=Fn,nS=oe,tS=Oe,Bj=pt,Gj=tS("species"),ab=RegExp.prototype,$j=Jt.charAt,In=Jn,zj=Te,jj=Math.floor,sb=In("".charAt),Vj=In("".replace),ob=In("".slice),Wj=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Kj=/\$([$&'`]|\d{1,2})/g,rS=Mr,Qj=pn,Yj=be,Xj=De,Jj=Fn,Zj=TypeError,eV=lr,iS=Mr,rn=Jn,mr=WC,Vn=oe,nV=pn,tV=be,rV=Mn,iV=Sn,vd=Fs,aV=He,sV=KC,oV=Qe,lV=function(a,s,l,d,p,m){var g=l+a.length,b=d.length,w=Kj;return p!==void 0&&(p=zj(p),w=Wj),Vj(m,w,function(O,L){var q;switch(sb(L,0)){case"$":return"$";case"&":return a;case"`":return ob(s,0,l);case"'":return ob(s,g);case"<":q=p[ob(L,1,-1)];break;default:var G,te=+L;if(te==0)return O;if(b<te)return(G=jj(te/10))!==0&&G<=b?d[G-1]===void 0?sb(L,1):d[G-1]+sb(L,1):O;q=d[te-1]}return q===void 0?"":q})},uV=QC,lb=Oe("replace"),cV=Math.max,dV=Math.min,hV=rn([].concat),ub=rn([].push),aS=rn("".indexOf),sS=rn("".slice),it="a".replace(/./,"$0")==="$0",oS=!!/./[lb]&&/./[lb]("a","$0")==="";mr("replace",function(a,s,l){var d=oS?"$":"$0";return[function(p,m){var g=aV(this),b=p==null?void 0:oV(p,lb);return b?iS(b,p,g,m):iS(s,vd(g),p,m)},function(p,m){var g=nV(this),b=vd(p);if(typeof m=="string"&&aS(m,d)===-1&&aS(m,"$<")===-1&&(p=l(s,g,b,m),p.done))return p.value;for(var w,O=tV(m),L=(O||(m=vd(m)),g.global),q=(L&&(w=g.unicode,g.lastIndex=0),[]);(Q=uV(g,b))!==null&&(ub(q,Q),L);)vd(Q[0])===""&&(g.lastIndex=sV(b,iV(g.lastIndex),w));for(var G,te="",ae=0,Ne=0;Ne<q.length;Ne++){for(var Q,se=vd((Q=q[Ne])[0]),_e=cV(dV(rV(Q.index),b.length),0),ve=[],ze=1;ze<Q.length;ze++)ub(ve,(G=Q[ze])===void 0?G:String(G));var si=Q.groups,ct=O?(ct=hV([se],ve,_e,b),si!==void 0&&ub(ct,si),vd(eV(m,void 0,ct))):lV(se,b,_e,ve,si,m);ae<=_e&&(te+=sS(b,ae,_e)+ct,ae=_e+se.length)}return te+sS(b,ae)}]},!!Vn(function(){var a=/./;return a.exec=function(){var s=[];return s.groups={a:"7"},s},"".replace(a,"$<a>")!=="7"})||!it||oS);function cb(a){return function(s){return s=fV(pV(s)),1&a&&(s=lS(s,mV,"")),s=2&a?lS(s,gV,""):s}}var gn=Jn(1 .valueOf),ni=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,pV=He,fV=Fs,lS=Jn("".replace),wt=`[	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]`,mV=RegExp("^"+wt+wt+"*"),gV=RegExp(wt+wt+"*$"),zt={start:cb(1),end:cb(2),trim:cb(3)},Nn=Xe,vi=ft,Ke=Jn,je=jt,pt=an,uS=ur,vV=cC,_V=fr,bV=Rr,cS=Ze,yV=oe,Jt=ut.f,EV=qi.f,wV=It.f,xV=gn,kV=zt.trim,In="Number",Ll=vi[In],dS=Ll.prototype,CV=vi.TypeError,SV=Ke("".slice),Q0=Ke("".charCodeAt),NV=function(a){var s,l,d,p,m,g,b,w=cS(a,"number");if(bV(w))throw CV("Cannot convert a Symbol value to a number");if(typeof w=="string"&&2<w.length){if(w=kV(w),(a=Q0(w,0))===43||a===45){if((s=Q0(w,2))===88||s===120)return NaN}else if(a===48){switch(Q0(w,1)){case 66:case 98:l=2,d=49;break;case 79:case 111:l=8,d=55;break;default:return+w}for(m=(p=SV(w,2)).length,g=0;g<m;g++)if((b=Q0(p,g))<48||d<b)return NaN;return parseInt(p,l)}}return+w};if(je(In,!Ll(" 0o1")||!Ll("0b1")||Ll("+0x1"))){for(var Y0,mp=function(s){var s=arguments.length<1?0:Ll(function(d){return d=cS(d,"number"),typeof d=="bigint"?d:NV(d)}(s)),l=this;return _V(dS,l)&&yV(function(){xV(l)})?vV(Object(s),l,mp):s},hS=Nn?Jt(Ll):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),db=0;hS.length>db;db++)uS(Ll,Y0=hS[db])&&!uS(mp,Y0)&&wV(mp,Y0,EV(Ll,Y0));pt(vi,In,(mp.prototype=dS).constructor=mp,{constructor:!0})}function hb(a){Object.keys(a).forEach(function(s){var l;((l=a[s])===void 0||Number.isNaN(l)||l===""||Array.isArray(l)&&l.length===0)&&delete a[s]})}var Tt,pb,gp,TV=function(){var a=u(regeneratorRuntime.mark(function s(l){var d,p,m,g,b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(l){G.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return G.next=4,l.getStats();case 4:d=G.sent,m=d.entries(),g=0;case 7:if(!(g<d.size)){G.next=18;break}if(b=m.next(),b=b.value){G.next=11;break}return G.abrupt("continue",15);case 11:if((w=b[1]).type==="candidate-pair"&&w.state==="succeeded")return p=w.localCandidateId,G.abrupt("break",18);G.next=15;break;case 15:g++,G.next=7;break;case 18:if(!(g<d.size)){G.next=28;break}if(w=m.next(),O=w.value){G.next=22;break}return G.abrupt("continue",25);case 22:if((L=O[1]).type==="local-candidate"&&L.id===p)return G.abrupt("return",{connectionType:(q=L.candidateType)!=null?q:"",protocol:(q=L.protocol)!=null?q:"",relayProtocol:(q=L.relayProtocol)!=null?q:""});G.next=25;break;case 25:g++,G.next=18;break;case 28:return G.abrupt("return",null);case 29:case"end":return G.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),IV=function(){var a=u(regeneratorRuntime.mark(function s(l){var d,p,m,g,b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return d={},p={},m={},g={},b=new Map,w=new Map,l.forEach(function(q){q.type==="codec"&&b.set(q.id,q),q.type==="candidate-pair"&&q.state==="succeeded"&&(O=q.localCandidateId,d.webrtc_timestamp=q.time),q.type==="media-source"&&w.set(q.kind,q)}),l.forEach(function(q){var G;q.type==="local-candidate"&&q.id===O&&(p.network_type=q.networkType,p.protocol=q.protocol,p.candidate_type=q.candidateType),q.kind!=="audio"&&q.mediaType!=="audio"||(q.type==="outbound-rtp"&&(m.codec=(G=b.get(q.codecId))==null?void 0:G.mimeType,m.total_packets_sent=q.packetsSent,m.retransmitted_packets_sent=q.retransmittedPacketsSent),q.type==="remote-inbound-rtp"&&(m.rtt=1e3*q.roundTripTime),q.type==="inbound-rtp"&&(G=q.packetsLost/(q.packetsLost+q.packetsReceived)*100,m.total_packets_received=q.packetsReceived,m.total_packets_lost_rate=G,m.total_packets_lost=q.packetsLost,m.jitter=1e3*q.jitter),q.type==="track"&&q.remoteSource&&(m.jitter_buffer_delay=q.jitterBufferDelay,m.jitter_buffer_emitted_count=q.jitterBufferDelayEmittedCount)),q.kind!=="video"&&q.mediaType!=="video"||(g.video_source_width=(G=w.get("video"))==null?void 0:G.width,g.video_source_height=(G=w.get("video"))==null?void 0:G.height,g.video_source_frames_per_second=(G=w.get("video"))==null?void 0:G.framesPerSecond,q.type==="outbound-rtp"&&(g.codec=(G=b.get(q.codecId))==null?void 0:G.mimeType,g.fir_count=q.firCount,g.pli_count=q.pliCount,g.nack_count=q.nackCount,g.qp_sum=q.qpSum,g.retransmitted_packets_sent=q.retransmittedBytesSent,g.quality_limitation_reason=q.qualityLimitationReason,g.quality_limitation_resolution_changes=q.qualityLimitationResolutionChanges),q.type==="remote-inbound-rtp"&&(g.rtt=1e3*q.roundTripTime),q.type==="inbound-rtp"&&(g.header_bytes_received=q.headerBytesReceived,g.key_frames_decoded=q.keyFramesDecoded,g.total_decode_time=q.totalDecodeTime,g.total_inter_frame_delay=q.totalInterFrameDelay,g.total_squared_inter_frame_delay=q.totalSquaredInterFrameDelay,G=q.packetsLost/(q.packetsLost+q.packetsReceived)*100,g.total_packets_lost=q.packetsLost,g.total_packets_received=q.packetsReceived,g.total_packets_lost_rate=G),q.type==="track"&&(q.remoteSource?(g.jitter_buffer_delay=q.jitterBufferDelay,g.jitter_buffer_emitted_count=q.jitterBufferDelayEmittedCount,g.received_frame_width=q.frameWidth,g.received_frame_height=q.frameHeight,g.frames_received=q.framesReceived,g.frames_decoded=q.framesDecoded,g.frames_dropped=q.framesDropped,g.freeze_count=q.freezeCount,g.pause_count=q.pauseCount,g.total_freezes_duration=q.totalFreezesDuration,g.total_pauses_duration=q.totalPausesDuration,g.total_frames_duration=q.totalFramesDuration,g.sum_of_squared_frames_duration=q.sumOfSquaredFramesDuration):(g.sent_frame_width=q.frameWidth,g.sent_frame_height=q.frameHeight)))}),hb(p),hb(m),hb(g),d.transport_info=p,d.audio=m,d.video=g,L.abrupt("return",d);case 15:case"end":return L.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),OV=function(){var a=u(regeneratorRuntime.mark(function s(l){var d;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l){p.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return p.next=4,l.getStats();case 4:return d=p.sent,p.abrupt("return",IV(d));case 6:case"end":return p.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),pS=function(){function a(s){c(this,a),this._context=s}return f(a,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(s){this._state&&this._state.type===s.type||(this._state&&this._state.destroy(),this._state=s,this._state.context=this._context,this._state.start())}}]),a}(),fS=function(){function a(s){c(this,a),this._stateMutator=s}return f(a,[{key:"context",set:function(s){this._context=s}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),a}(),mS=function(){function a(s,l){c(this,a),this._context=s,this._stateMutator=l,this._context=s,this._stateMutator=l}return f(a,[{key:"state",get:function(){return this._stateMutator.state}}]),a}(),Pl=function(){_(s,fS);var a=C(s);function s(l){return c(this,s),a.call(this,l)}return f(s)}(),AV=((Fn=Tt=Tt||{}).IDLE="idle",Fn.OFFERING="offering",Fn.ANSWERING="answering",Fn.CONNECTED="connected",Fn.RECONNECTING="reconnecting",Fn.ICE_RESTART_OFFERING="iceRestartOffering",Fn.ICE_RESTART_ANSWERING="iceRestartAnswering",Fn.CLOSED="closed",function(){_(l,Pl);var a,s=C(l);function l(d,p){return c(this,l),v(x(d=s.call(this,d)),"type",Tt.ANSWERING),d._offerCommand=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(g){});case 4:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}()),RV=function(){_(s,Pl);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",Tt.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}(),MV=function(){_(l,Pl);var a,s=C(l);function l(d,p){return c(this,l),v(x(d=s.call(this,d)),"type",Tt.CONNECTED),d._isReconnected=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),DV=function(){_(l,Pl);var a,s=C(l);function l(d,p){return c(this,l),v(x(d=s.call(this,d)),"type",Tt.ICE_RESTART_ANSWERING),d._offerCommand=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(g){});case 3:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),UV=function(){_(s,Pl);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",Tt.ICE_RESTART_OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),LV=function(){_(l,Pl);var a,s=C(l);function l(){var d;c(this,l);for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return v(x(d=s.call.apply(s,[this].concat(m))),"type",Tt.IDLE),d}return f(l,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),PV=function(){_(s,Pl);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",Tt.OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),FV=function(){_(s,Pl);var a=C(s);function s(l,d){return c(this,s),v(x(l=a.call(this,l)),"type",Tt.RECONNECTING),l._offerCommand=d,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(l){this._stateMutator.toIceRestartAnswering(l)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),HV=function(){_(s,pS);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new LV(this))}},{key:"toOffering",value:function(){this._changeState(new PV(this))}},{key:"toAnswering",value:function(l){this._changeState(new AV(this,l))}},{key:"toConnected",value:function(l){this._changeState(new MV(this,l))}},{key:"toReconnecting",value:function(l){this._changeState(new FV(this,l))}},{key:"toIceRestartOffering",value:function(){this._changeState(new UV(this))}},{key:"toIceRestartAnswering",value:function(l){this._changeState(new DV(this,l))}},{key:"toClosed",value:function(){this._changeState(new RV(this))}}]),s}(),qV=function(){_(s,mS);var a=C(s);function s(l){return c(this,s),(l=a.call(this,l,new HV(l)))._stateMutator.toIdle(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onOfferReceived"));var d=this.state;switch(d.type){case Tt.IDLE:case Tt.ANSWERING:case Tt.CONNECTED:case Tt.RECONNECTING:case Tt.ICE_RESTART_ANSWERING:d.onOfferReceived(l);break;default:fn.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onAnswerReceived"));var d=this.state;switch(d.type){case Tt.OFFERING:case Tt.ICE_RESTART_OFFERING:d.onAnswerReceived(l);break;default:fn.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){fn.verbose("[".concat(this.state.type,"] onClose"));var l=this.state;switch(l.type){case Tt.IDLE:case Tt.OFFERING:case Tt.ANSWERING:case Tt.CONNECTED:case Tt.RECONNECTING:case Tt.ICE_RESTART_OFFERING:case Tt.ICE_RESTART_ANSWERING:l.onClose();break;default:fn.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){fn.verbose("[".concat(this.state.type,"] createOffer"));var l=this.state;l.type===Tt.IDLE?l.createOffer():fn.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceConnected"));var l=this.state;switch(l.type){case Tt.OFFERING:case Tt.ANSWERING:case Tt.RECONNECTING:case Tt.ICE_RESTART_OFFERING:case Tt.ICE_RESTART_ANSWERING:l.onIceConnected();break;default:fn.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceDisconnected"));var l=this.state;l.type===Tt.CONNECTED?l.onIceDisconnected():fn.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onIceFailed"));var l=this.state;switch(l.type){case Tt.CONNECTED:case Tt.RECONNECTING:l.onIceFailed();break;default:fn.error("[".concat(this.state.type,"] onIceFailed"))}}}]),s}(),BV=((rn=pb=pb||{}).RELAY="relay",rn.ALL="all",function(){_(m,Ul);var a,s,l,d,p=C(m);function m(g,b,w,O,L,q,G,te){var ae;return c(this,m),(ae=p.call(this))._ctx=g,ae.id=b,ae._signalingClient=w,ae._localStream=O,ae._isInitiator=L,ae._turnCredential=q,ae._mediaDirections=G,ae._isDisposable=te,ae._stateMachine=new qV({dispatchEvent:ae._dispatchEvent.bind(x(ae)),isInitiator:ae._isInitiator,setRemoteDescription:ae._setRemoteDescription.bind(x(ae)),sendAnswer:ae._sendAnswer.bind(x(ae)),sendOffer:ae._sendOffer.bind(x(ae)),createRTCConnection:ae._createRTCConnection.bind(x(ae)),prepareSessionDescription:ae._prepareSessionDescription.bind(x(ae)),isDisposable:ae._isDisposable}),O&&O.on("streamChanged",function(Ne){return ae.onLocalStream(Ne)}),ae}return f(m,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(g){switch(g.type){case gp.CANDIDATE:return void this._receiveCandidate(g);case gp.OFFER:this._stateMachine.onOfferReceived(g);break;case gp.ANSWER:this._stateMachine.onAnswerReceived(g);break;default:fn.error(new Error("unhandled call event ".concat(g)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(g){if(this._rtcConnection){var b,w=D(g.getTracks());try{for(w.s();!(b=w.n()).done;){var O=b.value;this._replaceTrack(O)}}catch(L){w.e(L)}finally{w.f()}}}},{key:"getCandidateInfo",value:(d=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",TV(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return d.apply(this,arguments)})},{key:"getStatsLog",value:(l=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",OV(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return l.apply(this,arguments)})},{key:"_replaceTrack",value:function(g){var b,w=D(this._rtcConnection.getSenders());try{for(w.s();!(b=w.n()).done;){var O=b.value;O.track&&O.track.kind===g.kind&&O.replaceTrack(g)}}catch(L){w.e(L)}finally{w.f()}}},{key:"_createRTCConnection",value:function(){var g,b=this,w=(this._turnCredential&&(g={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||pb.ALL}),new RTCPeerConnection(g));w.onnegotiationneeded=function(){b._sendOffer(!1)},w.onicecandidate=function(O){var L,q;O.candidate&&(L=(q=b._signalingClient).sendCandidate)!=null&&L.call(q,O.candidate)},w.onconnectionstatechange=function(){return b._handleConnectionStateChange(w)},w.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(w)},w.ontrack=function(O){return b._onRemoteTrack(O)},this._rtcConnection=w}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var b=this._mediaDirections,g=b.audio,b=b.video,w={sendrecv:[],sendonly:[],recvonly:[],none:[]};w[g].push("audio"),w[b].push("video"),w.sendrecv.length&&this._addTracks(w.sendrecv),w.sendonly.length&&this._addSendOnlyTransceivers(w.sendonly),w.recvonly.length&&this._addReceiveOnlyTransceivers(w.recvonly)}},{key:"_addTracks",value:function(g){var b=this,w=(fn.debug("_addTracks()"),this._localStream.localStream);w.getTracks().forEach(function(O){g.includes(O.kind)&&b._rtcConnection.addTrack(O,w)})}},{key:"_addReceiveOnlyTransceivers",value:function(g){var b=this;g.forEach(function(w){b._rtcConnection.addTransceiver(w,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(g){var b=this,w=this._localStream.localStream;g.forEach(function(O){w.getTracks().forEach(function(L){L.kind===O&&b._rtcConnection.addTransceiver(L,{direction:"sendonly",streams:[w]})})})}},{key:"_setRemoteDescription",value:function(g,b){return b=b.replace(/a=extmap:0 ulpfec\r\n/,""),g=new RTCSessionDescription({type:g,sdp:b}),this._rtcConnection.setRemoteDescription(g)}},{key:"_sendOffer",value:(s=u(regeneratorRuntime.mark(function g(b){var w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w={iceRestart:b||!1},O.next=3,this._rtcConnection.createOffer(w);case 3:return w=O.sent,O.next=6,this._rtcConnection.setLocalDescription(w);case 6:return O.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return O.stop()}},g,this)})),function(g){return s.apply(this,arguments)})},{key:"_sendAnswer",value:(a=u(regeneratorRuntime.mark(function g(){var b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._rtcConnection.createAnswer();case 2:return(b=w.sent).sdp=b.sdp.replace("actpass","active"),w.next=6,this._rtcConnection.setLocalDescription(b);case 6:return w.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return w.stop()}},g,this)})),function(){return a.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(g){switch(fn.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(g.iceConnectionState)),g.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(g){fn.verbose("[".concat(this._state.type,"] connectionState ").concat(g.connectionState))}},{key:"_receiveCandidate",value:function(g){g=g.payload.candidate,this._rtcConnection.addIceCandidate({sdpMLineIndex:g.sdpMLineIndex,sdpMid:g.sdpMid,candidate:g.sdp}).catch(function(b){fn.error(b)})}},{key:"_onRemoteTrack",value:function(g){this._remoteStream=g.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),m}());(mr=gp=gp||{}).OFFER="offer",mr.ANSWER="answer",mr.CANDIDATE="candidate";var vp,_d,Vn=De(ft.process)=="process",GV=la,$V=X,zV=TypeError,gS=pn,jV=function(a){if(GV(a))return a;throw zV($V(a)+" is not a constructor")},VV=Oe("species"),WV=TypeError,it=/(?:ipad|iphone|ipod).*applewebkit/i.test(qo),ja=ft,KV=lr,wt=ye,vS=be,QV=ur,Xe=oe,_S=St,YV=zn,bS=Rn,XV=function(a,s){if(a<s)throw WV("Not enough arguments");return a},fr=it,Rr=Vn,ut=ja.setImmediate,It=ja.clearImmediate,JV=ja.process,fb=ja.Dispatch,ZV=ja.Function,gn=ja.MessageChannel,eW=ja.String,mb=0,_p={},yS="onreadystatechange";try{vp=ja.location}catch{}function gb(a){return function(){wb(a)}}function ES(a){wb(a.data)}function wS(a){ja.postMessage(eW(a),vp.protocol+"//"+vp.host)}function vb(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}function xS(){this.head=null,this.tail=null}function nW(a){var s,l;this.promise=new a(function(d,p){if(s!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");s=d,l=p}),this.resolve=RS(s),this.reject=RS(l)}function kS(a,s){var l,d,p,m,g=s.value,b=s.state==LS,w=b?a.ok:a.fail,O=a.resolve,L=a.reject,q=a.domain;try{w?(b||(s.rejection===PS&&(m=s,bd(MS,Fl,function(){var G=m.facade;X0?Tb.emit("rejectionHandled",G):qS(vW,G,m.value)})),s.rejection=Ob),w===!0?l=g:(q&&q.enter(),l=w(g),q&&(q.exit(),p=!0)),l===a.promise?L(DS("Promise-chain cycle")):(d=FS(l))?bd(d,l,O,L):O(l)):L(g)}catch(G){q&&!p&&q.exit(),L(G)}}var bp,Qu,yp,_b,bb,yb,CS,Eb,SS,NS,wb=function(a){var s;QV(_p,a)&&(s=_p[a],delete _p[a],s())},Nn=(ut&&It||(ut=function(a){XV(arguments.length,1);var s=vS(a)?a:ZV(a),l=YV(arguments,1);return _p[++mb]=function(){KV(s,void 0,l)},_d(mb),mb},It=function(a){delete _p[a]},Rr?_d=function(a){JV.nextTick(gb(a))}:fb&&fb.now?_d=function(a){fb.now(gb(a))}:gn&&!fr?(je=(Ke=new gn).port2,Ke.port1.onmessage=ES,_d=wt(je.postMessage,je)):ja.addEventListener&&vS(ja.postMessage)&&!ja.importScripts&&vp&&vp.protocol!=="file:"&&!Xe(wS)?(_d=wS,ja.addEventListener("message",ES,!1)):_d=yS in bS("script")?function(a){_S.appendChild(bS("script"))[yS]=function(){_S.removeChild(this),wb(a)}}:function(a){setTimeout(gb(a),0)}),{set:ut,clear:It}),Jt=ft,pt=/ipad|iphone|ipod/i.test(qo)&&Jt.Pebble!==void 0,vi=/web0s(?!.*chrome)/i.test(qo),In=ft,Fn=ye,rn=qi.f,xb=Nn.set,mr=it,la=pt,lr=vi,kb=Vn,ur=In.MutationObserver||In.WebKitMutationObserver,St=In.document,TS=In.process,zn=In.Promise,Rr=rn(In,"queueMicrotask"),fr=Rr&&Rr.value,Ke=(fr||(bp=function(){var a,s;for(kb&&(a=TS.domain)&&a.exit();Qu;){s=Qu.fn,Qu=Qu.next;try{s()}catch(l){throw Qu?_b():yp=void 0,l}}yp=void 0,a&&a.enter()},_b=mr||kb||lr||!ur||!St?!la&&zn&&zn.resolve?((gn=zn.resolve(void 0)).constructor=zn,CS=Fn(gn.then,gn),function(){CS(bp)}):kb?function(){TS.nextTick(bp)}:(xb=Fn(xb,In),function(){xb(bp)}):(bb=!0,yb=St.createTextNode(""),new ur(bp).observe(yb,{characterData:!0}),function(){yb.data=bb=!bb})),fr||function(a){a={fn:a,next:void 0},yp&&(yp.next=a),Qu||(Qu=a,_b()),yp=a}),tW=ft,wt=(xS.prototype={add:function(a){a={item:a,next:null},this.head?this.tail.next=a:this.head=a,this.tail=a},get:function(){var a=this.head;if(a)return this.head=a.next,this.tail===a&&(this.tail=null),a.item}},xS),je=ft.Promise,Xe=typeof window=="object"&&typeof Deno!="object",ut=ft,Ep=je,It=be,Jt=jt,rW=Gr,qi=Oe,iW=Xe,IS=Yr,aW=(Ep&&Ep.prototype,qi("species")),OS=!1,AS=It(ut.PromiseRejectionEvent),it={CONSTRUCTOR:Jt("Promise",function(){var a=rW(Ep),s=a!==String(Ep);if(!s&&IS===66)return!0;if(51<=IS&&/native code/.test(a))return!1;function l(d){d(function(){},function(){})}return a=new Ep(function(d){d(1)}),(a.constructor={})[aW]=l,!(OS=a.then(function(){})instanceof l)||!s&&iW&&!AS}),REJECTION_EVENT:AS,SUBCLASSING:OS},pt={},RS=me,vi=(pt.f=function(a){return new nW(a)},Z),X0=Vn,Fl=ft,bd=Mr,rn=an,Rr=Bi,mr=G0,lr=dC,sW=me,J0=be,oW=Le,lW=H_,uW=function(l,s){var l=gS(l).constructor;return l===void 0||(l=gS(l)[VV])==null?s:jV(l)},MS=Nn.set,Cb=Ke,cW=function(a,s){var l=tW.console;l&&l.error&&(arguments.length==1?l.error(a):l.error(a,s))},dW=vb,hW=wt,la=Ht,zn=je,gn=pt,Z0="Promise",Fn=it.CONSTRUCTOR,pW=it.REJECTION_EVENT,In=it.SUBCLASSING,Sb=la.getterFor(Z0),fW=la.set,St=zn&&zn.prototype,yd=zn,em=St,DS=Fl.TypeError,Nb=Fl.document,Tb=Fl.process,Ib=gn.f,mW=Ib,gW=!!(Nb&&Nb.createEvent&&Fl.dispatchEvent),US="unhandledrejection",vW="rejectionhandled",LS=1,_W=2,Ob=1,PS=2,FS=function(a){var s;return!(!oW(a)||!J0(s=a.then))&&s},HS=function(a,s){a.notified||(a.notified=!0,Cb(function(){for(var l,d,p=a.reactions;l=p.get();)kS(l,a);a.notified=!1,s&&!a.rejection&&(d=a,bd(MS,Fl,function(){var m=d.facade,g=d.value,b=BS(d);if(b&&(b=dW(function(){X0?Tb.emit("unhandledRejection",g,m):qS(US,m,g)}),d.rejection=X0||BS(d)?PS:Ob,b.error))throw b.value}))}))},qS=function(a,s,l){var d;gW?((d=Nb.createEvent("Event")).promise=s,d.reason=l,d.initEvent(a,!1,!0),Fl.dispatchEvent(d)):d={promise:s,reason:l},!pW&&(s=Fl["on"+a])?s(d):a===US&&cW("Unhandled promise rejection",l)},BS=function(a){return a.rejection!==Ob&&!a.parent},Ed=function(a,s,l){return function(d){a(s,d,l)}},wd=function(a,s,l){a.done||(a.done=!0,(a=l||a).value=s,a.state=_W,HS(a,!0))},Ab=function(a,s,l){if(!a.done){a.done=!0,l&&(a=l);try{if(a.facade===s)throw DS("Promise can't be resolved itself");var d=FS(s);d?Cb(function(){var p={done:!1};try{bd(d,s,Ed(Ab,p,a),Ed(wd,p,a))}catch(m){wd(p,m,a)}}):(a.value=s,a.state=LS,HS(a,!1))}catch(p){wd({done:!1},p,a)}}};if(Fn&&(em=(yd=function(a){lW(this,em),sW(a),bd(Eb,this);var s=Sb(this);try{a(Ed(Ab,s),Ed(wd,s))}catch(l){wd(s,l)}}).prototype,(Eb=function(a){fW(this,{type:Z0,done:!1,notified:!1,parent:!1,reactions:new hW,rejection:!1,state:0,value:void 0})}).prototype=rn(em,"then",function(a,s){var l=Sb(this),d=Ib(uW(this,yd));return l.parent=!0,d.ok=!J0(a)||a,d.fail=J0(s)&&s,d.domain=X0?Tb.domain:void 0,l.state==0?l.reactions.add(d):Cb(function(){kS(d,l)}),d.promise}),SS=function(){var a=new Eb,s=Sb(a);this.promise=a,this.resolve=Ed(Ab,s),this.reject=Ed(wd,s)},gn.f=Ib=function(a){return a===yd||a===void 0?new SS:mW(a)},J0(zn)&&St!==Object.prototype)){NS=St.then,In||rn(St,"then",function(a,s){var l=this;return new yd(function(d,p){bd(NS,l,d,p)}).then(a,s)},{unsafe:!0});try{delete St.constructor}catch{}Rr&&Rr(St,em)}vi({global:!0,constructor:!0,wrap:!0,forced:Fn},{Promise:yd}),mr(yd,Z0,!1),lr(Z0);var bW=je,ur=uC,fr=it.CONSTRUCTOR||!ur(function(a){bW.all(a).then(void 0,function(){})}),yW=Mr,EW=me,wW=pt,xW=vb,kW=j0,jt=(Z({target:"Promise",stat:!0,forced:fr},{all:function(a){var s=this,l=wW.f(s),d=l.resolve,p=l.reject,m=xW(function(){var g=EW(s.resolve),b=[],w=0,O=1;kW(a,function(L){var q=w++,G=!1;O++,yW(g,s,L).then(function(te){G||(G=!0,b[q]=te,--O||d(b))},p)}),--O||d(b)});return m.error&&p(m.value),l.promise}}),Z),Gr=je,Xe=ee,qi=be,It=an,ut=Gr&&Gr.prototype;jt({target:"Promise",proto:!0,forced:it.CONSTRUCTOR,real:!0},{catch:function(a){return this.then(void 0,a)}}),qi(Gr)&&(Jt=Xe("Promise").prototype.catch,ut.catch!==Jt&&It(ut,"catch",Jt,{unsafe:!0}));var CW=Mr,SW=me,NW=pt,TW=vb,IW=j0;Z({target:"Promise",stat:!0,forced:fr},{race:function(a){var s=this,l=NW.f(s),d=l.reject,p=TW(function(){var m=SW(s.resolve);IW(a,function(g){CW(m,s,g).then(l.resolve,d)})});return p.error&&d(p.value),l.promise}});function GS(a){return function(s,l,d,p){nK(l);var m=tK(s),g=rK(m),b=iK(m),w=a?b-1:0,O=a?-1:1;if(d<2)for(;;){if(w in g){p=g[w],w+=O;break}if(w+=O,a?w<0:b<=w)throw aK("Reduce of empty array with no initial value")}for(;a?0<=w:w<b;w+=O)w in g&&(p=l(p,g[w],w,m));return p}}var tr,wp,OW=Mr,AW=pt,RW=(Z({target:"Promise",stat:!0,forced:it.CONSTRUCTOR},{reject:function(a){var s=AW.f(this);return OW(s.reject,void 0,a),s.promise}}),pn),MW=Le,DW=pt,Bi=Z,Nn=ee,Ke=it.CONSTRUCTOR,UW=function(a,s){return RW(a),MW(s)&&s.constructor===a?s:(a=DW.f(a),(0,a.resolve)(s),a.promise)},Rb=(Nn("Promise"),Bi({target:"Promise",stat:!0,forced:Ke},{resolve:function(a){return UW(this,a)}}),f(function a(){var s=this;c(this,a),this.promise=new Promise(function(l,d){s.resolve=l,s.reject=d})})),$S=function(){var a=u(regeneratorRuntime.mark(function s(l,d,p){var m,g,b,w,O,L,q=arguments;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=3<q.length&&q[3]!==void 0?q[3]:{count:0,deferred:new Rb},m=b.deferred,g=b.count,G.prev=2,G.next=5,d();case 5:b=G.sent,0<g&&(w=p.onRecover)!=null&&w.call(p),m.resolve(b),G.next=19;break;case 10:if(G.prev=10,G.t0=G.catch(2),(w=p.onError)!=null&&w.call(p,G.t0),0<=(O=l.calcTimeout(g+1)))return(L=p.onRetrial)!=null&&L.call(p,g+1,G.t0),setTimeout(function(){$S(l,d,p,{count:g+1,deferred:m})},O),G.abrupt("return",m.promise);G.next=18;break;case 18:m.reject(G.t0);case 19:return G.abrupt("return",m.promise);case 20:case"end":return G.stop()}},s,null,[[2,10]])}));return function(s,l,d){return a.apply(this,arguments)}}(),LW=function(){function a(){c(this,a)}return f(a,[{key:"calcTimeout",value:function(s){switch(s){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),a}(),PW=function(){function a(s,l,d){c(this,a),this.interval=s,this.noise=l,this.maxRetrial=d}return f(a,[{key:"calcTimeout",value:function(s){return s>this.maxRetrial?-1:s*this.interval+(Math.random()-.5)*this.noise*2}}]),a}(),zS=function(){function a(s){c(this,a),this._requests=new Map,this.timeoutTime=s}return f(a,[{key:"has",value:function(s){return this._requests.has(s)}},{key:"get",value:function(s){return this._requests.get(s)}},{key:"register",value:function(s){if(!s)throw new Error("invalid request id");if(this._requests.has(s))throw new Error("duplicate requests");var l=new Rb;return this._requests.set(s,{deferred:l,timer:this._createTimeoutTimer(s)}),l}},{key:"unregister",value:function(s){if(!this._requests.has(s))return null;var d=this._requests.get(s),l=d.timer,d=d.deferred;return clearTimeout(l),this._requests.delete(s),d}},{key:"_createTimeoutTimer",value:function(s){var l=this;return setTimeout(function(){l.unregister(s).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(s){var l,d=D(this._requests.keys());try{for(d.s();!(l=d.n()).done;){var p=l.value,m=this._requests.get(p);clearTimeout(m.timer),m.deferred.reject(s)}}catch(g){d.e(g)}finally{d.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),a}(),FW=function(){function a(p,m,g,b){c(this,a),v(this,"_timeoutTime",6e4),this._ctx=p,this._participantId=m,this._mediaDirections=g,this._endpointId=b,this._requestMap=new zS(this._timeoutTime)}var s,l,d;return f(a,[{key:"sendOfferSdp",value:(d=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this._endpointId){g.next=5;break}return g.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(m);case 3:g.next=7;break;case 5:return g.next=7,this._sendOfferAndUnregisterPutEndpointRequest(m);case 7:case"end":return g.stop()}},p,this)})),function(p){return d.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(l=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return l.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(s=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return s.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(this._endpointId)return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"));throw new Error("Cannot register put endpoint request without endpoint id")}},{key:"_sendCreateEndpoint",value:function(p){return this._ctx.sendCreateEndpoint(p)}},{key:"_sendPutEndpoint",value:function(p){return this._ctx.sendPutEndpoint(p)}}]),a}(),xd=function(){_(s,fS);var a=C(s);function s(l){return c(this,s),a.call(this,l)}return f(s)}(),HW=((wt=tr=tr||{}).PENDING="pending",wt.ESTABLISHED="established",wt.CONNECTED="connected",wt.FAILED="failed",wt.RELEASING="releasing",wt.CLOSED="closed",function(){_(s,xd);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",tr.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}()),qW=function(){_(s,xd);var a=C(s);function s(l){return c(this,s),v(x(l=a.call(this,l)),"type",tr.CONNECTED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),BW=function(){_(s,xd);var a=C(s);function s(l,d,p){return c(this,s),v(x(l=a.call(this,l)),"type",tr.ESTABLISHED),l._sdp=d,l._hasPendingAttach=p,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),GW=function(){_(s,xd);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",tr.FAILED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("failed"),this._context.endpoint.id?this._stateMutator.toReleasing():this._stateMutator.toClosed()}},{key:"_onDestroy",value:function(){}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),$W=function(){_(s,xd);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",tr.PENDING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("pending"),this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){var l=this,d=(this._context.trialCount+=1,this._context.trialCount);9<=d?this._stateMutator.toFailed():1<d?this._requestTimeout=setTimeout(function(){l._context.createSession()},5e3*d+2e3*(Math.random()-.5)):this._context.createSession()}},{key:"onEndpointRequestSucceeded",value:function(l){this._stateMutator.toEstablished(l,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._request()}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),zW=function(){_(s,xd);var a=C(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(x(l=a.call.apply(a,[this].concat(p))),"type",tr.RELEASING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),jW=function(){_(s,pS);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toPending",value:function(){this._changeState(new $W(this))}},{key:"toEstablished",value:function(l,d){this._changeState(new BW(this,l,d))}},{key:"toConnected",value:function(){this._changeState(new qW(this))}},{key:"toFailed",value:function(){this._changeState(new GW(this))}},{key:"toReleasing",value:function(){this._changeState(new zW(this))}},{key:"toClosed",value:function(){this._changeState(new HW(this))}}]),s}(),VW=function(){_(s,mS);var a=C(s);function s(l){return c(this,s),(l=a.call(this,l,new jW(l)))._stateMutator.toPending(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(l){fn.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var d=this.state;switch(d.type){case tr.PENDING:d.onEndpointRequestSucceeded(l);break;case tr.RELEASING:d.onEndpointRequestSucceeded();break;default:fn.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var l=this.state;switch(l.type){case tr.PENDING:case tr.RELEASING:l.onEndpointRequestFailed();break;default:fn.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onICEFailed"));var l=this.state;switch(l.type){case tr.ESTABLISHED:case tr.CONNECTED:l.onICEFailed();break;default:fn.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onPCConnected"));var l=this.state;l.type===tr.ESTABLISHED?l.onPCConnected():fn.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){fn.verbose("[".concat(this.state.type,"] onAttach"));var l=this.state;switch(l.type){case tr.PENDING:case tr.ESTABLISHED:case tr.CONNECTED:l.onAttach();break;default:fn.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){fn.verbose("[".concat(this.state.type,"] onRelease"));var l=this.state;switch(l.type){case tr.PENDING:case tr.ESTABLISHED:case tr.CONNECTED:l.onRelease();break;default:fn.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){fn.verbose("[".concat(this.state.type,"] onReleased"));var l=this.state;l.type===tr.RELEASING?l.onReleased():fn.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){fn.verbose("[".concat(this.state.type,"] onExit"));var l=this.state;switch(l.type){case tr.RELEASING:case tr.PENDING:case tr.CONNECTED:case tr.ESTABLISHED:case tr.FAILED:l.onExit();break;default:fn.error("[".concat(this.state.type,"] onExit"))}}}]),s}(),WW=function(){_(s,F0);var a=C(s);function s(l){var d;return c(this,s),(d=a.call(this)).payload=l.payload||{},d}return f(s)}(),Mb=function(){_(s,WW);var a=C(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s)}(),KW=((Ht=wp=wp||{}).OFFER="offer",Ht.ANSWER="answer",Ht.CANDIDATE="candidate",function(){_(s,Mb);var a=C(s);function s(l){return c(this,s),v(x(l=a.call(this,{payload:l})),"type",wp.ANSWER),l}return f(s)}()),QW=function(){_(s,Mb);var a=C(s);function s(l){return c(this,s),v(x(l=a.call(this,{payload:l})),"type",wp.CANDIDATE),l}return f(s)}(),YW=function(){_(s,Mb);var a=C(s);function s(l){return c(this,s),v(x(l=a.call(this,{payload:l})),"type",wp.OFFER),l}return f(s)}(),XW=function(){function a(){c(this,a)}return f(a,null,[{key:"createOffer",value:function(s,l){return new YW({peerConnectionId:s,sdp:l})}},{key:"createAnswer",value:function(s,l){return new KW({peerConnectionId:s,sdp:l})}},{key:"createCandidate",value:function(s,l){return new QW({peerConnectionId:s,candidate:l})}}]),a}(),jS=function(){_(s,Ul);var a=C(s);function s(l,d,p,m){var g;return c(this,s),v(x(g=a.call(this)),"tmpId",Se()),v(x(g),"_createSession",function(){switch(fn.debug("_createSession()"),g._type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:fn.error("Not supported endpoint type : ",g._type)}}),v(x(g),"_closePeerConnection",function(){fn.debug("_closePeerConnection()"),g._pc.removeAllEventListeners(),g._pc.close()}),v(x(g),"_requestAttach",function(){$S(new PW(5e3,1e3,8),function(){return g._sendAttach(g._attachedTo)},{onError:function(b){fn.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g._attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){g._dispatchEvent("attached",g._attachedTo)})}),v(x(g),"_requestRelease",function(){fn.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){fn.error("Release request failed",b),g._stateMachine.onReleased()})}),v(x(g),"_setRemoteDescription",function(O){fn.debug("_setRemoteDescription()");var w=g._pc,O=XW.createAnswer(void 0,O);w.onEvent(O),w.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),w.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=l,g._localStream=d,g._type=p,g._participantId=m,g._stateMachine=new VW({endpoint:x(g),dispatchEvent:g._dispatchEvent.bind(x(g)),createSession:g._createSession,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0}),g}return f(s,[{key:"pc",get:function(){return this._pc}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(l){fn.debug("attach()"),this._attachedTo=l,this._stateMachine.onAttach()}},{key:"release",value:function(){fn.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){fn.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){fn.debug("_createMasterSession()"),this._createPeerConnection(this._masterSessionDirection,this._localStream),this._requestCreateEndpoint()}},{key:"_createViewerSession",value:function(){fn.debug("_createViewerSession()"),this._createPeerConnection(this._viewerSessionDirection,void 0),this._requestCreateEndpoint()}},{key:"_createPeerConnection",value:function(l,d){fn.debug("_createPeerConnection()");var p=new FW(this._ctx,this._participantId,l,this.id);this._pc=new BV(this._ctx,void 0,p,d,!0,void 0,l,!0),this._dispatchEvent("pcChanged",this._pc)}},{key:"_requestCreateEndpoint",value:function(){var l=this,d=(fn.debug("_requestCreateEndpoint()"),this._pc),p=this.id?d.signalingClient.registerPutEndpointRequest():d.signalingClient.registerCreateEndpointRequest();d.createOffer(),p.promise.then(function(m){l.id=m.payload.endpoint.id,l._stateMachine.onEndpointRequestSucceeded(m.payload.sdp)}).catch(function(m){fn.error("Endpoint request failed",m),l._stateMachine.onEndpointRequestFailed()})}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(l){return this._ctx.sendAttach(this,l)}}]),s}(),JW=function(){_(l,Ul);var a,s=C(l);function l(){return c(this,l),s.call(this)}return f(l,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(a=u(regeneratorRuntime.mark(function d(){var p,m=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:p=g.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){m._releaseStream(),m._dispatchEvent("streamStopped")},g.next=19;break;case 8:g.prev=8,g.t0=g.catch(0),g.t1=g.t0.name,g.next=g.t1==="InvalidStateError"?13:g.t1==="NotAllowedError"?14:g.t1==="NotFoundError"?15:g.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return g.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return g.stop()}},d,this,[[0,8]])})),function(){return a.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var d,p=D(this._stream.getTracks());try{for(p.s();!(d=p.n()).done;)d.value.stop()}catch(m){p.e(m)}finally{p.f()}delete this._stream}}}]),l}(),ZW=function(){_(l,Ul);var a,s=C(l);function l(d){var p,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0};return c(this,l),v(x(p=s.call(this)),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),p._deviceManager=d,p._mediaConstraints=m,p._screenShare=new JW,p._screenShare.on("streamStopped",function(){p._releaseMergedStream(),p._dispatchEvent("screenShareStreamStopped")}),p}return f(l,[{key:"mediaConstraints",set:function(d){this._mediaConstraints=d}},{key:"hasPermission",get:function(){var d;return(d=this._mediaAccess)==null?void 0:d.hasPermission}},{key:"localStream",get:function(){return this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(a=u(regeneratorRuntime.mark(function d(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this._checkScreenSharePrerequisites(),p.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return p.stop()}},d,this)})),function(){return a.apply(this,arguments)})},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(d){var p=this;this._mediaAccess=this._deviceManager.useMedia(d),this._mediaAccess.on("streamChanged",function(){p._screenShare.isSharing&&p._mergeScreenShareStream(),p._dispatchEvent("streamChanged",p.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return p._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){var d;this._screenShare.isSharing&&(d=new MediaStream,this._mediaAccess.stream&&0<this._mediaAccess.stream.getAudioTracks().length&&d.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),d.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=d)}},{key:"_releaseMergedStream",value:function(){this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this._dispatchEvent("streamChanged",this.localStream))}}]),l}(),Db=function(){function a(p,m,g,b){c(this,a),this._liveEvent=p,this._sender=g,this._deviceManager=m,this._mediaOption=b}var s,l,d;return f(a,[{key:"mediaView",get:function(){return this._mediaView},set:function(p){this._mediaView!==p&&(this._mediaView&&(this._mediaView=null),p?this.isHostStream?this._mediaView=this._updateMediaViewStream(p,this.localStream):this._mediaView=this._updateMediaViewStream(p,this.stream):delete this._mediaView)}},{key:"localStream",get:function(){var p;return(p=this._localStream)==null?void 0:p.localStream}},{key:"stream",get:function(){var p;return(p=this._endpoint.pc)==null?void 0:p.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var p=this;this._localStream=new ZW(this._deviceManager,{audio:!0,video:!0}),this._localStream.on("streamChanged",function(){p._onLocalStream()})}},{key:"_createEndpoint",value:function(){var p,m=this;return this.isHostStream?(this._localStream||this._createLocalStream(),new jS({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId)):(p=new jS({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId),this._unsubscriber=p.pc.on("remoteStream",function(g){m._onStream()}),p)}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(p){p&&this._endpoint.release(),this._teardown()}},{key:"attach",value:function(p){this._endpoint.attach(p)}},{key:"toggleAudio",value:function(p){var m;(m=this.localStream.getAudioTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnAudioOn=p}},{key:"toggleVideo",value:function(p){var m;(m=this.localStream.getVideoTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnVideoOn=p}},{key:"chooseMediaDevice",value:function(p,m){this._deviceManager.selectDevice(p,m)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var p=this.stream;this._mediaView&&this._updateMediaViewStream(this._mediaView,p)}},{key:"_updateMediaViewStream",value:function(p,m){return m&&(p.srcObject=m),p}},{key:"_sendConnected",value:(d=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=this.isHostStream?Xt.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.id):Xt.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id),b.abrupt("return",this._sender.send(g));case 2:case"end":return b.stop()}},p,this)})),function(p){return d.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(p){return p=this.isHostStream?Xt.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,p.id):Xt.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id),this._sender.sendWithRetry(p)}},{key:"_sendAttach",value:function(p,m){return p=Xt.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id,m),this._sender.sendWithRetry(p)}},{key:"_sendCreateEndpoint",value:(l=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.isHostStream)return g=Xt.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.sdp,"sendonly","sendonly"),b.abrupt("return",this._sender.send(g));b.next=5;break;case 5:return g=Xt.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.sdp,"recvonly","recvonly"),b.abrupt("return",this._sender.send(g));case 7:case"end":return b.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(s=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._sendCreateEndpoint(m));case 1:case"end":return g.stop()}},p,this)})),function(p){return s.apply(this,arguments)})},{key:"_teardown",value:function(){var p;(p=this._endpoint)!=null&&p.exit(),(this._endpoint=null)!=(p=this._unsubscriber)&&p.call(this),this._unsubscriber=null}}]),a}(),Ub=function(){_(Ne,Ul);var a,s,l,d,p,m,g,b,w,O,L,q,G,te,ae=C(Ne);function Ne(ct){var se,_e=ct.deviceManager,ve=ct.sender,ze=ct.sb,si=ct.userId,ct=ct.info;return c(this,Ne),v(x(se=ae.call(this)),"_customItemsUpdatedAt",0),se._deviceManager=_e,se._sender=ve,se._sb=ze,se._userId=si,se._streams=new Map,se._customItems=null,ct&&Object.assign(x(se),ct),se._unsubscriber=se._sender.on("command",function(Jl){se._onEvent(Jl)}),se}return f(Ne,[{key:"customItems",get:function(){return i({},this._customItems)},set:function(Q){this._customItems=Q}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?t.LiveEventRole.HOST:t.LiveEventRole.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===t.LiveEventRole.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&this.host&&this.host.userId===this._userId}},{key:"duration",get:function(){return 0<this._duration?this._duration:Date.now()-this.startedAt},set:function(Q){this._duration=Q}},{key:"fetchOpenChannel",value:(te=u(regeneratorRuntime.mark(function Q(){var se;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return se=_e.sent,se=this._sb.openChannel.buildOpenChannelFromSerializedData(se),this.openChannel=se,_e.abrupt("return",se);case 6:case"end":return _e.stop()}},Q,this)})),function(){return te.apply(this,arguments)})},{key:"_getOpenChannel",value:(G=u(regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.openChannel)return se.abrupt("return",this.openChannel);se.next=2;break;case 2:return se.abrupt("return",this.fetchOpenChannel());case 3:case"end":return se.stop()}},Q,this)})),function(){return G.apply(this,arguments)})},{key:"enterAsHost",value:(q=u(regeneratorRuntime.mark(function Q(se){var _e,ve;return regeneratorRuntime.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,this._getOpenChannel();case 2:return _e=ze.sent,ze.next=5,_e.enter();case 5:return ze.prev=5,ze.next=8,this._sender.send(Xt.createEnterHost(this.liveEventId,se));case 8:ve=ze.sent,ve=ve.payload.host,this._streams.set(ve.hostId,new Db(this,this._deviceManager,this._sender,se)),this.upsert({host:ve}),ze.next=19;break;case 14:return ze.prev=14,ze.t0=ze.catch(5),ze.next=18,_e.exit();case 18:throw ze.t0;case 19:this._startToSendAlive();case 20:case"end":return ze.stop()}},Q,this,[[5,14]])})),function(Q){return q.apply(this,arguments)})},{key:"setEventReady",value:(L=u(regeneratorRuntime.mark(function Q(){var se;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(this.isHost){_e.next=2;break}throw new Error("host only action");case 2:return _e.next=4,this._sender.send(Xt.createReady(this.liveEventId));case 4:se=_e.sent,se=se.payload.liveEvent,this.upsert(se);case 7:case"end":return _e.stop()}},Q,this)})),function(){return L.apply(this,arguments)})},{key:"startEvent",value:(O=u(regeneratorRuntime.mark(function Q(se){var _e;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(this.isHost){ve.next=2;break}throw new Error("host only action");case 2:return ve.next=4,this._sender.send(Xt.createStart(this.liveEventId));case 4:_e=ve.sent,_e=_e.payload.liveEvent,this.upsert(_e),this.isHostStreaming||this.startStreaming(se),this._toggleAudio(se.turnAudioOn),this._toggleVideo(se.turnVideoOn);case 10:case"end":return ve.stop()}},Q,this)})),function(Q){return O.apply(this,arguments)})},{key:"startStreaming",value:function(Q){if(!this.isActiveHost)throw new Error("current host only action");var se=this._streams.get(this.host.hostId);se||(Q=new Db(this,this._deviceManager,this._sender,Q),this._streams.set(this.host.hostId,Q)),se.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Q=this._streams.get(this.host.hostId);Q&&(this._streams.delete(this.host.hostId),Q.closeStream(!0))}},{key:"exitAsHost",value:(w=u(regeneratorRuntime.mark(function Q(){var se,_e;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(this.isActiveHost){ve.next=2;break}throw new Error("current host only action");case 2:return se=this.host.hostId,ve.next=5,this._sender.send(Xt.createExitHost(this.liveEventId,se));case 5:se=ve.sent,_e=se.payload.host,this.upsert({host:_e}),this.teardown();case 9:case"end":return ve.stop()}},Q,this)})),function(){return w.apply(this,arguments)})},{key:"endEvent",value:(b=u(regeneratorRuntime.mark(function Q(){var se;return regeneratorRuntime.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,this._sender.send(Xt.createEndLiveEvent(this.liveEventId));case 2:se=_e.sent,se=se.payload.liveEvent,this.upsert(se),this.teardown();case 6:case"end":return _e.stop()}},Q,this)})),function(){return b.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(Q){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(Q),this._sender.send(Xt.createAudio(this.liveEventId,this.host.hostId,Q))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(Q){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(Q),this._sender.send(Xt.createVideo(this.liveEventId,this.host.hostId,Q))}},{key:"selectAudioInput",value:function(Q){if(this.isActiveHost)return this._deviceManager.selectDevice("audioinput",Q);throw new Error("current host only action")}},{key:"selectVideoInput",value:function(Q){if(this.isActiveHost)return this._deviceManager.selectDevice("videoinput",Q);throw new Error("current host only action")}},{key:"enter",value:(g=u(regeneratorRuntime.mark(function Q(){var se,_e;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,this._getOpenChannel();case 2:return se=ve.sent,ve.next=5,se.enter();case 5:return ve.prev=5,ve.next=8,this._sender.send(Xt.createEnter(this.liveEventId));case 8:_e=ve.sent,_e=_e.payload.participant,this.upsert({currentLiveUser:_e}),this._tryOpen(),ve.next=19;break;case 14:return ve.prev=14,ve.t0=ve.catch(5),ve.next=18,se.exit();case 18:throw ve.t0;case 19:this._startToSendAlive();case 20:case"end":return ve.stop()}},Q,this,[[5,14]])})),function(){return g.apply(this,arguments)})},{key:"exit",value:(m=u(regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,this._sender.send(Xt.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:se.sent.payload.participant,this.teardown();case 5:case"end":return se.stop()}},Q,this)})),function(){return m.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(Q,se){se=this._streams.get(se),se&&(se.mediaView=Q)}},{key:"updateLiveEventInfo",value:(p=u(regeneratorRuntime.mark(function Q(se){var _e,ve;return regeneratorRuntime.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return _e=Xt.updateLiveEvent(this.liveEventId,se.userIdsForHost,se.title,se.coverUrl,se.coverFile),ze.next=3,this._sender.send(_e);case 3:_e=ze.sent,ve=_e.payload.liveEvent,this.upsert(ve);case 6:case"end":return ze.stop()}},Q,this)})),function(Q){return p.apply(this,arguments)})},{key:"fetchCustomItems",value:(d=u(regeneratorRuntime.mark(function Q(){var se,_e;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return se=Xt.createGetCustomItems(this.liveEventId),ve.prev=1,ve.next=4,this._sender.send(se);case 4:return se=ve.sent,_e=se.payload,this._setCustomItems(_e.customItems),ve.abrupt("return",_e);case 10:throw ve.prev=10,ve.t0=ve.catch(1),fn.error("failed to update customItems"),ve.t0;case 14:case"end":return ve.stop()}},Q,this,[[1,10]])})),function(){return d.apply(this,arguments)})},{key:"updateCustomItems",value:(l=u(regeneratorRuntime.mark(function Q(se){var _e,ve;return regeneratorRuntime.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(Object.keys(se).some(function(si){return typeof se[si]!="string"}))throw new Error("invalid parameter");ze.next=2;break;case 2:return _e=Xt.createUpdateCustomItems(this.liveEventId,se),ze.prev=3,ze.next=6,this._sender.send(_e);case 6:return _e=ze.sent,ve=_e.payload,this._setCustomItems(ve.customItems,ve.updatedAt),ze.abrupt("return",ve);case 12:throw ze.prev=12,ze.t0=ze.catch(3),fn.error("failed to update customItems"),ze.t0;case 16:case"end":return ze.stop()}},Q,this,[[3,12]])})),function(Q){return l.apply(this,arguments)})},{key:"deleteCustomItems",value:(s=u(regeneratorRuntime.mark(function Q(se){var _e,ve;return regeneratorRuntime.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(se.some(function(si){return typeof si!="string"}))throw new Error("invalid parameter");ze.next=2;break;case 2:return _e=Xt.createDeleteCustomItems(this.liveEventId,se),ze.prev=3,ze.next=6,this._sender.send(_e);case 6:return _e=ze.sent,ve=_e.payload,this._setCustomItems(ve.customItems,ve.deletedAt),ze.abrupt("return",ve);case 12:throw ze.prev=12,ze.t0=ze.catch(3),fn.error("failed to delete customItems"),ze.t0;case 16:case"end":return ze.stop()}},Q,this,[[3,12]])})),function(Q){return s.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(a=u(regeneratorRuntime.mark(function Q(){var se,_e;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return se=Xt.createDeleteAllCustomItems(this.liveEventId),ve.prev=1,ve.next=4,this._sender.send(se);case 4:return se=ve.sent,_e=se.payload,this._setCustomItems(_e.customItems,_e.deletedAt),ve.abrupt("return",_e);case 10:throw ve.prev=10,ve.t0=ve.catch(1),fn.error("failed to delete all customItems"),ve.t0;case 14:case"end":return ve.stop()}},Q,this,[[1,10]])})),function(){return a.apply(this,arguments)})},{key:"upsert",value:function(Q){Object.assign(this,Q)}},{key:"teardown",value:function(){(Q=this.openChannel)!=null&&Q.exit();var Q,se,_e=D(this._streams.values());try{for(_e.s();!(se=_e.n()).done;)se.value.closeStream()}catch(ve){_e.e(ve)}finally{_e.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(Q,se){return(se===void 0||se>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=se,this._customItems=Q||{},!0)}},{key:"_onEvent",value:function(Q){if(this.liveEventId===Q.payload.liveEventId)if(Q instanceof IC)this._onReady(Q);else if(Q instanceof OC)this._onStarted(Q);else if(Q instanceof AC)this._onEnded(Q);else if(Q instanceof FC)this._onUpdated(Q);else if(Q instanceof RC)this._onHostEntered(Q);else if(Q instanceof MC)this._onHostExited(Q);else if(Q instanceof DC)this._onHostConnected(Q);else if(Q instanceof PC)this._onHostDisconnected(Q);else if(Q instanceof K_)this._onHostAudioStatusChanged(Q);else if(Q instanceof Q_)this._onHostVideoStatusChanged(Q);else if(Q instanceof UC)this._onParticipantEntered(Q);else if(Q instanceof LC)this._onParticipantExited(Q);else if(Q instanceof HC)this._onUpdateCustomItems(Q);else{if(!(Q instanceof qC))throw new Error("unknown event is received");this._onDeleteCustomItems(Q)}}},{key:"_onReady",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(Q){Q=Q.payload.host,this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,Q)}},{key:"_onHostConnected",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),Q.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),Q.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),Q.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),Q.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(ze){var ze=ze.payload,se=ze.participant,_e=ze.participantCount,ve=ze.peakParticipantCount,ze=ze.cumulativeParticipantCount;this.upsert({participantCount:_e,peakParticipantCount:ve,cumulativeParticipantCount:ze}),this._dispatchEvent("participantEntered",this,se)}},{key:"_onParticipantExited",value:function(ze){var ze=ze.payload,se=ze.participant,_e=ze.participantCount,ve=ze.peakParticipantCount,ze=ze.cumulativeParticipantCount;this.upsert({participantCount:_e,peakParticipantCount:ve,cumulativeParticipantCount:ze}),this._dispatchEvent("participantExited",this,se)}},{key:"_onUpdateCustomItems",value:function(se){var se=se.payload,_e=se.customItems,ve=se.updatedAt;se.updatedKeys,this._setCustomItems(_e,ve)&&this._dispatchEvent("customItemsUpdated",_e,ve)}},{key:"_onDeleteCustomItems",value:function(se){var se=se.payload,_e=se.customItems,ve=se.deletedAt;se.deletedKeys,this._setCustomItems(_e,ve)&&this._dispatchEvent("customItemsDeleted",_e,ve)}},{key:"_tryOpen",value:function(){var Q,se;this.host&&this.host.state===t.HostState.CONNECTED&&this.state===t.LiveEventState.ONGOING&&(Q=this.host.hostId,this._streams.has(Q)?se=this._streams.get(Q):(se=new Db(this,this._deviceManager,this._sender),this._streams.set(Q,se)),se.openStream(),se.attach(Q))}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var Q=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var se=Xt.createHostAlive(Q.liveEventId,Q.host.hostId);Q._sender.send(se)},3e3):this._aliveIntervalId=setInterval(function(){var se=Xt.createAlive(Q.liveEventId,Q.currentLiveUser.participantId);Q._sender.send(se)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),Ne}(),eK=function(){function a(d){c(this,a),this._liveEvents=[],this._ctx=d}var s,l;return f(a,[{key:"createLiveEvent",value:(l=u(regeneratorRuntime.mark(function d(p){var m,g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=Xt.createLiveEvent(td.SINGLE_HOST,p.userIdsForHost?[].concat(M(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile,p.customItems),b.next=3,this._ctx.commandRouter.send(m);case 3:return m=b.sent,g=m.payload.liveEvent,g=new Ub({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:g}),b.prev=6,b.next=9,g.fetchOpenChannel();case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(6),fn.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(g),b.abrupt("return",g);case 16:case"end":return b.stop()}},d,this,[[6,11]])})),function(d){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(s=u(regeneratorRuntime.mark(function d(p){var m,g,b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return m=Xt.createGetLiveEvent(p),L.next=3,this._ctx.commandRouter.send(m);case 3:if(m=L.sent,g=m.payload.liveEvent,-1<(b=this._liveEvents.findIndex(function(q){return q.liveEventId===p})))return(w=this._liveEvents[b]).upsert(g),L.prev=9,L.next=12,w.fetchOpenChannel();L.next=20;break;case 12:L.next=17;break;case 14:L.prev=14,L.t0=L.catch(9),fn.error("failed to fetch initial open channel");case 17:return L.abrupt("return",w);case 20:return O=new Ub({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:g}),L.prev=21,L.next=24,O.fetchOpenChannel();case 24:L.next=29;break;case 26:L.prev=26,L.t1=L.catch(21),fn.error("failed to fetch initial open channel");case 29:return this._liveEvents.push(O),L.abrupt("return",O);case 31:case"end":return L.stop()}},d,this,[[9,14],[21,26]])})),function(d){return s.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[];var d,p=D(this._liveEvents);try{for(p.s();!(d=p.n()).done;)d.value.teardown()}catch(m){p.e(m)}finally{p.f()}}}]),a}(),nK=me,tK=Te,rK=Ta,iK=$,aK=TypeError,la=Z,sK={left:GS(!1),right:GS(!0)}.left,gn=Yr,zn=Vn,In=(la({target:"Array",proto:!0,forced:!V_("reduce")||!zn&&79<gn&&gn<83},{reduce:function(a){var s=arguments.length;return sK(this,a,s,1<s?arguments[1]:void 0)}}),Z),oK=mi.find,rn=q0,Rr="find",VS=!0,St=(Rr in[]&&Array(1)[Rr](function(){VS=!1}),In({target:"Array",proto:!0,forced:VS},{find:function(a){return oK(this,a,1<arguments.length?arguments[1]:void 0)}}),rn(Rr),function(){function a(s,l){c(this,a),this.key=s,this.value=l}return f(a,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(s){return this.value.width===s.value.width&&this.value.height===s.value.height}}]),a}()),WS=(v(St,"_720P",new St("_720P",{width:1280,height:720})),v(St,"_540P",new St("_540P",{width:960,height:540})),v(St,"_480P",new St("_480P",{width:848,height:480})),v(St,"_360P",new St("_360P",{width:640,height:360})),St._720P),lK=function(){_(s,Ul);var a=C(s);function s(l,d){var p;return c(this,s),v(x(p=a.call(this)),"hasPermission",!1),p._streamManger=l,p.constraints=d,p}return f(s,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var l;this.removeAllEventListeners(),(l=this.onDisposed)!=null&&l.call(this)}},{key:"streamChanged",value:function(l){this._dispatchEvent("streamChanged",l)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),s}(),uK=Mr,cK=pn,dK=Sn,Lb=Fs,hK=He,pK=Qe,fK=KC,KS=QC;WC("match",function(a,s,l){return[function(d){var p=hK(this),m=d==null?void 0:pK(d,a);return m?uK(m,d,p):new RegExp(d)[a](Lb(p))},function(g){var p=cK(this),m=Lb(g),g=l(s,p,m);if(g.done)return g.value;if(!p.global)return KS(p,m);for(var b=p.unicode,w=[],O=p.lastIndex=0;(L=KS(p,m))!==null;){var L=Lb(L[0]);(w[O]=L)===""&&(p.lastIndex=fK(m,dK(p.lastIndex),b)),O++}return O===0?null:w}]});function QS(a,s){var l,d,p,m,g;s.audio&&a.getAudioTracks().length===0&&a.addTrack((p=YS=YS||new(window.AudioContext||window.webkitAudioContext),Hl=p.createOscillator(),l=p.createMediaStreamDestination(),(d=p.createGain()).gain.setValueAtTime(0,p.currentTime),Hl.connect(d).connect(l),Hl.start(),nm=l.stream.getAudioTracks()[0],l.stream.getAudioTracks()[0])),s.video&&a.getVideoTracks().length===0&&a.addTrack((p=i(i({},WS.value),{},{frameRate:24}),m=p.width,g=p.height,p=p.frameRate,(kd=kd||document.createElement("canvas")).width=m,kd.height=g,kd.getContext("2d").fillRect(0,0,m,g),xp=xp||setInterval(function(){kd.getContext("2d").fillRect(0,0,m,g)},1e3),p=kd.captureStream(p),tm=p.getVideoTracks()[0],p.getVideoTracks()[0]))}var YS,Hl,kd,xp,nm,tm,vi=oe,Fn=Jn,mK=Fs,gK=zt.trim,mr=ni,kp=ft.parseInt,lr=ft.Symbol,XS=lr&&lr.iterator,JS=/^[+-]?0x/i,vK=Fn(JS.exec),ur=kp(mr+"08")!==8||kp(mr+"0x16")!==22||XS&&!vi(function(){kp(Object(XS))})?function(a,s){return a=gK(mK(a)),kp(a,s>>>0||(vK(JS,a)?16:10))}:kp;Z({global:!0,forced:parseInt!=ur},{parseInt:ur});function ZS(){nm&&nm.stop(),tm&&tm.stop(),tm=nm=null,xp&&(clearInterval(xp),xp=null),Hl&&(Hl.onended=function(){Hl.disconnect(),Hl=null},Hl.stop())}function Pb(a){if(a){var s,l=D(a.getTracks());try{for(l.s();!(s=l.n()).done;)s.value.stop()}catch(d){l.e(d)}finally{l.f()}}}function rm(a,s,l){return(a=a.match(s))&&a.length>=l&&parseInt(a[l],10)}var eN=function(){var a={browser:null,version:null};if(typeof window>"u"||!window.navigator)return a.browser="Not a browser.",a;var s=window.navigator;if(s.mozGetUserMedia)a.browser="firefox",a.version=rm(s.userAgent,/Firefox\/(\d+)\./,1);else if(s.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)a.browser="chrome",a.version=rm(s.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(s.mediaDevices&&s.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=rm(s.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!s.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=rm(s.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return a}().browser==="safari",_K=function(){function a(l){c(this,a),v(this,"_hasPermission",!1),this._deviceManager=l,this._updateQueued=!1}var s;return f(a,[{key:"updateStream",value:(s=u(regeneratorRuntime.mark(function l(){var d,p,m,g,b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this._updateAt)return this._updateQueued=!0,G.abrupt("return");G.next=3;break;case 3:if(d=this._deviceManager.mediaAccesses.some(function(te){return te.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(te){return te.constraints.video}),d||p){G.next=9;break}return Pb(this.stream),ZS(),G.abrupt("return");case 9:return this._updateAt=Date.now(),(m=this.stream)||(b=new MediaStream,QS(b,{audio:d,video:p}),this.stream=b),eN&&Pb(m),G.prev=13,G.next=16,this._deviceManager.getMediaConstraints({usingAudio:d,usingVideo:p});case 16:return b=G.sent,G.next=19,navigator.mediaDevices.getUserMedia(b);case 19:g=G.sent,this._hasPermission=!0,w=D(this._deviceManager.mediaAccesses);try{for(w.s();!(O=w.n()).done;)O.value.hasPermission=!0}catch(te){w.e(te)}finally{w.f()}ZS(),G.next=29;break;case 26:G.prev=26,G.t0=G.catch(13),g=new MediaStream;case 29:QS(g,{audio:d,video:p}),eN||Pb(m),this.stream=g,L=D(this._deviceManager.mediaAccesses);try{for(L.s();!(q=L.n()).done;)q.value.streamChanged(this.stream)}catch(te){L.e(te)}finally{L.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:d,video:p},!0);case 36:case"end":return G.stop()}},l,this,[[13,26]])})),function(){return s.apply(this,arguments)})}]),a}();function nN(a,s){return(a==null?void 0:a.deviceId)===(s==null?void 0:s.deviceId)&&(a==null?void 0:a.label)===(s==null?void 0:s.label)&&(a==null?void 0:a.groupId)===(s==null?void 0:s.groupId)}var bK=function(){function a(){var m=this;c(this,a),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new _K(this),navigator.mediaDevices.ondevicechange=function(){return m._onDeviceChanged()}}var s,l,d,p;return f(a,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(m){return m.constraints.audio}),video:this.mediaAccesses.some(function(m){return m.constraints.video})})}},{key:"addSendBirdCallListener",value:function(m,g){this._sendbirdCallListeners.set(m,g)}},{key:"removeSendBirdCallListener",value:function(m){this._sendbirdCallListeners.delete(m)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"_updateStream",value:(p=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._streamManager.updateStream());case 1:case"end":return g.stop()}},m,this)})),function(){return p.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(m){var g=this;this.mediaAccesses.push(m),m.onDisposed=function(){return g.stopMedia(m)}}},{key:"useMedia",value:function(m){{if(m.audio||m.video)return m=new lK(this._streamManager,m),this._registerMediaAccess(m),this._updateStream(),m;fn.error(new Error("you should set true for at least 1 media type."))}}},{key:"stopMedia",value:function(m){this.mediaAccesses.splice(this.mediaAccesses.indexOf(m),1),this._updateStream()}},{key:"fetchMediaDevices",value:(d=u(regeneratorRuntime.mark(function m(){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,navigator.mediaDevices.enumerateDevices();case 2:return g=b.sent,b.abrupt("return",g.reduce(function(w,O){return w[O.kind].push(O),w},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return b.stop()}},m)})),function(){return d.apply(this,arguments)})},{key:"getMediaConstraints",value:(l=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=g.usingAudio,w=g.usingVideo,O={audio:!1,video:!1},G.next=4,this.fetchMediaDevices();case 4:return L=G.sent,q=L.audioinput,L=L.videoinput,b&&q.length&&(q=this.getCurrentAudioInputDevice(),O.audio={deviceId:q==null?void 0:q.deviceId}),w&&L.length&&(q=this.getCurrentVideoInputDevice(),O.video=i(i({deviceId:q==null?void 0:q.deviceId},WS.value),{},{frameRate:24})),G.abrupt("return",O);case 10:case"end":return G.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(m,g){var b,w=this._availableMediaDevices[m],O=this._currentMediaDevices[m],L=w.find(function(q){return q.deviceId===(g==null?void 0:g.deviceId)});return L||(fn.warning("Selected device is unavailable. fallback to default device."),L=((b=L)!=null?b:0<w.length)?w[0]:null),!nN(O,this._currentMediaDevices[m]=L)}},{key:"_onAudioOutputChanged",value:function(){var m,g=D(this.mediaAccesses);try{for(g.s();!(m=g.n()).done;){var b=m.value;b.constraints.audio&&b.audioOutputChanged()}}catch(w){g.e(w)}finally{g.f()}}},{key:"selectDevice",value:function(m,g){g.kind!==m?fn.error(new Error("Tried to select invalid device of type")):this._updateCurrentMediaDevice(m,g)&&(m!=="audioinput"&&m!=="videoinput"||this._updateStream(),m==="audiooutput"&&this._onAudioOutputChanged())}},{key:"_updateAvailableDevices",value:function(m,g){var b,w,O,L=this._currentMediaDevices[m];if(function(Ne,Q){if(Ne.length===Q.length){for(var se=0;se<Q.length;se++)if(!nN(Ne[se],Q[se]))return;return 1}}(this._availableMediaDevices[m],g))return!1;this._availableMediaDevices[m]=g,L=this._updateCurrentMediaDevice(m,L);var q,G=D(this._sendbirdCallListeners.values());try{for(G.s();!(q=G.n()).done;){var te=q.value,ae=this._currentMediaDevices[m];switch(m){case"audioinput":(b=te.onAudioInputDeviceChanged)!=null&&b.call(te,ae,g);break;case"audiooutput":(w=te.onAudioOutputDeviceChanged)!=null&&w.call(te,ae,g);break;case"videoinput":(O=te.onVideoInputDeviceChanged)!=null&&O.call(te,ae,g)}}}catch(Ne){G.e(Ne)}finally{G.f()}return L}},{key:"refreshMediaDevices",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q,G,te,ae,Ne=arguments;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(b=g.audio,w=g.video,O=1<Ne.length&&Ne[1]!==void 0&&Ne[1],b||w){Q.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return Q.next=6,this.fetchMediaDevices();case 6:G=Q.sent,L=G.audioinput,q=G.audiooutput,G=G.videoinput,ae=te=!1,b&&(te=this._updateAvailableDevices("audioinput",L),ae=this._updateAvailableDevices("audiooutput",q)),w&&(te=this._updateAvailableDevices("videoinput",G)||te),!O&&te&&this._updateStream(),ae&&this._onAudioOutputChanged();case 16:case"end":return Q.stop()}},m,this)})),function(m){return s.apply(this,arguments)})}]),a}(),tN="v1.0.0-beta.3",yK=function(){function a(s){c(this,a),this._parse=s}return f(a,[{key:"parseToJson",value:function(s){try{return JSON.parse(s)}catch{return{}}}},{key:"validate",value:function(p){var l=p.cmd,d=p.request_id,p=p.call_type;return!!(d||l||p)}},{key:"parseCommand",value:function(s){return s.error?{isValid:!0,error:{requestId:s.request_id,message:s.message,code:s.code}}:{isValid:!0,command:this._parse(s)}}},{key:"parse",value:function(s){return s=this.parseToJson(s),this.validate(s)?this.parseCommand(s):{isValid:!1}}}]),a}(),EK=function(){_(s,Ul);var a=C(s);function s(l){var d;return c(this,s),(d=a.call(this))._ctx=l,d._ws=null,d._retryTimer=null,d._closed=!0,d._sessionKey=null,d._requestMap=new zS(d._getTimeoutTime()),d._messageParser=new yK(d._ctx.parse),d._hostUrl=(l=d._ctx.websocketHost)!=null?l:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",d._ctx.appId),d}return f(s,[{key:"connect",value:function(){var l=this;return new Promise(function(d,p){l._sessionKey||p(new Error("tried to connect to websocket server without auth")),l._ws=l._createWebSocket(),l._closed=!1,l._ws.onopen=function(){l._onOpen(),d(null)},l._ws.onmessage=function(w){var w=l._messageParser.parse(w.data),g=w.isValid,b=w.error,w=w.command;g&&(b?l._processError(b):l.processCommand(w))},l._ws.onerror=function(m){return l._onError(m)},l._ws.onclose=function(){l._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(d){var p=d.requestId,d=(d.code,d.message),p=this._requestMap.unregister(p);p&&p.reject(new Error(d))}},{key:"processCommand",value:function(l){this._dispatchEvent("command",l)}},{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(l){}},{key:"_onClose",value:function(){this._startToReconnect()}},{key:"_createWebSocket",value:function(){var l="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+l)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(tN)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){this._removeRetryTimer(),this.connect().catch(function(){})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),wK=function(){function a(l){c(this,a),this._ctx=l,this._fetch=function(){var d;return(d=window).fetch.apply(d,arguments)},this._sessionKey=null,this._hostUrl=(l=this._ctx.apiHost)!=null?l:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var s;return f(a,[{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(s=u(regeneratorRuntime.mark(function l(d){var p,m,g,b,w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(d.getApiOption){O.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(d)));case 2:if((p=d.getApiOption()).auth&&!this._sessionKey)throw new Error("tried to call private api without auth");O.next=5;break;case 5:return g=i({},p.headers),p.body instanceof FormData||(g["Content-Type"]="application/json"),g.SendBird="JS,".concat(this._getOsVersion(),",").concat(tN),g["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(g["SBCall-Session-Token"]=this._sessionKey),O.next=12,this._fetch("".concat(this._getHost()).concat(p.path),{method:p.method,body:p.body instanceof FormData?p.body:JSON.stringify(p.body),headers:g});case 12:return m=O.sent,O.next=15,m.text();case 15:g=O.sent,b=null,O.prev=17,b=JSON.parse(g),O.next=24;break;case 21:throw O.prev=21,O.t0=O.catch(17),new Error("malformed data");case 24:if(m.ok){O.next=34;break}if(b.error)throw new Error("server error");O.next=29;break;case 29:if(m.status===500)throw new Error("internal server error");O.next=31;break;case 31:if(300<=m.status&&m.status<400)throw new Error("malformed data");O.next=33;break;case 33:throw new Error("request failed");case 34:if(O.prev=34,w=this._ctx.parseResponse(d,b))return O.abrupt("return",w);O.next=38;break;case 38:O.next=43;break;case 40:return O.prev=40,O.t1=O.catch(34),O.abrupt("return",b);case 43:return O.abrupt("return",b);case 44:case"end":return O.stop()}},l,this,[[17,21],[34,40]])})),function(l){return s.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),a}(),rN=function(a,s){return(rN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(l[p]=d[p])})(a,s)};function Y(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}rN(a,s),a.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var pe=function(){return(pe=Object.assign||function(a){for(var s,l=1,d=arguments.length;l<d;l++)for(var p in s=arguments[l])Object.prototype.hasOwnProperty.call(s,p)&&(a[p]=s[p]);return a}).apply(this,arguments)};function P(a,s,l,d){return new(l=l||Promise)(function(p,m){function g(O){try{w(d.next(O))}catch(L){m(L)}}function b(O){try{w(d.throw(O))}catch(L){m(L)}}function w(O){var L;O.done?p(O.value):((L=O.value)instanceof l?L:new l(function(q){q(L)})).then(g,b)}w((d=d.apply(a,s||[])).next())})}function F(a,s){var l,d,p,m={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]},g={next:b(0),throw:b(1),return:b(2)};return typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(O){var L=[w,O];if(l)throw new TypeError("Generator is already executing.");for(;m;)try{if(l=1,d&&(p=2&L[0]?d.return:L[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,L[1])).done)return p;switch(d=0,(L=p?[2&L[0],p.value]:L)[0]){case 0:case 1:p=L;break;case 4:return m.label++,{value:L[1],done:!1};case 5:m.label++,d=L[1],L=[0];continue;case 7:L=m.ops.pop(),m.trys.pop();continue;default:if(!((p=0<(p=m.trys).length&&p[p.length-1])||L[0]!==6&&L[0]!==2)){m=0;continue}if(L[0]===3&&(!p||L[1]>p[0]&&L[1]<p[3])){m.label=L[1];break}if(L[0]===6&&m.label<p[1]){m.label=p[1],p=L;break}if(p&&m.label<p[2]){m.label=p[2],m.ops.push(L);break}p[2]&&m.ops.pop(),m.trys.pop();continue}L=s.call(a,m)}catch(q){L=[6,q],d=0}finally{l=p=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}}}function jn(a){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&a[s],d=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return{value:(a=a&&d>=a.length?void 0:a)&&a[d++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(a,s){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var d,p,m=l.call(a),g=[];try{for(;(s===void 0||0<s--)&&!(d=m.next()).done;)g.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(l=m.return)&&l.call(m)}finally{if(p)throw p.error}}return g}function yr(a,s,l){if(l||arguments.length===2)for(var d,p=0,m=s.length;p<m;p++)!d&&p in s||((d=d||Array.prototype.slice.call(s,0,p))[p]=s[p]);return a.concat(d||Array.prototype.slice.call(s))}Object.defineProperty(Xu,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(Xu,"SDK_VERSION",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(Xu,"SDK_MAJOR_VERSION",{get:function(){return Xu.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Xu,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(Xu,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0});var Zn,Yu=Xu;function Xu(){}(je=Zn=Zn||{})[je.INVALID_TOKEN=400111]="INVALID_TOKEN",je[je.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",je[je.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",je[je.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",je[je.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",je[je.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",je[je.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",je[je.LOST_INSTANCE=700100]="LOST_INSTANCE",je[je.CONNECTION_RENEW=700102]="CONNECTION_RENEW",je[je.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",je[je.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",je[je.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",je[je.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",je[je.INVALID_PARAMETER=800110]="INVALID_PARAMETER",je[je.NETWORK_ERROR=800120]="NETWORK_ERROR",je[je.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",je[je.MALFORMED_DATA=800130]="MALFORMED_DATA",je[je.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",je[je.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",je[je.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",je[je.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",je[je.ACK_TIMEOUT=800180]="ACK_TIMEOUT",je[je.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",je[je.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",je[je.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",je[je.REQUEST_FAILED=800220]="REQUEST_FAILED",je[je.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",je[je.REQUEST_CANCELED=800240]="REQUEST_CANCELED",je[je.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",je[je.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",je[je.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",je[je.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",je[je.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED";function ql(a){return!(a instanceof Ee&&!a.shouldThrowOutside)}function iN(a,s){return a===s||(a=pe({},a),s=pe({},s),!(a.hasOwnProperty("messageId")&&s.hasOwnProperty("messageId")&&a.messageId!==s.messageId||a.hasOwnProperty("reqId")&&s.hasOwnProperty("reqId")&&a.reqId!==s.reqId||(a.hasOwnProperty("messageId")&&delete a.messageId,a.hasOwnProperty("reqId")&&delete a.reqId,s.hasOwnProperty("messageId")&&delete s.messageId,s.hasOwnProperty("reqId")&&delete s.reqId,JSON.stringify(a)!==JSON.stringify(s))))}function im(a){return 0<a&&0<=CK.indexOf(a)}function mo(a,s){if((s=s===void 0?!1:s)&&a===null)return!0;if(!(s=fe("object",a)&&a!==null&&a.hasOwnProperty("name")&&typeof a.name=="string"&&a.hasOwnProperty("uri")&&typeof a.uri=="string"&&a.hasOwnProperty("type")&&typeof a.type=="string")){if(typeof Blob<"u")return a instanceof Blob;if(typeof File<"u")return a instanceof File}return s}function xK(d){var s=(s=d.encryption)===void 0?null:s,l=(l=d.store)===void 0?null:l,d=(d=d.localCacheEnabled)===void 0||d;this.nestdb=null,this.store=l,this.preference=new SK({store:l}),this.encryption=s!=null?s:am,this.localCacheEnabled=d}function Cd(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}function _i(){}function $n(a){var s={};return a&&Object.keys(a).forEach(function(l){a[l]!==void 0&&a[l]!==NaN&&a[l]!==null&&(s[l]=a[l])}),s}Y(et,aN=Error),Object.defineProperty(et.prototype,"isInvalidTokenError",{get:function(){return this.code===Zn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Zn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Zn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(et,"debugModeRequired",{get:function(){return new et({code:Zn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"lostInstance",{get:function(){return new et({code:Zn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"connectionRenew",{get:function(){return new et({code:Zn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"invalidConnectionStateTransition",{get:function(){return new et({code:Zn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"connectionRequired",{get:function(){return new et({code:Zn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"connectionCanceled",{get:function(){return new et({code:Zn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"invalidParameters",{get:function(){return new et({code:Zn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"networkError",{get:function(){return new et({code:Zn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"markAsReadAllRateLimitExceeded",{get:function(){return new et({code:Zn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"queryInProgress",{get:function(){return new et({code:Zn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"noAckTimeout",{get:function(){return new et({code:Zn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"loginTimeout",{get:function(){return new et({code:Zn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"connectionClosed",{get:function(){return new et({code:Zn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"requestFailed",{get:function(){return new et({code:Zn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"fileUploadCanceled",{get:function(){return new et({code:Zn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"requestCanceled",{get:function(){return new et({code:Zn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"sessionTokenRefreshFailed",{get:function(){return new et({code:Zn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(et,"sessionTokenRequestFailed",{get:function(){return new et({code:Zn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),et.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this};var We,aN,Ee=et,kK=[Zn.CONNECTION_REQUIRED,Zn.NETWORK_ERROR,Zn.ACK_TIMEOUT,Zn.WEBSOCKET_CONNECTION_CLOSED,Zn.WEBSOCKET_CONNECTION_FAILED,Zn.FILE_UPLOAD_CANCEL_FAILED,Zn.REQUEST_CANCELED,Zn.INTERNAL_SERVER_ERROR,Zn.RATE_LIMIT_EXCEEDED,Zn.UNKNOWN_SERVER_ERROR],CK=[Zn.WEBSOCKET_CONNECTION_CLOSED,Zn.WEBSOCKET_CONNECTION_FAILED,Zn.CONNECTION_REQUIRED],fe=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||(typeof a!="string"?typeof a=="object"?ir(a,s):s instanceof a:typeof s===a)},ir=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Object.values(a).includes(s)},bt=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Array.isArray(s)&&s.every(function(d){return fe(a,d)})},sN=(Object.defineProperty(Sp.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(a){fe("boolean",a)&&(this._useMemberInfoInMessage=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Sp.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(a){fe("number",a)&&(this._typingIndicatorInvalidateTime=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Sp.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(a){fe("number",a)&&1e3<=a&&a<=9e3&&(this._typingIndicatorThrottle=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Sp.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(a){fe("number",a)&&5e3<=a&&a<=3e4&&(this._websocketResponseTimeout=a)},enumerable:!1,configurable:!0}),Sp),bi={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},am={encrypt:function(a){return a},decrypt:function(a){return a}},SK=(Ju.prototype._savePreferenceKeys=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._store.set({key:this._keysAddress,value:yr([],rr(this._preference.keys()),!1),generation:1})];case 1:return a.sent(),[2]}})})},Ju.prototype.init=function(a){var s;return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w;return F(this,function(O){switch(O.label){case 0:return this._keysAddress=a,[4,this._store.get(a)];case 1:l=(s=O.sent())!=null?s:[],O.label=2;case 2:O.trys.push([2,7,8,9]),d=jn(l),p=d.next(),O.label=3;case 3:return p.done?[3,6]:(m=p.value,[4,this._store.get(m)]);case 4:(g=O.sent())&&this._preference.set(m,g),O.label=5;case 5:return p=d.next(),[3,3];case 6:return[3,9];case 7:return g=O.sent(),b={error:g},[3,9];case 8:try{p&&!p.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}return[7];case 9:return[2]}})})},Ju.prototype.get=function(a){var s;return P(this,void 0,void 0,function(){return F(this,function(l){return[2,(s=this._preference.get(a))!=null?s:null]})})},Ju.prototype.set=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:return l=!this._preference.has(a),[4,this._store.set({key:a,value:s,generation:1})];case 1:return d.sent(),this._preference.set(a,s),l?[4,this._savePreferenceKeys()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},Ju.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._store.remove(a)];case 1:return s.sent(),this._preference.delete(a),[4,this._savePreferenceKeys()];case 2:return s.sent(),[2]}})})},Ju.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._store.removeMany(yr([],rr(this._preference.keys()),!1))];case 1:return a.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return a.sent(),[2]}})})},Ju),NK=(Object.defineProperty(Fb.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),Fb.prototype.clear=function(){this.authToken=null,this.sessionKey=null},Fb),oN=(Cp.prototype._register=function(a,s,l){return a in this._container||(this._container[a]=new Map),this._container[a].set(this.key,{occurence:s,handler:l}),this},Cp.prototype.on=function(a,s){return this._register(a,-1,s)},Cp.prototype.once=function(a,s){return this._register(a,1,s)},Cp.prototype.close=function(){for(var a in this._container)this._container[a].delete(this.key)},Cp),sm=(lm.prototype.on=function(a,s){return new oN({container:this._container}).on(a,s)},lm.prototype.once=function(a,s){return new oN({container:this._container}).once(a,s)},lm.prototype.dispatch=function(a,s){var l,d,p=this._container[a];if(p){var m=[];try{for(var g=jn(p.keys()),b=g.next();!b.done;b=g.next()){var w=b.value,O=p.get(w);O.handler(s),0<O.occurence&&(O.occurence--,O.occurence===0&&m.push(w))}}catch(L){l={error:L}}finally{try{b&&!b.done&&(d=g.return)&&d.call(g)}finally{if(l)throw l.error}}m.forEach(function(L){return p.delete(L)})}},lm),TK=(om.prototype.on=function(a){return this._dispatcher.on("event",a)},om.prototype.once=function(a){return this._dispatcher.once("event",a)},om.prototype.dispatch=function(a){this._dispatcher.dispatch("event",a)},om);function om(){this._dispatcher=new sm}function lm(){this._container={}}function Cp(a){a=a.container,this._container={},this._container=a,this.key=Cd()}function Fb(){this.sessionKey=null,this.authToken=null}function Ju(a){a=a.store,this._preference=new Map,this._store=a}function Sp(p){var p=p===void 0?{}:p,s=p.useMemberInfoInMessage,s=s!==void 0&&s,l=p.typingIndicatorInvalidateTime,l=l===void 0?1e4:l,d=p.typingIndicatorThrottle,d=d===void 0?1e3:d,p=p.websocketResponseTimeout,p=p===void 0?1e4:p;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=s,this._typingIndicatorInvalidateTime=l,this._typingIndicatorThrottle=d,this._websocketResponseTimeout=p}function et(l){var s=l.code,s=s===void 0?0:s,l=l.message,l=aN.call(this,l)||this;return l.shouldThrowOutside=!1,l.name="SendbirdError",l.code=s,Object.setPrototypeOf(l,et.prototype),l}(jt=We=We||{}).GET="GET",jt.POST="POST",jt.PUT="PUT",jt.DELETE="DELETE",Y(Np,qb=_i),Np.prototype.stringifyParams=function(a){return typeof a!="object"||Array.isArray(a)?String(a):a?JSON.stringify(a):""},Object.defineProperty(Np.prototype,"query",{get:function(){var a=this,s=$n(this.params);return"?".concat(Object.keys(s).map(function(l){return"".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(a.stringifyParams(s[l])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(Np.prototype,"payload",{get:function(){var a,s=this,l=$n(this.params);return Object.keys(l).some(function(d){return mo(l[d])})?(a=new FormData,Object.keys(l).forEach(function(d){var p,m=l[d];mo(m)?a.append(d,m,(p=m.name)!=null?p:"filename"):a.append(d,s.stringifyParams(m))}),a):JSON.stringify(l)},enumerable:!1,configurable:!0});var um,lN,Hb,uN,cN,qb,Ye=Np,en=(Y(dm,cN=_i),Object.defineProperty(dm.prototype,"payload",{get:function(){return pe({},this._payload)},enumerable:!1,configurable:!0}),dm.prototype.as=function(a){return new a(this._iid,this.payload)},dm),IK=(Y(pN,uN=_i),pN),cm=(Y(hN,Hb=_i),hN),Bb=(Y(dN,lN=_i),dN);function dN(a){var s=lN.call(this)||this;return s.statLog=a,s}function hN(){return Hb!==null&&Hb.apply(this,arguments)||this}function pN(a){var s=uN.call(this)||this;return s.requestId=a,s}function dm(a,s){var l=cN.call(this)||this;return l._iid=a,l._payload=s,l}function Np(){var a=qb!==null&&qb.apply(this,arguments)||this;return a.params={},a.requireAuth=!0,a.headers={},a.requestId=Cd(),a}(qi=um=um||{}).WEBSOCKET_CONNECT="ws:connect",qi.API_RESULT="api:result";function Pt(){}_N.payloadify=function(a){return $n({stat_type:a.type,ts:a.createdAt,data:$n(a.data)})};var Bl,fN,mN,gN,Tp=_N,OK=(Object.defineProperty(ec.prototype,"_userAgentWithExtension",{get:function(){var d=this._sdkState.extensions,a=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",s=d.sb_syncmanager?"s".concat(d.sb_syncmanager):"",l=d.sb_uikit?"u".concat(d.sb_uikit):"",d=d["device-os-platform"]?"o".concat(d["device-os-platform"]):"";return"".concat(a,"/c").concat(Yu.SDK_VERSION,"/").concat(s,"/").concat(l,"/").concat(d)},enumerable:!1,configurable:!0}),ec.prototype._createHeader=function(a,s){s===void 0&&(s=null);var d=this._sdkState,l=d.appId,d=d.appVersion,d=pe(pe({},a.headers),{SendBird:"JS,".concat(Yu.OS_VERSION,",").concat(Yu.SDK_VERSION,",").concat(l).concat(d?",".concat(d):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return s||(d["Content-Type"]="application/json; charset=utf-8"),a.requireAuth&&this._auth.hasSession&&(d["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(d["App-Id"]=l,d["Access-Token"]=this._auth.authToken),d},ec.prototype._statLogApiResult=function(a,s,l){this._dispatcher.dispatch(new Bb(new Tp({type:um.API_RESULT,data:{endpoint:a.path,method:a.method,success:!l,latency:Date.now()-s,error_code:l==null?void 0:l.code,error_description:l==null?void 0:l.message}})))},ec.prototype.send=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L;return F(this,function(q){switch(q.label){case 0:d=a.path,s=a.method,p=![We.GET,We.DELETE].includes(s),l=this._sdkState.api,l="".concat(l.host).concat(d).concat(p?"":a.query),d=p?a.payload:null,p=this._createHeader(a,d instanceof FormData?d:null),g=new AbortController,m=g.signal,this._abortControl.set(a.requestId,g),g=Date.now(),q.label=1;case 1:return q.trys.push([1,4,,5]),[4,fetch(l,{method:s,body:d,headers:p,signal:m})];case 2:return[4,(b=q.sent()).json()];case 3:if(O=q.sent(),b.ok||b.redirected)return this._logger.debug("receive api response",a.requestId),this._statLogApiResult(a,g,null),[2,new en(this._iid,O)];throw O?(w=new Ee(O)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new cm):w=Ee.requestFailed,this._statLogApiResult(a,g,w),w;case 4:throw O=q.sent(),this._statLogApiResult(a,g,O),O instanceof Ee?(this._logger.debug("fail api request",O),O):O.name==="AbortError"?Ee.requestCanceled:(L=Ee.networkError,this._logger.debug("fail api request",L),L);case 5:return[2]}})})},ec.prototype.cancel=function(a){this._abortControl.has(a)&&(this._abortControl.get(a).abort(),this._abortControl.delete(a))},ec.prototype.cancelAll=function(){var a,s;try{for(var l=jn(this._abortControl.values()),d=l.next();!d.done;d=l.next())d.value.abort()}catch(p){a={error:p}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this._abortControl.clear()},ec),cr=(Y(Sd,gN=_i),Sd.createFromRawMessage=function(a,s){var l=s.substring(0,4),d=null;try{d=JSON.parse(s.substring(4))}catch{l="NOOP"}finally{return new Sd(a,l,d)}},Sd.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},Sd.prototype.as=function(a){return new a(this._iid,this.code,this.payload)},Sd),go=(Y(Gb,mN=_i),Gb.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},Gb),AK=(Y(vN,fN=go),vN),RK=(Object.defineProperty(Zu.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),Zu.prototype.ping=function(){var a,s=this,l=new AK;try{var d=(a=this.sdkState.websocket.pongTimeout)!=null?a:5e3;this._pingTimeoutTimer=setTimeout(function(){s._logger.debug("pinger.ping() timeout"),s.pingDelegate.error(null)},d),this.pingDelegate.send(l),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return l},Zu.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},Zu.prototype.refreshTimer=function(){var a=this,s=(this._logger.debug("pinger.refreshTimer()"),(s=this.sdkState.websocket.pingInterval)!=null?s:15e3);this.stop(),this._pingTimer=setInterval(function(){a.ping()},s)},Zu.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},Zu.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},Zu);function Zu(d){var s=d.pingDelegate,l=d.sdkState,d=d.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=s,this.sdkState=l,this._logger=d}function vN(){return fN.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}function Gb(d){var s=d.code,l=d.ackRequired,d=d.payload,d=d===void 0?null:d,p=this;return(p=mN.call(this)||this).code=s,p.payload=d,p.requestId=(s=p.payload.req_id)!=null?s:Cd(),p.ackRequired=l,p.payload.req_id=p.requestId,p}function Sd(a,s,l,d){d===void 0&&(d="");var p=this;return(p=gN.call(this)||this)._iid=a,p.code=s,p.payload=l,p.requestId=l?(a=l.req_id)!=null?a:d:"",p}function ec(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._abortControl=new Map,this._iid=a,this._auth=l,this._sdkState=d,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof IK&&g.cancel(b.requestId)}),this._logger=m}function _N(d){var s=d.type,l=d.data,d=d.ts,d=d===void 0?Date.now():d;this.type=s,this.createdAt=d,this.data=l}(Gr=Bl=Bl||{}).CONNECTING="CONNECTING",Gr.OPEN="OPEN",Gr.CLOSED="CLOSED";function oa(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})}Y(nc,yN=sm),Object.defineProperty(nc.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Bl.CONNECTING;case 1:return Bl.OPEN}return Bl.CLOSED},enumerable:!1,configurable:!0}),nc.prototype.connect=function(a){var s=this;this._ws=new WebSocket(a),this._ws.onopen=function(){s._logger.debug("websocket open"),s.dispatch("open")},this._ws.onmessage=function(l){l.data.split(`
`).forEach(function(d){d&&fe("string",d)&&(d=cr.createFromRawMessage(s._iid,d),s._logger.debug("receive websocket event",d),d.code==="LOGI"?(d.payload&&!d.payload.error&&s._pinger&&s._pinger.start(),s.dispatch("message",d)):d.code==="PONG"?s._pinger&&s._pinger.pong():d.code==="EXPR"?d.payload&&0<d.payload.expires_in&&s._dispatcher.dispatch(new cm):d.code!=="NOOP"&&s.dispatch("message",d))})},this._ws.onerror=function(){s._logger.debug("websocket error"),s._pinger&&s._pinger.stop(),s.dispatch("error",Ee.networkError)},this._ws.onclose=function(){s._logger.debug("websocket close"),s._pinger&&s._pinger.stop(),s.dispatch("close")},this.lastActive=Date.now()},nc.prototype.disconnect=function(){var a=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Pt,this._ws.onmessage=Pt,this._ws.onerror=Pt,this._ws.onclose=function(){a.dispatch("close")},this._ws.close(),this._ws=null)},nc.prototype.send=function(a){if(!this._ws)throw Ee.connectionClosed;a.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",a),this._ws.send(a.convertToMessage())},nc.prototype.error=function(a){this._logger.debug("websocket error",a),this._pinger&&this._pinger.stop(),this.dispatch("error",a)};var Zt,bN,yN,MK=nc,EN=(Y(wN,bN=_i),wN),DK=(Nd.prototype._sendApiRequest=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this.apiClient.send(a)];case 1:return[2,s.sent()]}})})},Nd.prototype._sendWebsocketRequest=function(a){return P(this,void 0,void 0,function(){var s,l,d,p=this;return F(this,function(m){if(s=new oa,a.ackRequired){l=null,d=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(a.requestId)&&(p._ackStateMap.delete(a.requestId),l&&(clearTimeout(l),l=null),g?(p._logger.debug("fail websocket request",g),s.reject(g)):(p._logger.debug("receive websocket ack",a.requestId),s.resolve(b)))};try{l=setTimeout(function(){return d(Ee.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(a.requestId,{resolve:function(g){return d(null,g)},reject:function(g){return d(g)}}),this.websocketClient.send(a)}catch(g){d(g)}}else try{this.websocketClient.send(a),s.resolve(null)}catch(g){s.reject(g)}return[2,s.promise]})})},Nd.prototype.send=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a instanceof Ye?[4,this._sendApiRequest(a)]:[3,2];case 1:case 3:return[2,s.sent()];case 2:return a instanceof go?[4,this._sendWebsocketRequest(a)]:[3,4];case 4:throw Ee.invalidParameters}})})},Nd.prototype.cancel=function(a){this.apiClient.cancel(a)},Nd.prototype.cancelAll=function(){this.apiClient.cancelAll()},Nd);function Nd(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._ackStateMap=new Map,this._sdkState=d,this._dispatcher=p,this._logger=m,this.apiClient=new OK(a,{auth:l,sdkState:d,dispatcher:p,logger:m}),this.websocketClient=new MK(a,{sdkState:d,dispatcher:p,logger:m}),this.websocketClient.on("message",function(b){var w;b.payload.unread_cnt&&g._dispatcher.dispatch(new EN(b.payload.unread_cnt)),b.requestId?g._ackStateMap.has(b.requestId)&&(w=g._ackStateMap.get(b.requestId),b.code!=="EROR"?w.resolve(b):w.reject(new Ee({code:b.payload.code,message:b.payload.message}))):g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(Ee.connectionClosed)}),g._ackStateMap.clear()})}function wN(d){var s=d.all,l=d.custom_types,d=d.ts,p=bN.call(this)||this;return p.all=s,p.customTypes=l,p.ts=d,p}function nc(a,p){var l=p.sdkState,d=p.dispatcher,p=p.logger,m=yN.call(this)||this;return m._pinger=null,m.lastActive=0,m._iid=a,m._sdkState=l,m._dispatcher=d,m._logger=p,m._sdkState.websocket.pingerDisabled||(m._pinger=new RK({pingDelegate:{send:function(g){return m.send(g)},error:function(g){return m.error(g)}},sdkState:m._sdkState,logger:p})),m}(Xe=Zt=Zt||{})[Xe.NONE=0]="NONE",Xe[Xe.INITIALIZED=1]="INITIALIZED",Xe[Xe.CONNECTING=2]="CONNECTING",Xe[Xe.CONNECTED=3]="CONNECTED",Xe[Xe.RECONNECTING=4]="RECONNECTING",Xe[Xe.DISCONNECTED=5]="DISCONNECTED",Xe[Xe.LOGOUT=6]="LOGOUT";function vo(a){return P(void 0,void 0,void 0,function(){return F(this,function(s){return[2,new Promise(function(l){return setTimeout(l,a)})]})})}function $b(a,s,l){return l===void 0&&(l=new RN),P(void 0,void 0,void 0,function(){var d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:d=0,p=null,m=function(O){return p=(O=O===void 0?null:O)!=null?O:new Error("Halted")},g=function(){d=0},w.label=1;case 1:if(!(s===-1||d<s))return[3,9];w.label=2;case 2:return w.trys.push([2,4,,8]),[4,a(m,g)];case 3:if(b=w.sent(),p)throw p;return[2,b];case 4:if(b=w.sent(),p)return[3,6];if(++d===s)throw b;return[4,vo(l.calcTimeout(d))];case 5:return w.sent(),[3,7];case 6:throw p;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})}function at(a){P(void 0,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,a()];case 1:return l.sent(),[3,3];case 2:if((s=l.sent())instanceof Ee)return s.throwOutside(),[3,3];throw s;case 3:return[2]}})})}function Ip(a,s){return(s=s===void 0?null:s)!==null&&UN.set(a,s),(s=UN.get(a))!=null?s:""}function UK(a){this.emojiHash=(a=a===void 0?{}:a).emoji_hash||"",this.uploadSizeLimit=a.file_upload_size_limit?1048576*a.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!a.use_reaction,this.applicationAttributes=a.application_attributes||[],this.premiumFeatureList=a.premium_feature_list||[]}Y(WN,ON=_i);var Er,hm,gr,Va,pm,Gi,Wa,Gl,ar,xN,zb,kN,jb,Vb,CN,Wb,Kb,SN,NN,TN,IN,ON,AN,Td=WN,LK=(Object.defineProperty(zl.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Zt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(zl.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Zt.CONNECTING||this._currentConnectionStateType===Zt.RECONNECTING},enumerable:!1,configurable:!0}),zl.prototype.send=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return a instanceof go?this.isReady?(this._logger.debug("send websocket request",a),[4,this.commandRouter.send(a)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",a),s=new oa,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return d.timeout(a.requestId)},1e4)}),[2,s.promise];throw this._logger.debug("fail websocket request"),Ee.connectionRequired;case 3:return[3,7];case 4:return a instanceof Ye?this._auth.hasSession?(this._logger.debug("send api request",a),[4,this.commandRouter.send(a)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",a),s=new oa,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return d.timeout(a.requestId)},1e4)}),[2,s.promise];throw l=Ee.connectionRequired,this._logger.debug("fail api request",l),l;case 7:return[2]}})})},zl.prototype.forceSend=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._logger.debug("send websocket request (forced)",a),[4,this.commandRouter.send(a)];case 1:return[2,s.sent()]}})})},zl.prototype.timeout=function(a){this._logger.debug("timeout request",a);var s=this._lazyCallQueue.findIndex(function(l){return l.command.requestId===a});-1<s&&(this._lazyCallQueue[s].deferred.reject(Ee.connectionRequired),this._lazyCallQueue.splice(s,1))},zl.prototype.cancel=function(a){this._logger.debug("cancel api request",a),this.commandRouter.cancel(a)},zl.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},zl),PK=(Y(VN,IN=Ye),VN),FK=(Y(jN,TN=go),jN),HK=(Y(zN,NN=en),zN),qK=(Y($N,SN=cr),$N),BK=(Y(GN,Kb=_i),GN),RN=(BN.prototype.calcTimeout=function(){return 0},BN),GK=(Rp.prototype.createRefreshWebsocketCommand=function(a){return new FK({authToken:a,expiringSession:!0})},Rp.prototype._refreshSessionKey=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g=this;return F(this,function(b){switch(b.label){case 0:if(this._currentConnectionStateType!==Zt.CONNECTED)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),l=this.createRefreshWebsocketCommand(a),[4,this._requestQueue.forceSend(l)];case 2:if(l=b.sent(),p=l.as(qK),d=p.newKey,p=p.error)throw p;return this.auth.sessionKey=d!=null?d:this.auth.sessionKey,this._logger.debug("session refreshed"),at(function(){return P(g,void 0,void 0,function(){return F(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2];case 3:if(p=b.sent(),ql(p))throw p;return p.isSessionTokenExpiredError?(this._handleError(s),[2]):[3,4];case 4:return b.trys.push([4,6,,7]),m=new PK({userId:this._sdkState.userId,authToken:a,expiringSession:!0}),[4,$b(function(w){return P(g,void 0,void 0,function(){var O;return F(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(m)];case 1:return O=L.sent(),O=O.as(HK).key,this.auth.sessionKey=O,[3,3];case 2:throw(O=L.sent()).isSessionTokenExpiredError&&w(Ee.sessionTokenRefreshFailed),O;case 3:return[2]}})})},3)];case 5:return b.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return b.sent(),this._handleError(s),[2];case 7:return at(function(){return P(g,void 0,void 0,function(){return F(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2]}})})},Rp.prototype._handleError=function(a){var s=this,l=Ee.sessionTokenRefreshFailed;at(function(){return P(s,void 0,void 0,function(){return F(this,function(d){return this.handler.onSessionError(l),[2]})})}),a&&a.reject(l)},Rp.prototype.refresh=function(){return P(this,void 0,void 0,function(){var a,s,l,d=this;return F(this,function(p){return this.handler?(a=new oa,s=function(m){m?(d._logger.debug("session refreshing.."),d.auth.authToken=m,d._refreshSessionKey(m,a)):(d._logger.debug("session closed"),at(function(){return P(d,void 0,void 0,function(){return F(this,function(g){return this.handler.onSessionClosed(),[2]})})}),a.resolve())},l=function(){d._dispatcher.dispatch(new BK);var m=Ee.sessionTokenRequestFailed;d.handler&&(at(function(){return P(d,void 0,void 0,function(){return F(this,function(g){return this.handler.onSessionError(m),[2]})})}),a.reject(m))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,a):at(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return this.handler.onSessionTokenRequired(s,l),[2]})})}),[2,a.promise]):[2]})})},Rp),It=(Od.prototype.run=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2]})})},Od.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Od.prototype.onReconnect=function(a,s){return s.resetReconnectCount,P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Od.prototype.onDisconnect=function(a,s){return s.error,s.autoReconnect,P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Od.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2]})})},Od),Op=(Y(Zb,Wb=It),Zb.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return s=a.sdkState.userId,a.logout(),at(function(){return P(l,void 0,void 0,function(){return F(this,function(p){return a.connectionHandlers.forEach(function(m){m.onDisconnected(s)}),[2]})})}),[4,a.changeState(new Xb)];case 1:return d.sent(),[2]}})})},Zb),Qb=(Y(Id,CN=It),Id.prototype.run=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a.disconnect(),this._autoReconnect?[4,a.changeState(new Yb)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},Id.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return a.disconnect(),[4,a.changeState(new DN({authToken:s}))];case 1:return l.sent(),[2]}})})},Id.prototype.onReconnect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Yb)];case 1:return s.sent(),[2]}})})},Id.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Op)];case 1:return s.sent(),[2]}})})},Id),Yb=(Y($l,Vb=It),$l.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},$l.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:s=new oa,this._callbacks.push(function(b){return b?s.reject(b):s.resolve()}),at(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectStarted()}),[2]})})}),g.label=1;case 1:return g.trys.push([1,4,,9]),d=a.sdkState.websocket,l=d.reconnectMaxRetry,d=d.reconnectRetryStrategy,[4,$b(function(b,w){return P(m,void 0,void 0,function(){var O;return F(this,function(L){switch(L.label){case 0:this._haltConnect=b,this._resetConnect=w,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,a.connect()];case 2:return L.sent(),[3,4];case 3:if((O=L.sent())instanceof Ee&&O.code===Zn.CONNECTION_CANCELED)return b(O),[2];throw O;case 4:return[2]}})})},l,d)];case 2:return g.sent(),[4,a.changeState(new MN)];case 3:return g.sent(),at(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return p=g.sent(),ql(p)?[3,7]:!(p instanceof Ee)||p.code===Zn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new Qb({autoReconnect:!1}))];case 5:g.sent(),g.label=6;case 6:return at(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectFailed()}),this.flushCallbacks(p),[2]})})}),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,s.promise]}})})},$l.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return l=new oa,this._resetConnect&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(p){return p?l.reject(p):l.resolve()}),[2,l.promise]})})},$l.prototype.onReconnect=function(a,l){var l=l.resetReconnectCount,d=l!==void 0&&l;return P(this,void 0,void 0,function(){var p;return F(this,function(m){return p=new oa,this._resetConnect&&d&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(g){return g?p.reject(g):p.resolve()}),[2,p.promise]})})},$l.prototype.onDisconnect=function(a,s){var d=s.error,l=d===void 0?null:d,d=s.autoReconnect,p=d===void 0||d;return P(this,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return this._haltConnect&&this._haltConnect(l!=null?l:Ee.connectionCanceled),[4,a.changeState(new Qb({autoReconnect:p}))];case 1:return m.sent(),[2]}})})},$l.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(Ee.connectionCanceled),[4,a.changeState(new Op)];case 1:return s.sent(),[2]}})})},$l),MN=(Y(Ap,jb=It),Ap.prototype.onReconnect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a.disconnect(),[4,a.changeState(new Yb)];case 1:return s.sent(),[2]}})})},Ap.prototype.onDisconnect=function(a,s){var l=s.autoReconnect;return P(this,void 0,void 0,function(){return F(this,function(d){switch(d.label){case 0:return[4,a.changeState(new Qb({autoReconnect:l}))];case 1:return d.sent(),[2]}})})},Ap.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Op)];case 1:return s.sent(),[2]}})})},Ap),DN=(Y(rc,kN=It),rc.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},rc.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:s=new oa,this._callbacks.push(function(m){return m?s.reject(m):s.resolve()}),p.label=1;case 1:return p.trys.push([1,4,,9]),[4,$b(function(m){return P(d,void 0,void 0,function(){var g;return F(this,function(b){switch(b.label){case 0:this._haltConnect=m,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,a.connect(this._authToken)];case 2:return b.sent(),[3,4];case 3:if((g=b.sent())instanceof Ee&&g.code===Zn.CONNECTION_CANCELED)return m(g),[2];throw g;case 4:return[2]}})})},a.sdkState.websocket.connectMaxRetry)];case 2:return p.sent(),[4,a.changeState(new MN)];case 3:return p.sent(),at(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return a.connectionHandlers.forEach(function(g){g.onConnected(a.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return l=p.sent(),ql(l)?[3,7]:(a.disconnect(),!(l instanceof Ee)||l.code===Zn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new Xb)]);case 5:p.sent(),p.label=6;case 6:return at(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return this.flushCallbacks(l),[2]})})}),[3,8];case 7:throw l;case 8:return[3,9];case 9:return[2,s.promise]}})})},rc.prototype.onConnect=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){return s=new oa,this._callbacks.push(function(d){return d?s.reject(d):s.resolve()}),[2,s.promise]})})},rc.prototype.onDisconnect=function(a,l){var l=l.error,d=l===void 0?null:l;return P(this,void 0,void 0,function(){return F(this,function(p){switch(p.label){case 0:return this._haltConnect&&this._haltConnect(d!=null?d:Ee.connectionCanceled),[4,a.changeState(new Op)];case 1:return p.sent(),[2]}})})},rc.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(Ee.connectionCanceled),[4,a.changeState(new Op)];case 1:return s.sent(),[2]}})})},rc),Xb=(Y(Jb,zb=It),Jb.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,a.changeState(new DN({authToken:s}))];case 1:return l.sent(),[2]}})})},Jb),UN=new Map,ut=(qN.payloadify=function(a){return a?{}:null},qN),Ct="/".concat("v3","/users"),$K="/".concat("v3","/storage/file"),LN="/".concat("v3","/group_channels"),tc="/".concat("v3","/open_channels"),zK="/".concat("v3","/sdk/open_channels"),jK="/".concat("v3","/search"),PN="/".concat("v3","/report"),VK="/".concat("v3","/emojis"),FN="/".concat("v3","/emoji_categories"),WK="/".concat("v3","/sdk/statistics"),KK=(Y(HN,xN=Ye),HN);function HN(l){var s=l.userId,l=l.metadata,d=xN.call(this)||this;return d.method=We.POST,d.path="".concat(Ct,"/").concat(s,"/metadata"),d.params={metadata:l},d}function qN(a){this._iid="",this._iid=a}function Jb(){var a=zb!==null&&zb.apply(this,arguments)||this;return a.type=Zt.INITIALIZED,a.name="initialized",a}function rc(s){var s=s.authToken,l=kN.call(this)||this;return l.type=Zt.CONNECTING,l.name="connecting",l._authToken="",l._haltConnect=null,l._callbacks=[],l._authToken=s,l}function Ap(){var a=jb!==null&&jb.apply(this,arguments)||this;return a.type=Zt.CONNECTED,a.name="connected",a}function $l(){var a=Vb!==null&&Vb.apply(this,arguments)||this;return a.type=Zt.RECONNECTING,a.name="reconnecting",a._haltConnect=null,a._resetConnect=null,a._callbacks=[],a}function Id(s){var s=s.autoReconnect,l=CN.call(this)||this;return l.type=Zt.DISCONNECTED,l.name="disconnected",l._autoReconnect=!1,l._autoReconnect=s,l}function Zb(){var a=Wb!==null&&Wb.apply(this,arguments)||this;return a.type=Zt.LOGOUT,a.name="logout",a}function Od(){this.type=Zt.NONE,this.name="none"}function Rp(m){var s=m.auth,l=m.sdkState,d=m.dispatcher,p=m.requestQueue,m=m.logger,g=this;this._currentConnectionStateType=Zt.INITIALIZED,this.auth=s,this._sdkState=l,this._dispatcher=d,this._requestQueue=p,this._logger=m,this._dispatcher.on(function(b){var w;b instanceof Td?(w=b.stateType,g._currentConnectionStateType=w):b instanceof cm&&g.refresh()})}function BN(){}function GN(){return Kb!==null&&Kb.apply(this,arguments)||this}function $N(a,s,l){return a=SN.call(this,a,"LOGI",l)||this,a.error=null,a.newKey=l.new_key,a.error=l.error?new Ee(l.error):null,a}function zN(a,s){return a=NN.call(this,a,s)||this,s=s.key,a.key=s,a}function jN(l){var s=l.authToken,l=l.expiringSession;return TN.call(this,{code:"LOGI",payload:{token:s,expiring_session:l===void 0||l?1:0},ackRequired:!0})||this}function VN(d){var s=d.userId,l=d.authToken,d=d.expiringSession,d=d===void 0||d,p=IN.call(this)||this;return p.path="/users/".concat(s,"/session_key"),p.method=We.POST,p.params={token:l,expiring_session:!!d},p.requireAuth=!1,p}function zl(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._currentConnectionStateType=Zt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new DK(a,{auth:l,sdkState:d,dispatcher:p,logger:m}),this._auth=l,this._logger=m,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof Td)switch(b=b.stateType,g._currentConnectionStateType=b){case Zt.CONNECTED:var w=g._lazyCallQueue;g._lazyCallQueue=[],w.forEach(function(O){return P(g,void 0,void 0,function(){var L,q,G,te;return F(this,function(ae){switch(ae.label){case 0:L=O.command,q=O.deferred,G=O.timeout,clearTimeout(G),ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,this.send(L)];case 2:return G=ae.sent(),q.resolve(G),[3,4];case 3:return te=ae.sent(),q.reject(te),[3,4];case 4:return[2]}})})});break;case Zt.INITIALIZED:case Zt.DISCONNECTED:case Zt.LOGOUT:w=g._lazyCallQueue,g._lazyCallQueue=[],w.forEach(function(O){return P(g,void 0,void 0,function(){var L,q;return F(this,function(G){return L=O.deferred,q=O.timeout,clearTimeout(q),this._auth&&this._auth.hasSession?L.reject(Ee.connectionClosed):L.reject(Ee.connectionRequired),[2]})})})}})}function WN(s){var s=s.stateType,l=ON.call(this)||this;return l.stateType=s,l}Y(function(a,s){return(a=AN.call(this,a,s)||this).metadata=s,a},AN=en),(Jt=Er=Er||{}).BASE="base",Jt.GROUP="group",Jt.OPEN="open",(fr=hm=hm||{}).OPERATOR="operator",fr.NONE="none",(pt=gr=gr||{}).BASE="base",pt.USER="user",pt.FILE="file",pt.ADMIN="admin",(it=Va=Va||{}).ALL="",it.USER="MESG",it.FILE="FILE",it.ADMIN="ADMM",(Nn=pm=pm||{}).USER="MESG",Nn.FILE="FILE",Nn.ADMIN="ADMM",(Bi=Gi=Gi||{}).USERS="users",Bi.CHANNEL="channel",(Ke=Wa=Wa||{}).ALL="all",Ke.NONE="none",Ke.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel",(wt=Gl=Gl||{}).DEFAULT="default",wt.SUPPRESS="suppress",(Ht=ar=ar||{}).PENDING="pending",Ht.SCHEDULED="scheduled",Ht.SUCCEEDED="succeeded",Ht.FAILED="failed",Ht.CANCELED="canceled";function Ft(a){switch(a){case Er.GROUP:return LN;case Er.OPEN:return tc;default:return null}}function KN(a){switch(a){case Er.GROUP:return"".concat(PN,"/group_channels");case Er.OPEN:return"".concat(PN,"/open_channels");default:return null}}function ey(a,s,l){return a=Ad(a.mentionType,a.mentionedUserIds,l),s=Ad(s.mentionType,s.mentionedUserIds,l),!a&&s?1:a&&!s?-1:0}var QN,YN,XN,JN,ZN,ny,Ad=function(a,s,l){var d,p;switch(a){case Gi.CHANNEL:return!0;case Gi.USERS:if(s)try{for(var m=jn(s),g=m.next();!g.done;g=m.next())if(g.value===l)return!0}catch(b){d={error:b}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(d)throw d.error}}}return!1},QK=(Y(aT,ZN=Ye),aT),eT=(Y(iT,JN=en),iT),YK=(Y(rT,XN=Ye),rT),XK=(Y(tT,YN=en),tT),JK=(Y(nT,QN=Ye),nT);function nT(l){var s=l.userId,l=l.metadataKey,d=QN.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(s,"/metadata/").concat(l),d}function tT(a,s){return a=YN.call(this,a,s)||this,a.metadata=s,a}function rT(d){var s=d.userId,l=d.metadata,d=d.upsert,p=XN.call(this)||this;return p.method=We.PUT,p.path="".concat(Ct,"/").concat(s,"/metadata"),p.params={metadata:l,upsert:d},p}function iT(a,s){return a=JN.call(this,a,s)||this,a.metaData=s!=null?s:{},a}function aT(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.metadata;return(s=ZN.call(this)||this).method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0},s}Y(function(){return ny!==null&&ny.apply(this,arguments)||this},ny=en),Y(oT,sT=Ye);var sT,ty,ZK=oT;function oT(s){var s=s.userId,l=sT.call(this)||this;return l.method=We.DELETE,l.path="".concat(Ct,"/").concat(s,"/metadata"),l}Y(function(){return ty!==null&&ty.apply(this,arguments)||this},ty=en);function ry(a,s){return s===void 0&&(s=null),(a=JSON.parse(JSON.stringify(a)))._iid&&delete a._iid,s&&s(a),a}function fm(a,s){return s===void 0&&(s=null),a=JSON.parse(JSON.stringify(a)),s&&s(a),a}function un(a){return{do:function(s){a||s()},throw:function(s){if(!a)throw s}}}var Rd;(Ta=Rd=Rd||{}).ONLINE="online",Ta.OFFLINE="offline",Ta.NON_AVAILABLE="nonavailable",Y(qs,iy=ut),qs.payloadify=function(a){return a?$n(pe(pe({},iy.payloadify.call(this,a)),{user_id:a.userId,nickname:a.nickname,profile_url:a.plainProfileUrl,require_auth_for_profile_image:a.requireAuth,metadata:a.metaData,is_online:a.connectionStatus,is_active:a.isActive,last_seen_at:a.lastSeenAt,preferred_languages:a.preferredLanguages,friend_discovery_key:a.friendDiscoveryKey,friend_name:a.friendName})):null},Object.defineProperty(qs.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(Ip(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),qs.prototype.serialize=function(){return ry(this)},qs.prototype._isValidMetaData=function(a){return!Array.isArray(a)&&0<Object.keys(a).length&&Object.keys(a).map(function(s){return a[s]}).every(function(s){return fe("string",s)})},qs.prototype._applyMetaData=function(a,s){var l=this;s===void 0&&(s=!1),Object.keys(a).forEach(function(d){s?delete l.metaData[d]:l.metaData[d]=a[d]})},qs.prototype.createMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(this._isValidMetaData(a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new KK({userId:l.userId,metadata:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(eT).metaData,this._applyMetaData(l),[2,this.metaData]}})})},qs.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(this._isValidMetaData(a)).throw(Ee.invalidParameters),l=xe.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new YK({userId:d.userId,metadata:a,upsert:s}),[4,l.send(d)];case 1:return l=p.sent(),d=l.as(XK).metadata,this._applyMetaData(d),[2,this.metaData]}})})},qs.prototype.deleteMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),l=xe.of(this._iid),s=l.sdkState,l=l.requestQueue,s=new JK({userId:s.userId,metadataKey:a}),[4,l.send(s)];case 1:return d.sent(),this._applyMetaData(((l={})[a]=!0,l),!0),[2,this.metaData]}})})},qs.prototype.deleteAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new ZK({userId:s.userId}),[4,a.send(s)];case 1:return l.sent(),this.metaData={},[2]}})})};var ic,lT,uT,cT,dT,hT,iy,Qn=qs,pT=(Y(vT,hT=_i),vT),ay=(oy.payloadify=function(a){return pe(pe({},Qn.payloadify(a.user)),{emoji_hash:a.appInfo.emojiHash,file_upload_size_limit:a.appInfo.uploadSizeLimit,application_attributes:a.appInfo.applicationAttributes,premium_feature_list:a.appInfo.premiumFeatureList,login_ts:a.connectedAt/1e3,ping_interval:a.pingInterval,pong_timeout:a.pongTimeout,reconnect:{interval:a.reconnectInterval,max_interval:a.reconnectMaxInterval,retry_cnt:a.reconnectRetryCount,mul:a.reconnectIntervalMultiple},max_unread_cnt_on_super_group:a.maxUnreadCountOnSuperGroup,profile_image_encryption:a.profileImageEncryption,concurrent_call_limit:a.concurrentCallLimit,back_off_delay:a.backOffDelay})},oy.prototype.apply=function(){var a=this.reconnectInterval,s=this.reconnectMaxInterval,l=this.reconnectIntervalMultiple,d=xe.of(this._iid);d.sdkState.websocket.pingInterval=1e3*this.pingInterval,d.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,d.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,d.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return 0<p?1e3*Math.min(a*Math.pow(l,p-1),s):10}},d.appInfo=this.appInfo,d.sessionManager.currentUser=this.user,d.connectedAt=this.connectedAt,this.firstConnectedAt||(d.firstConnectedAt=this.connectedAt),d.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,d.concurrentCallLimit=this.concurrentCallLimit,d.backOffDelay=this.backOffDelay,d.dispatcher.dispatch(new pT({userProfile:this}))},oy),sy=(Y(Mp,dT=cr),Mp.asError=function(a){return new Mp(null,"LOGI",pe({user_id:null,error:!0},a))},Mp.prototype.applyTo=function(a){if(this.error)throw this.error;var s=xe.of(a);if(!s)throw Ee.lostInstance;s.sessionManager.auth.sessionKey=this.key,Ip(a,this.ekey),this.userProfile.apply()},Mp),fT=(Y(gT,cT=_i),gT),eQ=(Y(Hs,uT=sm),Object.defineProperty(Hs.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Hs.prototype.changeState=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._currentState=a,this._dispatcher.dispatch(new Td({stateType:a.type})),this._logger.debug("connection state changes to ".concat(a.name)),[4,this._currentState.run(this)];case 1:return s.sent(),[2]}})})},Hs.prototype._url=function(a){a===void 0&&(a="");var m=this.sdkState,s=m.appId,l=m.appVersion,d=m.userId,m=m.extensions,p=this._sessionManager.auth,g=m.sb_syncmanager?"s".concat(m.sb_syncmanager):"",m=m.sb_uikit?"u".concat(m.sb_uikit):"",g="JS/c".concat(Yu.SDK_VERSION,"/").concat(g,"/").concat(m);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Yu.OS_VERSION),"&sv=").concat(encodeURIComponent(Yu.SDK_VERSION),"&ai=").concat(s).concat(l?"&av=".concat(l):"").concat(p.hasSession?"&key=".concat(encodeURIComponent(p.sessionKey)):"&user_id=".concat(encodeURIComponent(d),"&access_token=").concat(encodeURIComponent(a)),"&active=1&SB-User-Agent=").concat(g,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},Hs.prototype._enableStatLog=function(a){this._dispatcher.dispatch(new fT(a))},Hs.prototype._statLogConnection=function(a){this._dispatcher.dispatch(new Bb(new Tp({type:um.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!a,latency:Date.now()-this._connectingAt,error_code:a==null?void 0:a.code,error_description:a==null?void 0:a.message}})))},Hs.prototype.connect=function(a){return a===void 0&&(a=""),P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){return s=this._url(a),l=new oa,this._connectionRequestQueue.push(l),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){d._loginTimer=null,d._dispatcher.dispatch(sy.asError(Ee.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(s)),[2,l.promise]})})},Hs.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(sy.asError(Ee.connectionRenew))},Hs.prototype.disconnect=function(){this._websocketClient.disconnect()},Hs.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},Hs),nQ=(Object.defineProperty(jo.prototype,"isConnected",{get:function(){return this._context.currentState.type===Zt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"isConnecting",{get:function(){var a=this._context.currentState;return a.type===Zt.CONNECTING||a.type===Zt.RECONNECTING},enumerable:!1,configurable:!0}),jo.prototype.connect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onConnect(this._context,a)];case 1:return s.sent(),[2]}})})},jo.prototype.reconnect=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return a.sent(),[2]}})})},jo.prototype.resetAndReconnect=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return a.sent(),[2]}})})},jo.prototype.background=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return a.sent(),[2]}})})},jo.prototype.disconnect=function(a){return a===void 0&&(a=null),P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:a,autoReconnect:!0})];case 1:return s.sent(),[2]}})})},jo.prototype.logout=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return a.sent(),[2]}})})},jo),tQ=(Y(mT,lT=Ye),mT);function mT(l){var s=l.deviceId,l=l.statLogs,d=lT.call(this)||this;return d.method=We.POST,d.path="".concat(WK),d.params={device_id:s,log_entries:l.map(function(p){return Tp.payloadify(p)})},d}function jo(a,w){var l=w.sdkState,d=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.disableAutoReconnect,w=w!==void 0&&w,O=this;this._context=null,this._logger=b,this._context=new eQ(a,{sdkState:l,connectionHandlers:d,sessionManager:p,websocketClient:m,dispatcher:g,logger:b}),w||m.on("close",function(){l.appState==="foreground"&&setTimeout(function(){O._logger.debug("try reconnect by websocket connection closed"),O.reconnect()},100)})}function Hs(a,w){var l=w.sdkState,d=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.entryState,w=w===void 0?new Xb:w,O=uT.call(this)||this;return O._currentState=null,O._loginTimer=null,O._connectingAt=0,O._connectionRequestQueue=[],O._iid=a,O.sdkState=l,O.connectionHandlers=d,O._sessionManager=p,O._websocketClient=m,O._dispatcher=g,O._logger=b,O._currentState=w,O._websocketClient.on("message",function(L){var q;L.code==="LOGI"&&(O._loginTimer&&(clearTimeout(O._loginTimer),O._loginTimer=null),(q=L.as(sy)).error?(q.error.isSessionKeyExpiredError&&O._dispatcher.dispatch(new cm),O._connectionRequestQueue.forEach(function(G){return G.reject(q.error)}),O._statLogConnection(q.error)):(q.applyTo(O._iid),O._connectionRequestQueue.forEach(function(G){return G.resolve()}),L=q.userProfile,O._enableStatLog(L.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),O._statLogConnection(null)),O._connectionRequestQueue=[])}).on("close",function(){0<O._connectionRequestQueue.length&&(O._connectionRequestQueue.forEach(function(L){return L.reject(Ee.networkError)}),O._connectionRequestQueue=[],O._statLogConnection(Ee.networkError))}),O}function gT(a){var s=cT.call(this)||this;return s.enabled=a,s}function Mp(a,s,l){var d=this;return(d=dT.call(this,a,s,l)||this).error=null,d.userProfile=new ay(a,l),d.key=l.key,d.ekey=(s=l.ekey)!=null?s:"",d.error=l.error?new Ee(l):null,d}function oy(a,s){this._iid=a,this.appInfo=new UK(s),this.user=new Qn(a,s),this.connectedAt=1e3*((a=s.login_ts)!=null?a:0),this.firstConnectedAt=0,this.pingInterval=(a=s.ping_interval)!=null?a:15e3,this.pongTimeout=(a=s.pong_timeout)!=null?a:5e3,this.reconnectInterval=(a=(a=s.reconnect)==null?void 0:a.interval)!=null?a:3e3,this.reconnectMaxInterval=(a=(a=s.reconnect)==null?void 0:a.max_interval)!=null?a:6e4,this.reconnectRetryCount=(a=(a=s.reconnect)==null?void 0:a.retry_cnt)!=null?a:5,this.reconnectIntervalMultiple=(a=(a=s.reconnect)==null?void 0:a.mul)!=null?a:2,this.maxUnreadCountOnSuperGroup=(a=s.max_unread_cnt_on_super_group)!=null?a:100,this.profileImageEncryption=!!s.profile_image_encryption,this.concurrentCallLimit=(a=s.concurrent_call_limit)!=null?a:5,this.backOffDelay=(a=s.back_off_delay)!=null?a:100}function vT(s){var s=s.userProfile,l=hT.call(this)||this;return l.userProfile=s,l}function qs(a,s){var l=this;return(l=iy.call(this,a)||this).userId=(a=(a=s.guest_id)!=null?a:s.user_id)!=null?a:"",l.nickname=(a=(a=s.nickname)!=null?a:s.name)!=null?a:"",l.plainProfileUrl=(a=(a=s.profile_url)!=null?a:s.image)!=null?a:"",l.requireAuth=(a=s.require_auth_for_profile_image)!=null&&a,l.metaData=(a=s.metadata)!=null?a:{},l.connectionStatus=Rd.NON_AVAILABLE,ir(Rd,s.is_online)?l.connectionStatus=s.is_online:fe("boolean",s.is_online)&&(l.connectionStatus=s.is_online?Rd.ONLINE:Rd.OFFLINE),l.isActive=(a=s.is_active)==null||a,l.lastSeenAt=(a=s.last_seen_at)!=null?a:null,l.preferredLanguages=s.preferred_languages?yr([],rr(s.preferred_languages),!1):null,l.friendDiscoveryKey=(a=s.friend_discovery_key)!=null?a:null,l.friendName=(a=s.friend_name)!=null?a:null,l}(Yr=ic=ic||{})[Yr.PENDING=0]="PENDING",Yr[Yr.ENABLED=1]="ENABLED",Yr[Yr.DISABLED=2]="DISABLED",Object.defineProperty(ac.prototype,"isEnabled",{get:function(){return this.enabledstate===ic.ENABLED},enumerable:!1,configurable:!0}),ac.prototype._save=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(s){return Tp.payloadify(s)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},ac.prototype._flush=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,5,6,7]),0<(a=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length?(s=new tQ({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(s)]):[3,4];case 2:return l.sent(),this.queue=this.queue.slice(a.length),[4,this._save()];case 3:l.sent(),l.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return l.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},ac.prototype.init=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.key=a,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(s=d.sent())?(this.deviceId=s.deviceId,this.queue=s.statLogs.map(function(p){return new Tp({type:p.stat_type,ts:p.ts,data:p.data})}),this.generation=s.generation,this.lastFlushedAt=s.lastFlushedAt,108e5<=Date.now()-this.lastFlushedAt&&this.queue.length>=this.minLimit?(s=Math.min(Math.floor(18e4*Math.random()),100),[4,vo(s)]):[3,4]):[3,4];case 2:return d.sent(),[4,this._flush()];case 3:d.sent(),d.label=4;case 4:return this.dispatcher.on(function(p){var m;p instanceof Bb?(m=p.statLog,l.put(m)):p instanceof fT&&(l.enabledstate=p.enabled?ic.ENABLED:ic.DISABLED,l.isEnabled?l.queue.length>=l.limit&&l._flush():l.clear())}),[2]}})})},ac.prototype.put=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this.enabledstate===ic.DISABLED?[3,3]:(this.queue.push(a),[4,this._save()]);case 1:return s.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},ac.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return a.sent(),[2]}})})};var Vo,rQ=ac;function ac(g){var s=g.cacheContext,l=g.requestQueue,d=g.dispatcher,p=g.baseLimit,p=p===void 0?100:p,m=g.maxLimit,m=m===void 0?1e3:m,g=g.minLimit,g=g===void 0?10:g;this.queue=[],this.enabledstate=ic.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=Cd(),this.cacheContext=s,this.requestQueue=l,this.dispatcher=d,this.baseLimit=p,this.limit=p,this.maxLimit=m,this.minLimit=g}(Vn=Vo=Vo||{})[Vn.NONE=0]="NONE",Vn[Vn.VERBOSE=1]="VERBOSE",Vn[Vn.DEBUG=2]="DEBUG",Vn[Vn.INFO=3]="INFO",Vn[Vn.WARN=4]="WARN",Vn[Vn.ERROR=5]="ERROR",Md.prototype.verbose=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Vo.VERBOSE&&console.log.apply(console,yr(["[verbose]"],rr(a),!1))},Md.prototype.debug=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Vo.DEBUG&&console.log.apply(console,yr(["[debug]"],rr(a),!1))},Md.prototype.info=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Vo.INFO&&console.log.apply(console,yr(["[info]"],rr(a),!1))},Md.prototype.warn=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Vo.WARN&&console.warn.apply(console,yr(["[warn]"],rr(a),!1))},Md.prototype.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Vo.ERROR&&console.error.apply(console,yr(["[error]"],rr(a),!1))};var Dp,ly,_T,bT,iQ=Md,Up={},xe=(xT.of=function(a){if(Up[a])return Up[a];throw Ee.lostInstance},xT),la=(wT.prototype.init=function(a,b){var l=b.sdkState,d=b.dispatcher,p=b.sessionManager,m=b.requestQueue,g=b.logger,b=(b.onlineDetector,b.cacheContext),b=b===void 0?null:b;this._iid=a,this._cacheContext=b,this._sdkState=l,this._dispatcher=d,this._sessionManager=p,this._requestQueue=m,this._logger=g},wT),aQ=(Y(ET,bT=Ye),ET),sQ=(Y(yT,_T=en),yT),uy=(Y(cy,ly=ut),cy.payloadify=function(a){return a?$n(pe(pe({},ly.payloadify.call(this,a)),{reply_count:a.replyCount,most_replies:Array.isArray(a.mostRepliedUsers)?a.mostRepliedUsers.map(function(s){return Qn.payloadify(s)}):[],last_replied_at:a.lastRepliedAt,updated_at:a.updatedAt})):null},cy);function cy(a,s){var l=this;return(l=ly.call(this,a)||this).replyCount=0,l.mostRepliedUsers=null,l.lastRepliedAt=0,l.updatedAt=0,l.replyCount=(a=s.reply_count)!=null?a:0,l.mostRepliedUsers=s.hasOwnProperty("most_replies")&&bt("object",s.most_replies)?s.most_replies.map(function(d){return new Qn(l._iid,d)}):[],l.lastRepliedAt=(a=s.last_replied_at)!=null?a:0,l.updatedAt=(a=s.updated_at)!=null?a:0,l}function yT(a,s){var l=this;return(l=_T.call(this,a,s)||this).url=s.url,l.fileSize=(a=s.file_size)!=null?a:0,l.thumbnailSizes=(a=s.thumbnails)!=null?a:[],l.requireAuth=(a=s.require_auth)!=null&&a,l}function ET(a){var s=bT.call(this)||this;if(s.method=We.POST,s.path="".concat($K),s.params=$n({file:a.file,channel_url:a.channelUrl}),a.thumbnailSizes)for(var l=0;l<a.thumbnailSizes.length;l++){var p=a.thumbnailSizes[l],d=p.maxWidth,p=p.maxHeight;s.params["thumbnail".concat(l+1)]="".concat(d,",").concat(p)}return s.requestId=a.requestId,s}function wT(){}function xT(a,s){var l,d,p,m;return this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,Up[a]||(Up[a]=this,l=(l=s.options)!=null?l:new sN,d=this.sdkState={appId:s.appId,appVersion:(d=s.appVersion)!=null?d:"",appState:"foreground",userId:null,extensions:{},api:{host:(d=s.apiHost)!=null?d:"https://api-".concat(s.appId,".sendbird.com")},websocket:{host:(d=s.websocketHost)!=null?d:"wss://ws-".concat(s.appId,".sendbird.com"),pingerDisabled:!!s.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new RN,responseTimeout:l.websocketResponseTimeout}},this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0},p=this.logger=new iQ,this.logger.level=(m=s.logLevel)!=null?m:Vo.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new xK({encryption:s.encryption,store:s.store,localCacheEnabled:(m=s.localCacheEnabled)!=null&&m}),this.debugMode=(m=s.debugMode)!=null&&m,this.maxSuperGroupChannelUnreadCount=Yu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=l.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=l.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=l.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null,s=this.dispatcher=new TK,m=new NK,this.requestQueue=new LK(a,{auth:m,sdkState:d,dispatcher:s,logger:p}),this.sessionManager=new GK({auth:m,sdkState:d,dispatcher:s,requestQueue:this.requestQueue,logger:p}),this.connectionManager=new nQ(a,{sdkState:d,connectionHandlers:this.connectionHandlers,dispatcher:s,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:p}),this.statLogCollector=new rQ({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:s})),Up[a]}function Md(){this.level=Vo.WARN}(zn=Dp=Dp||{}).ADD="add",zn.DELETE="delete";function dy(m){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var s=fe("string",m.msg_id)?parseInt(m.msg_id):m.msg_id,l=m.user_id,d=m.operation?m.operation.toLowerCase():null,p=m.reaction,m=m.updated_at;s&&fe("string",l)&&fe("string",d)&&ir(Dp,d)&&fe("string",p)&&p&&fe("number",m)&&(this.messageId=s,this.userId=l,this.key=p,this.operation=d,this.updatedAt=m)}Object.defineProperty(gm.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),gm.payloadify=function(a){return a?$n({key:a.key,user_ids:a.userIds,updated_at:a.updatedAt}):null},gm.prototype.applyEvent=function(a){if(a.key===this.key&&this.updatedAt<=a.updatedAt){if(!this._version[a.userId]||this._version[a.userId]<=a.updatedAt){var s=this.userIds.indexOf(a.userId);switch(a.operation){case Dp.ADD:s<0&&this.userIds.push(a.userId);break;case Dp.DELETE:0<=s&&this.userIds.splice(s,1)}this._version[a.userId]=a.updatedAt}this.updatedAt=Math.max(this.updatedAt,a.updatedAt)}};var jl,mm=gm,Ka=(IT.payloadify=function(a){return a?$n({key:a.key,value:(a=a.value)!=null?a:[]}):null},IT),kT=(TT.payloadify=function(a){var s;return a?$n({url:a.url,secure_url:a.secureUrl,type:a.type,width:(s=a.width)!=null?s:0,height:(s=a.height)!=null?s:0,alt:a.alt}):null},TT),CT=(NT.payloadify=function(a){return a?$n({"og:title":a.title,"og:url":a.url,"og:description":a.description,"og:image":a.defaultImage?kT.payloadify(a.defaultImage):null}):null},NT),Vl=(ST.payloadify=function(a){return a?$n({name:a.name,volume:a.volume}):null},ST);function ST(a){var s;this.name=null,this.volume=0,this.name=(s=a.name)!=null?s:"default",this.volume=(s=a.volume)!=null?s:1}function NT(a){this.title=null,this.url=null,this.description=null,this.defaultImage=null,a.hasOwnProperty("og:title")&&(this.title=a["og:title"]),a.hasOwnProperty("og:url")&&(this.url=a["og:url"]),a.hasOwnProperty("og:description")&&(this.description=a["og:description"]),a.hasOwnProperty("og:image")&&(this.defaultImage=new kT(a["og:image"]))}function TT(a){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=a.url,a.hasOwnProperty("secure_url")&&(this.secureUrl=a.secure_url),a.hasOwnProperty("type")&&(this.type=a.type),a.hasOwnProperty("width")&&(this.width=a.width),a.hasOwnProperty("height")&&(this.height=a.height),a.hasOwnProperty("alt")&&(this.alt=a.alt)}function IT(a){this.key=a.key,this.value=bt("string",a.value)?yr([],rr(a.value),!1):[]}function gm(a){var s,l,d=a.key,p=(p=yr([],rr(a.user_ids),!1))!=null?p:[],m=a.updated_at,g=(fe("string",d)&&d&&bt("string",p)&&0<p.length&&fe("number",m)&&(this.key=d,this.userIds=p,this.updatedAt=m),{});try{for(var b=jn(this.userIds),w=b.next();!w.done;w=b.next())g[w.value]=this.updatedAt}catch(O){s={error:O}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}this._version=g}(gn=jl=jl||{}).PENDING="pending",gn.IN_QUEUE="in_queue",gn.SENT="sent",gn.FAILED="failed",gn.CANCELED="canceled",gn.REMOVED="removed";function hy(a){return fe("number",a.prevResultSize)&&fe("number",a.nextResultSize)&&fe("boolean",a.isInclusive)&&fe("boolean",a.reverse)&&fe("string",a.messageTypeFilter)&&ir(Va,a.messageTypeFilter)&&bt("string",a.customTypesFilter,!0)&&bt("string",a.senderUserIdsFilter,!0)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeParentMessageInfo)}Y(Qa,_y=ut),Qa.payloadify=function(a){var s;return a?$n(pe(pe({},_y.payloadify.call(this,a)),{channel_url:a.channelUrl,channel_type:a.channelType,message_id:a.messageId,type:function(l){switch(l){case gr.BASE:return"";case gr.USER:return"MESG";case gr.FILE:return"FILE";case gr.ADMIN:return"ADMM"}}(a.messageType),parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,mentioned_user_ids:a.mentionedUserIds,mentioned_users:(s=a.mentionedUsers)==null?void 0:s.map(function(l){return Qn.payloadify(l)}),mentioned_message_template:a.mentionedMessageTemplate,thread_info:a.threadInfo?uy.payloadify(a.threadInfo):null,reactions:a.reactions.map(function(l){return mm.payloadify(l)}),sorted_metaarray:(s=a.metaArrays)==null?void 0:s.map(function(l){return Ka.payloadify(l)}),og_tag:CT.payloadify(a.ogMetaData),silent:a.silent,is_op_msg:a.isOperatorMessage,apple_critical_alert_options:Vl.payloadify(a.appleCriticalAlertOptions),created_at:a.createdAt,updated_at:a.updatedAt,scheduled_message_id:(s=a.scheduledInfo)==null?void 0:s.scheduledMessageId,scheduled_at:(s=a.scheduledInfo)==null?void 0:s.scheduledAt,scheduled_status:a._scheduledStatus})):null},Qa.prototype.isIdentical=function(a){return this.messageId===a.messageId},Qa.prototype.isEqual=function(a){return iN(this,a)},Qa.prototype.isUserMessage=function(){return this.messageType===gr.USER},Qa.prototype.isFileMessage=function(){return this.messageType===gr.FILE},Qa.prototype.isAdminMessage=function(){return this.messageType===gr.ADMIN},Qa.prototype.serialize=function(){return ry(this)},Qa.prototype.getMetaArraysByKeys=function(a){return this.metaArrays.filter(function(s){return a.includes(s.key)})},Qa.prototype.applyThreadInfoUpdateEvent=function(a){return this.parentMessageId===a.targetMessageId&&(this.threadInfo=a.threadInfo),!1},Qa.prototype.applyReactionEvent=function(a){if(this.messageId===a.messageId){for(var s=!1,l=0;l<this.reactions.length;l++)if(this.reactions[l].key===a.key){this.reactions[l].applyEvent(a),this.reactions[l].isEmpty&&this.reactions.splice(l,1),s=!0;break}s||a.operation!=="add"||this.reactions.push(new mm(mm.payloadify({key:a.key,userIds:[a.userId],updatedAt:a.updatedAt})))}},Qa.prototype.applyParentMessage=function(a){if(this.parentMessageId===a.messageId){var s=this.parentMessage.updatedAt;if(a.updatedAt>=s)return this.parentMessage=a,!0}return!1};var yi,OT,AT,RT,MT,py,fy,my,gy,vy,_y,vm=Qa,Lp=(Y(wy,vy=Qn),wy.payloadify=function(a){return a?$n(pe(pe({},vy.payloadify.call(this,a)),{role:a.role,is_blocked_by_me:a.isBlockedByMe})):null},wy),_o=(Y(Fp,gy=vm),Fp.payloadify=function(a){return a?$n(pe(pe({},gy.payloadify.call(this,a)),{user:Lp.payloadify(a.sender),req_id:a.reqId,is_reply_to_channel:a.replyToChannel,request_state:a.sendingStatus,error_code:a.errorCode})):null},Object.defineProperty(Fp.prototype,"isResendable",{get:function(){return this.sendingStatus===ar.FAILED&&0<(a=this.errorCode)&&0<=kK.indexOf(a);var a},enumerable:!1,configurable:!0}),Fp.prototype.isIdentical=function(a){return 0<this.messageId&&0<a.messageId?this.messageId===a.messageId:this.reqId===a.reqId},Fp),by=(Ey.payloadify=function(a){return a?$n({url:"",width:a.maxWidth,height:a.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(Ey.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),Ey),_m={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Va.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Dd=(Y(ym,my=vm),ym.payloadify=function(a){return a?$n(pe(pe({},my.payloadify.call(this,a)),{message:a.message,translations:a.translations,parent_message_info:yy(a.parentMessage)})):null},ym.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},_m),s),un(0<this.messageId&&fe("number",a)&&hy(s)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},ym),DT=(qT.payloadify=function(a){return a?$n({type:a.type,vendor:a.vendor,detail:a.detail}):null},qT),Ei=(Y(bm,fy=_o),bm.payloadify=function(a){return a?$n(pe(pe({},fy.payloadify.call(this,a)),{message:a.message,translations:a.translations,message_survival_seconds:a.messageSurvivalSeconds,plugins:a.plugins.map(function(s){return DT.payloadify(s)}),parent_message_info:yy(a.parentMessage)})):null},bm.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},_m),s),un(0<this.messageId&&fe("number",a)&&hy(s)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},bm),yy=function(a){if(a)switch(a.messageType){case gr.USER:return Ei.payloadify(a);case gr.FILE:return ti.payloadify(a);case gr.ADMIN:return Dd.payloadify(a)}return null},Wl=function(a,s){switch(s.type){case"MESG":return new Ei(a,s);case"FILE":return new ti(a,s);case"ADMM":case"BRDM":return new Dd(a,s)}return null},ti=(Y(Pp,py=_o),Pp.payloadify=function(a){return a?$n(pe(pe({},py.payloadify.call(this,a)),{url:a.plainUrl,require_auth:a.requireAuth,file:{name:a.name,size:a.size,type:a.type,data:a.data},thumbnails:a.thumbnails.map(function(s){return{url:s.url,width:s.width,height:s.height,real_width:s.realWidth,real_height:s.realHeight}}),message_survival_seconds:a.messageSurvivalSeconds,parent_message_info:yy(a.parentMessage)})):null},Object.defineProperty(Pp.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(Ip(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),Pp.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},_m),s),un(0<this.messageId&&fe("number",a)&&hy(s)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},Pp),oQ=(Y(HT,MT=go),HT),lQ=(Y(FT,RT=Ye),FT),UT=(Y(PT,AT=cr),PT),uQ=(Y(LT,OT=en),LT);function LT(p,s){var l,d=this,p=((d=OT.call(this,p,s)||this).message=new ti(p,s),xe.of(p).sdkState);return d.isMentioned=Ad(d.message.mentionType,(l=d.message.mentionedUserIds)!=null?l:d.message.mentionedUsers.map(function(m){return m.userId}),p.userId),d.forceUpdateLastMessage=(l=s.force_update_last_message)!=null&&l,d}function PT(m,s,l){var d,p=this,m=((p=AT.call(this,m,"FILE",l)||this).message=new ti(m,l),xe.of(m).sdkState);return p.isMentioned=Ad(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function FT(a){var s=this,s=RT.call(this)||this,l=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(d){return d.userId}))),s.method=We.POST,s.path="".concat(Ft(a.channelType),"/").concat(encodeURIComponent(a.channelUrl),"/messages"),s.params=$n({message_type:gr.FILE,user_id:a.userId,url:a.fileUrl,mention_type:a.mentionType,mentioned_user_ids:l,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,data:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes.map(function(d){return by.payloadify(d)}),require_auth:a.requireAuth,sorted_metaarray:(l=a.metaArrays)==null?void 0:l.map(function(d){return Ka.payloadify(d)}),push_option:a.pushNotificationDeliveryOption,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,apple_critical_alert_options:Vl.payloadify(a.appleCriticalAlertOptions),reply_to_channel:a.isReplyToChannel,req_id:a.reqId}),s}function HT(a){var s,l=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(d){return d.userId}))),MT.call(this,{code:"FILE",ackRequired:!0,payload:$n({channel_url:a.channelUrl,url:a.url,name:(s=a.fileName)!=null?s:"",type:(s=a.mimeType)!=null?s:"",size:(s=a.fileSize)!=null?s:0,custom:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes,require_auth:a.requireAuth,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:l,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Gl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function Pp(a,s){var l,d=this,p=((d=py.call(this,a,s)||this).messageParams=null,d.plainUrl="",d.requireAuth=!1,d.name=null,d.size=0,d.type=null,d.thumbnails=[],d.messageSurvivalSeconds=-1,d.messageType=gr.FILE,(p=s.file)!=null?p:null);return d.plainUrl=((l=(l=p==null?void 0:p.url)!=null?l:s.url)!=null?l:"").split("?auth=")[0],d.name=(l=(l=p==null?void 0:p.name)!=null?l:s.name)!=null?l:"File",d.size=(l=(l=p==null?void 0:p.size)!=null?l:s.size)!=null?l:0,d.data=(l=(l=p==null?void 0:p.data)!=null?l:s.custom)!=null?l:"",d.type=p?(l=p.type)!=null?l:"":(p=s.type)!=null?p:"",d.requireAuth=(l=s.require_auth)!=null&&l,d.thumbnails=s.thumbnails?s.thumbnails.map(function(m){return new by(pe(pe({},m),{url:"".concat(m.url.split("?auth=")[0]).concat(d.requireAuth?"?auth=".concat(Ip(d._iid)):"")}))}):[],d.messageSurvivalSeconds=(p=s.message_survival_seconds)!=null?p:-1,s.parent_message_info&&(l=s.parent_message_info,p=pe(pe({},l),{message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:l.file,url:(p=l.file)==null?void 0:p.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),d.parentMessage=Wl(a,p)),d}function bm(a,s){var l,d,p,m=this;if((m=fy.call(this,a,s)||this).message="",m.messageParams=null,m.translations={},m.translationTargetLanguages=[],m.messageSurvivalSeconds=-1,m.plugins=[],m.message=s.message,m.messageType=gr.USER,m.translations=(d=s.translations)!=null?d:{},m.translationTargetLanguages=(d=s.target_langs)!=null?d:[],m.translations==={}&&0<m.translationTargetLanguages.length)try{for(var g=jn(m.translationTargetLanguages),b=g.next();!b.done;b=g.next()){var w=b.value;m.translations[w]=""}}catch(O){l={error:O}}finally{try{b&&!b.done&&(p=g.return)&&p.call(g)}finally{if(l)throw l.error}}return m.messageSurvivalSeconds=(d=s.message_survival_seconds)!=null?d:-1,m.plugins=s.plugins?s.plugins.map(function(O){return new DT(O)}):[],s.parent_message_info&&(p=s.parent_message_info,s=pe(pe({},p),{created_at:p.ts,message_id:m.parentMessageId,channel_url:m.channelUrl,channel_type:m.channelType,file:p.file,url:(l=p.file)==null?void 0:l.url,require_auth:(d=p.file)==null?void 0:d.require_auth}),m.parentMessage=Wl(a,$n(s))),m}function qT(a){var s;this.type=null,this.vendor=null,this.detail={},this.type=(s=a.type)!=null?s:"",this.vendor=(s=a.vendor)!=null?s:"",a.hasOwnProperty("detail")&&fe("object",a.detail)&&!Array.isArray(a.detail)&&(this.detail=a.detail)}function ym(a,s){var l,d=this;return(d=my.call(this,a,s)||this).message=null,d.translations={},d.message=(l=s.message)!=null?l:"",d.messageType=gr.ADMIN,d.translations=(l=s.translations)!=null?l:{},s.parent_message_info&&(l=s.parent_message_info,l=pe(pe({},l),{message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:l.file,url:(s=l.file)==null?void 0:s.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),d.parentMessage=Wl(a,l)),d}function Ey(a){var s;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=a.url,this.width=a.width,this.height=a.height,this.realWidth=(s=a.real_width)!=null?s:a.width,this.realHeight=(s=a.real_height)!=null?s:a.height}function Fp(a,s){var l=this;if((l=gy.call(this,a,s)||this).sender=null,l.reqId="",l.replyToChannel=!1,l.sendingStatus=null,l.errorCode=0,l.sender=s.user?new Lp(l._iid,s.user):s.sender_id,l.reqId=(a=(a=s.req_id)!=null?a:s.request_id)!=null?a:"",l.replyToChannel=(a=s.is_reply_to_channel)!=null&&a,s.request_state&&ir(ar,s.request_state)&&(l.sendingStatus=s.request_state),!l.sendingStatus)if(0<l.messageId)l.sendingStatus=ar.SUCCEEDED;else if(l.scheduledInfo)switch(l._scheduledStatus=s.scheduled_status,s.scheduled_status){case jl.SENT:case jl.IN_QUEUE:l.sendingStatus=ar.SUCCEEDED;break;case jl.PENDING:l.sendingStatus=ar.SCHEDULED;break;case jl.FAILED:case jl.REMOVED:l.sendingStatus=ar.FAILED;break;case jl.CANCELED:l.sendingStatus=ar.CANCELED}else l.sendingStatus=ar.PENDING;return l.errorCode=(a=s.error_code)!=null?a:0,l}function wy(a,s){return a=vy.call(this,a,s)||this,a.role=null,a.isBlockedByMe=!1,a.role=ir(hm,s.role)?s.role:hm.NONE,s.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=s.is_blocked_by_me),a}function Qa(d,s){var l=this,d=((l=_y.call(this,d)||this).channelUrl=null,l.channelType=Er.BASE,l.messageId=0,l.parentMessageId=null,l.parentMessage=null,l.silent=!1,l.isOperatorMessage=!1,l.messageType=gr.BASE,l.data=null,l.customType=null,l.mentionType=null,l.mentionedUsers=[],l.mentionedUserIds=[],l.mentionedMessageTemplate=null,l.threadInfo=null,l.reactions=[],l.metaArrays=[],l.ogMetaData=null,l.appleCriticalAlertOptions=null,l.createdAt=0,l.updatedAt=0,l.scheduledInfo=null,l._scheduledStatus=null,l.messageId=(d=(d=s.msg_id)!=null?d:s.message_id)!=null?d:0,l.channelUrl=s.channel_url,l.channelType=ir(Er,s.channel_type)?s.channel_type:Er.GROUP,s.channel&&(s.channel.channel_url&&(l.channelUrl=s.channel.channel_url),s.channel.channel_type&&(l.channelType=s.channel.channel_type)),l.parentMessageId=(d=typeof s.parent_message_id=="string"?parseInt(s.parent_message_id):s.parent_message_id)!=null?d:0,l.data=(d=s.data)!=null?d:"",l.customType=(d=s.custom_type)!=null?d:"",l.mentionType=ir(Gi,s.mention_type)?s.mention_type:null,s.mentioned_users),d=(l.mentionedUsers=d?d.map(function(w){return new Qn(l._iid,w)}):null,s.mentioned_user_ids);l.mentionedUserIds=d!=null?d:null,l.mentionedMessageTemplate=(d=s.mentioned_message_template)!=null?d:"",l.threadInfo=s.thread_info?new uy(l._iid,s.thread_info):null,l.reactions=s.reactions?s.reactions.map(function(w){return new mm(w)}):[];for(var p=(d=s.metaarray)!=null?d:{},m=(d=s.metaarray_key_order)!=null?d:Object.keys(p).sort(function(w,O){return w.localeCompare(O)}),g=0;g<m.length;g++){var b=m[g];l.metaArrays.push(new Ka({key:b,value:p[b]||[]}))}return s.sorted_metaarray&&(l.metaArrays=s.sorted_metaarray.map(function(w){return new Ka(w)})),l.ogMetaData=s.og_tag?new CT(s.og_tag):null,l.silent=(d=s.silent)!=null&&d,l.isOperatorMessage=(d=s.is_op_msg)!=null&&d,l.appleCriticalAlertOptions=s.apple_critical_alert_options?new Vl(s.apple_critical_alert_options):null,l.createdAt=(d=(d=s.created_at)!=null?d:s.ts)!=null?d:0,l.updatedAt=(d=s.updated_at)!=null?d:0,typeof s.scheduled_message_id=="number"&&typeof s.scheduled_at=="number"&&s.scheduled_status&&(l.scheduledInfo={scheduledMessageId:s.scheduled_message_id,scheduledAt:s.scheduled_at},l._scheduledStatus=s.scheduled_status),l}(mi=yi=yi||{})[mi.PENDING=0]="PENDING",mi[mi.UPLOADING=1]="UPLOADING",mi[mi.UPLOADED=2]="UPLOADED",mi[mi.SENDING=3]="SENDING",mi[mi.FAILED=4]="FAILED";function BT(a){return ir(Wa,a.replyType)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeParentMessageInfo)&&fe("boolean",a.includeThreadInfo)&&fe("boolean",a.includePollDetails)}Object.defineProperty(sc.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Zt.CONNECTED||this._connectionState===Zt.CONNECTING||this._connectionState===Zt.RECONNECTING},enumerable:!1,configurable:!0}),sc.prototype._sendFileMessage=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:return this._shouldSendThroughWebSocket?(l=new oQ(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)]):[3,2];case 1:return[2,d.sent().as(UT).message];case 2:return l=new lQ(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,userId:this._sdkState.userId,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)];case 3:return[2,d.sent().as(uQ).message]}})})},sc.prototype._resolveMessageQueue=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L;return F(this,function(q){switch(q.label){case 0:if(!(s=this._queueMap.get(a.url)))return[3,21];if(s.isResolving)return[3,20];s.isResolving=!0,l=[],d=!0,q.label=1;case 1:q.trys.push([1,15,16,17]),p=jn(s.messageQueue),m=p.next(),q.label=2;case 2:if(m.done)return[3,14];switch((g=m.value).state){case yi.PENDING:case yi.UPLOADING:return[3,3];case yi.UPLOADED:return[3,4];case yi.FAILED:return[3,12]}return[3,13];case 3:return d=!1,l.push(g),[3,13];case 4:if(!d)return[3,10];q.label=5;case 5:return q.trys.push([5,8,,9]),g.state=yi.SENDING,[4,this._sendFileMessage(a,g)];case 6:return b=q.sent(),g.deferred.resolve(b),[4,vo(100)];case 7:return q.sent(),[3,9];case 8:return b=q.sent(),g.deferred.reject(b),[3,9];case 9:return[3,11];case 10:l.push(g),q.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===Zn.REQUEST_CANCELED?Ee.fileUploadCanceled:g.error),[3,13];case 13:return m=p.next(),[3,2];case 14:return[3,17];case 15:return O=q.sent(),O={error:O},[3,17];case 16:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(O)throw O.error}return[7];case 17:return w=s.isResolveRequestPending,s.messageQueue=l,s.isResolving=!1,s.isResolveRequestPending=!1,w?[4,this._resolveMessageQueue(a)]:[3,19];case 18:q.sent(),q.label=19;case 19:return[3,21];case 20:s.isResolveRequestPending=!0,q.label=21;case 21:return[2]}})})},sc.prototype._uploadNextPendingItem=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w;return F(this,function(O){switch(O.label){case 0:return s=this._queueMap.get(a.url),(l=s.messageQueue.find(function(L){return L.state===yi.PENDING}))?mo(l.params.file)?s.uploadQueue.length<6?(l.state=yi.UPLOADING,s.uploadQueue.push(l),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!O.sent())return[3,8];O.label=2;case 2:return O.trys.push([2,4,5,7]),d=new aQ({file:l.params.file,channelUrl:a.url,thumbnailSizes:l.params.thumbnailSizes,requestId:l.requestId}),[4,this._requestQueue.send(d)];case 3:return d=O.sent(),g=d.as(sQ),b=g.url,p=g.fileSize,p=p===void 0?l.params.fileSize:p,m=g.thumbnailSizes,m=m===void 0?l.params.thumbnailSizes:m,g=g.requireAuth,g=g!==void 0&&g,l.params.fileUrl=b,l.params.fileSize=p,l.params.thumbnailSizes=m,l.params.requireAuth=g,l.requireAuth=g,l.state=yi.UPLOADED,[3,7];case 4:return b=O.sent(),l.state=yi.FAILED,l.error=b,[3,7];case 5:return 0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 6:return O.sent(),[7];case 7:return[3,10];case 8:return l.state=yi.FAILED,l.error=Ee.connectionRequired,0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 9:O.sent(),O.label=10;case 10:return[3,13];case 11:return l.params.thumbnailSizes=[],l.state=yi.UPLOADED,[4,this._resolveMessageQueue(a)];case 12:O.sent(),O.label=13;case 13:return[2]}})})},sc.prototype.request=function(a,s,l){var d;return P(this,void 0,void 0,function(){var p;return F(this,function(m){return p=new oa,mo(l.file)&&(l.fileName=(d=l.fileName)!=null?d:l.file.name,l.mimeType=(d=l.mimeType)!=null?d:l.file.type,l.fileSize=(d=l.fileSize)!=null?d:l.file.size),this._queueMap.has(a.url)||this._queueMap.set(a.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(a.url).messageQueue.push({requestId:s,params:l,state:yi.PENDING,deferred:p,requireAuth:l.requireAuth}),this._uploadNextPendingItem(a),[2,p.promise]})})},sc.prototype.cancel=function(a,s){s===void 0&&(s=null);var l,d,p=this._queueMap.get(a.url);if(p){p=s?[p.messageQueue.find(function(w){return w.requestId===s})]:yr([],rr(p.messageQueue),!1);try{for(var m=jn(p),g=m.next();!g.done;g=m.next()){var b=g.value;if(b)switch(b.state){case yi.PENDING:b.state=yi.FAILED,b.error=Ee.requestCanceled,this._resolveMessageQueue(a);break;case yi.UPLOADING:this._requestQueue.cancel(b.requestId)}}}catch(w){l={error:w}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}}};var ri,cQ=sc,GT={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Va.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Wa.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},xy={replyType:Wa.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1};function sc(a,g){var l=g.sdkState,d=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=a,this._sdkState=l,this._requestQueue=p,this._cacheContext=g,this._dispatcher=d,this._dispatcher.on(function(w){w instanceof Td&&(b._connectionState=w.stateType)}),this._onlineDetector=m}(In=ri=ri||{}).UNKNOWN="UNKNOWN",In.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",In.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",In.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",In.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",In.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",In.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",In.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",In.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",In.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",In.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",In.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",In.REQUEST_MESSAGE="REQUEST_MESSAGE",In.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",In.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",In.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",In.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",In.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",In.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",In.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",In.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",In.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",In.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED",Y(WT,zT=_i);var Hp,$T,zT,jT,ka=WT,dQ=(Y(VT,$T=_i),VT);function VT(l){var s=l.messageIds,l=l.source,d=$T.call(this)||this;return d.messageIds=s,d.source=l,d}function WT(l){var s=l.messages,l=l.source,d=zT.call(this)||this;return d.messages=s,d.source=l,d}function hQ(l){var s=l.reqId,l=l.source,d=jT.call(this)||this;return d.reqId=s,d.source=l,d}Y(hQ,jT=_i),Y(_I,iI=Ye);var KT,QT,YT,XT,JT,ZT,eI,nI,tI,rI,iI,pQ=_I,fQ=(Y(vI,rI=en),vI),aI=(Y(gI,tI=Ye),gI),sI=(Y(mI,nI=en),mI),mQ=(Y(fI,eI=Ye),fI),gQ=(Y(pI,ZT=en),pI),vQ=(Y(hI,JT=Ye),hI),_Q=(Y(dI,XT=en),dI),oI={},Ca=(Ya.of=function(a){return oI[a]},Ya.prototype.buildMessageFromSerializedData=function(a){var s=fm(a);switch(s.messageType){case gr.USER:return new Ei(this._iid,Ei.payloadify(s));case gr.FILE:return new ti(this._iid,ti.payloadify(s));case gr.ADMIN:return new Dd(this._iid,Dd.payloadify(s))}return null},Ya.prototype.buildUserMessageCreateParamsFromSerializedData=function(a,s){return $n({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,message:s.message,translationTargetLanguages:Object.keys(s.translations)})},Ya.prototype.buildFileMessageCreateParamsFromSerializedData=function(a,s){return $n({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,file:a.file,fileKey:a.fileKey,fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,thumbnailSizes:s.thumbnails.map(function(l){return{maxWidth:l.width,maxHeight:l.height}}),fileType:a.fileType,requireAuth:s.requireAuth})},Ya.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildUserMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},Ya.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildFileMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},Ya.prototype.buildSenderFromSerializedData=function(a){return a=fm(a),new Lp(this._iid,Lp.payloadify(a))},Ya.prototype.getMessage=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=new pQ(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(fQ).message]}})})},Ya.prototype.getScheduledMessage=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=new vQ(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(_Q).message]}})})},Ya.prototype.getMessagesByTimestamp=function(a,s,l,d,p){return p===void 0&&(p=ri.REQUEST_MESSAGE),P(this,void 0,void 0,function(){var m,g;return F(this,function(b){switch(b.label){case 0:return m=new aI(pe(pe({channelType:s,channelUrl:a,timestamp:l},GT),d)),[4,this._requestQueue.send(m)];case 1:return m=b.sent(),g=m.as(sI).messages,this._dispatcher.dispatch(new ka({messages:g,source:p})),[2,g]}})})},Ya.prototype.getThreadedMessagesByTimestamp=function(a,s,l,d){return d===void 0&&(d=ri.REQUEST_THREADED_MESSAGE),P(this,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return p=new aI(pe(pe(pe({channelUrl:a.channelUrl,channelType:a.channelType,timestamp:s},_m),l),{replyType:Wa.ALL,parentMessageId:a.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return p=b.sent(),m=p.as(sI).messages,(g=m.slice(1)).forEach(function(w){w.parentMessage=a}),this._dispatcher.dispatch(new ka({messages:g,source:d})),[2,{parentMessage:m[0],threadedMessages:g}]}})})},Ya.prototype.getMessageChangelogs=function(a,s,l,d,p){return p===void 0&&(p=ri.REQUEST_MESSAGE_CHANGELOGS),P(this,void 0,void 0,function(){var m,g,b,w,O;return F(this,function(L){switch(L.label){case 0:return m=new mQ($n(pe(pe({channelType:s,channelUrl:a,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null},xy),d))),[4,this._requestQueue.send(m)];case 1:return m=L.sent(),w=m.as(gQ),g=w.updatedMessages,O=w.deletedMessagesInfo,b=w.hasMore,w=w.nextToken,O=O.map(function(q){return q.messageId}),0<g.length&&this._dispatcher.dispatch(new ka({messages:g,source:p})),0<O.length&&this._dispatcher.dispatch(new dQ({messageIds:O,source:p})),[2,{updatedMessages:g,deletedMessageIds:O,hasMore:b,token:w}]}})})},Ya),ky=(qp.prototype._trigger=function(a,s){switch(s.sendingStatus){case ar.PENDING:this._onPending(s);break;case ar.FAILED:case ar.CANCELED:this._onFailed(a,s.scheduledInfo?null:s);break;case ar.SCHEDULED:case ar.SUCCEEDED:this._onSucceeded(s)}},qp.prototype.onPending=function(a){return this._onPending=a,this},qp.prototype.onFailed=function(a){return this._onFailed=a,this},qp.prototype.onSucceeded=function(a){return this._onSucceeded=a,this},qp),bQ=(Y(cI,YT=ut),cI),yQ={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},rn=(Object.defineProperty(Em.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(Em.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),Em.prototype._validate=function(){return fe("number",this.limit)&&0<this.limit},Em),EQ=(Y(uI,QT=Ye),uI),wQ=(Y(lI,KT=en),lI);function lI(a,s){var l=KT.call(this,a,s)||this;return l.messages=s.results.map(function(d){return Wl(a,d)}),l.hasNext=s.has_next,l.nextToken=s.end_cursor,l}function uI(G){var s=G.channelCustomType,l=G.keyword,d=G.limit,p=G.reverse,m=G.exactMatch,g=G.channelUrl,b=G.order,w=G.messageTimestampFrom,O=G.messageTimestampTo,L=G.advancedQuery,q=G.targetFields,G=G.nextToken,te=QT.call(this)||this;return te.method=We.GET,te.path="".concat(jK,"/messages"),te.params={custom_type:s,query:l,limit:d,reverse:p,exact_match:m,channel_url:g,message_ts_from:w,message_ts_to:O,sort_field:b,advanced_query:L,target_fields:q,after:G},te}function Em(a,s){this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=a,this.limit=(a=s.limit)!=null?a:20}function cI(a,g){var l=YT.call(this,a)||this,d=(l.threadInfo=null,l.targetMessageId=0,l.channelUrl=null,l.channelType=null,g.thread_info),p=g.root_message_id,m=g.channel_url,g=g.channel_type;return d&&fe("object",d)&&fe("number",p)&&fe("string",m)&&fe("string",g)&&(l.threadInfo=new uy(a,d),l.targetMessageId=p,l.channelUrl=m,l.channelType=g),l}function qp(){this._onPending=Pt,this._onFailed=Pt,this._onSucceeded=Pt}function Ya(a,g){var l=g.sdkState,d=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext;this._iid=a,this._sdkState=l,this._requestQueue=p,this._dispatcher=d,this._onlineDetector=m,this._cacheContext=g,this.fileMessageQueue=new cQ(a,{sdkState:l,dispatcher:d,requestQueue:p,onlineDetector:m,cacheContext:g}),oI[a]=this}function dI(a,s){var l=XT.call(this,a,s)||this;return l.message=s?Wl(a,pe({},s)):null,l}function hI(l){var s=l.channelUrl,l=l.scheduledMessageId,d=JT.call(this)||this;return d.method=We.GET,d.path="".concat(LN,"/").concat(encodeURIComponent(s),"/scheduled_messages/").concat(encodeURIComponent(l)),d.params={},d}function pI(a,s){var l=ZT.call(this,a,s)||this;return l.updatedMessages=s.updated.map(function(d){return Wl(a,d)}),l.deletedMessagesInfo=s.deleted.map(function(d){return{messageId:d.message_id,deletedAt:d.deleted_at}}),l.hasMore=s.has_more,l.nextToken=s.next,l}function fI(L){var s=L.channelType,l=L.channelUrl,d=L.timestamp,p=L.token,m=L.replyType,g=L.includeMetaArray,b=L.includeReactions,w=L.includeThreadInfo,O=L.includeParentMessageInfo,L=L.includePollDetails,q=eI.call(this)||this;return q.method=We.GET,q.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages/changelogs"),q.params={change_ts:d,token:p,with_sorted_meta_array:g,include_reactions:b,include_thread_info:w,include_reply_type:m,include_parent_message_info:O,include_poll_details:L},q}function mI(a,s){var l=nI.call(this,a,s)||this;return l.messages=s.messages.map(function(d){return Wl(a,d)}),l}function gI(ve){var s=ve.channelType,l=ve.channelUrl,d=ve.timestamp,d=d===void 0?null:d,p=ve.token,p=p===void 0?null:p,m=ve.prevResultSize,g=ve.nextResultSize,b=ve.isInclusive,w=ve.reverse,O=ve.messageTypeFilter,L=ve.customTypesFilter,q=ve.senderUserIdsFilter,G=ve.replyType,te=ve.includeMetaArray,ae=ve.includeReactions,Ne=ve.parentMessageId,Q=ve.includeThreadInfo,se=ve.includeParentMessageInfo,_e=ve.showSubchannelMessagesOnly,ve=ve.includePollDetails,ze=tI.call(this)||this;return ze.method=We.GET,ze.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages"),ze.params=$n({is_sdk:!0,prev_limit:m,next_limit:g,include:b,reverse:w,message_ts:d,message_id:p,message_type:O!=null?O:null,custom_types:L,sender_ids:q,include_reply_type:G,with_sorted_meta_array:te,include_reactions:ae,parent_message_id:Ne,include_thread_info:Q,include_parent_message_info:se,show_subchannel_message_only:_e,include_poll_details:ve}),ze}function vI(a,s){var l=rI.call(this,a,s)||this;return l.message=s?Wl(a,pe({},s)):null,l}function _I(w){var s=w.channelType,l=w.channelUrl,d=w.messageId,p=w.includeMetaArray,m=w.includeReactions,g=w.includeThreadInfo,b=w.includeParentMessageInfo,w=w.includePollDetails,O=iI.call(this)||this;return O.method=We.GET,O.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(d)),O.params={is_sdk:!0,with_sorted_meta_array:p,include_reactions:m,include_thread_info:g,include_parent_message_info:b,include_poll_details:w},O}(Rr=Hp=Hp||{}).SCORE="score",Rr.TIMESTAMP="ts",Y(km,Ny=rn),km.prototype._validate=function(){return Ny.prototype._validate.call(this)&&fe("string",this.keyword)&&0<this.keyword.length&&fe("boolean",this.reverse)&&fe("boolean",this.exactMatch)&&fe("string",this.channelUrl)&&fe("string",this.channelCustomType)&&(fe("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(fe("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&ir(Hp,this.order)&&fe("boolean",this.advancedQuery)&&bt("string",this.targetFields,!0)},km.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new EQ(pe(pe({},this),{nextToken:this._nextToken||null})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(wQ),l=s.messages,d=s.hasNext,p=s.nextToken,this._nextToken=p,this._hasNext=d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})};var wm,Cy,Sy,Ny,xQ=km,St=(Y(Ty,Sy=rn),Ty.prototype._validate=function(){return Sy.prototype._validate.call(this)&&fe("string",this.channelUrl)&&ir(Er,this.channelType)},Ty),kQ=(Y(xm,Cy=St),xm.prototype._validate=function(){return Cy.prototype._validate.call(this)&&fe("boolean",this.reverse)&&ir(Va,this.messageTypeFilter)&&ir(Wa,this.replyType)&&bt("string",this.customTypesFilter,!0)&&bt("string",this.senderUserIdsFilter,!0)&&fe("boolean",this.includeMetaArray)&&fe("boolean",this.includeReactions)&&fe("boolean",this.includeParentMessageInfo)&&fe("boolean",this.includeThreadInfo)&&fe("boolean",this.showSubchannelMessagesOnly)},xm.prototype.load=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ca.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return a=s.sent(),this._edge=Math.min.apply(Math,yr([Number.MAX_SAFE_INTEGER],rr(a.map(function(l){return l.createdAt})),!1)),this._hasNext=a.length>=this.limit,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},xm),CQ={channelUrl:null,scheduledMessageId:0},SQ=(Y(oc,wm=la),oc.prototype.init=function(a,w){var l=w.sdkState,d=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;wm.prototype.init.call(this,a,{sdkState:l,dispatcher:d,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new Ca(a,{sdkState:l,dispatcher:d,requestQueue:m,onlineDetector:b,cacheContext:w})},oc.prototype.buildMessageFromSerializedData=function(a){return this._manager.buildMessageFromSerializedData(a)},oc.prototype.buildSenderFromSerializedData=function(a){return this._manager.buildSenderFromSerializedData(a)},oc.prototype.getMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return a=pe(pe({},yQ),a),un(fe("string",(l=a).channelUrl)&&fe("string",l.channelType)&&ir(Er,l.channelType)&&fe("number",l.messageId)&&fe("boolean",l.includeMetaArray)&&fe("boolean",l.includeParentMessageInfo)&&fe("boolean",l.includeThreadInfo)&&fe("boolean",l.includePollDetails)).throw(Ee.invalidParameters),[2,this._manager.getMessage(a)];var l})})},oc.prototype.getScheduledMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return a=pe(pe({},CQ),a),un(fe("string",(l=a).channelUrl)&&fe("number",l.scheduledMessageId)).throw(Ee.invalidParameters),[2,this._manager.getScheduledMessage(a)];var l})})},oc);function oc(){var a=wm!==null&&wm.apply(this,arguments)||this;return a.name="message",a}function xm(a,s,l,d){var p=this;return(p=Cy.call(this,a,s,l,d)||this).reverse=!1,p.messageTypeFilter=Va.ALL,p.customTypesFilter=null,p.senderUserIdsFilter=null,p.replyType=Wa.NONE,p.includeMetaArray=!1,p.includeReactions=!1,p.includeParentMessageInfo=!1,p.includeThreadInfo=!1,p.showSubchannelMessagesOnly=!1,p._edge=Number.MAX_SAFE_INTEGER,p.reverse=(a=d.reverse)!=null&&a,p.messageTypeFilter=(s=d.messageTypeFilter)!=null?s:Va.ALL,p.customTypesFilter=(l=d.customTypesFilter)!=null?l:null,p.senderUserIdsFilter=(a=d.senderUserIdsFilter)!=null?a:null,p.replyType=(s=d.replyType)!=null?s:Wa.NONE,p.includeMetaArray=(l=d.includeMetaArray)!=null&&l,p.includeReactions=(a=d.includeReactions)!=null&&a,p.includeParentMessageInfo=(s=d.includeParentMessageInfo)!=null&&s,p.includeThreadInfo=(l=d.includeThreadInfo)!=null&&l,p.showSubchannelMessagesOnly=(a=d.showSubchannelMessagesOnly)!=null&&a,p}function Ty(a,s,l,d){return a=Sy.call(this,a,d)||this,a.channelUrl=s,a.channelType=l,a}function km(a,s){var l=this;return(l=Ny.call(this,a,s)||this).keyword="",l.reverse=!1,l.exactMatch=!1,l.channelUrl="",l.channelCustomType="",l.messageTimestampFrom=null,l.messageTimestampTo=null,l.order=Hp.SCORE,l.advancedQuery=!1,l.targetFields=null,l._nextToken="",l.keyword=s.keyword,l.reverse=(a=s.reverse)!=null&&a,l.exactMatch=(a=s.exactMatch)!=null&&a,l.channelUrl=(a=s.channelUrl)!=null?a:"",l.channelCustomType=(a=s.channelCustomType)!=null?a:"",l.messageTimestampFrom=(a=s.messageTimestampFrom)!=null?a:null,l.messageTimestampTo=(a=s.messageTimestampTo)!=null?a:null,l.order=(a=s.order)!=null?a:Hp.SCORE,l.advancedQuery=(a=s.advancedQuery)!=null&&a,l.targetFields=(a=s.targetFields)!=null?a:null,l}function bI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&ir(Gi,a.mentionType)&&bt("string",a.mentionedUserIds,!0)&&bt(Qn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&bt(Ka,a.metaArrays,!0)&&fe("number",a.parentMessageId,!0)&&fe("boolean",a.isReplyToChannel)&&ir(Gl,a.pushNotificationDeliveryOption,!0)&&fe(Vl,a.appleCriticalAlertOptions,!0)}function yI(a){return a?{isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}var Ud,Mr={data:null,customType:null,mentionType:Gi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},EI=pe(pe({},Mr),{message:null,translationTargetLanguages:null});(zt=Ud=Ud||{}).FILE="file",zt.BLOB="blob",zt.BLOB_LIKE_OBJECT="blobLikeObject",zt.URL="url";function Iy(a){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&a instanceof Blob}function Oy(a){return a===Ud.BLOB||a===Ud.FILE}function wI(a){return a?{file:a.file,fileKey:a.fileKey,fileType:a.fileType,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}function xI(a){return bI(a)&&(mo(a.file)||fe("string",a.fileUrl))&&fe("string",a.fileName,!0)&&fe("string",a.mimeType,!0)&&fe("number",a.fileSize,!0)&&(a.thumbnailSizes===null||Array.isArray(a.thumbnailSizes)&&a.thumbnailSizes.every(function(s){return fe("object",s)&&0<s.maxWidth&&0<s.maxHeight}))}var Ay,kI=pe(pe({},Mr),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1});(ni=Ay=Ay||{}).MUTED="muted",ni.BANNED="banned";function CI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&ir(Gi,a.mentionType)&&bt("string",a.mentionedUserIds,!0)&&bt(Qn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&bt(Ka,a.metaArrays,!0)&&ir(Gl,a.pushNotificationDeliveryOption,!0)&&fe(Vl,a.appleCriticalAlertOptions,!0)}qI.payloadify=function(a){return a?$n({restriction_type:a.restrictionType,description:a.description,end_at:a.endAt}):null};var Bp,Ry,SI,NI,TI,II,OI,My,AI,RI,Dy,MI=qI,Ld=(Y(Ly,Dy=Qn),Ly.payloadify=function(a){return a?$n(pe(pe({},Dy.payloadify.call(this,a)),MI.payloadify(a.restrictionInfo))):null},Ly),ft={data:null,customType:null,mentionType:Gi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},NQ=pe(pe({},ft),{message:null,translationTargetLanguages:null}),TQ=pe({},ft),IQ=(Y(HI,RI=Ye),HI),OQ=(Y(FI,AI=en),FI),AQ=(Y(Sm,My=St),Sm.prototype._validate=function(){return My.prototype._validate.call(this)},Sm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(a=[],this._hasNext?(this._isLoading=!0,s=xe.of(this._iid).requestQueue,l=new IQ(pe(pe({},this),{channelUrl:this.channelUrl,token:this._token})),[4,s.send(l)]):[3,2]):[3,5];case 1:return s=m.sent(),l=s.as(OQ),d=l.operators,p=l.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,a];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Sm),RQ=(Y(PI,OI=Ye),PI),MQ=(Y(LI,II=en),LI),DQ=(Y(Uy,TI=St),Uy.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new RQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(MQ),l=s.mutedUsers,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Uy),UQ=(Y(UI,NI=Ye),UI),LQ=(Y(DI,SI=en),DI),PQ=(Y(Cm,Ry=St),Cm.prototype._validate=function(){return Ry.prototype._validate.call(this)},Cm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new UQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(LQ),l=s.bannedUsers,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Cm);function Cm(a,s,l,d){return Ry.call(this,a,s,l,d)||this}function DI(a,p){var l=SI.call(this,a,p)||this,d=(l.token=null,l.bannedUsers=[],p.next),p=p.banned_list;return l.token=d,p&&0<p.length&&(l.bannedUsers=p.map(function(m){return new Ld(a,m.user)})),l}function UI(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.limit,m=m.token;return(s=NI.call(this)||this).method=We.GET,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/ban"),s.params=$n({limit:p,token:m}),s}function Uy(a,s,l,d){return TI.call(this,a,s,l,d)||this}function LI(a,p){var l=II.call(this,a,p)||this,d=(l.token=null,l.mutedUsers=[],p.next),p=p.muted_list;return l.token=d,p&&0<p.length&&(l.mutedUsers=p.map(function(m){return new Ld(a,m)})),l}function PI(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.limit,m=m.token;return(s=OI.call(this)||this).method=We.GET,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/mute"),s.params={limit:p,token:m},s}function Sm(a,s,l,d){return My.call(this,a,s,l,d)||this}function FI(a,s){var l=AI.call(this,a,s)||this;return l.operators=s.operators.map(function(d){return new Qn(a,d)}),l.token=s.next,l}function HI(p){var s=p.channelUrl,l=p.channelType,d=p.token,p=p.limit,m=RI.call(this)||this;return m.method=We.GET,m.path="".concat(Ft(l),"/").concat(encodeURIComponent(s),"/operators"),m.params={token:d,limit:p},m}function Ly(a,s){return a=Dy.call(this,a,s)||this,a.restrictionInfo=null,a.restrictionInfo=new MI(s),a}function qI(a){var s;this.restrictionType=null,this.description=null,this.endAt=-1,ir(Ay,a.restriction_type)&&(this.restrictionType=a.restriction_type),this.description=(s=a.description)!=null?s:null,this.endAt=(s=(s=a.end_at)!=null?s:a.muted_end_at)!=null?s:-1}(lr=Bp=Bp||{}).SPAM="spam",lr.HARASSING="harassing",lr.SUSPICIOUS="suspicious",lr.INAPPROPRIATE="inappropriate",Y(GI,BI=Ye);var BI,Py,FQ=GI;function GI(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.operatorUserIds;return(s=BI.call(this)||this).method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(){return Py!==null&&Py.apply(this,arguments)||this},Py=en),Y(jI,$I=Ye);var $I,zI,HQ=jI;function jI(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.operatorUserIds;return(s=$I.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(a,s){return zI.call(this,a,s)||this},zI=en),Y(D6,c6=Ye);var VI,WI,KI,QI,YI,XI,JI,ZI,e6,n6,t6,r6,i6,a6,s6,o6,l6,u6,c6,d6,qQ=D6,BQ=(Y(M6,u6=en),M6),h6=(Y(R6,l6=Ye),R6),p6=(Y(A6,o6=en),A6),GQ=(Y(O6,s6=Ye),O6),$Q=(Y(I6,a6=en),I6),zQ=(Y(T6,i6=cr),T6),jQ=(Y(N6,r6=Ye),N6),VQ=(Y(S6,t6=en),S6),WQ=(Y(C6,n6=Ye),C6),KQ=(Y(k6,e6=en),k6),f6=(Y(x6,ZI=Ye),x6),m6=(Y(w6,JI=en),w6),QQ=(Y(E6,XI=Ye),E6),YQ=(Y(y6,YI=en),y6),Fy=(Y(b6,QI=Ye),b6),Hy=(Y(_6,KI=en),_6),XQ=(Y(v6,WI=cr),v6),JQ=(Y(g6,VI=Ye),g6);function g6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.key;return(s=VI.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metacounter/").concat(p),s.params=null,s}function v6(a,s,l){return a=WI.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function _6(a,s){return a=KI.call(this,a,s)||this,a.metaCounter=s,a}function b6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.metaCounter,m=g.upsert,m=m!==void 0&&m,g=g.mode,g=g===void 0?"set":g;return(s=QI.call(this)||this).method=We.PUT,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p,upsert:m,mode:g},s}function y6(a,s){return a=YI.call(this,a,s)||this,a.metaCounter=s,a}function E6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.metaCounter;return(s=XI.call(this)||this).method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p},s}function w6(a,s){return a=JI.call(this,a,s)||this,a.metaCounter=s,a}function x6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.keys;return(s=ZI.call(this)||this).method=We.GET,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={keys:p},s}function k6(a,s){return a=e6.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function C6(d){var s=this,l=d.channelUrl,d=d.channelType;return(s=n6.call(this)||this).method=We.PUT,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={include_ts:!0},s}function S6(a,s){return a=t6.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function N6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.key;return(s=r6.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metadata/").concat(p),s.params={include_ts:!0},s}function T6(a,s,l){return a=i6.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function I6(l,p){var l=a6.call(this,l,p)||this,d=(l.ts=null,p.metadata),p=p.ts;return l.metadata=d,l.ts=p!=null?p:null,l}function O6(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.metadata,m=m.upsert;return(s=s6.call(this)||this).method=We.PUT,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0,upsert:m!=null&&m},s}function A6(l,p){var l=o6.call(this,l,p)||this,d=(l.ts=null,p.metadata),p=p.ts;return l.metadata=d,l.ts=p!=null?p:null,l}function R6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.keys;return(s=l6.call(this)||this).method=We.GET,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={keys:p,include_ts:!0},s}function M6(l,b){var l=u6.call(this,l,b)||this,d=(l.isMuted=!1,l.startAt=null,l.endAt=null,l.remainingDuration=null,l.description=null,b.is_muted),p=b.start_at,m=b.end_at,g=b.remaining_duration,b=b.description;return l.isMuted=d,l.startAt=p,l.endAt=m,l.remainingDuration=g,l.description=b,l}function D6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=c6.call(this)||this).method=We.GET,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/mute/").concat(p),s}Y(function(a,s){return d6.call(this,a,s)||this},d6=en),Y(L6,U6=Ye);var U6,qy,ZQ=L6;function L6(d){var s=this,l=d.channelUrl,d=d.channelType;return(s=U6.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params=null,s}Y(function(){return qy!==null&&qy.apply(this,arguments)||this},qy=en),Y(H6,P6=Ye);var P6,F6,eY=H6;function H6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=P6.call(this)||this).method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/mute"),s.params={user_id:p,seconds:m,description:g},s}Y(function(a,s){return F6.call(this,a,s)||this},F6=en),Y($6,B6=cr);var q6,B6,By,nY=$6,tY=(Y(G6,q6=Ye),G6);function G6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=q6.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/mute/").concat(encodeURIComponent(p)),s}function $6(a,s,l){var d=B6.call(this,a,"SYEV",l)||this;return d.user=new Ld(a,l.data),d}Y(function(){return By!==null&&By.apply(this,arguments)||this},By=en),Y(W6,j6=cr);var z6,j6,Gy,rY=W6,iY=(Y(V6,z6=Ye),V6);function V6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=z6.call(this)||this).method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/ban"),s.params=$n({user_id:p,seconds:m,description:g}),s}function W6(a,s,l){var d=j6.call(this,a,"SYEV",l)||this;return d.user=new Ld(a,l.data),d}Y(function(){return Gy!==null&&Gy.apply(this,arguments)||this},Gy=en),Y(X6,Q6=cr);var K6,Q6,$y,aY=X6,sY=(Y(Y6,K6=Ye),Y6);function Y6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=K6.call(this)||this).method=We.DELETE,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/ban/").concat(encodeURIComponent(p)),s}function X6(a,s,l){var d=Q6.call(this,a,"SYEV",l)||this;return d.memberCount=null,d.joinedMemberCount=null,d.user=new Ld(a,l.data),l.data.member_count&&(d.memberCount=l.data.member_count),l.data.joined_member_count&&(d.joinedMemberCount=l.data.joined_member_count),d}Y(function(){return $y!==null&&$y.apply(this,arguments)||this},$y=en),Y(t4,Z6=cr);var J6,Z6,zy,oY=t4,e4=(Y(n4,J6=Ye),n4);function n4(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.freezing;return(s=J6.call(this)||this).method=We.PUT,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(l),"/freeze"),s.params={freeze:p},s}function t4(a,s,l){var d=Z6.call(this,a,"SYEV",l)||this;return d.user=new Ld(a,l.data),d}Y(function(){return zy!==null&&zy.apply(this,arguments)||this},zy=en),Y(N4,p4=cr);var r4,i4,a4,s4,o4,l4,u4,c4,d4,h4,p4,jy,lY=N4,uY=(Y(S4,h4=Ye),S4),cY=(Y(C4,d4=Ye),C4),dY=(Y(k4,c4=Ye),k4),hY=(Y(x4,u4=go),x4),f4=(Y(w4,l4=cr),w4),m4=(Y(E4,o4=go),E4),Vy=(Y(y4,s4=cr),y4),pY=(Y(b4,a4=go),b4),g4=(Y(_4,i4=cr),_4),fY=(Y(v4,r4=Ye),v4);function v4(a){var s=r4.call(this)||this;return s.method=We.DELETE,s.path="".concat(Ft(a.channelType),"/").concat(a.channelUrl,"/messages/").concat(a.messageId),s}function _4(m,s,l){var d,p=this,m=((p=i4.call(this,m,"FEDI",l)||this).message=new ti(m,l),xe.of(m).sdkState);return p.mentionCountChange=ey({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function b4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),a4.call(this,{code:"FEDI",ackRequired:!0,payload:$n({channel_url:a.channelUrl,msg_id:a.messageId,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function y4(m,s,l){var d,p=this,m=((p=s4.call(this,m,"MEDI",l)||this).message=new Ei(m,l),xe.of(m).sdkState);return p.mentionCountChange=ey({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function E4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),o4.call(this,{code:"MEDI",ackRequired:!0,payload:$n({channel_url:a.channelUrl,msg_id:a.messageId,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function w4(m,s,l){var d,p=this,m=((p=l4.call(this,m,"MESG",l)||this).message=new Ei(m,l),xe.of(m).sdkState);return p.isMentioned=Ad(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function x4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),u4.call(this,{code:"MESG",ackRequired:!0,payload:$n({channel_url:a.channelUrl,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Gl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function k4(w){var s=this,l=w.channelUrl,d=w.channelType,p=w.category,m=w.userId,g=w.offendingUserId,b=w.messageId,w=w.description;return(s=c4.call(this)||this).method=We.POST,s.path="".concat(KN(d),"/").concat(encodeURIComponent(l),"/messages/").concat(b),s.params={report_category:p,reporting_user_id:m,report_description:w,offending_user_id:g},s}function C4(b){var s=this,l=b.channelUrl,d=b.channelType,p=b.category,m=b.userId,g=b.offendingUserId,b=b.description;return(s=d4.call(this)||this).method=We.POST,s.path="/report/users/".concat(g),s.params={channel_url:l,channel_type:d===Er.OPEN?"open_channels":"group_channels",report_category:p,reporting_user_id:m,report_description:b},s}function S4(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.category,m=g.userId,g=g.description;return(s=h4.call(this)||this).method=We.POST,s.path="".concat(KN(d),"/").concat(encodeURIComponent(l)),s.params={report_category:p,reporting_user_id:m,report_description:g},s}function N4(a,s,l){return a=p4.call(this,a,"SYEV",l)||this,a.freeze=l.data.freeze,a}Y(function(){return jy!==null&&jy.apply(this,arguments)||this},jy=en),Y(Y4,F4=cr);var Wy,T4,I4,O4,A4,R4,M4,D4,U4,L4,P4,F4,Sa,Ky,Xa,Qy,mY=Y4,gY=(Y(Q4,P4=Ye),Q4),vY=(Y(K4,L4=en),K4),_Y=(Y(W4,U4=Ye),W4),bY=(Y(V4,D4=en),V4),yY=(Y(j4,M4=Ye),j4),EY=(Y(z4,R4=en),z4),wY=(Y($4,A4=Ye),$4),xY=(Y(G4,O4=en),G4),kY=(Y(B4,I4=Ye),B4),CY=(Y(q4,T4=en),q4),H4=(Y(Je,Wy=ut),Je.payloadify=function(a){return $n(pe(pe({},Wy.payloadify.call(this,a)),{channel_url:a.url,name:a.name,cover_url:a.coverUrl,custom_type:a.customType,data:a.data,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,created_by:Qn.payloadify(a.creator),created_at:a.createdAt/1e3}))},Je.prototype.isGroupChannel=function(){return this.channelType===Er.GROUP},Je.prototype.isOpenChannel=function(){return this.channelType===Er.OPEN},Object.defineProperty(Je.prototype,"cachedMetaData",{get:function(){var a={};return this._cachedMetaData.forEach(function(s,l){s.isRemoved||(a[l]=s.value)}),a},enumerable:!1,configurable:!0}),Je.prototype._upsertCachedMetaData=function(a,s){var l=this;Object.keys(a).forEach(function(d){var p=l._cachedMetaData.get(d);(!p||p.updatedAt<=s)&&l._cachedMetaData.set(d,{value:a[d],isRemoved:!1,updatedAt:s})})},Je.prototype._removeFromCachedMetaData=function(a,s){var l=this;a.forEach(function(d){d=l._cachedMetaData.get(d),d&&d.updatedAt<s&&(d.isRemoved=!1,d.updatedAt=s)})},Je.prototype._generateRequestId=function(){return"rq-".concat(Cd())},Je.prototype.isIdentical=function(a){return a&&this.url===a.url},Je.prototype.isEqual=function(a){return iN(this,a)},Je.prototype.createOperatorListQuery=function(a){return new AQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Je.prototype.createMutedUserListQuery=function(a){return new DQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Je.prototype.createBannedUserListQuery=function(a){return new PQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Je.prototype.createPreviousMessageListQuery=function(a){return new kQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Je.prototype.addOperators=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new FQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Je.prototype.removeOperators=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new HQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Je.prototype.getMyMutedInfo=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new qQ({channelUrl:this.url,channelType:this.channelType,userId:s.userId}),[4,a.send(s)];case 1:return a=b.sent(),s=a.as(BQ),l=s.isMuted,d=s.startAt,p=s.endAt,m=s.remainingDuration,g=s.description,[2,{isMuted:l,startAt:d,endAt:p,remainingDuration:m,description:g}]}})})},Je.prototype.getMetaData=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new h6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return s=m.sent(),l=s.as(p6),d=l.metadata,p=l.ts,this._upsertCachedMetaData(d,p),[2,d]}})})},Je.prototype.getAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=xe.of(this._iid).requestQueue,s=new h6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(p6),l=s.metadata,d=s.ts,this._upsertCachedMetaData(l,d),[2,l]}})})},Je.prototype.createMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new QK({channelUrl:this.url,channelType:this.channelType,metadata:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(eT).metaData,this._upsertCachedMetaData(l,0),[2,l]}})})},Je.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d,p,m;return F(this,function(g){switch(g.label){case 0:return l=xe.of(this._iid).requestQueue,d=new GQ({channelUrl:this.url,channelType:this.channelType,metadata:a,upsert:s}),[4,l.send(d)];case 1:return l=g.sent(),d=l.as($Q),p=d.metadata,m=d.ts,this._upsertCachedMetaData(p,m),[2,p]}})})},Je.prototype.deleteMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new jQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(VQ).ts,this._removeFromCachedMetaData([a],l),[2]}})})},Je.prototype.deleteAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new WQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return a=l.sent(),s=a.as(KQ).ts,this._removeFromCachedMetaData(yr([],rr(this._cachedMetaData.keys()),!1),s),[2]}})})},Je.prototype.getMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new f6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return[2,d.sent().as(m6).metaCounter]}})})},Je.prototype.getAllMetaCounters=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new f6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return[2,l.sent().as(m6).metaCounter]}})})},Je.prototype.createMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new QQ({channelUrl:this.url,channelType:this.channelType,metaCounter:a}),[4,s.send(l)];case 1:return[2,d.sent().as(YQ).metaCounter]}})})},Je.prototype.updateMetaCounters=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return l=xe.of(this._iid).requestQueue,d=new Fy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:s}),[4,l.send(d)];case 1:return[2,p.sent().as(Hy).metaCounter]}})})},Je.prototype.increaseMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new Fy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"increase"}),[4,s.send(l)];case 1:return[2,d.sent().as(Hy).metaCounter]}})})},Je.prototype.decreaseMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new Fy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"decrease"}),[4,s.send(l)];case 1:return[2,d.sent().as(Hy).metaCounter]}})})},Je.prototype.deleteMetaCounter=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new JQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Je.prototype.deleteAllMetaCounters=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new ZQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return l.sent(),[2]}})})},Je.prototype.muteUser=function(a,s,l){return P(this,void 0,void 0,function(){return F(this,function(d){return[2,this.muteUserWithUserId(a.userId,s,l)]})})},Je.prototype.muteUserWithUserId=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return un(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(Ee.invalidParameters),d=xe.of(this._iid).requestQueue,p=new eY({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Je.prototype.unmuteUser=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unmuteUserWithUserId(a.userId)]})})},Je.prototype.unmuteUserWithUserId=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new tY({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Je.prototype.banUser=function(a,s,l){return P(this,void 0,void 0,function(){return F(this,function(d){return[2,this.banUserWithUserId(a.userId,s,l)]})})},Je.prototype.banUserWithUserId=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return un(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(Ee.invalidParameters),d=xe.of(this._iid).requestQueue,p=new iY({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Je.prototype.unbanUser=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unbanUserWithUserId(a.userId)]})})},Je.prototype.unbanUserWithUserId=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid).requestQueue,l=new sY({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Je.prototype.freeze=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new e4({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!0,[2]}})})},Je.prototype.unfreeze=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new e4({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!1,[2]}})})},Je.prototype.getMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},GT),s),un(fe("number",a)&&fe("number",(d=s).prevResultSize)&&fe("number",d.nextResultSize)&&fe("boolean",d.isInclusive)&&fe("boolean",d.reverse)&&fe("string",d.messageTypeFilter)&&ir(Va,d.messageTypeFilter)&&bt("string",d.customTypesFilter,!0)&&bt("string",d.senderUserIdsFilter,!0)&&ir(Wa,d.replyType)&&fe("boolean",d.includeMetaArray)&&fe("boolean",d.includeReactions)&&fe("boolean",d.includeParentMessageInfo)&&fe("boolean",d.includeThreadInfo)&&fe("boolean",d.showSubchannelMessagesOnly)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}var d})})},Je.prototype.getMessageChangeLogsSinceTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},xy),s),un(fe("number",a)&&BT(s)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Je.prototype.getMessageChangeLogsSinceToken=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},xy),s),un(fe("string",a)&&BT(s)).throw(Ee.invalidParameters),[4,Ca.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Je.prototype._createPendingSendableMessagePayload=function(a,s,l){var d=xe.of(this._iid).sessionManager;return $n({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,sorted_metaarray:a.metaArrays?a.metaArrays.map(function(p){return Ka.payloadify(p)}):null,apple_critical_alert_options:a.appleCriticalAlertOptions?Vl.payloadify(a.appleCriticalAlertOptions):null,created_at:l,user:Lp.payloadify(d.currentUser),req_id:s,request_state:ar.PENDING,mentioned_user_ids:a.mentionedUserIds,mentioned_users:a.mentionedUsers})},Je.prototype._createPendingUserMessage=function(a,s,l){var d={};if(a.translationTargetLanguages)try{for(var p=jn(a.translationTargetLanguages),m=p.next();!m.done;m=p.next())d[m.value]=""}catch(w){b={error:w}}finally{try{m&&!m.done&&(g=p.return)&&g.call(p)}finally{if(b)throw b.error}}var g=$n(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:gr.USER,message:a.message,translations:d})),b=new Ei(this._iid,g);return b.messageParams=a,b},Je.prototype._createPendingScheduledUserMessage=function(a,s,l){return s=this._createPendingUserMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Je.prototype._createPendingFileMessage=function(a,s,l){return s=$n(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:gr.FILE,url:a.fileUrl,file:{name:a.fileName,size:a.fileSize,type:a.mimeType,data:a.data},thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(d){return{url:"",width:d.maxWidth,height:d.maxHeight}}):[]})),l=new ti(this._iid,s),l.messageParams=a,l},Je.prototype._createPendingScheduledFileMessage=function(a,s,l){return s=this._createPendingFileMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Je.prototype._markMessageAsFailed=function(a,s,l){l===void 0&&(l=!1),a.errorCode=s.code,s.code===Zn.REQUEST_CANCELED?a.sendingStatus=ar.CANCELED:l||(a.sendingStatus=ar.FAILED)},Je.prototype.sendUserMessage=function(a){return a=pe(pe({},EI),a),un(bI(s=a)&&fe("string",s.message)&&bt("string",s.translationTargetLanguages,!0)).throw(Ee.invalidParameters),this._sendUserMessage(a);var s},Je.prototype._sendUserMessage=function(a,s,O){var d,p=this,g=(s===void 0&&(s=Date.now()),O===void 0&&(O=null),xe.of(this._iid)),m=g.dispatcher,g=g.requestQueue,b=O,w=new ky,O=(b||(b=this._generateRequestId(),d=xe.of(this._iid).dispatcher,vo(2).then(function(){var L=p._createPendingUserMessage(a,b,s);d.dispatch(new ka({messages:[L],source:ri.EVENT_MESSAGE_SENT_PENDING})),at(function(){return P(p,void 0,void 0,function(){return F(this,function(q){return[2,w._trigger(null,L)]})})})})),new hY(pe({channelUrl:this.url,channelType:this.channelType,reqId:b},a)));return g.send(O).then(function(L){var q=L.as(f4).message;m.dispatch(new ka({messages:[q],source:ri.EVENT_MESSAGE_SENT_SUCCESS})),at(function(){return P(p,void 0,void 0,function(){return F(this,function(G){return[2,w._trigger(null,q)]})})})}).catch(function(L){if(ql(L))throw L;vo(2).then(function(){var q=p._createPendingUserMessage(a,b,s),G=xe.of(p._iid).cacheContext.localCacheEnabled&&im(L.code);p._markMessageAsFailed(q,L,G),m.dispatch(new ka({messages:[q],source:q.sendingStatus===ar.PENDING?ri.REQUEST_RESEND_MESSAGE:ri.EVENT_MESSAGE_SENT_FAILED})),at(function(){return P(p,void 0,void 0,function(){return F(this,function(te){return[2,w._trigger(L,q)]})})})})}),w},Je.prototype._autoResendUserMessage=function(a){return un(a instanceof Ei).throw(Ee.invalidParameters),this._sendUserMessage(a.messageParams,a.createdAt,a.reqId)},Je.prototype.resendUserMessage=function(a){var s;return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){return un(a instanceof Ei&&!a.scheduledInfo).throw(Ee.invalidParameters),l=new oa,d=(s=a.messageParams)!=null?s:$n({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,mentionedMessageTemplate:a.mentionedMessageTemplate,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,message:a.message,translationTargetLanguages:Object.keys(a.translations)}),this._sendUserMessage(d).onFailed(function(m){return l.reject(m)}).onSucceeded(function(m){return l.resolve(m)}),[2,l.promise]})})},Je.prototype.updateUserMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return s=pe(pe({},NQ),s),un(fe("number",a)&&CI(g=s)&&fe("string",g.message,!0)&&bt("string",g.translationTargetLanguages,!0)).throw(Ee.invalidParameters),d=xe.of(this._iid),l=d.dispatcher,d=d.requestQueue,p=new m4(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,d.send(p)];case 1:return d=m.sent(),p=d.as(Vy).message,l.dispatch(new ka({messages:[p],source:ri.EVENT_MESSAGE_UPDATED})),[2,p]}var g})})},Je.prototype.copyUserMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return un(a instanceof Je&&s instanceof Ei&&s.sendingStatus===ar.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(Ee.invalidParameters),d=new oa,p=(l=s.messageParams)!=null?l:pe(pe({},s),{mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),translationTargetLanguages:Object.keys(s.translations),pushNotificationDeliveryOption:Gl.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),a._sendUserMessage(p).onSucceeded(function(g){return d.resolve(g)}).onFailed(function(g){return d.reject(g)}),[2,d.promise]})})},Je.prototype.translateUserMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(a instanceof Ei&&0<a.messageId&&bt("string",s)).throw(Ee.invalidParameters),l=xe.of(this._iid).requestQueue,d=new yY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,translationTargetLanguages:s}),[4,l.send(d)];case 1:return[2,p.sent().as(EY).message]}})})},Je.prototype._createScheduledUserMessage=function(a,s){var l=this,d=xe.of(this._iid).requestQueue,p=Date.now(),m=this._generateRequestId(),g=(vo(2).then(function(){var b=l._createPendingScheduledUserMessage(a,m,p);at(function(){return P(l,void 0,void 0,function(){return F(this,function(w){return[2,s._trigger(null,b)]})})})}),new wY(pe({reqId:m,channelType:this.channelType,channelUrl:this.url},a)));d.send(g).then(function(b){var w=b.as(xY).message;at(function(){return P(l,void 0,void 0,function(){return F(this,function(O){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(ql(b))throw b;vo(2).then(function(){var w=l._createPendingScheduledUserMessage(a,m,p);l._markMessageAsFailed(w,b),at(function(){return P(l,void 0,void 0,function(){return F(this,function(O){return[2,s._trigger(b,w)]})})})})})},Je.prototype.sendFileMessage=function(a){return a=pe(pe({},kI),a),un(xI(a)).throw(Ee.invalidParameters),this._sendFileMessage(a)},Je.prototype._sendFileMessage=function(a,s,l){var d=this,p=(s===void 0&&(s=Date.now()),l===void 0&&(l=null),xe.of(this._iid).dispatcher),m=Ca.of(this._iid).fileMessageQueue,g=l,b=new ky;return g||(g=this._generateRequestId(),vo(2).then(function(){var w=d._createPendingFileMessage(a,g,s);p.dispatch(new ka({messages:[w],source:ri.EVENT_MESSAGE_SENT_PENDING})),at(function(){return P(d,void 0,void 0,function(){return F(this,function(O){return[2,b._trigger(null,w)]})})})})),m.request(this,g,a).then(function(w){p.dispatch(new ka({messages:[w],source:ri.EVENT_MESSAGE_SENT_SUCCESS})),at(function(){return P(d,void 0,void 0,function(){return F(this,function(O){return[2,b._trigger(null,w)]})})})}).catch(function(w){if(ql(w))throw w;vo(2).then(function(){var O=d._createPendingFileMessage(a,g,s),L=xe.of(d._iid).cacheContext.localCacheEnabled&&im(w.code);d._markMessageAsFailed(O,w,L),p.dispatch(new ka({messages:[O],source:O.sendingStatus===ar.PENDING?ri.REQUEST_RESEND_MESSAGE:ri.EVENT_MESSAGE_SENT_FAILED})),at(function(){return P(d,void 0,void 0,function(){return F(this,function(q){return[2,b._trigger(w,O)]})})})})}),b},Je.prototype._autoResendFileMessage=function(a){un(a instanceof ti).throw(Ee.invalidParameters);var s=xe.of(this._iid).logger;return s.debug("autoResendFileMessage pending",a),this._sendFileMessage(a.messageParams,a.createdAt,a.reqId).onFailed(function(l){s.debug("autoResendFileMessage failed",l)}).onSucceeded(function(l){s.debug("autoResendFileMessage success",l)})},Je.prototype._createScheduledFileMessage=function(a,s,l,d){var p=this,m=xe.of(this._iid).requestQueue,g=new kY(pe(pe({reqId:l,channelType:this.channelType,channelUrl:this.url},a),{fileUrl:a.fileUrl,requireAuth:a.requireAuth}));m.send(g).then(function(b){var w=b.as(CY).message;at(function(){return P(p,void 0,void 0,function(){return F(this,function(O){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(ql(b))throw b;vo(2).then(function(){var w=p._createPendingScheduledFileMessage(a,l,d);p._markMessageAsFailed(w,b),at(function(){return P(p,void 0,void 0,function(){return F(this,function(O){return[2,s._trigger(b,w)]})})})})})},Je.prototype.sendFileMessages=function(a){un(a.every(function(b){return xI(pe(pe({},kI),b))})).throw(Ee.invalidParameters);var s,l,d=new ky;try{for(var p=jn(a),m=p.next();!m.done;m=p.next()){var g=m.value;this.sendFileMessage(g).onPending(function(b){return d._trigger(null,b)}).onFailed(function(b,w){return d._trigger(b,w)}).onSucceeded(function(b){return d._trigger(null,b)})}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d},Je.prototype.resendFileMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return un(a instanceof ti&&s instanceof Blob&&!a.scheduledInfo).throw(Ee.invalidParameters),d=new oa,p=(l=a.messageParams)!=null?l:(g=s,$n({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,file:g=s===void 0?null:g,fileUrl:a.url,fileName:a.name,fileSize:a.size,mimeType:a.type,thumbnailSizes:a.thumbnails.map(function(b){return{maxWidth:b.width,maxHeight:b.height}})})),this._sendFileMessage(p).onFailed(function(b){return d.reject(b)}).onSucceeded(function(b){return d.resolve(b)}),[2,d.promise];var g})})},Je.prototype.updateFileMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return s=pe(pe({},TQ),s),un(fe("number",a)&&CI(s)).throw(Ee.invalidParameters),d=xe.of(this._iid),l=d.dispatcher,d=d.requestQueue,p=new pY(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,d.send(p)];case 1:return d=m.sent(),p=d.as(g4).message,l.dispatch(new ka({messages:[p],source:ri.EVENT_MESSAGE_UPDATED})),[2,p]}})})},Je.prototype.cancelUploadingFileMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return un(fe("string",a)).throw(Ee.invalidParameters),Ca.of(this._iid).fileMessageQueue.cancel(this,a),[2,!0]})})},Je.prototype.copyFileMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return un(a instanceof Je&&s instanceof ti&&s.sendingStatus===ar.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(Ee.invalidParameters),d=new oa,p=pe(pe({},s),{fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),pushNotificationDeliveryOption:Gl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:s.thumbnails.map(function(g){return{maxWidth:g.width,maxHeight:g.height}}),requireAuth:s.requireAuth}),a._sendFileMessage(p).onSucceeded(function(g){return d.resolve(g)}).onFailed(function(g){return d.reject(g)}),[2,d.promise]})})},Je.prototype.deleteMessage=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(a instanceof _o).throw(Ee.invalidParameters),0<a.messageId?(s=xe.of(this._iid).requestQueue,l=new fY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId}),[4,s.send(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},Je.prototype.addReaction=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(a instanceof vm&&0<a.messageId&&fe("string",s)).throw(Ee.invalidParameters),l=xe.of(this._iid).requestQueue,d=new gY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(d)];case 1:return[2,p.sent().as(vY).reactionEvent]}})})},Je.prototype.deleteReaction=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(a instanceof vm&&0<a.messageId&&fe("string",s)).throw(Ee.invalidParameters),l=xe.of(this._iid).requestQueue,d=new _Y({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(d)];case 1:return[2,p.sent().as(bY).reactionEvent]}})})},Je.prototype._updateMessageMetaArray=function(a,s,l,d){return P(this,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return m=xe.of(this._iid),p=m.dispatcher,m=m.requestQueue,g=new m4({channelType:this.channelType,channelUrl:this.url,messageId:a,metaArrayParams:{array:s,mode:l,upsert:d}}),[4,m.send(g)];case 1:return m=b.sent(),g=m.as(Vy).message,p.dispatch(new ka({messages:[g],source:ri.EVENT_MESSAGE_UPDATED})),[2,g]}})})},Je.prototype.createMessageMetaArrayKeys=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return un(a instanceof _o&&0<a.messageId&&bt("string",s)).throw(Ee.invalidParameters),l=s.map(function(p){return new Ka({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"add",!0)]})})},Je.prototype.deleteMessageMetaArrayKeys=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return un(a instanceof _o&&0<a.messageId&&bt("string",s)).throw(Ee.invalidParameters),l=s.map(function(p){return new Ka({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"remove",!0)]})})},Je.prototype.addMessageMetaArrayValues=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return un(a instanceof _o&&0<a.messageId&&s.every(function(d){return d instanceof Ka})).throw(Ee.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"add",!0)]})})},Je.prototype.removeMessageMetaArrayValues=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return un(a instanceof _o&&0<a.messageId&&s.every(function(d){return d instanceof Ka})).throw(Ee.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"remove",!0)]})})},Je.prototype.report=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(ir(Bp,a)&&fe("string",s)).throw(Ee.invalidParameters),l=xe.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new uY({channelUrl:this.url,channelType:this.channelType,userId:d.userId,category:a,description:s}),[4,l.send(d)];case 1:return p.sent(),[2]}})})},Je.prototype.reportUser=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return un(a instanceof Qn&&ir(Bp,s)&&fe("string",l)).throw(Ee.invalidParameters),d=xe.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new cY({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.userId,category:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Je.prototype.reportMessage=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return un(a instanceof _o&&ir(Bp,s)&&fe("string",l)).throw(Ee.invalidParameters),d=xe.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new dY({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.sender.userId,messageId:a.messageId,category:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Je);function Je(a,s){var l=this;return(l=Wy.call(this,a)||this).url="",l.channelType=Er.BASE,l.name="",l.coverUrl="",l.customType="",l.data="",l.isFrozen=!1,l.isEphemeral=!1,l.creator=null,l.createdAt=0,l.url=s.channel_url,l.name=(a=s.name)!=null?a:"",l.coverUrl=(a=s.cover_url)!=null?a:"",l.customType=(a=s.custom_type)!=null?a:"",l.data=(a=s.data)!=null?a:"",l.isFrozen=!!fe("boolean",s.freeze)&&s.freeze,l.isEphemeral=!!fe("boolean",s.is_ephemeral)&&s.is_ephemeral,l.creator=s.created_by?new Qn(l._iid,s.created_by):null,l.createdAt=1e3*s.created_at,l._cachedMetaData=new Map,s.metadata&&s.ts&&Object.keys(s.metadata).forEach(function(d){l._cachedMetaData.set(d,{value:s.metadata[d],isRemoved:!1,updatedAt:s.ts})}),l}function q4(a,s){var l=T4.call(this,a,s)||this;return l.message=new ti(a,s),l}function B4(a){var s=this,s=I4.call(this)||this,l=[],d=(a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:pm.FILE,url:a.fileUrl,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(m){return by.payloadify(m)}):[],custom_type:a.customType,data:a.data,require_auth:a.requireAuth,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(d=a.metaArrays)==null?void 0:d.map(function(m){return Ka.payloadify(m)}),apple_critical_alert_options:Vl.payloadify(a.appleCriticalAlertOptions),push_option:a.pushNotificationDeliveryOption},s}function G4(a,s){var l=O4.call(this,a,s)||this;return l.message=new Ei(a,s),l}function $4(a){var s=this,s=A4.call(this)||this,l=[],d=(a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=We.POST,s.path="".concat(Ft(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:pm.USER,message:a.message,custom_type:a.customType,data:a.data,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(d=a.metaArrays)==null?void 0:d.map(function(m){return Ka.payloadify(m)}),apple_critical_alert_options:Vl.payloadify(a.appleCriticalAlertOptions),target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption},s}function z4(a,s){var l=R4.call(this,a,s)||this;return l.message=new Ei(a,s),l}function j4(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.translationTargetLanguages,m=M4.call(this)||this;return m.method=We.POST,m.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(d),"/translation"),m.params={target_langs:p},m}function V4(a,s){return a=D4.call(this,a,s)||this,a.reactionEvent=new dy(pe({},s)),a}function W4(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.reactionKey,m=U4.call(this)||this;return m.method=We.DELETE,m.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages/").concat(d,"/reactions"),m.params={reaction:p},m}function K4(a,s){return a=L4.call(this,a,s)||this,a.reactionEvent=new dy(s),a}function Q4(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.reactionKey,m=P4.call(this)||this;return m.method=We.POST,m.path="".concat(Ft(s),"/").concat(encodeURIComponent(l),"/messages/").concat(d,"/reactions"),m.params={reaction:p},m}function Y4(a,s,l){return a=F4.call(this,a,"DELM",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.messageId=Number(l.msg_id),a}(Fn=Sa=Sa||{}).SUCCESS="success",Fn.PENDING="pending",Fn.ERROR="error",(mr=Ky=Ky||{}).DEFAULT="default",mr.ALL="all",mr.MENTION_ONLY="mention_only",mr.OFF="off",(vi=Xa=Xa||{}).FCM="gcm",vi.APNS="apns",vi.UNKNOWN="unknown",(ur=Qy=Qy||{}).ALTERNATIVE="alternative",ur.DEFAULT="default";var Kl;(je=Kl=Kl||{}).LATEST_LAST_MESSAGE="latest_last_message",je.CHRONOLOGICAL="chronological",je.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",je.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical";function Yy(a){switch(a){case Kl.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Kl.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Kl.CHANNEL_NAME_ALPHABETICAL:return["name"]}}Tm.prototype.clone=function(){var a=new Tm,s=JSON.parse(JSON.stringify(this));return Object.keys(s).forEach(function(l){a[l]=s[l]}),a},Tm.prototype.match=function(a){switch(this.messageTypeFilter){case Va.USER:if(a.messageType!==gr.USER)return!1;break;case Va.FILE:if(a.messageType!==gr.FILE)return!1;break;case Va.ADMIN:if(a.messageType!==gr.ADMIN)return!1}if(this.customTypesFilter&&0<this.customTypesFilter.length&&!this.customTypesFilter.includes(a.customType)||this.senderUserIdsFilter&&0<this.senderUserIdsFilter.length&&(!(a instanceof _o)||!this.senderUserIdsFilter.includes(a.sender.userId)))return!1;switch(this.replyType){case Wa.NONE:if(0<a.parentMessageId)return!1;break;case Wa.ONLY_REPLY_TO_CHANNEL:if(a instanceof _o&&0<a.parentMessageId&&!a.replyToChannel)return!1}return!0};var ii,Nm=Tm;function Tm(){this.messageTypeFilter=Va.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Wa.NONE}(qi=ii=ii||{}).CHANNEL_LATEST="channel_latest",qi.NEWEST_CHILD_MESSAGE="newest_child_message";function Wo(a){switch(a){case ii.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ii.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}}pe(pe({},EI),{scheduledAt:null}),pe(pe({},Mr),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var Xy,X4,J4,Z4,eO={},nO=(Y($i,Z4=ut),$i.of=function(a){return eO[a]},Object.defineProperty($i.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a&&a.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty($i.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),$i.prototype._serialize=function(a){if(0<a.messageId)throw Ee.invalidParameters;var s,l=pe({},a.serialize());return a instanceof Ei?(a.messageParams&&(l.messageParams=yI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},yI(s)),{scheduledAt:s.scheduledAt})))):a instanceof ti&&(a.messageParams&&(l.messageParams=wI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},wI(s)),{scheduledAt:s.scheduledAt})))),l},$i.prototype._deserialize=function(a){return a?(a=pe(pe({},a),{messageId:parseInt(a.messageId)}),Ca.of(this._iid).buildMessageFromSerializedData(a)):null},$i.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},$i.prototype.fetch=function(a){var g=a.channelUrl,s=g===void 0?null:g,g=a.filter,l=g===void 0?new Nm:g,g=a.order,d=g===void 0?ii.CHANNEL_LATEST:g,g=a.sendingStatus,p=g===void 0?null:g,g=a.backward,m=g!==void 0&&g,g=a.parentMessageId,b=g===void 0?null:g;return P(this,void 0,void 0,function(){var w,O,L=this;return F(this,function(q){switch(q.label){case 0:return this.localCacheEnabled?(O=Wo(d),w={"/where":function(G){return!!(d!==ii.NEWEST_CHILD_MESSAGE||b&&G.parentMessageId!==0&&G.parentMessageId===b)&&l.match(L._deserialize(G))}},s&&(w.channelUrl=s),p&&(w.sendingStatus=p),w={where:w,index:O,backward:m},[4,this.collection.query(w)]):[3,3];case 1:return[4,q.sent().fetch({})];case 2:return O=q.sent(),[2,Promise.all(O.map(function(G){return P(L,void 0,void 0,function(){var te,ae,Ne,Q,se,_e;return F(this,function(ve){switch(ve.label){case 0:return te=Ca.of(this._iid),ae=this._deserialize(G),(Ne=G.messageParams)?ae instanceof Ei?(ae.messageParams=te.buildUserMessageCreateParamsFromSerializedData(Ne,ae),[3,4]):[3,1]:[3,4];case 1:return ae instanceof ti?Ne.fileKey&&typeof Ne.fileKey=="string"&&Oy(Ne.fileType)?(Q=Ne,[4,this.collection.getBlob(Ne.fileKey)]):[3,3]:[3,4];case 2:Q.file=ve.sent(),ve.label=3;case 3:ae.messageParams=te.buildFileMessageCreateParamsFromSerializedData(Ne,ae),ve.label=4;case 4:return ae.scheduledInfo&&G.scheduledInfo&&G.scheduledInfo.scheduledMessageParams?ae instanceof Ei?(se=G.scheduledInfo.scheduledMessageParams,ae.scheduledInfo.scheduledMessageParams=te.buildScheduledUserMessageCreateParamsFromSerializedData(se,ae),[3,8]):[3,5]:[3,8];case 5:return ae instanceof ti?(se=G.scheduledInfo.scheduledMessageParams).fileKey&&typeof se.fileKey=="string"&&Oy(se.fileType)?(_e=se,[4,this.collection.getBlob(se.fileKey)]):[3,7]:[3,8];case 6:_e.file=ve.sent(),ve.label=7;case 7:ae.scheduledInfo.scheduledMessageParams=te.buildScheduledFileMessageCreateParamsFromSerializedData(se,ae),ve.label=8;case 8:return[2,ae]}})})}))];case 3:return[2,[]]}})})},$i.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Nm),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this.fetch({filter:s,order:ii.NEWEST_CHILD_MESSAGE,channelUrl:a.channelUrl,backward:!1,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},$i.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,3];case 1:return d.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:d.sent(),d.label=3;case 3:return[2]}})})},$i.prototype.upsertChildMessages=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return p=[],0<((m=d.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(d)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(d)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},$i.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=jn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(d=l.value,[4,this.collection.remove(d)]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),p={error:d},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},$i.prototype.removeMessagesOfChannel=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a}})]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},$i.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},$i.prototype.saveBlobs=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return d instanceof ti?d.messageParams&&(p=d.messageParams).file&&Iy(p.file)?[4,this.collection.saveBlob(p.file,d.reqId)]:[3,2]:[3,4];case 1:g=b.sent(),p.fileKey=g,p.fileType=Ud.BLOB,b.label=2;case 2:return d.scheduledInfo&&d.scheduledInfo.scheduledMessageParams&&(m=d.scheduledInfo.scheduledMessageParams).file&&Iy(m.file)?[4,this.collection.saveBlob(m.file,d.reqId)]:[3,4];case 3:g=b.sent(),m.fileKey=g,m.fileType=Ud.BLOB,b.label=4;case 4:return[2]}})})}))];case 1:return l.sent(),[2]}})})},$i),tO={},SY=(Y(ai,J4=ut),ai.of=function(a){return tO[a]},Object.defineProperty(ai.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a?a.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(ai.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),ai.prototype._serialize=function(a){return pe(pe({},a.serialize()),{messageId:"".concat(a.messageId)})},ai.prototype._deserialize=function(a){return a=pe(pe({},a),{messageId:parseInt(a.messageId)}),Ca.of(this._iid).buildMessageFromSerializedData(a)},ai.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},ai.prototype.fetch=function(a){var s=a.channelUrl,l=a.token,b=a.limit,d=b===void 0?100:b,b=a.filter,p=b===void 0?new Nm:b,b=a.order,m=b===void 0?ii.CHANNEL_LATEST:b,b=a.backward,g=b!==void 0&&b,b=a.parentMessageId,w=b===void 0?null:b;return P(this,void 0,void 0,function(){var O,L=this;return F(this,function(q){switch(q.label){case 0:return this.localCacheEnabled?(O=Wo(m),O={where:{channelUrl:s,"/where":function(G){if(l)switch(m){case ii.CHANNEL_LATEST:if(!g&&G.createdAt>l||g&&G.createdAt<l)return!1;break;case ii.NEWEST_CHILD_MESSAGE:if(!w||G.parentMessageId===0||G.parentMessageId!==w)return!1}return p.match(L._deserialize(G))}},index:O,backward:g},[4,this.collection.query(O)]):[3,3];case 1:return[4,q.sent().fetch({limit:d})];case 2:return O=q.sent(),[2,Promise.all(O.map(function(G){return P(L,void 0,void 0,function(){var te,ae,Ne;return F(this,function(Q){switch(Q.label){case 0:return te=this._deserialize(G),(ae=G.messageParams)?te instanceof Ei?(te.messageParams=ae,[3,4]):[3,1]:[3,4];case 1:return te instanceof ti?ae.fileKey&&typeof ae.fileKey=="string"&&Oy(ae.fileType)?(Ne=ae,[4,this.collection.getBlob(ae.fileKey)]):[3,3]:[3,4];case 2:Ne.file=Q.sent(),Q.label=3;case 3:te.messageParams=ae,Q.label=4;case 4:return[2,te]}})})}))];case 3:return[2,[]]}})})},ai.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Nm),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this.fetch({channelUrl:a.channelUrl,token:Date.now(),limit:null,backward:!1,filter:s,order:ii.NEWEST_CHILD_MESSAGE,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},ai.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,5];case 1:return d.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:return d.sent(),[4,this.upsertChildMessages(a)];case 3:return d.sent(),[4,this._unsentMessageCache.upsertChildMessages(a)];case 4:d.sent(),d.label=5;case 5:return[2]}})})},ai.prototype.upsertChildMessages=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return p=[],0<((m=d.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(d)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(d)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},ai.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=jn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(d=l.value,[4,this.collection.remove("".concat(d))]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),p={error:d},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},ai.prototype.removeMessagesOfChannel=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a},index:Wo(ii.CHANNEL_LATEST)})]:[3,6];case 1:return l.sent(),[4,(s=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync"))];case 2:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync.meta"))];case 3:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs"))];case 4:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs.meta"))];case 5:l.sent(),l.label=6;case 6:return[2]}})})},ai.prototype.removeUnderOffset=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a,createdAt:{"<":s}},index:Wo(ii.CHANNEL_LATEST)})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},ai.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},ai.prototype.countBetween=function(a,s,l){return P(this,void 0,void 0,function(){var d,p=this;return F(this,function(m){switch(m.label){case 0:return this.localCacheEnabled?(d=Wo(ii.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:a,"/where":function(g){return g=p._deserialize(g),l.includes(g.createdAt)&&s.match(g)}},index:d}).count()]):[3,2];case 1:return[2,m.sent()];case 2:return[2,0]}})})},ai.prototype.saveBlobs=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return d instanceof ti&&d.messageParams&&(p=d.messageParams).file&&Iy(p.file)?[4,this.collection.saveBlob(p.file,d.reqId)]:[3,2];case 1:m=g.sent(),p.fileKey=m,g.label=2;case 2:return[2]}})})}))];case 1:return l.sent(),[2]}})})},ai),NY=(Y(iO,X4=_i),iO),Jy={},rO=(Ko.of=function(a){return Jy[a]},Ko.prototype.processNonAutoResendRegisteredPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=g.sent();try{for(s=jn(a),l=s.next();!l.done;l=s.next())(d=l.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",d.reqId),d.sendingStatus=ar.FAILED,d.errorCode=Zn.ACK_TIMEOUT,this._dispatcher.dispatch(new ka({messages:[d],source:ri.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}}return[2]}})})},Ko.prototype.processAutoResendRegisteredPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=w.sent();try{for(s=jn(a),l=s.next();!l.done;l=s.next())(d=l.value).errorCode&&im(d.errorCode)&&(p=new Date().getTime(),m=d.createdAt+2592e5,p<=m?this._autoResendQueue.map(function(O){return O.reqId}).indexOf(d.reqId)<0&&this._autoResendQueue.push(d):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(m).toLocaleString()),d.sendingStatus=ar.FAILED,this._dispatcher.dispatch(new ka({messages:[d],source:ri.LOCAL_MESSAGE_FAILED}))))}catch(O){g={error:O}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2]}})})},Ko.prototype.completeCurrentAndProcessNextAutoResend=function(a){this._localCacheEnabled&&(a.sendingStatus===ar.SUCCEEDED||a.sendingStatus===ar.FAILED&&!im(a.errorCode))&&(0<=(a=this.indexOf(a))&&this._autoResendQueue.splice(a,1),a===0&&this._processNextAutoResend())},Ko.prototype._fetchAllCachedPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return(a=nO.of(this._iid))?[4,a.fetch({sendingStatus:ar.PENDING,backward:!0})]:[3,2];case 1:return s=l.sent(),[3,3];case 2:s=[],l.label=3;case 3:return[2,s]}})})},Ko.prototype.indexOf=function(a){return 0<this._autoResendQueue.length?this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId):-1},Ko.prototype._isNotInQueue=function(a){return this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId)===-1},Ko.prototype._processNextAutoResend=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{0<this._autoResendQueue.length?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),a=this._autoResendQueue[0],this._dispatcher.dispatch(new NY({message:a})),this._logger.debug("processing auto-resend for message request id: ",a.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(l){this._logger.warn("process auto-resend error: ",l),this._isProcessingAutoResend=!1}return[2]})})},Ko);function Ko(a,m){var l=m.localCacheEnabled,d=m.dispatcher,p=m.sdkState,m=m.logger,g=this;(Jy[a]=this)._iid=a,(Jy[a]=this)._localCacheEnabled=l,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=d,this._logger=m,this._sdkState=p,this._localCacheEnabled&&d.on(function(b){if(b instanceof Td)switch(b.stateType){case Zt.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case Zt.DISCONNECTED:g._isProcessingAutoResend=!1}})}function iO(s){var s=s.message,l=X4.call(this)||this;return l.message=s,l}function ai(a,p){var l=p.sdkState,d=p.cacheContext,p=p.unsentMessageCache,m=J4.call(this,a)||this;return m._sdkState=l,m._cacheContext=d,m._unsentMessageCache=p,tO[a]=m}function $i(a,d){var l=d.sdkState,d=d.cacheContext,p=Z4.call(this,a)||this;return p._sdkState=l,p._cacheContext=d,eO[a]=p}(Gr=Xy=Xy||{})[Gr.USER_BLOCK=20001]="USER_BLOCK",Gr[Gr.USER_UNBLOCK=2e4]="USER_UNBLOCK",Gr[Gr.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED",Zy.getDataAsUserBlockEvent=function(a,d){var d=d.data,l=d.blocker,d=d.blockee;return{blocker:new Qn(a,l),blockee:new Qn(a,d)}},Zy.getDataAsFriendDiscoveredEvent=function(a,s){return s=s.data.friend_discoveries,{friendDiscoveries:Array.isArray(s)?s.map(function(l){return new Qn(a,l)}):[]}};var aO,sO,oO,lO,uO,cO,dO=Zy,TY=(Y(vO,cO=_i),vO),IY=(Y(gO,uO=cr),gO),OY=(Y(mO,lO=Ye),mO),AY=(Y(fO,oO=en),fO),RY=(Y(pO,sO=Ye),pO),MY=(Y(hO,aO=en),hO);function hO(a,s){return a=aO.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function pO(l){var s=l.userId,l=l.pushTriggerOption,d=sO.call(this)||this;return d.method=We.PUT,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),d.params={push_trigger_option:l},d}function fO(a,s){return a=oO.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function mO(s){var s=s.userId,l=lO.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),l}function gO(a,s,l){return a=uO.call(this,a,"USEV",l)||this,a.event=new dO(l),a}function vO(a,l){var l=l.userId,d=cO.call(this)||this;return d._iid=a,d.userId=l,d}function Zy(a){this.category=a.cat,this.data=a.data}var e1,_O,bO,yO,EO,wO,DY={profileImage:null,profileUrl:null,nickname:null},UY=(Y(function(){return e1!==null&&e1.apply(this,arguments)||this},e1=ut),Y(Pd,EO=sm),Object.defineProperty(Pd.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),Pd.prototype._toggleState=function(){var a=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){a._pauseDelayTimer=null,a.dispatch("pause")},3e4)),this._currentState=document.visibilityState},Pd.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},Pd.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},Pd),LY=(Object.defineProperty(lc.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),lc.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},lc.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},lc.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},lc.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},lc.prototype.isOnline=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(s,l){fetch("https://www.google.com",{method:We.GET}).then(function(){return s(!0)}).catch(function(){return s(!1)})})]})})},lc),xO=(Y(NO,yO=Ye),NO),kO=(Y(SO,bO=en),SO),PY=(Y(CO,_O=Ye),CO);function CO(l){var s=l.userId,l=l.token,d=_O.call(this)||this;return d.method=We.POST,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/apns"),d.params={apns_device_token:l,always_push:!0},d}function SO(a,s){var l=bO.call(this,a,s)||this;return l.user=null,l.user=new Qn(a,pe({},s)),l}function NO(m){var s=m.userId,l=m.nickname,l=l===void 0?null:l,d=m.profileUrl,d=d===void 0?null:d,p=m.profileImage,p=p===void 0?null:p,m=m.preferredLanguages,m=m===void 0?null:m,g=yO.call(this)||this;return g.method=We.PUT,g.path="".concat(Ct,"/").concat(encodeURIComponent(s)),g.params=$n({nickname:l,profile_url:d,profile_file:p,preferred_languages:m}),g}function lc(l){var s=l.logger,l=l.connectionDelegate,l=l===void 0?null:l;this.logger=s,l&&(this.connectionDelegate=l),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}function Pd(){var a=EO.call(this)||this;return a._pauseDelayTimer=null,a._currentState="visible",a._toggleState=a._toggleState.bind(a),a}Y(function(a,s){var l=wO.call(this,a,s)||this;return l.token=s.token,l.type=s.type?Xa[s.type.toLowerCase()]:Xa.UNKNOWN,l.user=new Qn(a,s.user),l},wO=en),Y(OO,TO=Ye);var TO,IO,FY=OO;function OO(l){var s=l.userId,l=l.token,d=TO.call(this)||this;return d.method=We.POST,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/gcm"),d.params={gcm_reg_token:l,always_push:!0},d}Y(function(a,s){var l=IO.call(this,a,s)||this;return l.token=s.token,l.type=s.type?Xa[s.type.toLowerCase()]:Xa.UNKNOWN,l.user=new Qn(a,s.user),l},IO=en),Y(MO,AO=Ye);var AO,RO,HY=MO;function MO(l){var s=l.userId,l=l.token,d=AO.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/apns/").concat(encodeURIComponent(l)),d}Y(function(a,s){var l=RO.call(this,a,s)||this;return l.token=s.token,l.user=new Qn(a,s.user),l},RO=en),Y(LO,DO=Ye);var DO,UO,qY=LO;function LO(l){var s=l.userId,l=l.token,d=DO.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/gcm/").concat(encodeURIComponent(l)),d}Y(function(a,s){var l=UO.call(this,a,s)||this;return l.token=s.token,l.user=new Qn(a,s.user),l},UO=en),Y(HO,PO=Ye);var PO,FO,BY=HO;function HO(s){var s=s.userId,l=PO.call(this)||this;return l.method=We.DELETE,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/apns"),l}Y(function(a,s){var l=FO.call(this,a,s)||this;return l.type=s.type?Xa[s.type.toLowerCase()]:Xa.UNKNOWN,l.user=new Qn(a,s.user),l},FO=en),Y(GO,qO=Ye);var qO,BO,GY=GO;function GO(s){var s=s.userId,l=qO.call(this)||this;return l.method=We.DELETE,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/gcm"),l}Y(function(a,s){var l=BO.call(this,a,s)||this;return l.type=s.type?Xa[s.type.toLowerCase()]:Xa.UNKNOWN,l.user=new Qn(a,s.user),l},BO=en),Y(bA,rA=Ye);var $O,zO,jO,VO,WO,KO,QO,YO,XO,JO,ZO,eA,nA,tA,rA,iA,$Y=bA,zY=(Y(_A,tA=en),_A),jY=(Y(vA,nA=Ye),vA),VY=(Y(gA,eA=en),gA),WY=(Y(mA,ZO=Ye),mA),KY=(Y(fA,JO=en),fA),QY=(Y(pA,XO=Ye),pA),YY=(Y(hA,YO=en),hA),XY=(Y(dA,QO=Ye),dA),JY=(Y(cA,KO=en),cA),ZY=(Y(uA,WO=Ye),uA),eX=(Y(lA,VO=en),lA),nX=(Y(oA,jO=Ye),oA),tX=(Y(sA,zO=en),sA),rX=(Y(aA,$O=Ye),aA);function aA(l){var s=l.userId,l=l.blockedUserId,d=$O.call(this)||this;return d.method=We.POST,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/block"),d.params={target_id:l},d}function sA(a,s){return a=zO.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function oA(p){var s=p.userId,l=p.snoozeOn,d=p.startTs,p=p.endTs,m=jO.call(this)||this;return m.method=We.PUT,m.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),m.params={snooze_enabled:l,snooze_start_ts:d,snooze_end_ts:p},m}function lA(a,s){return a=VO.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function uA(s){var s=s.userId,l=WO.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),l}function cA(a,s){return a=KO.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function dA(b){var s=b.userId,l=b.doNotDisturbOn,d=b.startHour,p=b.startMin,m=b.endHour,g=b.endMin,b=b.timezone,w=QO.call(this)||this;return w.method=We.PUT,w.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),w.params={do_not_disturb:l,start_hour:d,start_min:p,end_hour:m,end_min:g,timezone:b},w}function hA(a,s){return a=YO.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function pA(s){var s=s.userId,l=XO.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push_preference"),l}function fA(a,s){return a=JO.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function mA(l){var s=l.userId,l=l.willAutoAccept,d=ZO.call(this)||this;return d.method=We.PUT,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),d.params={auto_accept:l},d}function gA(a,s){return a=eA.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function vA(s){var s=s.userId,l=nA.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),l}function _A(a,s){return a=tA.call(this,a,s)||this,a.pushTokens={type:s.type?Xa[s.type.toLowerCase()]:Xa.UNKNOWN,deviceTokens:s.device_tokens,hasMore:s.has_more,token:s.token},a}function bA(p){var s=p.userId,l=p.type,d=p.token,p=p.ts,m=rA.call(this)||this;return m.method=We.GET,m.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/").concat(encodeURIComponent(l),"/device_tokens"),m.params={created_ts:p,token:d},m}Y(function(a,s){var l=iA.call(this,a,s)||this;return l.user=new Qn(a,s),l},iA=en),Y(EA,yA=Ye);var yA,n1,iX=EA;function EA(l){var s=l.userId,l=l.unblockedUserId,d=yA.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/block/").concat(encodeURIComponent(l)),d}Y(function(){return n1!==null&&n1.apply(this,arguments)||this},n1=en),Y(HA,OA=Ye);var wA,xA,kA,CA,SA,NA,TA,IA,OA,t1,aX=HA,sX=(Y(FA,IA=en),FA),oX=(Y(PA,TA=Ye),PA),lX=(Y(LA,NA=en),LA),uX=(Y(UA,SA=Ye),UA),cX=(Y(DA,CA=en),DA),dX=(Y(MA,kA=Ye),MA),hX=(Y(RA,xA=en),RA),pX=(Y(AA,wA=Ye),AA);function AA(l){var s=l.userId,l=l.discoveryKeys,d=wA.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friend_discoveries"),d.params={friend_discovery_keys:l},d}function RA(a,s){return a=xA.call(this,a,s)||this,a.friendDiscoveryRequestId=s.friend_discovery_request_id,a}function MA(l){var s=l.userId,l=l.discoveries,d=kA.call(this)||this;return d.method=We.PUT,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friend_discoveries"),d.params={friend_discoveries:l.map(function(p){return{friend_discovery_key:p.friendDiscoveryKey,friend_name:p.friendName}})},d}function DA(a,s){var l=CA.call(this,a,s)||this;return l.changelogs={addedUsers:s.added.map(function(d){return new Qn(a,d)}),updatedUsers:s.updated.map(function(d){return new Qn(a,d)}),deletedUserIds:s.deleted,hasMore:s.has_more,token:s.next},l}function UA(l){var s=l.userId,l=l.token,d=SA.call(this)||this;return d.method=We.GET,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friends/changelogs"),d.params={token:l},d}function LA(a,s){return a=NA.call(this,a,s)||this,a.name=s.name,a}function PA(l){var s=l.userId,l=l.templateName,d=TA.call(this)||this;return d.method=We.PUT,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/template"),d.params={name:l},d}function FA(a,s){return a=IA.call(this,a,s)||this,a.name=s.name,a}function HA(s){var s=s.userId,l=OA.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/push/template"),l}Y(function(){return t1!==null&&t1.apply(this,arguments)||this},t1=en),Y(jA,GA=Ye);var qA,BA,GA,r1,fX=jA,mX=(Y(zA,BA=en),zA),gX=(Y($A,qA=Ye),$A);function $A(l){var s=l.userId,l=l.userIds,d=qA.call(this)||this;return d.method=We.DELETE,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friends"),d.params={user_ids:l},d}function zA(a,s){var l=BA.call(this,a,s)||this;return l.users=s.users.map(function(d){return new Qn(a,d)}),l}function jA(l){var s=l.userId,l=l.userIds,d=GA.call(this)||this;return d.method=We.POST,d.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friends"),d.params={user_ids:l},d}Y(function(){return r1!==null&&r1.apply(this,arguments)||this},r1=en),Y(XA,KA=Ye);var VA,WA,KA,i1,vX=XA,_X=(Y(YA,WA=en),YA),bX=(Y(QA,VA=Ye),QA);function QA(l){var s=l.userId,l=l.allowFriendDiscovery,d=VA.call(this)||this;return d.method=We.PUT,d.path="".concat(Ct,"/").concat(s,"/allow_friend_discovery"),d.params={allow_friend_discovery:l},d}function YA(a,s){return a=WA.call(this,a,s)||this,a.allowFriendDiscovery=s.allow_friend_discovery,a}function XA(s){var s=s.userId,l=KA.call(this)||this;return l.method=We.GET,l.path="".concat(Ct,"/").concat(s,"/allow_friend_discovery"),l.params={},l}Y(function(){return i1!==null&&i1.apply(this,arguments)||this},i1=en);function yX(a){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=a.emoji_hash||"",this.emojiCategories=a.emoji_categories?a.emoji_categories.map(function(s){return new dR(s)}):[]}var Bt,Im,JA,ZA,a1,eR,nR,s1,tR,rR,iR,aR,sR,oR,lR,uR,cR=function(a){this.key=null,this.url=null,this.key=a.key,this.url=a.url},dR=function(a){var s;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(s=a.id)!=null?s:0,this.name=(s=a.name)!=null?s:"",this.url=(s=a.url)!=null?s:"",this.emojis=a.emojis?a.emojis.map(function(l){return new cR(l)}):[]},EX=(Y(kR,uR=Ye),kR),wX=(Y(xR,lR=en),xR),xX=(Y(wR,oR=Ye),wR),kX=(Y(ER,sR=en),ER),CX=(Y(yR,aR=Ye),yR),SX=(Y(bR,iR=en),bR),NX=(Y(_R,rR=Ye),_R),TX=(Y(vR,tR=en),vR),IX=(Y(Dm,s1=rn),Dm.prototype._validate=function(){return s1.prototype._validate.call(this)&&bt("string",this.userIdsFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)&&bt("string",this.metaDataValuesFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)},Dm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new NX(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(TX),l=s.users,d=s.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Dm),OX=(Y(gR,nR=Ye),gR),AX=(Y(mR,eR=en),mR),RX=(Y(Mm,a1=rn),Mm.prototype._validate=function(){return a1.prototype._validate.call(this)&&bt("string",this.userIdsFilter,!0)},Mm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new OX(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(AX),l=s.users,d=s.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Mm),MX=(Y(fR,ZA=Ye),fR),DX=(Y(pR,JA=en),pR),UX=(Y(Rm,Im=rn),Rm.prototype._validate=function(){return Im.prototype._validate.call(this)},Rm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new MX(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(DX),l=s.users,d=s.hasMore,p=s.next,this._token=p,this._hasNext=d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},Rm),Om={},Am=(hR.get=function(a){return Om[a]},hR);function hR(w){var s=w.dbname,l=w.itemSizeLimit,d=w.cacheLimit,d=d===void 0?256:d,p=w.blockHashBase,p=p===void 0?2:p,m=w.blockHashMultiplier,m=m===void 0?10:m,g=w.blockHashConstant,g=g===void 0?11:g,b=w.transactionApplyDelay,b=b===void 0?200:b,w=w.disableLogger,w=w!==void 0&&w;return Om[s]||(this.itemSizeLimit=l===void 0?1048576:l,this.cacheLimit=d,this.blockHashBase=p,this.blockHashMultiplier=m,this.blockHashConstant=g,this.transactionApplyDelay=b,this.disableLogger=w,Om[s]=this),Om[s]}function Rm(){return Im!==null&&Im.apply(this,arguments)||this}function pR(a,s){var l=JA.call(this,a,s)||this;return l.hasMore=s.has_more,l.users=s.users.map(function(d){return new Qn(a,d)}),l.next=s.next,l}function fR(d){var s=d.userId,l=d.limit,d=d.token,p=ZA.call(this)||this;return p.method=We.GET,p.path="".concat(Ct,"/").concat(encodeURIComponent(s),"/friends"),p.params={limit:l,token:d},p}function Mm(a,s){var l=this;return(l=a1.call(this,a,s)||this).userIdsFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l}function mR(a,s){var l=eR.call(this,a,s)||this;return l.users=s.users.map(function(d){return new Qn(a,d)}),l.next=s.next,l}function gR(p){var s=p.userId,l=p.limit,d=p.token,p=p.userIdsFilter,m=nR.call(this)||this;return m.method=We.GET,m.path="".concat(Ct,"/").concat(s,"/block"),m.params=$n({limit:l,token:d,user_ids:p}),m}function Dm(a,s){var l=this;return(l=s1.call(this,a,s)||this).userIdsFilter=null,l.metaDataKeyFilter=null,l.metaDataValuesFilter=null,l.nicknameStartsWithFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l.metaDataKeyFilter=(a=s.metaDataKeyFilter)!=null?a:null,l.metaDataValuesFilter=(a=s.metaDataValuesFilter)!=null?a:null,l.nicknameStartsWithFilter=s.nicknameStartsWithFilter||null,l}function vR(a,s){var l=tR.call(this,a,s)||this;return l.users=s.users.map(function(d){return new Qn(a,d)}),l.next=s.next,l}function _R(g){var s=g.limit,l=g.token,d=g.userIdsFilter,p=g.metaDataKeyFilter,m=g.metaDataValuesFilter,g=g.nicknameStartsWithFilter,b=rR.call(this)||this;return b.method=We.GET,b.path=Ct,b.params=$n({limit:s,token:l,user_ids:d,metadatakey:p,metadatavalues_in:m,nickname_startswith:g}),b}function bR(a,s){return a=iR.call(this,a,s)||this,a.emoji=new cR(s),a}function yR(s){var s=s.key,l=aR.call(this)||this;return l.method=We.GET,l.path="".concat(VK,"/").concat(s),l}function ER(a,s){return a=sR.call(this,a,s)||this,a.emojiCategory=new dR(s),a}function wR(s){var s=s.categoryId,l=oR.call(this)||this;return l.method=We.GET,l.path="".concat(FN,"/").concat(s),l}function xR(a,s){return a=lR.call(this,a,s)||this,a.emojiContainer=new yX(s),a}function kR(){var a=uR.call(this)||this;return a.method=We.GET,a.path=FN,a}(Xe=Bt=Bt||{})[Xe.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",Xe[Xe.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",Xe[Xe.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",Xe[Xe.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",Xe[Xe.STORE_IS_FULL=61001003]="STORE_IS_FULL",Xe[Xe.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",Xe[Xe.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",Xe[Xe.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",Xe[Xe.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",Xe[Xe.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",Xe[Xe.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",Xe[Xe.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",Xe[Xe.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",Xe[Xe.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",Xe[Xe.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",Xe[Xe.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",Xe[Xe.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",Xe[Xe.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",Xe[Xe.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",Xe[Xe.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",Xe[Xe.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",Xe[Xe.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",Xe[Xe.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",Xe[Xe.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",Xe[Xe.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND",Y(Ln,CR=Error),Object.defineProperty(Ln,"storeNotDefined",{get:function(){return new Ln({code:Bt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeNotAvailable",{get:function(){return new Ln({code:Bt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeNotAvailableInPrivateBrowsing",{get:function(){return new Ln({code:Bt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeIsFull",{get:function(){return new Ln({code:Bt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeKeyTypeIsInvalid",{get:function(){return new Ln({code:Bt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeBrokenIntegrity",{get:function(){return new Ln({code:Bt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeBrokenBlob",{get:function(){return new Ln({code:Bt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeEncryptionInvalid",{get:function(){return new Ln({code:Bt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeItemSizeExceeded",{get:function(){return new Ln({code:Bt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeReadFailed",{get:function(){return new Ln({code:Bt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"storeWriteFailed",{get:function(){return new Ln({code:Bt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"databaseSchemaNotOnUpgrade",{get:function(){return new Ln({code:Bt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionNotReady",{get:function(){return new Ln({code:Bt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionKeyNotMatch",{get:function(){return new Ln({code:Bt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionQueryNotValid",{get:function(){return new Ln({code:Bt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionInsertDuplicate",{get:function(){return new Ln({code:Bt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionKeyNotFound",{get:function(){return new Ln({code:Bt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionKeyNotGiven",{get:function(){return new Ln({code:Bt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionWriteFailed",{get:function(){return new Ln({code:Bt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"collectionItemSizeExceeded",{get:function(){return new Ln({code:Bt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"indexTableIsRequired",{get:function(){return new Ln({code:Bt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"indexTypesNotMatch",{get:function(){return new Ln({code:Bt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"compareTypesNotMatch",{get:function(){return new Ln({code:Bt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(Ln,"circularReferenceFound",{get:function(){return new Ln({code:Bt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0});var Fd,CR,mt=Ln;function Ln(l){var s=l.code,s=s===void 0?Bt.UNKNOWN_ERROR:s,l=l.message,l=CR.call(this,l===void 0?"Unknown error occurred.":l)||this;return l.code=s,Object.setPrototypeOf(l,Ln.prototype),l}(It=Fd=Fd||{}).INIT="init",It.READY="ready",It.CLOSED="closed";function ua(a,s){if(s===void 0&&(s=new WeakMap),typeof a!="object"||a===null)return a;if(s.has(a))throw mt.circularReferenceFound;s.set(a,!0);var l=null;if(Array.isArray(a))l=a.map(function(p){return ua(p,s)});else if(a instanceof RegExp)l=a;else if(a instanceof Date)l=a;else for(var d in l={},a)l[d]=ua(a[d],s);return s.delete(a),l}function Qo(a,s){if(s==null)return 1;if(a==null)return-1;if(typeof a!=typeof s)throw mt.compareTypesNotMatch;var l=0;switch(typeof a){case"boolean":case"number":l=a-s;break;case"string":l=a.localeCompare(s)}return l}function Hd(a){return new Promise(function(s){setTimeout(function(){return s()},a)})}function uc(a,s){if(s){if(typeof a=="function")return a(s);for(var l in a)if(["/and","&&"].includes(l)){if(a[l].some(function(w){return!uc(w,s)}))return}else if(["/or","||"].includes(l)){if(a[l].every(function(w){return!uc(w,s)}))return}else if(l==="/where"){if(!(0,a[l])(s))return}else{var d=l;if(typeof a[d]=="object"){var p,m=a[d];for(p in m)switch(p){case"/eq":case"=":if((g=s[d])!==(b=m[p]))return;break;case"/neq":case"!=":if((g=s[d])===(b=m[p]))return;break;case"/gt":case">":var g=s[d],b=m[p];if(0<Qo(g,b))break;return;case"/gte":case">=":if(g=s[d],b=m[p],0<=Qo(g,b))break;return;case"/lt":case"<":if(g=s[d],b=m[p],Qo(g,b)<0)break;return;case"/lte":case"<=":if(g=s[d],b=m[p],Qo(g,b)<=0)break;return;case"/in":if(g=s[d],(b=m[p]).includes(g))break;return;case"/nin":if(g=s[d],(b=m[p]).includes(g))return;break;case"/contain":if(g=s[d],b=m[p],g.includes(b))break;return;case"/regex":if(g=s[d],(b=m[p]).test(g))break;return;case"/where":if(g=s[d],!(0,m[p])(g))return}}else if(typeof a[d]=="function"){if(!a[d](s[d]))return}else if(a[d]!==s[d])return}return 1}}function Um(){}function SR(){return Promise.resolve()}function LX(a){return a}function NR(a,s){s(null)}var TR=function(a,s){for(var l=0,d=0;d<a.length;d++)l=a.charCodeAt(d)+(l<<6)+(l<<16)-l;return(l>>>0)%s};function o1(a,s){return"".concat(dc(a,s),".metadata")}function l1(a,s){return"".concat(dc(a,s),"/block.")}function IR(a,s){return"".concat(dc(a,s),"/blob.")}function u1(a,s,l,d){return d===void 0&&(d=0),"".concat(IR(a,s)).concat(l,".").concat(d)}Object.defineProperty(Yo.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(Yo.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(Yo.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(Yo.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(Yo.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),Yo.prototype.prev=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:if(!this.hasPrevious)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),a=this._prevValue,[4,(s=this)._backward()];case 2:return s._prevValue=d.sent()||null,this._nextValue=a,[3,4];case 3:return l=d.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},Yo.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:if(!this.hasNext)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),a=this._nextValue,[4,(s=this)._forward()];case 2:return s._nextValue=d.sent()||null,this._prevValue=a,[3,4];case 3:return l=d.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},Yo.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()};var cc,wi,bo,PX=Yo,c1=(p1.prototype.findOptimizedStartPosition=function(){var a=this,s=["=","/eq",">",">=","/gt","/gte"],l=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var d=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var m=this._indexer.fields[p],g=1;if(m[0]==="-"&&(m=m.slice(1),g=-1),this.condition[m]){if(typeof this.condition[m]=="object"){var b,w=0<g?l:s;for(b in this.condition[m])if(w.includes(b)){for(var O=d;0<=O;O--)if(g*Qo(this._indexer.origin[O].columnValues[p],this.condition[m][b])<=0){d=O;break}}}else for(O=d;0<=O;O--)if(g*Qo(this._indexer.origin[O].columnValues[p],this.condition[m])<=0){d=O;break}}}return Math.min(d+1,this._indexer.origin.length-1)}var L=0;if(typeof this.condition!="function")for(var q=this,p=0;p<this._indexer.fields.length;p++)(function(te){var ae=q._indexer.fields[te],Ne=1;if(ae[0]==="-"&&(ae=ae.slice(1),Ne=-1),q.condition[ae]){if(typeof q.condition[ae]=="object")Object.keys(q.condition[ae]).forEach(function(se){if((0<Ne?s:l).includes(se)){for(var _e=L;_e<a._indexer.origin.length;_e++)if(0<=Ne*Qo(a._indexer.origin[_e].columnValues[te],a.condition[ae][se])){L=_e;break}}});else for(var Q=L;Q<q._indexer.origin.length;Q++)if(0<=Ne*Qo(q._indexer.origin[Q].columnValues[te],q.condition[ae])){L=Q;break}}})(p);return Math.max(L-1,0)},p1.prototype.each=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w=this;return F(this,function(O){switch(O.label){case 0:if(s=this.findOptimizedStartPosition(),l=0,this.backward&&this._indexer.origin[s]&&(l=this._indexer.origin[s].keys.length-1),d=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[++l]){if(!w._indexer.origin[++s])return!1;l=0}return!0}return!1},p=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[--l]){if(!w._indexer.origin[--s])return!1;l=w._indexer.origin[s].keys.length-1}return!0}return!1},m=null,!this._indexer.origin[s])return[3,4];g=this.backward?p:d,O.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])];case 2:if(b=O.sent(),uc(this.condition,b))return m=b,[3,4];O.label=3;case 3:if(g())return[3,1];O.label=4;case 4:return[4,new Promise(function(L){L=new PX({initialNextValue:ua(m),iterator:a,forward:function(){return P(w,void 0,void 0,function(){var q,G;return F(this,function(te){switch(te.label){case 0:q=this.backward?p:d,te.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=te.sent(),uc(this.condition,G)?[2,ua(G)]:[3,1];case 3:return[2,null]}})})},backward:function(){return P(w,void 0,void 0,function(){var q,G;return F(this,function(te){switch(te.label){case 0:q=this.backward?d:p,te.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=te.sent(),uc(this.condition,G)?[2,ua(G)]:[3,1];case 3:return[2,null]}})})},complete:L}),a(L)})];case 5:return[2,O.sent()]}})})},p1),FX=(h1.prototype.fetch=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:if(s=Math.max(a.offset||0,0),(l=typeof a.limit=="number"?a.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(l<0)throw mt.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),d=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return P(m,void 0,void 0,function(){return F(this,function(w){return!b.error&&b.hasNext?s===0?(d.push(b.nextValue),0<l&&l<=d.length?b.stop():b.next()):(s--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,d];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},h1.prototype.count=function(){return P(this,void 0,void 0,function(){var a,s,l=this;return F(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),a=0,[4,this._mutex.lock()];case 1:return d.sent(),[4,this._iterator.each(function(p){return P(l,void 0,void 0,function(){return F(this,function(m){return!p.error&&p.hasNext?(a++,p.next()):p.stop(),[2]})})})];case 2:return d.sent(),this._mutex.unlock(),[2,a];case 3:throw s=d.sent(),this._mutex.unlock(),s;case 4:return[2]}})})},h1),d1=function(a){return"".concat("nest","@").concat(a)},dc=function(a,s){return"".concat(d1(a),"/").concat(s)},HX=(Ql.prototype._makeShards=function(a,s){var l=Math.max(this._store.itemSizeLimit-1024,0);if(0<l){for(var d=Math.ceil(a.data.length/l),d="".concat(d,".").concat(a.type,".").concat(s),p=[],m=0;m<a.data.length;m+=l){var g=a.data.slice(m,m+l);p.push(g)}return{blobId:d,shards:p}}return{blobId:null,shards:null}},Ql.prototype._encode=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l){var d=new FileReader;d.onload=function(){l({data:d.result,type:a.type})},d.readAsDataURL(a)})];case 1:return[2,s.sent()]}})})},Ql.prototype._decode=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(a.data)];case 1:return[4,b.sent().blob()];case 2:return[2,b.sent()];case 3:for(s=[],l=atob(a.data.split(",")[1]),d=0;d<l.length;d+=512){for(p=l.slice(d,d+512),m=new Array(p.length),g=0;g<p.length;g++)m[g]=p.charCodeAt(g);s.push(new Uint8Array(m))}return[2,new Blob(s,{type:a.type})]}})})},Ql.prototype.get=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(s=[],l=rr(a.split("."),2),d=l[0],l=l[1],!(0<(d=parseInt(d))))return[3,6];p=0,g.label=1;case 1:return p<d?(m=u1(this.dbname,this.collectionName,a,p),[4,this._store.get(m)]):[3,4];case 2:if(!(m=g.sent())||!m.d)throw mt.storeBrokenBlob;s.push(m.d),g.label=3;case 3:return p++,[3,1];case 4:return[4,this._decode({data:s.join(""),type:l})];case 5:return[2,g.sent()];case 6:return[2,null]}})})},Ql.prototype.save=function(a,s){return s===void 0&&(s="".concat(Date.now())),P(this,void 0,void 0,function(){var l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return l=[],[4,this._encode(a)];case 1:if(d=w.sent(),d=this._makeShards(d,s),p=d.blobId,m=d.shards,!p)return[3,3];for(g=0;g<m.length;g++)b=u1(this.dbname,this.collectionName,p,g),l.push({key:b,value:{d:m[g]},generation:1});return[4,this._store.setMany(l)];case 2:if(w.sent().some(function(O){return O instanceof Error}))throw mt.storeWriteFailed;return[2,p];case 3:return[2,null]}})})},Ql.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:if(s=[],l=rr(a.split("."),1),l=l[0],!(0<(d=parseInt(l))))return[3,2];for(p=0;p<d;p++)s.push(u1(this.dbname,this.collectionName,a,p));return[4,this._store.removeMany(s)];case 1:m.sent(),m.label=2;case 2:return[2]}})})},Ql.prototype.clear=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return a=IR(this.dbname,this.collectionName),s=[],[4,this._store.getAllKeys()];case 1:l=w.sent();try{for(d=jn(l),p=d.next();!p.done;p=d.next())(m=p.value).startsWith(a)&&s.push(m)}catch(O){g={error:O}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[4,this._store.removeMany(l)];case 2:return w.sent(),[2]}})})},Ql);function Ql(d){var s=d.dbname,l=d.collectionName,d=d.store;this.dbname=s,this.collectionName=l,this._store=d}function h1(m){var s=m.condition,s=s===void 0?{}:s,l=m.backward,l=l!==void 0&&l,d=m.mutex,p=m.blockManager,m=m.indexer;this._mutex=d,this._iterator=new c1({condition:s,backward:l,blockManager:p,indexer:m})}function p1(p){var s=p.condition,l=p.backward,l=l!==void 0&&l,d=p.blockManager,p=p.indexer;this.condition=s===void 0?{}:s,this.backward=l,this._blockManager=d,this._indexer=p}function Yo(b){var s=b.initialPrevValue,l=b.initialNextValue,l=l===void 0?null:l,d=b.iterator,p=b.map,p=p===void 0?LX:p,m=b.backward,m=m===void 0?SR:m,g=b.forward,g=g===void 0?SR:g,b=b.complete,b=b===void 0?Um:b;this._prevValue=s===void 0?null:s,this._nextValue=l,this._error=null,this._map=p,this._backward=m,this._forward=g,this._iterator=d,this._complete=b}(Jt=cc=cc||{})[Jt.COMMIT=0]="COMMIT",Jt[Jt.WRITE=1]="WRITE",Jt[Jt.ERROR=2]="ERROR",(fr=wi=wi||{}).PENDING="pending",fr.PERSISTENT="persistent",fr.VOLATILE="volatile",(pt=bo=bo||{})[pt.NO_CACHE=0]="NO_CACHE",pt[pt.DEFAULT=1]="DEFAULT",pt[pt.PERSISTENT=2]="PERSISTENT";var OR=[wi.PENDING,wi.VOLATILE],Lm={},ps=(Jo.get=function(a){return Lm[a]},Object.defineProperty(Jo.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Jo.prototype.find=function(a,s,l){return l===void 0&&(l=bo.DEFAULT),P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return(d=this.get(s))?[3,2]:[4,a.get(s)];case 1:return(p=m.sent())&&(d={key:s,value:p,generation:1,state:l===bo.PERSISTENT?wi.PERSISTENT:wi.VOLATILE},this.put(d)),[3,3];case 2:l===bo.PERSISTENT&&(d.state=wi.PERSISTENT),m.label=3;case 3:return[2,d]}})})},Jo.prototype.get=function(l,s){s===void 0&&(s=bo.DEFAULT);var l=this._items.map(function(d){return d.key}).indexOf(l);return-1<l?(l=this._items[l],s===bo.PERSISTENT&&(l.state=wi.PERSISTENT),s!==bo.NO_CACHE&&this.put(l),l):null},Jo.prototype.put=function(a){var s,l;if(0<this._limit){var d=this._items.map(function(O){return O.key}).indexOf(a.key);if(-1<d)OR.includes(this._items[d].state)&&OR.includes(a.state)?(this._items.splice(d,1),this._items.push(a)):(this._items[d].state=a.state,this._items[d].generation=a.generation,this._items[d].value=a.value);else{this._items.push(a);var p=this._items.filter(function(O){return O.state===wi.VOLATILE}).length-this._limit;if(0<p){var m=[];try{for(var g=jn(this._items),b=g.next();!b.done;b=g.next()){var w=b.value;w.state===wi.VOLATILE&&0<p?p--:m.push(w)}}catch(O){s={error:O}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}this._items=m}}}},Jo.prototype.remove=function(a){a=this._items.map(function(s){return s.key}).indexOf(a),-1<a&&this._items.splice(a,1)},Jo.prototype.clearByCondition=function(a){this._items=this._items.filter(function(s){return!a(s)})},Jo.prototype.clear=function(a){this._items=(a=a===void 0?!1:a)?[]:this._items.filter(function(s){return s.state!==wi.VOLATILE})},Jo),qX=(Object.defineProperty(fs.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(fs.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),fs.prototype._getReducedRecordset=function(a){return a===void 0&&(a=[]),P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(s=l.sent()||[]).push.apply(s,yr([],rr(a),!1)),[2,this._reduceRecordSet(s)]}})})},fs.prototype._reduceRecordSet=function(a){for(var s=[],l={},d=a.length-1;0<=d;d--){for(var p=a[d],m=[],g=p.requests.length-1;0<=g;g--){var b=p.requests[g],w=b.data;l[w.key]||(m.unshift(b),l[w.key]=!0)}0<m.length&&(p.requests=m,s.unshift(p))}return s},fs.prototype._applyRecord=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w,O;return F(this,function(L){switch(L.label){case 0:l=ps.get(this.dbname),d=s.generation,p=s.requests,m=null,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(q){return pe(pe({},q.data),{generation:d})}))];case 2:for(g=L.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(m=m||g[b],w=p[b].data,l.put(pe(pe({},w),{generation:d,state:wi.PERSISTENT})));return[3,4];case 3:return O=L.sent(),m=O,[3,4];case 4:return m?[3,6]:(O=a.filter(function(q){return q.generation!==d}),[4,this._store.set({key:this.recordsetKey,value:O,generation:d})]);case 5:return L.sent(),this._onWrite.forEach(function(q){q(p.map(function(G){return G.data}))}),[3,7];case 6:this._onError.forEach(function(q){return q(m)}),L.label=7;case 7:return[2]}})})},fs.prototype.init=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return[4,(a=this)._store.get(this.metadataKey)];case 1:return a._metadata=b.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:s=b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),l=jn(s),d=l.next(),b.label=4;case 4:return d.done?[3,7]:(p=d.value,[4,this._applyRecord(s,p)]);case 5:b.sent(),b.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),m={error:p},[3,10];case 9:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(m)throw m.error}return[7];case 10:return[2]}})})},fs.prototype.on=function(a,s,l){switch(a){case cc.COMMIT:this._onCommit.set(s,l);break;case cc.WRITE:this._onWrite.set(s,l);break;case cc.ERROR:this._onError.set(s,l)}},fs.prototype.requestWrite=function(a,s){this._requests.push({data:a,options:s=s===void 0?null:s}),ps.get(this.dbname).put(pe({state:wi.PENDING,generation:this.generation},a))},fs.prototype.requestMultipleWrite=function(a,s){s===void 0&&(s=null);var l,d,p=ps.get(this.dbname);try{for(var m=jn(a),g=m.next();!g.done;g=m.next()){var b=g.value;this._requests.push({data:b,options:s}),p.put(pe({state:wi.PENDING,generation:this.generation},b))}}catch(w){l={error:w}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}},fs.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return ps.get(this.dbname).clearByCondition(function(s){return s.state===wi.PENDING}),this._requests=[],[2]})})},fs.prototype.commit=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,O,L,q=this;return F(this,function(G){switch(G.label){case 0:if(!(0<(a=this._requests).length))return[3,4];for(s=[],l={},b=a.length-1;0<=b;b--)d=a[b],w=d.data,l[w.key]||(l[w.key]=!0,s.unshift(d));return p={generation:this.generation,requests:s},[4,this._getReducedRecordset([p])];case 1:return m=G.sent(),[4,this._store.set({key:this.recordsetKey,value:m,generation:this.generation})];case 2:return G.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(G.sent(),g=ps.get(this.dbname),b=0;b<s.length;b++)O=s[b],w=O.data,O=O.options,g.put(pe(pe({},w),{generation:p.generation,state:O&&O.persistent?wi.PERSISTENT:wi.VOLATILE}));this._requests=[],this._onCommit.forEach(function(te){te(a.map(function(ae){return ae.data}))}),L=Am.get(this.dbname),setTimeout(function(){try{q._applyRecord(m,p)}catch(te){q._onError.forEach(function(ae){return ae(te)})}},L.transactionApplyDelay),G.label=4;case 4:return[2]}})})},fs),Pm=(Bs.createFromCacheItem=function(a){return a?new Bs(a.value):null},Object.defineProperty(Bs.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Bs.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Bs.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},Bs.prototype.getItemByKey=function(a){var s=this;return this._items.find(function(l){return l=l[s.keyName],a===l})},Bs.prototype.has=function(a){var s=this;return this._items.map(function(l){return l[s.keyName]}).includes(a)},Bs.prototype.add=function(a){var s=this,l=this._items.map(function(d){return d[s.keyName]}).indexOf(a[this.keyName]);return l<0?this._items.length<this.limit&&(this._items.push(a),!0):(this._items[l]=a,!0)},Bs.prototype.remove=function(a){for(var s in this._items)if(this._items[s][this.keyName]===a)return this._items.splice(parseInt(s),1),!0;return!1},Bs.prototype.clear=function(){this._items=[]},Bs),BX=(Object.defineProperty(Xl.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),Xl.prototype.createBlockId=function(a,s){return s===void 0&&(s=this.metadata.blockLevel),l=this.dbname,d=this.collectionName,p=s,a="".concat(function(m,g,b){return g=b.base*Math.pow(b.multiplier,g)+b.constant,(b.hashFunction||TR)(m,g)}(a,s,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(l1(l,d)).concat(p,".").concat(a);var l,d,p},Xl.prototype._findBlock=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:s=ps.get(this.dbname),l=this.metadata.blockLevel,m.label=1;case 1:return 0<l?(d=this.createBlockId(a,l),[4,s.find(this._store,d)]):[3,4];case 2:if((d=m.sent())&&(p=Pm.createFromCacheItem(d)).getItemByKey(a))return[2,p];m.label=3;case 3:return l--,[3,1];case 4:return[2,null]}})})},Xl.prototype.getFromBlock=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return[2,(s=l.sent())?s.getItemByKey(a):null]}})})},Xl.prototype.putToBlock=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return d=Am.get(this.dbname),l=this.createBlockId(a),d=Math.floor(this._store.itemSizeLimit/d.itemSizeLimit),[4,ps.get(this.dbname).find(this._store,l)];case 1:return p=m.sent(),(p=p?Pm.createFromCacheItem(p):new Pm({blockId:l,keyName:this.keyName,items:[],limit:d})).add(s)?(this._transaction.requestWrite({key:p.blockId,value:p.serialize()}),[2,!0]):[2,!1]}})})},Xl.prototype.removeFromBlock=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return(s=l.sent())&&s.remove(a)?(this._transaction.requestWrite({key:s.blockId,value:s.serialize()}),[2,!0]):[2,!1]}})})},Xl.prototype.clearAllBlocks=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return a=l1(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return s=w.sent(),s=s.filter(function(O){return O.startsWith(a)}),[4,this._store.removeMany(s)];case 2:w.sent(),l=ps.get(this.dbname);try{for(d=jn(s),p=d.next();!p.done;p=d.next())m=p.value,l.remove(m)}catch(O){g={error:O}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[2]}})})},Xl),Yl=(xi.createKey=function(a){return a.join(">")},xi.parseKey=function(a){return a.split(">")},xi.prototype._addItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),d=rr(this.indexOf(l),2),p=d[0];return d[1]?!this._table[p].keys.includes(s)&&(this._table[p].keys.push(s),!0):(this._table.splice(p,0,{columnValues:l,keys:[s]}),!0)},xi.prototype._removeItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),l=rr(this.indexOf(l),2),d=l[0];return l[1]&&(l=this._table[d].keys.indexOf(s),-1<l)?(this._table[d].keys.splice(l,1),this._table[d].keys.length===0&&this._table.splice(d,1),!0):!1},Object.defineProperty(xi.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(xi.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),xi.prototype.getColumnValues=function(a){var s,l,d=[];try{for(var p=jn(this.fields),m=p.next();!m.done;m=p.next()){var g,b=m.value,w=a[b=b[0]==="-"?b.slice(1):b];if(g=typeof w,w!==null&&g!="undefined"&&g!="boolean"&&g!="number"&&g!="string")throw mt.indexTypesNotMatch;d.push(a[b])}}catch(O){s={error:O}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d},xi.prototype.diff=function(a,s){for(var l in this.fields){var d=this.fields[l][0]==="-"?-1:1,l=Qo(a[l],s[l]);if(l!==0)return d*l}return 0},xi.prototype.indexOf=function(a){if(0<this._table.length){for(var s=0,l=this._table.length-1;s<=l;){var d=Math.floor((s+l)/2),p=this.diff(a,this._table[d].columnValues);if(0<p)s=d+1;else{if(!(p<0))return[d,!0];l=d-1}}return[s,!1]}return[0,!1]},xi.prototype.ensure=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,O,L,q,G,te,ae;return F(this,function(Ne){switch(Ne.label){case 0:return[4,(a=ps.get(this.dbname)).find(this._store,this.indexerKey,bo.PERSISTENT)];case 1:return(s=Ne.sent())?[3,11]:(l=l1(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:d=Ne.sent(),Ne.label=3;case 3:Ne.trys.push([3,8,9,10]),p=jn(d),m=p.next(),Ne.label=4;case 4:return m.done?[3,7]:(g=m.value).startsWith(l)?[4,a.find(this._store,g,bo.NO_CACHE)]:[3,6];case 5:g=Ne.sent(),L=Pm.createFromCacheItem(g);try{for(te=void 0,b=jn(L.items),w=b.next();!w.done;w=b.next())O=w.value,this._addItem(O)}catch(Q){te={error:Q}}finally{try{w&&!w.done&&(ae=b.return)&&ae.call(b)}finally{if(te)throw te.error}}Ne.label=6;case 6:return m=p.next(),[3,4];case 7:return[3,10];case 8:return L=Ne.sent(),q={error:L},[3,10];case 9:try{m&&!m.done&&(G=p.return)&&G.call(p)}finally{if(q)throw q.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=s.value,this._table=ua(this._origin),Ne.label=12;case 12:return[2]}})})},xi.prototype.drop=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return ps.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return a.sent(),[2]}})})},xi.prototype.addItem=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._addItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.removeItem=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._removeItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},xi.prototype.commit=function(){this._origin=this._table,this._table=ua(this._origin)},xi.prototype.abort=function(){this._table=ua(this._origin)},xi),Xo=typeof document<"u"&&typeof navigator<"u";function xi(g){var s=g.dbname,l=g.collectionName,d=g.keyName,p=g.fields,m=g.transaction,g=g.store,b=this;this._origin=[],this._table=[],this.dbname=s,this.collectionName=l,this.keyName=d,this.fields=p,this.indexerKey=(s=this.dbname,l=this.collectionName,d=this.fields.join(">"),"".concat(dc(s,l),"/index.").concat(d)),this._transaction=m,this._store=g,this._transaction.on(cc.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(cc.ERROR,this.indexerKey,function(){return b.abort()})}function Xl(g){var s=g.dbname,l=g.collectionName,d=g.metadata,p=g.hashFunction,p=p===void 0?TR:p,m=g.transaction,g=g.store;this.dbname=s,this.collectionName=l,this.hashFunction=p,this.metadata=d,this._transaction=m,this._store=g}function Bs(p){var s=p.blockId,l=p.keyName,d=p.items,d=d===void 0?[]:d,p=p.limit;this.blockId=s,this.keyName=l,this.limit=p,this._items=yr([],rr(d),!1)}function fs(d){var s=d.dbname,l=d.collectionName,d=d.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=s,this.collectionName=l,this.metadataKey="".concat(dc(s,l),"/trans.metadata"),this.recordsetKey="".concat(dc(s,l),"/trans.recordset"),this._store=d}function Jo(l){var s=l.dbname,l=l.limit,l=l===void 0?256:l;return Lm[s]||(this.dbname=s,this._items=[],this._limit=l,Lm[s]=this),Lm[s]}Xo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var GX=Xo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Xo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Xo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Xo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");function AR(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}var Gp,ki,$X=Xo&&navigator.userAgent&&navigator.userAgent.includes("Edge/");(it=Gp=Gp||{})[it.PROCESSING=0]="PROCESSING",it[it.DONE=1]="DONE",(Nn=ki=ki||{}).NEWNODE="newnode",Nn.REMOVENODE="removenode",Nn.CLAIM_HOST="claimhost",Nn.SYNC_HOST="synchost",Nn.REQUEST_LOCK="requestlock",Nn.ACQUIRE_LOCK="acquirelock",Nn.RELEASE_LOCK="releaselock";var Zo,f1={},RR=(Object.defineProperty(zi.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(zi.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(zi.prototype,"isInSync",{get:function(){return this._state==Gp.DONE},enumerable:!1,configurable:!0}),zi.prototype._send=function(d,s){var l,d={nodeId:this.nodeId,requestId:(l=(s=s===void 0?{}:s)==null?void 0:s.requestId)!=null?l:AR(),key:this.key,op:d,data:(l=s.data)!=null?l:null,ts:Date.now()};return Xo&&window.postMessage(d,"*"),d},zi.prototype._acquire=function(a){(a=a===void 0?null:a)?(this._currentItem=a,this._currentItem.onAcquired(a.requestId)):this._currentItem=null},zi.prototype._release=function(a){var s,l;this._currentItem&&this._currentItem.requestId===a&&(s=this._currentItem,this._currentItem=null,s.nodeId===this.nodeId&&this._send(ki.RELEASE_LOCK,{requestId:s.requestId}),-1<(l=this._queue.findIndex(function(d){return d.requestId===a}))&&this._queue.splice(l,1),s.onReleased(a))},zi.prototype._requestLock=function(a){var s=this;return new Promise(function(l){var d,p={nodeId:a.nodeId,requestId:a.requestId,ts:a.ts,onAcquired:function(g){s.isHost&&s._send(ki.ACQUIRE_LOCK,{requestId:g}),l()},onReleased:function(){s._acquire(s._queue[0])}},m=!1;for(d in s._queue)if(s._queue[d].ts>p.ts){s._queue.splice(parseInt(d),0,p),m=!0;break}m||s._queue.push(p),s._currentItem||s._acquire(s._queue[0])})},zi.prototype._sendSync=function(){var a;this.isHost&&this._send(ki.SYNC_HOST,{data:{currentItemRequestId:(a=this._currentItem)==null?void 0:a.requestId,queue:this._queue.map(function(s){return{nodeId:s.nodeId,requestId:s.requestId,ts:s.ts}})}})},zi.prototype._waitUntilSyncCompleted=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){return this.isHost&&!this.isInSync?[2,new Promise(function(l){a._activationQueue.push(l)})]:[2]})})},zi.prototype._waitSync=function(){var a=this;this.isInSync||(this._activationTimeout=setTimeout(function(){a._completeSync()},8))},zi.prototype._completeSync=function(){this.isInSync||(this._state=Gp.DONE,this._activationQueue.forEach(function(a){return a()}),this._activationQueue=[])},zi.prototype.registerNode=function(){this._send(ki.NEWNODE),this._waitSync()},zi.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ki.CLAIM_HOST),this._waitSync()},zi.prototype.lock=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return s.sent(),a=this._send(ki.REQUEST_LOCK),[4,this._requestLock(a)];case 2:return s.sent(),[2]}})})},zi.prototype.unlock=function(){var a;this._release((a=this._currentItem)==null?void 0:a.requestId)},zi),m1=(Gt.metadataOf=function(a,s,l){return P(this,void 0,void 0,function(){var d;return F(this,function(p){switch(p.label){case 0:return d=o1(a,s),[4,l.get(d)];case 1:return[2,p.sent()]}})})},Object.defineProperty(Gt.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(Gt.prototype,"isReady",{get:function(){return this._state===Fd.READY},enumerable:!1,configurable:!0}),Gt.prototype.init=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,O,L,q,G,te=this;return F(this,function(ae){switch(ae.label){case 0:return[4,this._mutex.lock()];case 1:ae.sent(),ae.label=2;case 2:return ae.trys.push([2,9,,10]),a=Am.get(this.dbname),[4,Gt.metadataOf(this.dbname,this.name,this._store)];case 3:return s=ae.sent(),this._metadata=s||{keyName:this.keyName,blockLevel:1,blockHashBase:a.blockHashBase,blockHashMultiplier:a.blockHashMultiplier,blockHashConstant:a.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:ae.sent(),this._blockManager=new BX({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),l=yr([],rr(this.indexes),!1),d=[],p=l.map(function(Ne){return Yl.createKey(Ne)}),m=s?s.indexes.map(function(Ne){return Yl.createKey(Ne)}):[];try{for(g=jn(m),b=g.next();!b.done;b=g.next())w=b.value,p.includes(w)||d.push(Yl.parseKey(w))}catch(Ne){q={error:Ne}}finally{try{b&&!b.done&&(G=g.return)&&G.call(g)}finally{if(q)throw q.error}}return(O=[]).push.apply(O,yr([],rr(l.map(function(Ne){return Ne=new Yl({dbname:te.dbname,collectionName:te.name,keyName:te.keyName,fields:Ne,transaction:te._transaction,store:te._store}),te._indexers.push(Ne),Ne.ensure()})),!1)),O.push.apply(O,yr([],rr(d.map(function(Ne){return new Yl({dbname:te.dbname,collectionName:te.name,keyName:te.keyName,fields:Ne,transaction:te._transaction,store:te._store}).drop()})),!1)),[4,Promise.all(O)];case 5:return ae.sent(),[4,this._transaction.commit()];case 6:return ae.sent(),p.sort().join(",")===m.sort().join(",")?[3,8]:(O=o1(this.dbname,this.name),this._metadata.indexes=l,[4,this._store.set({key:O,value:this._metadata,generation:1})]);case 7:ae.sent(),ae.label=8;case 8:return this._state=Fd.READY,this._mutex.unlock(),[3,10];case 9:throw L=ae.sent(),this._mutex.unlock(),L;case 10:return[2]}})})},Gt.prototype.close=function(){this._state=Fd.CLOSED},Gt.prototype._hasPropertyOfKeyName=function(a){return a=a[this.keyName],typeof a=="string"&&!!a},Gt.prototype._getIndexerBy=function(a){a=(a=a===void 0?null:a)||[this.keyName];var s,l,d=Yl.createKey(a);try{for(var p=jn(this._indexers),m=p.next();!m.done;m=p.next()){var g=m.value;if(d===Yl.createKey(g.fields))return g}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return null},Gt.prototype._upgradeBlockLevel=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return a=o1(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:a,value:this._metadata,generation:1})];case 1:return s.sent(),[2]}})})},Gt.prototype._requestInsert=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return g.sent()?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return g.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return g.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:g.sent(),g.label=5;case 5:g.trys.push([5,10,11,12]),l=jn(this._indexers),d=l.next(),g.label=6;case 6:return d.done?[3,9]:[4,d.value.addItem(a)];case 7:g.sent(),g.label=8;case 8:return d=l.next(),[3,6];case 9:return[3,12];case 10:return p=g.sent(),p={error:p},[3,12];case 11:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 12:return[3,14];case 13:throw mt.collectionInsertDuplicate;case 14:return[2]}})})},Gt.prototype._requestUpsert=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L,q;return F(this,function(G){switch(G.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=G.sent())?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return G.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return G.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:G.sent(),G.label=5;case 5:G.trys.push([5,10,11,12]),d=jn(this._indexers),p=d.next(),G.label=6;case 6:return p.done?[3,9]:[4,(b=p.value).addItem(a)];case 7:G.sent(),G.label=8;case 8:return p=d.next(),[3,6];case 9:return[3,12];case 10:return w=G.sent(),w={error:w},[3,12];case 11:try{p&&!p.done&&(O=d.return)&&O.call(d)}finally{if(w)throw w.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(s,a)];case 14:G.sent(),G.label=15;case 15:G.trys.push([15,21,22,23]),m=jn(this._indexers),g=m.next(),G.label=16;case 16:return g.done?[3,20]:(b=g.value).diff(b.getColumnValues(l),b.getColumnValues(a))===0?[3,19]:[4,b.removeItem(l)];case 17:return G.sent(),[4,b.addItem(a)];case 18:G.sent(),G.label=19;case 19:return g=m.next(),[3,16];case 20:return[3,23];case 21:return L=G.sent(),L={error:L},[3,23];case 22:try{g&&!g.done&&(q=m.return)&&q.call(m)}finally{if(L)throw L.error}return[7];case 23:return[2]}})})},Gt.prototype._requestUpdate=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=w.sent())?[4,this._blockManager.putToBlock(s,a)]:[3,11];case 2:w.sent(),w.label=3;case 3:w.trys.push([3,9,10,11]),d=jn(this._indexers),p=d.next(),w.label=4;case 4:return p.done?[3,8]:(m=p.value).diff(m.getColumnValues(l),m.getColumnValues(a))===0?[3,7]:[4,m.removeItem(l)];case 5:return w.sent(),[4,m.addItem(a)];case 6:w.sent(),w.label=7;case 7:return p=d.next(),[3,4];case 8:return[3,11];case 9:return g=w.sent(),g={error:g},[3,11];case 10:try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}return[7];case 11:return[2]}})})},Gt.prototype._requestRemove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return[4,this._blockManager.getFromBlock(a)];case 1:return(s=g.sent())?[4,this._blockManager.removeFromBlock(a)]:[3,10];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,8,9,10]),l=jn(this._indexers),d=l.next(),g.label=4;case 4:return d.done?[3,7]:[4,d.value.removeItem(s)];case 5:g.sent(),g.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return p=g.sent(),p={error:p},[3,10];case 9:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 10:return[2]}})})},Gt.prototype._requestClear=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:p.sent(),p.label=2;case 2:p.trys.push([2,7,8,9]),a=jn(this._indexers),s=a.next(),p.label=3;case 3:return s.done?[3,6]:[4,s.value.clear()];case 4:p.sent(),p.label=5;case 5:return s=a.next(),[3,3];case 6:return[3,9];case 7:return l=p.sent(),l={error:l},[3,9];case 8:try{s&&!s.done&&(d=a.return)&&d.call(a)}finally{if(l)throw l.error}return[7];case 9:return[2]}})})},Gt.prototype.getByKey=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(a)];case 3:return s=l.sent(),this._mutex.unlock(),[2,ua(s)];case 4:throw s=l.sent(),this._mutex.unlock(),s;case 5:return[3,7];case 6:throw mt.collectionNotReady;case 7:return[2]}})})},Gt.prototype.query=function(a){return a===void 0&&(a={}),this.isReady?new FX({condition:a.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(a.index),backward:!!a.backward}):null},Gt.prototype.insertOne=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestInsert(ua(a))];throw mt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},Gt.prototype.insertMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b=this;return F(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(O){return!b._hasPropertyOfKeyName(O)}))throw mt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=jn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(d=l.value,[4,this._requestInsert(ua(d))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return d=w.sent(),m={error:d},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw mt.collectionNotReady;case 16:return[2]}})})},Gt.prototype.upsertOne=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpsert(ua(a))];throw mt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},Gt.prototype.upsertMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b=this;return F(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(O){return!b._hasPropertyOfKeyName(O)}))throw mt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=jn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(d=l.value,[4,this._requestUpsert(ua(d))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return d=w.sent(),m={error:d},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw mt.collectionNotReady;case 16:return[2]}})})},Gt.prototype.update=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpdate(ua(a))];throw mt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},Gt.prototype.updateIf=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w,O,L,q=this;return F(this,function(G){switch(G.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:G.sent(),G.label=2;case 2:return G.trys.push([2,13,,15]),b=a.where,l=b===void 0?{}:b,b=a.index,b=b===void 0?null:b,g=a.backward,g=g!==void 0&&g,d=[],[4,new c1({condition:l,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(b)}).each(function(te){return P(q,void 0,void 0,function(){var ae,Ne;return F(this,function(Q){if(te.error)throw te.stop(),te.error;if(te.hasNext){if(ae=te.nextValue,uc(l,ae)&&s.set){if(typeof s.set!="function")for(Ne in s.set)ae[Ne]=s.set[Ne];else s.set(ae);d.push(ae)}te.next()}else te.stop();return[2]})})})];case 3:G.sent(),G.label=4;case 4:G.trys.push([4,9,10,11]),p=jn(d),m=p.next(),G.label=5;case 5:return m.done?[3,8]:(g=m.value,[4,this._requestUpdate(ua(g))]);case 6:G.sent(),G.label=7;case 7:return m=p.next(),[3,5];case 8:return[3,11];case 9:return b=G.sent(),O={error:b},[3,11];case 10:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(O)throw O.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return G.sent(),this._mutex.unlock(),[2,d];case 13:return w=G.sent(),[4,this._transaction.clear()];case 14:throw G.sent(),this._mutex.unlock(),w;case 15:return[3,17];case 16:throw this._transaction.clear(),mt.collectionNotReady;case 17:return[2]}})})},Gt.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this._requestRemove(a)];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[3,7];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},Gt.prototype.removeIf=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L=this;return F(this,function(q){switch(q.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:q.sent(),q.label=2;case 2:return q.trys.push([2,13,,14]),g=a.where,s=g===void 0?{}:g,g=a.index,g=g===void 0?null:g,m=a.backward,m=m!==void 0&&m,l=[],[4,new c1({condition:s,blockManager:this._blockManager,backward:m,indexer:this._getIndexerBy(g)}).each(function(G){return P(L,void 0,void 0,function(){var te;return F(this,function(ae){if(G.error)throw G.stop(),G.error;return G.hasNext?(te=G.nextValue,uc(s,te)&&(te=te[this.keyName],l.push(te)),G.next()):G.stop(),[2]})})})];case 3:q.sent(),q.label=4;case 4:q.trys.push([4,9,10,11]),d=jn(l),p=d.next(),q.label=5;case 5:return p.done?[3,8]:(m=p.value,[4,this._requestRemove(m)]);case 6:q.sent(),q.label=7;case 7:return p=d.next(),[3,5];case 8:return[3,11];case 9:return g=q.sent(),w={error:g},[3,11];case 10:try{p&&!p.done&&(O=d.return)&&O.call(d)}finally{if(w)throw w.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return q.sent(),this._mutex.unlock(),[2,l];case 13:throw b=q.sent(),this._mutex.unlock(),b;case 14:return[3,16];case 15:throw this._transaction.clear(),mt.collectionNotReady;case 16:return[2]}})})},Gt.prototype.clear=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return s.sent(),[4,this._transaction.commit()];case 4:return s.sent(),this._mutex.unlock(),[3,7];case 5:return a=s.sent(),[4,this._transaction.clear()];case 6:throw s.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw mt.collectionNotReady;case 9:return[2]}})})},Gt.prototype.getBlob=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.get(a)];case 1:return[2,s.sent()]}})})},Gt.prototype.saveBlob=function(a,s){return s===void 0&&(s=null),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.save(a,s)];case 1:return[2,l.sent()]}})})},Gt.prototype.removeBlob=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.remove(a)];case 1:return s.sent(),[2]}})})},Gt.prototype.removeAllBlobs=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._blobContainer.clear()];case 1:return a.sent(),[2]}})})},Gt),Na={},Fm=(Object.defineProperty($s.prototype,"rawData",{get:function(){return Na[this.dbname]},set:function(a){Na[this.dbname]=a},enumerable:!1,configurable:!0}),$s.prototype.observe=function(a,s,l){var d=this;this.observer[a]={},s.forEach(function(p){return d.observer[a][p]=l})},$s.prototype.init=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:this.dbname=a,Na[this.dbname]={},l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(bi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(bi.value))throw mt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(bi)];case 4:return l.sent(),[7];case 5:return[2]}})})},$s.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return[2,Object.keys(Na[this.dbname]).filter(function(s){return s!==bi.key})]})})},$s.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,Hd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.get?s.get(a):null)throw s;return[2,Na[this.dbname][a]?this._encryption.decrypt(Na[this.dbname][a]):null]}})})},$s.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l,d;return F(this,function(p){switch(p.label){case 0:return[4,Hd(this.delay)];case 1:if(p.sent(),s=a.key,d=a.value,l=this.observer[s],l=l&&l.set?l.set(s):null)throw l;if(l=this._encryption.encrypt(d),d=JSON.stringify(l),s===bi.key||d.length<this.itemSizeLimit)return Na[this.dbname][s]=l,[2,Na[this.dbname][s]];throw mt.storeItemSizeExceeded}})})},$s.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return[4,Hd(this.delay)];case 1:return d.sent(),s=[],a.forEach(function(b){var m,g=b.key,b=b.value,w=l.observer[g];w&&w.set&&w.set(g)?s.push(mt.collectionWriteFailed):(w=l._encryption.encrypt(b),m=JSON.stringify(w),g===bi.key||m.length<l.itemSizeLimit?(Na[l.dbname][g]=w,s.push(b)):s.push(mt.storeItemSizeExceeded))}),[2,s]}})})},$s.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,Hd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.remove?s.remove(a):null)throw s;return Na[this.dbname][a]&&delete Na[this.dbname][a],[2,a]}})})},$s.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return[4,Hd(this.delay)];case 1:w.sent();try{for(s=jn(a),l=s.next();!l.done;l=s.next()){if(d=l.value,p=this.observer[d],m=p&&p.remove?p.remove(d):null)throw m;Na[this.dbname][d]&&delete Na[this.dbname][d]}}catch(O){g={error:O}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2,a]}})})},$s.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,Hd(this.delay)];case 1:return a.sent(),Na[this.dbname]={},[2]}})})},$s),zX=(el.prototype.init=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return this.dbname=a,[4,new Promise(function(m,g){var b;d._window&&Xo?GX?((b=d._indexedDB.open("_testMozilla")).onerror=function(){return g(mt.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return m()}):$X?d._window.indexedDB||!d._window.PointerEvent&&!d._window.MSPointerEvent||g(mt.storeNotAvailableInPrivateBrowsing):m():g(mt.storeNotAvailable)})];case 1:return p.sent(),s=this,[4,new Promise(function(m,g){var b=d._indexedDB.open(a);b.addEventListener("upgradeneeded",function(w){w.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(w){return m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 2:s._database=p.sent(),p.label=3;case 3:return p.trys.push([3,,5,7]),[4,this.get(bi.key)];case 4:if((l=p.sent())&&JSON.stringify(l)!==JSON.stringify(bi.value))throw mt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(bi)];case 6:return p.sent(),[7];case 7:return[2]}})})},el.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,d){var p=a._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();p.addEventListener("success",function(m){l(m.target.result.filter(function(g){return g!==bi.key}))}),p.addEventListener("error",function(m){return d(m.target.error)})})];case 1:return[2,s.sent()]}})})},el.prototype.get=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,new Promise(function(d,p){var m=s._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(a);m.addEventListener("success",function(g){return d(g.target.result?s._encryption.decrypt(g.target.result.value):null)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},el.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return s=a.key,l=a.value,[4,new Promise(function(m,g){var b=d._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:s,value:d._encryption.encrypt(l)});b.addEventListener("success",function(w){m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 1:return p.sent(),[2,l]}})})},el.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return s=[],l=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),a.forEach(function(m){var g=m.key,b=m.value;s.push(new Promise(function(w){var O=l.put({key:g,value:d._encryption.encrypt(b)});O.addEventListener("success",function(L){w(L.target.result)}),O.addEventListener("error",function(){w(mt.collectionWriteFailed)})}))}),[4,Promise.all(s)];case 1:return p.sent(),[2,a.map(function(m){return m.value})]}})})},el.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,new Promise(function(d,p){var m=s._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(a);m.addEventListener("success",function(){return d(a)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},el.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(a.map(function(d){return new Promise(function(p,m){var g=s.delete(d);g.addEventListener("success",function(){return p(d)}),g.addEventListener("error",function(b){return m(b.target.error)})})}))];case 1:return[2,l.sent()]}})})},el.prototype.clear=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,d){var p=a._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();p.addEventListener("success",function(){return l()}),p.addEventListener("error",function(m){return d(m.target.error)})})];case 1:return[2,s.sent()]}})})},el),jX=(Gs.prototype._isBelonging=function(a){return a.startsWith("".concat(this.dbname,"/"))},Gs.prototype._getActualKey=function(a){return"".concat(this.dbname,"/").concat(a)},Gs.prototype.init=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:this.dbname=a,l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(bi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(bi.value))throw mt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(bi)];case 4:return l.sent(),[7];case 5:return[2]}})})},Gs.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){var a,s=this;return F(this,function(l){switch(l.label){case 0:return a=this._getActualKey(bi.key),[4,this._asyncStorage.getAllKeys()];case 1:return[2,l.sent().filter(function(d){return s._isBelonging(d)&&d!==a}).map(function(d){return d.substring("".concat(s.dbname,"/").length)})]}})})},Gs.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(a))];case 1:return[2,(s=l.sent())?this._encryption.decrypt(JSON.parse(s)):null]}})})},Gs.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=a.key,l=a.value,l=JSON.stringify(this._encryption.encrypt(l)),s===bi.key||l.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(s),l)]:[3,2];case 1:return d.sent(),[2,JSON.parse(l)];case 2:throw mt.storeItemSizeExceeded}})})},Gs.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L;return F(this,function(q){switch(q.label){case 0:s=[],l=[];try{for(d=jn(a),p=d.next();!p.done;p=d.next()){m=p.value;try{g=m.key,b=m.value,w=JSON.stringify(this._encryption.encrypt(b)),g===bi.key||w.length<this.itemSizeLimit?(l.push([this._getActualKey(g),w]),s.push(b)):s.push(mt.storeItemSizeExceeded)}catch{s.push(mt.collectionWriteFailed)}}}catch(G){O={error:G}}finally{try{p&&!p.done&&(L=d.return)&&L.call(d)}finally{if(O)throw O.error}}q.label=1;case 1:return q.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(l)];case 2:return q.sent(),[3,4];case 3:return q.sent(),[2,new Array(s.length).fill(mt.collectionWriteFailed)];case 4:return[2,s]}})})},Gs.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(a))];case 1:return s.sent(),[2,a]}})})},Gs.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.multiRemove(a.map(function(d){return s._getActualKey(d)}))];case 1:return l.sent(),[2,a]}})})},Gs.prototype.clear=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return[4,this.getAllKeys()];case 1:return a=s.sent(),[4,this.removeMany(a)];case 2:return s.sent(),[4,this.remove(bi.key)];case 3:return s.sent(),[2]}})})},Gs),Hm=!0,hc=($p.off=function(){Hm=!1},$p.log=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Hm&&console.log.apply(console,yr(["".concat("[NESTDB]","[LOG]")],rr(a),!1))},$p.warning=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Hm&&console.warn.apply(console,yr(["".concat("[NESTDB]","[WARNING]")],rr(a),!1))},$p.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Hm&&console.error.apply(console,yr(["".concat("[NESTDB]","[ERROR]")],rr(a),!1))},$p);function $p(){}function Gs(l){var s=l.AsyncStorage,l=l.encryption,l=l===void 0?am:l;this.itemSizeLimit=6291456,this._asyncStorage=s,this._encryption=l}function el(a){a===void 0&&(a={}),this.itemSizeLimit=104857600,a=a.encryption,a=a===void 0?am:a,this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=a}function $s(d){var s=(d=d===void 0?{}:d).itemSizeLimit,s=s===void 0?4194304:s,l=d.delay,l=l===void 0?1:l,d=d.encryption,d=d===void 0?am:d;this._encryption=d,this.itemSizeLimit=s,this.delay=l,this.observer={}}function Gt(g){var s=g.dbname,l=g.collectionName,d=g.keyName,p=g.keyHash,m=g.indexes,g=g.store,b=this;this._state=Fd.INIT,this._metadata=null,this._indexers=[],this.dbname=s,this.name=l,this.keyName=d,this.indexes=yr([[d]],rr(m.filter(function(w){return Yl.createKey(w)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new RR("".concat(dc(s,l),".lock")),this._blobContainer=new HX({dbname:s,collectionName:l,store:g}),this._transaction=new qX({dbname:s,collectionName:l,store:g})}function zi(a,s){s===void 0&&(s={});var l=this;return this._state=Gp.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],f1[a]&&!s.forceCreate||(this.nodeId=AR(),this.key=a,Xo&&(!s.startAsInvisible&&document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&l.claimHost()}),window.addEventListener("message",function(d){var p,m,g=d.data,b=g.nodeId,w=g.requestId,O=g.key,L=g.op,q=g.data;if(b!==l.nodeId&&O===l.key)switch(L){case ki.NEWNODE:l._sendSync();break;case ki.CLAIM_HOST:l._sendSync(),l._hostId=b;break;case ki.SYNC_HOST:if(!l.isInSync){l._activationTimeout&&clearTimeout(l._activationTimeout);var G=q.currentItemRequestId,te=q.queue;try{for(var ae=jn(te),Ne=ae.next();!Ne.done;Ne=ae.next())(function(Q){l._queue.findIndex(function(se){return se.requestId===Q.requestId})<0&&l._requestLock({nodeId:Q.nodeId,requestId:Q.requestId,key:l.key,op:ki.REQUEST_LOCK,ts:Q.ts})})(Ne.value)}catch(Q){p={error:Q}}finally{try{Ne&&!Ne.done&&(m=ae.return)&&m.call(ae)}finally{if(p)throw p.error}}l._currentItem=l._queue.find(function(Q){return Q.requestId===G}),l._completeSync()}break;case ki.REMOVENODE:l._queue=l._queue.filter(function(Q){return Q.nodeId!==g.nodeId}),l._currentItem&&l._currentItem.nodeId===g.nodeId&&(l._currentItem=null,l._acquire(l._queue[0]));break;case ki.REQUEST_LOCK:l._requestLock(g);break;case ki.ACQUIRE_LOCK:te=l._queue.find(function(Q){return Q.requestId===w}),l._acquire(te);break;case ki.RELEASE_LOCK:l._release(w)}}),window.addEventListener("beforeunload",function(){l._send(ki.REMOVENODE)})),f1[a]=this),f1[a]}(Bi=Zo=Zo||{}).INIT="INIT",Bi.OPENING="OPENING",Bi.OPENED="OPENED",Bi.CLOSED="CLOSED",Object.defineProperty(zs.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(zs.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),zs.prototype.commitSchema=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this._state!==Zo.OPENING?[3,2]:[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return p=d.collectionName,m=d.keyName,g=d.index,g=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new m1({dbname:this.name,collectionName:p,keyName:m,keyHash:d.keyHash||null,indexes:g,store:this._store})),[4,this._collections.get(p).init()];case 1:return b.sent(),[2]}})})}))];case 1:return l.sent(),[3,3];case 2:throw mt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},zs.prototype.open=function(){var a;return P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===Zo.OPENED)return[3,15];this._state=Zo.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,s="".concat(d1(b),".metadata"),l={version:0,collectionNames:[]},[4,this._store.get(s)];case 4:return d=(a=g.sent())!=null?a:l,[2,new Promise(function(w,O){function L(G){d.version<m._version?m._event.upgrade(d.version,function(te){return P(m,void 0,void 0,function(){var ae;return F(this,function(Ne){switch(Ne.label){case 0:if(te)return[3,5];d.version++,d.collectionNames=Array.from(this._collections.keys()),Ne.label=1;case 1:return Ne.trys.push([1,3,,4]),[4,this._store.set({key:s,value:d,generation:this._version})];case 2:return Ne.sent(),G({continued:!0}),[3,4];case 3:return ae=Ne.sent(),G({continued:!1,err:ae}),[3,4];case 4:return[3,6];case 5:G({continued:!1,err:te}),Ne.label=6;case 6:return[2]}})})}):G({continued:!1})}function q(Ne){var te,ae=Ne.continued,Ne=(Ne=Ne.err)===void 0?null:Ne;ae!==void 0&&ae?setTimeout(function(){return L(q)},10):Ne?(hc.error(Ne.message),m._globalMutex.unlock(),m._event.error(Ne),O(Ne)):(te=[],d.collectionNames.forEach(function(Q){m._collections.has(Q)||te.push(P(m,void 0,void 0,function(){var se;return F(this,function(_e){switch(_e.label){case 0:return[4,m1.metadataOf(this.name,Q,this._store)];case 1:return(se=_e.sent())?(se=new m1({dbname:this.name,collectionName:Q,keyName:se.keyName,indexes:se.indexes,store:this._store}),this._collections.set(Q,se),[4,se.init()]):[3,3];case 2:_e.sent(),_e.label=3;case 3:return[2]}})}))}),Promise.all(te).then(function(){m._state=Zo.OPENED,m._globalMutex.unlock(),m._event.success(),w()}).catch(function(Q){hc.error(Q.message),m._globalMutex.unlock(),m._event.error(Q),O(Q)}))}L(q)})];case 5:switch((p=g.sent()).code){case Bt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Bt.STORE_NOT_AVAILABLE:return[3,8];case Bt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return hc.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Fm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return hc.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Fm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return hc.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw hc.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},zs.prototype.close=function(){this._collections.forEach(function(a){return a.close()}),this._state=Zo.CLOSED},zs.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(s){return s.clear()}))];case 1:return a.sent(),[2]}})})},zs.prototype.reset=function(){return P(this,void 0,void 0,function(){var a,s=this;return F(this,function(l){switch(l.label){case 0:return this.close(),(a=ps.get(this.name))&&a.clearByCondition(function(d){return d.key.startsWith(d1(s.name))}),[4,this._store.clear()];case 1:return l.sent(),[2]}})})},zs.prototype.on=function(a,s){this._event[a]=s},zs.prototype.off=function(a){typeof this._event[a]=="function"&&(this._event[a]=a==="upgrade"?NR:Um)},zs.prototype.collection=function(a){return this._collections.get(a)||null};var Ci,VX=zs,zp=null,WX=(sn.init=function(te){var s,l=te.appId,d=te.appVersion,d=d===void 0?null:d,p=te.modules,p=p===void 0?[]:p,m=te.options,m=m===void 0?new sN:m,g=te.debugMode,g=g!==void 0&&g,b=te.customApiHost,w=te.customWebSocketHost,O=te.newInstance,L=te.logLevel,q=te.localCacheEnabled,q=q!==void 0&&q,G=te.localCacheEncryption,te=te.useAsyncStorageStore,te=te===void 0?null:te;return!zp||O!==void 0&&O?(O="su-".concat(Cd()),s=new Fm({encryption:G=G!=null?G:{encrypt:function(ae){return ae},decrypt:function(ae){return ae}}}),g||(s=te?new jX({AsyncStorage:te,encryption:G}):new zX({encryption:G})),new xe(O,{appId:l,appVersion:d,options:m,apiHost:b!=null?b:"https://api-".concat(l,".sendbird.com"),websocketHost:w!=null?w:"wss://ws-".concat(l,".sendbird.com"),store:s,encryption:G,logLevel:L,localCacheEnabled:q,debugMode:g}),te=new sn(O,m,yr(yr([],rr(p),!1),[new SQ],!1)),zp=zp||te,te):zp},Object.defineProperty(sn,"instance",{get:function(){return zp},enumerable:!1,configurable:!0}),Object.defineProperty(sn,"version",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"appId",{get:function(){return xe.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"appInfo",{get:function(){return xe.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"appVersion",{get:function(){var a;return(a=xe.of(this._iid).sdkState.appVersion)!=null?a:""},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"debugMode",{get:function(){return xe.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"logLevel",{get:function(){return xe.of(this._iid).logger.level},set:function(a){xe.of(this._iid).logger.level=a},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"isCacheEnabled",{get:function(){return xe.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"ekey",{get:function(){return Ip(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"currentUser",{get:function(){var a;return(a=xe.of(this._iid).sessionManager.currentUser)!=null?a:null},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"connectionState",{get:function(){var a=xe.of(this._iid).connectionManager;return a.isConnected?Bl.OPEN:a.isConnecting?Bl.CONNECTING:Bl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"lastConnectedAt",{get:function(){var a=xe.of(this._iid),s=a.connectedAt;return a.connectionManager.isConnected?s:0},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),sn.prototype._getPreferenceCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".pref")},sn.prototype._getUserProfileCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".profile")},sn.prototype.getMemoryStoreForDebugging=function(){var s=xe.of(this._iid),a=s.debugMode,s=s.cacheContext;if(a)return s.store instanceof Fm?s.store:null;throw Ee.debugModeRequired},sn.prototype.addExtension=function(a,s){var l=xe.of(this._iid).sdkState;-1<["sb_uikit","sb_syncmanager"].indexOf(a)&&(l.extensions[a]=s)},sn.prototype.initializeCache=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return d=xe.of(this._iid),s=d.sdkState,l=d.cacheContext,p=d.connectionManager,d=d.dispatcher,s.userId&&s.userId===a?[3,6]:[4,p.logout()];case 1:return g.sent(),s.userId=a,l.localCacheEnabled?(p="sendbird@".concat(s.appId,"/").concat(a,".db"),l.nestdb&&l.nestdb.state!==Zo.CLOSED&&l.nestdb.name===p?[3,3]:((m=l.nestdb=new VX({name:"sendbird@".concat(s.appId,"/").concat(a,".db"),version:1,store:l.store})).on("upgrade",(b=m,function(w,O){w===0?b.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[Yy(Kl.LATEST_LAST_MESSAGE),Yy(Kl.CHRONOLOGICAL),Yy(Kl.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[Wo(ii.CHANNEL_LATEST),Wo(ii.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Wo(ii.CHANNEL_LATEST),Wo(ii.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return O()}).catch(function(L){return O(L)}):O()})),[4,m.open()])):[3,6];case 2:g.sent(),d.dispatch(new TY(this._iid,{userId:a})),g.label=3;case 3:return[4,l.preference.init(this._getPreferenceCacheKey(a))];case 4:return g.sent(),[4,l.preference.get(this._getUserProfileCacheKey(a))];case 5:(m=g.sent())&&new ay(this._iid,m).apply(),g.label=6;case 6:return[2]}var b})})},sn.prototype.clearCachedData=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return(a=xe.of(this._iid).cacheContext).localCacheEnabled?(a.nestdb&&a.nestdb.clear(),[4,a.preference.clear()]):[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},sn.prototype.clearCachedMessages=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=SY.of(this._iid),l=nO.of(this._iid),s&&l?[4,Promise.all(a.map(function(m){return P(d,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return[4,s.removeMessagesOfChannel(m)];case 1:return g.sent(),[4,l.removeMessagesOfChannel(m)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},sn.prototype.connect=function(a,s){return s===void 0&&(s=null),P(this,void 0,void 0,function(){var l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:m=xe.of(this._iid),l=m.sdkState,d=m.cacheContext,p=m.connectionManager,m=m.statLogCollector,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.initializeCache(a)];case 2:return b.sent(),[3,4];case 3:return b.sent(),g=xe.of(this._iid).logger,d.localCacheEnabled=!1,g.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,m.init("sendbird@".concat(l.appId,"/").concat(a,".statlog"))];case 5:return b.sent(),[4,p.connect(s)];case 6:return b.sent(),this._appStateChangeDetector.start(),l.appState="foreground",[4,(g=rO.of(this._iid))==null?void 0:g.processNonAutoResendRegisteredPendingMessages()];case 7:return b.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},sn.prototype.reconnect=function(){var l=xe.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.sessionManager.auth.hasSession;return l&&a.resetAndReconnect().then(function(){s.appState="foreground"}).catch(function(){}),l},sn.prototype.disconnect=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:return l=xe.of(this._iid),a=l.connectionManager,s=l.cacheContext,l=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),l.cancelAll(),[4,a.logout()];case 1:return d.sent(),s.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},sn.prototype.setBackgroundState=function(){var l=xe.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="foreground"&&(s.appState="background",l.debug("going background state"),a.background())},sn.prototype.setForegroundState=function(){var l=xe.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="background"&&(s.appState="foreground",l.debug("going foreground state"),a.resetAndReconnect())},sn.prototype.setSessionHandler=function(a){un(!1).throw(Ee.invalidParameters),xe.of(this._iid).sessionManager.handler=a},sn.prototype.addUserEventHandler=function(a,s){un(fe("string",a)&&!1).throw(Ee.invalidParameters),xe.of(this._iid).userEventHandlers.set(a,s)},sn.prototype.removeUserEventHandler=function(a){xe.of(this._iid).userEventHandlers.delete(a)},sn.prototype.removeAllUserEventHandler=function(){xe.of(this._iid).userEventHandlers.clear()},sn.prototype.addConnectionHandler=function(a,s){un(fe("string",a)&&!1).throw(Ee.invalidParameters),xe.of(this._iid).connectionHandlers.set(a,s)},sn.prototype.removeConnectionHandler=function(a){xe.of(this._iid).connectionHandlers.delete(a)},sn.prototype.removeAllConnectionHandler=function(){xe.of(this._iid).connectionHandlers.clear()},sn.prototype.createApplicationUserListQuery=function(a){return new IX(this._iid,a=a===void 0?{}:a)},sn.prototype.createBlockedUserListQuery=function(a){return new RX(this._iid,a=a===void 0?{}:a)},sn.prototype.createFriendListQuery=function(a){return new UX(this._iid,a=a===void 0?{}:a)},sn.prototype.createMessageSearchQuery=function(a){return new xQ(this._iid,a)},sn.prototype.buildUserFromSerializedData=function(a){return a=fm(a),new Qn(this._iid,Qn.payloadify(a))},sn.prototype.updateCurrentUserInfo=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return a=pe(pe({},DY),a),un(mo((p=a).profileImage,!0)&&fe("string",p.profileUrl,!0)&&fe("string",p.nickname,!0)).throw(Ee.invalidParameters),this.currentUser?(s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new xO(pe({userId:l.userId},a)),[4,s.send(l)]):[3,2];case 1:return s=d.sent(),l=s.as(kO).user,this.currentUser&&(a.nickname&&(this.currentUser.nickname=l.nickname),(a.profileUrl||a.profileImage)&&(this.currentUser.plainProfileUrl=l.profileUrl)),[2,l];case 2:throw Ee.connectionRequired}var p})})},sn.prototype.updateCurrentUserInfoWithPreferredLanguages=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),this.currentUser?(s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new xO({userId:l.userId,preferredLanguages:a}),[4,s.send(l)]):[3,2];case 1:return s=d.sent(),l=s.as(kO).user,this.currentUser&&(this.currentUser.preferredLanguages=l.preferredLanguages),[2,l];case 2:throw Ee.connectionRequired}})})},sn.prototype.registerFCMPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(un(fe("string",a)).throw(Ee.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new FY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Sa.SUCCESS];case 3:return d.sent(),[2,Sa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Sa.PENDING];case 6:return[2]}})})},sn.prototype.unregisterFCMPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(un(fe("string",a)).throw(Ee.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new qY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Sa.SUCCESS];case 3:return d.sent(),[2,Sa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Sa.PENDING];case 6:return[2]}})})},sn.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return this.currentUser?(a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new GY({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},sn.prototype.registerAPNSPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(un(fe("string",a)).throw(Ee.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new PY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Sa.SUCCESS];case 3:return d.sent(),[2,Sa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Sa.PENDING];case 6:return[2]}})})},sn.prototype.unregisterAPNSPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(un(fe("string",a)).throw(Ee.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new HY({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Sa.SUCCESS];case 3:return d.sent(),[2,Sa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Sa.PENDING];case 6:return[2]}})})},sn.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return this.currentUser?(a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new BY({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},sn.prototype.getChannelInvitationPreference=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new jY({userId:s.userId}),[4,a.send(s)];case 1:return[2,{autoAccept:l.sent().as(VY).autoAccept}]}})})},sn.prototype.setChannelInvitationPreference=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("boolean",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new WY({userId:l.userId,willAutoAccept:a}),[4,s.send(l)];case 1:return[2,{autoAccept:d.sent().as(KY).autoAccept}]}})})},sn.prototype.getDoNotDisturb=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new QY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(YY).preference]}})})},sn.prototype.setDoNotDisturb=function(a,s,l,d,p,m){return s===void 0&&(s=0),l===void 0&&(l=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=""),P(this,void 0,void 0,function(){var g,b;return F(this,function(w){switch(w.label){case 0:return un(fe("boolean",a)&&fe("number",s)&&fe("number",l)&&fe("number",d)&&fe("number",p)&&fe("string",m)).throw(Ee.invalidParameters),g=xe.of(this._iid),b=g.sdkState,g=g.requestQueue,b=new XY({userId:b.userId,doNotDisturbOn:a,startHour:s,startMin:l,endHour:d,endMin:p,timezone:m}),[4,g.send(b)];case 1:return[2,w.sent().as(JY).preference]}})})},sn.prototype.getSnoozePeriod=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new ZY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(eX).snoozePeriod]}})})},sn.prototype.setSnoozePeriod=function(a,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return un(fe("boolean",a)&&fe("number",s)&&fe("number",l)).throw(Ee.invalidParameters),d=xe.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new nX({userId:p.userId,snoozeOn:a,startTs:s,endTs:l}),[4,d.send(p)];case 1:return[2,m.sent().as(tX).snoozePeriod]}})})},sn.prototype.getMyPushTokensByToken=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(fe("string",a)&&ir(Xa,s)).throw(Ee.invalidParameters),l=xe.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new $Y({userId:d.userId,type:s,token:a}),[4,l.send(d)];case 1:return[2,p.sent().as(zY).pushTokens]}})})},sn.prototype.getPushTriggerOption=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new OY({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(AY).pushTriggerOption]}})})},sn.prototype.setPushTriggerOption=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(ir(Ky,a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new RY({userId:l.userId,pushTriggerOption:a}),[4,s.send(l)];case 1:return[2,d.sent().as(MY).pushTriggerOption]}})})},sn.prototype.getPushTemplate=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new aX({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(sX).name]}})})},sn.prototype.setPushTemplate=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(ir(Qy,a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new oX({userId:l.userId,templateName:a}),[4,s.send(l)];case 1:return[2,d.sent().as(lX).name]}})})},sn.prototype.blockUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(a instanceof Qn||fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new rX({userId:l.userId,blockedUserId:a instanceof Qn?a.userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},sn.prototype.blockUserWithUserId=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.blockUser(a)]})})},sn.prototype.unblockUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(a instanceof Qn||fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new iX({userId:l.userId,unblockedUserId:a instanceof Qn?a.userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},sn.prototype.unblockUserWithUserId=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unblockUser(a)]})})},sn.prototype.getFriendChangeLogsByToken=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new uX({userId:l.userId,token:a}),[4,s.send(l)];case 1:return[2,d.sent().as(cX).changelogs]}})})},sn.prototype.getAllowFriendDiscovery=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new vX({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(_X).allowFriendDiscovery]}})})},sn.prototype.setAllowFriendDiscovery=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(fe("boolean",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new bX({userId:l.userId,allowFriendDiscovery:a}),[4,s.send(l)];case 1:return d.sent(),[2,a]}})})},sn.prototype.uploadFriendDiscoveries=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new dX({userId:l.userId,discoveries:a}),[4,s.send(l)];case 1:return[2,d.sent().as(hX).friendDiscoveryRequestId]}})})},sn.prototype.deleteFriendDiscovery=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.deleteFriendDiscoveries([a])]})})},sn.prototype.deleteFriendDiscoveries=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new pX({userId:l.userId,discoveryKeys:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},sn.prototype.addFriends=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new fX({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return[2,d.sent().as(mX).users]}})})},sn.prototype.deleteFriend=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.deleteFriends([a])]})})},sn.prototype.deleteFriends=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return un(bt("string",a)).throw(Ee.invalidParameters),s=xe.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new gX({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},sn.prototype.getAllEmoji=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new EX,[4,a.send(s)];case 1:return[2,l.sent().as(wX).emojiContainer]}})})},sn.prototype.getEmojiCategory=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new xX({categoryId:a}),[4,s.send(l)];case 1:return[2,d.sent().as(kX).emojiCategory]}})})},sn.prototype.getEmoji=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=xe.of(this._iid).requestQueue,l=new CX({key:a}),[4,s.send(l)];case 1:return[2,d.sent().as(SX).emoji]}})})},sn);function sn(a,p,l){var d=this,p=(this._fcmPushToken=null,this._apnsPushToken=null,this._iid=a,this.options=p,xe.of(a)),m=p.sdkState,g=p.cacheContext,b=p.dispatcher,w=p.sessionManager,O=p.requestQueue,L=p.logger,q=p.userEventHandlers;this._onlineDetector=new LY({logger:L,connectionDelegate:{reconnect:function(){var te=xe.of(a),G=te.sdkState,te=te.connectionManager;G.appState==="foreground"&&te.resetAndReconnect()},disconnect:function(){xe.of(a).connectionManager.disconnect()}}}),new rO(a,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:m,logger:L}),l.forEach(function(G){G.init(a,{sdkState:m,cacheContext:g,dispatcher:b,sessionManager:w,requestQueue:O,logger:L,onlineDetector:d._onlineDetector}),d[G.name]=G}),this._appStateChangeDetector=new UY,this._appStateChangeDetector.on("resume",function(){L.debug("the page resumes from freeze"),d.setForegroundState()}).on("pause",function(){L.debug("the page freezes"),d.setBackgroundState()}),b.on(function(G){var te;if(G instanceof cr)G.code==="USEV"&&(Q=G.as(IY).event).category===Xy.FRIEND_DISCOVERED&&(te=dO.getDataAsFriendDiscoveredEvent(a,Q).friendDiscoveries,at(function(){return P(d,void 0,void 0,function(){return F(this,function(_e){return[2,q.forEach(function(ve){ve.onFriendsDiscovered(te)})]})})}));else if(G instanceof EN){var ae=xe.of(d._iid).subscribedUnreadMessageCount,Ne=!1,Q=G.ts;if(typeof Q=="number"&&Q>ae.ts){if(ae.all!==G.all&&(Ne=!0),ae.all=0<=G.all?G.all:0,G.customTypes)for(var se in G.customTypes)ae.customTypes[se]!==G.customTypes[se]&&(Ne=!0),ae.customTypes[se]=G.customTypes[se];Ne=Ne&&0<ae.ts,ae.ts=Q}Ne&&at(function(){return P(d,void 0,void 0,function(){return F(this,function(_e){return[2,q.forEach(function(ve){ve.onTotalUnreadMessageCountUpdated(ae.all,ae.customTypes)})]})})})}else G instanceof pT&&g.localCacheEnabled&&g.preference.set(d._getUserProfileCacheKey(m.userId),ay.payloadify(G.userProfile))})}function zs(p){var s=p.name,l=p.version,d=p.store,p=p.config;this.name=s,this._version=l,this._state=Zo.INIT,this._config=p||new Am({dbname:s}),this._store=d,this._event={success:Um,error:Um,upgrade:NR},this._collections=new Map,this._globalMutex=new RR("".concat(this.name,".lock")),this._config.disableLogger&&hc.off(),new ps({dbname:s,limit:this._config.cacheLimit})}(Ke=Ci=Ci||{})[Ke.NONE=0]="NONE",Ke[Ke.CHANNEL_ENTER=10102]="CHANNEL_ENTER",Ke[Ke.CHANNEL_EXIT=10103]="CHANNEL_EXIT",Ke[Ke.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",Ke[Ke.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",Ke[Ke.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",Ke[Ke.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",Ke[Ke.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",Ke[Ke.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",Ke[Ke.TYPING_START=10900]="TYPING_START",Ke[Ke.TYPING_END=10901]="TYPING_END",Ke[Ke.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",Ke[Ke.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",Ke[Ke.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",Ke[Ke.CHANNEL_INVITE=10020]="CHANNEL_INVITE",Ke[Ke.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",Ke[Ke.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",Ke[Ke.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",Ke[Ke.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",Ke[Ke.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",Ke[Ke.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",Ke[Ke.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",Ke[Ke.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",Object.defineProperty(g1.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Er.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(g1.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Er.OPEN},enumerable:!1,configurable:!0});var MR,DR,UR,LR,PR,FR,HR,KX=g1,qR=(Y(WR,HR=cr),WR),QX=(Y(VR,FR=qR),VR),YX=(Y(jR,PR=cr),jR),XX=(Y(zR,LR=cr),zR),JX=(Y($R,UR=cr),$R),ZX=(Y(GR,DR=cr),GR),eJ=(Y(BR,MR=cr),BR);function BR(a,s,l){var d=MR.call(this,a,"MTHD",l)||this;return d.event=new bQ(a,l),d}function GR(a,s,l){return a=DR.call(this,a,"MRCT",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.event=new dy(l),a}function $R(m,s,l){var d,p=this,m=((p=UR.call(this,m,"AEDI",l)||this).message=new Dd(m,l),xe.of(m).sdkState);return p.mentionCountChange=ey({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function zR(m,s,l){var d,p=this,m=((p=LR.call(this,m,"ADMM",l)||this).message=new Dd(m,l),xe.of(m).sdkState);return p.isMentioned=Ad(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function jR(a,s,l){return a=PR.call(this,a,"MCNT",l)||this,a.groupChannelMemberCounts=l.group_channels.map(function(d){return{channelUrl:d.channel_url,memberCount:d.member_count,joinedMemberCount:d.joined_member_count,updatedAt:d.ts}}),a.openChannelMemberCounts=l.open_channels.map(function(d){return{channelUrl:d.channel_url,participantCount:d.participant_count,updatedAt:d.ts}}),a}function VR(p,m,l){var d=FR.call(this,p,m,l)||this,p=l.data.operators,m=p===void 0?[]:p;return d.operators=m.map(function(g){return new Qn(d._iid,g)}),d}function WR(a,s,l){return a=HR.call(this,a,"SYEV",l)||this,a.event=new KX(l),a}function g1(a){this.channelUrl=a.channel_url,this.channelType=a.channel_type,this.category=a.cat,this.data=a.data,this.ts=a.ts}Y(js,v1=ut),Object.defineProperty(js.prototype,"enteredChannels",{get:function(){var a=this;return this._enteredChannelUrls.map(function(s){return a._channels.get(s)}).filter(function(s){return s!==null})},enumerable:!1,configurable:!0}),js.prototype.isEnteredChannel=function(a){return this._enteredChannelUrls.includes(a)},js.prototype.enter=function(a){this._enteredChannelUrls.indexOf(a)<0&&this._enteredChannelUrls.push(a)},js.prototype.exit=function(a){a=this._enteredChannelUrls.indexOf(a),0<=a&&this._enteredChannelUrls.splice(a,1)},js.prototype.exitAll=function(){this._enteredChannelUrls=[]},js.prototype.get=function(a){var s;return P(this,void 0,void 0,function(){return F(this,function(l){return[2,(s=this._channels.get(a))!=null?s:null]})})},js.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){return a.forEach(function(d){var p;s._channels.has(d.url)?(p=s._channels.get(d.url),Object.assign(p,d)):s._channels.set(d.url,d)}),[2]})})},js.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._channels.delete(a),this.exit(a),[2]})})},js.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})};var KR,QR,YR,v1,XR,nJ=js,JR={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},tJ=(Y(tM,YR=Ye),tM),ZR=(Y(nM,QR=en),nM),rJ=(Y(eM,KR=Ye),eM);function eM(b){var s=this,l=b.channelUrl,d=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=KR.call(this)||this).method=We.POST,s.path=tc,s.params=$n({channel_url:l,cover_url:fe("string",d)?d:null,cover_file:mo(d)?d:null,name:p,data:m,custom_type:g,operators:b}),s}function nM(a,s){var l=QR.call(this,a,s)||this;return l.channel=null,l.channel=new qd(a,s),l}function tM(l){var s=l.channelUrl,l=l.isInternalCall,d=YR.call(this)||this;return d.method=We.GET,d.path="".concat(l?zK:tc,"/").concat(encodeURIComponent(s)),d}function js(){var a=v1!==null&&v1.apply(this,arguments)||this;return a._channels=new Map,a._enteredChannelUrls=[],a}Y(function(a,s){var l=XR.call(this,a,s)||this;return l.channel=new qd(a,s),l},XR=en),Y(CM,dM=go);var rM,iM,aM,_1,sM,oM,lM,uM,cM,dM,hM,iJ=CM,pM=(Y(kM,cM=cr),kM),aJ=(Y(xM,uM=go),xM),fM=(Y(wM,lM=cr),wM),mM={},pc=(ca.of=function(a){return mM[a]},ca.prototype.buildOpenChannelFromSerializedData=function(a){return a=fm(a),new qd(a._iid,qd.payloadify(a))},ca.prototype.getChannelFromCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.get(a)];case 1:return[2,s.sent()]}})})},ca.prototype.upsertChannelsToCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.upsert(a)];case 1:return s.sent(),[2]}})})},ca.prototype.removeChannelsFromCache=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:g.trys.push([0,5,6,7]),s=jn(a),l=s.next(),g.label=1;case 1:return l.done?[3,4]:(d=l.value,[4,this._openChannelCache.remove(d)]);case 2:g.sent(),g.label=3;case 3:return l=s.next(),[3,1];case 4:return[3,7];case 5:return d=g.sent(),p={error:d},[3,7];case 6:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 7:return[2]}})})},ca.prototype.setEnteredToCache=function(a){this._openChannelCache.enter(a.url)},ca.prototype.setExitedToCache=function(a){this._openChannelCache.exit(a.url)},ca.prototype._handleEvent=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,O,L,q,G,te,ae,Ne,Q,se,_e,ve,ze,si,ct,Jl,Bd,Gd,Zl,nl,Ve,vn,Hn,gt,tt,Dr,Ot,Si,oi,yo,Za,es,Ur,Eo,da,dt,Ni,jp,Vp,$m,eu,w1,x1,k1,C1,S1,UM,ji=this;return F(this,function(Dt){switch(Dt.label){case 0:switch(Dt.trys.push([0,51,,52]),a.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return p=null,a.code==="MESG"?p=a.as(f4):a.code==="FILE"?p=a.as(UT):a.code!=="ADMM"&&a.code!="BRDM"||(p=a.as(XX)),p?(s=p.message,l=p.isMentioned,s.channelType!==Er.OPEN?[3,3]:[4,this.getChannel(s.channelUrl,!0)]):[3,3];case 2:d=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r,Vs;return F(this,function(nu){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())Lr=cn.value,this._openChannelCache.isEnteredChannel(d.url)&&Lr.onMessageReceived(d,s),l&&Lr.onMentionReceived(d,s)}catch(Wp){$r={error:Wp}}finally{try{cn&&!cn.done&&(Vs=Kn.return)&&Vs.call(Kn)}finally{if($r)throw $r.error}}return[2]})})}),Dt.label=3;case 3:return[3,50];case 4:return p=null,a.code==="MEDI"?p=a.as(Vy):a.code==="FEDI"?p=a.as(g4):a.code==="AEDI"&&(p=a.as(JX)),!p||(m=p.message).channelType!==Er.OPEN?[3,6]:[4,this.getChannel(m.channelUrl,!0)];case 5:g=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r,Vs;return F(this,function(nu){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())Lr=cn.value,this._openChannelCache.isEnteredChannel(g.url)&&Lr.onMessageUpdated(g,m)}catch(Wp){$r={error:Wp}}finally{try{cn&&!cn.done&&(Vs=Kn.return)&&Vs.call(Kn)}finally{if($r)throw $r.error}}return[2]})})}),Dt.label=6;case 6:return[3,50];case 7:return O=a.as(mY),ve=O.channelUrl,L=O.channelType,b=O.messageId,L!==Er.OPEN?[3,9]:[4,this.getChannel(ve,!0)];case 8:w=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r,Vs;return F(this,function(nu){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())Lr=cn.value,this._openChannelCache.isEnteredChannel(w.url)&&Lr.onMessageDeleted(w,b)}catch(Wp){$r={error:Wp}}finally{try{cn&&!cn.done&&(Vs=Kn.return)&&Vs.call(Kn)}finally{if($r)throw $r.error}}return[2]})})}),Dt.label=9;case 9:return[3,50];case 10:return O=a.as(ZX),ve=O.channelUrl,L=O.channelType,q=O.event,L!==Er.OPEN?[3,12]:[4,this.getChannel(ve,!0)];case 11:G=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r;return F(this,function(Vs){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())cn.value.onReactionUpdated(G,q)}catch(nu){Lr={error:nu}}finally{try{cn&&!cn.done&&($r=Kn.return)&&$r.call(Kn)}finally{if(Lr)throw Lr.error}}return[2]})})}),Dt.label=12;case 12:return[3,50];case 13:return(te=a.as(eJ).event).channelType!==Er.OPEN?[3,15]:[4,this.getChannel(te.channelUrl,!0)];case 14:ae=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r;return F(this,function(Vs){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())cn.value.onThreadInfoUpdated(ae,te)}catch(nu){Lr={error:nu}}finally{try{cn&&!cn.done&&($r=Kn.return)&&$r.call(Kn)}finally{if(Lr)throw Lr.error}}return[2]})})}),Dt.label=15;case 15:return[3,50];case 16:Ne=a.as(YX).openChannelMemberCounts,Q=[],Dt.label=17;case 17:Dt.trys.push([17,22,23,24]),se=jn(Ne),_e=se.next(),Dt.label=18;case 18:return _e.done?[3,21]:(ze=_e.value,ve=ze.channelUrl,Ve=ze.participantCount,ze=ze.updatedAt,[4,this.getChannelFromCache(ve)]);case 19:(si=Dt.sent())&&si._updateParticipantCount(Ve,ze)&&Q.push(si),Dt.label=20;case 20:return _e=se.next(),[3,18];case 21:return[3,24];case 22:return si=Dt.sent(),S1={error:si},[3,24];case 23:try{_e&&!_e.done&&(UM=se.return)&&UM.call(se)}finally{if(S1)throw S1.error}return[7];case 24:return 0<Q.length?[4,this.upsertChannelsToCache(Q)]:[3,26];case 25:Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){var Kn,cn,Lr,$r;return F(this,function(Vs){try{for(Kn=jn(this._openChannelHandlers.values()),cn=Kn.next();!cn.done;cn=Kn.next())cn.value.onChannelMemberCountChanged(Q)}catch(nu){Lr={error:nu}}finally{try{cn&&!cn.done&&($r=Kn.return)&&$r.call(Kn)}finally{if(Lr)throw Lr.error}}return[2]})})}),Dt.label=26;case 26:return[3,50];case 27:if((ct=a.as(qR).event).isOpenChannelEvent)switch(ct.category){case Ci.CHANNEL_ENTER:return[3,28];case Ci.CHANNEL_EXIT:return[3,30];case Ci.CHANNEL_OPERATOR_UPDATE:return[3,32];case Ci.USER_CHANNEL_MUTE:case Ci.USER_CHANNEL_UNMUTE:return[3,34];case Ci.USER_CHANNEL_BAN:case Ci.USER_CHANNEL_UNBAN:return[3,36];case Ci.CHANNEL_FREEZE:case Ci.CHANNEL_UNFREEZE:return[3,38];case Ci.CHANNEL_DELETED:return[3,40];case Ci.CHANNEL_PROP_CHANGED:return[3,43];case Ci.CHANNEL_META_DATA_CHANGED:return[3,45];case Ci.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(ct.channelUrl,!0)];case 29:return Jl=Dt.sent(),nl=a.as(pM),Ve=nl.participantCount,Bd=nl.user,Gd=Jl._updateParticipantCount(Ve,ct.ts),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){cn.onUserEntered(Jl,Bd),Gd&&cn.onChannelParticipantCountChanged(Jl)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(ct.channelUrl,!0)];case 31:return Zl=Dt.sent(),nl=a.as(fM),Ve=nl.participantCount,vn=nl.user,Hn=Zl._updateParticipantCount(Ve,ct.ts),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){cn.onUserExited(Zl,vn),Hn&&cn.onChannelParticipantCountChanged(Zl)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(ct.channelUrl,!0)];case 33:return gt=Dt.sent(),tt=a.as(QX).operators,gt.operators=tt,this.upsertChannelsToCache([gt]),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){cn.onOperatorUpdated(gt,tt)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(ct.channelUrl,!0)];case 35:return Dr=Dt.sent(),Ot=ct.category===Ci.USER_CHANNEL_MUTE,Si=a.as(Ot?nY:rY).user,at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){Ot?cn.onUserMuted(Dr,Si):cn.onUserUnmuted(Dr,Si)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(ct.channelUrl,!0)];case 37:return oi=Dt.sent(),yo=ct.category===Ci.USER_CHANNEL_BAN,Za=a.as(yo?aY:oY).user,at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){yo?cn.onUserBanned(oi,Za):cn.onUserUnbanned(oi,Za)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(ct.channelUrl,!0)];case 39:return es=Dt.sent(),Ur=a.as(lY).freeze,es.isFrozen=Ur,this.upsertChannelsToCache([es]),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){Ur?cn.onChannelFrozen(es):cn.onChannelUnfrozen(es)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(ct.channelUrl,!0)];case 41:return Eo=Dt.sent(),[4,this.removeChannelsFromCache([Eo.url])];case 42:return Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){cn.onChannelDeleted(Eo.url,Eo.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(ct.channelUrl,!0)];case 44:return da=Dt.sent(),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){cn.onChannelChanged(da)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(ct.channelUrl,!0)];case 46:return dt=Dt.sent(),eu=a.as(zQ),Ni=eu.created,jp=eu.updated,Vp=eu.deleted,Ni&&dt._upsertCachedMetaData(Ni,ct.ts),jp&&dt._upsertCachedMetaData(jp,ct.ts),Vp&&dt._removeFromCachedMetaData(Vp,ct.ts),at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){Ni&&cn.onMetaDataCreated(dt,Ni),jp&&cn.onMetaDataUpdated(dt,jp),Vp&&cn.onMetaDataDeleted(dt,Vp)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(ct.channelUrl,!0)];case 48:return $m=Dt.sent(),eu=a.as(XQ),w1=eu.created,x1=eu.updated,k1=eu.deleted,at(function(){return P(ji,void 0,void 0,function(){return F(this,function(Kn){return this._openChannelHandlers.forEach(function(cn){w1&&cn.onMetaCounterCreated($m,w1),x1&&cn.onMetaCounterUpdated($m,x1),k1&&cn.onMetaCounterDeleted($m,k1)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(C1=Dt.sent(),ql(C1))throw C1;return[3,52];case 52:return[2]}})})},ca.prototype.addHandler=function(a,s){this._openChannelHandlers.set(a,s)},ca.prototype.removeHandler=function(a){this._openChannelHandlers.delete(a)},ca.prototype.clearHandler=function(){this._openChannelHandlers.clear()},ca.prototype.getChannel=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:un(fe("string",a)).throw(Ee.invalidParameters),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getChannelFromCache(a)];case 2:return(l=d.sent())?[2,l]:[3,4];case 3:return d.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(a)];case 5:return[2,d.sent()]}})})},ca.prototype.getChannelWithoutCache=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return un(fe("string",a)).throw(Ee.invalidParameters),l=new tJ({channelUrl:a,isInternalCall:s}),[4,this._requestQueue.send(l)];case 1:return l=p.sent(),d=l.as(ZR).channel,[4,this.upsertChannelsToCache([d])];case 2:return p.sent(),[2,d]}})})},ca.prototype.createChannel=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return a=pe(pe({},JR),a),un(bt("string",(p=a).operatorUserIds,!0)&&(fe("string",p.coverUrlOrImage)||mo(p.coverUrlOrImage)||p.coverUrlOrImage===null)&&fe("string",p.name,!0)&&fe("string",p.data,!0)&&fe("string",p.customType,!0)&&(fe("string",p.channelUrl)&&/^\w+$/.test(p.channelUrl)||p.channelUrl===null)).throw(Ee.invalidParameters),s=new rJ(a),[4,this._requestQueue.send(s)];case 1:return s=d.sent(),l=s.as(ZR).channel,this.upsertChannelsToCache([l]),[2,l]}var p})})},ca),gM={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},sJ=(Y(EM,oM=Ye),EM),oJ=(Y(yM,sM=en),yM),lJ=(Y(qm,_1=St),qm.prototype._validate=function(){return _1.prototype._validate.call(this)},qm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new sJ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(oJ),l=s.participants,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw Ee.queryInProgress;case 4:return[3,6];case 5:throw Ee.invalidParameters;case 6:return[2]}})})},qm),uJ=(Y(bM,aM=Ye),bM),cJ=(Y(_M,iM=en),_M),dJ=(Y(vM,rM=Ye),vM);function vM(l){var s=this,l=l.channelUrl;return(s=rM.call(this)||this).method=We.DELETE,s.path="".concat(tc,"/").concat(encodeURIComponent(l)),s}function _M(a,s){var l=iM.call(this,a,s)||this;return l.channel=new qd(a,s),l}function bM(b){var s=this,l=b.channelUrl,d=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=aM.call(this)||this).method=We.PUT,s.path="".concat(tc,"/").concat(encodeURIComponent(l)),s.params=$n({cover_url:fe("string",d)?d:null,cover_file:mo(d)?d:null,name:p,data:m,custom_type:g,operators:b}),s}function qm(a,s,l){return _1.call(this,a,s,Er.OPEN,l)||this}function yM(a,p){var l=sM.call(this,a,p)||this,d=(l.token=null,l.participants=[],p.next),p=p.participants;return l.token=d,l.participants=p.map(function(m){return new Qn(a,m)}),l}function EM(p){var s=this,l=p.channelUrl,d=p.token,p=p.limit;return(s=oM.call(this)||this).method=We.GET,s.path="".concat(tc,"/").concat(encodeURIComponent(l),"/participants"),s.params={token:d,limit:p},s}function ca(a,p){var l=p.sdkState,d=p.dispatcher,p=p.requestQueue,m=this;this._sdkState=l,this._requestQueue=p,this._dispatcher=d,this._openChannelCache=new nJ(a),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,w;if(g instanceof cr)m._handleEvent(g);else if(g instanceof Td&&g.stateType===Zt.CONNECTED){var O=m._openChannelCache.enteredChannels;try{for(var L=jn(O),q=L.next();!q.done;q=L.next())q.value.enter()}catch(G){b={error:G}}finally{try{q&&!q.done&&(w=L.return)&&w.call(L)}finally{if(b)throw b.error}}}}),mM[a]=this}function wM(a,s,l){var d,p=this,p=lM.call(this,a,"EXIT",l)||this;return l.data&&(p.participantCount=(d=l.data.participant_count)!=null?d:0,p.user=new Qn(a,l.data),p.ts=(d=l.data.edge_ts)!=null?d:0),p}function xM(a){return a=a.channelUrl,uM.call(this,{code:"EXIT",payload:{channel_url:a},ackRequired:!0})||this}function kM(a,s,l){var d,p=this,p=cM.call(this,a,"ENTR",l)||this;return l.data&&(p.participantCount=(d=l.data.participant_count)!=null?d:0,p.user=new Qn(a,l.data),p.ts=(d=l.data.edge_ts)!=null?d:0),p}function CM(a){return a=a.channelUrl,dM.call(this,{code:"ENTR",payload:{channel_url:a},ackRequired:!0})||this}Y(function(a,s){return hM.call(this,a,s)||this},hM=en),Y(Ja,SM=H4),Ja.payloadify=function(a){return a?$n(pe(pe({},H4.payloadify(a)),{participant_count:a.participantCount,operators:a.operators.map(function(s){return Qn.payloadify(s)})})):null},Ja.prototype.serialize=function(){return ry(this)},Ja.prototype.isOperator=function(a){return a instanceof Qn?this.isOperator(a.userId):this.operators.some(function(s){return s.userId===a})},Ja.prototype._updateParticipantCount=function(a,s){return s>this._lastParticipantCountUpdated&&(this.participantCount=a,this._lastParticipantCountUpdated=s,!0)},Ja.prototype.createParticipantListQuery=function(a){return new lJ(this._iid,this.url,a)},Ja.prototype.refresh=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,pc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,a.sent()]}})})},Ja.prototype.enter=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=xe.of(this._iid).requestQueue,s=new iJ({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(pM),l=s.participantCount,d=s.ts,this._updateParticipantCount(l,d),pc.of(this._iid).setEnteredToCache(this),[2]}})})},Ja.prototype.exit=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=xe.of(this._iid).requestQueue,s=new aJ({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(fM),l=s.participantCount,d=s.ts,this._updateParticipantCount(l,d),pc.of(this._iid).setExitedToCache(this),Ca.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},Ja.prototype.updateChannel=function(a){return P(this,void 0,void 0,function(){var s,l,d;return F(this,function(p){switch(p.label){case 0:return a=pe(pe({},gM),a),un(bt("string",(m=a).operatorUserIds,!0)&&(fe("string",m.coverUrlOrImage)||mo(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&fe("string",m.name,!0)&&fe("string",m.data,!0)&&fe("string",m.customType,!0)).throw(Ee.invalidParameters),l=xe.of(this._iid).requestQueue,s=new uJ(pe({channelUrl:this.url},a)),[4,l.send(s)];case 1:return l=p.sent(),d=l.as(cJ).channel,[4,pc.of(this._iid).upsertChannelsToCache([d])];case 2:return p.sent(),[2,d]}var m})})},Ja.prototype.updateChannelWithOperatorUserIds=function(a,s,l,d,p){return P(this,void 0,void 0,function(){var m;return F(this,function(g){return m=pe(pe({},gM),{name:a,coverUrlOrImage:s,data:l,operatorUserIds:d,customType:p}),[2,this.updateChannel(m)]})})},Ja.prototype.delete=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=xe.of(this._iid).requestQueue,s=new dJ({channelUrl:this.url}),[4,a.send(s)];case 1:return l.sent(),[4,pc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return l.sent(),[2]}})})};var SM,NM,b1,qd=Ja;function Ja(a,s){var l,d=this;return(d=SM.call(this,a,s)||this)._lastParticipantCountUpdated=0,d.participantCount=0,d.operators=[],d.channelType=Er.OPEN,d.participantCount=(l=s.participant_count)!=null?l:0,d.operators=Array.isArray(s.operators)?s.operators.map(function(p){return new Qn(a,p)}):[],d}function hJ(a){a===void 0&&(a={});var s=NM.call(this)||this;return Object.keys(a).forEach(function(l){s.hasOwnProperty(l)&&(s[l]=a[l])}),s}function TM(){var a=b1!==null&&b1.apply(this,arguments)||this;return a.onUserEntered=Pt,a.onUserExited=Pt,a.onChannelParticipantCountChanged=Pt,a}Y(TM,b1=function(){this.onUserMuted=Pt,this.onUserUnmuted=Pt,this.onUserBanned=Pt,this.onUserUnbanned=Pt,this.onChannelChanged=Pt,this.onChannelDeleted=Pt,this.onChannelFrozen=Pt,this.onChannelUnfrozen=Pt,this.onOperatorUpdated=Pt,this.onChannelMemberCountChanged=Pt,this.onMetaDataCreated=Pt,this.onMetaDataUpdated=Pt,this.onMetaDataDeleted=Pt,this.onMetaCounterCreated=Pt,this.onMetaCounterUpdated=Pt,this.onMetaCounterDeleted=Pt,this.onMessageReceived=Pt,this.onMessageUpdated=Pt,this.onMessageDeleted=Pt,this.onMentionReceived=Pt,this.onReactionUpdated=Pt,this.onThreadInfoUpdated=Pt}),Y(hJ,NM=TM),Y(RM,OM=Ye);var Bm,y1,IM,OM,pJ=RM,fJ=(Y(AM,IM=en),AM),mJ=(Y(Gm,y1=rn),Gm.prototype._validate=function(){return y1.prototype._validate.call(this)&&fe("boolean",this.includeFrozen)&&fe("boolean",this.includeMetaData)&&fe("string",this.nameKeyword,!0)&&fe("string",this.urlKeyword,!0)&&bt("string",this.customTypes,!0)},Gm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,a=xe.of(this._iid).requestQueue,s=new pJ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,3]:[3,6];case 1:return a=p.sent(),s=a.as(fJ),l=s.channels,d=s.token,this._token=d,this._hasNext=!!d,[4,pc.of(this._iid).upsertChannelsToCache(l)];case 2:return p.sent(),this._isLoading=!1,[2,l];case 3:return[2,[]];case 4:throw Ee.queryInProgress;case 5:return[3,7];case 6:throw Ee.invalidParameters;case 7:return[2]}})})},Gm),gJ=(Y(ms,Bm=la),ms.prototype.init=function(a,w){var l=w.sdkState,d=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;Bm.prototype.init.call(this,a,{sdkState:l,dispatcher:d,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new pc(a,{sdkState:l,dispatcher:d,requestQueue:m})},ms.prototype.createOpenChannelListQuery=function(a){return new mJ(this._iid,a=a===void 0?{}:a)},ms.prototype.addOpenChannelHandler=function(a,s){this._manager.addHandler(a,s)},ms.prototype.removeOpenChannelHandler=function(a){this._manager.removeHandler(a)},ms.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},ms.prototype.buildOpenChannelFromSerializedData=function(a){return this._manager.buildOpenChannelFromSerializedData(a)},ms.prototype.getChannel=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.getChannel(a)]})})},ms.prototype.getChannelWithoutCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.getChannelWithoutCache(a)]})})},ms.prototype.createChannel=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.createChannel(a)]})})},ms.prototype.createChannelWithOperatorUserIds=function(a,s,l,d,p){return P(this,void 0,void 0,function(){var m;return F(this,function(g){return(m=pe({},JR)).name=a,m.coverUrlOrImage=s,m.data=l,m.operatorUserIds=d,m.customType=p,[2,this._manager.createChannel(m)]})})},ms);function ms(){var a=Bm!==null&&Bm.apply(this,arguments)||this;return a.name="openChannel",a}function Gm(a,s){var l=this;return(l=y1.call(this,a,s)||this).includeFrozen=!0,l.includeMetaData=!0,l.nameKeyword=null,l.urlKeyword=null,l.customTypes=null,l.includeFrozen=(a=s.includeFrozen)==null||a,l.includeMetaData=(a=s.includeMetaData)==null||a,l.nameKeyword=(a=s.nameKeyword)!=null?a:null,l.urlKeyword=(a=s.urlKeyword)!=null?a:null,l.customTypes=(a=s.customTypes)!=null?a:null,l}function AM(a,m){var l=IM.call(this,a,m)||this,d=(l.token=null,l.channels=[],l.ts=null,m.next),p=m.channels,m=m.ts;return l.token=d,p&&0<p.length&&(l.channels=p.map(function(g){return new qd(a,g)})),l.ts=typeof m=="number"?m:null,l}function RM(w){var s=this,l=w.token,d=w.limit,p=w.nameKeyword,m=w.urlKeyword,g=w.customTypes,b=w.includeFrozen,w=w.includeMetaData;return(s=OM.call(this)||this).method=We.GET,s.path=tc,s.params=$n({token:l,limit:d,name_contains:p,url_contains:m,custom_types:g,show_frozen:b,show_metadata:w}),s}function MM(a){return function(p,m,b){var p=DM(xJ(p)),m=wJ(m),g=p.length,b=b===void 0?" ":DM(b);return m<=g||b==""?p:((g=kJ(b,SJ((m=m-g)/b.length))).length>m&&(g=CJ(g,0,m)),a?p+g:g+p)}}var vJ=function(){_(p,Ul);var a,s,l,d=C(p);function p(m){var g;return c(this,p),(g=d.call(this))._ctx=m,g.wsClient=new EK(i(i({},m),{},{parse:function(b){return Xt.parse(b)}})),g.apiClient=new wK(i(i({},m),{},{parseResponse:function(b,w){return Xt.parseResponse(b,w)}})),g._unsubscriber=g.wsClient.on("command",function(b){g._dispatchEvent("command",b)}),g}return f(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"sendAPI",value:function(m){return this.apiClient.send(m)}},{key:"send",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"sendWithRetry",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,O,L,q,G=this,te=arguments;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return b=1<te.length&&te[1]!==void 0?te[1]:new LW,L=2<te.length&&te[2]!==void 0?te[2]:{count:0,deferred:new Rb},w=L.deferred,O=L.count,ae.prev=3,ae.next=6,this.send(g);case 6:L=ae.sent,w.resolve(L),ae.next=14;break;case 10:ae.prev=10,ae.t0=ae.catch(3),0<(q=b.calcTimeout(O))?setTimeout(function(){G.sendWithRetry(g,b,{count:O+1,deferred:w})},q):w.reject(ae.t0);case 14:return ae.abrupt("return",w.promise);case 15:case"end":return ae.stop()}},m,this,[[3,10]])})),function(m){return s.apply(this,arguments)})},{key:"_setSessionKey",value:function(m){this.apiClient.setSessionKey(m),this.wsClient.setSessionKey(m)}},{key:"authenticate",value:(a=u(regeneratorRuntime.mark(function m(g){var b,w,O;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return b=g.userId,w=g.accessToken,this._ctx.sb||(this._ctx.sb=WX.init({appId:this._ctx.appId,modules:[new gJ]})),L.prev=2,L.next=5,this._ctx.sb.connect(b,w);case 5:return O=Xt.createAuth(this._ctx.appId,b,w),L.next=8,this.send(O);case 8:O=L.sent,this._setSessionKey(O.sbcall_session_token),this._ctx.liveEventManager.userId=O.user.user_id,L.next=17;break;case 13:throw L.prev=13,L.t0=L.catch(2),fn.error("failed to authenticate user ".concat(b)),L.t0;case 17:case"end":return L.stop()}},m,this,[[2,13]])})),function(m){return a.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(),_J=Mn,bJ=Fs,yJ=He,EJ=RangeError,wt=Jn,wJ=Sn,DM=Fs,xJ=He,kJ=wt(function(a){var s=bJ(yJ(this)),l="",d=_J(a);if(d<0||d==1/0)throw EJ("Wrong number of repetitions");for(;0<d;(d>>>=1)&&(s+=s))1&d&&(l+=s);return l}),CJ=wt("".slice),SJ=Math.ceil,Ht={start:MM(!1),end:MM(!0)},Ta=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(qo),Yr=Z,NJ=Ht.start,E1=(Yr({target:"String",proto:!0,forced:Ta},{padStart:function(a){return NJ(this,a,1<arguments.length?arguments[1]:void 0)}}),{VERBOSE:{level:-1,name:gi.VERBOSE,public:!1},DEBUG:{level:1,name:gi.DEBUG,public:!1},INFO:{level:2,name:gi.INFO,public:!0},WARNING:{level:3,name:gi.WARNING,public:!0},ERROR:{level:4,name:gi.ERROR,public:!0},NONE:{level:100,name:gi.NONE,public:!0}}),TJ=function(){function a(s){c(this,a),this.level=s||gi.NONE}return f(a,[{key:"setLoggerLevel",value:function(s){var l;return(l=E1[s])!=null&&l.public&&(this.level=s),this.level}},{key:"_enabledFor",value:function(s){try{return E1[this.level].level<=E1[s].level}catch{return!1}}}]),a}(),IJ=function(){_(s,TJ);var a=C(s);function s(l){return c(this,s),a.call(this,l)}return f(s,[{key:"_getLogType",value:function(l){switch(l){case gi.ERROR:return"error";case gi.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(O){var d=O.getFullYear().toString().padStart(2,"0"),p=(O.getMonth()+1).toString().padStart(2,"0"),m=O.getDate().toString().padStart(2,"0"),g=O.getHours().toString().padStart(2,"0"),b=O.getMinutes().toString().padStart(2,"0"),w=O.getSeconds().toString().padStart(2,"0"),O=O.getMilliseconds().toString().padStart(2,"0");return"[".concat(d,".").concat(p,".").concat(m," ").concat(g,":").concat(b,":").concat(w,":").concat(O,"]")}},{key:"_permit",value:function(l){var d=this._getLogType(l),p=new Date;if(this._enabledFor(l)&&console&&console[d]){for(var p="".concat(this._getTimeString(p)," [").concat(l,"]"),m=arguments.length,g=new Array(1<m?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];(l=console)[d].apply(l,[p].concat(g))}}}]),s}(),Vn=function(){function a(){c(this,a),v(this,"_ctx",{})}var s,l,d,p;return f(a,[{key:"init",value:function(b){var g=b.appId,b=b.chatInstance;b&&(this._ctx.sb=b),this._consoleLogListener=new IJ(gi.NONE),fn.addListener(this._consoleLogListener),this._ctx.appId=g,this._ctx.clientId=Se(),this._ctx.commandRouter=new vJ(this._ctx),this._ctx.deviceManager=new bK,this._ctx.liveEventManager=new eK(this._ctx)}},{key:"setLoggerLevel",value:function(m){return this._consoleLogListener.setLoggerLevel(m)}},{key:"authenticate",value:(p=u(regeneratorRuntime.mark(function m(g,b){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._ctx.commandRouter.authenticate({userId:g,accessToken:b});case 2:return w.next=4,this._ctx.commandRouter.connectWs();case 4:case"end":return w.stop()}},m,this)})),function(m,g){return p.apply(this,arguments)})},{key:"deauthenticate",value:(d=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),fn.removeAllListener();case 5:case"end":return g.stop()}},m,this)})),function(){return d.apply(this,arguments)})},{key:"createLiveEvent",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.createLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(s=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.getLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return s.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(m){return new qB(m,this._ctx.commandRouter)}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}}]),a}(),gn=(t.ErrorCode=void 0,(zn=t.ErrorCode||(t.ErrorCode={}))[zn.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",zn[zn.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",zn[zn.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",zn[zn.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",zn[zn.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",zn[zn.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",zn[zn.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",zn[zn.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",zn[zn.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",new Vn);t.LiveEvent=Ub,t.SendbirdLive=gn,Object.defineProperty(t,"__esModule",{value:!0})})})(xr,xr.exports);var ine="sendbird-modal-root";function ia(e,n){n===void 0&&(n={});var t=n.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var ane=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;ia(ane);var sne=function(e){var n=e.children,t=e.isOpen,r=t===void 0?!1:t;e.close;var i=e.modalRoot,o=i===void 0?ine:i,u=e.className,c=u===void 0?"":u,h=e.modalClassName,f=h===void 0?"":h;if(!r)return null;var v=document.getElementById(o);return Hh.exports.createPortal(k.createElement("div",{className:"sendbird-modal__wrapper ".concat(c)},k.createElement("div",{className:"sendbird-modal__mask"}),k.createElement("div",{className:"sendbird-modal__container ".concat(f)},n)),v)},vh=function(e,n){var t=U.exports.useState(!1),r=t[0],i=t[1],o=U.exports.useCallback(function(){return i(!0)},[i]),u=U.exports.useCallback(function(){return i(!1)},[i]),c=function(h){var f=h.children;return k.createElement(sne,{isOpen:r,close:u,className:e,modalClassName:n},f)};return[c,o,u]};function W5(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function kr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?W5(Object(t),!0).forEach(function(r){one(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W5(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function one(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dl(e,n){return une(e)||dne(e,n)||C7(e,n)||pne()}function Ic(e){return lne(e)||cne(e)||C7(e)||hne()}function lne(e){if(Array.isArray(e))return x2(e)}function une(e){if(Array.isArray(e))return e}function cne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dne(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,u,c;try{for(t=t.call(e);!(i=(u=t.next()).done)&&(r.push(u.value),!(n&&r.length===n));i=!0);}catch(h){o=!0,c=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function C7(e,n){if(!!e){if(typeof e=="string")return x2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x2(e,n)}}function x2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he={exports:{}},tE,K5;function fne(){if(K5)return tE;K5=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tE=e,tE}var rE,Q5;function mne(){if(Q5)return rE;Q5=1;var e=fne();function n(){}function t(){}return t.resetWarningCache=n,rE=function(){function r(u,c,h,f,v,_){if(_!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:n};return o.PropTypes=o,o},rE}he.exports=mne()();var b3=k.createContext(),gne=function(n,t){var r=function(u){return k.createElement(b3.Consumer,null,function(c){t&&typeof t!="function"&&console.warn("Second parameter to withSendbirdContext must be a pure function");var h=kr(t&&typeof t=="function"?kr({},t(c)):kr({},c),u);return k.createElement(n,h)})},i=n.displayName||n.name||"Component";return r.displayName="SendbirdAware".concat(i),r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var k2=function(e,n){return k2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},k2(e,n)};function B(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}k2(e,n),e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ne=function(){return ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},ne.apply(this,arguments)};function T(e,n,t,r){return new(t||(t=Promise))(function(i,o){function u(f){try{h(r.next(f))}catch(v){o(v)}}function c(f){try{h(r.throw(f))}catch(v){o(v)}}function h(f){var v;f.done?i(f.value):(v=f.value,v instanceof t?v:new t(function(_){_(v)})).then(u,c)}h((r=r.apply(e,n||[])).next())})}function I(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(f){return function(v){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&v[0]?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!((i=i.length>0&&i[i.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){u.label=v[1];break}if(v[0]===6&&u.label<i[1]){u.label=i[1],i=v;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(v);break}i[2]&&u.ops.pop(),u.trys.pop();continue}v=n.call(e,u)}catch(_){v=[6,_],r=0}finally{t=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([h,f])}}}function $e(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r,i,o=t.call(e),u=[];try{for(;(n===void 0||n-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return u}function _n(e,n,t){if(t||arguments.length===2)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))}var nt,vne="4.0.4",Dc=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"4.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();(function(e){e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",e[e.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(nt||(nt={}));var Ae,eo=function(e){return!(e instanceof le&&!e.shouldThrowOutside)},le=function(e){function n(t){var r=t.code,i=r===void 0?0:r,o=t.message,u=e.call(this,o)||this;return u.shouldThrowOutside=!1,u.name="SendbirdError",u.code=i,Object.setPrototypeOf(u,n.prototype),u}return B(n,e),Object.defineProperty(n.prototype,"isInvalidTokenError",{get:function(){return this.code===nt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===nt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===nt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n,"debugModeRequired",{get:function(){return new n({code:nt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"lostInstance",{get:function(){return new n({code:nt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRenew",{get:function(){return new n({code:nt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidConnectionStateTransition",{get:function(){return new n({code:nt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRequired",{get:function(){return new n({code:nt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionCanceled",{get:function(){return new n({code:nt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidParameters",{get:function(){return new n({code:nt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"networkError",{get:function(){return new n({code:nt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"markAsReadAllRateLimitExceeded",{get:function(){return new n({code:nt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"queryInProgress",{get:function(){return new n({code:nt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noAckTimeout",{get:function(){return new n({code:nt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"loginTimeout",{get:function(){return new n({code:nt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionClosed",{get:function(){return new n({code:nt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestFailed",{get:function(){return new n({code:nt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileUploadCanceled",{get:function(){return new n({code:nt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestCanceled",{get:function(){return new n({code:nt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRefreshFailed",{get:function(){return new n({code:nt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRequestFailed",{get:function(){return new n({code:nt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),n.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},n}(Error),_ne=[nt.CONNECTION_REQUIRED,nt.NETWORK_ERROR,nt.ACK_TIMEOUT,nt.WEBSOCKET_CONNECTION_CLOSED,nt.WEBSOCKET_CONNECTION_FAILED,nt.FILE_UPLOAD_CANCEL_FAILED,nt.REQUEST_CANCELED,nt.INTERNAL_SERVER_ERROR,nt.RATE_LIMIT_EXCEEDED,nt.UNKNOWN_SERVER_ERROR],bne=[nt.WEBSOCKET_CONNECTION_CLOSED,nt.WEBSOCKET_CONNECTION_FAILED,nt.CONNECTION_REQUIRED],S7=function(e,n){if(e!==n){var t=ne({},e),r=ne({},n);return(!t.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||t.messageId===r.messageId)&&(!t.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}return!0},J=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||(typeof e!="string"?typeof e=="object"?Tn(e,n):yne(e,n):typeof n===e)},Tn=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Object.values(e).includes(n)},yne=function(e,n){return n instanceof e},On=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Array.isArray(n)&&n.every(function(r){return J(e,r)})},pv=function(e){return e>0&&bne.indexOf(e)>=0},Di=function(e,n){if(n===void 0&&(n=!1),n&&e===null)return!0;var t=J("object",e)&&e!==null&&e.hasOwnProperty("name")&&typeof e.name=="string"&&e.hasOwnProperty("uri")&&typeof e.uri=="string"&&e.hasOwnProperty("type")&&typeof e.type=="string";if(!t){if(typeof Blob<"u")return e instanceof Blob;if(typeof File<"u")return e instanceof File}return t},Ene=function(e,n){if(e===n)return!0;if(e==null||n==null||e.length!==n.length)return!1;for(var t=_n([],bn(e),!1).sort(),r=_n([],bn(n),!1).sort(),i=0;i<t.length;++i)if(t[i]!==r[i])return!1;return!0},N7=function(){function e(n){var t=n===void 0?{}:n,r=t.useMemberInfoInMessage,i=r!==void 0&&r,o=t.typingIndicatorInvalidateTime,u=o===void 0?1e4:o,c=t.typingIndicatorThrottle,h=c===void 0?1e3:c,f=t.websocketResponseTimeout,v=f===void 0?1e4:f;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=i,this._typingIndicatorInvalidateTime=u,this._typingIndicatorThrottle=h,this._websocketResponseTimeout=v}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(n){J("boolean",n)&&(this._useMemberInfoInMessage=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(n){J("number",n)&&(this._typingIndicatorInvalidateTime=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(n){J("number",n)&&n>=1e3&&n<=9e3&&(this._typingIndicatorThrottle=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(n){J("number",n)&&n>=5e3&&n<=3e4&&(this._websocketResponseTimeout=n)},enumerable:!1,configurable:!0}),e}(),Ri={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},Xv={encrypt:function(e){return e},decrypt:function(e){return e}},wne=function(){function e(n){var t=n.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._store.set({key:this._keysAddress,value:_n([],bn(this._preference.keys()),!1),generation:1})];case 1:return n.sent(),[2]}})})},e.prototype.init=function(n){var t;return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._keysAddress=n,[4,this._store.get(n)];case 1:r=(t=_.sent())!==null&&t!==void 0?t:[],_.label=2;case 2:_.trys.push([2,7,8,9]),i=$e(r),o=i.next(),_.label=3;case 3:return o.done?[3,6]:(u=o.value,[4,this._store.get(u)]);case 4:(c=_.sent())&&this._preference.set(u,c),_.label=5;case 5:return o=i.next(),[3,3];case 6:return[3,9];case 7:return h=_.sent(),f={error:h},[3,9];case 8:try{o&&!o.done&&(v=i.return)&&v.call(i)}finally{if(f)throw f.error}return[7];case 9:return[2]}})})},e.prototype.get=function(n){var t;return T(this,void 0,void 0,function(){return I(this,function(r){return[2,(t=this._preference.get(n))!==null&&t!==void 0?t:null]})})},e.prototype.set=function(n,t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=!this._preference.has(n),[4,this._store.set({key:n,value:t,generation:1})];case 1:return i.sent(),this._preference.set(n,t),r?[4,this._savePreferenceKeys()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._store.remove(n)];case 1:return t.sent(),this._preference.delete(n),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._store.removeMany(_n([],bn(this._preference.keys()),!1))];case 1:return n.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return n.sent(),[2]}})})},e}(),xne=function(e){var n=e.encryption,t=n===void 0?null:n,r=e.store,i=r===void 0?null:r,o=e.localCacheEnabled,u=o===void 0||o;this.nestdb=null,this.store=i,this.preference=new wne({store:i}),this.encryption=t!=null?t:Xv,this.localCacheEnabled=u},kne=function(){function e(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=null,this.sessionKey=null},e}(),Cs=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})},Y5=function(){function e(n){var t=n.container;this._container={},this._container=t,this.key=Cs()}return e.prototype._register=function(n,t,r){return n in this._container||(this._container[n]=new Map),this._container[n].set(this.key,{occurence:t,handler:r}),this},e.prototype.on=function(n,t){return this._register(n,-1,t)},e.prototype.once=function(n,t){return this._register(n,1,t)},e.prototype.close=function(){for(var n in this._container)this._container[n].delete(this.key)},e}(),b0=function(){function e(){this._container={}}return e.prototype.on=function(n,t){return new Y5({container:this._container}).on(n,t)},e.prototype.once=function(n,t){return new Y5({container:this._container}).once(n,t)},e.prototype.dispatch=function(n,t){var r,i,o=this._container[n];if(o){var u=[];try{for(var c=$e(o.keys()),h=c.next();!h.done;h=c.next()){var f=h.value,v=o.get(f);v.handler(t),v.occurence>0&&(v.occurence--,v.occurence===0&&u.push(f))}}catch(_){r={error:_}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}u.forEach(function(_){return o.delete(_)})}},e}(),Cne=function(){function e(){this._dispatcher=new b0}return e.prototype.on=function(n){return this._dispatcher.on("event",n)},e.prototype.once=function(n){return this._dispatcher.once("event",n)},e.prototype.dispatch=function(n){this._dispatcher.dispatch("event",n)},e}(),ei=function(){},xn=function(e){var n={};return e&&Object.keys(e).forEach(function(t){e[t]!==void 0&&e[t]!==NaN&&e[t]!==null&&(n[t]=e[t])}),n};(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(Ae||(Ae={}));var fv,Me=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=Cs(),t}return B(n,e),n.prototype.stringifyParams=function(t){return typeof t!="object"||Array.isArray(t)?String(t):t?JSON.stringify(t):""},Object.defineProperty(n.prototype,"query",{get:function(){var t=this,r=xn(this.params);return"?".concat(Object.keys(r).map(function(i){return"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t.stringifyParams(r[i])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"payload",{get:function(){var t=this,r=xn(this.params);if(Object.keys(r).some(function(o){return Di(r[o])})){var i=new FormData;return Object.keys(r).forEach(function(o){var u,c=r[o];if(Di(c)){var h=c;i.append(o,h,(u=h.name)!==null&&u!==void 0?u:"filename")}else i.append(o,t.stringifyParams(c))}),i}return JSON.stringify(r)},enumerable:!1,configurable:!0}),n}(ei),Pe=function(e){function n(t,r){var i=e.call(this)||this;return i._iid=t,i._payload=r,i}return B(n,e),Object.defineProperty(n.prototype,"payload",{get:function(){return ne({},this._payload)},enumerable:!1,configurable:!0}),n.prototype.as=function(t){return new t(this._iid,this.payload)},n}(ei),Sne=function(e){function n(t){var r=e.call(this)||this;return r.requestId=t,r}return B(n,e),n}(ei),Jv=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n}(ei),y3=function(e){function n(t){var r=e.call(this)||this;return r.statLog=t,r}return B(n,e),n}(ei);(function(e){e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"})(fv||(fv={}));var Nu,t0=function(){function e(n){var t=n.type,r=n.data,i=n.ts,o=i===void 0?Date.now():i;this.type=t,this.createdAt=o,this.data=r}return e.payloadify=function(n){return xn({stat_type:n.type,ts:n.createdAt,data:xn(n.data)})},e}(),ko=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},Nne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._abortControl=new Map,this._iid=n,this._auth=r,this._sdkState=i,this._dispatcher=o,this._dispatcher.on(function(h){h instanceof Sne&&c.cancel(h.requestId)}),this._logger=u}return Object.defineProperty(e.prototype,"_userAgentWithExtension",{get:function(){var n=this._sdkState.extensions,t=ko()?"reactnative":"JS",r=n.sb_syncmanager?"s".concat(n.sb_syncmanager):"",i=n.sb_uikit?"u".concat(n.sb_uikit):"",o=n["device-os-platform"]?"o".concat(n["device-os-platform"]):"";return"".concat(t,"/c").concat(Dc.SDK_VERSION,"/").concat(r,"/").concat(i,"/").concat(o)},enumerable:!1,configurable:!0}),e.prototype._createHeader=function(n,t){t===void 0&&(t=null);var r=this._sdkState,i=r.appId,o=r.appVersion,u=ne(ne({},n.headers),{SendBird:"JS,".concat(Dc.OS_VERSION,",").concat(Dc.SDK_VERSION,",").concat(i).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(u["Content-Type"]="application/json; charset=utf-8"),n.requireAuth&&this._auth.hasSession&&(u["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(u["App-Id"]=i,u["Access-Token"]=this._auth.authToken),u},e.prototype._statLogApiResult=function(n,t,r){this._dispatcher.dispatch(new y3(new t0({type:fv.API_RESULT,data:{endpoint:n.path,method:n.method,success:!r,latency:Date.now()-t,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},e.prototype.send=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x,C,M;return I(this,function(S){switch(S.label){case 0:t=n.path,r=n.method,i=![Ae.GET,Ae.DELETE].includes(r),o=this._sdkState.api,u="".concat(o.host).concat(t).concat(i?"":n.query),c=i?n.payload:null,h=this._createHeader(n,c instanceof FormData?c:null),f=new AbortController,v=f.signal,this._abortControl.set(n.requestId,f),_=Date.now(),S.label=1;case 1:return S.trys.push([1,4,,5]),[4,fetch(u,{method:r,body:c,headers:h,signal:v})];case 2:return[4,(y=S.sent()).json()];case 3:if(E=S.sent(),y.ok||y.redirected)return this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,_,null),[2,new Pe(this._iid,E)];throw E?((x=new le(E)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new Jv),this._statLogApiResult(n,_,x),x):(x=le.requestFailed,this._statLogApiResult(n,_,x),x);case 4:throw C=S.sent(),this._statLogApiResult(n,_,C),C instanceof le?(this._logger.debug("fail api request",C),C):C.name==="AbortError"?le.requestCanceled:(M=le.networkError,this._logger.debug("fail api request",M),M);case 5:return[2]}})})},e.prototype.cancel=function(n){this._abortControl.has(n)&&(this._abortControl.get(n).abort(),this._abortControl.delete(n))},e.prototype.cancelAll=function(){var n,t;try{for(var r=$e(this._abortControl.values()),i=r.next();!i.done;i=r.next())i.value.abort()}catch(o){n={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}this._abortControl.clear()},e}(),Ut=function(e){function n(t,r,i,o){o===void 0&&(o="");var u,c=this;return(c=e.call(this)||this)._iid=t,c.code=r,c.payload=i,c.requestId=i?(u=i.req_id)!==null&&u!==void 0?u:o:"",c}return B(n,e),n.createFromRawMessage=function(t,r){var i=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{i="NOOP"}finally{return new n(t,i,o)}},n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n.prototype.as=function(t){return new t(this._iid,this.code,this.payload)},n}(ei),$a=function(e){function n(t){var r,i=t.code,o=t.ackRequired,u=t.payload,c=u===void 0?null:u,h=this;return(h=e.call(this)||this).code=i,h.payload=c,h.requestId=(r=h.payload.req_id)!==null&&r!==void 0?r:Cs(),h.ackRequired=o,h.payload.req_id=h.requestId,h}return B(n,e),n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n}(ei),Tne=function(e){function n(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return B(n,e),n}($a),Ine=function(){function e(n){var t=n.pingDelegate,r=n.sdkState,i=n.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=r,this._logger=i}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var n,t=this,r=new Tne;try{var i=(n=this.sdkState.websocket.pongTimeout)!==null&&n!==void 0?n:5e3;this._pingTimeoutTimer=setTimeout(function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)},i),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e.prototype.refreshTimer=function(){var n,t=this;this._logger.debug("pinger.refreshTimer()");var r=(n=this.sdkState.websocket.pingInterval)!==null&&n!==void 0?n:15e3;this.stop(),this._pingTimer=setInterval(function(){t.ping()},r)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e}(),Pn=function(){};(function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"})(Nu||(Nu={}));var At,One=function(e){function n(t,r){var i=r.sdkState,o=r.dispatcher,u=r.logger,c=e.call(this)||this;return c._pinger=null,c.lastActive=0,c._iid=t,c._sdkState=i,c._dispatcher=o,c._logger=u,c._sdkState.websocket.pingerDisabled||(c._pinger=new Ine({pingDelegate:{send:function(h){return c.send(h)},error:function(h){return c.error(h)}},sdkState:c._sdkState,logger:u})),c}return B(n,e),Object.defineProperty(n.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Nu.CONNECTING;case 1:return Nu.OPEN}return Nu.CLOSED},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){var r=this;this._ws=new WebSocket(t),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(i){i.data.split(`
`).forEach(function(o){if(o&&J("string",o)){var u=Ut.createFromRawMessage(r._iid,o);r._logger.debug("receive websocket event",u),u.code==="LOGI"?(u.payload&&!u.payload.error&&r._pinger&&r._pinger.start(),r.dispatch("message",u)):u.code==="PONG"?r._pinger&&r._pinger.pong():u.code==="EXPR"?u.payload&&u.payload.expires_in>0&&r._dispatcher.dispatch(new Jv):u.code==="NOOP"||r.dispatch("message",u)}})},this._ws.onerror=function(){r._logger.debug("websocket error"),r._pinger&&r._pinger.stop(),r.dispatch("error",le.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r._pinger&&r._pinger.stop(),r.dispatch("close")},this.lastActive=Date.now()},n.prototype.disconnect=function(){var t=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Pn,this._ws.onmessage=Pn,this._ws.onerror=Pn,this._ws.onclose=function(){t.dispatch("close")},this._ws.close(),this._ws=null)},n.prototype.send=function(t){if(!this._ws)throw le.connectionClosed;t.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",t),this._ws.send(t.convertToMessage())},n.prototype.error=function(t){this._logger.debug("websocket error",t),this._pinger&&this._pinger.stop(),this.dispatch("error",t)},n}(b0),T7=function(e){function n(t){var r=t.all,i=t.custom_types,o=t.ts,u=e.call(this)||this;return u.all=r,u.customTypes=i,u.ts=o,u}return B(n,e),n}(ei),ma=function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})},Ane=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._ackStateMap=new Map,this._sdkState=i,this._dispatcher=o,this._logger=u,this.apiClient=new Nne(n,{auth:r,sdkState:i,dispatcher:o,logger:u}),this.websocketClient=new One(n,{sdkState:i,dispatcher:o,logger:u}),this.websocketClient.on("message",function(h){if(h.payload.unread_cnt&&c._dispatcher.dispatch(new T7(h.payload.unread_cnt)),h.requestId){if(c._ackStateMap.has(h.requestId)){var f=c._ackStateMap.get(h.requestId);h.code!=="EROR"?f.resolve(h):f.reject(new le({code:h.payload.code,message:h.payload.message}))}}else c._dispatcher.dispatch(h)}).on("close",function(){c._ackStateMap.forEach(function(h){h.reject(le.connectionClosed)}),c._ackStateMap.clear()})}return e.prototype._sendApiRequest=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this.apiClient.send(n)];case 1:return[2,t.sent()]}})})},e.prototype._sendWebsocketRequest=function(n){return T(this,void 0,void 0,function(){var t,r,i,o=this;return I(this,function(u){if(t=new ma,n.ackRequired){r=null,i=function(c,h){c===void 0&&(c=null),h===void 0&&(h=null),o._ackStateMap.has(n.requestId)&&(o._ackStateMap.delete(n.requestId),r&&(clearTimeout(r),r=null),c?(o._logger.debug("fail websocket request",c),t.reject(c)):(o._logger.debug("receive websocket ack",n.requestId),t.resolve(h)))};try{r=setTimeout(function(){return i(le.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(n.requestId,{resolve:function(c){return i(null,c)},reject:function(c){return i(c)}}),this.websocketClient.send(n)}catch(c){i(c)}}else try{this.websocketClient.send(n),t.resolve(null)}catch(c){t.reject(c)}return[2,t.promise]})})},e.prototype.send=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return n instanceof Me?[4,this._sendApiRequest(n)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return n instanceof $a?[4,this._sendWebsocketRequest(n)]:[3,4];case 4:throw le.invalidParameters}})})},e.prototype.cancel=function(n){this.apiClient.cancel(n)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();(function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.DISCONNECTED=5]="DISCONNECTED",e[e.LOGOUT=6]="LOGOUT"})(At||(At={}));var Nt,Ss,br,di,Nh,pi,ta,Au,qt,oo=function(e){function n(t){var r=t.stateType,i=e.call(this)||this;return i.stateType=r,i}return B(n,e),n}(ei),Rne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._currentConnectionStateType=At.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Ane(n,{auth:r,sdkState:i,dispatcher:o,logger:u}),this._auth=r,this._logger=u,this._dispatcher=o,this._dispatcher.on(function(h){if(h instanceof oo){var f=h.stateType;switch(c._currentConnectionStateType=f,f){case At.CONNECTED:var v=c._lazyCallQueue;c._lazyCallQueue=[],v.forEach(function(_){return T(c,void 0,void 0,function(){var y,E,x,C,M;return I(this,function(S){switch(S.label){case 0:y=_.command,E=_.deferred,x=_.timeout,clearTimeout(x),S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.send(y)];case 2:return C=S.sent(),E.resolve(C),[3,4];case 3:return M=S.sent(),E.reject(M),[3,4];case 4:return[2]}})})});break;case At.INITIALIZED:case At.DISCONNECTED:case At.LOGOUT:v=c._lazyCallQueue,c._lazyCallQueue=[],v.forEach(function(_){return T(c,void 0,void 0,function(){var y,E;return I(this,function(x){return y=_.deferred,E=_.timeout,clearTimeout(E),this._auth&&this._auth.hasSession?y.reject(le.connectionClosed):y.reject(le.connectionRequired),[2]})})})}}})}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===At.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===At.CONNECTING||this._currentConnectionStateType===At.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.send=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return n instanceof $a?this.isReady?(this._logger.debug("send websocket request",n),[4,this.commandRouter.send(n)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",n),t=new ma,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),le.connectionRequired;case 3:return[3,7];case 4:return n instanceof Me?this._auth.hasSession?(this._logger.debug("send api request",n),[4,this.commandRouter.send(n)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",n),t=new ma,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw r=le.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},e.prototype.forceSend=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this._logger.debug("send websocket request (forced)",n),[4,this.commandRouter.send(n)];case 1:return[2,t.sent()]}})})},e.prototype.timeout=function(n){this._logger.debug("timeout request",n);var t=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===n});t>-1&&(this._lazyCallQueue[t].deferred.reject(le.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(n){this._logger.debug("cancel api request",n),this.commandRouter.cancel(n)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),Mne=function(e){function n(t){var r=t.userId,i=t.authToken,o=t.expiringSession,u=o===void 0||o,c=e.call(this)||this;return c.path="/users/".concat(r,"/session_key"),c.method=Ae.POST,c.params={token:i,expiring_session:!!u},c.requireAuth=!1,c}return B(n,e),n}(Me),Dne=function(e){function n(t){var r=t.authToken,i=t.expiringSession,o=i===void 0||i;return e.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0},ackRequired:!0})||this}return B(n,e),n}($a),Une=function(e){function n(t,r){var i=e.call(this,t,r)||this,o=r.key;return i.key=o,i}return B(n,e),n}(Pe),Lne=function(e){function n(t,r,i){var o=e.call(this,t,"LOGI",i)||this;return o.error=null,o.newKey=i.new_key,o.error=i.error?new le(i.error):null,o}return B(n,e),n}(Ut),Pne=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n}(ei),bs=function(e){return T(void 0,void 0,void 0,function(){return I(this,function(n){return[2,new Promise(function(t){return setTimeout(t,e)})]})})},I7=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),Zv=function(e,n,t){return t===void 0&&(t=new I7),T(void 0,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:r=0,i=null,o=function(v){return v===void 0&&(v=null),i=v!=null?v:new Error("Halted")},u=function(){r=0},f.label=1;case 1:if(!(n===-1||r<n))return[3,9];f.label=2;case 2:return f.trys.push([2,4,,8]),[4,e(o,u)];case 3:if(c=f.sent(),i)throw i;return[2,c];case 4:if(h=f.sent(),i)return[3,6];if(++r===n)throw h;return[4,bs(t.calcTimeout(r))];case 5:return f.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},nn=function(e){return T(void 0,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return t.sent(),[3,3];case 2:if(!((n=t.sent())instanceof le))throw n;return n.throwOutside(),[3,3];case 3:return[2]}})})},Ns=function(e){return T(void 0,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})},Fne=function(){function e(n){var t=n.auth,r=n.sdkState,i=n.dispatcher,o=n.requestQueue,u=n.logger,c=this;this._currentConnectionStateType=At.INITIALIZED,this.auth=t,this._sdkState=r,this._dispatcher=i,this._requestQueue=o,this._logger=u,this._dispatcher.on(function(h){if(h instanceof oo){var f=h.stateType;c._currentConnectionStateType=f}else h instanceof Jv&&c.refresh()})}return e.prototype.createRefreshWebsocketCommand=function(n){return new Dne({authToken:n,expiringSession:!0})},e.prototype._refreshSessionKey=function(n,t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v=this;return I(this,function(_){switch(_.label){case 0:if(this._currentConnectionStateType!==At.CONNECTED)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),r=this.createRefreshWebsocketCommand(n),[4,this._requestQueue.forceSend(r)];case 2:if(i=_.sent(),o=i.as(Lne),u=o.newKey,c=o.error)throw c;return this.auth.sessionKey=u!=null?u:this.auth.sessionKey,this._logger.debug("session refreshed"),nn(function(){return T(v,void 0,void 0,function(){return I(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2];case 3:if(h=_.sent(),eo(h))throw h;return h.isSessionTokenExpiredError?(this._handleError(t),[2]):[3,4];case 4:return _.trys.push([4,6,,7]),f=new Mne({userId:this._sdkState.userId,authToken:n,expiringSession:!0}),[4,Zv(function(y){return T(v,void 0,void 0,function(){var E,x,C;return I(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(f)];case 1:return E=M.sent(),x=E.as(Une).key,this.auth.sessionKey=x,[3,3];case 2:throw(C=M.sent()).isSessionTokenExpiredError&&y(le.sessionTokenRefreshFailed),C;case 3:return[2]}})})},3)];case 5:return _.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return _.sent(),this._handleError(t),[2];case 7:return nn(function(){return T(v,void 0,void 0,function(){return I(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2]}})})},e.prototype._handleError=function(n){var t=this,r=le.sessionTokenRefreshFailed;nn(function(){return T(t,void 0,void 0,function(){return I(this,function(i){return this.handler.onSessionError(r),[2]})})}),n&&n.reject(r)},e.prototype.refresh=function(){return T(this,void 0,void 0,function(){var n,t,r,i=this;return I(this,function(o){return this.handler?(n=new ma,t=function(u){u?(i._logger.debug("session refreshing.."),i.auth.authToken=u,i._refreshSessionKey(u,n)):(i._logger.debug("session closed"),nn(function(){return T(i,void 0,void 0,function(){return I(this,function(c){return this.handler.onSessionClosed(),[2]})})}),n.resolve())},r=function(){i._dispatcher.dispatch(new Pne);var u=le.sessionTokenRequestFailed;i.handler&&(nn(function(){return T(i,void 0,void 0,function(){return I(this,function(c){return this.handler.onSessionError(u),[2]})})}),n.reject(u))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,n):nn(function(){return T(i,void 0,void 0,function(){return I(this,function(u){return this.handler.onSessionTokenRequired(t,r),[2]})})}),[2,n.promise]):[2]})})},e}(),Gh=function(){function e(){this.type=At.NONE,this.name="none"}return e.prototype.run=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2]})})},e.prototype.onConnect=function(n,t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},e.prototype.onReconnect=function(n,t){return t.resetReconnectCount,T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},e.prototype.onDisconnect=function(n,t){return t.error,t.autoReconnect,T(this,void 0,void 0,function(){return I(this,function(r){return[2]})})},e.prototype.onLogout=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2]})})},e}(),r0=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=At.LOGOUT,t.name="logout",t}return B(n,e),n.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return r=t.sdkState.userId,t.logout(),nn(function(){return T(i,void 0,void 0,function(){return I(this,function(u){return t.connectionHandlers.forEach(function(c){c.onDisconnected(r)}),[2]})})}),[4,t.changeState(new E3)];case 1:return o.sent(),[2]}})})},n}(Gh),C2=function(e){function n(t){var r=t.autoReconnect,i=e.call(this)||this;return i.type=At.DISCONNECTED,i.name="disconnected",i._autoReconnect=!1,i._autoReconnect=r,i}return B(n,e),n.prototype.run=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return t.disconnect(),this._autoReconnect?[4,t.changeState(new S2)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return t.disconnect(),[4,t.changeState(new A7({authToken:r}))];case 1:return i.sent(),[2]}})})},n.prototype.onReconnect=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new S2)];case 1:return r.sent(),[2]}})})},n.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new r0)];case 1:return r.sent(),[2]}})})},n}(Gh),S2=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=At.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return B(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h=this;return I(this,function(f){switch(f.label){case 0:r=new ma,this._callbacks.push(function(v){return v?r.reject(v):r.resolve()}),nn(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectStarted()}),[2]})})}),f.label=1;case 1:return f.trys.push([1,4,,9]),i=t.sdkState.websocket,o=i.reconnectMaxRetry,u=i.reconnectRetryStrategy,[4,Zv(function(v,_){return T(h,void 0,void 0,function(){var y;return I(this,function(E){switch(E.label){case 0:this._haltConnect=v,this._resetConnect=_,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,t.connect()];case 2:return E.sent(),[3,4];case 3:if((y=E.sent())instanceof le&&y.code===nt.CONNECTION_CANCELED)return v(y),[2];throw y;case 4:return[2]}})})},o,u)];case 2:return f.sent(),[4,t.changeState(new O7)];case 3:return f.sent(),nn(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return c=f.sent(),eo(c)?[3,7]:c instanceof le?c.code===nt.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new C2({autoReconnect:!1}))]:[3,6];case 5:f.sent(),f.label=6;case 6:return nn(function(){return T(h,void 0,void 0,function(){return I(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectFailed()}),this.flushCallbacks(c),[2]})})}),[3,8];case 7:throw c;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return i=new ma,this._resetConnect&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(u){return u?i.reject(u):i.resolve()}),[2,i.promise]})})},n.prototype.onReconnect=function(t,r){var i=r.resetReconnectCount,o=i!==void 0&&i;return T(this,void 0,void 0,function(){var u;return I(this,function(c){return u=new ma,this._resetConnect&&o&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(h){return h?u.reject(h):u.resolve()}),[2,u.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i,u=r.autoReconnect,c=u===void 0||u;return T(this,void 0,void 0,function(){return I(this,function(h){switch(h.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:le.connectionCanceled),[4,t.changeState(new C2({autoReconnect:c}))];case 1:return h.sent(),[2]}})})},n.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(le.connectionCanceled),[4,t.changeState(new r0)];case 1:return r.sent(),[2]}})})},n}(Gh),O7=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=At.CONNECTED,t.name="connected",t}return B(n,e),n.prototype.onReconnect=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return t.disconnect(),[4,t.changeState(new S2)];case 1:return r.sent(),[2]}})})},n.prototype.onDisconnect=function(t,r){var i=r.autoReconnect;return T(this,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return[4,t.changeState(new C2({autoReconnect:i}))];case 1:return o.sent(),[2]}})})},n.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.changeState(new r0)];case 1:return r.sent(),[2]}})})},n}(Gh),A7=function(e){function n(t){var r=t.authToken,i=e.call(this)||this;return i.type=At.CONNECTING,i.name="connecting",i._authToken="",i._haltConnect=null,i._callbacks=[],i._authToken=r,i}return B(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){switch(u.label){case 0:r=new ma,this._callbacks.push(function(c){return c?r.reject(c):r.resolve()}),u.label=1;case 1:return u.trys.push([1,4,,9]),[4,Zv(function(c){return T(o,void 0,void 0,function(){var h;return I(this,function(f){switch(f.label){case 0:this._haltConnect=c,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t.connect(this._authToken)];case 2:return f.sent(),[3,4];case 3:if((h=f.sent())instanceof le&&h.code===nt.CONNECTION_CANCELED)return c(h),[2];throw h;case 4:return[2]}})})},t.sdkState.websocket.connectMaxRetry)];case 2:return u.sent(),[4,t.changeState(new O7)];case 3:return u.sent(),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(c){return t.connectionHandlers.forEach(function(h){h.onConnected(t.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return i=u.sent(),eo(i)?[3,7]:(t.disconnect(),i instanceof le?i.code===nt.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new E3)]:[3,6]);case 5:u.sent(),u.label=6;case 6:return nn(function(){return T(o,void 0,void 0,function(){return I(this,function(c){return this.flushCallbacks(i),[2]})})}),[3,8];case 7:throw i;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){return r=new ma,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i;return T(this,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:le.connectionCanceled),[4,t.changeState(new r0)];case 1:return u.sent(),[2]}})})},n.prototype.onLogout=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(le.connectionCanceled),[4,t.changeState(new r0)];case 1:return r.sent(),[2]}})})},n}(Gh),E3=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=At.INITIALIZED,t.name="initialized",t}return B(n,e),n.prototype.onConnect=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,t.changeState(new A7({authToken:r}))];case 1:return i.sent(),[2]}})})},n}(Gh),X5=new Map,i0=function(e,n){var t;return n===void 0&&(n=null),n!==null&&X5.set(e,n),(t=X5.get(e))!==null&&t!==void 0?t:""},Hne=function(e){e===void 0&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?1048576*e.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!e.use_reaction,this.applicationAttributes=e.application_attributes||[],this.premiumFeatureList=e.premium_feature_list||[]},lo=function(){function e(n){this._iid="",this._iid=n}return e.payloadify=function(n){return n?{}:null},e}(),rt="/".concat("v3","/users"),qne="/".concat("v3","/storage/file"),Hi="/".concat("v3","/group_channels"),Bne="/".concat("v3","/sdk/group_channels"),Xc="/".concat("v3","/open_channels"),Gne="/".concat("v3","/sdk/open_channels"),$ne="/".concat("v3","/search"),J5="/".concat("v3","/report"),zne="/".concat("v3","/emojis"),R7="/".concat("v3","/emoji_categories"),M7="/".concat("v3","/scheduled_messages"),jne="/".concat("v3","/sdk/statistics"),Vne=function(e){function n(t){var r=t.userId,i=t.metadata,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(rt,"/").concat(r,"/metadata"),o.params={metadata:i},o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}B(n,e)})(Pe),function(e){e.BASE="base",e.GROUP="group",e.OPEN="open"}(Nt||(Nt={})),function(e){e.OPERATOR="operator",e.NONE="none"}(Ss||(Ss={})),function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(br||(br={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(di||(di={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Nh||(Nh={})),function(e){e.USERS="users",e.CHANNEL="channel"}(pi||(pi={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(ta||(ta={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(Au||(Au={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(qt||(qt={}));var Et=function(e){switch(e){case Nt.GROUP:return Hi;case Nt.OPEN:return Xc;default:return null}},D7=function(e){switch(e){case Nt.GROUP:return"".concat(J5,"/group_channels");case Nt.OPEN:return"".concat(J5,"/open_channels");default:return null}},Th=function(e,n,t){var r,i;switch(e){case pi.CHANNEL:return!0;case pi.USERS:if(n)try{for(var o=$e(n),u=o.next();!u.done;u=o.next())if(u.value===t)return!0}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}return!1},w3=function(e,n,t){var r=Th(e.mentionType,e.mentionedUserIds,t),i=Th(n.mentionType,n.mentionedUserIds,t);return!r&&i?1:r&&!i?-1:0},Wne=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0},r}return B(n,e),n}(Me),U7=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaData=r!=null?r:{},i}return B(n,e),n}(Pe),Kne=function(e){function n(t){var r=t.userId,i=t.metadata,o=t.upsert,u=e.call(this)||this;return u.method=Ae.PUT,u.path="".concat(rt,"/").concat(r,"/metadata"),u.params={metadata:i,upsert:o},u}return B(n,e),n}(Me),Qne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}return B(n,e),n}(Pe),Yne=function(e){function n(t){var r=t.userId,i=t.metadataKey,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(r,"/metadata/").concat(i),o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Xne=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(rt,"/").concat(r,"/metadata"),i}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var lh,y0=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return t._iid&&delete t._iid,n&&n(t),t},Uc=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return n&&n(t),t},Fe=function(e){return{do:function(n){e||n()},throw:function(n){if(!e)throw n}}};(function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"})(lh||(lh={}));var Ec,Dn=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M=this;return(M=e.call(this,t)||this).userId=(o=(i=r.guest_id)!==null&&i!==void 0?i:r.user_id)!==null&&o!==void 0?o:"",M.nickname=(c=(u=r.nickname)!==null&&u!==void 0?u:r.name)!==null&&c!==void 0?c:"",M.plainProfileUrl=(f=(h=r.profile_url)!==null&&h!==void 0?h:r.image)!==null&&f!==void 0?f:"",M.requireAuth=(v=r.require_auth_for_profile_image)!==null&&v!==void 0&&v,M.metaData=(_=r.metadata)!==null&&_!==void 0?_:{},M.connectionStatus=lh.NON_AVAILABLE,Tn(lh,r.is_online)?M.connectionStatus=r.is_online:J("boolean",r.is_online)&&(M.connectionStatus=r.is_online?lh.ONLINE:lh.OFFLINE),M.isActive=(y=r.is_active)===null||y===void 0||y,M.lastSeenAt=(E=r.last_seen_at)!==null&&E!==void 0?E:null,M.preferredLanguages=r.preferred_languages?_n([],bn(r.preferred_languages),!1):null,M.friendDiscoveryKey=(x=r.friend_discovery_key)!==null&&x!==void 0?x:null,M.friendName=(C=r.friend_name)!==null&&C!==void 0?C:null,M}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(n.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i0(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return y0(this)},n.prototype._isValidMetaData=function(t){return!Array.isArray(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(r){return t[r]}).every(function(r){return J("string",r)})},n.prototype._applyMetaData=function(t,r){var i=this;r===void 0&&(r=!1),Object.keys(t).forEach(function(o){r?delete i.metaData[o]:i.metaData[o]=t[o]})},n.prototype.createMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(this._isValidMetaData(t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Vne({userId:i.userId,metadata:t}),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(U7).metaData,this._applyMetaData(h),[2,this.metaData]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(this._isValidMetaData(t)).throw(le.invalidParameters),i=re.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new Kne({userId:o.userId,metadata:t,upsert:r}),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(Qne).metadata,this._applyMetaData(f),[2,this.metaData]}})})},n.prototype.deleteMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Yne({userId:i.userId,metadataKey:t}),[4,o.send(u)];case 1:return h.sent(),this._applyMetaData(((c={})[t]=!0,c),!0),[2,this.metaData]}})})},n.prototype.deleteAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Xne({userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),this.metaData={},[2]}})})},n}(lo),L7=function(e){function n(t){var r=t.userProfile,i=e.call(this)||this;return i.userProfile=r,i}return B(n,e),n}(ei),N2=function(){function e(n,t){var r,i,o,u,c,h,f,v,_,y,E,x,C,M;this._iid=n,this.appInfo=new Hne(t),this.user=new Dn(n,t),this.connectedAt=1e3*((r=t.login_ts)!==null&&r!==void 0?r:0),this.firstConnectedAt=0,this.pingInterval=(i=t.ping_interval)!==null&&i!==void 0?i:15e3,this.pongTimeout=(o=t.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(c=(u=t.reconnect)===null||u===void 0?void 0:u.interval)!==null&&c!==void 0?c:3e3,this.reconnectMaxInterval=(f=(h=t.reconnect)===null||h===void 0?void 0:h.max_interval)!==null&&f!==void 0?f:6e4,this.reconnectRetryCount=(_=(v=t.reconnect)===null||v===void 0?void 0:v.retry_cnt)!==null&&_!==void 0?_:5,this.reconnectIntervalMultiple=(E=(y=t.reconnect)===null||y===void 0?void 0:y.mul)!==null&&E!==void 0?E:2,this.maxUnreadCountOnSuperGroup=(x=t.max_unread_cnt_on_super_group)!==null&&x!==void 0?x:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=(C=t.concurrent_call_limit)!==null&&C!==void 0?C:5,this.backOffDelay=(M=t.back_off_delay)!==null&&M!==void 0?M:100}return e.payloadify=function(n){return ne(ne({},Dn.payloadify(n.user)),{emoji_hash:n.appInfo.emojiHash,file_upload_size_limit:n.appInfo.uploadSizeLimit,application_attributes:n.appInfo.applicationAttributes,premium_feature_list:n.appInfo.premiumFeatureList,login_ts:n.connectedAt/1e3,ping_interval:n.pingInterval,pong_timeout:n.pongTimeout,reconnect:{interval:n.reconnectInterval,max_interval:n.reconnectMaxInterval,retry_cnt:n.reconnectRetryCount,mul:n.reconnectIntervalMultiple},max_unread_cnt_on_super_group:n.maxUnreadCountOnSuperGroup,profile_image_encryption:n.profileImageEncryption,concurrent_call_limit:n.concurrentCallLimit,back_off_delay:n.backOffDelay})},e.prototype.apply=function(){var n=this.reconnectInterval,t=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,i=re.of(this._iid);i.sdkState.websocket.pingInterval=1e3*this.pingInterval,i.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,i.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,i.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(n*Math.pow(r,o-1),t):10}},i.appInfo=this.appInfo,i.sessionManager.currentUser=this.user,i.connectedAt=this.connectedAt,this.firstConnectedAt||(i.firstConnectedAt=this.connectedAt),i.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,i.concurrentCallLimit=this.concurrentCallLimit,i.backOffDelay=this.backOffDelay,i.dispatcher.dispatch(new L7({userProfile:this}))},e}(),iE=function(e){function n(t,r,i){var o,u=this;return(u=e.call(this,t,r,i)||this).error=null,u.userProfile=new N2(t,i),u.key=i.key,u.ekey=(o=i.ekey)!==null&&o!==void 0?o:"",u.error=i.error?new le(i):null,u}return B(n,e),n.asError=function(t){return new n(null,"LOGI",ne({user_id:null,error:!0},t))},n.prototype.applyTo=function(t){if(this.error)throw this.error;var r=re.of(t);if(!r)throw le.lostInstance;r.sessionManager.auth.sessionKey=this.key,i0(t,this.ekey),this.userProfile.apply()},n}(Ut),P7=function(e){function n(t){var r=e.call(this)||this;return r.enabled=t,r}return B(n,e),n}(ei),Jne=function(e){function n(t,r){var i=r.sdkState,o=r.connectionHandlers,u=r.sessionManager,c=r.websocketClient,h=r.dispatcher,f=r.logger,v=r.entryState,_=v===void 0?new E3:v,y=e.call(this)||this;return y._currentState=null,y._loginTimer=null,y._connectingAt=0,y._connectionRequestQueue=[],y._iid=t,y.sdkState=i,y.connectionHandlers=o,y._sessionManager=u,y._websocketClient=c,y._dispatcher=h,y._logger=f,y._currentState=_,y._websocketClient.on("message",function(E){if(E.code==="LOGI"){y._loginTimer&&(clearTimeout(y._loginTimer),y._loginTimer=null);var x=E.as(iE);if(x.error)x.error.isSessionKeyExpiredError&&y._dispatcher.dispatch(new Jv),y._connectionRequestQueue.forEach(function(M){return M.reject(x.error)}),y._statLogConnection(x.error);else{x.applyTo(y._iid),y._connectionRequestQueue.forEach(function(M){return M.resolve()});var C=x.userProfile;y._enableStatLog(C.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),y._statLogConnection(null)}y._connectionRequestQueue=[]}}).on("close",function(){y._connectionRequestQueue.length>0&&(y._connectionRequestQueue.forEach(function(E){return E.reject(le.networkError)}),y._connectionRequestQueue=[],y._statLogConnection(le.networkError))}),y}return B(n,e),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),n.prototype.changeState=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this._currentState=t,this._dispatcher.dispatch(new oo({stateType:t.type})),this._logger.debug("connection state changes to ".concat(t.name)),[4,this._currentState.run(this)];case 1:return r.sent(),[2]}})})},n.prototype._url=function(t){t===void 0&&(t="");var r=this.sdkState,i=r.appId,o=r.appVersion,u=r.userId,c=r.extensions,h=this._sessionManager.auth,f=c.sb_syncmanager?"s".concat(c.sb_syncmanager):"",v=c.sb_uikit?"u".concat(c.sb_uikit):"",_="JS/c".concat(Dc.SDK_VERSION,"/").concat(f,"/").concat(v);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Dc.OS_VERSION),"&sv=").concat(encodeURIComponent(Dc.SDK_VERSION),"&ai=").concat(i).concat(o?"&av=".concat(o):"").concat(h.hasSession?"&key=".concat(encodeURIComponent(h.sessionKey)):"&user_id=".concat(encodeURIComponent(u),"&access_token=").concat(encodeURIComponent(t)),"&active=1&SB-User-Agent=").concat(_,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},n.prototype._enableStatLog=function(t){this._dispatcher.dispatch(new P7(t))},n.prototype._statLogConnection=function(t){this._dispatcher.dispatch(new y3(new t0({type:fv.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!t,latency:Date.now()-this._connectingAt,error_code:t==null?void 0:t.code,error_description:t==null?void 0:t.message}})))},n.prototype.connect=function(t){return t===void 0&&(t=""),T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){return r=this._url(t),i=new ma,this._connectionRequestQueue.push(i),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(iE.asError(le.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(r)),[2,i.promise]})})},n.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(iE.asError(le.connectionRenew))},n.prototype.disconnect=function(){this._websocketClient.disconnect()},n.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},n}(b0),Zne=function(){function e(n,t){var r=t.sdkState,i=t.connectionHandlers,o=t.sessionManager,u=t.websocketClient,c=t.dispatcher,h=t.logger,f=t.disableAutoReconnect,v=f!==void 0&&f,_=this;this._context=null,this._logger=h,this._context=new Jne(n,{sdkState:r,connectionHandlers:i,sessionManager:o,websocketClient:u,dispatcher:c,logger:h}),v||u.on("close",function(){r.appState==="foreground"&&setTimeout(function(){_._logger.debug("try reconnect by websocket connection closed"),_.reconnect()},100)})}return Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===At.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var n=this._context.currentState;return n.type===At.CONNECTING||n.type===At.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.connect=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onConnect(this._context,n)];case 1:return t.sent(),[2]}})})},e.prototype.reconnect=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return n.sent(),[2]}})})},e.prototype.resetAndReconnect=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return n.sent(),[2]}})})},e.prototype.background=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(n){return n===void 0&&(n=null),T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:n,autoReconnect:!0})];case 1:return t.sent(),[2]}})})},e.prototype.logout=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return n.sent(),[2]}})})},e}(),ete=function(e){function n(t){var r=t.deviceId,i=t.statLogs,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(jne),o.params={device_id:r,log_entries:i.map(function(u){return t0.payloadify(u)})},o}return B(n,e),n}(Me);(function(e){e[e.PENDING=0]="PENDING",e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED"})(Ec||(Ec={}));var ol,nte=function(){function e(n){var t=n.cacheContext,r=n.requestQueue,i=n.dispatcher,o=n.baseLimit,u=o===void 0?100:o,c=n.maxLimit,h=c===void 0?1e3:c,f=n.minLimit,v=f===void 0?10:f;this.queue=[],this.enabledstate=Ec.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=Cs(),this.cacheContext=t,this.requestQueue=r,this.dispatcher=i,this.baseLimit=u,this.limit=u,this.maxLimit=h,this.minLimit=v}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledstate===Ec.ENABLED},enumerable:!1,configurable:!0}),e.prototype._save=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(t){return t0.payloadify(t)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype._flush=function(){return T(this,void 0,void 0,function(){var n,t;return I(this,function(r){switch(r.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),(n=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new ete({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(t)]):[3,4];case 2:return r.sent(),this.queue=this.queue.slice(n.length),[4,this._save()];case 3:r.sent(),r.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return r.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},e.prototype.init=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return this.key=n,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=o.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map(function(u){return new t0({type:u.stat_type,ts:u.ts,data:u.data})}),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(r=Math.min(Math.floor(18e4*Math.random()),100),[4,bs(r)]):[3,4]):[3,4];case 2:return o.sent(),[4,this._flush()];case 3:o.sent(),o.label=4;case 4:return this.dispatcher.on(function(u){if(u instanceof y3){var c=u.statLog;i.put(c)}else u instanceof P7&&(i.enabledstate=u.enabled?Ec.ENABLED:Ec.DISABLED,i.isEnabled?i.queue.length>=i.limit&&i._flush():i.clear())}),[2]}})})},e.prototype.put=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.enabledstate===Ec.DISABLED?[3,3]:(this.queue.push(n),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return n.sent(),[2]}})})},e}();(function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR"})(ol||(ol={}));var a0,tte=function(){function e(){this.level=ol.WARN}return e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ol.VERBOSE&&console.log.apply(console,_n(["[verbose]"],bn(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ol.DEBUG&&console.log.apply(console,_n(["[debug]"],bn(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ol.INFO&&console.log.apply(console,_n(["[info]"],bn(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ol.WARN&&console.warn.apply(console,_n(["[warn]"],bn(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ol.ERROR&&console.error.apply(console,_n(["[error]"],bn(n),!1))},e}(),tf={},re=function(){function e(n,t){var r,i,o,u,c,h,f;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!tf[n]){tf[n]=this;var v=(r=t.options)!==null&&r!==void 0?r:new N7,_=this.sdkState={appId:t.appId,appVersion:(i=t.appVersion)!==null&&i!==void 0?i:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=t.apiHost)!==null&&o!==void 0?o:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:(u=t.websocketHost)!==null&&u!==void 0?u:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new I7,responseTimeout:v.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var y=this.logger=new tte;this.logger.level=(c=t.logLevel)!==null&&c!==void 0?c:ol.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new xne({encryption:t.encryption,store:t.store,localCacheEnabled:(h=t.localCacheEnabled)!==null&&h!==void 0&&h}),this.debugMode=(f=t.debugMode)!==null&&f!==void 0&&f,this.maxSuperGroupChannelUnreadCount=Dc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=v.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=v.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=v.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var E=this.dispatcher=new Cne,x=new kne;this.requestQueue=new Rne(n,{auth:x,sdkState:_,dispatcher:E,logger:y}),this.sessionManager=new Fne({auth:x,sdkState:_,dispatcher:E,requestQueue:this.requestQueue,logger:y}),this.connectionManager=new Zne(n,{sdkState:_,connectionHandlers:this.connectionHandlers,dispatcher:E,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:y}),this.statLogCollector=new nte({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:E})}return tf[n]}return e.of=function(n){if(tf[n])return tf[n];throw le.lostInstance},e}(),x3=function(){function e(){}return e.prototype.init=function(n,t){var r=t.sdkState,i=t.dispatcher,o=t.sessionManager,u=t.requestQueue,c=t.logger;t.onlineDetector;var h=t.cacheContext,f=h===void 0?null:h;this._iid=n,this._cacheContext=f,this._sdkState=r,this._dispatcher=i,this._sessionManager=o,this._requestQueue=u,this._logger=c},e}(),F7=function(e){function n(t){var r=e.call(this)||this;if(r.method=Ae.POST,r.path="".concat(qne),r.params=xn({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var i=0;i<t.thumbnailSizes.length;i++){var o=t.thumbnailSizes[i],u=o.maxWidth,c=o.maxHeight;r.params["thumbnail".concat(i+1)]="".concat(u,",").concat(c)}return r.requestId=t.requestId,r}return B(n,e),n}(Me),H7=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t,r)||this).url=r.url,c.fileSize=(i=r.file_size)!==null&&i!==void 0?i:0,c.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],c.requireAuth=(u=r.require_auth)!==null&&u!==void 0&&u,c}return B(n,e),n}(Pe),T2=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t)||this).replyCount=0,c.mostRepliedUsers=null,c.lastRepliedAt=0,c.updatedAt=0,c.replyCount=(i=r.reply_count)!==null&&i!==void 0?i:0,c.mostRepliedUsers=r.hasOwnProperty("most_replies")&&On("object",r.most_replies)?r.most_replies.map(function(h){return new Dn(c._iid,h)}):[],c.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,c.updatedAt=(u=r.updated_at)!==null&&u!==void 0?u:0,c}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map(function(r){return Dn.payloadify(r)}):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},n}(lo);(function(e){e.ADD="add",e.DELETE="delete"})(a0||(a0={}));var fu,Ua,k3=function(e){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var n=J("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,t=e.user_id,r=e.operation?e.operation.toLowerCase():null,i=e.reaction,o=e.updated_at;n&&J("string",t)&&J("string",r)&&Tn(a0,r)&&J("string",i)&&i&&J("number",o)&&(this.messageId=n,this.userId=t,this.key=i,this.operation=r,this.updatedAt=o)},lg=function(){function e(n){var t,r,i,o=n.key,u=(i=_n([],bn(n.user_ids),!1))!==null&&i!==void 0?i:[],c=n.updated_at;J("string",o)&&o&&On("string",u)&&u.length>0&&J("number",c)&&(this.key=o,this.userIds=u,this.updatedAt=c);var h={};try{for(var f=$e(this.userIds),v=f.next();!v.done;v=f.next())h[v.value]=this.updatedAt}catch(_){t={error:_}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}this._version=h}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),e.payloadify=function(n){return n?xn({key:n.key,user_ids:n.userIds,updated_at:n.updatedAt}):null},e.prototype.applyEvent=function(n){if(n.key===this.key&&this.updatedAt<=n.updatedAt){if(!this._version[n.userId]||this._version[n.userId]<=n.updatedAt){var t=this.userIds.indexOf(n.userId);switch(n.operation){case a0.ADD:t<0&&this.userIds.push(n.userId);break;case a0.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[n.userId]=n.updatedAt}this.updatedAt=Math.max(this.updatedAt,n.updatedAt)}},e}(),fa=function(){function e(n){this.key=n.key,this.value=On("string",n.value)?_n([],bn(n.value),!1):[]}return e.payloadify=function(n){var t;return n?xn({key:n.key,value:(t=n.value)!==null&&t!==void 0?t:[]}):null},e}(),Z5=function(){function e(n){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=n.url,n.hasOwnProperty("secure_url")&&(this.secureUrl=n.secure_url),n.hasOwnProperty("type")&&(this.type=n.type),n.hasOwnProperty("width")&&(this.width=n.width),n.hasOwnProperty("height")&&(this.height=n.height),n.hasOwnProperty("alt")&&(this.alt=n.alt)}return e.payloadify=function(n){var t,r;return n?xn({url:n.url,secure_url:n.secureUrl,type:n.type,width:(t=n.width)!==null&&t!==void 0?t:0,height:(r=n.height)!==null&&r!==void 0?r:0,alt:n.alt}):null},e}(),eD=function(){function e(n){this.title=null,this.url=null,this.description=null,this.defaultImage=null,n.hasOwnProperty("og:title")&&(this.title=n["og:title"]),n.hasOwnProperty("og:url")&&(this.url=n["og:url"]),n.hasOwnProperty("og:description")&&(this.description=n["og:description"]),n.hasOwnProperty("og:image")&&(this.defaultImage=new Z5(n["og:image"]))}return e.payloadify=function(n){return n?xn({"og:title":n.title,"og:url":n.url,"og:description":n.description,"og:image":n.defaultImage?Z5.payloadify(n.defaultImage):null}):null},e}(),Do=function(){function e(n){var t,r;this.name=null,this.volume=0,this.name=(t=n.name)!==null&&t!==void 0?t:"default",this.volume=(r=n.volume)!==null&&r!==void 0?r:1}return e.payloadify=function(n){return n?xn({name:n.name,volume:n.volume}):null},e}();(function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"})(fu||(fu={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(Ua||(Ua={}));var Ii,rte=function(e){switch(e){case br.BASE:return"";case br.USER:return"MESG";case br.FILE:return"FILE";case br.ADMIN:return"ADMM"}},mv=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M,S=this;(S=e.call(this,t)||this).channelUrl=null,S.channelType=Nt.BASE,S.messageId=0,S.parentMessageId=null,S.parentMessage=null,S.silent=!1,S.isOperatorMessage=!1,S.messageType=br.BASE,S.data=null,S.customType=null,S.mentionType=null,S.mentionedUsers=[],S.mentionedUserIds=[],S.mentionedMessageTemplate=null,S.threadInfo=null,S.reactions=[],S.metaArrays=[],S.ogMetaData=null,S.appleCriticalAlertOptions=null,S.createdAt=0,S.updatedAt=0,S.scheduledInfo=null,S._scheduledStatus=Ua.PENDING,S.messageId=(o=(i=r.msg_id)!==null&&i!==void 0?i:r.message_id)!==null&&o!==void 0?o:0,S.channelUrl=r.channel_url,S.channelType=Tn(Nt,r.channel_type)?r.channel_type:Nt.GROUP,r.channel&&(r.channel.channel_url&&(S.channelUrl=r.channel.channel_url),r.channel.channel_type&&(S.channelType=r.channel.channel_type)),S.parentMessageId=(u=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&u!==void 0?u:0,S.data=(c=r.data)!==null&&c!==void 0?c:"",S.customType=(h=r.custom_type)!==null&&h!==void 0?h:"",S.mentionType=Tn(pi,r.mention_type)?r.mention_type:null;var N=r.mentioned_users;S.mentionedUsers=N?N.map(function(j){return new Dn(S._iid,j)}):null;var D=r.mentioned_user_ids;S.mentionedUserIds=D!=null?D:null,S.mentionedMessageTemplate=(f=r.mentioned_message_template)!==null&&f!==void 0?f:"",S.threadInfo=r.thread_info?new T2(S._iid,r.thread_info):null,S.reactions=r.reactions?r.reactions.map(function(j){return new lg(j)}):[];for(var H=(v=r.metaarray)!==null&&v!==void 0?v:{},K=(_=r.metaarray_key_order)!==null&&_!==void 0?_:Object.keys(H).sort(function(j,ce){return j.localeCompare(ce)}),z=0;z<K.length;z++){var W=K[z];S.metaArrays.push(new fa({key:W,value:H[W]||[]}))}return r.sorted_metaarray&&(S.metaArrays=r.sorted_metaarray.map(function(j){return new fa(j)})),S.ogMetaData=r.og_tag?new eD(r.og_tag):null,S.silent=(y=r.silent)!==null&&y!==void 0&&y,S.isOperatorMessage=(E=r.is_op_msg)!==null&&E!==void 0&&E,S.appleCriticalAlertOptions=r.apple_critical_alert_options?new Do(r.apple_critical_alert_options):null,S.createdAt=(C=(x=r.created_at)!==null&&x!==void 0?x:r.ts)!==null&&C!==void 0?C:0,S.updatedAt=(M=r.updated_at)!==null&&M!==void 0?M:0,typeof r.scheduled_message_id=="number"&&r.scheduled_at&&r.scheduled_status&&(S.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},S._scheduledStatus=r.scheduled_status),S}return B(n,e),n.payloadify=function(t){var r,i,o,u;return t?xn(ne(ne({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:rte(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map(function(c){return Dn.payloadify(c)}),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?T2.payloadify(t.threadInfo):null,reactions:t.reactions.map(function(c){return lg.payloadify(c)}),sorted_metaarray:(i=t.metaArrays)===null||i===void 0?void 0:i.map(function(c){return fa.payloadify(c)}),og_tag:eD.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:(o=t.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(u=t.scheduledInfo)===null||u===void 0?void 0:u.scheduledAt,scheduled_status:t._scheduledStatus})):null},n.prototype.isIdentical=function(t){return this.messageId===t.messageId},n.prototype.isEqual=function(t){return S7(this,t)},n.prototype.isUserMessage=function(){return this.messageType===br.USER},n.prototype.isFileMessage=function(){return this.messageType===br.FILE},n.prototype.isAdminMessage=function(){return this.messageType===br.ADMIN},n.prototype.serialize=function(){return y0(this)},n.prototype.getMetaArraysByKeys=function(t){return this.metaArrays.filter(function(r){return t.includes(r.key)})},n.prototype.applyThreadInfoUpdateEvent=function(t){return this.parentMessageId===t.targetMessageId&&(this.threadInfo=t.threadInfo),!1},n.prototype.applyReactionEvent=function(t){if(this.messageId===t.messageId){for(var r=!1,i=0;i<this.reactions.length;i++)if(this.reactions[i].key===t.key){this.reactions[i].applyEvent(t),this.reactions[i].isEmpty&&this.reactions.splice(i,1),r=!0;break}r||t.operation!=="add"||this.reactions.push(new lg(lg.payloadify({key:t.key,userIds:[t.userId],updatedAt:t.updatedAt})))}},n.prototype.applyParentMessage=function(t){if(this.parentMessageId===t.messageId){var r=this.parentMessage.updatedAt;if(t.updatedAt>=r)return this.parentMessage=t,!0}return!1},n}(lo),s0=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.role=null,i.isBlockedByMe=!1,i.role=Tn(Ss,r.role)?r.role:Ss.NONE,r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),i}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},n}(Dn),jr=function(e){function n(t,r){var i,o,u,c,h=this;if((h=e.call(this,t,r)||this).sender=null,h.reqId="",h.replyToChannel=!1,h.sendingStatus=qt.PENDING,h.errorCode=0,h.sender=r.user?new s0(h._iid,r.user):r.sender_id,h.reqId=(o=(i=r.req_id)!==null&&i!==void 0?i:r.request_id)!==null&&o!==void 0?o:"",h.replyToChannel=(u=r.is_reply_to_channel)!==null&&u!==void 0&&u,h.sendingStatus=h.messageId>0?qt.SUCCEEDED:qt.FAILED,r.request_state&&Tn(qt,r.request_state)&&(h.sendingStatus=r.request_state),r.scheduled_status)switch(r.scheduled_status){case Ua.SENT:case Ua.IN_QUEUE:h.sendingStatus=qt.SUCCEEDED;break;case Ua.PENDING:h.sendingStatus=qt.SCHEDULED;break;case Ua.FAILED:case Ua.REMOVED:h.sendingStatus=qt.FAILED;break;case Ua.CANCELED:h.sendingStatus=qt.CANCELED}return h.errorCode=(c=r.error_code)!==null&&c!==void 0?c:0,h}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{user:s0.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(n.prototype,"isResendable",{get:function(){return this.sendingStatus===qt.FAILED&&(t=this.errorCode)>0&&_ne.indexOf(t)>=0;var t},enumerable:!1,configurable:!0}),n.prototype.isIdentical=function(t){return this.messageId>0&&t.messageId>0?this.messageId===t.messageId:this.reqId===t.reqId},n}(mv),e_=function(){function e(n){var t,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=n.url,this.width=n.width,this.height=n.height,this.realWidth=(t=n.real_width)!==null&&t!==void 0?t:n.width,this.realHeight=(r=n.real_height)!==null&&r!==void 0?r:n.height}return e.payloadify=function(n){return n?xn({url:"",width:n.maxWidth,height:n.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(e.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),e}(),n_={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:di.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},C3=function(e){return J("number",e.prevResultSize)&&J("number",e.nextResultSize)&&J("boolean",e.isInclusive)&&J("boolean",e.reverse)&&J("string",e.messageTypeFilter)&&Tn(di,e.messageTypeFilter)&&On("string",e.customTypesFilter,!0)&&On("string",e.senderUserIdsFilter,!0)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeReactions)&&J("boolean",e.includeParentMessageInfo)},Ih=function(e){function n(t,r){var i,o,u,c,h=this;if((h=e.call(this,t,r)||this).message=null,h.translations={},h.message=(i=r.message)!==null&&i!==void 0?i:"",h.messageType=br.ADMIN,h.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var f=r.parent_message_info,v=ne(ne({},f),{message_id:h.parentMessageId,channel_url:h.channelUrl,channel_type:h.channelType,file:f.file,url:(u=f.file)===null||u===void 0?void 0:u.url,require_auth:(c=f.file)===null||c===void 0?void 0:c.require_auth});h.parentMessage=Ms(t,v)}return h}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:t_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},n_),r),Fe(this.messageId>0&&J("number",t)&&C3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(mv),nD=function(){function e(n){var t,r;this.type=null,this.vendor=null,this.detail={},this.type=(t=n.type)!==null&&t!==void 0?t:"",this.vendor=(r=n.vendor)!==null&&r!==void 0?r:"",n.hasOwnProperty("detail")&&J("object",n.detail)&&!Array.isArray(n.detail)&&(this.detail=n.detail)}return e.payloadify=function(n){return n?xn({type:n.type,vendor:n.vendor,detail:n.detail}):null},e}(),Jr=function(e){function n(t,r){var i,o,u,c,h,f,v,_=this;if((_=e.call(this,t,r)||this).message="",_.messageParams=null,_.translations={},_.translationTargetLanguages=[],_.messageSurvivalSeconds=-1,_.plugins=[],_.message=r.message,_.messageType=br.USER,_.translations=(u=r.translations)!==null&&u!==void 0?u:{},_.translationTargetLanguages=(c=r.target_langs)!==null&&c!==void 0?c:[],_.translations==={}&&_.translationTargetLanguages.length>0)try{for(var y=$e(_.translationTargetLanguages),E=y.next();!E.done;E=y.next()){var x=E.value;_.translations[x]=""}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}if(_.messageSurvivalSeconds=(h=r.message_survival_seconds)!==null&&h!==void 0?h:-1,_.plugins=r.plugins?r.plugins.map(function(S){return new nD(S)}):[],r.parent_message_info){var C=r.parent_message_info,M=ne(ne({},C),{created_at:C.ts,message_id:_.parentMessageId,channel_url:_.channelUrl,channel_type:_.channelType,file:C.file,url:(f=C.file)===null||f===void 0?void 0:f.url,require_auth:(v=C.file)===null||v===void 0?void 0:v.require_auth});_.parentMessage=Ms(t,xn(M))}return _}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map(function(r){return nD.payloadify(r)}),parent_message_info:t_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},n_),r),Fe(this.messageId>0&&J("number",t)&&C3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(jr),t_=function(e){if(e)switch(e.messageType){case br.USER:return Jr.payloadify(e);case br.FILE:return Kr.payloadify(e);case br.ADMIN:return Ih.payloadify(e)}return null},Ms=function(e,n){switch(n.type){case"MESG":return new Jr(e,n);case"FILE":return new Kr(e,n);case"ADMM":case"BRDM":return new Ih(e,n)}return null},Kr=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D=this;(D=e.call(this,t,r)||this).messageParams=null,D.plainUrl="",D.requireAuth=!1,D.name=null,D.size=0,D.type=null,D.thumbnails=[],D.messageSurvivalSeconds=-1,D.messageType=br.FILE;var H=(i=r.file)!==null&&i!==void 0?i:null;if(D.plainUrl=((u=(o=H==null?void 0:H.url)!==null&&o!==void 0?o:r.url)!==null&&u!==void 0?u:"").split("?auth=")[0],D.name=(h=(c=H==null?void 0:H.name)!==null&&c!==void 0?c:r.name)!==null&&h!==void 0?h:"File",D.size=(v=(f=H==null?void 0:H.size)!==null&&f!==void 0?f:r.size)!==null&&v!==void 0?v:0,D.data=(y=(_=H==null?void 0:H.data)!==null&&_!==void 0?_:r.custom)!==null&&y!==void 0?y:"",D.type=H?(E=H.type)!==null&&E!==void 0?E:"":(x=r.type)!==null&&x!==void 0?x:"",D.requireAuth=(C=r.require_auth)!==null&&C!==void 0&&C,D.thumbnails=r.thumbnails?r.thumbnails.map(function(W){return new e_(ne(ne({},W),{url:"".concat(W.url.split("?auth=")[0]).concat(D.requireAuth?"?auth=".concat(i0(D._iid)):"")}))}):[],D.messageSurvivalSeconds=(M=r.message_survival_seconds)!==null&&M!==void 0?M:-1,r.parent_message_info){var K=r.parent_message_info,z=ne(ne({},K),{message_id:D.parentMessageId,channel_url:D.channelUrl,channel_type:D.channelType,file:K.file,url:(S=K.file)===null||S===void 0?void 0:S.url,require_auth:(N=K.file)===null||N===void 0?void 0:N.require_auth});D.parentMessage=Ms(t,z)}return D}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:t_(t.parentMessage)})):null},Object.defineProperty(n.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i0(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),n.prototype.getThreadedMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},n_),r),Fe(this.messageId>0&&J("number",t)&&C3(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(jr),ite=function(e){function n(t){var r,i,o,u=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(c){return c.userId}))),e.call(this,{code:"FILE",ackRequired:!0,payload:xn({channel_url:t.channelUrl,url:t.url,name:(r=t.fileName)!==null&&r!==void 0?r:"",type:(i=t.mimeType)!==null&&i!==void 0?i:"",size:(o=t.fileSize)!==null&&o!==void 0?o:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:u,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Au.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(n,e),n}($a),ate=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(u){return u.userId}))),i.method=Ae.POST,i.path="".concat(Et(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),i.params=xn({message_type:br.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:o,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map(function(u){return e_.payloadify(u)}),require_auth:t.requireAuth,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(u){return fa.payloadify(u)}),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId}),i}return B(n,e),n}(Me),S3=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"FILE",i)||this).message=new Kr(t,i);var f=re.of(t).sdkState;return h.isMentioned=Th(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Ut),ste=function(e){function n(t,r){var i,o,u=this;(u=e.call(this,t,r)||this).message=new Kr(t,r);var c=re.of(t).sdkState;return u.isMentioned=Th(u.message.mentionType,(i=u.message.mentionedUserIds)!==null&&i!==void 0?i:u.message.mentionedUsers.map(function(h){return h.userId}),c.userId),u.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,u}return B(n,e),n}(Pe);(function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"})(Ii||(Ii={}));var wn,ote=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,c=t.cacheContext,h=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=n,this._sdkState=r,this._requestQueue=o,this._cacheContext=c,this._dispatcher=i,this._dispatcher.on(function(f){f instanceof oo&&(h._connectionState=f.stateType)}),this._onlineDetector=u}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===At.CONNECTED||this._connectionState===At.CONNECTING||this._connectionState===At.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(n,t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new ite(ne(ne({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return i=o.sent(),[2,i.as(S3).message];case 2:return r=new ate(ne(ne({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)];case 3:return i=o.sent(),[2,i.as(ste).message]}})})},e.prototype._resolveMessageQueue=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:if(!(t=this._queueMap.get(n.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,r=[],i=!0,x.label=1;case 1:x.trys.push([1,15,16,17]),o=$e(t.messageQueue),u=o.next(),x.label=2;case 2:if(u.done)return[3,14];switch(c=u.value,c.state){case Ii.PENDING:case Ii.UPLOADING:return[3,3];case Ii.UPLOADED:return[3,4];case Ii.FAILED:return[3,12]}return[3,13];case 3:return i=!1,r.push(c),[3,13];case 4:if(!i)return[3,10];x.label=5;case 5:return x.trys.push([5,8,,9]),c.state=Ii.SENDING,[4,this._sendFileMessage(n,c)];case 6:return h=x.sent(),c.deferred.resolve(h),[4,bs(100)];case 7:return x.sent(),[3,9];case 8:return f=x.sent(),c.deferred.reject(f),[3,9];case 9:return[3,11];case 10:r.push(c),x.label=11;case 11:return[3,13];case 12:return c.deferred.reject(c.error.code===nt.REQUEST_CANCELED?le.fileUploadCanceled:c.error),[3,13];case 13:return u=o.next(),[3,2];case 14:return[3,17];case 15:return v=x.sent(),y={error:v},[3,17];case 16:try{u&&!u.done&&(E=o.return)&&E.call(o)}finally{if(y)throw y.error}return[7];case 17:return _=t.isResolveRequestPending,t.messageQueue=r,t.isResolving=!1,t.isResolveRequestPending=!1,_?[4,this._resolveMessageQueue(n)]:[3,19];case 18:x.sent(),x.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,x.label=21;case 21:return[2]}})})},e.prototype._uploadNextPendingItem=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x,C;return I(this,function(M){switch(M.label){case 0:return t=this._queueMap.get(n.url),(r=t.messageQueue.find(function(S){return S.state===Ii.PENDING}))?Di(r.params.file)?t.uploadQueue.length<6?(r.state=Ii.UPLOADING,t.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!M.sent())return[3,8];M.label=2;case 2:return M.trys.push([2,4,5,7]),i=new F7({file:r.params.file,channelUrl:n.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(i)];case 3:return o=M.sent(),u=o.as(H7),c=u.url,h=u.fileSize,f=h===void 0?r.params.fileSize:h,v=u.thumbnailSizes,_=v===void 0?r.params.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,r.params.fileUrl=c,r.params.fileSize=f,r.params.thumbnailSizes=_,r.params.requireAuth=E,r.requireAuth=E,r.state=Ii.UPLOADED,[3,7];case 4:return x=M.sent(),r.state=Ii.FAILED,r.error=x,[3,7];case 5:return(C=t.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(C,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 6:return M.sent(),[7];case 7:return[3,10];case 8:return r.state=Ii.FAILED,r.error=le.connectionRequired,(C=t.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(C,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 9:M.sent(),M.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=Ii.UPLOADED,[4,this._resolveMessageQueue(n)];case 12:M.sent(),M.label=13;case 13:return[2]}})})},e.prototype.request=function(n,t,r){var i,o,u;return T(this,void 0,void 0,function(){var c;return I(this,function(h){return c=new ma,Di(r.file)&&(r.fileName=(i=r.fileName)!==null&&i!==void 0?i:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(u=r.fileSize)!==null&&u!==void 0?u:r.file.size),this._queueMap.has(n.url)||this._queueMap.set(n.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(n.url).messageQueue.push({requestId:t,params:r,state:Ii.PENDING,deferred:c,requireAuth:r.requireAuth}),this._uploadNextPendingItem(n),[2,c.promise]})})},e.prototype.cancel=function(n,t){var r,i;t===void 0&&(t=null);var o=this._queueMap.get(n.url);if(o){var u=t?[o.messageQueue.find(function(v){return v.requestId===t})]:_n([],bn(o.messageQueue),!1);try{for(var c=$e(u),h=c.next();!h.done;h=c.next()){var f=h.value;if(f)switch(f.state){case Ii.PENDING:f.state=Ii.FAILED,f.error=le.requestCanceled,this._resolveMessageQueue(n);break;case Ii.UPLOADING:this._requestQueue.cancel(f.requestId)}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}},e}(),q7={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:di.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:ta.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},lte=function(e){return J("number",e.prevResultSize)&&J("number",e.nextResultSize)&&J("boolean",e.isInclusive)&&J("boolean",e.reverse)&&J("string",e.messageTypeFilter)&&Tn(di,e.messageTypeFilter)&&On("string",e.customTypesFilter,!0)&&On("string",e.senderUserIdsFilter,!0)&&Tn(ta,e.replyType)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeReactions)&&J("boolean",e.includeParentMessageInfo)&&J("boolean",e.includeThreadInfo)&&J("boolean",e.showSubchannelMessagesOnly)},I2={replyType:ta.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},tD=function(e){return Tn(ta,e.replyType)&&J("boolean",e.includeReactions)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeParentMessageInfo)&&J("boolean",e.includeThreadInfo)&&J("boolean",e.includePollDetails)};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(wn||(wn={}));var If,ug=function(e){return e.startsWith("EVENT_")||e===wn.SYNC_MESSAGE_FILL||e===wn.SYNC_MESSAGE_CHANGELOGS},sr=function(e){function n(t){var r=t.messages,i=t.source,o=e.call(this)||this;return o.messages=r,o.source=i,o}return B(n,e),n}(ei),N3=function(e){function n(t){var r=t.messageIds,i=t.source,o=e.call(this)||this;return o.messageIds=r,o.source=i,o}return B(n,e),n}(ei),B7=function(e){function n(t){var r=t.reqId,i=t.source,o=e.call(this)||this;return o.reqId=r,o.source=i,o}return B(n,e),n}(ei),ute=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.includeMetaArray,c=t.includeReactions,h=t.includeThreadInfo,f=t.includeParentMessageInfo,v=t.includePollDetails,_=e.call(this)||this;return _.method=Ae.GET,_.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o)),_.params={is_sdk:!0,with_sorted_meta_array:u,include_reactions:c,include_thread_info:h,include_parent_message_info:f,include_poll_details:v},_}return B(n,e),n}(Me),cte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Ms(t,ne({},r)):null,i}return B(n,e),n}(Pe),rD=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=o===void 0?null:o,c=t.token,h=c===void 0?null:c,f=t.prevResultSize,v=t.nextResultSize,_=t.isInclusive,y=t.reverse,E=t.messageTypeFilter,x=t.customTypesFilter,C=t.senderUserIdsFilter,M=t.replyType,S=t.includeMetaArray,N=t.includeReactions,D=t.parentMessageId,H=t.includeThreadInfo,K=t.includeParentMessageInfo,z=t.showSubchannelMessagesOnly,W=t.includePollDetails,j=e.call(this)||this;return j.method=Ae.GET,j.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages"),j.params=xn({is_sdk:!0,prev_limit:f,next_limit:v,include:_,reverse:y,message_ts:u,message_id:h,message_type:E!=null?E:null,custom_types:x,sender_ids:C,include_reply_type:M,with_sorted_meta_array:S,include_reactions:N,parent_message_id:D,include_thread_info:H,include_parent_message_info:K,show_subchannel_message_only:z,include_poll_details:W}),j}return B(n,e),n}(Me),iD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.messages.map(function(o){return Ms(t,o)}),i}return B(n,e),n}(Pe),dte=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=t.token,c=t.replyType,h=t.includeMetaArray,f=t.includeReactions,v=t.includeThreadInfo,_=t.includeParentMessageInfo,y=t.includePollDetails,E=e.call(this)||this;return E.method=Ae.GET,E.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages/changelogs"),E.params={change_ts:o,token:u,with_sorted_meta_array:h,include_reactions:f,include_thread_info:v,include_reply_type:c,include_parent_message_info:_,include_poll_details:y},E}return B(n,e),n}(Me),hte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedMessages=r.updated.map(function(o){return Ms(t,o)}),i.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),i.hasMore=r.has_more,i.nextToken=r.next,i}return B(n,e),n}(Pe),pte=function(e){function n(t){var r=t.channelUrl,i=t.scheduledMessageId,o=e.call(this)||this;return o.method=Ae.GET,o.path="".concat(Hi,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(i)),o.params={},o}return B(n,e),n}(Me),fte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Ms(t,ne({},r)):null,i}return B(n,e),n}(Pe),aD={},ci=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,c=t.cacheContext;this._iid=n,this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._onlineDetector=u,this._cacheContext=c,this.fileMessageQueue=new ote(n,{sdkState:r,dispatcher:i,requestQueue:o,onlineDetector:u,cacheContext:c}),aD[n]=this}return e.of=function(n){return aD[n]},e.prototype.buildMessageFromSerializedData=function(n){var t=Uc(n);switch(t.messageType){case br.USER:return new Jr(this._iid,Jr.payloadify(t));case br.FILE:return new Kr(this._iid,Kr.payloadify(t));case br.ADMIN:return new Ih(this._iid,Ih.payloadify(t))}return null},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(n,t){return xn({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations)})},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(n,t){return xn({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:n.file,fileKey:n.fileKey,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:n.fileType,requireAuth:t.requireAuth})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(n,t){return ne(ne({},this.buildUserMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(n,t){return ne(ne({},this.buildFileMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(n){var t=Uc(n);return new s0(this._iid,s0.payloadify(t))},e.prototype.getMessage=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=new ute(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(cte).message]}})})},e.prototype.getScheduledMessage=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=new pte(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(fte).message]}})})},e.prototype.getMessagesByTimestamp=function(n,t,r,i,o){return o===void 0&&(o=wn.REQUEST_MESSAGE),T(this,void 0,void 0,function(){var u,c,h;return I(this,function(f){switch(f.label){case 0:return u=new rD(ne(ne({channelType:t,channelUrl:n,timestamp:r},q7),i)),[4,this._requestQueue.send(u)];case 1:return c=f.sent(),h=c.as(iD).messages,this._dispatcher.dispatch(new sr({messages:h,source:o})),[2,h]}})})},e.prototype.getThreadedMessagesByTimestamp=function(n,t,r,i){return i===void 0&&(i=wn.REQUEST_THREADED_MESSAGE),T(this,void 0,void 0,function(){var o,u,c,h;return I(this,function(f){switch(f.label){case 0:return o=new rD(ne(ne(ne({channelUrl:n.channelUrl,channelType:n.channelType,timestamp:t},n_),r),{replyType:ta.ALL,parentMessageId:n.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return u=f.sent(),c=u.as(iD).messages,(h=c.slice(1)).forEach(function(v){v.parentMessage=n}),this._dispatcher.dispatch(new sr({messages:h,source:i})),[2,{parentMessage:c[0],threadedMessages:h}]}})})},e.prototype.getMessageChangelogs=function(n,t,r,i,o){return o===void 0&&(o=wn.REQUEST_MESSAGE_CHANGELOGS),T(this,void 0,void 0,function(){var u,c,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return u=new dte(xn(ne(ne({channelType:t,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},I2),i))),[4,this._requestQueue.send(u)];case 1:return c=x.sent(),h=c.as(hte),f=h.updatedMessages,v=h.deletedMessagesInfo,_=h.hasMore,y=h.nextToken,E=v.map(function(C){return C.messageId}),f.length>0&&this._dispatcher.dispatch(new sr({messages:f,source:o})),E.length>0&&this._dispatcher.dispatch(new N3({messageIds:E,source:o})),[2,{updatedMessages:f,deletedMessageIds:E,hasMore:_,token:y}]}})})},e}(),ll=function(){function e(){this._onPending=Pn,this._onFailed=Pn,this._onSucceeded=Pn}return e.prototype._trigger=function(n,t){switch(t.sendingStatus){case qt.PENDING:this._onPending(t);break;case qt.FAILED:case qt.CANCELED:this._onFailed(n,t.isResendable?t:null);break;case qt.SCHEDULED:case qt.SUCCEEDED:this._onSucceeded(t)}},e.prototype.onPending=function(n){return this._onPending=n,this},e.prototype.onFailed=function(n){return this._onFailed=n,this},e.prototype.onSucceeded=function(n){return this._onSucceeded=n,this},e}(),mte=function(e){function n(t,r){var i=e.call(this,t)||this;i.threadInfo=null,i.targetMessageId=0,i.channelUrl=null,i.channelType=null;var o=r.thread_info,u=r.root_message_id,c=r.channel_url,h=r.channel_type;return o&&J("object",o)&&J("number",u)&&J("string",c)&&J("string",h)&&(i.threadInfo=new T2(t,o),i.targetMessageId=u,i.channelUrl=c,i.channelType=h),i}return B(n,e),n}(lo),gte={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},Nl=function(){function e(n,t){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=n,this.limit=(r=t.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return J("number",this.limit)&&this.limit>0},e}(),vte=function(e){function n(t){var r=t.channelCustomType,i=t.keyword,o=t.limit,u=t.reverse,c=t.exactMatch,h=t.channelUrl,f=t.order,v=t.messageTimestampFrom,_=t.messageTimestampTo,y=t.advancedQuery,E=t.targetFields,x=t.nextToken,C=e.call(this)||this;return C.method=Ae.GET,C.path="".concat($ne,"/messages"),C.params={custom_type:r,query:i,limit:o,reverse:u,exact_match:c,channel_url:h,message_ts_from:v,message_ts_to:_,sort_field:f,advanced_query:y,target_fields:E,after:x},C}return B(n,e),n}(Me),_te=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.results.map(function(o){return Ms(t,o)}),i.hasNext=r.has_next,i.nextToken=r.end_cursor,i}return B(n,e),n}(Pe);(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(If||(If={}));var bte=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E=this;return(E=e.call(this,t,r)||this).keyword="",E.reverse=!1,E.exactMatch=!1,E.channelUrl="",E.channelCustomType="",E.messageTimestampFrom=null,E.messageTimestampTo=null,E.order=If.SCORE,E.advancedQuery=!1,E.targetFields=null,E._nextToken="",E.keyword=r.keyword,E.reverse=(i=r.reverse)!==null&&i!==void 0&&i,E.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,E.channelUrl=(u=r.channelUrl)!==null&&u!==void 0?u:"",E.channelCustomType=(c=r.channelCustomType)!==null&&c!==void 0?c:"",E.messageTimestampFrom=(h=r.messageTimestampFrom)!==null&&h!==void 0?h:null,E.messageTimestampTo=(f=r.messageTimestampTo)!==null&&f!==void 0?f:null,E.order=(v=r.order)!==null&&v!==void 0?v:If.SCORE,E.advancedQuery=(_=r.advancedQuery)!==null&&_!==void 0&&_,E.targetFields=(y=r.targetFields)!==null&&y!==void 0?y:null,E}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.keyword)&&this.keyword.length>0&&J("boolean",this.reverse)&&J("boolean",this.exactMatch)&&J("string",this.channelUrl)&&J("string",this.channelCustomType)&&(J("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(J("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Tn(If,this.order)&&J("boolean",this.advancedQuery)&&On("string",this.targetFields,!0)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new vte(ne(ne({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(_te),u=o.messages,c=o.hasNext,h=o.nextToken,this._nextToken=h,this._hasNext=c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),$h=function(e){function n(t,r,i,o){var u=e.call(this,t,o)||this;return u.channelUrl=r,u.channelType=i,u}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.channelUrl)&&Tn(Nt,this.channelType)},n}(Nl),yte=function(e){function n(t,r,i,o){var u,c,h,f,v,_,y,E,x,C,M=this;return(M=e.call(this,t,r,i,o)||this).reverse=!1,M.messageTypeFilter=di.ALL,M.customTypesFilter=null,M.senderUserIdsFilter=null,M.replyType=ta.NONE,M.includeMetaArray=!1,M.includeReactions=!1,M.includeParentMessageInfo=!1,M.includeThreadInfo=!1,M.showSubchannelMessagesOnly=!1,M._edge=Number.MAX_SAFE_INTEGER,M.reverse=(u=o.reverse)!==null&&u!==void 0&&u,M.messageTypeFilter=(c=o.messageTypeFilter)!==null&&c!==void 0?c:di.ALL,M.customTypesFilter=(h=o.customTypesFilter)!==null&&h!==void 0?h:null,M.senderUserIdsFilter=(f=o.senderUserIdsFilter)!==null&&f!==void 0?f:null,M.replyType=(v=o.replyType)!==null&&v!==void 0?v:ta.NONE,M.includeMetaArray=(_=o.includeMetaArray)!==null&&_!==void 0&&_,M.includeReactions=(y=o.includeReactions)!==null&&y!==void 0&&y,M.includeParentMessageInfo=(E=o.includeParentMessageInfo)!==null&&E!==void 0&&E,M.includeThreadInfo=(x=o.includeThreadInfo)!==null&&x!==void 0&&x,M.showSubchannelMessagesOnly=(C=o.showSubchannelMessagesOnly)!==null&&C!==void 0&&C,M}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.reverse)&&Tn(di,this.messageTypeFilter)&&Tn(ta,this.replyType)&&On("string",this.customTypesFilter,!0)&&On("string",this.senderUserIdsFilter,!0)&&J("boolean",this.includeMetaArray)&&J("boolean",this.includeReactions)&&J("boolean",this.includeParentMessageInfo)&&J("boolean",this.includeThreadInfo)&&J("boolean",this.showSubchannelMessagesOnly)},n.prototype.load=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,ci.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return t=r.sent(),this._edge=Math.min.apply(Math,_n([Number.MAX_SAFE_INTEGER],bn(t.map(function(i){return i.createdAt})),!1)),this._hasNext=t.length>=this.limit,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h),Ete={channelUrl:null,scheduledMessageId:0},wte=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="message",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new ci(t,{sdkState:i,dispatcher:o,requestQueue:c,onlineDetector:f,cacheContext:v})},n.prototype.buildMessageFromSerializedData=function(t){return this._manager.buildMessageFromSerializedData(t)},n.prototype.buildSenderFromSerializedData=function(t){return this._manager.buildSenderFromSerializedData(t)},n.prototype.getMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ne(ne({},gte),t),Fe(function(i){return J("string",i.channelUrl)&&J("string",i.channelType)&&Tn(Nt,i.channelType)&&J("number",i.messageId)&&J("boolean",i.includeMetaArray)&&J("boolean",i.includeParentMessageInfo)&&J("boolean",i.includeThreadInfo)&&J("boolean",i.includePollDetails)}(t)).throw(le.invalidParameters),[2,this._manager.getMessage(t)]})})},n.prototype.getScheduledMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ne(ne({},Ete),t),Fe(function(i){return J("string",i.channelUrl)&&J("number",i.scheduledMessageId)}(t)).throw(le.invalidParameters),[2,this._manager.getScheduledMessage(t)]})})},n}(x3),Oh,T3={data:null,customType:null,mentionType:pi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},I3=function(e){return J("string",e.data,!0)&&J("string",e.customType,!0)&&Tn(pi,e.mentionType)&&On("string",e.mentionedUserIds,!0)&&On(Dn,e.mentionedUsers,!0)&&J("string",e.mentionedMessageTemplate,!0)&&On(fa,e.metaArrays,!0)&&J("number",e.parentMessageId,!0)&&J("boolean",e.isReplyToChannel)&&Tn(Au,e.pushNotificationDeliveryOption,!0)&&J(Do,e.appleCriticalAlertOptions,!0)},sD=function(e){return e?{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},G7=ne(ne({},T3),{message:null,translationTargetLanguages:null}),$7=function(e){return I3(e)&&J("string",e.message)&&On("string",e.translationTargetLanguages,!0)};(function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"})(Oh||(Oh={}));var O2,A2=function(e){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&e instanceof Blob},R2=function(e){return e===Oh.BLOB||e===Oh.FILE},oD=function(e){return e?{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},lD=ne(ne({},T3),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),uD=function(e){return I3(e)&&(Di(e.file)||J("string",e.fileUrl))&&J("string",e.fileName,!0)&&J("string",e.mimeType,!0)&&J("number",e.fileSize,!0)&&(e.thumbnailSizes===null||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every(function(n){return J("object",n)&&n.maxWidth>0&&n.maxHeight>0}))};(function(e){e.MUTED="muted",e.BANNED="banned"})(O2||(O2={}));var Of,cD=function(){function e(n){var t,r,i;this.restrictionType=null,this.description=null,this.endAt=-1,Tn(O2,n.restriction_type)&&(this.restrictionType=n.restriction_type),this.description=(t=n.description)!==null&&t!==void 0?t:null,this.endAt=(i=(r=n.end_at)!==null&&r!==void 0?r:n.muted_end_at)!==null&&i!==void 0?i:-1}return e.payloadify=function(n){return n?xn({restriction_type:n.restrictionType,description:n.description,end_at:n.endAt}):null},e}(),Jc=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.restrictionInfo=null,i.restrictionInfo=new cD(r),i}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),cD.payloadify(t.restrictionInfo))):null},n}(Dn),O3={data:null,customType:null,mentionType:pi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},A3=function(e){return J("string",e.data,!0)&&J("string",e.customType,!0)&&Tn(pi,e.mentionType)&&On("string",e.mentionedUserIds,!0)&&On(Dn,e.mentionedUsers,!0)&&J("string",e.mentionedMessageTemplate,!0)&&On(fa,e.metaArrays,!0)&&Tn(Au,e.pushNotificationDeliveryOption,!0)&&J(Do,e.appleCriticalAlertOptions,!0)},z7=ne(ne({},O3),{message:null,translationTargetLanguages:null}),j7=function(e){return A3(e)&&J("string",e.message,!0)&&On("string",e.translationTargetLanguages,!0)},xte=ne({},O3),kte=function(e){function n(t){var r=t.channelUrl,i=t.channelType,o=t.token,u=t.limit,c=e.call(this)||this;return c.method=Ae.GET,c.path="".concat(Et(i),"/").concat(encodeURIComponent(r),"/operators"),c.params={token:o,limit:u},c}return B(n,e),n}(Me),Cte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.operators=r.operators.map(function(o){return new Dn(t,o)}),i.token=r.next,i}return B(n,e),n}(Pe),Ste=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=re.of(this._iid).requestQueue,i=new kte(ne(ne({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(i)]):[3,2]):[3,5];case 1:return o=f.sent(),u=o.as(Cte),c=u.operators,h=u.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,t];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h),Nte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,c=t.token;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={limit:u,token:c},r}return B(n,e),n}(Me),Tte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.mutedUsers=[];var o=r.next,u=r.muted_list;return i.token=o,u&&u.length>0&&(i.mutedUsers=u.map(function(c){return new Jc(t,c)})),i}return B(n,e),n}(Pe),Ite=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new Nte(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Tte),u=o.mutedUsers,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h),Ote=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,c=t.token;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=xn({limit:u,token:c}),r}return B(n,e),n}(Me),Ate=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.bannedUsers=[];var o=r.next,u=r.banned_list;return i.token=o,u&&u.length>0&&(i.bannedUsers=u.map(function(c){return new Jc(t,c.user)})),i}return B(n,e),n}(Pe),Rte=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new Ote(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Ate),u=o.bannedUsers,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h);(function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"})(Of||(Of={}));var Mte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Dte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var Ute=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/mute/").concat(u),r}return B(n,e),n}(Me),Lte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.isMuted=!1,i.startAt=null,i.endAt=null,i.remainingDuration=null,i.description=null;var o=r.is_muted,u=r.start_at,c=r.end_at,h=r.remaining_duration,f=r.description;return i.isMuted=o,i.startAt=u,i.endAt=c,i.remainingDuration=h,i.description=f,i}return B(n,e),n}(Pe),dD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={keys:u,include_ts:!0},r}return B(n,e),n}(Me),hD=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(n,e),n}(Pe),Pte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata,c=t.upsert;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0,upsert:c!=null&&c},r}return B(n,e),n}(Me),Fte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(n,e),n}(Pe),V7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(n,e),n}(Ut),Hte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metadata/").concat(u),r.params={include_ts:!0},r}return B(n,e),n}(Me),qte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(n,e),n}(Pe),Bte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={include_ts:!0},r}return B(n,e),n}(Me),Gte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(n,e),n}(Pe),pD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={keys:u},r}return B(n,e),n}(Me),fD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Pe),$te=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u},r}return B(n,e),n}(Me),zte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Pe),aE=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter,c=t.upsert,h=c!==void 0&&c,f=t.mode,v=f===void 0?"set":f;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u,upsert:h,mode:v},r}return B(n,e),n}(Me),sE=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Pe),W7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(n,e),n}(Ut),jte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metacounter/").concat(u),r.params=null,r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var Vte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params=null,r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Wte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,c=t.seconds,h=t.description;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={user_id:u,seconds:c,description:h},r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var K7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new Jc(t,i.data),o}return B(n,e),n}(Ut),Kte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(u)),r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Q7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new Jc(t,i.data),o}return B(n,e),n}(Ut),Qte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,c=t.seconds,h=t.description;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=xn({user_id:u,seconds:c,description:h}),r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Y7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new Jc(t,i.data),i.data.member_count&&(o.memberCount=i.data.member_count),i.data.joined_member_count&&(o.joinedMemberCount=i.data.joined_member_count),o}return B(n,e),n}(Ut),Yte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/ban/").concat(encodeURIComponent(u)),r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var X7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new Jc(t,i.data),o}return B(n,e),n}(Ut),mD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.freezing;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Et(o),"/").concat(encodeURIComponent(i),"/freeze"),r.params={freeze:u},r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var J7=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.freeze=i.data.freeze,o}return B(n,e),n}(Ut),Xte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.description;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(D7(o),"/").concat(encodeURIComponent(i)),r.params={report_category:u,reporting_user_id:c,report_description:h},r}return B(n,e),n}(Me),Jte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.offendingUserId,f=t.description;return(r=e.call(this)||this).method=Ae.POST,r.path="/report/users/".concat(h),r.params={channel_url:i,channel_type:o===Nt.OPEN?"open_channels":"group_channels",report_category:u,reporting_user_id:c,report_description:f},r}return B(n,e),n}(Me),Zte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.offendingUserId,f=t.messageId,v=t.description;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(D7(o),"/").concat(encodeURIComponent(i),"/messages/").concat(f),r.params={report_category:u,reporting_user_id:c,report_description:v,offending_user_id:h},r}return B(n,e),n}(Me),ere=function(e){function n(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MESG",ackRequired:!0,payload:xn({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Au.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(n,e),n}($a),R3=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"MESG",i)||this).message=new Jr(t,i);var f=re.of(t).sdkState;return h.isMentioned=Th(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Ut),gD=function(e){function n(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MEDI",ackRequired:!0,payload:xn({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(n,e),n}($a),gv=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"MEDI",i)||this).message=new Jr(t,i);var y=re.of(t).sdkState;return _.mentionCountChange=w3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Ut),nre=function(e){function n(t){var r=[];return t.mentionType===pi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"FEDI",ackRequired:!0,payload:xn({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(n,e),n}($a),M3=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"FEDI",i)||this).message=new Kr(t,i);var y=re.of(t).sdkState;return _.mentionCountChange=w3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Ut),tre=function(e){function n(t){var r=e.call(this)||this;return r.method=Ae.DELETE,r.path="".concat(Et(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Z7=function(e){function n(t,r,i){var o=e.call(this,t,"DELM",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.messageId=Number(i.msg_id),o}return B(n,e),n}(Ut),rre=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,c=e.call(this)||this;return c.method=Ae.POST,c.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),c.params={reaction:u},c}return B(n,e),n}(Me),ire=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new k3(r),i}return B(n,e),n}(Pe),are=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,c=e.call(this)||this;return c.method=Ae.DELETE,c.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),c.params={reaction:u},c}return B(n,e),n}(Me),sre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new k3(ne({},r)),i}return B(n,e),n}(Pe),ore=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.translationTargetLanguages,c=e.call(this)||this;return c.method=Ae.POST,c.path="".concat(Et(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o),"/translation"),c.params={target_langs:u},c}return B(n,e),n}(Me),lre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Jr(t,r),i}return B(n,e),n}(Pe),ure=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,c=t.channelUrl;return i.method=Ae.POST,i.path="".concat(Et(u),"/").concat(encodeURIComponent(c),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Nh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return fa.payloadify(h)}),apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(Me),eF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Jr(t,r),i}return B(n,e),n}(Pe),cre=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,c=t.channelUrl;return i.method=Ae.POST,i.path="".concat(Et(u),"/").concat(encodeURIComponent(c),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Nh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(h){return e_.payloadify(h)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return fa.payloadify(h)}),apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(Me),dre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Kr(t,r),i}return B(n,e),n}(Pe),hre=2,M2=function(e){function n(t,r){var i,o,u,c,h=this;return(h=e.call(this,t)||this).url="",h.channelType=Nt.BASE,h.name="",h.coverUrl="",h.customType="",h.data="",h.isFrozen=!1,h.isEphemeral=!1,h.creator=null,h.createdAt=0,h.url=r.channel_url,h.name=(i=r.name)!==null&&i!==void 0?i:"",h.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",h.customType=(u=r.custom_type)!==null&&u!==void 0?u:"",h.data=(c=r.data)!==null&&c!==void 0?c:"",h.isFrozen=!!J("boolean",r.freeze)&&r.freeze,h.isEphemeral=!!J("boolean",r.is_ephemeral)&&r.is_ephemeral,h.creator=r.created_by?new Dn(h._iid,r.created_by):null,h.createdAt=1e3*r.created_at,h._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(f){h._cachedMetaData.set(f,{value:r.metadata[f],isRemoved:!1,updatedAt:r.ts})}),h}return B(n,e),n.payloadify=function(t){return xn(ne(ne({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:Dn.payloadify(t.creator),created_at:t.createdAt/1e3}))},n.prototype.isGroupChannel=function(){return this.channelType===Nt.GROUP},n.prototype.isOpenChannel=function(){return this.channelType===Nt.OPEN},Object.defineProperty(n.prototype,"cachedMetaData",{get:function(){var t={};return this._cachedMetaData.forEach(function(r,i){r.isRemoved||(t[i]=r.value)}),t},enumerable:!1,configurable:!0}),n.prototype._upsertCachedMetaData=function(t,r){var i=this;Object.keys(t).forEach(function(o){var u=i._cachedMetaData.get(o);(!u||u.updatedAt<=r)&&i._cachedMetaData.set(o,{value:t[o],isRemoved:!1,updatedAt:r})})},n.prototype._removeFromCachedMetaData=function(t,r){var i=this;t.forEach(function(o){var u=i._cachedMetaData.get(o);u&&u.updatedAt<r&&(u.isRemoved=!1,u.updatedAt=r)})},n.prototype._generateRequestId=function(){return"rq-".concat(Cs())},n.prototype.isIdentical=function(t){return t&&this.url===t.url},n.prototype.isEqual=function(t){return S7(this,t)},n.prototype.createOperatorListQuery=function(t){return t===void 0&&(t={}),new Ste(this._iid,this.url,this.channelType,t)},n.prototype.createMutedUserListQuery=function(t){return t===void 0&&(t={}),new Ite(this._iid,this.url,this.channelType,t)},n.prototype.createBannedUserListQuery=function(t){return t===void 0&&(t={}),new Rte(this._iid,this.url,this.channelType,t)},n.prototype.createPreviousMessageListQuery=function(t){return t===void 0&&(t={}),new yte(this._iid,this.url,this.channelType,t)},n.prototype.addOperators=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(On("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Mte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.removeOperators=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(On("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Dte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.getMyMutedInfo=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y;return I(this,function(E){switch(E.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ute({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,i.send(o)];case 1:return u=E.sent(),c=u.as(Lte),h=c.isMuted,f=c.startAt,v=c.endAt,_=c.remainingDuration,y=c.description,[2,{isMuted:h,startAt:f,endAt:v,remainingDuration:_,description:y}]}})})},n.prototype.getMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(On("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new dD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=f.sent(),u=o.as(hD),c=u.metadata,h=u.ts,this._upsertCachedMetaData(c,h),[2,c]}})})},n.prototype.getAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid).requestQueue,r=new dD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(hD),u=o.metadata,c=o.ts,this._upsertCachedMetaData(u,c),[2,u]}})})},n.prototype.createMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(c){switch(c.label){case 0:return r=re.of(this._iid).requestQueue,i=new Wne({channelUrl:this.url,channelType:this.channelType,metadata:t}),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(U7).metaData,this._upsertCachedMetaData(u,0),[2,u]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return i=re.of(this._iid).requestQueue,o=new Pte({channelUrl:this.url,channelType:this.channelType,metadata:t,upsert:r}),[4,i.send(o)];case 1:return u=v.sent(),c=u.as(Fte),h=c.metadata,f=c.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},n.prototype.deleteMetaData=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Hte({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(qte).ts,this._removeFromCachedMetaData([t],u),[2]}})})},n.prototype.deleteAllMetaData=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=re.of(this._iid).requestQueue,r=new Bte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i=u.sent(),o=i.as(Gte).ts,this._removeFromCachedMetaData(_n([],bn(this._cachedMetaData.keys()),!1),o),[2]}})})},n.prototype.getMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(On("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new pD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(fD).metaCounter]}})})},n.prototype.getAllMetaCounters=function(){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=re.of(this._iid).requestQueue,r=new pD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(fD).metaCounter]}})})},n.prototype.createMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=re.of(this._iid).requestQueue,i=new $te({channelUrl:this.url,channelType:this.channelType,metaCounter:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(zte).metaCounter]}})})},n.prototype.updateMetaCounters=function(t,r){return r===void 0&&(r=!1),T(this,void 0,void 0,function(){var i,o,u;return I(this,function(c){switch(c.label){case 0:return i=re.of(this._iid).requestQueue,o=new aE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(sE).metaCounter]}})})},n.prototype.increaseMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=re.of(this._iid).requestQueue,i=new aE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"increase"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(sE).metaCounter]}})})},n.prototype.decreaseMetaCounters=function(t){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return r=re.of(this._iid).requestQueue,i=new aE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"decrease"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(sE).metaCounter]}})})},n.prototype.deleteMetaCounter=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new jte({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.deleteAllMetaCounters=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=re.of(this._iid).requestQueue,r=new Vte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.muteUser=function(t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){return[2,this.muteUserWithUserId(t.userId,r,i)]})})},n.prototype.muteUserWithUserId=function(t,r,i){return T(this,void 0,void 0,function(){var o,u;return I(this,function(c){switch(c.label){case 0:return Fe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(le.invalidParameters),o=re.of(this._iid).requestQueue,u=new Wte({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.unmuteUser=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this.unmuteUserWithUserId(t.userId)]})})},n.prototype.unmuteUserWithUserId=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Kte({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.banUser=function(t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){return[2,this.banUserWithUserId(t.userId,r,i)]})})},n.prototype.banUserWithUserId=function(t,r,i){return T(this,void 0,void 0,function(){var o,u;return I(this,function(c){switch(c.label){case 0:return Fe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(le.invalidParameters),o=re.of(this._iid).requestQueue,u=new Qte({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.unbanUser=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this.unbanUserWithUserId(t.userId)]})})},n.prototype.unbanUserWithUserId=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Yte({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.freeze=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=re.of(this._iid).requestQueue,r=new mD({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!0,[2]}})})},n.prototype.unfreeze=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=re.of(this._iid).requestQueue,r=new mD({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!1,[2]}})})},n.prototype.getMessagesByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},q7),r),Fe(J("number",t)&&lte(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},I2),r),Fe(J("number",t)&&tD(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceToken=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},I2),r),Fe(J("string",t)&&tD(r)).throw(le.invalidParameters),[4,ci.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype._createPendingSendableMessagePayload=function(t,r,i){var o=re.of(this._iid).sessionManager;return xn({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map(function(u){return fa.payloadify(u)}):null,apple_critical_alert_options:t.appleCriticalAlertOptions?Do.payloadify(t.appleCriticalAlertOptions):null,created_at:i,user:s0.payloadify(o.currentUser),req_id:r,request_state:qt.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:t.mentionedUsers})},n.prototype._createPendingUserMessage=function(t,r,i){var o,u,c={};if(t.translationTargetLanguages)try{for(var h=$e(t.translationTargetLanguages),f=h.next();!f.done;f=h.next())c[f.value]=""}catch(y){o={error:y}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(o)throw o.error}}var v=xn(ne(ne({},this._createPendingSendableMessagePayload(t,r,i)),{type:br.USER,message:t.message,translations:c})),_=new Jr(this._iid,v);return _.messageParams=t,_},n.prototype._createPendingScheduledUserMessage=function(t,r,i){var o=this._createPendingUserMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._createPendingFileMessage=function(t,r,i){var o=xn(ne(ne({},this._createPendingSendableMessagePayload(t,r,i)),{type:br.FILE,url:t.fileUrl,file:{name:t.fileName,size:t.fileSize,type:t.mimeType,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(c){return{url:"",width:c.maxWidth,height:c.maxHeight}}):[]})),u=new Kr(this._iid,o);return u.messageParams=t,u},n.prototype._createPendingScheduledFileMessage=function(t,r,i){var o=this._createPendingFileMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._markMessageAsFailed=function(t,r,i){i===void 0&&(i=!1),t.errorCode=r.code,r.code===nt.REQUEST_CANCELED?t.sendingStatus=qt.CANCELED:i||(t.sendingStatus=qt.FAILED)},n.prototype.sendUserMessage=function(t){return t=ne(ne({},G7),t),Fe($7(t)).throw(le.invalidParameters),this._sendUserMessage(t)},n.prototype._sendUserMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=re.of(this._iid),c=u.dispatcher,h=u.requestQueue,f=i,v=new ll;if(!f){f=this._generateRequestId();var _=re.of(this._iid).dispatcher;bs(2).then(function(){var E=o._createPendingUserMessage(t,f,r);_.dispatch(new sr({messages:[E],source:wn.EVENT_MESSAGE_SENT_PENDING})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(x){return[2,v._trigger(null,E)]})})})})}var y=new ere(ne({channelUrl:this.url,channelType:this.channelType,reqId:f},t));return h.send(y).then(function(E){var x=E.as(R3).message;c.dispatch(new sr({messages:[x],source:wn.EVENT_MESSAGE_SENT_SUCCESS})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(C){return[2,v._trigger(null,x)]})})})}).catch(function(E){if(eo(E))throw E;bs(2).then(function(){var x=o._createPendingUserMessage(t,f,r),C=re.of(o._iid).cacheContext.localCacheEnabled&&pv(E.code);o._markMessageAsFailed(x,E,C),c.dispatch(new sr({messages:[x],source:x.sendingStatus===qt.PENDING?wn.REQUEST_RESEND_MESSAGE:wn.EVENT_MESSAGE_SENT_FAILED})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(M){return[2,v._trigger(E,x)]})})})})}),v},n.prototype._autoResendUserMessage=function(t){return Fe(t instanceof Jr).throw(le.invalidParameters),this._sendUserMessage(t.messageParams,t.createdAt,t.reqId)},n.prototype.resendUserMessage=function(t){var r;return T(this,void 0,void 0,function(){var i,o;return I(this,function(u){var c;return Fe(t instanceof Jr&&!t.scheduledInfo).throw(le.invalidParameters),i=new ma,o=(r=t.messageParams)!==null&&r!==void 0?r:xn({data:(c=t).data,customType:c.customType,mentionType:c.mentionType,mentionedUsers:c.mentionedUsers,mentionedUserIds:c.mentionedUserIds,mentionedMessageTemplate:c.mentionedMessageTemplate,metaArrays:c.metaArrays,parentMessageId:c.parentMessageId,appleCriticalAlertOptions:c.appleCriticalAlertOptions,message:c.message,translationTargetLanguages:Object.keys(c.translations)}),this._sendUserMessage(o).onFailed(function(h){return i.reject(h)}).onSucceeded(function(h){return i.resolve(h)}),[2,i.promise]})})},n.prototype.updateUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return r=ne(ne({},z7),r),Fe(J("number",t)&&j7(r)).throw(le.invalidParameters),i=re.of(this._iid),o=i.dispatcher,u=i.requestQueue,c=new gD(ne({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(gv).message,o.dispatch(new sr({messages:[f],source:wn.EVENT_MESSAGE_UPDATED})),[2,f]}})})},n.prototype.copyUserMessage=function(t,r){var i,o,u;return T(this,void 0,void 0,function(){var c,h;return I(this,function(f){return Fe(t instanceof n&&r instanceof Jr&&r.sendingStatus===qt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(le.invalidParameters),c=new ma,h=(i=r.messageParams)!==null&&i!==void 0?i:ne(ne({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Au.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),t._sendUserMessage(h).onSucceeded(function(v){return c.resolve(v)}).onFailed(function(v){return c.reject(v)}),[2,c.promise]})})},n.prototype.translateUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(t instanceof Jr&&t.messageId>0&&On("string",r)).throw(le.invalidParameters),i=re.of(this._iid).requestQueue,o=new ore({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(lre).message]}})})},n.prototype._createScheduledUserMessage=function(t,r){var i=this,o=re.of(this._iid),u=o.dispatcher,c=o.requestQueue,h=Date.now(),f=this._generateRequestId();bs(2).then(function(){var _=i._createPendingScheduledUserMessage(t,f,h);u.dispatch(new sr({messages:[_],source:wn.EVENT_MESSAGE_SENT_PENDING})),nn(function(){return T(i,void 0,void 0,function(){return I(this,function(y){return[2,r._trigger(null,_)]})})})});var v=new ure(ne({reqId:f,channelType:this.channelType,channelUrl:this.url},t));c.send(v).then(function(_){var y=_.as(eF).message;u.dispatch(new sr({messages:[y],source:wn.EVENT_MESSAGE_SENT_SUCCESS})),nn(function(){return T(i,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(eo(_))throw _;bs(2).then(function(){var y=i._createPendingScheduledUserMessage(t,f,h);i._markMessageAsFailed(y,_),u.dispatch(new sr({messages:[y],source:wn.EVENT_MESSAGE_SENT_FAILED})),nn(function(){return T(i,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(_,y)]})})})})})},n.prototype.sendFileMessage=function(t){return t=ne(ne({},lD),t),Fe(uD(t)).throw(le.invalidParameters),this._sendFileMessage(t)},n.prototype._sendFileMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=re.of(this._iid).dispatcher,c=ci.of(this._iid).fileMessageQueue,h=i,f=new ll;return h||(h=this._generateRequestId(),bs(2).then(function(){var v=o._createPendingFileMessage(t,h,r);u.dispatch(new sr({messages:[v],source:wn.EVENT_MESSAGE_SENT_PENDING})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(_){return[2,f._trigger(null,v)]})})})})),c.request(this,h,t).then(function(v){u.dispatch(new sr({messages:[v],source:wn.EVENT_MESSAGE_SENT_SUCCESS})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(_){return[2,f._trigger(null,v)]})})})}).catch(function(v){if(eo(v))throw v;bs(2).then(function(){var _=o._createPendingFileMessage(t,h,r),y=re.of(o._iid).cacheContext.localCacheEnabled&&pv(v.code);o._markMessageAsFailed(_,v,y),u.dispatch(new sr({messages:[_],source:_.sendingStatus===qt.PENDING?wn.REQUEST_RESEND_MESSAGE:wn.EVENT_MESSAGE_SENT_FAILED})),nn(function(){return T(o,void 0,void 0,function(){return I(this,function(E){return[2,f._trigger(v,_)]})})})})}),f},n.prototype._autoResendFileMessage=function(t){Fe(t instanceof Kr).throw(le.invalidParameters);var r=re.of(this._iid).logger;return r.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.createdAt,t.reqId).onFailed(function(i){r.debug("autoResendFileMessage failed",i)}).onSucceeded(function(i){r.debug("autoResendFileMessage success",i)})},n.prototype._createScheduledFileMessage=function(t,r,i,o){var u=this,c=re.of(this._iid),h=c.dispatcher,f=c.requestQueue,v=new cre(ne(ne({reqId:i,channelType:this.channelType,channelUrl:this.url},t),{fileUrl:t.fileUrl,requireAuth:t.requireAuth}));f.send(v).then(function(_){var y=_.as(dre).message;h.dispatch(new sr({messages:[y],source:wn.EVENT_MESSAGE_SENT_SUCCESS})),nn(function(){return T(u,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(eo(_))throw _;bs(2).then(function(){var y=u._createPendingScheduledFileMessage(t,i,o);u._markMessageAsFailed(y,_),h.dispatch(new sr({messages:[y],source:wn.EVENT_MESSAGE_SENT_FAILED})),nn(function(){return T(u,void 0,void 0,function(){return I(this,function(E){return[2,r._trigger(_,y)]})})})})})},n.prototype.sendFileMessages=function(t){var r,i;Fe(t.every(function(f){return uD(ne(ne({},lD),f))})).throw(le.invalidParameters);var o=new ll;try{for(var u=$e(t),c=u.next();!c.done;c=u.next()){var h=c.value;this.sendFileMessage(h).onPending(function(f){return o._trigger(null,f)}).onFailed(function(f,v){return o._trigger(f,v)}).onSucceeded(function(f){return o._trigger(null,f)})}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o},n.prototype.resendFileMessage=function(t,r){var i;return T(this,void 0,void 0,function(){var o,u;return I(this,function(c){return Fe(t instanceof Kr&&r instanceof Blob&&!t.scheduledInfo).throw(le.invalidParameters),o=new ma,u=(i=t.messageParams)!==null&&i!==void 0?i:function(h,f){return f===void 0&&(f=null),xn({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,metaArrays:h.metaArrays,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,file:f,fileUrl:h.url,fileName:h.name,fileSize:h.size,mimeType:h.type,thumbnailSizes:h.thumbnails.map(function(v){return{maxWidth:v.width,maxHeight:v.height}})})}(t,r),this._sendFileMessage(u).onFailed(function(h){return o.reject(h)}).onSucceeded(function(h){return o.resolve(h)}),[2,o.promise]})})},n.prototype.updateFileMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return r=ne(ne({},xte),r),Fe(J("number",t)&&function(_){return A3(_)}(r)).throw(le.invalidParameters),i=re.of(this._iid),o=i.dispatcher,u=i.requestQueue,c=new nre(ne({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(M3).message,o.dispatch(new sr({messages:[f],source:wn.EVENT_MESSAGE_UPDATED})),[2,f]}})})},n.prototype.cancelUploadingFileMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),ci.of(this._iid).fileMessageQueue.cancel(this,t),[2,!0]})})},n.prototype.copyFileMessage=function(t,r){var i,o;return T(this,void 0,void 0,function(){var u,c;return I(this,function(h){return Fe(t instanceof n&&r instanceof Kr&&r.sendingStatus===qt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(le.invalidParameters),u=new ma,c=ne(ne({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(i=r.mentionedUserIds)!==null&&i!==void 0?i:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(f){return f.userId}),pushNotificationDeliveryOption:Au.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(f){return{maxWidth:f.width,maxHeight:f.height}}),requireAuth:r.requireAuth}),t._sendFileMessage(c).onSucceeded(function(f){return u.resolve(f)}).onFailed(function(f){return u.reject(f)}),[2,u.promise]})})},n.prototype.deleteMessage=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return Fe(t instanceof jr).throw(le.invalidParameters),t.messageId>0?(r=re.of(this._iid).requestQueue,i=new tre({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.addReaction=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(t instanceof mv&&t.messageId>0&&J("string",r)).throw(le.invalidParameters),i=re.of(this._iid).requestQueue,o=new rre({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(ire).reactionEvent]}})})},n.prototype.deleteReaction=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(t instanceof mv&&t.messageId>0&&J("string",r)).throw(le.invalidParameters),i=re.of(this._iid).requestQueue,o=new are({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(sre).reactionEvent]}})})},n.prototype._updateMessageMetaArray=function(t,r,i,o){return T(this,void 0,void 0,function(){var u,c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return u=re.of(this._iid),c=u.dispatcher,h=u.requestQueue,f=new gD({channelType:this.channelType,channelUrl:this.url,messageId:t,metaArrayParams:{array:r,mode:i,upsert:o}}),[4,h.send(f)];case 1:return v=y.sent(),_=v.as(gv).message,c.dispatch(new sr({messages:[_],source:wn.EVENT_MESSAGE_UPDATED})),[2,_]}})})},n.prototype.createMessageMetaArrayKeys=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return Fe(t instanceof jr&&t.messageId>0&&On("string",r)).throw(le.invalidParameters),i=r.map(function(u){return new fa({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"add",!0)]})})},n.prototype.deleteMessageMetaArrayKeys=function(t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){return Fe(t instanceof jr&&t.messageId>0&&On("string",r)).throw(le.invalidParameters),i=r.map(function(u){return new fa({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"remove",!0)]})})},n.prototype.addMessageMetaArrayValues=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){return Fe(t instanceof jr&&t.messageId>0&&r.every(function(o){return o instanceof fa})).throw(le.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"add",!0)]})})},n.prototype.removeMessageMetaArrayValues=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){return Fe(t instanceof jr&&t.messageId>0&&r.every(function(o){return o instanceof fa})).throw(le.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"remove",!0)]})})},n.prototype.report=function(t,r){return T(this,void 0,void 0,function(){var i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(Tn(Of,t)&&J("string",r)).throw(le.invalidParameters),i=re.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new Xte({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:t,description:r}),[4,u.send(c)];case 1:return h.sent(),[2]}})})},n.prototype.reportUser=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(t instanceof Dn&&Tn(Of,r)&&J("string",i)).throw(le.invalidParameters),o=re.of(this._iid),u=o.sdkState,c=o.requestQueue,h=new Jte({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.userId,category:r,description:i}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},n.prototype.reportMessage=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(t instanceof jr&&Tn(Of,r)&&J("string",i)).throw(le.invalidParameters),o=re.of(this._iid),u=o.sdkState,c=o.requestQueue,h=new Zte({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:r,description:i}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},n}(lo),Oa,Oc,ls,D2;(function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"})(Oa||(Oa={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(Oc||(Oc={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(ls||(ls={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(D2||(D2={}));var Qr,Af,U2,nF=100,tF="GroupChannel",pre="url",rF=100,fre="Message",mre="messageId";(function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Qr||(Qr={})),function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(Af||(Af={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(U2||(U2={}));var ui,Rg=function(e){switch(e){case Qr.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Qr.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Qr.CHANNEL_NAME_ALPHABETICAL:return["name"]}},o0=function(){function e(){this.messageTypeFilter=di.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=ta.NONE}return e.prototype.clone=function(){var n=new e,t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n){switch(this.messageTypeFilter){case di.USER:if(n.messageType!==br.USER)return!1;break;case di.FILE:if(n.messageType!==br.FILE)return!1;break;case di.ADMIN:if(n.messageType!==br.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(n instanceof jr)||!this.senderUserIdsFilter.includes(n.sender.userId)))return!1;switch(this.replyType){case ta.NONE:if(n.parentMessageId>0)return!1;break;case ta.ONLY_REPLY_TO_CHANNEL:if(n instanceof jr&&n.parentMessageId>0&&!n.replyToChannel)return!1}return!0},e}();(function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"})(ui||(ui={}));var l0,vl=function(e){switch(e){case ui.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ui.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},gre=ne(ne({},G7),{scheduledAt:null}),vre=function(e){return $7(e)&&J("number",e.scheduledAt,!0)},_re=ne(ne({},T3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),bre=function(e){return I3(e)&&J("number",e.scheduledAt)&&(Di(e.file)||J("string",e.fileUrl))&&J("string",e.fileName,!0)&&J("string",e.mimeType,!0)&&J("number",e.fileSize,!0)&&(e.thumbnailSizes===null||e.thumbnailSizes.every(function(n){return J("object",n)&&n.maxWidth>0&&n.maxHeight>0}))},yre="UnsentMessage",Ere="reqId",vD={},D3=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=e.call(this,t)||this;return u._sdkState=i,u._cacheContext=o,vD[t]=u,u}return B(n,e),n.of=function(t){return vD[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t&&t.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){if(t.messageId>0)throw le.invalidParameters;var r,i=ne({},t.serialize());return t instanceof Jr?(t.messageParams&&(i.messageParams=sD(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(r=t.scheduledInfo.scheduledMessageParams,ne(ne({},sD(r)),{scheduledAt:r.scheduledAt})))):t instanceof Kr&&(t.messageParams&&(i.messageParams=oD(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=function(o){return ne(ne({},oD(o)),{scheduledAt:o.scheduledAt})}(t.scheduledInfo.scheduledMessageParams))),i},n.prototype._deserialize=function(t){return t?(t=ne(ne({},t),{messageId:parseInt(t.messageId)}),ci.of(this._iid).buildMessageFromSerializedData(t)):null},n.prototype.get=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=r===void 0?null:r,o=t.filter,u=o===void 0?new o0:o,c=t.order,h=c===void 0?ui.CHANNEL_LATEST:c,f=t.sendingStatus,v=f===void 0?null:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,x=E===void 0?null:E;return T(this,void 0,void 0,function(){var C,M,S,N,D=this;return I(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(C=vl(h),M={"/where":function(K){return!!(h!==ui.NEWEST_CHILD_MESSAGE||x&&K.parentMessageId!==0&&K.parentMessageId===x)&&u.match(D._deserialize(K))}},i&&(M.channelUrl=i),v&&(M.sendingStatus=v),S={where:M,index:C,backward:y},[4,this.collection.query(S)]):[3,3];case 1:return[4,H.sent().fetch({})];case 2:return N=H.sent(),[2,Promise.all(N.map(function(K){return T(D,void 0,void 0,function(){var z,W,j,ce,ue,we;return I(this,function(Se){switch(Se.label){case 0:return z=ci.of(this._iid),W=this._deserialize(K),(j=K.messageParams)?W instanceof Jr?(W.messageParams=z.buildUserMessageCreateParamsFromSerializedData(j,W),[3,4]):[3,1]:[3,4];case 1:return W instanceof Kr?j.fileKey&&typeof j.fileKey=="string"&&R2(j.fileType)?(ce=j,[4,this.collection.getBlob(j.fileKey)]):[3,3]:[3,4];case 2:ce.file=Se.sent(),Se.label=3;case 3:W.messageParams=z.buildFileMessageCreateParamsFromSerializedData(j,W),Se.label=4;case 4:return W.scheduledInfo&&K.scheduledInfo&&K.scheduledInfo.scheduledMessageParams?W instanceof Jr?(ue=K.scheduledInfo.scheduledMessageParams,W.scheduledInfo.scheduledMessageParams=z.buildScheduledUserMessageCreateParamsFromSerializedData(ue,W),[3,8]):[3,5]:[3,8];case 5:return W instanceof Kr?(ue=K.scheduledInfo.scheduledMessageParams).fileKey&&typeof ue.fileKey=="string"&&R2(ue.fileType)?(we=ue,[4,this.collection.getBlob(ue.fileKey)]):[3,7]:[3,8];case 6:we.file=Se.sent(),Se.label=7;case 7:W.scheduledInfo.scheduledMessageParams=z.buildScheduledFileMessageCreateParamsFromSerializedData(ue,W),Se.label=8;case 8:return[2,W]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new o0),T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.fetch({filter:r,order:ui.NEWEST_CHILD_MESSAGE,channelUrl:t.channelUrl,backward:!1,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,3];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},n.prototype.upsertChildMessages=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,c;return I(this,function(h){switch(h.label){case 0:return u=[],((c=o.threadInfo)===null||c===void 0?void 0:c.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=$e(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove(o)]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),c={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.saveBlobs=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,c,h;return I(this,function(f){switch(f.label){case 0:return o instanceof Kr?o.messageParams&&(u=o.messageParams).file&&A2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2]:[3,4];case 1:h=f.sent(),u.fileKey=h,u.fileType=Oh.BLOB,f.label=2;case 2:return o.scheduledInfo&&o.scheduledInfo.scheduledMessageParams&&(c=o.scheduledInfo.scheduledMessageParams).file&&A2(c.file)?[4,this.collection.saveBlob(c.file,o.reqId)]:[3,4];case 3:h=f.sent(),c.fileKey=h,c.fileType=Oh.BLOB,f.label=4;case 4:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(lo),_D={},iF=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=r.unsentMessageCache,c=e.call(this,t)||this;return c._sdkState=i,c._cacheContext=o,c._unsentMessageCache=u,_D[t]=c,c}return B(n,e),n.of=function(t){return _D[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){return ne(ne({},t.serialize()),{messageId:"".concat(t.messageId)})},n.prototype._deserialize=function(t){return t=ne(ne({},t),{messageId:parseInt(t.messageId)}),ci.of(this._iid).buildMessageFromSerializedData(t)},n.prototype.get=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=t.token,o=t.limit,u=o===void 0?100:o,c=t.filter,h=c===void 0?new o0:c,f=t.order,v=f===void 0?ui.CHANNEL_LATEST:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,x=E===void 0?null:E;return T(this,void 0,void 0,function(){var C,M,S,N=this;return I(this,function(D){switch(D.label){case 0:return this.localCacheEnabled?(C=vl(v),M={where:{channelUrl:r,"/where":function(H){if(i)switch(v){case ui.CHANNEL_LATEST:if(!y&&H.createdAt>i||y&&H.createdAt<i)return!1;break;case ui.NEWEST_CHILD_MESSAGE:if(!x||H.parentMessageId===0||H.parentMessageId!==x)return!1}return h.match(N._deserialize(H))}},index:C,backward:y},[4,this.collection.query(M)]):[3,3];case 1:return[4,D.sent().fetch({limit:u})];case 2:return S=D.sent(),[2,Promise.all(S.map(function(H){return T(N,void 0,void 0,function(){var K,z,W;return I(this,function(j){switch(j.label){case 0:return K=this._deserialize(H),(z=H.messageParams)?K instanceof Jr?(K.messageParams=z,[3,4]):[3,1]:[3,4];case 1:return K instanceof Kr?z.fileKey&&typeof z.fileKey=="string"&&R2(z.fileType)?(W=z,[4,this.collection.getBlob(z.fileKey)]):[3,3]:[3,4];case 2:W.file=j.sent(),j.label=3;case 3:K.messageParams=z,j.label=4;case 4:return[2,K]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new o0),T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.fetch({channelUrl:t.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:ui.NEWEST_CHILD_MESSAGE,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,5];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(t)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(t)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},n.prototype.upsertChildMessages=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,c;return I(this,function(h){switch(h.label){case 0:return u=[],((c=o.threadInfo)===null||c===void 0?void 0:c.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=$e(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove("".concat(o))]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),c={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t},index:vl(ui.CHANNEL_LATEST)})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}})})},n.prototype.removeUnderOffset=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t,createdAt:{"<":r}},index:vl(ui.CHANNEL_LATEST)})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.countBetween=function(t,r,i){return T(this,void 0,void 0,function(){var o,u=this;return I(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?(o=vl(ui.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:t,"/where":function(h){var f=u._deserialize(h);return i.includes(f.createdAt)&&r.match(f)}},index:o}).count()]):[3,2];case 1:return[2,c.sent()];case 2:return[2,0]}})})},n.prototype.saveBlobs=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return T(r,void 0,void 0,function(){var u,c;return I(this,function(h){switch(h.label){case 0:return o instanceof Kr&&o.messageParams&&(u=o.messageParams).file&&A2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2];case 1:c=h.sent(),u.fileKey=c,h.label=2;case 2:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(lo),aF=function(e){function n(t){var r=t.message,i=e.call(this)||this;return i.message=r,i}return B(n,e),n}(ei),oE={},uh=function(){function e(n,t){var r=t.localCacheEnabled,i=t.dispatcher,o=t.sdkState,u=t.logger,c=this;oE[n]=this,this._iid=n,oE[n]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=i,this._logger=u,this._sdkState=o,this._localCacheEnabled&&i.on(function(h){if(h instanceof oo)switch(h.stateType){case At.CONNECTED:c._isProcessingAutoResend||c.processAutoResendRegisteredPendingMessages().then(function(){return c._processNextAutoResend()});break;case At.DISCONNECTED:c._isProcessingAutoResend=!1}})}return e.of=function(n){return oE[n]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=c.sent();try{for(t=$e(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",i.reqId),i.sendingStatus=qt.FAILED,i.errorCode=nt.ACK_TIMEOUT,this._dispatcher.dispatch(new sr({messages:[i],source:wn.LOCAL_MESSAGE_FAILED})))}catch(h){o={error:h}}finally{try{r&&!r.done&&(u=t.return)&&u.call(t)}finally{if(o)throw o.error}}return[2]}})})},e.prototype.processAutoResendRegisteredPendingMessages=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=f.sent();try{for(t=$e(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode&&pv(i.errorCode)&&(o=new Date().getTime(),u=i.createdAt+2592e5,o<=u?this._autoResendQueue.map(function(v){return v.reqId}).indexOf(i.reqId)<0&&this._autoResendQueue.push(i):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(u).toLocaleString()),i.sendingStatus=qt.FAILED,this._dispatcher.dispatch(new sr({messages:[i],source:wn.LOCAL_MESSAGE_FAILED}))))}catch(v){c={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}}return[2]}})})},e.prototype.completeCurrentAndProcessNextAutoResend=function(n){if(this._localCacheEnabled&&(n.sendingStatus===qt.SUCCEEDED||n.sendingStatus===qt.FAILED&&!pv(n.errorCode))){var t=this.indexOf(n);t>=0&&this._autoResendQueue.splice(t,1),t===0&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return T(this,void 0,void 0,function(){var n,t;return I(this,function(r){switch(r.label){case 0:return(n=D3.of(this._iid))?[4,n.fetch({sendingStatus:qt.PENDING,backward:!0})]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=[],r.label=3;case 3:return[2,t]}})})},e.prototype.indexOf=function(n){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId):-1},e.prototype._isNotInQueue=function(n){return this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId)===-1},e.prototype._processNextAutoResend=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),n=this._autoResendQueue[0],this._dispatcher.dispatch(new aF({message:n})),this._logger.debug("processing auto-resend for message request id: ",n.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},e}();(function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(l0||(l0={}));var vv=function(){function e(n){this.category=n.cat,this.data=n.data}return e.getDataAsUserBlockEvent=function(n,t){var r=t.data,i=r.blocker,o=r.blockee;return{blocker:new Dn(n,i),blockee:new Dn(n,o)}},e.getDataAsFriendDiscoveredEvent=function(n,t){var r=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(i){return new Dn(n,i)}):[]}},e}(),sF=function(e){function n(t,r){var i=r.userId,o=e.call(this)||this;return o._iid=t,o.userId=i,o}return B(n,e),n}(ei),oF=function(e){function n(t,r,i){var o=e.call(this,t,"USEV",i)||this;return o.event=new vv(i),o}return B(n,e),n}(Ut),lF=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(Me),uF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(n,e),n}(Pe),cF=function(e){function n(t){var r=t.userId,i=t.pushTriggerOption,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:i},o}return B(n,e),n}(Me),dF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(n,e),n}(Pe),wre={profileImage:null,profileUrl:null,nickname:null},xre=function(){this.onSessionExpired=Pn,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=Pn,this.onSessionRefreshed=Pn,this.onSessionClosed=Pn},hF=function(){this.onConnected=Pn,this.onReconnectStarted=Pn,this.onReconnectSucceeded=Pn,this.onReconnectFailed=Pn,this.onDisconnected=Pn},kre=function(){this.onFriendsDiscovered=Pn,this.onTotalUnreadMessageCountUpdated=Pn};(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(lo);var Cre=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._pauseDelayTimer=null,t._currentState="visible",t}return B(n,e),Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener},enumerable:!1,configurable:!0}),n.prototype._toggleState=function(){var t=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){t._pauseDelayTimer=null,t.dispatch("pause")},3e4)),this._currentState=document.visibilityState},n.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n}(b0),Sre=function(){function e(n){var t=n.logger,r=n.connectionDelegate,i=r===void 0?null:r;this.logger=t,i&&(this.connectionDelegate=i),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(e.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),e.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},e.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},e.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},e.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},e.prototype.isOnline=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(t,r){fetch("https://www.google.com",{method:Ae.GET}).then(function(){return t(!0)}).catch(function(){return t(!1)})})]})})},e}(),bD=function(e){function n(t){var r=t.userId,i=t.nickname,o=i===void 0?null:i,u=t.profileUrl,c=u===void 0?null:u,h=t.profileImage,f=h===void 0?null:h,v=t.preferredLanguages,_=v===void 0?null:v,y=e.call(this)||this;return y.method=Ae.PUT,y.path="".concat(rt,"/").concat(encodeURIComponent(r)),y.params=xn({nickname:o,profile_url:c,profile_file:f,preferred_languages:_}),y}return B(n,e),n}(Me),yD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=null,i.user=new Dn(t,ne({},r)),i}return B(n,e),n}(Pe),Nre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:i,always_push:!0},o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?ls[r.type.toLowerCase()]:ls.UNKNOWN,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Tre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:i,always_push:!0},o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?ls[r.type.toLowerCase()]:ls.UNKNOWN,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Ire=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(i)),o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Ore=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(i)),o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Are=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/apns"),i}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?ls[r.type.toLowerCase()]:ls.UNKNOWN,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Rre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.DELETE,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/gcm"),i}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?ls[r.type.toLowerCase()]:ls.UNKNOWN,i.user=new Dn(t,r.user),i}B(n,e)})(Pe);var Mre=function(e){function n(t){var r=t.userId,i=t.type,o=t.token,u=t.ts,c=e.call(this)||this;return c.method=Ae.GET,c.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(i),"/device_tokens"),c.params={created_ts:u,token:o},c}return B(n,e),n}(Me),Dre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTokens={type:r.type?ls[r.type.toLowerCase()]:ls.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},i}return B(n,e),n}(Pe),Ure=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),i}return B(n,e),n}(Me),Lre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(n,e),n}(Pe),Pre=function(e){function n(t){var r=t.userId,i=t.willAutoAccept,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:i},o}return B(n,e),n}(Me),Fre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(n,e),n}(Pe),Hre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(Me),qre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(n,e),n}(Pe),Bre=function(e){function n(t){var r=t.userId,i=t.doNotDisturbOn,o=t.startHour,u=t.startMin,c=t.endHour,h=t.endMin,f=t.timezone,v=e.call(this)||this;return v.method=Ae.PUT,v.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),v.params={do_not_disturb:i,start_hour:o,start_min:u,end_hour:c,end_min:h,timezone:f},v}return B(n,e),n}(Me),Gre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(n,e),n}(Pe),$re=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(Me),zre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(n,e),n}(Pe),jre=function(e){function n(t){var r=t.userId,i=t.snoozeOn,o=t.startTs,u=t.endTs,c=e.call(this)||this;return c.method=Ae.PUT,c.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push_preference"),c.params={snooze_enabled:i,snooze_start_ts:o,snooze_end_ts:u},c}return B(n,e),n}(Me),Vre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(n,e),n}(Pe),Wre=function(e){function n(t){var r=t.userId,i=t.blockedUserId,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:i},o}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=new Dn(t,r),i}B(n,e)})(Pe);var Kre=function(e){function n(t){var r=t.userId,i=t.unblockedUserId,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(i)),o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var Qre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/template"),i}return B(n,e),n}(Me),Yre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return B(n,e),n}(Pe),Xre=function(e){function n(t){var r=t.userId,i=t.templateName,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:i},o}return B(n,e),n}(Me),Jre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return B(n,e),n}(Pe),Zre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Ae.GET,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:i},o}return B(n,e),n}(Me),eie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.changelogs={addedUsers:r.added.map(function(o){return new Dn(t,o)}),updatedUsers:r.updated.map(function(o){return new Dn(t,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},i}return B(n,e),n}(Pe),nie=function(e){function n(t){var r=t.userId,i=t.discoveries,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:i.map(function(u){return{friend_discovery_key:u.friendDiscoveryKey,friend_name:u.friendName}})},o}return B(n,e),n}(Me),tie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.friendDiscoveryRequestId=r.friend_discovery_request_id,i}return B(n,e),n}(Pe),rie=function(e){function n(t){var r=t.userId,i=t.discoveryKeys,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:i},o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var iie=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=Ae.POST,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(n,e),n}(Me),aie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Dn(t,o)}),i}return B(n,e),n}(Pe),sie=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=Ae.DELETE,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var oie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(r,"/allow_friend_discovery"),i.params={},i}return B(n,e),n}(Me),lie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.allowFriendDiscovery=r.allow_friend_discovery,i}return B(n,e),n}(Pe),uie=function(e){function n(t){var r=t.userId,i=t.allowFriendDiscovery,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:i},o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var $t,pF=function(e){this.key=null,this.url=null,this.key=e.key,this.url=e.url},fF=function(e){var n,t,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(n=e.id)!==null&&n!==void 0?n:0,this.name=(t=e.name)!==null&&t!==void 0?t:"",this.url=(r=e.url)!==null&&r!==void 0?r:"",this.emojis=e.emojis?e.emojis.map(function(i){return new pF(i)}):[]},cie=function(e){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(n){return new fF(n)}):[]},die=function(e){function n(){var t=e.call(this)||this;return t.method=Ae.GET,t.path=R7,t}return B(n,e),n}(Me),hie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiContainer=new cie(r),i}return B(n,e),n}(Pe),pie=function(e){function n(t){var r=t.categoryId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(R7,"/").concat(r),i}return B(n,e),n}(Me),fie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiCategory=new fF(r),i}return B(n,e),n}(Pe),mie=function(e){function n(t){var r=t.key,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(zne,"/").concat(r),i}return B(n,e),n}(Me),gie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emoji=new pF(r),i}return B(n,e),n}(Pe),vie=function(e){function n(t){var r=t.limit,i=t.token,o=t.userIdsFilter,u=t.metaDataKeyFilter,c=t.metaDataValuesFilter,h=t.nicknameStartsWithFilter,f=e.call(this)||this;return f.method=Ae.GET,f.path=rt,f.params=xn({limit:r,token:i,user_ids:o,metadatakey:u,metadatavalues_in:c,nickname_startswith:h}),f}return B(n,e),n}(Me),_ie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Dn(t,o)}),i.next=r.next,i}return B(n,e),n}(Pe),bie=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t,r)||this).userIdsFilter=null,c.metaDataKeyFilter=null,c.metaDataValuesFilter=null,c.nicknameStartsWithFilter=null,c.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,c.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,c.metaDataValuesFilter=(u=r.metaDataValuesFilter)!==null&&u!==void 0?u:null,c.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,c}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&On("string",this.userIdsFilter,!0)&&J("string",this.metaDataKeyFilter,!0)&&On("string",this.metaDataValuesFilter,!0)&&J("string",this.metaDataKeyFilter,!0)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new vie(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(_ie),u=o.users,c=o.next,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),yie=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,u=t.userIdsFilter,c=e.call(this)||this;return c.method=Ae.GET,c.path="".concat(rt,"/").concat(r,"/block"),c.params=xn({limit:i,token:o,user_ids:u}),c}return B(n,e),n}(Me),Eie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new Dn(t,o)}),i.next=r.next,i}return B(n,e),n}(Pe),wie=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this).userIdsFilter=null,o.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,o}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&On("string",this.userIdsFilter,!0)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new yie(ne(ne({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=v.sent(),c=u.as(Eie),h=c.users,f=c.next,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),xie=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,u=e.call(this)||this;return u.method=Ae.GET,u.path="".concat(rt,"/").concat(encodeURIComponent(r),"/friends"),u.params={limit:i,token:o},u}return B(n,e),n}(Me),kie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.hasMore=r.has_more,i.users=r.users.map(function(o){return new Dn(t,o)}),i.next=r.next,i}return B(n,e),n}(Pe),Cie=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new xie(ne(ne({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=_.sent(),c=u.as(kie),h=c.users,f=c.hasMore,v=c.next,this._token=v,this._hasNext=f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),cg={},r_=function(){function e(n){var t=n.dbname,r=n.itemSizeLimit,i=r===void 0?1048576:r,o=n.cacheLimit,u=o===void 0?256:o,c=n.blockHashBase,h=c===void 0?2:c,f=n.blockHashMultiplier,v=f===void 0?10:f,_=n.blockHashConstant,y=_===void 0?11:_,E=n.transactionApplyDelay,x=E===void 0?200:E,C=n.disableLogger,M=C!==void 0&&C;return cg[t]||(this.itemSizeLimit=i,this.cacheLimit=u,this.blockHashBase=h,this.blockHashMultiplier=v,this.blockHashConstant=y,this.transactionApplyDelay=x,this.disableLogger=M,cg[t]=this),cg[t]}return e.get=function(n){return cg[n]},e}();(function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})($t||($t={}));var ch,vt=function(e){function n(t){var r=t.code,i=r===void 0?$t.UNKNOWN_ERROR:r,o=t.message,u=o===void 0?"Unknown error occurred.":o,c=e.call(this,u)||this;return c.code=i,Object.setPrototypeOf(c,n.prototype),c}return B(n,e),Object.defineProperty(n,"storeNotDefined",{get:function(){return new n({code:$t.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailable",{get:function(){return new n({code:$t.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailableInPrivateBrowsing",{get:function(){return new n({code:$t.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeIsFull",{get:function(){return new n({code:$t.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeKeyTypeIsInvalid",{get:function(){return new n({code:$t.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenIntegrity",{get:function(){return new n({code:$t.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenBlob",{get:function(){return new n({code:$t.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeEncryptionInvalid",{get:function(){return new n({code:$t.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeItemSizeExceeded",{get:function(){return new n({code:$t.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeReadFailed",{get:function(){return new n({code:$t.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeWriteFailed",{get:function(){return new n({code:$t.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseSchemaNotOnUpgrade",{get:function(){return new n({code:$t.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionNotReady",{get:function(){return new n({code:$t.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotMatch",{get:function(){return new n({code:$t.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionQueryNotValid",{get:function(){return new n({code:$t.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionInsertDuplicate",{get:function(){return new n({code:$t.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotFound",{get:function(){return new n({code:$t.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotGiven",{get:function(){return new n({code:$t.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionWriteFailed",{get:function(){return new n({code:$t.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionItemSizeExceeded",{get:function(){return new n({code:$t.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTableIsRequired",{get:function(){return new n({code:$t.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTypesNotMatch",{get:function(){return new n({code:$t.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"compareTypesNotMatch",{get:function(){return new n({code:$t.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularReferenceFound",{get:function(){return new n({code:$t.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),n}(Error);(function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"})(ch||(ch={}));var ED,pa=function(e,n){if(n===void 0&&(n=new WeakMap),typeof e=="object"&&e!==null){if(n.has(e))throw vt.circularReferenceFound;n.set(e,!0);var t=null;if(Array.isArray(e))t=e.map(function(i){return pa(i,n)});else if(e instanceof RegExp)t=e;else if(e instanceof Date)t=e;else for(var r in t={},e)t[r]=pa(e[r],n);return n.delete(e),t}return e},_l=function(e,n){if(n==null)return 1;if(e==null)return-1;if(typeof e!=typeof n)throw vt.compareTypesNotMatch;var t=0;switch(typeof e){case"boolean":case"number":t=e-n;break;case"string":t=e.localeCompare(n)}return t},wD=function(e,n){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+(t<<6)+(t<<16)-t;return(t>>>0)%n},zd=function(e){return new Promise(function(n){setTimeout(function(){return n()},e)})},Lc=function(e,n){if(!n)return!1;if(typeof e!="function"){for(var t in e)if(["/and","&&"].includes(t)){if(e[t].some(function(h){return!Lc(h,n)}))return!1}else if(["/or","||"].includes(t)){if(e[t].every(function(h){return!Lc(h,n)}))return!1}else if(t==="/where"){if(!(0,e[t])(n))return!1}else{var r=t;if(typeof e[r]=="object"){var i=e[r];for(var o in i)switch(o){case"/eq":case"=":if((u=n[r])!==(c=i[o]))return!1;break;case"/neq":case"!=":if((u=n[r])===(c=i[o]))return!1;break;case"/gt":case">":var u=n[r],c=i[o];if(!(_l(u,c)>0))return!1;break;case"/gte":case">=":if(u=n[r],c=i[o],!(_l(u,c)>=0))return!1;break;case"/lt":case"<":if(u=n[r],c=i[o],!(_l(u,c)<0))return!1;break;case"/lte":case"<=":if(u=n[r],c=i[o],!(_l(u,c)<=0))return!1;break;case"/in":if(u=n[r],!(c=i[o]).includes(u))return!1;break;case"/nin":if(u=n[r],(c=i[o]).includes(u))return!1;break;case"/contain":if(u=n[r],c=i[o],!u.includes(c))return!1;break;case"/regex":if(u=n[r],!(c=i[o]).test(u))return!1;break;case"/where":if(u=n[r],!(0,i[o])(u))return!1}}else if(typeof e[r]=="function"){if(!e[r](n[r]))return!1}else if(e[r]!==n[r])return!1}return!0}return e(n)},Mg=function(){},xD=function(){return Promise.resolve()},Sie=function(e){return e},kD=function(e,n){n(null)};(function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"})(ED||(ED={}));var Pc,Mi,No,Nie=function(){function e(n){var t=n.initialPrevValue,r=t===void 0?null:t,i=n.initialNextValue,o=i===void 0?null:i,u=n.iterator,c=n.map,h=c===void 0?Sie:c,f=n.backward,v=f===void 0?xD:f,_=n.forward,y=_===void 0?xD:_,E=n.complete,x=E===void 0?Mg:E;this._prevValue=r,this._nextValue=o,this._error=null,this._map=h,this._backward=v,this._forward=y,this._iterator=u,this._complete=x}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return T(this,void 0,void 0,function(){var n,t,r;return I(this,function(i){switch(i.label){case 0:if(!this.hasPrevious)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=i.sent()||null,this._nextValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.next=function(){return T(this,void 0,void 0,function(){var n,t,r;return I(this,function(i){switch(i.label){case 0:if(!this.hasNext)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=i.sent()||null,this._prevValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),L2=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,u=n.blockManager,c=n.indexer;this.condition=r,this.backward=o,this._blockManager=u,this._indexer=c}return e.prototype.findOptimizedStartPosition=function(){var n=this,t=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var i=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var u=this._indexer.fields[o],c=1;if(u[0]==="-"&&(u=u.slice(1),c=-1),this.condition[u]){if(typeof this.condition[u]=="object"){var h=c>0?r:t;for(var f in this.condition[u])if(h.includes(f)){for(var v=i;v>=0;v--)if(c*_l(this._indexer.origin[v].columnValues[o],this.condition[u][f])<=0){i=v;break}}}else for(v=i;v>=0;v--)if(c*_l(this._indexer.origin[v].columnValues[o],this.condition[u])<=0){i=v;break}}}return Math.min(i+1,this._indexer.origin.length-1)}var _=0;if(typeof this.condition!="function")for(var y=function(C){var M=E._indexer.fields[C],S=1;if(M[0]==="-"&&(M=M.slice(1),S=-1),E.condition[M]){if(typeof E.condition[M]=="object")Object.keys(E.condition[M]).forEach(function(D){if((S>0?t:r).includes(D)){for(var H=_;H<n._indexer.origin.length;H++)if(S*_l(n._indexer.origin[H].columnValues[C],n.condition[M][D])>=0){_=H;break}}});else for(var N=_;N<E._indexer.origin.length;N++)if(S*_l(E._indexer.origin[N].columnValues[C],E.condition[M])>=0){_=N;break}}},E=this,o=0;o<this._indexer.fields.length;o++)y(o);return Math.max(_-1,0)},e.prototype.each=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return I(this,function(v){switch(v.label){case 0:if(t=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[t]&&(r=this._indexer.origin[t].keys.length-1),i=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[++r]){if(!f._indexer.origin[++t])return!1;r=0}return!0}return!1},o=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[--r]){if(!f._indexer.origin[--t])return!1;r=f._indexer.origin[t].keys.length-1}return!0}return!1},u=null,!this._indexer.origin[t])return[3,4];c=this.backward?o:i,v.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])];case 2:if(h=v.sent(),Lc(this.condition,h))return u=h,[3,4];v.label=3;case 3:if(c())return[3,1];v.label=4;case 4:return[4,new Promise(function(_){var y=new Nie({initialNextValue:pa(u),iterator:n,forward:function(){return T(f,void 0,void 0,function(){var E,x;return I(this,function(C){switch(C.label){case 0:E=this.backward?o:i,C.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return x=C.sent(),Lc(this.condition,x)?[2,pa(x)]:[3,1];case 3:return[2,null]}})})},backward:function(){return T(f,void 0,void 0,function(){var E,x;return I(this,function(C){switch(C.label){case 0:E=this.backward?i:o,C.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return x=C.sent(),Lc(this.condition,x)?[2,pa(x)]:[3,1];case 3:return[2,null]}})})},complete:_});n(y)})];case 5:return[2,v.sent()]}})})},e}(),Tie=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,u=n.mutex,c=n.blockManager,h=n.indexer;this._mutex=u,this._iterator=new L2({condition:r,backward:o,blockManager:c,indexer:h})}return e.prototype.fetch=function(n){return n===void 0&&(n={}),T(this,void 0,void 0,function(){var t,r,i,o,u=this;return I(this,function(c){switch(c.label){case 0:if(t=Math.max(n.offset||0,0),(r=typeof n.limit=="number"?n.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw vt.collectionQueryNotValid;c.label=1;case 1:return c.trys.push([1,4,,5]),i=[],[4,this._mutex.lock()];case 2:return c.sent(),[4,this._iterator.each(function(h){return T(u,void 0,void 0,function(){return I(this,function(f){return h.error?h.stop():h.hasNext?t===0?(i.push(h.nextValue),0<r&&r<=i.length?h.stop():h.next()):(t--,h.next()):h.stop(),[2]})})})];case 3:return c.sent(),this._mutex.unlock(),[2,i];case 4:throw o=c.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},e.prototype.count=function(){return T(this,void 0,void 0,function(){var n,t,r=this;return I(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=0,[4,this._mutex.lock()];case 1:return i.sent(),[4,this._iterator.each(function(o){return T(r,void 0,void 0,function(){return I(this,function(u){return o.error?o.stop():o.hasNext?(n++,o.next()):o.stop(),[2]})})})];case 2:return i.sent(),this._mutex.unlock(),[2,n];case 3:throw t=i.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),P2=function(e){return"".concat("nest","@").concat(e)},jc=function(e,n){return"".concat(P2(e),"/").concat(n)},lE=function(e,n){return"".concat(jc(e,n),".metadata")},F2=function(e,n){return"".concat(jc(e,n),"/block.")},mF=function(e,n){return"".concat(jc(e,n),"/blob.")},uE=function(e,n,t,r){return r===void 0&&(r=0),"".concat(mF(e,n)).concat(t,".").concat(r)},Iie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this.dbname=t,this.collectionName=r,this._store=i}return e.prototype._makeShards=function(n,t){var r=Math.max(this._store.itemSizeLimit-1024,0);if(r>0){for(var i=Math.ceil(n.data.length/r),o="".concat(i,".").concat(n.type,".").concat(t),u=[],c=0;c<n.data.length;c+=r){var h=n.data.slice(c,c+r);u.push(h)}return{blobId:o,shards:u}}return{blobId:null,shards:null}},e.prototype._encode=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r){var i=new FileReader;i.onload=function(){r({data:i.result,type:n.type})},i.readAsDataURL(n)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(n.data)];case 1:return[4,h.sent().blob()];case 2:return[2,h.sent()];case 3:for(t=[],r=atob(n.data.split(",")[1]),i=0;i<r.length;i+=512){for(o=r.slice(i,i+512),u=new Array(o.length),c=0;c<o.length;c++)u[c]=o.charCodeAt(c);t.push(new Uint8Array(u))}return[2,new Blob(t,{type:n.type})]}})})},e.prototype.get=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:if(t=[],r=bn(n.split("."),2),i=r[0],o=r[1],!((u=parseInt(i))>0))return[3,6];c=0,v.label=1;case 1:return c<u?(h=uE(this.dbname,this.collectionName,n,c),[4,this._store.get(h)]):[3,4];case 2:if(!(f=v.sent())||!f.d)throw vt.storeBrokenBlob;t.push(f.d),v.label=3;case 3:return c++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:o})];case 5:return[2,v.sent()];case 6:return[2,null]}})})},e.prototype.save=function(n,t){return t===void 0&&(t="".concat(Date.now())),T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return r=[],[4,this._encode(n)];case 1:if(i=v.sent(),o=this._makeShards(i,t),u=o.blobId,c=o.shards,!u)return[3,3];for(h=0;h<c.length;h++)f=uE(this.dbname,this.collectionName,u,h),r.push({key:f,value:{d:c[h]},generation:1});return[4,this._store.setMany(r)];case 2:if(v.sent().some(function(_){return _ instanceof Error}))throw vt.storeWriteFailed;return[2,u];case 3:return[2,null]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:if(t=[],r=bn(n.split("."),1),i=r[0],!((o=parseInt(i))>0))return[3,2];for(u=0;u<o;u++)t.push(uE(this.dbname,this.collectionName,n,u));return[4,this._store.removeMany(t)];case 1:c.sent(),c.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return n=mF(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:r=f.sent();try{for(i=$e(r),o=i.next();!o.done;o=i.next())(u=o.value).startsWith(n)&&t.push(u)}catch(v){c={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}return[4,this._store.removeMany(r)];case 2:return f.sent(),[2]}})})},e}();(function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"})(Pc||(Pc={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(Mi||(Mi={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(No||(No={}));var CD=[Mi.PENDING,Mi.VOLATILE],dg={},xs=function(){function e(n){var t=n.dbname,r=n.limit,i=r===void 0?256:r;return dg[t]||(this.dbname=t,this._items=[],this._limit=i,dg[t]=this),dg[t]}return e.get=function(n){return dg[n]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(n,t,r){return r===void 0&&(r=No.DEFAULT),T(this,void 0,void 0,function(){var i,o;return I(this,function(u){switch(u.label){case 0:return(i=this.get(t))?[3,2]:[4,n.get(t)];case 1:return(o=u.sent())&&(i={key:t,value:o,generation:1,state:r===No.PERSISTENT?Mi.PERSISTENT:Mi.VOLATILE},this.put(i)),[3,3];case 2:r===No.PERSISTENT&&(i.state=Mi.PERSISTENT),u.label=3;case 3:return[2,i]}})})},e.prototype.get=function(n,t){t===void 0&&(t=No.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(n);if(r>-1){var i=this._items[r];return t===No.PERSISTENT&&(i.state=Mi.PERSISTENT),t!==No.NO_CACHE&&this.put(i),i}return null},e.prototype.put=function(n){var t,r;if(this._limit>0){var i=this._items.map(function(_){return _.key}).indexOf(n.key);if(i>-1)CD.includes(this._items[i].state)&&CD.includes(n.state)?(this._items.splice(i,1),this._items.push(n)):(this._items[i].state=n.state,this._items[i].generation=n.generation,this._items[i].value=n.value);else{this._items.push(n);var o=this._items.filter(function(_){return _.state===Mi.VOLATILE}),u=o.length-this._limit;if(u>0){var c=[];try{for(var h=$e(this._items),f=h.next();!f.done;f=h.next()){var v=f.value;v.state===Mi.VOLATILE&&u>0?u--:c.push(v)}}catch(_){t={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}this._items=c}}}},e.prototype.remove=function(n){var t=this._items.map(function(r){return r.key}).indexOf(n);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(n){this._items=this._items.filter(function(t){return!n(t)})},e.prototype.clear=function(n){n===void 0&&(n=!1),this._items=n?[]:this._items.filter(function(t){return t.state!==Mi.VOLATILE})},e}(),Oie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=r,this.metadataKey=function(o,u){return"".concat(jc(o,u),"/trans.metadata")}(t,r),this.recordsetKey=function(o,u){return"".concat(jc(o,u),"/trans.recordset")}(t,r),this._store=i}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(n){return n===void 0&&(n=[]),T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=r.sent()||[]).push.apply(t,_n([],bn(n),!1)),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(n){for(var t=[],r={},i=n.length-1;i>=0;i--){for(var o=n[i],u=[],c=o.requests.length-1;c>=0;c--){var h=o.requests[c],f=h.data;r[f.key]||(u.unshift(h),r[f.key]=!0)}u.length>0&&(o.requests=u,t.unshift(o))}return t},e.prototype._applyRecord=function(n,t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:r=xs.get(this.dbname),i=t.generation,o=t.requests,u=null,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(E){return ne(ne({},E.data),{generation:i})}))];case 2:for(c=y.sent(),h=0;h<o.length;h++)c[h]instanceof Error&&(u||(u=c[h]),f=o[h].data,r.put(ne(ne({},f),{generation:i,state:Mi.PERSISTENT})));return[3,4];case 3:return v=y.sent(),u=v,[3,4];case 4:return u?[3,6]:(_=n.filter(function(E){return E.generation!==i}),[4,this._store.set({key:this.recordsetKey,value:_,generation:i})]);case 5:return y.sent(),this._onWrite.forEach(function(E){E(o.map(function(x){return x.data}))}),[3,7];case 6:this._onError.forEach(function(E){return E(u)}),y.label=7;case 7:return[2]}})})},e.prototype.init=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return n=this,[4,this._store.get(this.metadataKey)];case 1:return n._metadata=f.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=$e(t),i=r.next(),f.label=4;case 4:return i.done?[3,7]:(o=i.value,[4,this._applyRecord(t,o)]);case 5:f.sent(),f.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return u=f.sent(),c={error:u},[3,10];case 9:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 10:return[2]}})})},e.prototype.on=function(n,t,r){switch(n){case Pc.COMMIT:this._onCommit.set(t,r);break;case Pc.WRITE:this._onWrite.set(t,r);break;case Pc.ERROR:this._onError.set(t,r)}},e.prototype.requestWrite=function(n,t){t===void 0&&(t=null),this._requests.push({data:n,options:t}),xs.get(this.dbname).put(ne({state:Mi.PENDING,generation:this.generation},n))},e.prototype.requestMultipleWrite=function(n,t){var r,i;t===void 0&&(t=null);var o=xs.get(this.dbname);try{for(var u=$e(n),c=u.next();!c.done;c=u.next()){var h=c.value;this._requests.push({data:h,options:t}),o.put(ne({state:Mi.PENDING,generation:this.generation},h))}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return xs.get(this.dbname).clearByCondition(function(t){return t.state===Mi.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E=this;return I(this,function(x){switch(x.label){case 0:if(!((n=this._requests).length>0))return[3,4];for(t=[],r={},h=n.length-1;h>=0;h--)i=n[h],v=i.data,r[v.key]||(r[v.key]=!0,t.unshift(i));return o={generation:this.generation,requests:t},[4,this._getReducedRecordset([o])];case 1:return u=x.sent(),[4,this._store.set({key:this.recordsetKey,value:u,generation:this.generation})];case 2:return x.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(x.sent(),c=xs.get(this.dbname),h=0;h<t.length;h++)f=t[h],v=f.data,_=f.options,c.put(ne(ne({},v),{generation:o.generation,state:_&&_.persistent?Mi.PERSISTENT:Mi.VOLATILE}));this._requests=[],this._onCommit.forEach(function(C){C(n.map(function(M){return M.data}))}),y=r_.get(this.dbname),setTimeout(function(){try{E._applyRecord(u,o)}catch(C){E._onError.forEach(function(M){return M(C)})}},y.transactionApplyDelay),x.label=4;case 4:return[2]}})})},e}(),Dg=function(){function e(n){var t=n.blockId,r=n.keyName,i=n.items,o=i===void 0?[]:i,u=n.limit;this.blockId=t,this.keyName=r,this.limit=u,this._items=_n([],bn(o),!1)}return e.createFromCacheItem=function(n){return n?new e(n.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(n){var t=this;return this._items.find(function(r){var i=r[t.keyName];return n===i})},e.prototype.has=function(n){var t=this;return this._items.map(function(r){return r[t.keyName]}).includes(n)},e.prototype.add=function(n){var t=this,r=this._items.map(function(i){return i[t.keyName]}).indexOf(n[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(n),!0):(this._items[r]=n,!0)},e.prototype.remove=function(n){for(var t in this._items)if(this._items[t][this.keyName]===n)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),Aie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.metadata,o=n.hashFunction,u=o===void 0?wD:o,c=n.transaction,h=n.store;this.dbname=t,this.collectionName=r,this.hashFunction=u,this.metadata=i,this._transaction=c,this._store=h}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(n,t){return t===void 0&&(t=this.metadata.blockLevel),r=this.dbname,i=this.collectionName,o=t,u="".concat(function(c,h,f){var v=f.base*Math.pow(f.multiplier,h)+f.constant;return(f.hashFunction||wD)(c,v)}(n,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(F2(r,i)).concat(o,".").concat(u);var r,i,o,u},e.prototype._findBlock=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:t=xs.get(this.dbname),r=this.metadata.blockLevel,c.label=1;case 1:return r>0?(i=this.createBlockId(n,r),[4,t.find(this._store,i)]):[3,4];case 2:if((o=c.sent())&&(u=Dg.createFromCacheItem(o),u.getItemByKey(n)))return[2,u];c.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return[2,(t=r.sent())?t.getItemByKey(n):null]}})})},e.prototype.putToBlock=function(n,t){return T(this,void 0,void 0,function(){var r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return r=r_.get(this.dbname),i=this.createBlockId(n),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,xs.get(this.dbname).find(this._store,i)];case 1:return u=h.sent(),(c=u?Dg.createFromCacheItem(u):new Dg({blockId:i,keyName:this.keyName,items:[],limit:o})).add(t)?(this._transaction.requestWrite({key:c.blockId,value:c.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return(t=r.sent())&&t.remove(n)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return n=F2(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=v.sent(),r=t.filter(function(_){return _.startsWith(n)}),[4,this._store.removeMany(r)];case 2:v.sent(),i=xs.get(this.dbname);try{for(o=$e(r),u=o.next();!u.done;u=o.next())c=u.value,i.remove(c)}catch(_){h={error:_}}finally{try{u&&!u.done&&(f=o.return)&&f.call(o)}finally{if(h)throw h.error}}return[2]}})})},e}(),ru=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.fields,u=n.transaction,c=n.store,h=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=r,this.keyName=i,this.fields=o,this.indexerKey=function(f,v,_){return"".concat(jc(f,v),"/index.").concat(_)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=u,this._store=c,this._transaction.on(Pc.COMMIT,this.indexerKey,function(){return h.commit()}),this._transaction.on(Pc.ERROR,this.indexerKey,function(){return h.abort()})}return e.createKey=function(n){return n.join(">")},e.parseKey=function(n){return n.split(">")},e.prototype._addItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=bn(this.indexOf(r),2),o=i[0];return i[1]?!this._table[o].keys.includes(t)&&(this._table[o].keys.push(t),!0):(this._table.splice(o,0,{columnValues:r,keys:[t]}),!0)},e.prototype._removeItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=bn(this.indexOf(r),2),o=i[0];if(i[1]){var u=this._table[o].keys.indexOf(t);if(u>-1)return this._table[o].keys.splice(u,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(n){var t,r,i,o,u=[];try{for(var c=$e(this.fields),h=c.next();!h.done;h=c.next()){var f=h.value;if(f[0]==="-"&&(f=f.slice(1)),i=n[f],o=void 0,o=typeof i,i!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw vt.indexTypesNotMatch;u.push(n[f])}}catch(v){t={error:v}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return u},e.prototype.diff=function(n,t){for(var r in this.fields){var i=this.fields[r][0]==="-"?-1:1,o=_l(n[r],t[r]);if(o!==0)return i*o}return 0},e.prototype.indexOf=function(n){if(this._table.length>0){for(var t=0,r=this._table.length-1;t<=r;){var i=Math.floor((t+r)/2),o=this.diff(n,this._table[i].columnValues);if(o>0)t=i+1;else{if(!(o<0))return[i,!0];r=i-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E,x,C,M,S;return I(this,function(N){switch(N.label){case 0:return[4,(n=xs.get(this.dbname)).find(this._store,this.indexerKey,No.PERSISTENT)];case 1:return(t=N.sent())?[3,11]:(r=F2(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:i=N.sent(),N.label=3;case 3:N.trys.push([3,8,9,10]),o=$e(i),u=o.next(),N.label=4;case 4:return u.done?[3,7]:(c=u.value).startsWith(r)?[4,n.find(this._store,c,No.NO_CACHE)]:[3,6];case 5:h=N.sent(),f=Dg.createFromCacheItem(h);try{for(M=void 0,v=$e(f.items),_=v.next();!_.done;_=v.next())y=_.value,this._addItem(y)}catch(D){M={error:D}}finally{try{_&&!_.done&&(S=v.return)&&S.call(v)}finally{if(M)throw M.error}}N.label=6;case 6:return u=o.next(),[3,4];case 7:return[3,10];case 8:return E=N.sent(),x={error:E},[3,10];case 9:try{u&&!u.done&&(C=o.return)&&C.call(o)}finally{if(x)throw x.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=pa(this._origin),N.label=12;case 12:return[2]}})})},e.prototype.drop=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return xs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return n.sent(),[2]}})})},e.prototype.addItem=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return this._addItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return this._removeItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=pa(this._origin)},e.prototype.abort=function(){this._table=pa(this._origin)},e}(),yl=typeof document<"u"&&typeof navigator<"u";yl&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var Rie=yl&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");yl&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),yl&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),yl&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Rf,Oi,Mie=yl&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),SD=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})};(function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"})(Rf||(Rf={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(Oi||(Oi={}));var ul,cE={},gF=function(){function e(n,t){t===void 0&&(t={});var r=this;return this._state=Rf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],cE[n]&&!t.forceCreate||(this.nodeId=SD(),this.key=n,yl&&(t.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(i){var o,u,c=i.data,h=c.nodeId,f=c.requestId,v=c.key,_=c.op,y=c.data;if(h!==r.nodeId&&v===r.key)switch(_){case Oi.NEWNODE:r._sendSync();break;case Oi.CLAIM_HOST:r._sendSync(),r._hostId=h;break;case Oi.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var E=y,x=E.currentItemRequestId,C=E.queue,M=function(H){var K=r._queue.findIndex(function(z){return z.requestId===H.requestId});K<0&&r._requestLock({nodeId:H.nodeId,requestId:H.requestId,key:r.key,op:Oi.REQUEST_LOCK,ts:H.ts})};try{for(var S=$e(C),N=S.next();!N.done;N=S.next())M(N.value)}catch(H){o={error:H}}finally{try{N&&!N.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function(H){return H.requestId===x}),r._completeSync()}break;case Oi.REMOVENODE:r._queue=r._queue.filter(function(H){return H.nodeId!==c.nodeId}),r._currentItem&&r._currentItem.nodeId===c.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case Oi.REQUEST_LOCK:r._requestLock(c);break;case Oi.ACQUIRE_LOCK:var D=r._queue.find(function(H){return H.requestId===f});r._acquire(D);break;case Oi.RELEASE_LOCK:r._release(f)}}),window.addEventListener("beforeunload",function(){r._send(Oi.REMOVENODE)})),cE[n]=this),cE[n]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==Rf.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(n,t){var r,i;t===void 0&&(t={});var o={nodeId:this.nodeId,requestId:(r=t==null?void 0:t.requestId)!==null&&r!==void 0?r:SD(),key:this.key,op:n,data:(i=t.data)!==null&&i!==void 0?i:null,ts:Date.now()};return yl&&window.postMessage(o,"*"),o},e.prototype._acquire=function(n){n===void 0&&(n=null),n?(this._currentItem=n,this._currentItem.onAcquired(n.requestId)):this._currentItem=null},e.prototype._release=function(n){if(this._currentItem&&this._currentItem.requestId===n){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(Oi.RELEASE_LOCK,{requestId:t.requestId});var r=this._queue.findIndex(function(i){return i.requestId===n});r>-1&&this._queue.splice(r,1),t.onReleased(n)}},e.prototype._requestLock=function(n){var t=this;return new Promise(function(r){var i={nodeId:n.nodeId,requestId:n.requestId,ts:n.ts,onAcquired:function(c){t.isHost&&t._send(Oi.ACQUIRE_LOCK,{requestId:c}),r()},onReleased:function(){t._acquire(t._queue[0])}},o=!1;for(var u in t._queue)if(t._queue[u].ts>i.ts){t._queue.splice(parseInt(u),0,i),o=!0;break}o||t._queue.push(i),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var n;this.isHost&&this._send(Oi.SYNC_HOST,{data:{currentItemRequestId:(n=this._currentItem)===null||n===void 0?void 0:n.requestId,queue:this._queue.map(function(t){return{nodeId:t.nodeId,requestId:t.requestId,ts:t.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return T(this,void 0,void 0,function(){var n=this;return I(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(r){n._activationQueue.push(r)})]:[2]})})},e.prototype._waitSync=function(){var n=this;this.isInSync||(this._activationTimeout=setTimeout(function(){n._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=Rf.DONE,this._activationQueue.forEach(function(n){return n()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(Oi.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Oi.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),n=this._send(Oi.REQUEST_LOCK),[4,this._requestLock(n)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var n;this._release((n=this._currentItem)===null||n===void 0?void 0:n.requestId)},e}(),dE=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.keyHash,u=n.indexes,c=n.store,h=this;this._state=ch.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=r,this.keyName=i,this.indexes=_n([[i]],bn(u.filter(function(f){return ru.createKey(f)!==h.keyName})),!1),this._keyHash=o,this._store=c,this._mutex=new gF(function(f,v){return"".concat(jc(f,v),".lock")}(t,r)),this._blobContainer=new Iie({dbname:t,collectionName:r,store:c}),this._transaction=new Oie({dbname:t,collectionName:r,store:c})}return e.metadataOf=function(n,t,r){return T(this,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=lE(n,t),[4,r.get(i)];case 1:return[2,o.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===ch.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E,x,C=this;return I(this,function(M){switch(M.label){case 0:return[4,this._mutex.lock()];case 1:M.sent(),M.label=2;case 2:return M.trys.push([2,9,,10]),n=r_.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return t=M.sent(),this._metadata=t||{keyName:this.keyName,blockLevel:1,blockHashBase:n.blockHashBase,blockHashMultiplier:n.blockHashMultiplier,blockHashConstant:n.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:M.sent(),this._blockManager=new Aie({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=_n([],bn(this.indexes),!1),i=[],o=r.map(function(S){return ru.createKey(S)}),u=t?t.indexes.map(function(S){return ru.createKey(S)}):[];try{for(c=$e(u),h=c.next();!h.done;h=c.next())f=h.value,o.includes(f)||i.push(ru.parseKey(f))}catch(S){E={error:S}}finally{try{h&&!h.done&&(x=c.return)&&x.call(c)}finally{if(E)throw E.error}}return(v=[]).push.apply(v,_n([],bn(r.map(function(S){var N=new ru({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:S,transaction:C._transaction,store:C._store});return C._indexers.push(N),N.ensure()})),!1)),v.push.apply(v,_n([],bn(i.map(function(S){return new ru({dbname:C.dbname,collectionName:C.name,keyName:C.keyName,fields:S,transaction:C._transaction,store:C._store}).drop()})),!1)),[4,Promise.all(v)];case 5:return M.sent(),[4,this._transaction.commit()];case 6:return M.sent(),o.sort().join(",")===u.sort().join(",")?[3,8]:(_=lE(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:_,value:this._metadata,generation:1})]);case 7:M.sent(),M.label=8;case 8:return this._state=ch.READY,this._mutex.unlock(),[3,10];case 9:throw y=M.sent(),this._mutex.unlock(),y;case 10:return[2]}})})},e.prototype.close=function(){this._state=ch.CLOSED},e.prototype._hasPropertyOfKeyName=function(n){var t=n[this.keyName];return typeof t=="string"&&!!t},e.prototype._getIndexerBy=function(n){var t,r;n===void 0&&(n=null),n||(n=[this.keyName]);var i=ru.createKey(n);try{for(var o=$e(this._indexers),u=o.next();!u.done;u=o.next()){var c=u.value;if(i===ru.createKey(c.fields))return c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null},e.prototype._upgradeBlockLevel=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return n=lE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:n,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return h.sent()?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return h.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return h.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:h.sent(),h.label=5;case 5:h.trys.push([5,10,11,12]),r=$e(this._indexers),i=r.next(),h.label=6;case 6:return i.done?[3,9]:[4,i.value.addItem(n)];case 7:h.sent(),h.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=h.sent(),u={error:o},[3,12];case 11:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw vt.collectionInsertDuplicate;case 14:return[2]}})})},e.prototype._requestUpsert=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x;return I(this,function(C){switch(C.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=C.sent())?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return C.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return C.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:C.sent(),C.label=5;case 5:C.trys.push([5,10,11,12]),i=$e(this._indexers),o=i.next(),C.label=6;case 6:return o.done?[3,9]:[4,(f=o.value).addItem(n)];case 7:C.sent(),C.label=8;case 8:return o=i.next(),[3,6];case 9:return[3,12];case 10:return u=C.sent(),_={error:u},[3,12];case 11:try{o&&!o.done&&(y=i.return)&&y.call(i)}finally{if(_)throw _.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,n)];case 14:C.sent(),C.label=15;case 15:C.trys.push([15,21,22,23]),c=$e(this._indexers),h=c.next(),C.label=16;case 16:return h.done?[3,20]:(f=h.value).diff(f.getColumnValues(r),f.getColumnValues(n))===0?[3,19]:[4,f.removeItem(r)];case 17:return C.sent(),[4,f.addItem(n)];case 18:C.sent(),C.label=19;case 19:return h=c.next(),[3,16];case 20:return[3,23];case 21:return v=C.sent(),E={error:v},[3,23];case 22:try{h&&!h.done&&(x=c.return)&&x.call(c)}finally{if(E)throw E.error}return[7];case 23:return[2]}})})},e.prototype._requestUpdate=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=v.sent())?[4,this._blockManager.putToBlock(t,n)]:[3,11];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,9,10,11]),i=$e(this._indexers),o=i.next(),v.label=4;case 4:return o.done?[3,8]:(u=o.value).diff(u.getColumnValues(r),u.getColumnValues(n))===0?[3,7]:[4,u.removeItem(r)];case 5:return v.sent(),[4,u.addItem(n)];case 6:v.sent(),v.label=7;case 7:return o=i.next(),[3,4];case 8:return[3,11];case 9:return c=v.sent(),h={error:c},[3,11];case 10:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}return[7];case 11:return[2]}})})},e.prototype._requestRemove=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return[4,this._blockManager.getFromBlock(n)];case 1:return(t=h.sent())?[4,this._blockManager.removeFromBlock(n)]:[3,10];case 2:h.sent(),h.label=3;case 3:h.trys.push([3,8,9,10]),r=$e(this._indexers),i=r.next(),h.label=4;case 4:return i.done?[3,7]:[4,i.value.removeItem(t)];case 5:h.sent(),h.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return o=h.sent(),u={error:o},[3,10];case 9:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 10:return[2]}})})},e.prototype._requestClear=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),n=$e(this._indexers),t=n.next(),u.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:u.sent(),u.label=5;case 5:return t=n.next(),[3,3];case 6:return[3,9];case 7:return r=u.sent(),i={error:r},[3,9];case 8:try{t&&!t.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}return[7];case 9:return[2]}})})},e.prototype.getByKey=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(n)];case 3:return t=i.sent(),this._mutex.unlock(),[2,pa(t)];case 4:throw r=i.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw vt.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(n){return n===void 0&&(n={}),this.isReady?new Tie({condition:n.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(n.index),backward:!!n.backward}):null},e.prototype.insertOne=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw vt.collectionKeyNotGiven;return[4,this._requestInsert(pa(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw vt.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return I(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),n.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw vt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=$e(n),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestInsert(pa(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),c={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,n];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw vt.collectionNotReady;case 16:return[2]}})})},e.prototype.upsertOne=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw vt.collectionKeyNotGiven;return[4,this._requestUpsert(pa(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw vt.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return I(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),n.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw vt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=$e(n),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestUpsert(pa(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),c={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,n];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw vt.collectionNotReady;case 16:return[2]}})})},e.prototype.update=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw vt.collectionKeyNotGiven;return[4,this._requestUpdate(pa(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw vt.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(n,t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_,y,E,x,C,M,S=this;return I(this,function(N){switch(N.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:N.sent(),N.label=2;case 2:return N.trys.push([2,13,,15]),r=n.where,i=r===void 0?{}:r,o=n.index,u=o===void 0?null:o,c=n.backward,h=c!==void 0&&c,f=[],[4,new L2({condition:i,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(u)}).each(function(D){return T(S,void 0,void 0,function(){var H,K;return I(this,function(z){if(D.error)throw D.stop(),D.error;if(D.hasNext){if(H=D.nextValue,Lc(i,H)&&t.set){if(typeof t.set!="function")for(K in t.set)H[K]=t.set[K];else t.set(H);f.push(H)}D.next()}else D.stop();return[2]})})})];case 3:N.sent(),N.label=4;case 4:N.trys.push([4,9,10,11]),v=$e(f),_=v.next(),N.label=5;case 5:return _.done?[3,8]:(y=_.value,[4,this._requestUpdate(pa(y))]);case 6:N.sent(),N.label=7;case 7:return _=v.next(),[3,5];case 8:return[3,11];case 9:return E=N.sent(),C={error:E},[3,11];case 10:try{_&&!_.done&&(M=v.return)&&M.call(v)}finally{if(C)throw C.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return N.sent(),this._mutex.unlock(),[2,f];case 13:return x=N.sent(),[4,this._transaction.clear()];case 14:throw N.sent(),this._mutex.unlock(),x;case 15:return[3,17];case 16:throw this._transaction.clear(),vt.collectionNotReady;case 17:return[2]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(n)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw vt.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x,C,M=this;return I(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:return S.trys.push([2,13,,14]),t=n.where,r=t===void 0?{}:t,i=n.index,o=i===void 0?null:i,u=n.backward,c=u!==void 0&&u,h=[],[4,new L2({condition:r,blockManager:this._blockManager,backward:c,indexer:this._getIndexerBy(o)}).each(function(N){return T(M,void 0,void 0,function(){var D,H;return I(this,function(K){if(N.error)throw N.stop(),N.error;return N.hasNext?(D=N.nextValue,Lc(r,D)&&(H=D[this.keyName],h.push(H)),N.next()):N.stop(),[2]})})})];case 3:S.sent(),S.label=4;case 4:S.trys.push([4,9,10,11]),f=$e(h),v=f.next(),S.label=5;case 5:return v.done?[3,8]:(_=v.value,[4,this._requestRemove(_)]);case 6:S.sent(),S.label=7;case 7:return v=f.next(),[3,5];case 8:return[3,11];case 9:return y=S.sent(),x={error:y},[3,11];case 10:try{v&&!v.done&&(C=f.return)&&C.call(f)}finally{if(x)throw x.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return S.sent(),this._mutex.unlock(),[2,h];case 13:throw E=S.sent(),this._mutex.unlock(),E;case 14:return[3,16];case 15:throw this._transaction.clear(),vt.collectionNotReady;case 16:return[2]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return n=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),n;case 7:return[3,9];case 8:throw vt.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(n,t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.removeBlob=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.clear()];case 1:return n.sent(),[2]}})})},e}(),Ia={},_v=function(){function e(n){n===void 0&&(n={});var t=n.itemSizeLimit,r=t===void 0?4194304:t,i=n.delay,o=i===void 0?1:i,u=n.encryption,c=u===void 0?Xv:u;this._encryption=c,this.itemSizeLimit=r,this.delay=o,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Ia[this.dbname]},set:function(n){Ia[this.dbname]=n},enumerable:!1,configurable:!0}),e.prototype.observe=function(n,t,r){var i=this;this.observer[n]={},t.forEach(function(o){return i.observer[n][o]=r})},e.prototype.init=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:this.dbname=n,Ia[this.dbname]={},r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Ri.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Ri.value))throw vt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Ri)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return[2,Object.keys(Ia[this.dbname]).filter(function(t){return t!==Ri.key})]})})},e.prototype.get=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return[4,zd(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.get?t.get(n):null)throw r;return[2,Ia[this.dbname][n]?this._encryption.decrypt(Ia[this.dbname][n]):null]}})})},e.prototype.set=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return[4,zd(this.delay)];case 1:if(h.sent(),t=n.key,r=n.value,i=this.observer[t],o=i&&i.set?i.set(t):null)throw o;if(u=this._encryption.encrypt(r),c=JSON.stringify(u),t===Ri.key||c.length<this.itemSizeLimit)return Ia[this.dbname][t]=u,[2,Ia[this.dbname][t]];throw vt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return T(this,void 0,void 0,function(){var t,r=this;return I(this,function(i){switch(i.label){case 0:return[4,zd(this.delay)];case 1:return i.sent(),t=[],n.forEach(function(o){var u=o.key,c=o.value,h=r.observer[u];if(h&&h.set&&h.set(u))t.push(vt.collectionWriteFailed);else{var f=r._encryption.encrypt(c),v=JSON.stringify(f);u===Ri.key||v.length<r.itemSizeLimit?(Ia[r.dbname][u]=f,t.push(c)):t.push(vt.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return[4,zd(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.remove?t.remove(n):null)throw r;return Ia[this.dbname][n]&&delete Ia[this.dbname][n],[2,n]}})})},e.prototype.removeMany=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return[4,zd(this.delay)];case 1:f.sent();try{for(t=$e(n),r=t.next();!r.done;r=t.next()){if(i=r.value,o=this.observer[i],u=o&&o.remove?o.remove(i):null)throw u;Ia[this.dbname][i]&&delete Ia[this.dbname][i]}}catch(v){c={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}}return[2,n]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,zd(this.delay)];case 1:return n.sent(),Ia[this.dbname]={},[2]}})})},e}(),Die=function(){function e(n){n===void 0&&(n={}),this.itemSizeLimit=104857600;var t=n.encryption,r=t===void 0?Xv:t;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=r}return e.prototype.init=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return this.dbname=n,[4,new Promise(function(u,c){if(i._window&&yl)if(Rie){var h=i._indexedDB.open("_testMozilla");h.onerror=function(){return c(vt.storeNotAvailableInPrivateBrowsing)},h.onsuccess=function(){return u()}}else Mie?i._window.indexedDB||!i._window.PointerEvent&&!i._window.MSPointerEvent||c(vt.storeNotAvailableInPrivateBrowsing):u();else c(vt.storeNotAvailable)})];case 1:return o.sent(),t=this,[4,new Promise(function(u,c){var h=i._indexedDB.open(n);h.addEventListener("upgradeneeded",function(f){f.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),h.addEventListener("success",function(f){return u(f.target.result)}),h.addEventListener("error",function(f){return c(f.target.error)})})];case 2:t._database=o.sent(),o.label=3;case 3:return o.trys.push([3,,5,7]),[4,this.get(Ri.key)];case 4:if((r=o.sent())&&JSON.stringify(r)!==JSON.stringify(Ri.value))throw vt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(Ri)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){var n=this;return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();o.addEventListener("success",function(u){r(u.target.result.filter(function(c){return c!==Ri.key}))}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(n){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(n);u.addEventListener("success",function(c){return i(c.target.result?t._encryption.decrypt(c.target.result.value):null)}),u.addEventListener("error",function(c){return o(c.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.set=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,[4,new Promise(function(u,c){var h=i._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:t,value:i._encryption.encrypt(r)});h.addEventListener("success",function(f){u(f.target.result)}),h.addEventListener("error",function(f){return c(f.target.error)})})];case 1:return o.sent(),[2,r]}})})},e.prototype.setMany=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return t=[],r=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),n.forEach(function(u){var c=u.key,h=u.value;t.push(new Promise(function(f){var v=r.put({key:c,value:i._encryption.encrypt(h)});v.addEventListener("success",function(_){f(_.target.result)}),v.addEventListener("error",function(){f(vt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return o.sent(),[2,n.map(function(u){return u.value})]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(n);u.addEventListener("success",function(){return i(n)}),u.addEventListener("error",function(c){return o(c.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.removeMany=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return t=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(n.map(function(i){return new Promise(function(o,u){var c=t.delete(i);c.addEventListener("success",function(){return o(i)}),c.addEventListener("error",function(h){return u(h.target.error)})})}))];case 1:return[2,r.sent()]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){var n=this;return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();o.addEventListener("success",function(){return r()}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),Uie=function(){function e(n){var t=n.AsyncStorage,r=n.encryption,i=r===void 0?Xv:r;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=i}return e.prototype._isBelonging=function(n){return n.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(n){return"".concat(this.dbname,"/").concat(n)},e.prototype.init=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:this.dbname=n,r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Ri.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Ri.value))throw vt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Ri)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return T(this,void 0,void 0,function(){var n,t,r=this;return I(this,function(i){switch(i.label){case 0:return n=this._getActualKey(Ri.key),[4,this._asyncStorage.getAllKeys()];case 1:return t=i.sent(),[2,t.filter(function(o){return r._isBelonging(o)&&o!==n}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},e.prototype.get=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(n))];case 1:return[2,(t=r.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(n){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,i=JSON.stringify(this._encryption.encrypt(r)),t===Ri.key||i.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),i)]:[3,2];case 1:return o.sent(),[2,JSON.parse(i)];case 2:throw vt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:t=[],r=[];try{for(i=$e(n),o=i.next();!o.done;o=i.next()){u=o.value;try{c=u.key,h=u.value,f=JSON.stringify(this._encryption.encrypt(h)),c===Ri.key||f.length<this.itemSizeLimit?(r.push([this._getActualKey(c),f]),t.push(h)):t.push(vt.storeItemSizeExceeded)}catch{t.push(vt.collectionWriteFailed)}}}catch(E){v={error:E}}finally{try{o&&!o.done&&(_=i.return)&&_.call(i)}finally{if(v)throw v.error}}y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(r)];case 2:return y.sent(),[3,4];case 3:return y.sent(),[2,new Array(t.length).fill(vt.collectionWriteFailed)];case 4:return[2,t]}})})},e.prototype.remove=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(n))];case 1:return t.sent(),[2,n]}})})},e.prototype.removeMany=function(n){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.multiRemove(n.map(function(i){return t._getActualKey(i)}))];case 1:return r.sent(),[2,n]}})})},e.prototype.clear=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return n=t.sent(),[4,this.removeMany(n)];case 2:return t.sent(),[4,this.remove(Ri.key)];case 3:return t.sent(),[2]}})})},e}(),hg=!0,fc=function(){function e(){}return e.off=function(){hg=!1},e.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];hg&&console.log.apply(console,_n(["".concat("[NESTDB]","[LOG]")],bn(n),!1))},e.warning=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];hg&&console.warn.apply(console,_n(["".concat("[NESTDB]","[WARNING]")],bn(n),!1))},e.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];hg&&console.error.apply(console,_n(["".concat("[NESTDB]","[ERROR]")],bn(n),!1))},e}();(function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"})(ul||(ul={}));var Lie=function(){function e(n){var t=n.name,r=n.version,i=n.store,o=n.config;this.name=t,this._version=r,this._state=ul.INIT,this._config=o||new r_({dbname:t}),this._store=i,this._event={success:Mg,error:Mg,upgrade:kD},this._collections=new Map,this._globalMutex=new gF("".concat(this.name,".lock")),this._config.disableLogger&&fc.off(),new xs({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(n){return T(this,void 0,void 0,function(){var t=this;return I(this,function(r){switch(r.label){case 0:return this._state!==ul.OPENING?[3,2]:[4,Promise.all(n.map(function(i){return T(t,void 0,void 0,function(){var o,u,c,h;return I(this,function(f){switch(f.label){case 0:return o=i.collectionName,u=i.keyName,c=i.index,h=c===void 0?[]:c,this._collections.has(o)||this._collections.set(o,new dE({dbname:this.name,collectionName:o,keyName:u,keyHash:i.keyHash||null,indexes:h,store:this._store})),[4,this._collections.get(o).init()];case 1:return f.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw vt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var n;return T(this,void 0,void 0,function(){var t,r,i,o,u=this;return I(this,function(c){switch(c.label){case 0:return[4,this._globalMutex.lock()];case 1:if(c.sent(),this._state===ul.OPENED)return[3,15];this._state=ul.OPENING,c.label=2;case 2:return c.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return c.sent(),h=this.name,t="".concat(P2(h),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return i=(n=c.sent())!==null&&n!==void 0?n:r,[2,new Promise(function(f,v){var _=function(E){i.version<u._version?u._event.upgrade(i.version,function(x){return T(u,void 0,void 0,function(){var C;return I(this,function(M){switch(M.label){case 0:if(x)return[3,5];i.version++,i.collectionNames=Array.from(this._collections.keys()),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this._store.set({key:t,value:i,generation:this._version})];case 2:return M.sent(),E({continued:!0}),[3,4];case 3:return C=M.sent(),E({continued:!1,err:C}),[3,4];case 4:return[3,6];case 5:E({continued:!1,err:x}),M.label=6;case 6:return[2]}})})}):E({continued:!1})},y=function(E){var x=E.continued,C=x!==void 0&&x,M=E.err,S=M===void 0?null:M;if(C)setTimeout(function(){return _(y)},10);else if(S)fc.error(S.message),u._globalMutex.unlock(),u._event.error(S),v(S);else{var N=[];i.collectionNames.forEach(function(D){u._collections.has(D)||N.push(T(u,void 0,void 0,function(){var H,K;return I(this,function(z){switch(z.label){case 0:return[4,dE.metadataOf(this.name,D,this._store)];case 1:return(H=z.sent())?(K=new dE({dbname:this.name,collectionName:D,keyName:H.keyName,indexes:H.indexes,store:this._store}),this._collections.set(D,K),[4,K.init()]):[3,3];case 2:z.sent(),z.label=3;case 3:return[2]}})}))}),Promise.all(N).then(function(){u._state=ul.OPENED,u._globalMutex.unlock(),u._event.success(),f()}).catch(function(D){fc.error(D.message),u._globalMutex.unlock(),u._event.error(D),v(D)})}};_(y)})];case 5:switch(o=c.sent(),o.code){case $t.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case $t.STORE_NOT_AVAILABLE:return[3,8];case $t.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return fc.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new _v({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return c.sent(),[3,14];case 8:return fc.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new _v({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return c.sent(),[3,14];case 10:return fc.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return c.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return c.sent(),[3,14];case 13:throw fc.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var h})})},e.prototype.close=function(){this._collections.forEach(function(n){return n.close()}),this._state=ul.CLOSED},e.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(t){return t.clear()}))];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(){return T(this,void 0,void 0,function(){var n,t=this;return I(this,function(r){switch(r.label){case 0:return this.close(),(n=xs.get(this.name))&&n.clearByCondition(function(i){return i.key.startsWith(P2(t.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},e.prototype.on=function(n,t){this._event[n]=t},e.prototype.off=function(n){typeof this._event[n]=="function"&&(n==="upgrade"?this._event[n]=kD:this._event[n]=Mg)},e.prototype.collection=function(n){return this._collections.get(n)||null},e}(),rf=null,Pie=function(){function e(n,t,r){var i=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=n,this.options=t;var o=re.of(n),u=o.sdkState,c=o.cacheContext,h=o.dispatcher,f=o.sessionManager,v=o.requestQueue,_=o.logger,y=o.userEventHandlers;this._onlineDetector=new Sre({logger:_,connectionDelegate:{reconnect:function(){var E=re.of(n),x=E.sdkState,C=E.connectionManager;x.appState==="foreground"&&C.resetAndReconnect()},disconnect:function(){re.of(n).connectionManager.disconnect()}}}),new uh(n,{localCacheEnabled:c.localCacheEnabled,dispatcher:h,sdkState:u,logger:_}),r.forEach(function(E){E.init(n,{sdkState:u,cacheContext:c,dispatcher:h,sessionManager:f,requestQueue:v,logger:_,onlineDetector:i._onlineDetector}),i[E.name]=E}),this._appStateChangeDetector=new Cre,this._appStateChangeDetector.on("resume",function(){_.debug("the page resumes from freeze"),i.setForegroundState()}).on("pause",function(){_.debug("the page freezes"),i.setBackgroundState()}),h.on(function(E){if(E instanceof Ut){if(E.code==="USEV"){var x=E.as(oF).event;if(x.category===l0.FRIEND_DISCOVERED){var C=vv.getDataAsFriendDiscoveredEvent(n,x).friendDiscoveries;nn(function(){return T(i,void 0,void 0,function(){return I(this,function(H){return[2,y.forEach(function(K){K.onFriendsDiscovered(C)})]})})})}}}else if(E instanceof T7){var M=re.of(i._iid).subscribedUnreadMessageCount,S=!1,N=E.ts;if(typeof N=="number"&&N>M.ts){if(M.all!==E.all&&(S=!0),M.all=E.all>=0?E.all:0,E.customTypes)for(var D in E.customTypes)M.customTypes[D]!==E.customTypes[D]&&(S=!0),M.customTypes[D]=E.customTypes[D];S=S&&M.ts>0,M.ts=N}S&&nn(function(){return T(i,void 0,void 0,function(){return I(this,function(H){return[2,y.forEach(function(K){K.onTotalUnreadMessageCountUpdated(M.all,M.customTypes)})]})})})}else E instanceof L7&&c.localCacheEnabled&&c.preference.set(i._getUserProfileCacheKey(u.userId),N2.payloadify(E.userProfile))})}return e.init=function(n){var t=n.appId,r=n.appVersion,i=r===void 0?null:r,o=n.modules,u=o===void 0?[]:o,c=n.options,h=c===void 0?new N7:c,f=n.debugMode,v=f!==void 0&&f,_=n.customApiHost,y=n.customWebSocketHost,E=n.newInstance,x=E!==void 0&&E,C=n.logLevel,M=n.localCacheEnabled,S=M!==void 0&&M,N=n.localCacheEncryption,D=n.useAsyncStorageStore,H=D===void 0?null:D;if(!rf||x){var K="su-".concat(Cs()),z=N!=null?N:{encrypt:function(ce){return ce},decrypt:function(ce){return ce}},W=new _v({encryption:z});v||(W=H?new Uie({AsyncStorage:H,encryption:z}):new Die({encryption:z})),new re(K,{appId:t,appVersion:i,options:h,apiHost:_!=null?_:"https://api-".concat(t,".sendbird.com"),websocketHost:y!=null?y:"wss://ws-".concat(t,".sendbird.com"),store:W,encryption:z,logLevel:C,localCacheEnabled:S,debugMode:v});var j=new e(K,h,_n(_n([],bn(u),!1),[new wte],!1));return rf||(rf=j),j}return rf},Object.defineProperty(e,"instance",{get:function(){return rf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return vne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return re.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){return re.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var n;return(n=re.of(this._iid).sdkState.appVersion)!==null&&n!==void 0?n:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return re.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return re.of(this._iid).logger.level},set:function(n){re.of(this._iid).logger.level=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return re.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return i0(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var n;return(n=re.of(this._iid).sessionManager.currentUser)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var n=re.of(this._iid).connectionManager;return n.isConnected?Nu.OPEN:n.isConnecting?Nu.CONNECTING:Nu.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var n=re.of(this._iid),t=n.connectedAt;return n.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),e.prototype._getPreferenceCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".pref")},e.prototype._getUserProfileCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".profile")},e.prototype.getMemoryStoreForDebugging=function(){var n=re.of(this._iid),t=n.debugMode,r=n.cacheContext;if(t)return r.store instanceof _v?r.store:null;throw le.debugModeRequired},e.prototype.addExtension=function(n,t){var r=re.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(n)>-1&&(r.extensions[n]=t)},e.prototype.initializeCache=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.cacheContext,o=t.connectionManager,u=t.dispatcher,r.userId&&r.userId===n?[3,6]:[4,o.logout()];case 1:return v.sent(),r.userId=n,i.localCacheEnabled?(c="sendbird@".concat(r.appId,"/").concat(n,".db"),i.nestdb&&i.nestdb.state!==ul.CLOSED&&i.nestdb.name===c?[3,3]:((h=i.nestdb=new Lie({name:"sendbird@".concat(r.appId,"/").concat(n,".db"),version:1,store:i.store})).on("upgrade",function(_){return function(y,E){y===0?_.commitSchema([{collectionName:tF,keyName:pre,index:[Rg(Qr.LATEST_LAST_MESSAGE),Rg(Qr.CHRONOLOGICAL),Rg(Qr.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:fre,keyName:mre,index:[vl(ui.CHANNEL_LATEST),vl(ui.NEWEST_CHILD_MESSAGE)]},{collectionName:yre,keyName:Ere,index:[vl(ui.CHANNEL_LATEST),vl(ui.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return E()}).catch(function(x){return E(x)}):E()}}(h)),[4,h.open()])):[3,6];case 2:v.sent(),u.dispatch(new sF(this._iid,{userId:n})),v.label=3;case 3:return[4,i.preference.init(this._getPreferenceCacheKey(n))];case 4:return v.sent(),[4,i.preference.get(this._getUserProfileCacheKey(n))];case 5:(f=v.sent())&&new N2(this._iid,f).apply(),v.label=6;case 6:return[2]}})})},e.prototype.clearCachedData=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return(n=re.of(this._iid).cacheContext).localCacheEnabled?(n.nestdb&&n.nestdb.clear(),[4,n.preference.clear()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearCachedMessages=function(n){return T(this,void 0,void 0,function(){var t,r,i=this;return I(this,function(o){switch(o.label){case 0:return Fe(On("string",n)).throw(le.invalidParameters),t=iF.of(this._iid),r=D3.of(this._iid),t&&r?[4,Promise.all(n.map(function(u){return T(i,void 0,void 0,function(){return I(this,function(c){switch(c.label){case 0:return[4,t.removeMessagesOfChannel(u)];case 1:return c.sent(),[4,r.removeMessagesOfChannel(u)];case 2:return c.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.connect=function(n,t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:r=re.of(this._iid),i=r.sdkState,o=r.cacheContext,u=r.connectionManager,c=r.statLogCollector,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.initializeCache(n)];case 2:return v.sent(),[3,4];case 3:return v.sent(),h=re.of(this._iid).logger,o.localCacheEnabled=!1,h.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,c.init("sendbird@".concat(i.appId,"/").concat(n,".statlog"))];case 5:return v.sent(),[4,u.connect(t)];case 6:return v.sent(),this._appStateChangeDetector.start(),i.appState="foreground",[4,(f=uh.of(this._iid))==null?void 0:f.processNonAutoResendRegisteredPendingMessages()];case 7:return v.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},e.prototype.reconnect=function(){var n=re.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.sessionManager.auth.hasSession;return i&&t.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){}),i},e.prototype.disconnect=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return n=re.of(this._iid),t=n.connectionManager,r=n.cacheContext,i=n.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),i.cancelAll(),[4,t.logout()];case 1:return o.sent(),r.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.setBackgroundState=function(){var n=re.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="foreground"&&(r.appState="background",i.debug("going background state"),t.background())},e.prototype.setForegroundState=function(){var n=re.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="background"&&(r.appState="foreground",i.debug("going foreground state"),t.resetAndReconnect())},e.prototype.setSessionHandler=function(n){Fe(n instanceof xre).throw(le.invalidParameters),re.of(this._iid).sessionManager.handler=n},e.prototype.addUserEventHandler=function(n,t){Fe(J("string",n)&&t instanceof kre).throw(le.invalidParameters),re.of(this._iid).userEventHandlers.set(n,t)},e.prototype.removeUserEventHandler=function(n){re.of(this._iid).userEventHandlers.delete(n)},e.prototype.removeAllUserEventHandler=function(){re.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(n,t){Fe(J("string",n)&&t instanceof hF).throw(le.invalidParameters),re.of(this._iid).connectionHandlers.set(n,t)},e.prototype.removeConnectionHandler=function(n){re.of(this._iid).connectionHandlers.delete(n)},e.prototype.removeAllConnectionHandler=function(){re.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(n){return n===void 0&&(n={}),new bie(this._iid,n)},e.prototype.createBlockedUserListQuery=function(n){return n===void 0&&(n={}),new wie(this._iid,n)},e.prototype.createFriendListQuery=function(n){return n===void 0&&(n={}),new Cie(this._iid,n)},e.prototype.createMessageSearchQuery=function(n){return new bte(this._iid,n)},e.prototype.buildUserFromSerializedData=function(n){var t=Uc(n);return new Dn(this._iid,Dn.payloadify(t))},e.prototype.updateCurrentUserInfo=function(n){return n===void 0&&(n={}),T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return n=ne(ne({},wre),n),Fe(function(f){return Di(f.profileImage,!0)&&J("string",f.profileUrl,!0)&&J("string",f.nickname,!0)}(n)).throw(le.invalidParameters),this.currentUser?(t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new bD(ne({userId:r.userId},n)),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),c=u.as(yD).user,this.currentUser&&(n.nickname&&(this.currentUser.nickname=c.nickname),(n.profileUrl||n.profileImage)&&(this.currentUser.plainProfileUrl=c.profileUrl)),[2,c];case 2:throw le.connectionRequired}})})},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(On("string",n)).throw(le.invalidParameters),this.currentUser?(t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new bD({userId:r.userId,preferredLanguages:n}),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),c=u.as(yD).user,this.currentUser&&(this.currentUser.preferredLanguages=c.preferredLanguages),[2,c];case 2:throw le.connectionRequired}})})},e.prototype.registerFCMPushTokenForCurrentUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",n)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Tre({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Oa.SUCCESS];case 3:return u.sent(),[2,Oa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Oa.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenForCurrentUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",n)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ore({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Oa.SUCCESS];case 3:return u.sent(),[2,Oa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Oa.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return this.currentUser?(n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Rre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.registerAPNSPushTokenForCurrentUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",n)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Nre({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Oa.SUCCESS];case 3:return u.sent(),[2,Oa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Oa.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:if(Fe(J("string",n)).throw(le.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ire({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Oa.SUCCESS];case 3:return u.sent(),[2,Oa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Oa.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return this.currentUser?(n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Are({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.getChannelInvitationPreference=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Ure({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,{autoAccept:o.as(Lre).autoAccept}]}})})},e.prototype.setChannelInvitationPreference=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(J("boolean",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Pre({userId:r.userId,willAutoAccept:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,{autoAccept:u.as(Fre).autoAccept}]}})})},e.prototype.getDoNotDisturb=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Hre({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(qre).preference]}})})},e.prototype.setDoNotDisturb=function(n,t,r,i,o,u){return t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=""),T(this,void 0,void 0,function(){var c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return Fe(J("boolean",n)&&J("number",t)&&J("number",r)&&J("number",i)&&J("number",o)&&J("string",u)).throw(le.invalidParameters),c=re.of(this._iid),h=c.sdkState,f=c.requestQueue,v=new Bre({userId:h.userId,doNotDisturbOn:n,startHour:t,startMin:r,endHour:i,endMin:o,timezone:u}),[4,f.send(v)];case 1:return _=y.sent(),[2,_.as(Gre).preference]}})})},e.prototype.getSnoozePeriod=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new $re({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(zre).snoozePeriod]}})})},e.prototype.setSnoozePeriod=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),T(this,void 0,void 0,function(){var i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(J("boolean",n)&&J("number",t)&&J("number",r)).throw(le.invalidParameters),i=re.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new jre({userId:o.userId,snoozeOn:n,startTs:t,endTs:r}),[4,u.send(c)];case 1:return h=f.sent(),[2,h.as(Vre).snoozePeriod]}})})},e.prototype.getMyPushTokensByToken=function(n,t){return T(this,void 0,void 0,function(){var r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",n)&&Tn(ls,t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Mre({userId:i.userId,type:t,token:n}),[4,o.send(u)];case 1:return c=h.sent(),[2,c.as(Dre).pushTokens]}})})},e.prototype.getPushTriggerOption=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new lF({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(uF).pushTriggerOption]}})})},e.prototype.setPushTriggerOption=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(Tn(Oc,n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new cF({userId:r.userId,pushTriggerOption:n}),[4,i.send(o)];case 1:return[2,u.sent().as(dF).pushTriggerOption]}})})},e.prototype.getPushTemplate=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Qre({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(Yre).name]}})})},e.prototype.setPushTemplate=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(Tn(D2,n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Xre({userId:r.userId,templateName:n}),[4,i.send(o)];case 1:return[2,u.sent().as(Jre).name]}})})},e.prototype.blockUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(n instanceof Dn||J("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Wre({userId:r.userId,blockedUserId:n instanceof Dn?n.userId:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.blockUserWithUserId=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.blockUser(n)]})})},e.prototype.unblockUser=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(n instanceof Dn||J("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Kre({userId:r.userId,unblockedUserId:n instanceof Dn?n.userId:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.unblockUserWithUserId=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.unblockUser(n)]})})},e.prototype.getFriendChangeLogsByToken=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(J("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Zre({userId:r.userId,token:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(eie).changelogs]}})})},e.prototype.getAllowFriendDiscovery=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new oie({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(lie).allowFriendDiscovery]}})})},e.prototype.setAllowFriendDiscovery=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(J("boolean",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new uie({userId:r.userId,allowFriendDiscovery:n}),[4,i.send(o)];case 1:return u.sent(),[2,n]}})})},e.prototype.uploadFriendDiscoveries=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new nie({userId:r.userId,discoveries:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(tie).friendDiscoveryRequestId]}})})},e.prototype.deleteFriendDiscovery=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.deleteFriendDiscoveries([n])]})})},e.prototype.deleteFriendDiscoveries=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(On("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new rie({userId:r.userId,discoveryKeys:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.addFriends=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return Fe(On("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new iie({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(aie).users]}})})},e.prototype.deleteFriend=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,this.deleteFriends([n])]})})},e.prototype.deleteFriends=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(On("string",n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new sie({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.getAllEmoji=function(){return T(this,void 0,void 0,function(){var n,t,r;return I(this,function(i){switch(i.label){case 0:return n=re.of(this._iid).requestQueue,t=new die,[4,n.send(t)];case 1:return r=i.sent(),[2,r.as(hie).emojiContainer]}})})},e.prototype.getEmojiCategory=function(n){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=re.of(this._iid).requestQueue,r=new pie({categoryId:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(fie).emojiCategory]}})})},e.prototype.getEmoji=function(n){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return t=re.of(this._iid).requestQueue,r=new mie({key:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(gie).emoji]}})})},e}(),ht;(function(e){e[e.NONE=0]="NONE",e[e.CHANNEL_ENTER=10102]="CHANNEL_ENTER",e[e.CHANNEL_EXIT=10103]="CHANNEL_EXIT",e[e.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",e[e.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",e[e.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",e[e.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",e[e.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",e[e.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",e[e.TYPING_START=10900]="TYPING_START",e[e.TYPING_END=10901]="TYPING_END",e[e.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",e[e.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",e[e.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",e[e.CHANNEL_INVITE=10020]="CHANNEL_INVITE",e[e.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",e[e.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",e[e.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",e[e.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",e[e.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",e[e.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",e[e.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",e[e.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(ht||(ht={}));var Fie=function(){function e(n){this.channelUrl=n.channel_url,this.channelType=n.channel_type,this.category=n.cat,this.data=n.data,this.ts=n.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Nt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Nt.OPEN},enumerable:!1,configurable:!0}),e}(),Zc=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.event=new Fie(i),o}return B(n,e),n}(Ut),vF=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data.operators,c=u===void 0?[]:u;return o.operators=c.map(function(h){return new Dn(o._iid,h)}),o}return B(n,e),n}(Zc),_F=function(e){function n(t,r,i){var o=e.call(this,t,"MCNT",i)||this;return o.groupChannelMemberCounts=i.group_channels.map(function(u){return{channelUrl:u.channel_url,memberCount:u.member_count,joinedMemberCount:u.joined_member_count,updatedAt:u.ts}}),o.openChannelMemberCounts=i.open_channels.map(function(u){return{channelUrl:u.channel_url,participantCount:u.participant_count,updatedAt:u.ts}}),o}return B(n,e),n}(Ut),bF=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"ADMM",i)||this).message=new Ih(t,i);var f=re.of(t).sdkState;return h.isMentioned=Th(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Ut),yF=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"AEDI",i)||this).message=new Ih(t,i);var y=re.of(t).sdkState;return _.mentionCountChange=w3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Ut),EF=function(e){function n(t,r,i){var o=e.call(this,t,"MRCT",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.event=new k3(i),o}return B(n,e),n}(Ut),wF=function(e){function n(t,r,i){var o=e.call(this,t,"MTHD",i)||this;return o.event=new mte(t,i),o}return B(n,e),n}(Ut),xF=function(){this.onUserMuted=Pn,this.onUserUnmuted=Pn,this.onUserBanned=Pn,this.onUserUnbanned=Pn,this.onChannelChanged=Pn,this.onChannelDeleted=Pn,this.onChannelFrozen=Pn,this.onChannelUnfrozen=Pn,this.onOperatorUpdated=Pn,this.onChannelMemberCountChanged=Pn,this.onMetaDataCreated=Pn,this.onMetaDataUpdated=Pn,this.onMetaDataDeleted=Pn,this.onMetaCounterCreated=Pn,this.onMetaCounterUpdated=Pn,this.onMetaCounterDeleted=Pn,this.onMessageReceived=Pn,this.onMessageUpdated=Pn,this.onMessageDeleted=Pn,this.onMentionReceived=Pn,this.onReactionUpdated=Pn,this.onThreadInfoUpdated=Pn},Hie=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._channels=new Map,t._enteredChannelUrls=[],t}return B(n,e),Object.defineProperty(n.prototype,"enteredChannels",{get:function(){var t=this;return this._enteredChannelUrls.map(function(r){return t._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),n.prototype.isEnteredChannel=function(t){return this._enteredChannelUrls.includes(t)},n.prototype.enter=function(t){this._enteredChannelUrls.indexOf(t)<0&&this._enteredChannelUrls.push(t)},n.prototype.exit=function(t){var r=this._enteredChannelUrls.indexOf(t);r>=0&&this._enteredChannelUrls.splice(r,1)},n.prototype.exitAll=function(){this._enteredChannelUrls=[]},n.prototype.get=function(t){var r;return T(this,void 0,void 0,function(){return I(this,function(i){return[2,(r=this._channels.get(t))!==null&&r!==void 0?r:null]})})},n.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){return t.forEach(function(o){if(r._channels.has(o.url)){var u=r._channels.get(o.url);Object.assign(u,o)}else r._channels.set(o.url,o)}),[2]})})},n.prototype.remove=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return this._channels.delete(t),this.exit(t),[2]})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},n}(lo),kF={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},qie=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=Ae.GET,o.path="".concat(i?Gne:Xc,"/").concat(encodeURIComponent(r)),o}return B(n,e),n}(Me),ND=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new Ah(t,r),i}return B(n,e),n}(Pe),Bie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,c=t.data,h=t.customType,f=t.operatorUserIds;return(r=e.call(this)||this).method=Ae.POST,r.path=Xc,r.params=xn({channel_url:i,cover_url:J("string",o)?o:null,cover_file:Di(o)?o:null,name:u,data:c,custom_type:h,operators:f}),r}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Ah(t,r),i}B(n,e)})(Pe);var Gie=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return B(n,e),n}($a),CF=function(e){function n(t,r,i){var o,u,c=this;return c=e.call(this,t,"ENTR",i)||this,i.data&&(c.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,c.user=new Dn(t,i.data),c.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),c}return B(n,e),n}(Ut),$ie=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return B(n,e),n}($a),SF=function(e){function n(t,r,i){var o,u,c=this;return c=e.call(this,t,"EXIT",i)||this,i.data&&(c.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,c.user=new Dn(t,i.data),c.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),c}return B(n,e),n}(Ut),TD={},wc=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=this;this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._openChannelCache=new Hie(n),this._openChannelHandlers=new Map,this._dispatcher.on(function(c){var h,f;if(c instanceof Ut)u._handleEvent(c);else if(c instanceof oo&&c.stateType===At.CONNECTED){var v=u._openChannelCache.enteredChannels;try{for(var _=$e(v),y=_.next();!y.done;y=_.next())y.value.enter()}catch(E){h={error:E}}finally{try{y&&!y.done&&(f=_.return)&&f.call(_)}finally{if(h)throw h.error}}}}),TD[n]=this}return e.of=function(n){return TD[n]},e.prototype.buildOpenChannelFromSerializedData=function(n){var t=Uc(n);return new Ah(t._iid,Ah.payloadify(t))},e.prototype.getChannelFromCache=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.upsertChannelsToCache=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.upsert(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeChannelsFromCache=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,7]),t=$e(n),r=t.next(),h.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,this._openChannelCache.remove(i)]);case 2:h.sent(),h.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=h.sent(),u={error:o},[3,7];case 6:try{r&&!r.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}return[7];case 7:return[2]}})})},e.prototype.setEnteredToCache=function(n){this._openChannelCache.enter(n.url)},e.prototype.setExitedToCache=function(n){this._openChannelCache.exit(n.url)},e.prototype._handleEvent=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H,K,z,W,j,ce,ue,we,Se,ie,oe,de,De,He,ge,be,Le,ee,X,me,Qe,qe,Te,ke,Oe,Ze,yn,Rn,pn,Un,an,Mn,En,Sn,$,A,R,V,Z,ye,Ie,mn=this;return I(this,function(hn){switch(hn.label){case 0:switch(hn.trys.push([0,51,,52]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return o=null,n.code==="MESG"?o=n.as(R3):n.code==="FILE"?o=n.as(S3):n.code!=="ADMM"&&n.code!="BRDM"||(o=n.as(bF)),o?(t=o.message,r=o.isMentioned,t.channelType!==Nt.OPEN?[3,3]:[4,this.getChannel(t.channelUrl,!0)]):[3,3];case 2:i=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt,Lt;return I(this,function(Ar){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())kn=Be.value,this._openChannelCache.isEnteredChannel(i.url)&&kn.onMessageReceived(i,t),r&&kn.onMentionReceived(i,t)}catch(fi){lt={error:fi}}finally{try{Be&&!Be.done&&(Lt=tn.return)&&Lt.call(tn)}finally{if(lt)throw lt.error}}return[2]})})}),hn.label=3;case 3:return[3,50];case 4:return o=null,n.code==="MEDI"?o=n.as(gv):n.code==="FEDI"?o=n.as(M3):n.code==="AEDI"&&(o=n.as(yF)),o?(u=o.message).channelType!==Nt.OPEN?[3,6]:[4,this.getChannel(u.channelUrl,!0)]:[3,6];case 5:c=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt,Lt;return I(this,function(Ar){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())kn=Be.value,this._openChannelCache.isEnteredChannel(c.url)&&kn.onMessageUpdated(c,u)}catch(fi){lt={error:fi}}finally{try{Be&&!Be.done&&(Lt=tn.return)&&Lt.call(tn)}finally{if(lt)throw lt.error}}return[2]})})}),hn.label=6;case 6:return[3,50];case 7:return h=n.as(Z7),z=h.channelUrl,y=h.channelType,f=h.messageId,y!==Nt.OPEN?[3,9]:[4,this.getChannel(z,!0)];case 8:v=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt,Lt;return I(this,function(Ar){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())kn=Be.value,this._openChannelCache.isEnteredChannel(v.url)&&kn.onMessageDeleted(v,f)}catch(fi){lt={error:fi}}finally{try{Be&&!Be.done&&(Lt=tn.return)&&Lt.call(tn)}finally{if(lt)throw lt.error}}return[2]})})}),hn.label=9;case 9:return[3,50];case 10:return _=n.as(EF),z=_.channelUrl,y=_.channelType,E=_.event,y!==Nt.OPEN?[3,12]:[4,this.getChannel(z,!0)];case 11:x=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt;return I(this,function(Lt){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())Be.value.onReactionUpdated(x,E)}catch(Ar){kn={error:Ar}}finally{try{Be&&!Be.done&&(lt=tn.return)&&lt.call(tn)}finally{if(kn)throw kn.error}}return[2]})})}),hn.label=12;case 12:return[3,50];case 13:return(C=n.as(wF).event).channelType!==Nt.OPEN?[3,15]:[4,this.getChannel(C.channelUrl,!0)];case 14:M=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt;return I(this,function(Lt){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())Be.value.onThreadInfoUpdated(M,C)}catch(Ar){kn={error:Ar}}finally{try{Be&&!Be.done&&(lt=tn.return)&&lt.call(tn)}finally{if(kn)throw kn.error}}return[2]})})}),hn.label=15;case 15:return[3,50];case 16:S=n.as(_F).openChannelMemberCounts,N=[],hn.label=17;case 17:hn.trys.push([17,22,23,24]),D=$e(S),H=D.next(),hn.label=18;case 18:return H.done?[3,21]:(K=H.value,z=K.channelUrl,He=K.participantCount,W=K.updatedAt,[4,this.getChannelFromCache(z)]);case 19:(j=hn.sent())&&j._updateParticipantCount(He,W)&&N.push(j),hn.label=20;case 20:return H=D.next(),[3,18];case 21:return[3,24];case 22:return ce=hn.sent(),ye={error:ce},[3,24];case 23:try{H&&!H.done&&(Ie=D.return)&&Ie.call(D)}finally{if(ye)throw ye.error}return[7];case 24:return N.length>0?[4,this.upsertChannelsToCache(N)]:[3,26];case 25:hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){var tn,Be,kn,lt;return I(this,function(Lt){try{for(tn=$e(this._openChannelHandlers.values()),Be=tn.next();!Be.done;Be=tn.next())Be.value.onChannelMemberCountChanged(N)}catch(Ar){kn={error:Ar}}finally{try{Be&&!Be.done&&(lt=tn.return)&&lt.call(tn)}finally{if(kn)throw kn.error}}return[2]})})}),hn.label=26;case 26:return[3,50];case 27:if(!(ue=n.as(Zc).event).isOpenChannelEvent)return[3,49];switch(ue.category){case ht.CHANNEL_ENTER:return[3,28];case ht.CHANNEL_EXIT:return[3,30];case ht.CHANNEL_OPERATOR_UPDATE:return[3,32];case ht.USER_CHANNEL_MUTE:case ht.USER_CHANNEL_UNMUTE:return[3,34];case ht.USER_CHANNEL_BAN:case ht.USER_CHANNEL_UNBAN:return[3,36];case ht.CHANNEL_FREEZE:case ht.CHANNEL_UNFREEZE:return[3,38];case ht.CHANNEL_DELETED:return[3,40];case ht.CHANNEL_PROP_CHANGED:return[3,43];case ht.CHANNEL_META_DATA_CHANGED:return[3,45];case ht.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(ue.channelUrl,!0)];case 29:return we=hn.sent(),Se=n.as(CF),He=Se.participantCount,ie=Se.user,oe=we._updateParticipantCount(He,ue.ts),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Be.onUserEntered(we,ie),oe&&Be.onChannelParticipantCountChanged(we)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(ue.channelUrl,!0)];case 31:return de=hn.sent(),De=n.as(SF),He=De.participantCount,ge=De.user,be=de._updateParticipantCount(He,ue.ts),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Be.onUserExited(de,ge),be&&Be.onChannelParticipantCountChanged(de)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(ue.channelUrl,!0)];case 33:return Le=hn.sent(),ee=n.as(vF).operators,Le.operators=ee,this.upsertChannelsToCache([Le]),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Be.onOperatorUpdated(Le,ee)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(ue.channelUrl,!0)];case 35:return X=hn.sent(),me=ue.category===ht.USER_CHANNEL_MUTE,Qe=n.as(me?K7:Q7).user,nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){me?Be.onUserMuted(X,Qe):Be.onUserUnmuted(X,Qe)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(ue.channelUrl,!0)];case 37:return qe=hn.sent(),Te=ue.category===ht.USER_CHANNEL_BAN,ke=n.as(Te?Y7:X7).user,nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Te?Be.onUserBanned(qe,ke):Be.onUserUnbanned(qe,ke)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(ue.channelUrl,!0)];case 39:return Oe=hn.sent(),Ze=n.as(J7).freeze,Oe.isFrozen=Ze,this.upsertChannelsToCache([Oe]),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Ze?Be.onChannelFrozen(Oe):Be.onChannelUnfrozen(Oe)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(ue.channelUrl,!0)];case 41:return yn=hn.sent(),[4,this.removeChannelsFromCache([yn.url])];case 42:return hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Be.onChannelDeleted(yn.url,yn.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(ue.channelUrl,!0)];case 44:return Rn=hn.sent(),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){Be.onChannelChanged(Rn)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(ue.channelUrl,!0)];case 46:return pn=hn.sent(),Un=n.as(V7),an=Un.created,Mn=Un.updated,En=Un.deleted,an&&pn._upsertCachedMetaData(an,ue.ts),Mn&&pn._upsertCachedMetaData(Mn,ue.ts),En&&pn._removeFromCachedMetaData(En,ue.ts),nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){an&&Be.onMetaDataCreated(pn,an),Mn&&Be.onMetaDataUpdated(pn,Mn),En&&Be.onMetaDataDeleted(pn,En)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(ue.channelUrl,!0)];case 48:return Sn=hn.sent(),$=n.as(W7),A=$.created,R=$.updated,V=$.deleted,nn(function(){return T(mn,void 0,void 0,function(){return I(this,function(tn){return this._openChannelHandlers.forEach(function(Be){A&&Be.onMetaCounterCreated(Sn,A),R&&Be.onMetaCounterUpdated(Sn,R),V&&Be.onMetaCounterDeleted(Sn,V)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(Z=hn.sent(),eo(Z))throw Z;return[3,52];case 52:return[2]}})})},e.prototype.addHandler=function(n,t){this._openChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._openChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._openChannelHandlers.clear()},e.prototype.getChannel=function(n,t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:Fe(J("string",n)).throw(le.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:return Fe(J("string",n)).throw(le.invalidParameters),r=new qie({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return i=u.sent(),o=i.as(ND).channel,[4,this.upsertChannelsToCache([o])];case 2:return u.sent(),[2,o]}})})},e.prototype.createChannel=function(n){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return n=ne(ne({},kF),n),Fe(function(u){return On("string",u.operatorUserIds,!0)&&(J("string",u.coverUrlOrImage)||Di(u.coverUrlOrImage)||u.coverUrlOrImage===null)&&J("string",u.name,!0)&&J("string",u.data,!0)&&J("string",u.customType,!0)&&(J("string",u.channelUrl)&&/^\w+$/.test(u.channelUrl)||u.channelUrl===null)}(n)).throw(le.invalidParameters),t=new Bie(n),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(ND).channel,this.upsertChannelsToCache([i]),[2,i]}})})},e}(),ID={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},zie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Xc,"/").concat(encodeURIComponent(i),"/participants"),r.params={token:o,limit:u},r}return B(n,e),n}(Me),jie=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.participants=[];var o=r.next,u=r.participants;return i.token=o,i.participants=u.map(function(c){return new Dn(t,c)}),i}return B(n,e),n}(Pe),Vie=function(e){function n(t,r,i){return e.call(this,t,r,Nt.OPEN,i)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new zie(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(jie),u=o.participants,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h),Wie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,c=t.data,h=t.customType,f=t.operatorUserIds;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Xc,"/").concat(encodeURIComponent(i)),r.params=xn({cover_url:J("string",o)?o:null,cover_file:Di(o)?o:null,name:u,data:c,custom_type:h,operators:f}),r}return B(n,e),n}(Me),Kie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Ah(t,r),i}return B(n,e),n}(Pe),Qie=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Xc,"/").concat(encodeURIComponent(i)),r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var Ah=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=Nt.OPEN,o.participantCount=(i=r.participant_count)!==null&&i!==void 0?i:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(u){return new Dn(t,u)}):[],o}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},M2.payloadify(t)),{participant_count:t.participantCount,operators:t.operators.map(function(r){return Dn.payloadify(r)})})):null},n.prototype.serialize=function(){return y0(this)},n.prototype.isOperator=function(t){return t instanceof Dn?this.isOperator(t.userId):this.operators.some(function(r){return r.userId===t})},n.prototype._updateParticipantCount=function(t,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=t,this._lastParticipantCountUpdated=r,!0)},n.prototype.createParticipantListQuery=function(t){return new Vie(this._iid,this.url,t)},n.prototype.refresh=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,wc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,t.sent()]}})})},n.prototype.enter=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid).requestQueue,r=new Gie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(CF),u=o.participantCount,c=o.ts,this._updateParticipantCount(u,c),wc.of(this._iid).setEnteredToCache(this),[2]}})})},n.prototype.exit=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid).requestQueue,r=new $ie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(SF),u=o.participantCount,c=o.ts,this._updateParticipantCount(u,c),wc.of(this._iid).setExitedToCache(this),ci.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},n.prototype.updateChannel=function(t){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(c){switch(c.label){case 0:return t=ne(ne({},ID),t),Fe(function(h){return On("string",h.operatorUserIds,!0)&&(J("string",h.coverUrlOrImage)||Di(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&J("string",h.name,!0)&&J("string",h.data,!0)&&J("string",h.customType,!0)}(t)).throw(le.invalidParameters),r=re.of(this._iid).requestQueue,i=new Wie(ne({channelUrl:this.url},t)),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(Kie).channel,[4,wc.of(this._iid).upsertChannelsToCache([u])];case 2:return c.sent(),[2,u]}})})},n.prototype.updateChannelWithOperatorUserIds=function(t,r,i,o,u){return T(this,void 0,void 0,function(){var c;return I(this,function(h){return c=ne(ne({},ID),{name:t,coverUrlOrImage:r,data:i,operatorUserIds:o,customType:u}),[2,this.updateChannel(c)]})})},n.prototype.delete=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=re.of(this._iid).requestQueue,r=new Qie({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[4,wc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return i.sent(),[2]}})})},n}(M2),Yie=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserEntered=Pn,t.onUserExited=Pn,t.onChannelParticipantCountChanged=Pn,t}return B(n,e),n}(xF)),Xie=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.nameKeyword,c=t.urlKeyword,h=t.customTypes,f=t.includeFrozen,v=t.includeMetaData;return(r=e.call(this)||this).method=Ae.GET,r.path=Xc,r.params=xn({token:i,limit:o,name_contains:u,url_contains:c,custom_types:h,show_frozen:f,show_metadata:v}),r}return B(n,e),n}(Me),Jie=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return new Ah(t,h)})),i.ts=typeof c=="number"?c:null,i}return B(n,e),n}(Pe),Zie=function(e){function n(t,r){var i,o,u,c,h,f=this;return(f=e.call(this,t,r)||this).includeFrozen=!0,f.includeMetaData=!0,f.nameKeyword=null,f.urlKeyword=null,f.customTypes=null,f.includeFrozen=(i=r.includeFrozen)===null||i===void 0||i,f.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,f.nameKeyword=(u=r.nameKeyword)!==null&&u!==void 0?u:null,f.urlKeyword=(c=r.urlKeyword)!==null&&c!==void 0?c:null,f.customTypes=(h=r.customTypes)!==null&&h!==void 0?h:null,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.nameKeyword,!0)&&J("string",this.urlKeyword,!0)&&On("string",this.customTypes,!0)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new Xie(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,3]:[3,6];case 1:return i=h.sent(),o=i.as(Jie),u=o.channels,c=o.token,this._token=c,this._hasNext=!!c,[4,wc.of(this._iid).upsertChannelsToCache(u)];case 2:return h.sent(),this._isLoading=!1,[2,u];case 3:return[2,[]];case 4:throw le.queryInProgress;case 5:return[3,7];case 6:throw le.invalidParameters;case 7:return[2]}})})},n}(Nl),eae=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="openChannel",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new wc(t,{sdkState:i,dispatcher:o,requestQueue:c})},n.prototype.createOpenChannelListQuery=function(t){return t===void 0&&(t={}),new Zie(this._iid,t)},n.prototype.addOpenChannelHandler=function(t,r){this._manager.addHandler(t,r)},n.prototype.removeOpenChannelHandler=function(t){this._manager.removeHandler(t)},n.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildOpenChannelFromSerializedData=function(t){return this._manager.buildOpenChannelFromSerializedData(t)},n.prototype.getChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.createChannel=function(t){return t===void 0&&(t={}),T(this,void 0,void 0,function(){return I(this,function(r){return[2,this._manager.createChannel(t)]})})},n.prototype.createChannelWithOperatorUserIds=function(t,r,i,o,u){return T(this,void 0,void 0,function(){var c;return I(this,function(h){return(c=ne({},kF)).name=t,c.coverUrlOrImage=r,c.data=i,c.operatorUserIds=o,c.customType=u,[2,this._manager.createChannel(c)]})})},n}(x3),Or;(function(e){e.NONE="none",e.JOINED="joined",e.INVITED="invited"})(Or||(Or={}));var El,La,Ga,Fc,Oo,bv,Tu,u0,ro=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.state=null,i.role=null,i.isMuted=!1,i.isBlockedByMe=!1,i.isBlockingMe=!1,i.state=Tn(Or,r.state)?r.state:null,i.role=Tn(Ss,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(i.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(i.isBlockingMe=r.is_blocking_me),i}return B(n,e),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},n}(Jc),NF=function(e){function n(t,r){var i,o,u=this;return(u=e.call(this,t)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",u.channelType=(o=r.channel_type)!==null&&o!==void 0?o:Nt.GROUP,u.reader=new Dn(u._iid,r.user),u.readAt=r.ts,u}return B(n,e),n}(lo);(function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"})(El||(El={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(La||(La={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(Ga||(Ga={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(Fc||(Fc={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Oo||(Oo={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(bv||(bv={})),function(e){e.AND="AND",e.OR="OR"}(Tu||(Tu={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(u0||(u0={}));var Pr,TF=function(){function e(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.myMemberStateFilter=La.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=Ga.ALL,this.publicChannelFilter=El.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Fc.ALL,this.hiddenChannelFilter=Oo.UNHIDDEN,this.includeFrozen=!0}return e.prototype._isFriend=function(n){return!!n.friendDiscoveryKey||!!n.friendName},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(n,t){Array.isArray(n)&&n.length!==0&&typeof t=="string"&&t&&(this._searchFilter={query:t,fields:n})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(n,t,r){r===void 0&&(r=Tu.AND),this._userIdsFilter={userIds:n,includeMode:t,queryType:r}},e.prototype.clone=function(){var n=new e;this.searchFilter&&n.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&n.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n,t){if(this._searchFilter){var r=this._searchFilter,i=r.query,o=r.fields;if(i&&o&&o.length>0&&!o.some(function(y){switch(y){case u0.CHANNEL_NAME:return n.name.toLowerCase().includes(i.toLowerCase());case u0.MEMBER_NICKNAME:return n.members.some(function(E){return E.nickname.toLowerCase().includes(i.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var u=this._userIdsFilter,c=u.userIds,h=u.includeMode,f=u.queryType,v=n.members.map(function(y){return y.userId});if(h){if(c.length>0)switch(f){case Tu.AND:if(c.some(function(y){return!v.includes(y)}))return!1;break;case Tu.OR:if(c.every(function(y){return!v.includes(y)}))return!1}}else if(c.includes(t)||c.push(t),n.members.length>c.length||!Ene(c,v))return!1}if(!this.includeEmpty&&!n.lastMessage||!this.includeFrozen&&n.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(n.customType)||this.channelNameContainsFilter&&!n.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var _=this.nicknameContainsFilter.toLowerCase();if(n.members.every(function(y){return!y.nickname.toLowerCase().includes(_)}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(n.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case La.JOINED:if(n.myMemberState!=="joined")return!1;break;case La.INVITED:if(n.myMemberState!=="invited")return!1;break;case La.INVITED_BY_FRIEND:if(n.myMemberState!=="invited"||!this._isFriend(n.inviter))return!1;break;case La.INVITED_BY_NON_FRIEND:if(n.myMemberState!=="invited"||this._isFriend(n.inviter))return!1;break;case La.ALL:if(n.myMemberState==="none")return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Oo.UNHIDDEN:if(n.isHidden||n.hiddenState!=="unhidden")return!1;break;case Oo.HIDDEN:if(!n.isHidden)return!1;break;case Oo.HIDDEN_ALLOW_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Oo.HIDDEN_PREVENT_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Fc.UNREAD_MESSAGE&&n.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case El.PUBLIC:if(!n.isPublic)return!1;break;case El.PRIVATE:if(n.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Ga.SUPER:if(!n.isSuper)return!1;break;case Ga.NON_SUPER:if(n.isSuper)return!1}return!0},e}(),nae=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=e.call(this,t)||this;return u._channels=new Map,u._sdkState=i,u._cacheContext=o,u}return B(n,e),Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection(tF):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t,r){return r===void 0&&(r=0),ne(ne({},t.serialize()),{lastMessageUpdatedAt:t.lastMessage?t.lastMessage.createdAt:0,syncIndex:r})},n.prototype._deserialize=function(t){return Vr.of(this._iid).buildGroupChannelFromSerializedData(t)},Object.defineProperty(n.prototype,"channels",{get:function(){return _n([],bn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.isCachedInMemory=function(t){return this._channels.has(t)},n.prototype.get=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return this._channels.has(t)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(t)]:[3,2];case 1:if(r=o.sent())return i=this._deserialize(r),this._channels.set(t,i),[2,i];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(t)]}})})},n.prototype.fetch=function(t){var r=t.token,i=t.limit,o=i===void 0?nF:i,u=t.backward,c=u!==void 0&&u,h=t.filter,f=h===void 0?new TF:h,v=t.order,_=v===void 0?Qr.LATEST_LAST_MESSAGE:v;return T(this,void 0,void 0,function(){var y,E,x,C,M=this;return I(this,function(S){switch(S.label){case 0:return this.localCacheEnabled?(y=Rg(_),E={where:function(N){if(r)switch(_){case Qr.CHANNEL_NAME_ALPHABETICAL:if(!c&&N.name.localeCompare(r)<0||c&&N.name.localeCompare(r)>0)return!1;break;case Qr.CHRONOLOGICAL:if(!c&&N.createdAt>r||c&&N.createdAt<r)return!1;break;case Qr.LATEST_LAST_MESSAGE:if(!c&&N.lastMessageUpdatedAt>r||c&&N.lastMessageUpdatedAt<r)return!1}return f.match(M._deserialize(N),M._sdkState.userId)},index:y,backward:c},[4,this.collection.query(E)]):[3,3];case 1:return[4,S.sent().fetch({limit:o})];case 2:return x=S.sent(),(C=x.map(function(N){return M._deserialize(N)})).forEach(function(N){M._channels.has(N.url)||M._channels.set(N.url,N)}),[2,C];case 3:return[2,[]]}})})},n.prototype.upsert=function(t){return T(this,void 0,void 0,function(){var r,i,o=this;return I(this,function(u){switch(u.label){case 0:if(t.forEach(function(c){if(o._channels.has(c.url)){var h=o._channels.get(c.url);Object.assign(h,c,{_iid:o._iid})}else o._channels.set(c.url,c)}),!this.localCacheEnabled)return[3,2];for(i in r=[],t)r.push(this._serialize(t[i],parseInt(i)));return[4,this.collection.upsertMany(r)];case 1:u.sent(),u.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),r=$e(t),i=r.next(),f.label=1;case 1:return i.done?[3,4]:(o=i.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:f.sent(),f.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return u=f.sent(),c={error:u},[3,7];case 6:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 7:return[2]}})})},n.prototype.clear=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMemoryCache=function(){this._channels.clear()},n.prototype._setBlockStateOfAllChannels=function(t,r,i){return T(this,void 0,void 0,function(){var o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H,K,z,W;return I(this,function(j){switch(j.label){case 0:if(o=[],t===this._sdkState.userId)try{for(u=$e(this._channels.values()),c=u.next();!c.done;c=u.next()){y=c.value;try{for(N=void 0,h=$e(y.members),f=h.next();!f.done;f=h.next())if((C=f.value).userId===r){C.isBlockedByMe=i,o.push(y);break}}catch(ce){N={error:ce}}finally{try{f&&!f.done&&(D=h.return)&&D.call(h)}finally{if(N)throw N.error}}}}catch(ce){M={error:ce}}finally{try{c&&!c.done&&(S=u.return)&&S.call(u)}finally{if(M)throw M.error}}else if(r===this._sdkState.userId)try{for(v=$e(this._channels.values()),_=v.next();!_.done;_=v.next()){y=_.value;try{for(z=void 0,E=$e(y.members),x=E.next();!x.done;x=E.next())if((C=x.value).userId===t){C.isBlockingMe=i,o.push(y);break}}catch(ce){z={error:ce}}finally{try{x&&!x.done&&(W=E.return)&&W.call(E)}finally{if(z)throw z.error}}}}catch(ce){H={error:ce}}finally{try{_&&!_.done&&(K=v.return)&&K.call(v)}finally{if(H)throw H.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})})},n.prototype.block=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!0)];case 1:return i.sent(),[2]}})})},n.prototype.unblock=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!1)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(t,r){return r===void 0&&(r=_n([],bn(this._channels.keys()),!1)),T(this,void 0,void 0,function(){var i,o,u,c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:i=[],y.label=1;case 1:y.trys.push([1,6,7,8]),o=$e(r),u=o.next(),y.label=2;case 2:return u.done?[3,5]:(c=u.value,[4,this.get(c)]);case 3:(h=y.sent())._updateUnreadMemberState(this._sdkState.userId,t)&&(h._updateUnreadCount(0,0),i.push(h)),y.label=4;case 4:return u=o.next(),[3,2];case 5:return[3,8];case 6:return f=y.sent(),v={error:f},[3,8];case 7:try{u&&!u.done&&(_=o.return)&&_.call(o)}finally{if(v)throw v.error}return[7];case 8:return i.length>0?[4,this.upsert(i)]:[3,10];case 9:y.sent(),y.label=10;case 10:return[2]}})})},n}(lo),Ug={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},H2=function(e){return On("string",e.invitedUserIds,!0)&&J("string",e.channelUrl,!0)&&J("string",e.coverUrl,!0)&&(Di(e.coverImage)||J("string",e.coverImage)||e.coverImage===null)&&J("boolean",e.isDistinct,!0)&&J("boolean",e.isSuper,!0)&&J("boolean",e.isBroadcast,!0)&&J("boolean",e.isExclusive,!0)&&J("boolean",e.isPublic,!0)&&J("boolean",e.isStrict,!0)&&J("boolean",e.isDiscoverable,!0)&&J("boolean",e.isEphemeral,!0)&&J("string",e.accessCode,!0)&&J("string",e.name,!0)&&J("string",e.data,!0)&&J("string",e.customType,!0)&&On("string",e.operatorUserIds,!0)&&J("number",e.messageSurvivalSeconds,!0)},yv={customTypes:null,includeEmpty:!1,includeFrozen:!0},q2=function(e){return On("string",e.customTypes,!0)&&J("boolean",e.includeEmpty)&&J("boolean",e.includeFrozen)},IF={myMemberStateFilter:La.ALL},OF=function(e){return Tn(La,e.myMemberStateFilter)};(function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(Pr||(Pr={}));var Cn,tae={keys:[]},rae={channelCustomTypesFilter:null,superChannelFilter:Ga.ALL},iae={channelUrl:null,scheduledStatus:null,messageTypeFilter:di.ALL};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(Cn||(Cn={}));var OD=function(e){return e.startsWith("EVENT_")||e===Cn.SYNC_CHANNEL_BACKGROUND||e===Cn.SYNC_CHANNEL_CHANGELOGS},st=function(e){function n(t){var r=t.channels,i=t.source,o=e.call(this)||this;return o.channels=r,o.source=i,o}return B(n,e),n}(ei),gf=function(e){function n(t){var r=t.channelUrls,i=t.source,o=e.call(this)||this;return o.channelUrls=r,o.source=i,o}return B(n,e),n}(ei),aae=function(){function e(n){var t=n.groupChannelCache,r=n.messageCache,i=n.unsentMessageCache,o=n.dispatcher,u=this;this._observers=new Map,o.on(function(c){return T(u,void 0,void 0,function(){var h,f,v,_,y=this;return I(this,function(E){switch(E.label){case 0:return c instanceof st?(h=c.channels,_=c.source,f=h.filter(function(x){return x instanceof us}),[4,t.upsert(f)]):[3,2];case 1:return E.sent(),this._broadcastUpdateEvent(f,_),[3,7];case 2:return c instanceof gf?(v=c.channelUrls,_=c.source,[4,t.remove(v)]):[3,5];case 3:return E.sent(),[4,Ns(function(){return T(y,void 0,void 0,function(){var x,C,M,S,N,D;return I(this,function(H){switch(H.label){case 0:H.trys.push([0,6,7,8]),x=$e(v),C=x.next(),H.label=1;case 1:return C.done?[3,5]:(M=C.value,[4,r.removeMessagesOfChannel(M)]);case 2:return H.sent(),[4,i.removeMessagesOfChannel(M)];case 3:H.sent(),H.label=4;case 4:return C=x.next(),[3,1];case 5:return[3,8];case 6:return S=H.sent(),N={error:S},[3,8];case 7:try{C&&!C.done&&(D=x.return)&&D.call(x)}finally{if(N)throw N.error}return[7];case 8:return[2]}})})})];case 4:return E.sent(),this._broadcastRemoveEvent(v,_),[3,7];case 5:return c instanceof sF?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,7];case 6:E.sent(),E.label=7;case 7:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),sae=function(){function e(n){var t=n.messageCache,r=n.unsentMessageCache,i=n.dispatcher,o=n.logger,u=this;this._observers=new Map,this._logger=null,this._logger=o,i.on(function(c){return T(u,void 0,void 0,function(){var h,f,v,_,y,E,x=this;return I(this,function(C){switch(C.label){case 0:return c instanceof sr?(h=c.messages,E=c.source,f=h.filter(function(M){return M.messageId>0}),v=h.filter(function(M){return M.messageId===0}),f.length>0?[4,Ns(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,t.upsert(f)];case 1:return M.sent(),[4,r.remove(f.map(function(S){return S instanceof jr?S.reqId:null}).filter(function(S){return S!==null}))];case 2:return M.sent(),[2]}})})})]:[3,2]):[3,5];case 1:C.sent(),this._broadcastUpdateEvent(f,E),C.label=2;case 2:return v.length>0?[4,Ns(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,r.upsert(v)];case 1:return M.sent(),[2]}})})})]:[3,4];case 3:C.sent(),this._broadcastUpdateEvent(v,E),C.label=4;case 4:return[3,9];case 5:return c instanceof N3?(_=c.messageIds,E=c.source,[4,Ns(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,t.remove(_)];case 1:return M.sent(),[2]}})})})]):[3,7];case 6:return C.sent(),this._broadcastRemoveEvent(_,E),[3,9];case 7:return c instanceof B7?(y=c.reqId,E=c.source,[4,Ns(function(){return T(x,void 0,void 0,function(){return I(this,function(M){switch(M.label){case 0:return[4,r.remove([y])];case 1:return M.sent(),[2]}})})})]):[3,9];case 8:C.sent(),this._broadcastRemoveUnsentEvent(y,E),C.label=9;case 9:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveUnsentEvent=function(n,t){var r,i;try{for(var o=$e(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemoveUnsent(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),oae=function(e){function n(t){var r=t.userId,i=t.ts,o=t.token,u=t.filter,c=e.call(this)||this,h=ne(ne({},yv),u),f=h.customTypes,v=h.includeEmpty,_=h.includeFrozen;return c.method=Ae.GET,c.path="".concat(rt,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),c.params=xn({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:i,token:o,custom_types:f,show_empty:v,show_frozen:_}),c}return B(n,e),n}(Me),lae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedChannels=r.updated.map(function(o){return new us(t,o)}),i.deletedChannelUrls=r.deleted,i.hasMore=r.has_more,i.token=r.next,i}return B(n,e),n}(Pe),AF=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=Ae.GET,o.path="".concat(i?Bne:Hi,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return B(n,e),n}(Me),RF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new us(t,r),i}return B(n,e),n}(Pe),uae=function(e){function n(t){var r=this,i=t.userId,o=t.token,u=t.limit,c=t.order,h=t.includeEmpty,f=t.myMemberStateFilter,v=t.superChannelFilter,_=t.publicChannelFilter,y=t.unreadChannelFilter,E=t.nicknameContainsFilter,x=t.channelNameContainsFilter,C=t.channelUrlsFilter,M=t.customTypesFilter,S=t.customTypeStartsWithFilter,N=t.hiddenChannelFilter,D=t.metadataOrderKeyFilter,H=t.metadataKey,K=t.metadataValues,z=t.metadataValueStartsWith,W=t.includeFrozen,j=t.includeMetaData,ce=t.searchFilter,ue=t.userIdsFilter;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(rt,"/").concat(encodeURIComponent(i),"/my_group_channels"),r.params=xn({token:o,limit:u,order:c,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,member_state_filter:f,super_mode:v,public_mode:_,unread_filter:y,members_nickname_contains:E,name_contains:x,channel_urls:C,custom_types:M,custom_type_startswith:S,hidden_mode:N,metadata_order_key:D,metadata_key:H,metadata_values:K,metadata_value_startswith:z,show_frozen:W,show_metadata:j}),ce&&ce.query&&ce.fields&&(r.params.search_query=ce.query,r.params.search_fields=ce.fields),ue&&ue.userIds&&ue.userIds.length>0&&(ue.includeMode?(r.params.members_include_in=ue.userIds,r.params.query_type=ue.queryType.toUpperCase()):r.params.members_exactly_in=ue.userIds),r}return B(n,e),n}(Me),cae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=c,new us(t,h)})),i.ts=c!=null?c:null,i}return B(n,e),n}(Pe),dae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.myMemberStateFilter;return o.method=Ae.GET,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:u!=null?u:La.ALL},o}return B(n,e),n}(Me),hae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.groupChannelCount=r.group_channel_count,i}return B(n,e),n}(Pe),pae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.keys;return o.method=Ae.GET,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:u},o}return B(n,e),n}(Me),fae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return typeof r[Pr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(i.groupChannelUnreadMentionCount=r[Pr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[Pr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(i.groupChannelUnreadMessageCount=r[Pr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[Pr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(i.groupChannelInvitationCount=r[Pr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[Pr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(i.superGroupChannelUnreadMentionCount=r[Pr.SUPER_UNREAD_MENTION_COUNT]),typeof r[Pr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.superGroupChannelUnreadMessageCount=r[Pr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[Pr.SUPER_INVITATION_COUNT]=="number"&&(i.superGroupChannelInvitationCount=r[Pr.SUPER_INVITATION_COUNT]),typeof r[Pr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMentionCount=r[Pr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[Pr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMessageCount=r[Pr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[Pr.NONSUPER_INVITATION_COUNT]=="number"&&(i.nonSuperGroupChannelInvitationCount=r[Pr.NONSUPER_INVITATION_COUNT]),i}return B(n,e),n}(Pe),mae=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Ae.GET,i.path="".concat(rt,"/").concat(encodeURIComponent(r),"/unread_channel_count"),i}return B(n,e),n}(Me),gae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(n,e),n}(Pe),vae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.channelCustomTypesFilter,c=i.superChannelFilter;return o.method=Ae.GET,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:c!=null?c:Ga.ALL,custom_types:u},o}return B(n,e),n}(Me),_ae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(n,e),n}(Pe),bae=function(e){function n(t){var r=t.channelUrl,i=t.scheduledStatus,o=t.messageTypeFilter,u=e.call(this)||this;return u.method=Ae.GET,u.path="".concat(M7,"/count"),u.params={channel_url:r,status:Eae(i)},o&&(u.params.message_type=o),u}return B(n,e),n}(Me),yae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.count=r.count,i}return B(n,e),n}(Pe),Eae=function(e){if(e){var n=[];e.forEach(function(t){switch(t){case fu.PENDING:n.push(Ua.PENDING);break;case fu.SENT:n.push(Ua.IN_QUEUE),n.push(Ua.SENT);break;case fu.CANCELED:n.push(Ua.CANCELED);break;case fu.FAILED:n.push(Ua.FAILED)}})}},wae=function(e){function n(t){var r=this,i=t.userId,o=t.channelUrl,u=t.coverUrl,c=t.coverImage,h=t.isDistinct,f=t.isSuper,v=t.isBroadcast,_=t.isPublic,y=t.isExclusive,E=t.isDiscoverable,x=t.isStrict,C=t.isEphemeral,M=t.accessCode,S=t.name,N=t.data,D=t.customType,H=t.messageSurvivalSeconds,K=t.invitedUserIds,z=t.operatorUserIds;return(r=e.call(this)||this).method=Ae.POST,r.path=Hi,r.params=xn({user_ids:_n([i],bn(K!=null?K:[]),!1).filter(function(W,j,ce){return j===ce.indexOf(W)}),channel_url:o,cover_url:u,cover_file:c,is_distinct:h,is_super:f,is_broadcast:v,is_exclusive:y,is_public:_,is_discoverable:E,strict:x,is_ephemeral:C,access_code:M,name:S,data:N,custom_type:D,operator_ids:z,message_survival_seconds:H}),r}return B(n,e),n}(Me),xae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i.isCreated=r.is_created,i}return B(n,e),n}(Pe),AD=function(e){function n(t){var r=t.userId,i=t.channelUrls,o=e.call(this)||this;return o.method=Ae.PUT,o.path="".concat(rt,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:i},o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var kae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/join"),r.params={user_id:o,access_code:u},r}return B(n,e),n}(Me),Cae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i}return B(n,e),n}(Pe),Sae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.users,y=_===void 0?null:_;return o.memberCount=h,o.joinedMemberCount=v,o.members=Array.isArray(y)?y.map(function(E){return new ro(t,E)}):[new ro(t,i.data)],o}return B(n,e),n}(Zc),Nae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.shouldRemoveOperatorStatus;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/leave"),r.params={user_id:o,should_remove_operator_status:u},r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var Tae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f;return o.memberCount=h,o.joinedMemberCount=v,o.member=new ro(o._iid,i.data),o}return B(n,e),n}(Zc),Iae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userIds;return(r=e.call(this)||this).method=Ae.POST,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/invite"),r.params={user_ids:o},r}return B(n,e),n}(Me),Oae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i}return B(n,e),n}(Pe),Aae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitees,x=E===void 0?[]:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new Dn(t,y):null,o.invitees=x.map(function(C){return new ro(t,C)}),o}return B(n,e),n}(Zc),Rae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/decline"),r.params={user_id:o},r}return B(n,e),n}(Me),Mae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i.channel.myMemberState=Or.NONE,i}return B(n,e),n}(Pe),Dae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitee,x=E===void 0?null:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new Dn(t,y):null,o.invitee=x?new ro(t,x):null,o}return B(n,e),n}(Zc),Uae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return B(n,e),n}($a),MF=function(e){function n(t,r,i){var o=e.call(this,t,"READ",i)||this;return o.readStatus=new NF(t,i),o}return B(n,e),n}(Ut),Lae=function(e){function n(t){var r=t.channelUrl,i=t.userId,o=e.call(this)||this;return(o=e.call(this)||this).method=Ae.PUT,o.path="".concat(Hi,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=xn({userId:i}),o}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var al,Pae=function(e){function n(t,r,i){var o=e.call(this,t,"DLVR",i)||this;return o.channelUrl=i.channel_url,o.deliveredStateUpdate=i.updated,o}return B(n,e),n}(Ut),Fae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.hidePreviousMessages,c=t.allowAutoUnhide;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/hide"),r.params={user_id:o,hide_previous_messages:u,allow_auto_unhide:c},r}return B(n,e),n}(Me),Hae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(n,e),n}(Pe),qae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,i.data&&(o.allowAutoUnhide=i.data.allow_auto_unhide,o.hidePreviousMessages=i.data.hide_previous_messages),o.messageOffsetTimestamp=i.ts_message_offset,o}return B(n,e),n}(Ut),Bae=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(n,e),n}($a),Gae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new Dn(t,i.data),o}return B(n,e),n}(Ut),$ae=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(n,e),n}($a),zae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new Dn(t,i.data),o}return B(n,e),n}(Ut),jae=function(e){function n(t){var r=t.channelUrl,i=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:i}})||this}return B(n,e),n}($a),DF=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H,K,z,W,j=this;return(j=e.call(this,t,r)||this).includeEmpty=!1,j.includeFrozen=!0,j.includeMetaData=!0,j.channelUrlsFilter=null,j.customTypesFilter=null,j.customTypeStartsWithFilter=null,j.nicknameContainsFilter="",j.channelNameContainsFilter="",j.myMemberStateFilter=La.ALL,j.unreadChannelFilter=Fc.ALL,j.superChannelFilter=Ga.ALL,j.publicChannelFilter=El.ALL,j.hiddenChannelFilter=Oo.UNHIDDEN,j.searchFilter={fields:[],query:null},j.userIdsFilter={userIds:[],includeMode:!0,queryType:Tu.AND},j.metadataKey=null,j.metadataValues=null,j.metadataOrderKeyFilter=null,j.metadataValueStartsWith=null,j.order=Qr.LATEST_LAST_MESSAGE,j.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,j.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,j.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,j.channelUrlsFilter=(c=r.channelUrlsFilter)!==null&&c!==void 0?c:null,j.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,j.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:"",j.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:"",j.channelNameContainsFilter=(_=r.channelNameContainsFilter)!==null&&_!==void 0?_:"",j.myMemberStateFilter=(y=r.myMemberStateFilter)!==null&&y!==void 0?y:La.ALL,j.unreadChannelFilter=(E=r.unreadChannelFilter)!==null&&E!==void 0?E:Fc.ALL,j.superChannelFilter=(x=r.superChannelFilter)!==null&&x!==void 0?x:Ga.ALL,j.publicChannelFilter=(C=r.publicChannelFilter)!==null&&C!==void 0?C:El.ALL,j.hiddenChannelFilter=(M=r.hiddenChannelFilter)!==null&&M!==void 0?M:Oo.UNHIDDEN,j.searchFilter=(S=r.searchFilter)!==null&&S!==void 0?S:{fields:[],query:null},j.userIdsFilter=(N=r.userIdsFilter)!==null&&N!==void 0?N:{userIds:[],includeMode:!0,queryType:Tu.AND},j.metadataKey=(D=r.metadataKey)!==null&&D!==void 0?D:null,j.metadataValues=(H=r.metadataValues)!==null&&H!==void 0?H:null,j.metadataOrderKeyFilter=(K=r.metadataOrderKeyFilter)!==null&&K!==void 0?K:null,j.metadataValueStartsWith=(z=r.metadataValueStartsWith)!==null&&z!==void 0?z:null,j.order=(W=r.order)!==null&&W!==void 0?W:Qr.LATEST_LAST_MESSAGE,j}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter)&&On("string",this.channelUrlsFilter,!0)&&On("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter)&&J("string",this.nicknameContainsFilter)&&Tn(La,this.myMemberStateFilter)&&Tn(Ga,this.superChannelFilter)&&Tn(El,this.publicChannelFilter)&&Tn(Fc,this.unreadChannelFilter)&&Tn(Oo,this.hiddenChannelFilter)&&On(u0,this.searchFilter.fields)&&J("string",this.searchFilter.query,!0)&&On("string",this.userIdsFilter.userIds)&&J("boolean",this.userIdsFilter.includeMode)&&Tn(Tu,this.userIdsFilter.queryType)&&Tn(Qr,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&On("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},n.prototype.serialize=function(){return y0(this)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Vr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return t=o.sent(),r=t.channels,i=t.token,this._token=i,this._hasNext=!!i,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),c0=function(){function e(n){var t=n.top,r=t===void 0?Number.MAX_SAFE_INTEGER:t,i=n.bottom,o=i===void 0?0:i;this.top=r,this.bottom=o}return e.prototype.includes=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.every(function(i){return n.top<=i&&i<=n.bottom})},e.prototype.overlap=function(n){return this.includes(n.top)||this.includes(n.bottom)},e.prototype.extends=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.top=Math.min.apply(Math,_n([this.top],bn(n),!1)),this.bottom=Math.max.apply(Math,_n([this.bottom],bn(n),!1))},e}(),RD={},Vr=function(){function e(n,t){var r=t.sdkState,i=t.cacheContext,o=t.dispatcher,u=t.sessionManager,c=t.requestQueue,h=t.logger,f=this;this._leftChannels=new Map,this._markAsReadAllLastSentAt=0,this._iid=n,this._sdkState=r,this._sessionManager=u,this._requestQueue=c,this._dispatcher=o,this._logger=h,this._groupChannelHandlers=new Map,this._groupChannelCache=new nae(this._iid,{sdkState:r,cacheContext:i}),this._unsentMessageCache=new D3(this._iid,{sdkState:r,cacheContext:i}),this._messageCache=new iF(this._iid,{sdkState:r,cacheContext:i,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new aae({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new sae({messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:h}),setInterval(function(){var v,_,y=function(C){C.invalidateTypingStatus()&&(f._dispatcher.dispatch(new st({channels:[C],source:Cn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),f._groupChannelHandlers.forEach(function(M){M.onTypingStatusUpdated(C)}))};try{for(var E=$e(f._groupChannelCache.channels),x=E.next();!x.done;x=E.next())y(x.value)}catch(C){v={error:C}}finally{try{x&&!x.done&&(_=E.return)&&_.call(E)}finally{if(v)throw v.error}}},1e3),this._dispatcher.on(function(v){v instanceof Ut?f._handleEvent(v):v instanceof aF&&T(f,void 0,void 0,function(){var _,y;return I(this,function(E){switch(E.label){case 0:return _=v.message,[4,this.getChannel(_.channelUrl,!0)];case 1:return y=E.sent(),_ instanceof Jr?y._autoResendUserMessage(_):_ instanceof Kr&&y._autoResendFileMessage(_),[2]}})})}),RD[n]=this}return e.of=function(n){return RD[n]},Object.defineProperty(e.prototype,"handlers",{get:function(){return _n([],bn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.buildGroupChannelFromSerializedData=function(n){var t=Uc(n);return new us(this._iid,us.payloadify(t))},e.prototype.buildGroupChannelListQueryFromSerializedData=function(n){var t=Uc(n);return new DF(this._iid,t)},e.prototype.buildMemberFromSerializedData=function(n){var t=Uc(n);return new ro(this._iid,ro.payloadify(t))},e.prototype.getChannelFromCache=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getChannelsFromCache=function(n,t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._groupChannelCache.fetch({token:n,filter:t,order:r})];case 1:return[2,i.sent()]}})})},e.prototype._handleEvent=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H,K,z,W,j,ce,ue,we,Se,ie,oe,de,De,He,ge,be,Le,ee,X,me,Qe,qe,Te,ke,Oe,Ze,yn,Rn,pn,Un,an,Mn,En,Sn,$,A,R,V,Z,ye,Ie,mn,hn,tn,Be,kn,lt,Lt,Ar,fi,za,Ol,Al,Us,ln,td,Ls,Ho,Rl,Bu,Jn,sa,rd,Qh,Gu,I0,O0,A0,$u,id,ho,ad,qo,sd,Yh,Xh,Jh,Zh,Bo,od,zu,ju,Vu,Ml,Dl,Wu,ep,ld,np,ud,tp,cd,dd,rp,ip,R0,ap,sp,hd,op,Go,po,pd,M0,xt=this;return I(this,function(Wn){switch(Wn.label){case 0:switch(Wn.trys.push([0,72,,73]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"SYEV":return[3,32];case"USEV":return[3,70]}return[3,71];case 1:return f=null,n.code==="MESG"?f=n.as(R3):n.code==="FILE"?f=n.as(S3):n.code!=="ADMM"&&n.code!="BRDM"||(f=n.as(bF)),f?(t=f.message,r=f.isMentioned,i=f.forceUpdateLastMessage,t.channelType!==Nt.GROUP?[3,3]:(Ns(function(){return T(xt,void 0,void 0,function(){var Re;return I(this,function(Ce){return Re=new jae(t),this._requestQueue.send(Re),[2]})})}),j=this._groupChannelCache.isCachedInMemory(t.channelUrl),E=t instanceof jr&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((o=Wn.sent()).hiddenState=Ma.UNHIDDEN,t instanceof jr){u=re.of(this._iid).useMemberInfoInMessage;try{for(c=$e(o.members),h=c.next();!h.done;h=c.next())if((sa=h.value).userId===t.sender.userId){u?(t.sender.nickname=sa.nickname,t.sender.plainProfileUrl=sa.plainProfileUrl,t.sender.metaData=sa.metaData,t.sender.isBlockedByMe=sa.isBlockedByMe):(sa.nickname=t.sender.nickname,sa.plainProfileUrl=t.sender.plainProfileUrl,sa.metaData=t.sender.metaData,sa.isBlockedByMe=t.sender.isBlockedByMe);break}}catch(Re){ip={error:Re}}finally{try{h&&!h.done&&(R0=c.return)&&R0.call(c)}finally{if(ip)throw ip.error}}u&&r&&t.mentionedUsers.forEach(function(Re){var Ce,An;try{for(var Gn=$e(o.members),Yt=Gn.next();!Yt.done;Yt=Gn.next()){var kt=Yt.value;if(Re.userId===kt.userId){Re.nickname=kt.nickname,Re.plainProfileUrl=kt.plainProfileUrl,Re.metaData=kt.metaData;break}}}catch($o){Ce={error:$o}}finally{try{Yt&&!Yt.done&&(An=Gn.return)&&An.call(Gn)}finally{if(Ce)throw Ce.error}}}),E&&(C=this._sessionManager.currentUser)&&(C.nickname=t.sender.nickname,C.plainProfileUrl=t.sender.plainProfileUrl,C.metaData=t.sender.metaData)}t.silent&&!E||(o.isEphemeral||j)&&((!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),E||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),i&&(!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),this._dispatcher.dispatch(new st({channels:[o],source:Cn.EVENT_MESSAGE_RECEIVED})),t.silent&&!E||nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onChannelChanged(o)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})}),this._dispatcher.dispatch(new sr({messages:[t],source:wn.EVENT_MESSAGE_RECEIVED})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn,Yt;return I(this,function(kt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())(An=Ce.value).onMessageReceived(o,t),r&&An.onMentionReceived(o,t)}catch($o){Gn={error:$o}}finally{try{Ce&&!Ce.done&&(Yt=Re.return)&&Yt.call(Re)}finally{if(Gn)throw Gn.error}}return[2]})})}),Wn.label=3;case 3:return[3,71];case 4:return f=null,n.code==="MEDI"?f=n.as(gv):n.code==="FEDI"?f=n.as(M3):n.code==="AEDI"&&(f=n.as(yF)),f?(v=f.message,_=f.mentionCountChange,v.channelType!==Nt.GROUP?[3,6]:(j=this._groupChannelCache.isCachedInMemory(v.channelUrl),[4,this.getChannel(v.channelUrl,!0)])):[3,6];case 5:y=Wn.sent(),E=v instanceof jr&&v.sender.userId===this._sdkState.userId,x=!1,E?(C=this._sessionManager.currentUser)&&(C.nickname=v.sender.nickname,C.plainProfileUrl=v.sender.plainProfileUrl,C.metaData=v.sender.metaData):y.isReadMessage(v)&&_!==0&&!v.silent&&j&&(y._updateUnreadCount(y.unreadMessageCount,y.unreadMentionCount+_),x=!0),!y.lastMessage||y.lastMessage.createdAt<v.createdAt?(y.lastMessage=v,x=!0):y.lastMessage.isIdentical(v)&&(j?y.lastMessage.updatedAt<v.updatedAt&&(y.lastMessage=v,x=!0):x=!0),x&&(this._dispatcher.dispatch(new st({channels:[y],source:Cn.EVENT_MESSAGE_UPDATED})),v.silent&&!E||nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onChannelChanged(y)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})})),this._dispatcher.dispatch(new sr({messages:[v],source:wn.EVENT_MESSAGE_UPDATED})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn,Yt;return I(this,function(kt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())(An=Ce.value).onMessageUpdated(y,v),_!==0&&An.onMentionReceived(y,v)}catch($o){Gn={error:$o}}finally{try{Ce&&!Ce.done&&(Yt=Re.return)&&Yt.call(Re)}finally{if(Gn)throw Gn.error}}return[2]})})}),Wn.label=6;case 6:return[3,71];case 7:return M=n.as(Z7),me=M.channelUrl,Se=M.channelType,S=M.messageId,Se!==Nt.GROUP?[3,9]:[4,this.getChannel(me,!0)];case 8:N=Wn.sent(),this._dispatcher.dispatch(new N3({messageIds:[S],source:wn.EVENT_MESSAGE_DELETED})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onMessageDeleted(N,S)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})}),Wn.label=9;case 9:return[3,71];case 10:return(D=n.as(MF).readStatus).channelType!==Nt.GROUP?[3,12]:(j=this._groupChannelCache.isCachedInMemory(D.channelUrl),[4,this.getChannel(D.channelUrl,!0)]);case 11:H=Wn.sent(),j&&H._updateUnreadMemberState(D.reader.userId,D.readAt),D.reader.userId===this._sdkState.userId?j?(H.unreadMessageCount>0||H.unreadMentionCount>0)&&(H._updateUnreadCount(0,0),this._dispatcher.dispatch(new st({channels:[H],source:Cn.EVENT_CHANNEL_READ})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onChannelChanged(H)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})})):H.unreadMessageCount!==0&&H.unreadMentionCount!==0||(this._dispatcher.dispatch(new st({channels:[H],source:Cn.EVENT_CHANNEL_READ})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onChannelChanged(H)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})})):(this._dispatcher.dispatch(new st({channels:[H],source:Cn.EVENT_CHANNEL_READ})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onUnreadMemberStatusUpdated(H)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})})),Wn.label=12;case 12:return[3,71];case 13:return K=n.as(Pae),me=K.channelUrl,z=K.deliveredStateUpdate,W=z===void 0?{}:z,j=this._groupChannelCache.isCachedInMemory(me),[4,this.getChannel(me,!0)];case 14:if(ce=Wn.sent(),j)for(ue in W)ce._updateUndeliveredMemberState(ue,W[ue]);return this._dispatcher.dispatch(new st({channels:[ce],source:Cn.EVENT_CHANNEL_DELIVERED})),Object.keys(W).some(function(Re){return Re!==xt._sdkState.userId})&&nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onUndeliveredMemberStatusUpdated(ce)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})}),[3,71];case 15:return we=n.as(EF),me=we.channelUrl,Se=we.channelType,ie=we.event,Se!==Nt.GROUP?[3,18]:[4,this.getChannel(me,!0)];case 16:return oe=Wn.sent(),[4,this.getMessageFromCache(ie.messageId)];case 17:(He=Wn.sent())&&(He.applyReactionEvent(ie),this._dispatcher.dispatch(new sr({messages:[He],source:wn.EVENT_MESSAGE_REACTION_UPDATED}))),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onReactionUpdated(oe,ie)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})}),Wn.label=18;case 18:return[3,71];case 19:return(de=n.as(wF).event).channelType!==Nt.GROUP?[3,22]:[4,this.getChannel(de.channelUrl,!0)];case 20:return De=Wn.sent(),[4,this.getMessageFromCache(de.targetMessageId)];case 21:(He=Wn.sent())&&(He.applyThreadInfoUpdateEvent(de),this._dispatcher.dispatch(new sr({messages:[He],source:wn.EVENT_MESSAGE_THREADINFO_UPDATED}))),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onThreadInfoUpdated(De,de)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})}),Wn.label=22;case 22:return[3,71];case 23:ge=n.as(_F).groupChannelMemberCounts,be=[],Wn.label=24;case 24:Wn.trys.push([24,29,30,31]),Le=$e(ge),ee=Le.next(),Wn.label=25;case 25:return ee.done?[3,28]:(X=ee.value,me=X.channelUrl,fi=X.memberCount,za=X.joinedMemberCount,Qe=X.updatedAt,[4,this.getChannelFromCache(me)]);case 26:(qe=Wn.sent())&&qe._setLatestMemberCount(fi,za,Qe)&&be.push(qe),Wn.label=27;case 27:return ee=Le.next(),[3,25];case 28:return[3,31];case 29:return Te=Wn.sent(),ap={error:Te},[3,31];case 30:try{ee&&!ee.done&&(sp=Le.return)&&sp.call(Le)}finally{if(ap)throw ap.error}return[7];case 31:return be.length>0&&(this._dispatcher.dispatch(new st({channels:be,source:Cn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),nn(function(){return T(xt,void 0,void 0,function(){var Re,Ce,An,Gn;return I(this,function(Yt){try{for(Re=$e(this._groupChannelHandlers.values()),Ce=Re.next();!Ce.done;Ce=Re.next())Ce.value.onChannelMemberCountChanged(be)}catch(kt){An={error:kt}}finally{try{Ce&&!Ce.done&&(Gn=Re.return)&&Gn.call(Re)}finally{if(An)throw An.error}}return[2]})})})),[3,71];case 32:if(!(ke=n.as(Zc).event).isGroupChannelEvent)return[3,69];switch(ke.category){case ht.CHANNEL_JOIN:return[3,33];case ht.CHANNEL_LEAVE:return[3,35];case ht.CHANNEL_OPERATOR_UPDATE:return[3,39];case ht.CHANNEL_INVITE:return[3,41];case ht.CHANNEL_DECLINE_INVITE:return[3,43];case ht.TYPING_START:case ht.TYPING_END:return[3,45];case ht.USER_CHANNEL_MUTE:case ht.USER_CHANNEL_UNMUTE:return[3,47];case ht.USER_CHANNEL_BAN:return[3,49];case ht.USER_CHANNEL_UNBAN:return[3,53];case ht.CHANNEL_FREEZE:case ht.CHANNEL_UNFREEZE:return[3,55];case ht.CHANNEL_HIDE:return[3,57];case ht.CHANNEL_UNHIDE:return[3,59];case ht.CHANNEL_DELETED:return[3,61];case ht.CHANNEL_PROP_CHANGED:return[3,63];case ht.CHANNEL_META_DATA_CHANGED:return[3,65];case ht.CHANNEL_META_COUNTERS_CHANGED:return[3,67]}return[3,69];case 33:return[4,this.getChannel(ke.channelUrl,!0)];case 34:return Oe=Wn.sent(),Ze=n.as(Sae),yn=Ze.memberCount,Rn=Ze.joinedMemberCount,pn=Ze.members,Un=!1,pn.forEach(function(Re){Oe.isExclusive||Oe.isSuper||Oe.isBroadcast?Un=Un||Oe._setLatestMemberCount(yn,Rn,ke.ts):(Re.state=Or.JOINED,Oe.addMember(Re,ke.ts),xt._updateJoinedMemberCount(Oe)),Re.userId===xt._sdkState.userId&&(Oe.myMemberState=Or.JOINED)}),this._dispatcher.dispatch(new st({channels:[Oe],source:Cn.EVENT_CHANNEL_JOINED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){var An,Gn;try{for(var Yt=$e(pn),kt=Yt.next();!kt.done;kt=Yt.next()){var $o=kt.value;Ce.onUserJoined(Oe,$o)}}catch(lp){An={error:lp}}finally{try{kt&&!kt.done&&(Gn=Yt.return)&&Gn.call(Yt)}finally{if(An)throw An.error}}Oe.isBroadcast&&Un&&Ce.onChannelMemberCountChanged([Oe])}),[2]})})}),[3,69];case 35:return(rd=this._leftChannels.get(ke.channelUrl))?(Mn=rd.channel,[3,38]):[3,36];case 36:return[4,this.getChannel(ke.channelUrl,!0)];case 37:Mn=Wn.sent(),Wn.label=38;case 38:return an=Mn,En=n.as(Tae),fi=En.memberCount,za=En.joinedMemberCount,Sn=En.member,$=!1,an.isExclusive||an.isSuper||an.isBroadcast?$=an._setLatestMemberCount(fi,za,ke.ts):(an.removeMember(Sn),this._updateJoinedMemberCount(an)),Sn.userId===this._sdkState.userId?an.isPublic?(an.myMemberState=Or.NONE,an.invitedAt=0,an.joinedAt=0,an._updateUnreadCount(0,0),this._dispatcher.dispatch(new st({channels:[an],source:Cn.EVENT_CHANNEL_LEFT}))):(this._markAsLeave(an),this._dispatcher.dispatch(new gf({channelUrls:[an.url],source:Cn.EVENT_CHANNEL_LEFT}))):this._dispatcher.dispatch(new st({channels:[an],source:Cn.EVENT_CHANNEL_LEFT})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserLeft(an,Sn),an.isBroadcast&&$&&Ce.onChannelMemberCountChanged([an])}),[2]})})}),[3,69];case 39:return[4,this.getChannel(ke.channelUrl,!0)];case 40:A=Wn.sent(),R=n.as(vF).operators,V=R.map(function(Re){return Re.userId});try{for(Z=$e(A.members),ye=Z.next();!ye.done;ye=Z.next())(sa=ye.value).role=V.includes(sa.userId)?Ss.OPERATOR:Ss.NONE}catch(Re){hd={error:Re}}finally{try{ye&&!ye.done&&(op=Z.return)&&op.call(Z)}finally{if(hd)throw hd.error}}return A.myRole=V.includes(this._sdkState.userId)?Ss.OPERATOR:Ss.NONE,this._dispatcher.dispatch(new st({channels:[A],source:Cn.EVENT_CHANNEL_OPERATOR_UPDATED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onOperatorUpdated(A,R)}),[2]})})}),[3,69];case 41:return[4,this.getChannel(ke.channelUrl,!0)];case 42:Ie=Wn.sent(),mn=n.as(Aae),fi=mn.memberCount,za=mn.joinedMemberCount,hn=mn.inviter,(tn=mn.invitees).forEach(function(Re){return Re.state=Or.INVITED});try{for(Be=$e(tn),kn=Be.next();!kn.done;kn=Be.next())lt=kn.value,Ie.isExclusive||Ie.isSuper||Ie.isBroadcast?Ie._setLatestMemberCount(fi,za,ke.ts):Ie.addMember(lt,ke.ts),this._sdkState.userId===lt.userId&&(Ie.hiddenState=Ma.UNHIDDEN,Ie.myMemberState!==Or.JOINED&&(Ie.myMemberState=Or.INVITED),Ie.invitedAt=ke.ts)}catch(Re){Go={error:Re}}finally{try{kn&&!kn.done&&(po=Be.return)&&po.call(Be)}finally{if(Go)throw Go.error}}return this._dispatcher.dispatch(new st({channels:[Ie],source:Cn.EVENT_CHANNEL_INVITED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserReceivedInvitation(Ie,hn,tn)}),[2]})})}),[3,69];case 43:return[4,this.getChannel(ke.channelUrl,!0)];case 44:return Lt=Wn.sent(),Ar=n.as(Dae),fi=Ar.memberCount,za=Ar.joinedMemberCount,Ol=Ar.inviter,Al=Ar.invitee,Lt.isExclusive||Lt.isSuper||Lt.isBroadcast?Lt._setLatestMemberCount(fi,za,ke.ts):Lt.removeMember(Al),this._sdkState.userId===Al.userId?(Lt.invitedAt=0,Lt.myMemberState=Or.NONE,Lt.isPublic?this._dispatcher.dispatch(new st({channels:[Lt],source:Cn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new gf({channelUrls:[Lt.url],source:Cn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new st({channels:[Lt],source:Cn.EVENT_CHANNEL_DECLINED_INVITE})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserDeclinedInvitation(Lt,Ol,Al)}),[2]})})}),[3,69];case 45:return[4,this.getChannel(ke.channelUrl,!0)];case 46:return Us=Wn.sent(),ln=ke.category===ht.TYPING_START,td=n.as(ln?Gae:zae).user,Us._updateTypingStatus(td,ln?ke.ts:0),this._dispatcher.dispatch(new st({channels:[Us],source:Cn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onTypingStatusUpdated(Us)}),[2]})})}),[3,69];case 47:return[4,this.getChannel(ke.channelUrl,!0)];case 48:Ls=Wn.sent(),Ho=ke.category===ht.USER_CHANNEL_MUTE,(Rl=n.as(Ho?K7:Q7).user).userId===this._sdkState.userId&&(Ls.myMutedState=Ho?hl.MUTED:hl.UNMUTED);try{for(Bu=$e(Ls.members),Jn=Bu.next();!Jn.done;Jn=Bu.next())if((sa=Jn.value).userId===Rl.userId){sa.isMuted=Ho;break}}catch(Re){pd={error:Re}}finally{try{Jn&&!Jn.done&&(M0=Bu.return)&&M0.call(Bu)}finally{if(pd)throw pd.error}}return this._dispatcher.dispatch(new st({channels:[Ls],source:Ho?Cn.EVENT_CHANNEL_MUTED:Cn.EVENT_CHANNEL_UNMUTED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ho?Ce.onUserMuted(Ls,Rl):Ce.onUserUnmuted(Ls,Rl)}),[2]})})}),[3,69];case 49:return(rd=this._leftChannels.get(ke.channelUrl))?(Gu=rd.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(ke.channelUrl,!0)];case 51:Gu=Wn.sent(),Wn.label=52;case 52:return Qh=Gu,this._markAsLeave(Qh),I0=n.as(Y7).user,nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserBanned(Qh,I0)}),[2]})})}),[3,69];case 53:return[4,this.getChannel(ke.channelUrl,!0)];case 54:return O0=Wn.sent(),A0=n.as(X7).user,nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserUnbanned(O0,A0)}),[2]})})}),[3,69];case 55:return[4,this.getChannel(ke.channelUrl,!0)];case 56:return $u=Wn.sent(),id=n.as(J7).freeze,$u.isFrozen=id,this._dispatcher.dispatch(new st({channels:[$u],source:id?Cn.EVENT_CHANNEL_FROZEN:Cn.EVENT_CHANNEL_UNFROZEN})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){id?Ce.onChannelFrozen($u):Ce.onChannelUnfrozen($u)}),[2]})})}),[3,69];case 57:return[4,this.getChannel(ke.channelUrl,!0)];case 58:return ho=Wn.sent(),ad=n.as(qae),qo=ad.allowAutoUnhide,sd=ad.hidePreviousMessages,Yh=ad.messageOffsetTimestamp,qo!==null&&(ho.hiddenState=qo?Ma.HIDDEN_ALLOW_AUTO_UNHIDE:Ma.HIDDEN_PREVENT_AUTO_UNHIDE),sd!==null&&sd&&ho._updateUnreadCount(0,0),Yh!==null&&(ho.messageOffsetTimestamp=Yh),this._dispatcher.dispatch(new st({channels:[ho],source:Cn.EVENT_CHANNEL_HIDDEN})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelHidden(ho)}),[2]})})}),[3,69];case 59:return[4,this.getChannel(ke.channelUrl,!0)];case 60:return(Xh=Wn.sent()).hiddenState=Ma.UNHIDDEN,this._dispatcher.dispatch(new st({channels:[Xh],source:Cn.EVENT_CHANNEL_UNHIDDEN})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelChanged(Xh)}),[2]})})}),[3,69];case 61:return[4,this.getChannel(ke.channelUrl,!0)];case 62:return Jh=Wn.sent(),this._dispatcher.dispatch(new gf({channelUrls:[ke.channelUrl],source:Cn.EVENT_CHANNEL_DELETED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelDeleted(Jh.url,Jh.channelType)}),[2]})})}),[3,69];case 63:return[4,this.getChannelWithoutCache(ke.channelUrl,!0)];case 64:return Zh=Wn.sent(),this._dispatcher.dispatch(new st({channels:[Zh],source:Cn.EVENT_CHANNEL_UPDATED})),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelChanged(Zh)}),[2]})})}),[3,69];case 65:return[4,this.getChannel(ke.channelUrl,!0)];case 66:return Bo=Wn.sent(),od=n.as(V7),zu=od.created,ju=od.updated,Vu=od.deleted,zu&&Bo._upsertCachedMetaData(zu,ke.ts),ju&&Bo._upsertCachedMetaData(ju,ke.ts),Vu&&Bo._removeFromCachedMetaData(Vu,ke.ts),nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){zu&&Ce.onMetaDataCreated(Bo,zu),ju&&Ce.onMetaDataUpdated(Bo,ju),Vu&&Ce.onMetaDataDeleted(Bo,Vu)}),[2]})})}),[3,69];case 67:return[4,this.getChannel(ke.channelUrl,!0)];case 68:return Ml=Wn.sent(),Dl=n.as(W7),Wu=Dl.created,ep=Dl.updated,ld=Dl.deleted,nn(function(){return T(xt,void 0,void 0,function(){return I(this,function(Re){return this._groupChannelHandlers.forEach(function(Ce){Wu&&Ce.onMetaCounterCreated(Ml,Wu),ep&&Ce.onMetaCounterUpdated(Ml,ep),ld&&Ce.onMetaCounterDeleted(Ml,ld)}),[2]})})}),[3,69];case 69:return[3,71];case 70:switch((np=n.as(oF).event).category){case l0.USER_BLOCK:ud=vv.getDataAsUserBlockEvent(this._iid,np),cd=ud.blocker,dd=ud.blockee,this._groupChannelCache.block(cd.userId,dd.userId);break;case l0.USER_UNBLOCK:tp=vv.getDataAsUserBlockEvent(this._iid,np),cd=tp.blocker,dd=tp.blockee,this._groupChannelCache.unblock(cd.userId,dd.userId)}return[3,71];case 71:return[3,73];case 72:if(rp=Wn.sent(),eo(rp))throw rp;return[3,73];case 73:return[2]}})})},e.prototype._markAsLeave=function(n){var t,r=this,i=(t=this._leftChannels.get(n.url))!==null&&t!==void 0?t:{channel:n,ref:0};i.ref++,this._leftChannels.set(n.url,i),setTimeout(function(){i.ref--,i.ref===0&&r._leftChannels.delete(n.url)},1e4)},e.prototype.addHandler=function(n,t){this._groupChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._groupChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},e.prototype.subscribeGroupChannelEvent=function(n,t){this._groupChannelBroadcast.subscribe(n,t)},e.prototype.unsubscribeGroupChannelEvent=function(n){this._groupChannelBroadcast.unsubscribe(n)},e.prototype.subscribeMessageEvent=function(n,t){this._messageBroadcast.subscribe(n,t)},e.prototype.unsubscribeMessageEvent=function(n){this._messageBroadcast.unsubscribe(n)},e.prototype._updateJoinedMemberCount=function(n){n.joinedMemberCount=n.members.filter(function(t){return t.state===Or.JOINED}).length},e.prototype.getChannel=function(n,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:Fe(J("string",n)).throw(le.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n,t)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(J("string",n)).throw(le.invalidParameters),r=new AF({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:switch(i=h.sent(),o=i.as(RF).channel,u=o.unreadMessageCount,c=o.unreadMentionCount,o.myCountPreference){case Ra.UNREAD_MESSAGE_COUNT_ONLY:c=0;break;case Ra.UNREAD_MENTION_COUNT_ONLY:u=0;break;case Ra.OFF:u=0,c=0}return o._updateUnreadCount(u,c),[4,this._groupChannelCache.upsert([o])];case 2:return h.sent(),[2,o]}})})},e.prototype.getMyGroupChannels=function(n,t,r,i){return i===void 0&&(i=Cn.REQUEST_CHANNEL),T(this,void 0,void 0,function(){var o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return o=new uae(ne(ne({},t),{userId:this._sdkState.userId,token:n,limit:r})),[4,this._requestQueue.send(o)];case 1:return u=v.sent(),c=u.as(cae),h=c.channels,f=c.token,this._dispatcher.dispatch(new st({channels:h,source:i})),[2,{channels:h,token:f}]}})})},e.prototype.getMessageFromCache=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._messageCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getMessagesFromCache=function(n,t,r,i,o){return o===void 0&&(o=rF),T(this,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return[4,this._messageCache.fetch({channelUrl:n,token:t,limit:o,filter:i,backward:r==="next"})];case 1:return[2,u.sent()]}})})},e.prototype.getAllFailedMessagesFromCache=function(n,t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:n,filter:t,sendingStatus:qt.FAILED})];case 1:return[2,r.sent()]}})})},e.prototype.removeFailedMessageFromCache=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([n])];case 1:return t.sent(),[2]}})})},e.prototype.getCachedMessageCountBetween=function(n,t,r,i){return T(this,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(n,t,new c0({top:r,bottom:i}))];case 1:return[2,o.sent()]}})})},e.prototype.getMyGroupChannelChangeLogs=function(n,t,r){return r===void 0&&(r=Cn.REQUEST_CHANNEL_CHANGELOGS),T(this,void 0,void 0,function(){var i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return t=ne(ne({},yv),t),Fe(J("string",n)&&q2(t)).throw(le.invalidParameters),i=new oae(xn({userId:this._sdkState.userId,ts:typeof n=="number"?n:null,token:typeof n=="string"?n:null,filter:t})),[4,this._requestQueue.send(i)];case 1:return o=f.sent(),u=o.as(lae),c=u.updatedChannels,h=u.deletedChannelUrls,c.length>0&&this._dispatcher.dispatch(new st({channels:c,source:r})),h.length>0&&this._dispatcher.dispatch(new gf({channelUrls:h,source:r})),[2,u]}})})},e.prototype.getGroupChannelCount=function(n){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return n=ne(ne({},IF),n),Fe(OF(n)).throw(le.invalidParameters),t=new dae({userId:this._sdkState.userId,filter:n}),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(hae).groupChannelCount]}})})},e.prototype.getUnreadItemCount=function(n){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=ne(ne({},tae),n),Fe(function(c){return On(Pr,c.keys)}(n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new pae({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return[2,u.sent().as(fae)]}})})},e.prototype.getTotalUnreadChannelCount=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=re.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new mae({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(gae).unreadCount]}})})},e.prototype.getTotalUnreadMessageCount=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return n=ne(ne({},rae),n),Fe(function(h){return On("string",h.channelCustomTypesFilter)&&Tn(Ga,h.superChannelFilter)}(n)).throw(le.invalidParameters),t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new vae({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(_ae).unreadCount]}})})},e.prototype.getTotalScheduledMessageCount=function(n){return n===void 0&&(n={}),T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return n=ne(ne({},iae),n),Fe(function(u){return J("string",u.channelUrl,!0)&&On(fu,u.scheduledStatus,!0)&&Tn(di,u.messageTypeFilter)}(n)).throw(le.invalidParameters),t=re.of(this._iid).requestQueue,r=new bae(n),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(yae).count]}})})},e.prototype.getSubscribedTotalUnreadMessageCount=function(){var n=re.of(this._iid).subscribedUnreadMessageCount;return n.all>=0?n.all:0},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var n=0,t=re.of(this._iid).subscribedUnreadMessageCount;for(var r in t.customTypes)n+=t.customTypes[r];return n},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(n){var t;return(t=re.of(this._iid).subscribedUnreadMessageCount.customTypes[n])!==null&&t!==void 0?t:0},e.prototype.createChannel=function(n){return T(this,void 0,void 0,function(){var t,r,i;return I(this,function(o){switch(o.label){case 0:return n=ne(ne({},Ug),n),Fe(H2(n)).throw(le.invalidParameters),n.isPublic||(n.accessCode=null),t=new wae(ne({userId:this._sdkState.userId},n)),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(xae).channel,[4,this._groupChannelCache.upsert([i])];case 2:return o.sent(),[2,i]}})})},e.prototype.markAsReadAll=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return n=Date.now(),Fe(n-this._markAsReadAllLastSentAt>=1e3).throw(le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=n,t=new AD({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:f.sent(),r=this._groupChannelCache.channels;try{for(i=$e(r),o=i.next();!o.done;o=i.next())(u=o.value)._updateUnreadMemberState(this._sdkState.userId,n),u._updateUnreadCount(0,0)}catch(v){c={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}return r.length>0?[4,this._groupChannelCache.upsert(r)]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2]}})})},e.prototype.markAsReadWithChannelUrls=function(n){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return I(this,function(_){switch(_.label){case 0:return t=Date.now(),Fe(On("string",n)&&t-this._markAsReadAllLastSentAt>=1e3).throw(le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,r=new AD({userId:this._sdkState.userId,channelUrls:n}),[4,this._requestQueue.send(r)];case 1:_.sent(),i=this._groupChannelCache.channels,o=[];try{for(u=$e(i),c=u.next();!c.done;c=u.next())h=c.value,n.includes(h.url)&&(h._updateUnreadMemberState(this._sdkState.userId,t),h._updateUnreadCount(0,0),o.push(h))}catch(y){f={error:y}}finally{try{c&&!c.done&&(v=u.return)&&v.call(u)}finally{if(f)throw f.error}}return o.length>0?[4,this._groupChannelCache.upsert(o)]:[3,3];case 2:_.sent(),_.label=3;case 3:return[2]}})})},e.prototype.markAsDelivered=function(n){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this.getChannel(n)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}})})},e}(),iu=new Map,mc=new Map,MD=new Map,Vae=function(){function e(n){var t=n.key,r=n.concurrentCallLimit,i=r===void 0?2:r,o=n.backOffDelay,u=o===void 0?0:o,c=this;this._holdersKey=e.createSemaphoreHoldersKey(t),this._resolversKey=e.createSemaphoreResolversKey(t),this._chainProcessStateKey=e.createChainProcessStateKey(t),this._numLocks=i,this._backOffDelay=u,this._localAcquiredKeys=[],this._localResolversData=[],ko()?(iu[this._holdersKey]||(iu[this._holdersKey]=[]),mc[this._resolversKey]||(mc[this._resolversKey]=[])):(window.addEventListener("storage",function(h){return T(c,void 0,void 0,function(){var f,v;return I(this,function(_){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(h.key){case this._holdersKey:if(f=JSON.parse(h.oldValue),v=JSON.parse(h.newValue),!f||!v||v.length>=f.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(h.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var h=c._getLocalResolversData(),f=c._localResolversData.map(function(_){return _.key}),v=h.filter(function(_){return f.indexOf(_.key)<0});window.localStorage.setItem(c._resolversKey,JSON.stringify(v)),c._localAcquiredKeys.forEach(function(_){return c.release(_)})}))}return e.createSemaphoreHoldersKey=function(n){return"collection@semaphore_holders_for:"+n},e.createSemaphoreResolversKey=function(n){return"collection@semaphore_resolvers_for:"+n},e.createChainProcessStateKey=function(n){return"collection@semaphore_chain_process_state_for:"+n},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(ko())return this.numLocks-iu[this._holdersKey].length;var n=this._getLocalHoldersData();return this.numLocks-n.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return ko()?mc[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var n=this._getLocalResolversData();return n.length>0&&this._localResolversData.map(function(t){return t.key}).indexOf(n[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(ko())return MD[this._chainProcessStateKey];var n=window.localStorage[this._chainProcessStateKey];return n!==void 0&&JSON.parse(n)},e.prototype._setProcessChainAcquireRunning=function(n){ko()?MD[this._chainProcessStateKey]=n:n?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(n)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,bs(this._backOffDelay)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),ko()?this._processChainResolve():(n=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(n)),t.label=3;case 3:return[2]}})})},e.prototype.acquire=function(n){return n===void 0&&(n=0),T(this,void 0,void 0,function(){var t,r=this;return I(this,function(i){return ko()?[2,new Promise(function(o){for(var u={key:Cs(),resolver:function(v){return o(v)},priority:n},c=mc[r._resolversKey],h=-1,f=0;f<c.length;f++)if(n>c[f].priority){h=f;break}h>=0?mc[r._resolversKey].splice(h,0,u):mc[r._resolversKey].push(u),r._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(o){for(var u=Cs(),c={key:u,priority:n},h={key:u,resolver:function(_){return o(_)},priority:n},f=-1,v=0;v<t.length;v++)if(n>t[v].priority){f=v;break}f>=0?(t.splice(f,0,c),r._localResolversData.splice(f,0,h)):(t.push(c),r._localResolversData.push(h)),window.localStorage.setItem(r._resolversKey,JSON.stringify(t)),r._processChainResolve()})])})})},e.prototype.release=function(n){if(ko()){if((t=iu[this._holdersKey].indexOf(n))>=0)return iu[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else if(window.localStorage[this._holdersKey]){var t,r=JSON.parse(window.localStorage[this._holdersKey]),i=_n([],bn(r),!1);if((t=r.indexOf(n))>=0){r.splice(t,1),window.localStorage.setItem(this._holdersKey,JSON.stringify(r)),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(n),1);var o=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(i),newValue:JSON.stringify(r)});return dispatchEvent(o),!0}}return!1},e.prototype._tryResolve=function(){if(ko()){if(iu[this._holdersKey].length<this.numLocks){var n=Cs();return iu[this._holdersKey]=_n(_n([],bn(iu[this._holdersKey]),!1),[n],!1),(r=mc[this._resolversKey].shift()).resolver(n),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){n=Cs();var r=this._localResolversData.shift(),i=this._getLocalResolversData(),o=i.map(function(c){return c.key}).indexOf(r.key);i.splice(o,1),window.localStorage.setItem(this._resolversKey,JSON.stringify(i)),window.localStorage.setItem(this._holdersKey,JSON.stringify(_n(_n([],bn(t),!1),[n],!1))),this._localAcquiredKeys.push(n);var u=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(_n([],bn(t),!1)),newValue:JSON.stringify(_n(_n([],bn(t),!1),[n],!1))});return dispatchEvent(u),(0,r.resolver)(n),!0}}return!1},e.prototype._getLocalHoldersData=function(){var n=window.localStorage[this._holdersKey];return n!==void 0?JSON.parse(n):[]},e.prototype._getLocalResolversData=function(){var n=window.localStorage[this._resolversKey];return n!==void 0?JSON.parse(n):[]},e}();(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"})(al||(al={}));var B2,Vc=function(e){function n(t,r,i,o){i===void 0&&(i=2),o===void 0&&(o=10);var u=e.call(this)||this;return u._worker=null,u._state=al.IDLE,u._semaphore=null,u._retryCount=0,u._retryLimit=3,u.priority=0,u._worker=r,u._semaphore=new Vae({key:t,concurrentCallLimit:i,backOffDelay:o}),u}return B(n,e),Object.defineProperty(n.prototype,"isIdle",{get:function(){return this._state===al.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._state===al.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this._state===al.END},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),n.prototype._run=function(t){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(t)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return i=o.sent(),this.dispatch("error",i),this._retryCount<this._retryLimit?(this._retryCount++,this._run(t)):this.stop(),[3,4];case 4:return[2]}})})},n.prototype.start=function(t){this.isIdle&&(this._state=al.RUNNING,this._run(t))},n.prototype.stop=function(){this._state=al.IDLE,this.dispatch("stop")},n.prototype.end=function(){this._state=al.END,this.dispatch("end")},n}(b0),Ev=function(e){this.source=e},hE=function(e){this.source=e},af={},pE=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._prevSync=null,this._nextSync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,c=re.of(this._iid),h=c.sdkState,f=c.logger;this._metadataKey=(o=h.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/sync.meta"));var v=function(_,y){return"sendbird:".concat(_,"@groupchannel/").concat(y,"/message/sync")}(h.userId,r.url);this._prevSync=new Vc(v,function(_){return T(i,void 0,void 0,function(){var y,E,x,C,M,S;return I(this,function(N){switch(N.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:if(N.sent(),f.debug("message background prev sync from",(C=this._metadata)===null||C===void 0?void 0:C.range.top),this._metadata.previousComplete)return[3,9];N.label=2;case 2:return N.trys.push([2,5,,8]),[4,ci.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(S=(M=this._metadata.range)===null||M===void 0?void 0:M.top)!==null&&S!==void 0?S:_,{prevResultSize:100,nextResultSize:0,replyType:ta.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},wn.SYNC_MESSAGE_BACKGROUND)];case 3:return E=N.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.top,this._metadata.previousComplete=!y.hasNext,f.debug("message background prev sync progress",y),[4,this.saveMetadata()];case 4:return N.sent(),[3,8];case 5:return(x=N.sent())instanceof le&&x.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:N.sent(),N.label=7;case 7:return y.hasNext=!1,y.nextToken=0,[3,8];case 8:return[3,10];case 9:y.hasNext=!1,N.label=10;case 10:return[2,y]}})})}),this._nextSync=new Vc(v,function(_){return T(i,void 0,void 0,function(){var y,E,x,C,M;return I(this,function(S){switch(S.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return S.sent(),f.debug("message background next sync from",(x=this._metadata)===null||x===void 0?void 0:x.range.bottom),[4,ci.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(M=(C=this._metadata.range)===null||C===void 0?void 0:C.bottom)!==null&&M!==void 0?M:_,{prevResultSize:0,nextResultSize:100,replyType:ta.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},wn.SYNC_MESSAGE_BACKGROUND)];case 2:return E=S.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.bottom,f.debug("message background next sync progress",y),[4,this.saveMetadata()];case 3:return S.sent(),[2,y]}})})})}return e.of=function(n,t){if(af[n]||(af[n]={}),!af[n][t.url]){var r=af[n][t.url]=new e({_iid:n,channel:t});re.of(n).dispatcher.on(function(i){i instanceof oo&&(i.stateType===At.CONNECTED?r.resume():r.pause())})}return af[n][t.url]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(n){var t;return(t=this.range)===null||t===void 0?void 0:t.includes.apply(t,_n([],bn(n.map(function(r){return r.createdAt})),!1))},e.prototype.extendRange=function(n){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,_n([],bn(n.map(function(r){return r.createdAt})),!1))},e.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,re.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={range:new c0(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:Number.MAX_SAFE_INTEGER}),previousComplete:!!n&&n.previousComplete},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this._metadata?[4,re.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return re.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){var n,t,r,i;re.of(this._iid).logger.debug("message background sync resume()"),this._metadata&&this._metadata.previousComplete||this._prevSync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.range.top)!==null&&t!==void 0?t:Date.now()),this._nextSync.start((i=(r=this._metadata)===null||r===void 0?void 0:r.range.bottom)!==null&&i!==void 0?i:Date.now())},e.prototype.pause=function(){re.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e}(),sf={},Wae=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._sync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,c=re.of(this._iid).sdkState;this._metadataKey=(o=c.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/changelogs.meta"));var h=function(f,v){return"sendbird:".concat(f,"@groupchannel/").concat(v,"/message/changelogs")}(c.userId,this._channel.url);this._sync=new Vc(h,function(){return T(i,void 0,void 0,function(){var f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return f={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:x.sent(),x.label=2;case 2:return x.trys.push([2,5,,8]),[4,ci.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:ta.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includePollDetails:!0},wn.SYNC_MESSAGE_CHANGELOGS)];case 3:return v=x.sent(),_=v.hasMore,y=v.token,f.hasNext=_,f.nextToken=y,this._metadata.token=y,[4,this.saveMetadata()];case 4:return x.sent(),[3,8];case 5:return(E=x.sent())instanceof le&&E.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:x.sent(),x.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[2,f]}})})})}return e.of=function(n,t){if(sf[n]||(sf[n]={}),!sf[n][t.url]){var r=sf[n][t.url]=new e({_iid:n,channel:t});re.of(n).dispatcher.on(function(i){i instanceof oo&&(i.stateType===At.CONNECTED?r.resume():r.pause())})}return sf[n][t.url]},e.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=re.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this._metadata?[4,re.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return re.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),Kae=function(e){function n(t){var r,i,o,u,c,h,f=this;return(f=e.call(this)||this).method=Ae.GET,f.path="".concat(Et(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),f.params=xn({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:(r=t.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(i=t.customTypes)!==null&&i!==void 0?i:["*"],message_type:(o=t.messageType)!==null&&o!==void 0?o:null,include_reactions:(u=t.includeReactions)===null||u===void 0||u,with_sorted_meta_array:(c=t.includeMetaArray)===null||c===void 0||c,show_subchannel_messages_only:(h=t.showSubchannelMessagesOnly)!==null&&h!==void 0&&h}),f}return B(n,e),n}(Me),Qae=function(e){function n(t,r){var i,o,u,c,h=this;return(h=e.call(this,t,r)||this).isHugeGap=r.is_huge_gap,h.prevMessages=((i=r.prev_messages)!==null&&i!==void 0?i:[]).map(function(f){return Ms(t,f)}),h.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,h.nextMessages=((u=r.next_messages)!==null&&u!==void 0?u:[]).map(function(f){return Ms(t,f)}),h.nextHasmore=(c=r.next_hasmore)!==null&&c!==void 0&&c,h}return B(n,e),n}(Pe),UF=function(e,n){return e.findIndex(function(t){return t.isIdentical(n)})},DD=function(e,n,t){if(e.length>0){var r=UF(e,n);if(r<0){for(var i=0,o=e.length-1,u=Math.floor((i+o)/2);i<o;){var c=UD(e[u],n,t);if(c>0)o=u,u=Math.floor((i+o)/2);else{if(!(c<0))return{place:u,contains:e[u].isIdentical(n)};i=u+1,u=Math.floor((i+o)/2)}}return{place:UD(e[u],n,t)>0?u:u+1,contains:!1}}return{place:r,contains:!0}}return{place:e.length,contains:!1}},UD=function(e,n,t){switch(t){case Qr.LATEST_LAST_MESSAGE:return e.lastMessage&&n.lastMessage?n.lastMessage.createdAt-e.lastMessage.createdAt:e.lastMessage?-1:n.lastMessage?1:n.createdAt-e.createdAt;case Qr.CHRONOLOGICAL:return n.createdAt-e.createdAt;case Qr.CHANNEL_NAME_ALPHABETICAL:return e.name.localeCompare(n.name)}},gc=function(e,n){if(n instanceof jr)return e.findIndex(function(t){return t instanceof jr&&n.isIdentical(t)});e.findIndex(function(t){return t.isIdentical(n)})},LD=function(e,n){if(e.length>0){for(var t=0,r=e.length-1,i=Math.floor((t+r)/2);t<r;){var o=e[i].createdAt-n.createdAt;if(o>0)r=i,i=Math.floor((t+r)/2);else{if(!(o<0))return i;t=i+1,i=Math.floor((t+r)/2)}}return e[i].createdAt>n.createdAt?i:i+1}return e.length};(function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(B2||(B2={}));var Mf,Df,Uf,Yae=function(){function e(){}return e.prototype._invokeResponse=function(n,t,r){var i=this;nn(function(){return T(i,void 0,void 0,function(){return I(this,function(o){switch(n){case"local":this._onCacheResult(t,r);break;case"remote":this._onApiResult(t,r)}return[2]})})})},e.prototype.onCacheResult=function(n){return this._onCacheResult=n,this},e.prototype.onApiResult=function(n){return this._onApiResult=n,this},e}(),Xae=function(){function e(n,t){var r=t.channel,i=t.filter,o=t.startingPoint,u=t.limit,c=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._readReceiptMap=new Map,this._deliveryReceiptMap=new Map,this._iid=n,this._key="mc-".concat(Cs()),this.filter=i!=null?i:new o0,this._channel=r,this._syncRange=new c0({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=o||Date.now()+6e5,this._limit=u||rF;var h=Vr.of(this._iid);h.subscribeGroupChannelEvent(this._key,{onUpdate:function(E,x){var C,M,S,N,D=UF(E,c._channel);if(D>=0)switch(nn(function(){return T(c,void 0,void 0,function(){var de;return I(this,function(De){return de=new Ev(x),this._channel=E[D],this._handler.onChannelUpdated(de,this.channel),[2]})})}),x){case Cn.EVENT_CHANNEL_UPDATED:var H=!1;for(var K in c._messages)if((we=c._messages[K]).createdAt>=c._channel.messageOffsetTimestamp){H=!0;var z=parseInt(K);if(z>0){var W=c._messages.splice(0,z);c._removeMessagesFromView(W.map(function(de){return de.messageId}),wn.EVENT_MESSAGE_OFFSET_UPDATED)}break}!H&&c._messages.length>0&&c._removeMessagesFromView(c._messages.map(function(de){return de.messageId}),wn.EVENT_MESSAGE_OFFSET_UPDATED);break;case Cn.EVENT_CHANNEL_READ:var j=[];try{for(var ce=$e(c._messages),ue=ce.next();!ue.done;ue=ce.next()){var we=ue.value;(oe=c._readReceiptMap.get(we.messageId))>0&&oe!==c._channel.getUnreadMemberCount(we)&&j.push(we)}}catch(de){C={error:de}}finally{try{ue&&!ue.done&&(M=ce.return)&&M.call(ce)}finally{if(C)throw C.error}}j.length>0&&c._updateMessagesToView(j,wn.EVENT_MESSAGE_READ);break;case Cn.EVENT_CHANNEL_DELIVERED:j=[];try{for(var Se=$e(c._messages),ie=Se.next();!ie.done;ie=Se.next()){var oe;we=ie.value,(oe=c._deliveryReceiptMap.get(we.messageId))>0&&oe!==c._channel.getUndeliveredMemberCount(we)&&j.push(we)}}catch(de){S={error:de}}finally{try{ie&&!ie.done&&(N=Se.return)&&N.call(Se)}finally{if(S)throw S.error}}j.length>0&&c._updateMessagesToView(j,wn.EVENT_MESSAGE_READ)}},onRemove:function(E,x){E.indexOf(c.channel.url)>=0&&nn(function(){return T(c,void 0,void 0,function(){var C;return I(this,function(M){return C=new Ev(x),this._handler.onChannelDeleted(C,this.channel.url),[2]})})})}}),h.subscribeMessageEvent(this._key,{onUpdate:function(E,x){var C,M,S=[],N=[];try{for(var D=$e(E),H=D.next();!H.done;H=D.next()){var K=H.value;K.channelUrl===c._channel.url&&(c.filter.match(K)?S.push(K):N.push(K.messageId))}}catch(z){C={error:z}}finally{try{H&&!H.done&&(M=D.return)&&M.call(D)}finally{if(C)throw C.error}}if(ug(x)){if(S.length>0)switch(x){case wn.EVENT_MESSAGE_SENT_FAILED:case wn.EVENT_MESSAGE_SENT_SUCCESS:case wn.EVENT_MESSAGE_UPDATED:case wn.EVENT_MESSAGE_THREADINFO_UPDATED:case wn.EVENT_MESSAGE_REACTION_UPDATED:case wn.SYNC_MESSAGE_CHANGELOGS:c._updateMessagesToView(S,x);break;case wn.EVENT_MESSAGE_SENT_PENDING:case wn.EVENT_MESSAGE_RECEIVED:case wn.SYNC_MESSAGE_FILL:c._addMessagesToView(S,x)}N.length>0&&c._removeMessagesFromView(N,x)}},onRemove:function(E,x){c._removeMessagesFromView(E,x)},onRemoveUnsent:function(E,x){c._removeUnsentMessageFromView(E,x)}});var f=re.of(this._iid).cacheContext;!this._channel.isSuper&&f.localCacheEnabled&&pE.of(this._iid,this._channel).resume(),Wae.of(this._iid,this._channel).resume(),this._prevFill=new Vc(this._key,function(E){return T(c,void 0,void 0,function(){var x,C;return I(this,function(M){switch(M.label){case 0:return[4,this._getRemoteMessages(E,{prevLimit:this._limit,source:wn.SYNC_MESSAGE_FILL})];case 1:return(x=M.sent()).length>0?(C=Math.min.apply(Math,_n([],bn(x.map(function(S){return S.createdAt})),!1)),this._syncRange.extends(C),[2,{hasNext:x.length>=this._limit&&this.viewTop<C,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Vc(this._key,function(E){return T(c,void 0,void 0,function(){var x,C;return I(this,function(M){switch(M.label){case 0:return[4,this._getRemoteMessages(E,{nextLimit:this._limit,source:wn.SYNC_MESSAGE_FILL})];case 1:return(x=M.sent()).length>0?(C=Math.max.apply(Math,_n([],bn(x.map(function(S){return S.createdAt})),!1)),this._syncRange.extends(C),[2,{hasNext:!(x.length>=this._limit&&this._hasNext)||this.viewBottom>C,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})});var v=re.of(this._iid),_=v.dispatcher,y=v.logger;_.on(function(E){E instanceof oo&&(E.stateType===At.CONNECTED?(y.debug("check huge gap"),c._checkHugeGap()):(c._prevFill.stop(),c._nextFill.stop()))})}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return _n([],bn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===qt.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===qt.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,_n(_n([],bn(this._messages.map(function(n){return n.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,_n(_n([],bn(this._messages.map(function(n){return n.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype.setMessageCollectionHandler=function(n){this._handler=n},e.prototype._filterUnderOffsetMessage=function(n){var t=this;return n.filter(function(r){return r.createdAt>=t._channel.messageOffsetTimestamp})},e.prototype._addMessagesToView=function(n,t){var r,i,o=this,u=this._filterUnderOffsetMessage(n),c=[],h=[];try{for(var f=$e(u),v=f.next();!v.done;v=f.next()){var _=v.value;if(_.messageId>0){if((C=gc(this._messages,_))<0){var y=gc(this._unsentMessages,_);y<0?c.push(_):(this._unsentMessages.splice(y,1),h.push(_));var E=LD(this._messages,_);this._messages.splice(E,0,_)}else h.push(_),this._messages[C]=_;if(this._readReceiptMap.set(_.messageId,this._channel.getUnreadMemberCount(_)),this._deliveryReceiptMap.set(_.messageId,this._channel.getUndeliveredMemberCount(_)),_.updatedAt>0){var x=this._updateChildMessagesInView(_);h.push.apply(h,_n([],bn(x),!1))}}else{var C;_ instanceof jr&&((C=gc(this._unsentMessages,_))<0?gc(this._messages,_)<0&&(this._unsentMessages.push(_),c.push(_)):(h.push(_),this._unsentMessages[C]=_))}}}catch(M){r={error:M}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}ug(t)&&nn(function(){return T(o,void 0,void 0,function(){var M;return I(this,function(S){return M=new hE(t),c.length>0&&this._handler.onMessagesAdded(M,this.channel,c),h.length>0&&this._handler.onMessagesUpdated(M,this.channel,h),[2]})})})},e.prototype._updateChildMessagesInView=function(n){var t=[];return this._messages.forEach(function(r){r.applyParentMessage(n)&&t.push(r)}),t},e.prototype._updateMessagesToView=function(n,t){var r,i,o=this,u=[];try{for(var c=$e(n),h=c.next();!h.done;h=c.next()){var f,v=h.value;if(v.messageId>0)if((f=gc(this._messages,v))>=0)u.push(v),this._messages[f]=v;else{var _=gc(this._unsentMessages,v);if(_>=0){u.push(v),this._unsentMessages.splice(_,1);var y=LD(this._messages,v);this._messages.splice(y,0,v)}}else v instanceof jr&&(f=gc(this._unsentMessages,v))>=0&&(u.push(v),this._unsentMessages[f]=v)}}catch(E){r={error:E}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return ug(t)&&nn(function(){return T(o,void 0,void 0,function(){var E;return I(this,function(x){return E=new hE(t),u.length>0&&this._handler.onMessagesUpdated(E,this.channel,u),[2]})})}),u},e.prototype._removeMessagesFromView=function(n,t){var r,i,o=this,u=[],c=function(_){var y=h._messages.findIndex(function(E){return E.messageId===_});y>=0&&(u.push(h._messages[y].messageId),h._messages.splice(y,1))},h=this;try{for(var f=$e(n),v=f.next();!v.done;v=f.next())c(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return ug(t)&&u.length>0&&nn(function(){return T(o,void 0,void 0,function(){var _;return I(this,function(y){return _=new hE(t),u.length>0&&this._handler.onMessagesDeleted(_,this.channel,u),[2]})})}),u},e.prototype._removeUnsentMessageFromView=function(n,t){var r=this._unsentMessages.findIndex(function(i){return i.reqId===n});r>=0&&this._unsentMessages.splice(r,1)},e.prototype._getLocalMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o;return T(this,void 0,void 0,function(){var c,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return c=Vr.of(this._iid),i>0?[4,c.getMessagesFromCache(this._channel.url,n,"prev",this.filter,this._limit)]:[3,2];case 1:return f=x.sent(),[3,3];case 2:f=[],x.label=3;case 3:return h=f,u>0?[4,c.getMessagesFromCache(this._channel.url,n,"next",this.filter,this._limit)]:[3,5];case 4:return _=x.sent(),[3,6];case 5:_=[],x.label=6;case 6:if(v=_,h.length>0&&v.length){for(E in y=h.map(function(C){return C.messageId}),v)if(y.includes(v[E].messageId)){v.splice(parseInt(E),1);break}}return[2,_n(_n([],bn(h),!1),bn(v),!1).sort(function(C,M){return M.createdAt-C.createdAt})]}})})},e.prototype._getRemoteMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o,c=t.source,h=c===void 0?wn.REQUEST_MESSAGE:c;return T(this,void 0,void 0,function(){var f,v;return I(this,function(_){switch(_.label){case 0:return f=ci.of(this._iid),i>0||u>0?[4,f.getMessagesByTimestamp(this._channel.url,this._channel.channelType,n,ne(ne({},this.filter),{prevResultSize:i,nextResultSize:u,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0}),h)]:[3,2];case 1:return v=_.sent(),[3,3];case 2:v=[],_.label=3;case 3:return[2,v]}})})},e.prototype._checkHugeGap=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_=this;return I(this,function(y){switch(y.label){case 0:return this._messages.length>0?(n=this.viewTop,t=this._syncRange.top,r=this._syncRange.bottom,i=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(o=Vr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,n,t)]):[3,4];case 1:return u=y.sent(),[4,o.getCachedMessageCountBetween(this._channel.url,this.filter,r,i)];case 2:return c=y.sent(),[4,Zv(function(){return T(_,void 0,void 0,function(){var E,x,C,M,S,N,D,H,K,z,W,j,ce,ue,we,Se,ie,oe=this;return I(this,function(de){switch(de.label){case 0:return E=re.of(this._iid),x=E.dispatcher,C=E.requestQueue,M=new Kae(ne({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:n,prevEnd:t,prevCount:u,nextStart:r,nextEnd:i,nextCount:c},this.filter)),[4,C.send(M)];case 1:return S=de.sent(),N=S.as(Qae),D=N.isHugeGap,H=N.prevMessages,K=H===void 0?[]:H,z=N.prevHasMore,W=N.nextMessages,j=W===void 0?[]:W,ce=N.nextHasmore,D?nn(function(){return T(oe,void 0,void 0,function(){return I(this,function(De){return this._handler.onHugeGapDetected(),[2]})})}):(this._hasPrevious=z,this._hasNext=ce,ue=this.viewTop,we=this.viewBottom,Se=Math.min.apply(Math,_n([Number.MAX_SAFE_INTEGER],bn(K.map(function(De){return De.createdAt})),!1)),ie=Math.max.apply(Math,_n([0],bn(j.map(function(De){return De.createdAt})),!1)),x.dispatch(new sr({messages:K,source:wn.SYNC_MESSAGE_FILL})),x.dispatch(new sr({messages:j,source:wn.SYNC_MESSAGE_FILL})),this._syncRange.extends(Se,ie),ue<Se&&this._prevFill.start(Se),we>ie&&this._nextFill.start(ie)),[2]}})})},1)];case 3:return y.sent(),[3,6];case 4:return h=Math.floor(this._limit/2),[4,this._getRemoteMessages(Date.now(),{prevLimit:h,nextLimit:h,source:wn.SYNC_MESSAGE_FILL})];case 5:(f=y.sent()).length>0&&((v=this._syncRange).extends.apply(v,_n([],bn(f.map(function(E){return E.createdAt})),!1)),f.length<h&&(this._hasPrevious=!1,this._hasNext=!1)),y.label=6;case 6:return[2]}})})},e.prototype._loadAllFailedMessages=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return[4,Vr.of(this._iid).getAllFailedMessagesFromCache(this._channel.url,this.filter)];case 1:return n=t.sent(),this._unsentMessages=n,[2,n]}})})},e.prototype.initialize=function(n){var t=this,r=new Yae;this._messages=[],this._unsentMessages=[],this._syncRange=new c0({}),this._hasNext=!0,this._hasPrevious=!0;var i=Math.floor(this._limit/2);return n===B2.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u=t._filterUnderOffsetMessage(o);t._addMessagesToView(u,wn.REQUEST_MESSAGE),r._invokeResponse("local",null,u)}).catch(function(o){if(eo(o))throw o;r._invokeResponse("local",o,null)}).finally(function(){t._loadAllFailedMessages(),t._getRemoteMessages(t._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u;t._messages=[];var c=t._filterUnderOffsetMessage(o);c.length<i&&(t._hasPrevious=!1,t._hasNext=!1),c.length>0&&((u=t._syncRange).extends.apply(u,_n([],bn(c.map(function(h){return h.createdAt})),!1)),t._addMessagesToView(c,wn.REQUEST_MESSAGE)),r._invokeResponse("remote",null,c)}).catch(function(o){if(eo(o))throw o;r._invokeResponse("remote",o,null)})}),r},e.prototype.loadPrevious=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o=this;return I(this,function(u){switch(u.label){case 0:return this._hasPrevious?(n=this.viewTop,t=[],[4,Ns(function(){return T(o,void 0,void 0,function(){var c;return I(this,function(h){switch(h.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{prevLimit:this._limit})];case 1:return t=c.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return u.sent(),r=pE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ns(function(){return T(o,void 0,void 0,function(){var c,h;return I(this,function(f){switch(f.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{prevLimit:this._limit})];case 1:return t=c.apply(this,[f.sent()]),this._hasPrevious=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,_n([],bn(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.top)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,wn.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,_n([],bn(t.map(function(c){return c.createdAt})),!1)),this._addMessagesToView(t,wn.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return T(this,void 0,void 0,function(){var n,t,r,i,o=this;return I(this,function(u){switch(u.label){case 0:return n=this.viewBottom,t=[],[4,Ns(function(){return T(o,void 0,void 0,function(){var c;return I(this,function(h){switch(h.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{nextLimit:this._limit})];case 1:return t=c.apply(this,[h.sent()]),[2]}})})})];case 1:return u.sent(),r=pE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ns(function(){return T(o,void 0,void 0,function(){var c,h;return I(this,function(f){switch(f.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{nextLimit:this._limit})];case 1:return t=c.apply(this,[f.sent()]),this._hasNext=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,_n([],bn(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.bottom)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,wn.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,_n([],bn(t.map(function(c){return c.createdAt})),!1)),this._addMessagesToView(t,wn.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t]}})})},e.prototype.removeFailedMessage=function(n){return T(this,void 0,void 0,function(){var t;return I(this,function(r){switch(r.label){case 0:return[4,Vr.of(this._iid).removeFailedMessageFromCache(n)];case 1:return r.sent(),(t=this._unsentMessages.findIndex(function(i){return i.reqId===n}))>-1&&this._unsentMessages.splice(t,1),[2]}})})},e.prototype.dispose=function(){var n=Vr.of(this._iid);n.unsubscribeGroupChannelEvent(this._key),n.unsubscribeMessageEvent(this._key)},e}(),Jae={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Zae={hidePreviousMessages:!1,allowAutoUnhide:!0},ese=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit,c=t.order,h=t.mutedMemberFilter,f=t.memberStateFilter,v=t.nicknameStartsWithFilter,_=t.operatorFilter;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/members"),r.params={token:o,limit:u,order:c,muted_member_filter:h,member_state_filter:f,nickname_startswith:v,operator_filter:_,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return B(n,e),n}(Me),nse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.members=[];var o=r.next,u=r.members;return i.token=o,u&&u.length>0&&(i.members=u.map(function(c){return new ro(t,c)})),i}return B(n,e),n}(Pe);(function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"})(Mf||(Mf={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(Df||(Df={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Uf||(Uf={}));var tse=function(e){function n(t,r,i){var o,u,c,h,f=this;return(f=e.call(this,t,r,Nt.GROUP,i)||this).mutedMemberFilter=Mf.ALL,f.memberStateFilter=Uf.ALL,f.nicknameStartsWithFilter=null,f.operatorFilter=bv.ALL,f.order=Df.MEMBER_NICKNAME_ALPHABETICAL,f.mutedMemberFilter=(o=i.mutedMemberFilter)!==null&&o!==void 0?o:Mf.ALL,f.memberStateFilter=(u=i.memberStateFilter)!==null&&u!==void 0?u:Uf.ALL,f.nicknameStartsWithFilter=(c=i.nicknameStartsWithFilter)!==null&&c!==void 0?c:null,f.order=(h=i.order)!==null&&h!==void 0?h:Df.MEMBER_NICKNAME_ALPHABETICAL,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Tn(Mf,this.mutedMemberFilter)&&Tn(Uf,this.memberStateFilter)&&(J("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&Tn(bv,this.operatorFilter)&&Tn(Df,this.order)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new ese(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(nse),u=o.members,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}($h),rse=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/accept"),r.params={user_id:o,access_code:u},r}return B(n,e),n}(Me),ise=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i.channel.myMemberState=Or.JOINED,i}return B(n,e),n}(Pe),ase=function(e){function n(t){var r=this,i=t.channelUrl,o=t.isDistinct,u=t.isPublic,c=t.isDiscoverable,h=t.coverUrl,f=t.coverImage,v=t.accessCode,_=t.name,y=t.data,E=t.customType,x=t.operatorUserIds,C=t.messageSurvivalSeconds;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i)),r.params=xn({is_distinct:o,is_public:u,is_discoverable:c,name:_,data:y,custom_type:E,cover_url:h,cover_file:f,access_code:v,operator_ids:x,message_survival_seconds:C}),r}return B(n,e),n}(Me),sse=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new us(t,r),i}return B(n,e),n}(Pe),ose=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Hi,"/").concat(encodeURIComponent(i)),r}return B(n,e),n}(Me);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Pe);var lse=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Ae.DELETE,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/hide"),r}return B(n,e),n}(Me);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Pe);var use=function(e){function n(t){var r=t.userId,i=t.channelUrl,o=t.countPreference,u=e.call(this)||this;return u.method=Ae.PUT,u.path="".concat(rt,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(i)),u.params={count_preference:o},u}return B(n,e),n}(Me),cse=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.countPreference=Ra[r.count_preference],i}return B(n,e),n}(Pe),dse=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Ae.PUT,r.path="".concat(Hi,"/").concat(encodeURIComponent(i),"/reset_user_history"),r}return B(n,e),n}(Me),hse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(n,e),n}(Pe),pse=ne(ne({},O3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),fse=ne(ne({},z7),{scheduledAt:null}),mse=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,c=t.channelUrl,h=t.scheduledMessageId;return i.method=Ae.PUT,i.path="".concat(Et(u),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Nh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(f){return e_.payloadify(f)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return fa.payloadify(f)}),apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(Me),gse=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Kr(t,r),i}return B(n,e),n}(Pe),vse=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===pi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,c=t.channelUrl,h=t.scheduledMessageId;return i.method=Ae.PUT,i.path="".concat(Et(u),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Nh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return fa.payloadify(f)}),apple_critical_alert_options:Do.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(Me);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Jr(t,r),i}B(n,e)})(Pe);var Ra,hl,Ma,_se=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Ae.DELETE,r.path="".concat(Et(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u)),r}return B(n,e),n}(Me),bse=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Ae.POST,r.path="".concat(Et(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u),"/send_now"),r}return B(n,e),n}(Me);(function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"})(Ra||(Ra={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(hl||(hl={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Ma||(Ma={}));var Lf,us=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H,K,z=this;return(z=e.call(this,t,r)||this)._unreadMemberStateMap=new Map,z._undeliveredMemberStateMap=new Map,z._typingStatus=new Map,z._lastMemberCountUpdated=0,z._typingStarted=0,z._typingEnded=0,z.isDistinct=!1,z.isSuper=!1,z.isBroadcast=!1,z.isExclusive=!1,z.isPublic=!1,z.isDiscoverable=!0,z.isAccessCodeRequired=!1,z.isPushEnabled=!1,z.unreadMessageCount=0,z.unreadMentionCount=0,z.members=[],z.memberCount=0,z.joinedMemberCount=0,z.hiddenState=Ma.UNHIDDEN,z.lastMessage=null,z.messageOffsetTimestamp=0,z.messageSurvivalSeconds=-1,z.myMemberState=Or.NONE,z.myRole=Ss.NONE,z.myMutedState=hl.UNMUTED,z.myLastRead=0,z.myCountPreference=Ra.ALL,z.myPushTriggerOption=Oc.DEFAULT,z.inviter=null,z.invitedAt=0,z.joinedAt=0,z.channelType=Nt.GROUP,z.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,z.isSuper=(u=r.is_super)!==null&&u!==void 0&&u,z.isBroadcast=(c=r.is_broadcast)!==null&&c!==void 0&&c,z.isExclusive=(h=r.is_exclusive)!==null&&h!==void 0&&h,z.isPublic=(f=r.is_public)!==null&&f!==void 0&&f,z.isDiscoverable=(v=r.is_discoverable)!==null&&v!==void 0?v:z.isPublic,z.isAccessCodeRequired=(_=r.is_access_code_required)!==null&&_!==void 0&&_,z.isPushEnabled=(y=r.is_push_enabled)!==null&&y!==void 0&&y,Array.isArray(r.members)&&(i=z.members).push.apply(i,_n([],bn(r.members.map(function(W){return new ro(z._iid,W)})),!1)),z.memberCount=(E=r.member_count)!==null&&E!==void 0?E:0,z.joinedMemberCount=(x=r.joined_member_count)!==null&&x!==void 0?x:0,z.hiddenState=Tn(Ma,r.hidden_state)?r.hidden_state:Ma.UNHIDDEN,z.messageOffsetTimestamp=(C=r.ts_message_offset)!==null&&C!==void 0?C:0,z.messageSurvivalSeconds=(M=r.message_survival_seconds)!==null&&M!==void 0?M:-1,z.lastMessage=r.last_message?Ms(z._iid,ne({channel_type:z.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(W){J("number",r.read_receipt[W])&&z._updateUnreadMemberState(W,r.read_receipt[W])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(W){J("number",r.delivery_receipt[W])&&z._updateUndeliveredMemberState(W,r.delivery_receipt[W])}),z.myMemberState=Tn(Or,r.member_state)?r.member_state:Or.NONE,z.myRole=Tn(Ss,r.my_role)?r.my_role:Ss.NONE,Tn(hl,r.is_muted)?z.myMutedState=r.is_muted:J("boolean",r.is_muted)?z.myMutedState=r.is_muted?hl.MUTED:hl.UNMUTED:z.myMutedState=hl.UNMUTED,z.myCountPreference=Tn(Ra,r.count_preference)?r.count_preference:Ra.ALL,z.myPushTriggerOption=Tn(Oc,r.push_trigger_option)?r.push_trigger_option:Oc.ALL,z.myLastRead=(S=r.user_last_read)!==null&&S!==void 0?S:0,z.inviter=r.inviter?new Dn(z._iid,r.inviter):null,z.invitedAt=(N=r.invited_at)!==null&&N!==void 0?N:0,z.joinedAt=(D=r.joined_ts)!==null&&D!==void 0?D:0,z._updateUnreadCount((H=r.unread_message_count)!==null&&H!==void 0?H:0,(K=r.unread_mention_count)!==null&&K!==void 0?K:0),z}return B(n,e),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.hiddenState!==Ma.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return Object.keys(this._typingStatus).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUnreadMemberState",{get:function(){var t,r,i={};try{for(var o=$e(this._unreadMemberStateMap),u=o.next();!u.done;u=o.next()){var c=bn(u.value,2),h=c[0],f=c[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUndeliveredMemberState",{get:function(){var t,r,i={};try{for(var o=$e(this._undeliveredMemberStateMap),u=o.next();!u.done;u=o.next()){var c=bn(u.value,2),h=c[0],f=c[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?xn(ne(ne({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map(function(r){return ro.payloadify(r)}),last_message:t_(t.lastMessage),inviter:t.inviter?Dn.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt})):null},n.prototype._updateUnreadCount=function(t,r){if(typeof t=="number"&&t>=0)if(this.myCountPreference===Ra.ALL||this.myCountPreference===Ra.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var i=re.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=i&&t>=i?i:t}else this.unreadMessageCount=t;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Ra.ALL||this.myCountPreference===Ra.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},n.prototype._updateUnreadMemberState=function(t,r){var i=this._unreadMemberStateMap.get(t);return(!i||i<r)&&(this._unreadMemberStateMap.set(t,r),re.of(this._iid).sdkState.userId===t&&(this.myLastRead=r),!0)},n.prototype._updateUndeliveredMemberState=function(t,r){var i=this._undeliveredMemberStateMap.get(t);(!i||i<r)&&this._undeliveredMemberStateMap.set(t,r)},n.prototype._updateTypingStatus=function(t,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus[t.userId]={user:t,ts:r}:delete this._typingStatus[t.userId]},n.prototype._invalidateTypingStatus=function(){var t=new Date().getTime(),r=!1;for(var i in this._typingStatus)t-this._typingStatus[i].ts>=1e4&&(delete this._typingStatus[i],r=!0);return r},n.prototype._setLatestMemberCount=function(t,r,i){var o=!1;return i>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=i,o=t!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=t,this.joinedMemberCount=r),o},n.prototype.isReadMessage=function(t){var r=re.of(this._iid).sdkState,i=this._unreadMemberStateMap.get(r.userId);return i&&i>=t.createdAt},n.prototype.serialize=function(){var t=this;return y0(this,function(r){r.cachedUnreadMemberState=t.cachedUnreadMemberState,r.cachedUndeliveredMemberState=t.cachedUndeliveredMemberState})},n.prototype.createMessageCollection=function(t){return t===void 0&&(t={}),new Xae(this._iid,ne({channel:this},t))},n.prototype.createMemberListQuery=function(t){return t===void 0&&(t={}),new tse(this._iid,this.url,t)},n.prototype.addMember=function(t,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var i=this.members.findIndex(function(u){return u.userId===t.userId});if(i>-1){var o=this.members[i];o.state===Or.JOINED&&(t.state=o.state),this.members.splice(i,1),this.memberCount--}this.members.push(t),this.memberCount++,this._updateUnreadMemberState(t.userId,r),this._updateUndeliveredMemberState(t.userId,r)}},n.prototype.removeMember=function(t){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=this.members.findIndex(function(i){return i.userId===t.userId});if(r>-1)return this.members.splice(r,1),this.memberCount--,!0}return!1},n.prototype.getUnreadMemberCount=function(t){var r,i;if(t instanceof jr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=re.of(this._iid).sdkState,u=t.createdAt,c=0;try{for(var h=$e(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Or.JOINED&&t.sender.userId!==v.userId&&(this.cachedUnreadMemberState[v.userId]||0)<u&&c++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c}return 0},n.prototype.getUndeliveredMemberCount=function(t){var r,i;if(t instanceof jr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=re.of(this._iid).sdkState,u=t.createdAt,c=0;try{for(var h=$e(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Or.JOINED&&t.sender.userId!==v.userId&&(this.cachedUndeliveredMemberState[v.userId]||0)<u&&c++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c}return 0},n.prototype.getReadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=re.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(c){(r||c.userId!==o.userId&&c.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(c.userId)>=t.createdAt&&u.push(c)}),u},n.prototype.getUnreadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=re.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(c){(r||c.userId!==o.userId&&c.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(c.userId)<t.createdAt&&u.push(c)}),u},n.prototype.getReadStatus=function(t){var r=this;t===void 0&&(t=!1);var i=re.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(u){if(t||u.userId!==i.userId){var c=r._unreadMemberStateMap.get(u.userId);o[u.userId]=new NF(r._iid,{channel_url:r.url,channel_type:r.channelType,user:ro.payloadify(u),ts:c})}}),o},n.prototype.getTypingUsers=function(){var t=[];for(var r in this._typingStatus){var i=this._typingStatus[r].user;t.push(i)}return t},n.prototype.invalidateTypingStatus=function(){var t=re.of(this._iid).typingIndicatorInvalidateTime,r=new Date().getTime(),i=!1;for(var o in this._typingStatus)r-this._typingStatus[o].ts>=t&&(delete this._typingStatus[o],i=!0);return i},n.prototype.refresh=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid),r=t.requestQueue,i=t.dispatcher,o=new AF({channelUrl:this.url}),[4,r.send(o)];case 1:return u=h.sent(),c=u.as(RF).channel,i.dispatch(new st({channels:[c],source:Cn.REQUEST_CHANNEL})),[2,c]}})})},n.prototype.freeze=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),re.of(this._iid).dispatcher.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_HIDDEN})),[2]}})})},n.prototype.unfreeze=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),re.of(this._iid).dispatcher.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},n.prototype.updateChannel=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return t=ne(ne({},Jae),t),Fe(function(v){return J("string",v.coverUrl,!0)&&(Di(v.coverImage)||J("string",v.coverImage)||v.coverImage===null)&&J("boolean",v.isDistinct,!0)&&J("boolean",v.isPublic,!0)&&J("boolean",v.isDiscoverable,!0)&&J("string",v.accessCode,!0)&&J("string",v.name,!0)&&J("string",v.data,!0)&&J("string",v.customType,!0)&&On("string",v.operatorUserIds,!0)&&J("number",v.messageSurvivalSeconds,!0)}(t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new ase(ne({channelUrl:this.url},t)),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(sse).channel,i.dispatch(new st({channels:[h],source:Cn.EVENT_CHANNEL_UPDATED})),[2,h]}})})},n.prototype.invite=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(t.every(function(i){return i instanceof Dn})).throw(le.invalidParameters),[2,this.inviteWithUserIds(t.map(function(i){return i.userId}))]})})},n.prototype.inviteWithUserIds=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h;return I(this,function(f){switch(f.label){case 0:return Fe(On("string",t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new Iae({channelUrl:this.url,userIds:t}),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(Oae).channel,i.dispatch(new st({channels:[h],source:Cn.EVENT_CHANNEL_INVITED})),[2,h]}})})},n.prototype.join=function(t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(J("string",t)||t===null).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new kae({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(c)];case 1:return h=v.sent(),(f=h.as(Cae).channel).myMemberState=Or.JOINED,i.dispatch(new st({channels:[f],source:Cn.EVENT_CHANNEL_JOINED})),[2,this]}})})},n.prototype.leave=function(t){return t===void 0&&(t=!1),T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(c){switch(c.label){case 0:return r=re.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Nae({channelUrl:this.url,userId:i.userId,shouldRemoveOperatorStatus:t}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.acceptInvitation=function(t){return t===void 0&&(t=null),T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(J("string",t)||t===null).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new rse({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(c)];case 1:return h=v.sent(),(f=h.as(ise).channel).myMemberState=Or.JOINED,i.dispatch(new st({channels:[f],source:Cn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,f]}})})},n.prototype.declineInvitation=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Rae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u=h.sent(),(c=u.as(Mae).channel).myMemberState=Or.NONE,[2,c]}})})},n.prototype.sendUserMessage=function(t){var r=this,i=new ll,o=re.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Vr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new st({channels:[r],source:Cn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype._autoResendUserMessage=function(t){var r=this,i=new ll,o=re.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Vr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new st({channels:[r],source:Cn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype.sendFileMessage=function(t){var r=this,i=new ll,o=re.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Vr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new st({channels:[r],source:Cn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype._autoResendFileMessage=function(t){var r=this,i=new ll,o=re.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Vr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new st({channels:[r],source:Cn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype.deleteMessage=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return r.sent(),t.messageId===0&&re.of(this._iid).dispatcher.dispatch(new B7({reqId:t.reqId,source:wn.EVENT_MESSAGE_DELETED})),[2]}})})},n.prototype.hide=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return t=ne(ne({},Zae),t),Fe(function(_){return J("boolean",_.hidePreviousMessages)&&J("boolean",_.allowAutoUnhide)}(t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new Fae(ne({channelUrl:this.url,userId:o.userId},t)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(Hae).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?Ma.HIDDEN_ALLOW_AUTO_UNHIDE:Ma.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),f&&(this.messageOffsetTimestamp=f),i.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},n.prototype.unhide=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=re.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new lse({channelUrl:this.url}),[4,i.send(o)];case 1:return u.sent(),this.hiddenState=Ma.UNHIDDEN,r.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},n.prototype.delete=function(){return T(this,void 0,void 0,function(){var t,r;return I(this,function(i){switch(i.label){case 0:return t=re.of(this._iid).requestQueue,r=new ose({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return I(this,function(v){switch(v.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=new Uae({channelUrl:this.url}),[4,o.send(u)];case 1:return c=v.sent(),h=c.as(MF).readStatus,this._updateUnreadMemberState(r.userId,h.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Vr.of(this._iid).handlers.map(function(_){return _.onChannelChanged(f)})),i.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_READ})),[2]}})})},n.prototype.markAsDelivered=function(){return T(this,void 0,void 0,function(){var t,r,i,o;return I(this,function(u){switch(u.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Lae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.startTyping=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){return t=re.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=i&&(this._typingStarted=o,this._typingEnded=0,u=new Bae({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},n.prototype.endTyping=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){return t=re.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=i&&(this._typingStarted=0,this._typingEnded=o,u=new $ae({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},n.prototype.createScheduledUserMessage=function(t){t=ne(ne({},gre),t),Fe(vre(t)).throw(le.invalidParameters);var r=new ll;return this._createScheduledUserMessage(t,r),r},n.prototype.updateScheduledUserMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(c){switch(c.label){case 0:return r=ne(ne({},fse),r),Fe(function(h){return j7(h)&&J("number",h.scheduledAt,!0)}(r)).throw(le.invalidParameters),i=re.of(this._iid).requestQueue,o=new vse(ne({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r)),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(eF).message]}})})},n.prototype.createScheduledFileMessage=function(t){var r=this;t=ne(ne({},_re),t),Fe(bre(t)).throw(le.invalidParameters);var i=re.of(this._iid).dispatcher,o=Date.now(),u=this._generateRequestId(),c=new ll;return bs(hre).then(function(){var h=r._createPendingScheduledFileMessage(t,u,o);i.dispatch(new sr({messages:[h],source:wn.EVENT_MESSAGE_SENT_PENDING})),nn(function(){return T(r,void 0,void 0,function(){return I(this,function(f){return[2,c._trigger(null,h)]})})})}),Di(t.file)?this._uploadFileAndUpdateParams(t).then(function(){return r._createScheduledFileMessage(t,c,u,o)}):this._createScheduledFileMessage(t,c,u,o),c},n.prototype.updateScheduledFileMessage=function(t,r){return T(this,void 0,void 0,function(){var i,o;return I(this,function(u){switch(u.label){case 0:return r=ne(ne({},pse),r),Fe(function(c){return A3(c)&&J("number",c.scheduledAt,!0)&&(Di(c.file)||J("string",c.fileUrl))&&J("string",c.fileName,!0)&&J("string",c.mimeType,!0)&&J("number",c.fileSize,!0)&&(c.thumbnailSizes===null||c.thumbnailSizes.every(function(h){return J("object",h)&&h.maxWidth>0&&h.maxHeight>0}))}(r)).throw(le.invalidParameters),Di(r.file)?[4,this._uploadFileAndUpdateParams(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return i=new mse(ne(ne({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r),{fileUrl:r.fileUrl,requireAuth:r.requireAuth})),[4,re.of(this._iid).requestQueue.send(i)];case 3:return o=u.sent(),[2,o.as(gse).message]}})})},n.prototype.cancelScheduledMessage=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=new _se({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,re.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.sendScheduledMessageNow=function(t){return T(this,void 0,void 0,function(){var r;return I(this,function(i){switch(i.label){case 0:return r=new bse({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,re.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.getMyPushTriggerOption=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u;return I(this,function(c){switch(c.label){case 0:return t=re.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new lF({userId:r.userId}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(uF).pushTriggerOption]}})})},n.prototype.setMyPushTriggerOption=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return Fe(Tn(Oc,t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new cF({userId:i.userId,pushTriggerOption:t}),[4,o.send(u)];case 1:return c=h.sent(),[2,c.as(dF).pushTriggerOption]}})})},n.prototype.setMyCountPreference=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return I(this,function(v){switch(v.label){case 0:return Fe(Tn(Ra,t)).throw(le.invalidParameters),r=re.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new use({channelUrl:this.url,userId:o.userId,countPreference:t}),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(cse).countPreference,this.myCountPreference=f,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),i.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_CREATED})),[2,f]}})})},n.prototype.resetMyHistory=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return t=re.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new dse({channelUrl:this.url}),[4,i.send(o)];case 1:return u=h.sent(),c=u.as(hse).messageOffsetTimestamp,this.messageOffsetTimestamp=c,r.dispatch(new st({channels:[this],source:Cn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},n.prototype._uploadFileAndUpdateParams=function(t){return T(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_,y,E;return I(this,function(x){switch(x.label){case 0:return Di(t.file)?(r=re.of(this._iid).requestQueue,i=new F7({file:t.file,channelUrl:this.url,thumbnailSizes:t.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(i)]):[3,2];case 1:o=x.sent(),u=o.as(H7),c=u.url,h=u.fileSize,f=h===void 0?t.fileSize:h,v=u.thumbnailSizes,_=v===void 0?t.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,t.fileUrl=c,t.fileSize=f,t.thumbnailSizes=_,t.requireAuth=E,x.label=2;case 2:return[2]}})})},n}(M2),fE={},PD=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadata=null,this._iid=t;var i,o=re.of(this._iid),u=o.sdkState,c=o.logger;this._metadataKey=(i=u.userId,"sendbird:".concat(i,"@groupchannel/sync.meta"));var h=function(f){return"sendbird:".concat(f,"@groupchannel/sync")}(u.userId);this._sync=new Vc(h,function(){return T(r,void 0,void 0,function(){var f,v,_,y,E,x;return I(this,function(C){switch(C.label){case 0:return f={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(C.sent(),c.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];C.label=2;case 2:return C.trys.push([2,5,,8]),[4,Vr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:Qr.CHRONOLOGICAL},100,Cn.SYNC_CHANNEL_BACKGROUND)];case 3:return v=C.sent(),_=v.channels,y=v.token,f.hasNext=_.length>=100&&!!y,f.nextToken=y,this._metadata.token=y,(x=this._metadata.range).extends.apply(x,_n([],bn(_.map(function(M){return M.createdAt})),!1)),this._metadata.completed=!f.hasNext,c.debug("channel background sync progress",f),[4,this.saveMetadata()];case 4:return C.sent(),[3,8];case 5:return(E=C.sent())instanceof le&&E.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:C.sent(),C.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[3,10];case 9:f.hasNext=!1,f.nextToken="",C.label=10;case 10:return[2,f]}})})})}return e.of=function(n){if(!fE[n]){var t=fE[n]=new e({_iid:n});re.of(n).dispatcher.on(function(r){r instanceof oo&&(r.stateType===At.CONNECTED?t.resume():t.pause())})}return fE[n]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var n;return I(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,re.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={token:n?n.token:"",range:new c0(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!n&&n.completed},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this._metadata?[4,re.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetaData=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,re.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),[2]}})})},e.prototype.resume=function(){var n,t;re.of(this._iid).logger.debug("channel background sync resume()"),this._sync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.token)!==null&&t!==void 0?t:"")},e.prototype.pause=function(){re.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e}(),mE={},yse=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadataKey=null,this._metadata=null,this._iid=t;var i,o=re.of(this._iid).sdkState;this._metadataKey=(i=o.userId,"sendbird:".concat(i,"@groupchannel/changelogs.meta"));var u=function(c){return"sendbird:".concat(c,"@groupchannel/changelogs")}(o.userId);this._sync=new Vc(u,function(){return T(r,void 0,void 0,function(){var c,h,f,v,_;return I(this,function(y){switch(y.label){case 0:return c={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,5,,8]),[4,Vr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},Cn.SYNC_CHANNEL_CHANGELOGS)];case 3:return h=y.sent(),f=h.hasMore,v=h.token,c.hasNext=f,c.nextToken=v,this._metadata.token=v,[4,this.saveMetadata()];case 4:return y.sent(),[3,8];case 5:return(_=y.sent())instanceof le&&_.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:y.sent(),y.label=7;case 7:return c.hasNext=!1,c.nextToken="",[3,8];case 8:return[2,c]}})})})}return e.of=function(n){if(!mE[n]){var t=mE[n]=new e({_iid:n});re.of(n).dispatcher.on(function(r){r instanceof oo&&(r.stateType===At.CONNECTED?t.resume():t.pause())})}return mE[n]},e.prototype.loadMetadata=function(){return T(this,void 0,void 0,function(){var n,t,r,i;return I(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=re.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this._metadata?[4,re.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return T(this,void 0,void 0,function(){return I(this,function(n){return re.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),Ese=function(){function e(n,t){var r=t.filter,i=t.order,o=t.limit,u=this;this.channels=[],this._iid=n,this._key="gcc-".concat(Cs()),this.filter=r!=null?r:new TF,this.order=i!=null?i:Qr.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o!=null?o:nF;var c=re.of(this._iid),h=c.sdkState;c.cacheContext.localCacheEnabled&&PD.of(n).resume(),yse.of(n).resume(),Vr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(f,v){var _=f.filter(function(E){return u.filter.match(E,h.userId)}),y=f.filter(function(E){return!u.filter.match(E,h.userId)}).map(function(E){return E.url});_.length>0&&u._addChannelsToView(_,v),y.length>0&&u._removeChannelsFromView(y,v)},onRemove:function(f,v){u._removeChannelsFromView(f,v)}})}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(n){this._handler=n},e.prototype._addChannelsToView=function(n,t,r){var i,o,u=this;r===void 0&&(r=!1);var c=[],h=[];try{for(var f=$e(n),v=f.next();!v.done;v=f.next()){var _=v.value,y=DD(this.channels,_,this.order),E=y.place;if(y.contains)switch(h.push(_),t){case Cn.EVENT_CHANNEL_UPDATED:case Cn.EVENT_MESSAGE_RECEIVED:this.channels.splice(E,1);var x=DD(this.channels,_,this.order).place;this.channels.splice(x,0,_);break;default:this.channels[E]=_}else if(E===this.channels.length){var C=PD.of(this._iid);(r||C.completed)&&(c.push(_),this.channels.push(_))}else c.push(_),this.channels.splice(E,0,_)}}catch(M){i={error:M}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}OD(t)&&nn(function(){return T(u,void 0,void 0,function(){var M;return I(this,function(S){return M=new Ev(t),c.length>0&&this._handler.onChannelsAdded(M,c),h.length>0&&this._handler.onChannelsUpdated(M,h),[2]})})})},e.prototype._removeChannelsFromView=function(n,t){var r,i,o=this,u=[],c=function(_){var y=h.channels.findIndex(function(E){return E.url===_});y>=0&&(u.push(h.channels[y].url),h.channels.splice(y,1))},h=this;try{for(var f=$e(n),v=f.next();!v.done;v=f.next())c(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return OD(t)&&u.length>0&&nn(function(){return T(o,void 0,void 0,function(){var _;return I(this,function(y){return _=new Ev(t),this._handler.onChannelsDeleted(_,u),[2]})})}),u},e.prototype._getLocalChannels=function(){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,Vr.of(this._iid).getChannelsFromCache(this._token,this.filter,this.order)];case 1:return[2,n.sent()]}})})},e.prototype._getRemoteChannels=function(){return T(this,void 0,void 0,function(){var n,t,r;return I(this,function(i){switch(i.label){case 0:return[4,Vr.of(this._iid).getMyGroupChannels(this._token,ne(ne({},this.filter),{order:this.order}),this._limit)];case 1:return n=i.sent(),t=n.channels,r=n.token,this._token=r,[2,t]}})})},e.prototype.loadMore=function(){return T(this,void 0,void 0,function(){var n,t=this;return I(this,function(r){switch(r.label){case 0:return this._hasMore?(n=[],[4,Ns(function(){return T(t,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._getLocalChannels()];case 1:return n=i.sent(),[2]}})})})]):[3,3];case 1:return r.sent(),[4,Ns(function(){return T(t,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._getRemoteChannels()];case 1:return n=i.sent(),[2]}})})})];case 2:return r.sent(),this._addChannelsToView(n,Cn.REQUEST_CHANNEL,!0),[2,n];case 3:return[2,[]]}})})},e.prototype.dispose=function(){Vr.of(this._iid).unsubscribeGroupChannelEvent(this._key)},e}(),wse=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.order,c=t.includeEmpty,h=t.membershipFilter,f=t.channelNameContainsFilter,v=t.channelUrlsFilter,_=t.customTypesFilter,y=t.customTypeStartsWithFilter,E=t.superChannelFilter,x=t.metadataOrderKeyFilter,C=t.metadataKey,M=t.metadataValues,S=t.metadataValueStartsWith,N=t.includeFrozen,D=t.includeMetaData;return(r=e.call(this)||this).method=Ae.GET,r.path=Hi,r.params=xn({token:i,limit:o,order:u,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:c,public_mode:El.PUBLIC,public_membership_mode:h,name_contains:f,channel_urls:v,custom_types:_,custom_type_startswith:y,super_mode:E,metadata_order_key:x,metadata_key:C,metadata_values:M,metadata_value_startswith:S,show_frozen:N,show_metadata:D}),r}return B(n,e),n}(Me),xse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=c,new us(t,h)})),i.ts=typeof c=="number"?c:null,i}return B(n,e),n}(Pe);(function(e){e.ALL="all",e.JOINED="joined"})(Lf||(Lf={}));var kse=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,x,C,M,S,N=this;return(N=e.call(this,t,r)||this).includeEmpty=!1,N.includeFrozen=!0,N.includeMetaData=!0,N.channelUrlsFilter=null,N.customTypesFilter=null,N.customTypeStartsWithFilter=null,N.nicknameContainsFilter=null,N.channelNameContainsFilter=null,N.membershipFilter=Lf.ALL,N.superChannelFilter=Ga.ALL,N.metadataKey=null,N.metadataValues=null,N.metadataOrderKeyFilter=null,N.metadataValueStartsWith=null,N.order=Af.CHRONOLOGICAL,N.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,N.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,N.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,N.channelUrlsFilter=(c=r.channelUrlsFilter)!==null&&c!==void 0?c:null,N.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,N.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:null,N.channelNameContainsFilter=(v=r.channelNameContainsFilter)!==null&&v!==void 0?v:null,N.membershipFilter=(_=r.membershipFilter)!==null&&_!==void 0?_:Lf.ALL,N.superChannelFilter=(y=r.superChannelFilter)!==null&&y!==void 0?y:Ga.ALL,N.metadataKey=(E=r.metadataKey)!==null&&E!==void 0?E:null,N.metadataValues=(x=r.metadataValues)!==null&&x!==void 0?x:null,N.metadataOrderKeyFilter=(C=r.metadataOrderKeyFilter)!==null&&C!==void 0?C:null,N.metadataValueStartsWith=(M=r.metadataValueStartsWith)!==null&&M!==void 0?M:null,N.order=(S=r.order)!==null&&S!==void 0?S:Af.CHRONOLOGICAL,N}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter,!0)&&On("string",this.channelUrlsFilter,!0)&&On("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter,!0)&&Tn(Lf,this.membershipFilter)&&Tn(Ga,this.superChannelFilter)&&Tn(Af,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&On("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return I(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=re.of(this._iid),i=r.requestQueue,o=r.dispatcher,u=new wse(ne(ne({},this),{token:this._token})),[4,i.send(u)]):[3,2]):[3,5];case 1:return c=_.sent(),h=c.as(xse),f=h.channels,v=h.token,this._token=v,this._hasNext=!!v,o.dispatch(new st({channels:f,source:Cn.REQUEST_CHANNEL})),this._isLoading=!1,[2,f];case 2:return[2,t];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),Cse=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserJoined=Pn,t.onUserLeft=Pn,t.onUserReceivedInvitation=Pn,t.onUserDeclinedInvitation=Pn,t.onChannelHidden=Pn,t.onUnreadMemberStatusUpdated=Pn,t.onUndeliveredMemberStatusUpdated=Pn,t.onTypingStatusUpdated=Pn,t}return B(n,e),n}(xF)),Sse=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.order,c=t.reverse,h=t.channelUrl,f=t.messageTypeFilter,v=t.scheduledStatus;return(r=e.call(this)||this).method=Ae.GET,r.path="".concat(M7),r.params=xn({limit:o,reverse:c,channel_url:h,order:u,status:v}),i&&(r.params.token=i),f&&(r.params.message_type_filter=f),r}return B(n,e),n}(Me),Nse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.scheduledMessages=[];var o=r.next,u=r.scheduled_messages;return i.token=o,i.scheduledMessages=u.map(function(c){return Ms(t,c)}),i}return B(n,e),n}(Pe),Tse=function(e){function n(t,r){var i,o,u,c,h,f=this;return(f=e.call(this,t,r)||this).channelUrl=null,f.order=null,f.reverse=!1,f.scheduledStatus=null,f.messageTypeFilter=di.ALL,f.channelUrl=(i=r.channelUrl)!==null&&i!==void 0?i:null,f.order=(o=r.order)!==null&&o!==void 0?o:null,f.reverse=(u=r.reverse)!==null&&u!==void 0&&u,f.scheduledStatus=(c=r.scheduledStatus)!==null&&c!==void 0?c:null,f.messageTypeFilter=(h=r.messageTypeFilter)!==null&&h!==void 0?h:di.ALL,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.channelUrl,!0)&&(Tn(U2,this.order)||this.order===null)&&J("boolean",this.reverse)&&(On(fu,this.scheduledStatus)||this.scheduledStatus===null)&&Tn(di,this.messageTypeFilter)},n.prototype.next=function(){return T(this,void 0,void 0,function(){var t,r,i,o,u,c;return I(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=re.of(this._iid).requestQueue,r=new Sse(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Nse),u=o.scheduledMessages,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw le.queryInProgress;case 4:return[3,6];case 5:throw le.invalidParameters;case 6:return[2]}})})},n}(Nl),Ise=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new Vr(t,{sdkState:i,cacheContext:v,dispatcher:o,sessionManager:u,requestQueue:c,logger:h})},n.prototype.createGroupChannelCollection=function(t){return t===void 0&&(t={}),new Ese(this._iid,t)},n.prototype.createMyGroupChannelListQuery=function(t){return t===void 0&&(t={}),new DF(this._iid,t)},n.prototype.createPublicGroupChannelListQuery=function(t){return t===void 0&&(t={}),new kse(this._iid,t)},n.prototype.createScheduledMessageListQuery=function(t){return t===void 0&&(t={}),new Tse(this._iid,t)},n.prototype.addGroupChannelHandler=function(t,r){Fe(J("string",t)&&r instanceof Cse).throw(le.invalidParameters),this._manager.addHandler(t,r)},n.prototype.removeGroupChannelHandler=function(t){Fe(J("string",t)).throw(le.invalidParameters),this._manager.removeHandler(t)},n.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildGroupChannelFromSerializedData=function(t){return this._manager.buildGroupChannelFromSerializedData(t)},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){return this._manager.buildGroupChannelListQueryFromSerializedData(t)},n.prototype.buildMemberFromSerializedData=function(t){return this._manager.buildMemberFromSerializedData(t)},n.prototype.getChannel=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(J("string",t)).throw(le.invalidParameters),[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.getMyGroupChannelChangeLogsByToken=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},yv),r),Fe(J("string",t)&&q2(r)).throw(le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMyGroupChannelChangeLogsByTimestamp=function(t,r){return T(this,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r=ne(ne({},yv),r),Fe(J("number",t)&&q2(r)).throw(le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getGroupChannelCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ne(ne({},IF),t),Fe(OF(t)).throw(le.invalidParameters),[2,this._manager.getGroupChannelCount(t)]})})},n.prototype.getUnreadItemCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalUnreadChannelCount=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,t.sent()]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){return this._manager.getSubscribedCustomTypeUnreadMessageCount(t)},n.prototype.createChannel=function(t){return t===void 0&&(t={}),T(this,void 0,void 0,function(){return I(this,function(r){return t=ne(ne({},Ug),t),Fe(H2(t)).throw(le.invalidParameters),[2,this._manager.createChannel(t)]})})},n.prototype.createDistinctChannelIfNotExist=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return t=ne(ne({},Ug),t),Fe(H2(t)).throw(le.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]})})},n.prototype.createChannelWithUserIds=function(t,r,i,o,u,c){return r===void 0&&(r=!1),i===void 0&&(i=null),o===void 0&&(o=null),u===void 0&&(u=""),c===void 0&&(c=""),T(this,void 0,void 0,function(){var h;return I(this,function(f){return h=ne(ne({},Ug),{invitedUserIds:t,isDistinct:r,name:i,data:u,customType:c}),typeof o=="string"?h.coverUrl=o:h.coverImage=o,[2,this.createChannel(h)]})})},n.prototype.markAsReadAll=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this._manager.markAsReadAll(),[2]})})},n.prototype.markAsReadWithChannelUrls=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){return Fe(On("string",t)).throw(le.invalidParameters),this._manager.markAsReadWithChannelUrls(t),[2]})})},n.prototype.markAsDelivered=function(t){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return Fe(J("string",t)).throw(le.invalidParameters),[4,this.getChannel(t)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},n}(x3),LF="INIT_USER",U3="RESET_USER",PF="UPDATE_USER_INFO";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var G2=function(e,n){return G2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},G2(e,n)};function Ose(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");G2(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var on=function(){return on=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},on.apply(this,arguments)};function qn(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var FF={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},Ase={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},Rse={NONE:"NONE",PENDING:"PENDING",SENT:"SENT",FAILED:"FAILED",DELIVERED:"DELIVERED",READ:"READ"},FD=function(n){return n===""||n===null},HF=function(n){return FF.IMAGE.indexOf(n)>=0},qF=function(n){return FF.VIDEO.indexOf(n)>=0},HD=function(n){return HF(n)||qF(n)},BF=function(){return on({},Rse)},GF=function(){return on({},Ase)},Mse=function(n,t){return Array.isArray(t)?qn(qn([],n,!0),t,!0):(n.push(t),n)},$2=function(n){return Array.isArray(n)?n.reduce(Mse,[]).join(" "):n},Dse=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,qD=function(n){return Dse.test(n)},cl;(function(e){e[e.normal=0]="normal",e[e.mention=1]="mention",e[e.url=2]="url"})(cl||(cl={}));var Use=function(n,t,r){for(var i=t||[],o=r||"@",u=[],c=RegExp("".concat(o,"{(").concat(i.map(function(y){return y==null?void 0:y.userId}).join("|"),")}"),"g"),h,f=0,v=function(){var E=h[0],x=h[1],C=c.lastIndex,M=C-E.length,S=n.slice(f,M);u.push({type:qD(S)?cl.url:cl.normal,value:S});var N=i.find(function(D){return(D==null?void 0:D.userId)===x});N?u.push({type:cl.mention,value:(N==null?void 0:N.nickname)||"(No name)",userId:x}):u.push({type:cl.normal,value:E}),f=C};(h=c.exec(n))!==null;)v();if(f<n.length){var _=n.slice(f);u.push({type:qD(_)?cl.url:cl.normal,value:_})}return u},Lse=function(n,t){if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return!1};/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Aa.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function BD(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(f){var v=typeof f=="string",_=v&&f.trim().charAt(0)==="<";return v&&!_}function u(f,v){t.onError(f,r[v],v)}function c(f,v){var _=t.onSuccess(f,r[v],v);f=_===!1?"":_||f,i[v]=f,i.indexOf(null)===-1&&t.onComplete(i)}var h=document.createElement("a");r.forEach(function(f,v){h.setAttribute("href",f),h.href=String(h.href);var _=Boolean(document.all&&!window.atob),y=_&&h.host.split(":")[0]!==location.host.split(":")[0];if(y){var E=h.protocol===location.protocol;if(E){var x=new XDomainRequest;x.open("GET",f),x.timeout=0,x.onprogress=Function.prototype,x.ontimeout=Function.prototype,x.onload=function(){var M=x.responseText;o(M)?c(M,v):u(x,v)},x.onerror=function(M){u(x,v)},setTimeout(function(){x.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(f,")")),u(null,v)}else{var C=new XMLHttpRequest;C.open("GET",f),t.mimeType&&C.overrideMimeType&&C.overrideMimeType(t.mimeType),t.onBeforeSend(C,f,v),C.onreadystatechange=function(){if(C.readyState===4){var M=C.responseText;C.status<400&&o(M)||C.status===0&&o(M)?c(M,v):u(C,v)}},C.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function GD(e){var n={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:e.skipDisabled!==!1,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(f){return!Pse(f,t.exclude)}),i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(){var f=i.indexOf(null)===-1;if(f){i.reduce(function(_,y,E){return y===""&&_.push(E),_},[]).reverse().forEach(function(_){return[r,i].forEach(function(y){return y.splice(_,1)})});var v=i.join("");t.onComplete(v,i,r)}}function u(f,v,_,y){var E=t.onSuccess(f,_,y);f=E!==void 0&&Boolean(E)===!1?"":E||f,h(f,_,y,function(x,C){i[v]===null&&(C.forEach(function(M){return t.onError(M.xhr,_,M.url)}),!t.filter||t.filter.test(x)?i[v]=x:i[v]="",o())})}function c(f,v){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],y={};return y.rules=(f.replace(n.cssComments,"").match(n.cssImports)||[]).filter(function(E){return _.indexOf(E)===-1}),y.urls=y.rules.map(function(E){return E.replace(n.cssImports,"$1")}),y.absoluteUrls=y.urls.map(function(E){return gE(E,v)}),y.absoluteRules=y.rules.map(function(E,x){var C=y.urls[x],M=gE(y.absoluteUrls[x],v);return E.replace(C,M)}),y}function h(f,v,_,y){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],C=c(f,_,x);C.rules.length?BD(C.absoluteUrls,{onBeforeSend:function(S,N,D){t.onBeforeSend(S,v,N)},onSuccess:function(S,N,D){var H=t.onSuccess(S,v,N);S=H===!1?"":H||S;var K=c(S,N,x);return K.rules.forEach(function(z,W){S=S.replace(z,K.absoluteRules[W])}),S},onError:function(S,N,D){E.push({xhr:S,url:N}),x.push(C.rules[D]),h(f,v,_,y,E,x)},onComplete:function(S){S.forEach(function(N,D){f=f.replace(C.rules[D],N)}),h(f,v,_,y,E,x)}}):y(f,E)}r.length?r.forEach(function(f,v){var _=f.getAttribute("href"),y=f.getAttribute("rel"),E=f.nodeName.toLowerCase()==="link"&&_&&y&&y.toLowerCase().indexOf("stylesheet")!==-1,x=t.skipDisabled===!1?!1:f.disabled,C=f.nodeName.toLowerCase()==="style";if(E&&!x){var M=_.indexOf("data:text/css")!==-1;if(M){var S=decodeURIComponent(_.substring(_.indexOf(",")+1));t.useCSSOM&&(S=Array.apply(null,f.sheet.cssRules).map(function(D){return D.cssText}).join("")),u(S,v,f,location.href)}else BD(_,{mimeType:"text/css",onBeforeSend:function(H,K,z){t.onBeforeSend(H,f,K)},onSuccess:function(H,K,z){var W=gE(_);u(H,v,f,W)},onError:function(H,K,z){i[v]="",t.onError(H,f,K),o()}})}else if(C&&!x){var N=f.textContent;t.useCSSOM&&(N=Array.apply(null,f.sheet.cssRules).map(function(D){return D.cssText}).join("")),u(N,v,f,location.href)}else i[v]="",o()}):t.onComplete("",[])}function gE(e,n){var t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,i.href=e,i.href}function Pse(e,n){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return t.call(e,n)}var $F=zF;function zF(e,n,t){e instanceof RegExp&&(e=$D(e,t)),n instanceof RegExp&&(n=$D(n,t));var r=jF(e,n,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+e.length,r[1]),post:t.slice(r[1]+n.length)}}function $D(e,n){var t=n.match(e);return t?t[0]:null}zF.range=jF;function jF(e,n,t){var r,i,o,u,c,h=t.indexOf(e),f=t.indexOf(n,h+1),v=h;if(h>=0&&f>0){if(e===n)return[h,f];for(r=[],o=t.length;v>=0&&!c;)v==h?(r.push(v),h=t.indexOf(e,v+1)):r.length==1?c=[r.pop(),f]:(i=r.pop(),i<o&&(o=i,u=f),f=t.indexOf(n,v+1)),v=h<f&&h>=0?h:f;r.length&&(c=[o,u])}return c}function L3(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},r=Aa({},t,n),i=[];function o(ie){throw new Error("CSS parse error: ".concat(ie))}function u(ie){var oe=ie.exec(e);if(oe)return e=e.slice(oe[0].length),oe}function c(){return u(/^{\s*/)}function h(){return u(/^}/)}function f(){u(/^\s*/)}function v(){if(f(),!(e[0]!=="/"||e[1]!=="*")){for(var ie=2;e[ie]&&(e[ie]!=="*"||e[ie+1]!=="/");)ie++;if(!e[ie])return o("end of comment is missing");var oe=e.slice(2,ie);return e=e.slice(ie+2),{type:"comment",comment:oe}}}function _(){for(var ie=[],oe;oe=v();)ie.push(oe);return r.removeComments?[]:ie}function y(){for(f();e[0]==="}";)o("extra closing bracket");var ie=u(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(ie){var oe=ie[0].trim(),de,De=/\/\*/.test(oe);De&&(oe=oe.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var He=/["']\w*,\w*["']/.test(oe);He&&(oe=oe.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(be){return be.replace(/,/g,"\u200C")}));var ge=/,/.test(oe);return ge?de=oe.split(/\s*(?![^(]*\)),\s*/):de=[oe],He&&(de=de.map(function(be){return be.replace(/\u200C/g,",")})),de}}function E(){if(e[0]==="@")return ue();u(/^([;\s]*)+/);var ie=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oe=u(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!oe){if(oe=oe[0].trim(),!u(/^:\s*/))return o("property missing ':'");var de=u(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),De={type:"declaration",property:oe.replace(ie,""),value:de?de[0].replace(ie,"").trim():""};return u(/^[;\s]*/),De}}function x(){if(!c())return o("missing '{'");for(var ie,oe=_();ie=E();)oe.push(ie),oe=oe.concat(_());return h()?oe:o("missing '}'")}function C(){f();for(var ie=[],oe;oe=u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)ie.push(oe[1]),u(/^,\s*/);if(ie.length)return{type:"keyframe",values:ie,declarations:x()}}function M(){var ie=u(/^@([-\w]+)?keyframes\s*/);if(!!ie){var oe=ie[1];if(ie=u(/^([-\w]+)\s*/),!ie)return o("@keyframes missing name");var de=ie[1];if(!c())return o("@keyframes missing '{'");for(var De,He=_();De=C();)He.push(De),He=He.concat(_());return h()?{type:"keyframes",name:de,vendor:oe,keyframes:He}:o("@keyframes missing '}'")}}function S(){var ie=u(/^@page */);if(ie){var oe=y()||[];return{type:"page",selectors:oe,declarations:x()}}}function N(){var ie=u(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(ie){var oe="".concat(ie[1],"-").concat(ie[2])+(ie[3]?"-".concat(ie[3]):"");return{type:"page-margin-box",name:oe,declarations:x()}}}function D(){var ie=u(/^@font-face\s*/);if(ie)return{type:"font-face",declarations:x()}}function H(){var ie=u(/^@supports *([^{]+)/);if(ie)return{type:"supports",supports:ie[1].trim(),rules:Se()}}function K(){var ie=u(/^@host\s*/);if(ie)return{type:"host",rules:Se()}}function z(){var ie=u(/^@media([^{]+)*/);if(ie)return{type:"media",media:(ie[1]||"").trim(),rules:Se()}}function W(){var ie=u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(ie)return{type:"custom-media",name:ie[1].trim(),media:ie[2].trim()}}function j(){var ie=u(/^@([-\w]+)?document *([^{]+)/);if(ie)return{type:"document",document:ie[2].trim(),vendor:ie[1]?ie[1].trim():null,rules:Se()}}function ce(){var ie=u(/^@(import|charset|namespace)\s*([^;]+);/);if(ie)return{type:ie[1],name:ie[2].trim()}}function ue(){if(f(),e[0]==="@"){var ie=ce()||D()||z()||M()||H()||j()||W()||K()||S()||N();if(ie&&!r.preserveStatic){var oe=!1;if(ie.declarations)oe=ie.declarations.some(function(De){return/var\(/.test(De.value)});else{var de=ie.keyframes||ie.rules||[];oe=de.some(function(De){return(De.declarations||[]).some(function(He){return/var\(/.test(He.value)})})}return oe?ie:{}}return ie}}function we(){if(!r.preserveStatic){var ie=$F("{","}",e);if(ie){var oe=/:(?:root|host)(?![.:#(])/.test(ie.pre)&&/--\S*\s*:/.test(ie.body),de=/var\(/.test(ie.body);if(!oe&&!de)return e=e.slice(ie.end+1),{}}}var De=y()||[],He=r.preserveStatic?x():x().filter(function(ge){var be=De.some(function(ee){return/:(?:root|host)(?![.:#(])/.test(ee)})&&/^--\S/.test(ge.property),Le=/var\(/.test(ge.value);return be||Le});return De.length||o("selector missing"),{type:"rule",selectors:De,declarations:He}}function Se(ie){if(!ie&&!c())return o("missing '{'");for(var oe,de=_();e.length&&(ie||e[0]!=="}")&&(oe=ue()||we());)oe.type&&de.push(oe),de=de.concat(_());return!ie&&!h()?o("missing '}'"):de}return{type:"stylesheet",stylesheet:{rules:Se(!0),errors:i}}}function zD(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},r=Aa({},t,n),i=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof e=="string"&&(e=L3(e,r)),e.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(u){return i.test(u)})||o.declarations.forEach(function(u,c){var h=u.property,f=u.value;h&&h.indexOf("--")===0&&(r.store[h]=f)})}),r.store}function VF(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,r={charset:function(u){return"@charset "+u.name+";"},comment:function(u){return u.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+u.comment+"*/":""},"custom-media":function(u){return"@custom-media "+u.name+" "+u.media+";"},declaration:function(u){return u.property+":"+u.value+";"},document:function(u){return"@"+(u.vendor||"")+"document "+u.document+"{"+i(u.rules)+"}"},"font-face":function(u){return"@font-face{"+i(u.declarations)+"}"},host:function(u){return"@host{"+i(u.rules)+"}"},import:function(u){return"@import "+u.name+";"},keyframe:function(u){return u.values.join(",")+"{"+i(u.declarations)+"}"},keyframes:function(u){return"@"+(u.vendor||"")+"keyframes "+u.name+"{"+i(u.keyframes)+"}"},media:function(u){return"@media "+u.media+"{"+i(u.rules)+"}"},namespace:function(u){return"@namespace "+u.name+";"},page:function(u){return"@page "+(u.selectors.length?u.selectors.join(", "):"")+"{"+i(u.declarations)+"}"},"page-margin-box":function(u){return"@"+u.name+"{"+i(u.declarations)+"}"},rule:function(u){var c=u.declarations;if(c.length)return u.selectors.join(",")+"{"+i(c)+"}"},supports:function(u){return"@supports "+u.supports+"{"+i(u.rules)+"}"}};function i(o){for(var u="",c=0;c<o.length;c++){var h=o[c];t&&t(h);var f=r[h.type](h);f&&(u+=f,f.length&&h.selectors&&(u+=n))}return u}return i(e.stylesheet.rules)}function WF(e,n){e.rules.forEach(function(t){if(t.rules){WF(t,n);return}if(t.keyframes){t.keyframes.forEach(function(r){r.type==="keyframe"&&n(r.declarations,t)});return}!t.declarations||n(t.declarations,e)})}var Fse="--",Hse="var";function qse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=Aa({},t,n);return typeof e=="string"&&(e=L3(e,r)),WF(e.stylesheet,function(i,o){for(var u=0;u<i.length;u++){var c=i[u],h=c.type,f=c.property,v=c.value;if(h==="declaration"){if(!r.preserveVars&&f&&f.indexOf(Fse)===0){i.splice(u,1),u--;continue}if(v.indexOf(Hse+"(")!==-1){var _=vf(v,r);_!==c.value&&(_=Bse(_),r.preserveVars?(i.splice(u,0,{type:h,property:f,value:_}),u++):c.value=_)}}}}),VF(e)}function Bse(e){var n=/calc\(([^)]+)\)/g;return(e.match(n)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)}),e}function vf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(e.indexOf("var(")===-1)return e;var r=$F("(",")",e);function i(u){var c=u.split(",")[0].replace(/[\s\n\t]/g,""),h=(u.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],f=Object.prototype.hasOwnProperty.call(n.variables,c)?String(n.variables[c]):void 0,v=f||(h?String(h):void 0),_=t||u;return f||n.onWarning('variable "'.concat(c,'" is undefined')),v&&v!=="undefined"&&v.length>0?vf(v,n,_):"var(".concat(_,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(n.onWarning("var() must contain a non-whitespace string"),e):r.pre.slice(0,-3)+i(r.body)+vf(r.post,n)}else return r.pre+"(".concat(vf(r.body,n),")")+vf(r.post,n);else return e.indexOf("var(")!==-1&&n.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var i_=typeof window<"u",jD=i_&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),xc={group:0,job:0},pg={rootElement:i_?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},To={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},Fr={dom:{},job:{},user:{}},Lg=!1,is=null,_f=0,z2=null,j2=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function pl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n="cssVars(): ",t=Aa({},pg,e);function r(v,_,y,E){!t.silent&&window.console&&console.error("".concat(n).concat(v,`
`),_),t.onError(v,_,y,E)}function i(v){!t.silent&&window.console&&console.warn("".concat(n).concat(v)),t.onWarning(v)}function o(v){t.onFinally(Boolean(v),jD,vE()-t.__benchmark)}if(!!i_){if(t.watch){t.watch=pg.watch,Gse(t),pl(t);return}else t.watch===!1&&is&&(is.disconnect(),is=null);if(!t.__benchmark){if(Lg===t.rootElement){$se(e);return}var u=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=vE(),t.exclude=[is?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(v){return v}).join(","),t.variables=Vse(t.variables),u.forEach(function(v){var _=v.nodeName.toLowerCase()==="style"&&v.__cssVars.text,y=_&&v.textContent!==v.__cssVars.text;_&&y&&(v.sheet&&(v.sheet.disabled=!1),v.setAttribute("data-cssvars",""))}),!is){var c=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));c.forEach(function(v){var _=v.getAttribute("data-cssvars-group"),y=_?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(_,'"]')):null;y||v.parentNode.removeChild(v)}),_f&&u.length<_f&&(_f=u.length,Fr.dom={})}}if(document.readyState!=="loading")if(jD&&t.onlyLegacy){var h=!1;if(t.updateDOM){var f=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(v){var _=t.variables[v];h=h||_!==getComputedStyle(f).getPropertyValue(v),f.style.setProperty(v,_)})}o(h)}else!j2&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?GD({rootElement:pg.rootElement,include:pg.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(_,y,E){var x=(y.sheet||{}).disabled&&!y.__cssVars;return x?!1:(_=_.replace(To.cssComments,"").replace(To.cssMediaQueries,""),_=(_.match(To.cssVarDeclRules)||[]).join(""),_||!1)},onComplete:function(_,y,E){zD(_,{store:Fr.dom,onWarning:i}),j2=!0,pl(t)}}):(Lg=t.rootElement,GD({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(_,y,E){var x=_.responseURL||KF(E,location.href),C=_.statusText?"(".concat(_.statusText,")"):"Unspecified Error"+(_.status===0?" (possibly CORS related)":""),M="CSS XHR Error: ".concat(x," ").concat(_.status," ").concat(C);r(M,y,_,x)},onSuccess:function(_,y,E){var x=(y.sheet||{}).disabled&&!y.__cssVars;if(x)return!1;var C=y.nodeName.toLowerCase()==="link",M=y.nodeName.toLowerCase()==="style"&&_!==y.textContent,S=t.onSuccess(_,y,E);return _=S!==void 0&&Boolean(S)===!1?"":S||_,t.updateURLs&&(C||M)&&(_=jse(_,E)),_},onComplete:function(_,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],x=Aa({},Fr.dom,Fr.user),C=!1;if(Fr.job={},E.forEach(function(W,j){var ce=y[j];if(W.__cssVars=W.__cssVars||{},W.__cssVars.text=ce,To.cssVars.test(ce))try{var ue=L3(ce,{preserveStatic:t.preserveStatic,removeComments:!0});zD(ue,{parseHost:Boolean(t.rootElement.host),store:Fr.dom,onWarning:i}),W.__cssVars.tree=ue}catch(we){r(we.message,W)}}),Aa(Fr.job,Fr.dom),t.updateDOM?(Aa(Fr.user,t.variables),Aa(Fr.job,Fr.user)):(Aa(Fr.job,Fr.user,t.variables),Aa(x,t.variables)),C=xc.job>0&&Boolean(Object.keys(Fr.job).length>Object.keys(x).length||Boolean(Object.keys(x).length&&Object.keys(Fr.job).some(function(W){return Fr.job[W]!==x[W]}))),C)V2(t.rootElement),pl(t);else{var M=[],S=[],N=!1;if(t.updateDOM&&xc.job++,E.forEach(function(W,j){var ce=!W.__cssVars.tree;if(W.__cssVars.tree)try{qse(W.__cssVars.tree,Aa({},t,{variables:Fr.job,onWarning:i}));var ue=VF(W.__cssVars.tree);if(t.updateDOM){var we=y[j],Se=To.cssVarFunc.test(we);if(W.getAttribute("data-cssvars")||W.setAttribute("data-cssvars","src"),ue.length&&Se){var ie=W.getAttribute("data-cssvars-group")||++xc.group,oe=ue.replace(/\s/g,""),de=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(ie,'"]'))||document.createElement("style");N=N||To.cssKeyframes.test(ue),t.preserveStatic&&W.sheet&&(W.sheet.disabled=!0),de.hasAttribute("data-cssvars")||de.setAttribute("data-cssvars","out"),oe===W.textContent.replace(/\s/g,"")?(ce=!0,de&&de.parentNode&&(W.removeAttribute("data-cssvars-group"),de.parentNode.removeChild(de))):oe!==de.textContent.replace(/\s/g,"")&&([W,de].forEach(function(De){De.setAttribute("data-cssvars-job",xc.job),De.setAttribute("data-cssvars-group",ie)}),de.textContent=ue,M.push(ue),S.push(de),de.parentNode||W.parentNode.insertBefore(de,W.nextSibling))}}else W.textContent.replace(/\s/g,"")!==ue&&M.push(ue)}catch(De){r(De.message,W)}ce&&W.setAttribute("data-cssvars","skip"),W.hasAttribute("data-cssvars-job")||W.setAttribute("data-cssvars-job",xc.job)}),_f=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var D=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),H=0,K;K=D[H];++H)if(K.shadowRoot&&K.shadowRoot.querySelector("style")){var z=Aa({},t,{rootElement:K.shadowRoot});pl(z)}}t.updateDOM&&N&&zse(t.rootElement),Lg=!1,t.onComplete(M.join(""),S,JSON.parse(JSON.stringify(Fr.job)),vE()-t.__benchmark),o(S.length)}}}));else document.addEventListener("DOMContentLoaded",function v(_){pl(e),document.removeEventListener("DOMContentLoaded",v)})}}pl.reset=function(){xc.job=0,xc.group=0,Lg=!1,is&&(is.disconnect(),is=null),_f=0,z2=null,j2=!1;for(var e in Fr)Fr[e]={}};function Gse(e){function n(h){var f=t(h)&&h.hasAttribute("disabled"),v=(h.sheet||{}).disabled;return f||v}function t(h){var f=h.nodeName.toLowerCase()==="link"&&(h.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return f}function r(h){return h.nodeName.toLowerCase()==="style"}function i(h){var f=!1;if(h.type==="attributes"&&t(h.target)&&!n(h.target)){var v=h.attributeName==="disabled",_=h.attributeName==="href",y=h.target.getAttribute("data-cssvars")==="skip",E=h.target.getAttribute("data-cssvars")==="src";v?f=!y&&!E:_&&(y?h.target.setAttribute("data-cssvars",""):E&&V2(e.rootElement,!0),f=!0)}return f}function o(h){var f=!1;if(h.type==="childList"){var v=r(h.target),_=h.target.getAttribute("data-cssvars")==="out";f=v&&!_}return f}function u(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.addedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.hasAttribute("data-cssvars"),E=r(v)&&To.cssVars.test(v.textContent),x=!y&&(t(v)||E);return x&&!n(v)})),f}function c(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.removedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.getAttribute("data-cssvars")==="out",E=_&&v.getAttribute("data-cssvars")==="src",x=E;if(E||y){var C=v.getAttribute("data-cssvars-group"),M=e.rootElement.querySelector('[data-cssvars-group="'.concat(C,'"]'));E&&V2(e.rootElement,!0),M&&M.parentNode.removeChild(M)}return x})),f}!window.MutationObserver||(is&&(is.disconnect(),is=null),is=new MutationObserver(function(h){var f=h.some(function(v){return i(v)||o(v)||u(v)||c(v)});f&&pl(e)}),is.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function $se(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(z2),z2=setTimeout(function(){e.__benchmark=null,pl(e)},n)}function zse(e){var n=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(y){return getComputedStyle(document.body)[y]})[0];if(n){for(var t=[].slice.call(e.querySelectorAll("*")),r=[],i="__CSSVARSPONYFILL-KEYFRAMES__",o=0,u=t.length;o<u;o++){var c=t[o],h=getComputedStyle(c)[n];h!=="none"&&(c.style[n]+=i,r.push(c))}document.body.offsetHeight;for(var f=0,v=r.length;f<v;f++){var _=r[f].style;_[n]=_[n].replace(i,"")}}}function jse(e,n){var t=e.replace(To.cssComments,"").match(To.cssUrls)||[];return t.forEach(function(r){var i=r.replace(To.cssUrls,"$1"),o=KF(i,n);e=e.replace(r,r.replace(i,o))}),e}function Vse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=/^-{2}/;return Object.keys(e).reduce(function(t,r){var i=n.test(r)?r:"--".concat(r.replace(/^-+/,""));return t[i]=e[r],t},{})}function KF(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n,i.href=e,i.href}function vE(){return i_&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function V2(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(r){return r.setAttribute("data-cssvars","")}),n&&(Fr.dom={})}var Hc=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n==="x"?t:t&3|8;return r.toString(16)})},W2=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",t={en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect\u2026",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times per message.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message"}};return t[n]},fg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Wse(e,n,t){t=t||{};var r;return typeof fg[e]=="string"?r=fg[e]:n===1?r=fg[e].one:r=fg[e].other.replace("{{count}}",n),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function _E(e){return function(n){var t=n||{},r=t.width?String(t.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}var Kse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xse={date:_E({formats:Kse,defaultWidth:"full"}),time:_E({formats:Qse,defaultWidth:"full"}),dateTime:_E({formats:Yse,defaultWidth:"full"})},Jse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Zse(e,n,t,r){return Jse[e]}function of(e){return function(n,t){var r=t||{},i=r.context?String(r.context):"standalone",o;if(i==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,c=r.width?String(r.width):u;o=e.formattingValues[c]||e.formattingValues[u]}else{var h=e.defaultWidth,f=r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[h]}var v=e.argumentCallback?e.argumentCallback(n):n;return o[v]}}var eoe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},noe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},toe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},roe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ioe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function soe(e,n){var t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var ooe={ordinalNumber:soe,era:of({values:eoe,defaultWidth:"wide"}),quarter:of({values:noe,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:of({values:toe,defaultWidth:"wide"}),day:of({values:roe,defaultWidth:"wide"}),dayPeriod:of({values:ioe,defaultWidth:"wide",formattingValues:aoe,defaultFormattingWidth:"wide"})};function loe(e){return function(n,t){var r=String(n),i=t||{},o=r.match(e.matchPattern);if(!o)return null;var u=o[0],c=r.match(e.parsePattern);if(!c)return null;var h=e.valueCallback?e.valueCallback(c[0]):c[0];return h=i.valueCallback?i.valueCallback(h):h,{value:h,rest:r.slice(u.length)}}}function lf(e){return function(n,t){var r=String(n),i=t||{},o=i.width,u=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],c=r.match(u);if(!c)return null;var h=c[0],f=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],v;return Object.prototype.toString.call(f)==="[object Array]"?v=coe(f,function(_){return _.test(h)}):v=uoe(f,function(_){return _.test(h)}),v=e.valueCallback?e.valueCallback(v):v,v=i.valueCallback?i.valueCallback(v):v,{value:v,rest:r.slice(h.length)}}}function uoe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function coe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var doe=/^(\d+)(th|st|nd|rd)?/i,hoe=/\d+/i,poe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},foe={any:[/^b/i,/^(a|c)/i]},moe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},goe={any:[/1/i,/2/i,/3/i,/4/i]},voe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_oe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},boe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Eoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},woe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xoe={ordinalNumber:loe({matchPattern:doe,parsePattern:hoe,valueCallback:function(e){return parseInt(e,10)}}),era:lf({matchPatterns:poe,defaultMatchWidth:"wide",parsePatterns:foe,defaultParseWidth:"any"}),quarter:lf({matchPatterns:moe,defaultMatchWidth:"wide",parsePatterns:goe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:lf({matchPatterns:voe,defaultMatchWidth:"wide",parsePatterns:_oe,defaultParseWidth:"any"}),day:lf({matchPatterns:boe,defaultMatchWidth:"wide",parsePatterns:yoe,defaultParseWidth:"any"}),dayPeriod:lf({matchPatterns:Eoe,defaultMatchWidth:"any",parsePatterns:woe,defaultParseWidth:"any"})},koe={code:"en-US",formatDistance:Wse,formatLong:Xse,formatRelative:Zse,localize:ooe,match:xoe,options:{weekStartsOn:0,firstWeekContainsDate:1}},QF=koe,uo=k.createContext({stringSet:W2("en"),dateLocale:QF}),Coe=function(n){var t=n.children;return k.createElement(uo.Provider,{value:n},t)},E0=function(){return k.useContext(uo)},YF="INIT_SDK",P3="SET_SDK_LOADING",F3="RESET_SDK",K2="SDK_ERROR",Soe="3.1.3",Noe=function(n){var t=n.sdkDispatcher,r=n.userDispatcher,i=n.sdk,o=n.onDisconnect;t({type:P3,payload:!0}),i&&i.disconnect?i.disconnect().then(function(){t({type:F3}),r({type:U3})}).finally(function(){o()}):o()},VD=function(n,t){var r=n.userId,i=n.appId,o=n.nickname,u=n.profileUrl,c=n.accessToken,h=n.configureSession,f=n.customApiHost,v=n.customWebSocketHost,_=n.sdk,y=n.logger,E=t.sdkDispatcher,x=t.userDispatcher;Noe({sdkDispatcher:E,userDispatcher:x,sdk:_,logger:y,onDisconnect:function(){y.info("Setup connection");var M=null;if(E({type:P3,payload:!0}),r&&i){var S={appId:i,modules:[new Ise,new eae]};f&&(S.customApiHost=f),v&&(S.customWebSocketHost=v);var N=Pie.init(S);h&&typeof h=="function"&&(M=h(N),N.setSessionHandler(M)),N.addExtension("sb_uikit",Soe);var D=function(z){E({type:YF,payload:N}),x({type:LF,payload:z}),(o!==z.nickname||u!==z.profileUrl)&&!(FD(o)&&FD(u))&&N.updateCurrentUserInfo({nickname:o||z.nickname,profileUrl:u||z.profileUrl}).then(function(W){x({type:PF,payload:W})})},H=function(z){y.error("Connection failed","".concat(z)),E({type:F3}),E({type:U3}),E({type:K2})};c?N.connect(r,c).then(function(K){return D(K)}).catch(function(K){return H(K)}):N.connect(r).then(function(K){return D(K)}).catch(function(K){return H(K)})}else E({type:K2}),y.warning("Connection failed","UserId or appId missing")}})},Toe=function(n){if(n==null)return!0;for(var t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},Ioe=function(n){U.exports.useLayoutEffect(function(){Toe(n)||pl({variables:on({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},n)})},[n])},XF={initialized:!1,loading:!1,sdk:{},error:!1};function Ooe(e,n){switch(n.type){case P3:return kr(kr({},e),{},{initialized:!1,loading:n.payload});case K2:return kr(kr({},e),{},{initialized:!1,loading:!1,error:!0});case YF:return{sdk:n.payload,initialized:!0,loading:!1,error:!1};case F3:return XF;default:return e}}var JF={initialized:!1,loading:!1,user:{}};function Aoe(e,n){switch(n.type){case LF:return{initialized:!0,loading:!1,user:n.payload};case U3:return JF;case PF:return kr(kr({},e),{},{user:n.payload});default:return e}}function Roe(e,n){var t=U.exports.useState(!0),r=dl(t,2),i=r[0],o=r[1];return U.exports.useEffect(function(){var u=Hc();try{n.warning("sdk changed",u);var c=new hF;c.onDisconnected=function(){n.warning("onDisconnected",{isOnline:i})},c.onReconnectStarted=function(){o(!1),n.warning("onReconnectStarted",{isOnline:i})},c.onReconnectSucceeded=function(){o(!0),n.warning("onReconnectSucceeded",{isOnline:i})},c.onReconnectFailed=function(){e.reconnect(),n.warning("onReconnectFailed")},n.info("Added ConnectionHandler",u),e!=null&&e.addConnectionHandler&&e.addConnectionHandler(u,c)}catch{}return function(){try{e.removeConnectionHandler(u),n.info("Removed ConnectionHandler",u)}catch{}}},[e]),U.exports.useEffect(function(){var u=function(){try{n.warning("Try reconnecting SDK"),e.connectionState!=="OPEN"&&e.reconnect()}catch{}};return window.addEventListener("online",u),function(){window.removeEventListener("online",u)}},[e]),U.exports.useEffect(function(){var u=document.querySelector("body");if(i)try{u.classList.remove("sendbird__offline"),n.info("Removed class sendbird__offline from body")}catch{}else try{u.classList.add("sendbird__offline"),n.info("Added class sendbird__offline to body")}catch{}},[i]),i}var ts={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},Moe=function(n){switch(n){case ts.WARNING:return"color: Orange";case ts.ERROR:return"color: Red";default:return"color: Gray"}},Doe=function(n){var t=n.level,r=n.title,i=n.description,o=i===void 0?"":i;console.log("%c SendbirdUIKit | ".concat(t," | ").concat(new Date().toISOString()," | ").concat(r," ").concat(o&&"|"),Moe(t),o)},Uoe=function(){return{info:function(){},error:function(){},warning:function(){}}},WD=function(n,t){var r=t||Doe,i=Array.isArray(n)?n:[n],o=function(h){return function(f,v){return r({level:h,title:f,description:v})}},u=i.reduce(function(c,h){return h===ts.DEBUG||h===ts.ALL?kr(kr({},c),{},{info:o(ts.INFO),error:o(ts.ERROR),warning:o(ts.WARNING)}):h===ts.INFO?kr(kr({},c),{},{info:o(ts.INFO)}):h===ts.ERROR?kr(kr({},c),{},{error:o(ts.ERROR)}):h===ts.WARNING?kr(kr({},c),{},{warning:o(ts.WARNING)}):kr({},c)},Uoe());return u},Loe=function(){var e={},n=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(r,i){n.call(e,r)||(e[r]=[]);var o=e[r].push(i)-1;return{remove:function(){delete e[r][o]}}},publish:function(r,i){!n.call(e,r)||e[r].forEach(function(o){o(i!==void 0?i:{})})}}};function Poe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;U.exports.useEffect(function(){var t=document.querySelector(n);return e.forEach(function(r){var i=document.createElement("div");i.setAttribute("id",r),t.appendChild(i)}),function(){e.forEach(function(r){var i=document.getElementById(r);i&&t.removeChild(i)})}},[])}function H3(e){var n=e.userId,t=e.dateLocale,r=e.appId,i=e.accessToken,o=e.configureSession,u=e.customApiHost,c=e.customWebSocketHost,h=e.children,f=e.disableUserProfile,v=e.renderUserProfile,_=e.allowProfileEdit,y=e.theme,E=e.nickname,x=e.profileUrl,C=e.userListQuery,M=e.config,S=M===void 0?{}:M,N=e.colorSet,D=e.stringSet,H=e.imageCompression,K=e.isReactionEnabled,z=e.isMentionEnabled,W=e.isTypingIndicatorEnabledOnChannelList,j=e.isMessageReceiptStatusEnabledOnChannelList,ce=S.logLevel,ue=ce===void 0?"":ce,we=S.userMention,Se=we===void 0?{}:we,ie=S.isREMUnitEnabled,oe=ie===void 0?!1:ie,de=U.exports.useState(WD(ue)),De=dl(de,2),He=De[0],ge=De[1],be=U.exports.useState(),Le=dl(be,2),ee=Le[0],X=Le[1],me=U.exports.useReducer(Ooe,XF),Qe=dl(me,2),qe=Qe[0],Te=Qe[1],ke=U.exports.useReducer(Aoe,JF),Oe=dl(ke,2),Ze=Oe[0],yn=Oe[1];Ioe(N),U.exports.useEffect(function(){X(Loe())},[]),U.exports.useEffect(function(){He.info("App Init"),VD({userId:n,appId:r,accessToken:i,sdkStore:qe,nickname:E,profileUrl:x,configureSession:o,customApiHost:u,customWebSocketHost:c,sdk:qe.sdk,logger:He},{sdkDispatcher:Te,userDispatcher:yn})},[n,r,i]),U.exports.useEffect(function(){ge(WD(ue))},[ue]),Poe(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var Rn=U.exports.useState(y),pn=dl(Rn,2),Un=pn[0],an=pn[1];U.exports.useEffect(function(){an(y)},[y]),U.exports.useEffect(function(){var Sn=document.querySelector("body");Sn.classList.remove("sendbird-experimental__rem__units"),oe&&Sn.classList.add("sendbird-experimental__rem__units")},[oe]),U.exports.useEffect(function(){He.info("Setup theme","Theme: ".concat(Un));try{var Sn=document.querySelector("body");Sn.classList.remove("sendbird-theme--light"),Sn.classList.remove("sendbird-theme--dark"),Sn.classList.add("sendbird-theme--".concat(Un||"light")),He.info("Finish setup theme")}catch($){He.warning("Setup theme failed","".concat($))}return function(){try{var $=document.querySelector("body");$.classList.remove("sendbird-theme--light"),$.classList.remove("sendbird-theme--dark")}catch{}}},[Un]);var Mn=Roe(qe.sdk,He),En=k.useMemo(function(){return D?kr(kr({},W2("en")),D):W2("en")},[D]);return k.createElement(b3.Provider,{value:{stores:{sdkStore:qe,userStore:Ze},dispatchers:{sdkDispatcher:Te,userDispatcher:yn,reconnect:function(){VD({userId:n,appId:r,accessToken:i,sdkStore:qe,nickname:E,profileUrl:x,logger:He,sdk:qe.sdk},{sdkDispatcher:Te,userDispatcher:yn})}},config:{disableUserProfile:f,renderUserProfile:v,allowProfileEdit:_,isOnline:Mn,userId:n,appId:r,accessToken:i,theme:Un,setCurrenttheme:an,userListQuery:C,logger:He,pubSub:ee,imageCompression:H,isReactionEnabled:K,isMentionEnabled:z||!1,userMention:{maxMentionCount:(Se==null?void 0:Se.maxMentionCount)||10,maxSuggestionCount:(Se==null?void 0:Se.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:W,isMessageReceiptStatusEnabledOnChannelList:j}}},k.createElement(Coe,{stringSet:En,dateLocale:t},h))}H3.propTypes={userId:he.exports.string.isRequired,appId:he.exports.string.isRequired,accessToken:he.exports.string,customApiHost:he.exports.string,customWebSocketHost:he.exports.string,configureSession:he.exports.func,children:he.exports.oneOfType([he.exports.element,he.exports.arrayOf(he.exports.element),he.exports.any]).isRequired,theme:he.exports.string,nickname:he.exports.string,dateLocale:he.exports.shape({}),profileUrl:he.exports.string,disableUserProfile:he.exports.bool,renderUserProfile:he.exports.func,allowProfileEdit:he.exports.bool,userListQuery:he.exports.func,config:he.exports.shape({logLevel:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),pubSub:he.exports.shape({subscribe:he.exports.func,publish:he.exports.func}),userMention:he.exports.shape({maxMentionCount:he.exports.number,maxSuggestionCount:he.exports.number}),isREMUnitEnabled:he.exports.bool}),stringSet:he.exports.objectOf(he.exports.string),colorSet:he.exports.objectOf(he.exports.string),isReactionEnabled:he.exports.bool,isMentionEnabled:he.exports.bool,imageCompression:he.exports.shape({compressionRate:he.exports.number,resizingWidth:he.exports.oneOfType([he.exports.number,he.exports.string]),resizingHeight:he.exports.oneOfType([he.exports.number,he.exports.string])}),isTypingIndicatorEnabledOnChannelList:he.exports.bool,isMessageReceiptStatusEnabledOnChannelList:he.exports.bool};H3.defaultProps={accessToken:"",customApiHost:null,customWebSocketHost:null,configureSession:null,theme:"light",nickname:"",dateLocale:null,profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{},isReactionEnabled:!0,isMentionEnabled:!1,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1};var Foe=`.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        margin-left: 8px;
        margin-bottom: 12px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50:  #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50:  #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: 'Roboto', sans-serif;
  --sendbird-message-balloon-width: 404px; }

.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem; }

.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem; }

.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: .875rem; }
  .sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
    font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: .75rem; }

.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-list {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-list {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px; }

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden; }

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default); }

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px; }

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px; }

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal; }

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px; }
  .sendbird-iconbutton .sendbird-iconbutton__inner {
    height: 100%; }
    .sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-iconbutton:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-iconbutton:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-iconbutton:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-iconbutton:active {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-iconbutton:disabled {
    cursor: not-allowed !important; }
    .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
    cursor: pointer; }
  .sendbird-channel-header .sendbird-channel-header__title {
    display: flex;
    flex-direction: row;
    width: 260px;
    height: 48px;
    border-radius: 4px; }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-dark-background-500); }
    .sendbird-channel-header .sendbird-channel-header__title:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
      width: 48px;
      padding: 8px;
      box-sizing: border-box; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
      margin-left: 4px;
      padding-top: 8px; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
      display: block;
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-channel-header .sendbird-channel-header__right-icon {
    position: absolute;
    right: 16px;
    top: 16px; }

.sendbird-image-renderer {
  overflow: hidden;
  position: relative; }

.sendbird-image-renderer__hidden-image-loader {
  display: none; }

.sendbird-icon {
  display: inline-block; }
  .sendbird-icon:focus {
    outline: none; }

.sendbird-theme--light .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--light .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-icon-color--white [class*='fill'] {
  fill: #ffffff; }

.sendbird-icon-color--gray [class*='fill'] {
  fill: var(--sendbird-light-onlight-04); }

.sendbird-theme--light .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-light-background-300); }

.sendbird-theme--dark .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-dark-background-400); }

.sendbird-theme--light .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-dark-error-200); }

.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative; }
  .sendbird-avatar:focus {
    outline: none; }
  .sendbird-avatar .sendbird-avatar-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
    transform: translate(2%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
    transform: translate(-102%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
    transform: translate(-50%, -102%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
    transform: translate(-77%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
    transform: translate(-23%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar-img--default {
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-dark-background-300); }

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px; }

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px; }

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-add-channel__rectangle .sendbird-icon {
    position: absolute;
    left: 22px;
    top: 24px; }

.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px; }

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-y: auto; }

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center; }

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-modal__content {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-04); }
  .sendbird-theme--dark .sendbird-modal__content {
    background-color: var(--sendbird-dark-background-500);
    box-shadow: var(--sendbird-dark-shadow-04); }
  .sendbird-modal__content .sendbird-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    cursor: pointer; }
    .sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-modal__content .sendbird-modal__header {
    margin-bottom: 16px; }
  .sendbird-modal__content .sendbird-modal__body {
    height: calc(100% - 116px); }
  .sendbird-modal__content .sendbird-modal__footer {
    margin-top: 32px;
    text-align: right; }
    .sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
      margin-left: 8px;
      width: 80px;
      height: 40px; }

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0; }
  .sendbird-theme--light .sendbird-modal__backdrop {
    background-color: var(--sendbird-light-overlay-02); }
  .sendbird-theme--dark .sendbird-modal__backdrop {
    background-color: var(--sendbird-dark-overlay-02); }

.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer; }
  .sendbird-button:hover {
    box-shadow: none; }
  .sendbird-button:focus {
    outline: none; }
  .sendbird-button:active {
    box-shadow: none; }
  .sendbird-button.sendbird-button__disabled {
    cursor: not-allowed; }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-button--big {
  height: 40px; }
  .sendbird-button--big .sendbird-button__text {
    margin: 10px 16px; }

.sendbird-button--small {
  height: 32px; }
  .sendbird-button--small .sendbird-button__text {
    margin: 6px 16px; }

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400); }

.sendbird-button--secondary {
  background-color: transparent; }
  .sendbird-theme--light .sendbird-button--secondary {
    border: 1px solid var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-button--secondary {
    border: 1px solid var(--sendbird-dark-ondark-03); }
  .sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:hover {
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary.sendbird-button__disabled {
    cursor: not-allowed;
    border: none; }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-dark-ondark-02); }
    .sendbird-button--secondary.sendbird-button__disabled:hover {
      border: none; }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-dark-background-400); }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-light-onlight-02); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-dark-ondark-02); }
  .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary:focus {
    border: 1px solid transparent;
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px; }
    .sendbird-theme--dark .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px; }
    .sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:active {
    box-shadow: none; }
    .sendbird-theme--light .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-button--danger:active {
  box-shadow: none; }
  .sendbird-theme--light .sendbird-button--danger:active {
    background-color: var(--sendbird-light-error-500); }
  .sendbird-theme--dark .sendbird-button--danger:active {
    background-color: var(--sendbird-dark-error-500); }

.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500); }

.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500); }

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-button--disabled {
    background-color: var(--sendbird-light-background-200);
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-button--disabled {
    background-color: var(--sendbird-dark-background-400);
    color: var(--sendbird-dark-onlight-01); }

.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px; }
  .sendbird-theme--light .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item .sendbird-user-list-item__avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    cursor: pointer; }
  .sendbird-user-list-item .sendbird-muted-avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    pointer-events: none; }
  .sendbird-user-list-item .sendbird-user-list-item__title {
    position: absolute;
    top: 17px;
    left: 56px;
    max-width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item .sendbird-user-list-item__action {
    position: absolute;
    right: 0;
    top: 10px; }
  .sendbird-user-list-item .sendbird-user-list-item__operator {
    position: absolute;
    right: 40px;
    top: 22px; }
    .sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
      right: 66px; }

.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block; }
  .sendbird-muted-avatar .sendbird-muted-avatar__icon {
    position: relative; }
    .sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
      position: absolute;
      top: 4px;
      left: 4px; }
  .sendbird-muted-avatar .sendbird-muted-avatar__bg {
    opacity: .5;
    position: absolute;
    border-radius: 50%;
    top: 0;
    left: 0; }
    .sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-dark-primary-300); }

.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none; }

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0; }

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit; }
  .sendbird-theme--light .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-light-background-400); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-dark-background-300); }
  .sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none; }

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block; }

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center; }
  .sendbird-theme--light .sendbird__user-profile {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird__user-profile {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird__user-profile .sendbird__user-profile-avatar {
    margin: 8px 0px; }
  .sendbird__user-profile .sendbird__user-profile-name {
    max-width: 250px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis; }
  .sendbird__user-profile .sendbird__user-profile-message {
    margin-top: 20px; }
    .sendbird__user-profile .sendbird__user-profile-message button {
      width: 272px; }
  .sendbird__user-profile .sendbird__user-profile-separator {
    margin: 24px 0px;
    height: 1px; }
    .sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-dark-ondark-04); }
  .sendbird__user-profile .sendbird__user-profile-userId--label,
  .sendbird__user-profile .sendbird__user-profile-userId--value {
    display: block;
    text-align: left; }
  .sendbird__user-profile .sendbird__user-profile-userId--label {
    margin-bottom: 8px; }

.sendbird-context-menu {
  display: 'inline'; }

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed; }

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
    cursor: pointer;
    white-space: nowrap;
    padding: 8px 16px; }
    .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
    margin: 4px; }

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center; }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
          max-width: 74px;
          justify-content: flex-end; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        display: flex;
        align-items: center;
        margin-left: 8px;
        margin-bottom: 12px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
          display: inline-flex;
          align-items: center;
          margin-right: 4px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-light-secondary-300); }
  .sendbird-theme--dark .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-dark-secondary-200); }

.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block; }
  .sendbird-theme--light .sendbird-badge {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-badge {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-badge .sendbird-badge__text {
    margin: 0px 6px; }

.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }
  .sendbird-mention-user-label:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-mention-user-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-mention-user-label {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-mention-user-label.reverse {
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-mention-user-label.reverse {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-mention-user-label.purple {
    font-family: Roboto;
    font-size: 18px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: normal;
    letter-spacing: normal; }
    .sendbird-theme--light .sendbird-mention-user-label.purple {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-mention-user-label.purple {
      color: var(--sendbird-dark-primary-200); }

.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-light-background-100);
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-dark-background-400);
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-reaction-button__inner {
    margin: 3px; }

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-light-primary-100);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-dark-primary-400);
    background-color: var(--sendbird-dark-primary-400); }
  .sendbird-reaction-button--selected:hover {
    border: solid 1px var(--sendbird-selected-reaction-button-border-hover); }
  .sendbird-reaction-button--selected__inner {
    margin: 3px; }
  .sendbird-reaction-button--selected.sendbird-reactions--pressed {
    display: block !important; }

.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%; }
  .sendbird-message-status .sendbird-message-status__icon {
    position: relative;
    display: inline-block;
    top: -2px; }
    .sendbird-message-status .sendbird-message-status__icon.hide-icon {
      display: none; }
  .sendbird-message-status .sendbird-message-status__text {
    position: relative;
    display: inline-block;
    margin-left: 4px; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
        cursor: pointer; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
        cursor: pointer; }

.sendbird-loader {
  display: inline-block;
  -webkit-animation: 1s infinite linear;
          animation: 1s infinite linear;
  -webkit-animation-name: rotate;
          animation-name: rotate; }

@-webkit-keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

@keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

.sendbird-edit-user-profile section {
  margin-top: 16px; }
  .sendbird-edit-user-profile section .sendbird-input-label {
    display: block;
    margin-bottom: 12px; }

.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px; }

.sendbird-edit-user-profile__img {
  position: relative; }

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px; }

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer; }

.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative; }
  .sendbird-input .sendbird-input__input {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    letter-spacing: normal;
    padding: 10px 16px;
    box-sizing: border-box;
    background-color: inherit; }
    .sendbird-theme--light .sendbird-input .sendbird-input__input {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03); }
    .sendbird-input .sendbird-input__input:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-light-onlight-01);
        border: solid 2px var(--sendbird-light-primary-300); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-dark-ondark-01);
        border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-light-onlight-01);
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-dark-ondark-01);
      border: solid 1px var(--sendbird-dark-primary-200); }
    .sendbird-input .sendbird-input__input:disabled {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-light-background-100);
        color: var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-dark-background-500);
        color: var(--sendbird-dark-ondark-03); }
  .sendbird-input .sendbird-input__placeholder {
    position: absolute;
    pointer-events: none;
    top: 10px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-dark-ondark-03); }

.sendbird-input-label {
  margin: 4px 0; }

.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block; }

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer; }

.sendbird-textbutton--disabled {
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-textbutton--disabled {
    color: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-textbutton--disabled {
    color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300); }

.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%; }
  .sendbird-place-holder .sendbird-place-holder__body {
    display: flex;
    flex-direction: column;
    height: 104px;
    align-items: center; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
      margin-bottom: 10px; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
      margin-top: 10px; }
  .sendbird-place-holder .sendbird-place-holder__body__reconnect {
    margin-top: 18px;
    display: flex;
    flex-direction: row;
    cursor: pointer; }
    .sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
      margin-right: 4px; }
  .sendbird-place-holder .sendbird-place-holder__body--align-top {
    position: absolute;
    top: 24px;
    display: flex;
    width: 100%;
    flex-direction: column;
    justify-content: center; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
      display: flex;
      flex-direction: row;
      justify-content: center;
      padding-left: 16px;
      padding-right: 16px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
        display: flex;
        min-width: 60px;
        margin-right: 2px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
        display: block;
        max-width: calc(100% - 62px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
      display: flex;
      justify-content: center; }

.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-conversation {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-conversation {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-conversation__messages {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2; }

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end; }

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px; }

@-webkit-keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@-webkit-keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@-webkit-keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

.sendbird-msg-hoc__animated .sendbird-message-content {
  -webkit-animation: bounce 1s ease;
          animation: bounce 1s ease; }

@-webkit-keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

@keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  -webkit-animation-name: sbTextHighlight;
          animation-name: sbTextHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body
.sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body
.sendbird-og-message-item-body__cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column; }
  .sendbird-conversation__scroll-container .sendbird-conversation__padding {
    flex: 1 1 0; }

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px; }
  .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
    position: absolute;
    display: inline-flex;
    bottom: 8px; }
    .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
      margin-left: 24px;
      margin-right: 10px; }

.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px; }

.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow: scroll; }

.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px; }

.sendbird-conversation__scroll-bottom-button {
  position: -webkit-sticky;
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1; }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-05); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-dark-background-400);
    box-shadow: var(--sendbird-dark-shadow-05); }
  .sendbird-conversation__scroll-bottom-button:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-conversation__scroll-bottom-button:focus {
    outline: none; }

.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px; }
  .sendbird-theme--light .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
      position: relative;
      display: inline-block; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
      position: relative;
      display: inline-block;
      margin-left: 16px;
      max-width: calc(100% - 250px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
      position: absolute;
      display: inline-block;
      right: 16px;
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
      margin-right: 4px; }

.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center; }
  .sendbird-separator .sendbird-separator__left {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__right {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__text {
    margin: 0px 16px;
    display: flex;
    white-space: nowrap; }

.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative; }
  .sendbird-message-input .sendbird-message-input--textarea {
    width: 100%;
    border-radius: 4px;
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    height: 56px;
    overflow-y: hidden;
    letter-spacing: normal;
    padding: 18px 64px 18px 16px;
    box-sizing: border-box;
    resize: none;
    font-family: var(--sendbird-font-family-default);
    background-color: inherit;
    white-space: pre-wrap; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03);
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-message-input .sendbird-message-input--textarea:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-light-onlight-01);
        border: solid 1px var(--sendbird-light-primary-300);
        box-shadow: var(--sendbird-light-shadow-message-input); }
      .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-dark-ondark-01);
        border: solid 1px var(--sendbird-dark-primary-200);
        box-shadow: var(--sendbird-dark-shadow-message-input); }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-message-input .sendbird-message-input--placeholder {
    position: absolute;
    pointer-events: none;
    top: 18px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-dark-ondark-03); }
  .sendbird-message-input .sendbird-message-input--attach {
    position: absolute;
    right: 12px;
    bottom: 18px;
    padding: 6px; }
  .sendbird-message-input .sendbird-message-input--send {
    position: absolute;
    padding: 6px;
    right: 16px;
    bottom: 16px; }
  .sendbird-message-input .sendbird-message-input--attach-input {
    display: none; }

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-input__edit {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-message-input__edit {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px; }
  .sendbird-message-input--edit-action button:last-child {
    margin-left: 8px; }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
    width: 80px; }
    .sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-dark-ondark-03); }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
    width: 80px; }

.sendbird-message-input-form__disabled {
  cursor: not-allowed; }

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled; }
  .sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-input__disabled svg {
    fill: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-message-input__disabled svg {
    fill: var(--sendbird-dark-ondark-03); }

.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%; }
  .sendbird-message-content.incoming {
    justify-content: flex-start; }
  .sendbird-message-content.outgoing {
    justify-content: flex-end; }
  .sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
    margin-top: -8px;
    bottom: -8px; }

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px; }
  .sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
    position: absolute;
    left: 0px;
    bottom: 2px; }

.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-start; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
    position: absolute;
    bottom: 6px;
    right: -84px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    min-width: 80px; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
      display: none; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
    position: relative;
    margin-left: 12px;
    margin-bottom: 4px; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }

.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
    width: 70px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
    padding-top: 2px; }
    .sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
      padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
    position: relative;
    flex-direction: row;
    height: 32px;
    display: none; }
    .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
    width: 70px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
    top: 18px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
    position: absolute;
    top: 2px;
    right: 4px;
    flex-direction: row;
    display: none; }
    .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-end; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
    position: relative;
    width: -webkit-fit-content;
    width: -moz-fit-content;
    width: fit-content; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
      position: absolute;
      bottom: 2px;
      left: -84px;
      white-space: nowrap;
      display: flex;
      justify-content: flex-end;
      box-sizing: content-box;
      min-width: 80px;
      min-height: 16px; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
        display: none; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
        position: relative;
        display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column; }
  .sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
    width: 100%;
    box-sizing: border-box; }

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px; }
  .sendbird-theme--light .sendbird-message-content-reactions {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-content-reactions {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-dark-primary-300); }

.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none; }

.sendbird-text {
  color: var(--primary-1); }

.sendbird-emoji-reactions {
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px; }
  .sendbird-theme--light .sendbird-emoji-reactions {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-emoji-reactions {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
    display: inline-flex;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px; }
  .sendbird-emoji-reactions:focus {
    outline: none; }

.sendbird-emoji-reactions__add-reaction-badge {
  display: inline-flex;
  width: 36px;
  height: 24px; }

.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px; }
  .sendbird-theme--light .sendbird-tooltip {
    background-color: var(--sendbird-light-background-700); }
  .sendbird-theme--dark .sendbird-tooltip {
    background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip::after {
    content: '';
    position: absolute;
    bottom: -4px;
    width: 8px;
    height: 8px;
    transform: rotate(45deg); }
    .sendbird-theme--light .sendbird-tooltip::after {
      background-color: var(--sendbird-light-background-700); }
    .sendbird-theme--dark .sendbird-tooltip::after {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip__text {
    font-family: var(--sendbird-font-family-default);
    font-size: 12px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.33;
    letter-spacing: normal; }

.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex; }
  .sendbird-tooltip-wrapper__hover-tooltip {
    position: absolute;
    display: inline-flex;
    width: 200px; }
    .sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
      position: relative;
      display: inline-flex; }

.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge--is-add:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }
  .sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    left: 8px; }

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-light-primary-100);
    border: solid 1px var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-dark-primary-400);
    border: solid 1px var(--sendbird-dark-primary-400); }
  .sendbird-reaction-badge--selected:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    position: absolute;
    top: 2px;
    left: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
    margin-left: 4px; }

.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center; }
  .sendbird-admin-message .sendbird-admin-message__text {
    display: flex; }

.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word; }
  .sendbird-text-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
    display: inline;
    margin: 0px 2px; }

div.sendbird-text-message-item-body {
  margin: 0px; }

.sendbird-word {
  display: inline-flex;
  margin-right: 4px;
  height: -webkit-fit-content;
  height: -moz-fit-content;
  height: fit-content; }
  .sendbird-word .sendbird-word__url,
  .sendbird-word .sendbird-word__normal {
    display: inline-block; }

.sendbird-link-label {
  text-decoration: unset; }
  .sendbird-link-label:hover {
    cursor: pointer;
    text-decoration: underline; }
  .sendbird-link-label:focus {
    outline: none; }
  .sendbird-link-label__label {
    display: inline; }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-word .sendbird-word__mention {
  display: inline-block; }
  .sendbird-word .sendbird-word__mention:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-dark-onlight-01); }

.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px; }
  .sendbird-file-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin-right: 8px; }
    .sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
    position: relative;
    top: -6px; }

.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px; }
  .sendbird-thumbnail-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
    position: absolute;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
    position: absolute;
    top: 0px;
    display: none;
    width: 100%;
    height: 270px;
    border-radius: 16px;
    background-color: var(--sendbird-light-overlay-01); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
    position: absolute;
    width: 100%;
    height: 270px;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer; }
  .sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
    display: inline-flex; }

.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
    position: relative;
    padding: 8px 12px;
    box-sizing: border-box;
    border-radius: 16px 16px 0px 0px;
    word-break: break-word; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
      display: inline;
      margin: 0px 2px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
    position: relative;
    overflow: hidden; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center; }
  .sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
    border-radius: 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 8px 12px;
    display: flex;
    flex-direction: column;
    border-radius: 0px 0px 16px 16px; }
    .sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
      margin-bottom: 4px;
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block;
      margin: 4px 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
    display: none;
    position: absolute;
    top: 0%;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px 16px 0px 0px; }

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px; }

.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px; }
  .sendbird-unknown-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
    display: block; }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
    display: block; }

.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px; }
  .sendbird-quote-message.incoming {
    align-items: flex-start; }
  .sendbird-quote-message.outgoing {
    align-items: flex-end; }
  .sendbird-quote-message .sendbird-quote-message__replied-to {
    position: relative;
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    height: 16px;
    padding: 0px 12px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
      position: relative;
      margin-bottom: 4px;
      margin-right: 4px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
      position: relative;
      max-width: 360px;
      overflow: hidden;
      overflow-x: hidden;
      white-space: nowrap;
      word-break: keep-all;
      text-overflow: ellipsis;
      font-size: 12px; }
  .sendbird-quote-message .sendbird-quote-message__replied-message {
    position: relative;
    display: inline-flex; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
      position: relative;
      white-space: pre-wrap;
      word-break: break-all;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
        position: relative;
        display: inline-flex;
        max-height: 30px;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
      position: relative;
      width: 144px;
      height: 108px;
      border-radius: 6.4px;
      overflow: hidden; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
        position: absolute;
        top: 0px;
        display: inline-flex;
        width: 100%;
        height: 100%;
        opacity: 0.5; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center; }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        top: 0px; }
        .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
          position: relative;
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
          .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
          .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
      position: relative;
      display: inline-flex;
      flex-direction: row;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
        margin-right: 2px; }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-message-input-wrapper {
  position: relative;
  width: 100%; }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
    position: relative;
    width: 100%; }
    .sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding-left: 24px;
    padding-right: 24px; }

.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
    width: 44px;
    min-width: 44px;
    height: 44px;
    min-height: 44px;
    position: relative;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-quote_message_input .sendbird-quote_message_input__body {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    overflow: hidden; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-bottom: 8px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__close-button {
    position: absolute;
    top: 26px;
    right: 40px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
      cursor: pointer; }

.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-channel-settings .sendbird-channel-settings__header-icon {
    cursor: pointer;
    position: absolute;
    top: 16px;
    right: 16px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-channel-settings .sendbird-channel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-settings .sendbird-channel-settings__scroll-area {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    height: calc(100% - 64px);
    overflow-y: auto; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-item {
    cursor: pointer;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
      outline: none; }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    position: absolute;
    top: 10px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
    left: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    right: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
    transform: rotate(90deg); }
  .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-dark-ondark-01); }

.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-profile .sendbird-channel-profile--inner {
    height: 92px; }
  .sendbird-channel-profile .sendbird-channel-profile__avatar {
    margin-bottom: 16px;
    display: flex;
    justify-content: center; }
  .sendbird-channel-profile .sendbird-channel-profile__title {
    display: block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-channel-profile .sendbird-channel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }

.channel-profile-form .channel-profile-form__img-section {
  position: relative; }

.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px; }

.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px; }

.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px; }
  .channel-profile-form .channel-profile-form__name-section .sendbird-input {
    height: 40px; }

.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px; }

.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative; }

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow: scroll; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
    right: 72px; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
    max-width: 240px; }

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block; }

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px; }
  .sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
    margin-left: 8px; }

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px; }
  .sendbird-channel-settings__frozen-icon .sendbird-icon {
    cursor: pointer; }

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px; }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-light-onlight-02); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-dark-ondark-02); }

.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-accordion .sendbird-accordion__member {
    position: relative;
    padding: 12px 0px 12px 44px;
    height: 40px;
    box-sizing: border-box; }
  .sendbird-accordion .sendbird-accordion__footer {
    display: flex;
    justify-content: flex-start;
    margin-top: 8px; }

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-accordion__panel-header {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-accordion__panel-header {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-accordion__panel-header:focus {
    outline: none; }
  .sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
    cursor: not-allowed; }

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px; }

.sendbird-accordion__panel-icon-left {
  left: 16px; }

.sendbird-accordion__panel-icon-right {
  right: 16px; }

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg); }

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300); }

.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px; }
  .sendbird-user-list-item--small__avatar {
    cursor: pointer;
    position: absolute;
    top: 10px;
    left: 12px; }
  .sendbird-user-list-item--small .sendbird-muted-avatar {
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 2;
    pointer-events: none; }
  .sendbird-user-list-item--small__title {
    position: absolute;
    top: 10px;
    left: 54px;
    width: 160px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item--small__action {
    display: none;
    position: absolute;
    right: 10px;
    top: 4px; }
  .sendbird-user-list-item--small__operator {
    position: absolute;
    right: 24px;
    top: 10px; }
  .sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
    display: block; }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
    display: none; }
  .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-search-pannel {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-pannel {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
    position: absolute;
    top: 14px;
    left: 48px;
    margin: 0px;
    padding: 0px;
    border: 0px;
    outline: none;
    font-size: 14px;
    width: calc(100% - 90px); }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-light-onlight-01);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-dark-ondark-01);
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
    position: relative;
    display: flex;
    width: 100%;
    height: 64px;
    min-height: 64px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
      position: absolute;
      top: 20px;
      left: 24px;
      width: calc(100% - 74px);
      overflow-x: hidden;
      word-break: keep-all;
      text-overflow: ellipsis; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
      position: absolute;
      top: 16px;
      right: 16px; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input {
    display: flex;
    position: relative;
    padding: 16px;
    box-sizing: border-box; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
      position: relative;
      border-radius: 4px;
      width: 100%;
      height: 44px; }
      .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-dark-ondark-03); }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
        position: absolute;
        top: 10px;
        left: 16px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
        position: absolute;
        top: 12px;
        right: 12px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
        position: absolute;
        top: 12px;
        right: 12px; }
        .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
          cursor: pointer; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow-y: hidden; }

.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow: scroll; }
  .sendbird-theme--light .sendbird-message-search {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-item .sendbird-message-search-item__left {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-item .sendbird-message-search-item__right {
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 12px; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
      box-sizing: border-box;
      display: flex;
      width: inherit;
      height: 32px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 36px;
      word-break: break-word; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
      position: absolute;
      top: 12px;
      right: 18px; }
  .sendbird-message-search-item .sendbird-message-search-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__left {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
      position: absolute;
      top: 12px;
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
      position: absolute;
      top: 36px;
      box-sizing: border-box;
      width: 100%;
      height: 32px;
      display: flex;
      flex-direction: row;
      align-items: center; }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
        position: relative;
        margin-right: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        min-width: 26px;
        height: 26px;
        border-radius: 8px; }
        .sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-light-background-100); }
        .sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-dark-background-500); }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
        height: 16px;
        position: relative;
        display: flex;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: keep-all;
        white-space: nowrap; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
    position: absolute;
    top: 12px;
    right: 18px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box; }
  .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
    width: 320px;
    overflow-y: scroll;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-app__wrap .sendbird-app__conversation-wrap {
    flex: 1;
    position: relative;
    width: calc(100% - 320px); }
  .sendbird-app__wrap .sendbird-app__channellist-wrap {
    max-width: 320px; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-left: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-left: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-chat-header__search {
    margin-right: 16px; }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-channel-settings {
    border-left: none; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
    .sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
      height: 64px; }

.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-conversation {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-conversation {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
    overflow-y: auto;
    flex: 1 1 0;
    order: 2;
    width: 100%; }
  .sendbird-openchannel-conversation .sendbird-openchannel-footer {
    order: 3;
    padding: 12px 24px 24px 24px; }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
    display: flex;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column; }
    .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
      flex: 1 1 0; }

.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-dark-information-100); }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    bottom: 0px;
    height: 100%;
    overflow: hidden; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
      height: 8px; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
      width: 100%;
      height: 100%;
      overflow: scroll; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
      width: 100%;
      height: 100%; }
      .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
        width: 100%;
        height: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    bottom: 8px;
    left: calc(50% - 20px);
    width: 40px;
    height: 40px;
    border-radius: 24px;
    z-index: 1; }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-light-primary-300);
      box-shadow: var(--sendbird-light-shadow-05); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-dark-primary-200);
      box-shadow: var(--sendbird-dark-shadow-05); }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
      cursor: pointer; }
      .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-light-primary-400); }
      .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-dark-primary-300); }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-light-primary-500); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-dark-primary-400); }

.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
    display: block; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
      position: relative;
      display: flex;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 8px 24px 8px 12px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
      position: relative;
      display: flex;
      margin-bottom: 2px; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
      position: relative;
      display: flex;
      width: 100%; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
        position: relative;
        word-break: break-all; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
    position: absolute;
    right: 16px;
    display: none; }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
    word-wrap: break-word; }

.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
    display: block; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: row; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
      position: relative;
      display: flex;
      width: 52px;
      min-width: 52px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
        position: absolute;
        display: flex;
        top: 8px;
        left: 24px; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
      position: relative;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      margin: 8px 24px 8px 12px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
        position: relative;
        display: flex;
        margin-bottom: 2px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
          position: relative;
          display: flex; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
          position: relative;
          display: flex;
          margin-left: 4px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
        position: relative;
        display: inline;
        white-space: pre-wrap;
        word-break: break-all; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
      position: absolute;
      right: 16px;
      display: none; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-light-primary-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
    position: relative;
    display: inline;
    margin-bottom: 8px;
    width: 100%; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
      position: relative;
      display: inline-block;
      box-sizing: border-box;
      width: calc(100% - 64px);
      max-width: 360px;
      left: 64px;
      padding: 12px 12px 4px 12px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-light-onlight-04);
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-dark-ondark-04);
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
        position: relative;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 8px;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
        position: relative;
        display: inline-block;
        white-space: pre-wrap;
        overflow-wrap: normal;
        margin-bottom: 8px;
        max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-light-primary-300); }
          .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-dark-primary-200); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
        position: relative;
        display: block;
        white-space: pre-wrap;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        max-height: 32px;
        margin-bottom: 8px;
        width: 100%;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-top: 4px;
        margin-bottom: 8px;
        width: 100%; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
          cursor: pointer; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
    position: relative;
    left: 64px;
    top: 2px; }

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all; }

.sendbird-theme--light .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-dark-primary-200); }

.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
    display: block; }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
      position: absolute;
      display: inline;
      margin-top: 8px;
      margin-left: 28px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-left: 12px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
      position: relative;
      display: inline;
      margin-bottom: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
        position: relative;
        display: inline;
        margin-right: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
        position: relative;
        display: inline; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
      position: relative;
      display: flex;
      border-radius: 8px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
        opacity: 1; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
        position: relative;
        box-sizing: content-box; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
          position: absolute;
          opacity: 0;
          width: 100%;
          height: 100%;
          max-width: 360px;
          top: 0px;
          left: 0px;
          border-radius: 8px;
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-light-overlay-02); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-dark-overlay-02); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
          max-width: 360px;
          max-height: 360px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
            cursor: pointer; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
            max-width: 360px;
            max-height: 360px;
            border-radius: 8px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
            position: absolute;
            top: calc(50% - 28px);
            left: calc(50% - 28px); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
          border-radius: 8px; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-dark-background-500); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }

.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
    display: block; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
      position: absolute;
      display: block;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    margin-bottom: 4px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
      position: relative;
      display: flex;
      margin-top: 8px; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
      position: relative;
      display: flex;
      margin-top: 4px;
      margin-bottom: 4px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-light-background-100);
        border: solid 1px var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-dark-background-500);
        border: solid 1px var(--sendbird-dark-ondark-04); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
        position: relative;
        display: inline-block;
        margin: 8px;
        border-radius: 8.6px; }
        .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-light-background-50); }
        .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-dark-background-600); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
        position: relative;
        display: flex;
        margin-top: 22px;
        margin-right: 16px;
        margin-left: 4px;
        overflow: hidden;
        height: 20px;
        max-height: 20px;
        text-overflow: ellipsis;
        white-space: nowrap; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative; }
  .sendbird-theme--light .sendbird-openchannel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-participants-accordion__footer {
    text-align: left;
    padding-top: 16px;
    padding-left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
    position: absolute;
    left: 14px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
    position: absolute;
    left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
    height: 100%; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
      padding-top: 64px;
      height: calc(100% - 64px);
      overflow-y: scroll; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
      display: block;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0; }
      .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-settings .sendbird-participants-accordion,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
    text-align: left; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
    margin-top: 40%; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    padding: 16px;
    box-sizing: border-box;
    position: relative; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
      display: inline-block; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
      cursor: pointer;
      position: absolute;
      display: none;
      top: 10px;
      right: 18px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
      margin-top: 8px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
      text-align: left;
      display: block;
      word-wrap: break-word; }
  .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
    display: block;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
      outline: none; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member {
    position: relative;
    padding: 12px 0px 12px 56px;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
      max-width: 190px;
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
      position: absolute;
      right: 16px; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
      display: inline-block; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
    position: absolute;
    left: 16px;
    top: 10px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
    position: absolute;
    display: none;
    top: 4px;
    right: 8px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
  .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
    padding-top: 16px;
    display: flex;
    justify-content: left;
    padding-left: 12px; }
    .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
      margin-left: 8px; }

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll; }

.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
    height: 116px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
    margin-bottom: 16px;
    text-align: center; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__title {
    display: inline-block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }`;ia(Foe);var Hoe=function(e){var n=e.userId,t=e.appId,r=e.accessToken,i=e.chatInstance;return va(void 0,void 0,void 0,function(){var o;return _a(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),xr.exports.SendbirdLive.init({appId:t,chatInstance:i}),[4,xr.exports.SendbirdLive.authenticate(n,r)];case 1:return u.sent(),[3,3];case 2:return o=u.sent(),console.error(o),[3,3];case 3:return[2]}})})},qoe=function(){function e(){this._topics={},this._topics={}}return e.prototype.subscribe=function(n,t){var r=this;this._topics[n]||(this._topics[n]=[]);var i=this._topics[n].push(t)-1;return{remove:function(){delete r._topics[n][i]}}},e.prototype.publish=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];!this._topics[n]||this._topics[n].forEach(function(i){i.apply(void 0,t)})},e}(),Lo=k.createContext({});function zh(){var e=U.exports.useContext(b3);return e}function Boe(e){var n=this,t,r,i,o,u=e.userId,c=e.appId,h=e.accessToken,f=e.customApiHost,v=e.customWebSocketHost,_=e.children,y=e.theme,E=e.colorSet,x=e.stringSet,C=e.imageSet,M=e.fontSet,S=U.exports.useState(!1),N=S[0],D=S[1],H=U.exports.useState(),K=H[0],z=H[1],W=zh(),j=(r=(t=W==null?void 0:W.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,ce=(o=(i=W==null?void 0:W.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized;return U.exports.useEffect(function(){var ue=function(){return va(n,void 0,void 0,function(){return _a(this,function(we){switch(we.label){case 0:return ce?[4,Hoe({userId:u,appId:c,accessToken:h,chatInstance:j})]:[2];case 1:return we.sent(),z(new qoe),D(!0),[2]}})})};ue()},[u,c,h,ce]),k.createElement(Lo.Provider,{value:{userId:u,appId:c,accessToken:h,customApiHost:f,customWebSocketHost:v,children:_,theme:y,colorSet:E,stringSet:x,imageSet:C,fontSet:M,pubSub:K}},N?_:k.createElement("div",null))}var KD=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(e){return"".concat(e,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(e){return"".concat(e," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(e){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(e){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(e){return"".concat(e)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function Goe(e){var n=e.userId,t=e.appId,r=e.nickname,i=e.accessToken;e.customApiHost,e.customWebSocketHost,e.children,e.theme;var o=e.colorSet,u=e.stringSet,c=U.exports.useMemo(function(){return u?Su(Su({},KD()),u):KD()},[u]);return k.createElement(H3,{userId:n,appId:t,nickname:r,accessToken:i,colorSet:o},k.createElement(Boe,Su({},e,{stringSet:c})))}var QD,YD,XD;function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Q2.apply(this,arguments)}var $oe=function(n){return U.exports.createElement("svg",Q2({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},n),QD||(QD=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},U.exports.createElement("path",{d:"M112 0v64H0V0h112z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},U.exports.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),YD||(YD=U.exports.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),XD||(XD=U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},U.exports.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},U.exports.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},zoe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;ia(zoe);function joe(e){var n,t,r=e.liveEvent,i=e.onClick,o=e.showHostNickname,u=o===void 0?!0:o,c=e.showStatusLabel,h=c===void 0?!0:c,f=U.exports.useContext(Lo).stringSet,v=function(_){switch(_){case"created":return f.EVENT_STATUS_CREATED;case"ready":return f.EVENT_STATUS_READY;case"ongoing":return f.EVENT_STATUS_ONGOING;case"ended":return f.EVENT_STATUS_ENDED}};return k.createElement("div",{className:"live-event-elem",onClick:function(){return i(r)}},k.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?k.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):k.createElement($oe,{viewBox:"0 0 112 64",width:112,height:64})),k.createElement("div",{className:"detail"},k.createElement("div",{className:"title__wrapper"},k.createElement("div",{className:"title"},r.title?r.title:f.CREATE_EVENT_DEFAULT_TITLE),k.createElement("div",{className:"participant-count__wrapper"},r.state===xr.exports.LiveEventState.ONGOING?k.createElement("div",{className:"participant-icon--red"}):k.createElement("div",{className:"participant-icon--grey"}),k.createElement("div",{className:"participant-count"},(n=r.participantCount)!==null&&n!==void 0?n:0))),u&&k.createElement("div",{className:"created-by"},r.host?(t=r.host.nickname)!==null&&t!==void 0?t:"HOST":f.LIST_HOST_NICKNAME_PLACEHOLDER),h&&k.createElement("div",{className:"event-state--".concat(r.state)},v(r.state))))}var JD;function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Y2.apply(this,arguments)}var Voe=function(n){return U.exports.createElement("svg",Y2({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),JD||(JD=U.exports.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function Woe(e){var n=this,t=e.onClickCreate,r=e.onClickElem,i=e.queryParams,o=e.renderTitle,u=e.renderCreateButton,c=e.renderLiveEventElem,h=e.showStatusLabel,f=h===void 0?!0:h,v=e.showHostNickname,_=v===void 0?!0:v,y=U.exports.useContext(Lo).stringSet,E=i||{limit:20},x=U.exports.useState(xr.exports.SendbirdLive.createLiveEventListQuery(E)),C=x[0],M=x[1],S=U.exports.useRef(null),N=U.exports.useState([]),D=N[0],H=N[1],K=function(){return va(n,void 0,void 0,function(){return _a(this,function(j){switch(j.label){case 0:return M(xr.exports.SendbirdLive.createLiveEventListQuery(E)),S.current&&(S.current.scrollTop=0),[4,z(!0)];case 1:return j.sent(),[2]}})})},z=function(j){return va(n,void 0,void 0,function(){var ce;return _a(this,function(ue){switch(ue.label){case 0:if(!C.hasNext)return[2];ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,C.next()];case 2:return ce=ue.sent(),j?H(ce):(M(C),H(Fa(Fa([],D,!0),ce,!0))),[3,4];case 3:return ue.sent(),[3,4];case 4:return[2]}})})},W=function(){if(S.current){var j=S.current,ce=j.scrollTop,ue=j.scrollHeight,we=j.clientHeight;ce+we===ue&&z(!1)}};return U.exports.useEffect(function(){K()},[i]),k.createElement("div",{className:"live-event-list-view"},k.createElement("div",{className:"header"},(o==null?void 0:o())||k.createElement("div",{className:"title"},y.LIST_HEADER_TITLE),k.createElement("div",{className:"refresh",onClick:K},k.createElement(Voe,{viewBox:"0 0 64 64",width:22,height:22})),(u==null?void 0:u())||k.createElement("div",{className:"create-button",onClick:t},y.LIST_HEADER_BUTTON)),k.createElement("div",{className:"list",ref:S,onScroll:W},D.map(function(j){return(c==null?void 0:c({liveEvent:j,onClick:r}))||k.createElement(joe,{key:j.liveEventId,liveEvent:j,showStatusLabel:f,showHostNickname:_,onClick:r})})))}var wv="SEND_MESSAGE_START",xv="SEND_USER_MESSAGE",kv="SEND_FILE_MESSAGE",X2="UPDATE_USER_MESSAGE",J2="DELETE_MESSAGE",Koe="CREATE_CHANNEL",Pg=function(){},w0=k.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null}),q3=function(n){var t=n.children;return k.createElement(w0.Provider,{value:n},t)};q3.propTypes={children:he.exports.oneOfType([he.exports.element,he.exports.arrayOf(he.exports.element),he.exports.any]).isRequired,isOpenChannel:he.exports.bool,disableUserProfile:he.exports.bool,renderUserProfile:he.exports.func};q3.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var gs={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},Co={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function Qoe(e){switch(e){case gs.H_1:return"sendbird-label--h-1";case gs.H_2:return"sendbird-label--h-2";case gs.SUBTITLE_1:return"sendbird-label--subtitle-1";case gs.SUBTITLE_2:return"sendbird-label--subtitle-2";case gs.BODY_1:return"sendbird-label--body-1";case gs.BODY_2:return"sendbird-label--body-2";case gs.BUTTON_1:return"sendbird-label--button-1";case gs.BUTTON_2:return"sendbird-label--button-2";case gs.CAPTION_1:return"sendbird-label--caption-1";case gs.CAPTION_2:return"sendbird-label--caption-2";case gs.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function ZF(e){switch(e){case Co.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case Co.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case Co.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case Co.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case Co.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case Co.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case Co.PRIMARY:return"sendbird-label--color-primary";case Co.ERROR:return"sendbird-label--color-error";case Co.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}function Xn(e){var n=e.className,t=e.type,r=e.color,i=e.children;return k.createElement("span",{className:[].concat(Ic(Array.isArray(n)?n:[n]),["sendbird-label",t?Qoe(t):"",r?ZF(r):""]).join(" ")},i)}Xn.propTypes={className:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),type:he.exports.oneOf(["H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3"]),color:he.exports.oneOf(["ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ONCONTENT_1","ONCONTENT_2","PRIMARY","ERROR","SECONDARY_3"]),children:he.exports.oneOfType([he.exports.string,he.exports.number,he.exports.element,he.exports.any])};Xn.defaultProps={className:[],type:"",color:"",children:null};var Yn=gs,Bn=Co,Ru=k.forwardRef(function(e,n){var t=e.className,r=t===void 0?"":t,i=e.children,o=e.disabled,u=o===void 0?!1:o,c=e.width,h=c===void 0?"56px":c,f=e.height,v=f===void 0?"56px":f,_=e.type,y=_===void 0?"button":_,E=e.style,x=E===void 0?{}:E,C=e.onBlur,M=C===void 0?function(){}:C,S=e.onClick,N=S===void 0?function(){}:S,D=U.exports.useState(!1),H=D[0],K=D[1];return k.createElement("button",{className:qn(qn([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",H?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:u,ref:n,type:y,style:on(on({},x),{height:v,width:h}),onClick:function(W){u||(K(!0),N==null||N(W))},onBlur:function(W){K(!1),M==null||M(W)}},k.createElement("span",{className:"sendbird-iconbutton__inner"},i))}),vs=function(n){var t=n.className,r=t===void 0?"":t,i=n.url,o=n.alt,u=o===void 0?"":o,c=n.width,h=c===void 0?null:c,f=n.height,v=f===void 0?null:f,_=n.circle,y=_===void 0?!1:_,E=n.fixedSize,x=E===void 0?!1:E,C=n.placeHolder,M=C===void 0?null:C,S=n.defaultComponent,N=S===void 0?null:S,D=n.onLoad,H=D===void 0?function(){}:D,K=n.onError,z=K===void 0?function(){}:K,W=U.exports.useState(!1),j=W[0],ce=W[1],ue=U.exports.useState(!0),we=ue[0],Se=ue[1],ie=U.exports.useMemo(function(){return typeof N=="function"?N():N},[N]),oe=U.exports.useMemo(function(){return M&&typeof M=="function"?M({style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null},[M]),de=U.exports.useMemo(function(){return ce(!1),k.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:i,alt:u,onLoad:function(){Se(!1),H()},onError:function(){ce(!0),z()}})},[i]);return k.createElement("div",{className:qn(qn([],Array.isArray(r)?r:[r],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v}},we&&oe,j?ie:k.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:h,maxWidth:x?h:"400px",height:v,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(i,")"),borderRadius:y?"50%":null}}),de)},Ue={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},ZD;function Z2(){return Z2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Z2.apply(this,arguments)}function Yoe(e){return U.exports.createElement("svg",Z2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),ZD||(ZD=U.exports.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var eU;function ew(){return ew=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ew.apply(this,arguments)}function Xoe(e){return U.exports.createElement("svg",ew({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),eU||(eU=U.exports.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var nU;function nw(){return nw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nw.apply(this,arguments)}function Joe(e){return U.exports.createElement("svg",nw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),nU||(nU=U.exports.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var tU;function tw(){return tw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tw.apply(this,arguments)}function Zoe(e){return U.exports.createElement("svg",tw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),tU||(tU=U.exports.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var rU;function rw(){return rw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rw.apply(this,arguments)}function ele(e){return U.exports.createElement("svg",rw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),rU||(rU=U.exports.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var iU;function iw(){return iw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},iw.apply(this,arguments)}function nle(e){return U.exports.createElement("svg",iw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),iU||(iU=U.exports.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var aU;function aw(){return aw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},aw.apply(this,arguments)}function tle(e){return U.exports.createElement("svg",aw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),aU||(aU=U.exports.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var sU;function sw(){return sw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},sw.apply(this,arguments)}function rle(e){return U.exports.createElement("svg",sw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),sU||(sU=U.exports.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var oU;function ow(){return ow=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ow.apply(this,arguments)}function ile(e){return U.exports.createElement("svg",ow({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),oU||(oU=U.exports.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var lU;function lw(){return lw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lw.apply(this,arguments)}function ale(e){return U.exports.createElement("svg",lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),lU||(lU=U.exports.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var uU;function uw(){return uw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},uw.apply(this,arguments)}function sle(e){return U.exports.createElement("svg",uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),uU||(uU=U.exports.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var cU;function cw(){return cw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cw.apply(this,arguments)}function ole(e){return U.exports.createElement("svg",cw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),cU||(cU=U.exports.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var dU;function dw(){return dw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dw.apply(this,arguments)}function lle(e){return U.exports.createElement("svg",dw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),dU||(dU=U.exports.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var hU;function hw(){return hw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hw.apply(this,arguments)}function ule(e){return U.exports.createElement("svg",hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),hU||(hU=U.exports.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var pU;function pw(){return pw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pw.apply(this,arguments)}function cle(e){return U.exports.createElement("svg",pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),pU||(pU=U.exports.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var fU;function fw(){return fw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fw.apply(this,arguments)}function dle(e){return U.exports.createElement("svg",fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),fU||(fU=U.exports.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var mU;function mw(){return mw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mw.apply(this,arguments)}function hle(e){return U.exports.createElement("svg",mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),mU||(mU=U.exports.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var gU;function gw(){return gw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gw.apply(this,arguments)}function ple(e){return U.exports.createElement("svg",gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),gU||(gU=U.exports.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var vU;function vw(){return vw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vw.apply(this,arguments)}function fle(e){return U.exports.createElement("svg",vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),vU||(vU=U.exports.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var _U;function _w(){return _w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_w.apply(this,arguments)}function mle(e){return U.exports.createElement("svg",_w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),_U||(_U=U.exports.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var bU;function bw(){return bw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bw.apply(this,arguments)}function gle(e){return U.exports.createElement("svg",bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),bU||(bU=U.exports.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var yU;function yw(){return yw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yw.apply(this,arguments)}function vle(e){return U.exports.createElement("svg",yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},e),yU||(yU=U.exports.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var EU;function Ew(){return Ew=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ew.apply(this,arguments)}function _le(e){return U.exports.createElement("svg",Ew({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),EU||(EU=U.exports.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var wU;function ww(){return ww=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ww.apply(this,arguments)}function ble(e){return U.exports.createElement("svg",ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),wU||(wU=U.exports.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var xU;function xw(){return xw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xw.apply(this,arguments)}function yle(e){return U.exports.createElement("svg",xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),xU||(xU=U.exports.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var kU;function kw(){return kw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kw.apply(this,arguments)}function Ele(e){return U.exports.createElement("svg",kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),kU||(kU=U.exports.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var CU;function Cw(){return Cw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cw.apply(this,arguments)}function wle(e){return U.exports.createElement("svg",Cw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),CU||(CU=U.exports.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var SU;function Sw(){return Sw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sw.apply(this,arguments)}function xle(e){return U.exports.createElement("svg",Sw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),SU||(SU=U.exports.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var NU;function Nw(){return Nw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nw.apply(this,arguments)}function kle(e){return U.exports.createElement("svg",Nw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),NU||(NU=U.exports.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var TU;function Tw(){return Tw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Tw.apply(this,arguments)}function Cle(e){return U.exports.createElement("svg",Tw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),TU||(TU=U.exports.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var IU;function Iw(){return Iw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Iw.apply(this,arguments)}function Sle(e){return U.exports.createElement("svg",Iw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),IU||(IU=U.exports.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var OU;function Ow(){return Ow=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ow.apply(this,arguments)}function Nle(e){return U.exports.createElement("svg",Ow({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),OU||(OU=U.exports.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var AU;function Aw(){return Aw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Aw.apply(this,arguments)}function Tle(e){return U.exports.createElement("svg",Aw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),AU||(AU=U.exports.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var RU;function Rw(){return Rw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rw.apply(this,arguments)}function Ile(e){return U.exports.createElement("svg",Rw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),RU||(RU=U.exports.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var MU;function Mw(){return Mw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mw.apply(this,arguments)}function Ole(e){return U.exports.createElement("svg",Mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),MU||(MU=U.exports.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var DU;function Dw(){return Dw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dw.apply(this,arguments)}function Ale(e){return U.exports.createElement("svg",Dw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),DU||(DU=U.exports.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var UU;function Uw(){return Uw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uw.apply(this,arguments)}function Rle(e){return U.exports.createElement("svg",Uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),UU||(UU=U.exports.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var LU;function Lw(){return Lw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Lw.apply(this,arguments)}function Mle(e){return U.exports.createElement("svg",Lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),LU||(LU=U.exports.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var PU;function Pw(){return Pw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pw.apply(this,arguments)}function Dle(e){return U.exports.createElement("svg",Pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),PU||(PU=U.exports.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var FU;function Fw(){return Fw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fw.apply(this,arguments)}function Ule(e){return U.exports.createElement("svg",Fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),FU||(FU=U.exports.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var HU;function Hw(){return Hw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Hw.apply(this,arguments)}function Lle(e){return U.exports.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),HU||(HU=U.exports.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var qU;function qw(){return qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qw.apply(this,arguments)}function Ple(e){return U.exports.createElement("svg",qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),qU||(qU=U.exports.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var BU;function Bw(){return Bw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Bw.apply(this,arguments)}function Fle(e){return U.exports.createElement("svg",Bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),BU||(BU=U.exports.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var GU;function Gw(){return Gw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gw.apply(this,arguments)}function Hle(e){return U.exports.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),GU||(GU=U.exports.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var $U;function $w(){return $w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$w.apply(this,arguments)}function qle(e){return U.exports.createElement("svg",$w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),$U||($U=U.exports.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var zU;function zw(){return zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zw.apply(this,arguments)}function Ble(e){return U.exports.createElement("svg",zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),zU||(zU=U.exports.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var jU;function jw(){return jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jw.apply(this,arguments)}function Gle(e){return U.exports.createElement("svg",jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),jU||(jU=U.exports.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var VU;function Vw(){return Vw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vw.apply(this,arguments)}function $le(e){return U.exports.createElement("svg",Vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),VU||(VU=U.exports.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var WU;function Ww(){return Ww=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ww.apply(this,arguments)}function zle(e){return U.exports.createElement("svg",Ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),WU||(WU=U.exports.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var KU;function Kw(){return Kw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kw.apply(this,arguments)}function jle(e){return U.exports.createElement("svg",Kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),KU||(KU=U.exports.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var QU;function Qw(){return Qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qw.apply(this,arguments)}function Vle(e){return U.exports.createElement("svg",Qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),QU||(QU=U.exports.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var YU;function Yw(){return Yw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yw.apply(this,arguments)}function Wle(e){return U.exports.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),YU||(YU=U.exports.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var XU;function Xw(){return Xw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xw.apply(this,arguments)}function Kle(e){return U.exports.createElement("svg",Xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),XU||(XU=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var JU;function Jw(){return Jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jw.apply(this,arguments)}function Qle(e){return U.exports.createElement("svg",Jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),JU||(JU=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var ZU;function Zw(){return Zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zw.apply(this,arguments)}function Yle(e){return U.exports.createElement("svg",Zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),ZU||(ZU=U.exports.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var ea={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function Xle(e){switch(e){case ea.PRIMARY:return"sendbird-icon-color--primary";case ea.SECONDARY:return"sendbird-icon-color--secondary";case ea.CONTENT:return"sendbird-icon-color--content";case ea.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case ea.WHITE:return"sendbird-icon-color--white";case ea.GRAY:return"sendbird-icon-color--gray";case ea.SENT:return"sendbird-icon-color--sent";case ea.READ:return"sendbird-icon-color--read";case ea.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case ea.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case ea.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case ea.BACKGROUND_3:return"sendbird-icon-color--background-3";case ea.ERROR:return"sendbird-icon-color--error";default:return""}}function Jle(e){switch(e){case Ue.ADD:return k.createElement(Yoe,null);case Ue.ARROW_LEFT:return k.createElement(Xoe,null);case Ue.ATTACH:return k.createElement(Joe,null);case Ue.BAN:return k.createElement(Zoe,null);case Ue.BROADCAST:return k.createElement(ele,null);case Ue.CAMERA:return k.createElement(nle,null);case Ue.CHANNELS:return k.createElement(tle,null);case Ue.CHAT:return k.createElement(rle,null);case Ue.CHAT_FILLED:return k.createElement(ile,null);case Ue.CHEVRON_DOWN:return k.createElement(ale,null);case Ue.CHEVRON_RIGHT:return k.createElement(sle,null);case Ue.CLOSE:return k.createElement(ole,null);case Ue.COLLAPSE:return k.createElement(lle,null);case Ue.COPY:return k.createElement(ule,null);case Ue.CREATE:return k.createElement(cle,null);case Ue.DELETE:return k.createElement(dle,null);case Ue.DISCONNECTED:return k.createElement(hle,null);case Ue.DOCUMENT:return k.createElement(ple,null);case Ue.DONE:return k.createElement(fle,null);case Ue.DONE_ALL:return k.createElement(mle,null);case Ue.DOWNLOAD:return k.createElement(gle,null);case Ue.EDIT:return k.createElement(vle,null);case Ue.EMOJI_MORE:return k.createElement(_le,null);case Ue.ERROR:return k.createElement(ble,null);case Ue.EXPAND:return k.createElement(yle,null);case Ue.FILE_AUDIO:return k.createElement(Ele,null);case Ue.FILE_DOCUMENT:return k.createElement(wle,null);case Ue.FREEZE:return k.createElement(xle,null);case Ue.GIF:return k.createElement(kle,null);case Ue.INFO:return k.createElement(Cle,null);case Ue.LEAVE:return k.createElement(Sle,null);case Ue.MEMBERS:return k.createElement(Nle,null);case Ue.MESSAGE:return k.createElement(Tle,null);case Ue.MODERATIONS:return k.createElement(Ile,null);case Ue.MORE:return k.createElement(Ole,null);case Ue.MUTE:return k.createElement(Ale,null);case Ue.NOTIFICATIONS:return k.createElement(Rle,null);case Ue.NOTIFICATIONS_OFF_FILLED:return k.createElement(Mle,null);case Ue.OPERATOR:return k.createElement(Dle,null);case Ue.PHOTO:return k.createElement(Ule,null);case Ue.PLAY:return k.createElement(Lle,null);case Ue.PLUS:return k.createElement(Ple,null);case Ue.QUESTION:return k.createElement(Fle,null);case Ue.REFRESH:return k.createElement(Hle,null);case Ue.REMOVE:return k.createElement(qle,null);case Ue.REPLY:return k.createElement(Ble,null);case Ue.SEARCH:return k.createElement(Gle,null);case Ue.SEND:return k.createElement($le,null);case Ue.SETTINGS_FILLED:return k.createElement(zle,null);case Ue.SPINNER:return k.createElement(jle,null);case Ue.SUPERGROUP:return k.createElement(Vle,null);case Ue.THUMBNAIL_NONE:return k.createElement(Wle,null);case Ue.TOGGLE_OFF:return k.createElement(Kle,null);case Ue.TOGGLE_ON:return k.createElement(Qle,null);case Ue.USER:return k.createElement(Yle,null);default:return"icon"}}function Zle(e){switch(e){case Ue.ADD:return"sendbird-icon-add";case Ue.ARROW_LEFT:return"sendbird-icon-arrow-left";case Ue.ATTACH:return"sendbird-icon-attach";case Ue.BAN:return"sendbird-icon-ban";case Ue.BROADCAST:return"sendbird-icon-broadcast";case Ue.CAMERA:return"sendbird-icon-camera";case Ue.CHANNELS:return"sendbird-icon-channels";case Ue.CHAT:return"sendbird-icon-chat";case Ue.CHAT_FILLED:return"sendbird-icon-chat-filled";case Ue.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case Ue.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case Ue.CLOSE:return"sendbird-icon-close";case Ue.COLLAPSE:return"sendbird-icon-collapse";case Ue.COPY:return"sendbird-icon-copy";case Ue.CREATE:return"sendbird-icon-create";case Ue.DELETE:return"sendbird-icon-delete";case Ue.DISCONNECTED:return"sendbird-icon-disconnected";case Ue.DOCUMENT:return"sendbird-icon-document";case Ue.DONE:return"sendbird-icon-done";case Ue.DONE_ALL:return"sendbird-icon-done-all";case Ue.DOWNLOAD:return"sendbird-icon-down-load";case Ue.EDIT:return"sendbird-icon-edit";case Ue.EMOJI_MORE:return"sendbird-icon-emoji-more";case Ue.ERROR:return"sendbird-icon-error";case Ue.EXPAND:return"sendbird-icon-expand";case Ue.FILE_AUDIO:return"sendbird-icon-file-audio";case Ue.FILE_DOCUMENT:return"sendbird-icon-file-document";case Ue.FREEZE:return"sendbird-icon-freeze";case Ue.GIF:return"sendbird-icon-gif";case Ue.INFO:return"sendbird-icon-info";case Ue.LEAVE:return"sendbird-icon-leave";case Ue.MEMBERS:return"sendbird-icon-members";case Ue.MESSAGE:return"sendbird-icon-message";case Ue.MODERATIONS:return"sendbird-icon-moderations";case Ue.MORE:return"sendbird-icon-more";case Ue.MUTE:return"sendbird-icon-mute";case Ue.NOTIFICATIONS:return"sendbird-icon-notifications";case Ue.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case Ue.OPERATOR:return"sendbird-icon-operator";case Ue.PHOTO:return"sendbird-icon-photo";case Ue.PLAY:return"sendbird-icon-play";case Ue.PLUS:return"sendbird-iconn-plus";case Ue.QUESTION:return"sendbird-icon-question";case Ue.REFRESH:return"sendbird-icon-refresh";case Ue.REMOVE:return"sendbird-icon-remove";case Ue.REPLY:return"sendbird-icon-reply";case Ue.SEARCH:return"sendbird-icon-search";case Ue.SEND:return"sendbird-icon-send";case Ue.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case Ue.SPINNER:return"sendbird-icon-spinner";case Ue.SUPERGROUP:return"sendbird-icon-supergroup";case Ue.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case Ue.TOGGLE_OFF:return"sendbird-icon-toggle-off";case Ue.TOGGLE_ON:return"sendbird-icon-toggle-on";case Ue.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}function _t(e){var n=e.className,t=e.type,r=e.fillColor,i=e.width,o=e.height,u=e.onClick,c=e.children,h={width:typeof i=="string"?i:"".concat(i,"px"),minWidth:typeof i=="string"?i:"".concat(i,"px"),height:typeof o=="string"?o:"".concat(o,"px"),minHeight:typeof o=="string"?o:"".concat(o,"px")};return k.createElement("div",{className:[].concat(Ic(Array.isArray(n)?n:[n]),["sendbird-icon",Zle(t),Xle(r)]).join(" "),role:"button",onClick:u,onKeyDown:u,tabIndex:"0",style:h},c||Jle(t))}_t.propTypes={className:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),type:he.exports.oneOfType([he.exports.oneOf(Object.keys(Ue)),he.exports.string]).isRequired,fillColor:he.exports.oneOf(Object.keys(ea)),width:he.exports.oneOfType([he.exports.string,he.exports.number]),height:he.exports.oneOfType([he.exports.string,he.exports.number]),onClick:he.exports.func,children:he.exports.element};_t.defaultProps={className:"",fillColor:ea.DEFAULT,width:26,height:26,onClick:function(){},children:null};var ot=Ue,Rt=ea,eL=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=Number.parseFloat(e);if(!Number.isNaN(n))return n}return null},tl="sendbird-avatar-img",eue=function(n){var t=n.width,r=n.height,i=eL(t),o=eL(r);return typeof i=="number"&&(i*=.575),typeof o=="number"&&(o*=.575),k.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:r}},k.createElement(_t,{type:ot.USER,fillColor:Rt.CONTENT,width:i,height:o}))},nue=function(n){var t=n.width,r=n.height;return k.createElement(eue,{width:t,height:r})},tue=function(n){var t=n.src,r=t===void 0?"":t,i=n.alt,o=i===void 0?"":i,u=n.height,c=n.width,h=n.customDefaultComponent,f=function(){return h?h({width:c,height:u}):nue({width:c,height:u})};return typeof r=="string"?k.createElement(vs,{className:tl,url:r,height:u,width:c,alt:o,defaultComponent:f}):r&&r.length?r.length===1?k.createElement(vs,{className:tl,url:r[0],height:u,width:c,alt:o,defaultComponent:f}):r.length===2?k.createElement("div",{className:"sendbird-avatar--inner__two-child"},k.createElement(vs,{className:tl,url:r[0],height:u,width:c,alt:o,defaultComponent:f}),k.createElement(vs,{className:tl,url:r[1],height:u,width:c,alt:o,defaultComponent:f})):r.length===3?k.createElement(k.Fragment,null,k.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},k.createElement(vs,{className:tl,url:r[0],height:u,width:c,alt:o,defaultComponent:f})),k.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},k.createElement(vs,{className:tl,url:r[1],height:u,width:c,alt:o,defaultComponent:f}),k.createElement(vs,{className:tl,url:r[2],height:u,width:c,alt:o,defaultComponent:f}))):k.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(v){return k.createElement(vs,{className:tl,url:v,height:u,width:c,alt:o,key:Hc(),defaultComponent:f})})):k.createElement(vs,{className:tl,url:"",height:u,width:c,alt:o,defaultComponent:f})};function rue(e,n){var t=e.className,r=t===void 0?"":t,i=e.src,o=i===void 0?"":i,u=e.alt,c=u===void 0?"":u,h=e.width,f=h===void 0?"56px":h,v=e.height,_=v===void 0?"56px":v,y=e.onClick,E=e.customDefaultComponent;return k.createElement("div",{className:qn(qn([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:n,style:{height:_,width:f},onClick:y,onKeyDown:y,tabIndex:0},k.createElement(tue,{src:o,width:f,height:_,alt:c,customDefaultComponent:E}))}var ed=k.forwardRef(rue),Tl=function(n){var t=n.stores,r=t===void 0?{}:t,i=r.sdkStore,o=i===void 0?{}:i,u=o.sdk;return u},qu=function(n){var t=n.config,r=t===void 0?{}:t,i=r.pubSub;return i},iue=function(n){return function(t,r){return new Promise(function(i,o){var u=Tl(n);u||o(new Error("Sdk not found")),(u==null?void 0:u.connect)&&typeof u.connect=="function"||o(new Error('Not found the function "connect')),r?u.connect(t,r).then(function(c){return i(c)}).catch(function(c){return o(c)}):u.connect(t).then(function(c){return i(c)}).catch(function(c){return o(c)})})}},aue=function(n){return function(){return new Promise(function(t,r){var i=Tl(n);i||r(new Error("Sdk not found")),i.disconnect&&typeof i.disconnect=="function"||r(new Error('Not found the function "disconnect')),i.disconnect().then(function(o){return t(o)}).catch(function(o){return r(o)})})}},sue=function(n){return function(t,r){return new Promise(function(i,o){var u=Tl(n);u||o(new Error("Sdk not found")),u.updateCurrentUserInfo&&typeof u.updateCurrentUserInfo=="function"||o(new Error('Not found the function "updateCurrentUserInfo"'));var c={nickname:t};r&&(c.profileUrl=r),u.updateCurrentUserInfo(c).then(function(h){return i(h)}).catch(function(h){return o(h)})})}},e9=function(n){return function(t){return new Promise(function(r,i){var o=Tl(n),u=qu(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.createChannel&&typeof o.groupChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.groupChannel.createChannel(t).then(function(c){r(c),u.publish(Koe,{channel:c})}).catch(i)})}},oue=function(n){return function(t){return new Promise(function(r,i){var o=Tl(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.createChannel&&typeof o.openChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.openChannel.createChannel(t).then(function(u){r(u)}).catch(i)})}},n9=function(n){return function(t){return new Promise(function(r,i){var o=Tl(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.getChannel&&typeof o.groupChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.groupChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},B3=function(n){return function(t){return new Promise(function(r,i){var o=Tl(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.getChannel&&typeof o.openChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.openChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},lue=function(n){return function(t){return new Promise(function(r,i){var o;(o=n9(n))===null||o===void 0||o(t).then(function(u){u.leave().then(function(){r()}).catch(i)}).catch(i)})}},uue=function(n){return function(t){return new Promise(function(r,i){var o;(o=B3(n))===null||o===void 0||o(t).then(function(u){u.enter().then(function(){r(u)}).catch(i)}).catch(i)})}},cue=function(n){return function(t){return new Promise(function(r,i){var o;(o=B3(n))===null||o===void 0||o(t).then(function(u){u.exit().then(function(){r(u)}).catch(i)}).catch(i)})}},due=function(){return function(n){return new Promise(function(t,r){n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||r(new Error('Not found the function "freeze"')),n.freeze().then(function(){t()}).catch(r)})}},hue=function(){return function(n){return new Promise(function(t,r){n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||r(new Error('Not found the function "unfreeze"')),n.unfreeze().then(function(){t()}).catch(r)})}},t9=function(){function e(){this._onPending=Pg,this._onFailed=Pg,this._onSucceeded=Pg}return e.prototype.triggerPending=function(n){this._onPending(n)},e.prototype.triggerFailed=function(n,t){this._onFailed(n,t.isResendable?t:null)},e.prototype.triggerSucceeded=function(n){this._onSucceeded(n)},e.prototype.onPending=function(n){return typeof n=="function"&&(this._onPending=n),this},e.prototype.onFailed=function(n){return typeof n=="function"&&(this._onFailed=n),this},e.prototype.onSucceeded=function(n){return typeof n=="function"&&(this._onSucceeded=n),this},e}(),pue=function(n){return function(t,r){var i=new t9,o=qu(n);return t.sendUserMessage(r).onFailed(function(u,c){return i.triggerFailed(u,c)}).onPending(function(u){o.publish(wv,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(xv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},fue=function(n){return function(t,r){var i=new t9,o=qu(n);return t.sendFileMessage(r).onFailed(function(u,c){return i.triggerFailed(u,c)}).onPending(function(u){o.publish(wv,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(kv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},mue=function(n){return function(t,r,i){return new Promise(function(o,u){var c=qu(n);t.updateUserMessage(r,i).then(function(h){c.publish(X2,{message:h,channel:t,fromSelector:!0}),o(h)}).catch(u)})}},gue=function(n){return function(t,r){return new Promise(function(i,o){var u=qu(n),c=r.messageId;t.deleteMessage(r).then(function(){u.publish(J2,{messageId:c,channel:t}),i(r)}).catch(o)})}},vue=function(n){return function(t,r){return new Promise(function(i,o){var u=qu(n);t.resendUserMessage(r).then(function(c){u.publish(xv,{message:c,channel:t}),i(c)}).catch(o)})}},_ue=function(n){return function(t,r,i){return new Promise(function(o,u){var c=qu(n);t.resendFileMessage(r,i).then(function(h){c.publish(kv,{message:h,channel:t}),o(h)}).catch(u)})}},G3={getSdk:Tl,getPubSub:qu,getConnect:iue,getDisconnect:aue,getUpdateUserInfo:sue,getCreateGroupChannel:e9,getCreateOpenChannel:oue,getGetGroupChannel:n9,getGetOpenChannel:B3,getLeaveGroupChannel:lue,getEnterOpenChannel:uue,getExitOpenChannel:cue,getFreezeChannel:due,getUnfreezeChannel:hue,getSendUserMessage:pue,getSendFileMessage:fue,getUpdateUserMessage:mue,getDeleteMessage:gue,getResendUserMessage:vue,getResendFileMessage:_ue},nL;(function(e){e.GROUP="group",e.SUPERGROUP="supergroup",e.BROADCAST="broadcast"})(nL||(nL={}));var r9="sendbird-modal-root",mu;(function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.DANGER=2]="DANGER",e[e.DISABLED=3]="DISABLED"})(mu||(mu={}));var Rh;(function(e){e[e.BIG=0]="BIG",e[e.SMALL=1]="SMALL"})(Rh||(Rh={}));function bue(e){switch(e){case mu.PRIMARY:return"sendbird-button--primary";case mu.SECONDARY:return"sendbird-button--secondary";case mu.DANGER:return"sendbird-button--danger";case mu.DISABLED:return"sendbird-button--disabled";default:return null}}function yue(e){switch(e){case Rh.BIG:return"sendbird-button--big";case Rh.SMALL:return"sendbird-button--small";default:return null}}function d0(e){var n=e.className,t=e.type,r=t===void 0?mu.PRIMARY:t,i=e.size,o=i===void 0?Rh.BIG:i,u=e.children,c=u===void 0?"Button":u,h=e.disabled,f=h===void 0?!1:h,v=e.onClick,_=v===void 0?function(){}:v,y=qn(qn([],Array.isArray(n)?n:[n],!0),["sendbird-button",f?"sendbird-button__disabled":"",bue(r),yue(o)],!1).join(" ");return k.createElement("button",{className:y,type:"button",onClick:_,disabled:f},k.createElement(Xn,{className:"sendbird-button__text",type:Yn.BUTTON_1,color:Bn.ONCONTENT_1},c))}var Mh=mu,tL=Rh,Eue=function(n){var t=n.titleText;return k.createElement("div",{className:"sendbird-modal__header"},k.createElement(Xn,{type:Yn.H_1,color:Bn.ONBACKGROUND_1},t))},wue=function(n){var t=n.children;return k.createElement("div",{className:"sendbird-modal__body"},k.createElement(Xn,{type:Yn.SUBTITLE_1,color:Bn.ONBACKGROUND_2},t))},xue=function(n){var t=n.submitText,r=n.disabled,i=r===void 0?!1:r,o=n.type,u=o===void 0?Mh.DANGER:o,c=n.onSubmit,h=n.onCancel,f=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:"sendbird-modal__footer"},k.createElement(d0,{type:Mh.SECONDARY,onClick:h},k.createElement(Xn,{type:Yn.BUTTON_1,color:Bn.ONBACKGROUND_1},f.BUTTON__CANCEL)),k.createElement(d0,{type:u,disabled:i,onClick:c},t))};function kue(e){var n=e.children,t=n===void 0?null:n,r=e.titleText,i=e.submitText,o=e.disabled,u=o===void 0?!1:o,c=e.hideFooter,h=c===void 0?!1:c,f=e.type,v=f===void 0?Mh.DANGER:f,_=e.onCancel,y=_===void 0?function(){}:_,E=e.onSubmit,x=E===void 0?function(){}:E;return Hh.exports.createPortal(k.createElement("div",{className:"sendbird-modal"},k.createElement("div",{className:"sendbird-modal__content"},k.createElement(Eue,{titleText:r}),k.createElement(wue,null,t),!h&&k.createElement(xue,{disabled:u,onCancel:y,onSubmit:x,submitText:i,type:v}),k.createElement("div",{className:"sendbird-modal__close"},k.createElement(Ru,{width:"32px",height:"32px",onClick:y},k.createElement(_t,{type:ot.CLOSE,fillColor:Rt.DEFAULT,width:"24px",height:"24px"})))),k.createElement("div",{className:"sendbird-modal__backdrop"})),document.getElementById(r9))}function Cue(e){var n=e.user,t=e.currentUserId,r=e.logger,i=e.disableMessaging,o=i===void 0?!1:i,u=e.createChannel,c=e.onSuccess,h=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:"sendbird__user-profile"},k.createElement("section",{className:"sendbird__user-profile-avatar"},k.createElement(ed,{height:"80px",width:"80px",src:n==null?void 0:n.profileUrl})),k.createElement("section",{className:"sendbird__user-profile-name"},k.createElement(Xn,{type:Yn.H_2,color:Bn.ONBACKGROUND_1},(n==null?void 0:n.nickname)||h.NO_NAME)),(n==null?void 0:n.userId)!==t&&!o&&k.createElement("section",{className:"sendbird__user-profile-message"},k.createElement(d0,{type:Mh.SECONDARY,onClick:function(){var v={isDistinct:!0,invitedUserIds:[n==null?void 0:n.userId]};c(),u(v).then(function(_){r.info("UserProfile, channel create",_)})}},h.USER_PROFILE__MESSAGE)),k.createElement("div",{className:"sendbird__user-profile-separator"}),k.createElement("section",{className:"sendbird__user-profile-userId"},k.createElement(Xn,{className:"sendbird__user-profile-userId--label",type:Yn.CAPTION_2,color:Bn.ONBACKGROUND_2},h.USER_PROFILE__USER_ID),k.createElement(Xn,{className:"sendbird__user-profile-userId--value",type:Yn.BODY_1,color:Bn.ONBACKGROUND_1},n==null?void 0:n.userId)))}var Sue=function(n){return{sdk:Tl(n),createChannel:e9(n),logger:n.config.logger,pubsub:n.config.pubSub}},a_=gne(Cue,Sue),Nue=function(e){Ose(n,e);function n(t){var r=e.call(this,t)||this;return r.menuRef=k.createRef(),r.setupEvents=function(){var i=r.props.closeDropdown,o=r.menuRef,u=function(h){var f,v;(o==null?void 0:o.current)&&!(!((v=(f=o==null?void 0:o.current)===null||f===void 0?void 0:f.contains)===null||v===void 0)&&v.call(f,h.target))&&(i==null||i())};r.setState({handleClickOutside:u}),document.addEventListener("mousedown",u)},r.cleanUpEvents=function(){var i=r.state.handleClickOutside;document.removeEventListener("mousedown",i)},r.getMenuPosition=function(){var i,o,u=r.props,c=u.parentRef,h=u.openLeft,f=(o=(i=c==null?void 0:c.current)===null||i===void 0?void 0:i.getBoundingClientRect)===null||o===void 0?void 0:o.call(i),v=(f==null?void 0:f.x)||(f==null?void 0:f.left)||0,_=(f==null?void 0:f.y)||(f==null?void 0:f.top)||0,y={top:_,left:v};if(!r.menuRef.current)return y;var E=window.innerWidth,x=window.innerHeight,C=r.menuRef.current.getBoundingClientRect();if(_+C.height>x&&(y.top-=C.height),v+C.width>E&&!h&&(y.left-=C.width),y.top<0&&(y.top=C.height<x?(x-C.height)/2:0),y.left<0&&(y.left=C.width<E?(E-C.width)/2:0),y.top+=32,h){var M=Number.isNaN(C.width-30)?108:C.width-30;y.left-=M}return r.setState({menuStyle:y}),y},r.state={menuStyle:{},handleClickOutside:function(){}},r}return n.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},n.prototype.componentWillUnmount=function(){this.cleanUpEvents()},n.prototype.render=function(){var t=this.state.menuStyle,r=this.props,i=r.children,o=r.style;return Hh.exports.createPortal(k.createElement(k.Fragment,null,k.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),k.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:on({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},o)},i)),document.getElementById("sendbird-dropdown-portal"))},n}(k.Component),Tue=13,Mu=Nue,Ts=function(n){var t=n.className,r=t===void 0?"":t,i=n.children,o=n.onClick,u=n.disable,c=u===void 0?!1:u,h=function(v){!c&&o&&(o==null||o(v))};return k.createElement("li",{className:$2([r,"sendbird-dropdown__menu-item",c?"disable":""]),role:"menuitem",onClick:h,onKeyPress:function(v){v.keyCode===Tue&&h(v)},tabIndex:0},k.createElement(Xn,{className:"sendbird-dropdown__menu-item__text",type:Yn.SUBTITLE_2,color:c?Bn.ONBACKGROUND_4:Bn.ONBACKGROUND_1},i))};function Du(e){var n=e.menuTrigger,t=e.menuItems,r=U.exports.useState(!1),i=r[0],o=r[1];return k.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},n(function(){return o(!i)}),i&&t(function(){return o(!1)}))}function aa(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function co(e){aa(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Iue(e){aa(1,arguments);var n=co(e);return!isNaN(n)}function Is(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Oue(e,n){aa(2,arguments);var t=co(e).getTime(),r=Is(n);return new Date(t+r)}function Aue(e,n){aa(2,arguments);var t=Is(n);return Oue(e,-t)}function Vt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var au={y:function(e,n){var t=e.getUTCFullYear(),r=t>0?t:1-t;return Vt(n==="yy"?r%100:r,n.length)},M:function(e,n){var t=e.getUTCMonth();return n==="M"?String(t+1):Vt(t+1,2)},d:function(e,n){return Vt(e.getUTCDate(),n.length)},a:function(e,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,n){return Vt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Vt(e.getUTCHours(),n.length)},m:function(e,n){return Vt(e.getUTCMinutes(),n.length)},s:function(e,n){return Vt(e.getUTCSeconds(),n.length)},S:function(e,n){var t=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,t-3));return Vt(i,n.length)}},Rue=864e5;function Mue(e){aa(1,arguments);var n=co(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/Rue)+1}function Cv(e){aa(1,arguments);var n=1,t=co(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function i9(e){aa(1,arguments);var n=co(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Cv(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=Cv(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=u.getTime()?t:t-1}function Due(e){aa(1,arguments);var n=i9(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Cv(t);return r}var Uue=6048e5;function Lue(e){aa(1,arguments);var n=co(e),t=Cv(n).getTime()-Due(n).getTime();return Math.round(t/Uue)+1}function Sv(e,n){aa(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,o=i==null?0:Is(i),u=t.weekStartsOn==null?o:Is(t.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=co(e),h=c.getUTCDay(),f=(h<u?7:0)+h-u;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c}function a9(e,n){aa(1,arguments);var t=co(e,n),r=t.getUTCFullYear(),i=n||{},o=i.locale,u=o&&o.options&&o.options.firstWeekContainsDate,c=u==null?1:Is(u),h=i.firstWeekContainsDate==null?c:Is(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(r+1,0,h),f.setUTCHours(0,0,0,0);var v=Sv(f,n),_=new Date(0);_.setUTCFullYear(r,0,h),_.setUTCHours(0,0,0,0);var y=Sv(_,n);return t.getTime()>=v.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function Pue(e,n){aa(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=i==null?1:Is(i),u=t.firstWeekContainsDate==null?o:Is(t.firstWeekContainsDate),c=a9(e,n),h=new Date(0);h.setUTCFullYear(c,0,u),h.setUTCHours(0,0,0,0);var f=Sv(h,n);return f}var Fue=6048e5;function Hue(e,n){aa(1,arguments);var t=co(e),r=Sv(t,n).getTime()-Pue(t,n).getTime();return Math.round(r/Fue)+1}var jd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},que={G:function(e,n,t){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return au.y(e,n)},Y:function(e,n,t,r){var i=a9(e,r),o=i>0?i:1-i;if(n==="YY"){var u=o%100;return Vt(u,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):Vt(o,n.length)},R:function(e,n){var t=i9(e);return Vt(t,n.length)},u:function(e,n){var t=e.getUTCFullYear();return Vt(t,n.length)},Q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Vt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Vt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){var r=e.getUTCMonth();switch(n){case"M":case"MM":return au.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Vt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){var i=Hue(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Vt(i,n.length)},I:function(e,n,t){var r=Lue(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Vt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):au.d(e,n)},D:function(e,n,t){var r=Mue(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Vt(r,n.length)},E:function(e,n,t){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Vt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Vt(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Vt(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){var r=e.getUTCHours(),i;switch(r===12?i=jd.noon:r===0?i=jd.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){var r=e.getUTCHours(),i;switch(r>=17?i=jd.evening:r>=12?i=jd.afternoon:r>=4?i=jd.morning:i=jd.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return au.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):au.H(e,n)},K:function(e,n,t){var r=e.getUTCHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Vt(r,n.length)},k:function(e,n,t){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Vt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):au.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):au.s(e,n)},S:function(e,n){return au.S(e,n)},X:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return iL(o);case"XXXX":case"XX":return bc(o);case"XXXXX":case"XXX":default:return bc(o,":")}},x:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return iL(o);case"xxxx":case"xx":return bc(o);case"xxxxx":case"xxx":default:return bc(o,":")}},O:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+rL(o,":");case"OOOO":default:return"GMT"+bc(o,":")}},z:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+rL(o,":");case"zzzz":default:return"GMT"+bc(o,":")}},t:function(e,n,t,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Vt(o,n.length)},T:function(e,n,t,r){var i=r._originalDate||e,o=i.getTime();return Vt(o,n.length)}};function rL(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=n||"";return t+String(i)+u+Vt(o,2)}function iL(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Vt(Math.abs(e)/60,2)}return bc(e,n)}function bc(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=Vt(Math.floor(i/60),2),u=Vt(i%60,2);return r+o+t+u}var Bue=que;function aL(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function s9(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function Gue(e,n){var t=e.match(/(P+)(p+)?/),r=t[1],i=t[2];if(!i)return aL(e,n);var o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",aL(r,n)).replace("{{time}}",s9(i,n))}var $ue={p:s9,P:Gue},zue=$ue;function jue(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}var Vue=["D","DD"],Wue=["YY","YYYY"];function Kue(e){return Vue.indexOf(e)!==-1}function Que(e){return Wue.indexOf(e)!==-1}function sL(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var Yue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jue=/^'([^]*?)'?$/,Zue=/''/g,ece=/[a-zA-Z]/;function jh(e,n,t){aa(2,arguments);var r=String(n),i=t||{},o=i.locale||QF,u=o.options&&o.options.firstWeekContainsDate,c=u==null?1:Is(u),h=i.firstWeekContainsDate==null?c:Is(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=o.options&&o.options.weekStartsOn,v=f==null?0:Is(f),_=i.weekStartsOn==null?v:Is(i.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var y=co(e);if(!Iue(y))throw new RangeError("Invalid time value");var E=jue(y),x=Aue(y,E),C={firstWeekContainsDate:h,weekStartsOn:_,locale:o,_originalDate:y},M=r.match(Xue).map(function(S){var N=S[0];if(N==="p"||N==="P"){var D=zue[N];return D(S,o.formatLong,C)}return S}).join("").match(Yue).map(function(S){if(S==="''")return"'";var N=S[0];if(N==="'")return nce(S);var D=Bue[N];if(D)return!i.useAdditionalWeekYearTokens&&Que(S)&&sL(S,n,e),!i.useAdditionalDayOfYearTokens&&Kue(S)&&sL(S,n,e),D(x,S,o.localize,C);if(N.match(ece))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return S}).join("");return M}function nce(e){return e.match(Jue)[1].replace(Zue,"'")}function oL(e){aa(1,arguments);var n=co(e);return n.setHours(0,0,0,0),n}function tce(e,n){aa(2,arguments);var t=oL(e),r=oL(n);return t.getTime()===r.getTime()}function lL(e){var n=e.className,t=n===void 0?"":n,r=e.children,i=e.isReverse,o=i===void 0?!1:i,u=e.color,c=e.userId;return k.createElement("span",{className:"sendbird-mention-user-label ".concat(t," ").concat(o?"reverse":""," ").concat(u),contentEditable:!1,"data-userid":c},r)}var uL=function(n){return n==null};function rl(e,n){if(uL(e)||uL(n))return!1;var t=e.toString(),r=n.toString();return t===r}var Vd="@";BF();var $3=GF();$3.SUCCEEDED;$3.FAILED;$3.PENDING;var z3=GF();z3.SUCCEEDED;z3.FAILED;z3.PENDING;function x0(e){var n=e.className,t=n===void 0?"":n,r=e.width,i=r===void 0?"26px":r,o=e.height,u=o===void 0?"26px":o,c=e.children;return k.createElement("div",{className:qn(qn([],Array.isArray(t)?t:[t],!0),["sendbird-loader"],!1).join(" "),style:{width:typeof i=="string"?i:"".concat(i,"px"),height:typeof u=="string"?u:"".concat(u,"px")}},c||k.createElement(_t,{type:ot.SPINNER,width:"26px",height:"26px"}))}BF();he.exports.bool,he.exports.func.isRequired;var Xs;(function(e){e[e.ONBACKGROUND_1=0]="ONBACKGROUND_1",e[e.ONBACKGROUND_2=1]="ONBACKGROUND_2",e[e.ONBACKGROUND_3=2]="ONBACKGROUND_3",e[e.ONBACKGROUND_4=3]="ONBACKGROUND_4",e[e.ONCONTENT_1=4]="ONCONTENT_1",e[e.ONCONTENT_2=5]="ONCONTENT_2",e[e.PRIMARY=6]="PRIMARY",e[e.ERROR=7]="ERROR"})(Xs||(Xs={}));var ex=function(n){switch(n){case Xs.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case Xs.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case Xs.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case Xs.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case Xs.ONCONTENT_1:return"sendbird-color--oncontent-1";case Xs.PRIMARY:return"sendbird-color--primary";case Xs.ERROR:return"sendbird-color--error";default:return null}},rce=function(n){var t=n.className,r=t===void 0?"":t,i=n.color,o=i===void 0?Xs.ONBACKGROUND_1:i,u=n.disabled,c=u===void 0?!1:u,h=n.disableUnderline,f=h===void 0?!1:h,v=n.onClick,_=v===void 0?function(){}:v,y=n.children;return k.createElement("div",{className:qn(qn([],Array.isArray(r)?r:[r],!0),[ex(o),f?"sendbird-textbutton--not-underline":"sendbird-textbutton",c?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(x){return _(x)},onKeyPress:function(x){return _(x)}},y)};function ice(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var ace=ice(),zr=ace;function Fg(e){var n=e.className,t=n===void 0?"":n,r=e.type,i=e.searchInString,o=i===void 0?"":i,u=e.retryToConnect,c=u===void 0?null:u,h=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:qn(qn([],Array.isArray(t)?t:[t],!0),["sendbird-place-holder"],!1).join(" ")},r===zr.LOADING&&k.createElement(x0,{width:"48px",height:"48px"},k.createElement(_t,{type:ot.SPINNER,fillColor:Rt.PRIMARY,width:"48px",height:"48px"})),(r===zr.NO_CHANNELS||r===zr.NO_MESSAGES||r===zr.WRONG)&&k.createElement("div",{className:"sendbird-place-holder__body"},r===zr.NO_CHANNELS&&k.createElement(_t,{className:"sendbird-place-holder__body__icon",type:ot.CHAT,fillColor:Rt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===zr.WRONG&&k.createElement(_t,{className:"sendbird-place-holder__body__icon",type:ot.ERROR,fillColor:Rt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===zr.NO_MESSAGES&&k.createElement(_t,{className:"sendbird-place-holder__body__icon",type:ot.MESSAGE,fillColor:Rt.ON_BACKGROUND_3,width:"64px",height:"64px"}),k.createElement(Xn,{className:"sendbird-place-holder__body__text",type:Yn.BODY_1,color:Bn.ONBACKGROUND_2},r===zr.NO_CHANNELS&&h.PLACE_HOLDER__NO_CHANNEL,r===zr.WRONG&&h.PLACE_HOLDER__WRONG,r===zr.NO_MESSAGES&&h.PLACE_HOLDER__NO_MESSAGES),c&&k.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:c,onKeyPress:c,tabIndex:0},k.createElement(_t,{className:"sendbird-place-holder__body__reconnect__icon",type:ot.REFRESH,fillColor:Rt.PRIMARY,width:"20px",height:"20px"}),k.createElement(Xn,{className:"sendbird-place-holder__body__reconnect__text",type:Yn.BUTTON_1,color:Bn.PRIMARY},h.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===zr.NO_RESULTS||r===zr.SEARCH_IN||r===zr.SEARCHING)&&k.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===zr.SEARCH_IN&&k.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},k.createElement(Xn,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Yn.BUTTON_2,color:Bn.ONBACKGROUND_2},h.SEARCH_IN),k.createElement(Xn,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Yn.BUTTON_2,color:Bn.PRIMARY},"'".concat(o)),k.createElement(Xn,{className:"sendbird-place-holder__body--align-top__text__quote",type:Yn.BUTTON_2,color:Bn.PRIMARY},"'")),r===zr.SEARCHING&&k.createElement(Xn,{className:"sendbird-place-hlder__body--align-top__searching",type:Yn.BODY_1,color:Bn.ONBACKGROUND_2},h.SEARCHING),r===zr.NO_RESULTS&&k.createElement(Xn,{className:"sendbird-place-hlder__body--align-top__no-result",type:Yn.BODY_1,color:Bn.ONBACKGROUND_2},h.NO_SEARCHED_MESSAGE)))}var cL={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Wd={ElementNode:1,TextNode:3},mg={Span:"SPAN",Br:"BR",Div:"DIV"},sce=function(n){var t=n.children,r=t===void 0?null:t,i=n.className,o=i===void 0?"":i,u=n.separatorColor,c=u===void 0?Xs.ONBACKGROUND_4:u;return k.createElement("div",{className:qn(qn([],Array.isArray(o)?o:[o],!0),["sendbird-separator"],!1).join(" ")},k.createElement("div",{className:["sendbird-separator__left","".concat(ex(c),"--background-color")].join(" ")}),k.createElement("div",{className:"sendbird-separator__text"},r||k.createElement(Xn,{type:Yn.CAPTION_2,color:Bn.ONBACKGROUND_2},"Date Separator")),k.createElement("div",{className:["sendbird-separator__right","".concat(ex(c),"--background-color")].join(" ")}))},nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oce(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var o9={exports:{}},Vh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dL=Object.getOwnPropertySymbols,lce=Object.prototype.hasOwnProperty,uce=Object.prototype.propertyIsEnumerable;function cce(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dce(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var hce=dce()?Object.assign:function(e,n){for(var t,r=cce(e),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var u in t)lce.call(t,u)&&(r[u]=t[u]);if(dL){i=dL(t);for(var c=0;c<i.length;c++)uce.call(t,i[c])&&(r[i[c]]=t[i[c]])}}return r},k0={exports:{}},_h=typeof Reflect=="object"?Reflect:null,hL=_h&&typeof _h.apply=="function"?_h.apply:function(n,t,r){return Function.prototype.apply.call(n,t,r)},Hg;_h&&typeof _h.ownKeys=="function"?Hg=_h.ownKeys:Object.getOwnPropertySymbols?Hg=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Hg=function(n){return Object.getOwnPropertyNames(n)};function pce(e){console&&console.warn&&console.warn(e)}var l9=Number.isNaN||function(n){return n!==n};function er(){er.init.call(this)}k0.exports=er;k0.exports.once=vce;er.EventEmitter=er;er.prototype._events=void 0;er.prototype._eventsCount=0;er.prototype._maxListeners=void 0;var pL=10;function s_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(er,"defaultMaxListeners",{enumerable:!0,get:function(){return pL},set:function(e){if(typeof e!="number"||e<0||l9(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pL=e}});er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};er.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||l9(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function u9(e){return e._maxListeners===void 0?er.defaultMaxListeners:e._maxListeners}er.prototype.getMaxListeners=function(){return u9(this)};er.prototype.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=n==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var h=o[n];if(h===void 0)return!1;if(typeof h=="function")hL(h,this,t);else for(var f=h.length,v=f9(h,f),r=0;r<f;++r)hL(v[r],this,t);return!0};function c9(e,n,t,r){var i,o,u;if(s_(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),u=o[n]),u===void 0)u=o[n]=t,++e._eventsCount;else if(typeof u=="function"?u=o[n]=r?[t,u]:[u,t]:r?u.unshift(t):u.push(t),i=u9(e),i>0&&u.length>i&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=u.length,pce(c)}return e}er.prototype.addListener=function(n,t){return c9(this,n,t,!1)};er.prototype.on=er.prototype.addListener;er.prototype.prependListener=function(n,t){return c9(this,n,t,!0)};function fce(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d9(e,n,t){var r={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},i=fce.bind(r);return i.listener=t,r.wrapFn=i,i}er.prototype.once=function(n,t){return s_(t),this.on(n,d9(this,n,t)),this};er.prototype.prependOnceListener=function(n,t){return s_(t),this.prependListener(n,d9(this,n,t)),this};er.prototype.removeListener=function(n,t){var r,i,o,u,c;if(s_(t),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||t));else if(typeof r!="function"){for(o=-1,u=r.length-1;u>=0;u--)if(r[u]===t||r[u].listener===t){c=r[u].listener,o=u;break}if(o<0)return this;o===0?r.shift():mce(r,o),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,c||t)}return this};er.prototype.off=er.prototype.removeListener;er.prototype.removeAllListeners=function(n){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var o=Object.keys(r),u;for(i=0;i<o.length;++i)u=o[i],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[n],typeof t=="function")this.removeListener(n,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(n,t[i]);return this};function h9(e,n,t){var r=e._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?gce(i):f9(i,i.length)}er.prototype.listeners=function(n){return h9(this,n,!0)};er.prototype.rawListeners=function(n){return h9(this,n,!1)};er.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):p9.call(e,n)};er.prototype.listenerCount=p9;function p9(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}er.prototype.eventNames=function(){return this._eventsCount>0?Hg(this._events):[]};function f9(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e[r];return t}function mce(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function gce(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function vce(e,n){return new Promise(function(t,r){function i(u){e.removeListener(n,o),r(u)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),t([].slice.call(arguments))}m9(e,n,o,{once:!0}),n!=="error"&&_ce(e,i,{once:!0})})}function _ce(e,n,t){typeof e.on=="function"&&m9(e,"error",n,t)}function m9(e,n,t,r){if(typeof e.on=="function")r.once?e.once(n,t):e.on(n,t);else if(typeof e.addEventListener=="function")e.addEventListener(n,function i(o){r.once&&e.removeEventListener(n,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Wh=k0.exports,Po={},bce=function(n){return n instanceof Buffer},tx={exports:{}},rx={exports:{}};typeof Object.create=="function"?rx.exports=function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:rx.exports=function(n,t){n.super_=t;var r=function(){};r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n};try{var fL=Po;if(typeof fL.inherits!="function")throw"";tx.exports=fL.inherits}catch{tx.exports=rx.exports}(function(e){var n=Object.getOwnPropertyDescriptors||function(X){for(var me=Object.keys(X),Qe={},qe=0;qe<me.length;qe++)Qe[me[qe]]=Object.getOwnPropertyDescriptor(X,me[qe]);return Qe},t=/%[sdj%]/g;e.format=function(ee){if(!H(ee)){for(var X=[],me=0;me<arguments.length;me++)X.push(o(arguments[me]));return X.join(" ")}for(var me=1,Qe=arguments,qe=Qe.length,Te=String(ee).replace(t,function(Oe){if(Oe==="%%")return"%";if(me>=qe)return Oe;switch(Oe){case"%s":return String(Qe[me++]);case"%d":return Number(Qe[me++]);case"%j":try{return JSON.stringify(Qe[me++])}catch{return"[Circular]"}default:return Oe}}),ke=Qe[me];me<qe;ke=Qe[++me])S(ke)||!j(ke)?Te+=" "+ke:Te+=" "+o(ke);return Te},e.deprecate=function(ee,X){if(typeof process<"u"&&process.noDeprecation===!0)return ee;if(typeof process>"u")return function(){return e.deprecate(ee,X).apply(this,arguments)};var me=!1;function Qe(){if(!me){if(process.throwDeprecation)throw new Error(X);process.traceDeprecation?console.trace(X):console.error(X),me=!0}return ee.apply(this,arguments)}return Qe};var r={},i;e.debuglog=function(ee){if(z(i)&&(i={}.NODE_DEBUG||""),ee=ee.toUpperCase(),!r[ee])if(new RegExp("\\b"+ee+"\\b","i").test(i)){var X=process.pid;r[ee]=function(){var me=e.format.apply(e,arguments);console.error("%s %d: %s",ee,X,me)}}else r[ee]=function(){};return r[ee]};function o(ee,X){var me={seen:[],stylize:c};return arguments.length>=3&&(me.depth=arguments[2]),arguments.length>=4&&(me.colors=arguments[3]),M(X)?me.showHidden=X:X&&e._extend(me,X),z(me.showHidden)&&(me.showHidden=!1),z(me.depth)&&(me.depth=2),z(me.colors)&&(me.colors=!1),z(me.customInspect)&&(me.customInspect=!0),me.colors&&(me.stylize=u),f(me,ee,me.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(ee,X){var me=o.styles[X];return me?"\x1B["+o.colors[me][0]+"m"+ee+"\x1B["+o.colors[me][1]+"m":ee}function c(ee,X){return ee}function h(ee){var X={};return ee.forEach(function(me,Qe){X[me]=!0}),X}function f(ee,X,me){if(ee.customInspect&&X&&we(X.inspect)&&X.inspect!==e.inspect&&!(X.constructor&&X.constructor.prototype===X)){var Qe=X.inspect(me,ee);return H(Qe)||(Qe=f(ee,Qe,me)),Qe}var qe=v(ee,X);if(qe)return qe;var Te=Object.keys(X),ke=h(Te);if(ee.showHidden&&(Te=Object.getOwnPropertyNames(X)),ue(X)&&(Te.indexOf("message")>=0||Te.indexOf("description")>=0))return _(X);if(Te.length===0){if(we(X)){var Oe=X.name?": "+X.name:"";return ee.stylize("[Function"+Oe+"]","special")}if(W(X))return ee.stylize(RegExp.prototype.toString.call(X),"regexp");if(ce(X))return ee.stylize(Date.prototype.toString.call(X),"date");if(ue(X))return _(X)}var Ze="",yn=!1,Rn=["{","}"];if(C(X)&&(yn=!0,Rn=["[","]"]),we(X)){var pn=X.name?": "+X.name:"";Ze=" [Function"+pn+"]"}if(W(X)&&(Ze=" "+RegExp.prototype.toString.call(X)),ce(X)&&(Ze=" "+Date.prototype.toUTCString.call(X)),ue(X)&&(Ze=" "+_(X)),Te.length===0&&(!yn||X.length==0))return Rn[0]+Ze+Rn[1];if(me<0)return W(X)?ee.stylize(RegExp.prototype.toString.call(X),"regexp"):ee.stylize("[Object]","special");ee.seen.push(X);var Un;return yn?Un=y(ee,X,me,ke,Te):Un=Te.map(function(an){return E(ee,X,me,ke,an,yn)}),ee.seen.pop(),x(Un,Ze,Rn)}function v(ee,X){if(z(X))return ee.stylize("undefined","undefined");if(H(X)){var me="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(me,"string")}if(D(X))return ee.stylize(""+X,"number");if(M(X))return ee.stylize(""+X,"boolean");if(S(X))return ee.stylize("null","null")}function _(ee){return"["+Error.prototype.toString.call(ee)+"]"}function y(ee,X,me,Qe,qe){for(var Te=[],ke=0,Oe=X.length;ke<Oe;++ke)He(X,String(ke))?Te.push(E(ee,X,me,Qe,String(ke),!0)):Te.push("");return qe.forEach(function(Ze){Ze.match(/^\d+$/)||Te.push(E(ee,X,me,Qe,Ze,!0))}),Te}function E(ee,X,me,Qe,qe,Te){var ke,Oe,Ze;if(Ze=Object.getOwnPropertyDescriptor(X,qe)||{value:X[qe]},Ze.get?Ze.set?Oe=ee.stylize("[Getter/Setter]","special"):Oe=ee.stylize("[Getter]","special"):Ze.set&&(Oe=ee.stylize("[Setter]","special")),He(Qe,qe)||(ke="["+qe+"]"),Oe||(ee.seen.indexOf(Ze.value)<0?(S(me)?Oe=f(ee,Ze.value,null):Oe=f(ee,Ze.value,me-1),Oe.indexOf(`
`)>-1&&(Te?Oe=Oe.split(`
`).map(function(yn){return"  "+yn}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(yn){return"   "+yn}).join(`
`))):Oe=ee.stylize("[Circular]","special")),z(ke)){if(Te&&qe.match(/^\d+$/))return Oe;ke=JSON.stringify(""+qe),ke.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ke=ke.substr(1,ke.length-2),ke=ee.stylize(ke,"name")):(ke=ke.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ke=ee.stylize(ke,"string"))}return ke+": "+Oe}function x(ee,X,me){var Qe=ee.reduce(function(qe,Te){return Te.indexOf(`
`)>=0,qe+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Qe>60?me[0]+(X===""?"":X+`
 `)+" "+ee.join(`,
  `)+" "+me[1]:me[0]+X+" "+ee.join(", ")+" "+me[1]}function C(ee){return Array.isArray(ee)}e.isArray=C;function M(ee){return typeof ee=="boolean"}e.isBoolean=M;function S(ee){return ee===null}e.isNull=S;function N(ee){return ee==null}e.isNullOrUndefined=N;function D(ee){return typeof ee=="number"}e.isNumber=D;function H(ee){return typeof ee=="string"}e.isString=H;function K(ee){return typeof ee=="symbol"}e.isSymbol=K;function z(ee){return ee===void 0}e.isUndefined=z;function W(ee){return j(ee)&&ie(ee)==="[object RegExp]"}e.isRegExp=W;function j(ee){return typeof ee=="object"&&ee!==null}e.isObject=j;function ce(ee){return j(ee)&&ie(ee)==="[object Date]"}e.isDate=ce;function ue(ee){return j(ee)&&(ie(ee)==="[object Error]"||ee instanceof Error)}e.isError=ue;function we(ee){return typeof ee=="function"}e.isFunction=we;function Se(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}e.isPrimitive=Se,e.isBuffer=bce;function ie(ee){return Object.prototype.toString.call(ee)}function oe(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function De(){var ee=new Date,X=[oe(ee.getHours()),oe(ee.getMinutes()),oe(ee.getSeconds())].join(":");return[ee.getDate(),de[ee.getMonth()],X].join(" ")}e.log=function(){console.log("%s - %s",De(),e.format.apply(e,arguments))},e.inherits=tx.exports,e._extend=function(ee,X){if(!X||!j(X))return ee;for(var me=Object.keys(X),Qe=me.length;Qe--;)ee[me[Qe]]=X[me[Qe]];return ee};function He(ee,X){return Object.prototype.hasOwnProperty.call(ee,X)}var ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(ge&&X[ge]){var me=X[ge];if(typeof me!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(me,ge,{value:me,enumerable:!1,writable:!1,configurable:!0}),me}function me(){for(var Qe,qe,Te=new Promise(function(Ze,yn){Qe=Ze,qe=yn}),ke=[],Oe=0;Oe<arguments.length;Oe++)ke.push(arguments[Oe]);ke.push(function(Ze,yn){Ze?qe(Ze):Qe(yn)});try{X.apply(this,ke)}catch(Ze){qe(Ze)}return Te}return Object.setPrototypeOf(me,Object.getPrototypeOf(X)),ge&&Object.defineProperty(me,ge,{value:me,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(me,n(X))},e.promisify.custom=ge;function be(ee,X){if(!ee){var me=new Error("Promise was rejected with a falsy value");me.reason=ee,ee=me}return X(ee)}function Le(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var me=[],Qe=0;Qe<arguments.length;Qe++)me.push(arguments[Qe]);var qe=me.pop();if(typeof qe!="function")throw new TypeError("The last argument must be of type Function");var Te=this,ke=function(){return qe.apply(Te,arguments)};ee.apply(this,me).then(function(Oe){process.nextTick(ke,null,Oe)},function(Oe){process.nextTick(be,Oe,ke)})}return Object.setPrototypeOf(X,Object.getPrototypeOf(ee)),Object.defineProperties(X,n(ee)),X}e.callbackify=Le})(Po);var Ds=nx.process,Uu={},o_={};o_.byteLength=wce;o_.toByteArray=kce;o_.fromByteArray=Nce;var Ao=[],_s=[],yce=typeof Uint8Array<"u"?Uint8Array:Array,bE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Kd=0,Ece=bE.length;Kd<Ece;++Kd)Ao[Kd]=bE[Kd],_s[bE.charCodeAt(Kd)]=Kd;_s["-".charCodeAt(0)]=62;_s["_".charCodeAt(0)]=63;function g9(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function wce(e){var n=g9(e),t=n[0],r=n[1];return(t+r)*3/4-r}function xce(e,n,t){return(n+t)*3/4-t}function kce(e){var n,t=g9(e),r=t[0],i=t[1],o=new yce(xce(e,r,i)),u=0,c=i>0?r-4:r,h;for(h=0;h<c;h+=4)n=_s[e.charCodeAt(h)]<<18|_s[e.charCodeAt(h+1)]<<12|_s[e.charCodeAt(h+2)]<<6|_s[e.charCodeAt(h+3)],o[u++]=n>>16&255,o[u++]=n>>8&255,o[u++]=n&255;return i===2&&(n=_s[e.charCodeAt(h)]<<2|_s[e.charCodeAt(h+1)]>>4,o[u++]=n&255),i===1&&(n=_s[e.charCodeAt(h)]<<10|_s[e.charCodeAt(h+1)]<<4|_s[e.charCodeAt(h+2)]>>2,o[u++]=n>>8&255,o[u++]=n&255),o}function Cce(e){return Ao[e>>18&63]+Ao[e>>12&63]+Ao[e>>6&63]+Ao[e&63]}function Sce(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Cce(r));return i.join("")}function Nce(e){for(var n,t=e.length,r=t%3,i=[],o=16383,u=0,c=t-r;u<c;u+=o)i.push(Sce(e,u,u+o>c?c:u+o));return r===1?(n=e[t-1],i.push(Ao[n>>2]+Ao[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(Ao[n>>10]+Ao[n>>4&63]+Ao[n<<2&63]+"=")),i.join("")}var j3={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j3.read=function(e,n,t,r,i){var o,u,c=i*8-r-1,h=(1<<c)-1,f=h>>1,v=-7,_=t?i-1:0,y=t?-1:1,E=e[n+_];for(_+=y,o=E&(1<<-v)-1,E>>=-v,v+=c;v>0;o=o*256+e[n+_],_+=y,v-=8);for(u=o&(1<<-v)-1,o>>=-v,v+=r;v>0;u=u*256+e[n+_],_+=y,v-=8);if(o===0)o=1-f;else{if(o===h)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,r),o=o-f}return(E?-1:1)*u*Math.pow(2,o-r)};j3.write=function(e,n,t,r,i,o){var u,c,h,f=o*8-i-1,v=(1<<f)-1,_=v>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:o-1,x=r?1:-1,C=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,u=v):(u=Math.floor(Math.log(n)/Math.LN2),n*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+_>=1?n+=y/h:n+=y*Math.pow(2,1-_),n*h>=2&&(u++,h/=2),u+_>=v?(c=0,u=v):u+_>=1?(c=(n*h-1)*Math.pow(2,i),u=u+_):(c=n*Math.pow(2,_-1)*Math.pow(2,i),u=0));i>=8;e[t+E]=c&255,E+=x,c/=256,i-=8);for(u=u<<i|c,f+=i;f>0;e[t+E]=u&255,E+=x,u/=256,f-=8);e[t+E-x]|=C*128};var Tce={}.toString,Ice=Array.isArray||function(e){return Tce.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var n=o_,t=j3,r=Ice;e.Buffer=c,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=nx.TYPED_ARRAY_SUPPORT!==void 0?nx.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u($,A){if(o()<A)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?($=new Uint8Array(A),$.__proto__=c.prototype):($===null&&($=new c(A)),$.length=A),$}function c($,A,R){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c($,A,R);if(typeof $=="number"){if(typeof A=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,$)}return h(this,$,A,R)}c.poolSize=8192,c._augment=function($){return $.__proto__=c.prototype,$};function h($,A,R,V){if(typeof A=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer?x($,A,R,V):typeof A=="string"?y($,A,R):C($,A)}c.from=function($,A,R){return h(null,$,A,R)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}));function f($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function v($,A,R,V){return f(A),A<=0?u($,A):R!==void 0?typeof V=="string"?u($,A).fill(R,V):u($,A).fill(R):u($,A)}c.alloc=function($,A,R){return v(null,$,A,R)};function _($,A){if(f(A),$=u($,A<0?0:M(A)|0),!c.TYPED_ARRAY_SUPPORT)for(var R=0;R<A;++R)$[R]=0;return $}c.allocUnsafe=function($){return _(null,$)},c.allocUnsafeSlow=function($){return _(null,$)};function y($,A,R){if((typeof R!="string"||R==="")&&(R="utf8"),!c.isEncoding(R))throw new TypeError('"encoding" must be a valid string encoding');var V=N(A,R)|0;$=u($,V);var Z=$.write(A,R);return Z!==V&&($=$.slice(0,Z)),$}function E($,A){var R=A.length<0?0:M(A.length)|0;$=u($,R);for(var V=0;V<R;V+=1)$[V]=A[V]&255;return $}function x($,A,R,V){if(A.byteLength,R<0||A.byteLength<R)throw new RangeError("'offset' is out of bounds");if(A.byteLength<R+(V||0))throw new RangeError("'length' is out of bounds");return R===void 0&&V===void 0?A=new Uint8Array(A):V===void 0?A=new Uint8Array(A,R):A=new Uint8Array(A,R,V),c.TYPED_ARRAY_SUPPORT?($=A,$.__proto__=c.prototype):$=E($,A),$}function C($,A){if(c.isBuffer(A)){var R=M(A.length)|0;return $=u($,R),$.length===0||A.copy($,0,0,R),$}if(A){if(typeof ArrayBuffer<"u"&&A.buffer instanceof ArrayBuffer||"length"in A)return typeof A.length!="number"||Sn(A.length)?u($,0):E($,A);if(A.type==="Buffer"&&r(A.data))return E($,A.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function M($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function S($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(A){return!!(A!=null&&A._isBuffer)},c.compare=function(A,R){if(!c.isBuffer(A)||!c.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(A===R)return 0;for(var V=A.length,Z=R.length,ye=0,Ie=Math.min(V,Z);ye<Ie;++ye)if(A[ye]!==R[ye]){V=A[ye],Z=R[ye];break}return V<Z?-1:Z<V?1:0},c.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(A,R){if(!r(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return c.alloc(0);var V;if(R===void 0)for(R=0,V=0;V<A.length;++V)R+=A[V].length;var Z=c.allocUnsafe(R),ye=0;for(V=0;V<A.length;++V){var Ie=A[V];if(!c.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Z,ye),ye+=Ie.length}return Z};function N($,A){if(c.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var R=$.length;if(R===0)return 0;for(var V=!1;;)switch(A){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":case void 0:return pn($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Mn($).length;default:if(V)return pn($).length;A=(""+A).toLowerCase(),V=!0}}c.byteLength=N;function D($,A,R){var V=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,A>>>=0,R<=A))return"";for($||($="utf8");;)switch($){case"hex":return be(this,A,R);case"utf8":case"utf-8":return oe(this,A,R);case"ascii":return He(this,A,R);case"latin1":case"binary":return ge(this,A,R);case"base64":return ie(this,A,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,A,R);default:if(V)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),V=!0}}c.prototype._isBuffer=!0;function H($,A,R){var V=$[A];$[A]=$[R],$[R]=V}c.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<A;R+=2)H(this,R,R+1);return this},c.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<A;R+=4)H(this,R,R+3),H(this,R+1,R+2);return this},c.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<A;R+=8)H(this,R,R+7),H(this,R+1,R+6),H(this,R+2,R+5),H(this,R+3,R+4);return this},c.prototype.toString=function(){var A=this.length|0;return A===0?"":arguments.length===0?oe(this,0,A):D.apply(this,arguments)},c.prototype.equals=function(A){if(!c.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:c.compare(this,A)===0},c.prototype.inspect=function(){var A="",R=e.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(A+=" ... ")),"<Buffer "+A+">"},c.prototype.compare=function(A,R,V,Z,ye){if(!c.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),V===void 0&&(V=A?A.length:0),Z===void 0&&(Z=0),ye===void 0&&(ye=this.length),R<0||V>A.length||Z<0||ye>this.length)throw new RangeError("out of range index");if(Z>=ye&&R>=V)return 0;if(Z>=ye)return-1;if(R>=V)return 1;if(R>>>=0,V>>>=0,Z>>>=0,ye>>>=0,this===A)return 0;for(var Ie=ye-Z,mn=V-R,hn=Math.min(Ie,mn),tn=this.slice(Z,ye),Be=A.slice(R,V),kn=0;kn<hn;++kn)if(tn[kn]!==Be[kn]){Ie=tn[kn],mn=Be[kn];break}return Ie<mn?-1:mn<Ie?1:0};function K($,A,R,V,Z){if($.length===0)return-1;if(typeof R=="string"?(V=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,isNaN(R)&&(R=Z?0:$.length-1),R<0&&(R=$.length+R),R>=$.length){if(Z)return-1;R=$.length-1}else if(R<0)if(Z)R=0;else return-1;if(typeof A=="string"&&(A=c.from(A,V)),c.isBuffer(A))return A.length===0?-1:z($,A,R,V,Z);if(typeof A=="number")return A=A&255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call($,A,R):Uint8Array.prototype.lastIndexOf.call($,A,R):z($,[A],R,V,Z);throw new TypeError("val must be string, number or Buffer")}function z($,A,R,V,Z){var ye=1,Ie=$.length,mn=A.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if($.length<2||A.length<2)return-1;ye=2,Ie/=2,mn/=2,R/=2}function hn(Lt,Ar){return ye===1?Lt[Ar]:Lt.readUInt16BE(Ar*ye)}var tn;if(Z){var Be=-1;for(tn=R;tn<Ie;tn++)if(hn($,tn)===hn(A,Be===-1?0:tn-Be)){if(Be===-1&&(Be=tn),tn-Be+1===mn)return Be*ye}else Be!==-1&&(tn-=tn-Be),Be=-1}else for(R+mn>Ie&&(R=Ie-mn),tn=R;tn>=0;tn--){for(var kn=!0,lt=0;lt<mn;lt++)if(hn($,tn+lt)!==hn(A,lt)){kn=!1;break}if(kn)return tn}return-1}c.prototype.includes=function(A,R,V){return this.indexOf(A,R,V)!==-1},c.prototype.indexOf=function(A,R,V){return K(this,A,R,V,!0)},c.prototype.lastIndexOf=function(A,R,V){return K(this,A,R,V,!1)};function W($,A,R,V){R=Number(R)||0;var Z=$.length-R;V?(V=Number(V),V>Z&&(V=Z)):V=Z;var ye=A.length;if(ye%2!==0)throw new TypeError("Invalid hex string");V>ye/2&&(V=ye/2);for(var Ie=0;Ie<V;++Ie){var mn=parseInt(A.substr(Ie*2,2),16);if(isNaN(mn))return Ie;$[R+Ie]=mn}return Ie}function j($,A,R,V){return En(pn(A,$.length-R),$,R,V)}function ce($,A,R,V){return En(Un(A),$,R,V)}function ue($,A,R,V){return ce($,A,R,V)}function we($,A,R,V){return En(Mn(A),$,R,V)}function Se($,A,R,V){return En(an(A,$.length-R),$,R,V)}c.prototype.write=function(A,R,V,Z){if(R===void 0)Z="utf8",V=this.length,R=0;else if(V===void 0&&typeof R=="string")Z=R,V=this.length,R=0;else if(isFinite(R))R=R|0,isFinite(V)?(V=V|0,Z===void 0&&(Z="utf8")):(Z=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-R;if((V===void 0||V>ye)&&(V=ye),A.length>0&&(V<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var Ie=!1;;)switch(Z){case"hex":return W(this,A,R,V);case"utf8":case"utf-8":return j(this,A,R,V);case"ascii":return ce(this,A,R,V);case"latin1":case"binary":return ue(this,A,R,V);case"base64":return we(this,A,R,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,A,R,V);default:if(Ie)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),Ie=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ie($,A,R){return A===0&&R===$.length?n.fromByteArray($):n.fromByteArray($.slice(A,R))}function oe($,A,R){R=Math.min($.length,R);for(var V=[],Z=A;Z<R;){var ye=$[Z],Ie=null,mn=ye>239?4:ye>223?3:ye>191?2:1;if(Z+mn<=R){var hn,tn,Be,kn;switch(mn){case 1:ye<128&&(Ie=ye);break;case 2:hn=$[Z+1],(hn&192)===128&&(kn=(ye&31)<<6|hn&63,kn>127&&(Ie=kn));break;case 3:hn=$[Z+1],tn=$[Z+2],(hn&192)===128&&(tn&192)===128&&(kn=(ye&15)<<12|(hn&63)<<6|tn&63,kn>2047&&(kn<55296||kn>57343)&&(Ie=kn));break;case 4:hn=$[Z+1],tn=$[Z+2],Be=$[Z+3],(hn&192)===128&&(tn&192)===128&&(Be&192)===128&&(kn=(ye&15)<<18|(hn&63)<<12|(tn&63)<<6|Be&63,kn>65535&&kn<1114112&&(Ie=kn))}}Ie===null?(Ie=65533,mn=1):Ie>65535&&(Ie-=65536,V.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),V.push(Ie),Z+=mn}return De(V)}var de=4096;function De($){var A=$.length;if(A<=de)return String.fromCharCode.apply(String,$);for(var R="",V=0;V<A;)R+=String.fromCharCode.apply(String,$.slice(V,V+=de));return R}function He($,A,R){var V="";R=Math.min($.length,R);for(var Z=A;Z<R;++Z)V+=String.fromCharCode($[Z]&127);return V}function ge($,A,R){var V="";R=Math.min($.length,R);for(var Z=A;Z<R;++Z)V+=String.fromCharCode($[Z]);return V}function be($,A,R){var V=$.length;(!A||A<0)&&(A=0),(!R||R<0||R>V)&&(R=V);for(var Z="",ye=A;ye<R;++ye)Z+=Rn($[ye]);return Z}function Le($,A,R){for(var V=$.slice(A,R),Z="",ye=0;ye<V.length;ye+=2)Z+=String.fromCharCode(V[ye]+V[ye+1]*256);return Z}c.prototype.slice=function(A,R){var V=this.length;A=~~A,R=R===void 0?V:~~R,A<0?(A+=V,A<0&&(A=0)):A>V&&(A=V),R<0?(R+=V,R<0&&(R=0)):R>V&&(R=V),R<A&&(R=A);var Z;if(c.TYPED_ARRAY_SUPPORT)Z=this.subarray(A,R),Z.__proto__=c.prototype;else{var ye=R-A;Z=new c(ye,void 0);for(var Ie=0;Ie<ye;++Ie)Z[Ie]=this[Ie+A]}return Z};function ee($,A,R){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+A>R)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function(A,R,V){A=A|0,R=R|0,V||ee(A,R,this.length);for(var Z=this[A],ye=1,Ie=0;++Ie<R&&(ye*=256);)Z+=this[A+Ie]*ye;return Z},c.prototype.readUIntBE=function(A,R,V){A=A|0,R=R|0,V||ee(A,R,this.length);for(var Z=this[A+--R],ye=1;R>0&&(ye*=256);)Z+=this[A+--R]*ye;return Z},c.prototype.readUInt8=function(A,R){return R||ee(A,1,this.length),this[A]},c.prototype.readUInt16LE=function(A,R){return R||ee(A,2,this.length),this[A]|this[A+1]<<8},c.prototype.readUInt16BE=function(A,R){return R||ee(A,2,this.length),this[A]<<8|this[A+1]},c.prototype.readUInt32LE=function(A,R){return R||ee(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},c.prototype.readUInt32BE=function(A,R){return R||ee(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},c.prototype.readIntLE=function(A,R,V){A=A|0,R=R|0,V||ee(A,R,this.length);for(var Z=this[A],ye=1,Ie=0;++Ie<R&&(ye*=256);)Z+=this[A+Ie]*ye;return ye*=128,Z>=ye&&(Z-=Math.pow(2,8*R)),Z},c.prototype.readIntBE=function(A,R,V){A=A|0,R=R|0,V||ee(A,R,this.length);for(var Z=R,ye=1,Ie=this[A+--Z];Z>0&&(ye*=256);)Ie+=this[A+--Z]*ye;return ye*=128,Ie>=ye&&(Ie-=Math.pow(2,8*R)),Ie},c.prototype.readInt8=function(A,R){return R||ee(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},c.prototype.readInt16LE=function(A,R){R||ee(A,2,this.length);var V=this[A]|this[A+1]<<8;return V&32768?V|4294901760:V},c.prototype.readInt16BE=function(A,R){R||ee(A,2,this.length);var V=this[A+1]|this[A]<<8;return V&32768?V|4294901760:V},c.prototype.readInt32LE=function(A,R){return R||ee(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},c.prototype.readInt32BE=function(A,R){return R||ee(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},c.prototype.readFloatLE=function(A,R){return R||ee(A,4,this.length),t.read(this,A,!0,23,4)},c.prototype.readFloatBE=function(A,R){return R||ee(A,4,this.length),t.read(this,A,!1,23,4)},c.prototype.readDoubleLE=function(A,R){return R||ee(A,8,this.length),t.read(this,A,!0,52,8)},c.prototype.readDoubleBE=function(A,R){return R||ee(A,8,this.length),t.read(this,A,!1,52,8)};function X($,A,R,V,Z,ye){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<ye)throw new RangeError('"value" argument is out of bounds');if(R+V>$.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function(A,R,V,Z){if(A=+A,R=R|0,V=V|0,!Z){var ye=Math.pow(2,8*V)-1;X(this,A,R,V,ye,0)}var Ie=1,mn=0;for(this[R]=A&255;++mn<V&&(Ie*=256);)this[R+mn]=A/Ie&255;return R+V},c.prototype.writeUIntBE=function(A,R,V,Z){if(A=+A,R=R|0,V=V|0,!Z){var ye=Math.pow(2,8*V)-1;X(this,A,R,V,ye,0)}var Ie=V-1,mn=1;for(this[R+Ie]=A&255;--Ie>=0&&(mn*=256);)this[R+Ie]=A/mn&255;return R+V},c.prototype.writeUInt8=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,1,255,0),c.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[R]=A&255,R+1};function me($,A,R,V){A<0&&(A=65535+A+1);for(var Z=0,ye=Math.min($.length-R,2);Z<ye;++Z)$[R+Z]=(A&255<<8*(V?Z:1-Z))>>>(V?Z:1-Z)*8}c.prototype.writeUInt16LE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8):me(this,A,R,!0),R+2},c.prototype.writeUInt16BE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=A&255):me(this,A,R,!1),R+2};function Qe($,A,R,V){A<0&&(A=4294967295+A+1);for(var Z=0,ye=Math.min($.length-R,4);Z<ye;++Z)$[R+Z]=A>>>(V?Z:3-Z)*8&255}c.prototype.writeUInt32LE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=A&255):Qe(this,A,R,!0),R+4},c.prototype.writeUInt32BE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255):Qe(this,A,R,!1),R+4},c.prototype.writeIntLE=function(A,R,V,Z){if(A=+A,R=R|0,!Z){var ye=Math.pow(2,8*V-1);X(this,A,R,V,ye-1,-ye)}var Ie=0,mn=1,hn=0;for(this[R]=A&255;++Ie<V&&(mn*=256);)A<0&&hn===0&&this[R+Ie-1]!==0&&(hn=1),this[R+Ie]=(A/mn>>0)-hn&255;return R+V},c.prototype.writeIntBE=function(A,R,V,Z){if(A=+A,R=R|0,!Z){var ye=Math.pow(2,8*V-1);X(this,A,R,V,ye-1,-ye)}var Ie=V-1,mn=1,hn=0;for(this[R+Ie]=A&255;--Ie>=0&&(mn*=256);)A<0&&hn===0&&this[R+Ie+1]!==0&&(hn=1),this[R+Ie]=(A/mn>>0)-hn&255;return R+V},c.prototype.writeInt8=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,1,127,-128),c.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[R]=A&255,R+1},c.prototype.writeInt16LE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8):me(this,A,R,!0),R+2},c.prototype.writeInt16BE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=A&255):me(this,A,R,!1),R+2},c.prototype.writeInt32LE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[R]=A&255,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24):Qe(this,A,R,!0),R+4},c.prototype.writeInt32BE=function(A,R,V){return A=+A,R=R|0,V||X(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),c.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255):Qe(this,A,R,!1),R+4};function qe($,A,R,V,Z,ye){if(R+V>$.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Te($,A,R,V,Z){return Z||qe($,A,R,4),t.write($,A,R,V,23,4),R+4}c.prototype.writeFloatLE=function(A,R,V){return Te(this,A,R,!0,V)},c.prototype.writeFloatBE=function(A,R,V){return Te(this,A,R,!1,V)};function ke($,A,R,V,Z){return Z||qe($,A,R,8),t.write($,A,R,V,52,8),R+8}c.prototype.writeDoubleLE=function(A,R,V){return ke(this,A,R,!0,V)},c.prototype.writeDoubleBE=function(A,R,V){return ke(this,A,R,!1,V)},c.prototype.copy=function(A,R,V,Z){if(V||(V=0),!Z&&Z!==0&&(Z=this.length),R>=A.length&&(R=A.length),R||(R=0),Z>0&&Z<V&&(Z=V),Z===V||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-R<Z-V&&(Z=A.length-R+V);var ye=Z-V,Ie;if(this===A&&V<R&&R<Z)for(Ie=ye-1;Ie>=0;--Ie)A[Ie+R]=this[Ie+V];else if(ye<1e3||!c.TYPED_ARRAY_SUPPORT)for(Ie=0;Ie<ye;++Ie)A[Ie+R]=this[Ie+V];else Uint8Array.prototype.set.call(A,this.subarray(V,V+ye),R);return ye},c.prototype.fill=function(A,R,V,Z){if(typeof A=="string"){if(typeof R=="string"?(Z=R,R=0,V=this.length):typeof V=="string"&&(Z=V,V=this.length),A.length===1){var ye=A.charCodeAt(0);ye<256&&(A=ye)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!c.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof A=="number"&&(A=A&255);if(R<0||this.length<R||this.length<V)throw new RangeError("Out of range index");if(V<=R)return this;R=R>>>0,V=V===void 0?this.length:V>>>0,A||(A=0);var Ie;if(typeof A=="number")for(Ie=R;Ie<V;++Ie)this[Ie]=A;else{var mn=c.isBuffer(A)?A:pn(new c(A,Z).toString()),hn=mn.length;for(Ie=0;Ie<V-R;++Ie)this[Ie+R]=mn[Ie%hn]}return this};var Oe=/[^+\/0-9A-Za-z-_]/g;function Ze($){if($=yn($).replace(Oe,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function yn($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function Rn($){return $<16?"0"+$.toString(16):$.toString(16)}function pn($,A){A=A||1/0;for(var R,V=$.length,Z=null,ye=[],Ie=0;Ie<V;++Ie){if(R=$.charCodeAt(Ie),R>55295&&R<57344){if(!Z){if(R>56319){(A-=3)>-1&&ye.push(239,191,189);continue}else if(Ie+1===V){(A-=3)>-1&&ye.push(239,191,189);continue}Z=R;continue}if(R<56320){(A-=3)>-1&&ye.push(239,191,189),Z=R;continue}R=(Z-55296<<10|R-56320)+65536}else Z&&(A-=3)>-1&&ye.push(239,191,189);if(Z=null,R<128){if((A-=1)<0)break;ye.push(R)}else if(R<2048){if((A-=2)<0)break;ye.push(R>>6|192,R&63|128)}else if(R<65536){if((A-=3)<0)break;ye.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((A-=4)<0)break;ye.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ye}function Un($){for(var A=[],R=0;R<$.length;++R)A.push($.charCodeAt(R)&255);return A}function an($,A){for(var R,V,Z,ye=[],Ie=0;Ie<$.length&&!((A-=2)<0);++Ie)R=$.charCodeAt(Ie),V=R>>8,Z=R%256,ye.push(Z),ye.push(V);return ye}function Mn($){return n.toByteArray(Ze($))}function En($,A,R,V){for(var Z=0;Z<V&&!(Z+R>=A.length||Z>=$.length);++Z)A[Z+R]=$[Z];return Z}function Sn($){return $!==$}})(Uu);function nd(){this.head=null,this.tail=null,this.length=0}nd.prototype.push=function(e){var n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length};nd.prototype.unshift=function(e){var n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length};nd.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}};nd.prototype.clear=function(){this.head=this.tail=null,this.length=0};nd.prototype.join=function(e){if(this.length===0)return"";for(var n=this.head,t=""+n.data;n=n.next;)t+=e+n.data;return t};nd.prototype.concat=function(e){if(this.length===0)return Uu.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var n=Uu.Buffer.allocUnsafe(e>>>0),t=this.head,r=0;t;)t.data.copy(n,r),r+=t.data.length,t=t.next;return n};var ix={exports:{}};(function(e,n){var t=Uu,r=t.Buffer;function i(u,c){for(var h in u)c[h]=u[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(i(t,n),n.Buffer=o);function o(u,c,h){return r(u,c,h)}i(r,o),o.from=function(u,c,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,c,h)},o.alloc=function(u,c,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var f=r(u);return c!==void 0?typeof h=="string"?f.fill(c,h):f.fill(c):f.fill(0),f},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(ix,ix.exports);var V3=ix.exports.Buffer,mL=V3.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Oce(e){if(!e)return"utf8";for(var n;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(n)return;e=(""+e).toLowerCase(),n=!0}}function Ace(e){var n=Oce(e);if(typeof n!="string"&&(V3.isEncoding===mL||!mL(e)))throw new Error("Unknown encoding: "+e);return n||e}var v9=C0;function C0(e){this.encoding=Ace(e);var n;switch(this.encoding){case"utf16le":this.text=Pce,this.end=Fce,n=4;break;case"utf8":this.fillLast=Dce,n=4;break;case"base64":this.text=Hce,this.end=qce,n=3;break;default:this.write=Bce,this.end=Gce;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=V3.allocUnsafe(n)}C0.prototype.write=function(e){if(e.length===0)return"";var n,t;if(this.lastNeed){if(n=this.fillLast(e),n===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?n?n+this.text(e,t):this.text(e,t):n||""};C0.prototype.end=Lce;C0.prototype.text=Uce;C0.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function yE(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Rce(e,n,t){var r=n.length-1;if(r<t)return 0;var i=yE(n[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<t||i===-2?0:(i=yE(n[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<t||i===-2?0:(i=yE(n[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Mce(e,n,t){if((n[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&n.length>1){if((n[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&n.length>2&&(n[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Dce(e){var n=this.lastTotal-this.lastNeed,t=Mce(this,e);if(t!==void 0)return t;if(this.lastNeed<=e.length)return e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,n,0,e.length),this.lastNeed-=e.length}function Uce(e,n){var t=Rce(this,e,n);if(!this.lastNeed)return e.toString("utf8",n);this.lastTotal=t;var r=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",n,r)}function Lce(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+"\uFFFD":n}function Pce(e,n){if((e.length-n)%2===0){var t=e.toString("utf16le",n);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",n,e.length-1)}function Fce(e){var n=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,t)}return n}function Hce(e,n){var t=(e.length-n)%3;return t===0?e.toString("base64",n):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",n,e.length-t))}function qce(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function Bce(e){return e.toString(this.encoding)}function Gce(e){return e&&e.length?this.write(e):""}Tr.ReadableState=_9;var Kt=Po.debuglog("stream");Po.inherits(Tr,Wh);function $ce(e,n,t){if(typeof e.prependListener=="function")return e.prependListener(n,t);!e._events||!e._events[n]?e.on(n,t):Array.isArray(e._events[n])?e._events[n].unshift(t):e._events[n]=[t,e._events[n]]}function zce(e,n){return e.listeners(n).length}function _9(e,n){e=e||{},this.objectMode=!!e.objectMode,n instanceof cs&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new nd,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new v9(e.encoding),this.encoding=e.encoding)}function Tr(e){if(!(this instanceof Tr))return new Tr(e);this._readableState=new _9(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Wh.call(this)}Tr.prototype.push=function(e,n){var t=this._readableState;return!t.objectMode&&typeof e=="string"&&(n=n||t.defaultEncoding,n!==t.encoding&&(e=Buffer.from(e,n),n="")),b9(this,t,e,n,!1)};Tr.prototype.unshift=function(e){var n=this._readableState;return b9(this,n,e,"",!0)};Tr.prototype.isPaused=function(){return this._readableState.flowing===!1};function b9(e,n,t,r,i){var o=Wce(n,t);if(o)e.emit("error",o);else if(t===null)n.reading=!1,Kce(e,n);else if(n.objectMode||t&&t.length>0)if(n.ended&&!i){var u=new Error("stream.push() after EOF");e.emit("error",u)}else if(n.endEmitted&&i){var c=new Error("stream.unshift() after end event");e.emit("error",c)}else{var h;n.decoder&&!i&&!r&&(t=n.decoder.write(t),h=!n.objectMode&&t.length===0),i||(n.reading=!1),h||(n.flowing&&n.length===0&&!n.sync?(e.emit("data",t),e.read(0)):(n.length+=n.objectMode?1:t.length,i?n.buffer.unshift(t):n.buffer.push(t),n.needReadable&&l_(e))),Qce(e,n)}else i||(n.reading=!1);return jce(n)}function jce(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Tr.prototype.setEncoding=function(e){return this._readableState.decoder=new v9(e),this._readableState.encoding=e,this};var gL=8388608;function Vce(e){return e>=gL?e=gL:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function vL(e,n){return e<=0||n.length===0&&n.ended?0:n.objectMode?1:e!==e?n.flowing&&n.length?n.buffer.head.data.length:n.length:(e>n.highWaterMark&&(n.highWaterMark=Vce(e)),e<=n.length?e:n.ended?n.length:(n.needReadable=!0,0))}Tr.prototype.read=function(e){Kt("read",e),e=parseInt(e,10);var n=this._readableState,t=e;if(e!==0&&(n.emittedReadable=!1),e===0&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return Kt("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?EE(this):l_(this),null;if(e=vL(e,n),e===0&&n.ended)return n.length===0&&EE(this),null;var r=n.needReadable;Kt("need readable",r),(n.length===0||n.length-e<n.highWaterMark)&&(r=!0,Kt("length less than watermark",r)),n.ended||n.reading?(r=!1,Kt("reading or ended",r)):r&&(Kt("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=vL(t,n)));var i;return e>0?i=y9(e,n):i=null,i===null?(n.needReadable=!0,e=0):n.length-=e,n.length===0&&(n.ended||(n.needReadable=!0),t!==e&&n.ended&&EE(this)),i!==null&&this.emit("data",i),i};function Wce(e,n){var t=null;return!Buffer.isBuffer(n)&&typeof n!="string"&&n!==null&&n!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function Kce(e,n){if(!n.ended){if(n.decoder){var t=n.decoder.end();t&&t.length&&(n.buffer.push(t),n.length+=n.objectMode?1:t.length)}n.ended=!0,l_(e)}}function l_(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(Kt("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?Ds.nextTick(_L,e):_L(e))}function _L(e){Kt("emit readable"),e.emit("readable"),W3(e)}function Qce(e,n){n.readingMore||(n.readingMore=!0,Ds.nextTick(Yce,e,n))}function Yce(e,n){for(var t=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(Kt("maybeReadMore read 0"),e.read(0),t!==n.length);)t=n.length;n.readingMore=!1}Tr.prototype._read=function(e){this.emit("error",new Error("not implemented"))};Tr.prototype.pipe=function(e,n){var t=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1,Kt("pipe count=%d opts=%j",r.pipesCount,n);var i=!n||n.end!==!1,o=i?c:v;r.endEmitted?Ds.nextTick(o):t.once("end",o),e.on("unpipe",u);function u(S){Kt("onunpipe"),S===t&&v()}function c(){Kt("onend"),e.end()}var h=Xce(t);e.on("drain",h);var f=!1;function v(){Kt("cleanup"),e.removeListener("close",x),e.removeListener("finish",C),e.removeListener("drain",h),e.removeListener("error",E),e.removeListener("unpipe",u),t.removeListener("end",c),t.removeListener("end",v),t.removeListener("data",y),f=!0,r.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&h()}var _=!1;t.on("data",y);function y(S){Kt("ondata"),_=!1;var N=e.write(S);N===!1&&!_&&((r.pipesCount===1&&r.pipes===e||r.pipesCount>1&&E9(r.pipes,e)!==-1)&&!f&&(Kt("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,_=!0),t.pause())}function E(S){Kt("onerror",S),M(),e.removeListener("error",E),zce(e,"error")===0&&e.emit("error",S)}$ce(e,"error",E);function x(){e.removeListener("finish",C),M()}e.once("close",x);function C(){Kt("onfinish"),e.removeListener("close",x),M()}e.once("finish",C);function M(){Kt("unpipe"),t.unpipe(e)}return e.emit("pipe",t),r.flowing||(Kt("pipe resume"),t.resume()),e};function Xce(e){return function(){var n=e._readableState;Kt("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&e.listeners("data").length&&(n.flowing=!0,W3(e))}}Tr.prototype.unpipe=function(e){var n=this._readableState;if(n.pipesCount===0)return this;if(n.pipesCount===1)return e&&e!==n.pipes?this:(e||(e=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=n.pipes,r=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var i=0;i<r;i++)t[i].emit("unpipe",this);return this}var o=E9(n.pipes,e);return o===-1?this:(n.pipes.splice(o,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),e.emit("unpipe",this),this)};Tr.prototype.on=function(e,n){var t=Wh.prototype.on.call(this,e,n);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l_(this):Ds.nextTick(Jce,this))}return t};Tr.prototype.addListener=Tr.prototype.on;function Jce(e){Kt("readable nexttick read 0"),e.read(0)}Tr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Kt("resume"),e.flowing=!0,Zce(this,e)),this};function Zce(e,n){n.resumeScheduled||(n.resumeScheduled=!0,Ds.nextTick(ede,e,n))}function ede(e,n){n.reading||(Kt("resume read 0"),e.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,e.emit("resume"),W3(e),n.flowing&&!n.reading&&e.read(0)}Tr.prototype.pause=function(){return Kt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Kt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function W3(e){var n=e._readableState;for(Kt("flow",n.flowing);n.flowing&&e.read()!==null;);}Tr.prototype.wrap=function(e){var n=this._readableState,t=!1,r=this;e.on("end",function(){if(Kt("wrapped end"),n.decoder&&!n.ended){var u=n.decoder.end();u&&u.length&&r.push(u)}r.push(null)}),e.on("data",function(u){if(Kt("wrapped data"),n.decoder&&(u=n.decoder.write(u)),!(n.objectMode&&u==null)&&!(!n.objectMode&&(!u||!u.length))){var c=r.push(u);c||(t=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(u){return function(){return e[u].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return ade(o,function(u){e.on(u,r.emit.bind(r,u))}),r._read=function(u){Kt("wrapped _read",u),t&&(t=!1,e.resume())},r};Tr._fromList=y9;function y9(e,n){if(n.length===0)return null;var t;return n.objectMode?t=n.buffer.shift():!e||e>=n.length?(n.decoder?t=n.buffer.join(""):n.buffer.length===1?t=n.buffer.head.data:t=n.buffer.concat(n.length),n.buffer.clear()):t=nde(e,n.buffer,n.decoder),t}function nde(e,n,t){var r;return e<n.head.data.length?(r=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):e===n.head.data.length?r=n.shift():r=t?tde(e,n):rde(e,n),r}function tde(e,n){var t=n.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var o=t.data,u=e>o.length?o.length:e;if(u===o.length?i+=o:i+=o.slice(0,e),e-=u,e===0){u===o.length?(++r,t.next?n.head=t.next:n.head=n.tail=null):(n.head=t,t.data=o.slice(u));break}++r}return n.length-=r,i}function rde(e,n){var t=Buffer.allocUnsafe(e),r=n.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,u=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,u),e-=u,e===0){u===o.length?(++i,r.next?n.head=r.next:n.head=n.tail=null):(n.head=r,r.data=o.slice(u));break}++i}return n.length-=i,t}function EE(e){var n=e._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,Ds.nextTick(ide,n,e))}function ide(e,n){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,n.readable=!1,n.emit("end"))}function ade(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function E9(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}Pi.WritableState=K3;Po.inherits(Pi,k0.exports.EventEmitter);function sde(){}function ode(e,n,t){this.chunk=e,this.encoding=n,this.callback=t,this.next=null}function K3(e,n){Object.defineProperty(this,"buffer",{get:Po.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,n instanceof cs&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){fde(n,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new C9(this)}K3.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t};function Pi(e){if(!(this instanceof Pi)&&!(this instanceof cs))return new Pi(e);this._writableState=new K3(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),k0.exports.EventEmitter.call(this)}Pi.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function lde(e,n){var t=new Error("write after end");e.emit("error",t),Ds.nextTick(n,t)}function ude(e,n,t,r){var i=!0,o=!1;return t===null?o=new TypeError("May not write null values to stream"):!Uu.Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Ds.nextTick(r,o),i=!1),i}Pi.prototype.write=function(e,n,t){var r=this._writableState,i=!1;return typeof n=="function"&&(t=n,n=null),Uu.Buffer.isBuffer(e)?n="buffer":n||(n=r.defaultEncoding),typeof t!="function"&&(t=sde),r.ended?lde(this,t):ude(this,r,e,t)&&(r.pendingcb++,i=dde(this,r,e,n,t)),i};Pi.prototype.cork=function(){var e=this._writableState;e.corked++};Pi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&w9(this,e))};Pi.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};function cde(e,n,t){return!e.objectMode&&e.decodeStrings!==!1&&typeof n=="string"&&(n=Uu.Buffer.from(n,t)),n}function dde(e,n,t,r,i){t=cde(n,t,r),Uu.Buffer.isBuffer(t)&&(r="buffer");var o=n.objectMode?1:t.length;n.length+=o;var u=n.length<n.highWaterMark;if(u||(n.needDrain=!0),n.writing||n.corked){var c=n.lastBufferedRequest;n.lastBufferedRequest=new ode(t,r,i),c?c.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else ax(e,n,!1,o,t,r,i);return u}function ax(e,n,t,r,i,o,u){n.writelen=r,n.writecb=u,n.writing=!0,n.sync=!0,t?e._writev(i,n.onwrite):e._write(i,o,n.onwrite),n.sync=!1}function hde(e,n,t,r,i){--n.pendingcb,t?Ds.nextTick(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function pde(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function fde(e,n){var t=e._writableState,r=t.sync,i=t.writecb;if(pde(t),n)hde(e,t,r,n,i);else{var o=x9(t);!o&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&w9(e,t),r?Ds.nextTick(bL,e,t,o,i):bL(e,t,o,i)}}function bL(e,n,t,r){t||mde(e,n),n.pendingcb--,r(),k9(e,n)}function mde(e,n){n.length===0&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}function w9(e,n){n.bufferProcessing=!0;var t=n.bufferedRequest;if(e._writev&&t&&t.next){var r=n.bufferedRequestCount,i=new Array(r),o=n.corkedRequestsFree;o.entry=t;for(var u=0;t;)i[u]=t,t=t.next,u+=1;ax(e,n,!0,n.length,i,"",o.finish),n.pendingcb++,n.lastBufferedRequest=null,o.next?(n.corkedRequestsFree=o.next,o.next=null):n.corkedRequestsFree=new C9(n)}else{for(;t;){var c=t.chunk,h=t.encoding,f=t.callback,v=n.objectMode?1:c.length;if(ax(e,n,!1,v,c,h,f),t=t.next,n.writing)break}t===null&&(n.lastBufferedRequest=null)}n.bufferedRequestCount=0,n.bufferedRequest=t,n.bufferProcessing=!1}Pi.prototype._write=function(e,n,t){t(new Error("not implemented"))};Pi.prototype._writev=null;Pi.prototype.end=function(e,n,t){var r=this._writableState;typeof e=="function"?(t=e,e=null,n=null):typeof n=="function"&&(t=n,n=null),e!=null&&this.write(e,n),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&gde(this,r,t)};function x9(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function yL(e,n){n.prefinished||(n.prefinished=!0,e.emit("prefinish"))}function k9(e,n){var t=x9(n);return t&&(n.pendingcb===0?(yL(e,n),n.finished=!0,e.emit("finish")):yL(e,n)),t}function gde(e,n,t){n.ending=!0,k9(e,n),t&&(n.finished?Ds.nextTick(t):e.once("finish",t)),n.ended=!0,e.writable=!1}function C9(e){var n=this;this.next=null,this.entry=null,this.finish=function(t){var r=n.entry;for(n.entry=null;r;){var i=r.callback;e.pendingcb--,i(t),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=n:e.corkedRequestsFree=n}}Po.inherits(cs,Tr);var EL=Object.keys(Pi.prototype);for(var wE=0;wE<EL.length;wE++){var xE=EL[wE];cs.prototype[xE]||(cs.prototype[xE]=Pi.prototype[xE])}function cs(e){if(!(this instanceof cs))return new cs(e);Tr.call(this,e),Pi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",vde)}function vde(){this.allowHalfOpen||this._writableState.ended||Ds.nextTick(_de,this)}function _de(e){e.end()}Po.inherits(ao,cs);function bde(e){this.afterTransform=function(n,t){return yde(e,n,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function yde(e,n,t){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,t!=null&&e.push(t),i(n);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function ao(e){if(!(this instanceof ao))return new ao(e);cs.call(this,e),this._transformState=new bde(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){wL(n,t)}):wL(n)})}ao.prototype.push=function(e,n){return this._transformState.needTransform=!1,cs.prototype.push.call(this,e,n)};ao.prototype._transform=function(e,n,t){throw new Error("Not implemented")};ao.prototype._write=function(e,n,t){var r=this._transformState;if(r.writecb=t,r.writechunk=e,r.writeencoding=n,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ao.prototype._read=function(e){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};function wL(e,n){if(n)return e.emit("error",n);var t=e._writableState,r=e._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Po.inherits(Dh,ao);function Dh(e){if(!(this instanceof Dh))return new Dh(e);ao.call(this,e)}Dh.prototype._transform=function(e,n,t){t(null,e)};Po.inherits(so,Wh);so.Readable=Tr;so.Writable=Pi;so.Duplex=cs;so.Transform=ao;so.PassThrough=Dh;so.Stream=so;function so(){Wh.call(this)}so.prototype.pipe=function(e,n){var t=this;function r(v){e.writable&&e.write(v)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}e.on("drain",i),!e._isStdio&&(!n||n.end!==!1)&&(t.on("end",u),t.on("close",c));var o=!1;function u(){o||(o=!0,e.end())}function c(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function h(v){if(f(),Wh.listenerCount(this,"error")===0)throw v}t.on("error",h),e.on("error",h);function f(){t.removeListener("data",r),e.removeListener("drain",i),t.removeListener("end",u),t.removeListener("close",c),t.removeListener("error",h),e.removeListener("error",h),t.removeListener("end",f),t.removeListener("close",f),e.removeListener("close",f)}return t.on("end",f),t.on("close",f),e.on("close",f),e.emit("pipe",t),e};var Ede=Object.freeze({__proto__:null,default:so,Readable:Tr,Writable:Pi,Duplex:cs,Transform:ao,PassThrough:Dh,Stream:so}),wde=oce(Ede);/** @license React v17.0.2
 * react-dom-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=hce,fl=k,xde=wde;function Hr(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q3=60106,Nv=60107,Y3=60108,X3=60114,Tv=60109,J3=60110,Z3=60112,Iv=60113,ek=60120,nk=60115,tk=60116,S9=60121,N9=60117,T9=60119,I9=60129,O9=60131;if(typeof Symbol=="function"&&Symbol.for){var Ki=Symbol.for;Q3=Ki("react.portal"),Nv=Ki("react.fragment"),Y3=Ki("react.strict_mode"),X3=Ki("react.profiler"),Tv=Ki("react.provider"),J3=Ki("react.context"),Z3=Ki("react.forward_ref"),Iv=Ki("react.suspense"),ek=Ki("react.suspense_list"),nk=Ki("react.memo"),tk=Ki("react.lazy"),S9=Ki("react.block"),N9=Ki("react.fundamental"),T9=Ki("react.scope"),I9=Ki("react.debug_trace_mode"),O9=Ki("react.legacy_hidden")}function Pf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nv:return"Fragment";case Q3:return"Portal";case X3:return"Profiler";case Y3:return"StrictMode";case Iv:return"Suspense";case ek:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J3:return(e.displayName||"Context")+".Consumer";case Tv:return(e._context.displayName||"Context")+".Provider";case Z3:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case nk:return Pf(e.type);case S9:return Pf(e._render);case tk:n=e._payload,e=e._init;try{return Pf(e(n))}catch{}}return null}var kde=fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A9={};function h0(e,n){for(var t=e._threadCount|0;t<=n;t++)e[t]=e._currentValue2,e._threadCount=t+1}function Cde(e,n,t,r){if(r&&(r=e.contextType,typeof r=="object"&&r!==null))return h0(r,t),r[t];if(e=e.contextTypes){t={};for(var i in e)t[i]=n[i];n=t}else n=A9;return n}for(var Zi=new Uint16Array(16),gg=0;15>gg;gg++)Zi[gg]=gg+1;Zi[15]=0;var Sde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xL=Object.prototype.hasOwnProperty,kL={},CL={};function R9(e){return xL.call(CL,e)?!0:xL.call(kL,e)?!1:Sde.test(e)?CL[e]=!0:(kL[e]=!0,!1)}function Nde(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tde(e,n,t,r){if(n===null||typeof n>"u"||Nde(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ea(e,n,t,r,i,o,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=u}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fi[e]=new Ea(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Fi[n]=new Ea(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fi[e]=new Ea(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fi[e]=new Ea(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fi[e]=new Ea(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fi[e]=new Ea(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fi[e]=new Ea(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fi[e]=new Ea(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fi[e]=new Ea(e,5,!1,e.toLowerCase(),null,!1,!1)});var rk=/[\-:]([a-z])/g;function ik(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(rk,ik);Fi[n]=new Ea(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(rk,ik);Fi[n]=new Ea(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(rk,ik);Fi[n]=new Ea(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fi[e]=new Ea(e,1,!1,e.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new Ea("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fi[e]=new Ea(e,1,!1,e.toLowerCase(),null,!0,!0)});var Ide=/["'&<>]/;function kc(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var n=Ide.exec(e);if(n){var t="",r,i=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==r&&(t+=e.substring(i,r)),i=r+1,t+=n}e=i!==r?t+e.substring(i,r):t}return e}function Ode(e,n){var t=Fi.hasOwnProperty(e)?Fi[e]:null,r;return(r=e!=="style")&&(r=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),r||Tde(e,n,t,!1)?"":t!==null?(e=t.attributeName,r=t.type,r===3||r===4&&n===!0?e+'=""':(t.sanitizeURL&&(n=""+n),e+'="'+(kc(n)+'"'))):R9(e)?e+'="'+(kc(n)+'"'):""}function Ade(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rde=typeof Object.is=="function"?Object.is:Ade,Uo=null,qg=null,dr=null,bf=!1,Ov=!1,gu=null,u_=0;function Cc(){if(Uo===null)throw Error(Hr(321));return Uo}function SL(){if(0<u_)throw Error(Hr(312));return{memoizedState:null,queue:null,next:null}}function ak(){return dr===null?qg===null?(bf=!1,qg=dr=SL()):(bf=!0,dr=qg):dr.next===null?(bf=!1,dr=dr.next=SL()):(bf=!0,dr=dr.next),dr}function M9(e,n,t,r){for(;Ov;)Ov=!1,u_+=1,dr=null,t=e(n,r);return D9(),t}function D9(){Uo=null,Ov=!1,qg=null,u_=0,dr=gu=null}function U9(e,n){return typeof n=="function"?n(e):n}function NL(e,n,t){if(Uo=Cc(),dr=ak(),bf){var r=dr.queue;if(n=r.dispatch,gu!==null&&(t=gu.get(r),t!==void 0)){gu.delete(r),r=dr.memoizedState;do r=e(r,t.action),t=t.next;while(t!==null);return dr.memoizedState=r,[r,n]}return[dr.memoizedState,n]}return e=e===U9?typeof n=="function"?n():n:t!==void 0?t(n):n,dr.memoizedState=e,e=dr.queue={last:null,dispatch:null},e=e.dispatch=Mde.bind(null,Uo,e),[dr.memoizedState,e]}function TL(e,n){if(Uo=Cc(),dr=ak(),n=n===void 0?null:n,dr!==null){var t=dr.memoizedState;if(t!==null&&n!==null){var r=t[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<n.length;i++)if(!Rde(n[i],r[i])){r=!1;break e}r=!0}if(r)return t[0]}}return e=e(),dr.memoizedState=[e,n],e}function Mde(e,n,t){if(!(25>u_))throw Error(Hr(301));if(e===Uo)if(Ov=!0,e={action:t,next:null},gu===null&&(gu=new Map),t=gu.get(n),t===void 0)gu.set(n,e);else{for(n=t;n.next!==null;)n=n.next;n.next=e}}function kE(){}var Ac=null,Dde={readContext:function(e){var n=Ac.threadID;return h0(e,n),e[n]},useContext:function(e){Cc();var n=Ac.threadID;return h0(e,n),e[n]},useMemo:TL,useReducer:NL,useRef:function(e){Uo=Cc(),dr=ak();var n=dr.memoizedState;return n===null?(e={current:e},dr.memoizedState=e):n},useState:function(e){return NL(U9,e)},useLayoutEffect:function(){},useCallback:function(e,n){return TL(function(){return e},n)},useImperativeHandle:kE,useEffect:kE,useDebugValue:kE,useDeferredValue:function(e){return Cc(),e},useTransition:function(){return Cc(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(Ac.identifierPrefix||"")+"R:"+(Ac.uniqueID++).toString(36)},useMutableSource:function(e,n){return Cc(),n(e._source)}},Ude={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Lde(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var L9={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Pde=Zs({menuitem:!0},L9),Ff={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fde=["Webkit","ms","Moz","O"];Object.keys(Ff).forEach(function(e){Fde.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ff[n]=Ff[e]})});var Hde=/([A-Z])/g,qde=/^ms-/,su=fl.Children.toArray,CE=kde.ReactCurrentDispatcher,Bde={listing:!0,pre:!0,textarea:!0},Gde=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,IL={},SE={};function $de(e){if(e==null)return e;var n="";return fl.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}var zde=Object.prototype.hasOwnProperty,jde={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function OL(e,n){if(e===void 0)throw Error(Hr(152,Pf(n)||"Component"))}function Vde(e,n,t){function r(u,c){var h=c.prototype&&c.prototype.isReactComponent,f=Cde(c,n,t,h),v=[],_=!1,y={isMounted:function(){return!1},enqueueForceUpdate:function(){if(v===null)return null},enqueueReplaceState:function(D,H){_=!0,v=[H]},enqueueSetState:function(D,H){if(v===null)return null;v.push(H)}};if(h){if(h=new c(u.props,f,y),typeof c.getDerivedStateFromProps=="function"){var E=c.getDerivedStateFromProps.call(null,u.props,h.state);E!=null&&(h.state=Zs({},h.state,E))}}else if(Uo={},h=c(u.props,f,y),h=M9(c,u.props,h,f),h==null||h.render==null){e=h,OL(e,c);return}if(h.props=u.props,h.context=f,h.updater=y,y=h.state,y===void 0&&(h.state=y=null),typeof h.UNSAFE_componentWillMount=="function"||typeof h.componentWillMount=="function")if(typeof h.componentWillMount=="function"&&typeof c.getDerivedStateFromProps!="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&typeof c.getDerivedStateFromProps!="function"&&h.UNSAFE_componentWillMount(),v.length){y=v;var x=_;if(v=null,_=!1,x&&y.length===1)h.state=y[0];else{E=x?y[0]:h.state;var C=!0;for(x=x?1:0;x<y.length;x++){var M=y[x];M=typeof M=="function"?M.call(h,E,u.props,f):M,M!=null&&(C?(C=!1,E=Zs({},E,M)):Zs(E,M))}h.state=E}}else v=null;if(e=h.render(),OL(e,c),typeof h.getChildContext=="function"&&(u=c.childContextTypes,typeof u=="object")){var S=h.getChildContext();for(var N in S)if(!(N in u))throw Error(Hr(108,Pf(c)||"Unknown",N))}S&&(n=Zs({},n,S))}for(;fl.isValidElement(e);){var i=e,o=i.type;if(typeof o!="function")break;r(i,o)}return{child:e,context:n}}var sk=function(){function e(t,r,i){fl.isValidElement(t)?t.type!==Nv?t=[t]:(t=t.props.children,t=fl.isValidElement(t)?[t]:su(t)):t=su(t),t={type:null,domNamespace:Ude.html,children:t,childIndex:0,context:A9,footer:""};var o=Zi[0];if(o===0){var u=Zi;o=u.length;var c=2*o;if(!(65536>=c))throw Error(Hr(304));var h=new Uint16Array(c);for(h.set(u),Zi=h,Zi[0]=o+1,u=o;u<c-1;u++)Zi[u]=u+1;Zi[c-1]=0}else Zi[0]=Zi[o];this.threadID=o,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=r,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=i&&i.identifierPrefix||""}var n=e.prototype;return n.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;Zi[t]=Zi[0],Zi[0]=t}},n.pushProvider=function(t){var r=++this.contextIndex,i=t.type._context,o=this.threadID;h0(i,o);var u=i[o];this.contextStack[r]=i,this.contextValueStack[r]=u,i[o]=t.props.value},n.popProvider=function(){var t=this.contextIndex,r=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,r[this.threadID]=i},n.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},n.read=function(t){if(this.exhausted)return null;var r=Ac;Ac=this;var i=CE.current;CE.current=Dde;try{for(var o=[""],u=!1;o[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var c=this.threadID;Zi[c]=Zi[0],Zi[0]=c;break}var h=this.stack[this.stack.length-1];if(u||h.childIndex>=h.children.length){var f=h.footer;if(f!==""&&(this.previousWasTextNode=!1),this.stack.pop(),h.type==="select")this.currentSelectValue=null;else if(h.type!=null&&h.type.type!=null&&h.type.type.$$typeof===Tv)this.popProvider(h.type);else if(h.type===Iv){this.suspenseDepth--;var v=o.pop();if(u){u=!1;var _=h.fallbackFrame;if(!_)throw Error(Hr(303));this.stack.push(_),o[this.suspenseDepth]+="<!--$!-->";continue}else o[this.suspenseDepth]+=v}o[this.suspenseDepth]+=f}else{var y=h.children[h.childIndex++],E="";try{E+=this.render(y,h.context,h.domNamespace)}catch(x){throw x!=null&&typeof x.then=="function"?Error(Hr(294)):x}finally{}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=E}}return o[0]}finally{CE.current=i,Ac=r,D9()}},n.render=function(t,r,i){if(typeof t=="string"||typeof t=="number")return i=""+t,i===""?"":this.makeStaticMarkup?kc(i):this.previousWasTextNode?"<!-- -->"+kc(i):(this.previousWasTextNode=!0,kc(i));if(r=Vde(t,r,this.threadID),t=r.child,r=r.context,t===null||t===!1)return"";if(!fl.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw i=t.$$typeof,Error(i===Q3?Hr(257):Hr(258,i.toString()));return t=su(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}var o=t.type;if(typeof o=="string")return this.renderDOM(t,r,i);switch(o){case O9:case I9:case Y3:case X3:case ek:case Nv:return t=su(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Iv:throw Error(Hr(294));case T9:throw Error(Hr(343))}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Z3:Uo={};var u=o.render(t.props,t.ref);return u=M9(o.render,t.props,u,t.ref),u=su(u),this.stack.push({type:null,domNamespace:i,children:u,childIndex:0,context:r,footer:""}),"";case nk:return t=[fl.createElement(o.type,Zs({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Tv:return o=su(t.props.children),i={type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""},this.pushProvider(t),this.stack.push(i),"";case J3:o=t.type,u=t.props;var c=this.threadID;return h0(o,c),o=su(u.children(o[c])),this.stack.push({type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""}),"";case N9:throw Error(Hr(338));case tk:return o=t.type,u=o._init,o=u(o._payload),t=[fl.createElement(o,Zs({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}throw Error(Hr(130,o==null?o:typeof o,""))},n.renderDOM=function(t,r,i){var o=t.type.toLowerCase();if(!IL.hasOwnProperty(o)){if(!Gde.test(o))throw Error(Hr(65,o));IL[o]=!0}var u=t.props;if(o==="input")u=Zs({type:void 0},u,{defaultChecked:void 0,defaultValue:void 0,value:u.value!=null?u.value:u.defaultValue,checked:u.checked!=null?u.checked:u.defaultChecked});else if(o==="textarea"){var c=u.value;if(c==null){c=u.defaultValue;var h=u.children;if(h!=null){if(c!=null)throw Error(Hr(92));if(Array.isArray(h)){if(!(1>=h.length))throw Error(Hr(93));h=h[0]}c=""+h}c==null&&(c="")}u=Zs({},u,{value:void 0,children:""+c})}else if(o==="select")this.currentSelectValue=u.value!=null?u.value:u.defaultValue,u=Zs({},u,{value:void 0});else if(o==="option"){h=this.currentSelectValue;var f=$de(u.children);if(h!=null){var v=u.value!=null?u.value+"":f;if(c=!1,Array.isArray(h)){for(var _=0;_<h.length;_++)if(""+h[_]===v){c=!0;break}}else c=""+h===v;u=Zs({selected:void 0,children:void 0},u,{selected:c,children:f})}}if(c=u){if(Pde[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(Hr(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(Hr(60));if(!(typeof c.dangerouslySetInnerHTML=="object"&&"__html"in c.dangerouslySetInnerHTML))throw Error(Hr(61))}if(c.style!=null&&typeof c.style!="object")throw Error(Hr(62))}c=u,h=this.makeStaticMarkup,f=this.stack.length===1,v="<"+t.type;e:if(o.indexOf("-")===-1)_=typeof c.is=="string";else switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":_=!1;break e;default:_=!0}for(H in c)if(zde.call(c,H)){var y=c[H];if(y!=null){if(H==="style"){var E=void 0,x="",C="";for(E in y)if(y.hasOwnProperty(E)){var M=E.indexOf("--")===0,S=y[E];if(S!=null){if(M)var N=E;else if(N=E,SE.hasOwnProperty(N))N=SE[N];else{var D=N.replace(Hde,"-$1").toLowerCase().replace(qde,"-ms-");N=SE[N]=D}x+=C+N+":",C=E,M=S==null||typeof S=="boolean"||S===""?"":M||typeof S!="number"||S===0||Ff.hasOwnProperty(C)&&Ff[C]?(""+S).trim():S+"px",x+=M,C=";"}}y=x||null}E=null,_?jde.hasOwnProperty(H)||(E=H,E=R9(E)&&y!=null?E+'="'+(kc(y)+'"'):""):E=Ode(H,y),E&&(v+=" "+E)}}h||f&&(v+=' data-reactroot=""');var H=v;c="",L9.hasOwnProperty(o)?H+="/>":(H+=">",c="</"+t.type+">");e:{if(h=u.dangerouslySetInnerHTML,h!=null){if(h.__html!=null){h=h.__html;break e}}else if(h=u.children,typeof h=="string"||typeof h=="number"){h=kc(h);break e}h=null}return h!=null?(u=[],Bde.hasOwnProperty(o)&&h.charAt(0)===`
`&&(H+=`
`),H+=h):u=su(u.children),t=t.type,i=i==null||i==="http://www.w3.org/1999/xhtml"?Lde(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:o,children:u,childIndex:0,context:r,footer:c}),this.previousWasTextNode=!1,H},e}();function Wde(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var P9=function(e){function n(r,i,o){var u=e.call(this,{})||this;return u.partialRenderer=new sk(r,i,o),u}Wde(n,e);var t=n.prototype;return t._destroy=function(r,i){this.partialRenderer.destroy(),i(r)},t._read=function(r){try{this.push(this.partialRenderer.read(r))}catch(i){this.destroy(i)}},n}(xde.Readable);Vh.renderToNodeStream=function(e,n){return new P9(e,!1,n)};Vh.renderToStaticMarkup=function(e,n){e=new sk(e,!0,n);try{return e.read(1/0)}finally{e.destroy()}};Vh.renderToStaticNodeStream=function(e,n){return new P9(e,!0,n)};Vh.renderToString=function(e,n){e=new sk(e,!1,n);try{return e.read(1/0)}finally{e.destroy()}};Vh.version="17.0.2";o9.exports=Vh;var AL=o9.exports,uf="sendbird-message-input-text-field",Kde=76,xo=function(){},Qde=function(n){return function(t){t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""}},RL={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},c_=k.forwardRef(function(e,n){var t=e.className,r=e.isEdit,i=e.isMentionEnabled,o=e.disabled,u=e.message,c=e.placeholder,h=e.maxLength,f=e.onFileUpload,v=e.onSendMessage,_=e.onUpdateMessage,y=e.onCancelEdit,E=e.onStartTyping,x=e.channelUrl,C=e.mentionSelectedUser,M=e.onUserMentioned,S=e.onMentionStringChange,N=e.onMentionedUserIdsUpdated,D=e.onKeyUp,H=e.onKeyDown,K=U.exports.useContext(uo),z=K.stringSet,W=U.exports.useRef(null),j=U.exports.useState(!1),ce=dl(j,2),ue=ce[0],we=ce[1],Se=U.exports.useState([]),ie=dl(Se,2),oe=ie[0],de=ie[1],De=U.exports.useState(kr({},RL)),He=dl(De,2),ge=He[0],be=He[1],Le=U.exports.useMemo(function(){return function(){try{var qe=n.current,Te=window.document.body.offsetHeight*.6;qe&&qe.scrollHeight>=Kde?Te<qe.scrollHeight?(qe.style.height="auto",qe.style.height="".concat(Te,"px")):(qe.style.height="auto",qe.style.height="".concat(qe.scrollHeight,"px")):qe.style.height=""}catch{}}},[]);U.exports.useEffect(function(){r||(we(!1),document.getElementById(uf).innerHTML="")},[x]),U.exports.useEffect(function(){if(r&&u!==null&&u!==void 0&&u.messageId){var qe,Te,ke,Oe=n.current;if(i&&(u==null||(qe=u.mentionedUsers)===null||qe===void 0?void 0:qe.length)>0&&(u==null||(Te=u.mentionedMessageTemplate)===null||Te===void 0?void 0:Te.length)>0){var Ze,yn=u.mentionedUsers,Rn=yn===void 0?[]:yn;Oe.innerHTML=u==null||(Ze=u.mentionedMessageTemplate)===null||Ze===void 0?void 0:Ze.split(" ").map(function(pn){return Use(pn,Rn).map(function(Un){var an=Un.type,Mn=Un.value,En=Un.userId;if(an===cl.mention&&Rn.some(function($){return($==null?void 0:$.userId)===En})){var Sn;return AL.renderToString(k.createElement(lL,{userId:En},"".concat(Vd).concat(((Sn=Rn.find(function($){return($==null?void 0:$.userId)===En}))===null||Sn===void 0?void 0:Sn.nickname)||Mn||z.MENTION_NAME__NO_NAME)))}return Mn}).join("")}).join(" ")}else Oe.innerHTML=u==null?void 0:u.message,de([]);we((Oe==null||(ke=Oe.innerText)===null||ke===void 0?void 0:ke.length)>0),Le()}},[r,u]);var ee=U.exports.useCallback(function(){var qe=n.current;if(i){var Te=Ic(qe.getElementsByClassName("sendbird-mention-user-label")).map(function(ke){var Oe;return ke==null||(Oe=ke.dataset)===null||Oe===void 0?void 0:Oe.userid});(!Lse(oe,Te)||Te.length===0)&&(N(Te),de(Te))}we(qe.innerText.length>0)},[ge,i]);U.exports.useEffect(function(){if(i&&C){var qe=ge.targetString,Te=ge.startNodeIndex,ke=ge.startOffsetIndex,Oe=ge.endNodeIndex,Ze=ge.endOffsetIndex;if(qe&&Te!==null&&ke!==null){var yn,Rn,pn,Un,an=n.current,Mn=Ic(an==null?void 0:an.childNodes),En=(yn=document)===null||yn===void 0?void 0:yn.createTextNode((Rn=Mn[Te])===null||Rn===void 0?void 0:Rn.textContent.slice(0,ke)),Sn=(pn=document)===null||pn===void 0?void 0:pn.createTextNode("\xA0".concat((Un=Mn[Oe])===null||Un===void 0?void 0:Un.textContent.slice(Ze))),$=AL.renderToString(k.createElement(lL,{userId:C==null?void 0:C.userId},"".concat(Vd).concat((C==null?void 0:C.nickname)||z.MENTION_NAME__NO_NAME))),A=document.createElement("div");A.innerHTML=$;var R=[].concat(Ic(Mn.slice(0,Te)),[En,A.childNodes[0],Sn],Ic(Mn.slice(Oe+1)));if(an.innerHTML="",R.forEach(function(ye){an.appendChild(ye)}),M(C),window.getSelection||document.getSelection){var V=window.getSelection()||document.getSelection();V.removeAllRanges();var Z=new Range;Z.selectNodeContents(an),Z.setStart(an.childNodes[Te+2],1),Z.setEnd(an.childNodes[Te+2],1),Z.collapse(!1),V.addRange(Z),an.focus()}be(kr({},RL)),Le(),ee()}}},[C,i]);var X=U.exports.useCallback(function(){var qe,Te,ke,Oe,Ze=((qe=window)===null||qe===void 0||(Te=qe.getSelection)===null||Te===void 0?void 0:Te.call(qe))||((ke=document)===null||ke===void 0||(Oe=ke.getSelection)===null||Oe===void 0?void 0:Oe.call(ke)),yn=n.current;if(Ze.anchorNode===yn&&S(""),i&&Ze&&Ze.anchorNode===Ze.focusNode&&Ze.anchorOffset===Ze.focusOffset)for(var Rn="",pn=null,Un=null,an=0;an<yn.childNodes.length;an+=1){var Mn=yn.childNodes[an];if(Mn.nodeType===Wd.TextNode){var En=Mn===Ze.anchorNode?(Mn==null?void 0:Mn.textContent.slice(0,Ze.anchorOffset))||"":(Mn==null?void 0:Mn.textContent)||"";if(Rn.length>0)Rn+=En;else{for(var Sn=En.lastIndexOf(Vd),$=Sn-1;$>-1&&En[$]===Vd;$-=1)Sn=$;Sn>-1&&(Rn=En,pn=an,Un=Sn)}}else Rn="",pn=null,Un=null;if(Mn===Ze.anchorNode){var A=Rn?Rn.slice(Un):"";be({targetString:A,startNodeIndex:pn,startOffsetIndex:Un,endNodeIndex:an,endOffsetIndex:Ze.anchorOffset}),S(A);return}}},[i]),me=function(){var Te=n.current;if(!r&&Te!==null&&Te!==void 0&&Te.innerText){var ke="",Oe="";Te.childNodes.forEach(function(yn){if(yn.nodeType===Wd.ElementNode&&yn.nodeName===mg.Span){var Rn=yn.innerText,pn=yn.dataset,Un=pn===void 0?{}:pn,an=Un.userid,Mn=an===void 0?"":an;ke+=Rn,Oe+="".concat(Vd,"{").concat(Mn,"}")}else if(yn.nodeType===Wd.ElementNode&&yn.nodeName===mg.Br)ke+=`
`,Oe+=`
`;else{var En=yn.textContent,Sn=En===void 0?"":En;ke+=Sn,Oe+=Sn}});var Ze={message:ke,mentionTemplate:Oe};v(Ze),document.getElementById(uf).innerHTML="",we(!1),Le()}},Qe=function(){var Te=n.current,ke=u==null?void 0:u.messageId;if(r&&ke){var Oe="",Ze="";Te.childNodes.forEach(function(Rn){if(Rn.nodeType===Wd.ElementNode&&Rn.nodeName===mg.Span){var pn=Rn.innerText,Un=Rn.dataset,an=Un===void 0?{}:Un,Mn=an.userid,En=Mn===void 0?"":Mn;Oe+=pn,Ze+="".concat(Vd,"{").concat(En,"}")}else if(Rn.nodeType===Wd.ElementNode&&Rn.nodeName===mg.Span)Oe+=`
`,Ze+=`
`;else{var Sn=Rn.textContent,$=Sn===void 0?"":Sn;Oe+=$,Ze+=$}});var yn={messageId:ke,message:Oe,mentionTemplate:Ze};_(yn),document.getElementById(uf).innerHTML=""}};return k.createElement("form",{className:$2([t,r?"sendbird-message-input__edit":"",o?"sendbird-message-input-form__disabled":""])},k.createElement("div",{className:$2(["sendbird-message-input",o?"sendbird-message-input__disabled":""])},k.createElement("div",{id:"".concat(uf).concat(r?u==null?void 0:u.messageId:""),className:"sendbird-message-input--textarea",contentEditable:!o,role:"textbox","aria-label":"Text Input",disabled:o,ref:n,maxLength:h,onKeyDown:function(Te){var ke=H(Te);if(ke)Te.preventDefault();else{var Oe,Ze,yn,Rn,pn,Un,an,Mn;!Te.shiftKey&&Te.key===cL.Enter&&(Te==null||(Oe=Te.nativeEvent)===null||Oe===void 0?void 0:Oe.isComposing)!==!0&&(Te.preventDefault(),me()),Te.key===cL.Backspace&&(n==null||(Ze=n.current)===null||Ze===void 0||(yn=Ze.childNodes)===null||yn===void 0?void 0:yn.length)===2&&!(n!=null&&(Rn=n.current)!==null&&Rn!==void 0&&(pn=Rn.childNodes)!==null&&pn!==void 0&&(Un=pn[0])!==null&&Un!==void 0&&Un.textContent)&&((an=n.current.childNodes)===null||an===void 0||(Mn=an[1])===null||Mn===void 0?void 0:Mn.nodeType)===Wd.ElementNode&&n.current.removeChild(n.current.childNodes[1])}},onKeyUp:function(Te){var ke=D(Te);ke?Te.preventDefault():X()},onClick:function(){X()},onInput:function(){var Te,ke,Oe,Ze;Le(),E(),we(((Te=document)===null||Te===void 0||(ke=Te.getElementById)===null||ke===void 0||(Oe=ke.call(Te,uf))===null||Oe===void 0||(Ze=Oe.innerText)===null||Ze===void 0?void 0:Ze.length)>0),ee()},onPaste:function(Te){Te.preventDefault(),document.execCommand("insertHTML",!1,Te==null?void 0:Te.clipboardData.getData("text"))}}),!ue&&k.createElement(Xn,{className:"sendbird-message-input--placeholder",type:Yn.BODY_1,color:Bn.ONBACKGROUND_3},c||z.MESSAGE_INPUT__PLACE_HOLDER),!r&&ue&&k.createElement(Ru,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return me()}},k.createElement(_t,{type:ot.SEND,fillColor:Rt.PRIMARY,width:"20px",height:"20px"})),!r&&!ue&&k.createElement(Ru,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){W.current.click()}},k.createElement(_t,{type:ot.ATTACH,fillColor:Rt.CONTENT_INVERSE,width:"20px",height:"20px"}),k.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:W,onChange:Qde(f)}))),r&&k.createElement("div",{className:"sendbird-message-input--edit-action"},k.createElement(d0,{className:"sendbird-message-input--edit-action__cancel",type:Mh.SECONDARY,size:tL.SMALL,onClick:y},z.BUTTON__CANCEL),k.createElement(d0,{className:"sendbird-message-input--edit-action__save",type:Mh.PRIMARY,size:tL.SMALL,onClick:function(){return Qe()}},z.BUTTON__SAVE)))});c_.propTypes={className:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),placeholder:he.exports.oneOfType([he.exports.string,he.exports.bool]),isEdit:he.exports.bool,isMentionEnabled:he.exports.bool,message:he.exports.shape({messageId:he.exports.oneOfType([he.exports.string,he.exports.number]),message:he.exports.string,mentionedMessageTemplate:he.exports.string,mentionedUsers:he.exports.arrayOf(he.exports.shape({}))}),disabled:he.exports.bool,maxLength:he.exports.number,onFileUpload:he.exports.func,onSendMessage:he.exports.func,onUpdateMessage:he.exports.func,onStartTyping:he.exports.func,onCancelEdit:he.exports.func,channelUrl:he.exports.string,mentionSelectedUser:he.exports.shape({userId:he.exports.string,nickname:he.exports.string}),onUserMentioned:he.exports.func,onMentionStringChange:he.exports.func,onMentionedUserIdsUpdated:he.exports.func,onKeyUp:he.exports.func,onKeyDown:he.exports.func};c_.defaultProps={className:"",channelUrl:"",onSendMessage:xo,onUpdateMessage:xo,message:null,isEdit:!1,isMentionEnabled:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:xo,onCancelEdit:xo,onStartTyping:xo,mentionSelectedUser:null,onUserMentioned:xo,onMentionStringChange:xo,onMentionedUserIdsUpdated:xo,onKeyUp:xo,onKeyDown:xo};var Yde=/https?:\/\//;function Av(e){var n=e.className,t=e.src,r=e.type,i=e.color,o=e.children,u=Yde.test(t)?t:"http://".concat(t);return k.createElement("a",{className:[].concat(Ic(Array.isArray(n)?n:[n]),["sendbird-link-label",i?ZF(i):""]).join(" "),href:u,target:"_blank",rel:"noopener noreferrer"},k.createElement(Xn,{className:"sendbird-link-label__label",type:r,color:i},o))}Av.propTypes={className:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),src:he.exports.string.isRequired,type:he.exports.oneOf(Object.keys(Yn)).isRequired,color:he.exports.oneOf(Object.keys(Bn)).isRequired,children:he.exports.oneOfType([he.exports.string,he.exports.element,he.exports.arrayOf(he.exports.string),he.exports.arrayOf(he.exports.element)]).isRequired};Av.defaultProps={className:""};var F9=k.createContext({opened:"",setOpened:Pg});F9.Consumer;F9.Provider;var ML;(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(ML||(ML={}));he.exports.string.isRequired,he.exports.string.isRequired,he.exports.string,he.exports.string,he.exports.string,he.exports.string,he.exports.func,he.exports.string,he.exports.string,he.exports.bool,he.exports.bool,he.exports.func,he.exports.func,he.exports.shape({}),he.exports.shape({logLevel:he.exports.oneOfType([he.exports.string,he.exports.arrayOf(he.exports.string)]),isREMUnitEnabled:he.exports.bool}),he.exports.bool,he.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),he.exports.bool,he.exports.bool,he.exports.objectOf(he.exports.string),he.exports.objectOf(he.exports.string),he.exports.shape({compressionRate:he.exports.number,resizingWidth:he.exports.oneOfType([he.exports.number,he.exports.string]),resizingHeight:he.exports.oneOfType([he.exports.number,he.exports.string])}),he.exports.bool,he.exports.bool,he.exports.bool,he.exports.bool;var DL=function(n){return jh(n.createdAt,"p")},Xde=function(n,t){return typeof t!="number"||typeof t=="number"&&t>n},Wc=function e(n){n===void 0&&(n=0);var t=10,r=n;if(!(r>t))try{var i=document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");i.scrollTop=i.scrollHeight}catch{setTimeout(function(){e(r+1)},500*r)}},UL=function(n,t){var r,i,o,u;if(!(n&&t&&(n==null?void 0:n.messageType)&&n.messageType!=="admin"&&(t==null?void 0:t.messageType)&&t.messageType!=="admin"&&(n==null?void 0:n.sender)&&(t==null?void 0:t.sender)&&(n==null?void 0:n.createdAt)&&(t==null?void 0:t.createdAt)&&((r=n==null?void 0:n.sender)===null||r===void 0?void 0:r.userId)&&((i=t==null?void 0:t.sender)===null||i===void 0?void 0:i.userId)))return!1;var c=n,h=t;return(c==null?void 0:c.sendingStatus)===(h==null?void 0:h.sendingStatus)&&((o=c==null?void 0:c.sender)===null||o===void 0?void 0:o.userId)===((u=h==null?void 0:h.sender)===null||u===void 0?void 0:u.userId)&&DL(n)===DL(t)},Jde=function(n,t,r){return[UL(n,t),UL(t,r)]},Zde=function(n){return Math.abs(n)>999999?"".concat((Math.abs(n)/1e6).toFixed(1),"M"):Math.abs(n)>999?"".concat((Math.abs(n)/1e3).toFixed(1),"K"):"".concat(n)},ehe=function(n,t){var r=n==null?void 0:n.operators;return!(r.map(function(i){return i.userId}).indexOf(t)<0)},nhe=function(n,t){var r=n==null?void 0:n.isFrozen;return r&&!ehe(n,t)},the=function(n,t){return n.indexOf(t)>-1},NE=function(n,t,r){var i=function o(u){var c=u.hasNext;c?u.next().then(function(h){r(h),o(u)}).catch(function(h){t.warning("OpenChannel | FetchUserList failed",h)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),i(n)},vg=function(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},H9="SET_CURRENT_CHANNEL",sx="SET_CHANNEL_INVALID",q9="RESET_MESSAGES",B9="EXIT_CURRENT_CHANNEL",G9="GET_PREV_MESSAGES_START",ok="GET_PREV_MESSAGES_SUCESS",Rv="GET_PREV_MESSAGES_FAIL",Uh="SENDING_MESSAGE_FAILED",Lu="SENDING_MESSAGE_SUCCEEDED",p0="SENDING_MESSAGE_START",$9="RESENDING_MESSAGE_START",z9="FETCH_PARTICIPANT_LIST",j9="FETCH_BANNED_USER_LIST",ox="FETCH_MUTED_USER_LIST",V9="TRIM_MESSAGE_LIST",W9="ON_MESSAGE_RECEIVED",d_="ON_MESSAGE_UPDATED",h_="ON_MESSAGE_DELETED",K9="ON_MESSAGE_DELETED_BY_REQ_ID",Q9="ON_OPERATOR_UPDATED",Y9="ON_USER_ENTERED",X9="ON_USER_EXITED",lk="ON_USER_MUTED",J9="ON_USER_UNMUTED",Z9="ON_USER_BANNED",eH="ON_USER_UNBANNED",nH="ON_CHANNEL_FROZEN",tH="ON_CHANNEL_UNFROZEN",rH="ON_CHANNEL_CHANGED",iH="ON_CHANNEL_DELETED",aH="ON_META_DATA_CREATED",sH="ON_META_DATA_UPDATED",oH="ON_META_DATA_DELETED",lH="ON_META_COUNTERS_CREATED",uH="ON_META_COUNTERS_UPDATED",cH="ON_META_COUNTERS_DELETED",dH="ON_MENTION_RECEIVED";function rhe(e,n){var t,r,i;switch(n.type){case q9:return on(on({},e),{allMessages:[]});case B9:return((t=n.payload)===null||t===void 0?void 0:t.url)===((r=e.currentOpenChannel)===null||r===void 0?void 0:r.url)?on(on({},e),{currentOpenChannel:null}):e;case H9:{var o=n.payload,u=o.operators;return!e.isInvalid&&e.currentOpenChannel&&e.currentOpenChannel.url&&e.currentOpenChannel.url===o.url?e:on(on({},e),{currentOpenChannel:o,isInvalid:!1,operators:u,participants:u,bannedParticipantIds:[],mutedParticipantIds:[]})}case sx:return on(on({},e),{isInvalid:!0});case G9:return on(on({},e),{loading:!0});case ok:case Rv:{var c=n.type===Rv,h=n.payload,f=h.currentOpenChannel,v=f===void 0?{}:f,_=h.messages,y=_===void 0?[]:_,E=h.hasMore,x=h.lastMessageTimestamp,C=v.url,M=c?[]:y,S=c?!1:E,N=c?0:x,D=e.currentOpenChannel,H=D.url;if(C!==H)return e;var K=e.allMessages.filter(function(En){return!M.find(function(Sn){var $=Sn.messageId;return rl($,En.messageId)})});return on(on({},e),{loading:!1,initialized:!0,hasMore:S,lastMessageTimestamp:N,allMessages:qn(qn([],M,!0),K,!0)})}case p0:{var z=n.payload,W=z.message,j=z.channel;return(j==null?void 0:j.url)!==e.currentOpenChannel.url||e.allMessages.some(function(En){return En.reqId===W.reqId})?e:on(on({},e),{allMessages:qn(qn([],e.allMessages,!0),[W],!1)})}case Lu:{var ce=n.payload,ue=e.allMessages.map(function(En){return rl(En.reqId,ce.reqId)?ce:En});return on(on({},e),{allMessages:ue})}case Uh:{var we=n.payload;return we.sendingStatus="failed",e.allMessages.some(function(En){return(En==null?void 0:En.reqId)===(we==null?void 0:we.reqId)})?on(on({},e),{allMessages:e.allMessages.map(function(En){return rl(En.reqId,we.reqId)?we:En})}):on(on({},e),{allMessages:qn(qn([],e.allMessages.filter(function(En){return!rl(En.reqId,we)}),!0),[we],!1)})}case V9:{var Se=e.allMessages,ie=(i=n.payload)===null||i===void 0?void 0:i.messageLimit;if(ie&&ie>0&&(Se==null?void 0:Se.length)>ie){var oe=Se.length-ie;return on(on({},e),{allMessages:Se.slice(oe)})}return e}case $9:{var de=n.payload.channel,De=n.payload.message;return de.url!==e.currentOpenChannel.url?e:on(on({},e),{allMessages:e.allMessages.map(function(En){return rl(En.reqId,De.reqId)?De:En})})}case z9:{var de=n.payload.channel,He=n.payload.users;return de.url!==e.currentOpenChannel.url?e:on(on({},e),{participants:qn(qn([],e.participants,!0),He,!0)})}case j9:{var de=n.payload.channel,ge=n.payload.users;return de.url!==e.currentOpenChannel.url||!ge.every(function(Sn){return typeof Sn.userId=="string"})?e:on(on({},e),{bannedParticipantIds:qn(qn([],e.bannedParticipantIds,!0),ge.map(function(Sn){return Sn.userId}),!0)})}case ox:{var de=n.payload.channel,be=n.payload.users;return de.url!==e.currentOpenChannel.url||!be.every(function(Sn){return typeof Sn.userId=="string"})?e:on(on({},e),{mutedParticipantIds:qn(qn([],e.mutedParticipantIds,!0),be.map(function(Sn){return Sn.userId}),!0)})}case W9:{var de=n.payload.channel,Le=n.payload.message,v=e.currentOpenChannel;return!rl(de.url,v.url)||!(e.allMessages.map(function($){return $.messageId}).indexOf(Le.messageId)<0)?e:on(on({},e),{allMessages:qn(qn([],e.allMessages,!0),[Le],!1)})}case d_:{var de=n.payload.channel,ee=n.payload.message,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:on(on({},e),{allMessages:e.allMessages.map(function(Sn){return Sn.isIdentical(ee)?ee:Sn})})}case h_:{var de=n.payload.channel,me=n.payload.messageId,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:on(on({},e),{allMessages:e.allMessages.filter(function($){return!rl($.messageId,me)})})}case K9:return on(on({},e),{allMessages:e.allMessages.filter(function(En){return!rl(En.reqId,n.payload)})});case Q9:{var de=n.payload.channel,Qe=n.payload.operators,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:on(on({},e),{currentOpenChannel:de,operators:Qe})}case Y9:{var de=n.payload.channel,qe=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:on(on({},e),{participants:qn(qn([],e.participants,!0),[qe],!1)})}case X9:{var de=n.payload.channel,Te=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:on(on({},e),{participants:e.participants.filter(function($){return!rl($.userId,Te.userId)})})}case lk:{var de=n.payload.channel,ke=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url||e.mutedParticipantIds.indexOf(ke.userId)>=0?e:on(on({},e),{mutedParticipantIds:qn(qn([],e.mutedParticipantIds,!0),[ke.userId],!1)})}case J9:{var de=n.payload.channel,Oe=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url||e.mutedParticipantIds.indexOf(Oe.userId)<0?e:on(on({},e),{mutedParticipantIds:e.mutedParticipantIds.filter(function($){return $!==Oe.userId})})}case Z9:{var de=n.payload.channel,Ze=n.payload.user,yn=n.payload.currentUser,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(de==null?void 0:de.url)&&(Ze==null?void 0:Ze.userId)===(yn==null?void 0:yn.userId)?on(on({},e),{currentOpenChannel:null}):(X==null?void 0:X.url)===(de==null?void 0:de.url)?on(on({},e),{bannedParticipantIds:qn(qn([],e.bannedParticipantIds,!0),[Ze.userId],!1)}):e}case eH:{var de=n.payload.channel,Rn=n.payload.user,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(de==null?void 0:de.url)?on(on({},e),{bannedParticipantIds:e.bannedParticipantIds.filter(function($){return $!==Rn.userId})}):e}case nH:{var pn=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==pn.url?e:on(on({},e),{frozen:!0})}case tH:{var Un=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==Un.url?e:on(on({},e),{frozen:!1})}case rH:{var an=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==an.url?e:on(on({},e),{currentOpenChannel:an})}case iH:{var Mn=n.payload,X=e==null?void 0:e.currentOpenChannel;return(X==null?void 0:X.url)===Mn?on(on({},e),{currentOpenChannel:null}):e}case aH:return e;case sH:return e;case oH:return e;case lH:return e;case uH:return e;case cH:return e;case dH:return e;default:return e}}var ihe={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function ahe(e,n){var t=e.channelUrl,r=e.sdkInit,i=e.fetchingParticipants,o=e.userId,u=e.currentOpenChannel,c=n.sdk,h=n.logger,f=n.messagesDispatcher;U.exports.useEffect(function(){var v;t&&r&&(c==null?void 0:c.openChannel)&&(u&&(u==null?void 0:u.exit)&&((v=u.exit)===null||v===void 0||v.call(u).then(function(){h.info("OpenChannel | useSetChannel: Exit from the previous open channel",u==null?void 0:u.url),f({type:B9,payload:u})})),h.info("OpenChannel | useSetChannel: Fetching channel",t),c.openChannel.getChannel(t).then(function(_){h.info("OpenChannel | useSetChannel: Succeeded to fetch channel",_),f({type:H9,payload:_}),_.enter().then(function(){if(_.isOperator(o)){var y=_.createBannedUserListQuery(),E=_.createMutedUserListQuery();NE(y,h,function(C){f({type:j9,payload:{channel:_,users:C}})}),NE(E,h,function(C){f({type:ox,payload:{channel:_,users:C}})})}else _.getMyMutedInfo().then(function(C){C!=null&&C.isMuted&&f({type:ox,payload:{channel:_,users:[c==null?void 0:c.currentUser]}})});if(i){var x=_.createParticipantListQuery({limit:_.participantCount});NE(x,h,function(C){f({type:z9,payload:{channel:_,users:C}})})}}).catch(function(y){h.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:t,error:y}),f({type:sx,payload:null})})}).catch(function(_){h.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:t,error:_}),f({type:sx,payload:null})}))},[t,r,i])}function she(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=n.sdk,o=n.logger,u=n.messagesDispatcher;U.exports.useEffect(function(){var c,h,f=Hc();if(t&&t.url&&((c=i==null?void 0:i.openChannel)===null||c===void 0?void 0:c.addOpenChannelHandler)){o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",f);var v={onMessageReceived:function(E,x){var C=r(),M=E==null?void 0:E.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:M,message:x}),u({type:W9,payload:{channel:E,message:x}}),C)try{setTimeout(function(){Wc()})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:C,message:x}),u({type:d_,payload:{channel:E,message:x}})},onMessageDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:C,messageId:x}),u({type:h_,payload:{channel:E,messageId:x}})},onOperatorUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:C,operators:x}),u({type:Q9,payload:{channel:E,operators:x}})},onUserEntered:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:C,user:x}),u({type:Y9,payload:{channel:E,user:x}})},onUserExited:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:C,user:x}),u({type:X9,payload:{channel:E,user:x}})},onUserMuted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:C,user:x}),u({type:lk,payload:{channel:E,user:x}})},onUserUnmuted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:C,user:x}),u({type:J9,payload:{channel:E,user:x}})},onUserBanned:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:C,user:x}),u({type:Z9,payload:{channel:E,user:x,currentUser:i==null?void 0:i.currentUser}})},onUserUnbanned:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:C,user:x}),u({type:eH,payload:{channel:E,user:x}})},onChannelFrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",E),u({type:nH,payload:E})},onChannelUnfrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",E),u({type:tH,payload:E})},onChannelChanged:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",E),u({type:rH,payload:E})},onMetaDataCreated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:C,metaData:x}),u({type:aH,payload:{channel:E,metaData:x}})},onMetaDataUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:C,metaData:x}),u({type:sH,payload:{channel:E,metaData:x}})},onMetaDataDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:C,metaDataKeys:x}),u({type:oH,payload:{channel:E,metaDataKeys:x}})},onMetaCounterCreated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:C,metaCounter:x}),u({type:lH,payload:{channel:E,metaCounter:x}})},onMetaCounterUpdated:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:C,metaCounter:x}),u({type:uH,payload:{channel:E,metaCounter:x}})},onMetaCounterDeleted:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:C,metaCounterKeys:x}),u({type:cH,payload:{channel:E,metaCounterKeys:x}})},onMentionReceived:function(E,x){var C=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:C,message:x}),u({type:dH,payload:{channel:E,message:x}})},onChannelDeleted:function(E,x){x===Nt.OPEN&&(t==null?void 0:t.url)===E&&u({type:iH,payload:E})}},_=new Yie(v);(h=i==null?void 0:i.openChannel)===null||h===void 0||h.addOpenChannelHandler(f,_)}return function(){var y;!((y=i==null?void 0:i.openChannel)===null||y===void 0)&&y.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",f),i.openChannel.removeOpenChannelHandler(f))}},[t])}function ohe(e,n){var t=e.currentOpenChannel,r=e.userFilledMessageListParams,i=n.logger,o=n.messagesDispatcher;U.exports.useEffect(function(){if(i.info("OpenChannel | useInitialMessagesFetch: Setup started",t),o({type:q9,payload:null}),t&&t.getMessagesByTimestamp){var u={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(function(c){u[c]=r[c]}),i.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),i.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:u}),o({type:G9,payload:null}),t.getMessagesByTimestamp(new Date().getTime(),u).then(function(c){i.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",c);var h=c&&c.length>0,f=h?c[0].createdAt:null;o({type:ok,payload:{currentOpenChannel:t,messages:c,hasMore:h,lastMessageTimestamp:f}}),setTimeout(function(){Wc()})}).catch(function(c){i.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",c),o({type:Rv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r])}function lhe(e,n){var t=e.currentOpenChannel,r=e.lastMessageTimestamp,i=e.fetchMore,o=n.sdk,u=n.logger,c=n.messagesDispatcher,h=n.hasMore,f=n.userFilledMessageListParams;return U.exports.useCallback(function(v){if(i&&h){u.info("OpenChannel | useScrollCallback: start");var _={prevResultSize:30,includeReactions:!1,nextResultSize:0};f&&(Object.keys(f).forEach(function(y){_[y]=f[y]}),u.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",f)),u.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:_}),t.getMessagesByTimestamp(r||new Date().getTime(),_).then(function(y){u.info("OpenChannel | useScrollCallback: Fetching messages succeeded",y);var E=y&&y.length>0,x=E?y[0].createdAt:null;c({type:ok,payload:{currentOpenChannel:t,messages:y,hasMore:E,lastMessageTimestamp:x}}),setTimeout(function(){v()})}).catch(function(y){u.error("OpenChannel | useScrollCallback: Fetching messages failed",y),c({type:Rv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r,i,o])}function uhe(e,n){var t=e.conversationScrollRef,r=n.logger;return U.exports.useCallback(function(){var i=!0;if(t&&(t==null?void 0:t.current))try{var o=t.current;i=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(u){r.error("OpenChannel | useCheckScrollBottom",u)}return i},[t])}function che(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=e.checkScrollBottom,o=e.messageInputRef,u=n.sdk,c=n.logger,h=n.messagesDispatcher;return U.exports.useCallback(function(){if(u){var f=o.current.innerText,v=function(M){var S=typeof M=="string"?M.trim():M.toString(10).trim(),N={message:S};return N},_=r&&typeof r=="function";_&&c.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);var y=r?r(f):v(f);c.info("OpenChannel | useSendMessageCallback: Sending message has started",y);var E=i(),x=null;t.sendUserMessage(y).onPending(function(C){h({type:p0,payload:{message:C,channel:t}}),x=C}).onSucceeded(function(C){c.info("OpenChannel | useSendMessageCallback: Sending message succeeded",C),h({type:Lu,payload:C}),E&&setTimeout(function(){Wc()})}).onFailed(function(C){c.warning("OpenChannel | useSendMessageCallback: Sending message failed",C),h({type:Uh,payload:x}),(C==null?void 0:C.code)===900041&&h({type:lk,payload:{channel:t,user:u.currentUser}})})}},[t,r,i,o])}function dhe(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=e.imageCompression,o=i===void 0?{}:i,u=e.onBeforeSendFileMessage,c=n.sdk,h=n.logger,f=n.messagesDispatcher;return U.exports.useCallback(function(v){if(c){var _=o.compressionRate,y=o.resizingWidth,E=o.resizingHeight,x=u&&typeof u=="function",C=v.type==="image/jpg"||v.type==="image/png"||v.type==="image/jpeg",M=_>0&&_<1,S=vg(y)||vg(E),N=C&&(M||S),D=function(j){var ce={};return ce.file=j,ce};if(N)try{var H=document.createElement("img");H.src=URL.createObjectURL(v),H.onload=function(){URL.revokeObjectURL(H.src);var W=document.createElement("canvas"),j=H.naturalWidth||H.width,ce=H.naturalHeight||H.height,ue=vg(y)||j,we=vg(E)||ce;v.type==="image/png"&&!S&&(ue*=_,we*=_),W.width=ue,W.height=we;var Se=W.getContext("2d");Se.drawImage(H,0,0,ue,we),Se.canvas.toBlob(function(ie){var oe=new File([ie],v.name,{type:v.type});x&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var de=u?u(oe):D(oe);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",de);var De=r();t.sendFileMessage(de).onPending(function(He){f({type:p0,payload:{message:on(on({},He),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(He){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",He),f({type:Lu,payload:He}),De&&setTimeout(function(){Wc()})}).onFailed(function(He,ge){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:ge,error:He}),ge.localUrl=URL.createObjectURL(v),ge.file=v,f({type:Uh,payload:ge})})},v.type,_)}}catch(W){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",W)}else{x&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var K=u?u(v):D(v);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",K);var z=r();t.sendFileMessage(K).onPending(function(W){f({type:p0,payload:{message:on(on({},W),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(W){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",W),f({type:Lu,payload:W}),z&&setTimeout(function(){Wc()})}).onFailed(function(W,j){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:j,error:W}),j.localUrl=URL.createObjectURL(v),j.file=v,f({type:Uh,payload:j})})}}},[t,u,r,o])}function hhe(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=n.logger,o=n.messagesDispatcher;return U.exports.useCallback(function(u,c,h){var f=function(y){var E={message:y};return E};r&&typeof r=="function"&&i.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var v=r?r(c):f(c);t.updateUserMessage(u,v).then(function(_){h&&h(),i.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:_,params:v}),o({type:d_,payload:{channel:t,message:_}})})},[t,r])}function phe(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return U.exports.useCallback(function(o,u){r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);var c=o.sendingStatus;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",c),c==="failed"||c==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),i({type:K9,payload:o.reqId}),u&&u();else{if(!(o.messageType==="file"||o.messageType==="user"))return;var h=o;t.deleteMessage(h).then(function(){r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",c),u&&u(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),i({type:h_,payload:{channel:t,messageId:o.messageId}})}).catch(function(f){r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",f)})}},[t])}function fhe(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return U.exports.useCallback(function(o){r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);var u=o,c=u.messageType,h=u.file;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",i({type:$9,payload:{channel:t,message:o}}),c==="user"&&o.messageType==="user"&&t.resendUserMessage(o).then(function(f){r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),i({type:Lu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),o.requestState="failed",i({type:Uh,payload:o})}),c==="file"&&o.messageType==="file"&&t.resendFileMessage(o,h).then(function(f){r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),i({type:Lu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),o.requestState="failed",i({type:Uh,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[t])}var mhe=5e3;function ghe(e,n){var t=e.messagesLength,r=e.messageLimit,i=n.messagesDispatcher,o=n.logger,u=U.exports.useState(!1),c=u[0],h=u[1];U.exports.useEffect(function(){c||(typeof t=="number"&&t>r&&(o.info("Trimming MessageList"),i({type:V9,payload:{messageLimit:r}})),h(!0),setTimeout(function(){h(!1)},mhe))},[t,r])}var hH=k.createContext(void 0),vhe=function(n){var t,r,i,o,u,c,h=n.channelUrl,f=n.children,v=n.isMessageGroupingEnabled,_=v===void 0?!0:v,y=n.queries,E=n.onBeforeSendUserMessage,x=n.messageLimit,C=n.onBeforeSendFileMessage,M=n.onChatHeaderActionClick,S=!1,N=zh(),D=(r=(t=N==null?void 0:N.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,H=(o=(i=N==null?void 0:N.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized,K=(c=(u=N==null?void 0:N.stores)===null||u===void 0?void 0:u.userStore)===null||c===void 0?void 0:c.user,z=N==null?void 0:N.config,W=z.userId,j=z.isOnline,ce=z.logger,ue=z.pubSub,we=z.imageCompression,Se=U.exports.useReducer(rhe,ihe),ie=Se[0],oe=Se[1],de=ie.allMessages,De=ie.loading,He=ie.initialized,ge=ie.currentOpenChannel,be=ie.isInvalid,Le=ie.hasMore,ee=ie.lastMessageTimestamp,X=ie.operators,me=ie.bannedParticipantIds,Qe=ie.mutedParticipantIds,qe=U.exports.useRef(null),Te=U.exports.useRef(null),ke=y==null?void 0:y.messageListParams,Oe=!He||!j||nhe(ge,W)||the(Qe,W),Ze=U.exports.useMemo(function(){return me.indexOf(K.userId)>=0},[h,me,K]),yn=U.exports.useMemo(function(){return Qe.indexOf(K.userId)>=0},[h,Qe,K]),Rn=U.exports.useMemo(function(){return X.map(function(R){return R.userId}).indexOf(K.userId)>=0},[h,X,K]);ahe({channelUrl:h,sdkInit:H,fetchingParticipants:S,userId:W,currentOpenChannel:ge},{sdk:D,logger:ce,messagesDispatcher:oe});var pn=uhe({conversationScrollRef:Te},{logger:ce});she({currentOpenChannel:ge,checkScrollBottom:pn},{sdk:D,logger:ce,messagesDispatcher:oe}),ohe({currentOpenChannel:ge,userFilledMessageListParams:ke},{logger:ce,messagesDispatcher:oe});var Un=Xde(de==null?void 0:de.length,x),an=lhe({currentOpenChannel:ge,lastMessageTimestamp:ee,fetchMore:Un},{sdk:D,logger:ce,messagesDispatcher:oe,hasMore:Le,userFilledMessageListParams:ke}),Mn=che({currentOpenChannel:ge,onBeforeSendUserMessage:E,checkScrollBottom:pn,messageInputRef:qe},{sdk:D,logger:ce,messagesDispatcher:oe}),En=dhe({currentOpenChannel:ge,onBeforeSendFileMessage:C,checkScrollBottom:pn,imageCompression:we},{sdk:D,logger:ce,messagesDispatcher:oe}),Sn=hhe({currentOpenChannel:ge,onBeforeSendUserMessage:E},{logger:ce,messagesDispatcher:oe}),$=phe({currentOpenChannel:ge},{logger:ce,messagesDispatcher:oe}),A=fhe({currentOpenChannel:ge},{logger:ce,messagesDispatcher:oe});return ghe({messagesLength:de==null?void 0:de.length,messageLimit:x},{messagesDispatcher:oe,logger:ce}),U.exports.useEffect(function(){var R=new Map;if(!(!ue||!ue.subscribe))return R.set(xv,ue.subscribe(xv,function(V){var Z=V.channel,ye=V.message;Wc(),Z&&h===(Z==null?void 0:Z.url)&&oe({type:Lu,payload:ye})})),R.set(wv,ue.subscribe(wv,function(V){var Z=V.channel,ye=V.message;Z&&h===(Z==null?void 0:Z.url)&&oe({type:p0,payload:{message:ye,channel:Z}})})),R.set(kv,ue.subscribe(kv,function(V){var Z=V.channel,ye=V.message;Wc(),Z&&h===(Z==null?void 0:Z.url)&&oe({type:Lu,payload:{message:ye,channel:Z}})})),R.set(X2,ue.subscribe(X2,function(V){var Z=V.channel,ye=V.message,Ie=V.fromSelector;Ie&&Z&&h===(Z==null?void 0:Z.url)&&oe({type:d_,payload:{channel:Z,message:ye}})})),R.set(J2,ue.subscribe(J2,function(V){var Z=V.channel,ye=V.messageId;Z&&h===(Z==null?void 0:Z.url)&&oe({type:h_,payload:ye})})),function(){R&&R.forEach(function(V){try{V.remove()}catch{}})}},[h,H]),k.createElement(hH.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:_,queries:y,onBeforeSendUserMessage:E,messageLimit:x,onBeforeSendFileMessage:C,onChatHeaderActionClick:M,allMessages:de,loading:De,initialized:He,currentOpenChannel:ge,isInvalid:be,hasMore:Le,lastMessageTimestamp:ee,operators:X,bannedParticipantIds:me,mutedParticipantIds:Qe,messageInputRef:qe,conversationScrollRef:Te,disabled:Oe,amIBanned:Ze,amIMuted:yn,amIOperator:Rn,checkScrollBottom:pn,fetchMore:Un,onScroll:an,handleSendMessage:Mn,handleFileUpload:En,updateMessage:Sn,deleteMessage:$,resendMessage:A}},k.createElement(q3,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},f))},S0=function(){return k.useContext(hH)},_he=function(n,t){var r=S0(),i=r.currentOpenChannel,o=r.disabled,u=r.handleSendMessage,c=r.handleFileUpload,h=i;if(!!h){var f=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:"sendbird-openchannel-footer"},k.createElement(c_,{ref:t,disabled:o,onSendMessage:u,onFileUpload:c,placeholder:o&&f.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},bhe=k.forwardRef(_he),yhe=function(){var n=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:"sendbird-frozen-channel-notification"},k.createElement(Xn,{className:"sendbird-frozen-channel-notification__text",type:Yn.CAPTION_2},n.CHANNEL_FROZEN))};function Ehe(){var e=U.exports.useContext(uo).stringSet,n=S0(),t=n.currentOpenChannel,r=n.onChatHeaderActionClick,i=n.amIOperator,o=t==null?void 0:t.name,u="".concat(Zde(t==null?void 0:t.participantCount)," ").concat(e.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS),c=t==null?void 0:t.coverUrl;return k.createElement("div",{className:"sendbird-openchannel-conversation-header"},k.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},c?k.createElement(ed,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:c,alt:"channel cover image",width:"32px",height:"32px"}):k.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},k.createElement(_t,{type:ot.CHANNELS,fillColor:Rt.CONTENT,width:"18px",height:"18px"})),k.createElement(Xn,{className:"sendbird-openchannel-conversation-header__left__title",type:Yn.H_2,color:Bn.ONBACKGROUND_1},o||e.NO_TITLE),k.createElement(Xn,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Yn.BODY_2,color:Bn.ONBACKGROUND_2},u||e.NO_TITLE)),k.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},k.createElement(Ru,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:r},k.createElement(_t,{type:i?ot.INFO:ot.MEMBERS,fillColor:Rt.PRIMARY,width:"24px",height:"24px"}))))}var pH=function(n){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},uk={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},N0=function(n){return n.sender||n._sender},fH=function(n){return n===uk.SUCCEEDED},p_=function(n){return n===uk.PENDING},T0=function(n){return n===uk.FAILED},ck=function(n,t){return N0(n).userId===t},dk=function(n){var t,r=n.message;return(r==null?void 0:r.messageType)==="user"&&((t=r==null?void 0:r.message)===null||t===void 0?void 0:t.length)>0},Lh=function(n){var t=n.message,r=n.status,i=n.userId;return ck(t,i)&&T0(r)&&(t==null?void 0:t.isResendable())},hk=function(n){var t=n.message,r=n.status,i=n.userId;return ck(t,i)&&fH(r)},Ph=function(n){var t=n.message,r=n.userId;return ck(t,r)},f_=function(n){var t=n.message,r=n.status,i=n.userId;return t.messageType==="user"?Ph({message:t,status:r,userId:i})||hk({message:t,status:r,userId:i})||dk({message:t,status:r,userId:i})||Lh({message:t,status:r,userId:i}):Ph({message:t,status:r,userId:i})||Lh({message:t,status:r,userId:i})};function whe(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.resendMessage,u=e.disabled,c=e.showEdit,h=e.showRemove,f=e.chainTop;if(!t||t.messageType!=="user")return null;var v=E0(),_=v.stringSet,y=v.dateLocale,E=U.exports.useContext(w0),x=E.disableUserProfile,C=E.renderUserProfile,M=U.exports.useRef(null),S=U.exports.useRef(null),N=U.exports.useRef(null),D=U.exports.useState({}),H=D[0],K=D[1],z=t==null?void 0:t.sendingStatus,W=p_(z),j=T0(z),ce=N0(t),ue=U.exports.useMemo(function(){return function(){var we=t.message.split(/\r/),Se=we.map(function(ie){return ie!==""?ie:k.createElement("br",null)});return t.updatedAt>0&&Se.push(k.createElement(Xn,{key:Hc(),type:Yn.BODY_1,color:Bn.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," ".concat(_.MESSAGE_EDITED," "))),Se}},[t,t.updatedAt]);return U.exports.useEffect(function(){var we;((we=M==null?void 0:M.current)===null||we===void 0?void 0:we.clientHeight)>36?K({top:"8px "}):K({top:"2px"})},[window.innerWidth]),k.createElement("div",{className:qn(qn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:M},k.createElement("div",{className:"sendbird-openchannel-user-message__left"},!f&&k.createElement(Du,{menuTrigger:function(Se){return k.createElement(ed,{className:"sendbird-openchannel-user-message__left__avatar",src:ce.profileUrl||"",ref:S,width:"28px",height:"28px",onClick:function(){x||Se()}})},menuItems:function(Se){return k.createElement(Mu,{parentRef:S,parentContainRef:S,closeDropdown:Se,style:{paddingTop:0,paddingBottom:0}},C?C({user:ce,close:Se}):k.createElement(a_,{user:ce,onSuccess:Se,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-user-message__right"},!f&&k.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},k.createElement(Xn,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Yn.CAPTION_2,color:r?Bn.SECONDARY_3:Bn.ONBACKGROUND_2},ce&&(ce.friendName||ce.nickname||ce.userId)),k.createElement(Xn,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Yn.CAPTION_3,color:Bn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&jh(t==null?void 0:t.createdAt,"p",{locale:y}))),k.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},k.createElement(Xn,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Yn.BODY_1,color:Bn.ONBACKGROUND_1},ue())),(W||j)&&k.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},W&&k.createElement(x0,{width:"16px",height:"16px"},k.createElement(_t,{className:"sendbird-openchannel-user-message__right__tail__pending",type:ot.SPINNER,fillColor:Rt.PRIMARY,width:"16px",height:"16px"})),j&&k.createElement(_t,{className:"sendbird-openchannel-user-message__right__tail__failed",type:ot.ERROR,fillColor:Rt.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:N,style:H},k.createElement(Du,{menuTrigger:function(Se){return f_({message:t,userId:i,status:z})&&k.createElement(Ru,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){Se()}},k.createElement(_t,{type:ot.MORE,fillColor:Rt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Se){return k.createElement(Mu,{parentRef:N,parentContainRef:N,closeDropdown:Se,openLeft:!0},dk({message:t,userId:i,status:z})&&k.createElement(Ts,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){pH(t.message),Se()}},_.CONTEXT_MENU_DROPDOWN__COPY),hk({message:t,userId:i,status:z})&&k.createElement(Ts,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){u||(c(!0),Se())}},_.CONTEXT_MENU_DROPDOWN__EDIT),Lh({message:t,userId:i,status:z})&&k.createElement(Ts,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){o(t),Se()}},_.CONTEXT_MENU_DROPDOWN__RESEND),Ph({message:t,userId:i,status:z})&&k.createElement(Ts,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){u||(h(!0),Se())}},_.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function xhe(e){var n=e.className,t=e.message;return k.createElement("div",{className:qn(qn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},k.createElement(Xn,{className:"sendbird-openchannel-admin-message__text",type:Yn.CAPTION_2,color:Bn.ONBACKGROUND_2},t.message||""))}var khe=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Che=function(n){return function(t){return n.test(t)}},She=function(n){var t=n.ogMetaData;if(!t)return!1;var r=t.url;return!!r};function Nhe(e){var n=e.message,t=e.isOperator,r=e.className,i=e.disabled,o=e.showEdit,u=e.showRemove,c=e.resendMessage,h=e.chainTop,f=e.userId;if(!n||n.messageType!=="user")return null;var v=n==null?void 0:n.sendingStatus,_=n.ogMetaData,y=_.defaultImage,E=E0(),x=E.stringSet,C=E.dateLocale,M=U.exports.useContext(w0),S=M.disableUserProfile,N=M.renderUserProfile,D=U.exports.useState({}),H=D[0],K=D[1],z=U.exports.useRef(null),W=U.exports.useRef(null),j=U.exports.useRef(null),ce=Che(khe),ue=p_(v),we=T0(v),Se=N0(n),ie=U.exports.useMemo(function(){return function(){var de="sendbird-openchannel-og-message--word",De=n.message.split(" "),He=De.map(function(ge){return ce(ge)?k.createElement(Av,{key:Hc(),className:[de,"sendbird-openchannel-og-message--word--link"],src:ge,type:Yn.BODY_1,color:Bn.PRIMARY},ge):k.createElement(Xn,{key:Hc(),className:de,type:Yn.BODY_1,color:Bn.ONBACKGROUND_1},ge)});return n.updatedAt>0&&He.push(k.createElement(Xn,{key:Hc(),className:de,type:Yn.BODY_1,color:Bn.ONBACKGROUND_2},x.MESSAGE_EDITED)),He}},[n,n.updatedAt]),oe=function(){if(She(n)){var De=_.url;window.open(De)}};return U.exports.useEffect(function(){var de;((de=z==null?void 0:z.current)===null||de===void 0?void 0:de.clientHeight)>36?K({top:"8px "}):K({top:"2px"})},[window.innerWidth]),k.createElement("div",{className:qn(qn([],Array.isArray(r)?r:[r],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:z},k.createElement("div",{className:"sendbird-openchannel-og-message__top"},k.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!h&&k.createElement(Du,{menuTrigger:function(De){return k.createElement(ed,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Se.profileUrl||"",ref:j,width:"28px",height:"28px",onClick:function(){S||De()}})},menuItems:function(De){return k.createElement(Mu,{parentRef:j,parentContainRef:j,closeDropdown:De,style:{paddingTop:0,paddingBottom:0}},N?N({user:Se,close:De}):k.createElement(a_,{user:Se,onSuccess:De,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!h&&k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},k.createElement(Xn,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Yn.CAPTION_2,color:t?Bn.SECONDARY_3:Bn.ONBACKGROUND_2},Se&&(Se.friendName||Se.nickname||Se.userId)),k.createElement(Xn,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Yn.CAPTION_3,color:Bn.ONBACKGROUND_3},(n==null?void 0:n.createdAt)&&jh(n==null?void 0:n.createdAt,"p",{locale:C}))),k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},k.createElement(Xn,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Yn.BODY_1,color:Bn.ONBACKGROUND_1},ie()))),k.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:W,style:H},k.createElement(Du,{menuTrigger:function(De){return f_({message:n,userId:f,status:v})&&k.createElement(Ru,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){De()}},k.createElement(_t,{type:ot.MORE,fillColor:Rt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(De){return k.createElement(Mu,{parentRef:W,parentContainRef:W,closeDropdown:De,openLeft:!0},dk({message:n,userId:f,status:v})&&k.createElement(Ts,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){pH(n.message),De()}},x.CONTEXT_MENU_DROPDOWN__COPY),hk({message:n,userId:f,status:v})&&k.createElement(Ts,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){i||(o(!0),De())}},x.CONTEXT_MENU_DROPDOWN__EDIT),Lh({message:n,userId:f,status:v})&&k.createElement(Ts,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){c(n),De()}},x.CONTEXT_MENU_DROPDOWN__RESEND),Ph({message:n,userId:f,status:v})&&k.createElement(Ts,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){i||(u(!0),De())}},x.CONTEXT_MENU_DROPDOWN__DELETE))}}))),k.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},_.url&&k.createElement(Xn,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Yn.CAPTION_3,color:Bn.ONBACKGROUND_2},_.url),_.title&&k.createElement(Av,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:_.url,type:Yn.SUBTITLE_2,color:Bn.PRIMARY},_.title),_.description&&k.createElement(Xn,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Yn.BODY_2,color:Bn.ONBACKGROUND_1},_.description),_.url&&k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:oe,onKeyDown:oe,tabIndex:0},y&&k.createElement(vs,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:y.url||"",alt:y.alt||"",height:"189px",defaultComponent:k.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},k.createElement(_t,{type:ot.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(ue||we)&&k.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},ue&&k.createElement(x0,{width:"16px",height:"16px"},k.createElement(_t,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:ot.SPINNER,fillColor:Rt.PRIMARY,width:"16px",height:"16px"})),we&&k.createElement(_t,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:ot.ERROR,fillColor:Rt.ERROR,width:"16px",height:"16px"}))))}var bh={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},LL={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},The=function(n){return LL.IMAGE.indexOf(n)>=0?bh.IMAGE:LL.VIDEO.indexOf(n)>=0?bh.VIDEO:bh.UNSUPPORTED};function Ihe(e){var n,t=e.className,r=e.message,i=e.isOperator,o=e.disabled,u=e.userId,c=e.chainTop,h=e.onClick,f=e.showRemove,v=e.resendMessage,_=r.type,y=r.url,E=r.thumbnails,x=r.localUrl,C=r==null?void 0:r.sendingStatus,M=E&&E.length>0&&E[0].url||null,S=E0(),N=S.stringSet,D=S.dateLocale,H=U.exports.useContext(w0),K=H.disableUserProfile,z=H.renderUserProfile,W=U.exports.useState(360),j=W[0],ce=W[1],ue=U.exports.useRef(null),we=U.exports.useRef(null),Se=U.exports.useRef(null),ie=U.exports.useMemo(function(){return function(ge){return function(be){var Le=be.style;return k.createElement("div",{style:Le},k.createElement(_t,{type:ge,fillColor:Rt.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),oe=fH(C),de=p_(C),De=T0(C),He=N0(r);return U.exports.useEffect(function(){var ge,be=((ge=ue==null?void 0:ue.current)===null||ge===void 0?void 0:ge.clientWidth)-80;ce(be>360?360:be)},[]),k.createElement("div",{className:qn(qn([],Array.isArray(t)?t:[t],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:ue},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!c&&k.createElement(Du,{menuTrigger:function(be){return k.createElement(ed,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:He.profileUrl||"",ref:Se,width:"28px",height:"28px",onClick:function(){K||be()}})},menuItems:function(be){return k.createElement(Mu,{parentRef:Se,parentContainRef:Se,closeDropdown:be,style:{paddingTop:0,paddingBottom:0}},z?z({user:He,close:be}):k.createElement(a_,{user:He,onSuccess:be,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!c&&k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},k.createElement(Xn,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Yn.CAPTION_2,color:i?Bn.SECONDARY_3:Bn.ONBACKGROUND_2},He&&(He.friendName||He.nickname||He.userId)),k.createElement(Xn,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Yn.CAPTION_3,color:Bn.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&jh(r.createdAt,"p",{locale:D}))),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){oe&&h(!0)},onKeyDown:function(){oe&&h(!0)},tabIndex:0},k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(n={},n[bh.VIDEO]=y||x?k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},M?k.createElement(vs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:M,width:j,height:"270px",alt:"image",placeHolder:ie(ot.PLAY)}):k.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},k.createElement("source",{src:y||x,type:_})),k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:ot.PLAY,fillColor:Rt.ON_BACKGROUND_2,width:"56px",height:"56px"})):k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:ot.PHOTO,fillColor:Rt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[bh.IMAGE]=y||x?k.createElement(vs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:M||y||x,alt:"image",width:j,height:"270px",placeHolder:ie(ot.PHOTO)}):k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:ot.PHOTO,fillColor:Rt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[bh.UNSUPPORTED]=k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:ot.PHOTO,fillColor:Rt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n)[The(_)])),(de||De)&&k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},de&&k.createElement(x0,{width:"16px",height:"16px"},k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:ot.SPINNER,fillColor:Rt.PRIMARY,width:"16px",height:"16px"})),De&&k.createElement(_t,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:ot.ERROR,fillColor:Rt.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:we},k.createElement(Du,{menuTrigger:function(be){return f_({message:r,userId:u,status:C})&&k.createElement(Ru,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:be},k.createElement(_t,{type:ot.MORE,fillColor:Rt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(be){return k.createElement(Mu,{parentRef:we,parentContainRef:we,closeDropdown:be,openLeft:!0},Lh({message:r,userId:u,status:C})&&k.createElement(Ts,{onClick:function(){v(r),be()}},N.CONTEXT_MENU_DROPDOWN__RESEND),Ph({message:r,userId:u,status:C})&&k.createElement(Ts,{onClick:function(){o||(f(!0),be())}},N.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var PL=function(n){var t=/(\.mp3)$/i,r=/(\.gif)$/i;return t.test(n)?ot.FILE_AUDIO:r.test(n)?ot.GIF:ot.FILE_DOCUMENT},Ohe=function(n,t){if(n==null)return"";if(n.length<=t)return n;var r="...",i=r.length,o=t-i,u=Math.ceil(o/2),c=Math.floor(o/2);return n.substr(0,u)+r+n.substr(n.length-c)};function Ahe(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.disabled,u=e.chainTop,c=e.showRemove,h=e.resendMessage,f=t==null?void 0:t.sendingStatus,v=E0(),_=v.dateLocale,y=v.stringSet,E=U.exports.useRef(null),x=U.exports.useRef(null),C=U.exports.useContext(w0),M=C.disableUserProfile,S=C.renderUserProfile,N=function(){window.open(t.url)},D=p_(f),H=T0(f),K=N0(t);return k.createElement("div",{className:qn(qn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-file-message"],!1).join(" ")},k.createElement("div",{className:"sendbird-openchannel-file-message__left"},!u&&k.createElement(Du,{menuTrigger:function(W){return k.createElement(ed,{className:"sendbird-openchannel-file-message__left__avatar",src:K.profileUrl||"",ref:x,width:"28px",height:"28px",onClick:function(){M||W()}})},menuItems:function(W){return k.createElement(Mu,{parentRef:x,parentContainRef:x,closeDropdown:W,style:{paddingTop:0,paddingBottom:0}},S?S({user:K,close:W}):k.createElement(a_,{user:K,onSuccess:W,disableMessaging:!0}))}})),k.createElement("div",{className:"sendbird-openchannel-file-message__right"},!u&&k.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},k.createElement(Xn,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Yn.CAPTION_2,color:r?Bn.SECONDARY_3:Bn.ONBACKGROUND_2},K&&(K.friendName||K.nickname||K.userId)),k.createElement(Xn,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Yn.CAPTION_3,color:Bn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&jh(t.createdAt,"p",{locale:_}))),k.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},PL(t.url)&&k.createElement(_t,{className:"sendbird-openchannel-file-message__right__body__icon",type:PL(t.url),fillColor:Rt.PRIMARY,width:"48px",height:"48px"}),k.createElement(rce,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:N},k.createElement(Xn,{type:Yn.BODY_1,color:Bn.ONBACKGROUND_1},Ohe(t.name||t.url,40)))),(D||H)&&k.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},D&&k.createElement(x0,{width:"16px",height:"16px"},k.createElement(_t,{className:"sendbird-openchannel-file-message__right__tail__pending",type:ot.SPINNER,fillColor:Rt.PRIMARY,width:"16px",height:"16px"})),H&&k.createElement(_t,{className:"sendbird-openchannel-file-message__right__tail__failed",type:ot.ERROR,fillColor:Rt.ERROR,width:"16px",height:"16px"}))),k.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:E},k.createElement(Du,{menuTrigger:function(W){return f_({message:t,userId:i,status:f})&&k.createElement(Ru,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:W},k.createElement(_t,{type:ot.MORE,width:"24px",height:"24px"}))},menuItems:function(W){return k.createElement(Mu,{parentRef:E,parentContainRef:E,closeDropdown:W,openLeft:!0},Lh({message:t,userId:i,status:f})&&k.createElement(Ts,{onClick:function(){o||(h(t),W())}},y.CONTEXT_MENU_DROPDOWN__RESEND),Ph({message:t,userId:i,status:f})&&k.createElement(Ts,{onClick:function(){o||(c(!0),W())}},y.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var Rhe=function(n){var t=n.profileUrl,r=n.nickname,i=n.name,o=n.type,u=n.url,c=n.isByMe,h=c===void 0?!0:c,f=n.disableDelete,v=f===void 0?!1:f,_=n.onClose,y=n.onDelete,E=U.exports.useContext(uo).stringSet;return k.createElement("div",{className:"sendbird-fileviewer"},k.createElement("div",{className:"sendbird-fileviewer__header"},k.createElement("div",{className:"sendbird-fileviewer__header__left"},k.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},k.createElement(ed,{height:"32px",width:"32px",src:t})),k.createElement(Xn,{className:"sendbird-fileviewer__header__left__filename",type:Yn.H_2,color:Bn.ONBACKGROUND_1},i),k.createElement(Xn,{className:"sendbird-fileviewer__header__left__sender-name",type:Yn.BODY_1,color:Bn.ONBACKGROUND_2},r)),k.createElement("div",{className:"sendbird-fileviewer__header__right"},HD(o)&&k.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},k.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:u,target:"_blank"},k.createElement(_t,{type:ot.DOWNLOAD,fillColor:Rt.ON_BACKGROUND_1,height:"24px",width:"24px"})),y&&h&&k.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},k.createElement(_t,{className:v?"disabled":"",type:ot.DELETE,fillColor:v?Rt.GRAY:Rt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(C){v||y==null||y(C)}}))),k.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},k.createElement(_t,{type:ot.CLOSE,fillColor:Rt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(C){return _==null?void 0:_(C)}})))),k.createElement("div",{className:"sendbird-fileviewer__content"},qF(o)&&k.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},k.createElement("source",{src:u,type:o})),HF(o)&&k.createElement("img",{src:u,alt:i,className:"sendbird-fileviewer__content__img"}),!HD(o)&&k.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},k.createElement(Xn,{type:Yn.H_1,color:Bn.ONBACKGROUND_1},(E==null?void 0:E.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function Mhe(e){var n,t,r,i=e.message,o=e.isByMe,u=o===void 0?!1:o,c=e.onClose,h=e.onDelete;return Hh.exports.createPortal(k.createElement(Rhe,{profileUrl:(n=i==null?void 0:i.sender)===null||n===void 0?void 0:n.profileUrl,nickname:(t=i==null?void 0:i.sender)===null||t===void 0?void 0:t.nickname,name:i==null?void 0:i.name,type:i==null?void 0:i.type,url:i==null?void 0:i.url,isByMe:u,disableDelete:((r=i==null?void 0:i.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:c,onDelete:h}),document.getElementById(r9))}function Dhe(e){var n=e.onCloseModal,t=e.onDeleteMessage,r=U.exports.useContext(uo).stringSet;return k.createElement(kue,{onCancel:n,onSubmit:t,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}var pk={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Uhe=function(n){return pk.IMAGE.indexOf(n)>=0},Lhe=function(n){return pk.VIDEO.indexOf(n)>=0};on({},pk);var ws={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},FL={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},Phe=function(n){var t,r;return((t=n==null?void 0:n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?ws.OG:ws.USER:!((r=n==null?void 0:n.isAdminMessage)===null||r===void 0)&&r.call(n)?ws.ADMIN:(n==null?void 0:n.messageType)==="file"?Uhe(n.type)||Lhe(n.type)?ws.THUMBNAIL:ws.FILE:ws.UNKNOWN};function Fhe(e){var n,t,r=e.message,i=e.chainTop,o=e.chainBottom,u=e.hasSeparator,c=e.renderMessage,h=S0(),f=h.currentOpenChannel,v=h.deleteMessage,_=h.updateMessage,y=h.resendMessage,E=E0().dateLocale,x=f==null?void 0:f.isFrozen,C=zh(),M=(t=C==null?void 0:C.config)===null||t===void 0?void 0:t.userId,S=null;(r==null?void 0:r.messageType)!=="admin"&&(S=r==null?void 0:r.sender);var N=U.exports.useMemo(function(){return function(oe){return k.createElement(k.Fragment,null,c?c(oe):null)}},[r,c]),D=U.exports.useState(!1),H=D[0],K=D[1],z=U.exports.useState(!1),W=z[0],j=z[1],ce=U.exports.useState(!1),ue=ce[0],we=ce[1],Se=U.exports.useRef(null),ie=!1;return S&&(r==null?void 0:r.messageType)!=="admin"&&(ie=M===S.userId||(r==null?void 0:r.sendingStatus)===FL.PENDING||(r==null?void 0:r.sendingStatus)===FL.FAILED),c&&N?k.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},k.createElement(N,{message:r,chainTop:i,chainBottom:o})):(r==null?void 0:r.messageType)==="user"&&H?k.createElement(c_,{isEdit:!0,disabled:x,ref:Se,message:r,name:r==null?void 0:r.messageId,onUpdateMessage:function(de){var De=de.messageId,He=de.message;_(De,He),K(!1)},onCancelEdit:function(){K(!1)}}):k.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},u&&(r==null?void 0:r.createdAt)&&k.createElement(sce,null,k.createElement(Xn,{type:Yn.CAPTION_2,color:Bn.ONBACKGROUND_2},jh(r==null?void 0:r.createdAt,"MMMM dd, yyyy",{locale:E}))),(n={},n[ws.ADMIN]=function(){if((r==null?void 0:r.messageType)==="admin")return k.createElement(xhe,{message:r})}(),n[ws.FILE]=function(){var oe;if((r==null?void 0:r.messageType)==="file")return k.createElement(Ahe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),disabled:x,userId:M,showRemove:j,resendMessage:y,chainTop:i,chainBottom:o})}(),n[ws.OG]=function(){var oe;if((r==null?void 0:r.messageType)==="user")return k.createElement(Nhe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),userId:M,showEdit:K,disabled:x,showRemove:j,resendMessage:y,chainTop:i,chainBottom:o})}(),n[ws.THUMBNAIL]=function(){var oe;if((r==null?void 0:r.messageType)==="file")return k.createElement(Ihe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),disabled:x,userId:M,showRemove:j,resendMessage:y,onClick:we,chainTop:i,chainBottom:o})}(),n[ws.USER]=function(){var oe;if((r==null?void 0:r.messageType)==="user")return k.createElement(whe,{message:r,isOperator:f==null?void 0:f.isOperator((oe=r==null?void 0:r.sender)===null||oe===void 0?void 0:oe.userId),userId:M,disabled:x,showEdit:K,showRemove:j,resendMessage:y,chainTop:i,chainBottom:o})}(),n[ws.UNKNOWN]=function(){}(),n)[Phe(r)],W&&k.createElement(Dhe,{onCloseModal:function(){return j(!1)},onDeleteMessage:function(){(r==null?void 0:r.messageType)!=="admin"&&v(r)}}),ue&&(r==null?void 0:r.messageType)==="file"&&k.createElement(Mhe,{onClose:function(){return we(!1)},message:r,onDelete:function(){return v(r)},isByMe:ie}))}function Hhe(e,n){var t,r=S0(),i=r.isMessageGroupingEnabled,o=i===void 0?!0:i,u=r.allMessages,c=r.hasMore,h=r.onScroll,f=n||U.exports.useRef(null),v=U.exports.useState(!1),_=v[0],y=v[1],E=function(S){var N=S.target,D=N.scrollTop,H=N.scrollHeight,K=N.clientHeight;if(H>D+K+1?y(!0):y(!1),!!c&&D===0){var z=f.current.querySelectorAll(".sendbird-msg--scroll-ref"),W=z&&z[0];h(function(){try{W.scrollIntoView()}catch{}})}},x=function(){f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),y(!1))},C=U.exports.useMemo(function(){return u.length>0},[u.length]);return k.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),k.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",C?"":"no-messages"].join(" "),onScroll:E,ref:f},C?u.map(function(M,S){var N=u[S-1],D=u[S-1],H=N&&N.createdAt,K=M==null?void 0:M.createdAt,z=!(H&&tce(K,H)),W=o?Jde(N,M,D):[!1,!1],j=W[0],ce=W[1];return k.createElement(Fhe,{key:(M==null?void 0:M.messageId)||(M==null?void 0:M.reqId),message:M,chainTop:j,chainBottom:ce,hasSeparator:z,renderMessage:e==null?void 0:e.renderMessage})}):((t=e==null?void 0:e.renderPlaceHolderEmptyList)===null||t===void 0?void 0:t.call(e))||k.createElement(Fg,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:zr.NO_MESSAGES}))),_&&k.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:x,onKeyDown:x,tabIndex:0,role:"button"},k.createElement(_t,{width:"24px",height:"24px",type:ot.CHEVRON_DOWN,fillColor:Rt.CONTENT})))}var qhe=k.forwardRef(Hhe),_g="sendbird-openchannel-conversation",Bhe=function(n){var t=n.renderMessage,r=n.renderHeader,i=n.renderInput,o=n.renderPlaceHolderEmptyList,u=n.renderPlaceHolderError,c=n.renderPlaceHolderLoading,h=S0(),f=h.currentOpenChannel,v=h.amIBanned,_=h.loading,y=h.isInvalid,E=h.messageInputRef;return!f||!(f!=null&&f.url)||v?(u==null?void 0:u())||k.createElement("div",{className:_g},k.createElement(Fg,{type:zr.NO_CHANNELS})):_?(c==null?void 0:c())||k.createElement("div",{className:_g},k.createElement(Fg,{type:zr.LOADING})):y?(u==null?void 0:u())||k.createElement("div",{className:_g},k.createElement(Fg,{type:zr.WRONG})):k.createElement("div",{className:_g},(r==null?void 0:r())||k.createElement(Ehe,null),(f==null?void 0:f.isFrozen)&&k.createElement(yhe,null),k.createElement(qhe,{renderMessage:t,renderPlaceHolderEmptyList:o}),(i==null?void 0:i())||k.createElement(bhe,{ref:E}))},Ghe=function(n){return k.createElement(vhe,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile},k.createElement(Bhe,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}))};let bg;const $he=new Uint8Array(16);function zhe(){if(!bg&&(bg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bg($he)}var jhe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vhe(e){return typeof e=="string"&&jhe.test(e)}const Ti=[];for(let e=0;e<256;++e)Ti.push((e+256).toString(16).slice(1));function mH(e,n=0){return(Ti[e[n+0]]+Ti[e[n+1]]+Ti[e[n+2]]+Ti[e[n+3]]+"-"+Ti[e[n+4]]+Ti[e[n+5]]+"-"+Ti[e[n+6]]+Ti[e[n+7]]+"-"+Ti[e[n+8]]+Ti[e[n+9]]+"-"+Ti[e[n+10]]+Ti[e[n+11]]+Ti[e[n+12]]+Ti[e[n+13]]+Ti[e[n+14]]+Ti[e[n+15]]).toLowerCase()}function Whe(e){if(!Vhe(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}function Khe(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}const Qhe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Yhe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function gH(e,n,t){function r(i,o,u,c){var h;if(typeof i=="string"&&(i=Khe(i)),typeof o=="string"&&(o=Whe(o)),((h=o)===null||h===void 0?void 0:h.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|n,f[8]=f[8]&63|128,u){c=c||0;for(let v=0;v<16;++v)u[c+v]=f[v];return u}return mH(f)}try{r.name=e}catch{}return r.DNS=Qhe,r.URL=Yhe,r}function Xhe(e){if(typeof e=="string"){const n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return Jhe(Zhe(epe(e),e.length*8))}function Jhe(e){const n=[],t=e.length*32,r="0123456789abcdef";for(let i=0;i<t;i+=8){const o=e[i>>5]>>>i%32&255,u=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);n.push(u)}return n}function vH(e){return(e+64>>>9<<4)+14+1}function Zhe(e,n){e[n>>5]|=128<<n%32,e[vH(n)-1]=n;let t=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let u=0;u<e.length;u+=16){const c=t,h=r,f=i,v=o;t=Qi(t,r,i,o,e[u],7,-680876936),o=Qi(o,t,r,i,e[u+1],12,-389564586),i=Qi(i,o,t,r,e[u+2],17,606105819),r=Qi(r,i,o,t,e[u+3],22,-1044525330),t=Qi(t,r,i,o,e[u+4],7,-176418897),o=Qi(o,t,r,i,e[u+5],12,1200080426),i=Qi(i,o,t,r,e[u+6],17,-1473231341),r=Qi(r,i,o,t,e[u+7],22,-45705983),t=Qi(t,r,i,o,e[u+8],7,1770035416),o=Qi(o,t,r,i,e[u+9],12,-1958414417),i=Qi(i,o,t,r,e[u+10],17,-42063),r=Qi(r,i,o,t,e[u+11],22,-1990404162),t=Qi(t,r,i,o,e[u+12],7,1804603682),o=Qi(o,t,r,i,e[u+13],12,-40341101),i=Qi(i,o,t,r,e[u+14],17,-1502002290),r=Qi(r,i,o,t,e[u+15],22,1236535329),t=Yi(t,r,i,o,e[u+1],5,-165796510),o=Yi(o,t,r,i,e[u+6],9,-1069501632),i=Yi(i,o,t,r,e[u+11],14,643717713),r=Yi(r,i,o,t,e[u],20,-373897302),t=Yi(t,r,i,o,e[u+5],5,-701558691),o=Yi(o,t,r,i,e[u+10],9,38016083),i=Yi(i,o,t,r,e[u+15],14,-660478335),r=Yi(r,i,o,t,e[u+4],20,-405537848),t=Yi(t,r,i,o,e[u+9],5,568446438),o=Yi(o,t,r,i,e[u+14],9,-1019803690),i=Yi(i,o,t,r,e[u+3],14,-187363961),r=Yi(r,i,o,t,e[u+8],20,1163531501),t=Yi(t,r,i,o,e[u+13],5,-1444681467),o=Yi(o,t,r,i,e[u+2],9,-51403784),i=Yi(i,o,t,r,e[u+7],14,1735328473),r=Yi(r,i,o,t,e[u+12],20,-1926607734),t=Xi(t,r,i,o,e[u+5],4,-378558),o=Xi(o,t,r,i,e[u+8],11,-2022574463),i=Xi(i,o,t,r,e[u+11],16,1839030562),r=Xi(r,i,o,t,e[u+14],23,-35309556),t=Xi(t,r,i,o,e[u+1],4,-1530992060),o=Xi(o,t,r,i,e[u+4],11,1272893353),i=Xi(i,o,t,r,e[u+7],16,-155497632),r=Xi(r,i,o,t,e[u+10],23,-1094730640),t=Xi(t,r,i,o,e[u+13],4,681279174),o=Xi(o,t,r,i,e[u],11,-358537222),i=Xi(i,o,t,r,e[u+3],16,-722521979),r=Xi(r,i,o,t,e[u+6],23,76029189),t=Xi(t,r,i,o,e[u+9],4,-640364487),o=Xi(o,t,r,i,e[u+12],11,-421815835),i=Xi(i,o,t,r,e[u+15],16,530742520),r=Xi(r,i,o,t,e[u+2],23,-995338651),t=Ji(t,r,i,o,e[u],6,-198630844),o=Ji(o,t,r,i,e[u+7],10,1126891415),i=Ji(i,o,t,r,e[u+14],15,-1416354905),r=Ji(r,i,o,t,e[u+5],21,-57434055),t=Ji(t,r,i,o,e[u+12],6,1700485571),o=Ji(o,t,r,i,e[u+3],10,-1894986606),i=Ji(i,o,t,r,e[u+10],15,-1051523),r=Ji(r,i,o,t,e[u+1],21,-2054922799),t=Ji(t,r,i,o,e[u+8],6,1873313359),o=Ji(o,t,r,i,e[u+15],10,-30611744),i=Ji(i,o,t,r,e[u+6],15,-1560198380),r=Ji(r,i,o,t,e[u+13],21,1309151649),t=Ji(t,r,i,o,e[u+4],6,-145523070),o=Ji(o,t,r,i,e[u+11],10,-1120210379),i=Ji(i,o,t,r,e[u+2],15,718787259),r=Ji(r,i,o,t,e[u+9],21,-343485551),t=vu(t,c),r=vu(r,h),i=vu(i,f),o=vu(o,v)}return[t,r,i,o]}function epe(e){if(e.length===0)return[];const n=e.length*8,t=new Uint32Array(vH(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function vu(e,n){const t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function npe(e,n){return e<<n|e>>>32-n}function m_(e,n,t,r,i,o){return vu(npe(vu(vu(n,e),vu(r,o)),i),t)}function Qi(e,n,t,r,i,o,u){return m_(n&t|~n&r,e,n,i,o,u)}function Yi(e,n,t,r,i,o,u){return m_(n&r|t&~r,e,n,i,o,u)}function Xi(e,n,t,r,i,o,u){return m_(n^t^r,e,n,i,o,u)}function Ji(e,n,t,r,i,o,u){return m_(t^(n|~r),e,n,i,o,u)}gH("v3",48,Xhe);const tpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var HL={randomUUID:tpe};function rpe(e,n,t){if(HL.randomUUID&&!n&&!e)return HL.randomUUID();e=e||{};const r=e.random||(e.rng||zhe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return mH(r)}function ipe(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function TE(e,n){return e<<n|e>>>32-n}function ape(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let c=0;c<u.length;++c)e.push(u.charCodeAt(c))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let u=0;u<i;++u){const c=new Uint32Array(16);for(let h=0;h<16;++h)c[h]=e[u*64+h*4]<<24|e[u*64+h*4+1]<<16|e[u*64+h*4+2]<<8|e[u*64+h*4+3];o[u]=c}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<i;++u){const c=new Uint32Array(80);for(let E=0;E<16;++E)c[E]=o[u][E];for(let E=16;E<80;++E)c[E]=TE(c[E-3]^c[E-8]^c[E-14]^c[E-16],1);let h=t[0],f=t[1],v=t[2],_=t[3],y=t[4];for(let E=0;E<80;++E){const x=Math.floor(E/20),C=TE(h,5)+ipe(x,f,v,_)+y+n[x]+c[E]>>>0;y=_,_=v,v=TE(f,30)>>>0,f=h,h=C}t[0]=t[0]+h>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+v>>>0,t[3]=t[3]+_>>>0,t[4]=t[4]+y>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}gH("v5",80,ape);var spe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;ia(spe);var qL,BL;function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lx.apply(this,arguments)}var Kh=function(n){return U.exports.createElement("svg",lx({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},n),qL||(qL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-user_svg__a"},U.exports.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-user_svg__b"},U.exports.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),BL||(BL=U.exports.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},U.exports.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},U.exports.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},GL;function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ux.apply(this,arguments)}var Il=function(n){return U.exports.createElement("svg",ux({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),GL||(GL=U.exports.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function fk(e){var n=e.key,t=e.userId,r=e.disabled,i=r===void 0?!1:r,o=e.nickname,u=o===void 0?"":o,c=e.profileUrl,h=c===void 0?"":c,f=e.hideProfile,v=f===void 0?!1:f,_=e.onRemove,y=_===void 0?function(){}:_,E=h?k.createElement("img",{src:h,className:"profile-image"}):k.createElement(Kh,{fill:"#ccc",className:"profile-image"});return k.createElement("div",{className:"event-host",key:n},v?null:E,k.createElement("div",{className:"nickname"},u),k.createElement("div",{className:"remove-button",onClick:function(){i||y(t)}},k.createElement(Il,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var $L;function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cx.apply(this,arguments)}var ope=function(n){return U.exports.createElement("svg",cx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),$L||($L=U.exports.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function _H(e){var n=e.message,t=e.count,r=e.maxLength,i=e.error,o=i===void 0?!1:i;return k.createElement("div",{className:"event-host-status"},k.createElement("div",{className:"message ".concat(o?"error":"")},n),k.createElement("div",{className:"count"},k.createElement("span",{className:"value ".concat(o?"error":"")},t)," / ",r," users"),k.createElement(ope,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var zL;function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dx.apply(this,arguments)}var lpe=function(n){return U.exports.createElement("svg",dx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),zL||(zL=U.exports.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function upe(e){var n=e.userId,t=e.nickname,r=t===void 0?"":t,i=e.profileUrl,o=i===void 0?"":i,u=e.onClick,c=u===void 0?function(){}:u,h=o?k.createElement("img",{src:o,className:"profile-image"}):k.createElement(Kh,{fill:"#fff",className:"profile-image"});return k.createElement("div",{className:"searched-user",onClick:function(){return c()}},h,k.createElement("div",{className:"info"},k.createElement("div",{className:"nickname"},r),k.createElement("div",{className:"user-id"},n)))}function cpe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?bH:r,o=e.renderCustomEventHostView,u=o===void 0?fk:o,c=e.onUpdateHost,h=c===void 0?function(){}:c,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(0),E=y[0],x=y[1],C=U.exports.useState(!1),M=C[0],S=C[1],N=U.exports.useState(!1),D=N[0],H=N[1],K=U.exports.useState(t),z=K[0],W=K[1],j=U.exports.useState("nickname"),ce=j[0],ue=j[1],we=U.exports.useState(""),Se=we[0],ie=we[1],oe=U.exports.useState(""),de=oe[0],De=oe[1],He=U.exports.useState(!1),ge=He[0],be=He[1],Le=zh();U.exports.useEffect(function(){W(t)},[t]),U.exports.useEffect(function(){z.length>i?(be(!0),De("The number of users allowed has exceeded.")):(be(!1),De(""))},[z]);var ee=function(X,me){var Qe=G3.getSdk(Le);if(Qe&&me){var qe=null;switch(X){case"nickname":{qe=Qe.createApplicationUserListQuery({nicknameStartsWithFilter:me});break}case"user ID":{qe=Qe.createApplicationUserListQuery({userIdsFilter:[me]});break}}if(qe){var Te=E+1;x(Te),S(!0),H(!1),qe.next().then(function(ke){Te>=E&&(_(ke),S(!1),H(!1),x(Te))}).catch(function(ke){Te>=E&&(S(!1),H(!0),x(Te))})}}};return k.createElement("div",{className:"event-host-form"},k.createElement("div",{className:"input"},k.createElement("div",{className:"search-type-panel"},k.createElement("select",{className:"search-type",value:ce,onChange:function(X){var me=X.target.value;switch(ue(me),me){case"user ID":De("Only an exact match can be found.");break;default:De("")}be(!1),ee(me,Se)}},k.createElement("option",{value:"nickname"},"Nickname"),k.createElement("option",{value:"user ID"},"User ID"))),k.createElement("div",{className:"form"},z.map(function(X){return u({key:X.userId,userId:X.userId,disabled:t.map(function(me){return me.userId}).includes(X.userId),nickname:X.nickname,profileUrl:X.profileUrl,onRemove:function(me){var Qe=z.filter(function(qe){return qe.userId!==me});W(Qe),h(Qe.map(function(qe){return qe.userId}))}})}),k.createElement("input",{type:"text",placeholder:"Enter ".concat(ce),className:"host-form",value:Se,onChange:function(X){var me=X.target.value;ie(me),ee(ce,me)}}))),k.createElement(_H,{message:de,error:ge,count:z.length,maxLength:i}),Se?k.createElement("div",{className:"search-result"},v.length>0?k.createElement("div",{className:"users"},v.map(function(X){return k.createElement(upe,{key:X.userId,userId:X.userId,nickname:X.nickname,profileUrl:X.profileUrl,onClick:function(){if(!z.map(function(Qe){return Qe.userId}).includes(X.userId)){var me=Fa(Fa([],z,!0),[X],!1);W(me),h(me.map(function(Qe){return Qe.userId}))}ie(""),_([]),H(!1),S(!1)}})})):k.createElement("div",{className:"status"},M?k.createElement(lpe,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!M&&!D&&v.length===0?k.createElement("div",{className:"no-result"},"No matches found with ",Se):null,D?k.createElement("div",{className:"error"},"Search request failed."):null)):null)}function dpe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?bH:r,o=e.renderCustomEventHostView,u=o===void 0?fk:o,c=e.onUpdateHost,h=c===void 0?function(){}:c,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(""),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],S=C[1],N=U.exports.useState(!1),D=N[0],H=N[1];return U.exports.useEffect(function(){_(t.map(function(K){return K.userId}))},[t]),U.exports.useEffect(function(){v.length>i?(H(!0),S("The number of users allowed has exceeded.")):(H(!1),S("If the ACL attributes are turned on, you can access user list information from the SDK."))},[v]),k.createElement("div",{className:"event-host-form"},k.createElement("div",{className:"input"},k.createElement("div",{className:"form"},v.map(function(K){return u({key:K,userId:K,disabled:t.map(function(z){return z.userId}).includes(K),nickname:K,hideProfile:!0,onRemove:function(z){var W=v.filter(function(j){return j!==z});_(W),h(W)}})}),k.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:E,onChange:function(K){var z,W=K.target.value,j=W.split(",");x((z=j.pop())!==null&&z!==void 0?z:"");var ce=j.filter(function(we,Se){return we.length>0&&!v.includes(we)&&j.indexOf(we)===Se});if(ce.length>0){var ue=Fa(Fa([],v,!0),ce,!0);_(ue),h(ue)}}}))),k.createElement(_H,{message:M,error:D,count:v.length,maxLength:i}))}var jL,VL;function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hx.apply(this,arguments)}var hpe=function(n){return U.exports.createElement("svg",hx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),jL||(jL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-live_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-live_svg__b"},U.exports.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),VL||(VL=U.exports.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},U.exports.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},bH=10;function ppe(e){var n=this,t,r,i=e.showUserIdsForHostSelectionView,o=i===void 0?!0:i,u=e.disableAcl,c=u===void 0?!1:u,h=e.renderCustomEventHostView,f=h===void 0?fk:h,v=e.onClose,_=v===void 0?function(){}:v,y=U.exports.useState(""),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],S=C[1],N=U.exports.useRef(null),D=U.exports.useRef(null),H=U.exports.useContext(Lo).stringSet,K=zh(),z=G3.getSdk(K),W=U.exports.useState([]),j=W[0],ce=W[1];U.exports.useEffect(function(){o&&z!=null&&z.currentUser&&ce([z.currentUser])},[z==null?void 0:z.currentUser]);var ue=U.exports.useState(j.map(function(ie){return ie.userId})),we=ue[0],Se=ue[1];return k.createElement("div",{className:"create-event-view"},k.createElement("div",{className:"close",onClick:function(){return _()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},H.LIVE_EVENT_CREATE_HEADER_TITLE),k.createElement("div",{className:"section-title"},H.LIVE_EVENT_CREATE_EVENT_TITLE),k.createElement("div",null,k.createElement("input",{type:"text",placeholder:H.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:E,onChange:function(ie){x(ie.target.value)}})),k.createElement("div",{className:"section-title"},H.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),k.createElement("div",{className:"cover-image-box"},k.createElement("div",{className:"cover-image-container",ref:N},M?k.createElement("img",{src:M,alt:"Cover image",className:"cover-image"}):k.createElement(hpe,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),k.createElement("input",{type:"file",className:"cover-image-file",ref:D,accept:"image/*",onChange:function(){var ie,oe=D.current,de=(ie=oe==null?void 0:oe.files)!==null&&ie!==void 0?ie:[];if(de.length===1){var De=new FileReader;De.onload=function(){N.current&&S(De.result)},De.readAsDataURL(de[0])}}}),k.createElement("div",{className:"cover-image-upload",onClick:function(){D.current.click()}},H.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),k.createElement("div",{className:"cover-image-remove",onClick:function(){D.current&&(D.current.value=""),S("")}},!((r=(t=D.current)===null||t===void 0?void 0:t.files)===null||r===void 0)&&r.length?H.REMOVE_IMAGE:"")),k.createElement("div",{className:"section-title"},H.LIST_USERS_FOR_HOST_HEADER_TITLE),c?k.createElement(dpe,{initialHostUsers:j,renderCustomEventHostView:f,onUpdateHost:function(ie){return Se(ie)}}):k.createElement(cpe,{initialHostUsers:j,renderCustomEventHostView:f,onUpdateHost:function(ie){return Se(ie)}}),k.createElement("div",{className:"button-box"},k.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return _()}}),k.createElement("input",{type:"button",className:"major-button",value:H.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return va(n,void 0,void 0,function(){var ie,oe,de,De,He,ge;return _a(this,function(be){switch(be.label){case 0:return ie=(ge=(He=D==null?void 0:D.current)===null||He===void 0?void 0:He.files)===null||ge===void 0?void 0:ge[0],oe=null,ie&&(de=ie.slice(0,ie.size,ie.type),oe=new File([de],"".concat(rpe(),".").concat(ie.type.split("/").pop()),{type:ie.type})),[4,xr.exports.SendbirdLive.createLiveEvent({userIdsForHost:Fa([],we,!0),title:E,coverFile:oe!=null?oe:void 0})];case 1:return De=be.sent(),[4,De.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return be.sent(),_(De),[2]}})})}})))}var fpe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: #333 !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;ia(fpe);var WL;function px(){return px=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},px.apply(this,arguments)}var mpe=function(n){return U.exports.createElement("svg",px({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),WL||(WL=U.exports.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},KL,QL;function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fx.apply(this,arguments)}var gpe=function(n){return U.exports.createElement("svg",fx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),KL||(KL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__b"},U.exports.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),QL||(QL=U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},U.exports.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},YL,XL;function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mx.apply(this,arguments)}var vpe=function(n){return U.exports.createElement("svg",mx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),YL||(YL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),XL||(XL=U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},JL,ZL;function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gx.apply(this,arguments)}var _pe=function(n){return U.exports.createElement("svg",gx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),JL||(JL=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__b"},U.exports.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),ZL||(ZL=U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},U.exports.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},eP,nP;function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vx.apply(this,arguments)}var bpe=function(n){return U.exports.createElement("svg",vx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),eP||(eP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),nP||(nP=U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},ype=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 4px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;ia(ype);var Epe=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;ia(Epe);function wpe(e){var n=e.liveEvent,t=e.onClose;return k.createElement("div",{className:"settings"},k.createElement("div",{className:"close",onClick:function(){return t()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},"Settings"),k.createElement("div",{className:"settings__select-container"},k.createElement("div",{className:"settings__select-label"},"Camera"),k.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=xr.exports.SendbirdLive.getAvailableVideoInputDevices().find(function(u){return u.deviceId===i});o&&n.selectVideoInput(o)}},xr.exports.SendbirdLive.getAvailableVideoInputDevices().map(function(r){return k.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))),k.createElement("div",{className:"settings__select-container"},k.createElement("div",{className:"settings__select-label"},"Microphone"),k.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=xr.exports.SendbirdLive.getAvailableAudioInputDevices().find(function(u){return u.deviceId===i});o&&n.selectAudioInput(o)}},xr.exports.SendbirdLive.getAvailableAudioInputDevices().map(function(r){return k.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))))}function xpe(e){var n=this,t=e.liveEvent,r=e.onStart,i=e.onEnd,o=U.exports.useState(t.state===xr.exports.LiveEventState.ONGOING),u=o[0],c=o[1],h=U.exports.useState(0),f=h[0],v=h[1],_=U.exports.useState(!0),y=_[0],E=_[1],x=U.exports.useState(!0),C=x[0],M=x[1],S=vh(""),N=S[0],D=S[1],H=S[2],K=U.exports.useContext(Lo).stringSet;U.exports.useEffect(function(){var we=setInterval(function(){v(t.duration)},1e3);return function(){return clearInterval(we)}},[]);var z=function(){return va(n,void 0,void 0,function(){return _a(this,function(we){switch(we.label){case 0:return[4,t.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return we.sent(),c(!0),r(t),[2]}})})},W=function(we){we?t.startVideo():t.stopVideo(),M(we)},j=function(we){we?t.unmuteAudioInput():t.muteAudioInput(),E(we)};function ce(we){return we.toString().padStart(2,"0")}function ue(we){var Se=Math.floor(we/1e3),ie=Math.floor(Se/60),oe=Math.floor(ie/60);return Se=Se%60,ie=ie%60,"".concat(ce(oe),":").concat(ce(ie),":").concat(ce(Se))}return k.createElement("div",{className:"control-bar"},k.createElement("div",{className:"control-bar__left-buttons"},k.createElement("div",{className:"control-bar__settings"},k.createElement(mpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return D()}})),k.createElement("div",{className:"control-bar__video"},C?k.createElement(gpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return W(!1)}}):k.createElement(vpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return W(!0)}})),k.createElement("div",{className:"control-bar__audio__wrapper"},k.createElement("div",{className:"control-bar__audio"},y?k.createElement(_pe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return j(!1)}}):k.createElement(bpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return j(!0)}})),k.createElement("div",{className:"control-bar__volume"}))),k.createElement("div",{className:"control-bar__right-buttons"},u&&k.createElement("div",{className:"participant-icon--red"}),u&&k.createElement("div",{className:"control-bar__duration"},ue(f)),u?k.createElement("div",{className:"control-bar__end-live",onClick:function(){i(t)}},K.LIVE_EVENT_END_DIALOG_OPTION_END):k.createElement("div",{className:"control-bar__start-live",onClick:z},K.START_LIVE_EVENT_HEADER_BUTTON)),k.createElement(N,null,k.createElement(wpe,{liveEvent:t,onClose:function(){H()}})))}var kpe=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;ia(kpe);function Cpe(e){var n=e.onExit,t=n===void 0?function(){}:n,r=e.onClose,i=r===void 0?function(){}:r,o=U.exports.useContext(Lo).stringSet;return k.createElement("div",{className:"confirm-end-dialog"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),k.createElement("div",{className:"close",onClick:function(){return i()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"minor-button",onClick:function(){return i()}},"Cancel"),k.createElement("div",{className:"minor-button",onClick:function(){return t(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),k.createElement("div",{className:"major-button",onClick:function(){return t(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}function Kc(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function wa(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function Bg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bg=function(t){return typeof t}:Bg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function Fo(e){wa(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||Bg(e)==="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Spe(e,n){wa(2,arguments);var t=Fo(e).getTime(),r=Kc(n);return new Date(t+r)}var Npe={};function g_(){return Npe}function Tpe(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}function Gg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gg=function(t){return typeof t}:Gg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function Ipe(e){return wa(1,arguments),e instanceof Date||Gg(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ope(e){if(wa(1,arguments),!Ipe(e)&&typeof e!="number")return!1;var n=Fo(e);return!isNaN(Number(n))}function Ape(e,n){wa(2,arguments);var t=Kc(n);return Spe(e,-t)}var Rpe=864e5;function Mpe(e){wa(1,arguments);var n=Fo(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/Rpe)+1}function Mv(e){wa(1,arguments);var n=1,t=Fo(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function yH(e){wa(1,arguments);var n=Fo(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Mv(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=Mv(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=u.getTime()?t:t-1}function Dpe(e){wa(1,arguments);var n=yH(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Mv(t);return r}var Upe=6048e5;function Lpe(e){wa(1,arguments);var n=Fo(e),t=Mv(n).getTime()-Dpe(n).getTime();return Math.round(t/Upe)+1}function Dv(e,n){var t,r,i,o,u,c,h,f;wa(1,arguments);var v=g_(),_=Kc((t=(r=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Fo(e),E=y.getUTCDay(),x=(E<_?7:0)+E-_;return y.setUTCDate(y.getUTCDate()-x),y.setUTCHours(0,0,0,0),y}function EH(e,n){var t,r,i,o,u,c,h,f;wa(1,arguments);var v=Fo(e),_=v.getUTCFullYear(),y=g_(),E=Kc((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(_+1,0,E),x.setUTCHours(0,0,0,0);var C=Dv(x,n),M=new Date(0);M.setUTCFullYear(_,0,E),M.setUTCHours(0,0,0,0);var S=Dv(M,n);return v.getTime()>=C.getTime()?_+1:v.getTime()>=S.getTime()?_:_-1}function Ppe(e,n){var t,r,i,o,u,c,h,f;wa(1,arguments);var v=g_(),_=Kc((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),y=EH(e,n),E=new Date(0);E.setUTCFullYear(y,0,_),E.setUTCHours(0,0,0,0);var x=Dv(E,n);return x}var Fpe=6048e5;function Hpe(e,n){wa(1,arguments);var t=Fo(e),r=Dv(t,n).getTime()-Ppe(t,n).getTime();return Math.round(r/Fpe)+1}function Wt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var ou={y:function(n,t){var r=n.getUTCFullYear(),i=r>0?r:1-r;return Wt(t==="yy"?i%100:i,t.length)},M:function(n,t){var r=n.getUTCMonth();return t==="M"?String(r+1):Wt(r+1,2)},d:function(n,t){return Wt(n.getUTCDate(),t.length)},a:function(n,t){var r=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,t){return Wt(n.getUTCHours()%12||12,t.length)},H:function(n,t){return Wt(n.getUTCHours(),t.length)},m:function(n,t){return Wt(n.getUTCMinutes(),t.length)},s:function(n,t){return Wt(n.getUTCSeconds(),t.length)},S:function(n,t){var r=t.length,i=n.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Wt(o,t.length)}},Qd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qpe={G:function(n,t,r){var i=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(n,t,r){if(t==="yo"){var i=n.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return ou.y(n,t)},Y:function(n,t,r,i){var o=EH(n,i),u=o>0?o:1-o;if(t==="YY"){var c=u%100;return Wt(c,2)}return t==="Yo"?r.ordinalNumber(u,{unit:"year"}):Wt(u,t.length)},R:function(n,t){var r=yH(n);return Wt(r,t.length)},u:function(n,t){var r=n.getUTCFullYear();return Wt(r,t.length)},Q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Wt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Wt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,r){var i=n.getUTCMonth();switch(t){case"M":case"MM":return ou.M(n,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,r){var i=n.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Wt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,r,i){var o=Hpe(n,i);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Wt(o,t.length)},I:function(n,t,r){var i=Lpe(n);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):Wt(i,t.length)},d:function(n,t,r){return t==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):ou.d(n,t)},D:function(n,t,r){var i=Mpe(n);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Wt(i,t.length)},E:function(n,t,r){var i=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,r,i){var o=n.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Wt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(n,t,r,i){var o=n.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Wt(u,t.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(n,t,r){var i=n.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return Wt(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,r){var i=n.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,t,r){var i=n.getUTCHours(),o;switch(i===12?o=Qd.noon:i===0?o=Qd.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,t,r){var i=n.getUTCHours(),o;switch(i>=17?o=Qd.evening:i>=12?o=Qd.afternoon:i>=4?o=Qd.morning:o=Qd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,t,r){if(t==="ho"){var i=n.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ou.h(n,t)},H:function(n,t,r){return t==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):ou.H(n,t)},K:function(n,t,r){var i=n.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},k:function(n,t,r){var i=n.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},m:function(n,t,r){return t==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):ou.m(n,t)},s:function(n,t,r){return t==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):ou.s(n,t)},S:function(n,t){return ou.S(n,t)},X:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();if(u===0)return"Z";switch(t){case"X":return rP(u);case"XXXX":case"XX":return yc(u);case"XXXXX":case"XXX":default:return yc(u,":")}},x:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"x":return rP(u);case"xxxx":case"xx":return yc(u);case"xxxxx":case"xxx":default:return yc(u,":")}},O:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tP(u,":");case"OOOO":default:return"GMT"+yc(u,":")}},z:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tP(u,":");case"zzzz":default:return"GMT"+yc(u,":")}},t:function(n,t,r,i){var o=i._originalDate||n,u=Math.floor(o.getTime()/1e3);return Wt(u,t.length)},T:function(n,t,r,i){var o=i._originalDate||n,u=o.getTime();return Wt(u,t.length)}};function tP(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=n||"";return t+String(i)+u+Wt(o,2)}function rP(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Wt(Math.abs(e)/60,2)}return yc(e,n)}function yc(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=Wt(Math.floor(i/60),2),u=Wt(i%60,2);return r+o+t+u}var Bpe=qpe,iP=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wH=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gpe=function(n,t){var r=n.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return iP(n,t);var u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",iP(i,t)).replace("{{time}}",wH(o,t))},$pe={p:wH,P:Gpe},zpe=$pe,jpe=["D","DD"],Vpe=["YY","YYYY"];function Wpe(e){return jpe.indexOf(e)!==-1}function Kpe(e){return Vpe.indexOf(e)!==-1}function aP(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ype=function(n,t,r){var i,o=Qpe[n];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function IE(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth,r=e.formats[t]||e.formats[e.defaultWidth];return r}}var Xpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},efe={date:IE({formats:Xpe,defaultWidth:"full"}),time:IE({formats:Jpe,defaultWidth:"full"}),dateTime:IE({formats:Zpe,defaultWidth:"full"})},nfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tfe=function(n,t,r,i){return nfe[n]};function cf(e){return function(n,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,u=t!=null&&t.width?String(t.width):o;i=e.formattingValues[u]||e.formattingValues[o]}else{var c=e.defaultWidth,h=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[h]||e.values[c]}var f=e.argumentCallback?e.argumentCallback(n):n;return i[f]}}var rfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ife={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},afe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ofe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ufe=function(n,t){var r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cfe={ordinalNumber:ufe,era:cf({values:rfe,defaultWidth:"wide"}),quarter:cf({values:ife,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:cf({values:afe,defaultWidth:"wide"}),day:cf({values:sfe,defaultWidth:"wide"}),dayPeriod:cf({values:ofe,defaultWidth:"wide",formattingValues:lfe,defaultFormattingWidth:"wide"})};function df(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(i);if(!o)return null;var u=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?hfe(c,function(_){return _.test(u)}):dfe(c,function(_){return _.test(u)}),f;f=e.valueCallback?e.valueCallback(h):h,f=t.valueCallback?t.valueCallback(f):f;var v=n.slice(u.length);return{value:f,rest:v}}}function dfe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function hfe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}function pfe(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.match(e.matchPattern);if(!r)return null;var i=r[0],o=n.match(e.parsePattern);if(!o)return null;var u=e.valueCallback?e.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;var c=n.slice(i.length);return{value:u,rest:c}}}var ffe=/^(\d+)(th|st|nd|rd)?/i,mfe=/\d+/i,gfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vfe={any:[/^b/i,/^(a|c)/i]},_fe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bfe={any:[/1/i,/2/i,/3/i,/4/i]},yfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Efe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sfe={ordinalNumber:pfe({matchPattern:ffe,parsePattern:mfe,valueCallback:function(n){return parseInt(n,10)}}),era:df({matchPatterns:gfe,defaultMatchWidth:"wide",parsePatterns:vfe,defaultParseWidth:"any"}),quarter:df({matchPatterns:_fe,defaultMatchWidth:"wide",parsePatterns:bfe,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:df({matchPatterns:yfe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any"}),day:df({matchPatterns:wfe,defaultMatchWidth:"wide",parsePatterns:xfe,defaultParseWidth:"any"}),dayPeriod:df({matchPatterns:kfe,defaultMatchWidth:"any",parsePatterns:Cfe,defaultParseWidth:"any"})},Nfe={code:"en-US",formatDistance:Ype,formatLong:efe,formatRelative:tfe,localize:cfe,match:Sfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Tfe=Nfe,Ife=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ofe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Afe=/^'([^]*?)'?$/,Rfe=/''/g,Mfe=/[a-zA-Z]/;function sP(e,n,t){var r,i,o,u,c,h,f,v,_,y,E,x,C,M,S,N,D,H;wa(2,arguments);var K=String(n),z=g_(),W=(r=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:z.locale)!==null&&r!==void 0?r:Tfe,j=Kc((o=(u=(c=(h=t==null?void 0:t.firstWeekContainsDate)!==null&&h!==void 0?h:t==null||(f=t.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&c!==void 0?c:z.firstWeekContainsDate)!==null&&u!==void 0?u:(_=z.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ce=Kc((E=(x=(C=(M=t==null?void 0:t.weekStartsOn)!==null&&M!==void 0?M:t==null||(S=t.locale)===null||S===void 0||(N=S.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&C!==void 0?C:z.weekStartsOn)!==null&&x!==void 0?x:(D=z.locale)===null||D===void 0||(H=D.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&E!==void 0?E:0);if(!(ce>=0&&ce<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!W.localize)throw new RangeError("locale must contain localize property");if(!W.formatLong)throw new RangeError("locale must contain formatLong property");var ue=Fo(e);if(!Ope(ue))throw new RangeError("Invalid time value");var we=Tpe(ue),Se=Ape(ue,we),ie={firstWeekContainsDate:j,weekStartsOn:ce,locale:W,_originalDate:ue},oe=K.match(Ofe).map(function(de){var De=de[0];if(De==="p"||De==="P"){var He=zpe[De];return He(de,W.formatLong)}return de}).join("").match(Ife).map(function(de){if(de==="''")return"'";var De=de[0];if(De==="'")return Dfe(de);var He=Bpe[De];if(He)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Kpe(de)&&aP(de,n,String(e)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Wpe(de)&&aP(de,n,String(e)),He(Se,de,W.localize,ie);if(De.match(Mfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+De+"`");return de}).join("");return oe}function Dfe(e){var n=e.match(Afe);return n?n[1].replace(Rfe,"'"):e}var oP;function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_x.apply(this,arguments)}var lP=function(n){return U.exports.createElement("svg",_x({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),oP||(oP=U.exports.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},uP;function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bx.apply(this,arguments)}var Ufe=function(n){return U.exports.createElement("svg",bx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),uP||(uP=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},cP;function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yx.apply(this,arguments)}var Lfe=function(n){return U.exports.createElement("svg",yx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),cP||(cP=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},dP;function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ex.apply(this,arguments)}var xH=function(n){return U.exports.createElement("svg",Ex({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),dP||(dP=U.exports.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},hP;function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wx.apply(this,arguments)}var kH=function(n){return U.exports.createElement("svg",wx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),hP||(hP=U.exports.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},pP;function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xx.apply(this,arguments)}var Pfe=function(n){return U.exports.createElement("svg",xx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),pP||(pP=U.exports.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},Ffe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;ia(Ffe);function Hfe(e){var n=e.liveEvent,t=e.onHostsClick,r=t===void 0?function(){}:t,i=e.onParticipantsClick,o=i===void 0?function(){}:i,u=e.onClose,c=u===void 0?function(){}:u,h=n.openChannel,f=U.exports.useState(""),v=f[0],_=f[1],y=U.exports.useState(h.isFrozen),E=y[0],x=y[1],C=U.exports.useState(n.userIdsForHost.length),M=C[0],S=C[1],N=U.exports.useState("".concat(h.participantCount)),D=N[0],H=N[1];return U.exports.useEffect(function(){_(h.name||"Untitled")},[h.name]),U.exports.useEffect(function(){S(h.operators.length)},[n.userIdsForHost.length]),U.exports.useEffect(function(){h.participantCount>1e3?H("".concat(Math.floor(h.participantCount/1e3),"k")):H("".concat(h.participantCount))},[h.participantCount]),U.exports.useEffect(function(){x(n.openChannel.isFrozen)},[h.isFrozen]),k.createElement("div",{className:"event-detail-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},"Live event information"),k.createElement("div",{className:"close",onClick:function(){return c()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"event-summary"},k.createElement("div",{className:"profile"},n.host?k.createElement("img",{src:n.host.profileURL}):k.createElement(Kh,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),k.createElement("div",{className:"title"},v)),k.createElement("div",{className:"event-menu button",onClick:function(){return r()}},k.createElement(xH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Hosts"),k.createElement("div",{className:"count"},M),k.createElement(lP,{width:24,height:24,viewBox:"-10 -10 80 80"})),k.createElement("div",{className:"event-menu button",onClick:function(){return o()}},k.createElement(kH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Participants"),k.createElement("div",{className:"count"},D),k.createElement(lP,{width:24,height:24,viewBox:"-10 -10 80 80"})),k.createElement("div",{className:"event-menu"},k.createElement(Pfe,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),k.createElement("div",{className:"label"},"Freeze channel"),k.createElement("div",{className:"toggle"},E?k.createElement(Ufe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):k.createElement(Lfe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),k.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Live event ID"),k.createElement("div",{className:"value"},n.liveEventId)),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Created on"),k.createElement("div",{className:"value"},sP(n.createdAt,"PPp"))),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Created by"),k.createElement("div",{className:"value"},n.createdBy)),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Started on"),k.createElement("div",{className:"value"},n.startedAt?sP(n.startedAt,"PPp"):"")),k.createElement("div",{className:"event-info"},k.createElement("div",{className:"label"},"Started by"),k.createElement("div",{className:"value"},n.startedBy?n.startedBy:"")))}var qfe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;ia(qfe);function Bfe(e){var n=e.nickname,t=n===void 0?"":n,r=e.profileUrl,i=r===void 0?"":r,o=i?k.createElement("img",{src:i,className:"profile-image"}):k.createElement(Kh,{fill:"#fff",className:"profile-image"});return k.createElement("div",{className:"user-view"},o,k.createElement("div",{className:"nickname"},t))}function fP(e){var n=e.title,t=e.count,r=e.query,i=e.onClose,o=i===void 0?function(){}:i,u=U.exports.useRef(null),c=U.exports.useState([]),h=c[0],f=c[1],v=U.exports.useState(!0),_=v[0],y=v[1];U.exports.useEffect(function(){r().then(function(x){var C=x.result,M=x.hasNext;f(Fa([],C,!0)),y(M)})},[]);var E=function(){if(u.current){var x=u.current,C=x.scrollTop,M=x.scrollHeight,S=x.clientHeight;C+S===M&&_&&r().then(function(N){var D=N.result,H=N.hasNext;f(Fa(Fa([],h,!0),D,!0)),y(H)})}};return k.createElement("div",{className:"user-list-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},n," ",k.createElement("span",{className:"count"},t)),k.createElement("div",{className:"close",onClick:function(){return o()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"list",ref:u,onScroll:E},h.map(function(x){return k.createElement(Bfe,{key:x.userId,userId:x.userId,nickname:x.nickname,profileUrl:x.profileUrl})})))}var Gfe=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;ia(Gfe);var Ks;(function(e){e[e.CHAT=0]="CHAT",e[e.EVENT_INFO=1]="EVENT_INFO",e[e.HOST_LIST=2]="HOST_LIST",e[e.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(Ks||(Ks={}));function CH(e){var n=this,t=e.liveEvent,r=e.initialViewStack,i=r===void 0?[Ks.CHAT]:r,o=t.openChannel,u=zh(),c=G3.getSdk(u),h=U.exports.useState(Fa([],i,!0)),f=h[0],v=h[1],_=U.exports.useState(i[i.length-1]),y=_[0],E=_[1],x=function(M){v(Fa(Fa([],f,!0),[M],!1))},C=function(){f.length>1&&v(f.slice(0,-1))};return U.exports.useEffect(function(){t.openChannel,v(Fa([],i,!0))},[t]),U.exports.useEffect(function(){E(f[f.length-1])},[f]),k.createElement("div",{className:"sendbirdlive-right__wrapper"},y===Ks.CHAT?k.createElement(Ghe,{channelUrl:t.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var M;((M=t.host)===null||M===void 0?void 0:M.userId)===(c==null?void 0:c.currentUser.userId)?x(Ks.EVENT_INFO):x(Ks.PARTICIPANT_LIST)}}):null,y===Ks.EVENT_INFO?k.createElement(Hfe,{liveEvent:t,onHostsClick:function(){return x(Ks.HOST_LIST)},onParticipantsClick:function(){return x(Ks.PARTICIPANT_LIST)},onClose:function(){return C()}}):null,y===Ks.HOST_LIST?k.createElement(fP,{title:"Hosts",count:o.operators.length,query:function(){return va(n,void 0,void 0,function(){return _a(this,function(M){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return C()}}):null,y===Ks.PARTICIPANT_LIST?k.createElement(fP,{title:"Participants",count:o.participantCount,query:function(){return va(n,void 0,void 0,function(){var M,S,N,D;return _a(this,function(H){switch(H.label){case 0:return M=o.createParticipantListQuery({}),M?[4,M.next()]:[3,2];case 1:return N=H.sent(),[3,3];case 2:N=[],H.label=3;case 3:return S=N,D=M==null?void 0:M.hasNext,[2,{result:S,hasNext:D}]}})})},onClose:function(){return C()}}):null)}function $fe(e){var n=this,t=e.liveEvent;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount,e.eventEndViewDisplayTime,e.allowExitWithoutEnding,e.showEventSummaryView;var r=e.onClose,i=U.exports.useContext(Lo).stringSet,o=U.exports.useRef(null),u=U.exports.useState(t.title),c=u[0],h=u[1],f=U.exports.useState(t.coverUrl),v=f[0],_=f[1],y=U.exports.useState(t.state),E=y[0],x=y[1],C=U.exports.useState(t.participantCount||0),M=C[0],S=C[1],N=vh("","dark-background"),D=N[0],H=N[1],K=N[2],z=function(j){switch(j){case"created":return i.EVENT_STATUS_CREATED;case"ready":return i.EVENT_STATUS_READY;case"ongoing":return i.EVENT_STATUS_ONGOING;case"ended":return i.EVENT_STATUS_ENDED}};U.exports.useEffect(function(){var j=function(){return va(n,void 0,void 0,function(){return _a(this,function(ce){switch(ce.label){case 0:return t.state!==xr.exports.LiveEventState.CREATED?[3,2]:[4,t.setEventReady()];case 1:ce.sent(),ce.label=2;case 2:return t.state===xr.exports.LiveEventState.ONGOING&&!t.isHostStreaming?[4,t.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:ce.sent(),t.setVideoViewForLiveEvent(o.current,t.host.hostId),ce.label=4;case 4:return o.current.autoplay=!0,o.current.muted=!0,[2]}})})};j()},[t]),U.exports.useEffect(function(){var j=[t.on("participantEntered",function(){S(t.participantCount)}),t.on("participantExited",function(){S(t.participantCount)}),t.on("liveEventUpdated",function(){h(t.title),_(t.coverUrl)})];return function(){j.map(function(ce){return ce()})}},[t]);function W(j){var ce=Math.floor(j/1e3),ue=Math.floor(ce/60);return ue=ue%60,"".concat(ue<0?0:ue)}return k.createElement("div",{className:"host-view"},k.createElement("div",{className:"host-view__main"},k.createElement("div",{className:"video-wrapper"},k.createElement("video",{className:"host-view__video",ref:o})),k.createElement("div",{className:"host-view__info"},k.createElement("div",{className:"host-view__profile"},t.coverUrl?k.createElement("img",{src:v,alt:"cover image",className:"host-view__profile__cover-image"}):k.createElement(Kh,{viewBox:"-4 -4 20 20",width:56,height:56})),k.createElement("div",{className:"host-view__info__wrapper"},k.createElement("div",{className:"host-view__title__wrapper"},k.createElement("div",{className:"event-state--".concat(E)},z(E)),k.createElement("div",{className:"host-view__title"},c||i.CREATE_EVENT_DEFAULT_TITLE)),k.createElement("div",{className:"host-view__detail"},M!=null?M:0," watching now ",t.state===xr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(W(t.duration)," mins ago"):""),k.createElement("div",{className:"host-view__host-name"},t.host?t.host.nickname:"No Host"))),k.createElement(xpe,{liveEvent:t,onStart:function(j){j.setVideoViewForLiveEvent(o.current,j.host.hostId),x(j.state)},onEnd:function(){H()}}),k.createElement(D,null,k.createElement(Cpe,{onExit:function(j){return va(n,void 0,void 0,function(){return _a(this,function(ce){switch(ce.label){case 0:return j?[4,t.endEvent()]:[3,2];case 1:return ce.sent(),[3,4];case 2:return[4,t.exitAsHost()];case 3:ce.sent(),ce.label=4;case 4:return K(),r(t),[2]}})})},onClose:function(){K()}}))),k.createElement(CH,{liveEvent:t}))}var zfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;ia(zfe);var jfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;ia(jfe);var Vfe=function(e){var n=e.message;return k.createElement("div",{className:"toast-container"},n&&k.createElement("div",{className:"toast"},n))},Wfe=function(){var e=U.exports.useState(void 0),n=e[0],t=e[1],r=U.exports.useState(void 0),i=r[0],o=r[1],u=function(f,v){v===void 0&&(v=1e6),t(f);var _=setTimeout(function(){c()},v);o(_)},c=function(){clearTimeout(i),o(void 0),t(void 0)},h=function(){return k.createElement(Vfe,{message:n})};return[h,u,c]},Kfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ia(Kfe);function Qfe(e){var n=e.onClose;return k.createElement("div",{className:"ended-modal"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},"Host has ended this live event."),k.createElement("div",{className:"close",onClick:n},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"major-button",onClick:n},"End live")))}function Yfe(e){var n=this,t=e.liveEvent,r=e.onClose;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount;var i=e.eventEndViewDisplayTime,o=U.exports.useRef(null),u=Wfe(),c=u[0],h=u[1],f=U.exports.useState(t.host),v=f[0],_=f[1],y=U.exports.useState(t.title),E=y[0],x=y[1],C=U.exports.useState(t.coverUrl),M=C[0],S=C[1],N=U.exports.useState(t.state),D=N[0],H=N[1],K=U.exports.useState(t.participantCount||0),z=K[0],W=K[1],j=vh("",""),ce=j[0],ue=j[1],we=j[2],Se=U.exports.useState(),ie=Se[0],oe=Se[1],de=U.exports.useContext(Lo).stringSet,De=function(ee){switch(ee){case"created":return de.EVENT_STATUS_CREATED;case"ready":return de.EVENT_STATUS_READY;case"ongoing":return de.EVENT_STATUS_ONGOING;case"ended":return de.EVENT_STATUS_ENDED}},He=function(){return va(n,void 0,void 0,function(){return _a(this,function(ee){return o.current.autoplay=!0,v&&t.setVideoViewForLiveEvent(o.current,v.hostId),[2]})})},ge=function(){ue();var ee=setTimeout(function(){be()},i!=null?i:3e3);oe(ee)},be=function(){return va(n,void 0,void 0,function(){return _a(this,function(ee){return clearTimeout(ie),oe(void 0),we(),r(t),[2]})})};U.exports.useEffect(function(){He()},[v,D]),U.exports.useEffect(function(){t.state===xr.exports.LiveEventState.CREATED&&h("Live event will begin soon.");var ee=[t.on("liveEventStarted",function(){H(t.state)}),t.on("liveEventEnded",function(){H(t.state),ge()}),t.on("hostEntered",function(){h("Host Entered"),_(t.host)}),t.on("hostConnected",function(X,me){h("Host Connected"),_(X.host)}),t.on("hostDisconnected",function(){h("Host Disconnected"),_(t.host)}),t.on("hostExited",function(){h("Host Exited"),_(t.host)}),t.on("hostMutedAudio",function(){h("Host is muted"),_(t.host)}),t.on("hostUnmutedAudio",function(){h("Host is unmuted"),_(t.host)}),t.on("participantEntered",function(){W(t.participantCount)}),t.on("participantExited",function(){W(t.participantCount)}),t.on("liveEventUpdated",function(){x(t.title),S(t.coverUrl)})];return function(){ee.map(function(X){return X()})}},[t]);function Le(ee){var X=Math.floor(ee/1e3),me=Math.floor(X/60);return me=me%60,"".concat(me<0?0:me)}return k.createElement("div",{className:"participant-view"},k.createElement("div",{className:"participant-view__main"},k.createElement(c,null),k.createElement("div",{className:"video-wrapper"},k.createElement("video",{className:"participant-view__video",ref:o})),k.createElement("div",{className:"participant-view__info"},k.createElement("div",{className:"participant-view__profile"},M?k.createElement("img",{src:M,alt:"cover image",className:"participant-view__profile__cover-image"}):k.createElement(Kh,{viewBox:"-4 -4 20 20",width:56,height:56})),k.createElement("div",{className:"participant-view__info__wrapper"},k.createElement("div",{className:"participant-view__title__wrapper"},k.createElement("div",{className:"event-state--".concat(D)},De(D)),k.createElement("div",{className:"participant-view__title"},E||de.CREATE_EVENT_DEFAULT_TITLE)),k.createElement("div",{className:"participant-view__detail"},z!=null?z:0," watching now ",t.state===xr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Le(t.duration)," mins ago"):""),k.createElement("div",{className:"participant-view__host-name"},v?v.nickname||" ":"No Host")))),k.createElement(CH,{liveEvent:t}),k.createElement(ce,null,k.createElement(Qfe,{onClose:be})))}var Xfe=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;ia(Xfe);function Jfe(e){var n=this,t=e.liveEventId,r=e.onClose,i=U.exports.useContext(Lo).stringSet,o=function(){return va(n,void 0,void 0,function(){var c;return _a(this,function(h){switch(h.label){case 0:return[4,xr.exports.SendbirdLive.getLiveEvent(t)];case 1:return c=h.sent(),[4,c.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return h.sent(),r(c,!0),[2]}})})},u=function(){return va(n,void 0,void 0,function(){var c;return _a(this,function(h){switch(h.label){case 0:return[4,xr.exports.SendbirdLive.getLiveEvent(t)];case 1:return c=h.sent(),[4,c.enter()];case 2:return h.sent(),r(c,!1),[2]}})})};return k.createElement("div",{className:"enter-view"},k.createElement("div",{className:"close",onClick:function(){return r()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"})),k.createElement("div",{className:"title"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),k.createElement("div",{className:"enter-view__item",onClick:o},k.createElement("div",{className:"enter-view__item__icon"},k.createElement(xH,{viewBox:"0 0 64 64",width:28,height:28})),k.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),k.createElement("div",{className:"enter-view__item",onClick:u},k.createElement("div",{className:"enter-view__item__icon"},k.createElement(kH,{viewBox:"0 0 64 64",width:28,height:28})),k.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var Zfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;ia(Zfe);function e0e(e){var n=e.liveEvent,t=e.onClose,r=U.exports.useContext(Lo).stringSet,i=U.exports.useMemo(function(){return n&&n.state===xr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:r.UNKNOWN_ERROR_ALERT_DESCRIPTION},[n]);return k.createElement("div",{className:"enter-error-view"},k.createElement("div",{className:"header"},k.createElement("div",{className:"title"},i),k.createElement("div",{className:"close",onClick:function(){return t()}},k.createElement(Il,{width:22,height:22,viewBox:"0 0 60 60"}))),k.createElement("div",{className:"buttons"},k.createElement("div",{className:"major-button",onClick:function(){return t()}},"OK")))}function n0e(e){var n=this,t=e.userId,r=e.appId,i=e.nickname,o=e.accessToken,u=e.customApiHost,c=e.customWebSocketHost,h=e.theme,f=e.colorSet,v=e.stringSet,_=e.customize,y=U.exports.useState(!1),E=y[0],x=y[1],C=U.exports.useState(""),M=C[0],S=C[1],N=U.exports.useState(),D=N[0],H=N[1],K=vh(""),z=K[0],W=K[1],j=K[2],ce=vh(""),ue=ce[0],we=ce[1],Se=ce[2],ie=vh(""),oe=ie[0],de=ie[1],De=ie[2],He=Su(Su({},_==null?void 0:_.liveEventList),{onClickCreate:function(){W()},onClickElem:function(be){return va(n,void 0,void 0,function(){var Le;return _a(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,8,,9]),[4,xr.exports.SendbirdLive.getLiveEvent(be.liveEventId)];case 1:return Le=ee.sent(),Le.state===xr.exports.LiveEventState.ENDED?(de(),[2]):Le.isHost&&!Le.host?Le.state!==xr.exports.LiveEventState.CREATED?[3,3]:[4,Le.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return ee.sent(),x(!0),H(Le),[3,4];case 3:S(be.liveEventId),we(),ee.label=4;case 4:return[3,7];case 5:return[4,Le.enter()];case 6:ee.sent(),H(Le),ee.label=7;case 7:return[3,9];case 8:return ee.sent(),de(),[3,9];case 9:return[2]}})})}}),ge=function(be){var Le=be.onClose;return D?E?k.createElement($fe,{liveEvent:D,onClose:Le}):k.createElement(Yfe,{liveEvent:D,onClose:Le}):k.createElement("div",{className:"sendbirdlive-app__no-event"},k.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),k.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),k.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:W},"Create"))};return k.createElement(Goe,{userId:t,appId:r,nickname:i,accessToken:o,customApiHost:u,customWebSocketHost:c,theme:h,colorSet:f,stringSet:v},k.createElement("div",{className:"sendbirdlive-app__wrapper"},k.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!E&&k.createElement(Woe,Su({},He))),k.createElement(oe,null,k.createElement(e0e,{liveEvent:D,onClose:De})),k.createElement(ue,null,k.createElement(Jfe,{liveEventId:M,onClose:function(be,Le){H(be),be&&Le&&x(!0),Se()}})),k.createElement(z,null,k.createElement(ppe,{onClose:function(be){H(be),be!=null&&be.isHost&&x(!0),j()}})),k.createElement(ge,{onClose:function(){x(!1),H(void 0)}})))}function t0e(){const[e,n]=U.exports.useState(""),[t,r]=U.exports.useState(""),[i,o]=U.exports.useState(""),[u,c]=U.exports.useState(!1),h=new URLSearchParams(Xee().search);return U.exports.useEffect(()=>{let f={};const v=h.get("q");if(v)try{f=JSON.parse(atob(v)),f.app_id&&n(f.app_id),f.user_id&&r(f.user_id),f.access_token&&o(f.access_token),c(!0)}catch{console.error("incorrect auth query")}},[]),ns("div",{className:"App",children:u?ns(n0e,{appId:e,userId:t,nickname:t,accessToken:i||null}):V5("div",{className:"login-panel",children:[ns("img",{src:"./logo.png",className:"logo"}),V5("div",{className:"login-form",children:[ns("div",{className:"section",children:"Application ID"}),ns("input",{type:"text",className:"input",placeholder:"Application ID",value:e,onChange:f=>n(f.target.value)}),ns("div",{className:"section",children:"User ID"}),ns("input",{type:"text",className:"input",placeholder:"User ID",value:t,onChange:f=>r(f.target.value)}),ns("div",{className:"section",children:"Access token (optional)"}),ns("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:i,onChange:f=>o(f.target.value)}),ns("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>c(!0)})]}),ns("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}OE.createRoot(document.getElementById("root")).render(ns(k.StrictMode,{children:ns(t0e,{})}));
