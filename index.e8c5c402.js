(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function jJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=Symbol.for("react.element"),VJ=Symbol.for("react.portal"),WJ=Symbol.for("react.fragment"),KJ=Symbol.for("react.strict_mode"),QJ=Symbol.for("react.profiler"),YJ=Symbol.for("react.provider"),XJ=Symbol.for("react.context"),JJ=Symbol.for("react.forward_ref"),ZJ=Symbol.for("react.suspense"),eZ=Symbol.for("react.memo"),nZ=Symbol.for("react.lazy"),n5=Symbol.iterator;function tZ(e){return e===null||typeof e!="object"?null:(e=n5&&e[n5]||e["@@iterator"],typeof e=="function"?e:null)}var DP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UP=Object.assign,LP={};function Ph(e,n,t){this.props=e,this.context=n,this.refs=LP,this.updater=t||DP}Ph.prototype.isReactComponent={};Ph.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ph.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PP(){}PP.prototype=Ph.prototype;function Px(e,n,t){this.props=e,this.context=n,this.refs=LP,this.updater=t||DP}var Fx=Px.prototype=new PP;Fx.constructor=Px;UP(Fx,Ph.prototype);Fx.isPureReactComponent=!0;var t5=Array.isArray,FP=Object.prototype.hasOwnProperty,Hx={current:null},HP={key:!0,ref:!0,__self:!0,__source:!0};function qP(e,n,t){var r,i={},o=null,u=null;if(n!=null)for(r in n.ref!==void 0&&(u=n.ref),n.key!==void 0&&(o=""+n.key),n)FP.call(n,r)&&!HP.hasOwnProperty(r)&&(i[r]=n[r]);var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];i.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:x0,type:e,key:o,ref:u,props:i,_owner:Hx.current}}function rZ(e,n){return{$$typeof:x0,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function qx(e){return typeof e=="object"&&e!==null&&e.$$typeof===x0}function iZ(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var r5=/\/+/g;function q1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?iZ(""+e.key):n.toString(36)}function Ig(e,n,t,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case x0:case VJ:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+q1(u,0):r,t5(i)?(t="",e!=null&&(t=e.replace(r5,"$&/")+"/"),Ig(i,n,t,"",function(f){return f})):i!=null&&(qx(i)&&(i=rZ(i,t+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(r5,"$&/")+"/")+e)),n.push(i)),1;if(u=0,r=r===""?".":r+":",t5(e))for(var c=0;c<e.length;c++){o=e[c];var h=r+q1(o,c);u+=Ig(o,n,t,h,i)}else if(h=tZ(e),typeof h=="function")for(e=h.call(e),c=0;!(o=e.next()).done;)o=o.value,h=r+q1(o,c++),u+=Ig(o,n,t,h,i);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return u}function Zm(e,n,t){if(e==null)return e;var r=[],i=0;return Ig(e,r,"","",function(o){return n.call(t,o,i++)}),r}function aZ(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var wa={current:null},Og={transition:null},sZ={ReactCurrentDispatcher:wa,ReactCurrentBatchConfig:Og,ReactCurrentOwner:Hx};gt.Children={map:Zm,forEach:function(e,n,t){Zm(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Zm(e,function(){n++}),n},toArray:function(e){return Zm(e,function(n){return n})||[]},only:function(e){if(!qx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Ph;gt.Fragment=WJ;gt.Profiler=QJ;gt.PureComponent=Px;gt.StrictMode=KJ;gt.Suspense=ZJ;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sZ;gt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UP({},e.props),i=e.key,o=e.ref,u=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,u=Hx.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in n)FP.call(n,h)&&!HP.hasOwnProperty(h)&&(r[h]=n[h]===void 0&&c!==void 0?c[h]:n[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:x0,type:e.type,key:i,ref:o,props:r,_owner:u}};gt.createContext=function(e){return e={$$typeof:XJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YJ,_context:e},e.Consumer=e};gt.createElement=qP;gt.createFactory=function(e){var n=qP.bind(null,e);return n.type=e,n};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:JJ,render:e}};gt.isValidElement=qx;gt.lazy=function(e){return{$$typeof:nZ,_payload:{_status:-1,_result:e},_init:aZ}};gt.memo=function(e,n){return{$$typeof:eZ,type:e,compare:n===void 0?null:n}};gt.startTransition=function(e){var n=Og.transition;Og.transition={};try{e()}finally{Og.transition=n}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(e,n){return wa.current.useCallback(e,n)};gt.useContext=function(e){return wa.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return wa.current.useDeferredValue(e)};gt.useEffect=function(e,n){return wa.current.useEffect(e,n)};gt.useId=function(){return wa.current.useId()};gt.useImperativeHandle=function(e,n,t){return wa.current.useImperativeHandle(e,n,t)};gt.useInsertionEffect=function(e,n){return wa.current.useInsertionEffect(e,n)};gt.useLayoutEffect=function(e,n){return wa.current.useLayoutEffect(e,n)};gt.useMemo=function(e,n){return wa.current.useMemo(e,n)};gt.useReducer=function(e,n,t){return wa.current.useReducer(e,n,t)};gt.useRef=function(e){return wa.current.useRef(e)};gt.useState=function(e){return wa.current.useState(e)};gt.useSyncExternalStore=function(e,n,t){return wa.current.useSyncExternalStore(e,n,t)};gt.useTransition=function(){return wa.current.useTransition()};gt.version="18.2.0";(function(e){e.exports=gt})(U);const x=jJ(U.exports);var zE={},Fh={exports:{}},fs={},BP={exports:{}},GP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ve,Oe){var Be=ve.length;ve.push(Oe);e:for(;0<Be;){var ee=Be-1>>>1,X=ve[ee];if(0<i(X,Oe))ve[ee]=Oe,ve[Be]=X,Be=ee;else break e}}function t(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Oe=ve[0],Be=ve.pop();if(Be!==Oe){ve[0]=Be;e:for(var ee=0,X=ve.length,me=X>>>1;ee<me;){var Ye=2*(ee+1)-1,Ne=ve[Ye],Ae=Ye+1,_e=ve[Ae];if(0>i(Ne,Be))Ae<X&&0>i(_e,Ne)?(ve[ee]=_e,ve[Ae]=Be,ee=Ae):(ve[ee]=Ne,ve[Ye]=Be,ee=Ye);else if(Ae<X&&0>i(_e,Be))ve[ee]=_e,ve[Ae]=Be,ee=Ae;else break e}}return Oe}function i(ve,Oe){var Be=ve.sortIndex-Oe.sortIndex;return Be!==0?Be:ve.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],f=[],v=1,_=null,y=3,E=!1,k=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ve){for(var Oe=t(f);Oe!==null;){if(Oe.callback===null)r(f);else if(Oe.startTime<=ve)r(f),Oe.sortIndex=Oe.expirationTime,n(h,Oe);else break;Oe=t(f)}}function q(ve){if(S=!1,A(ve),!k)if(t(h)!==null)k=!0,He(K);else{var Oe=t(f);Oe!==null&&Se(q,Oe.startTime-ve)}}function K(ve,Oe){k=!1,S&&(S=!1,N(W),W=-1),E=!0;var Be=y;try{for(A(Oe),_=t(h);_!==null&&(!(_.expirationTime>Oe)||ve&&!Ie());){var ee=_.callback;if(typeof ee=="function"){_.callback=null,y=_.priorityLevel;var X=ee(_.expirationTime<=Oe);Oe=e.unstable_now(),typeof X=="function"?_.callback=X:_===t(h)&&r(h),A(Oe)}else r(h);_=t(h)}if(_!==null)var me=!0;else{var Ye=t(f);Ye!==null&&Se(q,Ye.startTime-Oe),me=!1}return me}finally{_=null,y=Be,E=!1}}var z=!1,V=null,W=-1,de=5,le=-1;function Ie(){return!(e.unstable_now()-le<de)}function ye(){if(V!==null){var ve=e.unstable_now();le=ve;var Oe=!0;try{Oe=V(!0,ve)}finally{Oe?te():(z=!1,V=null)}}else z=!1}var te;if(typeof C=="function")te=function(){C(ye)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ce=he.port2;he.port1.onmessage=ye,te=function(){ce.postMessage(null)}}else te=function(){D(ye,0)};function He(ve){V=ve,z||(z=!0,te())}function Se(ve,Oe){W=D(function(){ve(e.unstable_now())},Oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,He(K))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return t(h)},e.unstable_next=function(ve){switch(y){case 1:case 2:case 3:var Oe=3;break;default:Oe=y}var Be=y;y=Oe;try{return ve()}finally{y=Be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,Oe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Be=y;y=ve;try{return Oe()}finally{y=Be}},e.unstable_scheduleCallback=function(ve,Oe,Be){var ee=e.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?ee+Be:ee):Be=ee,ve){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Be+X,ve={id:v++,callback:Oe,priorityLevel:ve,startTime:Be,expirationTime:X,sortIndex:-1},Be>ee?(ve.sortIndex=Be,n(f,ve),t(h)===null&&ve===t(f)&&(S?(N(W),W=-1):S=!0,Se(q,Be-ee))):(ve.sortIndex=X,n(h,ve),k||E||(k=!0,He(K))),ve},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(ve){var Oe=y;return function(){var Be=y;y=Oe;try{return ve.apply(this,arguments)}finally{y=Be}}}})(GP);(function(e){e.exports=GP})(BP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=U.exports,cs=BP.exports;function $e(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $P=new Set,Kf={};function ed(e,n){bh(e,n),bh(e+"Capture",n)}function bh(e,n){for(Kf[e]=n,e=0;e<n.length;e++)$P.add(n[e])}var kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$E=Object.prototype.hasOwnProperty,oZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i5={},a5={};function lZ(e){return $E.call(a5,e)?!0:$E.call(i5,e)?!1:oZ.test(e)?a5[e]=!0:(i5[e]=!0,!1)}function uZ(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cZ(e,n,t,r){if(n===null||typeof n>"u"||uZ(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function xa(e,n,t,r,i,o,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=u}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pi[e]=new xa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Pi[n]=new xa(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pi[e]=new xa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pi[e]=new xa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pi[e]=new xa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pi[e]=new xa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pi[e]=new xa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pi[e]=new xa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pi[e]=new xa(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bx=/[\-:]([a-z])/g;function Gx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Bx,Gx);Pi[n]=new xa(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Bx,Gx);Pi[n]=new xa(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Bx,Gx);Pi[n]=new xa(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pi[e]=new xa(e,1,!1,e.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pi[e]=new xa(e,1,!1,e.toLowerCase(),null,!0,!0)});function zx(e,n,t,r){var i=Pi.hasOwnProperty(n)?Pi[n]:null;(i!==null?i.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(cZ(n,t,i,r)&&(t=null),r||i===null?lZ(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Tl=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eg=Symbol.for("react.element"),Yd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),jE=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),VP=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),WE=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),WP=Symbol.for("react.offscreen"),s5=Symbol.iterator;function rf(e){return e===null||typeof e!="object"?null:(e=s5&&e[s5]||e["@@iterator"],typeof e=="function"?e:null)}var Ar=Object.assign,B1;function Ef(e){if(B1===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);B1=n&&n[1]||""}return`
`+B1+e}var G1=!1;function z1(e,n){if(!e||G1)return"";G1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var r=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(f){r=f}e.call(n.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,c=o.length-1;1<=u&&0<=c&&i[u]!==o[c];)c--;for(;1<=u&&0<=c;u--,c--)if(i[u]!==o[c]){if(u!==1||c!==1)do if(u--,c--,0>c||i[u]!==o[c]){var h=`
`+i[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=c);break}}}finally{G1=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Ef(e):""}function dZ(e){switch(e.tag){case 5:return Ef(e.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return e=z1(e.type,!1),e;case 11:return e=z1(e.type.render,!1),e;case 1:return e=z1(e.type,!0),e;default:return""}}function KE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xd:return"Fragment";case Yd:return"Portal";case jE:return"Profiler";case $x:return"StrictMode";case VE:return"Suspense";case WE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VP:return(e.displayName||"Context")+".Consumer";case jP:return(e._context.displayName||"Context")+".Provider";case jx:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vx:return n=e.displayName||null,n!==null?n:KE(e.type)||"Memo";case hu:n=e._payload,e=e._init;try{return KE(e(n))}catch{}}return null}function hZ(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KE(n);case 8:return n===$x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Mu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KP(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pZ(e){var n=KP(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ng(e){e._valueTracker||(e._valueTracker=pZ(e))}function QP(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=KP(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function Jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function QE(e,n){var t=n.checked;return Ar({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:e._wrapperState.initialChecked})}function o5(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=Mu(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function YP(e,n){n=n.checked,n!=null&&zx(e,"checked",n,!1)}function YE(e,n){YP(e,n);var t=Mu(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?XE(e,n.type,t):n.hasOwnProperty("defaultValue")&&XE(e,n.type,Mu(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function l5(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function XE(e,n,t){(n!=="number"||Jg(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var wf=Array.isArray;function dh(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Mu(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function JE(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error($e(91));return Ar({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u5(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error($e(92));if(wf(t)){if(1<t.length)throw Error($e(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:Mu(t)}}function XP(e,n){var t=Mu(n.value),r=Mu(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function c5(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function JP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZE(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?JP(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tg,ZP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(tg=tg||document.createElement("div"),tg.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=tg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Qf(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var If={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fZ=["Webkit","ms","Moz","O"];Object.keys(If).forEach(function(e){fZ.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),If[n]=If[e]})});function e8(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||If.hasOwnProperty(e)&&If[e]?(""+n).trim():n+"px"}function n8(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=e8(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var mZ=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e2(e,n){if(n){if(mZ[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error($e(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error($e(61))}if(n.style!=null&&typeof n.style!="object")throw Error($e(62))}}function n2(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t2=null;function Wx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r2=null,hh=null,ph=null;function d5(e){if(e=S0(e)){if(typeof r2!="function")throw Error($e(280));var n=e.stateNode;n&&(n=Kv(n),r2(e.stateNode,e.type,n))}}function t8(e){hh?ph?ph.push(e):ph=[e]:hh=e}function r8(){if(hh){var e=hh,n=ph;if(ph=hh=null,d5(e),n)for(e=0;e<n.length;e++)d5(n[e])}}function i8(e,n){return e(n)}function a8(){}var $1=!1;function s8(e,n,t){if($1)return e(n,t);$1=!0;try{return i8(e,n,t)}finally{$1=!1,(hh!==null||ph!==null)&&(a8(),r8())}}function Yf(e,n){var t=e.stateNode;if(t===null)return null;var r=Kv(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error($e(231,n,typeof t));return t}var i2=!1;if(kl)try{var af={};Object.defineProperty(af,"passive",{get:function(){i2=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{i2=!1}function gZ(e,n,t,r,i,o,u,c,h){var f=Array.prototype.slice.call(arguments,3);try{n.apply(t,f)}catch(v){this.onError(v)}}var Of=!1,Zg=null,ev=!1,a2=null,vZ={onError:function(e){Of=!0,Zg=e}};function _Z(e,n,t,r,i,o,u,c,h){Of=!1,Zg=null,gZ.apply(vZ,arguments)}function bZ(e,n,t,r,i,o,u,c,h){if(_Z.apply(this,arguments),Of){if(Of){var f=Zg;Of=!1,Zg=null}else throw Error($e(198));ev||(ev=!0,a2=f)}}function nd(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function o8(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h5(e){if(nd(e)!==e)throw Error($e(188))}function yZ(e){var n=e.alternate;if(!n){if(n=nd(e),n===null)throw Error($e(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return h5(i),e;if(o===r)return h5(i),n;o=o.sibling}throw Error($e(188))}if(t.return!==r.return)t=i,r=o;else{for(var u=!1,c=i.child;c;){if(c===t){u=!0,t=i,r=o;break}if(c===r){u=!0,r=i,t=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===t){u=!0,t=o,r=i;break}if(c===r){u=!0,r=o,t=i;break}c=c.sibling}if(!u)throw Error($e(189))}}if(t.alternate!==r)throw Error($e(190))}if(t.tag!==3)throw Error($e(188));return t.stateNode.current===t?e:n}function l8(e){return e=yZ(e),e!==null?u8(e):null}function u8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=u8(e);if(n!==null)return n;e=e.sibling}return null}var c8=cs.unstable_scheduleCallback,p5=cs.unstable_cancelCallback,EZ=cs.unstable_shouldYield,wZ=cs.unstable_requestPaint,Vr=cs.unstable_now,xZ=cs.unstable_getCurrentPriorityLevel,Kx=cs.unstable_ImmediatePriority,d8=cs.unstable_UserBlockingPriority,nv=cs.unstable_NormalPriority,kZ=cs.unstable_LowPriority,h8=cs.unstable_IdlePriority,$v=null,Lo=null;function CZ(e){if(Lo&&typeof Lo.onCommitFiberRoot=="function")try{Lo.onCommitFiberRoot($v,e,void 0,(e.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:TZ,SZ=Math.log,NZ=Math.LN2;function TZ(e){return e>>>=0,e===0?32:31-(SZ(e)/NZ|0)|0}var rg=64,ig=4194304;function xf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=t&268435455;if(u!==0){var c=u&~i;c!==0?r=xf(c):(o&=u,o!==0&&(r=xf(o)))}else u=t&~i,u!==0?r=xf(u):o!==0&&(r=xf(o));if(r===0)return 0;if(n!==0&&n!==r&&(n&i)===0&&(i=r&-r,o=n&-n,i>=o||i===16&&(o&4194240)!==0))return n;if((r&4)!==0&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-oo(n),i=1<<t,r|=e[t],n&=~i;return r}function IZ(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OZ(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-oo(o),c=1<<u,h=i[u];h===-1?((c&t)===0||(c&r)!==0)&&(i[u]=IZ(c,n)):h<=n&&(e.expiredLanes|=c),o&=~c}}function s2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p8(){var e=rg;return rg<<=1,(rg&4194240)===0&&(rg=64),e}function j1(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function k0(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-oo(n),e[n]=t}function AZ(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var i=31-oo(t),o=1<<i;n[i]=0,r[i]=-1,e[i]=-1,t&=~o}}function Qx(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-oo(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}var Yt=0;function f8(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var m8,Yx,g8,v8,_8,o2=!1,ag=[],wu=null,xu=null,ku=null,Xf=new Map,Jf=new Map,fu=[],RZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f5(e,n){switch(e){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":xu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":Xf.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jf.delete(n.pointerId)}}function sf(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},n!==null&&(n=S0(n),n!==null&&Yx(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function MZ(e,n,t,r,i){switch(n){case"focusin":return wu=sf(wu,e,n,t,r,i),!0;case"dragenter":return xu=sf(xu,e,n,t,r,i),!0;case"mouseover":return ku=sf(ku,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return Xf.set(o,sf(Xf.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jf.set(o,sf(Jf.get(o)||null,e,n,t,r,i)),!0}return!1}function b8(e){var n=Oc(e.target);if(n!==null){var t=nd(n);if(t!==null){if(n=t.tag,n===13){if(n=o8(t),n!==null){e.blockedOn=n,_8(e.priority,function(){g8(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ag(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=l2(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);t2=r,t.target.dispatchEvent(r),t2=null}else return n=S0(t),n!==null&&Yx(n),e.blockedOn=t,!1;n.shift()}return!0}function m5(e,n,t){Ag(e)&&t.delete(n)}function DZ(){o2=!1,wu!==null&&Ag(wu)&&(wu=null),xu!==null&&Ag(xu)&&(xu=null),ku!==null&&Ag(ku)&&(ku=null),Xf.forEach(m5),Jf.forEach(m5)}function of(e,n){e.blockedOn===n&&(e.blockedOn=null,o2||(o2=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,DZ)))}function Zf(e){function n(i){return of(i,e)}if(0<ag.length){of(ag[0],e);for(var t=1;t<ag.length;t++){var r=ag[t];r.blockedOn===e&&(r.blockedOn=null)}}for(wu!==null&&of(wu,e),xu!==null&&of(xu,e),ku!==null&&of(ku,e),Xf.forEach(n),Jf.forEach(n),t=0;t<fu.length;t++)r=fu[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<fu.length&&(t=fu[0],t.blockedOn===null);)b8(t),t.blockedOn===null&&fu.shift()}var fh=Tl.ReactCurrentBatchConfig,rv=!0;function UZ(e,n,t,r){var i=Yt,o=fh.transition;fh.transition=null;try{Yt=1,Xx(e,n,t,r)}finally{Yt=i,fh.transition=o}}function LZ(e,n,t,r){var i=Yt,o=fh.transition;fh.transition=null;try{Yt=4,Xx(e,n,t,r)}finally{Yt=i,fh.transition=o}}function Xx(e,n,t,r){if(rv){var i=l2(e,n,t,r);if(i===null)nE(e,n,r,iv,t),f5(e,r);else if(MZ(i,e,n,t,r))r.stopPropagation();else if(f5(e,r),n&4&&-1<RZ.indexOf(e)){for(;i!==null;){var o=S0(i);if(o!==null&&m8(o),o=l2(e,n,t,r),o===null&&nE(e,n,r,iv,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else nE(e,n,r,null,t)}}var iv=null;function l2(e,n,t,r){if(iv=null,e=Wx(r),e=Oc(e),e!==null)if(n=nd(e),n===null)e=null;else if(t=n.tag,t===13){if(e=o8(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return iv=e,null}function y8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xZ()){case Kx:return 1;case d8:return 4;case nv:case kZ:return 16;case h8:return 536870912;default:return 16}default:return 16}}var gu=null,Jx=null,Rg=null;function E8(){if(Rg)return Rg;var e,n=Jx,t=n.length,r,i="value"in gu?gu.value:gu.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var u=t-e;for(r=1;r<=u&&n[t-r]===i[o-r];r++);return Rg=i.slice(e,1<r?1-r:void 0)}function Mg(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sg(){return!0}function g5(){return!1}function ms(e){function n(t,r,i,o,u){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(t=e[c],this[c]=t?t(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sg:g5,this.isPropagationStopped=g5,this}return Ar(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sg)},persist:function(){},isPersistent:sg}),n}var Hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zx=ms(Hh),C0=Ar({},Hh,{view:0,detail:0}),PZ=ms(C0),V1,W1,lf,jv=Ar({},C0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lf&&(lf&&e.type==="mousemove"?(V1=e.screenX-lf.screenX,W1=e.screenY-lf.screenY):W1=V1=0,lf=e),V1)},movementY:function(e){return"movementY"in e?e.movementY:W1}}),v5=ms(jv),FZ=Ar({},jv,{dataTransfer:0}),HZ=ms(FZ),qZ=Ar({},C0,{relatedTarget:0}),K1=ms(qZ),BZ=Ar({},Hh,{animationName:0,elapsedTime:0,pseudoElement:0}),GZ=ms(BZ),zZ=Ar({},Hh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$Z=ms(zZ),jZ=Ar({},Hh,{data:0}),_5=ms(jZ),VZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QZ(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=KZ[e])?!!n[e]:!1}function e3(){return QZ}var YZ=Ar({},C0,{key:function(e){if(e.key){var n=VZ[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e3,charCode:function(e){return e.type==="keypress"?Mg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XZ=ms(YZ),JZ=Ar({},jv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b5=ms(JZ),ZZ=Ar({},C0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e3}),eee=ms(ZZ),nee=Ar({},Hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),tee=ms(nee),ree=Ar({},jv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iee=ms(ree),aee=[9,13,27,32],n3=kl&&"CompositionEvent"in window,Af=null;kl&&"documentMode"in document&&(Af=document.documentMode);var see=kl&&"TextEvent"in window&&!Af,w8=kl&&(!n3||Af&&8<Af&&11>=Af),y5=String.fromCharCode(32),E5=!1;function x8(e,n){switch(e){case"keyup":return aee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jd=!1;function oee(e,n){switch(e){case"compositionend":return k8(n);case"keypress":return n.which!==32?null:(E5=!0,y5);case"textInput":return e=n.data,e===y5&&E5?null:e;default:return null}}function lee(e,n){if(Jd)return e==="compositionend"||!n3&&x8(e,n)?(e=E8(),Rg=Jx=gu=null,Jd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return w8&&n.locale!=="ko"?null:n.data;default:return null}}var uee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w5(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uee[e.type]:n==="textarea"}function C8(e,n,t,r){t8(r),n=av(n,"onChange"),0<n.length&&(t=new Zx("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Rf=null,e0=null;function cee(e){L8(e,0)}function Vv(e){var n=nh(e);if(QP(n))return e}function dee(e,n){if(e==="change")return n}var S8=!1;if(kl){var Q1;if(kl){var Y1="oninput"in document;if(!Y1){var x5=document.createElement("div");x5.setAttribute("oninput","return;"),Y1=typeof x5.oninput=="function"}Q1=Y1}else Q1=!1;S8=Q1&&(!document.documentMode||9<document.documentMode)}function k5(){Rf&&(Rf.detachEvent("onpropertychange",N8),e0=Rf=null)}function N8(e){if(e.propertyName==="value"&&Vv(e0)){var n=[];C8(n,e0,e,Wx(e)),s8(cee,n)}}function hee(e,n,t){e==="focusin"?(k5(),Rf=n,e0=t,Rf.attachEvent("onpropertychange",N8)):e==="focusout"&&k5()}function pee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vv(e0)}function fee(e,n){if(e==="click")return Vv(n)}function mee(e,n){if(e==="input"||e==="change")return Vv(n)}function gee(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var co=typeof Object.is=="function"?Object.is:gee;function n0(e,n){if(co(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!$E.call(n,i)||!co(e[i],n[i]))return!1}return!0}function C5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S5(e,n){var t=C5(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=C5(t)}}function T8(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?T8(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function I8(){for(var e=window,n=Jg();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=Jg(e.document)}return n}function t3(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vee(e){var n=I8(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&T8(t.ownerDocument.documentElement,t)){if(r!==null&&t3(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=S5(t,o);var u=S5(t,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(u.node,u.offset)):(n.setEnd(u.node,u.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _ee=kl&&"documentMode"in document&&11>=document.documentMode,Zd=null,u2=null,Mf=null,c2=!1;function N5(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;c2||Zd==null||Zd!==Jg(r)||(r=Zd,"selectionStart"in r&&t3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mf&&n0(Mf,r)||(Mf=r,r=av(u2,"onSelect"),0<r.length&&(n=new Zx("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Zd)))}function og(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var eh={animationend:og("Animation","AnimationEnd"),animationiteration:og("Animation","AnimationIteration"),animationstart:og("Animation","AnimationStart"),transitionend:og("Transition","TransitionEnd")},X1={},O8={};kl&&(O8=document.createElement("div").style,"AnimationEvent"in window||(delete eh.animationend.animation,delete eh.animationiteration.animation,delete eh.animationstart.animation),"TransitionEvent"in window||delete eh.transitionend.transition);function Wv(e){if(X1[e])return X1[e];if(!eh[e])return e;var n=eh[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in O8)return X1[e]=n[t];return e}var A8=Wv("animationend"),R8=Wv("animationiteration"),M8=Wv("animationstart"),D8=Wv("transitionend"),U8=new Map,T5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bu(e,n){U8.set(e,n),ed(n,[e])}for(var J1=0;J1<T5.length;J1++){var Z1=T5[J1],bee=Z1.toLowerCase(),yee=Z1[0].toUpperCase()+Z1.slice(1);Bu(bee,"on"+yee)}Bu(A8,"onAnimationEnd");Bu(R8,"onAnimationIteration");Bu(M8,"onAnimationStart");Bu("dblclick","onDoubleClick");Bu("focusin","onFocus");Bu("focusout","onBlur");Bu(D8,"onTransitionEnd");bh("onMouseEnter",["mouseout","mouseover"]);bh("onMouseLeave",["mouseout","mouseover"]);bh("onPointerEnter",["pointerout","pointerover"]);bh("onPointerLeave",["pointerout","pointerover"]);ed("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ed("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ed("onBeforeInput",["compositionend","keypress","textInput","paste"]);ed("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eee=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function I5(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,bZ(r,n,void 0,e),e.currentTarget=null}function L8(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var u=r.length-1;0<=u;u--){var c=r[u],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&i.isPropagationStopped())break e;I5(i,c,f),o=h}else for(u=0;u<r.length;u++){if(c=r[u],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&i.isPropagationStopped())break e;I5(i,c,f),o=h}}}if(ev)throw e=a2,ev=!1,a2=null,e}function br(e,n){var t=n[m2];t===void 0&&(t=n[m2]=new Set);var r=e+"__bubble";t.has(r)||(P8(n,e,2,!1),t.add(r))}function eE(e,n,t){var r=0;n&&(r|=4),P8(t,e,r,n)}var lg="_reactListening"+Math.random().toString(36).slice(2);function t0(e){if(!e[lg]){e[lg]=!0,$P.forEach(function(t){t!=="selectionchange"&&(Eee.has(t)||eE(t,!1,e),eE(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lg]||(n[lg]=!0,eE("selectionchange",!1,n))}}function P8(e,n,t,r){switch(y8(n)){case 1:var i=UZ;break;case 4:i=LZ;break;default:i=Xx}t=i.bind(null,n,t,e),i=void 0,!i2||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function nE(e,n,t,r,i){var o=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;c!==null;){if(u=Oc(c),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}c=c.parentNode}}r=r.return}s8(function(){var f=o,v=Wx(t),_=[];e:{var y=U8.get(e);if(y!==void 0){var E=Zx,k=e;switch(e){case"keypress":if(Mg(t)===0)break e;case"keydown":case"keyup":E=XZ;break;case"focusin":k="focus",E=K1;break;case"focusout":k="blur",E=K1;break;case"beforeblur":case"afterblur":E=K1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=v5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=HZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=eee;break;case A8:case R8:case M8:E=GZ;break;case D8:E=tee;break;case"scroll":E=PZ;break;case"wheel":E=iee;break;case"copy":case"cut":case"paste":E=$Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=b5}var S=(n&4)!==0,D=!S&&e==="scroll",N=S?y!==null?y+"Capture":null:y;S=[];for(var C=f,A;C!==null;){A=C;var q=A.stateNode;if(A.tag===5&&q!==null&&(A=q,N!==null&&(q=Yf(C,N),q!=null&&S.push(r0(C,q,A)))),D)break;C=C.return}0<S.length&&(y=new E(y,k,null,t,v),_.push({event:y,listeners:S}))}}if((n&7)===0){e:{if(y=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",y&&t!==t2&&(k=t.relatedTarget||t.fromElement)&&(Oc(k)||k[Cl]))break e;if((E||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,E?(k=t.relatedTarget||t.toElement,E=f,k=k?Oc(k):null,k!==null&&(D=nd(k),k!==D||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=f),E!==k)){if(S=v5,q="onMouseLeave",N="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(S=b5,q="onPointerLeave",N="onPointerEnter",C="pointer"),D=E==null?y:nh(E),A=k==null?y:nh(k),y=new S(q,C+"leave",E,t,v),y.target=D,y.relatedTarget=A,q=null,Oc(v)===f&&(S=new S(N,C+"enter",k,t,v),S.target=A,S.relatedTarget=D,q=S),D=q,E&&k)n:{for(S=E,N=k,C=0,A=S;A;A=zd(A))C++;for(A=0,q=N;q;q=zd(q))A++;for(;0<C-A;)S=zd(S),C--;for(;0<A-C;)N=zd(N),A--;for(;C--;){if(S===N||N!==null&&S===N.alternate)break n;S=zd(S),N=zd(N)}S=null}else S=null;E!==null&&O5(_,y,E,S,!1),k!==null&&D!==null&&O5(_,D,k,S,!0)}}e:{if(y=f?nh(f):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var K=dee;else if(w5(y))if(S8)K=mee;else{K=pee;var z=hee}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(K=fee);if(K&&(K=K(e,f))){C8(_,K,t,v);break e}z&&z(e,y,f),e==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&XE(y,"number",y.value)}switch(z=f?nh(f):window,e){case"focusin":(w5(z)||z.contentEditable==="true")&&(Zd=z,u2=f,Mf=null);break;case"focusout":Mf=u2=Zd=null;break;case"mousedown":c2=!0;break;case"contextmenu":case"mouseup":case"dragend":c2=!1,N5(_,t,v);break;case"selectionchange":if(_ee)break;case"keydown":case"keyup":N5(_,t,v)}var V;if(n3)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Jd?x8(e,t)&&(W="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(W="onCompositionStart");W&&(w8&&t.locale!=="ko"&&(Jd||W!=="onCompositionStart"?W==="onCompositionEnd"&&Jd&&(V=E8()):(gu=v,Jx="value"in gu?gu.value:gu.textContent,Jd=!0)),z=av(f,W),0<z.length&&(W=new _5(W,e,null,t,v),_.push({event:W,listeners:z}),V?W.data=V:(V=k8(t),V!==null&&(W.data=V)))),(V=see?oee(e,t):lee(e,t))&&(f=av(f,"onBeforeInput"),0<f.length&&(v=new _5("onBeforeInput","beforeinput",null,t,v),_.push({event:v,listeners:f}),v.data=V))}L8(_,n)})}function r0(e,n,t){return{instance:e,listener:n,currentTarget:t}}function av(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yf(e,t),o!=null&&r.unshift(r0(e,o,i)),o=Yf(e,n),o!=null&&r.push(r0(e,o,i))),e=e.return}return r}function zd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O5(e,n,t,r,i){for(var o=n._reactName,u=[];t!==null&&t!==r;){var c=t,h=c.alternate,f=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&f!==null&&(c=f,i?(h=Yf(t,o),h!=null&&u.unshift(r0(t,h,c))):i||(h=Yf(t,o),h!=null&&u.push(r0(t,h,c)))),t=t.return}u.length!==0&&e.push({event:n,listeners:u})}var wee=/\r\n?/g,xee=/\u0000|\uFFFD/g;function A5(e){return(typeof e=="string"?e:""+e).replace(wee,`
`).replace(xee,"")}function ug(e,n,t){if(n=A5(n),A5(e)!==n&&t)throw Error($e(425))}function sv(){}var d2=null,h2=null;function p2(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var f2=typeof setTimeout=="function"?setTimeout:void 0,kee=typeof clearTimeout=="function"?clearTimeout:void 0,R5=typeof Promise=="function"?Promise:void 0,Cee=typeof queueMicrotask=="function"?queueMicrotask:typeof R5<"u"?function(e){return R5.resolve(null).then(e).catch(See)}:f2;function See(e){setTimeout(function(){throw e})}function tE(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){e.removeChild(i),Zf(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Zf(n)}function Cu(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function M5(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var qh=Math.random().toString(36).slice(2),Mo="__reactFiber$"+qh,i0="__reactProps$"+qh,Cl="__reactContainer$"+qh,m2="__reactEvents$"+qh,Nee="__reactListeners$"+qh,Tee="__reactHandles$"+qh;function Oc(e){var n=e[Mo];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Cl]||t[Mo]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=M5(e);e!==null;){if(t=e[Mo])return t;e=M5(e)}return n}e=t,t=e.parentNode}return null}function S0(e){return e=e[Mo]||e[Cl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Kv(e){return e[i0]||null}var g2=[],th=-1;function Gu(e){return{current:e}}function yr(e){0>th||(e.current=g2[th],g2[th]=null,th--)}function fr(e,n){th++,g2[th]=e.current,e.current=n}var Du={},ia=Gu(Du),za=Gu(!1),jc=Du;function yh(e,n){var t=e.type.contextTypes;if(!t)return Du;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function $a(e){return e=e.childContextTypes,e!=null}function ov(){yr(za),yr(ia)}function D5(e,n,t){if(ia.current!==Du)throw Error($e(168));fr(ia,n),fr(za,t)}function F8(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error($e(108,hZ(e)||"Unknown",i));return Ar({},t,r)}function lv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Du,jc=ia.current,fr(ia,e),fr(za,za.current),!0}function U5(e,n,t){var r=e.stateNode;if(!r)throw Error($e(169));t?(e=F8(e,n,jc),r.__reactInternalMemoizedMergedChildContext=e,yr(za),yr(ia),fr(ia,e)):yr(za),fr(za,t)}var ll=null,Qv=!1,rE=!1;function H8(e){ll===null?ll=[e]:ll.push(e)}function Iee(e){Qv=!0,H8(e)}function zu(){if(!rE&&ll!==null){rE=!0;var e=0,n=Yt;try{var t=ll;for(Yt=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}ll=null,Qv=!1}catch(i){throw ll!==null&&(ll=ll.slice(e+1)),c8(Kx,zu),i}finally{Yt=n,rE=!1}}return null}var rh=[],ih=0,uv=null,cv=0,Ss=[],Ns=0,Vc=null,vl=1,_l="";function Ec(e,n){rh[ih++]=cv,rh[ih++]=uv,uv=e,cv=n}function q8(e,n,t){Ss[Ns++]=vl,Ss[Ns++]=_l,Ss[Ns++]=Vc,Vc=e;var r=vl;e=_l;var i=32-oo(r)-1;r&=~(1<<i),t+=1;var o=32-oo(n)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,vl=1<<32-oo(n)+i|t<<i|r,_l=o+e}else vl=1<<o|t<<i|r,_l=e}function r3(e){e.return!==null&&(Ec(e,1),q8(e,1,0))}function i3(e){for(;e===uv;)uv=rh[--ih],rh[ih]=null,cv=rh[--ih],rh[ih]=null;for(;e===Vc;)Vc=Ss[--Ns],Ss[Ns]=null,_l=Ss[--Ns],Ss[Ns]=null,vl=Ss[--Ns],Ss[Ns]=null}var us=null,ls=null,kr=!1,io=null;function B8(e,n){var t=Os(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function L5(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,us=e,ls=Cu(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,us=e,ls=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=Vc!==null?{id:vl,overflow:_l}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Os(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,us=e,ls=null,!0):!1;default:return!1}}function v2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _2(e){if(kr){var n=ls;if(n){var t=n;if(!L5(e,n)){if(v2(e))throw Error($e(418));n=Cu(t.nextSibling);var r=us;n&&L5(e,n)?B8(r,t):(e.flags=e.flags&-4097|2,kr=!1,us=e)}}else{if(v2(e))throw Error($e(418));e.flags=e.flags&-4097|2,kr=!1,us=e}}}function P5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;us=e}function cg(e){if(e!==us)return!1;if(!kr)return P5(e),kr=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!p2(e.type,e.memoizedProps)),n&&(n=ls)){if(v2(e))throw G8(),Error($e(418));for(;n;)B8(e,n),n=Cu(n.nextSibling)}if(P5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){ls=Cu(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}ls=null}}else ls=us?Cu(e.stateNode.nextSibling):null;return!0}function G8(){for(var e=ls;e;)e=Cu(e.nextSibling)}function Eh(){ls=us=null,kr=!1}function a3(e){io===null?io=[e]:io.push(e)}var Oee=Tl.ReactCurrentBatchConfig;function no(e,n){if(e&&e.defaultProps){n=Ar({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}var dv=Gu(null),hv=null,ah=null,s3=null;function o3(){s3=ah=hv=null}function l3(e){var n=dv.current;yr(dv),e._currentValue=n}function b2(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function mh(e,n){hv=e,s3=ah=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ba=!0),e.firstContext=null)}function Ps(e){var n=e._currentValue;if(s3!==e)if(e={context:e,memoizedValue:n,next:null},ah===null){if(hv===null)throw Error($e(308));ah=e,hv.dependencies={lanes:0,firstContext:e}}else ah=ah.next=e;return n}var Ac=null;function u3(e){Ac===null?Ac=[e]:Ac.push(e)}function z8(e,n,t,r){var i=n.interleaved;return i===null?(t.next=t,u3(n)):(t.next=i.next,i.next=t),n.interleaved=t,Sl(e,r)}function Sl(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var pu=!1;function c3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $8(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function El(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Su(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ot&2)!==0){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,Sl(e,t)}return i=r.interleaved,i===null?(n.next=n,u3(r)):(n.next=i.next,i.next=n),r.interleaved=n,Sl(e,t)}function Dg(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Qx(e,t)}}function F5(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var u={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=u:o=o.next=u,t=t.next}while(t!==null);o===null?i=o=n:o=o.next=n}else i=o=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function pv(e,n,t,r){var i=e.updateQueue;pu=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,f=h.next;h.next=null,u===null?o=f:u.next=f,u=h;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==u&&(c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=h))}if(o!==null){var _=i.baseState;u=0,v=f=h=null,c=o;do{var y=c.lane,E=c.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=e,S=c;switch(y=n,E=t,S.tag){case 1:if(k=S.payload,typeof k=="function"){_=k.call(E,_,y);break e}_=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=S.payload,y=typeof k=="function"?k.call(E,_,y):k,y==null)break e;_=Ar({},_,y);break e;case 2:pu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else E={eventTime:E,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(f=v=E,h=_):v=v.next=E,u|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(v===null&&(h=_),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=v,n=i.shared.interleaved,n!==null){i=n;do u|=i.lane,i=i.next;while(i!==n)}else o===null&&(i.shared.lanes=0);Kc|=u,e.lanes=u,e.memoizedState=_}}function H5(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var j8=new zP.Component().refs;function y2(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:Ar({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Yv={isMounted:function(e){return(e=e._reactInternals)?nd(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ba(),i=Tu(e),o=El(r,i);o.payload=n,t!=null&&(o.callback=t),n=Su(e,o,i),n!==null&&(lo(n,e,i,r),Dg(n,e,i))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ba(),i=Tu(e),o=El(r,i);o.tag=1,o.payload=n,t!=null&&(o.callback=t),n=Su(e,o,i),n!==null&&(lo(n,e,i,r),Dg(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ba(),r=Tu(e),i=El(t,r);i.tag=2,n!=null&&(i.callback=n),n=Su(e,i,r),n!==null&&(lo(n,e,r,t),Dg(n,e,r))}};function q5(e,n,t,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):n.prototype&&n.prototype.isPureReactComponent?!n0(t,r)||!n0(i,o):!0}function V8(e,n,t){var r=!1,i=Du,o=n.contextType;return typeof o=="object"&&o!==null?o=Ps(o):(i=$a(n)?jc:ia.current,r=n.contextTypes,o=(r=r!=null)?yh(e,i):Du),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yv,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function B5(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Yv.enqueueReplaceState(n,n.state,null)}function E2(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=j8,c3(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=Ps(o):(o=$a(n)?jc:ia.current,i.context=yh(e,o)),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(y2(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Yv.enqueueReplaceState(i,i.state,null),pv(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uf(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($e(309));var r=t.stateNode}if(!r)throw Error($e(147,e));var i=r,o=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(u){var c=i.refs;c===j8&&(c=i.refs={}),u===null?delete c[o]:c[o]=u},n._stringRef=o,n)}if(typeof e!="string")throw Error($e(284));if(!t._owner)throw Error($e(290,e))}return e}function dg(e,n){throw e=Object.prototype.toString.call(n),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function G5(e){var n=e._init;return n(e._payload)}function W8(e){function n(N,C){if(e){var A=N.deletions;A===null?(N.deletions=[C],N.flags|=16):A.push(C)}}function t(N,C){if(!e)return null;for(;C!==null;)n(N,C),C=C.sibling;return null}function r(N,C){for(N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function i(N,C){return N=Iu(N,C),N.index=0,N.sibling=null,N}function o(N,C,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<C?(N.flags|=2,C):A):(N.flags|=2,C)):(N.flags|=1048576,C)}function u(N){return e&&N.alternate===null&&(N.flags|=2),N}function c(N,C,A,q){return C===null||C.tag!==6?(C=cE(A,N.mode,q),C.return=N,C):(C=i(C,A),C.return=N,C)}function h(N,C,A,q){var K=A.type;return K===Xd?v(N,C,A.props.children,q,A.key):C!==null&&(C.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===hu&&G5(K)===C.type)?(q=i(C,A.props),q.ref=uf(N,C,A),q.return=N,q):(q=qg(A.type,A.key,A.props,null,N.mode,q),q.ref=uf(N,C,A),q.return=N,q)}function f(N,C,A,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=dE(A,N.mode,q),C.return=N,C):(C=i(C,A.children||[]),C.return=N,C)}function v(N,C,A,q,K){return C===null||C.tag!==7?(C=Pc(A,N.mode,q,K),C.return=N,C):(C=i(C,A),C.return=N,C)}function _(N,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=cE(""+C,N.mode,A),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case eg:return A=qg(C.type,C.key,C.props,null,N.mode,A),A.ref=uf(N,null,C),A.return=N,A;case Yd:return C=dE(C,N.mode,A),C.return=N,C;case hu:var q=C._init;return _(N,q(C._payload),A)}if(wf(C)||rf(C))return C=Pc(C,N.mode,A,null),C.return=N,C;dg(N,C)}return null}function y(N,C,A,q){var K=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return K!==null?null:c(N,C,""+A,q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case eg:return A.key===K?h(N,C,A,q):null;case Yd:return A.key===K?f(N,C,A,q):null;case hu:return K=A._init,y(N,C,K(A._payload),q)}if(wf(A)||rf(A))return K!==null?null:v(N,C,A,q,null);dg(N,A)}return null}function E(N,C,A,q,K){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(A)||null,c(C,N,""+q,K);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case eg:return N=N.get(q.key===null?A:q.key)||null,h(C,N,q,K);case Yd:return N=N.get(q.key===null?A:q.key)||null,f(C,N,q,K);case hu:var z=q._init;return E(N,C,A,z(q._payload),K)}if(wf(q)||rf(q))return N=N.get(A)||null,v(C,N,q,K,null);dg(C,q)}return null}function k(N,C,A,q){for(var K=null,z=null,V=C,W=C=0,de=null;V!==null&&W<A.length;W++){V.index>W?(de=V,V=null):de=V.sibling;var le=y(N,V,A[W],q);if(le===null){V===null&&(V=de);break}e&&V&&le.alternate===null&&n(N,V),C=o(le,C,W),z===null?K=le:z.sibling=le,z=le,V=de}if(W===A.length)return t(N,V),kr&&Ec(N,W),K;if(V===null){for(;W<A.length;W++)V=_(N,A[W],q),V!==null&&(C=o(V,C,W),z===null?K=V:z.sibling=V,z=V);return kr&&Ec(N,W),K}for(V=r(N,V);W<A.length;W++)de=E(V,N,W,A[W],q),de!==null&&(e&&de.alternate!==null&&V.delete(de.key===null?W:de.key),C=o(de,C,W),z===null?K=de:z.sibling=de,z=de);return e&&V.forEach(function(Ie){return n(N,Ie)}),kr&&Ec(N,W),K}function S(N,C,A,q){var K=rf(A);if(typeof K!="function")throw Error($e(150));if(A=K.call(A),A==null)throw Error($e(151));for(var z=K=null,V=C,W=C=0,de=null,le=A.next();V!==null&&!le.done;W++,le=A.next()){V.index>W?(de=V,V=null):de=V.sibling;var Ie=y(N,V,le.value,q);if(Ie===null){V===null&&(V=de);break}e&&V&&Ie.alternate===null&&n(N,V),C=o(Ie,C,W),z===null?K=Ie:z.sibling=Ie,z=Ie,V=de}if(le.done)return t(N,V),kr&&Ec(N,W),K;if(V===null){for(;!le.done;W++,le=A.next())le=_(N,le.value,q),le!==null&&(C=o(le,C,W),z===null?K=le:z.sibling=le,z=le);return kr&&Ec(N,W),K}for(V=r(N,V);!le.done;W++,le=A.next())le=E(V,N,W,le.value,q),le!==null&&(e&&le.alternate!==null&&V.delete(le.key===null?W:le.key),C=o(le,C,W),z===null?K=le:z.sibling=le,z=le);return e&&V.forEach(function(ye){return n(N,ye)}),kr&&Ec(N,W),K}function D(N,C,A,q){if(typeof A=="object"&&A!==null&&A.type===Xd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case eg:e:{for(var K=A.key,z=C;z!==null;){if(z.key===K){if(K=A.type,K===Xd){if(z.tag===7){t(N,z.sibling),C=i(z,A.props.children),C.return=N,N=C;break e}}else if(z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===hu&&G5(K)===z.type){t(N,z.sibling),C=i(z,A.props),C.ref=uf(N,z,A),C.return=N,N=C;break e}t(N,z);break}else n(N,z);z=z.sibling}A.type===Xd?(C=Pc(A.props.children,N.mode,q,A.key),C.return=N,N=C):(q=qg(A.type,A.key,A.props,null,N.mode,q),q.ref=uf(N,C,A),q.return=N,N=q)}return u(N);case Yd:e:{for(z=A.key;C!==null;){if(C.key===z)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){t(N,C.sibling),C=i(C,A.children||[]),C.return=N,N=C;break e}else{t(N,C);break}else n(N,C);C=C.sibling}C=dE(A,N.mode,q),C.return=N,N=C}return u(N);case hu:return z=A._init,D(N,C,z(A._payload),q)}if(wf(A))return k(N,C,A,q);if(rf(A))return S(N,C,A,q);dg(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(t(N,C.sibling),C=i(C,A),C.return=N,N=C):(t(N,C),C=cE(A,N.mode,q),C.return=N,N=C),u(N)):t(N,C)}return D}var wh=W8(!0),K8=W8(!1),N0={},Po=Gu(N0),a0=Gu(N0),s0=Gu(N0);function Rc(e){if(e===N0)throw Error($e(174));return e}function d3(e,n){switch(fr(s0,n),fr(a0,e),fr(Po,N0),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ZE(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ZE(n,e)}yr(Po),fr(Po,n)}function xh(){yr(Po),yr(a0),yr(s0)}function Q8(e){Rc(s0.current);var n=Rc(Po.current),t=ZE(n,e.type);n!==t&&(fr(a0,e),fr(Po,t))}function h3(e){a0.current===e&&(yr(Po),yr(a0))}var Ir=Gu(0);function fv(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var iE=[];function p3(){for(var e=0;e<iE.length;e++)iE[e]._workInProgressVersionPrimary=null;iE.length=0}var Ug=Tl.ReactCurrentDispatcher,aE=Tl.ReactCurrentBatchConfig,Wc=0,Or=null,ti=null,hi=null,mv=!1,Df=!1,o0=0,Aee=0;function Wi(){throw Error($e(321))}function f3(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!co(e[t],n[t]))return!1;return!0}function m3(e,n,t,r,i,o){if(Wc=o,Or=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ug.current=e===null||e.memoizedState===null?Uee:Lee,e=t(r,i),Df){o=0;do{if(Df=!1,o0=0,25<=o)throw Error($e(301));o+=1,hi=ti=null,n.updateQueue=null,Ug.current=Pee,e=t(r,i)}while(Df)}if(Ug.current=gv,n=ti!==null&&ti.next!==null,Wc=0,hi=ti=Or=null,mv=!1,n)throw Error($e(300));return e}function g3(){var e=o0!==0;return o0=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Or.memoizedState=hi=e:hi=hi.next=e,hi}function Fs(){if(ti===null){var e=Or.alternate;e=e!==null?e.memoizedState:null}else e=ti.next;var n=hi===null?Or.memoizedState:hi.next;if(n!==null)hi=n,ti=e;else{if(e===null)throw Error($e(310));ti=e,e={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},hi===null?Or.memoizedState=hi=e:hi=hi.next=e}return hi}function l0(e,n){return typeof n=="function"?n(e):n}function sE(e){var n=Fs(),t=n.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=e;var r=ti,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=u=null,h=null,f=o;do{var v=f.lane;if((Wc&v)===v)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var _={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=_,u=r):h=h.next=_,Or.lanes|=v,Kc|=v}f=f.next}while(f!==null&&f!==o);h===null?u=r:h.next=c,co(r,n.memoizedState)||(Ba=!0),n.memoizedState=r,n.baseState=u,n.baseQueue=h,t.lastRenderedState=r}if(e=t.interleaved,e!==null){i=e;do o=i.lane,Or.lanes|=o,Kc|=o,i=i.next;while(i!==e)}else i===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function oE(e){var n=Fs(),t=n.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);co(o,n.memoizedState)||(Ba=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function Y8(){}function X8(e,n){var t=Or,r=Fs(),i=n(),o=!co(r.memoizedState,i);if(o&&(r.memoizedState=i,Ba=!0),r=r.queue,v3(e7.bind(null,t,r,e),[e]),r.getSnapshot!==n||o||hi!==null&&hi.memoizedState.tag&1){if(t.flags|=2048,u0(9,Z8.bind(null,t,r,i,n),void 0,null),gi===null)throw Error($e(349));(Wc&30)!==0||J8(t,n,i)}return i}function J8(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=Or.updateQueue,n===null?(n={lastEffect:null,stores:null},Or.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function Z8(e,n,t,r){n.value=t,n.getSnapshot=r,n7(n)&&t7(e)}function e7(e,n,t){return t(function(){n7(n)&&t7(e)})}function n7(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!co(e,t)}catch{return!0}}function t7(e){var n=Sl(e,1);n!==null&&lo(n,e,1,-1)}function z5(e){var n=Oo();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:e},n.queue=e,e=e.dispatch=Dee.bind(null,Or,e),[n.memoizedState,e]}function u0(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Or.updateQueue,n===null?(n={lastEffect:null,stores:null},Or.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function r7(){return Fs().memoizedState}function Lg(e,n,t,r){var i=Oo();Or.flags|=e,i.memoizedState=u0(1|n,t,void 0,r===void 0?null:r)}function Xv(e,n,t,r){var i=Fs();r=r===void 0?null:r;var o=void 0;if(ti!==null){var u=ti.memoizedState;if(o=u.destroy,r!==null&&f3(r,u.deps)){i.memoizedState=u0(n,t,o,r);return}}Or.flags|=e,i.memoizedState=u0(1|n,t,o,r)}function $5(e,n){return Lg(8390656,8,e,n)}function v3(e,n){return Xv(2048,8,e,n)}function i7(e,n){return Xv(4,2,e,n)}function a7(e,n){return Xv(4,4,e,n)}function s7(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function o7(e,n,t){return t=t!=null?t.concat([e]):null,Xv(4,4,s7.bind(null,n,e),t)}function _3(){}function l7(e,n){var t=Fs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&f3(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function u7(e,n){var t=Fs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&f3(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function c7(e,n,t){return(Wc&21)===0?(e.baseState&&(e.baseState=!1,Ba=!0),e.memoizedState=t):(co(t,n)||(t=p8(),Or.lanes|=t,Kc|=t,e.baseState=!0),n)}function Ree(e,n){var t=Yt;Yt=t!==0&&4>t?t:4,e(!0);var r=aE.transition;aE.transition={};try{e(!1),n()}finally{Yt=t,aE.transition=r}}function d7(){return Fs().memoizedState}function Mee(e,n,t){var r=Tu(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},h7(e))p7(n,t);else if(t=z8(e,n,t,r),t!==null){var i=ba();lo(t,e,r,i),f7(t,n,r)}}function Dee(e,n,t){var r=Tu(e),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(h7(e))p7(n,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var u=n.lastRenderedState,c=o(u,t);if(i.hasEagerState=!0,i.eagerState=c,co(c,u)){var h=n.interleaved;h===null?(i.next=i,u3(n)):(i.next=h.next,h.next=i),n.interleaved=i;return}}catch{}finally{}t=z8(e,n,i,r),t!==null&&(i=ba(),lo(t,e,r,i),f7(t,n,r))}}function h7(e){var n=e.alternate;return e===Or||n!==null&&n===Or}function p7(e,n){Df=mv=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function f7(e,n,t){if((t&4194240)!==0){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Qx(e,t)}}var gv={readContext:Ps,useCallback:Wi,useContext:Wi,useEffect:Wi,useImperativeHandle:Wi,useInsertionEffect:Wi,useLayoutEffect:Wi,useMemo:Wi,useReducer:Wi,useRef:Wi,useState:Wi,useDebugValue:Wi,useDeferredValue:Wi,useTransition:Wi,useMutableSource:Wi,useSyncExternalStore:Wi,useId:Wi,unstable_isNewReconciler:!1},Uee={readContext:Ps,useCallback:function(e,n){return Oo().memoizedState=[e,n===void 0?null:n],e},useContext:Ps,useEffect:$5,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Lg(4194308,4,s7.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Lg(4194308,4,e,n)},useInsertionEffect:function(e,n){return Lg(4,2,e,n)},useMemo:function(e,n){var t=Oo();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Oo();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Mee.bind(null,Or,e),[r.memoizedState,e]},useRef:function(e){var n=Oo();return e={current:e},n.memoizedState=e},useState:z5,useDebugValue:_3,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=z5(!1),n=e[0];return e=Ree.bind(null,e[1]),Oo().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=Or,i=Oo();if(kr){if(t===void 0)throw Error($e(407));t=t()}else{if(t=n(),gi===null)throw Error($e(349));(Wc&30)!==0||J8(r,n,t)}i.memoizedState=t;var o={value:t,getSnapshot:n};return i.queue=o,$5(e7.bind(null,r,o,e),[e]),r.flags|=2048,u0(9,Z8.bind(null,r,o,t,n),void 0,null),t},useId:function(){var e=Oo(),n=gi.identifierPrefix;if(kr){var t=_l,r=vl;t=(r&~(1<<32-oo(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=o0++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Aee++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Lee={readContext:Ps,useCallback:l7,useContext:Ps,useEffect:v3,useImperativeHandle:o7,useInsertionEffect:i7,useLayoutEffect:a7,useMemo:u7,useReducer:sE,useRef:r7,useState:function(){return sE(l0)},useDebugValue:_3,useDeferredValue:function(e){var n=Fs();return c7(n,ti.memoizedState,e)},useTransition:function(){var e=sE(l0)[0],n=Fs().memoizedState;return[e,n]},useMutableSource:Y8,useSyncExternalStore:X8,useId:d7,unstable_isNewReconciler:!1},Pee={readContext:Ps,useCallback:l7,useContext:Ps,useEffect:v3,useImperativeHandle:o7,useInsertionEffect:i7,useLayoutEffect:a7,useMemo:u7,useReducer:oE,useRef:r7,useState:function(){return oE(l0)},useDebugValue:_3,useDeferredValue:function(e){var n=Fs();return ti===null?n.memoizedState=e:c7(n,ti.memoizedState,e)},useTransition:function(){var e=oE(l0)[0],n=Fs().memoizedState;return[e,n]},useMutableSource:Y8,useSyncExternalStore:X8,useId:d7,unstable_isNewReconciler:!1};function kh(e,n){try{var t="",r=n;do t+=dZ(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:n,stack:i,digest:null}}function lE(e,n,t){return{value:e,source:null,stack:t!=null?t:null,digest:n!=null?n:null}}function w2(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Fee=typeof WeakMap=="function"?WeakMap:Map;function m7(e,n,t){t=El(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){_v||(_v=!0,R2=r),w2(e,n)},t}function g7(e,n,t){t=El(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r(i)},t.callback=function(){w2(e,n)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){w2(e,n),typeof r!="function"&&(Nu===null?Nu=new Set([this]):Nu.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})}),t}function j5(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new Fee;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(i.add(t),e=Jee.bind(null,e,n,t),n.then(e,e))}function V5(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function W5(e,n,t,r,i){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=El(-1,1),n.tag=2,Su(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Hee=Tl.ReactCurrentOwner,Ba=!1;function ma(e,n,t,r){n.child=e===null?K8(n,null,t,r):wh(n,e.child,t,r)}function K5(e,n,t,r,i){t=t.render;var o=n.ref;return mh(n,i),r=m3(e,n,t,r,o,i),t=g3(),e!==null&&!Ba?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Nl(e,n,i)):(kr&&t&&r3(n),n.flags|=1,ma(e,n,r,i),n.child)}function Q5(e,n,t,r,i){if(e===null){var o=t.type;return typeof o=="function"&&!S3(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=o,v7(e,n,o,r,i)):(e=qg(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,(e.lanes&i)===0){var u=o.memoizedProps;if(t=t.compare,t=t!==null?t:n0,t(u,r)&&e.ref===n.ref)return Nl(e,n,i)}return n.flags|=1,e=Iu(o,r),e.ref=n.ref,e.return=n,n.child=e}function v7(e,n,t,r,i){if(e!==null){var o=e.memoizedProps;if(n0(o,r)&&e.ref===n.ref)if(Ba=!1,n.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Ba=!0);else return n.lanes=e.lanes,Nl(e,n,i)}return x2(e,n,t,r,i)}function _7(e,n,t){var r=n.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(oh,ss),ss|=t;else{if((t&1073741824)===0)return e=o!==null?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,fr(oh,ss),ss|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,fr(oh,ss),ss|=r}else o!==null?(r=o.baseLanes|t,n.memoizedState=null):r=t,fr(oh,ss),ss|=r;return ma(e,n,i,t),n.child}function b7(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function x2(e,n,t,r,i){var o=$a(t)?jc:ia.current;return o=yh(n,o),mh(n,i),t=m3(e,n,t,r,o,i),r=g3(),e!==null&&!Ba?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Nl(e,n,i)):(kr&&r&&r3(n),n.flags|=1,ma(e,n,t,i),n.child)}function Y5(e,n,t,r,i){if($a(t)){var o=!0;lv(n)}else o=!1;if(mh(n,i),n.stateNode===null)Pg(e,n),V8(n,t,r),E2(n,t,r,i),r=!0;else if(e===null){var u=n.stateNode,c=n.memoizedProps;u.props=c;var h=u.context,f=t.contextType;typeof f=="object"&&f!==null?f=Ps(f):(f=$a(t)?jc:ia.current,f=yh(n,f));var v=t.getDerivedStateFromProps,_=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||h!==f)&&B5(n,u,r,f),pu=!1;var y=n.memoizedState;u.state=y,pv(n,r,u,i),h=n.memoizedState,c!==r||y!==h||za.current||pu?(typeof v=="function"&&(y2(n,t,v,r),h=n.memoizedState),(c=pu||q5(n,t,c,r,y,h,f))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=h),u.props=r,u.state=h,u.context=f,r=c):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,$8(e,n),c=n.memoizedProps,f=n.type===n.elementType?c:no(n.type,c),u.props=f,_=n.pendingProps,y=u.context,h=t.contextType,typeof h=="object"&&h!==null?h=Ps(h):(h=$a(t)?jc:ia.current,h=yh(n,h));var E=t.getDerivedStateFromProps;(v=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==_||y!==h)&&B5(n,u,r,h),pu=!1,y=n.memoizedState,u.state=y,pv(n,r,u,i);var k=n.memoizedState;c!==_||y!==k||za.current||pu?(typeof E=="function"&&(y2(n,t,E,r),k=n.memoizedState),(f=pu||q5(n,t,f,r,y,k,h)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,k,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,k,h)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=k),u.props=r,u.state=k,u.context=h,r=f):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(n.flags|=1024),r=!1)}return k2(e,n,t,r,o,i)}function k2(e,n,t,r,i,o){b7(e,n);var u=(n.flags&128)!==0;if(!r&&!u)return i&&U5(n,t,!1),Nl(e,n,o);r=n.stateNode,Hee.current=n;var c=u&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&u?(n.child=wh(n,e.child,null,o),n.child=wh(n,null,c,o)):ma(e,n,c,o),n.memoizedState=r.state,i&&U5(n,t,!0),n.child}function y7(e){var n=e.stateNode;n.pendingContext?D5(e,n.pendingContext,n.pendingContext!==n.context):n.context&&D5(e,n.context,!1),d3(e,n.containerInfo)}function X5(e,n,t,r,i){return Eh(),a3(i),n.flags|=256,ma(e,n,t,r),n.child}var C2={dehydrated:null,treeContext:null,retryLane:0};function S2(e){return{baseLanes:e,cachePool:null,transitions:null}}function E7(e,n,t){var r=n.pendingProps,i=Ir.current,o=!1,u=(n.flags&128)!==0,c;if((c=u)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fr(Ir,i&1),e===null)return _2(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(u=r.children,e=r.fallback,o?(r=n.mode,o=n.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=e_(u,r,0,null),e=Pc(e,r,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=S2(t),n.memoizedState=C2,e):b3(n,u));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return qee(e,n,u,r,c,i,t);if(o){o=r.fallback,u=n.mode,i=e.child,c=i.sibling;var h={mode:"hidden",children:r.children};return(u&1)===0&&n.child!==i?(r=n.child,r.childLanes=0,r.pendingProps=h,n.deletions=null):(r=Iu(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Iu(c,o):(o=Pc(o,u,t,null),o.flags|=2),o.return=n,r.return=n,r.sibling=o,n.child=r,r=o,o=n.child,u=e.child.memoizedState,u=u===null?S2(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~t,n.memoizedState=C2,r}return o=e.child,e=o.sibling,r=Iu(o,{mode:"visible",children:r.children}),(n.mode&1)===0&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function b3(e,n){return n=e_({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function hg(e,n,t,r){return r!==null&&a3(r),wh(n,e.child,null,t),e=b3(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function qee(e,n,t,r,i,o,u){if(t)return n.flags&256?(n.flags&=-257,r=lE(Error($e(422))),hg(e,n,u,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(o=r.fallback,i=n.mode,r=e_({mode:"visible",children:r.children},i,0,null),o=Pc(o,i,u,null),o.flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,(n.mode&1)!==0&&wh(n,e.child,null,u),n.child.memoizedState=S2(u),n.memoizedState=C2,o);if((n.mode&1)===0)return hg(e,n,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error($e(419)),r=lE(o,r,void 0),hg(e,n,u,r)}if(c=(u&e.childLanes)!==0,Ba||c){if(r=gi,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|u))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sl(e,i),lo(r,e,i,-1))}return C3(),r=lE(Error($e(421))),hg(e,n,u,r)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=Zee.bind(null,e),i._reactRetry=n,null):(e=o.treeContext,ls=Cu(i.nextSibling),us=n,kr=!0,io=null,e!==null&&(Ss[Ns++]=vl,Ss[Ns++]=_l,Ss[Ns++]=Vc,vl=e.id,_l=e.overflow,Vc=n),n=b3(n,r.children),n.flags|=4096,n)}function J5(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),b2(e.return,n,t)}function uE(e,n,t,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function w7(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(ma(e,n,r.children,t),r=Ir.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J5(e,t,n);else if(e.tag===19)J5(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fr(Ir,r),(n.mode&1)===0)n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&fv(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),uE(n,!1,i,t,o);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&fv(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}uE(n,!0,t,null,o);break;case"together":uE(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pg(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Nl(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Kc|=n.lanes,(t&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error($e(153));if(n.child!==null){for(e=n.child,t=Iu(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=Iu(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Bee(e,n,t){switch(n.tag){case 3:y7(n),Eh();break;case 5:Q8(n);break;case 1:$a(n.type)&&lv(n);break;case 4:d3(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,i=n.memoizedProps.value;fr(dv,r._currentValue),r._currentValue=i;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(fr(Ir,Ir.current&1),n.flags|=128,null):(t&n.child.childLanes)!==0?E7(e,n,t):(fr(Ir,Ir.current&1),e=Nl(e,n,t),e!==null?e.sibling:null);fr(Ir,Ir.current&1);break;case 19:if(r=(t&n.childLanes)!==0,(e.flags&128)!==0){if(r)return w7(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fr(Ir,Ir.current),r)break;return null;case 22:case 23:return n.lanes=0,_7(e,n,t)}return Nl(e,n,t)}var x7,N2,k7,C7;x7=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};N2=function(){};k7=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,Rc(Po.current);var o=null;switch(t){case"input":i=QE(e,i),r=QE(e,r),o=[];break;case"select":i=Ar({},i,{value:void 0}),r=Ar({},r,{value:void 0}),o=[];break;case"textarea":i=JE(e,i),r=JE(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sv)}e2(t,r);var u;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(u in c)c.hasOwnProperty(u)&&(t||(t={}),t[u]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Kf.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(u in c)!c.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(t||(t={}),t[u]="");for(u in h)h.hasOwnProperty(u)&&c[u]!==h[u]&&(t||(t={}),t[u]=h[u])}else t||(o||(o=[]),o.push(f,t)),t=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Kf.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&br("scroll",e),o||c===h||(o=[])):(o=o||[]).push(f,h))}t&&(o=o||[]).push("style",t);var f=o;(n.updateQueue=f)&&(n.flags|=4)}};C7=function(e,n,t,r){t!==r&&(n.flags|=4)};function cf(e,n){if(!kr)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ki(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Gee(e,n,t){var r=n.pendingProps;switch(i3(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(n),null;case 1:return $a(n.type)&&ov(),Ki(n),null;case 3:return r=n.stateNode,xh(),yr(za),yr(ia),p3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cg(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,io!==null&&(U2(io),io=null))),N2(e,n),Ki(n),null;case 5:h3(n);var i=Rc(s0.current);if(t=n.type,e!==null&&n.stateNode!=null)k7(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error($e(166));return Ki(n),null}if(e=Rc(Po.current),cg(n)){r=n.stateNode,t=n.type;var o=n.memoizedProps;switch(r[Mo]=n,r[i0]=o,e=(n.mode&1)!==0,t){case"dialog":br("cancel",r),br("close",r);break;case"iframe":case"object":case"embed":br("load",r);break;case"video":case"audio":for(i=0;i<kf.length;i++)br(kf[i],r);break;case"source":br("error",r);break;case"img":case"image":case"link":br("error",r),br("load",r);break;case"details":br("toggle",r);break;case"input":o5(r,o),br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},br("invalid",r);break;case"textarea":u5(r,o),br("invalid",r)}e2(t,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var c=o[u];u==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&ug(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&ug(r.textContent,c,e),i=["children",""+c]):Kf.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&br("scroll",r)}switch(t){case"input":ng(r),l5(r,o,!0);break;case"textarea":ng(r),c5(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sv)}r=i,n.updateQueue=r,r!==null&&(n.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JP(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(t,{is:r.is}):(e=u.createElement(t),t==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,t),e[Mo]=n,e[i0]=r,x7(e,n,!1,!1),n.stateNode=e;e:{switch(u=n2(t,r),t){case"dialog":br("cancel",e),br("close",e),i=r;break;case"iframe":case"object":case"embed":br("load",e),i=r;break;case"video":case"audio":for(i=0;i<kf.length;i++)br(kf[i],e);i=r;break;case"source":br("error",e),i=r;break;case"img":case"image":case"link":br("error",e),br("load",e),i=r;break;case"details":br("toggle",e),i=r;break;case"input":o5(e,r),i=QE(e,r),br("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ar({},r,{value:void 0}),br("invalid",e);break;case"textarea":u5(e,r),i=JE(e,r),br("invalid",e);break;default:i=r}e2(t,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?n8(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&ZP(e,h)):o==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&Qf(e,h):typeof h=="number"&&Qf(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kf.hasOwnProperty(o)?h!=null&&o==="onScroll"&&br("scroll",e):h!=null&&zx(e,o,h,u))}switch(t){case"input":ng(e),l5(e,r,!1);break;case"textarea":ng(e),c5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?dh(e,!!r.multiple,o,!1):r.defaultValue!=null&&dh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ki(n),null;case 6:if(e&&n.stateNode!=null)C7(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error($e(166));if(t=Rc(s0.current),Rc(Po.current),cg(n)){if(r=n.stateNode,t=n.memoizedProps,r[Mo]=n,(o=r.nodeValue!==t)&&(e=us,e!==null))switch(e.tag){case 3:ug(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ug(r.nodeValue,t,(e.mode&1)!==0)}o&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Mo]=n,n.stateNode=r}return Ki(n),null;case 13:if(yr(Ir),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kr&&ls!==null&&(n.mode&1)!==0&&(n.flags&128)===0)G8(),Eh(),n.flags|=98560,o=!1;else if(o=cg(n),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error($e(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($e(317));o[Mo]=n}else Eh(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ki(n),o=!1}else io!==null&&(U2(io),io=null),o=!0;if(!o)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ir.current&1)!==0?ii===0&&(ii=3):C3())),n.updateQueue!==null&&(n.flags|=4),Ki(n),null);case 4:return xh(),N2(e,n),e===null&&t0(n.stateNode.containerInfo),Ki(n),null;case 10:return l3(n.type._context),Ki(n),null;case 17:return $a(n.type)&&ov(),Ki(n),null;case 19:if(yr(Ir),o=n.memoizedState,o===null)return Ki(n),null;if(r=(n.flags&128)!==0,u=o.rendering,u===null)if(r)cf(o,!1);else{if(ii!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=fv(e),u!==null){for(n.flags|=128,cf(o,!1),r=u.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)o=t,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return fr(Ir,Ir.current&1|2),n.child}e=e.sibling}o.tail!==null&&Vr()>Ch&&(n.flags|=128,r=!0,cf(o,!1),n.lanes=4194304)}else{if(!r)if(e=fv(u),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),cf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!kr)return Ki(n),null}else 2*Vr()-o.renderingStartTime>Ch&&t!==1073741824&&(n.flags|=128,r=!0,cf(o,!1),n.lanes=4194304);o.isBackwards?(u.sibling=n.child,n.child=u):(t=o.last,t!==null?t.sibling=u:n.child=u,o.last=u)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=Vr(),n.sibling=null,t=Ir.current,fr(Ir,r?t&1|2:t&1),n):(Ki(n),null);case 22:case 23:return k3(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&(n.mode&1)!==0?(ss&1073741824)!==0&&(Ki(n),n.subtreeFlags&6&&(n.flags|=8192)):Ki(n),null;case 24:return null;case 25:return null}throw Error($e(156,n.tag))}function zee(e,n){switch(i3(n),n.tag){case 1:return $a(n.type)&&ov(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xh(),yr(za),yr(ia),p3(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return h3(n),null;case 13:if(yr(Ir),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error($e(340));Eh()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return yr(Ir),null;case 4:return xh(),null;case 10:return l3(n.type._context),null;case 22:case 23:return k3(),null;case 24:return null;default:return null}}var pg=!1,ta=!1,$ee=typeof WeakSet=="function"?WeakSet:Set,un=null;function sh(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Lr(e,n,r)}else t.current=null}function T2(e,n,t){try{t()}catch(r){Lr(e,n,r)}}var Z5=!1;function jee(e,n){if(d2=rv,e=I8(),t3(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var u=0,c=-1,h=-1,f=0,v=0,_=e,y=null;n:for(;;){for(var E;_!==t||i!==0&&_.nodeType!==3||(c=u+i),_!==o||r!==0&&_.nodeType!==3||(h=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(E=_.firstChild)!==null;)y=_,_=E;for(;;){if(_===e)break n;if(y===t&&++f===i&&(c=u),y===o&&++v===r&&(h=u),(E=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=E}t=c===-1||h===-1?null:{start:c,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(h2={focusedElem:e,selectionRange:t},rv=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){n=un;try{var k=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var S=k.memoizedProps,D=k.memoizedState,N=n.stateNode,C=N.getSnapshotBeforeUpdate(n.elementType===n.type?S:no(n.type,S),D);N.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var A=n.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(q){Lr(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}return k=Z5,Z5=!1,k}function Uf(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&T2(n,t,o)}i=i.next}while(i!==r)}}function Jv(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function I2(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function S7(e){var n=e.alternate;n!==null&&(e.alternate=null,S7(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Mo],delete n[i0],delete n[m2],delete n[Nee],delete n[Tee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N7(e){return e.tag===5||e.tag===3||e.tag===4}function eD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O2(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=sv));else if(r!==4&&(e=e.child,e!==null))for(O2(e,n,t),e=e.sibling;e!==null;)O2(e,n,t),e=e.sibling}function A2(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(A2(e,n,t),e=e.sibling;e!==null;)A2(e,n,t),e=e.sibling}var Ri=null,to=!1;function su(e,n,t){for(t=t.child;t!==null;)T7(e,n,t),t=t.sibling}function T7(e,n,t){if(Lo&&typeof Lo.onCommitFiberUnmount=="function")try{Lo.onCommitFiberUnmount($v,t)}catch{}switch(t.tag){case 5:ta||sh(t,n);case 6:var r=Ri,i=to;Ri=null,su(e,n,t),Ri=r,to=i,Ri!==null&&(to?(e=Ri,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Ri.removeChild(t.stateNode));break;case 18:Ri!==null&&(to?(e=Ri,t=t.stateNode,e.nodeType===8?tE(e.parentNode,t):e.nodeType===1&&tE(e,t),Zf(e)):tE(Ri,t.stateNode));break;case 4:r=Ri,i=to,Ri=t.stateNode.containerInfo,to=!0,su(e,n,t),Ri=r,to=i;break;case 0:case 11:case 14:case 15:if(!ta&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&T2(t,n,u),i=i.next}while(i!==r)}su(e,n,t);break;case 1:if(!ta&&(sh(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(c){Lr(t,n,c)}su(e,n,t);break;case 21:su(e,n,t);break;case 22:t.mode&1?(ta=(r=ta)||t.memoizedState!==null,su(e,n,t),ta=r):su(e,n,t);break;default:su(e,n,t)}}function nD(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new $ee),n.forEach(function(r){var i=ene.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Zs(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=e,u=n,c=u;e:for(;c!==null;){switch(c.tag){case 5:Ri=c.stateNode,to=!1;break e;case 3:Ri=c.stateNode.containerInfo,to=!0;break e;case 4:Ri=c.stateNode.containerInfo,to=!0;break e}c=c.return}if(Ri===null)throw Error($e(160));T7(o,u,i),Ri=null,to=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){Lr(i,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)I7(n,e),n=n.sibling}function I7(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zs(n,e),So(e),r&4){try{Uf(3,e,e.return),Jv(3,e)}catch(S){Lr(e,e.return,S)}try{Uf(5,e,e.return)}catch(S){Lr(e,e.return,S)}}break;case 1:Zs(n,e),So(e),r&512&&t!==null&&sh(t,t.return);break;case 5:if(Zs(n,e),So(e),r&512&&t!==null&&sh(t,t.return),e.flags&32){var i=e.stateNode;try{Qf(i,"")}catch(S){Lr(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=t!==null?t.memoizedProps:o,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&YP(i,o),n2(c,u);var f=n2(c,o);for(u=0;u<h.length;u+=2){var v=h[u],_=h[u+1];v==="style"?n8(i,_):v==="dangerouslySetInnerHTML"?ZP(i,_):v==="children"?Qf(i,_):zx(i,v,_,f)}switch(c){case"input":YE(i,o);break;case"textarea":XP(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?dh(i,!!o.multiple,E,!1):y!==!!o.multiple&&(o.defaultValue!=null?dh(i,!!o.multiple,o.defaultValue,!0):dh(i,!!o.multiple,o.multiple?[]:"",!1))}i[i0]=o}catch(S){Lr(e,e.return,S)}}break;case 6:if(Zs(n,e),So(e),r&4){if(e.stateNode===null)throw Error($e(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){Lr(e,e.return,S)}}break;case 3:if(Zs(n,e),So(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Zf(n.containerInfo)}catch(S){Lr(e,e.return,S)}break;case 4:Zs(n,e),So(e);break;case 13:Zs(n,e),So(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(w3=Vr())),r&4&&nD(e);break;case 22:if(v=t!==null&&t.memoizedState!==null,e.mode&1?(ta=(f=ta)||v,Zs(n,e),ta=f):Zs(n,e),So(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!v&&(e.mode&1)!==0)for(un=e,v=e.child;v!==null;){for(_=un=v;un!==null;){switch(y=un,E=y.child,y.tag){case 0:case 11:case 14:case 15:Uf(4,y,y.return);break;case 1:sh(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,t=y.return;try{n=r,k.props=n.memoizedProps,k.state=n.memoizedState,k.componentWillUnmount()}catch(S){Lr(r,t,S)}}break;case 5:sh(y,y.return);break;case 22:if(y.memoizedState!==null){rD(_);continue}}E!==null?(E.return=y,un=E):rD(_)}v=v.sibling}e:for(v=null,_=e;;){if(_.tag===5){if(v===null){v=_;try{i=_.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,h=_.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=e8("display",u))}catch(S){Lr(e,e.return,S)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(S){Lr(e,e.return,S)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Zs(n,e),So(e),r&4&&nD(e);break;case 21:break;default:Zs(n,e),So(e)}}function So(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(N7(t)){var r=t;break e}t=t.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qf(i,""),r.flags&=-33);var o=eD(e);A2(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,c=eD(e);O2(e,c,u);break;default:throw Error($e(161))}}catch(h){Lr(e,e.return,h)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vee(e,n,t){un=e,O7(e)}function O7(e,n,t){for(var r=(e.mode&1)!==0;un!==null;){var i=un,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||pg;if(!u){var c=i.alternate,h=c!==null&&c.memoizedState!==null||ta;c=pg;var f=ta;if(pg=u,(ta=h)&&!f)for(un=i;un!==null;)u=un,h=u.child,u.tag===22&&u.memoizedState!==null?iD(i):h!==null?(h.return=u,un=h):iD(i);for(;o!==null;)un=o,O7(o),o=o.sibling;un=i,pg=c,ta=f}tD(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,un=o):tD(e)}}function tD(e){for(;un!==null;){var n=un;if((n.flags&8772)!==0){var t=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ta||Jv(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!ta)if(t===null)r.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:no(n.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&H5(n,o,r);break;case 3:var u=n.updateQueue;if(u!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}H5(n,u,t)}break;case 5:var c=n.stateNode;if(t===null&&n.flags&4){t=c;var h=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&Zf(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}ta||n.flags&512&&I2(n)}catch(y){Lr(n,n.return,y)}}if(n===e){un=null;break}if(t=n.sibling,t!==null){t.return=n.return,un=t;break}un=n.return}}function rD(e){for(;un!==null;){var n=un;if(n===e){un=null;break}var t=n.sibling;if(t!==null){t.return=n.return,un=t;break}un=n.return}}function iD(e){for(;un!==null;){var n=un;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Jv(4,n)}catch(h){Lr(n,t,h)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var i=n.return;try{r.componentDidMount()}catch(h){Lr(n,i,h)}}var o=n.return;try{I2(n)}catch(h){Lr(n,o,h)}break;case 5:var u=n.return;try{I2(n)}catch(h){Lr(n,u,h)}}}catch(h){Lr(n,n.return,h)}if(n===e){un=null;break}var c=n.sibling;if(c!==null){c.return=n.return,un=c;break}un=n.return}}var Wee=Math.ceil,vv=Tl.ReactCurrentDispatcher,y3=Tl.ReactCurrentOwner,Ls=Tl.ReactCurrentBatchConfig,Ot=0,gi=null,Xr=null,Li=0,ss=0,oh=Gu(0),ii=0,c0=null,Kc=0,Zv=0,E3=0,Lf=null,Fa=null,w3=0,Ch=1/0,sl=null,_v=!1,R2=null,Nu=null,fg=!1,vu=null,bv=0,Pf=0,M2=null,Fg=-1,Hg=0;function ba(){return(Ot&6)!==0?Vr():Fg!==-1?Fg:Fg=Vr()}function Tu(e){return(e.mode&1)===0?1:(Ot&2)!==0&&Li!==0?Li&-Li:Oee.transition!==null?(Hg===0&&(Hg=p8()),Hg):(e=Yt,e!==0||(e=window.event,e=e===void 0?16:y8(e.type)),e)}function lo(e,n,t,r){if(50<Pf)throw Pf=0,M2=null,Error($e(185));k0(e,t,r),((Ot&2)===0||e!==gi)&&(e===gi&&((Ot&2)===0&&(Zv|=t),ii===4&&mu(e,Li)),ja(e,r),t===1&&Ot===0&&(n.mode&1)===0&&(Ch=Vr()+500,Qv&&zu()))}function ja(e,n){var t=e.callbackNode;OZ(e,n);var r=tv(e,e===gi?Li:0);if(r===0)t!==null&&p5(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&p5(t),n===1)e.tag===0?Iee(aD.bind(null,e)):H8(aD.bind(null,e)),Cee(function(){(Ot&6)===0&&zu()}),t=null;else{switch(f8(r)){case 1:t=Kx;break;case 4:t=d8;break;case 16:t=nv;break;case 536870912:t=h8;break;default:t=nv}t=F7(t,A7.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function A7(e,n){if(Fg=-1,Hg=0,(Ot&6)!==0)throw Error($e(327));var t=e.callbackNode;if(gh()&&e.callbackNode!==t)return null;var r=tv(e,e===gi?Li:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||n)n=yv(e,r);else{n=r;var i=Ot;Ot|=2;var o=M7();(gi!==e||Li!==n)&&(sl=null,Ch=Vr()+500,Lc(e,n));do try{Yee();break}catch(c){R7(e,c)}while(1);o3(),vv.current=o,Ot=i,Xr!==null?n=0:(gi=null,Li=0,n=ii)}if(n!==0){if(n===2&&(i=s2(e),i!==0&&(r=i,n=D2(e,i))),n===1)throw t=c0,Lc(e,0),mu(e,r),ja(e,Vr()),t;if(n===6)mu(e,r);else{if(i=e.current.alternate,(r&30)===0&&!Kee(i)&&(n=yv(e,r),n===2&&(o=s2(e),o!==0&&(r=o,n=D2(e,o))),n===1))throw t=c0,Lc(e,0),mu(e,r),ja(e,Vr()),t;switch(e.finishedWork=i,e.finishedLanes=r,n){case 0:case 1:throw Error($e(345));case 2:wc(e,Fa,sl);break;case 3:if(mu(e,r),(r&130023424)===r&&(n=w3+500-Vr(),10<n)){if(tv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ba(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=f2(wc.bind(null,e,Fa,sl),n);break}wc(e,Fa,sl);break;case 4:if(mu(e,r),(r&4194240)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-oo(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=Vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wee(r/1960))-r,10<r){e.timeoutHandle=f2(wc.bind(null,e,Fa,sl),r);break}wc(e,Fa,sl);break;case 5:wc(e,Fa,sl);break;default:throw Error($e(329))}}}return ja(e,Vr()),e.callbackNode===t?A7.bind(null,e):null}function D2(e,n){var t=Lf;return e.current.memoizedState.isDehydrated&&(Lc(e,n).flags|=256),e=yv(e,n),e!==2&&(n=Fa,Fa=t,n!==null&&U2(n)),e}function U2(e){Fa===null?Fa=e:Fa.push.apply(Fa,e)}function Kee(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!co(o(),i))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mu(e,n){for(n&=~E3,n&=~Zv,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-oo(n),r=1<<t;e[t]=-1,n&=~r}}function aD(e){if((Ot&6)!==0)throw Error($e(327));gh();var n=tv(e,0);if((n&1)===0)return ja(e,Vr()),null;var t=yv(e,n);if(e.tag!==0&&t===2){var r=s2(e);r!==0&&(n=r,t=D2(e,r))}if(t===1)throw t=c0,Lc(e,0),mu(e,n),ja(e,Vr()),t;if(t===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Fa,sl),ja(e,Vr()),null}function x3(e,n){var t=Ot;Ot|=1;try{return e(n)}finally{Ot=t,Ot===0&&(Ch=Vr()+500,Qv&&zu())}}function Qc(e){vu!==null&&vu.tag===0&&(Ot&6)===0&&gh();var n=Ot;Ot|=1;var t=Ls.transition,r=Yt;try{if(Ls.transition=null,Yt=1,e)return e()}finally{Yt=r,Ls.transition=t,Ot=n,(Ot&6)===0&&zu()}}function k3(){ss=oh.current,yr(oh)}function Lc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,kee(t)),Xr!==null)for(t=Xr.return;t!==null;){var r=t;switch(i3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ov();break;case 3:xh(),yr(za),yr(ia),p3();break;case 5:h3(r);break;case 4:xh();break;case 13:yr(Ir);break;case 19:yr(Ir);break;case 10:l3(r.type._context);break;case 22:case 23:k3()}t=t.return}if(gi=e,Xr=e=Iu(e.current,null),Li=ss=n,ii=0,c0=null,E3=Zv=Kc=0,Fa=Lf=null,Ac!==null){for(n=0;n<Ac.length;n++)if(t=Ac[n],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}t.pending=r}Ac=null}return e}function R7(e,n){do{var t=Xr;try{if(o3(),Ug.current=gv,mv){for(var r=Or.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mv=!1}if(Wc=0,hi=ti=Or=null,Df=!1,o0=0,y3.current=null,t===null||t.return===null){ii=1,c0=n,Xr=null;break}e:{var o=e,u=t.return,c=t,h=n;if(n=Li,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,v=c,_=v.tag;if((v.mode&1)===0&&(_===0||_===11||_===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=V5(u);if(E!==null){E.flags&=-257,W5(E,u,c,o,n),E.mode&1&&j5(o,f,n),n=E,h=f;var k=n.updateQueue;if(k===null){var S=new Set;S.add(h),n.updateQueue=S}else k.add(h);break e}else{if((n&1)===0){j5(o,f,n),C3();break e}h=Error($e(426))}}else if(kr&&c.mode&1){var D=V5(u);if(D!==null){(D.flags&65536)===0&&(D.flags|=256),W5(D,u,c,o,n),a3(kh(h,c));break e}}o=h=kh(h,c),ii!==4&&(ii=2),Lf===null?Lf=[o]:Lf.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var N=m7(o,h,n);F5(o,N);break e;case 1:c=h;var C=o.type,A=o.stateNode;if((o.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Nu===null||!Nu.has(A)))){o.flags|=65536,n&=-n,o.lanes|=n;var q=g7(o,c,n);F5(o,q);break e}}o=o.return}while(o!==null)}U7(t)}catch(K){n=K,Xr===t&&t!==null&&(Xr=t=t.return);continue}break}while(1)}function M7(){var e=vv.current;return vv.current=gv,e===null?gv:e}function C3(){(ii===0||ii===3||ii===2)&&(ii=4),gi===null||(Kc&268435455)===0&&(Zv&268435455)===0||mu(gi,Li)}function yv(e,n){var t=Ot;Ot|=2;var r=M7();(gi!==e||Li!==n)&&(sl=null,Lc(e,n));do try{Qee();break}catch(i){R7(e,i)}while(1);if(o3(),Ot=t,vv.current=r,Xr!==null)throw Error($e(261));return gi=null,Li=0,ii}function Qee(){for(;Xr!==null;)D7(Xr)}function Yee(){for(;Xr!==null&&!EZ();)D7(Xr)}function D7(e){var n=P7(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?U7(e):Xr=n,y3.current=null}function U7(e){var n=e;do{var t=n.alternate;if(e=n.return,(n.flags&32768)===0){if(t=Gee(t,n,ss),t!==null){Xr=t;return}}else{if(t=zee(t,n),t!==null){t.flags&=32767,Xr=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Xr=null;return}}if(n=n.sibling,n!==null){Xr=n;return}Xr=n=e}while(n!==null);ii===0&&(ii=5)}function wc(e,n,t){var r=Yt,i=Ls.transition;try{Ls.transition=null,Yt=1,Xee(e,n,t,r)}finally{Ls.transition=i,Yt=r}return null}function Xee(e,n,t,r){do gh();while(vu!==null);if((Ot&6)!==0)throw Error($e(327));t=e.finishedWork;var i=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var o=t.lanes|t.childLanes;if(AZ(e,o),e===gi&&(Xr=gi=null,Li=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||fg||(fg=!0,F7(nv,function(){return gh(),null})),o=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||o){o=Ls.transition,Ls.transition=null;var u=Yt;Yt=1;var c=Ot;Ot|=4,y3.current=null,jee(e,t),I7(t,e),vee(h2),rv=!!d2,h2=d2=null,e.current=t,Vee(t),wZ(),Ot=c,Yt=u,Ls.transition=o}else e.current=t;if(fg&&(fg=!1,vu=e,bv=i),o=e.pendingLanes,o===0&&(Nu=null),CZ(t.stateNode),ja(e,Vr()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)i=n[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_v)throw _v=!1,e=R2,R2=null,e;return(bv&1)!==0&&e.tag!==0&&gh(),o=e.pendingLanes,(o&1)!==0?e===M2?Pf++:(Pf=0,M2=e):Pf=0,zu(),null}function gh(){if(vu!==null){var e=f8(bv),n=Ls.transition,t=Yt;try{if(Ls.transition=null,Yt=16>e?16:e,vu===null)var r=!1;else{if(e=vu,vu=null,bv=0,(Ot&6)!==0)throw Error($e(331));var i=Ot;for(Ot|=4,un=e.current;un!==null;){var o=un,u=o.child;if((un.flags&16)!==0){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(un=f;un!==null;){var v=un;switch(v.tag){case 0:case 11:case 15:Uf(8,v,o)}var _=v.child;if(_!==null)_.return=v,un=_;else for(;un!==null;){v=un;var y=v.sibling,E=v.return;if(S7(v),v===f){un=null;break}if(y!==null){y.return=E,un=y;break}un=E}}}var k=o.alternate;if(k!==null){var S=k.child;if(S!==null){k.child=null;do{var D=S.sibling;S.sibling=null,S=D}while(S!==null)}}un=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,un=u;else e:for(;un!==null;){if(o=un,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Uf(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,un=N;break e}un=o.return}}var C=e.current;for(un=C;un!==null;){u=un;var A=u.child;if((u.subtreeFlags&2064)!==0&&A!==null)A.return=u,un=A;else e:for(u=C;un!==null;){if(c=un,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:Jv(9,c)}}catch(K){Lr(c,c.return,K)}if(c===u){un=null;break e}var q=c.sibling;if(q!==null){q.return=c.return,un=q;break e}un=c.return}}if(Ot=i,zu(),Lo&&typeof Lo.onPostCommitFiberRoot=="function")try{Lo.onPostCommitFiberRoot($v,e)}catch{}r=!0}return r}finally{Yt=t,Ls.transition=n}}return!1}function sD(e,n,t){n=kh(t,n),n=m7(e,n,1),e=Su(e,n,1),n=ba(),e!==null&&(k0(e,1,n),ja(e,n))}function Lr(e,n,t){if(e.tag===3)sD(e,e,t);else for(;n!==null;){if(n.tag===3){sD(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nu===null||!Nu.has(r))){e=kh(t,e),e=g7(n,e,1),n=Su(n,e,1),e=ba(),n!==null&&(k0(n,1,e),ja(n,e));break}}n=n.return}}function Jee(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=ba(),e.pingedLanes|=e.suspendedLanes&t,gi===e&&(Li&t)===t&&(ii===4||ii===3&&(Li&130023424)===Li&&500>Vr()-w3?Lc(e,0):E3|=t),ja(e,n)}function L7(e,n){n===0&&((e.mode&1)===0?n=1:(n=ig,ig<<=1,(ig&130023424)===0&&(ig=4194304)));var t=ba();e=Sl(e,n),e!==null&&(k0(e,n,t),ja(e,t))}function Zee(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),L7(e,t)}function ene(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(n),L7(e,t)}var P7;P7=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||za.current)Ba=!0;else{if((e.lanes&t)===0&&(n.flags&128)===0)return Ba=!1,Bee(e,n,t);Ba=(e.flags&131072)!==0}else Ba=!1,kr&&(n.flags&1048576)!==0&&q8(n,cv,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Pg(e,n),e=n.pendingProps;var i=yh(n,ia.current);mh(n,t),i=m3(null,n,r,e,i,t);var o=g3();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$a(r)?(o=!0,lv(n)):o=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c3(n),i.updater=Yv,n.stateNode=i,i._reactInternals=n,E2(n,r,e,t),n=k2(null,n,r,!0,o,t)):(n.tag=0,kr&&o&&r3(n),ma(null,n,i,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Pg(e,n),e=n.pendingProps,i=r._init,r=i(r._payload),n.type=r,i=n.tag=tne(r),e=no(r,e),i){case 0:n=x2(null,n,r,e,t);break e;case 1:n=Y5(null,n,r,e,t);break e;case 11:n=K5(null,n,r,e,t);break e;case 14:n=Q5(null,n,r,no(r.type,e),t);break e}throw Error($e(306,r,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:no(r,i),x2(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:no(r,i),Y5(e,n,r,i,t);case 3:e:{if(y7(n),e===null)throw Error($e(387));r=n.pendingProps,o=n.memoizedState,i=o.element,$8(e,n),pv(n,r,null,t);var u=n.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){i=kh(Error($e(423)),n),n=X5(e,n,r,t,i);break e}else if(r!==i){i=kh(Error($e(424)),n),n=X5(e,n,r,t,i);break e}else for(ls=Cu(n.stateNode.containerInfo.firstChild),us=n,kr=!0,io=null,t=K8(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Eh(),r===i){n=Nl(e,n,t);break e}ma(e,n,r,t)}n=n.child}return n;case 5:return Q8(n),e===null&&_2(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,p2(r,i)?u=null:o!==null&&p2(r,o)&&(n.flags|=32),b7(e,n),ma(e,n,u,t),n.child;case 6:return e===null&&_2(n),null;case 13:return E7(e,n,t);case 4:return d3(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=wh(n,null,r,t):ma(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:no(r,i),K5(e,n,r,i,t);case 7:return ma(e,n,n.pendingProps,t),n.child;case 8:return ma(e,n,n.pendingProps.children,t),n.child;case 12:return ma(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,i=n.pendingProps,o=n.memoizedProps,u=i.value,fr(dv,r._currentValue),r._currentValue=u,o!==null)if(co(o.value,u)){if(o.children===i.children&&!za.current){n=Nl(e,n,t);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var c=o.dependencies;if(c!==null){u=o.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=El(-1,t&-t),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}}o.lanes|=t,h=o.alternate,h!==null&&(h.lanes|=t),b2(o.return,t,n),c.lanes|=t;break}h=h.next}}else if(o.tag===10)u=o.type===n.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error($e(341));u.lanes|=t,c=u.alternate,c!==null&&(c.lanes|=t),b2(u,t,n),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===n){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}ma(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=n.pendingProps.children,mh(n,t),i=Ps(i),r=r(i),n.flags|=1,ma(e,n,r,t),n.child;case 14:return r=n.type,i=no(r,n.pendingProps),i=no(r.type,i),Q5(e,n,r,i,t);case 15:return v7(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:no(r,i),Pg(e,n),n.tag=1,$a(r)?(e=!0,lv(n)):e=!1,mh(n,t),V8(n,r,i),E2(n,r,i,t),k2(null,n,r,!0,e,t);case 19:return w7(e,n,t);case 22:return _7(e,n,t)}throw Error($e(156,n.tag))};function F7(e,n){return c8(e,n)}function nne(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,n,t,r){return new nne(e,n,t,r)}function S3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tne(e){if(typeof e=="function")return S3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jx)return 11;if(e===Vx)return 14}return 2}function Iu(e,n){var t=e.alternate;return t===null?(t=Os(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function qg(e,n,t,r,i,o){var u=2;if(r=e,typeof e=="function")S3(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Xd:return Pc(t.children,i,o,n);case $x:u=8,i|=8;break;case jE:return e=Os(12,t,n,i|2),e.elementType=jE,e.lanes=o,e;case VE:return e=Os(13,t,n,i),e.elementType=VE,e.lanes=o,e;case WE:return e=Os(19,t,n,i),e.elementType=WE,e.lanes=o,e;case WP:return e_(t,i,o,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jP:u=10;break e;case VP:u=9;break e;case jx:u=11;break e;case Vx:u=14;break e;case hu:u=16,r=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return n=Os(u,t,n,i),n.elementType=e,n.type=r,n.lanes=o,n}function Pc(e,n,t,r){return e=Os(7,e,r,n),e.lanes=t,e}function e_(e,n,t,r){return e=Os(22,e,r,n),e.elementType=WP,e.lanes=t,e.stateNode={isHidden:!1},e}function cE(e,n,t){return e=Os(6,e,null,n),e.lanes=t,e}function dE(e,n,t){return n=Os(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function rne(e,n,t,r,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j1(0),this.expirationTimes=j1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N3(e,n,t,r,i,o,u,c,h){return e=new rne(e,n,t,c,h),n===1?(n=1,o===!0&&(n|=8)):n=0,o=Os(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},c3(o),e}function ine(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yd,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function H7(e){if(!e)return Du;e=e._reactInternals;e:{if(nd(e)!==e||e.tag!==1)throw Error($e(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($a(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error($e(171))}if(e.tag===1){var t=e.type;if($a(t))return F8(e,t,n)}return n}function q7(e,n,t,r,i,o,u,c,h){return e=N3(t,r,!0,e,i,o,u,c,h),e.context=H7(null),t=e.current,r=ba(),i=Tu(t),o=El(r,i),o.callback=n!=null?n:null,Su(t,o,i),e.current.lanes=i,k0(e,i,r),ja(e,r),e}function n_(e,n,t,r){var i=n.current,o=ba(),u=Tu(i);return t=H7(t),n.context===null?n.context=t:n.pendingContext=t,n=El(o,u),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=Su(i,n,u),e!==null&&(lo(e,i,u,o),Dg(e,i,u)),u}function Ev(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oD(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function T3(e,n){oD(e,n),(e=e.alternate)&&oD(e,n)}function ane(){return null}var B7=typeof reportError=="function"?reportError:function(e){console.error(e)};function I3(e){this._internalRoot=e}t_.prototype.render=I3.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error($e(409));n_(e,n,null,null)};t_.prototype.unmount=I3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qc(function(){n_(null,e,null,null)}),n[Cl]=null}};function t_(e){this._internalRoot=e}t_.prototype.unstable_scheduleHydration=function(e){if(e){var n=v8();e={blockedOn:null,target:e,priority:n};for(var t=0;t<fu.length&&n!==0&&n<fu[t].priority;t++);fu.splice(t,0,e),t===0&&b8(e)}};function O3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function r_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lD(){}function sne(e,n,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Ev(u);o.call(f)}}var u=q7(n,r,e,0,null,!1,!1,"",lD);return e._reactRootContainer=u,e[Cl]=u.current,t0(e.nodeType===8?e.parentNode:e),Qc(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=Ev(h);c.call(f)}}var h=N3(e,0,!1,null,null,!1,!1,"",lD);return e._reactRootContainer=h,e[Cl]=h.current,t0(e.nodeType===8?e.parentNode:e),Qc(function(){n_(n,h,t,r)}),h}function i_(e,n,t,r,i){var o=t._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var c=i;i=function(){var h=Ev(u);c.call(h)}}n_(n,u,e,i)}else u=sne(t,n,e,i,r);return Ev(u)}m8=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=xf(n.pendingLanes);t!==0&&(Qx(n,t|1),ja(n,Vr()),(Ot&6)===0&&(Ch=Vr()+500,zu()))}break;case 13:Qc(function(){var r=Sl(e,1);if(r!==null){var i=ba();lo(r,e,1,i)}}),T3(e,1)}};Yx=function(e){if(e.tag===13){var n=Sl(e,134217728);if(n!==null){var t=ba();lo(n,e,134217728,t)}T3(e,134217728)}};g8=function(e){if(e.tag===13){var n=Tu(e),t=Sl(e,n);if(t!==null){var r=ba();lo(t,e,n,r)}T3(e,n)}};v8=function(){return Yt};_8=function(e,n){var t=Yt;try{return Yt=e,n()}finally{Yt=t}};r2=function(e,n,t){switch(n){case"input":if(YE(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=Kv(r);if(!i)throw Error($e(90));QP(r),YE(r,i)}}}break;case"textarea":XP(e,t);break;case"select":n=t.value,n!=null&&dh(e,!!t.multiple,n,!1)}};i8=x3;a8=Qc;var one={usingClientEntryPoint:!1,Events:[S0,nh,Kv,t8,r8,x3]},df={findFiberByHostInstance:Oc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lne={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l8(e),e===null?null:e.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||ane,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{$v=mg.inject(lne),Lo=mg}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=one;fs.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O3(n))throw Error($e(200));return ine(e,n,null,t)};fs.createRoot=function(e,n){if(!O3(e))throw Error($e(299));var t=!1,r="",i=B7;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=N3(e,1,!1,null,null,t,!1,r,i),e[Cl]=n.current,t0(e.nodeType===8?e.parentNode:e),new I3(n)};fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=l8(n),e=e===null?null:e.stateNode,e};fs.flushSync=function(e){return Qc(e)};fs.hydrate=function(e,n,t){if(!r_(n))throw Error($e(200));return i_(null,e,n,!0,t)};fs.hydrateRoot=function(e,n,t){if(!O3(e))throw Error($e(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",u=B7;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),n=q7(n,null,e,1,t!=null?t:null,i,!1,o,u),e[Cl]=n.current,t0(e),r)for(e=0;e<r.length;e++)t=r[e],i=t._getVersion,i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new t_(n)};fs.render=function(e,n,t){if(!r_(n))throw Error($e(200));return i_(null,e,n,!1,t)};fs.unmountComponentAtNode=function(e){if(!r_(e))throw Error($e(40));return e._reactRootContainer?(Qc(function(){i_(null,null,e,!1,function(){e._reactRootContainer=null,e[Cl]=null})}),!0):!1};fs.unstable_batchedUpdates=x3;fs.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!r_(t))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return i_(e,n,t,!1,r)};fs.version="18.2.0-next-9e3b772b8-20220608";(function(e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}n(),e.exports=fs})(Fh);var uD=Fh.exports;zE.createRoot=uD.createRoot,zE.hydrateRoot=uD.hydrateRoot;function hE(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.addEventListener&&e.addEventListener.apply(e,n)}function pE(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.removeEventListener&&e.removeEventListener.apply(e,n)}var G7=typeof window<"u",cD=function(e){var n=window.history,t=n[e];n[e]=function(r){var i=t.apply(this,arguments),o=new Event(e.toLowerCase());return o.state=r,window.dispatchEvent(o),i}};G7&&(cD("pushState"),cD("replaceState"));var une=function(){return{trigger:"load",length:1}},gg=function(e){var n=window.history,t=n.state,r=n.length,i=window.location,o=i.hash,u=i.host,c=i.hostname,h=i.href,f=i.origin,v=i.pathname,_=i.port,y=i.protocol,E=i.search;return{trigger:e,state:t,length:r,hash:o,host:u,hostname:c,href:h,origin:f,pathname:v,port:_,protocol:y,search:E}},cne=function(){var e=U.exports.useState(gg("load")),n=e[0],t=e[1];return U.exports.useEffect(function(){var r=function(){return t(gg("popstate"))},i=function(){return t(gg("pushstate"))},o=function(){return t(gg("replacestate"))};return hE(window,"popstate",r),hE(window,"pushstate",i),hE(window,"replacestate",o),function(){pE(window,"popstate",r),pE(window,"pushstate",i),pE(window,"replacestate",o)}},[]),n},dne=typeof Event=="function";const hne=G7&&dne?cne:une;var A3={exports:{}},a_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pne=U.exports,fne=Symbol.for("react.element"),mne=Symbol.for("react.fragment"),gne=Object.prototype.hasOwnProperty,vne=pne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_ne={key:!0,ref:!0,__self:!0,__source:!0};function z7(e,n,t){var r,i={},o=null,u=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(u=n.ref);for(r in n)gne.call(n,r)&&!_ne.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:fne,type:e,key:o,ref:u,props:i,_owner:vne.current}}a_.Fragment=mne;a_.jsx=z7;a_.jsxs=z7;(function(e){e.exports=a_})(A3);const is=A3.exports.jsx,dD=A3.exports.jsxs;var Ou=function(){return Ou=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ou.apply(this,arguments)};function ya(e,n,t,r){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(v){try{f(r.next(v))}catch(_){u(_)}}function h(v){try{f(r.throw(v))}catch(_){u(_)}}function f(v){v.done?o(v.value):i(v.value).then(c,h)}f((r=r.apply(e,n||[])).next())})}function Ea(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(f){return function(v){return h([f,v])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=n.call(e,t)}catch(v){f=[6,v],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ga(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={exports:{}};(function(e,n){(function(t,r){r(n)})(fE,function(t){function r(a,s){var l,d=Object.keys(a);return Object.getOwnPropertySymbols&&(l=Object.getOwnPropertySymbols(a),s&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),d.push.apply(d,l)),d}function i(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?r(Object(l),!0).forEach(function(d){v(a,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(l,d))})}return a}function o(a,s,l,d,p,m,g){try{var b=a[m](g),w=b.value}catch(T){return void l(T)}b.done?s(w):Promise.resolve(w).then(d,p)}function u(a){return function(){var s=this,l=arguments;return new Promise(function(d,p){var m=a.apply(s,l);function g(w){o(m,d,p,g,b,"next",w)}function b(w){o(m,d,p,g,b,"throw",w)}g(void 0)})}}function c(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function h(a,s){for(var l=0;l<s.length;l++){var d=s[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,s,l){return s&&h(a.prototype,s),l&&h(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function v(a,s,l){s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l}function _(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&E(a,s)}function y(a){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(a)}function E(a,s){return(E=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l})(a,s)}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(a,s,l){return(S=k()?Reflect.construct:function(d,p,m){var g=[null];return g.push.apply(g,p),p=new(Function.bind.apply(d,g)),m&&E(p,m.prototype),p}).apply(null,arguments)}function D(a){var s=typeof Map=="function"?new Map:void 0;return function(l){if(l===null||Function.toString.call(l).indexOf("[native code]")===-1)return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(l))return s.get(l);s.set(l,d)}function d(){return S(l,arguments,y(this).constructor)}return d.prototype=Object.create(l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),E(d,l)}(a)}function N(a,s){if(a==null)return{};var l,d=function(g,b){if(g==null)return{};for(var w,T={},L=Object.keys(g),H=0;H<L.length;H++)w=L[H],0<=b.indexOf(w)||(T[w]=g[w]);return T}(a,s);if(Object.getOwnPropertySymbols)for(var p=Object.getOwnPropertySymbols(a),m=0;m<p.length;m++)l=p[m],0<=s.indexOf(l)||Object.prototype.propertyIsEnumerable.call(a,l)&&(d[l]=a[l]);return d}function C(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function A(a){var s=k();return function(){var l,d=y(a),d=(l=s?(l=y(this).constructor,Reflect.construct(d,arguments,l)):d.apply(this,arguments),this);if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(d)}}function q(a){return function(s){if(Array.isArray(s))return z(s)}(a)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(a)||K(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(a,s){if(a){if(typeof a=="string")return z(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return(l=l==="Object"&&a.constructor?a.constructor.name:l)==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?z(a,s):void 0}}function z(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,d=new Array(s);l<s;l++)d[l]=a[l];return d}function V(a,s){var l,d=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!d){if(Array.isArray(a)||(d=K(a))||s&&a&&typeof a.length=="number")return d&&(a=d),l=0,{s:s=function(){},n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(b){throw b},f:s};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m=!0,g=!1;return{s:function(){d=d.call(a)},n:function(){var b=d.next();return m=b.done,b},e:function(b){g=!0,p=b},f:function(){try{m||d.return==null||d.return()}finally{if(g)throw p}}}}var W,da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof fE<"u"?fE:typeof self<"u"?self:{},ot={exports:{}},ot=function(a){var s,l=Object.prototype,d=l.hasOwnProperty,Ee=typeof Symbol=="function"?Symbol:{},p=Ee.iterator||"@@iterator",m=Ee.asyncIterator||"@@asyncIterator",g=Ee.toStringTag||"@@toStringTag";function b(We,gn,Un){return Object.defineProperty(We,gn,{value:Un,enumerable:!0,configurable:!0,writable:!0}),We[gn]}try{b({},"")}catch{b=function(gn,Un,ht){return gn[Un]=ht}}function w(We,di,Un,ko){var Zn,qr,Nt,Ni,di=di&&di.prototype instanceof Te?di:Te,di=Object.create(di.prototype),ko=new Gd(ko||[]);return di._invoke=(Zn=We,qr=Un,Nt=ko,Ni=L,function(ts,rs){if(Ni===G)throw new Error("Generator is already running");if(Ni===ne){if(ts==="throw")throw rs;return rl()}for(Nt.method=ts,Nt.arg=rs;;){var Br=Nt.delegate;if(Br&&(Br=function Co(fa,ut){var Ti=fa.iterator[ut.method];if(Ti===s){if(ut.delegate=null,ut.method==="throw"){if(fa.iterator.return&&(ut.method="return",ut.arg=s,Co(fa,ut),ut.method==="throw"))return se;ut.method="throw",ut.arg=new TypeError("The iterator does not provide a 'throw' method")}return se}if(Ti=T(Ti,fa.iterator,ut.arg),Ti.type==="throw")return ut.method="throw",ut.arg=Ti.arg,ut.delegate=null,se;if(Ti=Ti.arg,!Ti)return ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,se;{if(!Ti.done)return Ti;ut[fa.resultName]=Ti.value,ut.next=fa.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=s)}return ut.delegate=null,se}(Br,Nt),Br)){if(Br===se)continue;return Br}if(Nt.method==="next")Nt.sent=Nt._sent=Nt.arg;else if(Nt.method==="throw"){if(Ni===L)throw Ni=ne,Nt.arg;Nt.dispatchException(Nt.arg)}else Nt.method==="return"&&Nt.abrupt("return",Nt.arg);if(Ni=G,Br=T(Zn,qr,Nt),Br.type==="normal"){if(Ni=Nt.done?ne:H,Br.arg!==se)return{value:Br.arg,done:Nt.done}}else Br.type==="throw"&&(Ni=ne,Nt.method="throw",Nt.arg=Br.arg)}}),di}function T(We,gn,Un){try{return{type:"normal",arg:We.call(gn,Un)}}catch(ht){return{type:"throw",arg:ht}}}a.wrap=w;var L="suspendedStart",H="suspendedYield",G="executing",ne="completed",se={};function Te(){}function Q(){}function ae(){}var Ee={},be=(b(Ee,p,function(){return this}),Object.getPrototypeOf),be=be&&be(be(ru([]))),Ve=(be&&be!==l&&d.call(be,p)&&(Ee=be),ae.prototype=Te.prototype=Object.create(Ee));function ci(We){["next","throw","return"].forEach(function(gn){b(We,gn,function(Un){return this._invoke(gn,Un)})})}function lt(We,gn){var Un;this._invoke=function(ht,Zn){function qr(){return new gn(function(Nt,Ni){(function di(fa,ts,rs,Br){var Co,fa=T(We[fa],We,ts);if(fa.type!=="throw")return(ts=(Co=fa.arg).value)&&typeof ts=="object"&&d.call(ts,"__await")?gn.resolve(ts.__await).then(function(ut){di("next",ut,rs,Br)},function(ut){di("throw",ut,rs,Br)}):gn.resolve(ts).then(function(ut){Co.value=ut,rs(Co)},function(ut){return di("throw",ut,rs,Br)});Br(fa.arg)})(ht,Zn,Nt,Ni)})}return Un=Un?Un.then(qr,qr):qr()}}function tu(We){var gn={tryLoc:We[0]};1 in We&&(gn.catchLoc=We[1]),2 in We&&(gn.finallyLoc=We[2],gn.afterLoc=We[3]),this.tryEntries.push(gn)}function Bd(We){var gn=We.completion||{};gn.type="normal",delete gn.arg,We.completion=gn}function Gd(We){this.tryEntries=[{tryLoc:"root"}],We.forEach(tu,this),this.reset(!0)}function ru(We){if(We){var gn,Un=We[p];if(Un)return Un.call(We);if(typeof We.next=="function")return We;if(!isNaN(We.length))return gn=-1,(Un=function ht(){for(;++gn<We.length;)if(d.call(We,gn))return ht.value=We[gn],ht.done=!1,ht;return ht.value=s,ht.done=!0,ht}).next=Un}return{next:rl}}function rl(){return{value:s,done:!0}}return b(Ve,"constructor",Q.prototype=ae),b(ae,"constructor",Q),Q.displayName=b(ae,g,"GeneratorFunction"),a.isGeneratorFunction=function(We){return We=typeof We=="function"&&We.constructor,!!We&&(We===Q||(We.displayName||We.name)==="GeneratorFunction")},a.mark=function(We){return Object.setPrototypeOf?Object.setPrototypeOf(We,ae):(We.__proto__=ae,b(We,g,"GeneratorFunction")),We.prototype=Object.create(Ve),We},a.awrap=function(We){return{__await:We}},ci(lt.prototype),b(lt.prototype,m,function(){return this}),a.AsyncIterator=lt,a.async=function(We,gn,Un,ht,Zn){Zn===void 0&&(Zn=Promise);var qr=new lt(w(We,gn,Un,ht),Zn);return a.isGeneratorFunction(gn)?qr:qr.next().then(function(Nt){return Nt.done?Nt.value:qr.next()})},ci(Ve),b(Ve,g,"Generator"),b(Ve,p,function(){return this}),b(Ve,"toString",function(){return"[object Generator]"}),a.keys=function(We){var gn,Un=[];for(gn in We)Un.push(gn);return Un.reverse(),function ht(){for(;Un.length;){var Zn=Un.pop();if(Zn in We)return ht.value=Zn,ht.done=!1,ht}return ht.done=!0,ht}},a.values=ru,Gd.prototype={constructor:Gd,reset:function(We){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Bd),!We)for(var gn in this)gn.charAt(0)==="t"&&d.call(this,gn)&&!isNaN(+gn.slice(1))&&(this[gn]=s)},stop:function(){this.done=!0;var We=this.tryEntries[0].completion;if(We.type==="throw")throw We.arg;return this.rval},dispatchException:function(We){if(this.done)throw We;var gn=this;function Un(di,ko){return qr.type="throw",qr.arg=We,gn.next=di,ko&&(gn.method="next",gn.arg=s),!!ko}for(var ht=this.tryEntries.length-1;0<=ht;--ht){var Zn=this.tryEntries[ht],qr=Zn.completion;if(Zn.tryLoc==="root")return Un("end");if(Zn.tryLoc<=this.prev){var Nt=d.call(Zn,"catchLoc"),Ni=d.call(Zn,"finallyLoc");if(Nt&&Ni){if(this.prev<Zn.catchLoc)return Un(Zn.catchLoc,!0);if(this.prev<Zn.finallyLoc)return Un(Zn.finallyLoc)}else if(Nt){if(this.prev<Zn.catchLoc)return Un(Zn.catchLoc,!0)}else{if(!Ni)throw new Error("try statement without catch or finally");if(this.prev<Zn.finallyLoc)return Un(Zn.finallyLoc)}}}},abrupt:function(We,gn){for(var Un=this.tryEntries.length-1;0<=Un;--Un){var ht=this.tryEntries[Un];if(ht.tryLoc<=this.prev&&d.call(ht,"finallyLoc")&&this.prev<ht.finallyLoc){var Zn=ht;break}}var qr=(Zn=Zn&&(We==="break"||We==="continue")&&Zn.tryLoc<=gn&&gn<=Zn.finallyLoc?null:Zn)?Zn.completion:{};return qr.type=We,qr.arg=gn,Zn?(this.method="next",this.next=Zn.finallyLoc,se):this.complete(qr)},complete:function(We,gn){if(We.type==="throw")throw We.arg;return We.type==="break"||We.type==="continue"?this.next=We.arg:We.type==="return"?(this.rval=this.arg=We.arg,this.method="return",this.next="end"):We.type==="normal"&&gn&&(this.next=gn),se},finish:function(We){for(var gn=this.tryEntries.length-1;0<=gn;--gn){var Un=this.tryEntries[gn];if(Un.finallyLoc===We)return this.complete(Un.completion,Un.afterLoc),Bd(Un),se}},catch:function(We){for(var gn=this.tryEntries.length-1;0<=gn;--gn){var Un,ht,Zn=this.tryEntries[gn];if(Zn.tryLoc===We)return(Un=Zn.completion).type==="throw"&&(ht=Un.arg,Bd(Zn)),ht}throw new Error("illegal catch attempt")},delegateYield:function(We,gn,Un){return this.delegate={iterator:ru(We),resultName:gn,nextLoc:Un},this.method==="next"&&(this.arg=s),se}},a}(ot.exports);try{regeneratorRuntime=ot}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ot:Function("r","regeneratorRuntime = r")(ot)}var de=new Uint8Array(16),le=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ie(a){return typeof a=="string"&&le.test(a)}for(var ye=[],te=0;te<256;++te)ye.push((te+256).toString(16).substr(1));function he(a,s){if(s=1<arguments.length&&s!==void 0?s:0,a=(ye[a[s+0]]+ye[a[s+1]]+ye[a[s+2]]+ye[a[s+3]]+"-"+ye[a[s+4]]+ye[a[s+5]]+"-"+ye[a[s+6]]+ye[a[s+7]]+"-"+ye[a[s+8]]+ye[a[s+9]]+"-"+ye[a[s+10]]+ye[a[s+11]]+ye[a[s+12]]+ye[a[s+13]]+ye[a[s+14]]+ye[a[s+15]]).toLowerCase(),Ie(a))return a;throw TypeError("Stringified UUID is invalid")}function ce(){try{}catch{}}function He(a,s,l){var d=(a=a||{}).random||(a.rng||function(){if(W=W||typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto))return W(de);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,s){l=l||0;for(var p=0;p<16;++p)s[l+p]=d[p];return s}return he(d)}ce(),ce();function Se(a){try{return!!a()}catch{return!0}}function ve(a){return dn(yn(a),8,-1)}function Oe(a){if(a==null)throw Ht("Can't call method on "+a);return a}function Be(a){return ei(Bi(a))}function ee(a){return a&&a.Math==Math&&a}function X(a,s){try{od(Kh,a,{value:s,configurable:!0,writable:!0})}catch{Kh[a]=s}return s}function me(a){return F0(Qh(a))}function Ye(a){return"Symbol("+(a===void 0?"":a)+")_"+oa(++Vu+Dl,36)}function Ne(a){return typeof a=="function"}function Ae(a,s){return arguments.length<2?(l=Ul[a],Yh(l)?l:void 0):Ul[a]&&Ul[a][s];var l}function _e(a){var s;return Jh(gs,a)&&(Ll||typeof gs[a]=="string")||(s="Symbol."+a,Ll&&Jh(vs,a)?gs[a]=vs[a]:gs[a]=(Wu&&ld?ld:Zh)(s)),gs[a]}function Le(a){return typeof a=="object"?a!==null:ep(a)}function ze(a){if(np(a))return a;throw rp(tp(a)+" is not an object")}function mn(a){return Ku?zo.createElement(a):{}}function Tn(a){try{return ud(a)}catch{return"Object"}}function xn(a){if(cd(a))return a;throw up(lp(a)+" is not a function")}function In(a,s){return(a=a[s])==null?void 0:H0(a)}function ln(a,s){if(!dp(a)||hd(a))return a;var l=B0(a,Me);if(l){if(l=cp(l,a,s=s===void 0?"default":s),!dp(l)||hd(l))return l;throw zn("Can't convert object to primitive value")}return Et(a,s=s===void 0?"number":s)}function Dn(a){return a=Ce(a,"string"),Nn(a)?a:a+""}function fn(a){return(a=+a)!=a||a==0?0:KH(a)}function kn(a,s){return(a=QH(a))<0?YH(a+s,0):XH(a,s)}function $(a){return 0<a?ZH(JH(a),9007199254740991):0}function R(a){return eq(a.length)}function M(a){return function(s,l,d){var p,m=nq(s),g=rq(m),b=tq(d,g);if(a&&l!=l){for(;b<g;)if((p=m[b++])!=p)return!0}else for(;b<g;b++)if((a||b in m)&&m[b]===l)return a||b||0;return!a&&-1}}function j(a,s){var l,d=iq(a),p=0,m=[];for(l in d)!N_(sq,l)&&N_(d,l)&&Ok(m,l);for(;s.length>p;)!N_(d,l=s[p++])||~aq(m,l)||Ok(m,l);return m}var ot=!Se(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),Xn=ot,ge=Function.prototype,at=ge.bind,re=ge.call,xe=Xn&&at.bind(re,re),ge=Xn?function(a){return a&&xe(a)}:function(a){return a&&function(){return re.apply(a,arguments)}},at=ge,yn=at({}.toString),dn=at("".slice),Xn=Se,nn=ve,Ge=Object,On=ge("".split),at=Xn(function(){return!Ge("z").propertyIsEnumerable(0)})?function(a){return nn(a)=="String"?On(a,""):Ge(a)}:Ge,Ht=TypeError,ei=at,Bi=Oe,Xn=ee(typeof globalThis=="object"&&globalThis)||ee(typeof window=="object"&&window)||ee(typeof self=="object"&&self)||ee(typeof da=="object"&&da)||function(){return this}()||Function("return this")(),da={exports:{}},Kh=Xn,od=Object.defineProperty,cn=X,ur="__core-js_shared__",cn=Xn[ur]||cn(ur,{}),ju=cn,Qh=((da.exports=function(a,s){return ju[a]||(ju[a]=s!==void 0?s:{})})("versions",[]).push({version:"3.23.4",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"}),Oe),F0=Object,Rl=me,Ml=ge({}.hasOwnProperty),ur=Object.hasOwn||function(a,s){return Ml(Rl(a),s)},Bs=ge,Vu=0,Dl=Math.random(),oa=Bs(1 .toString),Ul=Xn,Yh=Ne,Bs=Ae("navigator","userAgent")||"",tr=Bs,Sa=Xn.process,_t=Xn.Deno,Sa=Sa&&Sa.versions||_t&&_t.version,_t=Sa&&Sa.v8,Sa=jn=!(jn=_t?0<(qt=_t.split("."))[0]&&qt[0]<4?1:+(qt[0]+qt[1]):jn)&&tr&&(!(qt=tr.match(/Edge\/(\d+)/))||74<=qt[1])&&(qt=tr.match(/Chrome\/(\d+)/))?+qt[1]:jn,Xh=Sa,_t=Se,tr=!!Object.getOwnPropertySymbols&&!_t(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Xh&&Xh<41}),qt=tr&&!Symbol.sham&&typeof Symbol.iterator=="symbol",jn=Xn,_t=da.exports,Jh=ur,Vt=Ye,Ll=tr,Wu=qt,gs=_t("wks"),vs=jn.Symbol,ld=vs&&vs.for,Zh=Wu?vs:vs&&vs.withoutSetter||Vt,ep=Ne,np=Le,tp=String,rp=TypeError,tr={},_t=!Se(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),jn=_t&&Se(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Vt={},Gt=Le,zo=Xn.document,Ku=Gt(zo)&&Gt(zo.createElement),Qu=mn,Gt=!_t&&!Se(function(){return Object.defineProperty(Qu("div"),"a",{get:function(){return 7}}).a!=7}),$o=Function.prototype.call,Mr=ot?$o.bind($o):function(){return $o.apply($o,arguments)},Fr=ge({}.isPrototypeOf),ip=Ae,ap=Ne,sp=Fr,op=Object,qt=qt?function(a){return typeof a=="symbol"}:function(a){var s=ip("Symbol");return ap(s)&&sp(s.prototype,op(a))},ud=String,cd=Ne,lp=Tn,up=TypeError,H0=xn,Yu=Mr,dd=Ne,Xu=Le,q0=TypeError,cp=Mr,dp=Le,hd=qt,B0=In,Et=function(a,s){var l,d;if(s==="string"&&dd(l=a.toString)&&!Xu(d=Yu(l,a))||dd(l=a.valueOf)&&!Xu(d=Yu(l,a))||s!=="string"&&dd(l=a.toString)&&!Xu(d=Yu(l,a)))return d;throw q0("Can't convert object to primitive value")},zn=TypeError,Me=_e("toPrimitive"),Ce=ln,Nn=qt,Fn=Gt,Dt=ze,bt=Dn,jo=TypeError,hp=Object.defineProperty,jH=Object.getOwnPropertyDescriptor,Tk="enumerable",Ik="configurable",S_="writable",VH=(Vt.f=_t?jn?function(a,s,l){var d;return Dt(a),s=bt(s),Dt(l),typeof a=="function"&&s==="prototype"&&"value"in l&&S_ in l&&!l[S_]&&(d=jH(a,s))&&d[S_]&&(a[s]=l.value,l={configurable:(Ik in l?l:d)[Ik],enumerable:(Tk in l?l:d)[Tk],writable:!1}),hp(a,s,l)}:hp:function(a,s,l){if(Dt(a),s=bt(s),Dt(l),Fn)try{return hp(a,s,l)}catch{}if("get"in l||"set"in l)throw jo("Accessors not supported");return"value"in l&&(a[s]=l.value),a},Math.ceil),WH=Math.floor,KH=Math.trunc||function(a){return a=+a,(0<a?WH:VH)(a)},QH=fn,YH=Math.max,XH=Math.min,JH=fn,ZH=Math.min,eq=$,nq=Be,tq=kn,rq=R,wt={includes:M(!0),indexOf:M(!1)},Oa={},ni=ge,N_=ur,iq=Be,aq=wt.indexOf,sq=Oa,Ok=ni([].push),ni=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],oq=j,lq=ni,Nr=Object.keys||function(a){return oq(a,lq)},uq=Vt,cq=ze,dq=Be,hq=Nr;tr.f=_t&&!jn?Object.defineProperties:function(a,s){cq(a);for(var l,d=dq(s),p=hq(s),m=p.length,g=0;g<m;)uq.f(a,l=p[g++],d[l]);return a};function T_(a){return Mk[a]||(Mk[a]=fq(a))}function I_(){}function pq(a){a.write(Lk("")),a.close();var s=a.parentWindow.Object;return a=null,s}function G0(a){L_[U_][a]=!0}function z0(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}function Gs(a,s,l,d){var p=(d=d||{}).enumerable,m=d.name!==void 0?d.name:s;if(Fq(l)&&qq(l,m,d),d.global)p?a[s]=l:Bq(s,l);else{try{d.unsafe?a[s]&&(p=!0):delete a[s]}catch{}p?a[s]=l:Hq.f(a,s,{value:l,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return a}function pp(a,s){return(a=nB[eB(a)])==rB||a!=tB&&(Jq(s)?Xq(s):!!s)}function mr(a,s){var l,d,p,m=a.target,g=a.global,b=a.stat,w=g?q_:b?q_[m]||oB(m,{}):(q_[m]||{}).prototype;if(w)for(l in s){if(d=s[l],p=a.dontCallGetSet?(p=iB(w,l))&&p.value:w[l],!uB(g?l:m+(b?".":"#")+l,a.forced)&&p!==void 0){if(typeof d==typeof p)continue;lB(d,p)}(a.sham||p&&p.sham)&&aB(d,"sham",!0),sB(w,l,d,a)}}var O_,Pl,Ak,A_,Rk,$0,fp,R_,pd,Ju,jn=Ae("document","documentElement"),yt=da.exports,fq=Ye,Mk=yt("keys"),mq=ze,gq=tr,Dk=ni,yt=Oa,vq=jn,_q=mn,M_="prototype",D_="script",Uk=T_("IE_PROTO"),Lk=function(a){return"<"+D_+">"+a+"</"+D_+">"},j0=function(){try{O_=new ActiveXObject("htmlfile")}catch{}j0=typeof document>"u"||document.domain&&O_?pq(O_):(a=_q("iframe"),s="java"+D_+":",a.style.display="none",vq.appendChild(a),a.src=String(s),(s=a.contentWindow.document).open(),s.write(Lk("document.F=Object")),s.close(),s.F);for(var a,s,l=Dk.length;l--;)delete j0[M_][Dk[l]];return j0()},tr=(yt[Uk]=!0,Object.create||function(a,s){var l;return a!==null?(I_[M_]=mq(a),l=new I_,I_[M_]=null,l[Uk]=a):l=j0(),s===void 0?l:gq.f(l,s)}),yt=_e,St=tr,or=Vt.f,U_=yt("unscopables"),L_=Array.prototype,yt=(L_[U_]==null&&or(L_,U_,{configurable:!0,value:St(null)}),{}),or=Ne,St=cn,bq=ge(Function.toString),or=(or(St.inspectSource)||(St.inspectSource=function(a){return bq(a)}),St.inspectSource),St=Ne,_r=or,Ut=Xn.WeakMap,St=St(Ut)&&/native code/.test(_r(Ut)),yq=Vt,Eq=z0,_r=_t?function(a,s,l){return yq.f(a,s,Eq(1,l))}:function(a,s,l){return a[s]=l,a},Ut=ge,wq=Le,xq=_r,P_=ur,ca=T_,At=Oa,Pk="Object already initialized",F_=Xn.TypeError,_s=Xn.WeakMap,St=(R_=St||cn.state?(Pl=cn.state||(cn.state=new _s),Ak=Ut(Pl.get),A_=Ut(Pl.has),Rk=Ut(Pl.set),$0=function(a,s){if(A_(Pl,a))throw new F_(Pk);return s.facade=a,Rk(Pl,a,s),s},fp=function(a){return Ak(Pl,a)||{}},function(a){return A_(Pl,a)}):(At[pd=ca("state")]=!0,$0=function(a,s){if(P_(a,pd))throw new F_(Pk);return s.facade=a,xq(a,pd,s),s},fp=function(a){return P_(a,pd)?a[pd]:{}},function(a){return P_(a,pd)}),{set:$0,get:fp,has:R_,enforce:function(a){return R_(a)?fp(a):$0(a,{})},getterFor:function(a){return function(s){if(wq(s)&&(s=fp(s)).type===a)return s;throw F_("Incompatible receiver, "+a+" required")}}}),cn={},_s={},Ut={}.propertyIsEnumerable,Fk=Object.getOwnPropertyDescriptor,At=Fk&&!Ut.call({1:2},1),ca=(_s.f=At?function(a){return a=Fk(this,a),!!a&&a.enumerable}:Ut,_t),kq=Mr,Cq=_s,Sq=z0,Nq=Be,Tq=Dn,Iq=ur,Oq=Gt,Hk=Object.getOwnPropertyDescriptor,At=(cn.f=ca?Hk:function(a,s){if(a=Nq(a),s=Tq(s),Oq)try{return Hk(a,s)}catch{}if(Iq(a,s))return Sq(!kq(Cq.f,a,s),a[s])},{exports:{}}),Ut=_t,Gt=ur,ca=Function.prototype,nt=Ut&&Object.getOwnPropertyDescriptor,Gt=Gt(ca,"name"),Gt={EXISTS:Gt,PROPER:Gt&&function(){}.name==="something",CONFIGURABLE:Gt&&(!Ut||nt(ca,"name").configurable)},Ut=Se,Aq=Ne,V0=ur,H_=_t,Rq=Gt.CONFIGURABLE,Mq=or,Dq=St.enforce,Uq=St.get,W0=Object.defineProperty,Lq=H_&&!Ut(function(){return W0(function(){},"length",{value:8}).length!==8}),Pq=String(String).split("String"),nt=At.exports=function(a,s,l){String(s).slice(0,7)==="Symbol("&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),l&&l.getter&&(s="get "+s),l&&l.setter&&(s="set "+s),(!V0(a,"name")||Rq&&a.name!==s)&&(H_?W0(a,"name",{value:s,configurable:!0}):a.name=s),Lq&&l&&V0(l,"arity")&&a.length!==l.arity&&W0(a,"length",{value:l.arity});try{l&&V0(l,"constructor")&&l.constructor?H_&&W0(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch{}return l=Dq(a),V0(l,"source")||(l.source=Pq.join(typeof s=="string"?s:"")),a},Fq=(Function.prototype.toString=nt(function(){return Aq(this)&&Uq(this).source||Mq(this)},"toString"),Ne),Hq=Vt,qq=At.exports,Bq=X,ca={},Gq=j,zq=ni.concat("length","prototype"),Ut=(ca.f=Object.getOwnPropertyNames||function(a){return Gq(a,zq)},{}),nt=(Ut.f=Object.getOwnPropertySymbols,Ae),$q=ca,jq=Ut,Vq=ze,Wq=ge([].concat),At=nt("Reflect","ownKeys")||function(a){var s=$q.f(Vq(a)),l=jq.f;return l?Wq(s,l(a)):s},qk=ur,Kq=At,Qq=cn,Yq=Vt,Xq=Se,Jq=Ne,Zq=/#|\.prototype\./,eB=pp.normalize=function(a){return String(a).replace(Zq,".").toLowerCase()},nB=pp.data={},tB=pp.NATIVE="N",rB=pp.POLYFILL="P",ni=pp,q_=Xn,iB=cn.f,aB=_r,sB=Gs,oB=X,lB=function(a,s,l){for(var d=Kq(s),p=Yq.f,m=Qq.f,g=0;g<d.length;g++){var b=d[g];qk(a,b)||l&&qk(l,b)||p(a,b,m(s,b))}},uB=ni,nt=!Se(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),cB=ur,dB=Ne,hB=me,At=nt,Bk=T_("IE_PROTO"),B_=Object,pB=B_.prototype,nt=At?B_.getPrototypeOf:function(a){if(a=hB(a),cB(a,Bk))return a[Bk];var s=a.constructor;return dB(s)&&a instanceof s?s.prototype:a instanceof B_?pB:null},At=Se,zi=Ne,Hr=nt,Sr=Gs,G_=_e("iterator"),hr=!1;[].keys&&("next"in(la=[].keys())?(Hr=Hr(Hr(la)))!==Object.prototype&&(Ju=Hr):hr=!0);function K0(a,s,l){(a=a&&!l?a.prototype:a)&&!vB(a,Gk)&&gB(a,Gk,{configurable:!0,value:s})}function fB(){return this}function mB(){return this}function z_(a,s,l,L,p,m,g){function b(Q){if(Q===p&&se)return se;if(!Q0&&Q in G)return G[Q];switch(Q){case"keys":case gp:case Vk:return function(){return new l(this,Q)}}return function(){return new l(this)}}RB(l,s,L);var w,T,L=s+" Iterator",H=!1,G=a.prototype,ne=G[mp]||G["@@iterator"]||p&&G[p],se=!Q0&&ne||b(p),Te=s=="Array"&&G.entries||ne;if(Te&&(Te=zk(Te.call(new a)))!==Object.prototype&&Te.next&&(zk(Te)!==jk&&($k?$k(Te,jk):AB(Te[mp])||$_(Te,mp,mB)),MB(Te,L,!0)),LB&&p==gp&&ne&&ne.name!==gp&&(PB?DB(G,"name",gp):(H=!0,se=function(){return OB(ne,this)})),p)if(w={values:b(gp),keys:m?se:b("keys"),entries:b(Vk)},g)for(T in w)!Q0&&!H&&T in G||$_(G,T,w[T]);else IB({target:s,proto:!0,forced:Q0||H},w);return G[mp]!==se&&$_(G,mp,se,{name:p}),UB[s]=se,w}zi((Ju=Ju==null||At(function(){var a={};return Ju[G_].call(a)!==a})?{}:Ju)[G_])||Sr(Ju,G_,function(){return this});var la={IteratorPrototype:Ju,BUGGY_SAFARI_ITERATORS:hr},gB=Vt.f,vB=ur,Gk=_e("toStringTag"),_B=la.IteratorPrototype,bB=tr,yB=z0,EB=K0,wB=yt,xB=Ne,kB=String,CB=TypeError,SB=ge,NB=ze,TB=function(a){if(typeof a=="object"||xB(a))return a;throw CB("Can't set "+kB(a)+" as a prototype")},Hr=Object.setPrototypeOf||("__proto__"in{}?function(){var a,s=!1,l={};try{(a=SB(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(l,[]),s=l instanceof Array}catch{}return function(d,p){return NB(d),TB(p),s?a(d,p):d.__proto__=p,d}}():void 0),IB=mr,OB=Mr,AB=Ne,RB=function(a,s,l,d){return s+=" Iterator",a.prototype=bB(_B,{next:yB(+!d,l)}),EB(a,s,!1),wB[s]=fB,a},zk=nt,$k=Hr,MB=K0,DB=_r,$_=Gs,zi=_e,UB=yt,LB=Gt.PROPER,PB=Gt.CONFIGURABLE,jk=la.IteratorPrototype,Q0=la.BUGGY_SAFARI_ITERATORS,mp=zi("iterator"),gp="values",Vk="entries",FB=Be,At=G0,Sr=yt,hr=St,nt=Vt.f,la=z_,zi=_t,Wk="Array Iterator",HB=hr.set,qB=hr.getterFor(Wk),hr=la(Array,"Array",function(a,s){HB(this,{type:Wk,target:FB(a),index:0,kind:s})},function(){var a=qB(this),s=a.target,l=a.kind,d=a.index++;return!s||d>=s.length?{value:a.target=void 0,done:!0}:l=="keys"?{value:d,done:!1}:l=="values"?{value:s[d],done:!1}:{value:[d,s[d]],done:!1}},"values"),la=Sr.Arguments=Sr.Array;if(At("keys"),At("values"),At("entries"),zi&&la.name!=="values")try{nt(la,"name",{value:"values"})}catch{}var Sr={},At=(Sr[_e("toStringTag")]="z",String(Sr)==="[object z]"),zi=At,BB=Ne,Y0=ve,GB=_e("toStringTag"),zB=Object,$B=Y0(function(){return arguments}())=="Arguments",nt=zi?Y0:function(a){var s;return a===void 0?"Undefined":a===null?"Null":typeof(s=function(l,d){try{return l[d]}catch{}}(a=zB(a),GB))=="string"?s:$B?Y0(a):(s=Y0(a))=="Object"&&BB(a.callee)?"Arguments":s},jB=nt;At||Gs(Object.prototype,"toString",At?{}.toString:function(){return"[object "+jB(this)+"]"},{unsafe:!0});function Kk(s){var s=VB(s),l=WB.f;KB&&s&&!s[Xk]&&l(s,Xk,{configurable:!0,get:function(){return this}})}function j_(a,s){if(QB(s,a))return a;throw YB("Incorrect invocation")}function Qk(){}function vp(a){if(!Jk(a))return!1;try{return Zk(Qk,ZB,a),!0}catch{return!1}}function Yk(a){if(!Jk(a))return!1;switch(XB(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return nG||!!eG(V_,JB(a))}catch{return!0}}function _p(a,s){return oG(a),s===void 0?a:lG?uG(a,s):function(){return a.apply(s,arguments)}}var bp,fd,la=ve(Xn.process)=="process",VB=Ae,WB=Vt,KB=_t,Xk=_e("species"),QB=Fr,YB=TypeError,Sr=ge,zi=Se,Jk=Ne,XB=nt,JB=or,ZB=[],Zk=Ae("Reflect","construct"),V_=/^\s*(?:class|function)\b/,eG=Sr(V_.exec),nG=!V_.exec(Qk),At=(Yk.sham=!0,!Zk||zi(function(){var a;return vp(vp.call)||!vp(Object)||!vp(function(){a=!0})||a})?Yk:vp),tG=At,rG=Tn,iG=TypeError,eC=ze,aG=function(a){if(tG(a))return a;throw iG(rG(a)+" is not a constructor")},sG=_e("species"),Sr=Function.prototype,nC=Sr.apply,tC=Sr.call,zi=typeof Reflect=="object"&&Reflect.apply||(ot?tC.bind(nC):function(){return tC.apply(nC,arguments)}),oG=xn,lG=ot,uG=ge(ge.bind),Sr=ge([].slice),cG=TypeError,ot=/(?:ipad|iphone|ipod).*applewebkit/i.test(Bs),Ka=Xn,dG=zi,Pe=_p,rC=Ne,hG=ur,Jn=Se,iC=jn,pG=Sr,aC=mn,fG=function(a,s){if(a<s)throw cG("Not enough arguments");return a},jn=ot,en=la,Bt=Ka.setImmediate,qn=Ka.clearImmediate,mG=Ka.process,W_=Ka.Dispatch,gG=Ka.Function,it=Ka.MessageChannel,vG=Ka.String,K_=0,yp={},sC="onreadystatechange";try{bp=Ka.location}catch{}function Q_(a){return function(){nb(a)}}function oC(a){nb(a.data)}function lC(a){Ka.postMessage(vG(a),bp.protocol+"//"+bp.host)}function Y_(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}function uC(){this.head=null,this.tail=null}function _G(a){var s,l;this.promise=new a(function(d,p){if(s!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");s=d,l=p}),this.resolve=_C(s),this.reject=_C(l)}function cC(a,s){var l,d,p,m,g=s.value,b=s.state==wC,w=b?a.ok:a.fail,T=a.resolve,L=a.reject,H=a.domain;try{w?(b||(s.rejection===xC&&(m=s,md(bC,Fl,function(){var G=m.facade;X0?ob.emit("rejectionHandled",G):SC(DG,G,m.value)})),s.rejection=ub),w===!0?l=g:(H&&H.enter(),l=w(g),H&&(H.exit(),p=!0)),l===a.promise?L(yC("Promise-chain cycle")):(d=kC(l))?md(d,l,T,L):T(l)):L(g)}catch(G){H&&!p&&H.exit(),L(G)}}var Ep,Zu,wp,X_,J_,Z_,dC,eb,hC,pC,nb=function(a){var s;hG(yp,a)&&(s=yp[a],delete yp[a],s())},it=(Bt&&qn||(Bt=function(a){fG(arguments.length,1);var s=rC(a)?a:gG(a),l=pG(arguments,1);return yp[++K_]=function(){dG(s,void 0,l)},fd(K_),K_},qn=function(a){delete yp[a]},en?fd=function(a){mG.nextTick(Q_(a))}:W_&&W_.now?fd=function(a){W_.now(Q_(a))}:it&&!jn?(jn=(en=new it).port2,en.port1.onmessage=oC,fd=Pe(jn.postMessage,jn)):Ka.addEventListener&&rC(Ka.postMessage)&&!Ka.importScripts&&bp&&bp.protocol!=="file:"&&!Jn(lC)?(fd=lC,Ka.addEventListener("message",oC,!1)):fd=sC in aC("script")?function(a){iC.appendChild(aC("script"))[sC]=function(){iC.removeChild(this),nb(a)}}:function(a){setTimeout(Q_(a),0)}),{set:Bt,clear:qn}),en=Xn,Pe=/ipad|iphone|ipod/i.test(Bs)&&en.Pebble!==void 0,jn=/web0s(?!.*chrome)/i.test(Bs),Jn=Xn,Bt=_p,qn=cn.f,tb=it.set,en=ot,ot=Pe,Pe=jn,rb=la,jn=Jn.MutationObserver||Jn.WebKitMutationObserver,pn=Jn.document,fC=Jn.process,Ur=Jn.Promise,qn=qn(Jn,"queueMicrotask"),qn=qn&&qn.value,Pe=(qn||(Ep=function(){var a,s;for(rb&&(a=fC.domain)&&a.exit();Zu;){s=Zu.fn,Zu=Zu.next;try{s()}catch(l){throw Zu?X_():wp=void 0,l}}wp=void 0,a&&a.enter()},X_=en||rb||Pe||!jn||!pn?!ot&&Ur&&Ur.resolve?((en=Ur.resolve(void 0)).constructor=Ur,dC=Bt(en.then,en),function(){dC(Ep)}):rb?function(){fC.nextTick(Ep)}:(tb=Bt(tb,Jn),function(){tb(Ep)}):(J_=!0,Z_=pn.createTextNode(""),new jn(Ep).observe(Z_,{characterData:!0}),function(){Z_.data=J_=!J_})),qn||function(a){a={fn:a,next:void 0},wp&&(wp.next=a),Zu||(Zu=a,X_()),wp=a}),bG=Xn,ot=(uC.prototype={add:function(a){a={item:a,next:null},this.head?this.tail.next=a:this.head=a,this.tail=a},get:function(){var a=this.head;if(a)return this.head=a.next,this.tail===a&&(this.tail=null),a.item}},uC),Ur=Xn.Promise,en=typeof window=="object"&&typeof Deno!="object",Bt=Xn,xp=Ur,Jn=Ne,pn=ni,yG=or,jn=_e,EG=en,mC=Sa,wG=(xp&&xp.prototype,jn("species")),gC=!1,vC=Jn(Bt.PromiseRejectionEvent),qn={CONSTRUCTOR:pn("Promise",function(){var a=yG(xp),s=a!==String(xp);if(!s&&mC===66)return!0;if(51<=mC&&/native code/.test(a))return!1;function l(d){d(function(){},function(){})}return a=new xp(function(d){d(1)}),(a.constructor={})[wG]=l,!(gC=a.then(function(){})instanceof l)||!s&&EG&&!vC}),REJECTION_EVENT:vC,SUBCLASSING:gC},or={},_C=xn,en=(or.f=function(a){return new _G(a)},mr),X0=la,Fl=Xn,md=Mr,jn=Gs,Jn=Hr,Bt=K0,pn=Kk,xG=xn,J0=Ne,kG=Le,CG=j_,SG=function(l,s){var l=eC(l).constructor;return l===void 0||(l=eC(l)[sG])==null?s:aG(l)},bC=it.set,ib=Pe,NG=function(a,s){var l=bG.console;l&&l.error&&(arguments.length==1?l.error(a):l.error(a,s))},TG=Y_,IG=ot,it=St,Pe=Ur,ot=or,Z0="Promise",Dr=qn.CONSTRUCTOR,OG=qn.REJECTION_EVENT,Zt=qn.SUBCLASSING,ab=it.getterFor(Z0),AG=it.set,it=Pe&&Pe.prototype,gd=Pe,em=it,yC=Fl.TypeError,sb=Fl.document,ob=Fl.process,lb=ot.f,RG=lb,MG=!!(sb&&sb.createEvent&&Fl.dispatchEvent),EC="unhandledrejection",DG="rejectionhandled",wC=1,UG=2,ub=1,xC=2,kC=function(a){var s;return!(!kG(a)||!J0(s=a.then))&&s},CC=function(a,s){a.notified||(a.notified=!0,ib(function(){for(var l,d,p=a.reactions;l=p.get();)cC(l,a);a.notified=!1,s&&!a.rejection&&(d=a,md(bC,Fl,function(){var m=d.facade,g=d.value,b=NC(d);if(b&&(b=TG(function(){X0?ob.emit("unhandledRejection",g,m):SC(EC,m,g)}),d.rejection=X0||NC(d)?xC:ub,b.error))throw b.value}))}))},SC=function(a,s,l){var d;MG?((d=sb.createEvent("Event")).promise=s,d.reason=l,d.initEvent(a,!1,!0),Fl.dispatchEvent(d)):d={promise:s,reason:l},!OG&&(s=Fl["on"+a])?s(d):a===EC&&NG("Unhandled promise rejection",l)},NC=function(a){return a.rejection!==ub&&!a.parent},vd=function(a,s,l){return function(d){a(s,d,l)}},_d=function(a,s,l){a.done||(a.done=!0,(a=l||a).value=s,a.state=UG,CC(a,!0))},cb=function(a,s,l){if(!a.done){a.done=!0,l&&(a=l);try{if(a.facade===s)throw yC("Promise can't be resolved itself");var d=kC(s);d?ib(function(){var p={done:!1};try{md(d,s,vd(cb,p,a),vd(_d,p,a))}catch(m){_d(p,m,a)}}):(a.value=s,a.state=wC,CC(a,!1))}catch(p){_d({done:!1},p,a)}}};if(Dr&&(em=(gd=function(a){CG(this,em),xG(a),md(eb,this);var s=ab(this);try{a(vd(cb,s),vd(_d,s))}catch(l){_d(s,l)}}).prototype,(eb=function(a){AG(this,{type:Z0,done:!1,notified:!1,parent:!1,reactions:new IG,rejection:!1,state:0,value:void 0})}).prototype=jn(em,"then",function(a,s){var l=ab(this),d=lb(SG(this,gd));return l.parent=!0,d.ok=!J0(a)||a,d.fail=J0(s)&&s,d.domain=X0?ob.domain:void 0,l.state==0?l.reactions.add(d):ib(function(){cC(d,l)}),d.promise}),hC=function(){var a=new eb,s=ab(a);this.promise=a,this.resolve=vd(cb,s),this.reject=vd(_d,s)},ot.f=lb=function(a){return a===gd||a===void 0?new hC:RG(a)},J0(Pe)&&it!==Object.prototype)){pC=it.then,Zt||jn(it,"then",function(a,s){var l=this;return new gd(function(d,p){md(pC,l,d,p)}).then(a,s)},{unsafe:!0});try{delete it.constructor}catch{}Jn&&Jn(it,em)}en({global:!0,constructor:!0,wrap:!0,forced:Dr},{Promise:gd}),Bt(gd,Z0,!1),pn(Z0);function TC(a){if(a!=null)return IC(a,BG)||IC(a,"@@iterator")||qG[HG(a)]}function nm(a,s){this.stopped=a,this.result=s}function tm(a,s,l){function d(ae){return m&&RC(m,"normal",ae),new nm(!0,ae)}function p(ae){return G?(JG(ae),Te?Q(ae[0],ae[1],d):Q(ae[0],ae[1])):Te?Q(ae,d):Q(ae)}var m,g,b,w,T,L,H=l&&l.that,G=!(!l||!l.AS_ENTRIES),ne=!(!l||!l.IS_RECORD),se=!(!l||!l.IS_ITERATOR),Te=!(!l||!l.INTERRUPTED),Q=YG(s,H);if(ne)m=a.iterator;else if(se)m=a;else{if(!(l=rz(a)))throw iz(ZG(a)+" is not iterable");if(ez(l)){for(g=0,b=nz(a);g<b;g++)if((w=p(a[g]))&&AC(MC,w))return w;return new nm(!1)}m=tz(a,l)}for(T=(ne?a:m).next;!(L=XG(T,m)).done;){try{w=p(L.value)}catch(ae){RC(m,"throw",ae)}if(typeof w=="object"&&w&&AC(MC,w))return w}return new nm(!1)}var LG=yt,PG=_e("iterator"),FG=Array.prototype,HG=nt,IC=In,qG=yt,BG=_e("iterator"),GG=Mr,zG=xn,$G=ze,jG=Tn,VG=TC,WG=TypeError,KG=Mr,OC=ze,QG=In,YG=_p,XG=Mr,JG=ze,ZG=Tn,ez=function(a){return a!==void 0&&(LG.Array===a||FG[PG]===a)},nz=R,AC=Fr,tz=function(a,s){if(s=arguments.length<2?VG(a):s,zG(s))return $G(GG(s,a));throw WG(jG(a)+" is not iterable")},rz=TC,RC=function(a,s,l){var d,p;OC(a);try{if(!(d=QG(a,"return"))){if(s==="throw")throw l;return l}d=KG(d,a)}catch(m){p=!0,d=m}if(s==="throw")throw l;if(p)throw d;return OC(d),l},iz=TypeError,MC=nm.prototype,DC=_e("iterator"),UC=!1;try{var az=0,bd={next:function(){return{done:!!az++}},return:function(){UC=!0}};bd[DC]=function(){return this},Array.from(bd,function(){throw 2})}catch{}function LC(a,s){if(!s&&!UC)return!1;var l=!1;try{var d={};d[DC]=function(){return{next:function(){return{done:l=!0}}}},a(d)}catch{}return l}var sz=Ur,ot=LC,Pe=qn.CONSTRUCTOR||!ot(function(a){sz.all(a).then(void 0,function(){})}),oz=Mr,lz=xn,uz=or,cz=Y_,dz=tm,Zt=(mr({target:"Promise",stat:!0,forced:Pe},{all:function(a){var s=this,l=uz.f(s),d=l.resolve,p=l.reject,m=cz(function(){var g=lz(s.resolve),b=[],w=0,T=1;dz(a,function(L){var H=w++,G=!1;T++,oz(g,s,L).then(function(ne){G||(G=!0,b[H]=ne,--T||d(b))},p)}),--T||d(b)});return m.error&&p(m.value),l.promise}}),mr),jn=Ur,Jn=Ae,it=Ne,en=Gs,Dr=jn&&jn.prototype;Zt({target:"Promise",proto:!0,forced:qn.CONSTRUCTOR,real:!0},{catch:function(a){return this.then(void 0,a)}}),it(jn)&&(Bt=Jn("Promise").prototype.catch,Dr.catch!==Bt&&en(Dr,"catch",Bt,{unsafe:!0}));var hz=Mr,pz=xn,fz=or,mz=Y_,gz=tm;mr({target:"Promise",stat:!0,forced:Pe},{race:function(a){var s=this,l=fz.f(s),d=l.reject,p=mz(function(){var m=pz(s.resolve);gz(a,function(g){hz(m,s,g).then(l.resolve,d)})});return p.error&&d(p.value),l.promise}});function zs(a){if(xz(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return kz(a)}function PC(a){return function(p,m){var d,p=Sz(Nz(p)),m=Cz(m),g=p.length;return m<0||g<=m?a?"":void 0:(d=HC(p,m))<55296||56319<d||m+1===g||(g=HC(p,m+1))<56320||57343<g?a?Tz(p,m):d:a?Iz(p,m,m+2):g-56320+(d-55296<<10)+65536}}function FC(a,s){if(a){if(a[hb]!==pb)try{db(a,hb,pb)}catch{a[hb]=pb}if(a[zC]||db(a,zC,s),GC[s]){for(var l in kp)if(a[l]!==kp[l])try{db(a,l,kp[l])}catch{a[l]=kp[l]}}}}var rm,vz=Mr,_z=or,bz=(mr({target:"Promise",stat:!0,forced:qn.CONSTRUCTOR},{reject:function(a){var s=_z.f(this);return vz(s.reject,void 0,a),s.promise}}),ze),yz=Le,Ez=or,pn=mr,yt=Ae,bd=qn.CONSTRUCTOR,wz=function(a,s){return bz(a),yz(s)&&s.constructor===a?s:(a=Ez.f(a),(0,a.resolve)(s),a.promise)},xz=(yt("Promise"),pn({target:"Promise",stat:!0,forced:bd},{resolve:function(a){return wz(this,a)}}),nt),kz=String,ot=ge,Cz=fn,Sz=zs,Nz=Oe,Tz=ot("".charAt),HC=ot("".charCodeAt),Iz=ot("".slice),Ur={codeAt:PC(!1),charAt:PC(!0)},Oz=Ur.charAt,Az=zs,Zt=St,it=z_,qC="String Iterator",Rz=Zt.set,Mz=Zt.getterFor(qC),jn=(it(String,"String",function(a){Rz(this,{type:qC,string:Az(a),index:0})},function(){var a=Mz(this),s=a.string,l=a.index;return l>=s.length?{value:void 0,done:!0}:(s=Oz(s,l),a.index+=s.length,{value:s,done:!1})}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Jn=mn("span").classList,en=Jn&&Jn.constructor&&Jn.constructor.prototype,Dr=en===Object.prototype?void 0:en,BC=Xn,GC=jn,Bt=Dr,kp=hr,db=_r,Pe=_e,hb=Pe("iterator"),zC=Pe("toStringTag"),pb=kp.values;for(rm in GC)FC(BC[rm]&&BC[rm].prototype,rm);FC(Bt,"DOMTokenList");function fb(a,s){return new(Fz(a))(s===0?0:s)}function Hl(a){var s=a==1,l=a==2,d=a==3,p=a==4,m=a==6,g=a==7,b=a==5||m;return function(w,T,L,H){for(var G,ne,se=Bz(w),Te=qz(se),Q=Hz(T,L),ae=Gz(Te),Ee=0,T=H||zz,be=s?T(w,ae):l||g?T(w,0):void 0;Ee<ae;Ee++)if((b||Ee in Te)&&(ne=Q(G=Te[Ee],Ee,se),a))if(s)be[Ee]=ne;else if(ne)switch(a){case 3:return!0;case 5:return G;case 6:return Ee;case 2:VC(be,G)}else switch(a){case 4:return!1;case 7:VC(be,G)}return m?-1:d||p?p:be}}function Cp(a){return 51<=jz||!$z(function(){var s=[];return(s.constructor={})[Vz]=function(){return{foo:1}},s[a](Boolean).foo!==1})}var on,mb,Dz=ve,or=Array.isArray||function(a){return Dz(a)=="Array"},$C=or,Uz=At,Lz=Le,Pz=_e("species"),jC=Array,Fz=function(a){var s;return $C(a)&&(s=a.constructor,(Uz(s)&&(s===jC||$C(s.prototype))||Lz(s)&&(s=s[Pz])===null)&&(s=void 0)),s===void 0?jC:s},Hz=_p,qz=at,Bz=me,Gz=R,zz=fb,VC=ge([].push),qn={forEach:Hl(0),map:Hl(1),filter:Hl(2),some:Hl(3),every:Hl(4),find:Hl(5),findIndex:Hl(6),filterReject:Hl(7)},$z=Se,jz=Sa,Vz=_e("species"),yt=mr,Wz=qn.map,im=(yt({target:"Array",proto:!0,forced:!Cp("map")},{map:function(a){return Wz(this,a,1<arguments.length?arguments[1]:void 0)}}),f(function a(){c(this,a)})),WC=function(){_(s,im);var a=A(s);function s(){return c(this,s),a.call(this)}return f(s,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),s}(),cr=function(){_(s,WC);var a=A(s);function s(){return c(this,s),a.call(this)}return f(s,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),s}(),Kz=((pn=on=on||{}).CREATE="create",pn.UPDATE="update",pn.GET="get",pn.DELETE="delete",pn.QUERY="query",pn.READY="ready",pn.START="start",pn.ENTER_HOST="enter_host",pn.GET_HOSTS="get_hosts",pn.EXIT_HOST="exit_host",pn.HOST_ALIVE="host_alive",pn.AUDIO="audio",pn.VIDEO="video",pn.HOST_CREATE_STREAM="host_create_stream",pn.HOST_DELETE_STREAM="host_delete_stream",pn.HOST_CONNECTED="host_connected",pn.ENTER="enter",pn.EXIT="exit",pn.ALIVE="alive",pn.GET_PARTICIPANTS="get_participants",pn.CREATE_STREAM="create_stream",pn.DELETE_STREAM="delete_stream",pn.CONNECTED="connected",pn.ATTACH="attach",pn.CUSTOM_ITEMS_GET="custom_items_get",pn.CUSTOM_ITEMS_UPDATE="custom_items_update",pn.CUSTOM_ITEMS_DELETE="custom_items_delete",pn.LIVE_EVENT_READY="live_event_ready",pn.LIVE_EVENT_STARTED="live_event_started",pn.LIVE_EVENT_ENDED="live_event_ended",pn.LIVE_EVENT_UPDATED="live_event_updated",pn.HOST_ENTERED="host_entered",pn.HOST_EXITED="host_exited",pn.HOST_DISCONNECTED="host_disconnected",pn.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",pn.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",pn.PARTICIPANT_ENTERED="participant_entered",pn.PARTICIPANT_EXITED="participant_exited",(bd=mb=mb||{}).SINGLE_HOST="single_host",bd.MULTIPLE_HOST="multiple_host",function(){_(s,im);var a=A(s);function s(l){var d;return c(this,s),(d=a.call(this)).payload=d.parseData(l),d}return f(s)}()),gr=function(){_(s,Kz);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s)}();function $s(a){return{liveEventId:a.live_event_id,createdAt:a.created_at,setReadyAt:a.set_ready_at,startedAt:a.started_at,endedAt:a.ended_at,state:a.state,isHostStreaming:a.is_host_streaming,createdBy:a.created_by,setReadyBy:a.set_ready_by,startedBy:a.started_by,endedBy:a.ended_by,duration:a.duration,host:a.host?_o(a.host):void 0,participantCount:a.participant_count,peakParticipantCount:a.peak_participant_count,cumulativeParticipantCount:a.cumulative_participant_count,userIdsForHost:a.user_ids_for_host,customItems:a.custom_items,title:a.title,coverUrl:a.cover_url}}function _o(a){return{hostId:a.host_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,connectedAt:a.connected_at,disconnectedAt:a.disconnected_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,isAudioOn:a.is_audio_on,isVideoOn:a.is_video_on,liveEventId:a.live_event_id}}function Sp(a){return{id:a.rtcstream_id}}function Np(a){return{participantId:a.participant_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,liveEventId:a.live_event_id}}var nt=mr,Qz=qn.filter;nt({target:"Array",proto:!0,forced:!Cp("filter")},{filter:function(a){return Qz(this,a,1<arguments.length?arguments[1]:void 0)}});function KC(a){if(9007199254740991<a)throw Xz("Maximum allowed index exceeded");return a}function am(a,s,l){(s=Jz(s))in a?Zz.f(a,s,e$(0,l)):a[s]=l}function QC(){var a=s$(this),s="";return a.hasIndices&&(s+="d"),a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.unicodeSets&&(s+="v"),a.sticky&&(s+="y"),s}var Yz=me,YC=Nr,Xz=(mr({target:"Object",stat:!0,forced:Se(function(){YC(1)})},{keys:function(a){return YC(Yz(a))}}),TypeError),Jz=Dn,Zz=Vt,e$=z0,ot=mr,Zt=Se,n$=or,t$=Le,r$=me,i$=R,XC=KC,JC=am,a$=fb,it=Cp,Jn=Sa,ZC=_e("isConcatSpreadable"),en=51<=Jn||!Zt(function(){var a=[];return a[ZC]=!1,a.concat()[0]!==a}),hr=it("concat"),s$=(ot({target:"Array",proto:!0,arity:1,forced:!en||!hr},{concat:function(a){for(var s,l,d,p=r$(this),m=a$(p,0),g=0,b=-1,w=arguments.length;b<w;b++)if(function(T){if(!t$(T))return!1;var L=T[ZC];return L!==void 0?!!L:n$(T)}(d=b===-1?p:arguments[b]))for(l=i$(d),XC(g+l),s=0;s<l;s++,g++)s in d&&JC(m,g,d[s]);else XC(g+1),JC(m,g++,d);return m.length=g,m}}),ze),o$=Mr,l$=ur,u$=Fr,c$=QC,eS=RegExp.prototype,Pe=Gt.PROPER,Bt=Gs,d$=ze,nS=zs,yt=Se,h$=function(a){var s=a.flags;return s!==void 0||"flags"in eS||l$(a,"flags")||!u$(eS,a)?s:o$(c$,a)},pn="toString",tS=RegExp.prototype[pn],nt=yt(function(){return tS.call({source:"a",flags:"b"})!="/a/b"}),Jn=Pe&&tS.name!=pn;function p$(a){return Object.keys(a).filter(function(s){return a[s]!=null}).map(function(s){return"".concat(encodeURIComponent(s),"=").concat(function(l){return Array.isArray(l)?l.map(function(d){return encodeURIComponent(d.toString())}).join(","):encodeURIComponent(l.toString())}(a[s]))}).join("&")}(nt||Jn)&&Bt(RegExp.prototype,pn,function(){var a=d$(this);return"/"+nS(a.source)+"/"+nS(h$(a))},{unsafe:!0});function gb(a,s){var l=[][a];return!!l&&g$(function(){l.call(null,s||function(){return 1},1)})}var _i,f$=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.QUERY),m.params=m._normalizeParams(l),m.prevToken=d,m.nextToken=p,m}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(L){var d=L.hostType,p=L.liveEventState,m=L.createdAtRange,g=L.participantCountRange,b=L.durationRange,w=L.liveEventIds,T=L.createdByUserIds,L=L.limit;return{hostType:d,liveEventState:p,createdAtRange:m,participantCountRange:g,durationRange:b,liveEventIds:w,createdByUserIds:T,limit:L!=null?Math.min(Math.max(1,L),100):void 0}}},{key:"_createQuery",value:function(){var l;return p$({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(l=this.params.createdAtRange)==null?void 0:l[0],created_at_end_date:(l=this.params.createdAtRange)==null?void 0:l[0],participant_count_gte:(l=this.params.participantCountRange)==null?void 0:l[0],participant_count_lte:(l=this.params.participantCountRange)==null?void 0:l[1],duration_range_gte:(l=this.params.durationRange)==null?void 0:l[0],duration_range_lte:(l=this.params.durationRange)==null?void 0:l[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),s}(),m$=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){var d;return{liveEvents:(d=l.live_events)==null?void 0:d.map($s),prev:l.prev,next:l.next}}}]),s}(),g$=Se,Zt=mr,it=ge,v$=wt.indexOf,ot=gb,vb=it([].indexOf),rS=!!vb&&1/vb([1],1,-0)<0,en=ot("indexOf"),iS=(Zt({target:"Array",proto:!0,forced:rS||!en},{indexOf:function(a){var s=1<arguments.length?arguments[1]:void 0;return rS?vb(this,a,s)||0:v$(this,a,s)}}),Tn),_$=TypeError,hr=mr,b$=me,y$=kn,E$=fn,w$=R,x$=KC,k$=fb,C$=am,_b=function(a,s){if(!delete a[s])throw _$("Cannot delete property "+iS(s)+" of "+iS(a))},Gt=Cp("splice"),S$=Math.max,N$=Math.min;hr({target:"Array",proto:!0,forced:!Gt},{splice:function(H,s){var l,d,p,m,g,b,w=b$(this),T=w$(w),L=y$(H,T),H=arguments.length;for(H===0?l=d=0:d=H===1?(l=0,T-L):(l=H-2,N$(S$(E$(s),0),T-L)),x$(T+l-d),p=k$(w,d),m=0;m<d;m++)(g=L+m)in w&&C$(p,m,w[g]);if(l<(p.length=d)){for(m=L;m<T-d;m++)b=m+l,(g=m+d)in w?w[b]=w[g]:_b(w,b);for(m=T;T-d+l<m;m--)_b(w,m-1)}else if(d<l)for(m=T-d;L<m;m--)b=m+l-1,(g=m+d-1)in w?w[b]=w[g]:_b(w,b);for(m=0;m<l;m++)w[m+L]=arguments[m+2];return w.length=T-d+l,p}}),(yt=_i=_i||{}).VERBOSE="VERBOSE",yt.DEBUG="DEBUG",yt.INFO="INFO",yt.WARNING="WARNING",yt.ERROR="ERROR",yt.NONE="NONE";var hn=new(function(){function a(){c(this,a),this._listeners=[]}return f(a,[{key:"verbose",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[_i.VERBOSE].concat(l))}},{key:"debug",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[_i.DEBUG].concat(l))}},{key:"info",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[_i.INFO].concat(l))}},{key:"warning",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[_i.WARNING].concat(l))}},{key:"error",value:function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];this._log.apply(this,[_i.ERROR].concat(l))}},{key:"_log",value:function(s){for(var l=arguments.length,d=new Array(1<l?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];var m,g=V(this._listeners);try{for(g.s();!(m=g.n()).done;){var b=m.value;b._permit.apply(b,[s].concat(d))}}catch(w){g.e(w)}finally{g.f()}}},{key:"addListener",value:function(s){this._listeners.push(s)}},{key:"removeListener",value:function(s){s=this._listeners.indexOf(s),s!==-1&&this._listeners.splice(s,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),a}()),T$=function(){function a(p,m,g){c(this,a),this.isLoading=!1,this.params=p,this.sender=m,this.prevToken=null,this.nextToken=null,this.liveEventManager=g}var s,l,d;return f(a,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(d=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasNext){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return m.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"prev",value:(l=u(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.isLoading)throw new Error("query is in progress");m.next=2;break;case 2:if(this.hasPrev){m.next=4;break}return m.abrupt("return",[]);case 4:return m.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return m.stop()}},p,this)})),function(){return l.apply(this,arguments)})},{key:"_sendQueryCommand",value:(s=u(regeneratorRuntime.mark(function p(m,g){var b,w,T=this;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(m&&g)throw new Error("internal error while creating LiveEventListQueryCommand");L.next=2;break;case 2:return this.isLoading=!0,b=new f$(this.params,m,g),L.next=6,this.sender.send(b);case 6:return b=L.sent,w=b.payload,this.prevToken=w.prev,this.nextToken=w.next,this.isLoading=!1,L.prev=11,L.abrupt("return",Promise.all(w.liveEvents.map(function(H){return T.liveEventManager.deserializeLiveEvent(H)})));case 15:return L.prev=15,L.t0=L.catch(11),hn.error(L.t0),L.abrupt("return",w.liveEvents);case 19:case"end":return L.stop()}},p,this,[[11,15]])})),function(p,m){return s.apply(this,arguments)})}]),a}(),Pe=mr,I$=qn.find,nt=G0,Jn="find",aS=!0,Bt=(Jn in[]&&Array(1)[Jn](function(){aS=!1}),Pe({target:"Array",proto:!0,forced:aS},{find:function(a){return I$(this,a,1<arguments.length?arguments[1]:void 0)}}),nt(Jn),mr),O$=qn.findIndex,pn=G0,it="findIndex",sS=!0,ot=(it in[]&&Array(1)[it](function(){sS=!1}),Bt({target:"Array",proto:!0,forced:sS},{findIndex:function(a){return O$(this,a,1<arguments.length?arguments[1]:void 0)}}),pn(it),{exports:{}}),Zt={},oS=kn,A$=R,R$=am,M$=Array,D$=Math.max,U$=ve,L$=Be,lS=ca.f,P$=function(a,s,l){for(var d=A$(a),p=oS(s,d),m=oS(l===void 0?d:l,d),g=M$(D$(m-p,0)),b=0;p<m;p++,b++)R$(g,b,a[p]);return g.length=b,g},uS=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zt.f=function(a){if(!uS||U$(a)!="Window")return lS(L$(a));try{return lS(a)}catch{return P$(uS)}};function bb(a){z$(a,Vo,{value:{objectID:"O"+V$++,weakData:{}}})}function cS(a,s,l){return mS&&K$(s=s.constructor)&&s!==l&&Q$(s=s.prototype)&&s!==l.prototype&&mS(a,s),a}function dS(a){if(a&&a.forEach!==Ib)try{TV(a,"forEach",Ib)}catch{a.forEach=Ib}}var nr,sm,en=Se(function(){var a;typeof ArrayBuffer=="function"&&(a=new ArrayBuffer(8),Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8}))}),hr=Se,F$=Le,H$=ve,hS=en,yb=Object.isExtensible,Gt=hr(function(){})||hS?function(a){return!!F$(a)&&(!hS||H$(a)!="ArrayBuffer")&&(!yb||yb(a))}:yb,yt=!Se(function(){return Object.isExtensible(Object.preventExtensions({}))}),q$=mr,B$=ge,Pe=Oa,G$=Le,Eb=ur,z$=Vt.f,pS=ca,$$=Zt,wb=Gt,j$=yt,fS=!1,Vo=Ye("meta"),V$=0,W$=ot.exports={enable:function(){W$.enable=function(){},fS=!0;var a=pS.f,s=B$([].splice),l={};l[Vo]=1,a(l).length&&(pS.f=function(d){for(var p=a(d),m=0,g=p.length;m<g;m++)if(p[m]===Vo){s(p,m,1);break}return p},q$({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:$$.f}))},fastKey:function(a,s){if(!G$(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!Eb(a,Vo)){if(!wb(a))return"F";if(!s)return"E";bb(a)}return a[Vo].objectID},getWeakData:function(a,s){if(!Eb(a,Vo)){if(!wb(a))return!0;if(!s)return!1;bb(a)}return a[Vo].weakData},onFreeze:function(a){return j$&&fS&&wb(a)&&!Eb(a,Vo)&&bb(a),a}},K$=(Pe[Vo]=!0,Ne),Q$=Le,mS=Hr,Y$=mr,X$=Xn,J$=ge,gS=ni,Z$=Gs,ej=ot.exports,nj=tm,tj=j_,rj=Ne,xb=Le,kb=Se,ij=LC,aj=K0,sj=cS,oj=Gs,lj=Vt.f,uj=tr,vS=function(a,s,l){for(var d in s)oj(a,d,s[d],l);return a},cj=_p,dj=j_,hj=tm,pj=z_,fj=Kk,Tp=_t,_S=ot.exports.fastKey,bS=St.set,Cb=St.getterFor,yS=(function(a,s,l){function d(Q){var ae=J$(ne[Q]);Z$(ne,Q,Q=="add"?function(Ee){return ae(this,Ee===0?0:Ee),this}:Q=="delete"?function(Ee){return!(L&&!xb(Ee))&&ae(this,Ee===0?0:Ee)}:Q=="get"?function(Ee){return L&&!xb(Ee)?void 0:ae(this,Ee===0?0:Ee)}:Q=="has"?function(Ee){return!(L&&!xb(Ee))&&ae(this,Ee===0?0:Ee)}:function(Ee,be){return ae(this,Ee===0?0:Ee,be),this})}var p,m,g,b,w,T=a.indexOf("Map")!==-1,L=a.indexOf("Weak")!==-1,H=T?"set":"add",G=X$[a],ne=G&&G.prototype,se=G,Te={};return gS(a,!rj(G)||!(L||ne.forEach&&!kb(function(){new G().entries().next()})))?(se=l.getConstructor(s,a,T,H),ej.enable()):gS(a,!0)&&(m=(p=new se)[H](L?{}:-0,1)!=p,g=kb(function(){p.has(1)}),b=ij(function(Q){new G(Q)}),w=!L&&kb(function(){for(var Q=new G,ae=5;ae--;)Q[H](ae,ae);return!Q.has(-0)}),b||(((se=s(function(Q,ae){return tj(Q,ne),Q=sj(new G,Q,se),ae!=null&&nj(ae,Q[H],{that:Q,AS_ENTRIES:T}),Q})).prototype=ne).constructor=se),(g||w)&&(d("delete"),d("has"),T&&d("get")),(w||m)&&d(H),L&&ne.clear&&delete ne.clear),Te[a]=se,Y$({global:!0,constructor:!0,forced:se!=G},Te),aj(se,a),L||l.setStrong(se,a,T),se}("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(g,s,l,d){function p(T,L,H){var G,ne=w(T),se=m(T,L);return se?se.value=H:(ne.last=se={index:G=_S(L,!0),key:L,value:H,previous:L=ne.last,next:void 0,removed:!1},ne.first||(ne.first=se),L&&(L.next=se),Tp?ne.size++:T.size++,G!=="F"&&(ne.index[G]=se)),T}function m(G,L){var H,G=w(G),ne=_S(L);if(ne!=="F")return G.index[ne];for(H=G.first;H;H=H.next)if(H.key==L)return H}var g=g(function(T,L){dj(T,b),bS(T,{type:s,index:uj(null),first:void 0,last:void 0,size:0}),Tp||(T.size=0),L!=null&&hj(L,T[d],{that:T,AS_ENTRIES:l})}),b=g.prototype,w=Cb(s);return vS(b,{clear:function(){for(var T=w(this),L=T.index,H=T.first;H;)H.removed=!0,H.previous&&(H.previous=H.previous.next=void 0),delete L[H.index],H=H.next;T.first=T.last=void 0,Tp?T.size=0:this.size=0},delete:function(ne){var L,H,G=w(this),ne=m(this,ne);return ne&&(L=ne.next,H=ne.previous,delete G.index[ne.index],ne.removed=!0,H&&(H.next=L),L&&(L.previous=H),G.first==ne&&(G.first=L),G.last==ne&&(G.last=H),Tp?G.size--:this.size--),!!ne},forEach:function(T){for(var L,H=w(this),G=cj(T,1<arguments.length?arguments[1]:void 0);L=L?L.next:H.first;)for(G(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(T){return!!m(this,T)}}),vS(b,l?{get:function(T){return T=m(this,T),T&&T.value},set:function(T,L){return p(this,T===0?0:T,L)}}:{add:function(T){return p(this,T=T===0?0:T,T)}}),Tp&&lj(b,"size",{get:function(){return w(this).size}}),g},setStrong:function(a,s,l){var d=s+" Iterator",p=Cb(s),m=Cb(d);pj(a,s,function(g,b){bS(this,{type:d,target:g,state:p(g),kind:b,last:void 0})},function(){for(var g=m(this),b=g.kind,w=g.last;w&&w.removed;)w=w.previous;return g.target&&(g.last=w=w?w.next:g.state.first)?b=="keys"?{value:w.key,done:!1}:b=="values"?{value:w.value,done:!1}:{value:[w.key,w.value],done:!1}:{value:g.target=void 0,done:!0}},l?"entries":"values",!l,!0),fj(s)}}),_t),nt=ge,mj=Mr,Jn=Se,Sb=Nr,gj=Ut,vj=_s,_j=me,bj=at,yd=Object.assign,ES=Object.defineProperty,yj=nt([].concat),Bt=!yd||Jn(function(){if(yS&&yd({b:1},yd(ES({},"a",{enumerable:!0,get:function(){ES(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},s={},l=Symbol(),d="abcdefghijklmnopqrst";return a[l]=7,d.split("").forEach(function(p){s[p]=p}),yd({},a)[l]!=7||Sb(yd({},s)).join("")!=d})?function(a,s){for(var l=_j(a),d=arguments.length,p=1,m=gj.f,g=vj.f;p<d;)for(var b,w=bj(arguments[p++]),T=m?yj(Sb(w),m(w)):Sb(w),L=T.length,H=0;H<L;)b=T[H++],yS&&!mj(g,w,b)||(l[b]=w[b]);return l}:yd,pn=(mr({target:"Object",stat:!0,arity:2,forced:Object.assign!==Bt},{assign:Bt}),mr),Ej=wt.includes,it=G0,wj=(pn({target:"Array",proto:!0,forced:Se(function(){return!Array(1).includes()})},{includes:function(a){return Ej(this,a,1<arguments.length?arguments[1]:void 0)}}),it("includes"),Le),xj=ve,kj=_e("match"),Cj=function(a){var s;return wj(a)&&((s=a[kj])!==void 0?!!s:xj(a)=="RegExp")},Sj=TypeError,Nj=_e("match"),en=mr,Tj=function(a){if(Cj(a))throw Sj("The method doesn't accept regular expressions");return a},Ij=Oe,wS=zs,hr=function(a){var s=/./;try{"/./"[a](s)}catch{try{return s[Nj]=!1,"/./"[a](s)}catch{}}return!1},Oj=ge("".indexOf),Aj=(en({target:"String",proto:!0,forced:!hr("includes")},{includes:function(a){return!!~Oj(wS(Ij(this)),wS(Tj(a)),1<arguments.length?arguments[1]:void 0)}}),t.LiveEventRole=void 0,(Oa=t.LiveEventRole||(t.LiveEventRole={})).HOST="host",Oa.PARTICIPANT="participant",t.LiveEventState=void 0,(Zt=t.LiveEventState||(t.LiveEventState={})).CREATED="created",Zt.READY="ready",Zt.ONGOING="ongoing",Zt.PAUSED="paused",Zt.ENDED="ended",t.HostState=void 0,(Gt=t.HostState||(t.HostState={})).ENTERED="entered",Gt.CONNECTED="connected",Gt.DISCONNECTED="disconnected",Gt.EXITED="exited",t.ParticipantState=void 0,(yt=t.ParticipantState||(t.ParticipantState={})).ENTERED="entered",yt.EXITED="exited",function(){_(s,WC);var a=A(s);function s(l,d,p){var m;return c(this,s),(m=a.call(this)).appId=l,m.userId=d,m.accessToken=p,m}return f(s,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),s}()),Rj=((Pe=nr=nr||{}).POST="POST",Pe.GET="GET",Pe.DELETE="DELETE",Pe.OPTION="OPTION",Pe.PUT="PUT",function(){_(s,cr);var a=A(s);function s(l,d,p,m,g,b){var w;return c(this,s),v(C(w=a.call(this)),"type",on.CREATE),w.hostType=l,w.hostIds=Array.isArray(d)?d:[d],w.title=p===null?"":p,w.coverUrl=m===null?"":m,w.coverFile=g===null?"":g,w.customItems=b,w}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&d.set(m,g)}var d=new FormData;return l(0,"host_type",this.hostType),l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),l(0,"customItems",JSON.stringify(this.customItems)),d}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return nr.POST}}]),s}()),Mj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),Dj=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.GET),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.GET}}]),s}(),Uj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),Lj=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.ENTER_HOST),v(C(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=l,p.mediaOption=d,p}return f(s,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Pj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:_o(l.host)}}}]),s}(),Fj=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.READY),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Hj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),qj=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.START),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Bj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),Gj=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.EXIT_HOST),p.liveEventId=l,p.hostId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),zj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{host:_o(l.host)}}}]),s}(),$j=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.DELETE),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),jj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),Vj=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.ENTER),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Wj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:Np(l.participant)}}}]),s}(),Kj=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.EXIT),p.liveEventId=l,p.participantId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Qj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:Np(l.participant)}}}]),s}(),Yj=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.CONNECTED),m.liveEventId=l,m.participantId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Xj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:Sp(l.rtcstream)}}}]),s}(),Jj=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.HOST_CONNECTED),m.liveEventId=l,m.hostId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),Zj=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:Sp(l.rtcstream)}}}]),s}(),eV=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.DELETE_STREAM),m.liveEventId=l,m.participantId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),nV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),tV=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.HOST_DELETE_STREAM),m.liveEventId=l,m.hostId=d,m.endpointId=p,m}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),rV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),iV=function(){_(s,cr);var a=A(s);function s(l,d,p,m){var g;return c(this,s),v(C(g=a.call(this)),"type",on.ATTACH),g.liveEventId=l,g.participantId=d,g.endpointId=p,g.attachTo=m,g}return f(s,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),aV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{endpoint:Sp(l.rtcstream)}}}]),s}(),Na=function(){_(s,im);var a=A(s);function s(l){var d;return c(this,s),(d=a.call(this)).type=l.type,d.version=l.version,d.messageId=l.message_id,d.payload=d.parseData(l.payload),d}return f(s)}(),xS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:$s(l.live_event)}}}]),s}(),kS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:$s(l.live_event)}}}]),s}(),CS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:$s(l.live_event)}}}]),s}(),SS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),NS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),TS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),Nb=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),Tb=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),IS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:Np(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),OS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:Np(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),s}(),sV=function(){_(s,cr);var a=A(s);function s(l,d,p,m,g){var b;return c(this,s),v(C(b=a.call(this)),"type",on.CREATE_STREAM),b.liveEventId=l,b.participantId=d,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),oV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:Sp(l.rtcstream)}}}]),s}(),lV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{hosts:l.hosts.map(_o)}}}]),s}(),uV=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.HOST_ALIVE),p.liveEventId=l,p.hostId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),cV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),dV=function(){_(s,cr);var a=A(s);function s(l,d,p,m,g){var b;return c(this,s),v(C(b=a.call(this)),"type",on.HOST_CREATE_STREAM),b.liveEventId=l,b.hostId=d,b.sdp=p,b.audioAttr=m,b.videoAttr=g,b}return f(s,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),hV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:Sp(l.rtcstream)}}}]),s}(),pV=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.ALIVE),p.liveEventId=l,p.participantId=d,p}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),fV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{}}}]),s}(),mV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{participant:Np(l.participant)}}}]),s}(),gV=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.AUDIO),m.liveEventId=l,m.hostId=d,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),vV=function(){_(s,cr);var a=A(s);function s(l,d,p){var m;return c(this,s),v(C(m=a.call(this)),"type",on.VIDEO),m.liveEventId=l,m.hostId=d,m.on=p,m}return f(s,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return nr.POST}}]),s}(),AS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:_o(l.host)}}}]),s}(),_V=function(){_(s,cr);var a=A(s);function s(l,d,p,m,g){var b;return c(this,s),v(C(b=a.call(this)),"type",on.UPDATE),b.liveEventId=l,b.hostIds=d===null?"":Array.isArray(d)?d:[d],b.title=p===null?"":p,b.coverUrl=m===null?"":m,b.coverFile=g===null?"":g,b}return f(s,[{key:"getData",value:function(){function l(p,m,g,b){g!==void 0&&d.set(m,g)}var d=new FormData;return l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),d}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return nr.PUT}}]),s}(),bV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEvent:$s(l.live_event)}}}]),s}(),RS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:$s(l.live_event)}}}]),s}(),yV=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.CUSTOM_ITEMS_GET),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.GET}}]),s}(),EV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items}}}]),s}(),wV=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.CUSTOM_ITEMS_UPDATE),p.liveEventId=l,p.customItems=d,p}return f(s,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.PUT}}]),s}(),xV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items,updatedKeys:l.updated_keys,updatedAt:l.updated_at}}}]),s}(),kV=function(){_(s,cr);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"type",on.CUSTOM_ITEMS_DELETE),p.liveEventId=l,p.keys=d,p}return f(s,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),CV=function(){_(s,gr);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{customItems:l.custom_items,deletedKeys:l.deleted_keys,deletedAt:l.deleted_at}}}]),s}(),MS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,updatedAt:l.updated_at,customItems:l.custom_items,updatedKeys:l.updated_keys}}}]),s}(),DS=function(){_(s,Na);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,deletedAt:l.deleted_at,customItems:l.custom_items,deletedKeys:l.deleted_keys}}}]),s}(),SV=function(){_(s,cr);var a=A(s);function s(l){var d;return c(this,s),v(C(d=a.call(this)),"type",on.CUSTOM_ITEMS_DELETE),d.liveEventId=l,d}return f(s,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return nr.DELETE}}]),s}(),Xt=function(){function a(){c(this,a)}return f(a,null,[{key:"createAuth",value:function(s,l,d){return new Aj(s,l,d)}},{key:"createLiveEvent",value:function(s,l,d,p,m,g){return new Rj(s,l,d,p,m,g)}},{key:"updateLiveEvent",value:function(s,l,d,p,m){return new _V(s,l,d,p,m)}},{key:"createGetLiveEvent",value:function(s){return new Dj(s)}},{key:"createEnterHost",value:function(s,l){return new Lj(s,l)}},{key:"createReady",value:function(s){return new Fj(s)}},{key:"createStart",value:function(s){return new qj(s)}},{key:"createExitHost",value:function(s,l){return new Gj(s,l)}},{key:"createEndLiveEvent",value:function(s){return new $j(s)}},{key:"createEnter",value:function(s){return new Vj(s)}},{key:"createExit",value:function(s,l){return new Kj(s,l)}},{key:"createConnected",value:function(s,l,d){return new Yj(s,l,d)}},{key:"createHostConnected",value:function(s,l,d){return new Jj(s,l,d)}},{key:"createStream",value:function(s,l,d,p,m){return new sV(s,l,d,p,m)}},{key:"createHostCreateStream",value:function(s,l,d,p,m){return new dV(s,l,d,p,m)}},{key:"createDeleteStream",value:function(s,l,d){return new eV(s,l,d)}},{key:"createHostDeleteStream",value:function(s,l,d){return new tV(s,l,d)}},{key:"createAttach",value:function(s,l,d,p){return new iV(s,l,d,p)}},{key:"createAudio",value:function(s,l,d){return new gV(s,l,d)}},{key:"createVideo",value:function(s,l,d){return new vV(s,l,d)}},{key:"createAlive",value:function(s,l){return new pV(s,l)}},{key:"createHostAlive",value:function(s,l){return new uV(s,l)}},{key:"createGetCustomItems",value:function(s){return new yV(s)}},{key:"createUpdateCustomItems",value:function(s,l){return new wV(s,l)}},{key:"createDeleteCustomItems",value:function(s,l){return new kV(s,l)}},{key:"createDeleteAllCustomItems",value:function(s){return new SV(s)}},{key:"parseResponse",value:function(s,l){try{switch(s.type){case on.CREATE:return new Mj(l);case on.GET:return new Uj(l);case on.DELETE:return new jj(l);case on.QUERY:return new m$(l);case on.READY:return new Hj(l);case on.START:return new Bj(l);case on.ENTER_HOST:return new Pj(l);case on.GET_HOSTS:return new lV(l);case on.EXIT_HOST:return new zj(l);case on.HOST_ALIVE:return new cV(l);case on.AUDIO:return new Nb(l);case on.VIDEO:return new Tb(l);case on.HOST_CREATE_STREAM:return new hV(l);case on.HOST_DELETE_STREAM:return new rV(l);case on.HOST_CONNECTED:return new Zj(l);case on.ENTER:return new Wj(l);case on.EXIT:return new Qj(l);case on.ALIVE:return new fV(l);case on.GET_PARTICIPANTS:return new mV(l);case on.CREATE_STREAM:return new oV(l);case on.DELETE_STREAM:return new nV(l);case on.CONNECTED:return new Xj(l);case on.ATTACH:return new aV(l);case on.UPDATE:return new bV(l);case on.CUSTOM_ITEMS_GET:return new EV(l);case on.CUSTOM_ITEMS_UPDATE:return new xV(l);case on.CUSTOM_ITEMS_DELETE:return new CV(l)}}catch{return}}},{key:"parse",value:function(s){if(s.call_type==="live")try{switch(s.type){case on.LIVE_EVENT_READY:return new xS(s);case on.LIVE_EVENT_STARTED:return new kS(s);case on.LIVE_EVENT_ENDED:return new CS(s);case on.LIVE_EVENT_UPDATED:return new RS(s);case on.HOST_ENTERED:return new SS(s);case on.HOST_EXITED:return new NS(s);case on.HOST_CONNECTED:return new TS(s);case on.HOST_DISCONNECTED:return new AS(s);case on.HOST_AUDIO_STATUS_CHANGED:return new Nb(s);case on.HOST_VIDEO_STATUS_CHANGED:return new Tb(s);case on.PARTICIPANT_ENTERED:return new IS(s);case on.PARTICIPANT_EXITED:return new OS(s);case on.CUSTOM_ITEMS_UPDATE:return new MS(s);case on.CUSTOM_ITEMS_DELETE:return new DS(s)}}catch{return}}}]),a}(),NV=qn.forEach,US=Xn,LS=jn,Hr=Dr,Ib=gb("forEach")?[].forEach:function(a){return NV(this,a,1<arguments.length?arguments[1]:void 0)},TV=_r;for(sm in LS)LS[sm]&&dS(US[sm]&&US[sm].prototype);dS(Hr);function PS(a,s,l,d){var p,m=VS(a),g=!jS(function(){var w={};return w[m]=function(){return 7},""[a](w)!=7}),b=g&&!jS(function(){var w=!1,T=/a/;return a==="split"&&((T={constructor:{}}).constructor[QV]=function(){return T},T.flags="",T[m]=/./[m]),T.exec=function(){return w=!0,null},T[m](""),!w});g&&b&&!l||(p=zS(/./[m]),b=s(m,""[a],function(ne,T,L,H,G){var ne=zS(ne),se=T.exec;return se===WV||se===Lb.exec?g&&!G?{done:!0,value:p(T,L,H)}:{done:!0,value:ne(L,T,H)}:{done:!1}}),$S(String.prototype,a,b[0]),$S(Lb,m,b[1])),d&&KV(Lb[m],"sham",!0)}function FS(a,s,l){return s+(l?YV(a,s).length:1)}function HS(a,s){var l=a.exec;if(rW(l))return(l=WS(l,a,s))!==null&&tW(l),l;if(iW(a)==="RegExp")return WS(aW,a,s);throw sW("RegExp#exec called on incompatible receiver")}var ot=mr,qS=or,IV=At,OV=Le,BS=kn,AV=R,RV=Be,MV=am,Nr=_e,DV=Sr,Ut=Cp("slice"),UV=Nr("species"),Ob=Array,LV=Math.max,ql=(ot({target:"Array",proto:!0,forced:!Ut},{slice:function(a,s){var l,d,p,m=RV(this),g=AV(m),b=BS(a,g),w=BS(s===void 0?g:s,g);if(qS(m)&&(l=m.constructor,(l=IV(l)&&(l===Ob||qS(l.prototype))||OV(l)&&(l=l[UV])===null?void 0:l)===Ob||l===void 0))return DV(m,b,w);for(d=new(l===void 0?Ob:l)(LV(w-b,0)),p=0;b<w;b++,p++)b in m&&MV(d,p,m[b]);return d.length=p,d}}),function(){function a(){c(this,a),v(this,"_listeners",{}),v(this,"on",this.addEventListener),v(this,"off",this.removeEventListener)}return f(a,[{key:"addEventListener",value:function(s,l){var d=this;return s in this._listeners||(this._listeners[s]=[]),this._listeners[s].push(l),function(){return d.removeEventListener(s,l)}}},{key:"once",value:function(s,l){var d=this;return this.on(s,function p(){l.apply(void 0,arguments),d.removeEventListener(s,p)})}},{key:"removeEventListener",value:function(s,l){if(s in this._listeners){for(var d=this._listeners[s],p=0,m=d.length;p<m;p++)if(d[p]===l)return void d.splice(p,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(s){if(s in this._listeners){for(var l=this._listeners[s].slice(),d=arguments.length,p=new Array(1<d?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];for(var g,b=0,w=l.length;b<w;b++)(g=l[b]).call.apply(g,[this].concat(p))}}}]),a}()),_s=Se,Ab=Xn.RegExp,nt=_s(function(){var a=Ab("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),Jn=nt||_s(function(){return!Ab("a","y").sticky}),Bt={BROKEN_CARET:nt||_s(function(){var a=Ab("^r","gy");return a.lastIndex=2,a.exec("str")!=null}),MISSED_STICKY:Jn,UNSUPPORTED_Y:nt},wt=Se,PV=Xn.RegExp,pn=wt(function(){var a=PV(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")}),it=Se,FV=Xn.RegExp,en=it(function(){var a=FV("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"}),Ed=Mr,hr=ge,HV=zs,qV=QC,Oa=Bt,Zt=da.exports,BV=tr,GV=St.get,Gt=pn,yt=en,zV=Zt("native-string-replace",String.prototype.replace),om=RegExp.prototype.exec,Rb=om,$V=hr("".charAt),jV=hr("".indexOf),VV=hr("".replace),Mb=hr("".slice),Db=(Pe=/b*/g,Ed(om,qn=/a/,"a"),Ed(om,Pe,"a"),qn.lastIndex!==0||Pe.lastIndex!==0),GS=Oa.BROKEN_CARET,Ub=/()??/.exec("")[1]!==void 0,jn=Rb=Db||Ub||GS||Gt||yt?function(w){var s,l,d,p,m,g,b=this,G=GV(b),w=HV(w),L=G.raw;if(L)return L.lastIndex=b.lastIndex,H=Ed(Rb,L,w),b.lastIndex=L.lastIndex,H;var T=G.groups,L=GS&&b.sticky,H=Ed(qV,b),G=b.source,ne=0,se=w;if(L&&(H=VV(H,"y",""),jV(H,"g")===-1&&(H+="g"),se=Mb(w,b.lastIndex),0<b.lastIndex&&(!b.multiline||b.multiline&&$V(w,b.lastIndex-1)!==`
`)&&(G="(?: "+G+")",se=" "+se,ne++),s=new RegExp("^(?:"+G+")",H)),Ub&&(s=new RegExp("^"+G+"$(?!\\s)",H)),Db&&(l=b.lastIndex),d=Ed(om,L?s:b,se),L?d?(d.input=Mb(d.input,ne),d[0]=Mb(d[0],ne),d.index=b.lastIndex,b.lastIndex+=d[0].length):b.lastIndex=0:Db&&d&&(b.lastIndex=b.global?d.index+d[0].length:l),Ub&&d&&1<d.length&&Ed(zV,d[0],s,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d&&T)for(d.groups=m=BV(null),p=0;p<T.length;p++)m[(g=T[p])[0]]=d[g[1]];return d}:Rb,zS=(mr({target:"RegExp",proto:!0,forced:/./.exec!==jn},{exec:jn}),ge),$S=Gs,WV=jn,jS=Se,VS=_e,KV=_r,QV=VS("species"),Lb=RegExp.prototype,YV=Ur.charAt,Dr=ge,XV=me,JV=Math.floor,Pb=Dr("".charAt),ZV=Dr("".replace),Fb=Dr("".slice),eW=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,nW=/\$([$&'`]|\d{1,2})/g,WS=Mr,tW=ze,rW=Ne,iW=ve,aW=jn,sW=TypeError,oW=zi,KS=Mr,Hr=ge,or=PS,At=Se,lW=ze,uW=Ne,cW=fn,dW=$,wd=zs,hW=Oe,pW=FS,fW=In,mW=function(a,s,l,d,p,m){var g=l+a.length,b=d.length,w=nW;return p!==void 0&&(p=XV(p),w=eW),ZV(m,w,function(T,L){var H;switch(Pb(L,0)){case"$":return"$";case"&":return a;case"`":return Fb(s,0,l);case"'":return Fb(s,g);case"<":H=p[Fb(L,1,-1)];break;default:var G,ne=+L;if(ne==0)return T;if(b<ne)return(G=JV(ne/10))!==0&&G<=b?d[G-1]===void 0?Pb(L,1):d[G-1]+Pb(L,1):T;H=d[ne-1]}return H===void 0?"":H})},gW=HS,Hb=_e("replace"),vW=Math.max,_W=Math.min,bW=Hr([].concat),qb=Hr([].push),QS=Hr("".indexOf),YS=Hr("".slice),Sr="a".replace(/./,"$0")==="$0",XS=!!/./[Hb]&&/./[Hb]("a","$0")==="";or("replace",function(a,s,l){var d=XS?"$":"$0";return[function(p,m){var g=hW(this),b=p==null?void 0:fW(p,Hb);return b?KS(b,p,g,m):KS(s,wd(g),p,m)},function(p,m){var g=lW(this),b=wd(p);if(typeof m=="string"&&QS(m,d)===-1&&QS(m,"$<")===-1&&(p=l(s,g,b,m),p.done))return p.value;for(var w,T=uW(m),L=(T||(m=wd(m)),g.global),H=(L&&(w=g.unicode,g.lastIndex=0),[]);(Q=gW(g,b))!==null&&(qb(H,Q),L);)wd(Q[0])===""&&(g.lastIndex=pW(b,dW(g.lastIndex),w));for(var G,ne="",se=0,Te=0;Te<H.length;Te++){for(var Q,ae=wd((Q=H[Te])[0]),Ee=vW(_W(cW(Q.index),b.length),0),be=[],Ve=1;Ve<Q.length;Ve++)qb(be,(G=Q[Ve])===void 0?G:String(G));var ci=Q.groups,lt=T?(lt=bW([ae],be,Ee,b),ci!==void 0&&qb(lt,ci),wd(oW(m,void 0,lt))):mW(ae,b,Ee,be,ci,m);se<=Ee&&(ne+=YS(b,se,Ee)+lt,se=Ee+ae.length)}return ne+YS(b,se)}]},!!At(function(){var a=/./;return a.exec=function(){var s=[];return s.groups={a:"7"},s},"".replace(a,"$<a>")!=="7"})||!Sr||XS);function Bb(a){return function(s){return s=EW(yW(s)),1&a&&(s=JS(s,wW,"")),s=2&a?JS(s,xW,""):s}}var Nr=ge(1 .valueOf),ot=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,yW=Oe,EW=zs,JS=ge("".replace),Ut=`[	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]`,wW=RegExp("^"+Ut+Ut+"*"),xW=RegExp(Ut+Ut+"*$"),_s={start:Bb(1),end:Bb(2),trim:Bb(3)},Jn=_t,nt=Xn,wt=ge,it=ni,Bt=Gs,ZS=ur,kW=cS,CW=Fr,SW=qt,eN=ln,NW=Se,da=ca.f,TW=cn.f,IW=Vt.f,OW=Nr,AW=_s.trim,tr="Number",Bl=nt[tr],nN=Bl.prototype,RW=nt.TypeError,MW=wt("".slice),lm=wt("".charCodeAt),DW=function(a){var s,l,d,p,m,g,b,w=eN(a,"number");if(SW(w))throw RW("Cannot convert a Symbol value to a number");if(typeof w=="string"&&2<w.length){if(w=AW(w),(a=lm(w,0))===43||a===45){if((s=lm(w,2))===88||s===120)return NaN}else if(a===48){switch(lm(w,1)){case 66:case 98:l=2,d=49;break;case 79:case 111:l=8,d=55;break;default:return+w}for(m=(p=MW(w,2)).length,g=0;g<m;g++)if((b=lm(p,g))<48||d<b)return NaN;return parseInt(p,l)}}return+w};if(it(tr,!Bl(" 0o1")||!Bl("0b1")||Bl("+0x1"))){for(var um,Ip=function(s){var s=arguments.length<1?0:Bl(function(d){return d=eN(d,"number"),typeof d=="bigint"?d:DW(d)}(s)),l=this;return CW(nN,l)&&NW(function(){OW(l)})?kW(Object(s),l,Ip):s},tN=Jn?da(Bl):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Gb=0;tN.length>Gb;Gb++)ZS(Bl,um=tN[Gb])&&!ZS(Ip,um)&&IW(Ip,um,TW(Bl,um));Bt(nt,tr,(Ip.prototype=nN).constructor=Ip,{constructor:!0})}function zb(a){Object.keys(a).forEach(function(s){var l;((l=a[s])===void 0||Number.isNaN(l)||l===""||Array.isArray(l)&&l.length===0)&&delete a[s]})}var Ct,$b,Op,rr,Ap,UW=function(){var a=u(regeneratorRuntime.mark(function s(l){var d,p,m,g,b,w,T,L,H;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(l){G.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return G.next=4,l.getStats();case 4:d=G.sent,m=d.entries(),g=0;case 7:if(!(g<d.size)){G.next=18;break}if(b=m.next(),b=b.value){G.next=11;break}return G.abrupt("continue",15);case 11:if((w=b[1]).type==="candidate-pair"&&w.state==="succeeded")return p=w.localCandidateId,G.abrupt("break",18);G.next=15;break;case 15:g++,G.next=7;break;case 18:if(!(g<d.size)){G.next=28;break}if(w=m.next(),T=w.value){G.next=22;break}return G.abrupt("continue",25);case 22:if((L=T[1]).type==="local-candidate"&&L.id===p)return G.abrupt("return",{connectionType:(H=L.candidateType)!=null?H:"",protocol:(H=L.protocol)!=null?H:"",relayProtocol:(H=L.relayProtocol)!=null?H:""});G.next=25;break;case 25:g++,G.next=18;break;case 28:return G.abrupt("return",null);case 29:case"end":return G.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),LW=function(){var a=u(regeneratorRuntime.mark(function s(l){var d,p,m,g,b,w,T;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return d={},p={},m={},g={},b=new Map,w=new Map,l.forEach(function(H){H.type==="codec"&&b.set(H.id,H),H.type==="candidate-pair"&&H.state==="succeeded"&&(T=H.localCandidateId,d.webrtc_timestamp=H.time),H.type==="media-source"&&w.set(H.kind,H)}),l.forEach(function(H){var G;H.type==="local-candidate"&&H.id===T&&(p.network_type=H.networkType,p.protocol=H.protocol,p.candidate_type=H.candidateType),H.kind!=="audio"&&H.mediaType!=="audio"||(H.type==="outbound-rtp"&&(m.codec=(G=b.get(H.codecId))==null?void 0:G.mimeType,m.total_packets_sent=H.packetsSent,m.retransmitted_packets_sent=H.retransmittedPacketsSent),H.type==="remote-inbound-rtp"&&(m.rtt=1e3*H.roundTripTime),H.type==="inbound-rtp"&&(G=H.packetsLost/(H.packetsLost+H.packetsReceived)*100,m.total_packets_received=H.packetsReceived,m.total_packets_lost_rate=G,m.total_packets_lost=H.packetsLost,m.jitter=1e3*H.jitter),H.type==="track"&&H.remoteSource&&(m.jitter_buffer_delay=H.jitterBufferDelay,m.jitter_buffer_emitted_count=H.jitterBufferDelayEmittedCount)),H.kind!=="video"&&H.mediaType!=="video"||(g.video_source_width=(G=w.get("video"))==null?void 0:G.width,g.video_source_height=(G=w.get("video"))==null?void 0:G.height,g.video_source_frames_per_second=(G=w.get("video"))==null?void 0:G.framesPerSecond,H.type==="outbound-rtp"&&(g.codec=(G=b.get(H.codecId))==null?void 0:G.mimeType,g.fir_count=H.firCount,g.pli_count=H.pliCount,g.nack_count=H.nackCount,g.qp_sum=H.qpSum,g.retransmitted_packets_sent=H.retransmittedBytesSent,g.quality_limitation_reason=H.qualityLimitationReason,g.quality_limitation_resolution_changes=H.qualityLimitationResolutionChanges),H.type==="remote-inbound-rtp"&&(g.rtt=1e3*H.roundTripTime),H.type==="inbound-rtp"&&(g.header_bytes_received=H.headerBytesReceived,g.key_frames_decoded=H.keyFramesDecoded,g.total_decode_time=H.totalDecodeTime,g.total_inter_frame_delay=H.totalInterFrameDelay,g.total_squared_inter_frame_delay=H.totalSquaredInterFrameDelay,G=H.packetsLost/(H.packetsLost+H.packetsReceived)*100,g.total_packets_lost=H.packetsLost,g.total_packets_received=H.packetsReceived,g.total_packets_lost_rate=G),H.type==="track"&&(H.remoteSource?(g.jitter_buffer_delay=H.jitterBufferDelay,g.jitter_buffer_emitted_count=H.jitterBufferDelayEmittedCount,g.received_frame_width=H.frameWidth,g.received_frame_height=H.frameHeight,g.frames_received=H.framesReceived,g.frames_decoded=H.framesDecoded,g.frames_dropped=H.framesDropped,g.freeze_count=H.freezeCount,g.pause_count=H.pauseCount,g.total_freezes_duration=H.totalFreezesDuration,g.total_pauses_duration=H.totalPausesDuration,g.total_frames_duration=H.totalFramesDuration,g.sum_of_squared_frames_duration=H.sumOfSquaredFramesDuration):(g.sent_frame_width=H.frameWidth,g.sent_frame_height=H.frameHeight)))}),zb(p),zb(m),zb(g),d.transport_info=p,d.audio=m,d.video=g,L.abrupt("return",d);case 15:case"end":return L.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),PW=function(){var a=u(regeneratorRuntime.mark(function s(l){var d;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l){p.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return p.next=4,l.getStats();case 4:return d=p.sent,p.abrupt("return",LW(d));case 6:case"end":return p.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),rN=function(){function a(s){c(this,a),this._context=s}return f(a,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(s){this._state&&this._state.type===s.type||(this._state&&this._state.destroy(),this._state=s,this._state.context=this._context,this._state.start())}}]),a}(),iN=function(){function a(s){c(this,a),this._stateMutator=s}return f(a,[{key:"context",set:function(s){this._context=s}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),a}(),aN=function(){function a(s,l){c(this,a),this._context=s,this._stateMutator=l,this._context=s,this._stateMutator=l}return f(a,[{key:"state",get:function(){return this._stateMutator.state}}]),a}(),Gl=function(){_(s,iN);var a=A(s);function s(l){return c(this,s),a.call(this,l)}return f(s)}(),FW=((St=Ct=Ct||{}).IDLE="idle",St.OFFERING="offering",St.ANSWERING="answering",St.CONNECTED="connected",St.RECONNECTING="reconnecting",St.ICE_RESTART_OFFERING="iceRestartOffering",St.ICE_RESTART_ANSWERING="iceRestartAnswering",St.CLOSED="closed",function(){_(l,Gl);var a,s=A(l);function l(d,p){return c(this,l),v(C(d=s.call(this,d)),"type",Ct.ANSWERING),d._offerCommand=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(g){});case 4:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}()),HW=function(){_(s,Gl);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",Ct.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}(),qW=function(){_(l,Gl);var a,s=A(l);function l(d,p){return c(this,l),v(C(d=s.call(this,d)),"type",Ct.CONNECTED),d._isReconnected=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),BW=function(){_(l,Gl);var a,s=A(l);function l(d,p){return c(this,l),v(C(d=s.call(this,d)),"type",Ct.ICE_RESTART_ANSWERING),d._offerCommand=p,d}return f(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(g){});case 3:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),GW=function(){_(s,Gl);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",Ct.ICE_RESTART_OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),zW=function(){_(l,Gl);var a,s=A(l);function l(){var d;c(this,l);for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return v(C(d=s.call.apply(s,[this].concat(m))),"type",Ct.IDLE),d}return f(l,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(a=u(regeneratorRuntime.mark(function d(p){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return m.stop()}},d,this)})),function(d){return a.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(),$W=function(){_(s,Gl);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",Ct.OFFERING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),jW=function(){_(s,Gl);var a=A(s);function s(l,d){return c(this,s),v(C(l=a.call(this,l)),"type",Ct.RECONNECTING),l._offerCommand=d,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(l){this._stateMutator.toIceRestartAnswering(l)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),s}(),VW=function(){_(s,rN);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new zW(this))}},{key:"toOffering",value:function(){this._changeState(new $W(this))}},{key:"toAnswering",value:function(l){this._changeState(new FW(this,l))}},{key:"toConnected",value:function(l){this._changeState(new qW(this,l))}},{key:"toReconnecting",value:function(l){this._changeState(new jW(this,l))}},{key:"toIceRestartOffering",value:function(){this._changeState(new GW(this))}},{key:"toIceRestartAnswering",value:function(l){this._changeState(new BW(this,l))}},{key:"toClosed",value:function(){this._changeState(new HW(this))}}]),s}(),WW=function(){_(s,aN);var a=A(s);function s(l){return c(this,s),(l=a.call(this,l,new VW(l)))._stateMutator.toIdle(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(l){hn.verbose("[".concat(this.state.type,"] onOfferReceived"));var d=this.state;switch(d.type){case Ct.IDLE:case Ct.ANSWERING:case Ct.CONNECTED:case Ct.RECONNECTING:case Ct.ICE_RESTART_ANSWERING:d.onOfferReceived(l);break;default:hn.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(l){hn.verbose("[".concat(this.state.type,"] onAnswerReceived"));var d=this.state;switch(d.type){case Ct.OFFERING:case Ct.ICE_RESTART_OFFERING:d.onAnswerReceived(l);break;default:hn.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){hn.verbose("[".concat(this.state.type,"] onClose"));var l=this.state;switch(l.type){case Ct.IDLE:case Ct.OFFERING:case Ct.ANSWERING:case Ct.CONNECTED:case Ct.RECONNECTING:case Ct.ICE_RESTART_OFFERING:case Ct.ICE_RESTART_ANSWERING:l.onClose();break;default:hn.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){hn.verbose("[".concat(this.state.type,"] createOffer"));var l=this.state;l.type===Ct.IDLE?l.createOffer():hn.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){hn.verbose("[".concat(this.state.type,"] onIceConnected"));var l=this.state;switch(l.type){case Ct.OFFERING:case Ct.ANSWERING:case Ct.RECONNECTING:case Ct.ICE_RESTART_OFFERING:case Ct.ICE_RESTART_ANSWERING:l.onIceConnected();break;default:hn.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){hn.verbose("[".concat(this.state.type,"] onIceDisconnected"));var l=this.state;l.type===Ct.CONNECTED?l.onIceDisconnected():hn.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){hn.verbose("[".concat(this.state.type,"] onIceFailed"));var l=this.state;switch(l.type){case Ct.CONNECTED:case Ct.RECONNECTING:l.onIceFailed();break;default:hn.error("[".concat(this.state.type,"] onIceFailed"))}}}]),s}(),KW=((pn=$b=$b||{}).RELAY="relay",pn.ALL="all",function(){_(m,ql);var a,s,l,d,p=A(m);function m(g,b,w,T,L,H,G,ne){var se;return c(this,m),(se=p.call(this))._ctx=g,se.id=b,se._signalingClient=w,se._localStream=T,se._isInitiator=L,se._turnCredential=H,se._mediaDirections=G,se._isDisposable=ne,se._stateMachine=new WW({dispatchEvent:se._dispatchEvent.bind(C(se)),isInitiator:se._isInitiator,setRemoteDescription:se._setRemoteDescription.bind(C(se)),sendAnswer:se._sendAnswer.bind(C(se)),sendOffer:se._sendOffer.bind(C(se)),createRTCConnection:se._createRTCConnection.bind(C(se)),prepareSessionDescription:se._prepareSessionDescription.bind(C(se)),isDisposable:se._isDisposable}),T&&T.on("streamChanged",function(Te){return se.onLocalStream(Te)}),se}return f(m,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(g){switch(g.type){case Op.CANDIDATE:return void this._receiveCandidate(g);case Op.OFFER:this._stateMachine.onOfferReceived(g);break;case Op.ANSWER:this._stateMachine.onAnswerReceived(g);break;default:hn.error(new Error("unhandled call event ".concat(g)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(g){if(this._rtcConnection){var b,w=V(g.getTracks());try{for(w.s();!(b=w.n()).done;){var T=b.value;this._replaceTrack(T)}}catch(L){w.e(L)}finally{w.f()}}}},{key:"getCandidateInfo",value:(d=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",UW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return d.apply(this,arguments)})},{key:"getStatsLog",value:(l=u(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",PW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return l.apply(this,arguments)})},{key:"_replaceTrack",value:function(g){var b,w=V(this._rtcConnection.getSenders());try{for(w.s();!(b=w.n()).done;){var T=b.value;T.track&&T.track.kind===g.kind&&T.replaceTrack(g)}}catch(L){w.e(L)}finally{w.f()}}},{key:"_createRTCConnection",value:function(){var g,b=this,w=(this._turnCredential&&(g={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||$b.ALL}),new RTCPeerConnection(g));w.onnegotiationneeded=function(){b._sendOffer(!1)},w.onicecandidate=function(T){var L,H;T.candidate&&(L=(H=b._signalingClient).sendCandidate)!=null&&L.call(H,T.candidate)},w.onconnectionstatechange=function(){return b._handleConnectionStateChange(w)},w.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(w)},w.ontrack=function(T){return b._onRemoteTrack(T)},this._rtcConnection=w}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var b=this._mediaDirections,g=b.audio,b=b.video,w={sendrecv:[],sendonly:[],recvonly:[],none:[]};w[g].push("audio"),w[b].push("video"),w.sendrecv.length&&this._addTracks(w.sendrecv),w.sendonly.length&&this._addSendOnlyTransceivers(w.sendonly),w.recvonly.length&&this._addReceiveOnlyTransceivers(w.recvonly)}},{key:"_addTracks",value:function(g){var b=this,w=(hn.debug("_addTracks()"),this._localStream.localStream);w.getTracks().forEach(function(T){g.includes(T.kind)&&b._rtcConnection.addTrack(T,w)})}},{key:"_addReceiveOnlyTransceivers",value:function(g){var b=this;g.forEach(function(w){b._rtcConnection.addTransceiver(w,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(g){var b=this,w=this._localStream.localStream;g.forEach(function(T){w.getTracks().forEach(function(L){L.kind===T&&b._rtcConnection.addTransceiver(L,{direction:"sendonly",streams:[w]})})})}},{key:"_setRemoteDescription",value:function(g,b){return b=b.replace(/a=extmap:0 ulpfec\r\n/,""),g=new RTCSessionDescription({type:g,sdp:b}),this._rtcConnection.setRemoteDescription(g)}},{key:"_sendOffer",value:(s=u(regeneratorRuntime.mark(function g(b){var w;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return w={iceRestart:b||!1},T.next=3,this._rtcConnection.createOffer(w);case 3:return w=T.sent,T.next=6,this._rtcConnection.setLocalDescription(w);case 6:return T.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return T.stop()}},g,this)})),function(g){return s.apply(this,arguments)})},{key:"_sendAnswer",value:(a=u(regeneratorRuntime.mark(function g(){var b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._rtcConnection.createAnswer();case 2:return(b=w.sent).sdp=b.sdp.replace("actpass","active"),w.next=6,this._rtcConnection.setLocalDescription(b);case 6:return w.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return w.stop()}},g,this)})),function(){return a.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(g){switch(hn.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(g.iceConnectionState)),g.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(g){hn.verbose("[".concat(this._state.type,"] connectionState ").concat(g.connectionState))}},{key:"_receiveCandidate",value:function(g){g=g.payload.candidate,this._rtcConnection.addIceCandidate({sdpMLineIndex:g.sdpMLineIndex,sdpMid:g.sdpMid,candidate:g.sdp}).catch(function(b){hn.error(b)})}},{key:"_onRemoteTrack",value:function(g){this._remoteStream=g.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),m}()),jb=((en=Op=Op||{}).OFFER="offer",en.ANSWER="answer",en.CANDIDATE="candidate",f(function a(){var s=this;c(this,a),this.promise=new Promise(function(l,d){s.resolve=l,s.reject=d})})),sN=function(){var a=u(regeneratorRuntime.mark(function s(l,d,p){var m,g,b,w,T,L,H=arguments;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=3<H.length&&H[3]!==void 0?H[3]:{count:0,deferred:new jb},m=b.deferred,g=b.count,G.prev=2,G.next=5,d();case 5:b=G.sent,0<g&&(w=p.onRecover)!=null&&w.call(p),m.resolve(b),G.next=19;break;case 10:if(G.prev=10,G.t0=G.catch(2),(w=p.onError)!=null&&w.call(p,G.t0),0<=(T=l.calcTimeout(g+1)))return(L=p.onRetrial)!=null&&L.call(p,g+1,G.t0),setTimeout(function(){sN(l,d,p,{count:g+1,deferred:m})},T),G.abrupt("return",m.promise);G.next=18;break;case 18:m.reject(G.t0);case 19:return G.abrupt("return",m.promise);case 20:case"end":return G.stop()}},s,null,[[2,10]])}));return function(s,l,d){return a.apply(this,arguments)}}(),QW=function(){function a(){c(this,a)}return f(a,[{key:"calcTimeout",value:function(s){switch(s){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),a}(),YW=function(){function a(s,l,d){c(this,a),this.interval=s,this.noise=l,this.maxRetrial=d}return f(a,[{key:"calcTimeout",value:function(s){return s>this.maxRetrial?-1:s*this.interval+(Math.random()-.5)*this.noise*2}}]),a}(),oN=function(){function a(s){c(this,a),this._requests=new Map,this.timeoutTime=s}return f(a,[{key:"has",value:function(s){return this._requests.has(s)}},{key:"get",value:function(s){return this._requests.get(s)}},{key:"register",value:function(s){if(!s)throw new Error("invalid request id");if(this._requests.has(s))throw new Error("duplicate requests");var l=new jb;return this._requests.set(s,{deferred:l,timer:this._createTimeoutTimer(s)}),l}},{key:"unregister",value:function(s){if(!this._requests.has(s))return null;var d=this._requests.get(s),l=d.timer,d=d.deferred;return clearTimeout(l),this._requests.delete(s),d}},{key:"_createTimeoutTimer",value:function(s){var l=this;return setTimeout(function(){l.unregister(s).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(s){var l,d=V(this._requests.keys());try{for(d.s();!(l=d.n()).done;){var p=l.value,m=this._requests.get(p);clearTimeout(m.timer),m.deferred.reject(s)}}catch(g){d.e(g)}finally{d.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),a}(),XW=function(){function a(p,m,g,b){c(this,a),v(this,"_timeoutTime",6e4),this._ctx=p,this._participantId=m,this._mediaDirections=g,this._endpointId=b,this._requestMap=new oN(this._timeoutTime)}var s,l,d;return f(a,[{key:"sendOfferSdp",value:(d=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this._endpointId){g.next=5;break}return g.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(m);case 3:g.next=7;break;case 5:return g.next=7,this._sendOfferAndUnregisterPutEndpointRequest(m);case 7:case"end":return g.stop()}},p,this)})),function(p){return d.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(l=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return l.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(s=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),w.prev=1,w.next=4,this._sendCreateEndpoint(m);case 4:return b=w.sent,g&&g.resolve(b),w.abrupt("return",b);case 9:throw w.prev=9,w.t0=w.catch(1),g&&g.reject(w.t0),w.t0;case 13:case"end":return w.stop()}},p,this,[[1,9]])})),function(p){return s.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(this._endpointId)return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"));throw new Error("Cannot register put endpoint request without endpoint id")}},{key:"_sendCreateEndpoint",value:function(p){return this._ctx.sendCreateEndpoint(p)}},{key:"_sendPutEndpoint",value:function(p){return this._ctx.sendPutEndpoint(p)}}]),a}(),xd=function(){_(s,iN);var a=A(s);function s(l){return c(this,s),a.call(this,l)}return f(s)}(),JW=((Zt=rr=rr||{}).PENDING="pending",Zt.ESTABLISHED="established",Zt.CONNECTED="connected",Zt.FAILED="failed",Zt.RELEASING="releasing",Zt.CLOSED="closed",function(){_(s,xd);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",rr.CLOSED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),s}()),ZW=function(){_(s,xd);var a=A(s);function s(l){return c(this,s),v(C(l=a.call(this,l)),"type",rr.CONNECTED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),eK=function(){_(s,xd);var a=A(s);function s(l,d,p){return c(this,s),v(C(l=a.call(this,l)),"type",rr.ESTABLISHED),l._sdp=d,l._hasPendingAttach=p,l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),nK=function(){_(s,xd);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",rr.FAILED),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("failed"),this._context.endpoint.id?this._stateMutator.toReleasing():this._stateMutator.toClosed()}},{key:"_onDestroy",value:function(){}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),tK=function(){_(s,xd);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",rr.PENDING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("pending"),this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){var l=this,d=(this._context.trialCount+=1,this._context.trialCount);9<=d?this._stateMutator.toFailed():1<d?this._requestTimeout=setTimeout(function(){l._context.createSession()},5e3*d+2e3*(Math.random()-.5)):this._context.createSession()}},{key:"onEndpointRequestSucceeded",value:function(l){this._stateMutator.toEstablished(l,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._request()}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),rK=function(){_(s,xd);var a=A(s);function s(){var l;c(this,s);for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return v(C(l=a.call.apply(a,[this].concat(p))),"type",rr.RELEASING),l}return f(s,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),s}(),iK=function(){_(s,rN);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toPending",value:function(){this._changeState(new tK(this))}},{key:"toEstablished",value:function(l,d){this._changeState(new eK(this,l,d))}},{key:"toConnected",value:function(){this._changeState(new ZW(this))}},{key:"toFailed",value:function(){this._changeState(new nK(this))}},{key:"toReleasing",value:function(){this._changeState(new rK(this))}},{key:"toClosed",value:function(){this._changeState(new JW(this))}}]),s}(),aK=function(){_(s,aN);var a=A(s);function s(l){return c(this,s),(l=a.call(this,l,new iK(l)))._stateMutator.toPending(),l}return f(s,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(l){hn.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var d=this.state;switch(d.type){case rr.PENDING:d.onEndpointRequestSucceeded(l);break;case rr.RELEASING:d.onEndpointRequestSucceeded();break;default:hn.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){hn.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var l=this.state;switch(l.type){case rr.PENDING:case rr.RELEASING:l.onEndpointRequestFailed();break;default:hn.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){hn.verbose("[".concat(this.state.type,"] onICEFailed"));var l=this.state;switch(l.type){case rr.ESTABLISHED:case rr.CONNECTED:l.onICEFailed();break;default:hn.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){hn.verbose("[".concat(this.state.type,"] onPCConnected"));var l=this.state;l.type===rr.ESTABLISHED?l.onPCConnected():hn.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){hn.verbose("[".concat(this.state.type,"] onAttach"));var l=this.state;switch(l.type){case rr.PENDING:case rr.ESTABLISHED:case rr.CONNECTED:l.onAttach();break;default:hn.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){hn.verbose("[".concat(this.state.type,"] onRelease"));var l=this.state;switch(l.type){case rr.PENDING:case rr.ESTABLISHED:case rr.CONNECTED:l.onRelease();break;default:hn.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){hn.verbose("[".concat(this.state.type,"] onReleased"));var l=this.state;l.type===rr.RELEASING?l.onReleased():hn.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){hn.verbose("[".concat(this.state.type,"] onExit"));var l=this.state;switch(l.type){case rr.RELEASING:case rr.PENDING:case rr.CONNECTED:case rr.ESTABLISHED:case rr.FAILED:l.onExit();break;default:hn.error("[".concat(this.state.type,"] onExit"))}}}]),s}(),sK=function(){_(s,im);var a=A(s);function s(l){var d;return c(this,s),(d=a.call(this)).payload=l.payload||{},d}return f(s)}(),Vb=function(){_(s,sK);var a=A(s);function s(){return c(this,s),a.apply(this,arguments)}return f(s)}(),oK=((hr=Ap=Ap||{}).OFFER="offer",hr.ANSWER="answer",hr.CANDIDATE="candidate",function(){_(s,Vb);var a=A(s);function s(l){return c(this,s),v(C(l=a.call(this,{payload:l})),"type",Ap.ANSWER),l}return f(s)}()),lK=function(){_(s,Vb);var a=A(s);function s(l){return c(this,s),v(C(l=a.call(this,{payload:l})),"type",Ap.CANDIDATE),l}return f(s)}(),uK=function(){_(s,Vb);var a=A(s);function s(l){return c(this,s),v(C(l=a.call(this,{payload:l})),"type",Ap.OFFER),l}return f(s)}(),cK=function(){function a(){c(this,a)}return f(a,null,[{key:"createOffer",value:function(s,l){return new uK({peerConnectionId:s,sdp:l})}},{key:"createAnswer",value:function(s,l){return new oK({peerConnectionId:s,sdp:l})}},{key:"createCandidate",value:function(s,l){return new lK({peerConnectionId:s,candidate:l})}}]),a}(),lN=function(){_(s,ql);var a=A(s);function s(l,d,p,m){var g;return c(this,s),v(C(g=a.call(this)),"tmpId",He()),v(C(g),"_createSession",function(){switch(hn.debug("_createSession()"),g._type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:hn.error("Not supported endpoint type : ",g._type)}}),v(C(g),"_closePeerConnection",function(){hn.debug("_closePeerConnection()"),g._pc.removeAllEventListeners(),g._pc.close()}),v(C(g),"_requestAttach",function(){sN(new YW(5e3,1e3,8),function(){return g._sendAttach(g._attachedTo)},{onError:function(b){hn.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g._attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){g._dispatchEvent("attached",g._attachedTo)})}),v(C(g),"_requestRelease",function(){hn.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){hn.error("Release request failed",b),g._stateMachine.onReleased()})}),v(C(g),"_setRemoteDescription",function(T){hn.debug("_setRemoteDescription()");var w=g._pc,T=cK.createAnswer(void 0,T);w.onEvent(T),w.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),w.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=l,g._localStream=d,g._type=p,g._participantId=m,g._stateMachine=new aK({endpoint:C(g),dispatchEvent:g._dispatchEvent.bind(C(g)),createSession:g._createSession,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0}),g}return f(s,[{key:"pc",get:function(){return this._pc}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(l){hn.debug("attach()"),this._attachedTo=l,this._stateMachine.onAttach()}},{key:"release",value:function(){hn.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){hn.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){hn.debug("_createMasterSession()"),this._createPeerConnection(this._masterSessionDirection,this._localStream),this._requestCreateEndpoint()}},{key:"_createViewerSession",value:function(){hn.debug("_createViewerSession()"),this._createPeerConnection(this._viewerSessionDirection,void 0),this._requestCreateEndpoint()}},{key:"_createPeerConnection",value:function(l,d){hn.debug("_createPeerConnection()");var p=new XW(this._ctx,this._participantId,l,this.id);this._pc=new KW(this._ctx,void 0,p,d,!0,void 0,l,!0),this._dispatchEvent("pcChanged",this._pc)}},{key:"_requestCreateEndpoint",value:function(){var l=this,d=(hn.debug("_requestCreateEndpoint()"),this._pc),p=this.id?d.signalingClient.registerPutEndpointRequest():d.signalingClient.registerCreateEndpointRequest();d.createOffer(),p.promise.then(function(m){l.id=m.payload.endpoint.id,l._stateMachine.onEndpointRequestSucceeded(m.payload.sdp)}).catch(function(m){hn.error("Endpoint request failed",m),l._stateMachine.onEndpointRequestFailed()})}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(l){return this._ctx.sendAttach(this,l)}}]),s}(),dK=function(){_(l,ql);var a,s=A(l);function l(){return c(this,l),s.call(this)}return f(l,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(a=u(regeneratorRuntime.mark(function d(){var p,m=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:p=g.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){m._releaseStream(),m._dispatchEvent("streamStopped")},g.next=19;break;case 8:g.prev=8,g.t0=g.catch(0),g.t1=g.t0.name,g.next=g.t1==="InvalidStateError"?13:g.t1==="NotAllowedError"?14:g.t1==="NotFoundError"?15:g.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return g.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return g.stop()}},d,this,[[0,8]])})),function(){return a.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var d,p=V(this._stream.getTracks());try{for(p.s();!(d=p.n()).done;)d.value.stop()}catch(m){p.e(m)}finally{p.f()}delete this._stream}}}]),l}(),hK=function(){_(l,ql);var a,s=A(l);function l(d){var p,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0};return c(this,l),v(C(p=s.call(this)),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),p._deviceManager=d,p._mediaConstraints=m,p._screenShare=new dK,p._screenShare.on("streamStopped",function(){p._releaseMergedStream(),p._dispatchEvent("screenShareStreamStopped")}),p}return f(l,[{key:"mediaConstraints",set:function(d){this._mediaConstraints=d}},{key:"hasPermission",get:function(){var d;return(d=this._mediaAccess)==null?void 0:d.hasPermission}},{key:"localStream",get:function(){return this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(a=u(regeneratorRuntime.mark(function d(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this._checkScreenSharePrerequisites(),p.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return p.stop()}},d,this)})),function(){return a.apply(this,arguments)})},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(d){var p=this;this._mediaAccess=this._deviceManager.useMedia(d),this._mediaAccess.on("streamChanged",function(){p._screenShare.isSharing&&p._mergeScreenShareStream(),p._dispatchEvent("streamChanged",p.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return p._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){var d;this._screenShare.isSharing&&(d=new MediaStream,this._mediaAccess.stream&&0<this._mediaAccess.stream.getAudioTracks().length&&d.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),d.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=d)}},{key:"_releaseMergedStream",value:function(){this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this._dispatchEvent("streamChanged",this.localStream))}}]),l}(),Wb=function(){function a(p,m,g,b){c(this,a),this._liveEvent=p,this._sender=g,this._deviceManager=m,this._mediaOption=b}var s,l,d;return f(a,[{key:"mediaView",get:function(){return this._mediaView},set:function(p){this._mediaView!==p&&(this._mediaView&&(this._mediaView=null),p?this.isHostStream?this._mediaView=this._updateMediaViewStream(p,this.localStream):this._mediaView=this._updateMediaViewStream(p,this.stream):delete this._mediaView)}},{key:"localStream",get:function(){var p;return(p=this._localStream)==null?void 0:p.localStream}},{key:"stream",get:function(){var p;return(p=this._endpoint.pc)==null?void 0:p.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var p=this;this._localStream=new hK(this._deviceManager,{audio:!0,video:!0}),this._localStream.on("streamChanged",function(){p._onLocalStream()})}},{key:"_createEndpoint",value:function(){var p,m=this;return this.isHostStream?(this._localStream||this._createLocalStream(),new lN({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId)):(p=new lN({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId),this._unsubscriber=p.pc.on("remoteStream",function(g){m._onStream()}),p)}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(p){p&&this._endpoint.release(),this._teardown()}},{key:"attach",value:function(p){this._endpoint.attach(p)}},{key:"toggleAudio",value:function(p){var m;(m=this.localStream.getAudioTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnAudioOn=p}},{key:"toggleVideo",value:function(p){var m;(m=this.localStream.getVideoTracks())!=null&&m.forEach(function(g){g.enabled=p}),this._mediaOption.turnVideoOn=p}},{key:"chooseMediaDevice",value:function(p,m){this._deviceManager.selectDevice(p,m)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var p=this.stream;this._mediaView&&this._updateMediaViewStream(this._mediaView,p)}},{key:"_updateMediaViewStream",value:function(p,m){return m&&(p.srcObject=m),p}},{key:"_sendConnected",value:(d=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=this.isHostStream?Xt.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.id):Xt.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id),b.abrupt("return",this._sender.send(g));case 2:case"end":return b.stop()}},p,this)})),function(p){return d.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(p){return p=this.isHostStream?Xt.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,p.id):Xt.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id),this._sender.sendWithRetry(p)}},{key:"_sendAttach",value:function(p,m){return p=Xt.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,p.id,m),this._sender.sendWithRetry(p)}},{key:"_sendCreateEndpoint",value:(l=u(regeneratorRuntime.mark(function p(m){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.isHostStream)return g=Xt.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.sdp,"sendonly","sendonly"),b.abrupt("return",this._sender.send(g));b.next=5;break;case 5:return g=Xt.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.sdp,"recvonly","recvonly"),b.abrupt("return",this._sender.send(g));case 7:case"end":return b.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(s=u(regeneratorRuntime.mark(function p(m){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._sendCreateEndpoint(m));case 1:case"end":return g.stop()}},p,this)})),function(p){return s.apply(this,arguments)})},{key:"_teardown",value:function(){var p;(p=this._endpoint)!=null&&p.exit(),(this._endpoint=null)!=(p=this._unsubscriber)&&p.call(this),this._unsubscriber=null}}]),a}(),pK=(t.ErrorCode=void 0,(qn=t.ErrorCode||(t.ErrorCode={}))[qn.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",qn[qn.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",qn[qn.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",qn[qn.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",qn[qn.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",qn[qn.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",qn[qn.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",qn[qn.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",qn[qn.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",function(){function a(){c(this,a)}return f(a,null,[{key:"getErrorMessage",value:function(s){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},l=(l.invalidParameter,l.methodName),d=l===void 0?"":l;switch(s){case t.ErrorCode.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case t.ErrorCode.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(d,", ").concat(d,", ").concat(d," methods for a live event that is not in the 'ongoing' or 'ready' state.");case t.ErrorCode.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case t.ErrorCode.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case t.ErrorCode.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case t.ErrorCode.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case t.ErrorCode.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case t.ErrorCode.QUERY_IN_PROGRESS:return"The last query is in progress.";case t.ErrorCode.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),a}()),fK=["message","error"],mK=function(){_(s,D(Error));var a=A(s);function s(l){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},p=m.message,d=m.error,m=N(m,fK),p=(c(this,s),p||pK.getErrorMessage(l,m)),m=a.call(this,p);return m.code=l,m._error=d,m}return f(s)}(),Kb=function(){_(Te,ql);var a,s,l,d,p,m,g,b,w,T,L,H,G,ne,se=A(Te);function Te(lt){var ae,Ee=lt.deviceManager,be=lt.sender,Ve=lt.sb,ci=lt.userId,lt=lt.info;return c(this,Te),v(C(ae=se.call(this)),"_customItemsUpdatedAt",0),ae._deviceManager=Ee,ae._sender=be,ae._sb=Ve,ae._userId=ci,ae._streams=new Map,ae._customItems=null,lt&&Object.assign(C(ae),lt),ae._unsubscriber=ae._sender.on("command",function(tu){ae._onEvent(tu)}),ae}return f(Te,[{key:"customItems",get:function(){return i({},this._customItems)},set:function(Q){this._customItems=Q}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?t.LiveEventRole.HOST:t.LiveEventRole.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===t.LiveEventRole.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&this.host&&this.host.userId===this._userId}},{key:"duration",get:function(){return 0<this._duration?this._duration:Date.now()-this.startedAt},set:function(Q){this._duration=Q}},{key:"fetchOpenChannel",value:(ne=u(regeneratorRuntime.mark(function Q(){var ae;return regeneratorRuntime.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return ae=Ee.sent,ae=this._sb.openChannel.buildOpenChannelFromSerializedData(ae),this.openChannel=ae,Ee.abrupt("return",ae);case 6:case"end":return Ee.stop()}},Q,this)})),function(){return ne.apply(this,arguments)})},{key:"_getOpenChannel",value:(G=u(regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(this.openChannel)return ae.abrupt("return",this.openChannel);ae.next=2;break;case 2:return ae.abrupt("return",this.fetchOpenChannel());case 3:case"end":return ae.stop()}},Q,this)})),function(){return G.apply(this,arguments)})},{key:"enterAsHost",value:(H=u(regeneratorRuntime.mark(function Q(ae){var Ee,be;return regeneratorRuntime.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,this._getOpenChannel();case 2:return Ee=Ve.sent,Ve.next=5,Ee.enter();case 5:return Ve.prev=5,Ve.next=8,this._sender.send(Xt.createEnterHost(this.liveEventId,ae));case 8:be=Ve.sent,be=be.payload.host,ae&&this._streams.set(be.hostId,new Wb(this,this._deviceManager,this._sender,ae)),this.upsert({host:be}),Ve.next=19;break;case 14:return Ve.prev=14,Ve.t0=Ve.catch(5),Ve.next=18,Ee.exit();case 18:throw Ve.t0;case 19:this._startToSendAlive();case 20:case"end":return Ve.stop()}},Q,this,[[5,14]])})),function(Q){return H.apply(this,arguments)})},{key:"setEventReady",value:(L=u(regeneratorRuntime.mark(function Q(){var ae;return regeneratorRuntime.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(this.isHost){Ee.next=2;break}throw new Error("host only action");case 2:return Ee.next=4,this._sender.send(Xt.createReady(this.liveEventId));case 4:ae=Ee.sent,ae=ae.payload.liveEvent,this.upsert(ae);case 7:case"end":return Ee.stop()}},Q,this)})),function(){return L.apply(this,arguments)})},{key:"startEvent",value:(T=u(regeneratorRuntime.mark(function Q(ae){var Ee;return regeneratorRuntime.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(this.isHost){be.next=2;break}throw new Error("host only action");case 2:return be.next=4,this._sender.send(Xt.createStart(this.liveEventId));case 4:Ee=be.sent,Ee=Ee.payload.liveEvent,this.upsert(Ee),this.isHostStreaming||this.startStreaming(ae),typeof ae.turnAudioOn=="boolean"&&this._toggleAudio(ae.turnAudioOn),typeof ae.turnVideoOn=="boolean"&&this._toggleVideo(ae.turnVideoOn);case 10:case"end":return be.stop()}},Q,this)})),function(Q){return T.apply(this,arguments)})},{key:"startStreaming",value:function(){var Q=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var ae=this._streams.get(this.host.hostId);ae||(Q=new Wb(this,this._deviceManager,this._sender,Q),this._streams.set(this.host.hostId,Q)),ae.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Q=this._streams.get(this.host.hostId);Q&&(this._streams.delete(this.host.hostId),Q.closeStream(!0))}},{key:"exitAsHost",value:(w=u(regeneratorRuntime.mark(function Q(){var ae,Ee;return regeneratorRuntime.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(this.isActiveHost){be.next=2;break}throw new Error("current host only action");case 2:return ae=this.host.hostId,be.next=5,this._sender.send(Xt.createExitHost(this.liveEventId,ae));case 5:ae=be.sent,Ee=ae.payload.host,this.upsert({host:Ee}),this.teardown();case 9:case"end":return be.stop()}},Q,this)})),function(){return w.apply(this,arguments)})},{key:"endEvent",value:(b=u(regeneratorRuntime.mark(function Q(){var ae;return regeneratorRuntime.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._sender.send(Xt.createEndLiveEvent(this.liveEventId));case 2:ae=Ee.sent,ae=ae.payload.liveEvent,this.upsert(ae),this.teardown();case 6:case"end":return Ee.stop()}},Q,this)})),function(){return b.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(Q){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(Q),this._sender.send(Xt.createAudio(this.liveEventId,this.host.hostId,Q))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(Q){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(Q),this._sender.send(Xt.createVideo(this.liveEventId,this.host.hostId,Q))}},{key:"selectAudioInput",value:function(Q){if(this.isActiveHost)return this._deviceManager.selectDevice("audioinput",Q);throw new Error("current host only action")}},{key:"selectVideoInput",value:function(Q){if(this.isActiveHost)return this._deviceManager.selectDevice("videoinput",Q);throw new Error("current host only action")}},{key:"enter",value:(g=u(regeneratorRuntime.mark(function Q(){var ae,Ee;return regeneratorRuntime.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,this._getOpenChannel();case 2:return ae=be.sent,be.next=5,ae.enter();case 5:return be.prev=5,be.next=8,this._sender.send(Xt.createEnter(this.liveEventId));case 8:Ee=be.sent,Ee=Ee.payload.participant,this.upsert({currentLiveUser:Ee}),this._tryOpen(),be.next=19;break;case 14:return be.prev=14,be.t0=be.catch(5),be.next=18,ae.exit();case 18:throw be.t0;case 19:this._startToSendAlive();case 20:case"end":return be.stop()}},Q,this,[[5,14]])})),function(){return g.apply(this,arguments)})},{key:"exit",value:(m=u(regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,this._sender.send(Xt.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:ae.sent.payload.participant,this.teardown();case 5:case"end":return ae.stop()}},Q,this)})),function(){return m.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(Q,ae){ae=this._streams.get(ae),ae&&(ae.mediaView=Q)}},{key:"updateLiveEventInfo",value:(p=u(regeneratorRuntime.mark(function Q(ae){var Ee,be;return regeneratorRuntime.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ee=Xt.updateLiveEvent(this.liveEventId,ae.userIdsForHost,ae.title,ae.coverUrl,ae.coverFile),Ve.next=3,this._sender.send(Ee);case 3:Ee=Ve.sent,be=Ee.payload.liveEvent,this.upsert(be);case 6:case"end":return Ve.stop()}},Q,this)})),function(Q){return p.apply(this,arguments)})},{key:"fetchCustomItems",value:(d=u(regeneratorRuntime.mark(function Q(){var ae,Ee;return regeneratorRuntime.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ae=Xt.createGetCustomItems(this.liveEventId),be.prev=1,be.next=4,this._sender.send(ae);case 4:return ae=be.sent,Ee=ae.payload,this._setCustomItems(Ee.customItems),be.abrupt("return",Ee);case 10:throw be.prev=10,be.t0=be.catch(1),hn.error("failed to update customItems"),be.t0;case 14:case"end":return be.stop()}},Q,this,[[1,10]])})),function(){return d.apply(this,arguments)})},{key:"updateCustomItems",value:(l=u(regeneratorRuntime.mark(function Q(ae){var Ee,be;return regeneratorRuntime.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Object.keys(ae).some(function(ci){return typeof ae[ci]!="string"}))throw new Error("invalid parameter");Ve.next=2;break;case 2:return Ee=Xt.createUpdateCustomItems(this.liveEventId,ae),Ve.prev=3,Ve.next=6,this._sender.send(Ee);case 6:return Ee=Ve.sent,be=Ee.payload,this._setCustomItems(be.customItems,be.updatedAt),Ve.abrupt("return",be);case 12:throw Ve.prev=12,Ve.t0=Ve.catch(3),hn.error("failed to update customItems"),Ve.t0;case 16:case"end":return Ve.stop()}},Q,this,[[3,12]])})),function(Q){return l.apply(this,arguments)})},{key:"deleteCustomItems",value:(s=u(regeneratorRuntime.mark(function Q(ae){var Ee,be;return regeneratorRuntime.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(ae.some(function(ci){return typeof ci!="string"}))throw new Error("invalid parameter");Ve.next=2;break;case 2:return Ee=Xt.createDeleteCustomItems(this.liveEventId,ae),Ve.prev=3,Ve.next=6,this._sender.send(Ee);case 6:return Ee=Ve.sent,be=Ee.payload,this._setCustomItems(be.customItems,be.deletedAt),Ve.abrupt("return",be);case 12:throw Ve.prev=12,Ve.t0=Ve.catch(3),hn.error("failed to delete customItems"),Ve.t0;case 16:case"end":return Ve.stop()}},Q,this,[[3,12]])})),function(Q){return s.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(a=u(regeneratorRuntime.mark(function Q(){var ae,Ee;return regeneratorRuntime.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ae=Xt.createDeleteAllCustomItems(this.liveEventId),be.prev=1,be.next=4,this._sender.send(ae);case 4:return ae=be.sent,Ee=ae.payload,this._setCustomItems(Ee.customItems,Ee.deletedAt),be.abrupt("return",Ee);case 10:throw be.prev=10,be.t0=be.catch(1),hn.error("failed to delete all customItems"),be.t0;case 14:case"end":return be.stop()}},Q,this,[[1,10]])})),function(){return a.apply(this,arguments)})},{key:"upsert",value:function(Q){Object.assign(this,Q)}},{key:"teardown",value:function(){(Q=this.openChannel)!=null&&Q.exit();var Q,ae,Ee=V(this._streams.values());try{for(Ee.s();!(ae=Ee.n()).done;)ae.value.closeStream()}catch(be){Ee.e(be)}finally{Ee.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(Q,ae){return(ae===void 0||ae>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=ae,this._customItems=Q||{},!0)}},{key:"_onEvent",value:function(Q){if(this.liveEventId===Q.payload.liveEventId)if(Q instanceof xS)this._onReady(Q);else if(Q instanceof kS)this._onStarted(Q);else if(Q instanceof CS)this._onEnded(Q);else if(Q instanceof RS)this._onUpdated(Q);else if(Q instanceof SS)this._onHostEntered(Q);else if(Q instanceof NS)this._onHostExited(Q);else if(Q instanceof TS)this._onHostConnected(Q);else if(Q instanceof AS)this._onHostDisconnected(Q);else if(Q instanceof Nb)this._onHostAudioStatusChanged(Q);else if(Q instanceof Tb)this._onHostVideoStatusChanged(Q);else if(Q instanceof IS)this._onParticipantEntered(Q);else if(Q instanceof OS)this._onParticipantExited(Q);else if(Q instanceof MS)this._onUpdateCustomItems(Q);else{if(!(Q instanceof DS))throw new Error("unknown event is received");this._onDeleteCustomItems(Q)}}},{key:"_onReady",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(Q){Q=Q.payload.liveEvent,this.upsert(Q),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(Q){Q=Q.payload.host,this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,Q)}},{key:"_onHostConnected",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),Q.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),Q.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(Q){Q=Q.payload.host,this.upsert({host:Q}),Q.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),Q.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(Ve){var Ve=Ve.payload,ae=Ve.participant,Ee=Ve.participantCount,be=Ve.peakParticipantCount,Ve=Ve.cumulativeParticipantCount;this.upsert({participantCount:Ee,peakParticipantCount:be,cumulativeParticipantCount:Ve}),this._dispatchEvent("participantEntered",this,ae)}},{key:"_onParticipantExited",value:function(Ve){var Ve=Ve.payload,ae=Ve.participant,Ee=Ve.participantCount,be=Ve.peakParticipantCount,Ve=Ve.cumulativeParticipantCount;this.upsert({participantCount:Ee,peakParticipantCount:be,cumulativeParticipantCount:Ve}),this._dispatchEvent("participantExited",this,ae)}},{key:"_onUpdateCustomItems",value:function(ae){var ae=ae.payload,Ee=ae.customItems,be=ae.updatedAt;ae.updatedKeys,this._setCustomItems(Ee,be)&&this._dispatchEvent("customItemsUpdated",Ee,be)}},{key:"_onDeleteCustomItems",value:function(ae){var ae=ae.payload,Ee=ae.customItems,be=ae.deletedAt;ae.deletedKeys,this._setCustomItems(Ee,be)&&this._dispatchEvent("customItemsDeleted",Ee,be)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new mK(t.ErrorCode.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){var Q,ae;this.host&&this.host.state===t.HostState.CONNECTED&&this.state===t.LiveEventState.ONGOING&&(Q=this.host.hostId,this._streams.has(Q)?ae=this._streams.get(Q):(ae=new Wb(this,this._deviceManager,this._sender),this._streams.set(Q,ae)),ae.openStream(),ae.attach(Q))}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var Q=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var ae=Xt.createHostAlive(Q.liveEventId,Q.host.hostId);Q._sender.send(ae)},3e3):this._aliveIntervalId=setInterval(function(){var ae=Xt.createAlive(Q.liveEventId,Q.currentLiveUser.participantId);Q._sender.send(ae)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),Te}(),uN=function(a,s){return(uN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(l[p]=d[p])})(a,s)};function Y(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}uN(a,s),a.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var pe=function(){return(pe=Object.assign||function(a){for(var s,l=1,d=arguments.length;l<d;l++)for(var p in s=arguments[l])Object.prototype.hasOwnProperty.call(s,p)&&(a[p]=s[p]);return a}).apply(this,arguments)};function P(a,s,l,d){return new(l=l||Promise)(function(p,m){function g(T){try{w(d.next(T))}catch(L){m(L)}}function b(T){try{w(d.throw(T))}catch(L){m(L)}}function w(T){var L;T.done?p(T.value):((L=T.value)instanceof l?L:new l(function(H){H(L)})).then(g,b)}w((d=d.apply(a,s||[])).next())})}function F(a,s){var l,d,p,m={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]},g={next:b(0),throw:b(1),return:b(2)};return typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(T){var L=[w,T];if(l)throw new TypeError("Generator is already executing.");for(;m;)try{if(l=1,d&&(p=2&L[0]?d.return:L[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,L[1])).done)return p;switch(d=0,(L=p?[2&L[0],p.value]:L)[0]){case 0:case 1:p=L;break;case 4:return m.label++,{value:L[1],done:!1};case 5:m.label++,d=L[1],L=[0];continue;case 7:L=m.ops.pop(),m.trys.pop();continue;default:if(!((p=0<(p=m.trys).length&&p[p.length-1])||L[0]!==6&&L[0]!==2)){m=0;continue}if(L[0]===3&&(!p||L[1]>p[0]&&L[1]<p[3])){m.label=L[1];break}if(L[0]===6&&m.label<p[1]){m.label=p[1],p=L;break}if(p&&m.label<p[2]){m.label=p[2],m.ops.push(L);break}p[2]&&m.ops.pop(),m.trys.pop();continue}L=s.call(a,m)}catch(H){L=[6,H],d=0}finally{l=p=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}}}function Bn(a){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&a[s],d=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return{value:(a=a&&d>=a.length?void 0:a)&&a[d++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(a,s){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var d,p,m=l.call(a),g=[];try{for(;(s===void 0||0<s--)&&!(d=m.next()).done;)g.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(l=m.return)&&l.call(m)}finally{if(p)throw p.error}}return g}function wr(a,s,l){if(l||arguments.length===2)for(var d,p=0,m=s.length;p<m;p++)!d&&p in s||((d=d||Array.prototype.slice.call(s,0,p))[p]=s[p]);return a.concat(d||Array.prototype.slice.call(s))}Object.defineProperty(nc,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(nc,"SDK_VERSION",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(nc,"SDK_MAJOR_VERSION",{get:function(){return nc.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(nc,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(nc,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0});var Kn,ec=nc;function nc(){}(Pe=Kn=Kn||{})[Pe.INVALID_TOKEN=400111]="INVALID_TOKEN",Pe[Pe.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",Pe[Pe.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",Pe[Pe.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",Pe[Pe.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",Pe[Pe.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",Pe[Pe.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",Pe[Pe.LOST_INSTANCE=700100]="LOST_INSTANCE",Pe[Pe.CONNECTION_RENEW=700102]="CONNECTION_RENEW",Pe[Pe.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",Pe[Pe.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",Pe[Pe.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",Pe[Pe.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",Pe[Pe.INVALID_PARAMETER=800110]="INVALID_PARAMETER",Pe[Pe.NETWORK_ERROR=800120]="NETWORK_ERROR",Pe[Pe.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",Pe[Pe.MALFORMED_DATA=800130]="MALFORMED_DATA",Pe[Pe.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",Pe[Pe.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",Pe[Pe.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",Pe[Pe.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",Pe[Pe.ACK_TIMEOUT=800180]="ACK_TIMEOUT",Pe[Pe.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",Pe[Pe.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",Pe[Pe.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",Pe[Pe.REQUEST_FAILED=800220]="REQUEST_FAILED",Pe[Pe.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",Pe[Pe.REQUEST_CANCELED=800240]="REQUEST_CANCELED",Pe[Pe.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",Pe[Pe.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",Pe[Pe.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",Pe[Pe.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",Pe[Pe.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED";function zl(a){return!(a instanceof we&&!a.shouldThrowOutside)}function cN(a,s){return a===s||(a=pe({},a),s=pe({},s),!(a.hasOwnProperty("messageId")&&s.hasOwnProperty("messageId")&&a.messageId!==s.messageId||a.hasOwnProperty("reqId")&&s.hasOwnProperty("reqId")&&a.reqId!==s.reqId||(a.hasOwnProperty("messageId")&&delete a.messageId,a.hasOwnProperty("reqId")&&delete a.reqId,s.hasOwnProperty("messageId")&&delete s.messageId,s.hasOwnProperty("reqId")&&delete s.reqId,JSON.stringify(a)!==JSON.stringify(s))))}function cm(a){return 0<a&&0<=_K.indexOf(a)}function bo(a,s){if((s=s===void 0?!1:s)&&a===null)return!0;if(!(s=fe("object",a)&&a!==null&&a.hasOwnProperty("name")&&typeof a.name=="string"&&a.hasOwnProperty("uri")&&typeof a.uri=="string"&&a.hasOwnProperty("type")&&typeof a.type=="string")){if(typeof Blob<"u")return a instanceof Blob;if(typeof File<"u")return a instanceof File}return s}function gK(d){var s=(s=d.encryption)===void 0?null:s,l=(l=d.store)===void 0?null:l,d=(d=d.localCacheEnabled)===void 0||d;this.nestdb=null,this.store=l,this.preference=new bK({store:l}),this.encryption=s!=null?s:dm,this.localCacheEnabled=d}function kd(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}function bi(){}function Hn(a){var s={};return a&&Object.keys(a).forEach(function(l){a[l]!==void 0&&a[l]!==NaN&&a[l]!==null&&(s[l]=a[l])}),s}Y(Qn,dN=Error),Object.defineProperty(Qn.prototype,"isInvalidTokenError",{get:function(){return this.code===Kn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(Qn.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Kn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(Qn.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Kn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"debugModeRequired",{get:function(){return new Qn({code:Kn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"lostInstance",{get:function(){return new Qn({code:Kn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"connectionRenew",{get:function(){return new Qn({code:Kn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"invalidConnectionStateTransition",{get:function(){return new Qn({code:Kn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"connectionRequired",{get:function(){return new Qn({code:Kn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"connectionCanceled",{get:function(){return new Qn({code:Kn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"invalidParameters",{get:function(){return new Qn({code:Kn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"networkError",{get:function(){return new Qn({code:Kn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"markAsReadAllRateLimitExceeded",{get:function(){return new Qn({code:Kn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"queryInProgress",{get:function(){return new Qn({code:Kn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"noAckTimeout",{get:function(){return new Qn({code:Kn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"loginTimeout",{get:function(){return new Qn({code:Kn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"connectionClosed",{get:function(){return new Qn({code:Kn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"requestFailed",{get:function(){return new Qn({code:Kn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"fileUploadCanceled",{get:function(){return new Qn({code:Kn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"requestCanceled",{get:function(){return new Qn({code:Kn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"sessionTokenRefreshFailed",{get:function(){return new Qn({code:Kn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"sessionTokenRequestFailed",{get:function(){return new Qn({code:Kn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Qn.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this};var Ke,dN,we=Qn,vK=[Kn.CONNECTION_REQUIRED,Kn.NETWORK_ERROR,Kn.ACK_TIMEOUT,Kn.WEBSOCKET_CONNECTION_CLOSED,Kn.WEBSOCKET_CONNECTION_FAILED,Kn.FILE_UPLOAD_CANCEL_FAILED,Kn.REQUEST_CANCELED,Kn.INTERNAL_SERVER_ERROR,Kn.RATE_LIMIT_EXCEEDED,Kn.UNKNOWN_SERVER_ERROR],_K=[Kn.WEBSOCKET_CONNECTION_CLOSED,Kn.WEBSOCKET_CONNECTION_FAILED,Kn.CONNECTION_REQUIRED],fe=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||(typeof a!="string"?typeof a=="object"?ar(a,s):s instanceof a:typeof s===a)},ar=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Object.values(a).includes(s)},mt=function(a,s,l){return!(!(l=l===void 0?!1:l)||s!=null)||Array.isArray(s)&&s.every(function(d){return fe(a,d)})},hN=(Object.defineProperty(Mp.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(a){fe("boolean",a)&&(this._useMemberInfoInMessage=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Mp.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(a){fe("number",a)&&(this._typingIndicatorInvalidateTime=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Mp.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(a){fe("number",a)&&1e3<=a&&a<=9e3&&(this._typingIndicatorThrottle=a)},enumerable:!1,configurable:!0}),Object.defineProperty(Mp.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(a){fe("number",a)&&5e3<=a&&a<=3e4&&(this._websocketResponseTimeout=a)},enumerable:!1,configurable:!0}),Mp),yi={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},dm={encrypt:function(a){return a},decrypt:function(a){return a}},bK=(tc.prototype._savePreferenceKeys=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._store.set({key:this._keysAddress,value:wr([],ir(this._preference.keys()),!1),generation:1})];case 1:return a.sent(),[2]}})})},tc.prototype.init=function(a){var s;return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w;return F(this,function(T){switch(T.label){case 0:return this._keysAddress=a,[4,this._store.get(a)];case 1:l=(s=T.sent())!=null?s:[],T.label=2;case 2:T.trys.push([2,7,8,9]),d=Bn(l),p=d.next(),T.label=3;case 3:return p.done?[3,6]:(m=p.value,[4,this._store.get(m)]);case 4:(g=T.sent())&&this._preference.set(m,g),T.label=5;case 5:return p=d.next(),[3,3];case 6:return[3,9];case 7:return g=T.sent(),b={error:g},[3,9];case 8:try{p&&!p.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}return[7];case 9:return[2]}})})},tc.prototype.get=function(a){var s;return P(this,void 0,void 0,function(){return F(this,function(l){return[2,(s=this._preference.get(a))!=null?s:null]})})},tc.prototype.set=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:return l=!this._preference.has(a),[4,this._store.set({key:a,value:s,generation:1})];case 1:return d.sent(),this._preference.set(a,s),l?[4,this._savePreferenceKeys()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},tc.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._store.remove(a)];case 1:return s.sent(),this._preference.delete(a),[4,this._savePreferenceKeys()];case 2:return s.sent(),[2]}})})},tc.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._store.removeMany(wr([],ir(this._preference.keys()),!1))];case 1:return a.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return a.sent(),[2]}})})},tc),yK=(Object.defineProperty(Qb.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),Qb.prototype.clear=function(){this.authToken=null,this.sessionKey=null},Qb),pN=(Rp.prototype._register=function(a,s,l){return a in this._container||(this._container[a]=new Map),this._container[a].set(this.key,{occurence:s,handler:l}),this},Rp.prototype.on=function(a,s){return this._register(a,-1,s)},Rp.prototype.once=function(a,s){return this._register(a,1,s)},Rp.prototype.close=function(){for(var a in this._container)this._container[a].delete(this.key)},Rp),hm=(fm.prototype.on=function(a,s){return new pN({container:this._container}).on(a,s)},fm.prototype.once=function(a,s){return new pN({container:this._container}).once(a,s)},fm.prototype.dispatch=function(a,s){var l,d,p=this._container[a];if(p){var m=[];try{for(var g=Bn(p.keys()),b=g.next();!b.done;b=g.next()){var w=b.value,T=p.get(w);T.handler(s),0<T.occurence&&(T.occurence--,T.occurence===0&&m.push(w))}}catch(L){l={error:L}}finally{try{b&&!b.done&&(d=g.return)&&d.call(g)}finally{if(l)throw l.error}}m.forEach(function(L){return p.delete(L)})}},fm),EK=(pm.prototype.on=function(a){return this._dispatcher.on("event",a)},pm.prototype.once=function(a){return this._dispatcher.once("event",a)},pm.prototype.dispatch=function(a){this._dispatcher.dispatch("event",a)},pm);function pm(){this._dispatcher=new hm}function fm(){this._container={}}function Rp(a){a=a.container,this._container={},this._container=a,this.key=kd()}function Qb(){this.sessionKey=null,this.authToken=null}function tc(a){a=a.store,this._preference=new Map,this._store=a}function Mp(p){var p=p===void 0?{}:p,s=p.useMemberInfoInMessage,s=s!==void 0&&s,l=p.typingIndicatorInvalidateTime,l=l===void 0?1e4:l,d=p.typingIndicatorThrottle,d=d===void 0?1e3:d,p=p.websocketResponseTimeout,p=p===void 0?1e4:p;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=s,this._typingIndicatorInvalidateTime=l,this._typingIndicatorThrottle=d,this._websocketResponseTimeout=p}function Qn(l){var s=l.code,s=s===void 0?0:s,l=l.message,l=dN.call(this,l)||this;return l.shouldThrowOutside=!1,l.name="SendbirdError",l.code=s,Object.setPrototypeOf(l,Qn.prototype),l}(Oa=Ke=Ke||{}).GET="GET",Oa.POST="POST",Oa.PUT="PUT",Oa.DELETE="DELETE",Y(Dp,Xb=bi),Dp.prototype.stringifyParams=function(a){return typeof a!="object"||Array.isArray(a)?String(a):a?JSON.stringify(a):""},Object.defineProperty(Dp.prototype,"query",{get:function(){var a=this,s=Hn(this.params);return"?".concat(Object.keys(s).map(function(l){return"".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(a.stringifyParams(s[l])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(Dp.prototype,"payload",{get:function(){var a,s=this,l=Hn(this.params);return Object.keys(l).some(function(d){return bo(l[d])})?(a=new FormData,Object.keys(l).forEach(function(d){var p,m=l[d];bo(m)?a.append(d,m,(p=m.name)!=null?p:"filename"):a.append(d,s.stringifyParams(m))}),a):JSON.stringify(l)},enumerable:!1,configurable:!0});var mm,fN,Yb,mN,gN,Xb,Qe=Dp,Je=(Y(vm,gN=bi),Object.defineProperty(vm.prototype,"payload",{get:function(){return pe({},this._payload)},enumerable:!1,configurable:!0}),vm.prototype.as=function(a){return new a(this._iid,this.payload)},vm),wK=(Y(bN,mN=bi),bN),gm=(Y(_N,Yb=bi),_N),Jb=(Y(vN,fN=bi),vN);function vN(a){var s=fN.call(this)||this;return s.statLog=a,s}function _N(){return Yb!==null&&Yb.apply(this,arguments)||this}function bN(a){var s=mN.call(this)||this;return s.requestId=a,s}function vm(a,s){var l=gN.call(this)||this;return l._iid=a,l._payload=s,l}function Dp(){var a=Xb!==null&&Xb.apply(this,arguments)||this;return a.params={},a.requireAuth=!0,a.headers={},a.requestId=kd(),a}(Gt=mm=mm||{}).WEBSOCKET_CONNECT="ws:connect",Gt.API_RESULT="api:result";function Lt(){}kN.payloadify=function(a){return Hn({stat_type:a.type,ts:a.createdAt,data:Hn(a.data)})};var $l,yN,EN,wN,Up=kN,xK=(Object.defineProperty(ic.prototype,"_userAgentWithExtension",{get:function(){var d=this._sdkState.extensions,a=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",s=d.sb_syncmanager?"s".concat(d.sb_syncmanager):"",l=d.sb_uikit?"u".concat(d.sb_uikit):"",d=d["device-os-platform"]?"o".concat(d["device-os-platform"]):"";return"".concat(a,"/c").concat(ec.SDK_VERSION,"/").concat(s,"/").concat(l,"/").concat(d)},enumerable:!1,configurable:!0}),ic.prototype._createHeader=function(a,s){s===void 0&&(s=null);var d=this._sdkState,l=d.appId,d=d.appVersion,d=pe(pe({},a.headers),{SendBird:"JS,".concat(ec.OS_VERSION,",").concat(ec.SDK_VERSION,",").concat(l).concat(d?",".concat(d):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return s||(d["Content-Type"]="application/json; charset=utf-8"),a.requireAuth&&this._auth.hasSession&&(d["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(d["App-Id"]=l,d["Access-Token"]=this._auth.authToken),d},ic.prototype._statLogApiResult=function(a,s,l){this._dispatcher.dispatch(new Jb(new Up({type:mm.API_RESULT,data:{endpoint:a.path,method:a.method,success:!l,latency:Date.now()-s,error_code:l==null?void 0:l.code,error_description:l==null?void 0:l.message}})))},ic.prototype.send=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L;return F(this,function(H){switch(H.label){case 0:d=a.path,s=a.method,p=![Ke.GET,Ke.DELETE].includes(s),l=this._sdkState.api,l="".concat(l.host).concat(d).concat(p?"":a.query),d=p?a.payload:null,p=this._createHeader(a,d instanceof FormData?d:null),g=new AbortController,m=g.signal,this._abortControl.set(a.requestId,g),g=Date.now(),H.label=1;case 1:return H.trys.push([1,4,,5]),[4,fetch(l,{method:s,body:d,headers:p,signal:m})];case 2:return[4,(b=H.sent()).json()];case 3:if(T=H.sent(),b.ok||b.redirected)return this._logger.debug("receive api response",a.requestId),this._statLogApiResult(a,g,null),[2,new Je(this._iid,T)];throw T?(w=new we(T)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new gm):w=we.requestFailed,this._statLogApiResult(a,g,w),w;case 4:throw T=H.sent(),this._statLogApiResult(a,g,T),T instanceof we?(this._logger.debug("fail api request",T),T):T.name==="AbortError"?we.requestCanceled:(L=we.networkError,this._logger.debug("fail api request",L),L);case 5:return[2]}})})},ic.prototype.cancel=function(a){this._abortControl.has(a)&&(this._abortControl.get(a).abort(),this._abortControl.delete(a))},ic.prototype.cancelAll=function(){var a,s;try{for(var l=Bn(this._abortControl.values()),d=l.next();!d.done;d=l.next())d.value.abort()}catch(p){a={error:p}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this._abortControl.clear()},ic),dr=(Y(Cd,wN=bi),Cd.createFromRawMessage=function(a,s){var l=s.substring(0,4),d=null;try{d=JSON.parse(s.substring(4))}catch{l="NOOP"}finally{return new Cd(a,l,d)}},Cd.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},Cd.prototype.as=function(a){return new a(this._iid,this.code,this.payload)},Cd),yo=(Y(Zb,EN=bi),Zb.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},Zb),kK=(Y(xN,yN=yo),xN),CK=(Object.defineProperty(rc.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),rc.prototype.ping=function(){var a,s=this,l=new kK;try{var d=(a=this.sdkState.websocket.pongTimeout)!=null?a:5e3;this._pingTimeoutTimer=setTimeout(function(){s._logger.debug("pinger.ping() timeout"),s.pingDelegate.error(null)},d),this.pingDelegate.send(l),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return l},rc.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},rc.prototype.refreshTimer=function(){var a=this,s=(this._logger.debug("pinger.refreshTimer()"),(s=this.sdkState.websocket.pingInterval)!=null?s:15e3);this.stop(),this._pingTimer=setInterval(function(){a.ping()},s)},rc.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},rc.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},rc);function rc(d){var s=d.pingDelegate,l=d.sdkState,d=d.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=s,this.sdkState=l,this._logger=d}function xN(){return yN.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}function Zb(d){var s=d.code,l=d.ackRequired,d=d.payload,d=d===void 0?null:d,p=this;return(p=EN.call(this)||this).code=s,p.payload=d,p.requestId=(s=p.payload.req_id)!=null?s:kd(),p.ackRequired=l,p.payload.req_id=p.requestId,p}function Cd(a,s,l,d){d===void 0&&(d="");var p=this;return(p=wN.call(this)||this)._iid=a,p.code=s,p.payload=l,p.requestId=l?(a=l.req_id)!=null?a:d:"",p}function ic(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._abortControl=new Map,this._iid=a,this._auth=l,this._sdkState=d,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof wK&&g.cancel(b.requestId)}),this._logger=m}function kN(d){var s=d.type,l=d.data,d=d.ts,d=d===void 0?Date.now():d;this.type=s,this.createdAt=d,this.data=l}(yt=$l=$l||{}).CONNECTING="CONNECTING",yt.OPEN="OPEN",yt.CLOSED="CLOSED";function ua(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})}Y(ac,SN=hm),Object.defineProperty(ac.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return $l.CONNECTING;case 1:return $l.OPEN}return $l.CLOSED},enumerable:!1,configurable:!0}),ac.prototype.connect=function(a){var s=this;this._ws=new WebSocket(a),this._ws.onopen=function(){s._logger.debug("websocket open"),s.dispatch("open")},this._ws.onmessage=function(l){l.data.split(`
`).forEach(function(d){d&&fe("string",d)&&(d=dr.createFromRawMessage(s._iid,d),s._logger.debug("receive websocket event",d),d.code==="LOGI"?(d.payload&&!d.payload.error&&s._pinger&&s._pinger.start(),s.dispatch("message",d)):d.code==="PONG"?s._pinger&&s._pinger.pong():d.code==="EXPR"?d.payload&&0<d.payload.expires_in&&s._dispatcher.dispatch(new gm):d.code!=="NOOP"&&s.dispatch("message",d))})},this._ws.onerror=function(){s._logger.debug("websocket error"),s._pinger&&s._pinger.stop(),s.dispatch("error",we.networkError)},this._ws.onclose=function(){s._logger.debug("websocket close"),s._pinger&&s._pinger.stop(),s.dispatch("close")},this.lastActive=Date.now()},ac.prototype.disconnect=function(){var a=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Lt,this._ws.onmessage=Lt,this._ws.onerror=Lt,this._ws.onclose=function(){a.dispatch("close")},this._ws.close(),this._ws=null)},ac.prototype.send=function(a){if(!this._ws)throw we.connectionClosed;a.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",a),this._ws.send(a.convertToMessage())},ac.prototype.error=function(a){this._logger.debug("websocket error",a),this._pinger&&this._pinger.stop(),this.dispatch("error",a)};var Jt,CN,SN,SK=ac,NN=(Y(TN,CN=bi),TN),NK=(Sd.prototype._sendApiRequest=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this.apiClient.send(a)];case 1:return[2,s.sent()]}})})},Sd.prototype._sendWebsocketRequest=function(a){return P(this,void 0,void 0,function(){var s,l,d,p=this;return F(this,function(m){if(s=new ua,a.ackRequired){l=null,d=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(a.requestId)&&(p._ackStateMap.delete(a.requestId),l&&(clearTimeout(l),l=null),g?(p._logger.debug("fail websocket request",g),s.reject(g)):(p._logger.debug("receive websocket ack",a.requestId),s.resolve(b)))};try{l=setTimeout(function(){return d(we.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(a.requestId,{resolve:function(g){return d(null,g)},reject:function(g){return d(g)}}),this.websocketClient.send(a)}catch(g){d(g)}}else try{this.websocketClient.send(a),s.resolve(null)}catch(g){s.reject(g)}return[2,s.promise]})})},Sd.prototype.send=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a instanceof Qe?[4,this._sendApiRequest(a)]:[3,2];case 1:case 3:return[2,s.sent()];case 2:return a instanceof yo?[4,this._sendWebsocketRequest(a)]:[3,4];case 4:throw we.invalidParameters}})})},Sd.prototype.cancel=function(a){this.apiClient.cancel(a)},Sd.prototype.cancelAll=function(){this.apiClient.cancelAll()},Sd);function Sd(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._ackStateMap=new Map,this._sdkState=d,this._dispatcher=p,this._logger=m,this.apiClient=new xK(a,{auth:l,sdkState:d,dispatcher:p,logger:m}),this.websocketClient=new SK(a,{sdkState:d,dispatcher:p,logger:m}),this.websocketClient.on("message",function(b){var w;b.payload.unread_cnt&&g._dispatcher.dispatch(new NN(b.payload.unread_cnt)),b.requestId?g._ackStateMap.has(b.requestId)&&(w=g._ackStateMap.get(b.requestId),b.code!=="EROR"?w.resolve(b):w.reject(new we({code:b.payload.code,message:b.payload.message}))):g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(we.connectionClosed)}),g._ackStateMap.clear()})}function TN(d){var s=d.all,l=d.custom_types,d=d.ts,p=CN.call(this)||this;return p.all=s,p.customTypes=l,p.ts=d,p}function ac(a,p){var l=p.sdkState,d=p.dispatcher,p=p.logger,m=SN.call(this)||this;return m._pinger=null,m.lastActive=0,m._iid=a,m._sdkState=l,m._dispatcher=d,m._logger=p,m._sdkState.websocket.pingerDisabled||(m._pinger=new CK({pingDelegate:{send:function(g){return m.send(g)},error:function(g){return m.error(g)}},sdkState:m._sdkState,logger:p})),m}(_r=Jt=Jt||{})[_r.NONE=0]="NONE",_r[_r.INITIALIZED=1]="INITIALIZED",_r[_r.CONNECTING=2]="CONNECTING",_r[_r.CONNECTED=3]="CONNECTED",_r[_r.RECONNECTING=4]="RECONNECTING",_r[_r.DISCONNECTED=5]="DISCONNECTED",_r[_r.LOGOUT=6]="LOGOUT";function Eo(a){return P(void 0,void 0,void 0,function(){return F(this,function(s){return[2,new Promise(function(l){return setTimeout(l,a)})]})})}function ey(a,s,l){return l===void 0&&(l=new FN),P(void 0,void 0,void 0,function(){var d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:d=0,p=null,m=function(T){return p=(T=T===void 0?null:T)!=null?T:new Error("Halted")},g=function(){d=0},w.label=1;case 1:if(!(s===-1||d<s))return[3,9];w.label=2;case 2:return w.trys.push([2,4,,8]),[4,a(m,g)];case 3:if(b=w.sent(),p)throw p;return[2,b];case 4:if(b=w.sent(),p)return[3,6];if(++d===s)throw b;return[4,Eo(l.calcTimeout(d))];case 5:return w.sent(),[3,7];case 6:throw p;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})}function tt(a){P(void 0,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,a()];case 1:return l.sent(),[3,3];case 2:if((s=l.sent())instanceof we)return s.throwOutside(),[3,3];throw s;case 3:return[2]}})})}function Lp(a,s){return(s=s===void 0?null:s)!==null&&BN.set(a,s),(s=BN.get(a))!=null?s:""}function TK(a){this.emojiHash=(a=a===void 0?{}:a).emoji_hash||"",this.uploadSizeLimit=a.file_upload_size_limit?1048576*a.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!a.use_reaction,this.applicationAttributes=a.application_attributes||[],this.premiumFeatureList=a.premium_feature_list||[]}Y(ZN,LN=bi);var xr,_m,vr,Qa,bm,Gi,Ya,jl,sr,IN,ny,ON,ty,ry,AN,iy,ay,RN,MN,DN,UN,LN,PN,Nd=ZN,IK=(Object.defineProperty(Wl.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Jt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(Wl.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Jt.CONNECTING||this._currentConnectionStateType===Jt.RECONNECTING},enumerable:!1,configurable:!0}),Wl.prototype.send=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return a instanceof yo?this.isReady?(this._logger.debug("send websocket request",a),[4,this.commandRouter.send(a)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",a),s=new ua,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return d.timeout(a.requestId)},1e4)}),[2,s.promise];throw this._logger.debug("fail websocket request"),we.connectionRequired;case 3:return[3,7];case 4:return a instanceof Qe?this._auth.hasSession?(this._logger.debug("send api request",a),[4,this.commandRouter.send(a)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",a),s=new ua,this._lazyCallQueue.push({command:a,deferred:s,timeout:setTimeout(function(){return d.timeout(a.requestId)},1e4)}),[2,s.promise];throw l=we.connectionRequired,this._logger.debug("fail api request",l),l;case 7:return[2]}})})},Wl.prototype.forceSend=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._logger.debug("send websocket request (forced)",a),[4,this.commandRouter.send(a)];case 1:return[2,s.sent()]}})})},Wl.prototype.timeout=function(a){this._logger.debug("timeout request",a);var s=this._lazyCallQueue.findIndex(function(l){return l.command.requestId===a});-1<s&&(this._lazyCallQueue[s].deferred.reject(we.connectionRequired),this._lazyCallQueue.splice(s,1))},Wl.prototype.cancel=function(a){this._logger.debug("cancel api request",a),this.commandRouter.cancel(a)},Wl.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},Wl),OK=(Y(JN,UN=Qe),JN),AK=(Y(XN,DN=yo),XN),RK=(Y(YN,MN=Je),YN),MK=(Y(QN,RN=dr),QN),DK=(Y(KN,ay=bi),KN),FN=(WN.prototype.calcTimeout=function(){return 0},WN),UK=(Hp.prototype.createRefreshWebsocketCommand=function(a){return new AK({authToken:a,expiringSession:!0})},Hp.prototype._refreshSessionKey=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g=this;return F(this,function(b){switch(b.label){case 0:if(this._currentConnectionStateType!==Jt.CONNECTED)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),l=this.createRefreshWebsocketCommand(a),[4,this._requestQueue.forceSend(l)];case 2:if(l=b.sent(),p=l.as(MK),d=p.newKey,p=p.error)throw p;return this.auth.sessionKey=d!=null?d:this.auth.sessionKey,this._logger.debug("session refreshed"),tt(function(){return P(g,void 0,void 0,function(){return F(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2];case 3:if(p=b.sent(),zl(p))throw p;return p.isSessionTokenExpiredError?(this._handleError(s),[2]):[3,4];case 4:return b.trys.push([4,6,,7]),m=new OK({userId:this._sdkState.userId,authToken:a,expiringSession:!0}),[4,ey(function(w){return P(g,void 0,void 0,function(){var T;return F(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(m)];case 1:return T=L.sent(),T=T.as(RK).key,this.auth.sessionKey=T,[3,3];case 2:throw(T=L.sent()).isSessionTokenExpiredError&&w(we.sessionTokenRefreshFailed),T;case 3:return[2]}})})},3)];case 5:return b.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return b.sent(),this._handleError(s),[2];case 7:return tt(function(){return P(g,void 0,void 0,function(){return F(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),s&&s.resolve(),[2]}})})},Hp.prototype._handleError=function(a){var s=this,l=we.sessionTokenRefreshFailed;tt(function(){return P(s,void 0,void 0,function(){return F(this,function(d){return this.handler.onSessionError(l),[2]})})}),a&&a.reject(l)},Hp.prototype.refresh=function(){return P(this,void 0,void 0,function(){var a,s,l,d=this;return F(this,function(p){return this.handler?(a=new ua,s=function(m){m?(d._logger.debug("session refreshing.."),d.auth.authToken=m,d._refreshSessionKey(m,a)):(d._logger.debug("session closed"),tt(function(){return P(d,void 0,void 0,function(){return F(this,function(g){return this.handler.onSessionClosed(),[2]})})}),a.resolve())},l=function(){d._dispatcher.dispatch(new DK);var m=we.sessionTokenRequestFailed;d.handler&&(tt(function(){return P(d,void 0,void 0,function(){return F(this,function(g){return this.handler.onSessionError(m),[2]})})}),a.reject(m))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,a):tt(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return this.handler.onSessionTokenRequired(s,l),[2]})})}),[2,a.promise]):[2]})})},Hp),Ur=(Id.prototype.run=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2]})})},Id.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Id.prototype.onReconnect=function(a,s){return s.resetReconnectCount,P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Id.prototype.onDisconnect=function(a,s){return s.error,s.autoReconnect,P(this,void 0,void 0,function(){return F(this,function(l){return[2]})})},Id.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2]})})},Id),Pp=(Y(cy,iy=Ur),cy.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return s=a.sdkState.userId,a.logout(),tt(function(){return P(l,void 0,void 0,function(){return F(this,function(p){return a.connectionHandlers.forEach(function(m){m.onDisconnected(s)}),[2]})})}),[4,a.changeState(new ly)];case 1:return d.sent(),[2]}})})},cy),sy=(Y(Td,AN=Ur),Td.prototype.run=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a.disconnect(),this._autoReconnect?[4,a.changeState(new oy)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},Td.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return a.disconnect(),[4,a.changeState(new qN({authToken:s}))];case 1:return l.sent(),[2]}})})},Td.prototype.onReconnect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new oy)];case 1:return s.sent(),[2]}})})},Td.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Pp)];case 1:return s.sent(),[2]}})})},Td),oy=(Y(Vl,ry=Ur),Vl.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},Vl.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:s=new ua,this._callbacks.push(function(b){return b?s.reject(b):s.resolve()}),tt(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectStarted()}),[2]})})}),g.label=1;case 1:return g.trys.push([1,4,,9]),d=a.sdkState.websocket,l=d.reconnectMaxRetry,d=d.reconnectRetryStrategy,[4,ey(function(b,w){return P(m,void 0,void 0,function(){var T;return F(this,function(L){switch(L.label){case 0:this._haltConnect=b,this._resetConnect=w,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,a.connect()];case 2:return L.sent(),[3,4];case 3:if((T=L.sent())instanceof we&&T.code===Kn.CONNECTION_CANCELED)return b(T),[2];throw T;case 4:return[2]}})})},l,d)];case 2:return g.sent(),[4,a.changeState(new HN)];case 3:return g.sent(),tt(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return p=g.sent(),zl(p)?[3,7]:!(p instanceof we)||p.code===Kn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new sy({autoReconnect:!1}))];case 5:g.sent(),g.label=6;case 6:return tt(function(){return P(m,void 0,void 0,function(){return F(this,function(b){return a.connectionHandlers.forEach(function(w){w.onReconnectFailed()}),this.flushCallbacks(p),[2]})})}),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,s.promise]}})})},Vl.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return l=new ua,this._resetConnect&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(p){return p?l.reject(p):l.resolve()}),[2,l.promise]})})},Vl.prototype.onReconnect=function(a,l){var l=l.resetReconnectCount,d=l!==void 0&&l;return P(this,void 0,void 0,function(){var p;return F(this,function(m){return p=new ua,this._resetConnect&&d&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(g){return g?p.reject(g):p.resolve()}),[2,p.promise]})})},Vl.prototype.onDisconnect=function(a,s){var d=s.error,l=d===void 0?null:d,d=s.autoReconnect,p=d===void 0||d;return P(this,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return this._haltConnect&&this._haltConnect(l!=null?l:we.connectionCanceled),[4,a.changeState(new sy({autoReconnect:p}))];case 1:return m.sent(),[2]}})})},Vl.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(we.connectionCanceled),[4,a.changeState(new Pp)];case 1:return s.sent(),[2]}})})},Vl),HN=(Y(Fp,ty=Ur),Fp.prototype.onReconnect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return a.disconnect(),[4,a.changeState(new oy)];case 1:return s.sent(),[2]}})})},Fp.prototype.onDisconnect=function(a,s){var l=s.autoReconnect;return P(this,void 0,void 0,function(){return F(this,function(d){switch(d.label){case 0:return[4,a.changeState(new sy({autoReconnect:l}))];case 1:return d.sent(),[2]}})})},Fp.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,a.changeState(new Pp)];case 1:return s.sent(),[2]}})})},Fp),qN=(Y(oc,ON=Ur),oc.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(s){return s(a)})},oc.prototype.run=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:s=new ua,this._callbacks.push(function(m){return m?s.reject(m):s.resolve()}),p.label=1;case 1:return p.trys.push([1,4,,9]),[4,ey(function(m){return P(d,void 0,void 0,function(){var g;return F(this,function(b){switch(b.label){case 0:this._haltConnect=m,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,a.connect(this._authToken)];case 2:return b.sent(),[3,4];case 3:if((g=b.sent())instanceof we&&g.code===Kn.CONNECTION_CANCELED)return m(g),[2];throw g;case 4:return[2]}})})},a.sdkState.websocket.connectMaxRetry)];case 2:return p.sent(),[4,a.changeState(new HN)];case 3:return p.sent(),tt(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return a.connectionHandlers.forEach(function(g){g.onConnected(a.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return l=p.sent(),zl(l)?[3,7]:(a.disconnect(),!(l instanceof we)||l.code===Kn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new ly)]);case 5:p.sent(),p.label=6;case 6:return tt(function(){return P(d,void 0,void 0,function(){return F(this,function(m){return this.flushCallbacks(l),[2]})})}),[3,8];case 7:throw l;case 8:return[3,9];case 9:return[2,s.promise]}})})},oc.prototype.onConnect=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){return s=new ua,this._callbacks.push(function(d){return d?s.reject(d):s.resolve()}),[2,s.promise]})})},oc.prototype.onDisconnect=function(a,l){var l=l.error,d=l===void 0?null:l;return P(this,void 0,void 0,function(){return F(this,function(p){switch(p.label){case 0:return this._haltConnect&&this._haltConnect(d!=null?d:we.connectionCanceled),[4,a.changeState(new Pp)];case 1:return p.sent(),[2]}})})},oc.prototype.onLogout=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._haltConnect&&this._haltConnect(we.connectionCanceled),[4,a.changeState(new Pp)];case 1:return s.sent(),[2]}})})},oc),ly=(Y(uy,ny=Ur),uy.prototype.onConnect=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,a.changeState(new qN({authToken:s}))];case 1:return l.sent(),[2]}})})},uy),BN=new Map,Dr=(VN.payloadify=function(a){return a?{}:null},VN),xt="/".concat("v3","/users"),LK="/".concat("v3","/storage/file"),GN="/".concat("v3","/group_channels"),sc="/".concat("v3","/open_channels"),PK="/".concat("v3","/sdk/open_channels"),FK="/".concat("v3","/search"),zN="/".concat("v3","/report"),HK="/".concat("v3","/emojis"),$N="/".concat("v3","/emoji_categories"),qK="/".concat("v3","/sdk/statistics"),BK=(Y(jN,IN=Qe),jN);function jN(l){var s=l.userId,l=l.metadata,d=IN.call(this)||this;return d.method=Ke.POST,d.path="".concat(xt,"/").concat(s,"/metadata"),d.params={metadata:l},d}function VN(a){this._iid="",this._iid=a}function uy(){var a=ny!==null&&ny.apply(this,arguments)||this;return a.type=Jt.INITIALIZED,a.name="initialized",a}function oc(s){var s=s.authToken,l=ON.call(this)||this;return l.type=Jt.CONNECTING,l.name="connecting",l._authToken="",l._haltConnect=null,l._callbacks=[],l._authToken=s,l}function Fp(){var a=ty!==null&&ty.apply(this,arguments)||this;return a.type=Jt.CONNECTED,a.name="connected",a}function Vl(){var a=ry!==null&&ry.apply(this,arguments)||this;return a.type=Jt.RECONNECTING,a.name="reconnecting",a._haltConnect=null,a._resetConnect=null,a._callbacks=[],a}function Td(s){var s=s.autoReconnect,l=AN.call(this)||this;return l.type=Jt.DISCONNECTED,l.name="disconnected",l._autoReconnect=!1,l._autoReconnect=s,l}function cy(){var a=iy!==null&&iy.apply(this,arguments)||this;return a.type=Jt.LOGOUT,a.name="logout",a}function Id(){this.type=Jt.NONE,this.name="none"}function Hp(m){var s=m.auth,l=m.sdkState,d=m.dispatcher,p=m.requestQueue,m=m.logger,g=this;this._currentConnectionStateType=Jt.INITIALIZED,this.auth=s,this._sdkState=l,this._dispatcher=d,this._requestQueue=p,this._logger=m,this._dispatcher.on(function(b){var w;b instanceof Nd?(w=b.stateType,g._currentConnectionStateType=w):b instanceof gm&&g.refresh()})}function WN(){}function KN(){return ay!==null&&ay.apply(this,arguments)||this}function QN(a,s,l){return a=RN.call(this,a,"LOGI",l)||this,a.error=null,a.newKey=l.new_key,a.error=l.error?new we(l.error):null,a}function YN(a,s){return a=MN.call(this,a,s)||this,s=s.key,a.key=s,a}function XN(l){var s=l.authToken,l=l.expiringSession;return DN.call(this,{code:"LOGI",payload:{token:s,expiring_session:l===void 0||l?1:0},ackRequired:!0})||this}function JN(d){var s=d.userId,l=d.authToken,d=d.expiringSession,d=d===void 0||d,p=UN.call(this)||this;return p.path="/users/".concat(s,"/session_key"),p.method=Ke.POST,p.params={token:l,expiring_session:!!d},p.requireAuth=!1,p}function Wl(a,m){var l=m.auth,d=m.sdkState,p=m.dispatcher,m=m.logger,g=this;this._currentConnectionStateType=Jt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new NK(a,{auth:l,sdkState:d,dispatcher:p,logger:m}),this._auth=l,this._logger=m,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof Nd)switch(b=b.stateType,g._currentConnectionStateType=b){case Jt.CONNECTED:var w=g._lazyCallQueue;g._lazyCallQueue=[],w.forEach(function(T){return P(g,void 0,void 0,function(){var L,H,G,ne;return F(this,function(se){switch(se.label){case 0:L=T.command,H=T.deferred,G=T.timeout,clearTimeout(G),se.label=1;case 1:return se.trys.push([1,3,,4]),[4,this.send(L)];case 2:return G=se.sent(),H.resolve(G),[3,4];case 3:return ne=se.sent(),H.reject(ne),[3,4];case 4:return[2]}})})});break;case Jt.INITIALIZED:case Jt.DISCONNECTED:case Jt.LOGOUT:w=g._lazyCallQueue,g._lazyCallQueue=[],w.forEach(function(T){return P(g,void 0,void 0,function(){var L,H;return F(this,function(G){return L=T.deferred,H=T.timeout,clearTimeout(H),this._auth&&this._auth.hasSession?L.reject(we.connectionClosed):L.reject(we.connectionRequired),[2]})})})}})}function ZN(s){var s=s.stateType,l=LN.call(this)||this;return l.stateType=s,l}Y(function(a,s){return(a=PN.call(this,a,s)||this).metadata=s,a},PN=Je),(jn=xr=xr||{}).BASE="base",jn.GROUP="group",jn.OPEN="open",(zi=_m=_m||{}).OPERATOR="operator",zi.NONE="none",(Hr=vr=vr||{}).BASE="base",Hr.USER="user",Hr.FILE="file",Hr.ADMIN="admin",(or=Qa=Qa||{}).ALL="",or.USER="MESG",or.FILE="FILE",or.ADMIN="ADMM",(At=bm=bm||{}).USER="MESG",At.FILE="FILE",At.ADMIN="ADMM",(Sr=Gi=Gi||{}).USERS="users",Sr.CHANNEL="channel",(Ut=Ya=Ya||{}).ALL="all",Ut.NONE="none",Ut.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel",(_t=jl=jl||{}).DEFAULT="default",_t.SUPPRESS="suppress",(ni=sr=sr||{}).PENDING="pending",ni.SCHEDULED="scheduled",ni.SUCCEEDED="succeeded",ni.FAILED="failed",ni.CANCELED="canceled";function Pt(a){switch(a){case xr.GROUP:return GN;case xr.OPEN:return sc;default:return null}}function eT(a){switch(a){case xr.GROUP:return"".concat(zN,"/group_channels");case xr.OPEN:return"".concat(zN,"/open_channels");default:return null}}function dy(a,s,l){return a=Od(a.mentionType,a.mentionedUserIds,l),s=Od(s.mentionType,s.mentionedUserIds,l),!a&&s?1:a&&!s?-1:0}var nT,tT,rT,iT,aT,hy,Od=function(a,s,l){var d,p;switch(a){case Gi.CHANNEL:return!0;case Gi.USERS:if(s)try{for(var m=Bn(s),g=m.next();!g.done;g=m.next())if(g.value===l)return!0}catch(b){d={error:b}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(d)throw d.error}}}return!1},GK=(Y(dT,aT=Qe),dT),sT=(Y(cT,iT=Je),cT),zK=(Y(uT,rT=Qe),uT),$K=(Y(lT,tT=Je),lT),jK=(Y(oT,nT=Qe),oT);function oT(l){var s=l.userId,l=l.metadataKey,d=nT.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(s,"/metadata/").concat(l),d}function lT(a,s){return a=tT.call(this,a,s)||this,a.metadata=s,a}function uT(d){var s=d.userId,l=d.metadata,d=d.upsert,p=rT.call(this)||this;return p.method=Ke.PUT,p.path="".concat(xt,"/").concat(s,"/metadata"),p.params={metadata:l,upsert:d},p}function cT(a,s){return a=iT.call(this,a,s)||this,a.metaData=s!=null?s:{},a}function dT(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.metadata;return(s=aT.call(this)||this).method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0},s}Y(function(){return hy!==null&&hy.apply(this,arguments)||this},hy=Je),Y(pT,hT=Qe);var hT,py,VK=pT;function pT(s){var s=s.userId,l=hT.call(this)||this;return l.method=Ke.DELETE,l.path="".concat(xt,"/").concat(s,"/metadata"),l}Y(function(){return py!==null&&py.apply(this,arguments)||this},py=Je);function fy(a,s){return s===void 0&&(s=null),(a=JSON.parse(JSON.stringify(a)))._iid&&delete a._iid,s&&s(a),a}function ym(a,s){return s===void 0&&(s=null),a=JSON.parse(JSON.stringify(a)),s&&s(a),a}function an(a){return{do:function(s){a||s()},throw:function(s){if(!a)throw s}}}var Ad;(ur=Ad=Ad||{}).ONLINE="online",ur.OFFLINE="offline",ur.NON_AVAILABLE="nonavailable",Y(Vs,my=Dr),Vs.payloadify=function(a){return a?Hn(pe(pe({},my.payloadify.call(this,a)),{user_id:a.userId,nickname:a.nickname,profile_url:a.plainProfileUrl,require_auth_for_profile_image:a.requireAuth,metadata:a.metaData,is_online:a.connectionStatus,is_active:a.isActive,last_seen_at:a.lastSeenAt,preferred_languages:a.preferredLanguages,friend_discovery_key:a.friendDiscoveryKey,friend_name:a.friendName})):null},Object.defineProperty(Vs.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(Lp(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),Vs.prototype.serialize=function(){return fy(this)},Vs.prototype._isValidMetaData=function(a){return!Array.isArray(a)&&0<Object.keys(a).length&&Object.keys(a).map(function(s){return a[s]}).every(function(s){return fe("string",s)})},Vs.prototype._applyMetaData=function(a,s){var l=this;s===void 0&&(s=!1),Object.keys(a).forEach(function(d){s?delete l.metaData[d]:l.metaData[d]=a[d]})},Vs.prototype.createMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(this._isValidMetaData(a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new BK({userId:l.userId,metadata:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(sT).metaData,this._applyMetaData(l),[2,this.metaData]}})})},Vs.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(this._isValidMetaData(a)).throw(we.invalidParameters),l=ke.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new zK({userId:d.userId,metadata:a,upsert:s}),[4,l.send(d)];case 1:return l=p.sent(),d=l.as($K).metadata,this._applyMetaData(d),[2,this.metaData]}})})},Vs.prototype.deleteMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),l=ke.of(this._iid),s=l.sdkState,l=l.requestQueue,s=new jK({userId:s.userId,metadataKey:a}),[4,l.send(s)];case 1:return d.sent(),this._applyMetaData(((l={})[a]=!0,l),!0),[2,this.metaData]}})})},Vs.prototype.deleteAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new VK({userId:s.userId}),[4,a.send(s)];case 1:return l.sent(),this.metaData={},[2]}})})};var lc,fT,mT,gT,vT,_T,my,$n=Vs,bT=(Y(xT,_T=bi),xT),gy=(_y.payloadify=function(a){return pe(pe({},$n.payloadify(a.user)),{emoji_hash:a.appInfo.emojiHash,file_upload_size_limit:a.appInfo.uploadSizeLimit,application_attributes:a.appInfo.applicationAttributes,premium_feature_list:a.appInfo.premiumFeatureList,login_ts:a.connectedAt/1e3,ping_interval:a.pingInterval,pong_timeout:a.pongTimeout,reconnect:{interval:a.reconnectInterval,max_interval:a.reconnectMaxInterval,retry_cnt:a.reconnectRetryCount,mul:a.reconnectIntervalMultiple},max_unread_cnt_on_super_group:a.maxUnreadCountOnSuperGroup,profile_image_encryption:a.profileImageEncryption,concurrent_call_limit:a.concurrentCallLimit,back_off_delay:a.backOffDelay})},_y.prototype.apply=function(){var a=this.reconnectInterval,s=this.reconnectMaxInterval,l=this.reconnectIntervalMultiple,d=ke.of(this._iid);d.sdkState.websocket.pingInterval=1e3*this.pingInterval,d.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,d.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,d.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return 0<p?1e3*Math.min(a*Math.pow(l,p-1),s):10}},d.appInfo=this.appInfo,d.sessionManager.currentUser=this.user,d.connectedAt=this.connectedAt,this.firstConnectedAt||(d.firstConnectedAt=this.connectedAt),d.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,d.concurrentCallLimit=this.concurrentCallLimit,d.backOffDelay=this.backOffDelay,d.dispatcher.dispatch(new bT({userProfile:this}))},_y),vy=(Y(qp,vT=dr),qp.asError=function(a){return new qp(null,"LOGI",pe({user_id:null,error:!0},a))},qp.prototype.applyTo=function(a){if(this.error)throw this.error;var s=ke.of(a);if(!s)throw we.lostInstance;s.sessionManager.auth.sessionKey=this.key,Lp(a,this.ekey),this.userProfile.apply()},qp),yT=(Y(wT,gT=bi),wT),WK=(Y(js,mT=hm),Object.defineProperty(js.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),js.prototype.changeState=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this._currentState=a,this._dispatcher.dispatch(new Nd({stateType:a.type})),this._logger.debug("connection state changes to ".concat(a.name)),[4,this._currentState.run(this)];case 1:return s.sent(),[2]}})})},js.prototype._url=function(a){a===void 0&&(a="");var m=this.sdkState,s=m.appId,l=m.appVersion,d=m.userId,m=m.extensions,p=this._sessionManager.auth,g=m.sb_syncmanager?"s".concat(m.sb_syncmanager):"",m=m.sb_uikit?"u".concat(m.sb_uikit):"",g="JS/c".concat(ec.SDK_VERSION,"/").concat(g,"/").concat(m);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(ec.OS_VERSION),"&sv=").concat(encodeURIComponent(ec.SDK_VERSION),"&ai=").concat(s).concat(l?"&av=".concat(l):"").concat(p.hasSession?"&key=".concat(encodeURIComponent(p.sessionKey)):"&user_id=".concat(encodeURIComponent(d),"&access_token=").concat(encodeURIComponent(a)),"&active=1&SB-User-Agent=").concat(g,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},js.prototype._enableStatLog=function(a){this._dispatcher.dispatch(new yT(a))},js.prototype._statLogConnection=function(a){this._dispatcher.dispatch(new Jb(new Up({type:mm.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!a,latency:Date.now()-this._connectingAt,error_code:a==null?void 0:a.code,error_description:a==null?void 0:a.message}})))},js.prototype.connect=function(a){return a===void 0&&(a=""),P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){return s=this._url(a),l=new ua,this._connectionRequestQueue.push(l),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){d._loginTimer=null,d._dispatcher.dispatch(vy.asError(we.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(s)),[2,l.promise]})})},js.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(vy.asError(we.connectionRenew))},js.prototype.disconnect=function(){this._websocketClient.disconnect()},js.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},js),KK=(Object.defineProperty(Wo.prototype,"isConnected",{get:function(){return this._context.currentState.type===Jt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(Wo.prototype,"isConnecting",{get:function(){var a=this._context.currentState;return a.type===Jt.CONNECTING||a.type===Jt.RECONNECTING},enumerable:!1,configurable:!0}),Wo.prototype.connect=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onConnect(this._context,a)];case 1:return s.sent(),[2]}})})},Wo.prototype.reconnect=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return a.sent(),[2]}})})},Wo.prototype.resetAndReconnect=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return a.sent(),[2]}})})},Wo.prototype.background=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return a.sent(),[2]}})})},Wo.prototype.disconnect=function(a){return a===void 0&&(a=null),P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:a,autoReconnect:!0})];case 1:return s.sent(),[2]}})})},Wo.prototype.logout=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return a.sent(),[2]}})})},Wo),QK=(Y(ET,fT=Qe),ET);function ET(l){var s=l.deviceId,l=l.statLogs,d=fT.call(this)||this;return d.method=Ke.POST,d.path="".concat(qK),d.params={device_id:s,log_entries:l.map(function(p){return Up.payloadify(p)})},d}function Wo(a,w){var l=w.sdkState,d=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.disableAutoReconnect,w=w!==void 0&&w,T=this;this._context=null,this._logger=b,this._context=new WK(a,{sdkState:l,connectionHandlers:d,sessionManager:p,websocketClient:m,dispatcher:g,logger:b}),w||m.on("close",function(){l.appState==="foreground"&&setTimeout(function(){T._logger.debug("try reconnect by websocket connection closed"),T.reconnect()},100)})}function js(a,w){var l=w.sdkState,d=w.connectionHandlers,p=w.sessionManager,m=w.websocketClient,g=w.dispatcher,b=w.logger,w=w.entryState,w=w===void 0?new ly:w,T=mT.call(this)||this;return T._currentState=null,T._loginTimer=null,T._connectingAt=0,T._connectionRequestQueue=[],T._iid=a,T.sdkState=l,T.connectionHandlers=d,T._sessionManager=p,T._websocketClient=m,T._dispatcher=g,T._logger=b,T._currentState=w,T._websocketClient.on("message",function(L){var H;L.code==="LOGI"&&(T._loginTimer&&(clearTimeout(T._loginTimer),T._loginTimer=null),(H=L.as(vy)).error?(H.error.isSessionKeyExpiredError&&T._dispatcher.dispatch(new gm),T._connectionRequestQueue.forEach(function(G){return G.reject(H.error)}),T._statLogConnection(H.error)):(H.applyTo(T._iid),T._connectionRequestQueue.forEach(function(G){return G.resolve()}),L=H.userProfile,T._enableStatLog(L.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),T._statLogConnection(null)),T._connectionRequestQueue=[])}).on("close",function(){0<T._connectionRequestQueue.length&&(T._connectionRequestQueue.forEach(function(L){return L.reject(we.networkError)}),T._connectionRequestQueue=[],T._statLogConnection(we.networkError))}),T}function wT(a){var s=gT.call(this)||this;return s.enabled=a,s}function qp(a,s,l){var d=this;return(d=vT.call(this,a,s,l)||this).error=null,d.userProfile=new gy(a,l),d.key=l.key,d.ekey=(s=l.ekey)!=null?s:"",d.error=l.error?new we(l):null,d}function _y(a,s){this._iid=a,this.appInfo=new TK(s),this.user=new $n(a,s),this.connectedAt=1e3*((a=s.login_ts)!=null?a:0),this.firstConnectedAt=0,this.pingInterval=(a=s.ping_interval)!=null?a:15e3,this.pongTimeout=(a=s.pong_timeout)!=null?a:5e3,this.reconnectInterval=(a=(a=s.reconnect)==null?void 0:a.interval)!=null?a:3e3,this.reconnectMaxInterval=(a=(a=s.reconnect)==null?void 0:a.max_interval)!=null?a:6e4,this.reconnectRetryCount=(a=(a=s.reconnect)==null?void 0:a.retry_cnt)!=null?a:5,this.reconnectIntervalMultiple=(a=(a=s.reconnect)==null?void 0:a.mul)!=null?a:2,this.maxUnreadCountOnSuperGroup=(a=s.max_unread_cnt_on_super_group)!=null?a:100,this.profileImageEncryption=!!s.profile_image_encryption,this.concurrentCallLimit=(a=s.concurrent_call_limit)!=null?a:5,this.backOffDelay=(a=s.back_off_delay)!=null?a:100}function xT(s){var s=s.userProfile,l=_T.call(this)||this;return l.userProfile=s,l}function Vs(a,s){var l=this;return(l=my.call(this,a)||this).userId=(a=(a=s.guest_id)!=null?a:s.user_id)!=null?a:"",l.nickname=(a=(a=s.nickname)!=null?a:s.name)!=null?a:"",l.plainProfileUrl=(a=(a=s.profile_url)!=null?a:s.image)!=null?a:"",l.requireAuth=(a=s.require_auth_for_profile_image)!=null&&a,l.metaData=(a=s.metadata)!=null?a:{},l.connectionStatus=Ad.NON_AVAILABLE,ar(Ad,s.is_online)?l.connectionStatus=s.is_online:fe("boolean",s.is_online)&&(l.connectionStatus=s.is_online?Ad.ONLINE:Ad.OFFLINE),l.isActive=(a=s.is_active)==null||a,l.lastSeenAt=(a=s.last_seen_at)!=null?a:null,l.preferredLanguages=s.preferred_languages?wr([],ir(s.preferred_languages),!1):null,l.friendDiscoveryKey=(a=s.friend_discovery_key)!=null?a:null,l.friendName=(a=s.friend_name)!=null?a:null,l}(Fr=lc=lc||{})[Fr.PENDING=0]="PENDING",Fr[Fr.ENABLED=1]="ENABLED",Fr[Fr.DISABLED=2]="DISABLED",Object.defineProperty(uc.prototype,"isEnabled",{get:function(){return this.enabledstate===lc.ENABLED},enumerable:!1,configurable:!0}),uc.prototype._save=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(s){return Up.payloadify(s)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},uc.prototype._flush=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,5,6,7]),0<(a=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length?(s=new QK({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(s)]):[3,4];case 2:return l.sent(),this.queue=this.queue.slice(a.length),[4,this._save()];case 3:l.sent(),l.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return l.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},uc.prototype.init=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.key=a,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(s=d.sent())?(this.deviceId=s.deviceId,this.queue=s.statLogs.map(function(p){return new Up({type:p.stat_type,ts:p.ts,data:p.data})}),this.generation=s.generation,this.lastFlushedAt=s.lastFlushedAt,108e5<=Date.now()-this.lastFlushedAt&&this.queue.length>=this.minLimit?(s=Math.min(Math.floor(18e4*Math.random()),100),[4,Eo(s)]):[3,4]):[3,4];case 2:return d.sent(),[4,this._flush()];case 3:d.sent(),d.label=4;case 4:return this.dispatcher.on(function(p){var m;p instanceof Jb?(m=p.statLog,l.put(m)):p instanceof yT&&(l.enabledstate=p.enabled?lc.ENABLED:lc.DISABLED,l.isEnabled?l.queue.length>=l.limit&&l._flush():l.clear())}),[2]}})})},uc.prototype.put=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this.enabledstate===lc.DISABLED?[3,3]:(this.queue.push(a),[4,this._save()]);case 1:return s.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},uc.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return a.sent(),[2]}})})};var Ko,YK=uc;function uc(g){var s=g.cacheContext,l=g.requestQueue,d=g.dispatcher,p=g.baseLimit,p=p===void 0?100:p,m=g.maxLimit,m=m===void 0?1e3:m,g=g.minLimit,g=g===void 0?10:g;this.queue=[],this.enabledstate=lc.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=kd(),this.cacheContext=s,this.requestQueue=l,this.dispatcher=d,this.baseLimit=p,this.limit=p,this.maxLimit=m,this.minLimit=g}(qt=Ko=Ko||{})[qt.NONE=0]="NONE",qt[qt.VERBOSE=1]="VERBOSE",qt[qt.DEBUG=2]="DEBUG",qt[qt.INFO=3]="INFO",qt[qt.WARN=4]="WARN",qt[qt.ERROR=5]="ERROR",Rd.prototype.verbose=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Ko.VERBOSE&&console.log.apply(console,wr(["[verbose]"],ir(a),!1))},Rd.prototype.debug=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Ko.DEBUG&&console.log.apply(console,wr(["[debug]"],ir(a),!1))},Rd.prototype.info=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Ko.INFO&&console.log.apply(console,wr(["[info]"],ir(a),!1))},Rd.prototype.warn=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Ko.WARN&&console.warn.apply(console,wr(["[warn]"],ir(a),!1))},Rd.prototype.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.level<=Ko.ERROR&&console.error.apply(console,wr(["[error]"],ir(a),!1))};var Bp,by,kT,CT,XK=Rd,Gp={},ke=(IT.of=function(a){if(Gp[a])return Gp[a];throw we.lostInstance},IT),ca=(TT.prototype.init=function(a,b){var l=b.sdkState,d=b.dispatcher,p=b.sessionManager,m=b.requestQueue,g=b.logger,b=(b.onlineDetector,b.cacheContext),b=b===void 0?null:b;this._iid=a,this._cacheContext=b,this._sdkState=l,this._dispatcher=d,this._sessionManager=p,this._requestQueue=m,this._logger=g},TT),JK=(Y(NT,CT=Qe),NT),ZK=(Y(ST,kT=Je),ST),yy=(Y(Ey,by=Dr),Ey.payloadify=function(a){return a?Hn(pe(pe({},by.payloadify.call(this,a)),{reply_count:a.replyCount,most_replies:Array.isArray(a.mostRepliedUsers)?a.mostRepliedUsers.map(function(s){return $n.payloadify(s)}):[],last_replied_at:a.lastRepliedAt,updated_at:a.updatedAt})):null},Ey);function Ey(a,s){var l=this;return(l=by.call(this,a)||this).replyCount=0,l.mostRepliedUsers=null,l.lastRepliedAt=0,l.updatedAt=0,l.replyCount=(a=s.reply_count)!=null?a:0,l.mostRepliedUsers=s.hasOwnProperty("most_replies")&&mt("object",s.most_replies)?s.most_replies.map(function(d){return new $n(l._iid,d)}):[],l.lastRepliedAt=(a=s.last_replied_at)!=null?a:0,l.updatedAt=(a=s.updated_at)!=null?a:0,l}function ST(a,s){var l=this;return(l=kT.call(this,a,s)||this).url=s.url,l.fileSize=(a=s.file_size)!=null?a:0,l.thumbnailSizes=(a=s.thumbnails)!=null?a:[],l.requireAuth=(a=s.require_auth)!=null&&a,l}function NT(a){var s=CT.call(this)||this;if(s.method=Ke.POST,s.path="".concat(LK),s.params=Hn({file:a.file,channel_url:a.channelUrl}),a.thumbnailSizes)for(var l=0;l<a.thumbnailSizes.length;l++){var p=a.thumbnailSizes[l],d=p.maxWidth,p=p.maxHeight;s.params["thumbnail".concat(l+1)]="".concat(d,",").concat(p)}return s.requestId=a.requestId,s}function TT(){}function IT(a,s){var l,d,p,m;return this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,Gp[a]||(Gp[a]=this,l=(l=s.options)!=null?l:new hN,d=this.sdkState={appId:s.appId,appVersion:(d=s.appVersion)!=null?d:"",appState:"foreground",userId:null,extensions:{},api:{host:(d=s.apiHost)!=null?d:"https://api-".concat(s.appId,".sendbird.com")},websocket:{host:(d=s.websocketHost)!=null?d:"wss://ws-".concat(s.appId,".sendbird.com"),pingerDisabled:!!s.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new FN,responseTimeout:l.websocketResponseTimeout}},this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0},p=this.logger=new XK,this.logger.level=(m=s.logLevel)!=null?m:Ko.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new gK({encryption:s.encryption,store:s.store,localCacheEnabled:(m=s.localCacheEnabled)!=null&&m}),this.debugMode=(m=s.debugMode)!=null&&m,this.maxSuperGroupChannelUnreadCount=ec.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=l.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=l.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=l.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null,s=this.dispatcher=new EK,m=new yK,this.requestQueue=new IK(a,{auth:m,sdkState:d,dispatcher:s,logger:p}),this.sessionManager=new UK({auth:m,sdkState:d,dispatcher:s,requestQueue:this.requestQueue,logger:p}),this.connectionManager=new KK(a,{sdkState:d,connectionHandlers:this.connectionHandlers,dispatcher:s,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:p}),this.statLogCollector=new YK({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:s})),Gp[a]}function Rd(){this.level=Ko.WARN}(cn=Bp=Bp||{}).ADD="add",cn.DELETE="delete";function wy(m){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var s=fe("string",m.msg_id)?parseInt(m.msg_id):m.msg_id,l=m.user_id,d=m.operation?m.operation.toLowerCase():null,p=m.reaction,m=m.updated_at;s&&fe("string",l)&&fe("string",d)&&ar(Bp,d)&&fe("string",p)&&p&&fe("number",m)&&(this.messageId=s,this.userId=l,this.key=p,this.operation=d,this.updatedAt=m)}Object.defineProperty(wm.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),wm.payloadify=function(a){return a?Hn({key:a.key,user_ids:a.userIds,updated_at:a.updatedAt}):null},wm.prototype.applyEvent=function(a){if(a.key===this.key&&this.updatedAt<=a.updatedAt){if(!this._version[a.userId]||this._version[a.userId]<=a.updatedAt){var s=this.userIds.indexOf(a.userId);switch(a.operation){case Bp.ADD:s<0&&this.userIds.push(a.userId);break;case Bp.DELETE:0<=s&&this.userIds.splice(s,1)}this._version[a.userId]=a.updatedAt}this.updatedAt=Math.max(this.updatedAt,a.updatedAt)}};var Kl,Em=wm,Xa=(UT.payloadify=function(a){return a?Hn({key:a.key,value:(a=a.value)!=null?a:[]}):null},UT),OT=(DT.payloadify=function(a){var s;return a?Hn({url:a.url,secure_url:a.secureUrl,type:a.type,width:(s=a.width)!=null?s:0,height:(s=a.height)!=null?s:0,alt:a.alt}):null},DT),AT=(MT.payloadify=function(a){return a?Hn({"og:title":a.title,"og:url":a.url,"og:description":a.description,"og:image":a.defaultImage?OT.payloadify(a.defaultImage):null}):null},MT),Ql=(RT.payloadify=function(a){return a?Hn({name:a.name,volume:a.volume}):null},RT);function RT(a){var s;this.name=null,this.volume=0,this.name=(s=a.name)!=null?s:"default",this.volume=(s=a.volume)!=null?s:1}function MT(a){this.title=null,this.url=null,this.description=null,this.defaultImage=null,a.hasOwnProperty("og:title")&&(this.title=a["og:title"]),a.hasOwnProperty("og:url")&&(this.url=a["og:url"]),a.hasOwnProperty("og:description")&&(this.description=a["og:description"]),a.hasOwnProperty("og:image")&&(this.defaultImage=new OT(a["og:image"]))}function DT(a){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=a.url,a.hasOwnProperty("secure_url")&&(this.secureUrl=a.secure_url),a.hasOwnProperty("type")&&(this.type=a.type),a.hasOwnProperty("width")&&(this.width=a.width),a.hasOwnProperty("height")&&(this.height=a.height),a.hasOwnProperty("alt")&&(this.alt=a.alt)}function UT(a){this.key=a.key,this.value=mt("string",a.value)?wr([],ir(a.value),!1):[]}function wm(a){var s,l,d=a.key,p=(p=wr([],ir(a.user_ids),!1))!=null?p:[],m=a.updated_at,g=(fe("string",d)&&d&&mt("string",p)&&0<p.length&&fe("number",m)&&(this.key=d,this.userIds=p,this.updatedAt=m),{});try{for(var b=Bn(this.userIds),w=b.next();!w.done;w=b.next())g[w.value]=this.updatedAt}catch(T){s={error:T}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}this._version=g}(Vt=Kl=Kl||{}).PENDING="pending",Vt.IN_QUEUE="in_queue",Vt.SENT="sent",Vt.FAILED="failed",Vt.CANCELED="canceled",Vt.REMOVED="removed";function xy(a){return fe("number",a.prevResultSize)&&fe("number",a.nextResultSize)&&fe("boolean",a.isInclusive)&&fe("boolean",a.reverse)&&fe("string",a.messageTypeFilter)&&ar(Qa,a.messageTypeFilter)&&mt("string",a.customTypesFilter,!0)&&mt("string",a.senderUserIdsFilter,!0)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeParentMessageInfo)}Y(Ja,Iy=Dr),Ja.payloadify=function(a){var s;return a?Hn(pe(pe({},Iy.payloadify.call(this,a)),{channel_url:a.channelUrl,channel_type:a.channelType,message_id:a.messageId,type:function(l){switch(l){case vr.BASE:return"";case vr.USER:return"MESG";case vr.FILE:return"FILE";case vr.ADMIN:return"ADMM"}}(a.messageType),parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,mentioned_user_ids:a.mentionedUserIds,mentioned_users:(s=a.mentionedUsers)==null?void 0:s.map(function(l){return $n.payloadify(l)}),mentioned_message_template:a.mentionedMessageTemplate,thread_info:a.threadInfo?yy.payloadify(a.threadInfo):null,reactions:a.reactions.map(function(l){return Em.payloadify(l)}),sorted_metaarray:(s=a.metaArrays)==null?void 0:s.map(function(l){return Xa.payloadify(l)}),og_tag:AT.payloadify(a.ogMetaData),silent:a.silent,is_op_msg:a.isOperatorMessage,apple_critical_alert_options:Ql.payloadify(a.appleCriticalAlertOptions),created_at:a.createdAt,updated_at:a.updatedAt,scheduled_message_id:(s=a.scheduledInfo)==null?void 0:s.scheduledMessageId,scheduled_at:(s=a.scheduledInfo)==null?void 0:s.scheduledAt,scheduled_status:a._scheduledStatus})):null},Ja.prototype.isIdentical=function(a){return this.messageId===a.messageId},Ja.prototype.isEqual=function(a){return cN(this,a)},Ja.prototype.isUserMessage=function(){return this.messageType===vr.USER},Ja.prototype.isFileMessage=function(){return this.messageType===vr.FILE},Ja.prototype.isAdminMessage=function(){return this.messageType===vr.ADMIN},Ja.prototype.serialize=function(){return fy(this)},Ja.prototype.getMetaArraysByKeys=function(a){return this.metaArrays.filter(function(s){return a.includes(s.key)})},Ja.prototype.applyThreadInfoUpdateEvent=function(a){return this.parentMessageId===a.targetMessageId&&(this.threadInfo=a.threadInfo),!1},Ja.prototype.applyReactionEvent=function(a){if(this.messageId===a.messageId){for(var s=!1,l=0;l<this.reactions.length;l++)if(this.reactions[l].key===a.key){this.reactions[l].applyEvent(a),this.reactions[l].isEmpty&&this.reactions.splice(l,1),s=!0;break}s||a.operation!=="add"||this.reactions.push(new Em(Em.payloadify({key:a.key,userIds:[a.userId],updatedAt:a.updatedAt})))}},Ja.prototype.applyParentMessage=function(a){if(this.parentMessageId===a.messageId){var s=this.parentMessage.updatedAt;if(a.updatedAt>=s)return this.parentMessage=a,!0}return!1};var Ei,LT,PT,FT,HT,ky,Cy,Sy,Ny,Ty,Iy,xm=Ja,zp=(Y(My,Ty=$n),My.payloadify=function(a){return a?Hn(pe(pe({},Ty.payloadify.call(this,a)),{role:a.role,is_blocked_by_me:a.isBlockedByMe})):null},My),wo=(Y(jp,Ny=xm),jp.payloadify=function(a){return a?Hn(pe(pe({},Ny.payloadify.call(this,a)),{user:zp.payloadify(a.sender),req_id:a.reqId,is_reply_to_channel:a.replyToChannel,request_state:a.sendingStatus,error_code:a.errorCode})):null},Object.defineProperty(jp.prototype,"isResendable",{get:function(){return this.sendingStatus===sr.FAILED&&0<(a=this.errorCode)&&0<=vK.indexOf(a);var a},enumerable:!1,configurable:!0}),jp.prototype.isIdentical=function(a){return 0<this.messageId&&0<a.messageId?this.messageId===a.messageId:this.reqId===a.reqId},jp),Oy=(Ry.payloadify=function(a){return a?Hn({url:"",width:a.maxWidth,height:a.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(Ry.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),Ry),km={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Qa.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Md=(Y(Sm,Sy=xm),Sm.payloadify=function(a){return a?Hn(pe(pe({},Sy.payloadify.call(this,a)),{message:a.message,translations:a.translations,parent_message_info:Ay(a.parentMessage)})):null},Sm.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},km),s),an(0<this.messageId&&fe("number",a)&&xy(s)).throw(we.invalidParameters),[4,Ia.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},Sm),qT=(VT.payloadify=function(a){return a?Hn({type:a.type,vendor:a.vendor,detail:a.detail}):null},VT),wi=(Y(Cm,Cy=wo),Cm.payloadify=function(a){return a?Hn(pe(pe({},Cy.payloadify.call(this,a)),{message:a.message,translations:a.translations,message_survival_seconds:a.messageSurvivalSeconds,plugins:a.plugins.map(function(s){return qT.payloadify(s)}),parent_message_info:Ay(a.parentMessage)})):null},Cm.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},km),s),an(0<this.messageId&&fe("number",a)&&xy(s)).throw(we.invalidParameters),[4,Ia.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},Cm),Ay=function(a){if(a)switch(a.messageType){case vr.USER:return wi.payloadify(a);case vr.FILE:return si.payloadify(a);case vr.ADMIN:return Md.payloadify(a)}return null},Yl=function(a,s){switch(s.type){case"MESG":return new wi(a,s);case"FILE":return new si(a,s);case"ADMM":case"BRDM":return new Md(a,s)}return null},si=(Y($p,ky=wo),$p.payloadify=function(a){return a?Hn(pe(pe({},ky.payloadify.call(this,a)),{url:a.plainUrl,require_auth:a.requireAuth,file:{name:a.name,size:a.size,type:a.type,data:a.data},thumbnails:a.thumbnails.map(function(s){return{url:s.url,width:s.width,height:s.height,real_width:s.realWidth,real_height:s.realHeight}}),message_survival_seconds:a.messageSurvivalSeconds,parent_message_info:Ay(a.parentMessage)})):null},Object.defineProperty($p.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(Lp(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),$p.prototype.getThreadedMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},km),s),an(0<this.messageId&&fe("number",a)&&xy(s)).throw(we.invalidParameters),[4,Ia.of(this._iid).getThreadedMessagesByTimestamp(this,a,s)];case 1:return[2,l.sent()]}})})},$p),eQ=(Y(jT,HT=yo),jT),nQ=(Y($T,FT=Qe),$T),BT=(Y(zT,PT=dr),zT),tQ=(Y(GT,LT=Je),GT);function GT(p,s){var l,d=this,p=((d=LT.call(this,p,s)||this).message=new si(p,s),ke.of(p).sdkState);return d.isMentioned=Od(d.message.mentionType,(l=d.message.mentionedUserIds)!=null?l:d.message.mentionedUsers.map(function(m){return m.userId}),p.userId),d.forceUpdateLastMessage=(l=s.force_update_last_message)!=null&&l,d}function zT(m,s,l){var d,p=this,m=((p=PT.call(this,m,"FILE",l)||this).message=new si(m,l),ke.of(m).sdkState);return p.isMentioned=Od(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function $T(a){var s=this,s=FT.call(this)||this,l=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(d){return d.userId}))),s.method=Ke.POST,s.path="".concat(Pt(a.channelType),"/").concat(encodeURIComponent(a.channelUrl),"/messages"),s.params=Hn({message_type:vr.FILE,user_id:a.userId,url:a.fileUrl,mention_type:a.mentionType,mentioned_user_ids:l,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,data:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes.map(function(d){return Oy.payloadify(d)}),require_auth:a.requireAuth,sorted_metaarray:(l=a.metaArrays)==null?void 0:l.map(function(d){return Xa.payloadify(d)}),push_option:a.pushNotificationDeliveryOption,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,apple_critical_alert_options:Ql.payloadify(a.appleCriticalAlertOptions),reply_to_channel:a.isReplyToChannel,req_id:a.reqId}),s}function jT(a){var s,l=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(d){return d.userId}))),HT.call(this,{code:"FILE",ackRequired:!0,payload:Hn({channel_url:a.channelUrl,url:a.url,name:(s=a.fileName)!=null?s:"",type:(s=a.mimeType)!=null?s:"",size:(s=a.fileSize)!=null?s:0,custom:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes,require_auth:a.requireAuth,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:l,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==jl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function $p(a,s){var l,d=this,p=((d=ky.call(this,a,s)||this).messageParams=null,d.plainUrl="",d.requireAuth=!1,d.name=null,d.size=0,d.type=null,d.thumbnails=[],d.messageSurvivalSeconds=-1,d.messageType=vr.FILE,(p=s.file)!=null?p:null);return d.plainUrl=((l=(l=p==null?void 0:p.url)!=null?l:s.url)!=null?l:"").split("?auth=")[0],d.name=(l=(l=p==null?void 0:p.name)!=null?l:s.name)!=null?l:"File",d.size=(l=(l=p==null?void 0:p.size)!=null?l:s.size)!=null?l:0,d.data=(l=(l=p==null?void 0:p.data)!=null?l:s.custom)!=null?l:"",d.type=p?(l=p.type)!=null?l:"":(p=s.type)!=null?p:"",d.requireAuth=(l=s.require_auth)!=null&&l,d.thumbnails=s.thumbnails?s.thumbnails.map(function(m){return new Oy(pe(pe({},m),{url:"".concat(m.url.split("?auth=")[0]).concat(d.requireAuth?"?auth=".concat(Lp(d._iid)):"")}))}):[],d.messageSurvivalSeconds=(p=s.message_survival_seconds)!=null?p:-1,s.parent_message_info&&(l=s.parent_message_info,p=pe(pe({},l),{message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:l.file,url:(p=l.file)==null?void 0:p.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),d.parentMessage=Yl(a,p)),d}function Cm(a,s){var l,d,p,m=this;if((m=Cy.call(this,a,s)||this).message="",m.messageParams=null,m.translations={},m.translationTargetLanguages=[],m.messageSurvivalSeconds=-1,m.plugins=[],m.message=s.message,m.messageType=vr.USER,m.translations=(d=s.translations)!=null?d:{},m.translationTargetLanguages=(d=s.target_langs)!=null?d:[],m.translations==={}&&0<m.translationTargetLanguages.length)try{for(var g=Bn(m.translationTargetLanguages),b=g.next();!b.done;b=g.next()){var w=b.value;m.translations[w]=""}}catch(T){l={error:T}}finally{try{b&&!b.done&&(p=g.return)&&p.call(g)}finally{if(l)throw l.error}}return m.messageSurvivalSeconds=(d=s.message_survival_seconds)!=null?d:-1,m.plugins=s.plugins?s.plugins.map(function(T){return new qT(T)}):[],s.parent_message_info&&(p=s.parent_message_info,s=pe(pe({},p),{created_at:p.ts,message_id:m.parentMessageId,channel_url:m.channelUrl,channel_type:m.channelType,file:p.file,url:(l=p.file)==null?void 0:l.url,require_auth:(d=p.file)==null?void 0:d.require_auth}),m.parentMessage=Yl(a,Hn(s))),m}function VT(a){var s;this.type=null,this.vendor=null,this.detail={},this.type=(s=a.type)!=null?s:"",this.vendor=(s=a.vendor)!=null?s:"",a.hasOwnProperty("detail")&&fe("object",a.detail)&&!Array.isArray(a.detail)&&(this.detail=a.detail)}function Sm(a,s){var l,d=this;return(d=Sy.call(this,a,s)||this).message=null,d.translations={},d.message=(l=s.message)!=null?l:"",d.messageType=vr.ADMIN,d.translations=(l=s.translations)!=null?l:{},s.parent_message_info&&(l=s.parent_message_info,l=pe(pe({},l),{message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:l.file,url:(s=l.file)==null?void 0:s.url,require_auth:(s=l.file)==null?void 0:s.require_auth}),d.parentMessage=Yl(a,l)),d}function Ry(a){var s;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=a.url,this.width=a.width,this.height=a.height,this.realWidth=(s=a.real_width)!=null?s:a.width,this.realHeight=(s=a.real_height)!=null?s:a.height}function jp(a,s){var l=this;if((l=Ny.call(this,a,s)||this).sender=null,l.reqId="",l.replyToChannel=!1,l.sendingStatus=null,l.errorCode=0,l.sender=s.user?new zp(l._iid,s.user):s.sender_id,l.reqId=(a=(a=s.req_id)!=null?a:s.request_id)!=null?a:"",l.replyToChannel=(a=s.is_reply_to_channel)!=null&&a,s.request_state&&ar(sr,s.request_state)&&(l.sendingStatus=s.request_state),!l.sendingStatus)if(0<l.messageId)l.sendingStatus=sr.SUCCEEDED;else if(l.scheduledInfo)switch(l._scheduledStatus=s.scheduled_status,s.scheduled_status){case Kl.SENT:case Kl.IN_QUEUE:l.sendingStatus=sr.SUCCEEDED;break;case Kl.PENDING:l.sendingStatus=sr.SCHEDULED;break;case Kl.FAILED:case Kl.REMOVED:l.sendingStatus=sr.FAILED;break;case Kl.CANCELED:l.sendingStatus=sr.CANCELED}else l.sendingStatus=sr.PENDING;return l.errorCode=(a=s.error_code)!=null?a:0,l}function My(a,s){return a=Ty.call(this,a,s)||this,a.role=null,a.isBlockedByMe=!1,a.role=ar(_m,s.role)?s.role:_m.NONE,s.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=s.is_blocked_by_me),a}function Ja(d,s){var l=this,d=((l=Iy.call(this,d)||this).channelUrl=null,l.channelType=xr.BASE,l.messageId=0,l.parentMessageId=null,l.parentMessage=null,l.silent=!1,l.isOperatorMessage=!1,l.messageType=vr.BASE,l.data=null,l.customType=null,l.mentionType=null,l.mentionedUsers=[],l.mentionedUserIds=[],l.mentionedMessageTemplate=null,l.threadInfo=null,l.reactions=[],l.metaArrays=[],l.ogMetaData=null,l.appleCriticalAlertOptions=null,l.createdAt=0,l.updatedAt=0,l.scheduledInfo=null,l._scheduledStatus=null,l.messageId=(d=(d=s.msg_id)!=null?d:s.message_id)!=null?d:0,l.channelUrl=s.channel_url,l.channelType=ar(xr,s.channel_type)?s.channel_type:xr.GROUP,s.channel&&(s.channel.channel_url&&(l.channelUrl=s.channel.channel_url),s.channel.channel_type&&(l.channelType=s.channel.channel_type)),l.parentMessageId=(d=typeof s.parent_message_id=="string"?parseInt(s.parent_message_id):s.parent_message_id)!=null?d:0,l.data=(d=s.data)!=null?d:"",l.customType=(d=s.custom_type)!=null?d:"",l.mentionType=ar(Gi,s.mention_type)?s.mention_type:null,s.mentioned_users),d=(l.mentionedUsers=d?d.map(function(w){return new $n(l._iid,w)}):null,s.mentioned_user_ids);l.mentionedUserIds=d!=null?d:null,l.mentionedMessageTemplate=(d=s.mentioned_message_template)!=null?d:"",l.threadInfo=s.thread_info?new yy(l._iid,s.thread_info):null,l.reactions=s.reactions?s.reactions.map(function(w){return new Em(w)}):[];for(var p=(d=s.metaarray)!=null?d:{},m=(d=s.metaarray_key_order)!=null?d:Object.keys(p).sort(function(w,T){return w.localeCompare(T)}),g=0;g<m.length;g++){var b=m[g];l.metaArrays.push(new Xa({key:b,value:p[b]||[]}))}return s.sorted_metaarray&&(l.metaArrays=s.sorted_metaarray.map(function(w){return new Xa(w)})),l.ogMetaData=s.og_tag?new AT(s.og_tag):null,l.silent=(d=s.silent)!=null&&d,l.isOperatorMessage=(d=s.is_op_msg)!=null&&d,l.appleCriticalAlertOptions=s.apple_critical_alert_options?new Ql(s.apple_critical_alert_options):null,l.createdAt=(d=(d=s.created_at)!=null?d:s.ts)!=null?d:0,l.updatedAt=(d=s.updated_at)!=null?d:0,typeof s.scheduled_message_id=="number"&&typeof s.scheduled_at=="number"&&s.scheduled_status&&(l.scheduledInfo={scheduledMessageId:s.scheduled_message_id,scheduledAt:s.scheduled_at},l._scheduledStatus=s.scheduled_status),l}(Nr=Ei=Ei||{})[Nr.PENDING=0]="PENDING",Nr[Nr.UPLOADING=1]="UPLOADING",Nr[Nr.UPLOADED=2]="UPLOADED",Nr[Nr.SENDING=3]="SENDING",Nr[Nr.FAILED=4]="FAILED";function WT(a){return ar(Ya,a.replyType)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeParentMessageInfo)&&fe("boolean",a.includeThreadInfo)&&fe("boolean",a.includePollDetails)}Object.defineProperty(cc.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Jt.CONNECTED||this._connectionState===Jt.CONNECTING||this._connectionState===Jt.RECONNECTING},enumerable:!1,configurable:!0}),cc.prototype._sendFileMessage=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:return this._shouldSendThroughWebSocket?(l=new eQ(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)]):[3,2];case 1:return[2,d.sent().as(BT).message];case 2:return l=new nQ(pe(pe({channelUrl:a.url,channelType:a.channelType,url:s.params.fileUrl,userId:this._sdkState.userId,requireAuth:s.requireAuth},s.params),{reqId:s.requestId})),[4,this._requestQueue.send(l)];case 3:return[2,d.sent().as(tQ).message]}})})},cc.prototype._resolveMessageQueue=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L;return F(this,function(H){switch(H.label){case 0:if(!(s=this._queueMap.get(a.url)))return[3,21];if(s.isResolving)return[3,20];s.isResolving=!0,l=[],d=!0,H.label=1;case 1:H.trys.push([1,15,16,17]),p=Bn(s.messageQueue),m=p.next(),H.label=2;case 2:if(m.done)return[3,14];switch((g=m.value).state){case Ei.PENDING:case Ei.UPLOADING:return[3,3];case Ei.UPLOADED:return[3,4];case Ei.FAILED:return[3,12]}return[3,13];case 3:return d=!1,l.push(g),[3,13];case 4:if(!d)return[3,10];H.label=5;case 5:return H.trys.push([5,8,,9]),g.state=Ei.SENDING,[4,this._sendFileMessage(a,g)];case 6:return b=H.sent(),g.deferred.resolve(b),[4,Eo(100)];case 7:return H.sent(),[3,9];case 8:return b=H.sent(),g.deferred.reject(b),[3,9];case 9:return[3,11];case 10:l.push(g),H.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===Kn.REQUEST_CANCELED?we.fileUploadCanceled:g.error),[3,13];case 13:return m=p.next(),[3,2];case 14:return[3,17];case 15:return T=H.sent(),T={error:T},[3,17];case 16:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(T)throw T.error}return[7];case 17:return w=s.isResolveRequestPending,s.messageQueue=l,s.isResolving=!1,s.isResolveRequestPending=!1,w?[4,this._resolveMessageQueue(a)]:[3,19];case 18:H.sent(),H.label=19;case 19:return[3,21];case 20:s.isResolveRequestPending=!0,H.label=21;case 21:return[2]}})})},cc.prototype._uploadNextPendingItem=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w;return F(this,function(T){switch(T.label){case 0:return s=this._queueMap.get(a.url),(l=s.messageQueue.find(function(L){return L.state===Ei.PENDING}))?bo(l.params.file)?s.uploadQueue.length<6?(l.state=Ei.UPLOADING,s.uploadQueue.push(l),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!T.sent())return[3,8];T.label=2;case 2:return T.trys.push([2,4,5,7]),d=new JK({file:l.params.file,channelUrl:a.url,thumbnailSizes:l.params.thumbnailSizes,requestId:l.requestId}),[4,this._requestQueue.send(d)];case 3:return d=T.sent(),g=d.as(ZK),b=g.url,p=g.fileSize,p=p===void 0?l.params.fileSize:p,m=g.thumbnailSizes,m=m===void 0?l.params.thumbnailSizes:m,g=g.requireAuth,g=g!==void 0&&g,l.params.fileUrl=b,l.params.fileSize=p,l.params.thumbnailSizes=m,l.params.requireAuth=g,l.requireAuth=g,l.state=Ei.UPLOADED,[3,7];case 4:return b=T.sent(),l.state=Ei.FAILED,l.error=b,[3,7];case 5:return 0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 6:return T.sent(),[7];case 7:return[3,10];case 8:return l.state=Ei.FAILED,l.error=we.connectionRequired,0<=(w=s.uploadQueue.findIndex(function(L){return L.requestId===l.requestId}))&&(s.uploadQueue.splice(w,1),this._uploadNextPendingItem(a)),[4,this._resolveMessageQueue(a)];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return l.params.thumbnailSizes=[],l.state=Ei.UPLOADED,[4,this._resolveMessageQueue(a)];case 12:T.sent(),T.label=13;case 13:return[2]}})})},cc.prototype.request=function(a,s,l){var d;return P(this,void 0,void 0,function(){var p;return F(this,function(m){return p=new ua,bo(l.file)&&(l.fileName=(d=l.fileName)!=null?d:l.file.name,l.mimeType=(d=l.mimeType)!=null?d:l.file.type,l.fileSize=(d=l.fileSize)!=null?d:l.file.size),this._queueMap.has(a.url)||this._queueMap.set(a.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(a.url).messageQueue.push({requestId:s,params:l,state:Ei.PENDING,deferred:p,requireAuth:l.requireAuth}),this._uploadNextPendingItem(a),[2,p.promise]})})},cc.prototype.cancel=function(a,s){s===void 0&&(s=null);var l,d,p=this._queueMap.get(a.url);if(p){p=s?[p.messageQueue.find(function(w){return w.requestId===s})]:wr([],ir(p.messageQueue),!1);try{for(var m=Bn(p),g=m.next();!g.done;g=m.next()){var b=g.value;if(b)switch(b.state){case Ei.PENDING:b.state=Ei.FAILED,b.error=we.requestCanceled,this._resolveMessageQueue(a);break;case Ei.UPLOADING:this._requestQueue.cancel(b.requestId)}}}catch(w){l={error:w}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}}};var oi,rQ=cc,KT={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Qa.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Ya.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},Dy={replyType:Ya.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1};function cc(a,g){var l=g.sdkState,d=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=a,this._sdkState=l,this._requestQueue=p,this._cacheContext=g,this._dispatcher=d,this._dispatcher.on(function(w){w instanceof Nd&&(b._connectionState=w.stateType)}),this._onlineDetector=m}(wt=oi=oi||{}).UNKNOWN="UNKNOWN",wt.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",wt.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",wt.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",wt.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",wt.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",wt.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",wt.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",wt.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",wt.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",wt.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",wt.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",wt.REQUEST_MESSAGE="REQUEST_MESSAGE",wt.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",wt.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",wt.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",wt.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",wt.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",wt.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",wt.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",wt.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",wt.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",wt.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED",Y(ZT,YT=bi);var Vp,QT,YT,XT,Ta=ZT,iQ=(Y(JT,QT=bi),JT);function JT(l){var s=l.messageIds,l=l.source,d=QT.call(this)||this;return d.messageIds=s,d.source=l,d}function ZT(l){var s=l.messages,l=l.source,d=YT.call(this)||this;return d.messages=s,d.source=l,d}function aQ(l){var s=l.reqId,l=l.source,d=XT.call(this)||this;return d.reqId=s,d.source=l,d}Y(aQ,XT=bi),Y(kI,cI=Qe);var eI,nI,tI,rI,iI,aI,sI,oI,lI,uI,cI,sQ=kI,oQ=(Y(xI,uI=Je),xI),dI=(Y(wI,lI=Qe),wI),hI=(Y(EI,oI=Je),EI),lQ=(Y(yI,sI=Qe),yI),uQ=(Y(bI,aI=Je),bI),cQ=(Y(_I,iI=Qe),_I),dQ=(Y(vI,rI=Je),vI),pI={},Ia=(Za.of=function(a){return pI[a]},Za.prototype.buildMessageFromSerializedData=function(a){var s=ym(a);switch(s.messageType){case vr.USER:return new wi(this._iid,wi.payloadify(s));case vr.FILE:return new si(this._iid,si.payloadify(s));case vr.ADMIN:return new Md(this._iid,Md.payloadify(s))}return null},Za.prototype.buildUserMessageCreateParamsFromSerializedData=function(a,s){return Hn({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,message:s.message,translationTargetLanguages:Object.keys(s.translations)})},Za.prototype.buildFileMessageCreateParamsFromSerializedData=function(a,s){return Hn({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUserIds:s.mentionedUserIds,mentionedUsers:s.mentionedUsers,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,appleCriticalAlertOptions:s.appleCriticalAlertOptions,reqId:s.reqId,file:a.file,fileKey:a.fileKey,fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,thumbnailSizes:s.thumbnails.map(function(l){return{maxWidth:l.width,maxHeight:l.height}}),fileType:a.fileType,requireAuth:s.requireAuth})},Za.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildUserMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},Za.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(a,s){return pe(pe({},this.buildFileMessageCreateParamsFromSerializedData(a,s)),{scheduledAt:a.scheduledAt})},Za.prototype.buildSenderFromSerializedData=function(a){return a=ym(a),new zp(this._iid,zp.payloadify(a))},Za.prototype.getMessage=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=new sQ(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(oQ).message]}})})},Za.prototype.getScheduledMessage=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=new cQ(a),[4,this._requestQueue.send(s)];case 1:return[2,l.sent().as(dQ).message]}})})},Za.prototype.getMessagesByTimestamp=function(a,s,l,d,p){return p===void 0&&(p=oi.REQUEST_MESSAGE),P(this,void 0,void 0,function(){var m,g;return F(this,function(b){switch(b.label){case 0:return m=new dI(pe(pe({channelType:s,channelUrl:a,timestamp:l},KT),d)),[4,this._requestQueue.send(m)];case 1:return m=b.sent(),g=m.as(hI).messages,this._dispatcher.dispatch(new Ta({messages:g,source:p})),[2,g]}})})},Za.prototype.getThreadedMessagesByTimestamp=function(a,s,l,d){return d===void 0&&(d=oi.REQUEST_THREADED_MESSAGE),P(this,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return p=new dI(pe(pe(pe({channelUrl:a.channelUrl,channelType:a.channelType,timestamp:s},km),l),{replyType:Ya.ALL,parentMessageId:a.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return p=b.sent(),m=p.as(hI).messages,(g=m.slice(1)).forEach(function(w){w.parentMessage=a}),this._dispatcher.dispatch(new Ta({messages:g,source:d})),[2,{parentMessage:m[0],threadedMessages:g}]}})})},Za.prototype.getMessageChangelogs=function(a,s,l,d,p){return p===void 0&&(p=oi.REQUEST_MESSAGE_CHANGELOGS),P(this,void 0,void 0,function(){var m,g,b,w,T;return F(this,function(L){switch(L.label){case 0:return m=new lQ(Hn(pe(pe({channelType:s,channelUrl:a,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null},Dy),d))),[4,this._requestQueue.send(m)];case 1:return m=L.sent(),w=m.as(uQ),g=w.updatedMessages,T=w.deletedMessagesInfo,b=w.hasMore,w=w.nextToken,T=T.map(function(H){return H.messageId}),0<g.length&&this._dispatcher.dispatch(new Ta({messages:g,source:p})),0<T.length&&this._dispatcher.dispatch(new iQ({messageIds:T,source:p})),[2,{updatedMessages:g,deletedMessageIds:T,hasMore:b,token:w}]}})})},Za),Uy=(Wp.prototype._trigger=function(a,s){switch(s.sendingStatus){case sr.PENDING:this._onPending(s);break;case sr.FAILED:case sr.CANCELED:this._onFailed(a,s.scheduledInfo?null:s);break;case sr.SCHEDULED:case sr.SUCCEEDED:this._onSucceeded(s)}},Wp.prototype.onPending=function(a){return this._onPending=a,this},Wp.prototype.onFailed=function(a){return this._onFailed=a,this},Wp.prototype.onSucceeded=function(a){return this._onSucceeded=a,this},Wp),hQ=(Y(gI,tI=Dr),gI),pQ={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},it=(Object.defineProperty(Nm.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(Nm.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),Nm.prototype._validate=function(){return fe("number",this.limit)&&0<this.limit},Nm),fQ=(Y(mI,nI=Qe),mI),mQ=(Y(fI,eI=Je),fI);function fI(a,s){var l=eI.call(this,a,s)||this;return l.messages=s.results.map(function(d){return Yl(a,d)}),l.hasNext=s.has_next,l.nextToken=s.end_cursor,l}function mI(G){var s=G.channelCustomType,l=G.keyword,d=G.limit,p=G.reverse,m=G.exactMatch,g=G.channelUrl,b=G.order,w=G.messageTimestampFrom,T=G.messageTimestampTo,L=G.advancedQuery,H=G.targetFields,G=G.nextToken,ne=nI.call(this)||this;return ne.method=Ke.GET,ne.path="".concat(FK,"/messages"),ne.params={custom_type:s,query:l,limit:d,reverse:p,exact_match:m,channel_url:g,message_ts_from:w,message_ts_to:T,sort_field:b,advanced_query:L,target_fields:H,after:G},ne}function Nm(a,s){this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=a,this.limit=(a=s.limit)!=null?a:20}function gI(a,g){var l=tI.call(this,a)||this,d=(l.threadInfo=null,l.targetMessageId=0,l.channelUrl=null,l.channelType=null,g.thread_info),p=g.root_message_id,m=g.channel_url,g=g.channel_type;return d&&fe("object",d)&&fe("number",p)&&fe("string",m)&&fe("string",g)&&(l.threadInfo=new yy(a,d),l.targetMessageId=p,l.channelUrl=m,l.channelType=g),l}function Wp(){this._onPending=Lt,this._onFailed=Lt,this._onSucceeded=Lt}function Za(a,g){var l=g.sdkState,d=g.dispatcher,p=g.requestQueue,m=g.onlineDetector,g=g.cacheContext;this._iid=a,this._sdkState=l,this._requestQueue=p,this._dispatcher=d,this._onlineDetector=m,this._cacheContext=g,this.fileMessageQueue=new rQ(a,{sdkState:l,dispatcher:d,requestQueue:p,onlineDetector:m,cacheContext:g}),pI[a]=this}function vI(a,s){var l=rI.call(this,a,s)||this;return l.message=s?Yl(a,pe({},s)):null,l}function _I(l){var s=l.channelUrl,l=l.scheduledMessageId,d=iI.call(this)||this;return d.method=Ke.GET,d.path="".concat(GN,"/").concat(encodeURIComponent(s),"/scheduled_messages/").concat(encodeURIComponent(l)),d.params={},d}function bI(a,s){var l=aI.call(this,a,s)||this;return l.updatedMessages=s.updated.map(function(d){return Yl(a,d)}),l.deletedMessagesInfo=s.deleted.map(function(d){return{messageId:d.message_id,deletedAt:d.deleted_at}}),l.hasMore=s.has_more,l.nextToken=s.next,l}function yI(L){var s=L.channelType,l=L.channelUrl,d=L.timestamp,p=L.token,m=L.replyType,g=L.includeMetaArray,b=L.includeReactions,w=L.includeThreadInfo,T=L.includeParentMessageInfo,L=L.includePollDetails,H=sI.call(this)||this;return H.method=Ke.GET,H.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages/changelogs"),H.params={change_ts:d,token:p,with_sorted_meta_array:g,include_reactions:b,include_thread_info:w,include_reply_type:m,include_parent_message_info:T,include_poll_details:L},H}function EI(a,s){var l=oI.call(this,a,s)||this;return l.messages=s.messages.map(function(d){return Yl(a,d)}),l}function wI(be){var s=be.channelType,l=be.channelUrl,d=be.timestamp,d=d===void 0?null:d,p=be.token,p=p===void 0?null:p,m=be.prevResultSize,g=be.nextResultSize,b=be.isInclusive,w=be.reverse,T=be.messageTypeFilter,L=be.customTypesFilter,H=be.senderUserIdsFilter,G=be.replyType,ne=be.includeMetaArray,se=be.includeReactions,Te=be.parentMessageId,Q=be.includeThreadInfo,ae=be.includeParentMessageInfo,Ee=be.showSubchannelMessagesOnly,be=be.includePollDetails,Ve=lI.call(this)||this;return Ve.method=Ke.GET,Ve.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages"),Ve.params=Hn({is_sdk:!0,prev_limit:m,next_limit:g,include:b,reverse:w,message_ts:d,message_id:p,message_type:T!=null?T:null,custom_types:L,sender_ids:H,include_reply_type:G,with_sorted_meta_array:ne,include_reactions:se,parent_message_id:Te,include_thread_info:Q,include_parent_message_info:ae,show_subchannel_message_only:Ee,include_poll_details:be}),Ve}function xI(a,s){var l=uI.call(this,a,s)||this;return l.message=s?Yl(a,pe({},s)):null,l}function kI(w){var s=w.channelType,l=w.channelUrl,d=w.messageId,p=w.includeMetaArray,m=w.includeReactions,g=w.includeThreadInfo,b=w.includeParentMessageInfo,w=w.includePollDetails,T=cI.call(this)||this;return T.method=Ke.GET,T.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(d)),T.params={is_sdk:!0,with_sorted_meta_array:p,include_reactions:m,include_thread_info:g,include_parent_message_info:b,include_poll_details:w},T}(Jn=Vp=Vp||{}).SCORE="score",Jn.TIMESTAMP="ts",Y(Om,Fy=it),Om.prototype._validate=function(){return Fy.prototype._validate.call(this)&&fe("string",this.keyword)&&0<this.keyword.length&&fe("boolean",this.reverse)&&fe("boolean",this.exactMatch)&&fe("string",this.channelUrl)&&fe("string",this.channelCustomType)&&(fe("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(fe("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&ar(Vp,this.order)&&fe("boolean",this.advancedQuery)&&mt("string",this.targetFields,!0)},Om.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new fQ(pe(pe({},this),{nextToken:this._nextToken||null})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(mQ),l=s.messages,d=s.hasNext,p=s.nextToken,this._nextToken=p,this._hasNext=d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})};var Tm,Ly,Py,Fy,gQ=Om,da=(Y(Hy,Py=it),Hy.prototype._validate=function(){return Py.prototype._validate.call(this)&&fe("string",this.channelUrl)&&ar(xr,this.channelType)},Hy),vQ=(Y(Im,Ly=da),Im.prototype._validate=function(){return Ly.prototype._validate.call(this)&&fe("boolean",this.reverse)&&ar(Qa,this.messageTypeFilter)&&ar(Ya,this.replyType)&&mt("string",this.customTypesFilter,!0)&&mt("string",this.senderUserIdsFilter,!0)&&fe("boolean",this.includeMetaArray)&&fe("boolean",this.includeReactions)&&fe("boolean",this.includeParentMessageInfo)&&fe("boolean",this.includeThreadInfo)&&fe("boolean",this.showSubchannelMessagesOnly)},Im.prototype.load=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ia.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return a=s.sent(),this._edge=Math.min.apply(Math,wr([Number.MAX_SAFE_INTEGER],ir(a.map(function(l){return l.createdAt})),!1)),this._hasNext=a.length>=this.limit,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Im),_Q={channelUrl:null,scheduledMessageId:0},bQ=(Y(dc,Tm=ca),dc.prototype.init=function(a,w){var l=w.sdkState,d=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;Tm.prototype.init.call(this,a,{sdkState:l,dispatcher:d,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new Ia(a,{sdkState:l,dispatcher:d,requestQueue:m,onlineDetector:b,cacheContext:w})},dc.prototype.buildMessageFromSerializedData=function(a){return this._manager.buildMessageFromSerializedData(a)},dc.prototype.buildSenderFromSerializedData=function(a){return this._manager.buildSenderFromSerializedData(a)},dc.prototype.getMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return a=pe(pe({},pQ),a),an(fe("string",(l=a).channelUrl)&&fe("string",l.channelType)&&ar(xr,l.channelType)&&fe("number",l.messageId)&&fe("boolean",l.includeMetaArray)&&fe("boolean",l.includeParentMessageInfo)&&fe("boolean",l.includeThreadInfo)&&fe("boolean",l.includePollDetails)).throw(we.invalidParameters),[2,this._manager.getMessage(a)];var l})})},dc.prototype.getScheduledMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return a=pe(pe({},_Q),a),an(fe("string",(l=a).channelUrl)&&fe("number",l.scheduledMessageId)).throw(we.invalidParameters),[2,this._manager.getScheduledMessage(a)];var l})})},dc);function dc(){var a=Tm!==null&&Tm.apply(this,arguments)||this;return a.name="message",a}function Im(a,s,l,d){var p=this;return(p=Ly.call(this,a,s,l,d)||this).reverse=!1,p.messageTypeFilter=Qa.ALL,p.customTypesFilter=null,p.senderUserIdsFilter=null,p.replyType=Ya.NONE,p.includeMetaArray=!1,p.includeReactions=!1,p.includeParentMessageInfo=!1,p.includeThreadInfo=!1,p.showSubchannelMessagesOnly=!1,p._edge=Number.MAX_SAFE_INTEGER,p.reverse=(a=d.reverse)!=null&&a,p.messageTypeFilter=(s=d.messageTypeFilter)!=null?s:Qa.ALL,p.customTypesFilter=(l=d.customTypesFilter)!=null?l:null,p.senderUserIdsFilter=(a=d.senderUserIdsFilter)!=null?a:null,p.replyType=(s=d.replyType)!=null?s:Ya.NONE,p.includeMetaArray=(l=d.includeMetaArray)!=null&&l,p.includeReactions=(a=d.includeReactions)!=null&&a,p.includeParentMessageInfo=(s=d.includeParentMessageInfo)!=null&&s,p.includeThreadInfo=(l=d.includeThreadInfo)!=null&&l,p.showSubchannelMessagesOnly=(a=d.showSubchannelMessagesOnly)!=null&&a,p}function Hy(a,s,l,d){return a=Py.call(this,a,d)||this,a.channelUrl=s,a.channelType=l,a}function Om(a,s){var l=this;return(l=Fy.call(this,a,s)||this).keyword="",l.reverse=!1,l.exactMatch=!1,l.channelUrl="",l.channelCustomType="",l.messageTimestampFrom=null,l.messageTimestampTo=null,l.order=Vp.SCORE,l.advancedQuery=!1,l.targetFields=null,l._nextToken="",l.keyword=s.keyword,l.reverse=(a=s.reverse)!=null&&a,l.exactMatch=(a=s.exactMatch)!=null&&a,l.channelUrl=(a=s.channelUrl)!=null?a:"",l.channelCustomType=(a=s.channelCustomType)!=null?a:"",l.messageTimestampFrom=(a=s.messageTimestampFrom)!=null?a:null,l.messageTimestampTo=(a=s.messageTimestampTo)!=null?a:null,l.order=(a=s.order)!=null?a:Vp.SCORE,l.advancedQuery=(a=s.advancedQuery)!=null&&a,l.targetFields=(a=s.targetFields)!=null?a:null,l}function CI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&ar(Gi,a.mentionType)&&mt("string",a.mentionedUserIds,!0)&&mt($n,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&mt(Xa,a.metaArrays,!0)&&fe("number",a.parentMessageId,!0)&&fe("boolean",a.isReplyToChannel)&&ar(jl,a.pushNotificationDeliveryOption,!0)&&fe(Ql,a.appleCriticalAlertOptions,!0)}function SI(a){return a?{isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}var Dd,Bt={data:null,customType:null,mentionType:Gi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},NI=pe(pe({},Bt),{message:null,translationTargetLanguages:null});(nt=Dd=Dd||{}).FILE="file",nt.BLOB="blob",nt.BLOB_LIKE_OBJECT="blobLikeObject",nt.URL="url";function qy(a){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&a instanceof Blob}function By(a){return a===Dd.BLOB||a===Dd.FILE}function TI(a){return a?{file:a.file,fileKey:a.fileKey,fileType:a.fileType,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null}function II(a){return CI(a)&&(bo(a.file)||fe("string",a.fileUrl))&&fe("string",a.fileName,!0)&&fe("string",a.mimeType,!0)&&fe("number",a.fileSize,!0)&&(a.thumbnailSizes===null||Array.isArray(a.thumbnailSizes)&&a.thumbnailSizes.every(function(s){return fe("object",s)&&0<s.maxWidth&&0<s.maxHeight}))}var Gy,OI=pe(pe({},Bt),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1});(tr=Gy=Gy||{}).MUTED="muted",tr.BANNED="banned";function AI(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&ar(Gi,a.mentionType)&&mt("string",a.mentionedUserIds,!0)&&mt($n,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&mt(Xa,a.metaArrays,!0)&&ar(jl,a.pushNotificationDeliveryOption,!0)&&fe(Ql,a.appleCriticalAlertOptions,!0)}VI.payloadify=function(a){return a?Hn({restriction_type:a.restrictionType,description:a.description,end_at:a.endAt}):null};var Kp,zy,RI,MI,DI,UI,LI,$y,PI,FI,jy,HI=VI,Ud=(Y(Wy,jy=$n),Wy.payloadify=function(a){return a?Hn(pe(pe({},jy.payloadify.call(this,a)),HI.payloadify(a.restrictionInfo))):null},Wy),St={data:null,customType:null,mentionType:Gi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},yQ=pe(pe({},St),{message:null,translationTargetLanguages:null}),EQ=pe({},St),wQ=(Y(jI,FI=Qe),jI),xQ=(Y($I,PI=Je),$I),kQ=(Y(Rm,$y=da),Rm.prototype._validate=function(){return $y.prototype._validate.call(this)},Rm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(a=[],this._hasNext?(this._isLoading=!0,s=ke.of(this._iid).requestQueue,l=new wQ(pe(pe({},this),{channelUrl:this.channelUrl,token:this._token})),[4,s.send(l)]):[3,2]):[3,5];case 1:return s=m.sent(),l=s.as(xQ),d=l.operators,p=l.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,a];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Rm),CQ=(Y(zI,LI=Qe),zI),SQ=(Y(GI,UI=Je),GI),NQ=(Y(Vy,DI=da),Vy.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new CQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(SQ),l=s.mutedUsers,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Vy),TQ=(Y(BI,MI=Qe),BI),IQ=(Y(qI,RI=Je),qI),OQ=(Y(Am,zy=da),Am.prototype._validate=function(){return zy.prototype._validate.call(this)},Am.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new TQ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(IQ),l=s.bannedUsers,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Am);function Am(a,s,l,d){return zy.call(this,a,s,l,d)||this}function qI(a,p){var l=RI.call(this,a,p)||this,d=(l.token=null,l.bannedUsers=[],p.next),p=p.banned_list;return l.token=d,p&&0<p.length&&(l.bannedUsers=p.map(function(m){return new Ud(a,m.user)})),l}function BI(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.limit,m=m.token;return(s=MI.call(this)||this).method=Ke.GET,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/ban"),s.params=Hn({limit:p,token:m}),s}function Vy(a,s,l,d){return DI.call(this,a,s,l,d)||this}function GI(a,p){var l=UI.call(this,a,p)||this,d=(l.token=null,l.mutedUsers=[],p.next),p=p.muted_list;return l.token=d,p&&0<p.length&&(l.mutedUsers=p.map(function(m){return new Ud(a,m)})),l}function zI(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.limit,m=m.token;return(s=LI.call(this)||this).method=Ke.GET,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/mute"),s.params={limit:p,token:m},s}function Rm(a,s,l,d){return $y.call(this,a,s,l,d)||this}function $I(a,s){var l=PI.call(this,a,s)||this;return l.operators=s.operators.map(function(d){return new $n(a,d)}),l.token=s.next,l}function jI(p){var s=p.channelUrl,l=p.channelType,d=p.token,p=p.limit,m=FI.call(this)||this;return m.method=Ke.GET,m.path="".concat(Pt(l),"/").concat(encodeURIComponent(s),"/operators"),m.params={token:d,limit:p},m}function Wy(a,s){return a=jy.call(this,a,s)||this,a.restrictionInfo=null,a.restrictionInfo=new HI(s),a}function VI(a){var s;this.restrictionType=null,this.description=null,this.endAt=-1,ar(Gy,a.restriction_type)&&(this.restrictionType=a.restriction_type),this.description=(s=a.description)!=null?s:null,this.endAt=(s=(s=a.end_at)!=null?s:a.muted_end_at)!=null?s:-1}(pn=Kp=Kp||{}).SPAM="spam",pn.HARASSING="harassing",pn.SUSPICIOUS="suspicious",pn.INAPPROPRIATE="inappropriate",Y(KI,WI=Qe);var WI,Ky,AQ=KI;function KI(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.operatorUserIds;return(s=WI.call(this)||this).method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(){return Ky!==null&&Ky.apply(this,arguments)||this},Ky=Je),Y(XI,QI=Qe);var QI,YI,RQ=XI;function XI(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.operatorUserIds;return(s=QI.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/operators"),s.params={operator_ids:p},s}Y(function(a,s){return YI.call(this,a,s)||this},YI=Je),Y(q6,g6=Qe);var JI,ZI,e6,n6,t6,r6,i6,a6,s6,o6,l6,u6,c6,d6,h6,p6,f6,m6,g6,v6,MQ=q6,DQ=(Y(H6,m6=Je),H6),_6=(Y(F6,f6=Qe),F6),b6=(Y(P6,p6=Je),P6),UQ=(Y(L6,h6=Qe),L6),LQ=(Y(U6,d6=Je),U6),PQ=(Y(D6,c6=dr),D6),FQ=(Y(M6,u6=Qe),M6),HQ=(Y(R6,l6=Je),R6),qQ=(Y(A6,o6=Qe),A6),BQ=(Y(O6,s6=Je),O6),y6=(Y(I6,a6=Qe),I6),E6=(Y(T6,i6=Je),T6),GQ=(Y(N6,r6=Qe),N6),zQ=(Y(S6,t6=Je),S6),Qy=(Y(C6,n6=Qe),C6),Yy=(Y(k6,e6=Je),k6),$Q=(Y(x6,ZI=dr),x6),jQ=(Y(w6,JI=Qe),w6);function w6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.key;return(s=JI.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metacounter/").concat(p),s.params=null,s}function x6(a,s,l){return a=ZI.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function k6(a,s){return a=e6.call(this,a,s)||this,a.metaCounter=s,a}function C6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.metaCounter,m=g.upsert,m=m!==void 0&&m,g=g.mode,g=g===void 0?"set":g;return(s=n6.call(this)||this).method=Ke.PUT,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p,upsert:m,mode:g},s}function S6(a,s){return a=t6.call(this,a,s)||this,a.metaCounter=s,a}function N6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.metaCounter;return(s=r6.call(this)||this).method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={metacounter:p},s}function T6(a,s){return a=i6.call(this,a,s)||this,a.metaCounter=s,a}function I6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.keys;return(s=a6.call(this)||this).method=Ke.GET,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params={keys:p},s}function O6(a,s){return a=s6.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function A6(d){var s=this,l=d.channelUrl,d=d.channelType;return(s=o6.call(this)||this).method=Ke.PUT,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={include_ts:!0},s}function R6(a,s){return a=l6.call(this,a,s)||this,a.ts=null,s=s.ts,a.ts=s!=null?s:null,a}function M6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.key;return(s=u6.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metadata/").concat(p),s.params={include_ts:!0},s}function D6(a,s,l){return a=c6.call(this,a,"SYEV",l)||this,a.created=null,a.updated=null,a.deleted=null,l.data&&(a.created=l.data.created,a.updated=l.data.updated,a.deleted=l.data.deleted),a}function U6(l,p){var l=d6.call(this,l,p)||this,d=(l.ts=null,p.metadata),p=p.ts;return l.metadata=d,l.ts=p!=null?p:null,l}function L6(m){var s=this,l=m.channelUrl,d=m.channelType,p=m.metadata,m=m.upsert;return(s=h6.call(this)||this).method=Ke.PUT,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={metadata:p,include_ts:!0,upsert:m!=null&&m},s}function P6(l,p){var l=p6.call(this,l,p)||this,d=(l.ts=null,p.metadata),p=p.ts;return l.metadata=d,l.ts=p!=null?p:null,l}function F6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.keys;return(s=f6.call(this)||this).method=Ke.GET,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metadata"),s.params={keys:p,include_ts:!0},s}function H6(l,b){var l=m6.call(this,l,b)||this,d=(l.isMuted=!1,l.startAt=null,l.endAt=null,l.remainingDuration=null,l.description=null,b.is_muted),p=b.start_at,m=b.end_at,g=b.remaining_duration,b=b.description;return l.isMuted=d,l.startAt=p,l.endAt=m,l.remainingDuration=g,l.description=b,l}function q6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=g6.call(this)||this).method=Ke.GET,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/mute/").concat(p),s}Y(function(a,s){return v6.call(this,a,s)||this},v6=Je),Y(G6,B6=Qe);var B6,Xy,VQ=G6;function G6(d){var s=this,l=d.channelUrl,d=d.channelType;return(s=B6.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/metacounter"),s.params=null,s}Y(function(){return Xy!==null&&Xy.apply(this,arguments)||this},Xy=Je),Y(j6,z6=Qe);var z6,$6,WQ=j6;function j6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=z6.call(this)||this).method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/mute"),s.params={user_id:p,seconds:m,description:g},s}Y(function(a,s){return $6.call(this,a,s)||this},$6=Je),Y(Q6,W6=dr);var V6,W6,Jy,KQ=Q6,QQ=(Y(K6,V6=Qe),K6);function K6(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=V6.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/mute/").concat(encodeURIComponent(p)),s}function Q6(a,s,l){var d=W6.call(this,a,"SYEV",l)||this;return d.user=new Ud(a,l.data),d}Y(function(){return Jy!==null&&Jy.apply(this,arguments)||this},Jy=Je),Y(Z6,X6=dr);var Y6,X6,Zy,YQ=Z6,XQ=(Y(J6,Y6=Qe),J6);function J6(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.userId,m=g.seconds,g=g.description;return(s=Y6.call(this)||this).method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/ban"),s.params=Hn({user_id:p,seconds:m,description:g}),s}function Z6(a,s,l){var d=X6.call(this,a,"SYEV",l)||this;return d.user=new Ud(a,l.data),d}Y(function(){return Zy!==null&&Zy.apply(this,arguments)||this},Zy=Je),Y(r4,n4=dr);var e4,n4,e1,JQ=r4,ZQ=(Y(t4,e4=Qe),t4);function t4(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.userId;return(s=e4.call(this)||this).method=Ke.DELETE,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/ban/").concat(encodeURIComponent(p)),s}function r4(a,s,l){var d=n4.call(this,a,"SYEV",l)||this;return d.memberCount=null,d.joinedMemberCount=null,d.user=new Ud(a,l.data),l.data.member_count&&(d.memberCount=l.data.member_count),l.data.joined_member_count&&(d.joinedMemberCount=l.data.joined_member_count),d}Y(function(){return e1!==null&&e1.apply(this,arguments)||this},e1=Je),Y(l4,a4=dr);var i4,a4,n1,eY=l4,s4=(Y(o4,i4=Qe),o4);function o4(p){var s=this,l=p.channelUrl,d=p.channelType,p=p.freezing;return(s=i4.call(this)||this).method=Ke.PUT,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(l),"/freeze"),s.params={freeze:p},s}function l4(a,s,l){var d=a4.call(this,a,"SYEV",l)||this;return d.user=new Ud(a,l.data),d}Y(function(){return n1!==null&&n1.apply(this,arguments)||this},n1=Je),Y(M4,b4=dr);var u4,c4,d4,h4,p4,f4,m4,g4,v4,_4,b4,t1,nY=M4,tY=(Y(R4,_4=Qe),R4),rY=(Y(A4,v4=Qe),A4),iY=(Y(O4,g4=Qe),O4),aY=(Y(I4,m4=yo),I4),y4=(Y(T4,f4=dr),T4),E4=(Y(N4,p4=yo),N4),r1=(Y(S4,h4=dr),S4),sY=(Y(C4,d4=yo),C4),w4=(Y(k4,c4=dr),k4),oY=(Y(x4,u4=Qe),x4);function x4(a){var s=u4.call(this)||this;return s.method=Ke.DELETE,s.path="".concat(Pt(a.channelType),"/").concat(a.channelUrl,"/messages/").concat(a.messageId),s}function k4(m,s,l){var d,p=this,m=((p=c4.call(this,m,"FEDI",l)||this).message=new si(m,l),ke.of(m).sdkState);return p.mentionCountChange=dy({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function C4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),d4.call(this,{code:"FEDI",ackRequired:!0,payload:Hn({channel_url:a.channelUrl,msg_id:a.messageId,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function S4(m,s,l){var d,p=this,m=((p=h4.call(this,m,"MEDI",l)||this).message=new wi(m,l),ke.of(m).sdkState);return p.mentionCountChange=dy({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function N4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),p4.call(this,{code:"MEDI",ackRequired:!0,payload:Hn({channel_url:a.channelUrl,msg_id:a.messageId,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}function T4(m,s,l){var d,p=this,m=((p=f4.call(this,m,"MESG",l)||this).message=new wi(m,l),ke.of(m).sdkState);return p.isMentioned=Od(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function I4(a){var s=[];return a.mentionType===Gi.USERS&&(a.mentionedUserIds?s=a.mentionedUserIds:a.mentionedUsers&&(s=a.mentionedUsers.map(function(l){return l.userId}))),m4.call(this,{code:"MESG",ackRequired:!0,payload:Hn({channel_url:a.channelUrl,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:s,mentioned_message_template:a.mentionedMessageTemplate,target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==jl.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:0<a.parentMessageId?a.parentMessageId:null,req_id:a.reqId})})||this}function O4(w){var s=this,l=w.channelUrl,d=w.channelType,p=w.category,m=w.userId,g=w.offendingUserId,b=w.messageId,w=w.description;return(s=g4.call(this)||this).method=Ke.POST,s.path="".concat(eT(d),"/").concat(encodeURIComponent(l),"/messages/").concat(b),s.params={report_category:p,reporting_user_id:m,report_description:w,offending_user_id:g},s}function A4(b){var s=this,l=b.channelUrl,d=b.channelType,p=b.category,m=b.userId,g=b.offendingUserId,b=b.description;return(s=v4.call(this)||this).method=Ke.POST,s.path="/report/users/".concat(g),s.params={channel_url:l,channel_type:d===xr.OPEN?"open_channels":"group_channels",report_category:p,reporting_user_id:m,report_description:b},s}function R4(g){var s=this,l=g.channelUrl,d=g.channelType,p=g.category,m=g.userId,g=g.description;return(s=_4.call(this)||this).method=Ke.POST,s.path="".concat(eT(d),"/").concat(encodeURIComponent(l)),s.params={report_category:p,reporting_user_id:m,report_description:g},s}function M4(a,s,l){return a=b4.call(this,a,"SYEV",l)||this,a.freeze=l.data.freeze,a}Y(function(){return t1!==null&&t1.apply(this,arguments)||this},t1=Je),Y(tO,$4=dr);var i1,D4,U4,L4,P4,F4,H4,q4,B4,G4,z4,$4,xi,lY=tO,uY=(Y(nO,z4=Qe),nO),cY=(Y(eO,G4=Je),eO),dY=(Y(Z4,B4=Qe),Z4),hY=(Y(J4,q4=Je),J4),pY=(Y(X4,H4=Qe),X4),fY=(Y(Y4,F4=Je),Y4),mY=(Y(Q4,P4=Qe),Q4),gY=(Y(K4,L4=Je),K4),vY=(Y(W4,U4=Qe),W4),_Y=(Y(V4,D4=Je),V4),j4=(Y(Xe,i1=Dr),Xe.payloadify=function(a){return Hn(pe(pe({},i1.payloadify.call(this,a)),{channel_url:a.url,name:a.name,cover_url:a.coverUrl,custom_type:a.customType,data:a.data,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,created_by:$n.payloadify(a.creator),created_at:a.createdAt/1e3}))},Xe.prototype.isGroupChannel=function(){return this.channelType===xr.GROUP},Xe.prototype.isOpenChannel=function(){return this.channelType===xr.OPEN},Object.defineProperty(Xe.prototype,"cachedMetaData",{get:function(){var a={};return this._cachedMetaData.forEach(function(s,l){s.isRemoved||(a[l]=s.value)}),a},enumerable:!1,configurable:!0}),Xe.prototype._upsertCachedMetaData=function(a,s){var l=this;Object.keys(a).forEach(function(d){var p=l._cachedMetaData.get(d);(!p||p.updatedAt<=s)&&l._cachedMetaData.set(d,{value:a[d],isRemoved:!1,updatedAt:s})})},Xe.prototype._removeFromCachedMetaData=function(a,s){var l=this;a.forEach(function(d){d=l._cachedMetaData.get(d),d&&d.updatedAt<s&&(d.isRemoved=!1,d.updatedAt=s)})},Xe.prototype._generateRequestId=function(){return"rq-".concat(kd())},Xe.prototype.isIdentical=function(a){return a&&this.url===a.url},Xe.prototype.isEqual=function(a){return cN(this,a)},Xe.prototype.createOperatorListQuery=function(a){return new kQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createMutedUserListQuery=function(a){return new NQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createBannedUserListQuery=function(a){return new OQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.createPreviousMessageListQuery=function(a){return new vQ(this._iid,this.url,this.channelType,a=a===void 0?{}:a)},Xe.prototype.addOperators=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new AQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Xe.prototype.removeOperators=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new RQ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Xe.prototype.getMyMutedInfo=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new MQ({channelUrl:this.url,channelType:this.channelType,userId:s.userId}),[4,a.send(s)];case 1:return a=b.sent(),s=a.as(DQ),l=s.isMuted,d=s.startAt,p=s.endAt,m=s.remainingDuration,g=s.description,[2,{isMuted:l,startAt:d,endAt:p,remainingDuration:m,description:g}]}})})},Xe.prototype.getMetaData=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new _6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return s=m.sent(),l=s.as(b6),d=l.metadata,p=l.ts,this._upsertCachedMetaData(d,p),[2,d]}})})},Xe.prototype.getAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=ke.of(this._iid).requestQueue,s=new _6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(b6),l=s.metadata,d=s.ts,this._upsertCachedMetaData(l,d),[2,l]}})})},Xe.prototype.createMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new GK({channelUrl:this.url,channelType:this.channelType,metadata:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(sT).metaData,this._upsertCachedMetaData(l,0),[2,l]}})})},Xe.prototype.updateMetaData=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d,p,m;return F(this,function(g){switch(g.label){case 0:return l=ke.of(this._iid).requestQueue,d=new UQ({channelUrl:this.url,channelType:this.channelType,metadata:a,upsert:s}),[4,l.send(d)];case 1:return l=g.sent(),d=l.as(LQ),p=d.metadata,m=d.ts,this._upsertCachedMetaData(p,m),[2,p]}})})},Xe.prototype.deleteMetaData=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new FQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return s=d.sent(),l=s.as(HQ).ts,this._removeFromCachedMetaData([a],l),[2]}})})},Xe.prototype.deleteAllMetaData=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new qQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return a=l.sent(),s=a.as(BQ).ts,this._removeFromCachedMetaData(wr([],ir(this._cachedMetaData.keys()),!1),s),[2]}})})},Xe.prototype.getMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new y6({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,s.send(l)];case 1:return[2,d.sent().as(E6).metaCounter]}})})},Xe.prototype.getAllMetaCounters=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new y6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(s)];case 1:return[2,l.sent().as(E6).metaCounter]}})})},Xe.prototype.createMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new GQ({channelUrl:this.url,channelType:this.channelType,metaCounter:a}),[4,s.send(l)];case 1:return[2,d.sent().as(zQ).metaCounter]}})})},Xe.prototype.updateMetaCounters=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return l=ke.of(this._iid).requestQueue,d=new Qy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:s}),[4,l.send(d)];case 1:return[2,p.sent().as(Yy).metaCounter]}})})},Xe.prototype.increaseMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new Qy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"increase"}),[4,s.send(l)];case 1:return[2,d.sent().as(Yy).metaCounter]}})})},Xe.prototype.decreaseMetaCounters=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new Qy({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"decrease"}),[4,s.send(l)];case 1:return[2,d.sent().as(Yy).metaCounter]}})})},Xe.prototype.deleteMetaCounter=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new jQ({channelUrl:this.url,channelType:this.channelType,key:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Xe.prototype.deleteAllMetaCounters=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new VQ({channelUrl:this.url,channelType:this.channelType}),[4,a.send(s)];case 1:return l.sent(),[2]}})})},Xe.prototype.muteUser=function(a,s,l){return P(this,void 0,void 0,function(){return F(this,function(d){return[2,this.muteUserWithUserId(a.userId,s,l)]})})},Xe.prototype.muteUserWithUserId=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return an(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(we.invalidParameters),d=ke.of(this._iid).requestQueue,p=new WQ({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.unmuteUser=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unmuteUserWithUserId(a.userId)]})})},Xe.prototype.unmuteUserWithUserId=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new QQ({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Xe.prototype.banUser=function(a,s,l){return P(this,void 0,void 0,function(){return F(this,function(d){return[2,this.banUserWithUserId(a.userId,s,l)]})})},Xe.prototype.banUserWithUserId=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return an(fe("string",a)&&fe("number",s,!0)&&fe("string",l,!0)).throw(we.invalidParameters),d=ke.of(this._iid).requestQueue,p=new XQ({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.unbanUser=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unbanUserWithUserId(a.userId)]})})},Xe.prototype.unbanUserWithUserId=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid).requestQueue,l=new ZQ({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},Xe.prototype.freeze=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new s4({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!0,[2]}})})},Xe.prototype.unfreeze=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new s4({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,a.send(s)];case 1:return l.sent(),this.isFrozen=!1,[2]}})})},Xe.prototype.getMessagesByTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},KT),s),an(fe("number",a)&&fe("number",(d=s).prevResultSize)&&fe("number",d.nextResultSize)&&fe("boolean",d.isInclusive)&&fe("boolean",d.reverse)&&fe("string",d.messageTypeFilter)&&ar(Qa,d.messageTypeFilter)&&mt("string",d.customTypesFilter,!0)&&mt("string",d.senderUserIdsFilter,!0)&&ar(Ya,d.replyType)&&fe("boolean",d.includeMetaArray)&&fe("boolean",d.includeReactions)&&fe("boolean",d.includeParentMessageInfo)&&fe("boolean",d.includeThreadInfo)&&fe("boolean",d.showSubchannelMessagesOnly)).throw(we.invalidParameters),[4,Ia.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}var d})})},Xe.prototype.getMessageChangeLogsSinceTimestamp=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},Dy),s),an(fe("number",a)&&WT(s)).throw(we.invalidParameters),[4,Ia.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Xe.prototype.getMessageChangeLogsSinceToken=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return s=pe(pe({},Dy),s),an(fe("string",a)&&WT(s)).throw(we.invalidParameters),[4,Ia.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,s)];case 1:return[2,l.sent()]}})})},Xe.prototype._createPendingSendableMessagePayload=function(a,s,l){var d=ke.of(this._iid).sessionManager;return Hn({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,sorted_metaarray:a.metaArrays?a.metaArrays.map(function(p){return Xa.payloadify(p)}):null,apple_critical_alert_options:a.appleCriticalAlertOptions?Ql.payloadify(a.appleCriticalAlertOptions):null,created_at:l,user:zp.payloadify(d.currentUser),req_id:s,request_state:sr.PENDING,mentioned_user_ids:a.mentionedUserIds,mentioned_users:a.mentionedUsers})},Xe.prototype._createPendingUserMessage=function(a,s,l){var d={};if(a.translationTargetLanguages)try{for(var p=Bn(a.translationTargetLanguages),m=p.next();!m.done;m=p.next())d[m.value]=""}catch(w){b={error:w}}finally{try{m&&!m.done&&(g=p.return)&&g.call(p)}finally{if(b)throw b.error}}var g=Hn(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:vr.USER,message:a.message,translations:d})),b=new wi(this._iid,g);return b.messageParams=a,b},Xe.prototype._createPendingScheduledUserMessage=function(a,s,l){return s=this._createPendingUserMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Xe.prototype._createPendingFileMessage=function(a,s,l){return s=Hn(pe(pe({},this._createPendingSendableMessagePayload(a,s,l)),{type:vr.FILE,url:a.fileUrl,file:{name:a.fileName,size:a.fileSize,type:a.mimeType,data:a.data},thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(d){return{url:"",width:d.maxWidth,height:d.maxHeight}}):[]})),l=new si(this._iid,s),l.messageParams=a,l},Xe.prototype._createPendingScheduledFileMessage=function(a,s,l){return s=this._createPendingFileMessage(a,s,l),s.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},s},Xe.prototype._markMessageAsFailed=function(a,s,l){l===void 0&&(l=!1),a.errorCode=s.code,s.code===Kn.REQUEST_CANCELED?a.sendingStatus=sr.CANCELED:l||(a.sendingStatus=sr.FAILED)},Xe.prototype.sendUserMessage=function(a){return a=pe(pe({},NI),a),an(CI(s=a)&&fe("string",s.message)&&mt("string",s.translationTargetLanguages,!0)).throw(we.invalidParameters),this._sendUserMessage(a);var s},Xe.prototype._sendUserMessage=function(a,s,T){var d,p=this,g=(s===void 0&&(s=Date.now()),T===void 0&&(T=null),ke.of(this._iid)),m=g.dispatcher,g=g.requestQueue,b=T,w=new Uy,T=(b||(b=this._generateRequestId(),d=ke.of(this._iid).dispatcher,Eo(2).then(function(){var L=p._createPendingUserMessage(a,b,s);d.dispatch(new Ta({messages:[L],source:oi.EVENT_MESSAGE_SENT_PENDING})),tt(function(){return P(p,void 0,void 0,function(){return F(this,function(H){return[2,w._trigger(null,L)]})})})})),new aY(pe({channelUrl:this.url,channelType:this.channelType,reqId:b},a)));return g.send(T).then(function(L){var H=L.as(y4).message;m.dispatch(new Ta({messages:[H],source:oi.EVENT_MESSAGE_SENT_SUCCESS})),tt(function(){return P(p,void 0,void 0,function(){return F(this,function(G){return[2,w._trigger(null,H)]})})})}).catch(function(L){if(zl(L))throw L;Eo(2).then(function(){var H=p._createPendingUserMessage(a,b,s),G=ke.of(p._iid).cacheContext.localCacheEnabled&&cm(L.code);p._markMessageAsFailed(H,L,G),m.dispatch(new Ta({messages:[H],source:H.sendingStatus===sr.PENDING?oi.REQUEST_RESEND_MESSAGE:oi.EVENT_MESSAGE_SENT_FAILED})),tt(function(){return P(p,void 0,void 0,function(){return F(this,function(ne){return[2,w._trigger(L,H)]})})})})}),w},Xe.prototype._autoResendUserMessage=function(a){return an(a instanceof wi).throw(we.invalidParameters),this._sendUserMessage(a.messageParams,a.createdAt,a.reqId)},Xe.prototype.resendUserMessage=function(a){var s;return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){return an(a instanceof wi&&!a.scheduledInfo).throw(we.invalidParameters),l=new ua,d=(s=a.messageParams)!=null?s:Hn({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,mentionedMessageTemplate:a.mentionedMessageTemplate,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,message:a.message,translationTargetLanguages:Object.keys(a.translations)}),this._sendUserMessage(d).onFailed(function(m){return l.reject(m)}).onSucceeded(function(m){return l.resolve(m)}),[2,l.promise]})})},Xe.prototype.updateUserMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return s=pe(pe({},yQ),s),an(fe("number",a)&&AI(g=s)&&fe("string",g.message,!0)&&mt("string",g.translationTargetLanguages,!0)).throw(we.invalidParameters),d=ke.of(this._iid),l=d.dispatcher,d=d.requestQueue,p=new E4(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,d.send(p)];case 1:return d=m.sent(),p=d.as(r1).message,l.dispatch(new Ta({messages:[p],source:oi.EVENT_MESSAGE_UPDATED})),[2,p]}var g})})},Xe.prototype.copyUserMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return an(a instanceof Xe&&s instanceof wi&&s.sendingStatus===sr.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(we.invalidParameters),d=new ua,p=(l=s.messageParams)!=null?l:pe(pe({},s),{mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),translationTargetLanguages:Object.keys(s.translations),pushNotificationDeliveryOption:jl.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),a._sendUserMessage(p).onSucceeded(function(g){return d.resolve(g)}).onFailed(function(g){return d.reject(g)}),[2,d.promise]})})},Xe.prototype.translateUserMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(a instanceof wi&&0<a.messageId&&mt("string",s)).throw(we.invalidParameters),l=ke.of(this._iid).requestQueue,d=new pY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,translationTargetLanguages:s}),[4,l.send(d)];case 1:return[2,p.sent().as(fY).message]}})})},Xe.prototype._createScheduledUserMessage=function(a,s){var l=this,d=ke.of(this._iid).requestQueue,p=Date.now(),m=this._generateRequestId(),g=(Eo(2).then(function(){var b=l._createPendingScheduledUserMessage(a,m,p);tt(function(){return P(l,void 0,void 0,function(){return F(this,function(w){return[2,s._trigger(null,b)]})})})}),new mY(pe({reqId:m,channelType:this.channelType,channelUrl:this.url},a)));d.send(g).then(function(b){var w=b.as(gY).message;tt(function(){return P(l,void 0,void 0,function(){return F(this,function(T){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(zl(b))throw b;Eo(2).then(function(){var w=l._createPendingScheduledUserMessage(a,m,p);l._markMessageAsFailed(w,b),tt(function(){return P(l,void 0,void 0,function(){return F(this,function(T){return[2,s._trigger(b,w)]})})})})})},Xe.prototype.sendFileMessage=function(a){return a=pe(pe({},OI),a),an(II(a)).throw(we.invalidParameters),this._sendFileMessage(a)},Xe.prototype._sendFileMessage=function(a,s,l){var d=this,p=(s===void 0&&(s=Date.now()),l===void 0&&(l=null),ke.of(this._iid).dispatcher),m=Ia.of(this._iid).fileMessageQueue,g=l,b=new Uy;return g||(g=this._generateRequestId(),Eo(2).then(function(){var w=d._createPendingFileMessage(a,g,s);p.dispatch(new Ta({messages:[w],source:oi.EVENT_MESSAGE_SENT_PENDING})),tt(function(){return P(d,void 0,void 0,function(){return F(this,function(T){return[2,b._trigger(null,w)]})})})})),m.request(this,g,a).then(function(w){p.dispatch(new Ta({messages:[w],source:oi.EVENT_MESSAGE_SENT_SUCCESS})),tt(function(){return P(d,void 0,void 0,function(){return F(this,function(T){return[2,b._trigger(null,w)]})})})}).catch(function(w){if(zl(w))throw w;Eo(2).then(function(){var T=d._createPendingFileMessage(a,g,s),L=ke.of(d._iid).cacheContext.localCacheEnabled&&cm(w.code);d._markMessageAsFailed(T,w,L),p.dispatch(new Ta({messages:[T],source:T.sendingStatus===sr.PENDING?oi.REQUEST_RESEND_MESSAGE:oi.EVENT_MESSAGE_SENT_FAILED})),tt(function(){return P(d,void 0,void 0,function(){return F(this,function(H){return[2,b._trigger(w,T)]})})})})}),b},Xe.prototype._autoResendFileMessage=function(a){an(a instanceof si).throw(we.invalidParameters);var s=ke.of(this._iid).logger;return s.debug("autoResendFileMessage pending",a),this._sendFileMessage(a.messageParams,a.createdAt,a.reqId).onFailed(function(l){s.debug("autoResendFileMessage failed",l)}).onSucceeded(function(l){s.debug("autoResendFileMessage success",l)})},Xe.prototype._createScheduledFileMessage=function(a,s,l,d){var p=this,m=ke.of(this._iid).requestQueue,g=new vY(pe(pe({reqId:l,channelType:this.channelType,channelUrl:this.url},a),{fileUrl:a.fileUrl,requireAuth:a.requireAuth}));m.send(g).then(function(b){var w=b.as(_Y).message;tt(function(){return P(p,void 0,void 0,function(){return F(this,function(T){return[2,s._trigger(null,w)]})})})}).catch(function(b){if(zl(b))throw b;Eo(2).then(function(){var w=p._createPendingScheduledFileMessage(a,l,d);p._markMessageAsFailed(w,b),tt(function(){return P(p,void 0,void 0,function(){return F(this,function(T){return[2,s._trigger(b,w)]})})})})})},Xe.prototype.sendFileMessages=function(a){an(a.every(function(b){return II(pe(pe({},OI),b))})).throw(we.invalidParameters);var s,l,d=new Uy;try{for(var p=Bn(a),m=p.next();!m.done;m=p.next()){var g=m.value;this.sendFileMessage(g).onPending(function(b){return d._trigger(null,b)}).onFailed(function(b,w){return d._trigger(b,w)}).onSucceeded(function(b){return d._trigger(null,b)})}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d},Xe.prototype.resendFileMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return an(a instanceof si&&s instanceof Blob&&!a.scheduledInfo).throw(we.invalidParameters),d=new ua,p=(l=a.messageParams)!=null?l:(g=s,Hn({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUsers:a.mentionedUsers,mentionedUserIds:a.mentionedUserIds,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,appleCriticalAlertOptions:a.appleCriticalAlertOptions,file:g=s===void 0?null:g,fileUrl:a.url,fileName:a.name,fileSize:a.size,mimeType:a.type,thumbnailSizes:a.thumbnails.map(function(b){return{maxWidth:b.width,maxHeight:b.height}})})),this._sendFileMessage(p).onFailed(function(b){return d.reject(b)}).onSucceeded(function(b){return d.resolve(b)}),[2,d.promise];var g})})},Xe.prototype.updateFileMessage=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return s=pe(pe({},EQ),s),an(fe("number",a)&&AI(s)).throw(we.invalidParameters),d=ke.of(this._iid),l=d.dispatcher,d=d.requestQueue,p=new sY(pe({channelType:this.channelType,channelUrl:this.url,messageId:a},s)),[4,d.send(p)];case 1:return d=m.sent(),p=d.as(w4).message,l.dispatch(new Ta({messages:[p],source:oi.EVENT_MESSAGE_UPDATED})),[2,p]}})})},Xe.prototype.cancelUploadingFileMessage=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return an(fe("string",a)).throw(we.invalidParameters),Ia.of(this._iid).fileMessageQueue.cancel(this,a),[2,!0]})})},Xe.prototype.copyFileMessage=function(a,s){var l;return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){return an(a instanceof Xe&&s instanceof si&&s.sendingStatus===sr.SUCCEEDED&&a.url===s.channelUrl&&!s.scheduledInfo).throw(we.invalidParameters),d=new ua,p=pe(pe({},s),{fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,mentionType:s.mentionType,mentionedUserIds:(l=s.mentionedUserIds)!=null?l:(l=s.mentionedUsers)==null?void 0:l.map(function(g){return g.userId}),pushNotificationDeliveryOption:jl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:s.thumbnails.map(function(g){return{maxWidth:g.width,maxHeight:g.height}}),requireAuth:s.requireAuth}),a._sendFileMessage(p).onSucceeded(function(g){return d.resolve(g)}).onFailed(function(g){return d.reject(g)}),[2,d.promise]})})},Xe.prototype.deleteMessage=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(a instanceof wo).throw(we.invalidParameters),0<a.messageId?(s=ke.of(this._iid).requestQueue,l=new oY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId}),[4,s.send(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},Xe.prototype.addReaction=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(a instanceof xm&&0<a.messageId&&fe("string",s)).throw(we.invalidParameters),l=ke.of(this._iid).requestQueue,d=new uY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(d)];case 1:return[2,p.sent().as(cY).reactionEvent]}})})},Xe.prototype.deleteReaction=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(a instanceof xm&&0<a.messageId&&fe("string",s)).throw(we.invalidParameters),l=ke.of(this._iid).requestQueue,d=new dY({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:s}),[4,l.send(d)];case 1:return[2,p.sent().as(hY).reactionEvent]}})})},Xe.prototype._updateMessageMetaArray=function(a,s,l,d){return P(this,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return m=ke.of(this._iid),p=m.dispatcher,m=m.requestQueue,g=new E4({channelType:this.channelType,channelUrl:this.url,messageId:a,metaArrayParams:{array:s,mode:l,upsert:d}}),[4,m.send(g)];case 1:return m=b.sent(),g=m.as(r1).message,p.dispatch(new Ta({messages:[g],source:oi.EVENT_MESSAGE_UPDATED})),[2,g]}})})},Xe.prototype.createMessageMetaArrayKeys=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return an(a instanceof wo&&0<a.messageId&&mt("string",s)).throw(we.invalidParameters),l=s.map(function(p){return new Xa({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"add",!0)]})})},Xe.prototype.deleteMessageMetaArrayKeys=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){return an(a instanceof wo&&0<a.messageId&&mt("string",s)).throw(we.invalidParameters),l=s.map(function(p){return new Xa({key:p})}),[2,this._updateMessageMetaArray(a.messageId,l,"remove",!0)]})})},Xe.prototype.addMessageMetaArrayValues=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return an(a instanceof wo&&0<a.messageId&&s.every(function(d){return d instanceof Xa})).throw(we.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"add",!0)]})})},Xe.prototype.removeMessageMetaArrayValues=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){return an(a instanceof wo&&0<a.messageId&&s.every(function(d){return d instanceof Xa})).throw(we.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,s,"remove",!0)]})})},Xe.prototype.report=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(ar(Kp,a)&&fe("string",s)).throw(we.invalidParameters),l=ke.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new tY({channelUrl:this.url,channelType:this.channelType,userId:d.userId,category:a,description:s}),[4,l.send(d)];case 1:return p.sent(),[2]}})})},Xe.prototype.reportUser=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return an(a instanceof $n&&ar(Kp,s)&&fe("string",l)).throw(we.invalidParameters),d=ke.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new rY({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.userId,category:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Xe.prototype.reportMessage=function(a,s,l){return P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return an(a instanceof wo&&ar(Kp,s)&&fe("string",l)).throw(we.invalidParameters),d=ke.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new iY({channelUrl:this.url,channelType:this.channelType,userId:p.userId,offendingUserId:a.sender.userId,messageId:a.messageId,category:s,description:l}),[4,d.send(p)];case 1:return m.sent(),[2]}})})},Xe);function Xe(a,s){var l=this;return(l=i1.call(this,a)||this).url="",l.channelType=xr.BASE,l.name="",l.coverUrl="",l.customType="",l.data="",l.isFrozen=!1,l.isEphemeral=!1,l.creator=null,l.createdAt=0,l.url=s.channel_url,l.name=(a=s.name)!=null?a:"",l.coverUrl=(a=s.cover_url)!=null?a:"",l.customType=(a=s.custom_type)!=null?a:"",l.data=(a=s.data)!=null?a:"",l.isFrozen=!!fe("boolean",s.freeze)&&s.freeze,l.isEphemeral=!!fe("boolean",s.is_ephemeral)&&s.is_ephemeral,l.creator=s.created_by?new $n(l._iid,s.created_by):null,l.createdAt=1e3*s.created_at,l._cachedMetaData=new Map,s.metadata&&s.ts&&Object.keys(s.metadata).forEach(function(d){l._cachedMetaData.set(d,{value:s.metadata[d],isRemoved:!1,updatedAt:s.ts})}),l}function V4(a,s){var l=D4.call(this,a,s)||this;return l.message=new si(a,s),l}function W4(a){var s=this,s=U4.call(this)||this,l=[],d=(a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:bm.FILE,url:a.fileUrl,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(m){return Oy.payloadify(m)}):[],custom_type:a.customType,data:a.data,require_auth:a.requireAuth,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(d=a.metaArrays)==null?void 0:d.map(function(m){return Xa.payloadify(m)}),apple_critical_alert_options:Ql.payloadify(a.appleCriticalAlertOptions),push_option:a.pushNotificationDeliveryOption},s}function K4(a,s){var l=L4.call(this,a,s)||this;return l.message=new wi(a,s),l}function Q4(a){var s=this,s=P4.call(this)||this,l=[],d=(a.mentionType===Gi.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(m){return m.userId}))),a.channelType),p=a.channelUrl;return s.method=Ke.POST,s.path="".concat(Pt(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:bm.USER,message:a.message,custom_type:a.customType,data:a.data,mention_type:a.mentionType,mentioned_user_ids:l,sorted_metaarray:(d=a.metaArrays)==null?void 0:d.map(function(m){return Xa.payloadify(m)}),apple_critical_alert_options:Ql.payloadify(a.appleCriticalAlertOptions),target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption},s}function Y4(a,s){var l=F4.call(this,a,s)||this;return l.message=new wi(a,s),l}function X4(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.translationTargetLanguages,m=H4.call(this)||this;return m.method=Ke.POST,m.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(encodeURIComponent(d),"/translation"),m.params={target_langs:p},m}function J4(a,s){return a=q4.call(this,a,s)||this,a.reactionEvent=new wy(pe({},s)),a}function Z4(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.reactionKey,m=B4.call(this)||this;return m.method=Ke.DELETE,m.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(d,"/reactions"),m.params={reaction:p},m}function eO(a,s){return a=G4.call(this,a,s)||this,a.reactionEvent=new wy(s),a}function nO(p){var s=p.channelType,l=p.channelUrl,d=p.messageId,p=p.reactionKey,m=z4.call(this)||this;return m.method=Ke.POST,m.path="".concat(Pt(s),"/").concat(encodeURIComponent(l),"/messages/").concat(d,"/reactions"),m.params={reaction:p},m}function tO(a,s,l){return a=$4.call(this,a,"DELM",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.messageId=Number(l.msg_id),a}(en=xi=xi||{})[en.NONE=0]="NONE",en[en.CHANNEL_ENTER=10102]="CHANNEL_ENTER",en[en.CHANNEL_EXIT=10103]="CHANNEL_EXIT",en[en.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",en[en.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",en[en.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",en[en.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",en[en.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",en[en.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",en[en.TYPING_START=10900]="TYPING_START",en[en.TYPING_END=10901]="TYPING_END",en[en.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",en[en.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",en[en.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",en[en.CHANNEL_INVITE=10020]="CHANNEL_INVITE",en[en.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",en[en.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",en[en.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",en[en.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",en[en.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",en[en.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",en[en.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",en[en.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",Object.defineProperty(a1.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===xr.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(a1.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===xr.OPEN},enumerable:!1,configurable:!0});var rO,iO,aO,sO,oO,lO,uO,bY=a1,cO=(Y(vO,uO=dr),vO),yY=(Y(gO,lO=cO),gO),EY=(Y(mO,oO=dr),mO),wY=(Y(fO,sO=dr),fO),xY=(Y(pO,aO=dr),pO),kY=(Y(hO,iO=dr),hO),CY=(Y(dO,rO=dr),dO);function dO(a,s,l){var d=rO.call(this,a,"MTHD",l)||this;return d.event=new hQ(a,l),d}function hO(a,s,l){return a=iO.call(this,a,"MRCT",l)||this,a.channelUrl=l.channel_url,a.channelType=l.channel_type,a.event=new wy(l),a}function pO(m,s,l){var d,p=this,m=((p=aO.call(this,m,"AEDI",l)||this).message=new Md(m,l),ke.of(m).sdkState);return p.mentionCountChange=dy({mentionType:(d=(d=l.old_values)==null?void 0:d.mention_type)!=null?d:null,mentionedUserIds:(l=(d=l.old_values)==null?void 0:d.mentioned_user_ids)!=null?l:[]},{mentionType:p.message.mentionType,mentionedUserIds:(d=p.message.mentionedUserIds)!=null?d:(l=p.message.mentionedUsers)==null?void 0:l.map(function(g){return g.userId})},m.userId),p}function fO(m,s,l){var d,p=this,m=((p=sO.call(this,m,"ADMM",l)||this).message=new Md(m,l),ke.of(m).sdkState);return p.isMentioned=Od(p.message.mentionType,(d=p.message.mentionedUserIds)!=null?d:(d=p.message.mentionedUsers)==null?void 0:d.map(function(g){return g.userId}),m.userId),p.forceUpdateLastMessage=(d=l.force_update_last_message)!=null&&d,p}function mO(a,s,l){return a=oO.call(this,a,"MCNT",l)||this,a.groupChannelMemberCounts=l.group_channels.map(function(d){return{channelUrl:d.channel_url,memberCount:d.member_count,joinedMemberCount:d.joined_member_count,updatedAt:d.ts}}),a.openChannelMemberCounts=l.open_channels.map(function(d){return{channelUrl:d.channel_url,participantCount:d.participant_count,updatedAt:d.ts}}),a}function gO(p,m,l){var d=lO.call(this,p,m,l)||this,p=l.data.operators,m=p===void 0?[]:p;return d.operators=m.map(function(g){return new $n(d._iid,g)}),d}function vO(a,s,l){return a=uO.call(this,a,"SYEV",l)||this,a.event=new bY(l),a}function a1(a){this.channelUrl=a.channel_url,this.channelType=a.channel_type,this.category=a.cat,this.data=a.data,this.ts=a.ts}Y(Ws,s1=Dr),Object.defineProperty(Ws.prototype,"enteredChannels",{get:function(){var a=this;return this._enteredChannelUrls.map(function(s){return a._channels.get(s)}).filter(function(s){return s!==null})},enumerable:!1,configurable:!0}),Ws.prototype.isEnteredChannel=function(a){return this._enteredChannelUrls.includes(a)},Ws.prototype.enter=function(a){this._enteredChannelUrls.indexOf(a)<0&&this._enteredChannelUrls.push(a)},Ws.prototype.exit=function(a){a=this._enteredChannelUrls.indexOf(a),0<=a&&this._enteredChannelUrls.splice(a,1)},Ws.prototype.exitAll=function(){this._enteredChannelUrls=[]},Ws.prototype.get=function(a){var s;return P(this,void 0,void 0,function(){return F(this,function(l){return[2,(s=this._channels.get(a))!=null?s:null]})})},Ws.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){return a.forEach(function(d){var p;s._channels.has(d.url)?(p=s._channels.get(d.url),Object.assign(p,d)):s._channels.set(d.url,d)}),[2]})})},Ws.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._channels.delete(a),this.exit(a),[2]})})},Ws.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})};var _O,bO,yO,s1,EO,SY=Ws,wO={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},NY=(Y(SO,yO=Qe),SO),xO=(Y(CO,bO=Je),CO),TY=(Y(kO,_O=Qe),kO);function kO(b){var s=this,l=b.channelUrl,d=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=_O.call(this)||this).method=Ke.POST,s.path=sc,s.params=Hn({channel_url:l,cover_url:fe("string",d)?d:null,cover_file:bo(d)?d:null,name:p,data:m,custom_type:g,operators:b}),s}function CO(a,s){var l=bO.call(this,a,s)||this;return l.channel=null,l.channel=new Ld(a,s),l}function SO(l){var s=l.channelUrl,l=l.isInternalCall,d=yO.call(this)||this;return d.method=Ke.GET,d.path="".concat(l?PK:sc,"/").concat(encodeURIComponent(s)),d}function Ws(){var a=s1!==null&&s1.apply(this,arguments)||this;return a._channels=new Map,a._enteredChannelUrls=[],a}Y(function(a,s){var l=EO.call(this,a,s)||this;return l.channel=new Ld(a,s),l},EO=Je),Y(QO,UO=yo);var NO,TO,IO,o1,OO,AO,RO,MO,DO,UO,LO,IY=QO,PO=(Y(KO,DO=dr),KO),OY=(Y(WO,MO=yo),WO),FO=(Y(VO,RO=dr),VO),HO={},hc=(ha.of=function(a){return HO[a]},ha.prototype.buildOpenChannelFromSerializedData=function(a){return a=ym(a),new Ld(a._iid,Ld.payloadify(a))},ha.prototype.getChannelFromCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.get(a)];case 1:return[2,s.sent()]}})})},ha.prototype.upsertChannelsToCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._openChannelCache.upsert(a)];case 1:return s.sent(),[2]}})})},ha.prototype.removeChannelsFromCache=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:g.trys.push([0,5,6,7]),s=Bn(a),l=s.next(),g.label=1;case 1:return l.done?[3,4]:(d=l.value,[4,this._openChannelCache.remove(d)]);case 2:g.sent(),g.label=3;case 3:return l=s.next(),[3,1];case 4:return[3,7];case 5:return d=g.sent(),p={error:d},[3,7];case 6:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 7:return[2]}})})},ha.prototype.setEnteredToCache=function(a){this._openChannelCache.enter(a.url)},ha.prototype.setExitedToCache=function(a){this._openChannelCache.exit(a.url)},ha.prototype._handleEvent=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L,H,G,ne,se,Te,Q,ae,Ee,be,Ve,ci,lt,tu,Bd,Gd,ru,rl,We,gn,Un,ht,Zn,qr,Nt,Ni,di,ko,ts,rs,Br,Co,fa,ut,Ti,ef,nf,Jm,iu,U1,L1,P1,F1,H1,e5,Vi=this;return F(this,function(Rt){switch(Rt.label){case 0:switch(Rt.trys.push([0,51,,52]),a.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return p=null,a.code==="MESG"?p=a.as(y4):a.code==="FILE"?p=a.as(BT):a.code!=="ADMM"&&a.code!="BRDM"||(p=a.as(wY)),p?(s=p.message,l=p.isMentioned,s.channelType!==xr.OPEN?[3,3]:[4,this.getChannel(s.channelUrl,!0)]):[3,3];case 2:d=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr,Js;return F(this,function(au){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())Gr=sn.value,this._openChannelCache.isEnteredChannel(d.url)&&Gr.onMessageReceived(d,s),l&&Gr.onMentionReceived(d,s)}catch(tf){Wr={error:tf}}finally{try{sn&&!sn.done&&(Js=Gn.return)&&Js.call(Gn)}finally{if(Wr)throw Wr.error}}return[2]})})}),Rt.label=3;case 3:return[3,50];case 4:return p=null,a.code==="MEDI"?p=a.as(r1):a.code==="FEDI"?p=a.as(w4):a.code==="AEDI"&&(p=a.as(xY)),!p||(m=p.message).channelType!==xr.OPEN?[3,6]:[4,this.getChannel(m.channelUrl,!0)];case 5:g=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr,Js;return F(this,function(au){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())Gr=sn.value,this._openChannelCache.isEnteredChannel(g.url)&&Gr.onMessageUpdated(g,m)}catch(tf){Wr={error:tf}}finally{try{sn&&!sn.done&&(Js=Gn.return)&&Js.call(Gn)}finally{if(Wr)throw Wr.error}}return[2]})})}),Rt.label=6;case 6:return[3,50];case 7:return T=a.as(lY),be=T.channelUrl,L=T.channelType,b=T.messageId,L!==xr.OPEN?[3,9]:[4,this.getChannel(be,!0)];case 8:w=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr,Js;return F(this,function(au){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())Gr=sn.value,this._openChannelCache.isEnteredChannel(w.url)&&Gr.onMessageDeleted(w,b)}catch(tf){Wr={error:tf}}finally{try{sn&&!sn.done&&(Js=Gn.return)&&Js.call(Gn)}finally{if(Wr)throw Wr.error}}return[2]})})}),Rt.label=9;case 9:return[3,50];case 10:return T=a.as(kY),be=T.channelUrl,L=T.channelType,H=T.event,L!==xr.OPEN?[3,12]:[4,this.getChannel(be,!0)];case 11:G=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr;return F(this,function(Js){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())sn.value.onReactionUpdated(G,H)}catch(au){Gr={error:au}}finally{try{sn&&!sn.done&&(Wr=Gn.return)&&Wr.call(Gn)}finally{if(Gr)throw Gr.error}}return[2]})})}),Rt.label=12;case 12:return[3,50];case 13:return(ne=a.as(CY).event).channelType!==xr.OPEN?[3,15]:[4,this.getChannel(ne.channelUrl,!0)];case 14:se=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr;return F(this,function(Js){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())sn.value.onThreadInfoUpdated(se,ne)}catch(au){Gr={error:au}}finally{try{sn&&!sn.done&&(Wr=Gn.return)&&Wr.call(Gn)}finally{if(Gr)throw Gr.error}}return[2]})})}),Rt.label=15;case 15:return[3,50];case 16:Te=a.as(EY).openChannelMemberCounts,Q=[],Rt.label=17;case 17:Rt.trys.push([17,22,23,24]),ae=Bn(Te),Ee=ae.next(),Rt.label=18;case 18:return Ee.done?[3,21]:(Ve=Ee.value,be=Ve.channelUrl,We=Ve.participantCount,Ve=Ve.updatedAt,[4,this.getChannelFromCache(be)]);case 19:(ci=Rt.sent())&&ci._updateParticipantCount(We,Ve)&&Q.push(ci),Rt.label=20;case 20:return Ee=ae.next(),[3,18];case 21:return[3,24];case 22:return ci=Rt.sent(),H1={error:ci},[3,24];case 23:try{Ee&&!Ee.done&&(e5=ae.return)&&e5.call(ae)}finally{if(H1)throw H1.error}return[7];case 24:return 0<Q.length?[4,this.upsertChannelsToCache(Q)]:[3,26];case 25:Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){var Gn,sn,Gr,Wr;return F(this,function(Js){try{for(Gn=Bn(this._openChannelHandlers.values()),sn=Gn.next();!sn.done;sn=Gn.next())sn.value.onChannelMemberCountChanged(Q)}catch(au){Gr={error:au}}finally{try{sn&&!sn.done&&(Wr=Gn.return)&&Wr.call(Gn)}finally{if(Gr)throw Gr.error}}return[2]})})}),Rt.label=26;case 26:return[3,50];case 27:if((lt=a.as(cO).event).isOpenChannelEvent)switch(lt.category){case xi.CHANNEL_ENTER:return[3,28];case xi.CHANNEL_EXIT:return[3,30];case xi.CHANNEL_OPERATOR_UPDATE:return[3,32];case xi.USER_CHANNEL_MUTE:case xi.USER_CHANNEL_UNMUTE:return[3,34];case xi.USER_CHANNEL_BAN:case xi.USER_CHANNEL_UNBAN:return[3,36];case xi.CHANNEL_FREEZE:case xi.CHANNEL_UNFREEZE:return[3,38];case xi.CHANNEL_DELETED:return[3,40];case xi.CHANNEL_PROP_CHANGED:return[3,43];case xi.CHANNEL_META_DATA_CHANGED:return[3,45];case xi.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(lt.channelUrl,!0)];case 29:return tu=Rt.sent(),rl=a.as(PO),We=rl.participantCount,Bd=rl.user,Gd=tu._updateParticipantCount(We,lt.ts),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){sn.onUserEntered(tu,Bd),Gd&&sn.onChannelParticipantCountChanged(tu)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(lt.channelUrl,!0)];case 31:return ru=Rt.sent(),rl=a.as(FO),We=rl.participantCount,gn=rl.user,Un=ru._updateParticipantCount(We,lt.ts),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){sn.onUserExited(ru,gn),Un&&sn.onChannelParticipantCountChanged(ru)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(lt.channelUrl,!0)];case 33:return ht=Rt.sent(),Zn=a.as(yY).operators,ht.operators=Zn,this.upsertChannelsToCache([ht]),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){sn.onOperatorUpdated(ht,Zn)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(lt.channelUrl,!0)];case 35:return qr=Rt.sent(),Nt=lt.category===xi.USER_CHANNEL_MUTE,Ni=a.as(Nt?KQ:YQ).user,tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){Nt?sn.onUserMuted(qr,Ni):sn.onUserUnmuted(qr,Ni)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(lt.channelUrl,!0)];case 37:return di=Rt.sent(),ko=lt.category===xi.USER_CHANNEL_BAN,ts=a.as(ko?JQ:eY).user,tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){ko?sn.onUserBanned(di,ts):sn.onUserUnbanned(di,ts)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(lt.channelUrl,!0)];case 39:return rs=Rt.sent(),Br=a.as(nY).freeze,rs.isFrozen=Br,this.upsertChannelsToCache([rs]),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){Br?sn.onChannelFrozen(rs):sn.onChannelUnfrozen(rs)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(lt.channelUrl,!0)];case 41:return Co=Rt.sent(),[4,this.removeChannelsFromCache([Co.url])];case 42:return Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelDeleted(Co.url,Co.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(lt.channelUrl,!0)];case 44:return fa=Rt.sent(),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelChanged(fa)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(lt.channelUrl,!0)];case 46:return ut=Rt.sent(),iu=a.as(PQ),Ti=iu.created,ef=iu.updated,nf=iu.deleted,Ti&&ut._upsertCachedMetaData(Ti,lt.ts),ef&&ut._upsertCachedMetaData(ef,lt.ts),nf&&ut._removeFromCachedMetaData(nf,lt.ts),tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){Ti&&sn.onMetaDataCreated(ut,Ti),ef&&sn.onMetaDataUpdated(ut,ef),nf&&sn.onMetaDataDeleted(ut,nf)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(lt.channelUrl,!0)];case 48:return Jm=Rt.sent(),iu=a.as($Q),U1=iu.created,L1=iu.updated,P1=iu.deleted,tt(function(){return P(Vi,void 0,void 0,function(){return F(this,function(Gn){return this._openChannelHandlers.forEach(function(sn){U1&&sn.onMetaCounterCreated(Jm,U1),L1&&sn.onMetaCounterUpdated(Jm,L1),P1&&sn.onMetaCounterDeleted(Jm,P1)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(F1=Rt.sent(),zl(F1))throw F1;return[3,52];case 52:return[2]}})})},ha.prototype.addHandler=function(a,s){this._openChannelHandlers.set(a,s)},ha.prototype.removeHandler=function(a){this._openChannelHandlers.delete(a)},ha.prototype.clearHandler=function(){this._openChannelHandlers.clear()},ha.prototype.getChannel=function(a,s){return P(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:an(fe("string",a)).throw(we.invalidParameters),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getChannelFromCache(a)];case 2:return(l=d.sent())?[2,l]:[3,4];case 3:return d.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(a)];case 5:return[2,d.sent()]}})})},ha.prototype.getChannelWithoutCache=function(a,s){return s===void 0&&(s=!1),P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),l=new NY({channelUrl:a,isInternalCall:s}),[4,this._requestQueue.send(l)];case 1:return l=p.sent(),d=l.as(xO).channel,[4,this.upsertChannelsToCache([d])];case 2:return p.sent(),[2,d]}})})},ha.prototype.createChannel=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return a=pe(pe({},wO),a),an(mt("string",(p=a).operatorUserIds,!0)&&(fe("string",p.coverUrlOrImage)||bo(p.coverUrlOrImage)||p.coverUrlOrImage===null)&&fe("string",p.name,!0)&&fe("string",p.data,!0)&&fe("string",p.customType,!0)&&(fe("string",p.channelUrl)&&/^\w+$/.test(p.channelUrl)||p.channelUrl===null)).throw(we.invalidParameters),s=new TY(a),[4,this._requestQueue.send(s)];case 1:return s=d.sent(),l=s.as(xO).channel,this.upsertChannelsToCache([l]),[2,l]}var p})})},ha),qO={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},AY=(Y(jO,AO=Qe),jO),RY=(Y($O,OO=Je),$O),MY=(Y(Mm,o1=da),Mm.prototype._validate=function(){return o1.prototype._validate.call(this)},Mm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new AY(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(RY),l=s.participants,d=s.token,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Mm),DY=(Y(zO,IO=Qe),zO),UY=(Y(GO,TO=Je),GO),LY=(Y(BO,NO=Qe),BO);function BO(l){var s=this,l=l.channelUrl;return(s=NO.call(this)||this).method=Ke.DELETE,s.path="".concat(sc,"/").concat(encodeURIComponent(l)),s}function GO(a,s){var l=TO.call(this,a,s)||this;return l.channel=new Ld(a,s),l}function zO(b){var s=this,l=b.channelUrl,d=b.coverUrlOrImage,p=b.name,m=b.data,g=b.customType,b=b.operatorUserIds;return(s=IO.call(this)||this).method=Ke.PUT,s.path="".concat(sc,"/").concat(encodeURIComponent(l)),s.params=Hn({cover_url:fe("string",d)?d:null,cover_file:bo(d)?d:null,name:p,data:m,custom_type:g,operators:b}),s}function Mm(a,s,l){return o1.call(this,a,s,xr.OPEN,l)||this}function $O(a,p){var l=OO.call(this,a,p)||this,d=(l.token=null,l.participants=[],p.next),p=p.participants;return l.token=d,l.participants=p.map(function(m){return new $n(a,m)}),l}function jO(p){var s=this,l=p.channelUrl,d=p.token,p=p.limit;return(s=AO.call(this)||this).method=Ke.GET,s.path="".concat(sc,"/").concat(encodeURIComponent(l),"/participants"),s.params={token:d,limit:p},s}function ha(a,p){var l=p.sdkState,d=p.dispatcher,p=p.requestQueue,m=this;this._sdkState=l,this._requestQueue=p,this._dispatcher=d,this._openChannelCache=new SY(a),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,w;if(g instanceof dr)m._handleEvent(g);else if(g instanceof Nd&&g.stateType===Jt.CONNECTED){var T=m._openChannelCache.enteredChannels;try{for(var L=Bn(T),H=L.next();!H.done;H=L.next())H.value.enter()}catch(G){b={error:G}}finally{try{H&&!H.done&&(w=L.return)&&w.call(L)}finally{if(b)throw b.error}}}}),HO[a]=this}function VO(a,s,l){var d,p=this,p=RO.call(this,a,"EXIT",l)||this;return l.data&&(p.participantCount=(d=l.data.participant_count)!=null?d:0,p.user=new $n(a,l.data),p.ts=(d=l.data.edge_ts)!=null?d:0),p}function WO(a){return a=a.channelUrl,MO.call(this,{code:"EXIT",payload:{channel_url:a},ackRequired:!0})||this}function KO(a,s,l){var d,p=this,p=DO.call(this,a,"ENTR",l)||this;return l.data&&(p.participantCount=(d=l.data.participant_count)!=null?d:0,p.user=new $n(a,l.data),p.ts=(d=l.data.edge_ts)!=null?d:0),p}function QO(a){return a=a.channelUrl,UO.call(this,{code:"ENTR",payload:{channel_url:a},ackRequired:!0})||this}Y(function(a,s){return LO.call(this,a,s)||this},LO=Je),Y(es,ZO=j4),es.payloadify=function(a){return a?Hn(pe(pe({},j4.payloadify(a)),{participant_count:a.participantCount,operators:a.operators.map(function(s){return $n.payloadify(s)})})):null},es.prototype.serialize=function(){return fy(this)},es.prototype.isOperator=function(a){return a instanceof $n?this.isOperator(a.userId):this.operators.some(function(s){return s.userId===a})},es.prototype._updateParticipantCount=function(a,s){return s>this._lastParticipantCountUpdated&&(this.participantCount=a,this._lastParticipantCountUpdated=s,!0)},es.prototype.createParticipantListQuery=function(a){return new MY(this._iid,this.url,a)},es.prototype.refresh=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,hc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,a.sent()]}})})},es.prototype.enter=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=ke.of(this._iid).requestQueue,s=new IY({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(PO),l=s.participantCount,d=s.ts,this._updateParticipantCount(l,d),hc.of(this._iid).setEnteredToCache(this),[2]}})})},es.prototype.exit=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return a=ke.of(this._iid).requestQueue,s=new OY({channelUrl:this.url}),[4,a.send(s)];case 1:return a=p.sent(),s=a.as(FO),l=s.participantCount,d=s.ts,this._updateParticipantCount(l,d),hc.of(this._iid).setExitedToCache(this),Ia.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},es.prototype.updateChannel=function(a){return P(this,void 0,void 0,function(){var s,l,d;return F(this,function(p){switch(p.label){case 0:return a=pe(pe({},qO),a),an(mt("string",(m=a).operatorUserIds,!0)&&(fe("string",m.coverUrlOrImage)||bo(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&fe("string",m.name,!0)&&fe("string",m.data,!0)&&fe("string",m.customType,!0)).throw(we.invalidParameters),l=ke.of(this._iid).requestQueue,s=new DY(pe({channelUrl:this.url},a)),[4,l.send(s)];case 1:return l=p.sent(),d=l.as(UY).channel,[4,hc.of(this._iid).upsertChannelsToCache([d])];case 2:return p.sent(),[2,d]}var m})})},es.prototype.updateChannelWithOperatorUserIds=function(a,s,l,d,p){return P(this,void 0,void 0,function(){var m;return F(this,function(g){return m=pe(pe({},qO),{name:a,coverUrlOrImage:s,data:l,operatorUserIds:d,customType:p}),[2,this.updateChannel(m)]})})},es.prototype.delete=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new LY({channelUrl:this.url}),[4,a.send(s)];case 1:return l.sent(),[4,hc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return l.sent(),[2]}})})};var Dm,l1,YO,XO,JO,u1,ZO,Ld=es,PY=(Y(rA,u1=function(){this.onUserMuted=Lt,this.onUserUnmuted=Lt,this.onUserBanned=Lt,this.onUserUnbanned=Lt,this.onChannelChanged=Lt,this.onChannelDeleted=Lt,this.onChannelFrozen=Lt,this.onChannelUnfrozen=Lt,this.onOperatorUpdated=Lt,this.onChannelMemberCountChanged=Lt,this.onMetaDataCreated=Lt,this.onMetaDataUpdated=Lt,this.onMetaDataDeleted=Lt,this.onMetaCounterCreated=Lt,this.onMetaCounterUpdated=Lt,this.onMetaCounterDeleted=Lt,this.onMessageReceived=Lt,this.onMessageUpdated=Lt,this.onMessageDeleted=Lt,this.onMentionReceived=Lt,this.onReactionUpdated=Lt,this.onThreadInfoUpdated=Lt}),Y(tA,JO=rA),tA),FY=(Y(nA,XO=Qe),nA),HY=(Y(eA,YO=Je),eA),qY=(Y(Um,l1=it),Um.prototype._validate=function(){return l1.prototype._validate.call(this)&&fe("boolean",this.includeFrozen)&&fe("boolean",this.includeMetaData)&&fe("string",this.nameKeyword,!0)&&fe("string",this.urlKeyword,!0)&&mt("string",this.customTypes,!0)},Um.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new FY(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,3]:[3,6];case 1:return a=p.sent(),s=a.as(HY),l=s.channels,d=s.token,this._token=d,this._hasNext=!!d,[4,hc.of(this._iid).upsertChannelsToCache(l)];case 2:return p.sent(),this._isLoading=!1,[2,l];case 3:return[2,[]];case 4:throw we.queryInProgress;case 5:return[3,7];case 6:throw we.invalidParameters;case 7:return[2]}})})},Um),BY=(Y(bs,Dm=ca),bs.prototype.init=function(a,w){var l=w.sdkState,d=w.dispatcher,p=w.sessionManager,m=w.requestQueue,g=w.logger,b=w.onlineDetector,w=w.cacheContext;Dm.prototype.init.call(this,a,{sdkState:l,dispatcher:d,sessionManager:p,requestQueue:m,logger:g,onlineDetector:b,cacheContext:w}),this._manager=new hc(a,{sdkState:l,dispatcher:d,requestQueue:m})},bs.prototype.createOpenChannelListQuery=function(a){return new qY(this._iid,a=a===void 0?{}:a)},bs.prototype.addOpenChannelHandler=function(a,s){this._manager.addHandler(a,s)},bs.prototype.removeOpenChannelHandler=function(a){this._manager.removeHandler(a)},bs.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},bs.prototype.buildOpenChannelFromSerializedData=function(a){return this._manager.buildOpenChannelFromSerializedData(a)},bs.prototype.getChannel=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.getChannel(a)]})})},bs.prototype.getChannelWithoutCache=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.getChannelWithoutCache(a)]})})},bs.prototype.createChannel=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){return F(this,function(s){return[2,this._manager.createChannel(a)]})})},bs.prototype.createChannelWithOperatorUserIds=function(a,s,l,d,p){return P(this,void 0,void 0,function(){var m;return F(this,function(g){return(m=pe({},wO)).name=a,m.coverUrlOrImage=s,m.data=l,m.operatorUserIds=d,m.customType=p,[2,this._manager.createChannel(m)]})})},bs);function bs(){var a=Dm!==null&&Dm.apply(this,arguments)||this;return a.name="openChannel",a}function Um(a,s){var l=this;return(l=l1.call(this,a,s)||this).includeFrozen=!0,l.includeMetaData=!0,l.nameKeyword=null,l.urlKeyword=null,l.customTypes=null,l.includeFrozen=(a=s.includeFrozen)==null||a,l.includeMetaData=(a=s.includeMetaData)==null||a,l.nameKeyword=(a=s.nameKeyword)!=null?a:null,l.urlKeyword=(a=s.urlKeyword)!=null?a:null,l.customTypes=(a=s.customTypes)!=null?a:null,l}function eA(a,m){var l=YO.call(this,a,m)||this,d=(l.token=null,l.channels=[],l.ts=null,m.next),p=m.channels,m=m.ts;return l.token=d,p&&0<p.length&&(l.channels=p.map(function(g){return new Ld(a,g)})),l.ts=typeof m=="number"?m:null,l}function nA(w){var s=this,l=w.token,d=w.limit,p=w.nameKeyword,m=w.urlKeyword,g=w.customTypes,b=w.includeFrozen,w=w.includeMetaData;return(s=XO.call(this)||this).method=Ke.GET,s.path=sc,s.params=Hn({token:l,limit:d,name_contains:p,url_contains:m,custom_types:g,show_frozen:b,show_metadata:w}),s}function tA(a){a===void 0&&(a={});var s=JO.call(this)||this;return Object.keys(a).forEach(function(l){s.hasOwnProperty(l)&&(s[l]=a[l])}),s}function rA(){var a=u1!==null&&u1.apply(this,arguments)||this;return a.onUserEntered=Lt,a.onUserExited=Lt,a.onChannelParticipantCountChanged=Lt,a}function es(a,s){var l,d=this;return(d=ZO.call(this,a,s)||this)._lastParticipantCountUpdated=0,d.participantCount=0,d.operators=[],d.channelType=xr.OPEN,d.participantCount=(l=s.participant_count)!=null?l:0,d.operators=Array.isArray(s.operators)?s.operators.map(function(p){return new $n(a,p)}):[],d}function iA(a){return function(s,l,d,p){zY(l);var m=$Y(s),g=jY(m),b=VY(m),w=a?b-1:0,T=a?-1:1;if(d<2)for(;;){if(w in g){p=g[w],w+=T;break}if(w+=T,a?w<0:b<=w)throw WY("Reduce of empty array with no initial value")}for(;a?0<=w:w<b;w+=T)w in g&&(p=l(p,g[w],w,m));return p}}var aA="LIVE_EVENT_MANAGER",GY=function(){function a(p){var m=this;c(this,a),this._liveEvents=[],this._ctx=p,this._ctx.sb.openChannel.addOpenChannelHandler(aA,new PY({onUserBanned:function(g,b){b.userId===m._ctx.sb.currentUser.userId&&(b=m._liveEvents.find(function(w){return((w=w.openChannel)==null?void 0:w.url)===g.url}))&&b.onDisconnected()}}))}var s,l,d;return f(a,[{key:"createLiveEvent",value:(d=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=Xt.createLiveEvent(mb.SINGLE_HOST,m.userIdsForHost?[].concat(q(m.userIdsForHost),[this.userId]):[this.userId],m.title,m.coverUrl,m.coverFile,m.customItems),w.next=3,this._ctx.commandRouter.send(g);case 3:return g=w.sent,b=g.payload.liveEvent,b=new Kb({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:b}),w.prev=6,w.next=9,b.fetchOpenChannel();case 9:w.next=14;break;case 11:w.prev=11,w.t0=w.catch(6),hn.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(b),w.abrupt("return",b);case 16:case"end":return w.stop()}},p,this,[[6,11]])})),function(p){return d.apply(this,arguments)})},{key:"getLiveEvent",value:(l=u(regeneratorRuntime.mark(function p(m){var g,b;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=Xt.createGetLiveEvent(m),w.next=3,this._ctx.commandRouter.send(g);case 3:return g=w.sent,b=g.payload.liveEvent,w.abrupt("return",this.deserializeLiveEvent(b));case 6:case"end":return w.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(s=u(regeneratorRuntime.mark(function p(m){var g,b,w;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(-1<(g=this._liveEvents.findIndex(function(L){return L.liveEventId===m.liveEventId})))return(b=this._liveEvents[g]).upsert(m),T.prev=4,T.next=7,b.fetchOpenChannel();T.next=15;break;case 7:T.next=12;break;case 9:T.prev=9,T.t0=T.catch(4),hn.error("failed to fetch initial open channel");case 12:return T.abrupt("return",b);case 15:return w=new Kb({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:m}),T.prev=16,T.next=19,w.fetchOpenChannel();case 19:T.next=24;break;case 21:T.prev=21,T.t1=T.catch(16),hn.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(w),T.abrupt("return",w);case 26:case"end":return T.stop()}},p,this,[[4,9],[16,21]])})),function(p){return s.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(aA);var p,m=V(this._liveEvents);try{for(m.s();!(p=m.n()).done;)p.value.teardown()}catch(g){m.e(g)}finally{m.f()}}}]),a}(),zY=xn,$Y=me,jY=at,VY=R,WY=TypeError,Zt=mr,KY={left:iA(!1),right:iA(!0)}.left,hr=Sa,qn=la,Pe=(Zt({target:"Array",proto:!0,forced:!gb("reduce")||!qn&&79<hr&&hr<83},{reduce:function(a){var s=arguments.length;return KY(this,a,s,1<s?arguments[1]:void 0)}}),function(){function a(s,l){c(this,a),this.key=s,this.value=l}return f(a,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(s){return this.value.width===s.value.width&&this.value.height===s.value.height}}]),a}()),sA=(v(Pe,"_720P",new Pe("_720P",{width:1280,height:720})),v(Pe,"_540P",new Pe("_540P",{width:960,height:540})),v(Pe,"_480P",new Pe("_480P",{width:848,height:480})),v(Pe,"_360P",new Pe("_360P",{width:640,height:360})),Pe._720P),QY=function(){_(s,ql);var a=A(s);function s(l,d){var p;return c(this,s),v(C(p=a.call(this)),"hasPermission",!1),p._streamManger=l,p.constraints=d,p}return f(s,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var l;this.removeAllEventListeners(),(l=this.onDisposed)!=null&&l.call(this)}},{key:"streamChanged",value:function(l){this._dispatchEvent("streamChanged",l)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),s}(),YY=Mr,XY=ze,JY=$,c1=zs,ZY=Oe,eX=In,nX=FS,oA=HS;PS("match",function(a,s,l){return[function(d){var p=ZY(this),m=d==null?void 0:eX(d,a);return m?YY(m,d,p):new RegExp(d)[a](c1(p))},function(g){var p=XY(this),m=c1(g),g=l(s,p,m);if(g.done)return g.value;if(!p.global)return oA(p,m);for(var b=p.unicode,w=[],T=p.lastIndex=0;(L=oA(p,m))!==null;){var L=c1(L[0]);(w[T]=L)===""&&(p.lastIndex=nX(m,JY(p.lastIndex),b)),T++}return T===0?null:w}]});function lA(a,s){var l,d,p,m,g;s.audio&&a.getAudioTracks().length===0&&a.addTrack((p=uA=uA||new(window.AudioContext||window.webkitAudioContext),Xl=p.createOscillator(),l=p.createMediaStreamDestination(),(d=p.createGain()).gain.setValueAtTime(0,p.currentTime),Xl.connect(d),d.connect(l),Xl.start(),Lm=l.stream.getAudioTracks()[0],l.stream.getAudioTracks()[0])),s.video&&a.getVideoTracks().length===0&&a.addTrack((p=i(i({},sA.value),{},{frameRate:24}),m=p.width,g=p.height,p=p.frameRate,(Pd=Pd||document.createElement("canvas")).width=m,Pd.height=g,Pd.getContext("2d").fillRect(0,0,m,g),Qp=Qp||setInterval(function(){Pd.getContext("2d").fillRect(0,0,m,g)},1e3),p=Pd.captureStream(p),Pm=p.getVideoTracks()[0],p.getVideoTracks()[0]))}var uA,Xl,Pd,Qp,Lm,Pm,Oa=Se,Gt=ge,tX=zs,rX=_s.trim,yt=ot,Yp=Xn.parseInt,_r=Xn.Symbol,cA=_r&&_r.iterator,dA=/^[+-]?0x/i,iX=Gt(dA.exec),Ur=Yp(yt+"08")!==8||Yp(yt+"0x16")!==22||cA&&!Oa(function(){Yp(Object(cA))})?function(a,s){return a=rX(tX(a)),Yp(a,s>>>0||(iX(dA,a)?16:10))}:Yp;mr({global:!0,forced:parseInt!=Ur},{parseInt:Ur});function hA(){Lm&&Lm.stop(),Pm&&Pm.stop(),Pm=Lm=null,Qp&&(clearInterval(Qp),Qp=null),Xl&&(Xl.onended=function(){Xl.disconnect(),Xl=null},Xl.stop())}function d1(a){if(a){var s,l=V(a.getTracks());try{for(l.s();!(s=l.n()).done;)s.value.stop()}catch(d){l.e(d)}finally{l.f()}}}function Fm(a,s,l){return(a=a.match(s))&&a.length>=l&&parseInt(a[l],10)}var pA=function(){var a={browser:null,version:null};if(typeof window>"u"||!window.navigator)return a.browser="Not a browser.",a;var s=window.navigator;if(s.mozGetUserMedia)a.browser="firefox",a.version=Fm(s.userAgent,/Firefox\/(\d+)\./,1);else if(s.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)a.browser="chrome",a.version=Fm(s.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(s.mediaDevices&&s.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=Fm(s.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!s.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=Fm(s.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return a}().browser==="safari",aX=function(){function a(l){c(this,a),v(this,"_hasPermission",!1),this._deviceManager=l,this._updateQueued=!1}var s;return f(a,[{key:"updateStream",value:(s=u(regeneratorRuntime.mark(function l(){var d,p,m,g,b,w,T,L,H;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this._updateAt)return this._updateQueued=!0,G.abrupt("return");G.next=3;break;case 3:if(d=this._deviceManager.mediaAccesses.some(function(ne){return ne.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(ne){return ne.constraints.video}),d||p){G.next=9;break}return d1(this.stream),hA(),G.abrupt("return");case 9:return this._updateAt=Date.now(),(m=this.stream)||(b=new MediaStream,lA(b,{audio:d,video:p}),this.stream=b),pA&&d1(m),G.prev=13,G.next=16,this._deviceManager.getMediaConstraints({usingAudio:d,usingVideo:p});case 16:return b=G.sent,G.next=19,navigator.mediaDevices.getUserMedia(b);case 19:g=G.sent,this._hasPermission=!0,w=V(this._deviceManager.mediaAccesses);try{for(w.s();!(T=w.n()).done;)T.value.hasPermission=!0}catch(ne){w.e(ne)}finally{w.f()}hA(),G.next=29;break;case 26:G.prev=26,G.t0=G.catch(13),g=new MediaStream;case 29:lA(g,{audio:d,video:p}),pA||d1(m),this.stream=g,L=V(this._deviceManager.mediaAccesses);try{for(L.s();!(H=L.n()).done;)H.value.streamChanged(this.stream)}catch(ne){L.e(ne)}finally{L.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:d,video:p},!0);case 36:case"end":return G.stop()}},l,this,[[13,26]])})),function(){return s.apply(this,arguments)})}]),a}();function fA(a,s){return(a==null?void 0:a.deviceId)===(s==null?void 0:s.deviceId)&&(a==null?void 0:a.label)===(s==null?void 0:s.label)&&(a==null?void 0:a.groupId)===(s==null?void 0:s.groupId)}function mA(a){return function(p,m,b){var p=vA(gX(p)),m=mX(m),g=p.length,b=b===void 0?" ":vA(b);return m<=g||b==""?p:((g=vX(b,bX((m=m-g)/b.length))).length>m&&(g=_X(g,0,m)),a?p+g:g+p)}}var Aa,h1,ns,p1,sX=function(){function a(){var m=this;c(this,a),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new aX(this),navigator.mediaDevices.ondevicechange=function(){return m._onDeviceChanged()}}var s,l,d,p;return f(a,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(m){return m.constraints.audio}),video:this.mediaAccesses.some(function(m){return m.constraints.video})})}},{key:"addSendBirdCallListener",value:function(m,g){this._sendbirdCallListeners.set(m,g)}},{key:"removeSendBirdCallListener",value:function(m){this._sendbirdCallListeners.delete(m)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"_updateStream",value:(p=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._streamManager.updateStream());case 1:case"end":return g.stop()}},m,this)})),function(){return p.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(m){var g=this;this.mediaAccesses.push(m),m.onDisposed=function(){return g.stopMedia(m)}}},{key:"useMedia",value:function(m){{if(m.audio||m.video)return m=new QY(this._streamManager,m),this._registerMediaAccess(m),this._updateStream(),m;hn.error(new Error("you should set true for at least 1 media type."))}}},{key:"stopMedia",value:function(m){this.mediaAccesses.splice(this.mediaAccesses.indexOf(m),1),this._updateStream()}},{key:"fetchMediaDevices",value:(d=u(regeneratorRuntime.mark(function m(){var g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,navigator.mediaDevices.enumerateDevices();case 2:return g=b.sent,b.abrupt("return",g.reduce(function(w,T){return w[T.kind].push(T),w},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return b.stop()}},m)})),function(){return d.apply(this,arguments)})},{key:"getMediaConstraints",value:(l=u(regeneratorRuntime.mark(function m(g){var b,w,T,L,H;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return b=g.usingAudio,w=g.usingVideo,T={audio:!1,video:!1},G.next=4,this.fetchMediaDevices();case 4:return L=G.sent,H=L.audioinput,L=L.videoinput,b&&H.length&&(H=this.getCurrentAudioInputDevice(),T.audio={deviceId:H==null?void 0:H.deviceId}),w&&L.length&&(H=this.getCurrentVideoInputDevice(),T.video=i(i({deviceId:H==null?void 0:H.deviceId},sA.value),{},{frameRate:24})),G.abrupt("return",T);case 10:case"end":return G.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(m,g){var b,w=this._availableMediaDevices[m],T=this._currentMediaDevices[m],L=w.find(function(H){return H.deviceId===(g==null?void 0:g.deviceId)});return L||(hn.warning("Selected device is unavailable. fallback to default device."),L=((b=L)!=null?b:0<w.length)?w[0]:null),!fA(T,this._currentMediaDevices[m]=L)}},{key:"_onAudioOutputChanged",value:function(){var m,g=V(this.mediaAccesses);try{for(g.s();!(m=g.n()).done;){var b=m.value;b.constraints.audio&&b.audioOutputChanged()}}catch(w){g.e(w)}finally{g.f()}}},{key:"selectDevice",value:function(m,g){g.kind!==m?hn.error(new Error("Tried to select invalid device of type")):this._updateCurrentMediaDevice(m,g)&&(m!=="audioinput"&&m!=="videoinput"||this._updateStream(),m==="audiooutput"&&this._onAudioOutputChanged())}},{key:"_updateAvailableDevices",value:function(m,g){var b,w,T,L=this._currentMediaDevices[m];if(function(Te,Q){if(Te.length===Q.length){for(var ae=0;ae<Q.length;ae++)if(!fA(Te[ae],Q[ae]))return;return 1}}(this._availableMediaDevices[m],g))return!1;this._availableMediaDevices[m]=g,L=this._updateCurrentMediaDevice(m,L);var H,G=V(this._sendbirdCallListeners.values());try{for(G.s();!(H=G.n()).done;){var ne=H.value,se=this._currentMediaDevices[m];switch(m){case"audioinput":(b=ne.onAudioInputDeviceChanged)!=null&&b.call(ne,se,g);break;case"audiooutput":(w=ne.onAudioOutputDeviceChanged)!=null&&w.call(ne,se,g);break;case"videoinput":(T=ne.onVideoInputDeviceChanged)!=null&&T.call(ne,se,g)}}}catch(Te){G.e(Te)}finally{G.f()}return L}},{key:"refreshMediaDevices",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,T,L,H,G,ne,se,Te=arguments;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(b=g.audio,w=g.video,T=1<Te.length&&Te[1]!==void 0&&Te[1],b||w){Q.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return Q.next=6,this.fetchMediaDevices();case 6:G=Q.sent,L=G.audioinput,H=G.audiooutput,G=G.videoinput,se=ne=!1,b&&(ne=this._updateAvailableDevices("audioinput",L),se=this._updateAvailableDevices("audiooutput",H)),w&&(ne=this._updateAvailableDevices("videoinput",G)||ne),!T&&ne&&this._updateStream(),se&&this._onAudioOutputChanged();case 16:case"end":return Q.stop()}},m,this)})),function(m){return s.apply(this,arguments)})}]),a}(),gA="v1.0.0-beta.4",oX=function(){function a(s){c(this,a),this._parse=s}return f(a,[{key:"parseToJson",value:function(s){try{return JSON.parse(s)}catch{return{}}}},{key:"validate",value:function(p){var l=p.cmd,d=p.request_id,p=p.call_type;return!!(d||l||p)}},{key:"parseCommand",value:function(s){return s.error?{isValid:!0,error:{requestId:s.request_id,message:s.message,code:s.code}}:{isValid:!0,command:this._parse(s)}}},{key:"parse",value:function(s){return s=this.parseToJson(s),this.validate(s)?this.parseCommand(s):{isValid:!1}}}]),a}(),lX=function(){_(s,ql);var a=A(s);function s(l){var d;return c(this,s),(d=a.call(this))._ctx=l,d._ws=null,d._retryTimer=null,d._closed=!0,d._sessionKey=null,d._requestMap=new oN(d._getTimeoutTime()),d._messageParser=new oX(d._ctx.parse),d._hostUrl=(l=d._ctx.websocketHost)!=null?l:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",d._ctx.appId),d}return f(s,[{key:"connect",value:function(){var l=this;return new Promise(function(d,p){l._sessionKey||p(new Error("tried to connect to websocket server without auth")),l._ws=l._createWebSocket(),l._closed=!1,l._ws.onopen=function(){l._onOpen(),d(null)},l._ws.onmessage=function(w){var w=l._messageParser.parse(w.data),g=w.isValid,b=w.error,w=w.command;g&&(b?l._processError(b):l.processCommand(w))},l._ws.onerror=function(m){return l._onError(m)},l._ws.onclose=function(){l._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(d){var p=d.requestId,d=(d.code,d.message),p=this._requestMap.unregister(p);p&&p.reject(new Error(d))}},{key:"processCommand",value:function(l){this._dispatchEvent("command",l)}},{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(l){}},{key:"_onClose",value:function(){this._startToReconnect()}},{key:"_createWebSocket",value:function(){var l="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+l)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(gA)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){this._removeRetryTimer(),this.connect().catch(function(){})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),uX=function(){function a(l){c(this,a),this._ctx=l,this._fetch=function(){var d;return(d=window).fetch.apply(d,arguments)},this._sessionKey=null,this._hostUrl=(l=this._ctx.apiHost)!=null?l:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var s;return f(a,[{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(s=u(regeneratorRuntime.mark(function l(d){var p,m,g,b,w;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(d.getApiOption){T.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(d)));case 2:if((p=d.getApiOption()).auth&&!this._sessionKey)throw new Error("tried to call private api without auth");T.next=5;break;case 5:return g=i({},p.headers),p.body instanceof FormData||(g["Content-Type"]="application/json"),g.SendBird="JS,".concat(this._getOsVersion(),",").concat(gA),g["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(g["SBCall-Session-Token"]=this._sessionKey),T.next=12,this._fetch("".concat(this._getHost()).concat(p.path),{method:p.method,body:p.body instanceof FormData?p.body:JSON.stringify(p.body),headers:g});case 12:return m=T.sent,T.next=15,m.text();case 15:g=T.sent,b=null,T.prev=17,b=JSON.parse(g),T.next=24;break;case 21:throw T.prev=21,T.t0=T.catch(17),new Error("malformed data");case 24:if(m.ok){T.next=34;break}if(b.error)throw new Error("server error");T.next=29;break;case 29:if(m.status===500)throw new Error("internal server error");T.next=31;break;case 31:if(300<=m.status&&m.status<400)throw new Error("malformed data");T.next=33;break;case 33:throw new Error("request failed");case 34:if(T.prev=34,w=this._ctx.parseResponse(d,b))return T.abrupt("return",w);T.next=38;break;case 38:T.next=43;break;case 40:return T.prev=40,T.t1=T.catch(34),T.abrupt("return",b);case 43:return T.abrupt("return",b);case 44:case"end":return T.stop()}},l,this,[[17,21],[34,40]])})),function(l){return s.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),a}(),cX=function(){_(p,ql);var a,s,l,d=A(p);function p(m){var g;return c(this,p),(g=d.call(this))._ctx=m,g.wsClient=new lX(i(i({},m),{},{parse:function(b){return Xt.parse(b)}})),g.apiClient=new uX(i(i({},m),{},{parseResponse:function(b,w){return Xt.parseResponse(b,w)}})),g._unsubscriber=g.wsClient.on("command",function(b){g._dispatchEvent("command",b)}),g}return f(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"sendAPI",value:function(m){return this.apiClient.send(m)}},{key:"send",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"sendWithRetry",value:(s=u(regeneratorRuntime.mark(function m(g){var b,w,T,L,H,G=this,ne=arguments;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return b=1<ne.length&&ne[1]!==void 0?ne[1]:new QW,L=2<ne.length&&ne[2]!==void 0?ne[2]:{count:0,deferred:new jb},w=L.deferred,T=L.count,se.prev=3,se.next=6,this.send(g);case 6:L=se.sent,w.resolve(L),se.next=14;break;case 10:se.prev=10,se.t0=se.catch(3),0<(H=b.calcTimeout(T))?setTimeout(function(){G.sendWithRetry(g,b,{count:T+1,deferred:w})},H):w.reject(se.t0);case 14:return se.abrupt("return",w.promise);case 15:case"end":return se.stop()}},m,this,[[3,10]])})),function(m){return s.apply(this,arguments)})},{key:"_setSessionKey",value:function(m){this.apiClient.setSessionKey(m),this.wsClient.setSessionKey(m)}},{key:"authenticate",value:(a=u(regeneratorRuntime.mark(function m(g){var b,w,T;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return b=g.userId,w=g.accessToken,L.prev=1,L.next=4,this._ctx.sb.connect(b,w);case 4:return T=Xt.createAuth(this._ctx.appId,b,w),L.next=7,this.send(T);case 7:T=L.sent,this._setSessionKey(T.sbcall_session_token),this._ctx.liveEventManager.userId=T.user.user_id,L.next=16;break;case 12:throw L.prev=12,L.t0=L.catch(1),hn.error("failed to authenticate user ".concat(b)),L.t0;case 16:case"end":return L.stop()}},m,this,[[1,12]])})),function(m){return a.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(),dX=fn,hX=zs,pX=Oe,fX=RangeError,jn=ge,mX=$,vA=zs,gX=Oe,vX=jn(function(a){var s=hX(pX(this)),l="",d=dX(a);if(d<0||d==1/0)throw fX("Wrong number of repetitions");for(;0<d;(d>>>=1)&&(s+=s))1&d&&(l+=s);return l}),_X=jn("".slice),bX=Math.ceil,zi={start:mA(!1),end:mA(!0)},Hr=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Bs),or=mr,yX=zi.start,f1=(or({target:"String",proto:!0,forced:Hr},{padStart:function(a){return yX(this,a,1<arguments.length?arguments[1]:void 0)}}),{VERBOSE:{level:-1,name:_i.VERBOSE,public:!1},DEBUG:{level:1,name:_i.DEBUG,public:!1},INFO:{level:2,name:_i.INFO,public:!0},WARNING:{level:3,name:_i.WARNING,public:!0},ERROR:{level:4,name:_i.ERROR,public:!0},NONE:{level:100,name:_i.NONE,public:!0}}),EX=function(){function a(s){c(this,a),this.level=s||_i.NONE}return f(a,[{key:"setLoggerLevel",value:function(s){var l;return(l=f1[s])!=null&&l.public&&(this.level=s),this.level}},{key:"_enabledFor",value:function(s){try{return f1[this.level].level<=f1[s].level}catch{return!1}}}]),a}(),wX=function(){_(s,EX);var a=A(s);function s(l){return c(this,s),a.call(this,l)}return f(s,[{key:"_getLogType",value:function(l){switch(l){case _i.ERROR:return"error";case _i.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(T){var d=T.getFullYear().toString().padStart(2,"0"),p=(T.getMonth()+1).toString().padStart(2,"0"),m=T.getDate().toString().padStart(2,"0"),g=T.getHours().toString().padStart(2,"0"),b=T.getMinutes().toString().padStart(2,"0"),w=T.getSeconds().toString().padStart(2,"0"),T=T.getMilliseconds().toString().padStart(2,"0");return"[".concat(d,".").concat(p,".").concat(m," ").concat(g,":").concat(b,":").concat(w,":").concat(T,"]")}},{key:"_permit",value:function(l){var d=this._getLogType(l),p=new Date;if(this._enabledFor(l)&&console&&console[d]){for(var p="".concat(this._getTimeString(p)," [").concat(l,"]"),m=arguments.length,g=new Array(1<m?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];(l=console)[d].apply(l,[p].concat(g))}}}]),s}();(At=Aa=Aa||{}).SUCCESS="success",At.PENDING="pending",At.ERROR="error",(Sr=h1=h1||{}).DEFAULT="default",Sr.ALL="all",Sr.MENTION_ONLY="mention_only",Sr.OFF="off",(Ut=ns=ns||{}).FCM="gcm",Ut.APNS="apns",Ut.UNKNOWN="unknown",(_t=p1=p1||{}).ALTERNATIVE="alternative",_t.DEFAULT="default";var Jl;(ni=Jl=Jl||{}).LATEST_LAST_MESSAGE="latest_last_message",ni.CHRONOLOGICAL="chronological",ni.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",ni.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical";function m1(a){switch(a){case Jl.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Jl.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Jl.CHANNEL_NAME_ALPHABETICAL:return["name"]}}qm.prototype.clone=function(){var a=new qm,s=JSON.parse(JSON.stringify(this));return Object.keys(s).forEach(function(l){a[l]=s[l]}),a},qm.prototype.match=function(a){switch(this.messageTypeFilter){case Qa.USER:if(a.messageType!==vr.USER)return!1;break;case Qa.FILE:if(a.messageType!==vr.FILE)return!1;break;case Qa.ADMIN:if(a.messageType!==vr.ADMIN)return!1}if(this.customTypesFilter&&0<this.customTypesFilter.length&&!this.customTypesFilter.includes(a.customType)||this.senderUserIdsFilter&&0<this.senderUserIdsFilter.length&&(!(a instanceof wo)||!this.senderUserIdsFilter.includes(a.sender.userId)))return!1;switch(this.replyType){case Ya.NONE:if(0<a.parentMessageId)return!1;break;case Ya.ONLY_REPLY_TO_CHANNEL:if(a instanceof wo&&0<a.parentMessageId&&!a.replyToChannel)return!1}return!0};var li,Hm=qm;function qm(){this.messageTypeFilter=Qa.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Ya.NONE}(ur=li=li||{}).CHANNEL_LATEST="channel_latest",ur.NEWEST_CHILD_MESSAGE="newest_child_message";function Qo(a){switch(a){case li.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case li.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}}pe(pe({},NI),{scheduledAt:null}),pe(pe({},Bt),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var g1,_A,bA,yA,EA={},wA=(Y($i,yA=Dr),$i.of=function(a){return EA[a]},Object.defineProperty($i.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a&&a.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty($i.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),$i.prototype._serialize=function(a){if(0<a.messageId)throw we.invalidParameters;var s,l=pe({},a.serialize());return a instanceof wi?(a.messageParams&&(l.messageParams=SI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},SI(s)),{scheduledAt:s.scheduledAt})))):a instanceof si&&(a.messageParams&&(l.messageParams=TI(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(l.scheduledInfo.scheduledMessageParams=(s=a.scheduledInfo.scheduledMessageParams,pe(pe({},TI(s)),{scheduledAt:s.scheduledAt})))),l},$i.prototype._deserialize=function(a){return a?(a=pe(pe({},a),{messageId:parseInt(a.messageId)}),Ia.of(this._iid).buildMessageFromSerializedData(a)):null},$i.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},$i.prototype.fetch=function(a){var g=a.channelUrl,s=g===void 0?null:g,g=a.filter,l=g===void 0?new Hm:g,g=a.order,d=g===void 0?li.CHANNEL_LATEST:g,g=a.sendingStatus,p=g===void 0?null:g,g=a.backward,m=g!==void 0&&g,g=a.parentMessageId,b=g===void 0?null:g;return P(this,void 0,void 0,function(){var w,T,L=this;return F(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(T=Qo(d),w={"/where":function(G){return!!(d!==li.NEWEST_CHILD_MESSAGE||b&&G.parentMessageId!==0&&G.parentMessageId===b)&&l.match(L._deserialize(G))}},s&&(w.channelUrl=s),p&&(w.sendingStatus=p),w={where:w,index:T,backward:m},[4,this.collection.query(w)]):[3,3];case 1:return[4,H.sent().fetch({})];case 2:return T=H.sent(),[2,Promise.all(T.map(function(G){return P(L,void 0,void 0,function(){var ne,se,Te,Q,ae,Ee;return F(this,function(be){switch(be.label){case 0:return ne=Ia.of(this._iid),se=this._deserialize(G),(Te=G.messageParams)?se instanceof wi?(se.messageParams=ne.buildUserMessageCreateParamsFromSerializedData(Te,se),[3,4]):[3,1]:[3,4];case 1:return se instanceof si?Te.fileKey&&typeof Te.fileKey=="string"&&By(Te.fileType)?(Q=Te,[4,this.collection.getBlob(Te.fileKey)]):[3,3]:[3,4];case 2:Q.file=be.sent(),be.label=3;case 3:se.messageParams=ne.buildFileMessageCreateParamsFromSerializedData(Te,se),be.label=4;case 4:return se.scheduledInfo&&G.scheduledInfo&&G.scheduledInfo.scheduledMessageParams?se instanceof wi?(ae=G.scheduledInfo.scheduledMessageParams,se.scheduledInfo.scheduledMessageParams=ne.buildScheduledUserMessageCreateParamsFromSerializedData(ae,se),[3,8]):[3,5]:[3,8];case 5:return se instanceof si?(ae=G.scheduledInfo.scheduledMessageParams).fileKey&&typeof ae.fileKey=="string"&&By(ae.fileType)?(Ee=ae,[4,this.collection.getBlob(ae.fileKey)]):[3,7]:[3,8];case 6:Ee.file=be.sent(),be.label=7;case 7:se.scheduledInfo.scheduledMessageParams=ne.buildScheduledFileMessageCreateParamsFromSerializedData(ae,se),be.label=8;case 8:return[2,se]}})})}))];case 3:return[2,[]]}})})},$i.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Hm),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this.fetch({filter:s,order:li.NEWEST_CHILD_MESSAGE,channelUrl:a.channelUrl,backward:!1,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},$i.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,3];case 1:return d.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:d.sent(),d.label=3;case 3:return[2]}})})},$i.prototype.upsertChildMessages=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return p=[],0<((m=d.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(d)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(d)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},$i.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=Bn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(d=l.value,[4,this.collection.remove(d)]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),p={error:d},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},$i.prototype.removeMessagesOfChannel=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a}})]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},$i.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},$i.prototype.saveBlobs=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return d instanceof si?d.messageParams&&(p=d.messageParams).file&&qy(p.file)?[4,this.collection.saveBlob(p.file,d.reqId)]:[3,2]:[3,4];case 1:g=b.sent(),p.fileKey=g,p.fileType=Dd.BLOB,b.label=2;case 2:return d.scheduledInfo&&d.scheduledInfo.scheduledMessageParams&&(m=d.scheduledInfo.scheduledMessageParams).file&&qy(m.file)?[4,this.collection.saveBlob(m.file,d.reqId)]:[3,4];case 3:g=b.sent(),m.fileKey=g,m.fileType=Dd.BLOB,b.label=4;case 4:return[2]}})})}))];case 1:return l.sent(),[2]}})})},$i),xA={},xX=(Y(ui,bA=Dr),ui.of=function(a){return xA[a]},Object.defineProperty(ui.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a?a.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(ui.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),ui.prototype._serialize=function(a){return pe(pe({},a.serialize()),{messageId:"".concat(a.messageId)})},ui.prototype._deserialize=function(a){return a=pe(pe({},a),{messageId:parseInt(a.messageId)}),Ia.of(this._iid).buildMessageFromSerializedData(a)},ui.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(s=l.sent())return[2,this._deserialize(s)];l.label=2;case 2:return[2,null]}})})},ui.prototype.fetch=function(a){var s=a.channelUrl,l=a.token,b=a.limit,d=b===void 0?100:b,b=a.filter,p=b===void 0?new Hm:b,b=a.order,m=b===void 0?li.CHANNEL_LATEST:b,b=a.backward,g=b!==void 0&&b,b=a.parentMessageId,w=b===void 0?null:b;return P(this,void 0,void 0,function(){var T,L=this;return F(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(T=Qo(m),T={where:{channelUrl:s,"/where":function(G){if(l)switch(m){case li.CHANNEL_LATEST:if(!g&&G.createdAt>l||g&&G.createdAt<l)return!1;break;case li.NEWEST_CHILD_MESSAGE:if(!w||G.parentMessageId===0||G.parentMessageId!==w)return!1}return p.match(L._deserialize(G))}},index:T,backward:g},[4,this.collection.query(T)]):[3,3];case 1:return[4,H.sent().fetch({limit:d})];case 2:return T=H.sent(),[2,Promise.all(T.map(function(G){return P(L,void 0,void 0,function(){var ne,se,Te;return F(this,function(Q){switch(Q.label){case 0:return ne=this._deserialize(G),(se=G.messageParams)?ne instanceof wi?(ne.messageParams=se,[3,4]):[3,1]:[3,4];case 1:return ne instanceof si?se.fileKey&&typeof se.fileKey=="string"&&By(se.fileType)?(Te=se,[4,this.collection.getBlob(se.fileKey)]):[3,3]:[3,4];case 2:Te.file=Q.sent(),Q.label=3;case 3:ne.messageParams=se,Q.label=4;case 4:return[2,ne]}})})}))];case 3:return[2,[]]}})})},ui.prototype.getAllChildMessages=function(a,s){return s===void 0&&(s=new Hm),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this.fetch({channelUrl:a.channelUrl,token:Date.now(),limit:null,backward:!1,filter:s,order:li.NEWEST_CHILD_MESSAGE,parentMessageId:a.messageId})];case 1:return[2,l.sent()]}})})},ui.prototype.upsert=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,5];case 1:return d.sent(),s=a.map(function(p){return l._serialize(p)}),[4,this.collection.upsertMany(s)];case 2:return d.sent(),[4,this.upsertChildMessages(a)];case 3:return d.sent(),[4,this._unsentMessageCache.upsertChildMessages(a)];case 4:d.sent(),d.label=5;case 5:return[2]}})})},ui.prototype.upsertChildMessages=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return p=[],0<((m=d.threadInfo)==null?void 0:m.replyCount)?[4,this.getAllChildMessages(d)]:[3,2];case 1:p=g.sent(),g.label=2;case 2:return 0<p.length?(p.forEach(function(b){return b.applyParentMessage(d)}),[4,this.upsert(p)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},ui.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(!this.localCacheEnabled)return[3,8];g.label=1;case 1:g.trys.push([1,6,7,8]),s=Bn(a),l=s.next(),g.label=2;case 2:return l.done?[3,5]:(d=l.value,[4,this.collection.remove("".concat(d))]);case 3:g.sent(),g.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),p={error:d},[3,8];case 7:try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},ui.prototype.removeMessagesOfChannel=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a},index:Qo(li.CHANNEL_LATEST)})]:[3,6];case 1:return l.sent(),[4,(s=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync"))];case 2:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync.meta"))];case 3:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs"))];case 4:return l.sent(),[4,s.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs.meta"))];case 5:l.sent(),l.label=6;case 6:return[2]}})})},ui.prototype.removeUnderOffset=function(a,s){return P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a,createdAt:{"<":s}},index:Qo(li.CHANNEL_LATEST)})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},ui.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},ui.prototype.countBetween=function(a,s,l){return P(this,void 0,void 0,function(){var d,p=this;return F(this,function(m){switch(m.label){case 0:return this.localCacheEnabled?(d=Qo(li.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:a,"/where":function(g){return g=p._deserialize(g),l.includes(g.createdAt)&&s.match(g)}},index:d}).count()]):[3,2];case 1:return[2,m.sent()];case 2:return[2,0]}})})},ui.prototype.saveBlobs=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m;return F(this,function(g){switch(g.label){case 0:return d instanceof si&&d.messageParams&&(p=d.messageParams).file&&qy(p.file)?[4,this.collection.saveBlob(p.file,d.reqId)]:[3,2];case 1:m=g.sent(),p.fileKey=m,g.label=2;case 2:return[2]}})})}))];case 1:return l.sent(),[2]}})})},ui),kX=(Y(CA,_A=bi),CA),v1={},kA=(Yo.of=function(a){return v1[a]},Yo.prototype.processNonAutoResendRegisteredPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=g.sent();try{for(s=Bn(a),l=s.next();!l.done;l=s.next())(d=l.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",d.reqId),d.sendingStatus=sr.FAILED,d.errorCode=Kn.ACK_TIMEOUT,this._dispatcher.dispatch(new Ta({messages:[d],source:oi.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{l&&!l.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}}return[2]}})})},Yo.prototype.processAutoResendRegisteredPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:a=w.sent();try{for(s=Bn(a),l=s.next();!l.done;l=s.next())(d=l.value).errorCode&&cm(d.errorCode)&&(p=new Date().getTime(),m=d.createdAt+2592e5,p<=m?this._autoResendQueue.map(function(T){return T.reqId}).indexOf(d.reqId)<0&&this._autoResendQueue.push(d):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(m).toLocaleString()),d.sendingStatus=sr.FAILED,this._dispatcher.dispatch(new Ta({messages:[d],source:oi.LOCAL_MESSAGE_FAILED}))))}catch(T){g={error:T}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2]}})})},Yo.prototype.completeCurrentAndProcessNextAutoResend=function(a){this._localCacheEnabled&&(a.sendingStatus===sr.SUCCEEDED||a.sendingStatus===sr.FAILED&&!cm(a.errorCode))&&(0<=(a=this.indexOf(a))&&this._autoResendQueue.splice(a,1),a===0&&this._processNextAutoResend())},Yo.prototype._fetchAllCachedPendingMessages=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return(a=wA.of(this._iid))?[4,a.fetch({sendingStatus:sr.PENDING,backward:!0})]:[3,2];case 1:return s=l.sent(),[3,3];case 2:s=[],l.label=3;case 3:return[2,s]}})})},Yo.prototype.indexOf=function(a){return 0<this._autoResendQueue.length?this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId):-1},Yo.prototype._isNotInQueue=function(a){return this._autoResendQueue.map(function(s){return s.reqId}).indexOf(a.reqId)===-1},Yo.prototype._processNextAutoResend=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{0<this._autoResendQueue.length?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),a=this._autoResendQueue[0],this._dispatcher.dispatch(new kX({message:a})),this._logger.debug("processing auto-resend for message request id: ",a.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(l){this._logger.warn("process auto-resend error: ",l),this._isProcessingAutoResend=!1}return[2]})})},Yo);function Yo(a,m){var l=m.localCacheEnabled,d=m.dispatcher,p=m.sdkState,m=m.logger,g=this;(v1[a]=this)._iid=a,(v1[a]=this)._localCacheEnabled=l,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=d,this._logger=m,this._sdkState=p,this._localCacheEnabled&&d.on(function(b){if(b instanceof Nd)switch(b.stateType){case Jt.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case Jt.DISCONNECTED:g._isProcessingAutoResend=!1}})}function CA(s){var s=s.message,l=_A.call(this)||this;return l.message=s,l}function ui(a,p){var l=p.sdkState,d=p.cacheContext,p=p.unsentMessageCache,m=bA.call(this,a)||this;return m._sdkState=l,m._cacheContext=d,m._unsentMessageCache=p,xA[a]=m}function $i(a,d){var l=d.sdkState,d=d.cacheContext,p=yA.call(this,a)||this;return p._sdkState=l,p._cacheContext=d,EA[a]=p}(Fr=g1=g1||{})[Fr.USER_BLOCK=20001]="USER_BLOCK",Fr[Fr.USER_UNBLOCK=2e4]="USER_UNBLOCK",Fr[Fr.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED",_1.getDataAsUserBlockEvent=function(a,d){var d=d.data,l=d.blocker,d=d.blockee;return{blocker:new $n(a,l),blockee:new $n(a,d)}},_1.getDataAsFriendDiscoveredEvent=function(a,s){return s=s.data.friend_discoveries,{friendDiscoveries:Array.isArray(s)?s.map(function(l){return new $n(a,l)}):[]}};var SA,NA,TA,IA,OA,AA,RA=_1,CX=(Y(FA,AA=bi),FA),SX=(Y(PA,OA=dr),PA),NX=(Y(LA,IA=Qe),LA),TX=(Y(UA,TA=Je),UA),IX=(Y(DA,NA=Qe),DA),OX=(Y(MA,SA=Je),MA);function MA(a,s){return a=SA.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function DA(l){var s=l.userId,l=l.pushTriggerOption,d=NA.call(this)||this;return d.method=Ke.PUT,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),d.params={push_trigger_option:l},d}function UA(a,s){return a=TA.call(this,a,s)||this,a.pushTriggerOption=s.push_trigger_option,a}function LA(s){var s=s.userId,l=IA.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function PA(a,s,l){return a=OA.call(this,a,"USEV",l)||this,a.event=new RA(l),a}function FA(a,l){var l=l.userId,d=AA.call(this)||this;return d._iid=a,d.userId=l,d}function _1(a){this.category=a.cat,this.data=a.data}var b1,HA,qA,BA,GA,zA,AX={profileImage:null,profileUrl:null,nickname:null},RX=(Y(function(){return b1!==null&&b1.apply(this,arguments)||this},b1=Dr),Y(Fd,GA=hm),Object.defineProperty(Fd.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),Fd.prototype._toggleState=function(){var a=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){a._pauseDelayTimer=null,a.dispatch("pause")},3e4)),this._currentState=document.visibilityState},Fd.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},Fd.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},Fd),MX=(Object.defineProperty(pc.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),pc.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},pc.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},pc.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},pc.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},pc.prototype.isOnline=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(s,l){fetch("https://www.google.com",{method:Ke.GET}).then(function(){return s(!0)}).catch(function(){return s(!1)})})]})})},pc),$A=(Y(KA,BA=Qe),KA),jA=(Y(WA,qA=Je),WA),DX=(Y(VA,HA=Qe),VA);function VA(l){var s=l.userId,l=l.token,d=HA.call(this)||this;return d.method=Ke.POST,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns"),d.params={apns_device_token:l,always_push:!0},d}function WA(a,s){var l=qA.call(this,a,s)||this;return l.user=null,l.user=new $n(a,pe({},s)),l}function KA(m){var s=m.userId,l=m.nickname,l=l===void 0?null:l,d=m.profileUrl,d=d===void 0?null:d,p=m.profileImage,p=p===void 0?null:p,m=m.preferredLanguages,m=m===void 0?null:m,g=BA.call(this)||this;return g.method=Ke.PUT,g.path="".concat(xt,"/").concat(encodeURIComponent(s)),g.params=Hn({nickname:l,profile_url:d,profile_file:p,preferred_languages:m}),g}function pc(l){var s=l.logger,l=l.connectionDelegate,l=l===void 0?null:l;this.logger=s,l&&(this.connectionDelegate=l),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}function Fd(){var a=GA.call(this)||this;return a._pauseDelayTimer=null,a._currentState="visible",a._toggleState=a._toggleState.bind(a),a}Y(function(a,s){var l=zA.call(this,a,s)||this;return l.token=s.token,l.type=s.type?ns[s.type.toLowerCase()]:ns.UNKNOWN,l.user=new $n(a,s.user),l},zA=Je),Y(XA,QA=Qe);var QA,YA,UX=XA;function XA(l){var s=l.userId,l=l.token,d=QA.call(this)||this;return d.method=Ke.POST,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm"),d.params={gcm_reg_token:l,always_push:!0},d}Y(function(a,s){var l=YA.call(this,a,s)||this;return l.token=s.token,l.type=s.type?ns[s.type.toLowerCase()]:ns.UNKNOWN,l.user=new $n(a,s.user),l},YA=Je),Y(eR,JA=Qe);var JA,ZA,LX=eR;function eR(l){var s=l.userId,l=l.token,d=JA.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns/").concat(encodeURIComponent(l)),d}Y(function(a,s){var l=ZA.call(this,a,s)||this;return l.token=s.token,l.user=new $n(a,s.user),l},ZA=Je),Y(rR,nR=Qe);var nR,tR,PX=rR;function rR(l){var s=l.userId,l=l.token,d=nR.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm/").concat(encodeURIComponent(l)),d}Y(function(a,s){var l=tR.call(this,a,s)||this;return l.token=s.token,l.user=new $n(a,s.user),l},tR=Je),Y(sR,iR=Qe);var iR,aR,FX=sR;function sR(s){var s=s.userId,l=iR.call(this)||this;return l.method=Ke.DELETE,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/apns"),l}Y(function(a,s){var l=aR.call(this,a,s)||this;return l.type=s.type?ns[s.type.toLowerCase()]:ns.UNKNOWN,l.user=new $n(a,s.user),l},aR=Je),Y(uR,oR=Qe);var oR,lR,HX=uR;function uR(s){var s=s.userId,l=oR.call(this)||this;return l.method=Ke.DELETE,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/gcm"),l}Y(function(a,s){var l=lR.call(this,a,s)||this;return l.type=s.type?ns[s.type.toLowerCase()]:ns.UNKNOWN,l.user=new $n(a,s.user),l},lR=Je),Y(qR,kR=Qe);var cR,dR,hR,pR,fR,mR,gR,vR,_R,bR,yR,ER,wR,xR,kR,CR,qX=qR,BX=(Y(HR,xR=Je),HR),GX=(Y(FR,wR=Qe),FR),zX=(Y(PR,ER=Je),PR),$X=(Y(LR,yR=Qe),LR),jX=(Y(UR,bR=Je),UR),VX=(Y(DR,_R=Qe),DR),WX=(Y(MR,vR=Je),MR),KX=(Y(RR,gR=Qe),RR),QX=(Y(AR,mR=Je),AR),YX=(Y(OR,fR=Qe),OR),XX=(Y(IR,pR=Je),IR),JX=(Y(TR,hR=Qe),TR),ZX=(Y(NR,dR=Je),NR),eJ=(Y(SR,cR=Qe),SR);function SR(l){var s=l.userId,l=l.blockedUserId,d=cR.call(this)||this;return d.method=Ke.POST,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/block"),d.params={target_id:l},d}function NR(a,s){return a=dR.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function TR(p){var s=p.userId,l=p.snoozeOn,d=p.startTs,p=p.endTs,m=hR.call(this)||this;return m.method=Ke.PUT,m.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),m.params={snooze_enabled:l,snooze_start_ts:d,snooze_end_ts:p},m}function IR(a,s){return a=pR.call(this,a,s)||this,a.snoozePeriod={isSnoozeOn:s.snooze_enabled},typeof s.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=s.snooze_start_ts),typeof s.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=s.snooze_end_ts),a}function OR(s){var s=s.userId,l=fR.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function AR(a,s){return a=mR.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function RR(b){var s=b.userId,l=b.doNotDisturbOn,d=b.startHour,p=b.startMin,m=b.endHour,g=b.endMin,b=b.timezone,w=gR.call(this)||this;return w.method=Ke.PUT,w.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),w.params={do_not_disturb:l,start_hour:d,start_min:p,end_hour:m,end_min:g,timezone:b},w}function MR(a,s){return a=vR.call(this,a,s)||this,a.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone},a}function DR(s){var s=s.userId,l=_R.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push_preference"),l}function UR(a,s){return a=bR.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function LR(l){var s=l.userId,l=l.willAutoAccept,d=yR.call(this)||this;return d.method=Ke.PUT,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),d.params={auto_accept:l},d}function PR(a,s){return a=ER.call(this,a,s)||this,a.autoAccept=s.auto_accept,a}function FR(s){var s=s.userId,l=wR.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/channel_invitation_preference"),l}function HR(a,s){return a=xR.call(this,a,s)||this,a.pushTokens={type:s.type?ns[s.type.toLowerCase()]:ns.UNKNOWN,deviceTokens:s.device_tokens,hasMore:s.has_more,token:s.token},a}function qR(p){var s=p.userId,l=p.type,d=p.token,p=p.ts,m=kR.call(this)||this;return m.method=Ke.GET,m.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/").concat(encodeURIComponent(l),"/device_tokens"),m.params={created_ts:p,token:d},m}Y(function(a,s){var l=CR.call(this,a,s)||this;return l.user=new $n(a,s),l},CR=Je),Y(GR,BR=Qe);var BR,y1,nJ=GR;function GR(l){var s=l.userId,l=l.unblockedUserId,d=BR.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/block/").concat(encodeURIComponent(l)),d}Y(function(){return y1!==null&&y1.apply(this,arguments)||this},y1=Je),Y(sM,XR=Qe);var zR,$R,jR,VR,WR,KR,QR,YR,XR,E1,tJ=sM,rJ=(Y(aM,YR=Je),aM),iJ=(Y(iM,QR=Qe),iM),aJ=(Y(rM,KR=Je),rM),sJ=(Y(tM,WR=Qe),tM),oJ=(Y(nM,VR=Je),nM),lJ=(Y(eM,jR=Qe),eM),uJ=(Y(ZR,$R=Je),ZR),cJ=(Y(JR,zR=Qe),JR);function JR(l){var s=l.userId,l=l.discoveryKeys,d=zR.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friend_discoveries"),d.params={friend_discovery_keys:l},d}function ZR(a,s){return a=$R.call(this,a,s)||this,a.friendDiscoveryRequestId=s.friend_discovery_request_id,a}function eM(l){var s=l.userId,l=l.discoveries,d=jR.call(this)||this;return d.method=Ke.PUT,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friend_discoveries"),d.params={friend_discoveries:l.map(function(p){return{friend_discovery_key:p.friendDiscoveryKey,friend_name:p.friendName}})},d}function nM(a,s){var l=VR.call(this,a,s)||this;return l.changelogs={addedUsers:s.added.map(function(d){return new $n(a,d)}),updatedUsers:s.updated.map(function(d){return new $n(a,d)}),deletedUserIds:s.deleted,hasMore:s.has_more,token:s.next},l}function tM(l){var s=l.userId,l=l.token,d=WR.call(this)||this;return d.method=Ke.GET,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends/changelogs"),d.params={token:l},d}function rM(a,s){return a=KR.call(this,a,s)||this,a.name=s.name,a}function iM(l){var s=l.userId,l=l.templateName,d=QR.call(this)||this;return d.method=Ke.PUT,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/template"),d.params={name:l},d}function aM(a,s){return a=YR.call(this,a,s)||this,a.name=s.name,a}function sM(s){var s=s.userId,l=XR.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(encodeURIComponent(s),"/push/template"),l}Y(function(){return E1!==null&&E1.apply(this,arguments)||this},E1=Je),Y(hM,uM=Qe);var oM,lM,uM,w1,dJ=hM,hJ=(Y(dM,lM=Je),dM),pJ=(Y(cM,oM=Qe),cM);function cM(l){var s=l.userId,l=l.userIds,d=oM.call(this)||this;return d.method=Ke.DELETE,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),d.params={user_ids:l},d}function dM(a,s){var l=lM.call(this,a,s)||this;return l.users=s.users.map(function(d){return new $n(a,d)}),l}function hM(l){var s=l.userId,l=l.userIds,d=uM.call(this)||this;return d.method=Ke.POST,d.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),d.params={user_ids:l},d}Y(function(){return w1!==null&&w1.apply(this,arguments)||this},w1=Je),Y(_M,mM=Qe);var pM,fM,mM,x1,fJ=_M,mJ=(Y(vM,fM=Je),vM),gJ=(Y(gM,pM=Qe),gM);function gM(l){var s=l.userId,l=l.allowFriendDiscovery,d=pM.call(this)||this;return d.method=Ke.PUT,d.path="".concat(xt,"/").concat(s,"/allow_friend_discovery"),d.params={allow_friend_discovery:l},d}function vM(a,s){return a=fM.call(this,a,s)||this,a.allowFriendDiscovery=s.allow_friend_discovery,a}function _M(s){var s=s.userId,l=mM.call(this)||this;return l.method=Ke.GET,l.path="".concat(xt,"/").concat(s,"/allow_friend_discovery"),l.params={},l}Y(function(){return x1!==null&&x1.apply(this,arguments)||this},x1=Je);function vJ(a){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=a.emoji_hash||"",this.emojiCategories=a.emoji_categories?a.emoji_categories.map(function(s){return new RM(s)}):[]}var zt,Bm,bM,yM,k1,EM,wM,C1,xM,kM,CM,SM,NM,TM,IM,OM,AM=function(a){this.key=null,this.url=null,this.key=a.key,this.url=a.url},RM=function(a){var s;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(s=a.id)!=null?s:0,this.name=(s=a.name)!=null?s:"",this.url=(s=a.url)!=null?s:"",this.emojis=a.emojis?a.emojis.map(function(l){return new AM(l)}):[]},_J=(Y(jM,OM=Qe),jM),bJ=(Y($M,IM=Je),$M),yJ=(Y(zM,TM=Qe),zM),EJ=(Y(GM,NM=Je),GM),wJ=(Y(BM,SM=Qe),BM),xJ=(Y(qM,CM=Je),qM),kJ=(Y(HM,kM=Qe),HM),CJ=(Y(FM,xM=Je),FM),SJ=(Y(Vm,C1=it),Vm.prototype._validate=function(){return C1.prototype._validate.call(this)&&mt("string",this.userIdsFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)&&mt("string",this.metaDataValuesFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)},Vm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid).requestQueue,s=new kJ(pe(pe({},this),{token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(CJ),l=s.users,d=s.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},Vm),NJ=(Y(PM,wM=Qe),PM),TJ=(Y(LM,EM=Je),LM),IJ=(Y(jm,k1=it),jm.prototype._validate=function(){return k1.prototype._validate.call(this)&&mt("string",this.userIdsFilter,!0)},jm.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new NJ(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=p.sent(),s=a.as(TJ),l=s.users,d=s.next,this._token=d,this._hasNext=!!d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},jm),OJ=(Y(UM,yM=Qe),UM),AJ=(Y(DM,bM=Je),DM),RJ=(Y($m,Bm=it),$m.prototype._validate=function(){return Bm.prototype._validate.call(this)},$m.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new OJ(pe(pe({},this),{userId:s.userId,token:this._token})),[4,a.send(s)]):[3,2]:[3,5];case 1:return a=m.sent(),s=a.as(AJ),l=s.users,d=s.hasMore,p=s.next,this._token=p,this._hasNext=d,this._isLoading=!1,[2,l];case 2:return[2,[]];case 3:throw we.queryInProgress;case 4:return[3,6];case 5:throw we.invalidParameters;case 6:return[2]}})})},$m),Gm={},zm=(MM.get=function(a){return Gm[a]},MM);function MM(w){var s=w.dbname,l=w.itemSizeLimit,d=w.cacheLimit,d=d===void 0?256:d,p=w.blockHashBase,p=p===void 0?2:p,m=w.blockHashMultiplier,m=m===void 0?10:m,g=w.blockHashConstant,g=g===void 0?11:g,b=w.transactionApplyDelay,b=b===void 0?200:b,w=w.disableLogger,w=w!==void 0&&w;return Gm[s]||(this.itemSizeLimit=l===void 0?1048576:l,this.cacheLimit=d,this.blockHashBase=p,this.blockHashMultiplier=m,this.blockHashConstant=g,this.transactionApplyDelay=b,this.disableLogger=w,Gm[s]=this),Gm[s]}function $m(){return Bm!==null&&Bm.apply(this,arguments)||this}function DM(a,s){var l=bM.call(this,a,s)||this;return l.hasMore=s.has_more,l.users=s.users.map(function(d){return new $n(a,d)}),l.next=s.next,l}function UM(d){var s=d.userId,l=d.limit,d=d.token,p=yM.call(this)||this;return p.method=Ke.GET,p.path="".concat(xt,"/").concat(encodeURIComponent(s),"/friends"),p.params={limit:l,token:d},p}function jm(a,s){var l=this;return(l=k1.call(this,a,s)||this).userIdsFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l}function LM(a,s){var l=EM.call(this,a,s)||this;return l.users=s.users.map(function(d){return new $n(a,d)}),l.next=s.next,l}function PM(p){var s=p.userId,l=p.limit,d=p.token,p=p.userIdsFilter,m=wM.call(this)||this;return m.method=Ke.GET,m.path="".concat(xt,"/").concat(s,"/block"),m.params=Hn({limit:l,token:d,user_ids:p}),m}function Vm(a,s){var l=this;return(l=C1.call(this,a,s)||this).userIdsFilter=null,l.metaDataKeyFilter=null,l.metaDataValuesFilter=null,l.nicknameStartsWithFilter=null,l.userIdsFilter=(a=s.userIdsFilter)!=null?a:null,l.metaDataKeyFilter=(a=s.metaDataKeyFilter)!=null?a:null,l.metaDataValuesFilter=(a=s.metaDataValuesFilter)!=null?a:null,l.nicknameStartsWithFilter=s.nicknameStartsWithFilter||null,l}function FM(a,s){var l=xM.call(this,a,s)||this;return l.users=s.users.map(function(d){return new $n(a,d)}),l.next=s.next,l}function HM(g){var s=g.limit,l=g.token,d=g.userIdsFilter,p=g.metaDataKeyFilter,m=g.metaDataValuesFilter,g=g.nicknameStartsWithFilter,b=kM.call(this)||this;return b.method=Ke.GET,b.path=xt,b.params=Hn({limit:s,token:l,user_ids:d,metadatakey:p,metadatavalues_in:m,nickname_startswith:g}),b}function qM(a,s){return a=CM.call(this,a,s)||this,a.emoji=new AM(s),a}function BM(s){var s=s.key,l=SM.call(this)||this;return l.method=Ke.GET,l.path="".concat(HK,"/").concat(s),l}function GM(a,s){return a=NM.call(this,a,s)||this,a.emojiCategory=new RM(s),a}function zM(s){var s=s.categoryId,l=TM.call(this)||this;return l.method=Ke.GET,l.path="".concat($N,"/").concat(s),l}function $M(a,s){return a=IM.call(this,a,s)||this,a.emojiContainer=new vJ(s),a}function jM(){var a=OM.call(this)||this;return a.method=Ke.GET,a.path=$N,a}(cn=zt=zt||{})[cn.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",cn[cn.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",cn[cn.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",cn[cn.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",cn[cn.STORE_IS_FULL=61001003]="STORE_IS_FULL",cn[cn.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",cn[cn.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",cn[cn.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",cn[cn.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",cn[cn.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",cn[cn.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",cn[cn.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",cn[cn.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",cn[cn.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",cn[cn.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",cn[cn.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",cn[cn.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",cn[cn.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",cn[cn.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",cn[cn.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",cn[cn.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",cn[cn.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",cn[cn.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",cn[cn.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",cn[cn.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND",Y(Rn,VM=Error),Object.defineProperty(Rn,"storeNotDefined",{get:function(){return new Rn({code:zt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeNotAvailable",{get:function(){return new Rn({code:zt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeNotAvailableInPrivateBrowsing",{get:function(){return new Rn({code:zt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeIsFull",{get:function(){return new Rn({code:zt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeKeyTypeIsInvalid",{get:function(){return new Rn({code:zt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeBrokenIntegrity",{get:function(){return new Rn({code:zt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeBrokenBlob",{get:function(){return new Rn({code:zt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeEncryptionInvalid",{get:function(){return new Rn({code:zt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeItemSizeExceeded",{get:function(){return new Rn({code:zt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeReadFailed",{get:function(){return new Rn({code:zt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"storeWriteFailed",{get:function(){return new Rn({code:zt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"databaseSchemaNotOnUpgrade",{get:function(){return new Rn({code:zt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionNotReady",{get:function(){return new Rn({code:zt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionKeyNotMatch",{get:function(){return new Rn({code:zt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionQueryNotValid",{get:function(){return new Rn({code:zt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionInsertDuplicate",{get:function(){return new Rn({code:zt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionKeyNotFound",{get:function(){return new Rn({code:zt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionKeyNotGiven",{get:function(){return new Rn({code:zt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionWriteFailed",{get:function(){return new Rn({code:zt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"collectionItemSizeExceeded",{get:function(){return new Rn({code:zt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"indexTableIsRequired",{get:function(){return new Rn({code:zt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"indexTypesNotMatch",{get:function(){return new Rn({code:zt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"compareTypesNotMatch",{get:function(){return new Rn({code:zt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(Rn,"circularReferenceFound",{get:function(){return new Rn({code:zt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0});var Hd,VM,dt=Rn;function Rn(l){var s=l.code,s=s===void 0?zt.UNKNOWN_ERROR:s,l=l.message,l=VM.call(this,l===void 0?"Unknown error occurred.":l)||this;return l.code=s,Object.setPrototypeOf(l,Rn.prototype),l}(Vt=Hd=Hd||{}).INIT="init",Vt.READY="ready",Vt.CLOSED="closed";function pa(a,s){if(s===void 0&&(s=new WeakMap),typeof a!="object"||a===null)return a;if(s.has(a))throw dt.circularReferenceFound;s.set(a,!0);var l=null;if(Array.isArray(a))l=a.map(function(p){return pa(p,s)});else if(a instanceof RegExp)l=a;else if(a instanceof Date)l=a;else for(var d in l={},a)l[d]=pa(a[d],s);return s.delete(a),l}function Xo(a,s){if(s==null)return 1;if(a==null)return-1;if(typeof a!=typeof s)throw dt.compareTypesNotMatch;var l=0;switch(typeof a){case"boolean":case"number":l=a-s;break;case"string":l=a.localeCompare(s)}return l}function qd(a){return new Promise(function(s){setTimeout(function(){return s()},a)})}function fc(a,s){if(s){if(typeof a=="function")return a(s);for(var l in a)if(["/and","&&"].includes(l)){if(a[l].some(function(w){return!fc(w,s)}))return}else if(["/or","||"].includes(l)){if(a[l].every(function(w){return!fc(w,s)}))return}else if(l==="/where"){if(!(0,a[l])(s))return}else{var d=l;if(typeof a[d]=="object"){var p,m=a[d];for(p in m)switch(p){case"/eq":case"=":if((g=s[d])!==(b=m[p]))return;break;case"/neq":case"!=":if((g=s[d])===(b=m[p]))return;break;case"/gt":case">":var g=s[d],b=m[p];if(0<Xo(g,b))break;return;case"/gte":case">=":if(g=s[d],b=m[p],0<=Xo(g,b))break;return;case"/lt":case"<":if(g=s[d],b=m[p],Xo(g,b)<0)break;return;case"/lte":case"<=":if(g=s[d],b=m[p],Xo(g,b)<=0)break;return;case"/in":if(g=s[d],(b=m[p]).includes(g))break;return;case"/nin":if(g=s[d],(b=m[p]).includes(g))return;break;case"/contain":if(g=s[d],b=m[p],g.includes(b))break;return;case"/regex":if(g=s[d],(b=m[p]).test(g))break;return;case"/where":if(g=s[d],!(0,m[p])(g))return}}else if(typeof a[d]=="function"){if(!a[d](s[d]))return}else if(a[d]!==s[d])return}return 1}}function Wm(){}function WM(){return Promise.resolve()}function MJ(a){return a}function KM(a,s){s(null)}var QM=function(a,s){for(var l=0,d=0;d<a.length;d++)l=a.charCodeAt(d)+(l<<6)+(l<<16)-l;return(l>>>0)%s};function S1(a,s){return"".concat(gc(a,s),".metadata")}function N1(a,s){return"".concat(gc(a,s),"/block.")}function YM(a,s){return"".concat(gc(a,s),"/blob.")}function T1(a,s,l,d){return d===void 0&&(d=0),"".concat(YM(a,s)).concat(l,".").concat(d)}Object.defineProperty(Jo.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(Jo.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(Jo.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(Jo.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(Jo.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),Jo.prototype.prev=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:if(!this.hasPrevious)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),a=this._prevValue,[4,(s=this)._backward()];case 2:return s._prevValue=d.sent()||null,this._nextValue=a,[3,4];case 3:return l=d.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},Jo.prototype.next=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:if(!this.hasNext)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),a=this._nextValue,[4,(s=this)._forward()];case 2:return s._nextValue=d.sent()||null,this._prevValue=a,[3,4];case 3:return l=d.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},Jo.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()};var mc,ki,xo,DJ=Jo,I1=(R1.prototype.findOptimizedStartPosition=function(){var a=this,s=["=","/eq",">",">=","/gt","/gte"],l=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var d=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var m=this._indexer.fields[p],g=1;if(m[0]==="-"&&(m=m.slice(1),g=-1),this.condition[m]){if(typeof this.condition[m]=="object"){var b,w=0<g?l:s;for(b in this.condition[m])if(w.includes(b)){for(var T=d;0<=T;T--)if(g*Xo(this._indexer.origin[T].columnValues[p],this.condition[m][b])<=0){d=T;break}}}else for(T=d;0<=T;T--)if(g*Xo(this._indexer.origin[T].columnValues[p],this.condition[m])<=0){d=T;break}}}return Math.min(d+1,this._indexer.origin.length-1)}var L=0;if(typeof this.condition!="function")for(var H=this,p=0;p<this._indexer.fields.length;p++)(function(ne){var se=H._indexer.fields[ne],Te=1;if(se[0]==="-"&&(se=se.slice(1),Te=-1),H.condition[se]){if(typeof H.condition[se]=="object")Object.keys(H.condition[se]).forEach(function(ae){if((0<Te?s:l).includes(ae)){for(var Ee=L;Ee<a._indexer.origin.length;Ee++)if(0<=Te*Xo(a._indexer.origin[Ee].columnValues[ne],a.condition[se][ae])){L=Ee;break}}});else for(var Q=L;Q<H._indexer.origin.length;Q++)if(0<=Te*Xo(H._indexer.origin[Q].columnValues[ne],H.condition[se])){L=Q;break}}})(p);return Math.max(L-1,0)},R1.prototype.each=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w=this;return F(this,function(T){switch(T.label){case 0:if(s=this.findOptimizedStartPosition(),l=0,this.backward&&this._indexer.origin[s]&&(l=this._indexer.origin[s].keys.length-1),d=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[++l]){if(!w._indexer.origin[++s])return!1;l=0}return!0}return!1},p=function(){if(w._indexer.origin[s]){if(!w._indexer.origin[s].keys[--l]){if(!w._indexer.origin[--s])return!1;l=w._indexer.origin[s].keys.length-1}return!0}return!1},m=null,!this._indexer.origin[s])return[3,4];g=this.backward?p:d,T.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])];case 2:if(b=T.sent(),fc(this.condition,b))return m=b,[3,4];T.label=3;case 3:if(g())return[3,1];T.label=4;case 4:return[4,new Promise(function(L){L=new DJ({initialNextValue:pa(m),iterator:a,forward:function(){return P(w,void 0,void 0,function(){var H,G;return F(this,function(ne){switch(ne.label){case 0:H=this.backward?p:d,ne.label=1;case 1:return H()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=ne.sent(),fc(this.condition,G)?[2,pa(G)]:[3,1];case 3:return[2,null]}})})},backward:function(){return P(w,void 0,void 0,function(){var H,G;return F(this,function(ne){switch(ne.label){case 0:H=this.backward?d:p,ne.label=1;case 1:return H()?[4,this._blockManager.getFromBlock(this._indexer.origin[s].keys[l])]:[3,3];case 2:return G=ne.sent(),fc(this.condition,G)?[2,pa(G)]:[3,1];case 3:return[2,null]}})})},complete:L}),a(L)})];case 5:return[2,T.sent()]}})})},R1),UJ=(A1.prototype.fetch=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:if(s=Math.max(a.offset||0,0),(l=typeof a.limit=="number"?a.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(l<0)throw dt.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),d=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return P(m,void 0,void 0,function(){return F(this,function(w){return!b.error&&b.hasNext?s===0?(d.push(b.nextValue),0<l&&l<=d.length?b.stop():b.next()):(s--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,d];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},A1.prototype.count=function(){return P(this,void 0,void 0,function(){var a,s,l=this;return F(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),a=0,[4,this._mutex.lock()];case 1:return d.sent(),[4,this._iterator.each(function(p){return P(l,void 0,void 0,function(){return F(this,function(m){return!p.error&&p.hasNext?(a++,p.next()):p.stop(),[2]})})})];case 2:return d.sent(),this._mutex.unlock(),[2,a];case 3:throw s=d.sent(),this._mutex.unlock(),s;case 4:return[2]}})})},A1),O1=function(a){return"".concat("nest","@").concat(a)},gc=function(a,s){return"".concat(O1(a),"/").concat(s)},LJ=(Zl.prototype._makeShards=function(a,s){var l=Math.max(this._store.itemSizeLimit-1024,0);if(0<l){for(var d=Math.ceil(a.data.length/l),d="".concat(d,".").concat(a.type,".").concat(s),p=[],m=0;m<a.data.length;m+=l){var g=a.data.slice(m,m+l);p.push(g)}return{blobId:d,shards:p}}return{blobId:null,shards:null}},Zl.prototype._encode=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l){var d=new FileReader;d.onload=function(){l({data:d.result,type:a.type})},d.readAsDataURL(a)})];case 1:return[2,s.sent()]}})})},Zl.prototype._decode=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(a.data)];case 1:return[4,b.sent().blob()];case 2:return[2,b.sent()];case 3:for(s=[],l=atob(a.data.split(",")[1]),d=0;d<l.length;d+=512){for(p=l.slice(d,d+512),m=new Array(p.length),g=0;g<p.length;g++)m[g]=p.charCodeAt(g);s.push(new Uint8Array(m))}return[2,new Blob(s,{type:a.type})]}})})},Zl.prototype.get=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:if(s=[],l=ir(a.split("."),2),d=l[0],l=l[1],!(0<(d=parseInt(d))))return[3,6];p=0,g.label=1;case 1:return p<d?(m=T1(this.dbname,this.collectionName,a,p),[4,this._store.get(m)]):[3,4];case 2:if(!(m=g.sent())||!m.d)throw dt.storeBrokenBlob;s.push(m.d),g.label=3;case 3:return p++,[3,1];case 4:return[4,this._decode({data:s.join(""),type:l})];case 5:return[2,g.sent()];case 6:return[2,null]}})})},Zl.prototype.save=function(a,s){return s===void 0&&(s="".concat(Date.now())),P(this,void 0,void 0,function(){var l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return l=[],[4,this._encode(a)];case 1:if(d=w.sent(),d=this._makeShards(d,s),p=d.blobId,m=d.shards,!p)return[3,3];for(g=0;g<m.length;g++)b=T1(this.dbname,this.collectionName,p,g),l.push({key:b,value:{d:m[g]},generation:1});return[4,this._store.setMany(l)];case 2:if(w.sent().some(function(T){return T instanceof Error}))throw dt.storeWriteFailed;return[2,p];case 3:return[2,null]}})})},Zl.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:if(s=[],l=ir(a.split("."),1),l=l[0],!(0<(d=parseInt(l))))return[3,2];for(p=0;p<d;p++)s.push(T1(this.dbname,this.collectionName,a,p));return[4,this._store.removeMany(s)];case 1:m.sent(),m.label=2;case 2:return[2]}})})},Zl.prototype.clear=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return a=YM(this.dbname,this.collectionName),s=[],[4,this._store.getAllKeys()];case 1:l=w.sent();try{for(d=Bn(l),p=d.next();!p.done;p=d.next())(m=p.value).startsWith(a)&&s.push(m)}catch(T){g={error:T}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[4,this._store.removeMany(l)];case 2:return w.sent(),[2]}})})},Zl);function Zl(d){var s=d.dbname,l=d.collectionName,d=d.store;this.dbname=s,this.collectionName=l,this._store=d}function A1(m){var s=m.condition,s=s===void 0?{}:s,l=m.backward,l=l!==void 0&&l,d=m.mutex,p=m.blockManager,m=m.indexer;this._mutex=d,this._iterator=new I1({condition:s,backward:l,blockManager:p,indexer:m})}function R1(p){var s=p.condition,l=p.backward,l=l!==void 0&&l,d=p.blockManager,p=p.indexer;this.condition=s===void 0?{}:s,this.backward=l,this._blockManager=d,this._indexer=p}function Jo(b){var s=b.initialPrevValue,l=b.initialNextValue,l=l===void 0?null:l,d=b.iterator,p=b.map,p=p===void 0?MJ:p,m=b.backward,m=m===void 0?WM:m,g=b.forward,g=g===void 0?WM:g,b=b.complete,b=b===void 0?Wm:b;this._prevValue=s===void 0?null:s,this._nextValue=l,this._error=null,this._map=p,this._backward=m,this._forward=g,this._iterator=d,this._complete=b}(Nr=mc=mc||{})[Nr.COMMIT=0]="COMMIT",Nr[Nr.WRITE=1]="WRITE",Nr[Nr.ERROR=2]="ERROR",(wt=ki=ki||{}).PENDING="pending",wt.PERSISTENT="persistent",wt.VOLATILE="volatile",(Jn=xo=xo||{})[Jn.NO_CACHE=0]="NO_CACHE",Jn[Jn.DEFAULT=1]="DEFAULT",Jn[Jn.PERSISTENT=2]="PERSISTENT";var XM=[ki.PENDING,ki.VOLATILE],Km={},ys=(el.get=function(a){return Km[a]},Object.defineProperty(el.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),el.prototype.find=function(a,s,l){return l===void 0&&(l=xo.DEFAULT),P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return(d=this.get(s))?[3,2]:[4,a.get(s)];case 1:return(p=m.sent())&&(d={key:s,value:p,generation:1,state:l===xo.PERSISTENT?ki.PERSISTENT:ki.VOLATILE},this.put(d)),[3,3];case 2:l===xo.PERSISTENT&&(d.state=ki.PERSISTENT),m.label=3;case 3:return[2,d]}})})},el.prototype.get=function(l,s){s===void 0&&(s=xo.DEFAULT);var l=this._items.map(function(d){return d.key}).indexOf(l);return-1<l?(l=this._items[l],s===xo.PERSISTENT&&(l.state=ki.PERSISTENT),s!==xo.NO_CACHE&&this.put(l),l):null},el.prototype.put=function(a){var s,l;if(0<this._limit){var d=this._items.map(function(T){return T.key}).indexOf(a.key);if(-1<d)XM.includes(this._items[d].state)&&XM.includes(a.state)?(this._items.splice(d,1),this._items.push(a)):(this._items[d].state=a.state,this._items[d].generation=a.generation,this._items[d].value=a.value);else{this._items.push(a);var p=this._items.filter(function(T){return T.state===ki.VOLATILE}).length-this._limit;if(0<p){var m=[];try{for(var g=Bn(this._items),b=g.next();!b.done;b=g.next()){var w=b.value;w.state===ki.VOLATILE&&0<p?p--:m.push(w)}}catch(T){s={error:T}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}this._items=m}}}},el.prototype.remove=function(a){a=this._items.map(function(s){return s.key}).indexOf(a),-1<a&&this._items.splice(a,1)},el.prototype.clearByCondition=function(a){this._items=this._items.filter(function(s){return!a(s)})},el.prototype.clear=function(a){this._items=(a=a===void 0?!1:a)?[]:this._items.filter(function(s){return s.state!==ki.VOLATILE})},el),PJ=(Object.defineProperty(Es.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(Es.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),Es.prototype._getReducedRecordset=function(a){return a===void 0&&(a=[]),P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(s=l.sent()||[]).push.apply(s,wr([],ir(a),!1)),[2,this._reduceRecordSet(s)]}})})},Es.prototype._reduceRecordSet=function(a){for(var s=[],l={},d=a.length-1;0<=d;d--){for(var p=a[d],m=[],g=p.requests.length-1;0<=g;g--){var b=p.requests[g],w=b.data;l[w.key]||(m.unshift(b),l[w.key]=!0)}0<m.length&&(p.requests=m,s.unshift(p))}return s},Es.prototype._applyRecord=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w,T;return F(this,function(L){switch(L.label){case 0:l=ys.get(this.dbname),d=s.generation,p=s.requests,m=null,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(H){return pe(pe({},H.data),{generation:d})}))];case 2:for(g=L.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(m=m||g[b],w=p[b].data,l.put(pe(pe({},w),{generation:d,state:ki.PERSISTENT})));return[3,4];case 3:return T=L.sent(),m=T,[3,4];case 4:return m?[3,6]:(T=a.filter(function(H){return H.generation!==d}),[4,this._store.set({key:this.recordsetKey,value:T,generation:d})]);case 5:return L.sent(),this._onWrite.forEach(function(H){H(p.map(function(G){return G.data}))}),[3,7];case 6:this._onError.forEach(function(H){return H(m)}),L.label=7;case 7:return[2]}})})},Es.prototype.init=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:return[4,(a=this)._store.get(this.metadataKey)];case 1:return a._metadata=b.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:s=b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),l=Bn(s),d=l.next(),b.label=4;case 4:return d.done?[3,7]:(p=d.value,[4,this._applyRecord(s,p)]);case 5:b.sent(),b.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),m={error:p},[3,10];case 9:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(m)throw m.error}return[7];case 10:return[2]}})})},Es.prototype.on=function(a,s,l){switch(a){case mc.COMMIT:this._onCommit.set(s,l);break;case mc.WRITE:this._onWrite.set(s,l);break;case mc.ERROR:this._onError.set(s,l)}},Es.prototype.requestWrite=function(a,s){this._requests.push({data:a,options:s=s===void 0?null:s}),ys.get(this.dbname).put(pe({state:ki.PENDING,generation:this.generation},a))},Es.prototype.requestMultipleWrite=function(a,s){s===void 0&&(s=null);var l,d,p=ys.get(this.dbname);try{for(var m=Bn(a),g=m.next();!g.done;g=m.next()){var b=g.value;this._requests.push({data:b,options:s}),p.put(pe({state:ki.PENDING,generation:this.generation},b))}}catch(w){l={error:w}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}},Es.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return ys.get(this.dbname).clearByCondition(function(s){return s.state===ki.PENDING}),this._requests=[],[2]})})},Es.prototype.commit=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,T,L,H=this;return F(this,function(G){switch(G.label){case 0:if(!(0<(a=this._requests).length))return[3,4];for(s=[],l={},b=a.length-1;0<=b;b--)d=a[b],w=d.data,l[w.key]||(l[w.key]=!0,s.unshift(d));return p={generation:this.generation,requests:s},[4,this._getReducedRecordset([p])];case 1:return m=G.sent(),[4,this._store.set({key:this.recordsetKey,value:m,generation:this.generation})];case 2:return G.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(G.sent(),g=ys.get(this.dbname),b=0;b<s.length;b++)T=s[b],w=T.data,T=T.options,g.put(pe(pe({},w),{generation:p.generation,state:T&&T.persistent?ki.PERSISTENT:ki.VOLATILE}));this._requests=[],this._onCommit.forEach(function(ne){ne(a.map(function(se){return se.data}))}),L=zm.get(this.dbname),setTimeout(function(){try{H._applyRecord(m,p)}catch(ne){H._onError.forEach(function(se){return se(ne)})}},L.transactionApplyDelay),G.label=4;case 4:return[2]}})})},Es),Qm=(Ks.createFromCacheItem=function(a){return a?new Ks(a.value):null},Object.defineProperty(Ks.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Ks.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Ks.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},Ks.prototype.getItemByKey=function(a){var s=this;return this._items.find(function(l){return l=l[s.keyName],a===l})},Ks.prototype.has=function(a){var s=this;return this._items.map(function(l){return l[s.keyName]}).includes(a)},Ks.prototype.add=function(a){var s=this,l=this._items.map(function(d){return d[s.keyName]}).indexOf(a[this.keyName]);return l<0?this._items.length<this.limit&&(this._items.push(a),!0):(this._items[l]=a,!0)},Ks.prototype.remove=function(a){for(var s in this._items)if(this._items[s][this.keyName]===a)return this._items.splice(parseInt(s),1),!0;return!1},Ks.prototype.clear=function(){this._items=[]},Ks),FJ=(Object.defineProperty(nu.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),nu.prototype.createBlockId=function(a,s){return s===void 0&&(s=this.metadata.blockLevel),l=this.dbname,d=this.collectionName,p=s,a="".concat(function(m,g,b){return g=b.base*Math.pow(b.multiplier,g)+b.constant,(b.hashFunction||QM)(m,g)}(a,s,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(N1(l,d)).concat(p,".").concat(a);var l,d,p},nu.prototype._findBlock=function(a){return P(this,void 0,void 0,function(){var s,l,d,p;return F(this,function(m){switch(m.label){case 0:s=ys.get(this.dbname),l=this.metadata.blockLevel,m.label=1;case 1:return 0<l?(d=this.createBlockId(a,l),[4,s.find(this._store,d)]):[3,4];case 2:if((d=m.sent())&&(p=Qm.createFromCacheItem(d)).getItemByKey(a))return[2,p];m.label=3;case 3:return l--,[3,1];case 4:return[2,null]}})})},nu.prototype.getFromBlock=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return[2,(s=l.sent())?s.getItemByKey(a):null]}})})},nu.prototype.putToBlock=function(a,s){return P(this,void 0,void 0,function(){var l,d,p;return F(this,function(m){switch(m.label){case 0:return d=zm.get(this.dbname),l=this.createBlockId(a),d=Math.floor(this._store.itemSizeLimit/d.itemSizeLimit),[4,ys.get(this.dbname).find(this._store,l)];case 1:return p=m.sent(),(p=p?Qm.createFromCacheItem(p):new Qm({blockId:l,keyName:this.keyName,items:[],limit:d})).add(s)?(this._transaction.requestWrite({key:p.blockId,value:p.serialize()}),[2,!0]):[2,!1]}})})},nu.prototype.removeFromBlock=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._findBlock(a)];case 1:return(s=l.sent())&&s.remove(a)?(this._transaction.requestWrite({key:s.blockId,value:s.serialize()}),[2,!0]):[2,!1]}})})},nu.prototype.clearAllBlocks=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return a=N1(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return s=w.sent(),s=s.filter(function(T){return T.startsWith(a)}),[4,this._store.removeMany(s)];case 2:w.sent(),l=ys.get(this.dbname);try{for(d=Bn(s),p=d.next();!p.done;p=d.next())m=p.value,l.remove(m)}catch(T){g={error:T}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[2]}})})},nu),eu=(Ci.createKey=function(a){return a.join(">")},Ci.parseKey=function(a){return a.split(">")},Ci.prototype._addItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),d=ir(this.indexOf(l),2),p=d[0];return d[1]?!this._table[p].keys.includes(s)&&(this._table[p].keys.push(s),!0):(this._table.splice(p,0,{columnValues:l,keys:[s]}),!0)},Ci.prototype._removeItem=function(l){var s=l[this.keyName],l=this.getColumnValues(l),l=ir(this.indexOf(l),2),d=l[0];return l[1]&&(l=this._table[d].keys.indexOf(s),-1<l)?(this._table[d].keys.splice(l,1),this._table[d].keys.length===0&&this._table.splice(d,1),!0):!1},Object.defineProperty(Ci.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(Ci.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),Ci.prototype.getColumnValues=function(a){var s,l,d=[];try{for(var p=Bn(this.fields),m=p.next();!m.done;m=p.next()){var g,b=m.value,w=a[b=b[0]==="-"?b.slice(1):b];if(g=typeof w,w!==null&&g!="undefined"&&g!="boolean"&&g!="number"&&g!="string")throw dt.indexTypesNotMatch;d.push(a[b])}}catch(T){s={error:T}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d},Ci.prototype.diff=function(a,s){for(var l in this.fields){var d=this.fields[l][0]==="-"?-1:1,l=Xo(a[l],s[l]);if(l!==0)return d*l}return 0},Ci.prototype.indexOf=function(a){if(0<this._table.length){for(var s=0,l=this._table.length-1;s<=l;){var d=Math.floor((s+l)/2),p=this.diff(a,this._table[d].columnValues);if(0<p)s=d+1;else{if(!(p<0))return[d,!0];l=d-1}}return[s,!1]}return[0,!1]},Ci.prototype.ensure=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,T,L,H,G,ne,se;return F(this,function(Te){switch(Te.label){case 0:return[4,(a=ys.get(this.dbname)).find(this._store,this.indexerKey,xo.PERSISTENT)];case 1:return(s=Te.sent())?[3,11]:(l=N1(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:d=Te.sent(),Te.label=3;case 3:Te.trys.push([3,8,9,10]),p=Bn(d),m=p.next(),Te.label=4;case 4:return m.done?[3,7]:(g=m.value).startsWith(l)?[4,a.find(this._store,g,xo.NO_CACHE)]:[3,6];case 5:g=Te.sent(),L=Qm.createFromCacheItem(g);try{for(ne=void 0,b=Bn(L.items),w=b.next();!w.done;w=b.next())T=w.value,this._addItem(T)}catch(Q){ne={error:Q}}finally{try{w&&!w.done&&(se=b.return)&&se.call(b)}finally{if(ne)throw ne.error}}Te.label=6;case 6:return m=p.next(),[3,4];case 7:return[3,10];case 8:return L=Te.sent(),H={error:L},[3,10];case 9:try{m&&!m.done&&(G=p.return)&&G.call(p)}finally{if(H)throw H.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=s.value,this._table=pa(this._origin),Te.label=12;case 12:return[2]}})})},Ci.prototype.drop=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return ys.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return a.sent(),[2]}})})},Ci.prototype.addItem=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._addItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},Ci.prototype.removeItem=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return this._removeItem(a)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},Ci.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},Ci.prototype.commit=function(){this._origin=this._table,this._table=pa(this._origin)},Ci.prototype.abort=function(){this._table=pa(this._origin)},Ci),Zo=typeof document<"u"&&typeof navigator<"u";function Ci(g){var s=g.dbname,l=g.collectionName,d=g.keyName,p=g.fields,m=g.transaction,g=g.store,b=this;this._origin=[],this._table=[],this.dbname=s,this.collectionName=l,this.keyName=d,this.fields=p,this.indexerKey=(s=this.dbname,l=this.collectionName,d=this.fields.join(">"),"".concat(gc(s,l),"/index.").concat(d)),this._transaction=m,this._store=g,this._transaction.on(mc.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(mc.ERROR,this.indexerKey,function(){return b.abort()})}function nu(g){var s=g.dbname,l=g.collectionName,d=g.metadata,p=g.hashFunction,p=p===void 0?QM:p,m=g.transaction,g=g.store;this.dbname=s,this.collectionName=l,this.hashFunction=p,this.metadata=d,this._transaction=m,this._store=g}function Ks(p){var s=p.blockId,l=p.keyName,d=p.items,d=d===void 0?[]:d,p=p.limit;this.blockId=s,this.keyName=l,this.limit=p,this._items=wr([],ir(d),!1)}function Es(d){var s=d.dbname,l=d.collectionName,d=d.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=s,this.collectionName=l,this.metadataKey="".concat(gc(s,l),"/trans.metadata"),this.recordsetKey="".concat(gc(s,l),"/trans.recordset"),this._store=d}function el(l){var s=l.dbname,l=l.limit,l=l===void 0?256:l;return Km[s]||(this.dbname=s,this._items=[],this._limit=l,Km[s]=this),Km[s]}Zo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var HJ=Zo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Zo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Zo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Zo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");function JM(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(s==="x"?l:3&l|8).toString(16)})}var Xp,Si,qJ=Zo&&navigator.userAgent&&navigator.userAgent.includes("Edge/");(nt=Xp=Xp||{})[nt.PROCESSING=0]="PROCESSING",nt[nt.DONE=1]="DONE",(tr=Si=Si||{}).NEWNODE="newnode",tr.REMOVENODE="removenode",tr.CLAIM_HOST="claimhost",tr.SYNC_HOST="synchost",tr.REQUEST_LOCK="requestlock",tr.ACQUIRE_LOCK="acquirelock",tr.RELEASE_LOCK="releaselock";var nl,M1={},ZM=(Object.defineProperty(ji.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(ji.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(ji.prototype,"isInSync",{get:function(){return this._state==Xp.DONE},enumerable:!1,configurable:!0}),ji.prototype._send=function(d,s){var l,d={nodeId:this.nodeId,requestId:(l=(s=s===void 0?{}:s)==null?void 0:s.requestId)!=null?l:JM(),key:this.key,op:d,data:(l=s.data)!=null?l:null,ts:Date.now()};return Zo&&window.postMessage(d,"*"),d},ji.prototype._acquire=function(a){(a=a===void 0?null:a)?(this._currentItem=a,this._currentItem.onAcquired(a.requestId)):this._currentItem=null},ji.prototype._release=function(a){var s,l;this._currentItem&&this._currentItem.requestId===a&&(s=this._currentItem,this._currentItem=null,s.nodeId===this.nodeId&&this._send(Si.RELEASE_LOCK,{requestId:s.requestId}),-1<(l=this._queue.findIndex(function(d){return d.requestId===a}))&&this._queue.splice(l,1),s.onReleased(a))},ji.prototype._requestLock=function(a){var s=this;return new Promise(function(l){var d,p={nodeId:a.nodeId,requestId:a.requestId,ts:a.ts,onAcquired:function(g){s.isHost&&s._send(Si.ACQUIRE_LOCK,{requestId:g}),l()},onReleased:function(){s._acquire(s._queue[0])}},m=!1;for(d in s._queue)if(s._queue[d].ts>p.ts){s._queue.splice(parseInt(d),0,p),m=!0;break}m||s._queue.push(p),s._currentItem||s._acquire(s._queue[0])})},ji.prototype._sendSync=function(){var a;this.isHost&&this._send(Si.SYNC_HOST,{data:{currentItemRequestId:(a=this._currentItem)==null?void 0:a.requestId,queue:this._queue.map(function(s){return{nodeId:s.nodeId,requestId:s.requestId,ts:s.ts}})}})},ji.prototype._waitUntilSyncCompleted=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){return this.isHost&&!this.isInSync?[2,new Promise(function(l){a._activationQueue.push(l)})]:[2]})})},ji.prototype._waitSync=function(){var a=this;this.isInSync||(this._activationTimeout=setTimeout(function(){a._completeSync()},8))},ji.prototype._completeSync=function(){this.isInSync||(this._state=Xp.DONE,this._activationQueue.forEach(function(a){return a()}),this._activationQueue=[])},ji.prototype.registerNode=function(){this._send(Si.NEWNODE),this._waitSync()},ji.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Si.CLAIM_HOST),this._waitSync()},ji.prototype.lock=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return s.sent(),a=this._send(Si.REQUEST_LOCK),[4,this._requestLock(a)];case 2:return s.sent(),[2]}})})},ji.prototype.unlock=function(){var a;this._release((a=this._currentItem)==null?void 0:a.requestId)},ji),D1=($t.metadataOf=function(a,s,l){return P(this,void 0,void 0,function(){var d;return F(this,function(p){switch(p.label){case 0:return d=S1(a,s),[4,l.get(d)];case 1:return[2,p.sent()]}})})},Object.defineProperty($t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty($t.prototype,"isReady",{get:function(){return this._state===Hd.READY},enumerable:!1,configurable:!0}),$t.prototype.init=function(){return P(this,void 0,void 0,function(){var a,s,l,d,p,m,g,b,w,T,L,H,G,ne=this;return F(this,function(se){switch(se.label){case 0:return[4,this._mutex.lock()];case 1:se.sent(),se.label=2;case 2:return se.trys.push([2,9,,10]),a=zm.get(this.dbname),[4,$t.metadataOf(this.dbname,this.name,this._store)];case 3:return s=se.sent(),this._metadata=s||{keyName:this.keyName,blockLevel:1,blockHashBase:a.blockHashBase,blockHashMultiplier:a.blockHashMultiplier,blockHashConstant:a.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:se.sent(),this._blockManager=new FJ({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),l=wr([],ir(this.indexes),!1),d=[],p=l.map(function(Te){return eu.createKey(Te)}),m=s?s.indexes.map(function(Te){return eu.createKey(Te)}):[];try{for(g=Bn(m),b=g.next();!b.done;b=g.next())w=b.value,p.includes(w)||d.push(eu.parseKey(w))}catch(Te){H={error:Te}}finally{try{b&&!b.done&&(G=g.return)&&G.call(g)}finally{if(H)throw H.error}}return(T=[]).push.apply(T,wr([],ir(l.map(function(Te){return Te=new eu({dbname:ne.dbname,collectionName:ne.name,keyName:ne.keyName,fields:Te,transaction:ne._transaction,store:ne._store}),ne._indexers.push(Te),Te.ensure()})),!1)),T.push.apply(T,wr([],ir(d.map(function(Te){return new eu({dbname:ne.dbname,collectionName:ne.name,keyName:ne.keyName,fields:Te,transaction:ne._transaction,store:ne._store}).drop()})),!1)),[4,Promise.all(T)];case 5:return se.sent(),[4,this._transaction.commit()];case 6:return se.sent(),p.sort().join(",")===m.sort().join(",")?[3,8]:(T=S1(this.dbname,this.name),this._metadata.indexes=l,[4,this._store.set({key:T,value:this._metadata,generation:1})]);case 7:se.sent(),se.label=8;case 8:return this._state=Hd.READY,this._mutex.unlock(),[3,10];case 9:throw L=se.sent(),this._mutex.unlock(),L;case 10:return[2]}})})},$t.prototype.close=function(){this._state=Hd.CLOSED},$t.prototype._hasPropertyOfKeyName=function(a){return a=a[this.keyName],typeof a=="string"&&!!a},$t.prototype._getIndexerBy=function(a){a=(a=a===void 0?null:a)||[this.keyName];var s,l,d=eu.createKey(a);try{for(var p=Bn(this._indexers),m=p.next();!m.done;m=p.next()){var g=m.value;if(d===eu.createKey(g.fields))return g}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return null},$t.prototype._upgradeBlockLevel=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return a=S1(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:a,value:this._metadata,generation:1})];case 1:return s.sent(),[2]}})})},$t.prototype._requestInsert=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return g.sent()?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return g.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return g.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:g.sent(),g.label=5;case 5:g.trys.push([5,10,11,12]),l=Bn(this._indexers),d=l.next(),g.label=6;case 6:return d.done?[3,9]:[4,d.value.addItem(a)];case 7:g.sent(),g.label=8;case 8:return d=l.next(),[3,6];case 9:return[3,12];case 10:return p=g.sent(),p={error:p},[3,12];case 11:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 12:return[3,14];case 13:throw dt.collectionInsertDuplicate;case 14:return[2]}})})},$t.prototype._requestUpsert=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L,H;return F(this,function(G){switch(G.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=G.sent())?[3,13]:[4,this._blockManager.putToBlock(s,a)];case 2:return G.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return G.sent(),[4,this._blockManager.putToBlock(s,a)];case 4:G.sent(),G.label=5;case 5:G.trys.push([5,10,11,12]),d=Bn(this._indexers),p=d.next(),G.label=6;case 6:return p.done?[3,9]:[4,(b=p.value).addItem(a)];case 7:G.sent(),G.label=8;case 8:return p=d.next(),[3,6];case 9:return[3,12];case 10:return w=G.sent(),w={error:w},[3,12];case 11:try{p&&!p.done&&(T=d.return)&&T.call(d)}finally{if(w)throw w.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(s,a)];case 14:G.sent(),G.label=15;case 15:G.trys.push([15,21,22,23]),m=Bn(this._indexers),g=m.next(),G.label=16;case 16:return g.done?[3,20]:(b=g.value).diff(b.getColumnValues(l),b.getColumnValues(a))===0?[3,19]:[4,b.removeItem(l)];case 17:return G.sent(),[4,b.addItem(a)];case 18:G.sent(),G.label=19;case 19:return g=m.next(),[3,16];case 20:return[3,23];case 21:return L=G.sent(),L={error:L},[3,23];case 22:try{g&&!g.done&&(H=m.return)&&H.call(m)}finally{if(L)throw L.error}return[7];case 23:return[2]}})})},$t.prototype._requestUpdate=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return s=a[this.keyName],[4,this._blockManager.getFromBlock(s)];case 1:return(l=w.sent())?[4,this._blockManager.putToBlock(s,a)]:[3,11];case 2:w.sent(),w.label=3;case 3:w.trys.push([3,9,10,11]),d=Bn(this._indexers),p=d.next(),w.label=4;case 4:return p.done?[3,8]:(m=p.value).diff(m.getColumnValues(l),m.getColumnValues(a))===0?[3,7]:[4,m.removeItem(l)];case 5:return w.sent(),[4,m.addItem(a)];case 6:w.sent(),w.label=7;case 7:return p=d.next(),[3,4];case 8:return[3,11];case 9:return g=w.sent(),g={error:g},[3,11];case 10:try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}return[7];case 11:return[2]}})})},$t.prototype._requestRemove=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return[4,this._blockManager.getFromBlock(a)];case 1:return(s=g.sent())?[4,this._blockManager.removeFromBlock(a)]:[3,10];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,8,9,10]),l=Bn(this._indexers),d=l.next(),g.label=4;case 4:return d.done?[3,7]:[4,d.value.removeItem(s)];case 5:g.sent(),g.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return p=g.sent(),p={error:p},[3,10];case 9:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 10:return[2]}})})},$t.prototype._requestClear=function(){return P(this,void 0,void 0,function(){var a,s,l,d;return F(this,function(p){switch(p.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:p.sent(),p.label=2;case 2:p.trys.push([2,7,8,9]),a=Bn(this._indexers),s=a.next(),p.label=3;case 3:return s.done?[3,6]:[4,s.value.clear()];case 4:p.sent(),p.label=5;case 5:return s=a.next(),[3,3];case 6:return[3,9];case 7:return l=p.sent(),l={error:l},[3,9];case 8:try{s&&!s.done&&(d=a.return)&&d.call(a)}finally{if(l)throw l.error}return[7];case 9:return[2]}})})},$t.prototype.getByKey=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(a)];case 3:return s=l.sent(),this._mutex.unlock(),[2,pa(s)];case 4:throw s=l.sent(),this._mutex.unlock(),s;case 5:return[3,7];case 6:throw dt.collectionNotReady;case 7:return[2]}})})},$t.prototype.query=function(a){return a===void 0&&(a={}),this.isReady?new UJ({condition:a.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(a.index),backward:!!a.backward}):null},$t.prototype.insertOne=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestInsert(pa(a))];throw dt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw dt.collectionNotReady;case 9:return[2]}})})},$t.prototype.insertMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b=this;return F(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(T){return!b._hasPropertyOfKeyName(T)}))throw dt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=Bn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(d=l.value,[4,this._requestInsert(pa(d))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return d=w.sent(),m={error:d},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw dt.collectionNotReady;case 16:return[2]}})})},$t.prototype.upsertOne=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpsert(pa(a))];throw dt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw dt.collectionNotReady;case 9:return[2]}})})},$t.prototype.upsertMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b=this;return F(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),a.some(function(T){return!b._hasPropertyOfKeyName(T)}))throw dt.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),s=Bn(a),l=s.next(),w.label=4;case 4:return l.done?[3,7]:(d=l.value,[4,this._requestUpsert(pa(d))]);case 5:w.sent(),w.label=6;case 6:return l=s.next(),[3,4];case 7:return[3,10];case 8:return d=w.sent(),m={error:d},[3,10];case 9:try{l&&!l.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,a];case 12:return p=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),p;case 14:return[3,16];case 15:throw dt.collectionNotReady;case 16:return[2]}})})},$t.prototype.update=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),this._hasPropertyOfKeyName(a))return[4,this._requestUpdate(pa(a))];throw dt.collectionKeyNotGiven;case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,a];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw dt.collectionNotReady;case 9:return[2]}})})},$t.prototype.updateIf=function(a,s){return P(this,void 0,void 0,function(){var l,d,p,m,g,b,w,T,L,H=this;return F(this,function(G){switch(G.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:G.sent(),G.label=2;case 2:return G.trys.push([2,13,,15]),b=a.where,l=b===void 0?{}:b,b=a.index,b=b===void 0?null:b,g=a.backward,g=g!==void 0&&g,d=[],[4,new I1({condition:l,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(b)}).each(function(ne){return P(H,void 0,void 0,function(){var se,Te;return F(this,function(Q){if(ne.error)throw ne.stop(),ne.error;if(ne.hasNext){if(se=ne.nextValue,fc(l,se)&&s.set){if(typeof s.set!="function")for(Te in s.set)se[Te]=s.set[Te];else s.set(se);d.push(se)}ne.next()}else ne.stop();return[2]})})})];case 3:G.sent(),G.label=4;case 4:G.trys.push([4,9,10,11]),p=Bn(d),m=p.next(),G.label=5;case 5:return m.done?[3,8]:(g=m.value,[4,this._requestUpdate(pa(g))]);case 6:G.sent(),G.label=7;case 7:return m=p.next(),[3,5];case 8:return[3,11];case 9:return b=G.sent(),T={error:b},[3,11];case 10:try{m&&!m.done&&(L=p.return)&&L.call(p)}finally{if(T)throw T.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return G.sent(),this._mutex.unlock(),[2,d];case 13:return w=G.sent(),[4,this._transaction.clear()];case 14:throw G.sent(),this._mutex.unlock(),w;case 15:return[3,17];case 16:throw this._transaction.clear(),dt.collectionNotReady;case 17:return[2]}})})},$t.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this._requestRemove(a)];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[3,7];case 5:return s=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw dt.collectionNotReady;case 9:return[2]}})})},$t.prototype.removeIf=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L=this;return F(this,function(H){switch(H.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:H.sent(),H.label=2;case 2:return H.trys.push([2,13,,14]),g=a.where,s=g===void 0?{}:g,g=a.index,g=g===void 0?null:g,m=a.backward,m=m!==void 0&&m,l=[],[4,new I1({condition:s,blockManager:this._blockManager,backward:m,indexer:this._getIndexerBy(g)}).each(function(G){return P(L,void 0,void 0,function(){var ne;return F(this,function(se){if(G.error)throw G.stop(),G.error;return G.hasNext?(ne=G.nextValue,fc(s,ne)&&(ne=ne[this.keyName],l.push(ne)),G.next()):G.stop(),[2]})})})];case 3:H.sent(),H.label=4;case 4:H.trys.push([4,9,10,11]),d=Bn(l),p=d.next(),H.label=5;case 5:return p.done?[3,8]:(m=p.value,[4,this._requestRemove(m)]);case 6:H.sent(),H.label=7;case 7:return p=d.next(),[3,5];case 8:return[3,11];case 9:return g=H.sent(),w={error:g},[3,11];case 10:try{p&&!p.done&&(T=d.return)&&T.call(d)}finally{if(w)throw w.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return H.sent(),this._mutex.unlock(),[2,l];case 13:throw b=H.sent(),this._mutex.unlock(),b;case 14:return[3,16];case 15:throw this._transaction.clear(),dt.collectionNotReady;case 16:return[2]}})})},$t.prototype.clear=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return s.sent(),[4,this._transaction.commit()];case 4:return s.sent(),this._mutex.unlock(),[3,7];case 5:return a=s.sent(),[4,this._transaction.clear()];case 6:throw s.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw dt.collectionNotReady;case 9:return[2]}})})},$t.prototype.getBlob=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.get(a)];case 1:return[2,s.sent()]}})})},$t.prototype.saveBlob=function(a,s){return s===void 0&&(s=null),P(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.save(a,s)];case 1:return[2,l.sent()]}})})},$t.prototype.removeBlob=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.remove(a)];case 1:return s.sent(),[2]}})})},$t.prototype.removeAllBlobs=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._blobContainer.clear()];case 1:return a.sent(),[2]}})})},$t),Ra={},Ym=(Object.defineProperty(Ys.prototype,"rawData",{get:function(){return Ra[this.dbname]},set:function(a){Ra[this.dbname]=a},enumerable:!1,configurable:!0}),Ys.prototype.observe=function(a,s,l){var d=this;this.observer[a]={},s.forEach(function(p){return d.observer[a][p]=l})},Ys.prototype.init=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:this.dbname=a,Ra[this.dbname]={},l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(yi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(yi.value))throw dt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(yi)];case 4:return l.sent(),[7];case 5:return[2]}})})},Ys.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){return F(this,function(a){return[2,Object.keys(Ra[this.dbname]).filter(function(s){return s!==yi.key})]})})},Ys.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,qd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.get?s.get(a):null)throw s;return[2,Ra[this.dbname][a]?this._encryption.decrypt(Ra[this.dbname][a]):null]}})})},Ys.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l,d;return F(this,function(p){switch(p.label){case 0:return[4,qd(this.delay)];case 1:if(p.sent(),s=a.key,d=a.value,l=this.observer[s],l=l&&l.set?l.set(s):null)throw l;if(l=this._encryption.encrypt(d),d=JSON.stringify(l),s===yi.key||d.length<this.itemSizeLimit)return Ra[this.dbname][s]=l,[2,Ra[this.dbname][s]];throw dt.storeItemSizeExceeded}})})},Ys.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l=this;return F(this,function(d){switch(d.label){case 0:return[4,qd(this.delay)];case 1:return d.sent(),s=[],a.forEach(function(b){var m,g=b.key,b=b.value,w=l.observer[g];w&&w.set&&w.set(g)?s.push(dt.collectionWriteFailed):(w=l._encryption.encrypt(b),m=JSON.stringify(w),g===yi.key||m.length<l.itemSizeLimit?(Ra[l.dbname][g]=w,s.push(b)):s.push(dt.storeItemSizeExceeded))}),[2,s]}})})},Ys.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,qd(this.delay)];case 1:if(l.sent(),s=this.observer[a],s=s&&s.remove?s.remove(a):null)throw s;return Ra[this.dbname][a]&&delete Ra[this.dbname][a],[2,a]}})})},Ys.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b;return F(this,function(w){switch(w.label){case 0:return[4,qd(this.delay)];case 1:w.sent();try{for(s=Bn(a),l=s.next();!l.done;l=s.next()){if(d=l.value,p=this.observer[d],m=p&&p.remove?p.remove(d):null)throw m;Ra[this.dbname][d]&&delete Ra[this.dbname][d]}}catch(T){g={error:T}}finally{try{l&&!l.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}}return[2,a]}})})},Ys.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,qd(this.delay)];case 1:return a.sent(),Ra[this.dbname]={},[2]}})})},Ys),BJ=(tl.prototype.init=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return this.dbname=a,[4,new Promise(function(m,g){var b;d._window&&Zo?HJ?((b=d._indexedDB.open("_testMozilla")).onerror=function(){return g(dt.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return m()}):qJ?d._window.indexedDB||!d._window.PointerEvent&&!d._window.MSPointerEvent||g(dt.storeNotAvailableInPrivateBrowsing):m():g(dt.storeNotAvailable)})];case 1:return p.sent(),s=this,[4,new Promise(function(m,g){var b=d._indexedDB.open(a);b.addEventListener("upgradeneeded",function(w){w.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(w){return m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 2:s._database=p.sent(),p.label=3;case 3:return p.trys.push([3,,5,7]),[4,this.get(yi.key)];case 4:if((l=p.sent())&&JSON.stringify(l)!==JSON.stringify(yi.value))throw dt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(yi)];case 6:return p.sent(),[7];case 7:return[2]}})})},tl.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,d){var p=a._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();p.addEventListener("success",function(m){l(m.target.result.filter(function(g){return g!==yi.key}))}),p.addEventListener("error",function(m){return d(m.target.error)})})];case 1:return[2,s.sent()]}})})},tl.prototype.get=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,new Promise(function(d,p){var m=s._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(a);m.addEventListener("success",function(g){return d(g.target.result?s._encryption.decrypt(g.target.result.value):null)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},tl.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return s=a.key,l=a.value,[4,new Promise(function(m,g){var b=d._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:s,value:d._encryption.encrypt(l)});b.addEventListener("success",function(w){m(w.target.result)}),b.addEventListener("error",function(w){return g(w.target.error)})})];case 1:return p.sent(),[2,l]}})})},tl.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return s=[],l=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),a.forEach(function(m){var g=m.key,b=m.value;s.push(new Promise(function(w){var T=l.put({key:g,value:d._encryption.encrypt(b)});T.addEventListener("success",function(L){w(L.target.result)}),T.addEventListener("error",function(){w(dt.collectionWriteFailed)})}))}),[4,Promise.all(s)];case 1:return p.sent(),[2,a.map(function(m){return m.value})]}})})},tl.prototype.remove=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,new Promise(function(d,p){var m=s._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(a);m.addEventListener("success",function(){return d(a)}),m.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},tl.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return s=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(a.map(function(d){return new Promise(function(p,m){var g=s.delete(d);g.addEventListener("success",function(){return p(d)}),g.addEventListener("error",function(b){return m(b.target.error)})})}))];case 1:return[2,l.sent()]}})})},tl.prototype.clear=function(){return P(this,void 0,void 0,function(){var a=this;return F(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l,d){var p=a._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();p.addEventListener("success",function(){return l()}),p.addEventListener("error",function(m){return d(m.target.error)})})];case 1:return[2,s.sent()]}})})},tl),GJ=(Qs.prototype._isBelonging=function(a){return a.startsWith("".concat(this.dbname,"/"))},Qs.prototype._getActualKey=function(a){return"".concat(this.dbname,"/").concat(a)},Qs.prototype.init=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:this.dbname=a,l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(yi.key)];case 2:if((s=l.sent())&&JSON.stringify(s)!==JSON.stringify(yi.value))throw dt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(yi)];case 4:return l.sent(),[7];case 5:return[2]}})})},Qs.prototype.getAllKeys=function(){return P(this,void 0,void 0,function(){var a,s=this;return F(this,function(l){switch(l.label){case 0:return a=this._getActualKey(yi.key),[4,this._asyncStorage.getAllKeys()];case 1:return[2,l.sent().filter(function(d){return s._isBelonging(d)&&d!==a}).map(function(d){return d.substring("".concat(s.dbname,"/").length)})]}})})},Qs.prototype.get=function(a){return P(this,void 0,void 0,function(){var s;return F(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(a))];case 1:return[2,(s=l.sent())?this._encryption.decrypt(JSON.parse(s)):null]}})})},Qs.prototype.set=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=a.key,l=a.value,l=JSON.stringify(this._encryption.encrypt(l)),s===yi.key||l.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(s),l)]:[3,2];case 1:return d.sent(),[2,JSON.parse(l)];case 2:throw dt.storeItemSizeExceeded}})})},Qs.prototype.setMany=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m,g,b,w,T,L;return F(this,function(H){switch(H.label){case 0:s=[],l=[];try{for(d=Bn(a),p=d.next();!p.done;p=d.next()){m=p.value;try{g=m.key,b=m.value,w=JSON.stringify(this._encryption.encrypt(b)),g===yi.key||w.length<this.itemSizeLimit?(l.push([this._getActualKey(g),w]),s.push(b)):s.push(dt.storeItemSizeExceeded)}catch{s.push(dt.collectionWriteFailed)}}}catch(G){T={error:G}}finally{try{p&&!p.done&&(L=d.return)&&L.call(d)}finally{if(T)throw T.error}}H.label=1;case 1:return H.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(l)];case 2:return H.sent(),[3,4];case 3:return H.sent(),[2,new Array(s.length).fill(dt.collectionWriteFailed)];case 4:return[2,s]}})})},Qs.prototype.remove=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){switch(s.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(a))];case 1:return s.sent(),[2,a]}})})},Qs.prototype.removeMany=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.multiRemove(a.map(function(d){return s._getActualKey(d)}))];case 1:return l.sent(),[2,a]}})})},Qs.prototype.clear=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return[4,this.getAllKeys()];case 1:return a=s.sent(),[4,this.removeMany(a)];case 2:return s.sent(),[4,this.remove(yi.key)];case 3:return s.sent(),[2]}})})},Qs),Xm=!0,vc=(Jp.off=function(){Xm=!1},Jp.log=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Xm&&console.log.apply(console,wr(["".concat("[NESTDB]","[LOG]")],ir(a),!1))},Jp.warning=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Xm&&console.warn.apply(console,wr(["".concat("[NESTDB]","[WARNING]")],ir(a),!1))},Jp.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Xm&&console.error.apply(console,wr(["".concat("[NESTDB]","[ERROR]")],ir(a),!1))},Jp);function Jp(){}function Qs(l){var s=l.AsyncStorage,l=l.encryption,l=l===void 0?dm:l;this.itemSizeLimit=6291456,this._asyncStorage=s,this._encryption=l}function tl(a){a===void 0&&(a={}),this.itemSizeLimit=104857600,a=a.encryption,a=a===void 0?dm:a,this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=a}function Ys(d){var s=(d=d===void 0?{}:d).itemSizeLimit,s=s===void 0?4194304:s,l=d.delay,l=l===void 0?1:l,d=d.encryption,d=d===void 0?dm:d;this._encryption=d,this.itemSizeLimit=s,this.delay=l,this.observer={}}function $t(g){var s=g.dbname,l=g.collectionName,d=g.keyName,p=g.keyHash,m=g.indexes,g=g.store,b=this;this._state=Hd.INIT,this._metadata=null,this._indexers=[],this.dbname=s,this.name=l,this.keyName=d,this.indexes=wr([[d]],ir(m.filter(function(w){return eu.createKey(w)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new ZM("".concat(gc(s,l),".lock")),this._blobContainer=new LJ({dbname:s,collectionName:l,store:g}),this._transaction=new PJ({dbname:s,collectionName:l,store:g})}function ji(a,s){s===void 0&&(s={});var l=this;return this._state=Xp.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],M1[a]&&!s.forceCreate||(this.nodeId=JM(),this.key=a,Zo&&(!s.startAsInvisible&&document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&l.claimHost()}),window.addEventListener("message",function(d){var p,m,g=d.data,b=g.nodeId,w=g.requestId,T=g.key,L=g.op,H=g.data;if(b!==l.nodeId&&T===l.key)switch(L){case Si.NEWNODE:l._sendSync();break;case Si.CLAIM_HOST:l._sendSync(),l._hostId=b;break;case Si.SYNC_HOST:if(!l.isInSync){l._activationTimeout&&clearTimeout(l._activationTimeout);var G=H.currentItemRequestId,ne=H.queue;try{for(var se=Bn(ne),Te=se.next();!Te.done;Te=se.next())(function(Q){l._queue.findIndex(function(ae){return ae.requestId===Q.requestId})<0&&l._requestLock({nodeId:Q.nodeId,requestId:Q.requestId,key:l.key,op:Si.REQUEST_LOCK,ts:Q.ts})})(Te.value)}catch(Q){p={error:Q}}finally{try{Te&&!Te.done&&(m=se.return)&&m.call(se)}finally{if(p)throw p.error}}l._currentItem=l._queue.find(function(Q){return Q.requestId===G}),l._completeSync()}break;case Si.REMOVENODE:l._queue=l._queue.filter(function(Q){return Q.nodeId!==g.nodeId}),l._currentItem&&l._currentItem.nodeId===g.nodeId&&(l._currentItem=null,l._acquire(l._queue[0]));break;case Si.REQUEST_LOCK:l._requestLock(g);break;case Si.ACQUIRE_LOCK:ne=l._queue.find(function(Q){return Q.requestId===w}),l._acquire(ne);break;case Si.RELEASE_LOCK:l._release(w)}}),window.addEventListener("beforeunload",function(){l._send(Si.REMOVENODE)})),M1[a]=this),M1[a]}(St=nl=nl||{}).INIT="INIT",St.OPENING="OPENING",St.OPENED="OPENED",St.CLOSED="CLOSED",Object.defineProperty(Xs.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(Xs.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Xs.prototype.commitSchema=function(a){return P(this,void 0,void 0,function(){var s=this;return F(this,function(l){switch(l.label){case 0:return this._state!==nl.OPENING?[3,2]:[4,Promise.all(a.map(function(d){return P(s,void 0,void 0,function(){var p,m,g;return F(this,function(b){switch(b.label){case 0:return p=d.collectionName,m=d.keyName,g=d.index,g=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new D1({dbname:this.name,collectionName:p,keyName:m,keyHash:d.keyHash||null,indexes:g,store:this._store})),[4,this._collections.get(p).init()];case 1:return b.sent(),[2]}})})}))];case 1:return l.sent(),[3,3];case 2:throw dt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},Xs.prototype.open=function(){var a;return P(this,void 0,void 0,function(){var s,l,d,p,m=this;return F(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===nl.OPENED)return[3,15];this._state=nl.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,s="".concat(O1(b),".metadata"),l={version:0,collectionNames:[]},[4,this._store.get(s)];case 4:return d=(a=g.sent())!=null?a:l,[2,new Promise(function(w,T){function L(G){d.version<m._version?m._event.upgrade(d.version,function(ne){return P(m,void 0,void 0,function(){var se;return F(this,function(Te){switch(Te.label){case 0:if(ne)return[3,5];d.version++,d.collectionNames=Array.from(this._collections.keys()),Te.label=1;case 1:return Te.trys.push([1,3,,4]),[4,this._store.set({key:s,value:d,generation:this._version})];case 2:return Te.sent(),G({continued:!0}),[3,4];case 3:return se=Te.sent(),G({continued:!1,err:se}),[3,4];case 4:return[3,6];case 5:G({continued:!1,err:ne}),Te.label=6;case 6:return[2]}})})}):G({continued:!1})}function H(Te){var ne,se=Te.continued,Te=(Te=Te.err)===void 0?null:Te;se!==void 0&&se?setTimeout(function(){return L(H)},10):Te?(vc.error(Te.message),m._globalMutex.unlock(),m._event.error(Te),T(Te)):(ne=[],d.collectionNames.forEach(function(Q){m._collections.has(Q)||ne.push(P(m,void 0,void 0,function(){var ae;return F(this,function(Ee){switch(Ee.label){case 0:return[4,D1.metadataOf(this.name,Q,this._store)];case 1:return(ae=Ee.sent())?(ae=new D1({dbname:this.name,collectionName:Q,keyName:ae.keyName,indexes:ae.indexes,store:this._store}),this._collections.set(Q,ae),[4,ae.init()]):[3,3];case 2:Ee.sent(),Ee.label=3;case 3:return[2]}})}))}),Promise.all(ne).then(function(){m._state=nl.OPENED,m._globalMutex.unlock(),m._event.success(),w()}).catch(function(Q){vc.error(Q.message),m._globalMutex.unlock(),m._event.error(Q),T(Q)}))}L(H)})];case 5:switch((p=g.sent()).code){case zt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case zt.STORE_NOT_AVAILABLE:return[3,8];case zt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return vc.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Ym({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return vc.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Ym({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return vc.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw vc.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},Xs.prototype.close=function(){this._collections.forEach(function(a){return a.close()}),this._state=nl.CLOSED},Xs.prototype.clear=function(){return P(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(s){return s.clear()}))];case 1:return a.sent(),[2]}})})},Xs.prototype.reset=function(){return P(this,void 0,void 0,function(){var a,s=this;return F(this,function(l){switch(l.label){case 0:return this.close(),(a=ys.get(this.name))&&a.clearByCondition(function(d){return d.key.startsWith(O1(s.name))}),[4,this._store.clear()];case 1:return l.sent(),[2]}})})},Xs.prototype.on=function(a,s){this._event[a]=s},Xs.prototype.off=function(a){typeof this._event[a]=="function"&&(this._event[a]=a==="upgrade"?KM:Wm)},Xs.prototype.collection=function(a){return this._collections.get(a)||null};var zJ=Xs,Zp=null,$J=(tn.init=function(ne){var s,l=ne.appId,d=ne.appVersion,d=d===void 0?null:d,p=ne.modules,p=p===void 0?[]:p,m=ne.options,m=m===void 0?new hN:m,g=ne.debugMode,g=g!==void 0&&g,b=ne.customApiHost,w=ne.customWebSocketHost,T=ne.newInstance,L=ne.logLevel,H=ne.localCacheEnabled,H=H!==void 0&&H,G=ne.localCacheEncryption,ne=ne.useAsyncStorageStore,ne=ne===void 0?null:ne;return!Zp||T!==void 0&&T?(T="su-".concat(kd()),s=new Ym({encryption:G=G!=null?G:{encrypt:function(se){return se},decrypt:function(se){return se}}}),g||(s=ne?new GJ({AsyncStorage:ne,encryption:G}):new BJ({encryption:G})),new ke(T,{appId:l,appVersion:d,options:m,apiHost:b!=null?b:"https://api-".concat(l,".sendbird.com"),websocketHost:w!=null?w:"wss://ws-".concat(l,".sendbird.com"),store:s,encryption:G,logLevel:L,localCacheEnabled:H,debugMode:g}),ne=new tn(T,m,wr(wr([],ir(p),!1),[new bQ],!1)),Zp=Zp||ne,ne):Zp},Object.defineProperty(tn,"instance",{get:function(){return Zp},enumerable:!1,configurable:!0}),Object.defineProperty(tn,"version",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"appId",{get:function(){return ke.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"appInfo",{get:function(){return ke.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"appVersion",{get:function(){var a;return(a=ke.of(this._iid).sdkState.appVersion)!=null?a:""},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"debugMode",{get:function(){return ke.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"logLevel",{get:function(){return ke.of(this._iid).logger.level},set:function(a){ke.of(this._iid).logger.level=a},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"isCacheEnabled",{get:function(){return ke.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"ekey",{get:function(){return Lp(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"currentUser",{get:function(){var a;return(a=ke.of(this._iid).sessionManager.currentUser)!=null?a:null},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"connectionState",{get:function(){var a=ke.of(this._iid).connectionManager;return a.isConnected?$l.OPEN:a.isConnecting?$l.CONNECTING:$l.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"lastConnectedAt",{get:function(){var a=ke.of(this._iid),s=a.connectedAt;return a.connectionManager.isConnected?s:0},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(tn.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),tn.prototype._getPreferenceCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".pref")},tn.prototype._getUserProfileCacheKey=function(a){return"sendbird@".concat(this.appId,"/").concat(a,".profile")},tn.prototype.getMemoryStoreForDebugging=function(){var s=ke.of(this._iid),a=s.debugMode,s=s.cacheContext;if(a)return s.store instanceof Ym?s.store:null;throw we.debugModeRequired},tn.prototype.addExtension=function(a,s){var l=ke.of(this._iid).sdkState;-1<["sb_uikit","sb_syncmanager"].indexOf(a)&&(l.extensions[a]=s)},tn.prototype.initializeCache=function(a){return P(this,void 0,void 0,function(){var s,l,d,p,m;return F(this,function(g){switch(g.label){case 0:return d=ke.of(this._iid),s=d.sdkState,l=d.cacheContext,p=d.connectionManager,d=d.dispatcher,s.userId&&s.userId===a?[3,6]:[4,p.logout()];case 1:return g.sent(),s.userId=a,l.localCacheEnabled?(p="sendbird@".concat(s.appId,"/").concat(a,".db"),l.nestdb&&l.nestdb.state!==nl.CLOSED&&l.nestdb.name===p?[3,3]:((m=l.nestdb=new zJ({name:"sendbird@".concat(s.appId,"/").concat(a,".db"),version:1,store:l.store})).on("upgrade",(b=m,function(w,T){w===0?b.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[m1(Jl.LATEST_LAST_MESSAGE),m1(Jl.CHRONOLOGICAL),m1(Jl.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[Qo(li.CHANNEL_LATEST),Qo(li.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Qo(li.CHANNEL_LATEST),Qo(li.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return T()}).catch(function(L){return T(L)}):T()})),[4,m.open()])):[3,6];case 2:g.sent(),d.dispatch(new CX(this._iid,{userId:a})),g.label=3;case 3:return[4,l.preference.init(this._getPreferenceCacheKey(a))];case 4:return g.sent(),[4,l.preference.get(this._getUserProfileCacheKey(a))];case 5:(m=g.sent())&&new gy(this._iid,m).apply(),g.label=6;case 6:return[2]}var b})})},tn.prototype.clearCachedData=function(){return P(this,void 0,void 0,function(){var a;return F(this,function(s){switch(s.label){case 0:return(a=ke.of(this._iid).cacheContext).localCacheEnabled?(a.nestdb&&a.nestdb.clear(),[4,a.preference.clear()]):[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},tn.prototype.clearCachedMessages=function(a){return P(this,void 0,void 0,function(){var s,l,d=this;return F(this,function(p){switch(p.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=xX.of(this._iid),l=wA.of(this._iid),s&&l?[4,Promise.all(a.map(function(m){return P(d,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return[4,s.removeMessagesOfChannel(m)];case 1:return g.sent(),[4,l.removeMessagesOfChannel(m)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},tn.prototype.connect=function(a,s){return s===void 0&&(s=null),P(this,void 0,void 0,function(){var l,d,p,m,g;return F(this,function(b){switch(b.label){case 0:m=ke.of(this._iid),l=m.sdkState,d=m.cacheContext,p=m.connectionManager,m=m.statLogCollector,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.initializeCache(a)];case 2:return b.sent(),[3,4];case 3:return b.sent(),g=ke.of(this._iid).logger,d.localCacheEnabled=!1,g.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,m.init("sendbird@".concat(l.appId,"/").concat(a,".statlog"))];case 5:return b.sent(),[4,p.connect(s)];case 6:return b.sent(),this._appStateChangeDetector.start(),l.appState="foreground",[4,(g=kA.of(this._iid))==null?void 0:g.processNonAutoResendRegisteredPendingMessages()];case 7:return b.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},tn.prototype.reconnect=function(){var l=ke.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.sessionManager.auth.hasSession;return l&&a.resetAndReconnect().then(function(){s.appState="foreground"}).catch(function(){}),l},tn.prototype.disconnect=function(){return P(this,void 0,void 0,function(){var a,s,l;return F(this,function(d){switch(d.label){case 0:return l=ke.of(this._iid),a=l.connectionManager,s=l.cacheContext,l=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),l.cancelAll(),[4,a.logout()];case 1:return d.sent(),s.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},tn.prototype.setBackgroundState=function(){var l=ke.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="foreground"&&(s.appState="background",l.debug("going background state"),a.background())},tn.prototype.setForegroundState=function(){var l=ke.of(this._iid),a=l.connectionManager,s=l.sdkState,l=l.logger;s.appState==="background"&&(s.appState="foreground",l.debug("going foreground state"),a.resetAndReconnect())},tn.prototype.setSessionHandler=function(a){an(!1).throw(we.invalidParameters),ke.of(this._iid).sessionManager.handler=a},tn.prototype.addUserEventHandler=function(a,s){an(fe("string",a)&&!1).throw(we.invalidParameters),ke.of(this._iid).userEventHandlers.set(a,s)},tn.prototype.removeUserEventHandler=function(a){ke.of(this._iid).userEventHandlers.delete(a)},tn.prototype.removeAllUserEventHandler=function(){ke.of(this._iid).userEventHandlers.clear()},tn.prototype.addConnectionHandler=function(a,s){an(fe("string",a)&&!1).throw(we.invalidParameters),ke.of(this._iid).connectionHandlers.set(a,s)},tn.prototype.removeConnectionHandler=function(a){ke.of(this._iid).connectionHandlers.delete(a)},tn.prototype.removeAllConnectionHandler=function(){ke.of(this._iid).connectionHandlers.clear()},tn.prototype.createApplicationUserListQuery=function(a){return new SJ(this._iid,a=a===void 0?{}:a)},tn.prototype.createBlockedUserListQuery=function(a){return new IJ(this._iid,a=a===void 0?{}:a)},tn.prototype.createFriendListQuery=function(a){return new RJ(this._iid,a=a===void 0?{}:a)},tn.prototype.createMessageSearchQuery=function(a){return new gQ(this._iid,a)},tn.prototype.buildUserFromSerializedData=function(a){return a=ym(a),new $n(this._iid,$n.payloadify(a))},tn.prototype.updateCurrentUserInfo=function(a){return a===void 0&&(a={}),P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return a=pe(pe({},AX),a),an(bo((p=a).profileImage,!0)&&fe("string",p.profileUrl,!0)&&fe("string",p.nickname,!0)).throw(we.invalidParameters),this.currentUser?(s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new $A(pe({userId:l.userId},a)),[4,s.send(l)]):[3,2];case 1:return s=d.sent(),l=s.as(jA).user,this.currentUser&&(a.nickname&&(this.currentUser.nickname=l.nickname),(a.profileUrl||a.profileImage)&&(this.currentUser.plainProfileUrl=l.profileUrl)),[2,l];case 2:throw we.connectionRequired}var p})})},tn.prototype.updateCurrentUserInfoWithPreferredLanguages=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),this.currentUser?(s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new $A({userId:l.userId,preferredLanguages:a}),[4,s.send(l)]):[3,2];case 1:return s=d.sent(),l=s.as(jA).user,this.currentUser&&(this.currentUser.preferredLanguages=l.preferredLanguages),[2,l];case 2:throw we.connectionRequired}})})},tn.prototype.registerFCMPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(an(fe("string",a)).throw(we.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new UX({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 3:return d.sent(),[2,Aa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Aa.PENDING];case 6:return[2]}})})},tn.prototype.unregisterFCMPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(an(fe("string",a)).throw(we.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new PX({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 3:return d.sent(),[2,Aa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Aa.PENDING];case 6:return[2]}})})},tn.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return this.currentUser?(a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new HX({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},tn.prototype.registerAPNSPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(an(fe("string",a)).throw(we.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new DX({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 3:return d.sent(),[2,Aa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Aa.PENDING];case 6:return[2]}})})},tn.prototype.unregisterAPNSPushTokenForCurrentUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:if(an(fe("string",a)).throw(we.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new LX({userId:l.userId,token:a}),[4,s.send(l)];case 2:return d.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 3:return d.sent(),[2,Aa.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=a,[2,Aa.PENDING];case 6:return[2]}})})},tn.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return this.currentUser?(a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new FX({userId:s.userId}),[4,a.send(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},tn.prototype.getChannelInvitationPreference=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new GX({userId:s.userId}),[4,a.send(s)];case 1:return[2,{autoAccept:l.sent().as(zX).autoAccept}]}})})},tn.prototype.setChannelInvitationPreference=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("boolean",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new $X({userId:l.userId,willAutoAccept:a}),[4,s.send(l)];case 1:return[2,{autoAccept:d.sent().as(jX).autoAccept}]}})})},tn.prototype.getDoNotDisturb=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new VX({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(WX).preference]}})})},tn.prototype.setDoNotDisturb=function(a,s,l,d,p,m){return s===void 0&&(s=0),l===void 0&&(l=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=""),P(this,void 0,void 0,function(){var g,b;return F(this,function(w){switch(w.label){case 0:return an(fe("boolean",a)&&fe("number",s)&&fe("number",l)&&fe("number",d)&&fe("number",p)&&fe("string",m)).throw(we.invalidParameters),g=ke.of(this._iid),b=g.sdkState,g=g.requestQueue,b=new KX({userId:b.userId,doNotDisturbOn:a,startHour:s,startMin:l,endHour:d,endMin:p,timezone:m}),[4,g.send(b)];case 1:return[2,w.sent().as(QX).preference]}})})},tn.prototype.getSnoozePeriod=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new YX({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(XX).snoozePeriod]}})})},tn.prototype.setSnoozePeriod=function(a,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),P(this,void 0,void 0,function(){var d,p;return F(this,function(m){switch(m.label){case 0:return an(fe("boolean",a)&&fe("number",s)&&fe("number",l)).throw(we.invalidParameters),d=ke.of(this._iid),p=d.sdkState,d=d.requestQueue,p=new JX({userId:p.userId,snoozeOn:a,startTs:s,endTs:l}),[4,d.send(p)];case 1:return[2,m.sent().as(ZX).snoozePeriod]}})})},tn.prototype.getMyPushTokensByToken=function(a,s){return P(this,void 0,void 0,function(){var l,d;return F(this,function(p){switch(p.label){case 0:return an(fe("string",a)&&ar(ns,s)).throw(we.invalidParameters),l=ke.of(this._iid),d=l.sdkState,l=l.requestQueue,d=new qX({userId:d.userId,type:s,token:a}),[4,l.send(d)];case 1:return[2,p.sent().as(BX).pushTokens]}})})},tn.prototype.getPushTriggerOption=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new NX({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(TX).pushTriggerOption]}})})},tn.prototype.setPushTriggerOption=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(ar(h1,a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new IX({userId:l.userId,pushTriggerOption:a}),[4,s.send(l)];case 1:return[2,d.sent().as(OX).pushTriggerOption]}})})},tn.prototype.getPushTemplate=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new tJ({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(rJ).name]}})})},tn.prototype.setPushTemplate=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(ar(p1,a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new iJ({userId:l.userId,templateName:a}),[4,s.send(l)];case 1:return[2,d.sent().as(aJ).name]}})})},tn.prototype.blockUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(a instanceof $n||fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new eJ({userId:l.userId,blockedUserId:a instanceof $n?a.userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},tn.prototype.blockUserWithUserId=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.blockUser(a)]})})},tn.prototype.unblockUser=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(a instanceof $n||fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new nJ({userId:l.userId,unblockedUserId:a instanceof $n?a.userId:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},tn.prototype.unblockUserWithUserId=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.unblockUser(a)]})})},tn.prototype.getFriendChangeLogsByToken=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new sJ({userId:l.userId,token:a}),[4,s.send(l)];case 1:return[2,d.sent().as(oJ).changelogs]}})})},tn.prototype.getAllowFriendDiscovery=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid),s=a.sdkState,a=a.requestQueue,s=new fJ({userId:s.userId}),[4,a.send(s)];case 1:return[2,l.sent().as(mJ).allowFriendDiscovery]}})})},tn.prototype.setAllowFriendDiscovery=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(fe("boolean",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new gJ({userId:l.userId,allowFriendDiscovery:a}),[4,s.send(l)];case 1:return d.sent(),[2,a]}})})},tn.prototype.uploadFriendDiscoveries=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new lJ({userId:l.userId,discoveries:a}),[4,s.send(l)];case 1:return[2,d.sent().as(uJ).friendDiscoveryRequestId]}})})},tn.prototype.deleteFriendDiscovery=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.deleteFriendDiscoveries([a])]})})},tn.prototype.deleteFriendDiscoveries=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new cJ({userId:l.userId,discoveryKeys:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},tn.prototype.addFriends=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new dJ({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return[2,d.sent().as(hJ).users]}})})},tn.prototype.deleteFriend=function(a){return P(this,void 0,void 0,function(){return F(this,function(s){return[2,this.deleteFriends([a])]})})},tn.prototype.deleteFriends=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return an(mt("string",a)).throw(we.invalidParameters),s=ke.of(this._iid),l=s.sdkState,s=s.requestQueue,l=new pJ({userId:l.userId,userIds:a}),[4,s.send(l)];case 1:return d.sent(),[2]}})})},tn.prototype.getAllEmoji=function(){return P(this,void 0,void 0,function(){var a,s;return F(this,function(l){switch(l.label){case 0:return a=ke.of(this._iid).requestQueue,s=new _J,[4,a.send(s)];case 1:return[2,l.sent().as(bJ).emojiContainer]}})})},tn.prototype.getEmojiCategory=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new yJ({categoryId:a}),[4,s.send(l)];case 1:return[2,d.sent().as(EJ).emojiCategory]}})})},tn.prototype.getEmoji=function(a){return P(this,void 0,void 0,function(){var s,l;return F(this,function(d){switch(d.label){case 0:return s=ke.of(this._iid).requestQueue,l=new wJ({key:a}),[4,s.send(l)];case 1:return[2,d.sent().as(xJ).emoji]}})})},tn);function tn(a,p,l){var d=this,p=(this._fcmPushToken=null,this._apnsPushToken=null,this._iid=a,this.options=p,ke.of(a)),m=p.sdkState,g=p.cacheContext,b=p.dispatcher,w=p.sessionManager,T=p.requestQueue,L=p.logger,H=p.userEventHandlers;this._onlineDetector=new MX({logger:L,connectionDelegate:{reconnect:function(){var ne=ke.of(a),G=ne.sdkState,ne=ne.connectionManager;G.appState==="foreground"&&ne.resetAndReconnect()},disconnect:function(){ke.of(a).connectionManager.disconnect()}}}),new kA(a,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:m,logger:L}),l.forEach(function(G){G.init(a,{sdkState:m,cacheContext:g,dispatcher:b,sessionManager:w,requestQueue:T,logger:L,onlineDetector:d._onlineDetector}),d[G.name]=G}),this._appStateChangeDetector=new RX,this._appStateChangeDetector.on("resume",function(){L.debug("the page resumes from freeze"),d.setForegroundState()}).on("pause",function(){L.debug("the page freezes"),d.setBackgroundState()}),b.on(function(G){var ne;if(G instanceof dr)G.code==="USEV"&&(Q=G.as(SX).event).category===g1.FRIEND_DISCOVERED&&(ne=RA.getDataAsFriendDiscoveredEvent(a,Q).friendDiscoveries,tt(function(){return P(d,void 0,void 0,function(){return F(this,function(Ee){return[2,H.forEach(function(be){be.onFriendsDiscovered(ne)})]})})}));else if(G instanceof NN){var se=ke.of(d._iid).subscribedUnreadMessageCount,Te=!1,Q=G.ts;if(typeof Q=="number"&&Q>se.ts){if(se.all!==G.all&&(Te=!0),se.all=0<=G.all?G.all:0,G.customTypes)for(var ae in G.customTypes)se.customTypes[ae]!==G.customTypes[ae]&&(Te=!0),se.customTypes[ae]=G.customTypes[ae];Te=Te&&0<se.ts,se.ts=Q}Te&&tt(function(){return P(d,void 0,void 0,function(){return F(this,function(Ee){return[2,H.forEach(function(be){be.onTotalUnreadMessageCountUpdated(se.all,se.customTypes)})]})})})}else G instanceof bT&&g.localCacheEnabled&&g.preference.set(d._getUserProfileCacheKey(m.userId),gy.payloadify(G.userProfile))})}function Xs(p){var s=p.name,l=p.version,d=p.store,p=p.config;this.name=s,this._version=l,this._state=nl.INIT,this._config=p||new zm({dbname:s}),this._store=d,this._event={success:Wm,error:Wm,upgrade:KM},this._collections=new Map,this._globalMutex=new ZM("".concat(this.name,".lock")),this._config.disableLogger&&vc.off(),new ys({dbname:s,limit:this._config.cacheLimit})}pn=new(function(){function a(){c(this,a),v(this,"_ctx",{})}var s,l,d,p;return f(a,[{key:"init",value:function(b){var g=b.appId,b=b.chatInstance;this._consoleLogListener=new wX(_i.NONE),hn.addListener(this._consoleLogListener),this._ctx.appId=g,this._ctx.clientId=He(),this._ctx.sb=b||$J.init({appId:this._ctx.appId,modules:[new BY]}),this._ctx.commandRouter=new cX(this._ctx),this._ctx.deviceManager=new sX,this._ctx.liveEventManager=new GY(this._ctx)}},{key:"setLoggerLevel",value:function(m){return this._consoleLogListener.setLoggerLevel(m)}},{key:"authenticate",value:(p=u(regeneratorRuntime.mark(function m(g,b){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._ctx.commandRouter.authenticate({userId:g,accessToken:b});case 2:return w.next=4,this._ctx.commandRouter.connectWs();case 4:case"end":return w.stop()}},m,this)})),function(m,g){return p.apply(this,arguments)})},{key:"deauthenticate",value:(d=u(regeneratorRuntime.mark(function m(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),hn.removeAllListener();case 5:case"end":return g.stop()}},m,this)})),function(){return d.apply(this,arguments)})},{key:"createLiveEvent",value:(l=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.createLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(s=u(regeneratorRuntime.mark(function m(g){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this._ctx.liveEventManager.getLiveEvent(g));case 1:case"end":return b.stop()}},m,this)})),function(m){return s.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(m){return new T$(m,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(m){return this._ctx.deviceManager.useMedia(m)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(m){return this._ctx.deviceManager.selectDevice("audioinput",m)}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(m){return this._ctx.deviceManager.selectDevice("videoinput",m)}}]),a}()),t.LiveEvent=Kb,t.SendbirdLive=pn,Object.defineProperty(t,"__esModule",{value:!0})})})(Cr,Cr.exports);var bne="sendbird-modal-root";function aa(e,n){n===void 0&&(n={});var t=n.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var yne=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;aa(yne);var Ene=function(e){var n=e.children,t=e.isOpen,r=t===void 0?!1:t;e.close;var i=e.modalRoot,o=i===void 0?bne:i,u=e.className,c=u===void 0?"":u,h=e.modalClassName,f=h===void 0?"":h;if(!r)return null;var v=document.getElementById(o);return Fh.exports.createPortal(x.createElement("div",{className:"sendbird-modal__wrapper ".concat(c)},x.createElement("div",{className:"sendbird-modal__mask"}),x.createElement("div",{className:"sendbird-modal__container ".concat(f)},n)),v)},Fc=function(e,n){var t=U.exports.useState(!1),r=t[0],i=t[1],o=U.exports.useCallback(function(){return i(!0)},[i]),u=U.exports.useCallback(function(){return i(!1)},[i]),c=function(h){var f=h.children;return x.createElement(Ene,{isOpen:r,close:u,className:e,modalClassName:n},f)};return[c,o,u]};function hD(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Tr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?hD(Object(t),!0).forEach(function(r){wne(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hD(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function wne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function pl(e,n){return kne(e)||Sne(e,n)||$7(e,n)||Tne()}function Mc(e){return xne(e)||Cne(e)||$7(e)||Nne()}function xne(e){if(Array.isArray(e))return L2(e)}function kne(e){if(Array.isArray(e))return e}function Cne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sne(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,u,c;try{for(t=t.call(e);!(i=(u=t.next()).done)&&(r.push(u.value),!(n&&r.length===n));i=!0);}catch(h){o=!0,c=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function $7(e,n){if(!!e){if(typeof e=="string")return L2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L2(e,n)}}function L2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue={exports:{}},mE,pD;function Ine(){if(pD)return mE;pD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mE=e,mE}var gE,fD;function One(){if(fD)return gE;fD=1;var e=Ine();function n(){}function t(){}return t.resetWarningCache=n,gE=function(){function r(u,c,h,f,v,_){if(_!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:n};return o.PropTypes=o,o},gE}ue.exports=One()();var R3=x.createContext(),Ane=function(n,t){var r=function(u){return x.createElement(R3.Consumer,null,function(c){t&&typeof t!="function"&&console.warn("Second parameter to withSendbirdContext must be a pure function");var h=Tr(t&&typeof t=="function"?Tr({},t(c)):Tr({},c),u);return x.createElement(n,h)})},i=n.displayName||n.name||"Component";return r.displayName="SendbirdAware".concat(i),r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P2=function(e,n){return P2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},P2(e,n)};function B(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}P2(e,n),e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Z.apply(this,arguments)};function I(e,n,t,r){return new(t||(t=Promise))(function(i,o){function u(f){try{h(r.next(f))}catch(v){o(v)}}function c(f){try{h(r.throw(f))}catch(v){o(v)}}function h(f){var v;f.done?i(f.value):(v=f.value,v instanceof t?v:new t(function(_){_(v)})).then(u,c)}h((r=r.apply(e,n||[])).next())})}function O(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(f){return function(v){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&v[0]?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!((i=i.length>0&&i[i.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){u.label=v[1];break}if(v[0]===6&&u.label<i[1]){u.label=i[1],i=v;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(v);break}i[2]&&u.ops.pop(),u.trys.pop();continue}v=n.call(e,u)}catch(_){v=[6,_],r=0}finally{t=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([h,f])}}}function je(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r,i,o=t.call(e),u=[];try{for(;(n===void 0||n-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return u}function vn(e,n,t){if(t||arguments.length===2)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))}var Yn,Rne="4.0.4",Hc=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"4.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();(function(e){e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",e[e.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Yn||(Yn={}));var Re,so=function(e){return!(e instanceof oe&&!e.shouldThrowOutside)},oe=function(e){function n(t){var r=t.code,i=r===void 0?0:r,o=t.message,u=e.call(this,o)||this;return u.shouldThrowOutside=!1,u.name="SendbirdError",u.code=i,Object.setPrototypeOf(u,n.prototype),u}return B(n,e),Object.defineProperty(n.prototype,"isInvalidTokenError",{get:function(){return this.code===Yn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Yn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Yn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n,"debugModeRequired",{get:function(){return new n({code:Yn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"lostInstance",{get:function(){return new n({code:Yn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRenew",{get:function(){return new n({code:Yn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidConnectionStateTransition",{get:function(){return new n({code:Yn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRequired",{get:function(){return new n({code:Yn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionCanceled",{get:function(){return new n({code:Yn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidParameters",{get:function(){return new n({code:Yn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"networkError",{get:function(){return new n({code:Yn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"markAsReadAllRateLimitExceeded",{get:function(){return new n({code:Yn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"queryInProgress",{get:function(){return new n({code:Yn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noAckTimeout",{get:function(){return new n({code:Yn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"loginTimeout",{get:function(){return new n({code:Yn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionClosed",{get:function(){return new n({code:Yn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestFailed",{get:function(){return new n({code:Yn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileUploadCanceled",{get:function(){return new n({code:Yn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestCanceled",{get:function(){return new n({code:Yn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRefreshFailed",{get:function(){return new n({code:Yn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRequestFailed",{get:function(){return new n({code:Yn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),n.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},n}(Error),Mne=[Yn.CONNECTION_REQUIRED,Yn.NETWORK_ERROR,Yn.ACK_TIMEOUT,Yn.WEBSOCKET_CONNECTION_CLOSED,Yn.WEBSOCKET_CONNECTION_FAILED,Yn.FILE_UPLOAD_CANCEL_FAILED,Yn.REQUEST_CANCELED,Yn.INTERNAL_SERVER_ERROR,Yn.RATE_LIMIT_EXCEEDED,Yn.UNKNOWN_SERVER_ERROR],Dne=[Yn.WEBSOCKET_CONNECTION_CLOSED,Yn.WEBSOCKET_CONNECTION_FAILED,Yn.CONNECTION_REQUIRED],j7=function(e,n){if(e!==n){var t=Z({},e),r=Z({},n);return(!t.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||t.messageId===r.messageId)&&(!t.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}return!0},J=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||(typeof e!="string"?typeof e=="object"?Cn(e,n):Une(e,n):typeof n===e)},Cn=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Object.values(e).includes(n)},Une=function(e,n){return n instanceof e},Sn=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Array.isArray(n)&&n.every(function(r){return J(e,r)})},wv=function(e){return e>0&&Dne.indexOf(e)>=0},Ui=function(e,n){if(n===void 0&&(n=!1),n&&e===null)return!0;var t=J("object",e)&&e!==null&&e.hasOwnProperty("name")&&typeof e.name=="string"&&e.hasOwnProperty("uri")&&typeof e.uri=="string"&&e.hasOwnProperty("type")&&typeof e.type=="string";if(!t){if(typeof Blob<"u")return e instanceof Blob;if(typeof File<"u")return e instanceof File}return t},Lne=function(e,n){if(e===n)return!0;if(e==null||n==null||e.length!==n.length)return!1;for(var t=vn([],_n(e),!1).sort(),r=vn([],_n(n),!1).sort(),i=0;i<t.length;++i)if(t[i]!==r[i])return!1;return!0},V7=function(){function e(n){var t=n===void 0?{}:n,r=t.useMemberInfoInMessage,i=r!==void 0&&r,o=t.typingIndicatorInvalidateTime,u=o===void 0?1e4:o,c=t.typingIndicatorThrottle,h=c===void 0?1e3:c,f=t.websocketResponseTimeout,v=f===void 0?1e4:f;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=i,this._typingIndicatorInvalidateTime=u,this._typingIndicatorThrottle=h,this._websocketResponseTimeout=v}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(n){J("boolean",n)&&(this._useMemberInfoInMessage=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(n){J("number",n)&&(this._typingIndicatorInvalidateTime=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(n){J("number",n)&&n>=1e3&&n<=9e3&&(this._typingIndicatorThrottle=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(n){J("number",n)&&n>=5e3&&n<=3e4&&(this._websocketResponseTimeout=n)},enumerable:!1,configurable:!0}),e}(),Mi={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},s_={encrypt:function(e){return e},decrypt:function(e){return e}},Pne=function(){function e(n){var t=n.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._store.set({key:this._keysAddress,value:vn([],_n(this._preference.keys()),!1),generation:1})];case 1:return n.sent(),[2]}})})},e.prototype.init=function(n){var t;return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v;return O(this,function(_){switch(_.label){case 0:return this._keysAddress=n,[4,this._store.get(n)];case 1:r=(t=_.sent())!==null&&t!==void 0?t:[],_.label=2;case 2:_.trys.push([2,7,8,9]),i=je(r),o=i.next(),_.label=3;case 3:return o.done?[3,6]:(u=o.value,[4,this._store.get(u)]);case 4:(c=_.sent())&&this._preference.set(u,c),_.label=5;case 5:return o=i.next(),[3,3];case 6:return[3,9];case 7:return h=_.sent(),f={error:h},[3,9];case 8:try{o&&!o.done&&(v=i.return)&&v.call(i)}finally{if(f)throw f.error}return[7];case 9:return[2]}})})},e.prototype.get=function(n){var t;return I(this,void 0,void 0,function(){return O(this,function(r){return[2,(t=this._preference.get(n))!==null&&t!==void 0?t:null]})})},e.prototype.set=function(n,t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r=!this._preference.has(n),[4,this._store.set({key:n,value:t,generation:1})];case 1:return i.sent(),this._preference.set(n,t),r?[4,this._savePreferenceKeys()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._store.remove(n)];case 1:return t.sent(),this._preference.delete(n),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._store.removeMany(vn([],_n(this._preference.keys()),!1))];case 1:return n.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return n.sent(),[2]}})})},e}(),Fne=function(e){var n=e.encryption,t=n===void 0?null:n,r=e.store,i=r===void 0?null:r,o=e.localCacheEnabled,u=o===void 0||o;this.nestdb=null,this.store=i,this.preference=new Pne({store:i}),this.encryption=t!=null?t:s_,this.localCacheEnabled=u},Hne=function(){function e(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=null,this.sessionKey=null},e}(),As=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})},mD=function(){function e(n){var t=n.container;this._container={},this._container=t,this.key=As()}return e.prototype._register=function(n,t,r){return n in this._container||(this._container[n]=new Map),this._container[n].set(this.key,{occurence:t,handler:r}),this},e.prototype.on=function(n,t){return this._register(n,-1,t)},e.prototype.once=function(n,t){return this._register(n,1,t)},e.prototype.close=function(){for(var n in this._container)this._container[n].delete(this.key)},e}(),T0=function(){function e(){this._container={}}return e.prototype.on=function(n,t){return new mD({container:this._container}).on(n,t)},e.prototype.once=function(n,t){return new mD({container:this._container}).once(n,t)},e.prototype.dispatch=function(n,t){var r,i,o=this._container[n];if(o){var u=[];try{for(var c=je(o.keys()),h=c.next();!h.done;h=c.next()){var f=h.value,v=o.get(f);v.handler(t),v.occurence>0&&(v.occurence--,v.occurence===0&&u.push(f))}}catch(_){r={error:_}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}u.forEach(function(_){return o.delete(_)})}},e}(),qne=function(){function e(){this._dispatcher=new T0}return e.prototype.on=function(n){return this._dispatcher.on("event",n)},e.prototype.once=function(n){return this._dispatcher.once("event",n)},e.prototype.dispatch=function(n){this._dispatcher.dispatch("event",n)},e}(),ai=function(){},En=function(e){var n={};return e&&Object.keys(e).forEach(function(t){e[t]!==void 0&&e[t]!==NaN&&e[t]!==null&&(n[t]=e[t])}),n};(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(Re||(Re={}));var xv,De=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=As(),t}return B(n,e),n.prototype.stringifyParams=function(t){return typeof t!="object"||Array.isArray(t)?String(t):t?JSON.stringify(t):""},Object.defineProperty(n.prototype,"query",{get:function(){var t=this,r=En(this.params);return"?".concat(Object.keys(r).map(function(i){return"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t.stringifyParams(r[i])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"payload",{get:function(){var t=this,r=En(this.params);if(Object.keys(r).some(function(o){return Ui(r[o])})){var i=new FormData;return Object.keys(r).forEach(function(o){var u,c=r[o];if(Ui(c)){var h=c;i.append(o,h,(u=h.name)!==null&&u!==void 0?u:"filename")}else i.append(o,t.stringifyParams(c))}),i}return JSON.stringify(r)},enumerable:!1,configurable:!0}),n}(ai),Fe=function(e){function n(t,r){var i=e.call(this)||this;return i._iid=t,i._payload=r,i}return B(n,e),Object.defineProperty(n.prototype,"payload",{get:function(){return Z({},this._payload)},enumerable:!1,configurable:!0}),n.prototype.as=function(t){return new t(this._iid,this.payload)},n}(ai),Bne=function(e){function n(t){var r=e.call(this)||this;return r.requestId=t,r}return B(n,e),n}(ai),o_=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n}(ai),M3=function(e){function n(t){var r=e.call(this)||this;return r.statLog=t,r}return B(n,e),n}(ai);(function(e){e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"})(xv||(xv={}));var Au,d0=function(){function e(n){var t=n.type,r=n.data,i=n.ts,o=i===void 0?Date.now():i;this.type=t,this.createdAt=o,this.data=r}return e.payloadify=function(n){return En({stat_type:n.type,ts:n.createdAt,data:En(n.data)})},e}(),To=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},Gne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._abortControl=new Map,this._iid=n,this._auth=r,this._sdkState=i,this._dispatcher=o,this._dispatcher.on(function(h){h instanceof Bne&&c.cancel(h.requestId)}),this._logger=u}return Object.defineProperty(e.prototype,"_userAgentWithExtension",{get:function(){var n=this._sdkState.extensions,t=To()?"reactnative":"JS",r=n.sb_syncmanager?"s".concat(n.sb_syncmanager):"",i=n.sb_uikit?"u".concat(n.sb_uikit):"",o=n["device-os-platform"]?"o".concat(n["device-os-platform"]):"";return"".concat(t,"/c").concat(Hc.SDK_VERSION,"/").concat(r,"/").concat(i,"/").concat(o)},enumerable:!1,configurable:!0}),e.prototype._createHeader=function(n,t){t===void 0&&(t=null);var r=this._sdkState,i=r.appId,o=r.appVersion,u=Z(Z({},n.headers),{SendBird:"JS,".concat(Hc.OS_VERSION,",").concat(Hc.SDK_VERSION,",").concat(i).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(u["Content-Type"]="application/json; charset=utf-8"),n.requireAuth&&this._auth.hasSession&&(u["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(u["App-Id"]=i,u["Access-Token"]=this._auth.authToken),u},e.prototype._statLogApiResult=function(n,t,r){this._dispatcher.dispatch(new M3(new d0({type:xv.API_RESULT,data:{endpoint:n.path,method:n.method,success:!r,latency:Date.now()-t,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},e.prototype.send=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k,S,D;return O(this,function(N){switch(N.label){case 0:t=n.path,r=n.method,i=![Re.GET,Re.DELETE].includes(r),o=this._sdkState.api,u="".concat(o.host).concat(t).concat(i?"":n.query),c=i?n.payload:null,h=this._createHeader(n,c instanceof FormData?c:null),f=new AbortController,v=f.signal,this._abortControl.set(n.requestId,f),_=Date.now(),N.label=1;case 1:return N.trys.push([1,4,,5]),[4,fetch(u,{method:r,body:c,headers:h,signal:v})];case 2:return[4,(y=N.sent()).json()];case 3:if(E=N.sent(),y.ok||y.redirected)return this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,_,null),[2,new Fe(this._iid,E)];throw E?((k=new oe(E)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new o_),this._statLogApiResult(n,_,k),k):(k=oe.requestFailed,this._statLogApiResult(n,_,k),k);case 4:throw S=N.sent(),this._statLogApiResult(n,_,S),S instanceof oe?(this._logger.debug("fail api request",S),S):S.name==="AbortError"?oe.requestCanceled:(D=oe.networkError,this._logger.debug("fail api request",D),D);case 5:return[2]}})})},e.prototype.cancel=function(n){this._abortControl.has(n)&&(this._abortControl.get(n).abort(),this._abortControl.delete(n))},e.prototype.cancelAll=function(){var n,t;try{for(var r=je(this._abortControl.values()),i=r.next();!i.done;i=r.next())i.value.abort()}catch(o){n={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}this._abortControl.clear()},e}(),Mt=function(e){function n(t,r,i,o){o===void 0&&(o="");var u,c=this;return(c=e.call(this)||this)._iid=t,c.code=r,c.payload=i,c.requestId=i?(u=i.req_id)!==null&&u!==void 0?u:o:"",c}return B(n,e),n.createFromRawMessage=function(t,r){var i=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{i="NOOP"}finally{return new n(t,i,o)}},n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n.prototype.as=function(t){return new t(this._iid,this.code,this.payload)},n}(ai),Wa=function(e){function n(t){var r,i=t.code,o=t.ackRequired,u=t.payload,c=u===void 0?null:u,h=this;return(h=e.call(this)||this).code=i,h.payload=c,h.requestId=(r=h.payload.req_id)!==null&&r!==void 0?r:As(),h.ackRequired=o,h.payload.req_id=h.requestId,h}return B(n,e),n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n}(ai),zne=function(e){function n(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return B(n,e),n}(Wa),$ne=function(){function e(n){var t=n.pingDelegate,r=n.sdkState,i=n.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=r,this._logger=i}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var n,t=this,r=new zne;try{var i=(n=this.sdkState.websocket.pongTimeout)!==null&&n!==void 0?n:5e3;this._pingTimeoutTimer=setTimeout(function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)},i),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e.prototype.refreshTimer=function(){var n,t=this;this._logger.debug("pinger.refreshTimer()");var r=(n=this.sdkState.websocket.pingInterval)!==null&&n!==void 0?n:15e3;this.stop(),this._pingTimer=setInterval(function(){t.ping()},r)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e}(),Mn=function(){};(function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"})(Au||(Au={}));var Tt,jne=function(e){function n(t,r){var i=r.sdkState,o=r.dispatcher,u=r.logger,c=e.call(this)||this;return c._pinger=null,c.lastActive=0,c._iid=t,c._sdkState=i,c._dispatcher=o,c._logger=u,c._sdkState.websocket.pingerDisabled||(c._pinger=new $ne({pingDelegate:{send:function(h){return c.send(h)},error:function(h){return c.error(h)}},sdkState:c._sdkState,logger:u})),c}return B(n,e),Object.defineProperty(n.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Au.CONNECTING;case 1:return Au.OPEN}return Au.CLOSED},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){var r=this;this._ws=new WebSocket(t),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(i){i.data.split(`
`).forEach(function(o){if(o&&J("string",o)){var u=Mt.createFromRawMessage(r._iid,o);r._logger.debug("receive websocket event",u),u.code==="LOGI"?(u.payload&&!u.payload.error&&r._pinger&&r._pinger.start(),r.dispatch("message",u)):u.code==="PONG"?r._pinger&&r._pinger.pong():u.code==="EXPR"?u.payload&&u.payload.expires_in>0&&r._dispatcher.dispatch(new o_):u.code==="NOOP"||r.dispatch("message",u)}})},this._ws.onerror=function(){r._logger.debug("websocket error"),r._pinger&&r._pinger.stop(),r.dispatch("error",oe.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r._pinger&&r._pinger.stop(),r.dispatch("close")},this.lastActive=Date.now()},n.prototype.disconnect=function(){var t=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Mn,this._ws.onmessage=Mn,this._ws.onerror=Mn,this._ws.onclose=function(){t.dispatch("close")},this._ws.close(),this._ws=null)},n.prototype.send=function(t){if(!this._ws)throw oe.connectionClosed;t.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",t),this._ws.send(t.convertToMessage())},n.prototype.error=function(t){this._logger.debug("websocket error",t),this._pinger&&this._pinger.stop(),this.dispatch("error",t)},n}(T0),W7=function(e){function n(t){var r=t.all,i=t.custom_types,o=t.ts,u=e.call(this)||this;return u.all=r,u.customTypes=i,u.ts=o,u}return B(n,e),n}(ai),_a=function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})},Vne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._ackStateMap=new Map,this._sdkState=i,this._dispatcher=o,this._logger=u,this.apiClient=new Gne(n,{auth:r,sdkState:i,dispatcher:o,logger:u}),this.websocketClient=new jne(n,{sdkState:i,dispatcher:o,logger:u}),this.websocketClient.on("message",function(h){if(h.payload.unread_cnt&&c._dispatcher.dispatch(new W7(h.payload.unread_cnt)),h.requestId){if(c._ackStateMap.has(h.requestId)){var f=c._ackStateMap.get(h.requestId);h.code!=="EROR"?f.resolve(h):f.reject(new oe({code:h.payload.code,message:h.payload.message}))}}else c._dispatcher.dispatch(h)}).on("close",function(){c._ackStateMap.forEach(function(h){h.reject(oe.connectionClosed)}),c._ackStateMap.clear()})}return e.prototype._sendApiRequest=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.apiClient.send(n)];case 1:return[2,t.sent()]}})})},e.prototype._sendWebsocketRequest=function(n){return I(this,void 0,void 0,function(){var t,r,i,o=this;return O(this,function(u){if(t=new _a,n.ackRequired){r=null,i=function(c,h){c===void 0&&(c=null),h===void 0&&(h=null),o._ackStateMap.has(n.requestId)&&(o._ackStateMap.delete(n.requestId),r&&(clearTimeout(r),r=null),c?(o._logger.debug("fail websocket request",c),t.reject(c)):(o._logger.debug("receive websocket ack",n.requestId),t.resolve(h)))};try{r=setTimeout(function(){return i(oe.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(n.requestId,{resolve:function(c){return i(null,c)},reject:function(c){return i(c)}}),this.websocketClient.send(n)}catch(c){i(c)}}else try{this.websocketClient.send(n),t.resolve(null)}catch(c){t.reject(c)}return[2,t.promise]})})},e.prototype.send=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return n instanceof De?[4,this._sendApiRequest(n)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return n instanceof Wa?[4,this._sendWebsocketRequest(n)]:[3,4];case 4:throw oe.invalidParameters}})})},e.prototype.cancel=function(n){this.apiClient.cancel(n)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();(function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.DISCONNECTED=5]="DISCONNECTED",e[e.LOGOUT=6]="LOGOUT"})(Tt||(Tt={}));var kt,Rs,Er,mi,Sh,vi,ra,Uu,Ft,fo=function(e){function n(t){var r=t.stateType,i=e.call(this)||this;return i.stateType=r,i}return B(n,e),n}(ai),Wne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,u=t.logger,c=this;this._currentConnectionStateType=Tt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Vne(n,{auth:r,sdkState:i,dispatcher:o,logger:u}),this._auth=r,this._logger=u,this._dispatcher=o,this._dispatcher.on(function(h){if(h instanceof fo){var f=h.stateType;switch(c._currentConnectionStateType=f,f){case Tt.CONNECTED:var v=c._lazyCallQueue;c._lazyCallQueue=[],v.forEach(function(_){return I(c,void 0,void 0,function(){var y,E,k,S,D;return O(this,function(N){switch(N.label){case 0:y=_.command,E=_.deferred,k=_.timeout,clearTimeout(k),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.send(y)];case 2:return S=N.sent(),E.resolve(S),[3,4];case 3:return D=N.sent(),E.reject(D),[3,4];case 4:return[2]}})})});break;case Tt.INITIALIZED:case Tt.DISCONNECTED:case Tt.LOGOUT:v=c._lazyCallQueue,c._lazyCallQueue=[],v.forEach(function(_){return I(c,void 0,void 0,function(){var y,E;return O(this,function(k){return y=_.deferred,E=_.timeout,clearTimeout(E),this._auth&&this._auth.hasSession?y.reject(oe.connectionClosed):y.reject(oe.connectionRequired),[2]})})})}}})}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Tt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Tt.CONNECTING||this._currentConnectionStateType===Tt.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.send=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return n instanceof Wa?this.isReady?(this._logger.debug("send websocket request",n),[4,this.commandRouter.send(n)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",n),t=new _a,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),oe.connectionRequired;case 3:return[3,7];case 4:return n instanceof De?this._auth.hasSession?(this._logger.debug("send api request",n),[4,this.commandRouter.send(n)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",n),t=new _a,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw r=oe.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},e.prototype.forceSend=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this._logger.debug("send websocket request (forced)",n),[4,this.commandRouter.send(n)];case 1:return[2,t.sent()]}})})},e.prototype.timeout=function(n){this._logger.debug("timeout request",n);var t=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===n});t>-1&&(this._lazyCallQueue[t].deferred.reject(oe.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(n){this._logger.debug("cancel api request",n),this.commandRouter.cancel(n)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),Kne=function(e){function n(t){var r=t.userId,i=t.authToken,o=t.expiringSession,u=o===void 0||o,c=e.call(this)||this;return c.path="/users/".concat(r,"/session_key"),c.method=Re.POST,c.params={token:i,expiring_session:!!u},c.requireAuth=!1,c}return B(n,e),n}(De),Qne=function(e){function n(t){var r=t.authToken,i=t.expiringSession,o=i===void 0||i;return e.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0},ackRequired:!0})||this}return B(n,e),n}(Wa),Yne=function(e){function n(t,r){var i=e.call(this,t,r)||this,o=r.key;return i.key=o,i}return B(n,e),n}(Fe),Xne=function(e){function n(t,r,i){var o=e.call(this,t,"LOGI",i)||this;return o.error=null,o.newKey=i.new_key,o.error=i.error?new oe(i.error):null,o}return B(n,e),n}(Mt),Jne=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n}(ai),Cs=function(e){return I(void 0,void 0,void 0,function(){return O(this,function(n){return[2,new Promise(function(t){return setTimeout(t,e)})]})})},K7=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),l_=function(e,n,t){return t===void 0&&(t=new K7),I(void 0,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:r=0,i=null,o=function(v){return v===void 0&&(v=null),i=v!=null?v:new Error("Halted")},u=function(){r=0},f.label=1;case 1:if(!(n===-1||r<n))return[3,9];f.label=2;case 2:return f.trys.push([2,4,,8]),[4,e(o,u)];case 3:if(c=f.sent(),i)throw i;return[2,c];case 4:if(h=f.sent(),i)return[3,6];if(++r===n)throw h;return[4,Cs(t.calcTimeout(r))];case 5:return f.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Ze=function(e){return I(void 0,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return t.sent(),[3,3];case 2:if(!((n=t.sent())instanceof oe))throw n;return n.throwOutside(),[3,3];case 3:return[2]}})})},Ms=function(e){return I(void 0,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})},Zne=function(){function e(n){var t=n.auth,r=n.sdkState,i=n.dispatcher,o=n.requestQueue,u=n.logger,c=this;this._currentConnectionStateType=Tt.INITIALIZED,this.auth=t,this._sdkState=r,this._dispatcher=i,this._requestQueue=o,this._logger=u,this._dispatcher.on(function(h){if(h instanceof fo){var f=h.stateType;c._currentConnectionStateType=f}else h instanceof o_&&c.refresh()})}return e.prototype.createRefreshWebsocketCommand=function(n){return new Qne({authToken:n,expiringSession:!0})},e.prototype._refreshSessionKey=function(n,t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v=this;return O(this,function(_){switch(_.label){case 0:if(this._currentConnectionStateType!==Tt.CONNECTED)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),r=this.createRefreshWebsocketCommand(n),[4,this._requestQueue.forceSend(r)];case 2:if(i=_.sent(),o=i.as(Xne),u=o.newKey,c=o.error)throw c;return this.auth.sessionKey=u!=null?u:this.auth.sessionKey,this._logger.debug("session refreshed"),Ze(function(){return I(v,void 0,void 0,function(){return O(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2];case 3:if(h=_.sent(),so(h))throw h;return h.isSessionTokenExpiredError?(this._handleError(t),[2]):[3,4];case 4:return _.trys.push([4,6,,7]),f=new Kne({userId:this._sdkState.userId,authToken:n,expiringSession:!0}),[4,l_(function(y){return I(v,void 0,void 0,function(){var E,k,S;return O(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(f)];case 1:return E=D.sent(),k=E.as(Yne).key,this.auth.sessionKey=k,[3,3];case 2:throw(S=D.sent()).isSessionTokenExpiredError&&y(oe.sessionTokenRefreshFailed),S;case 3:return[2]}})})},3)];case 5:return _.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return _.sent(),this._handleError(t),[2];case 7:return Ze(function(){return I(v,void 0,void 0,function(){return O(this,function(y){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2]}})})},e.prototype._handleError=function(n){var t=this,r=oe.sessionTokenRefreshFailed;Ze(function(){return I(t,void 0,void 0,function(){return O(this,function(i){return this.handler.onSessionError(r),[2]})})}),n&&n.reject(r)},e.prototype.refresh=function(){return I(this,void 0,void 0,function(){var n,t,r,i=this;return O(this,function(o){return this.handler?(n=new _a,t=function(u){u?(i._logger.debug("session refreshing.."),i.auth.authToken=u,i._refreshSessionKey(u,n)):(i._logger.debug("session closed"),Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(c){return this.handler.onSessionClosed(),[2]})})}),n.resolve())},r=function(){i._dispatcher.dispatch(new Jne);var u=oe.sessionTokenRequestFailed;i.handler&&(Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(c){return this.handler.onSessionError(u),[2]})})}),n.reject(u))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,n):Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(u){return this.handler.onSessionTokenRequired(t,r),[2]})})}),[2,n.promise]):[2]})})},e}(),Bh=function(){function e(){this.type=Tt.NONE,this.name="none"}return e.prototype.run=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2]})})},e.prototype.onConnect=function(n,t){return I(this,void 0,void 0,function(){return O(this,function(r){return[2]})})},e.prototype.onReconnect=function(n,t){return t.resetReconnectCount,I(this,void 0,void 0,function(){return O(this,function(r){return[2]})})},e.prototype.onDisconnect=function(n,t){return t.error,t.autoReconnect,I(this,void 0,void 0,function(){return O(this,function(r){return[2]})})},e.prototype.onLogout=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2]})})},e}(),h0=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Tt.LOGOUT,t.name="logout",t}return B(n,e),n.prototype.run=function(t){return I(this,void 0,void 0,function(){var r,i=this;return O(this,function(o){switch(o.label){case 0:return r=t.sdkState.userId,t.logout(),Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(u){return t.connectionHandlers.forEach(function(c){c.onDisconnected(r)}),[2]})})}),[4,t.changeState(new D3)];case 1:return o.sent(),[2]}})})},n}(Bh),F2=function(e){function n(t){var r=t.autoReconnect,i=e.call(this)||this;return i.type=Tt.DISCONNECTED,i.name="disconnected",i._autoReconnect=!1,i._autoReconnect=r,i}return B(n,e),n.prototype.run=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return t.disconnect(),this._autoReconnect?[4,t.changeState(new H2)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.onConnect=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return t.disconnect(),[4,t.changeState(new Y7({authToken:r}))];case 1:return i.sent(),[2]}})})},n.prototype.onReconnect=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,t.changeState(new H2)];case 1:return r.sent(),[2]}})})},n.prototype.onLogout=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,t.changeState(new h0)];case 1:return r.sent(),[2]}})})},n}(Bh),H2=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Tt.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return B(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h=this;return O(this,function(f){switch(f.label){case 0:r=new _a,this._callbacks.push(function(v){return v?r.reject(v):r.resolve()}),Ze(function(){return I(h,void 0,void 0,function(){return O(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectStarted()}),[2]})})}),f.label=1;case 1:return f.trys.push([1,4,,9]),i=t.sdkState.websocket,o=i.reconnectMaxRetry,u=i.reconnectRetryStrategy,[4,l_(function(v,_){return I(h,void 0,void 0,function(){var y;return O(this,function(E){switch(E.label){case 0:this._haltConnect=v,this._resetConnect=_,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,t.connect()];case 2:return E.sent(),[3,4];case 3:if((y=E.sent())instanceof oe&&y.code===Yn.CONNECTION_CANCELED)return v(y),[2];throw y;case 4:return[2]}})})},o,u)];case 2:return f.sent(),[4,t.changeState(new Q7)];case 3:return f.sent(),Ze(function(){return I(h,void 0,void 0,function(){return O(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return c=f.sent(),so(c)?[3,7]:c instanceof oe?c.code===Yn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new F2({autoReconnect:!1}))]:[3,6];case 5:f.sent(),f.label=6;case 6:return Ze(function(){return I(h,void 0,void 0,function(){return O(this,function(v){return t.connectionHandlers.forEach(function(_){_.onReconnectFailed()}),this.flushCallbacks(c),[2]})})}),[3,8];case 7:throw c;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t,r){return I(this,void 0,void 0,function(){var i;return O(this,function(o){return i=new _a,this._resetConnect&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(u){return u?i.reject(u):i.resolve()}),[2,i.promise]})})},n.prototype.onReconnect=function(t,r){var i=r.resetReconnectCount,o=i!==void 0&&i;return I(this,void 0,void 0,function(){var u;return O(this,function(c){return u=new _a,this._resetConnect&&o&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(h){return h?u.reject(h):u.resolve()}),[2,u.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i,u=r.autoReconnect,c=u===void 0||u;return I(this,void 0,void 0,function(){return O(this,function(h){switch(h.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:oe.connectionCanceled),[4,t.changeState(new F2({autoReconnect:c}))];case 1:return h.sent(),[2]}})})},n.prototype.onLogout=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(oe.connectionCanceled),[4,t.changeState(new h0)];case 1:return r.sent(),[2]}})})},n}(Bh),Q7=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Tt.CONNECTED,t.name="connected",t}return B(n,e),n.prototype.onReconnect=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return t.disconnect(),[4,t.changeState(new H2)];case 1:return r.sent(),[2]}})})},n.prototype.onDisconnect=function(t,r){var i=r.autoReconnect;return I(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,t.changeState(new F2({autoReconnect:i}))];case 1:return o.sent(),[2]}})})},n.prototype.onLogout=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,t.changeState(new h0)];case 1:return r.sent(),[2]}})})},n}(Bh),Y7=function(e){function n(t){var r=t.authToken,i=e.call(this)||this;return i.type=Tt.CONNECTING,i.name="connecting",i._authToken="",i._haltConnect=null,i._callbacks=[],i._authToken=r,i}return B(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return I(this,void 0,void 0,function(){var r,i,o=this;return O(this,function(u){switch(u.label){case 0:r=new _a,this._callbacks.push(function(c){return c?r.reject(c):r.resolve()}),u.label=1;case 1:return u.trys.push([1,4,,9]),[4,l_(function(c){return I(o,void 0,void 0,function(){var h;return O(this,function(f){switch(f.label){case 0:this._haltConnect=c,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t.connect(this._authToken)];case 2:return f.sent(),[3,4];case 3:if((h=f.sent())instanceof oe&&h.code===Yn.CONNECTION_CANCELED)return c(h),[2];throw h;case 4:return[2]}})})},t.sdkState.websocket.connectMaxRetry)];case 2:return u.sent(),[4,t.changeState(new Q7)];case 3:return u.sent(),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(c){return t.connectionHandlers.forEach(function(h){h.onConnected(t.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return i=u.sent(),so(i)?[3,7]:(t.disconnect(),i instanceof oe?i.code===Yn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new D3)]:[3,6]);case 5:u.sent(),u.label=6;case 6:return Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(c){return this.flushCallbacks(i),[2]})})}),[3,8];case 7:throw i;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){return r=new _a,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i;return I(this,void 0,void 0,function(){return O(this,function(u){switch(u.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:oe.connectionCanceled),[4,t.changeState(new h0)];case 1:return u.sent(),[2]}})})},n.prototype.onLogout=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(oe.connectionCanceled),[4,t.changeState(new h0)];case 1:return r.sent(),[2]}})})},n}(Bh),D3=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Tt.INITIALIZED,t.name="initialized",t}return B(n,e),n.prototype.onConnect=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,t.changeState(new Y7({authToken:r}))];case 1:return i.sent(),[2]}})})},n}(Bh),gD=new Map,p0=function(e,n){var t;return n===void 0&&(n=null),n!==null&&gD.set(e,n),(t=gD.get(e))!==null&&t!==void 0?t:""},ete=function(e){e===void 0&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?1048576*e.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!e.use_reaction,this.applicationAttributes=e.application_attributes||[],this.premiumFeatureList=e.premium_feature_list||[]},mo=function(){function e(n){this._iid="",this._iid=n}return e.payloadify=function(n){return n?{}:null},e}(),et="/".concat("v3","/users"),nte="/".concat("v3","/storage/file"),qi="/".concat("v3","/group_channels"),tte="/".concat("v3","/sdk/group_channels"),td="/".concat("v3","/open_channels"),rte="/".concat("v3","/sdk/open_channels"),ite="/".concat("v3","/search"),vD="/".concat("v3","/report"),ate="/".concat("v3","/emojis"),X7="/".concat("v3","/emoji_categories"),J7="/".concat("v3","/scheduled_messages"),ste="/".concat("v3","/sdk/statistics"),ote=function(e){function n(t){var r=t.userId,i=t.metadata,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(et,"/").concat(r,"/metadata"),o.params={metadata:i},o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}B(n,e)})(Fe),function(e){e.BASE="base",e.GROUP="group",e.OPEN="open"}(kt||(kt={})),function(e){e.OPERATOR="operator",e.NONE="none"}(Rs||(Rs={})),function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(Er||(Er={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(mi||(mi={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Sh||(Sh={})),function(e){e.USERS="users",e.CHANNEL="channel"}(vi||(vi={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(ra||(ra={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(Uu||(Uu={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(Ft||(Ft={}));var vt=function(e){switch(e){case kt.GROUP:return qi;case kt.OPEN:return td;default:return null}},Z7=function(e){switch(e){case kt.GROUP:return"".concat(vD,"/group_channels");case kt.OPEN:return"".concat(vD,"/open_channels");default:return null}},Nh=function(e,n,t){var r,i;switch(e){case vi.CHANNEL:return!0;case vi.USERS:if(n)try{for(var o=je(n),u=o.next();!u.done;u=o.next())if(u.value===t)return!0}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}return!1},U3=function(e,n,t){var r=Nh(e.mentionType,e.mentionedUserIds,t),i=Nh(n.mentionType,n.mentionedUserIds,t);return!r&&i?1:r&&!i?-1:0},lte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0},r}return B(n,e),n}(De),eF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaData=r!=null?r:{},i}return B(n,e),n}(Fe),ute=function(e){function n(t){var r=t.userId,i=t.metadata,o=t.upsert,u=e.call(this)||this;return u.method=Re.PUT,u.path="".concat(et,"/").concat(r,"/metadata"),u.params={metadata:i,upsert:o},u}return B(n,e),n}(De),cte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}return B(n,e),n}(Fe),dte=function(e){function n(t){var r=t.userId,i=t.metadataKey,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(r,"/metadata/").concat(i),o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var hte=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.DELETE,i.path="".concat(et,"/").concat(r,"/metadata"),i}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var lh,I0=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return t._iid&&delete t._iid,n&&n(t),t},qc=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return n&&n(t),t},qe=function(e){return{do:function(n){e||n()},throw:function(n){if(!e)throw n}}};(function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"})(lh||(lh={}));var Cc,An=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D=this;return(D=e.call(this,t)||this).userId=(o=(i=r.guest_id)!==null&&i!==void 0?i:r.user_id)!==null&&o!==void 0?o:"",D.nickname=(c=(u=r.nickname)!==null&&u!==void 0?u:r.name)!==null&&c!==void 0?c:"",D.plainProfileUrl=(f=(h=r.profile_url)!==null&&h!==void 0?h:r.image)!==null&&f!==void 0?f:"",D.requireAuth=(v=r.require_auth_for_profile_image)!==null&&v!==void 0&&v,D.metaData=(_=r.metadata)!==null&&_!==void 0?_:{},D.connectionStatus=lh.NON_AVAILABLE,Cn(lh,r.is_online)?D.connectionStatus=r.is_online:J("boolean",r.is_online)&&(D.connectionStatus=r.is_online?lh.ONLINE:lh.OFFLINE),D.isActive=(y=r.is_active)===null||y===void 0||y,D.lastSeenAt=(E=r.last_seen_at)!==null&&E!==void 0?E:null,D.preferredLanguages=r.preferred_languages?vn([],_n(r.preferred_languages),!1):null,D.friendDiscoveryKey=(k=r.friend_discovery_key)!==null&&k!==void 0?k:null,D.friendName=(S=r.friend_name)!==null&&S!==void 0?S:null,D}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(n.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(p0(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return I0(this)},n.prototype._isValidMetaData=function(t){return!Array.isArray(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(r){return t[r]}).every(function(r){return J("string",r)})},n.prototype._applyMetaData=function(t,r){var i=this;r===void 0&&(r=!1),Object.keys(t).forEach(function(o){r?delete i.metaData[o]:i.metaData[o]=t[o]})},n.prototype.createMetaData=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(this._isValidMetaData(t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new ote({userId:i.userId,metadata:t}),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(eF).metaData,this._applyMetaData(h),[2,this.metaData]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),I(this,void 0,void 0,function(){var i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return qe(this._isValidMetaData(t)).throw(oe.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new ute({userId:o.userId,metadata:t,upsert:r}),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(cte).metadata,this._applyMetaData(f),[2,this.metaData]}})})},n.prototype.deleteMetaData=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new dte({userId:i.userId,metadataKey:t}),[4,o.send(u)];case 1:return h.sent(),this._applyMetaData(((c={})[t]=!0,c),!0),[2,this.metaData]}})})},n.prototype.deleteAllMetaData=function(){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new hte({userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),this.metaData={},[2]}})})},n}(mo),nF=function(e){function n(t){var r=t.userProfile,i=e.call(this)||this;return i.userProfile=r,i}return B(n,e),n}(ai),q2=function(){function e(n,t){var r,i,o,u,c,h,f,v,_,y,E,k,S,D;this._iid=n,this.appInfo=new ete(t),this.user=new An(n,t),this.connectedAt=1e3*((r=t.login_ts)!==null&&r!==void 0?r:0),this.firstConnectedAt=0,this.pingInterval=(i=t.ping_interval)!==null&&i!==void 0?i:15e3,this.pongTimeout=(o=t.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(c=(u=t.reconnect)===null||u===void 0?void 0:u.interval)!==null&&c!==void 0?c:3e3,this.reconnectMaxInterval=(f=(h=t.reconnect)===null||h===void 0?void 0:h.max_interval)!==null&&f!==void 0?f:6e4,this.reconnectRetryCount=(_=(v=t.reconnect)===null||v===void 0?void 0:v.retry_cnt)!==null&&_!==void 0?_:5,this.reconnectIntervalMultiple=(E=(y=t.reconnect)===null||y===void 0?void 0:y.mul)!==null&&E!==void 0?E:2,this.maxUnreadCountOnSuperGroup=(k=t.max_unread_cnt_on_super_group)!==null&&k!==void 0?k:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=(S=t.concurrent_call_limit)!==null&&S!==void 0?S:5,this.backOffDelay=(D=t.back_off_delay)!==null&&D!==void 0?D:100}return e.payloadify=function(n){return Z(Z({},An.payloadify(n.user)),{emoji_hash:n.appInfo.emojiHash,file_upload_size_limit:n.appInfo.uploadSizeLimit,application_attributes:n.appInfo.applicationAttributes,premium_feature_list:n.appInfo.premiumFeatureList,login_ts:n.connectedAt/1e3,ping_interval:n.pingInterval,pong_timeout:n.pongTimeout,reconnect:{interval:n.reconnectInterval,max_interval:n.reconnectMaxInterval,retry_cnt:n.reconnectRetryCount,mul:n.reconnectIntervalMultiple},max_unread_cnt_on_super_group:n.maxUnreadCountOnSuperGroup,profile_image_encryption:n.profileImageEncryption,concurrent_call_limit:n.concurrentCallLimit,back_off_delay:n.backOffDelay})},e.prototype.apply=function(){var n=this.reconnectInterval,t=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,i=ie.of(this._iid);i.sdkState.websocket.pingInterval=1e3*this.pingInterval,i.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,i.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,i.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(n*Math.pow(r,o-1),t):10}},i.appInfo=this.appInfo,i.sessionManager.currentUser=this.user,i.connectedAt=this.connectedAt,this.firstConnectedAt||(i.firstConnectedAt=this.connectedAt),i.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,i.concurrentCallLimit=this.concurrentCallLimit,i.backOffDelay=this.backOffDelay,i.dispatcher.dispatch(new nF({userProfile:this}))},e}(),vE=function(e){function n(t,r,i){var o,u=this;return(u=e.call(this,t,r,i)||this).error=null,u.userProfile=new q2(t,i),u.key=i.key,u.ekey=(o=i.ekey)!==null&&o!==void 0?o:"",u.error=i.error?new oe(i):null,u}return B(n,e),n.asError=function(t){return new n(null,"LOGI",Z({user_id:null,error:!0},t))},n.prototype.applyTo=function(t){if(this.error)throw this.error;var r=ie.of(t);if(!r)throw oe.lostInstance;r.sessionManager.auth.sessionKey=this.key,p0(t,this.ekey),this.userProfile.apply()},n}(Mt),tF=function(e){function n(t){var r=e.call(this)||this;return r.enabled=t,r}return B(n,e),n}(ai),pte=function(e){function n(t,r){var i=r.sdkState,o=r.connectionHandlers,u=r.sessionManager,c=r.websocketClient,h=r.dispatcher,f=r.logger,v=r.entryState,_=v===void 0?new D3:v,y=e.call(this)||this;return y._currentState=null,y._loginTimer=null,y._connectingAt=0,y._connectionRequestQueue=[],y._iid=t,y.sdkState=i,y.connectionHandlers=o,y._sessionManager=u,y._websocketClient=c,y._dispatcher=h,y._logger=f,y._currentState=_,y._websocketClient.on("message",function(E){if(E.code==="LOGI"){y._loginTimer&&(clearTimeout(y._loginTimer),y._loginTimer=null);var k=E.as(vE);if(k.error)k.error.isSessionKeyExpiredError&&y._dispatcher.dispatch(new o_),y._connectionRequestQueue.forEach(function(D){return D.reject(k.error)}),y._statLogConnection(k.error);else{k.applyTo(y._iid),y._connectionRequestQueue.forEach(function(D){return D.resolve()});var S=k.userProfile;y._enableStatLog(S.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),y._statLogConnection(null)}y._connectionRequestQueue=[]}}).on("close",function(){y._connectionRequestQueue.length>0&&(y._connectionRequestQueue.forEach(function(E){return E.reject(oe.networkError)}),y._connectionRequestQueue=[],y._statLogConnection(oe.networkError))}),y}return B(n,e),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),n.prototype.changeState=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this._currentState=t,this._dispatcher.dispatch(new fo({stateType:t.type})),this._logger.debug("connection state changes to ".concat(t.name)),[4,this._currentState.run(this)];case 1:return r.sent(),[2]}})})},n.prototype._url=function(t){t===void 0&&(t="");var r=this.sdkState,i=r.appId,o=r.appVersion,u=r.userId,c=r.extensions,h=this._sessionManager.auth,f=c.sb_syncmanager?"s".concat(c.sb_syncmanager):"",v=c.sb_uikit?"u".concat(c.sb_uikit):"",_="JS/c".concat(Hc.SDK_VERSION,"/").concat(f,"/").concat(v);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Hc.OS_VERSION),"&sv=").concat(encodeURIComponent(Hc.SDK_VERSION),"&ai=").concat(i).concat(o?"&av=".concat(o):"").concat(h.hasSession?"&key=".concat(encodeURIComponent(h.sessionKey)):"&user_id=".concat(encodeURIComponent(u),"&access_token=").concat(encodeURIComponent(t)),"&active=1&SB-User-Agent=").concat(_,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},n.prototype._enableStatLog=function(t){this._dispatcher.dispatch(new tF(t))},n.prototype._statLogConnection=function(t){this._dispatcher.dispatch(new M3(new d0({type:xv.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!t,latency:Date.now()-this._connectingAt,error_code:t==null?void 0:t.code,error_description:t==null?void 0:t.message}})))},n.prototype.connect=function(t){return t===void 0&&(t=""),I(this,void 0,void 0,function(){var r,i,o=this;return O(this,function(u){return r=this._url(t),i=new _a,this._connectionRequestQueue.push(i),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(vE.asError(oe.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(r)),[2,i.promise]})})},n.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(vE.asError(oe.connectionRenew))},n.prototype.disconnect=function(){this._websocketClient.disconnect()},n.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},n}(T0),fte=function(){function e(n,t){var r=t.sdkState,i=t.connectionHandlers,o=t.sessionManager,u=t.websocketClient,c=t.dispatcher,h=t.logger,f=t.disableAutoReconnect,v=f!==void 0&&f,_=this;this._context=null,this._logger=h,this._context=new pte(n,{sdkState:r,connectionHandlers:i,sessionManager:o,websocketClient:u,dispatcher:c,logger:h}),v||u.on("close",function(){r.appState==="foreground"&&setTimeout(function(){_._logger.debug("try reconnect by websocket connection closed"),_.reconnect()},100)})}return Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===Tt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var n=this._context.currentState;return n.type===Tt.CONNECTING||n.type===Tt.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.connect=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onConnect(this._context,n)];case 1:return t.sent(),[2]}})})},e.prototype.reconnect=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return n.sent(),[2]}})})},e.prototype.resetAndReconnect=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return n.sent(),[2]}})})},e.prototype.background=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(n){return n===void 0&&(n=null),I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:n,autoReconnect:!0})];case 1:return t.sent(),[2]}})})},e.prototype.logout=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return n.sent(),[2]}})})},e}(),mte=function(e){function n(t){var r=t.deviceId,i=t.statLogs,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(ste),o.params={device_id:r,log_entries:i.map(function(u){return d0.payloadify(u)})},o}return B(n,e),n}(De);(function(e){e[e.PENDING=0]="PENDING",e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED"})(Cc||(Cc={}));var ul,gte=function(){function e(n){var t=n.cacheContext,r=n.requestQueue,i=n.dispatcher,o=n.baseLimit,u=o===void 0?100:o,c=n.maxLimit,h=c===void 0?1e3:c,f=n.minLimit,v=f===void 0?10:f;this.queue=[],this.enabledstate=Cc.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=As(),this.cacheContext=t,this.requestQueue=r,this.dispatcher=i,this.baseLimit=u,this.limit=u,this.maxLimit=h,this.minLimit=v}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledstate===Cc.ENABLED},enumerable:!1,configurable:!0}),e.prototype._save=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(t){return d0.payloadify(t)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype._flush=function(){return I(this,void 0,void 0,function(){var n,t;return O(this,function(r){switch(r.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),(n=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new mte({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(t)]):[3,4];case 2:return r.sent(),this.queue=this.queue.slice(n.length),[4,this._save()];case 3:r.sent(),r.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return r.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},e.prototype.init=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return this.key=n,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=o.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map(function(u){return new d0({type:u.stat_type,ts:u.ts,data:u.data})}),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(r=Math.min(Math.floor(18e4*Math.random()),100),[4,Cs(r)]):[3,4]):[3,4];case 2:return o.sent(),[4,this._flush()];case 3:o.sent(),o.label=4;case 4:return this.dispatcher.on(function(u){if(u instanceof M3){var c=u.statLog;i.put(c)}else u instanceof tF&&(i.enabledstate=u.enabled?Cc.ENABLED:Cc.DISABLED,i.isEnabled?i.queue.length>=i.limit&&i._flush():i.clear())}),[2]}})})},e.prototype.put=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.enabledstate===Cc.DISABLED?[3,3]:(this.queue.push(n),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return n.sent(),[2]}})})},e}();(function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR"})(ul||(ul={}));var f0,vte=function(){function e(){this.level=ul.WARN}return e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ul.VERBOSE&&console.log.apply(console,vn(["[verbose]"],_n(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ul.DEBUG&&console.log.apply(console,vn(["[debug]"],_n(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ul.INFO&&console.log.apply(console,vn(["[info]"],_n(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ul.WARN&&console.warn.apply(console,vn(["[warn]"],_n(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ul.ERROR&&console.error.apply(console,vn(["[error]"],_n(n),!1))},e}(),hf={},ie=function(){function e(n,t){var r,i,o,u,c,h,f;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!hf[n]){hf[n]=this;var v=(r=t.options)!==null&&r!==void 0?r:new V7,_=this.sdkState={appId:t.appId,appVersion:(i=t.appVersion)!==null&&i!==void 0?i:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=t.apiHost)!==null&&o!==void 0?o:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:(u=t.websocketHost)!==null&&u!==void 0?u:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new K7,responseTimeout:v.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var y=this.logger=new vte;this.logger.level=(c=t.logLevel)!==null&&c!==void 0?c:ul.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new Fne({encryption:t.encryption,store:t.store,localCacheEnabled:(h=t.localCacheEnabled)!==null&&h!==void 0&&h}),this.debugMode=(f=t.debugMode)!==null&&f!==void 0&&f,this.maxSuperGroupChannelUnreadCount=Hc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=v.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=v.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=v.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var E=this.dispatcher=new qne,k=new Hne;this.requestQueue=new Wne(n,{auth:k,sdkState:_,dispatcher:E,logger:y}),this.sessionManager=new Zne({auth:k,sdkState:_,dispatcher:E,requestQueue:this.requestQueue,logger:y}),this.connectionManager=new fte(n,{sdkState:_,connectionHandlers:this.connectionHandlers,dispatcher:E,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:y}),this.statLogCollector=new gte({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:E})}return hf[n]}return e.of=function(n){if(hf[n])return hf[n];throw oe.lostInstance},e}(),L3=function(){function e(){}return e.prototype.init=function(n,t){var r=t.sdkState,i=t.dispatcher,o=t.sessionManager,u=t.requestQueue,c=t.logger;t.onlineDetector;var h=t.cacheContext,f=h===void 0?null:h;this._iid=n,this._cacheContext=f,this._sdkState=r,this._dispatcher=i,this._sessionManager=o,this._requestQueue=u,this._logger=c},e}(),rF=function(e){function n(t){var r=e.call(this)||this;if(r.method=Re.POST,r.path="".concat(nte),r.params=En({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var i=0;i<t.thumbnailSizes.length;i++){var o=t.thumbnailSizes[i],u=o.maxWidth,c=o.maxHeight;r.params["thumbnail".concat(i+1)]="".concat(u,",").concat(c)}return r.requestId=t.requestId,r}return B(n,e),n}(De),iF=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t,r)||this).url=r.url,c.fileSize=(i=r.file_size)!==null&&i!==void 0?i:0,c.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],c.requireAuth=(u=r.require_auth)!==null&&u!==void 0&&u,c}return B(n,e),n}(Fe),B2=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t)||this).replyCount=0,c.mostRepliedUsers=null,c.lastRepliedAt=0,c.updatedAt=0,c.replyCount=(i=r.reply_count)!==null&&i!==void 0?i:0,c.mostRepliedUsers=r.hasOwnProperty("most_replies")&&Sn("object",r.most_replies)?r.most_replies.map(function(h){return new An(c._iid,h)}):[],c.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,c.updatedAt=(u=r.updated_at)!==null&&u!==void 0?u:0,c}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map(function(r){return An.payloadify(r)}):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},n}(mo);(function(e){e.ADD="add",e.DELETE="delete"})(f0||(f0={}));var _u,Ha,P3=function(e){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var n=J("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,t=e.user_id,r=e.operation?e.operation.toLowerCase():null,i=e.reaction,o=e.updated_at;n&&J("string",t)&&J("string",r)&&Cn(f0,r)&&J("string",i)&&i&&J("number",o)&&(this.messageId=n,this.userId=t,this.key=i,this.operation=r,this.updatedAt=o)},vg=function(){function e(n){var t,r,i,o=n.key,u=(i=vn([],_n(n.user_ids),!1))!==null&&i!==void 0?i:[],c=n.updated_at;J("string",o)&&o&&Sn("string",u)&&u.length>0&&J("number",c)&&(this.key=o,this.userIds=u,this.updatedAt=c);var h={};try{for(var f=je(this.userIds),v=f.next();!v.done;v=f.next())h[v.value]=this.updatedAt}catch(_){t={error:_}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}this._version=h}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),e.payloadify=function(n){return n?En({key:n.key,user_ids:n.userIds,updated_at:n.updatedAt}):null},e.prototype.applyEvent=function(n){if(n.key===this.key&&this.updatedAt<=n.updatedAt){if(!this._version[n.userId]||this._version[n.userId]<=n.updatedAt){var t=this.userIds.indexOf(n.userId);switch(n.operation){case f0.ADD:t<0&&this.userIds.push(n.userId);break;case f0.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[n.userId]=n.updatedAt}this.updatedAt=Math.max(this.updatedAt,n.updatedAt)}},e}(),va=function(){function e(n){this.key=n.key,this.value=Sn("string",n.value)?vn([],_n(n.value),!1):[]}return e.payloadify=function(n){var t;return n?En({key:n.key,value:(t=n.value)!==null&&t!==void 0?t:[]}):null},e}(),_D=function(){function e(n){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=n.url,n.hasOwnProperty("secure_url")&&(this.secureUrl=n.secure_url),n.hasOwnProperty("type")&&(this.type=n.type),n.hasOwnProperty("width")&&(this.width=n.width),n.hasOwnProperty("height")&&(this.height=n.height),n.hasOwnProperty("alt")&&(this.alt=n.alt)}return e.payloadify=function(n){var t,r;return n?En({url:n.url,secure_url:n.secureUrl,type:n.type,width:(t=n.width)!==null&&t!==void 0?t:0,height:(r=n.height)!==null&&r!==void 0?r:0,alt:n.alt}):null},e}(),bD=function(){function e(n){this.title=null,this.url=null,this.description=null,this.defaultImage=null,n.hasOwnProperty("og:title")&&(this.title=n["og:title"]),n.hasOwnProperty("og:url")&&(this.url=n["og:url"]),n.hasOwnProperty("og:description")&&(this.description=n["og:description"]),n.hasOwnProperty("og:image")&&(this.defaultImage=new _D(n["og:image"]))}return e.payloadify=function(n){return n?En({"og:title":n.title,"og:url":n.url,"og:description":n.description,"og:image":n.defaultImage?_D.payloadify(n.defaultImage):null}):null},e}(),Fo=function(){function e(n){var t,r;this.name=null,this.volume=0,this.name=(t=n.name)!==null&&t!==void 0?t:"default",this.volume=(r=n.volume)!==null&&r!==void 0?r:1}return e.payloadify=function(n){return n?En({name:n.name,volume:n.volume}):null},e}();(function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"})(_u||(_u={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(Ha||(Ha={}));var Oi,_te=function(e){switch(e){case Er.BASE:return"";case Er.USER:return"MESG";case Er.FILE:return"FILE";case Er.ADMIN:return"ADMM"}},kv=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D,N=this;(N=e.call(this,t)||this).channelUrl=null,N.channelType=kt.BASE,N.messageId=0,N.parentMessageId=null,N.parentMessage=null,N.silent=!1,N.isOperatorMessage=!1,N.messageType=Er.BASE,N.data=null,N.customType=null,N.mentionType=null,N.mentionedUsers=[],N.mentionedUserIds=[],N.mentionedMessageTemplate=null,N.threadInfo=null,N.reactions=[],N.metaArrays=[],N.ogMetaData=null,N.appleCriticalAlertOptions=null,N.createdAt=0,N.updatedAt=0,N.scheduledInfo=null,N._scheduledStatus=Ha.PENDING,N.messageId=(o=(i=r.msg_id)!==null&&i!==void 0?i:r.message_id)!==null&&o!==void 0?o:0,N.channelUrl=r.channel_url,N.channelType=Cn(kt,r.channel_type)?r.channel_type:kt.GROUP,r.channel&&(r.channel.channel_url&&(N.channelUrl=r.channel.channel_url),r.channel.channel_type&&(N.channelType=r.channel.channel_type)),N.parentMessageId=(u=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&u!==void 0?u:0,N.data=(c=r.data)!==null&&c!==void 0?c:"",N.customType=(h=r.custom_type)!==null&&h!==void 0?h:"",N.mentionType=Cn(vi,r.mention_type)?r.mention_type:null;var C=r.mentioned_users;N.mentionedUsers=C?C.map(function(W){return new An(N._iid,W)}):null;var A=r.mentioned_user_ids;N.mentionedUserIds=A!=null?A:null,N.mentionedMessageTemplate=(f=r.mentioned_message_template)!==null&&f!==void 0?f:"",N.threadInfo=r.thread_info?new B2(N._iid,r.thread_info):null,N.reactions=r.reactions?r.reactions.map(function(W){return new vg(W)}):[];for(var q=(v=r.metaarray)!==null&&v!==void 0?v:{},K=(_=r.metaarray_key_order)!==null&&_!==void 0?_:Object.keys(q).sort(function(W,de){return W.localeCompare(de)}),z=0;z<K.length;z++){var V=K[z];N.metaArrays.push(new va({key:V,value:q[V]||[]}))}return r.sorted_metaarray&&(N.metaArrays=r.sorted_metaarray.map(function(W){return new va(W)})),N.ogMetaData=r.og_tag?new bD(r.og_tag):null,N.silent=(y=r.silent)!==null&&y!==void 0&&y,N.isOperatorMessage=(E=r.is_op_msg)!==null&&E!==void 0&&E,N.appleCriticalAlertOptions=r.apple_critical_alert_options?new Fo(r.apple_critical_alert_options):null,N.createdAt=(S=(k=r.created_at)!==null&&k!==void 0?k:r.ts)!==null&&S!==void 0?S:0,N.updatedAt=(D=r.updated_at)!==null&&D!==void 0?D:0,typeof r.scheduled_message_id=="number"&&r.scheduled_at&&r.scheduled_status&&(N.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},N._scheduledStatus=r.scheduled_status),N}return B(n,e),n.payloadify=function(t){var r,i,o,u;return t?En(Z(Z({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:_te(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map(function(c){return An.payloadify(c)}),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?B2.payloadify(t.threadInfo):null,reactions:t.reactions.map(function(c){return vg.payloadify(c)}),sorted_metaarray:(i=t.metaArrays)===null||i===void 0?void 0:i.map(function(c){return va.payloadify(c)}),og_tag:bD.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:(o=t.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(u=t.scheduledInfo)===null||u===void 0?void 0:u.scheduledAt,scheduled_status:t._scheduledStatus})):null},n.prototype.isIdentical=function(t){return this.messageId===t.messageId},n.prototype.isEqual=function(t){return j7(this,t)},n.prototype.isUserMessage=function(){return this.messageType===Er.USER},n.prototype.isFileMessage=function(){return this.messageType===Er.FILE},n.prototype.isAdminMessage=function(){return this.messageType===Er.ADMIN},n.prototype.serialize=function(){return I0(this)},n.prototype.getMetaArraysByKeys=function(t){return this.metaArrays.filter(function(r){return t.includes(r.key)})},n.prototype.applyThreadInfoUpdateEvent=function(t){return this.parentMessageId===t.targetMessageId&&(this.threadInfo=t.threadInfo),!1},n.prototype.applyReactionEvent=function(t){if(this.messageId===t.messageId){for(var r=!1,i=0;i<this.reactions.length;i++)if(this.reactions[i].key===t.key){this.reactions[i].applyEvent(t),this.reactions[i].isEmpty&&this.reactions.splice(i,1),r=!0;break}r||t.operation!=="add"||this.reactions.push(new vg(vg.payloadify({key:t.key,userIds:[t.userId],updatedAt:t.updatedAt})))}},n.prototype.applyParentMessage=function(t){if(this.parentMessageId===t.messageId){var r=this.parentMessage.updatedAt;if(t.updatedAt>=r)return this.parentMessage=t,!0}return!1},n}(mo),m0=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.role=null,i.isBlockedByMe=!1,i.role=Cn(Rs,r.role)?r.role:Rs.NONE,r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),i}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},n}(An),Qr=function(e){function n(t,r){var i,o,u,c,h=this;if((h=e.call(this,t,r)||this).sender=null,h.reqId="",h.replyToChannel=!1,h.sendingStatus=Ft.PENDING,h.errorCode=0,h.sender=r.user?new m0(h._iid,r.user):r.sender_id,h.reqId=(o=(i=r.req_id)!==null&&i!==void 0?i:r.request_id)!==null&&o!==void 0?o:"",h.replyToChannel=(u=r.is_reply_to_channel)!==null&&u!==void 0&&u,h.sendingStatus=h.messageId>0?Ft.SUCCEEDED:Ft.FAILED,r.request_state&&Cn(Ft,r.request_state)&&(h.sendingStatus=r.request_state),r.scheduled_status)switch(r.scheduled_status){case Ha.SENT:case Ha.IN_QUEUE:h.sendingStatus=Ft.SUCCEEDED;break;case Ha.PENDING:h.sendingStatus=Ft.SCHEDULED;break;case Ha.FAILED:case Ha.REMOVED:h.sendingStatus=Ft.FAILED;break;case Ha.CANCELED:h.sendingStatus=Ft.CANCELED}return h.errorCode=(c=r.error_code)!==null&&c!==void 0?c:0,h}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{user:m0.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(n.prototype,"isResendable",{get:function(){return this.sendingStatus===Ft.FAILED&&(t=this.errorCode)>0&&Mne.indexOf(t)>=0;var t},enumerable:!1,configurable:!0}),n.prototype.isIdentical=function(t){return this.messageId>0&&t.messageId>0?this.messageId===t.messageId:this.reqId===t.reqId},n}(kv),u_=function(){function e(n){var t,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=n.url,this.width=n.width,this.height=n.height,this.realWidth=(t=n.real_width)!==null&&t!==void 0?t:n.width,this.realHeight=(r=n.real_height)!==null&&r!==void 0?r:n.height}return e.payloadify=function(n){return n?En({url:"",width:n.maxWidth,height:n.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(e.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),e}(),c_={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:mi.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},F3=function(e){return J("number",e.prevResultSize)&&J("number",e.nextResultSize)&&J("boolean",e.isInclusive)&&J("boolean",e.reverse)&&J("string",e.messageTypeFilter)&&Cn(mi,e.messageTypeFilter)&&Sn("string",e.customTypesFilter,!0)&&Sn("string",e.senderUserIdsFilter,!0)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeReactions)&&J("boolean",e.includeParentMessageInfo)},Th=function(e){function n(t,r){var i,o,u,c,h=this;if((h=e.call(this,t,r)||this).message=null,h.translations={},h.message=(i=r.message)!==null&&i!==void 0?i:"",h.messageType=Er.ADMIN,h.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var f=r.parent_message_info,v=Z(Z({},f),{message_id:h.parentMessageId,channel_url:h.channelUrl,channel_type:h.channelType,file:f.file,url:(u=f.file)===null||u===void 0?void 0:u.url,require_auth:(c=f.file)===null||c===void 0?void 0:c.require_auth});h.parentMessage=Hs(t,v)}return h}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:d_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},c_),r),qe(this.messageId>0&&J("number",t)&&F3(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(kv),yD=function(){function e(n){var t,r;this.type=null,this.vendor=null,this.detail={},this.type=(t=n.type)!==null&&t!==void 0?t:"",this.vendor=(r=n.vendor)!==null&&r!==void 0?r:"",n.hasOwnProperty("detail")&&J("object",n.detail)&&!Array.isArray(n.detail)&&(this.detail=n.detail)}return e.payloadify=function(n){return n?En({type:n.type,vendor:n.vendor,detail:n.detail}):null},e}(),ri=function(e){function n(t,r){var i,o,u,c,h,f,v,_=this;if((_=e.call(this,t,r)||this).message="",_.messageParams=null,_.translations={},_.translationTargetLanguages=[],_.messageSurvivalSeconds=-1,_.plugins=[],_.message=r.message,_.messageType=Er.USER,_.translations=(u=r.translations)!==null&&u!==void 0?u:{},_.translationTargetLanguages=(c=r.target_langs)!==null&&c!==void 0?c:[],_.translations==={}&&_.translationTargetLanguages.length>0)try{for(var y=je(_.translationTargetLanguages),E=y.next();!E.done;E=y.next()){var k=E.value;_.translations[k]=""}}catch(N){i={error:N}}finally{try{E&&!E.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}if(_.messageSurvivalSeconds=(h=r.message_survival_seconds)!==null&&h!==void 0?h:-1,_.plugins=r.plugins?r.plugins.map(function(N){return new yD(N)}):[],r.parent_message_info){var S=r.parent_message_info,D=Z(Z({},S),{created_at:S.ts,message_id:_.parentMessageId,channel_url:_.channelUrl,channel_type:_.channelType,file:S.file,url:(f=S.file)===null||f===void 0?void 0:f.url,require_auth:(v=S.file)===null||v===void 0?void 0:v.require_auth});_.parentMessage=Hs(t,En(D))}return _}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map(function(r){return yD.payloadify(r)}),parent_message_info:d_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},c_),r),qe(this.messageId>0&&J("number",t)&&F3(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(Qr),d_=function(e){if(e)switch(e.messageType){case Er.USER:return ri.payloadify(e);case Er.FILE:return Jr.payloadify(e);case Er.ADMIN:return Th.payloadify(e)}return null},Hs=function(e,n){switch(n.type){case"MESG":return new ri(e,n);case"FILE":return new Jr(e,n);case"ADMM":case"BRDM":return new Th(e,n)}return null},Jr=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A=this;(A=e.call(this,t,r)||this).messageParams=null,A.plainUrl="",A.requireAuth=!1,A.name=null,A.size=0,A.type=null,A.thumbnails=[],A.messageSurvivalSeconds=-1,A.messageType=Er.FILE;var q=(i=r.file)!==null&&i!==void 0?i:null;if(A.plainUrl=((u=(o=q==null?void 0:q.url)!==null&&o!==void 0?o:r.url)!==null&&u!==void 0?u:"").split("?auth=")[0],A.name=(h=(c=q==null?void 0:q.name)!==null&&c!==void 0?c:r.name)!==null&&h!==void 0?h:"File",A.size=(v=(f=q==null?void 0:q.size)!==null&&f!==void 0?f:r.size)!==null&&v!==void 0?v:0,A.data=(y=(_=q==null?void 0:q.data)!==null&&_!==void 0?_:r.custom)!==null&&y!==void 0?y:"",A.type=q?(E=q.type)!==null&&E!==void 0?E:"":(k=r.type)!==null&&k!==void 0?k:"",A.requireAuth=(S=r.require_auth)!==null&&S!==void 0&&S,A.thumbnails=r.thumbnails?r.thumbnails.map(function(V){return new u_(Z(Z({},V),{url:"".concat(V.url.split("?auth=")[0]).concat(A.requireAuth?"?auth=".concat(p0(A._iid)):"")}))}):[],A.messageSurvivalSeconds=(D=r.message_survival_seconds)!==null&&D!==void 0?D:-1,r.parent_message_info){var K=r.parent_message_info,z=Z(Z({},K),{message_id:A.parentMessageId,channel_url:A.channelUrl,channel_type:A.channelType,file:K.file,url:(N=K.file)===null||N===void 0?void 0:N.url,require_auth:(C=K.file)===null||C===void 0?void 0:C.require_auth});A.parentMessage=Hs(t,z)}return A}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:d_(t.parentMessage)})):null},Object.defineProperty(n.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(p0(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),n.prototype.getThreadedMessagesByTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},c_),r),qe(this.messageId>0&&J("number",t)&&F3(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(Qr),bte=function(e){function n(t){var r,i,o,u=[];return t.mentionType===vi.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(c){return c.userId}))),e.call(this,{code:"FILE",ackRequired:!0,payload:En({channel_url:t.channelUrl,url:t.url,name:(r=t.fileName)!==null&&r!==void 0?r:"",type:(i=t.mimeType)!==null&&i!==void 0?i:"",size:(o=t.fileSize)!==null&&o!==void 0?o:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:u,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Uu.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(n,e),n}(Wa),yte=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];return t.mentionType===vi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(u){return u.userId}))),i.method=Re.POST,i.path="".concat(vt(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),i.params=En({message_type:Er.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:o,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map(function(u){return u_.payloadify(u)}),require_auth:t.requireAuth,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(u){return va.payloadify(u)}),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId}),i}return B(n,e),n}(De),H3=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"FILE",i)||this).message=new Jr(t,i);var f=ie.of(t).sdkState;return h.isMentioned=Nh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Mt),Ete=function(e){function n(t,r){var i,o,u=this;(u=e.call(this,t,r)||this).message=new Jr(t,r);var c=ie.of(t).sdkState;return u.isMentioned=Nh(u.message.mentionType,(i=u.message.mentionedUserIds)!==null&&i!==void 0?i:u.message.mentionedUsers.map(function(h){return h.userId}),c.userId),u.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,u}return B(n,e),n}(Fe);(function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"})(Oi||(Oi={}));var bn,wte=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,c=t.cacheContext,h=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=n,this._sdkState=r,this._requestQueue=o,this._cacheContext=c,this._dispatcher=i,this._dispatcher.on(function(f){f instanceof fo&&(h._connectionState=f.stateType)}),this._onlineDetector=u}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Tt.CONNECTED||this._connectionState===Tt.CONNECTING||this._connectionState===Tt.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(n,t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new bte(Z(Z({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return i=o.sent(),[2,i.as(H3).message];case 2:return r=new yte(Z(Z({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)];case 3:return i=o.sent(),[2,i.as(Ete).message]}})})},e.prototype._resolveMessageQueue=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E;return O(this,function(k){switch(k.label){case 0:if(!(t=this._queueMap.get(n.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,r=[],i=!0,k.label=1;case 1:k.trys.push([1,15,16,17]),o=je(t.messageQueue),u=o.next(),k.label=2;case 2:if(u.done)return[3,14];switch(c=u.value,c.state){case Oi.PENDING:case Oi.UPLOADING:return[3,3];case Oi.UPLOADED:return[3,4];case Oi.FAILED:return[3,12]}return[3,13];case 3:return i=!1,r.push(c),[3,13];case 4:if(!i)return[3,10];k.label=5;case 5:return k.trys.push([5,8,,9]),c.state=Oi.SENDING,[4,this._sendFileMessage(n,c)];case 6:return h=k.sent(),c.deferred.resolve(h),[4,Cs(100)];case 7:return k.sent(),[3,9];case 8:return f=k.sent(),c.deferred.reject(f),[3,9];case 9:return[3,11];case 10:r.push(c),k.label=11;case 11:return[3,13];case 12:return c.deferred.reject(c.error.code===Yn.REQUEST_CANCELED?oe.fileUploadCanceled:c.error),[3,13];case 13:return u=o.next(),[3,2];case 14:return[3,17];case 15:return v=k.sent(),y={error:v},[3,17];case 16:try{u&&!u.done&&(E=o.return)&&E.call(o)}finally{if(y)throw y.error}return[7];case 17:return _=t.isResolveRequestPending,t.messageQueue=r,t.isResolving=!1,t.isResolveRequestPending=!1,_?[4,this._resolveMessageQueue(n)]:[3,19];case 18:k.sent(),k.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,k.label=21;case 21:return[2]}})})},e.prototype._uploadNextPendingItem=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k,S;return O(this,function(D){switch(D.label){case 0:return t=this._queueMap.get(n.url),(r=t.messageQueue.find(function(N){return N.state===Oi.PENDING}))?Ui(r.params.file)?t.uploadQueue.length<6?(r.state=Oi.UPLOADING,t.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!D.sent())return[3,8];D.label=2;case 2:return D.trys.push([2,4,5,7]),i=new rF({file:r.params.file,channelUrl:n.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(i)];case 3:return o=D.sent(),u=o.as(iF),c=u.url,h=u.fileSize,f=h===void 0?r.params.fileSize:h,v=u.thumbnailSizes,_=v===void 0?r.params.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,r.params.fileUrl=c,r.params.fileSize=f,r.params.thumbnailSizes=_,r.params.requireAuth=E,r.requireAuth=E,r.state=Oi.UPLOADED,[3,7];case 4:return k=D.sent(),r.state=Oi.FAILED,r.error=k,[3,7];case 5:return(S=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(S,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 6:return D.sent(),[7];case 7:return[3,10];case 8:return r.state=Oi.FAILED,r.error=oe.connectionRequired,(S=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(S,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 9:D.sent(),D.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=Oi.UPLOADED,[4,this._resolveMessageQueue(n)];case 12:D.sent(),D.label=13;case 13:return[2]}})})},e.prototype.request=function(n,t,r){var i,o,u;return I(this,void 0,void 0,function(){var c;return O(this,function(h){return c=new _a,Ui(r.file)&&(r.fileName=(i=r.fileName)!==null&&i!==void 0?i:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(u=r.fileSize)!==null&&u!==void 0?u:r.file.size),this._queueMap.has(n.url)||this._queueMap.set(n.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(n.url).messageQueue.push({requestId:t,params:r,state:Oi.PENDING,deferred:c,requireAuth:r.requireAuth}),this._uploadNextPendingItem(n),[2,c.promise]})})},e.prototype.cancel=function(n,t){var r,i;t===void 0&&(t=null);var o=this._queueMap.get(n.url);if(o){var u=t?[o.messageQueue.find(function(v){return v.requestId===t})]:vn([],_n(o.messageQueue),!1);try{for(var c=je(u),h=c.next();!h.done;h=c.next()){var f=h.value;if(f)switch(f.state){case Oi.PENDING:f.state=Oi.FAILED,f.error=oe.requestCanceled,this._resolveMessageQueue(n);break;case Oi.UPLOADING:this._requestQueue.cancel(f.requestId)}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}},e}(),aF={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:mi.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:ra.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},xte=function(e){return J("number",e.prevResultSize)&&J("number",e.nextResultSize)&&J("boolean",e.isInclusive)&&J("boolean",e.reverse)&&J("string",e.messageTypeFilter)&&Cn(mi,e.messageTypeFilter)&&Sn("string",e.customTypesFilter,!0)&&Sn("string",e.senderUserIdsFilter,!0)&&Cn(ra,e.replyType)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeReactions)&&J("boolean",e.includeParentMessageInfo)&&J("boolean",e.includeThreadInfo)&&J("boolean",e.showSubchannelMessagesOnly)},G2={replyType:ra.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},ED=function(e){return Cn(ra,e.replyType)&&J("boolean",e.includeReactions)&&J("boolean",e.includeMetaArray)&&J("boolean",e.includeParentMessageInfo)&&J("boolean",e.includeThreadInfo)&&J("boolean",e.includePollDetails)};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(bn||(bn={}));var Ff,_g=function(e){return e.startsWith("EVENT_")||e===bn.SYNC_MESSAGE_FILL||e===bn.SYNC_MESSAGE_CHANGELOGS},lr=function(e){function n(t){var r=t.messages,i=t.source,o=e.call(this)||this;return o.messages=r,o.source=i,o}return B(n,e),n}(ai),q3=function(e){function n(t){var r=t.messageIds,i=t.source,o=e.call(this)||this;return o.messageIds=r,o.source=i,o}return B(n,e),n}(ai),sF=function(e){function n(t){var r=t.reqId,i=t.source,o=e.call(this)||this;return o.reqId=r,o.source=i,o}return B(n,e),n}(ai),kte=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.includeMetaArray,c=t.includeReactions,h=t.includeThreadInfo,f=t.includeParentMessageInfo,v=t.includePollDetails,_=e.call(this)||this;return _.method=Re.GET,_.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o)),_.params={is_sdk:!0,with_sorted_meta_array:u,include_reactions:c,include_thread_info:h,include_parent_message_info:f,include_poll_details:v},_}return B(n,e),n}(De),Cte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Hs(t,Z({},r)):null,i}return B(n,e),n}(Fe),wD=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=o===void 0?null:o,c=t.token,h=c===void 0?null:c,f=t.prevResultSize,v=t.nextResultSize,_=t.isInclusive,y=t.reverse,E=t.messageTypeFilter,k=t.customTypesFilter,S=t.senderUserIdsFilter,D=t.replyType,N=t.includeMetaArray,C=t.includeReactions,A=t.parentMessageId,q=t.includeThreadInfo,K=t.includeParentMessageInfo,z=t.showSubchannelMessagesOnly,V=t.includePollDetails,W=e.call(this)||this;return W.method=Re.GET,W.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages"),W.params=En({is_sdk:!0,prev_limit:f,next_limit:v,include:_,reverse:y,message_ts:u,message_id:h,message_type:E!=null?E:null,custom_types:k,sender_ids:S,include_reply_type:D,with_sorted_meta_array:N,include_reactions:C,parent_message_id:A,include_thread_info:q,include_parent_message_info:K,show_subchannel_message_only:z,include_poll_details:V}),W}return B(n,e),n}(De),xD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.messages.map(function(o){return Hs(t,o)}),i}return B(n,e),n}(Fe),Ste=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,u=t.token,c=t.replyType,h=t.includeMetaArray,f=t.includeReactions,v=t.includeThreadInfo,_=t.includeParentMessageInfo,y=t.includePollDetails,E=e.call(this)||this;return E.method=Re.GET,E.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages/changelogs"),E.params={change_ts:o,token:u,with_sorted_meta_array:h,include_reactions:f,include_thread_info:v,include_reply_type:c,include_parent_message_info:_,include_poll_details:y},E}return B(n,e),n}(De),Nte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedMessages=r.updated.map(function(o){return Hs(t,o)}),i.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),i.hasMore=r.has_more,i.nextToken=r.next,i}return B(n,e),n}(Fe),Tte=function(e){function n(t){var r=t.channelUrl,i=t.scheduledMessageId,o=e.call(this)||this;return o.method=Re.GET,o.path="".concat(qi,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(i)),o.params={},o}return B(n,e),n}(De),Ite=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Hs(t,Z({},r)):null,i}return B(n,e),n}(Fe),kD={},fi=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=t.onlineDetector,c=t.cacheContext;this._iid=n,this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._onlineDetector=u,this._cacheContext=c,this.fileMessageQueue=new wte(n,{sdkState:r,dispatcher:i,requestQueue:o,onlineDetector:u,cacheContext:c}),kD[n]=this}return e.of=function(n){return kD[n]},e.prototype.buildMessageFromSerializedData=function(n){var t=qc(n);switch(t.messageType){case Er.USER:return new ri(this._iid,ri.payloadify(t));case Er.FILE:return new Jr(this._iid,Jr.payloadify(t));case Er.ADMIN:return new Th(this._iid,Th.payloadify(t))}return null},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(n,t){return En({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations)})},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(n,t){return En({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:n.file,fileKey:n.fileKey,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:n.fileType,requireAuth:t.requireAuth})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(n,t){return Z(Z({},this.buildUserMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(n,t){return Z(Z({},this.buildFileMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(n){var t=qc(n);return new m0(this._iid,m0.payloadify(t))},e.prototype.getMessage=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=new kte(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Cte).message]}})})},e.prototype.getScheduledMessage=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=new Tte(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Ite).message]}})})},e.prototype.getMessagesByTimestamp=function(n,t,r,i,o){return o===void 0&&(o=bn.REQUEST_MESSAGE),I(this,void 0,void 0,function(){var u,c,h;return O(this,function(f){switch(f.label){case 0:return u=new wD(Z(Z({channelType:t,channelUrl:n,timestamp:r},aF),i)),[4,this._requestQueue.send(u)];case 1:return c=f.sent(),h=c.as(xD).messages,this._dispatcher.dispatch(new lr({messages:h,source:o})),[2,h]}})})},e.prototype.getThreadedMessagesByTimestamp=function(n,t,r,i){return i===void 0&&(i=bn.REQUEST_THREADED_MESSAGE),I(this,void 0,void 0,function(){var o,u,c,h;return O(this,function(f){switch(f.label){case 0:return o=new wD(Z(Z(Z({channelUrl:n.channelUrl,channelType:n.channelType,timestamp:t},c_),r),{replyType:ra.ALL,parentMessageId:n.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return u=f.sent(),c=u.as(xD).messages,(h=c.slice(1)).forEach(function(v){v.parentMessage=n}),this._dispatcher.dispatch(new lr({messages:h,source:i})),[2,{parentMessage:c[0],threadedMessages:h}]}})})},e.prototype.getMessageChangelogs=function(n,t,r,i,o){return o===void 0&&(o=bn.REQUEST_MESSAGE_CHANGELOGS),I(this,void 0,void 0,function(){var u,c,h,f,v,_,y,E;return O(this,function(k){switch(k.label){case 0:return u=new Ste(En(Z(Z({channelType:t,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},G2),i))),[4,this._requestQueue.send(u)];case 1:return c=k.sent(),h=c.as(Nte),f=h.updatedMessages,v=h.deletedMessagesInfo,_=h.hasMore,y=h.nextToken,E=v.map(function(S){return S.messageId}),f.length>0&&this._dispatcher.dispatch(new lr({messages:f,source:o})),E.length>0&&this._dispatcher.dispatch(new q3({messageIds:E,source:o})),[2,{updatedMessages:f,deletedMessageIds:E,hasMore:_,token:y}]}})})},e}(),cl=function(){function e(){this._onPending=Mn,this._onFailed=Mn,this._onSucceeded=Mn}return e.prototype._trigger=function(n,t){switch(t.sendingStatus){case Ft.PENDING:this._onPending(t);break;case Ft.FAILED:case Ft.CANCELED:this._onFailed(n,t.isResendable?t:null);break;case Ft.SCHEDULED:case Ft.SUCCEEDED:this._onSucceeded(t)}},e.prototype.onPending=function(n){return this._onPending=n,this},e.prototype.onFailed=function(n){return this._onFailed=n,this},e.prototype.onSucceeded=function(n){return this._onSucceeded=n,this},e}(),Ote=function(e){function n(t,r){var i=e.call(this,t)||this;i.threadInfo=null,i.targetMessageId=0,i.channelUrl=null,i.channelType=null;var o=r.thread_info,u=r.root_message_id,c=r.channel_url,h=r.channel_type;return o&&J("object",o)&&J("number",u)&&J("string",c)&&J("string",h)&&(i.threadInfo=new B2(t,o),i.targetMessageId=u,i.channelUrl=c,i.channelType=h),i}return B(n,e),n}(mo),Ate={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},Il=function(){function e(n,t){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=n,this.limit=(r=t.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return J("number",this.limit)&&this.limit>0},e}(),Rte=function(e){function n(t){var r=t.channelCustomType,i=t.keyword,o=t.limit,u=t.reverse,c=t.exactMatch,h=t.channelUrl,f=t.order,v=t.messageTimestampFrom,_=t.messageTimestampTo,y=t.advancedQuery,E=t.targetFields,k=t.nextToken,S=e.call(this)||this;return S.method=Re.GET,S.path="".concat(ite,"/messages"),S.params={custom_type:r,query:i,limit:o,reverse:u,exact_match:c,channel_url:h,message_ts_from:v,message_ts_to:_,sort_field:f,advanced_query:y,target_fields:E,after:k},S}return B(n,e),n}(De),Mte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.results.map(function(o){return Hs(t,o)}),i.hasNext=r.has_next,i.nextToken=r.end_cursor,i}return B(n,e),n}(Fe);(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(Ff||(Ff={}));var Dte=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E=this;return(E=e.call(this,t,r)||this).keyword="",E.reverse=!1,E.exactMatch=!1,E.channelUrl="",E.channelCustomType="",E.messageTimestampFrom=null,E.messageTimestampTo=null,E.order=Ff.SCORE,E.advancedQuery=!1,E.targetFields=null,E._nextToken="",E.keyword=r.keyword,E.reverse=(i=r.reverse)!==null&&i!==void 0&&i,E.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,E.channelUrl=(u=r.channelUrl)!==null&&u!==void 0?u:"",E.channelCustomType=(c=r.channelCustomType)!==null&&c!==void 0?c:"",E.messageTimestampFrom=(h=r.messageTimestampFrom)!==null&&h!==void 0?h:null,E.messageTimestampTo=(f=r.messageTimestampTo)!==null&&f!==void 0?f:null,E.order=(v=r.order)!==null&&v!==void 0?v:Ff.SCORE,E.advancedQuery=(_=r.advancedQuery)!==null&&_!==void 0&&_,E.targetFields=(y=r.targetFields)!==null&&y!==void 0?y:null,E}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.keyword)&&this.keyword.length>0&&J("boolean",this.reverse)&&J("boolean",this.exactMatch)&&J("string",this.channelUrl)&&J("string",this.channelCustomType)&&(J("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(J("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Cn(Ff,this.order)&&J("boolean",this.advancedQuery)&&Sn("string",this.targetFields,!0)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Rte(Z(Z({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(Mte),u=o.messages,c=o.hasNext,h=o.nextToken,this._nextToken=h,this._hasNext=c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),Gh=function(e){function n(t,r,i,o){var u=e.call(this,t,o)||this;return u.channelUrl=r,u.channelType=i,u}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.channelUrl)&&Cn(kt,this.channelType)},n}(Il),Ute=function(e){function n(t,r,i,o){var u,c,h,f,v,_,y,E,k,S,D=this;return(D=e.call(this,t,r,i,o)||this).reverse=!1,D.messageTypeFilter=mi.ALL,D.customTypesFilter=null,D.senderUserIdsFilter=null,D.replyType=ra.NONE,D.includeMetaArray=!1,D.includeReactions=!1,D.includeParentMessageInfo=!1,D.includeThreadInfo=!1,D.showSubchannelMessagesOnly=!1,D._edge=Number.MAX_SAFE_INTEGER,D.reverse=(u=o.reverse)!==null&&u!==void 0&&u,D.messageTypeFilter=(c=o.messageTypeFilter)!==null&&c!==void 0?c:mi.ALL,D.customTypesFilter=(h=o.customTypesFilter)!==null&&h!==void 0?h:null,D.senderUserIdsFilter=(f=o.senderUserIdsFilter)!==null&&f!==void 0?f:null,D.replyType=(v=o.replyType)!==null&&v!==void 0?v:ra.NONE,D.includeMetaArray=(_=o.includeMetaArray)!==null&&_!==void 0&&_,D.includeReactions=(y=o.includeReactions)!==null&&y!==void 0&&y,D.includeParentMessageInfo=(E=o.includeParentMessageInfo)!==null&&E!==void 0&&E,D.includeThreadInfo=(k=o.includeThreadInfo)!==null&&k!==void 0&&k,D.showSubchannelMessagesOnly=(S=o.showSubchannelMessagesOnly)!==null&&S!==void 0&&S,D}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.reverse)&&Cn(mi,this.messageTypeFilter)&&Cn(ra,this.replyType)&&Sn("string",this.customTypesFilter,!0)&&Sn("string",this.senderUserIdsFilter,!0)&&J("boolean",this.includeMetaArray)&&J("boolean",this.includeReactions)&&J("boolean",this.includeParentMessageInfo)&&J("boolean",this.includeThreadInfo)&&J("boolean",this.showSubchannelMessagesOnly)},n.prototype.load=function(){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,fi.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return t=r.sent(),this._edge=Math.min.apply(Math,vn([Number.MAX_SAFE_INTEGER],_n(t.map(function(i){return i.createdAt})),!1)),this._hasNext=t.length>=this.limit,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh),Lte={channelUrl:null,scheduledMessageId:0},Pte=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="message",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new fi(t,{sdkState:i,dispatcher:o,requestQueue:c,onlineDetector:f,cacheContext:v})},n.prototype.buildMessageFromSerializedData=function(t){return this._manager.buildMessageFromSerializedData(t)},n.prototype.buildSenderFromSerializedData=function(t){return this._manager.buildSenderFromSerializedData(t)},n.prototype.getMessage=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return t=Z(Z({},Ate),t),qe(function(i){return J("string",i.channelUrl)&&J("string",i.channelType)&&Cn(kt,i.channelType)&&J("number",i.messageId)&&J("boolean",i.includeMetaArray)&&J("boolean",i.includeParentMessageInfo)&&J("boolean",i.includeThreadInfo)&&J("boolean",i.includePollDetails)}(t)).throw(oe.invalidParameters),[2,this._manager.getMessage(t)]})})},n.prototype.getScheduledMessage=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return t=Z(Z({},Lte),t),qe(function(i){return J("string",i.channelUrl)&&J("number",i.scheduledMessageId)}(t)).throw(oe.invalidParameters),[2,this._manager.getScheduledMessage(t)]})})},n}(L3),Ih,B3={data:null,customType:null,mentionType:vi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},G3=function(e){return J("string",e.data,!0)&&J("string",e.customType,!0)&&Cn(vi,e.mentionType)&&Sn("string",e.mentionedUserIds,!0)&&Sn(An,e.mentionedUsers,!0)&&J("string",e.mentionedMessageTemplate,!0)&&Sn(va,e.metaArrays,!0)&&J("number",e.parentMessageId,!0)&&J("boolean",e.isReplyToChannel)&&Cn(Uu,e.pushNotificationDeliveryOption,!0)&&J(Fo,e.appleCriticalAlertOptions,!0)},CD=function(e){return e?{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},oF=Z(Z({},B3),{message:null,translationTargetLanguages:null}),lF=function(e){return G3(e)&&J("string",e.message)&&Sn("string",e.translationTargetLanguages,!0)};(function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"})(Ih||(Ih={}));var z2,$2=function(e){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&e instanceof Blob},j2=function(e){return e===Ih.BLOB||e===Ih.FILE},SD=function(e){return e?{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},ND=Z(Z({},B3),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),TD=function(e){return G3(e)&&(Ui(e.file)||J("string",e.fileUrl))&&J("string",e.fileName,!0)&&J("string",e.mimeType,!0)&&J("number",e.fileSize,!0)&&(e.thumbnailSizes===null||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every(function(n){return J("object",n)&&n.maxWidth>0&&n.maxHeight>0}))};(function(e){e.MUTED="muted",e.BANNED="banned"})(z2||(z2={}));var Hf,ID=function(){function e(n){var t,r,i;this.restrictionType=null,this.description=null,this.endAt=-1,Cn(z2,n.restriction_type)&&(this.restrictionType=n.restriction_type),this.description=(t=n.description)!==null&&t!==void 0?t:null,this.endAt=(i=(r=n.end_at)!==null&&r!==void 0?r:n.muted_end_at)!==null&&i!==void 0?i:-1}return e.payloadify=function(n){return n?En({restriction_type:n.restrictionType,description:n.description,end_at:n.endAt}):null},e}(),rd=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.restrictionInfo=null,i.restrictionInfo=new ID(r),i}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),ID.payloadify(t.restrictionInfo))):null},n}(An),z3={data:null,customType:null,mentionType:vi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},$3=function(e){return J("string",e.data,!0)&&J("string",e.customType,!0)&&Cn(vi,e.mentionType)&&Sn("string",e.mentionedUserIds,!0)&&Sn(An,e.mentionedUsers,!0)&&J("string",e.mentionedMessageTemplate,!0)&&Sn(va,e.metaArrays,!0)&&Cn(Uu,e.pushNotificationDeliveryOption,!0)&&J(Fo,e.appleCriticalAlertOptions,!0)},uF=Z(Z({},z3),{message:null,translationTargetLanguages:null}),cF=function(e){return $3(e)&&J("string",e.message,!0)&&Sn("string",e.translationTargetLanguages,!0)},Fte=Z({},z3),Hte=function(e){function n(t){var r=t.channelUrl,i=t.channelType,o=t.token,u=t.limit,c=e.call(this)||this;return c.method=Re.GET,c.path="".concat(vt(i),"/").concat(encodeURIComponent(r),"/operators"),c.params={token:o,limit:u},c}return B(n,e),n}(De),qte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.operators=r.operators.map(function(o){return new An(t,o)}),i.token=r.next,i}return B(n,e),n}(Fe),Bte=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ie.of(this._iid).requestQueue,i=new Hte(Z(Z({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(i)]):[3,2]):[3,5];case 1:return o=f.sent(),u=o.as(qte),c=u.operators,h=u.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,t];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh),Gte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,c=t.token;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={limit:u,token:c},r}return B(n,e),n}(De),zte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.mutedUsers=[];var o=r.next,u=r.muted_list;return i.token=o,u&&u.length>0&&(i.mutedUsers=u.map(function(c){return new rd(t,c)})),i}return B(n,e),n}(Fe),$te=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Gte(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(zte),u=o.mutedUsers,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh),jte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.limit,c=t.token;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=En({limit:u,token:c}),r}return B(n,e),n}(De),Vte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.bannedUsers=[];var o=r.next,u=r.banned_list;return i.token=o,u&&u.length>0&&(i.bannedUsers=u.map(function(c){return new rd(t,c.user)})),i}return B(n,e),n}(Fe),Wte=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new jte(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Vte),u=o.bannedUsers,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh);(function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"})(Hf||(Hf={}));var Kte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var Qte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.operatorUserIds;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:u},r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var Yte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/mute/").concat(u),r}return B(n,e),n}(De),Xte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.isMuted=!1,i.startAt=null,i.endAt=null,i.remainingDuration=null,i.description=null;var o=r.is_muted,u=r.start_at,c=r.end_at,h=r.remaining_duration,f=r.description;return i.isMuted=o,i.startAt=u,i.endAt=c,i.remainingDuration=h,i.description=f,i}return B(n,e),n}(Fe),OD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={keys:u,include_ts:!0},r}return B(n,e),n}(De),AD=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(n,e),n}(Fe),Jte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metadata,c=t.upsert;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:u,include_ts:!0,upsert:c!=null&&c},r}return B(n,e),n}(De),Zte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,u=r.ts;return i.metadata=o,i.ts=u!=null?u:null,i}return B(n,e),n}(Fe),dF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(n,e),n}(Mt),ere=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metadata/").concat(u),r.params={include_ts:!0},r}return B(n,e),n}(De),nre=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(n,e),n}(Fe),tre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={include_ts:!0},r}return B(n,e),n}(De),rre=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return B(n,e),n}(Fe),RD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.keys;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={keys:u},r}return B(n,e),n}(De),MD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Fe),ire=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u},r}return B(n,e),n}(De),are=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Fe),_E=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.metaCounter,c=t.upsert,h=c!==void 0&&c,f=t.mode,v=f===void 0?"set":f;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:u,upsert:h,mode:v},r}return B(n,e),n}(De),bE=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return B(n,e),n}(Fe),hF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return B(n,e),n}(Mt),sre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.key;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metacounter/").concat(u),r.params=null,r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var ore=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params=null,r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var lre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,c=t.seconds,h=t.description;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={user_id:u,seconds:c,description:h},r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var pF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new rd(t,i.data),o}return B(n,e),n}(Mt),ure=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(u)),r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var fF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new rd(t,i.data),o}return B(n,e),n}(Mt),cre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId,c=t.seconds,h=t.description;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=En({user_id:u,seconds:c,description:h}),r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var mF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new rd(t,i.data),i.data.member_count&&(o.memberCount=i.data.member_count),i.data.joined_member_count&&(o.joinedMemberCount=i.data.joined_member_count),o}return B(n,e),n}(Mt),dre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.userId;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/ban/").concat(encodeURIComponent(u)),r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var gF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new rd(t,i.data),o}return B(n,e),n}(Mt),DD=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.freezing;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(vt(o),"/").concat(encodeURIComponent(i),"/freeze"),r.params={freeze:u},r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var vF=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.freeze=i.data.freeze,o}return B(n,e),n}(Mt),hre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.description;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(Z7(o),"/").concat(encodeURIComponent(i)),r.params={report_category:u,reporting_user_id:c,report_description:h},r}return B(n,e),n}(De),pre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.offendingUserId,f=t.description;return(r=e.call(this)||this).method=Re.POST,r.path="/report/users/".concat(h),r.params={channel_url:i,channel_type:o===kt.OPEN?"open_channels":"group_channels",report_category:u,reporting_user_id:c,report_description:f},r}return B(n,e),n}(De),fre=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,u=t.category,c=t.userId,h=t.offendingUserId,f=t.messageId,v=t.description;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(Z7(o),"/").concat(encodeURIComponent(i),"/messages/").concat(f),r.params={report_category:u,reporting_user_id:c,report_description:v,offending_user_id:h},r}return B(n,e),n}(De),mre=function(e){function n(t){var r=[];return t.mentionType===vi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MESG",ackRequired:!0,payload:En({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Uu.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return B(n,e),n}(Wa),j3=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"MESG",i)||this).message=new ri(t,i);var f=ie.of(t).sdkState;return h.isMentioned=Nh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Mt),UD=function(e){function n(t){var r=[];return t.mentionType===vi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MEDI",ackRequired:!0,payload:En({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(n,e),n}(Wa),Cv=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"MEDI",i)||this).message=new ri(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=U3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Mt),gre=function(e){function n(t){var r=[];return t.mentionType===vi.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"FEDI",ackRequired:!0,payload:En({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return B(n,e),n}(Wa),V3=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"FEDI",i)||this).message=new Jr(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=U3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Mt),vre=function(e){function n(t){var r=e.call(this)||this;return r.method=Re.DELETE,r.path="".concat(vt(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var _F=function(e){function n(t,r,i){var o=e.call(this,t,"DELM",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.messageId=Number(i.msg_id),o}return B(n,e),n}(Mt),_re=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,c=e.call(this)||this;return c.method=Re.POST,c.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),c.params={reaction:u},c}return B(n,e),n}(De),bre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new P3(r),i}return B(n,e),n}(Fe),yre=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.reactionKey,c=e.call(this)||this;return c.method=Re.DELETE,c.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),c.params={reaction:u},c}return B(n,e),n}(De),Ere=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new P3(Z({},r)),i}return B(n,e),n}(Fe),wre=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,u=t.translationTargetLanguages,c=e.call(this)||this;return c.method=Re.POST,c.path="".concat(vt(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o),"/translation"),c.params={target_langs:u},c}return B(n,e),n}(De),xre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new ri(t,r),i}return B(n,e),n}(Fe),kre=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===vi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,c=t.channelUrl;return i.method=Re.POST,i.path="".concat(vt(u),"/").concat(encodeURIComponent(c),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Sh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return va.payloadify(h)}),apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(De),bF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new ri(t,r),i}return B(n,e),n}(Fe),Cre=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===vi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(h){return h.userId})));var u=t.channelType,c=t.channelUrl;return i.method=Re.POST,i.path="".concat(vt(u),"/").concat(encodeURIComponent(c),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Sh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(h){return u_.payloadify(h)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(h){return va.payloadify(h)}),apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(De),Sre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Jr(t,r),i}return B(n,e),n}(Fe),Nre=2,V2=function(e){function n(t,r){var i,o,u,c,h=this;return(h=e.call(this,t)||this).url="",h.channelType=kt.BASE,h.name="",h.coverUrl="",h.customType="",h.data="",h.isFrozen=!1,h.isEphemeral=!1,h.creator=null,h.createdAt=0,h.url=r.channel_url,h.name=(i=r.name)!==null&&i!==void 0?i:"",h.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",h.customType=(u=r.custom_type)!==null&&u!==void 0?u:"",h.data=(c=r.data)!==null&&c!==void 0?c:"",h.isFrozen=!!J("boolean",r.freeze)&&r.freeze,h.isEphemeral=!!J("boolean",r.is_ephemeral)&&r.is_ephemeral,h.creator=r.created_by?new An(h._iid,r.created_by):null,h.createdAt=1e3*r.created_at,h._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(f){h._cachedMetaData.set(f,{value:r.metadata[f],isRemoved:!1,updatedAt:r.ts})}),h}return B(n,e),n.payloadify=function(t){return En(Z(Z({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:An.payloadify(t.creator),created_at:t.createdAt/1e3}))},n.prototype.isGroupChannel=function(){return this.channelType===kt.GROUP},n.prototype.isOpenChannel=function(){return this.channelType===kt.OPEN},Object.defineProperty(n.prototype,"cachedMetaData",{get:function(){var t={};return this._cachedMetaData.forEach(function(r,i){r.isRemoved||(t[i]=r.value)}),t},enumerable:!1,configurable:!0}),n.prototype._upsertCachedMetaData=function(t,r){var i=this;Object.keys(t).forEach(function(o){var u=i._cachedMetaData.get(o);(!u||u.updatedAt<=r)&&i._cachedMetaData.set(o,{value:t[o],isRemoved:!1,updatedAt:r})})},n.prototype._removeFromCachedMetaData=function(t,r){var i=this;t.forEach(function(o){var u=i._cachedMetaData.get(o);u&&u.updatedAt<r&&(u.isRemoved=!1,u.updatedAt=r)})},n.prototype._generateRequestId=function(){return"rq-".concat(As())},n.prototype.isIdentical=function(t){return t&&this.url===t.url},n.prototype.isEqual=function(t){return j7(this,t)},n.prototype.createOperatorListQuery=function(t){return t===void 0&&(t={}),new Bte(this._iid,this.url,this.channelType,t)},n.prototype.createMutedUserListQuery=function(t){return t===void 0&&(t={}),new $te(this._iid,this.url,this.channelType,t)},n.prototype.createBannedUserListQuery=function(t){return t===void 0&&(t={}),new Wte(this._iid,this.url,this.channelType,t)},n.prototype.createPreviousMessageListQuery=function(t){return t===void 0&&(t={}),new Ute(this._iid,this.url,this.channelType,t)},n.prototype.addOperators=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(Sn("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Kte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.removeOperators=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(Sn("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new Qte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.getMyMutedInfo=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y;return O(this,function(E){switch(E.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Yte({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,i.send(o)];case 1:return u=E.sent(),c=u.as(Xte),h=c.isMuted,f=c.startAt,v=c.endAt,_=c.remainingDuration,y=c.description,[2,{isMuted:h,startAt:f,endAt:v,remainingDuration:_,description:y}]}})})},n.prototype.getMetaData=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(Sn("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new OD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=f.sent(),u=o.as(AD),c=u.metadata,h=u.ts,this._upsertCachedMetaData(c,h),[2,c]}})})},n.prototype.getAllMetaData=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new OD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(AD),u=o.metadata,c=o.ts,this._upsertCachedMetaData(u,c),[2,u]}})})},n.prototype.createMetaData=function(t){return I(this,void 0,void 0,function(){var r,i,o,u;return O(this,function(c){switch(c.label){case 0:return r=ie.of(this._iid).requestQueue,i=new lte({channelUrl:this.url,channelType:this.channelType,metadata:t}),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(eF).metaData,this._upsertCachedMetaData(u,0),[2,u]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),I(this,void 0,void 0,function(){var i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return i=ie.of(this._iid).requestQueue,o=new Jte({channelUrl:this.url,channelType:this.channelType,metadata:t,upsert:r}),[4,i.send(o)];case 1:return u=v.sent(),c=u.as(Zte),h=c.metadata,f=c.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},n.prototype.deleteMetaData=function(t){return I(this,void 0,void 0,function(){var r,i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new ere({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(nre).ts,this._removeFromCachedMetaData([t],u),[2]}})})},n.prototype.deleteAllMetaData=function(){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid).requestQueue,r=new tre({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i=u.sent(),o=i.as(rre).ts,this._removeFromCachedMetaData(vn([],_n(this._cachedMetaData.keys()),!1),o),[2]}})})},n.prototype.getMetaCounters=function(t){return I(this,void 0,void 0,function(){var r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(Sn("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new RD({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(MD).metaCounter]}})})},n.prototype.getAllMetaCounters=function(){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new RD({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(MD).metaCounter]}})})},n.prototype.createMetaCounters=function(t){return I(this,void 0,void 0,function(){var r,i,o;return O(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new ire({channelUrl:this.url,channelType:this.channelType,metaCounter:t}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(are).metaCounter]}})})},n.prototype.updateMetaCounters=function(t,r){return r===void 0&&(r=!1),I(this,void 0,void 0,function(){var i,o,u;return O(this,function(c){switch(c.label){case 0:return i=ie.of(this._iid).requestQueue,o=new _E({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(bE).metaCounter]}})})},n.prototype.increaseMetaCounters=function(t){return I(this,void 0,void 0,function(){var r,i,o;return O(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new _E({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"increase"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(bE).metaCounter]}})})},n.prototype.decreaseMetaCounters=function(t){return I(this,void 0,void 0,function(){var r,i,o;return O(this,function(u){switch(u.label){case 0:return r=ie.of(this._iid).requestQueue,i=new _E({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"decrease"}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(bE).metaCounter]}})})},n.prototype.deleteMetaCounter=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new sre({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.deleteAllMetaCounters=function(){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new ore({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.muteUser=function(t,r,i){return I(this,void 0,void 0,function(){return O(this,function(o){return[2,this.muteUserWithUserId(t.userId,r,i)]})})},n.prototype.muteUserWithUserId=function(t,r,i){return I(this,void 0,void 0,function(){var o,u;return O(this,function(c){switch(c.label){case 0:return qe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(oe.invalidParameters),o=ie.of(this._iid).requestQueue,u=new lre({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.unmuteUser=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return[2,this.unmuteUserWithUserId(t.userId)]})})},n.prototype.unmuteUserWithUserId=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new ure({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.banUser=function(t,r,i){return I(this,void 0,void 0,function(){return O(this,function(o){return[2,this.banUserWithUserId(t.userId,r,i)]})})},n.prototype.banUserWithUserId=function(t,r,i){return I(this,void 0,void 0,function(){var o,u;return O(this,function(c){switch(c.label){case 0:return qe(J("string",t)&&J("number",r,!0)&&J("string",i,!0)).throw(oe.invalidParameters),o=ie.of(this._iid).requestQueue,u=new cre({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.unbanUser=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return[2,this.unbanUserWithUserId(t.userId)]})})},n.prototype.unbanUserWithUserId=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new dre({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.freeze=function(){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new DD({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!0,[2]}})})},n.prototype.unfreeze=function(){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new DD({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!1,[2]}})})},n.prototype.getMessagesByTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},aF),r),qe(J("number",t)&&xte(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},G2),r),qe(J("number",t)&&ED(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceToken=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},G2),r),qe(J("string",t)&&ED(r)).throw(oe.invalidParameters),[4,fi.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype._createPendingSendableMessagePayload=function(t,r,i){var o=ie.of(this._iid).sessionManager;return En({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map(function(u){return va.payloadify(u)}):null,apple_critical_alert_options:t.appleCriticalAlertOptions?Fo.payloadify(t.appleCriticalAlertOptions):null,created_at:i,user:m0.payloadify(o.currentUser),req_id:r,request_state:Ft.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:t.mentionedUsers})},n.prototype._createPendingUserMessage=function(t,r,i){var o,u,c={};if(t.translationTargetLanguages)try{for(var h=je(t.translationTargetLanguages),f=h.next();!f.done;f=h.next())c[f.value]=""}catch(y){o={error:y}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(o)throw o.error}}var v=En(Z(Z({},this._createPendingSendableMessagePayload(t,r,i)),{type:Er.USER,message:t.message,translations:c})),_=new ri(this._iid,v);return _.messageParams=t,_},n.prototype._createPendingScheduledUserMessage=function(t,r,i){var o=this._createPendingUserMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._createPendingFileMessage=function(t,r,i){var o=En(Z(Z({},this._createPendingSendableMessagePayload(t,r,i)),{type:Er.FILE,url:t.fileUrl,file:{name:t.fileName,size:t.fileSize,type:t.mimeType,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(c){return{url:"",width:c.maxWidth,height:c.maxHeight}}):[]})),u=new Jr(this._iid,o);return u.messageParams=t,u},n.prototype._createPendingScheduledFileMessage=function(t,r,i){var o=this._createPendingFileMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._markMessageAsFailed=function(t,r,i){i===void 0&&(i=!1),t.errorCode=r.code,r.code===Yn.REQUEST_CANCELED?t.sendingStatus=Ft.CANCELED:i||(t.sendingStatus=Ft.FAILED)},n.prototype.sendUserMessage=function(t){return t=Z(Z({},oF),t),qe(lF(t)).throw(oe.invalidParameters),this._sendUserMessage(t)},n.prototype._sendUserMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=ie.of(this._iid),c=u.dispatcher,h=u.requestQueue,f=i,v=new cl;if(!f){f=this._generateRequestId();var _=ie.of(this._iid).dispatcher;Cs(2).then(function(){var E=o._createPendingUserMessage(t,f,r);_.dispatch(new lr({messages:[E],source:bn.EVENT_MESSAGE_SENT_PENDING})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(k){return[2,v._trigger(null,E)]})})})})}var y=new mre(Z({channelUrl:this.url,channelType:this.channelType,reqId:f},t));return h.send(y).then(function(E){var k=E.as(j3).message;c.dispatch(new lr({messages:[k],source:bn.EVENT_MESSAGE_SENT_SUCCESS})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(S){return[2,v._trigger(null,k)]})})})}).catch(function(E){if(so(E))throw E;Cs(2).then(function(){var k=o._createPendingUserMessage(t,f,r),S=ie.of(o._iid).cacheContext.localCacheEnabled&&wv(E.code);o._markMessageAsFailed(k,E,S),c.dispatch(new lr({messages:[k],source:k.sendingStatus===Ft.PENDING?bn.REQUEST_RESEND_MESSAGE:bn.EVENT_MESSAGE_SENT_FAILED})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(D){return[2,v._trigger(E,k)]})})})})}),v},n.prototype._autoResendUserMessage=function(t){return qe(t instanceof ri).throw(oe.invalidParameters),this._sendUserMessage(t.messageParams,t.createdAt,t.reqId)},n.prototype.resendUserMessage=function(t){var r;return I(this,void 0,void 0,function(){var i,o;return O(this,function(u){var c;return qe(t instanceof ri&&!t.scheduledInfo).throw(oe.invalidParameters),i=new _a,o=(r=t.messageParams)!==null&&r!==void 0?r:En({data:(c=t).data,customType:c.customType,mentionType:c.mentionType,mentionedUsers:c.mentionedUsers,mentionedUserIds:c.mentionedUserIds,mentionedMessageTemplate:c.mentionedMessageTemplate,metaArrays:c.metaArrays,parentMessageId:c.parentMessageId,appleCriticalAlertOptions:c.appleCriticalAlertOptions,message:c.message,translationTargetLanguages:Object.keys(c.translations)}),this._sendUserMessage(o).onFailed(function(h){return i.reject(h)}).onSucceeded(function(h){return i.resolve(h)}),[2,i.promise]})})},n.prototype.updateUserMessage=function(t,r){return I(this,void 0,void 0,function(){var i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return r=Z(Z({},uF),r),qe(J("number",t)&&cF(r)).throw(oe.invalidParameters),i=ie.of(this._iid),o=i.dispatcher,u=i.requestQueue,c=new UD(Z({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(Cv).message,o.dispatch(new lr({messages:[f],source:bn.EVENT_MESSAGE_UPDATED})),[2,f]}})})},n.prototype.copyUserMessage=function(t,r){var i,o,u;return I(this,void 0,void 0,function(){var c,h;return O(this,function(f){return qe(t instanceof n&&r instanceof ri&&r.sendingStatus===Ft.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(oe.invalidParameters),c=new _a,h=(i=r.messageParams)!==null&&i!==void 0?i:Z(Z({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Uu.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),t._sendUserMessage(h).onSucceeded(function(v){return c.resolve(v)}).onFailed(function(v){return c.reject(v)}),[2,c.promise]})})},n.prototype.translateUserMessage=function(t,r){return I(this,void 0,void 0,function(){var i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(t instanceof ri&&t.messageId>0&&Sn("string",r)).throw(oe.invalidParameters),i=ie.of(this._iid).requestQueue,o=new wre({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(xre).message]}})})},n.prototype._createScheduledUserMessage=function(t,r){var i=this,o=ie.of(this._iid),u=o.dispatcher,c=o.requestQueue,h=Date.now(),f=this._generateRequestId();Cs(2).then(function(){var _=i._createPendingScheduledUserMessage(t,f,h);u.dispatch(new lr({messages:[_],source:bn.EVENT_MESSAGE_SENT_PENDING})),Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(y){return[2,r._trigger(null,_)]})})})});var v=new kre(Z({reqId:f,channelType:this.channelType,channelUrl:this.url},t));c.send(v).then(function(_){var y=_.as(bF).message;u.dispatch(new lr({messages:[y],source:bn.EVENT_MESSAGE_SENT_SUCCESS})),Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(so(_))throw _;Cs(2).then(function(){var y=i._createPendingScheduledUserMessage(t,f,h);i._markMessageAsFailed(y,_),u.dispatch(new lr({messages:[y],source:bn.EVENT_MESSAGE_SENT_FAILED})),Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(E){return[2,r._trigger(_,y)]})})})})})},n.prototype.sendFileMessage=function(t){return t=Z(Z({},ND),t),qe(TD(t)).throw(oe.invalidParameters),this._sendFileMessage(t)},n.prototype._sendFileMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var u=ie.of(this._iid).dispatcher,c=fi.of(this._iid).fileMessageQueue,h=i,f=new cl;return h||(h=this._generateRequestId(),Cs(2).then(function(){var v=o._createPendingFileMessage(t,h,r);u.dispatch(new lr({messages:[v],source:bn.EVENT_MESSAGE_SENT_PENDING})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(_){return[2,f._trigger(null,v)]})})})})),c.request(this,h,t).then(function(v){u.dispatch(new lr({messages:[v],source:bn.EVENT_MESSAGE_SENT_SUCCESS})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(_){return[2,f._trigger(null,v)]})})})}).catch(function(v){if(so(v))throw v;Cs(2).then(function(){var _=o._createPendingFileMessage(t,h,r),y=ie.of(o._iid).cacheContext.localCacheEnabled&&wv(v.code);o._markMessageAsFailed(_,v,y),u.dispatch(new lr({messages:[_],source:_.sendingStatus===Ft.PENDING?bn.REQUEST_RESEND_MESSAGE:bn.EVENT_MESSAGE_SENT_FAILED})),Ze(function(){return I(o,void 0,void 0,function(){return O(this,function(E){return[2,f._trigger(v,_)]})})})})}),f},n.prototype._autoResendFileMessage=function(t){qe(t instanceof Jr).throw(oe.invalidParameters);var r=ie.of(this._iid).logger;return r.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.createdAt,t.reqId).onFailed(function(i){r.debug("autoResendFileMessage failed",i)}).onSucceeded(function(i){r.debug("autoResendFileMessage success",i)})},n.prototype._createScheduledFileMessage=function(t,r,i,o){var u=this,c=ie.of(this._iid),h=c.dispatcher,f=c.requestQueue,v=new Cre(Z(Z({reqId:i,channelType:this.channelType,channelUrl:this.url},t),{fileUrl:t.fileUrl,requireAuth:t.requireAuth}));f.send(v).then(function(_){var y=_.as(Sre).message;h.dispatch(new lr({messages:[y],source:bn.EVENT_MESSAGE_SENT_SUCCESS})),Ze(function(){return I(u,void 0,void 0,function(){return O(this,function(E){return[2,r._trigger(null,y)]})})})}).catch(function(_){if(so(_))throw _;Cs(2).then(function(){var y=u._createPendingScheduledFileMessage(t,i,o);u._markMessageAsFailed(y,_),h.dispatch(new lr({messages:[y],source:bn.EVENT_MESSAGE_SENT_FAILED})),Ze(function(){return I(u,void 0,void 0,function(){return O(this,function(E){return[2,r._trigger(_,y)]})})})})})},n.prototype.sendFileMessages=function(t){var r,i;qe(t.every(function(f){return TD(Z(Z({},ND),f))})).throw(oe.invalidParameters);var o=new cl;try{for(var u=je(t),c=u.next();!c.done;c=u.next()){var h=c.value;this.sendFileMessage(h).onPending(function(f){return o._trigger(null,f)}).onFailed(function(f,v){return o._trigger(f,v)}).onSucceeded(function(f){return o._trigger(null,f)})}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o},n.prototype.resendFileMessage=function(t,r){var i;return I(this,void 0,void 0,function(){var o,u;return O(this,function(c){return qe(t instanceof Jr&&r instanceof Blob&&!t.scheduledInfo).throw(oe.invalidParameters),o=new _a,u=(i=t.messageParams)!==null&&i!==void 0?i:function(h,f){return f===void 0&&(f=null),En({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,metaArrays:h.metaArrays,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,file:f,fileUrl:h.url,fileName:h.name,fileSize:h.size,mimeType:h.type,thumbnailSizes:h.thumbnails.map(function(v){return{maxWidth:v.width,maxHeight:v.height}})})}(t,r),this._sendFileMessage(u).onFailed(function(h){return o.reject(h)}).onSucceeded(function(h){return o.resolve(h)}),[2,o.promise]})})},n.prototype.updateFileMessage=function(t,r){return I(this,void 0,void 0,function(){var i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return r=Z(Z({},Fte),r),qe(J("number",t)&&function(_){return $3(_)}(r)).throw(oe.invalidParameters),i=ie.of(this._iid),o=i.dispatcher,u=i.requestQueue,c=new gre(Z({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(V3).message,o.dispatch(new lr({messages:[f],source:bn.EVENT_MESSAGE_UPDATED})),[2,f]}})})},n.prototype.cancelUploadingFileMessage=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return qe(J("string",t)).throw(oe.invalidParameters),fi.of(this._iid).fileMessageQueue.cancel(this,t),[2,!0]})})},n.prototype.copyFileMessage=function(t,r){var i,o;return I(this,void 0,void 0,function(){var u,c;return O(this,function(h){return qe(t instanceof n&&r instanceof Jr&&r.sendingStatus===Ft.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(oe.invalidParameters),u=new _a,c=Z(Z({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(i=r.mentionedUserIds)!==null&&i!==void 0?i:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(f){return f.userId}),pushNotificationDeliveryOption:Uu.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(f){return{maxWidth:f.width,maxHeight:f.height}}),requireAuth:r.requireAuth}),t._sendFileMessage(c).onSucceeded(function(f){return u.resolve(f)}).onFailed(function(f){return u.reject(f)}),[2,u.promise]})})},n.prototype.deleteMessage=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return qe(t instanceof Qr).throw(oe.invalidParameters),t.messageId>0?(r=ie.of(this._iid).requestQueue,i=new vre({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.addReaction=function(t,r){return I(this,void 0,void 0,function(){var i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(t instanceof kv&&t.messageId>0&&J("string",r)).throw(oe.invalidParameters),i=ie.of(this._iid).requestQueue,o=new _re({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(bre).reactionEvent]}})})},n.prototype.deleteReaction=function(t,r){return I(this,void 0,void 0,function(){var i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(t instanceof kv&&t.messageId>0&&J("string",r)).throw(oe.invalidParameters),i=ie.of(this._iid).requestQueue,o=new yre({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(Ere).reactionEvent]}})})},n.prototype._updateMessageMetaArray=function(t,r,i,o){return I(this,void 0,void 0,function(){var u,c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:return u=ie.of(this._iid),c=u.dispatcher,h=u.requestQueue,f=new UD({channelType:this.channelType,channelUrl:this.url,messageId:t,metaArrayParams:{array:r,mode:i,upsert:o}}),[4,h.send(f)];case 1:return v=y.sent(),_=v.as(Cv).message,c.dispatch(new lr({messages:[_],source:bn.EVENT_MESSAGE_UPDATED})),[2,_]}})})},n.prototype.createMessageMetaArrayKeys=function(t,r){return I(this,void 0,void 0,function(){var i;return O(this,function(o){return qe(t instanceof Qr&&t.messageId>0&&Sn("string",r)).throw(oe.invalidParameters),i=r.map(function(u){return new va({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"add",!0)]})})},n.prototype.deleteMessageMetaArrayKeys=function(t,r){return I(this,void 0,void 0,function(){var i;return O(this,function(o){return qe(t instanceof Qr&&t.messageId>0&&Sn("string",r)).throw(oe.invalidParameters),i=r.map(function(u){return new va({key:u})}),[2,this._updateMessageMetaArray(t.messageId,i,"remove",!0)]})})},n.prototype.addMessageMetaArrayValues=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){return qe(t instanceof Qr&&t.messageId>0&&r.every(function(o){return o instanceof va})).throw(oe.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"add",!0)]})})},n.prototype.removeMessageMetaArrayValues=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){return qe(t instanceof Qr&&t.messageId>0&&r.every(function(o){return o instanceof va})).throw(oe.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"remove",!0)]})})},n.prototype.report=function(t,r){return I(this,void 0,void 0,function(){var i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(Cn(Hf,t)&&J("string",r)).throw(oe.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new hre({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:t,description:r}),[4,u.send(c)];case 1:return h.sent(),[2]}})})},n.prototype.reportUser=function(t,r,i){return I(this,void 0,void 0,function(){var o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(t instanceof An&&Cn(Hf,r)&&J("string",i)).throw(oe.invalidParameters),o=ie.of(this._iid),u=o.sdkState,c=o.requestQueue,h=new pre({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.userId,category:r,description:i}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},n.prototype.reportMessage=function(t,r,i){return I(this,void 0,void 0,function(){var o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(t instanceof Qr&&Cn(Hf,r)&&J("string",i)).throw(oe.invalidParameters),o=ie.of(this._iid),u=o.sdkState,c=o.requestQueue,h=new fre({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:r,description:i}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},n}(mo),Da,Dc,ds,W2;(function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"})(Da||(Da={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(Dc||(Dc={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(ds||(ds={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(W2||(W2={}));var Zr,qf,K2,yF=100,EF="GroupChannel",Tre="url",wF=100,Ire="Message",Ore="messageId";(function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Zr||(Zr={})),function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(qf||(qf={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(K2||(K2={}));var pi,Bg=function(e){switch(e){case Zr.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Zr.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Zr.CHANNEL_NAME_ALPHABETICAL:return["name"]}},g0=function(){function e(){this.messageTypeFilter=mi.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=ra.NONE}return e.prototype.clone=function(){var n=new e,t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n){switch(this.messageTypeFilter){case mi.USER:if(n.messageType!==Er.USER)return!1;break;case mi.FILE:if(n.messageType!==Er.FILE)return!1;break;case mi.ADMIN:if(n.messageType!==Er.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(n instanceof Qr)||!this.senderUserIdsFilter.includes(n.sender.userId)))return!1;switch(this.replyType){case ra.NONE:if(n.parentMessageId>0)return!1;break;case ra.ONLY_REPLY_TO_CHANNEL:if(n instanceof Qr&&n.parentMessageId>0&&!n.replyToChannel)return!1}return!0},e}();(function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"})(pi||(pi={}));var v0,bl=function(e){switch(e){case pi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case pi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},Are=Z(Z({},oF),{scheduledAt:null}),Rre=function(e){return lF(e)&&J("number",e.scheduledAt,!0)},Mre=Z(Z({},B3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Dre=function(e){return G3(e)&&J("number",e.scheduledAt)&&(Ui(e.file)||J("string",e.fileUrl))&&J("string",e.fileName,!0)&&J("string",e.mimeType,!0)&&J("number",e.fileSize,!0)&&(e.thumbnailSizes===null||e.thumbnailSizes.every(function(n){return J("object",n)&&n.maxWidth>0&&n.maxHeight>0}))},Ure="UnsentMessage",Lre="reqId",LD={},W3=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=e.call(this,t)||this;return u._sdkState=i,u._cacheContext=o,LD[t]=u,u}return B(n,e),n.of=function(t){return LD[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t&&t.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){if(t.messageId>0)throw oe.invalidParameters;var r,i=Z({},t.serialize());return t instanceof ri?(t.messageParams&&(i.messageParams=CD(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(r=t.scheduledInfo.scheduledMessageParams,Z(Z({},CD(r)),{scheduledAt:r.scheduledAt})))):t instanceof Jr&&(t.messageParams&&(i.messageParams=SD(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=function(o){return Z(Z({},SD(o)),{scheduledAt:o.scheduledAt})}(t.scheduledInfo.scheduledMessageParams))),i},n.prototype._deserialize=function(t){return t?(t=Z(Z({},t),{messageId:parseInt(t.messageId)}),fi.of(this._iid).buildMessageFromSerializedData(t)):null},n.prototype.get=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=r===void 0?null:r,o=t.filter,u=o===void 0?new g0:o,c=t.order,h=c===void 0?pi.CHANNEL_LATEST:c,f=t.sendingStatus,v=f===void 0?null:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,k=E===void 0?null:E;return I(this,void 0,void 0,function(){var S,D,N,C,A=this;return O(this,function(q){switch(q.label){case 0:return this.localCacheEnabled?(S=bl(h),D={"/where":function(K){return!!(h!==pi.NEWEST_CHILD_MESSAGE||k&&K.parentMessageId!==0&&K.parentMessageId===k)&&u.match(A._deserialize(K))}},i&&(D.channelUrl=i),v&&(D.sendingStatus=v),N={where:D,index:S,backward:y},[4,this.collection.query(N)]):[3,3];case 1:return[4,q.sent().fetch({})];case 2:return C=q.sent(),[2,Promise.all(C.map(function(K){return I(A,void 0,void 0,function(){var z,V,W,de,le,Ie;return O(this,function(ye){switch(ye.label){case 0:return z=fi.of(this._iid),V=this._deserialize(K),(W=K.messageParams)?V instanceof ri?(V.messageParams=z.buildUserMessageCreateParamsFromSerializedData(W,V),[3,4]):[3,1]:[3,4];case 1:return V instanceof Jr?W.fileKey&&typeof W.fileKey=="string"&&j2(W.fileType)?(de=W,[4,this.collection.getBlob(W.fileKey)]):[3,3]:[3,4];case 2:de.file=ye.sent(),ye.label=3;case 3:V.messageParams=z.buildFileMessageCreateParamsFromSerializedData(W,V),ye.label=4;case 4:return V.scheduledInfo&&K.scheduledInfo&&K.scheduledInfo.scheduledMessageParams?V instanceof ri?(le=K.scheduledInfo.scheduledMessageParams,V.scheduledInfo.scheduledMessageParams=z.buildScheduledUserMessageCreateParamsFromSerializedData(le,V),[3,8]):[3,5]:[3,8];case 5:return V instanceof Jr?(le=K.scheduledInfo.scheduledMessageParams).fileKey&&typeof le.fileKey=="string"&&j2(le.fileType)?(Ie=le,[4,this.collection.getBlob(le.fileKey)]):[3,7]:[3,8];case 6:Ie.file=ye.sent(),ye.label=7;case 7:V.scheduledInfo.scheduledMessageParams=z.buildScheduledFileMessageCreateParamsFromSerializedData(le,V),ye.label=8;case 8:return[2,V]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new g0),I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this.fetch({filter:r,order:pi.NEWEST_CHILD_MESSAGE,channelUrl:t.channelUrl,backward:!1,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return I(this,void 0,void 0,function(){var r,i=this;return O(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,3];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},n.prototype.upsertChildMessages=function(t){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return I(r,void 0,void 0,function(){var u,c;return O(this,function(h){switch(h.label){case 0:return u=[],((c=o.threadInfo)===null||c===void 0?void 0:c.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=je(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove(o)]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),c={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.saveBlobs=function(t){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return I(r,void 0,void 0,function(){var u,c,h;return O(this,function(f){switch(f.label){case 0:return o instanceof Jr?o.messageParams&&(u=o.messageParams).file&&$2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2]:[3,4];case 1:h=f.sent(),u.fileKey=h,u.fileType=Ih.BLOB,f.label=2;case 2:return o.scheduledInfo&&o.scheduledInfo.scheduledMessageParams&&(c=o.scheduledInfo.scheduledMessageParams).file&&$2(c.file)?[4,this.collection.saveBlob(c.file,o.reqId)]:[3,4];case 3:h=f.sent(),c.fileKey=h,c.fileType=Ih.BLOB,f.label=4;case 4:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(mo),PD={},xF=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=r.unsentMessageCache,c=e.call(this,t)||this;return c._sdkState=i,c._cacheContext=o,c._unsentMessageCache=u,PD[t]=c,c}return B(n,e),n.of=function(t){return PD[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){return Z(Z({},t.serialize()),{messageId:"".concat(t.messageId)})},n.prototype._deserialize=function(t){return t=Z(Z({},t),{messageId:parseInt(t.messageId)}),fi.of(this._iid).buildMessageFromSerializedData(t)},n.prototype.get=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=t.token,o=t.limit,u=o===void 0?100:o,c=t.filter,h=c===void 0?new g0:c,f=t.order,v=f===void 0?pi.CHANNEL_LATEST:f,_=t.backward,y=_!==void 0&&_,E=t.parentMessageId,k=E===void 0?null:E;return I(this,void 0,void 0,function(){var S,D,N,C=this;return O(this,function(A){switch(A.label){case 0:return this.localCacheEnabled?(S=bl(v),D={where:{channelUrl:r,"/where":function(q){if(i)switch(v){case pi.CHANNEL_LATEST:if(!y&&q.createdAt>i||y&&q.createdAt<i)return!1;break;case pi.NEWEST_CHILD_MESSAGE:if(!k||q.parentMessageId===0||q.parentMessageId!==k)return!1}return h.match(C._deserialize(q))}},index:S,backward:y},[4,this.collection.query(D)]):[3,3];case 1:return[4,A.sent().fetch({limit:u})];case 2:return N=A.sent(),[2,Promise.all(N.map(function(q){return I(C,void 0,void 0,function(){var K,z,V;return O(this,function(W){switch(W.label){case 0:return K=this._deserialize(q),(z=q.messageParams)?K instanceof ri?(K.messageParams=z,[3,4]):[3,1]:[3,4];case 1:return K instanceof Jr?z.fileKey&&typeof z.fileKey=="string"&&j2(z.fileType)?(V=z,[4,this.collection.getBlob(z.fileKey)]):[3,3]:[3,4];case 2:V.file=W.sent(),W.label=3;case 3:K.messageParams=z,W.label=4;case 4:return[2,K]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new g0),I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this.fetch({channelUrl:t.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:pi.NEWEST_CHILD_MESSAGE,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return I(this,void 0,void 0,function(){var r,i=this;return O(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,5];case 1:return o.sent(),r=t.map(function(u){return i._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(t)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(t)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},n.prototype.upsertChildMessages=function(t){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return I(r,void 0,void 0,function(){var u,c;return O(this,function(h){switch(h.label){case 0:return u=[],((c=o.threadInfo)===null||c===void 0?void 0:c.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=h.sent(),h.label=2;case 2:return u.length>0?(u.forEach(function(f){return f.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:if(!this.localCacheEnabled)return[3,8];f.label=1;case 1:f.trys.push([1,6,7,8]),r=je(t),i=r.next(),f.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove("".concat(o))]);case 3:f.sent(),f.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=f.sent(),c={error:u},[3,8];case 7:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t},index:bl(pi.CHANNEL_LATEST)})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}})})},n.prototype.removeUnderOffset=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t,createdAt:{"<":r}},index:bl(pi.CHANNEL_LATEST)})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.countBetween=function(t,r,i){return I(this,void 0,void 0,function(){var o,u=this;return O(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?(o=bl(pi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:t,"/where":function(h){var f=u._deserialize(h);return i.includes(f.createdAt)&&r.match(f)}},index:o}).count()]):[3,2];case 1:return[2,c.sent()];case 2:return[2,0]}})})},n.prototype.saveBlobs=function(t){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return I(r,void 0,void 0,function(){var u,c;return O(this,function(h){switch(h.label){case 0:return o instanceof Jr&&o.messageParams&&(u=o.messageParams).file&&$2(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2];case 1:c=h.sent(),u.fileKey=c,h.label=2;case 2:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(mo),kF=function(e){function n(t){var r=t.message,i=e.call(this)||this;return i.message=r,i}return B(n,e),n}(ai),yE={},uh=function(){function e(n,t){var r=t.localCacheEnabled,i=t.dispatcher,o=t.sdkState,u=t.logger,c=this;yE[n]=this,this._iid=n,yE[n]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=i,this._logger=u,this._sdkState=o,this._localCacheEnabled&&i.on(function(h){if(h instanceof fo)switch(h.stateType){case Tt.CONNECTED:c._isProcessingAutoResend||c.processAutoResendRegisteredPendingMessages().then(function(){return c._processNextAutoResend()});break;case Tt.DISCONNECTED:c._isProcessingAutoResend=!1}})}return e.of=function(n){return yE[n]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=c.sent();try{for(t=je(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",i.reqId),i.sendingStatus=Ft.FAILED,i.errorCode=Yn.ACK_TIMEOUT,this._dispatcher.dispatch(new lr({messages:[i],source:bn.LOCAL_MESSAGE_FAILED})))}catch(h){o={error:h}}finally{try{r&&!r.done&&(u=t.return)&&u.call(t)}finally{if(o)throw o.error}}return[2]}})})},e.prototype.processAutoResendRegisteredPendingMessages=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=f.sent();try{for(t=je(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode&&wv(i.errorCode)&&(o=new Date().getTime(),u=i.createdAt+2592e5,o<=u?this._autoResendQueue.map(function(v){return v.reqId}).indexOf(i.reqId)<0&&this._autoResendQueue.push(i):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(u).toLocaleString()),i.sendingStatus=Ft.FAILED,this._dispatcher.dispatch(new lr({messages:[i],source:bn.LOCAL_MESSAGE_FAILED}))))}catch(v){c={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}}return[2]}})})},e.prototype.completeCurrentAndProcessNextAutoResend=function(n){if(this._localCacheEnabled&&(n.sendingStatus===Ft.SUCCEEDED||n.sendingStatus===Ft.FAILED&&!wv(n.errorCode))){var t=this.indexOf(n);t>=0&&this._autoResendQueue.splice(t,1),t===0&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return I(this,void 0,void 0,function(){var n,t;return O(this,function(r){switch(r.label){case 0:return(n=W3.of(this._iid))?[4,n.fetch({sendingStatus:Ft.PENDING,backward:!0})]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=[],r.label=3;case 3:return[2,t]}})})},e.prototype.indexOf=function(n){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId):-1},e.prototype._isNotInQueue=function(n){return this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId)===-1},e.prototype._processNextAutoResend=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),n=this._autoResendQueue[0],this._dispatcher.dispatch(new kF({message:n})),this._logger.debug("processing auto-resend for message request id: ",n.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},e}();(function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(v0||(v0={}));var Sv=function(){function e(n){this.category=n.cat,this.data=n.data}return e.getDataAsUserBlockEvent=function(n,t){var r=t.data,i=r.blocker,o=r.blockee;return{blocker:new An(n,i),blockee:new An(n,o)}},e.getDataAsFriendDiscoveredEvent=function(n,t){var r=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(i){return new An(n,i)}):[]}},e}(),CF=function(e){function n(t,r){var i=r.userId,o=e.call(this)||this;return o._iid=t,o.userId=i,o}return B(n,e),n}(ai),SF=function(e){function n(t,r,i){var o=e.call(this,t,"USEV",i)||this;return o.event=new Sv(i),o}return B(n,e),n}(Mt),NF=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(De),TF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(n,e),n}(Fe),IF=function(e){function n(t){var r=t.userId,i=t.pushTriggerOption,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:i},o}return B(n,e),n}(De),OF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return B(n,e),n}(Fe),Pre={profileImage:null,profileUrl:null,nickname:null},Fre=function(){this.onSessionExpired=Mn,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=Mn,this.onSessionRefreshed=Mn,this.onSessionClosed=Mn},AF=function(){this.onConnected=Mn,this.onReconnectStarted=Mn,this.onReconnectSucceeded=Mn,this.onReconnectFailed=Mn,this.onDisconnected=Mn},Hre=function(){this.onFriendsDiscovered=Mn,this.onTotalUnreadMessageCountUpdated=Mn};(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(mo);var qre=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._pauseDelayTimer=null,t._currentState="visible",t}return B(n,e),Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener},enumerable:!1,configurable:!0}),n.prototype._toggleState=function(){var t=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){t._pauseDelayTimer=null,t.dispatch("pause")},3e4)),this._currentState=document.visibilityState},n.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n}(T0),Bre=function(){function e(n){var t=n.logger,r=n.connectionDelegate,i=r===void 0?null:r;this.logger=t,i&&(this.connectionDelegate=i),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(e.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),e.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},e.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},e.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},e.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},e.prototype.isOnline=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(t,r){fetch("https://www.google.com",{method:Re.GET}).then(function(){return t(!0)}).catch(function(){return t(!1)})})]})})},e}(),FD=function(e){function n(t){var r=t.userId,i=t.nickname,o=i===void 0?null:i,u=t.profileUrl,c=u===void 0?null:u,h=t.profileImage,f=h===void 0?null:h,v=t.preferredLanguages,_=v===void 0?null:v,y=e.call(this)||this;return y.method=Re.PUT,y.path="".concat(et,"/").concat(encodeURIComponent(r)),y.params=En({nickname:o,profile_url:c,profile_file:f,preferred_languages:_}),y}return B(n,e),n}(De),HD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=null,i.user=new An(t,Z({},r)),i}return B(n,e),n}(Fe),Gre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:i,always_push:!0},o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?ds[r.type.toLowerCase()]:ds.UNKNOWN,i.user=new An(t,r.user),i}B(n,e)})(Fe);var zre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:i,always_push:!0},o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?ds[r.type.toLowerCase()]:ds.UNKNOWN,i.user=new An(t,r.user),i}B(n,e)})(Fe);var $re=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(i)),o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new An(t,r.user),i}B(n,e)})(Fe);var jre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(i)),o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new An(t,r.user),i}B(n,e)})(Fe);var Vre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.DELETE,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/apns"),i}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?ds[r.type.toLowerCase()]:ds.UNKNOWN,i.user=new An(t,r.user),i}B(n,e)})(Fe);var Wre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.DELETE,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/gcm"),i}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?ds[r.type.toLowerCase()]:ds.UNKNOWN,i.user=new An(t,r.user),i}B(n,e)})(Fe);var Kre=function(e){function n(t){var r=t.userId,i=t.type,o=t.token,u=t.ts,c=e.call(this)||this;return c.method=Re.GET,c.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(i),"/device_tokens"),c.params={created_ts:u,token:o},c}return B(n,e),n}(De),Qre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTokens={type:r.type?ds[r.type.toLowerCase()]:ds.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},i}return B(n,e),n}(Fe),Yre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),i}return B(n,e),n}(De),Xre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(n,e),n}(Fe),Jre=function(e){function n(t){var r=t.userId,i=t.willAutoAccept,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:i},o}return B(n,e),n}(De),Zre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return B(n,e),n}(Fe),eie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(De),nie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(n,e),n}(Fe),tie=function(e){function n(t){var r=t.userId,i=t.doNotDisturbOn,o=t.startHour,u=t.startMin,c=t.endHour,h=t.endMin,f=t.timezone,v=e.call(this)||this;return v.method=Re.PUT,v.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),v.params={do_not_disturb:i,start_hour:o,start_min:u,end_hour:c,end_min:h,timezone:f},v}return B(n,e),n}(De),rie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return B(n,e),n}(Fe),iie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),i}return B(n,e),n}(De),aie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(n,e),n}(Fe),sie=function(e){function n(t){var r=t.userId,i=t.snoozeOn,o=t.startTs,u=t.endTs,c=e.call(this)||this;return c.method=Re.PUT,c.path="".concat(et,"/").concat(encodeURIComponent(r),"/push_preference"),c.params={snooze_enabled:i,snooze_start_ts:o,snooze_end_ts:u},c}return B(n,e),n}(De),oie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return B(n,e),n}(Fe),lie=function(e){function n(t){var r=t.userId,i=t.blockedUserId,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:i},o}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=new An(t,r),i}B(n,e)})(Fe);var uie=function(e){function n(t){var r=t.userId,i=t.unblockedUserId,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(i)),o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var cie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/template"),i}return B(n,e),n}(De),die=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return B(n,e),n}(Fe),hie=function(e){function n(t){var r=t.userId,i=t.templateName,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:i},o}return B(n,e),n}(De),pie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return B(n,e),n}(Fe),fie=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=Re.GET,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:i},o}return B(n,e),n}(De),mie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.changelogs={addedUsers:r.added.map(function(o){return new An(t,o)}),updatedUsers:r.updated.map(function(o){return new An(t,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},i}return B(n,e),n}(Fe),gie=function(e){function n(t){var r=t.userId,i=t.discoveries,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:i.map(function(u){return{friend_discovery_key:u.friendDiscoveryKey,friend_name:u.friendName}})},o}return B(n,e),n}(De),vie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.friendDiscoveryRequestId=r.friend_discovery_request_id,i}return B(n,e),n}(Fe),_ie=function(e){function n(t){var r=t.userId,i=t.discoveryKeys,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:i},o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var bie=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=Re.POST,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(n,e),n}(De),yie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new An(t,o)}),i}return B(n,e),n}(Fe),Eie=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=Re.DELETE,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var wie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(r,"/allow_friend_discovery"),i.params={},i}return B(n,e),n}(De),xie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.allowFriendDiscovery=r.allow_friend_discovery,i}return B(n,e),n}(Fe),kie=function(e){function n(t){var r=t.userId,i=t.allowFriendDiscovery,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:i},o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var jt,RF=function(e){this.key=null,this.url=null,this.key=e.key,this.url=e.url},MF=function(e){var n,t,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(n=e.id)!==null&&n!==void 0?n:0,this.name=(t=e.name)!==null&&t!==void 0?t:"",this.url=(r=e.url)!==null&&r!==void 0?r:"",this.emojis=e.emojis?e.emojis.map(function(i){return new RF(i)}):[]},Cie=function(e){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(n){return new MF(n)}):[]},Sie=function(e){function n(){var t=e.call(this)||this;return t.method=Re.GET,t.path=X7,t}return B(n,e),n}(De),Nie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiContainer=new Cie(r),i}return B(n,e),n}(Fe),Tie=function(e){function n(t){var r=t.categoryId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(X7,"/").concat(r),i}return B(n,e),n}(De),Iie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiCategory=new MF(r),i}return B(n,e),n}(Fe),Oie=function(e){function n(t){var r=t.key,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(ate,"/").concat(r),i}return B(n,e),n}(De),Aie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emoji=new RF(r),i}return B(n,e),n}(Fe),Rie=function(e){function n(t){var r=t.limit,i=t.token,o=t.userIdsFilter,u=t.metaDataKeyFilter,c=t.metaDataValuesFilter,h=t.nicknameStartsWithFilter,f=e.call(this)||this;return f.method=Re.GET,f.path=et,f.params=En({limit:r,token:i,user_ids:o,metadatakey:u,metadatavalues_in:c,nickname_startswith:h}),f}return B(n,e),n}(De),Mie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new An(t,o)}),i.next=r.next,i}return B(n,e),n}(Fe),Die=function(e){function n(t,r){var i,o,u,c=this;return(c=e.call(this,t,r)||this).userIdsFilter=null,c.metaDataKeyFilter=null,c.metaDataValuesFilter=null,c.nicknameStartsWithFilter=null,c.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,c.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,c.metaDataValuesFilter=(u=r.metaDataValuesFilter)!==null&&u!==void 0?u:null,c.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,c}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Sn("string",this.userIdsFilter,!0)&&J("string",this.metaDataKeyFilter,!0)&&Sn("string",this.metaDataValuesFilter,!0)&&J("string",this.metaDataKeyFilter,!0)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Rie(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Mie),u=o.users,c=o.next,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),Uie=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,u=t.userIdsFilter,c=e.call(this)||this;return c.method=Re.GET,c.path="".concat(et,"/").concat(r,"/block"),c.params=En({limit:i,token:o,user_ids:u}),c}return B(n,e),n}(De),Lie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new An(t,o)}),i.next=r.next,i}return B(n,e),n}(Fe),Pie=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this).userIdsFilter=null,o.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,o}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Sn("string",this.userIdsFilter,!0)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Uie(Z(Z({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=v.sent(),c=u.as(Lie),h=c.users,f=c.next,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),Fie=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,u=e.call(this)||this;return u.method=Re.GET,u.path="".concat(et,"/").concat(encodeURIComponent(r),"/friends"),u.params={limit:i,token:o},u}return B(n,e),n}(De),Hie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.hasMore=r.has_more,i.users=r.users.map(function(o){return new An(t,o)}),i.next=r.next,i}return B(n,e),n}(Fe),qie=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return O(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Fie(Z(Z({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return u=_.sent(),c=u.as(Hie),h=c.users,f=c.hasMore,v=c.next,this._token=v,this._hasNext=f,this._isLoading=!1,[2,h];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),bg={},h_=function(){function e(n){var t=n.dbname,r=n.itemSizeLimit,i=r===void 0?1048576:r,o=n.cacheLimit,u=o===void 0?256:o,c=n.blockHashBase,h=c===void 0?2:c,f=n.blockHashMultiplier,v=f===void 0?10:f,_=n.blockHashConstant,y=_===void 0?11:_,E=n.transactionApplyDelay,k=E===void 0?200:E,S=n.disableLogger,D=S!==void 0&&S;return bg[t]||(this.itemSizeLimit=i,this.cacheLimit=u,this.blockHashBase=h,this.blockHashMultiplier=v,this.blockHashConstant=y,this.transactionApplyDelay=k,this.disableLogger=D,bg[t]=this),bg[t]}return e.get=function(n){return bg[n]},e}();(function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(jt||(jt={}));var ch,pt=function(e){function n(t){var r=t.code,i=r===void 0?jt.UNKNOWN_ERROR:r,o=t.message,u=o===void 0?"Unknown error occurred.":o,c=e.call(this,u)||this;return c.code=i,Object.setPrototypeOf(c,n.prototype),c}return B(n,e),Object.defineProperty(n,"storeNotDefined",{get:function(){return new n({code:jt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailable",{get:function(){return new n({code:jt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailableInPrivateBrowsing",{get:function(){return new n({code:jt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeIsFull",{get:function(){return new n({code:jt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeKeyTypeIsInvalid",{get:function(){return new n({code:jt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenIntegrity",{get:function(){return new n({code:jt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenBlob",{get:function(){return new n({code:jt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeEncryptionInvalid",{get:function(){return new n({code:jt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeItemSizeExceeded",{get:function(){return new n({code:jt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeReadFailed",{get:function(){return new n({code:jt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeWriteFailed",{get:function(){return new n({code:jt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseSchemaNotOnUpgrade",{get:function(){return new n({code:jt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionNotReady",{get:function(){return new n({code:jt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotMatch",{get:function(){return new n({code:jt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionQueryNotValid",{get:function(){return new n({code:jt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionInsertDuplicate",{get:function(){return new n({code:jt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotFound",{get:function(){return new n({code:jt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotGiven",{get:function(){return new n({code:jt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionWriteFailed",{get:function(){return new n({code:jt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionItemSizeExceeded",{get:function(){return new n({code:jt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTableIsRequired",{get:function(){return new n({code:jt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTypesNotMatch",{get:function(){return new n({code:jt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"compareTypesNotMatch",{get:function(){return new n({code:jt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularReferenceFound",{get:function(){return new n({code:jt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),n}(Error);(function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"})(ch||(ch={}));var qD,ga=function(e,n){if(n===void 0&&(n=new WeakMap),typeof e=="object"&&e!==null){if(n.has(e))throw pt.circularReferenceFound;n.set(e,!0);var t=null;if(Array.isArray(e))t=e.map(function(i){return ga(i,n)});else if(e instanceof RegExp)t=e;else if(e instanceof Date)t=e;else for(var r in t={},e)t[r]=ga(e[r],n);return n.delete(e),t}return e},yl=function(e,n){if(n==null)return 1;if(e==null)return-1;if(typeof e!=typeof n)throw pt.compareTypesNotMatch;var t=0;switch(typeof e){case"boolean":case"number":t=e-n;break;case"string":t=e.localeCompare(n)}return t},BD=function(e,n){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+(t<<6)+(t<<16)-t;return(t>>>0)%n},$d=function(e){return new Promise(function(n){setTimeout(function(){return n()},e)})},Bc=function(e,n){if(!n)return!1;if(typeof e!="function"){for(var t in e)if(["/and","&&"].includes(t)){if(e[t].some(function(h){return!Bc(h,n)}))return!1}else if(["/or","||"].includes(t)){if(e[t].every(function(h){return!Bc(h,n)}))return!1}else if(t==="/where"){if(!(0,e[t])(n))return!1}else{var r=t;if(typeof e[r]=="object"){var i=e[r];for(var o in i)switch(o){case"/eq":case"=":if((u=n[r])!==(c=i[o]))return!1;break;case"/neq":case"!=":if((u=n[r])===(c=i[o]))return!1;break;case"/gt":case">":var u=n[r],c=i[o];if(!(yl(u,c)>0))return!1;break;case"/gte":case">=":if(u=n[r],c=i[o],!(yl(u,c)>=0))return!1;break;case"/lt":case"<":if(u=n[r],c=i[o],!(yl(u,c)<0))return!1;break;case"/lte":case"<=":if(u=n[r],c=i[o],!(yl(u,c)<=0))return!1;break;case"/in":if(u=n[r],!(c=i[o]).includes(u))return!1;break;case"/nin":if(u=n[r],(c=i[o]).includes(u))return!1;break;case"/contain":if(u=n[r],c=i[o],!u.includes(c))return!1;break;case"/regex":if(u=n[r],!(c=i[o]).test(u))return!1;break;case"/where":if(u=n[r],!(0,i[o])(u))return!1}}else if(typeof e[r]=="function"){if(!e[r](n[r]))return!1}else if(e[r]!==n[r])return!1}return!0}return e(n)},Gg=function(){},GD=function(){return Promise.resolve()},Bie=function(e){return e},zD=function(e,n){n(null)};(function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"})(qD||(qD={}));var Gc,Di,Ao,Gie=function(){function e(n){var t=n.initialPrevValue,r=t===void 0?null:t,i=n.initialNextValue,o=i===void 0?null:i,u=n.iterator,c=n.map,h=c===void 0?Bie:c,f=n.backward,v=f===void 0?GD:f,_=n.forward,y=_===void 0?GD:_,E=n.complete,k=E===void 0?Gg:E;this._prevValue=r,this._nextValue=o,this._error=null,this._map=h,this._backward=v,this._forward=y,this._iterator=u,this._complete=k}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return I(this,void 0,void 0,function(){var n,t,r;return O(this,function(i){switch(i.label){case 0:if(!this.hasPrevious)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=i.sent()||null,this._nextValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.next=function(){return I(this,void 0,void 0,function(){var n,t,r;return O(this,function(i){switch(i.label){case 0:if(!this.hasNext)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=i.sent()||null,this._prevValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),Q2=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,u=n.blockManager,c=n.indexer;this.condition=r,this.backward=o,this._blockManager=u,this._indexer=c}return e.prototype.findOptimizedStartPosition=function(){var n=this,t=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var i=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var u=this._indexer.fields[o],c=1;if(u[0]==="-"&&(u=u.slice(1),c=-1),this.condition[u]){if(typeof this.condition[u]=="object"){var h=c>0?r:t;for(var f in this.condition[u])if(h.includes(f)){for(var v=i;v>=0;v--)if(c*yl(this._indexer.origin[v].columnValues[o],this.condition[u][f])<=0){i=v;break}}}else for(v=i;v>=0;v--)if(c*yl(this._indexer.origin[v].columnValues[o],this.condition[u])<=0){i=v;break}}}return Math.min(i+1,this._indexer.origin.length-1)}var _=0;if(typeof this.condition!="function")for(var y=function(S){var D=E._indexer.fields[S],N=1;if(D[0]==="-"&&(D=D.slice(1),N=-1),E.condition[D]){if(typeof E.condition[D]=="object")Object.keys(E.condition[D]).forEach(function(A){if((N>0?t:r).includes(A)){for(var q=_;q<n._indexer.origin.length;q++)if(N*yl(n._indexer.origin[q].columnValues[S],n.condition[D][A])>=0){_=q;break}}});else for(var C=_;C<E._indexer.origin.length;C++)if(N*yl(E._indexer.origin[C].columnValues[S],E.condition[D])>=0){_=C;break}}},E=this,o=0;o<this._indexer.fields.length;o++)y(o);return Math.max(_-1,0)},e.prototype.each=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return O(this,function(v){switch(v.label){case 0:if(t=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[t]&&(r=this._indexer.origin[t].keys.length-1),i=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[++r]){if(!f._indexer.origin[++t])return!1;r=0}return!0}return!1},o=function(){if(f._indexer.origin[t]){if(!f._indexer.origin[t].keys[--r]){if(!f._indexer.origin[--t])return!1;r=f._indexer.origin[t].keys.length-1}return!0}return!1},u=null,!this._indexer.origin[t])return[3,4];c=this.backward?o:i,v.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])];case 2:if(h=v.sent(),Bc(this.condition,h))return u=h,[3,4];v.label=3;case 3:if(c())return[3,1];v.label=4;case 4:return[4,new Promise(function(_){var y=new Gie({initialNextValue:ga(u),iterator:n,forward:function(){return I(f,void 0,void 0,function(){var E,k;return O(this,function(S){switch(S.label){case 0:E=this.backward?o:i,S.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return k=S.sent(),Bc(this.condition,k)?[2,ga(k)]:[3,1];case 3:return[2,null]}})})},backward:function(){return I(f,void 0,void 0,function(){var E,k;return O(this,function(S){switch(S.label){case 0:E=this.backward?i:o,S.label=1;case 1:return E()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return k=S.sent(),Bc(this.condition,k)?[2,ga(k)]:[3,1];case 3:return[2,null]}})})},complete:_});n(y)})];case 5:return[2,v.sent()]}})})},e}(),zie=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,u=n.mutex,c=n.blockManager,h=n.indexer;this._mutex=u,this._iterator=new Q2({condition:r,backward:o,blockManager:c,indexer:h})}return e.prototype.fetch=function(n){return n===void 0&&(n={}),I(this,void 0,void 0,function(){var t,r,i,o,u=this;return O(this,function(c){switch(c.label){case 0:if(t=Math.max(n.offset||0,0),(r=typeof n.limit=="number"?n.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw pt.collectionQueryNotValid;c.label=1;case 1:return c.trys.push([1,4,,5]),i=[],[4,this._mutex.lock()];case 2:return c.sent(),[4,this._iterator.each(function(h){return I(u,void 0,void 0,function(){return O(this,function(f){return h.error?h.stop():h.hasNext?t===0?(i.push(h.nextValue),0<r&&r<=i.length?h.stop():h.next()):(t--,h.next()):h.stop(),[2]})})})];case 3:return c.sent(),this._mutex.unlock(),[2,i];case 4:throw o=c.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},e.prototype.count=function(){return I(this,void 0,void 0,function(){var n,t,r=this;return O(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=0,[4,this._mutex.lock()];case 1:return i.sent(),[4,this._iterator.each(function(o){return I(r,void 0,void 0,function(){return O(this,function(u){return o.error?o.stop():o.hasNext?(n++,o.next()):o.stop(),[2]})})})];case 2:return i.sent(),this._mutex.unlock(),[2,n];case 3:throw t=i.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),Y2=function(e){return"".concat("nest","@").concat(e)},Yc=function(e,n){return"".concat(Y2(e),"/").concat(n)},EE=function(e,n){return"".concat(Yc(e,n),".metadata")},X2=function(e,n){return"".concat(Yc(e,n),"/block.")},DF=function(e,n){return"".concat(Yc(e,n),"/blob.")},wE=function(e,n,t,r){return r===void 0&&(r=0),"".concat(DF(e,n)).concat(t,".").concat(r)},$ie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this.dbname=t,this.collectionName=r,this._store=i}return e.prototype._makeShards=function(n,t){var r=Math.max(this._store.itemSizeLimit-1024,0);if(r>0){for(var i=Math.ceil(n.data.length/r),o="".concat(i,".").concat(n.type,".").concat(t),u=[],c=0;c<n.data.length;c+=r){var h=n.data.slice(c,c+r);u.push(h)}return{blobId:o,shards:u}}return{blobId:null,shards:null}},e.prototype._encode=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r){var i=new FileReader;i.onload=function(){r({data:i.result,type:n.type})},i.readAsDataURL(n)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(n.data)];case 1:return[4,h.sent().blob()];case 2:return[2,h.sent()];case 3:for(t=[],r=atob(n.data.split(",")[1]),i=0;i<r.length;i+=512){for(o=r.slice(i,i+512),u=new Array(o.length),c=0;c<o.length;c++)u[c]=o.charCodeAt(c);t.push(new Uint8Array(u))}return[2,new Blob(t,{type:n.type})]}})})},e.prototype.get=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:if(t=[],r=_n(n.split("."),2),i=r[0],o=r[1],!((u=parseInt(i))>0))return[3,6];c=0,v.label=1;case 1:return c<u?(h=wE(this.dbname,this.collectionName,n,c),[4,this._store.get(h)]):[3,4];case 2:if(!(f=v.sent())||!f.d)throw pt.storeBrokenBlob;t.push(f.d),v.label=3;case 3:return c++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:o})];case 5:return[2,v.sent()];case 6:return[2,null]}})})},e.prototype.save=function(n,t){return t===void 0&&(t="".concat(Date.now())),I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return r=[],[4,this._encode(n)];case 1:if(i=v.sent(),o=this._makeShards(i,t),u=o.blobId,c=o.shards,!u)return[3,3];for(h=0;h<c.length;h++)f=wE(this.dbname,this.collectionName,u,h),r.push({key:f,value:{d:c[h]},generation:1});return[4,this._store.setMany(r)];case 2:if(v.sent().some(function(_){return _ instanceof Error}))throw pt.storeWriteFailed;return[2,u];case 3:return[2,null]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:if(t=[],r=_n(n.split("."),1),i=r[0],!((o=parseInt(i))>0))return[3,2];for(u=0;u<o;u++)t.push(wE(this.dbname,this.collectionName,n,u));return[4,this._store.removeMany(t)];case 1:c.sent(),c.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return n=DF(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:r=f.sent();try{for(i=je(r),o=i.next();!o.done;o=i.next())(u=o.value).startsWith(n)&&t.push(u)}catch(v){c={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}return[4,this._store.removeMany(r)];case 2:return f.sent(),[2]}})})},e}();(function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"})(Gc||(Gc={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(Di||(Di={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(Ao||(Ao={}));var $D=[Di.PENDING,Di.VOLATILE],yg={},Is=function(){function e(n){var t=n.dbname,r=n.limit,i=r===void 0?256:r;return yg[t]||(this.dbname=t,this._items=[],this._limit=i,yg[t]=this),yg[t]}return e.get=function(n){return yg[n]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(n,t,r){return r===void 0&&(r=Ao.DEFAULT),I(this,void 0,void 0,function(){var i,o;return O(this,function(u){switch(u.label){case 0:return(i=this.get(t))?[3,2]:[4,n.get(t)];case 1:return(o=u.sent())&&(i={key:t,value:o,generation:1,state:r===Ao.PERSISTENT?Di.PERSISTENT:Di.VOLATILE},this.put(i)),[3,3];case 2:r===Ao.PERSISTENT&&(i.state=Di.PERSISTENT),u.label=3;case 3:return[2,i]}})})},e.prototype.get=function(n,t){t===void 0&&(t=Ao.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(n);if(r>-1){var i=this._items[r];return t===Ao.PERSISTENT&&(i.state=Di.PERSISTENT),t!==Ao.NO_CACHE&&this.put(i),i}return null},e.prototype.put=function(n){var t,r;if(this._limit>0){var i=this._items.map(function(_){return _.key}).indexOf(n.key);if(i>-1)$D.includes(this._items[i].state)&&$D.includes(n.state)?(this._items.splice(i,1),this._items.push(n)):(this._items[i].state=n.state,this._items[i].generation=n.generation,this._items[i].value=n.value);else{this._items.push(n);var o=this._items.filter(function(_){return _.state===Di.VOLATILE}),u=o.length-this._limit;if(u>0){var c=[];try{for(var h=je(this._items),f=h.next();!f.done;f=h.next()){var v=f.value;v.state===Di.VOLATILE&&u>0?u--:c.push(v)}}catch(_){t={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}this._items=c}}}},e.prototype.remove=function(n){var t=this._items.map(function(r){return r.key}).indexOf(n);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(n){this._items=this._items.filter(function(t){return!n(t)})},e.prototype.clear=function(n){n===void 0&&(n=!1),this._items=n?[]:this._items.filter(function(t){return t.state!==Di.VOLATILE})},e}(),jie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=r,this.metadataKey=function(o,u){return"".concat(Yc(o,u),"/trans.metadata")}(t,r),this.recordsetKey=function(o,u){return"".concat(Yc(o,u),"/trans.recordset")}(t,r),this._store=i}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(n){return n===void 0&&(n=[]),I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=r.sent()||[]).push.apply(t,vn([],_n(n),!1)),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(n){for(var t=[],r={},i=n.length-1;i>=0;i--){for(var o=n[i],u=[],c=o.requests.length-1;c>=0;c--){var h=o.requests[c],f=h.data;r[f.key]||(u.unshift(h),r[f.key]=!0)}u.length>0&&(o.requests=u,t.unshift(o))}return t},e.prototype._applyRecord=function(n,t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:r=Is.get(this.dbname),i=t.generation,o=t.requests,u=null,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(E){return Z(Z({},E.data),{generation:i})}))];case 2:for(c=y.sent(),h=0;h<o.length;h++)c[h]instanceof Error&&(u||(u=c[h]),f=o[h].data,r.put(Z(Z({},f),{generation:i,state:Di.PERSISTENT})));return[3,4];case 3:return v=y.sent(),u=v,[3,4];case 4:return u?[3,6]:(_=n.filter(function(E){return E.generation!==i}),[4,this._store.set({key:this.recordsetKey,value:_,generation:i})]);case 5:return y.sent(),this._onWrite.forEach(function(E){E(o.map(function(k){return k.data}))}),[3,7];case 6:this._onError.forEach(function(E){return E(u)}),y.label=7;case 7:return[2]}})})},e.prototype.init=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return n=this,[4,this._store.get(this.metadataKey)];case 1:return n._metadata=f.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=je(t),i=r.next(),f.label=4;case 4:return i.done?[3,7]:(o=i.value,[4,this._applyRecord(t,o)]);case 5:f.sent(),f.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return u=f.sent(),c={error:u},[3,10];case 9:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 10:return[2]}})})},e.prototype.on=function(n,t,r){switch(n){case Gc.COMMIT:this._onCommit.set(t,r);break;case Gc.WRITE:this._onWrite.set(t,r);break;case Gc.ERROR:this._onError.set(t,r)}},e.prototype.requestWrite=function(n,t){t===void 0&&(t=null),this._requests.push({data:n,options:t}),Is.get(this.dbname).put(Z({state:Di.PENDING,generation:this.generation},n))},e.prototype.requestMultipleWrite=function(n,t){var r,i;t===void 0&&(t=null);var o=Is.get(this.dbname);try{for(var u=je(n),c=u.next();!c.done;c=u.next()){var h=c.value;this._requests.push({data:h,options:t}),o.put(Z({state:Di.PENDING,generation:this.generation},h))}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return Is.get(this.dbname).clearByCondition(function(t){return t.state===Di.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E=this;return O(this,function(k){switch(k.label){case 0:if(!((n=this._requests).length>0))return[3,4];for(t=[],r={},h=n.length-1;h>=0;h--)i=n[h],v=i.data,r[v.key]||(r[v.key]=!0,t.unshift(i));return o={generation:this.generation,requests:t},[4,this._getReducedRecordset([o])];case 1:return u=k.sent(),[4,this._store.set({key:this.recordsetKey,value:u,generation:this.generation})];case 2:return k.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(k.sent(),c=Is.get(this.dbname),h=0;h<t.length;h++)f=t[h],v=f.data,_=f.options,c.put(Z(Z({},v),{generation:o.generation,state:_&&_.persistent?Di.PERSISTENT:Di.VOLATILE}));this._requests=[],this._onCommit.forEach(function(S){S(n.map(function(D){return D.data}))}),y=h_.get(this.dbname),setTimeout(function(){try{E._applyRecord(u,o)}catch(S){E._onError.forEach(function(D){return D(S)})}},y.transactionApplyDelay),k.label=4;case 4:return[2]}})})},e}(),zg=function(){function e(n){var t=n.blockId,r=n.keyName,i=n.items,o=i===void 0?[]:i,u=n.limit;this.blockId=t,this.keyName=r,this.limit=u,this._items=vn([],_n(o),!1)}return e.createFromCacheItem=function(n){return n?new e(n.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(n){var t=this;return this._items.find(function(r){var i=r[t.keyName];return n===i})},e.prototype.has=function(n){var t=this;return this._items.map(function(r){return r[t.keyName]}).includes(n)},e.prototype.add=function(n){var t=this,r=this._items.map(function(i){return i[t.keyName]}).indexOf(n[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(n),!0):(this._items[r]=n,!0)},e.prototype.remove=function(n){for(var t in this._items)if(this._items[t][this.keyName]===n)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),Vie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.metadata,o=n.hashFunction,u=o===void 0?BD:o,c=n.transaction,h=n.store;this.dbname=t,this.collectionName=r,this.hashFunction=u,this.metadata=i,this._transaction=c,this._store=h}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(n,t){return t===void 0&&(t=this.metadata.blockLevel),r=this.dbname,i=this.collectionName,o=t,u="".concat(function(c,h,f){var v=f.base*Math.pow(f.multiplier,h)+f.constant;return(f.hashFunction||BD)(c,v)}(n,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(X2(r,i)).concat(o,".").concat(u);var r,i,o,u},e.prototype._findBlock=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:t=Is.get(this.dbname),r=this.metadata.blockLevel,c.label=1;case 1:return r>0?(i=this.createBlockId(n,r),[4,t.find(this._store,i)]):[3,4];case 2:if((o=c.sent())&&(u=zg.createFromCacheItem(o),u.getItemByKey(n)))return[2,u];c.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return[2,(t=r.sent())?t.getItemByKey(n):null]}})})},e.prototype.putToBlock=function(n,t){return I(this,void 0,void 0,function(){var r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return r=h_.get(this.dbname),i=this.createBlockId(n),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,Is.get(this.dbname).find(this._store,i)];case 1:return u=h.sent(),(c=u?zg.createFromCacheItem(u):new zg({blockId:i,keyName:this.keyName,items:[],limit:o})).add(t)?(this._transaction.requestWrite({key:c.blockId,value:c.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return(t=r.sent())&&t.remove(n)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return n=X2(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=v.sent(),r=t.filter(function(_){return _.startsWith(n)}),[4,this._store.removeMany(r)];case 2:v.sent(),i=Is.get(this.dbname);try{for(o=je(r),u=o.next();!u.done;u=o.next())c=u.value,i.remove(c)}catch(_){h={error:_}}finally{try{u&&!u.done&&(f=o.return)&&f.call(o)}finally{if(h)throw h.error}}return[2]}})})},e}(),ou=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.fields,u=n.transaction,c=n.store,h=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=r,this.keyName=i,this.fields=o,this.indexerKey=function(f,v,_){return"".concat(Yc(f,v),"/index.").concat(_)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=u,this._store=c,this._transaction.on(Gc.COMMIT,this.indexerKey,function(){return h.commit()}),this._transaction.on(Gc.ERROR,this.indexerKey,function(){return h.abort()})}return e.createKey=function(n){return n.join(">")},e.parseKey=function(n){return n.split(">")},e.prototype._addItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=_n(this.indexOf(r),2),o=i[0];return i[1]?!this._table[o].keys.includes(t)&&(this._table[o].keys.push(t),!0):(this._table.splice(o,0,{columnValues:r,keys:[t]}),!0)},e.prototype._removeItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=_n(this.indexOf(r),2),o=i[0];if(i[1]){var u=this._table[o].keys.indexOf(t);if(u>-1)return this._table[o].keys.splice(u,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(n){var t,r,i,o,u=[];try{for(var c=je(this.fields),h=c.next();!h.done;h=c.next()){var f=h.value;if(f[0]==="-"&&(f=f.slice(1)),i=n[f],o=void 0,o=typeof i,i!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw pt.indexTypesNotMatch;u.push(n[f])}}catch(v){t={error:v}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return u},e.prototype.diff=function(n,t){for(var r in this.fields){var i=this.fields[r][0]==="-"?-1:1,o=yl(n[r],t[r]);if(o!==0)return i*o}return 0},e.prototype.indexOf=function(n){if(this._table.length>0){for(var t=0,r=this._table.length-1;t<=r;){var i=Math.floor((t+r)/2),o=this.diff(n,this._table[i].columnValues);if(o>0)t=i+1;else{if(!(o<0))return[i,!0];r=i-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E,k,S,D,N;return O(this,function(C){switch(C.label){case 0:return[4,(n=Is.get(this.dbname)).find(this._store,this.indexerKey,Ao.PERSISTENT)];case 1:return(t=C.sent())?[3,11]:(r=X2(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:i=C.sent(),C.label=3;case 3:C.trys.push([3,8,9,10]),o=je(i),u=o.next(),C.label=4;case 4:return u.done?[3,7]:(c=u.value).startsWith(r)?[4,n.find(this._store,c,Ao.NO_CACHE)]:[3,6];case 5:h=C.sent(),f=zg.createFromCacheItem(h);try{for(D=void 0,v=je(f.items),_=v.next();!_.done;_=v.next())y=_.value,this._addItem(y)}catch(A){D={error:A}}finally{try{_&&!_.done&&(N=v.return)&&N.call(v)}finally{if(D)throw D.error}}C.label=6;case 6:return u=o.next(),[3,4];case 7:return[3,10];case 8:return E=C.sent(),k={error:E},[3,10];case 9:try{u&&!u.done&&(S=o.return)&&S.call(o)}finally{if(k)throw k.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=ga(this._origin),C.label=12;case 12:return[2]}})})},e.prototype.drop=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return Is.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return n.sent(),[2]}})})},e.prototype.addItem=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return this._addItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return this._removeItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=ga(this._origin)},e.prototype.abort=function(){this._table=ga(this._origin)},e}(),wl=typeof document<"u"&&typeof navigator<"u";wl&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var Wie=wl&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");wl&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),wl&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),wl&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Bf,Ai,Kie=wl&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),jD=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})};(function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"})(Bf||(Bf={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(Ai||(Ai={}));var dl,xE={},UF=function(){function e(n,t){t===void 0&&(t={});var r=this;return this._state=Bf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],xE[n]&&!t.forceCreate||(this.nodeId=jD(),this.key=n,wl&&(t.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(i){var o,u,c=i.data,h=c.nodeId,f=c.requestId,v=c.key,_=c.op,y=c.data;if(h!==r.nodeId&&v===r.key)switch(_){case Ai.NEWNODE:r._sendSync();break;case Ai.CLAIM_HOST:r._sendSync(),r._hostId=h;break;case Ai.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var E=y,k=E.currentItemRequestId,S=E.queue,D=function(q){var K=r._queue.findIndex(function(z){return z.requestId===q.requestId});K<0&&r._requestLock({nodeId:q.nodeId,requestId:q.requestId,key:r.key,op:Ai.REQUEST_LOCK,ts:q.ts})};try{for(var N=je(S),C=N.next();!C.done;C=N.next())D(C.value)}catch(q){o={error:q}}finally{try{C&&!C.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function(q){return q.requestId===k}),r._completeSync()}break;case Ai.REMOVENODE:r._queue=r._queue.filter(function(q){return q.nodeId!==c.nodeId}),r._currentItem&&r._currentItem.nodeId===c.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case Ai.REQUEST_LOCK:r._requestLock(c);break;case Ai.ACQUIRE_LOCK:var A=r._queue.find(function(q){return q.requestId===f});r._acquire(A);break;case Ai.RELEASE_LOCK:r._release(f)}}),window.addEventListener("beforeunload",function(){r._send(Ai.REMOVENODE)})),xE[n]=this),xE[n]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==Bf.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(n,t){var r,i;t===void 0&&(t={});var o={nodeId:this.nodeId,requestId:(r=t==null?void 0:t.requestId)!==null&&r!==void 0?r:jD(),key:this.key,op:n,data:(i=t.data)!==null&&i!==void 0?i:null,ts:Date.now()};return wl&&window.postMessage(o,"*"),o},e.prototype._acquire=function(n){n===void 0&&(n=null),n?(this._currentItem=n,this._currentItem.onAcquired(n.requestId)):this._currentItem=null},e.prototype._release=function(n){if(this._currentItem&&this._currentItem.requestId===n){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(Ai.RELEASE_LOCK,{requestId:t.requestId});var r=this._queue.findIndex(function(i){return i.requestId===n});r>-1&&this._queue.splice(r,1),t.onReleased(n)}},e.prototype._requestLock=function(n){var t=this;return new Promise(function(r){var i={nodeId:n.nodeId,requestId:n.requestId,ts:n.ts,onAcquired:function(c){t.isHost&&t._send(Ai.ACQUIRE_LOCK,{requestId:c}),r()},onReleased:function(){t._acquire(t._queue[0])}},o=!1;for(var u in t._queue)if(t._queue[u].ts>i.ts){t._queue.splice(parseInt(u),0,i),o=!0;break}o||t._queue.push(i),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var n;this.isHost&&this._send(Ai.SYNC_HOST,{data:{currentItemRequestId:(n=this._currentItem)===null||n===void 0?void 0:n.requestId,queue:this._queue.map(function(t){return{nodeId:t.nodeId,requestId:t.requestId,ts:t.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return I(this,void 0,void 0,function(){var n=this;return O(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(r){n._activationQueue.push(r)})]:[2]})})},e.prototype._waitSync=function(){var n=this;this.isInSync||(this._activationTimeout=setTimeout(function(){n._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=Bf.DONE,this._activationQueue.forEach(function(n){return n()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(Ai.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Ai.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),n=this._send(Ai.REQUEST_LOCK),[4,this._requestLock(n)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var n;this._release((n=this._currentItem)===null||n===void 0?void 0:n.requestId)},e}(),kE=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.keyHash,u=n.indexes,c=n.store,h=this;this._state=ch.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=r,this.keyName=i,this.indexes=vn([[i]],_n(u.filter(function(f){return ou.createKey(f)!==h.keyName})),!1),this._keyHash=o,this._store=c,this._mutex=new UF(function(f,v){return"".concat(Yc(f,v),".lock")}(t,r)),this._blobContainer=new $ie({dbname:t,collectionName:r,store:c}),this._transaction=new jie({dbname:t,collectionName:r,store:c})}return e.metadataOf=function(n,t,r){return I(this,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:return i=EE(n,t),[4,r.get(i)];case 1:return[2,o.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===ch.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_,y,E,k,S=this;return O(this,function(D){switch(D.label){case 0:return[4,this._mutex.lock()];case 1:D.sent(),D.label=2;case 2:return D.trys.push([2,9,,10]),n=h_.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return t=D.sent(),this._metadata=t||{keyName:this.keyName,blockLevel:1,blockHashBase:n.blockHashBase,blockHashMultiplier:n.blockHashMultiplier,blockHashConstant:n.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:D.sent(),this._blockManager=new Vie({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=vn([],_n(this.indexes),!1),i=[],o=r.map(function(N){return ou.createKey(N)}),u=t?t.indexes.map(function(N){return ou.createKey(N)}):[];try{for(c=je(u),h=c.next();!h.done;h=c.next())f=h.value,o.includes(f)||i.push(ou.parseKey(f))}catch(N){E={error:N}}finally{try{h&&!h.done&&(k=c.return)&&k.call(c)}finally{if(E)throw E.error}}return(v=[]).push.apply(v,vn([],_n(r.map(function(N){var C=new ou({dbname:S.dbname,collectionName:S.name,keyName:S.keyName,fields:N,transaction:S._transaction,store:S._store});return S._indexers.push(C),C.ensure()})),!1)),v.push.apply(v,vn([],_n(i.map(function(N){return new ou({dbname:S.dbname,collectionName:S.name,keyName:S.keyName,fields:N,transaction:S._transaction,store:S._store}).drop()})),!1)),[4,Promise.all(v)];case 5:return D.sent(),[4,this._transaction.commit()];case 6:return D.sent(),o.sort().join(",")===u.sort().join(",")?[3,8]:(_=EE(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:_,value:this._metadata,generation:1})]);case 7:D.sent(),D.label=8;case 8:return this._state=ch.READY,this._mutex.unlock(),[3,10];case 9:throw y=D.sent(),this._mutex.unlock(),y;case 10:return[2]}})})},e.prototype.close=function(){this._state=ch.CLOSED},e.prototype._hasPropertyOfKeyName=function(n){var t=n[this.keyName];return typeof t=="string"&&!!t},e.prototype._getIndexerBy=function(n){var t,r;n===void 0&&(n=null),n||(n=[this.keyName]);var i=ou.createKey(n);try{for(var o=je(this._indexers),u=o.next();!u.done;u=o.next()){var c=u.value;if(i===ou.createKey(c.fields))return c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null},e.prototype._upgradeBlockLevel=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return n=EE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:n,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return h.sent()?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return h.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return h.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:h.sent(),h.label=5;case 5:h.trys.push([5,10,11,12]),r=je(this._indexers),i=r.next(),h.label=6;case 6:return i.done?[3,9]:[4,i.value.addItem(n)];case 7:h.sent(),h.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=h.sent(),u={error:o},[3,12];case 11:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw pt.collectionInsertDuplicate;case 14:return[2]}})})},e.prototype._requestUpsert=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k;return O(this,function(S){switch(S.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=S.sent())?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return S.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return S.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:S.sent(),S.label=5;case 5:S.trys.push([5,10,11,12]),i=je(this._indexers),o=i.next(),S.label=6;case 6:return o.done?[3,9]:[4,(f=o.value).addItem(n)];case 7:S.sent(),S.label=8;case 8:return o=i.next(),[3,6];case 9:return[3,12];case 10:return u=S.sent(),_={error:u},[3,12];case 11:try{o&&!o.done&&(y=i.return)&&y.call(i)}finally{if(_)throw _.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,n)];case 14:S.sent(),S.label=15;case 15:S.trys.push([15,21,22,23]),c=je(this._indexers),h=c.next(),S.label=16;case 16:return h.done?[3,20]:(f=h.value).diff(f.getColumnValues(r),f.getColumnValues(n))===0?[3,19]:[4,f.removeItem(r)];case 17:return S.sent(),[4,f.addItem(n)];case 18:S.sent(),S.label=19;case 19:return h=c.next(),[3,16];case 20:return[3,23];case 21:return v=S.sent(),E={error:v},[3,23];case 22:try{h&&!h.done&&(k=c.return)&&k.call(c)}finally{if(E)throw E.error}return[7];case 23:return[2]}})})},e.prototype._requestUpdate=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=v.sent())?[4,this._blockManager.putToBlock(t,n)]:[3,11];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,9,10,11]),i=je(this._indexers),o=i.next(),v.label=4;case 4:return o.done?[3,8]:(u=o.value).diff(u.getColumnValues(r),u.getColumnValues(n))===0?[3,7]:[4,u.removeItem(r)];case 5:return v.sent(),[4,u.addItem(n)];case 6:v.sent(),v.label=7;case 7:return o=i.next(),[3,4];case 8:return[3,11];case 9:return c=v.sent(),h={error:c},[3,11];case 10:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}return[7];case 11:return[2]}})})},e.prototype._requestRemove=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return[4,this._blockManager.getFromBlock(n)];case 1:return(t=h.sent())?[4,this._blockManager.removeFromBlock(n)]:[3,10];case 2:h.sent(),h.label=3;case 3:h.trys.push([3,8,9,10]),r=je(this._indexers),i=r.next(),h.label=4;case 4:return i.done?[3,7]:[4,i.value.removeItem(t)];case 5:h.sent(),h.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return o=h.sent(),u={error:o},[3,10];case 9:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 10:return[2]}})})},e.prototype._requestClear=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),n=je(this._indexers),t=n.next(),u.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:u.sent(),u.label=5;case 5:return t=n.next(),[3,3];case 6:return[3,9];case 7:return r=u.sent(),i={error:r},[3,9];case 8:try{t&&!t.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}return[7];case 9:return[2]}})})},e.prototype.getByKey=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(n)];case 3:return t=i.sent(),this._mutex.unlock(),[2,ga(t)];case 4:throw r=i.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw pt.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(n){return n===void 0&&(n={}),this.isReady?new zie({condition:n.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(n.index),backward:!!n.backward}):null},e.prototype.insertOne=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw pt.collectionKeyNotGiven;return[4,this._requestInsert(ga(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return O(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),n.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw pt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=je(n),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestInsert(ga(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),c={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,n];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw pt.collectionNotReady;case 16:return[2]}})})},e.prototype.upsertOne=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw pt.collectionKeyNotGiven;return[4,this._requestUpsert(ga(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return O(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),n.some(function(_){return!f._hasPropertyOfKeyName(_)}))throw pt.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),t=je(n),r=t.next(),v.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestUpsert(ga(i))]);case 5:v.sent(),v.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),c={error:o},[3,10];case 9:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,n];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw pt.collectionNotReady;case 16:return[2]}})})},e.prototype.update=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw pt.collectionKeyNotGiven;return[4,this._requestUpdate(ga(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(n,t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_,y,E,k,S,D,N=this;return O(this,function(C){switch(C.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:C.sent(),C.label=2;case 2:return C.trys.push([2,13,,15]),r=n.where,i=r===void 0?{}:r,o=n.index,u=o===void 0?null:o,c=n.backward,h=c!==void 0&&c,f=[],[4,new Q2({condition:i,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(u)}).each(function(A){return I(N,void 0,void 0,function(){var q,K;return O(this,function(z){if(A.error)throw A.stop(),A.error;if(A.hasNext){if(q=A.nextValue,Bc(i,q)&&t.set){if(typeof t.set!="function")for(K in t.set)q[K]=t.set[K];else t.set(q);f.push(q)}A.next()}else A.stop();return[2]})})})];case 3:C.sent(),C.label=4;case 4:C.trys.push([4,9,10,11]),v=je(f),_=v.next(),C.label=5;case 5:return _.done?[3,8]:(y=_.value,[4,this._requestUpdate(ga(y))]);case 6:C.sent(),C.label=7;case 7:return _=v.next(),[3,5];case 8:return[3,11];case 9:return E=C.sent(),S={error:E},[3,11];case 10:try{_&&!_.done&&(D=v.return)&&D.call(v)}finally{if(S)throw S.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return C.sent(),this._mutex.unlock(),[2,f];case 13:return k=C.sent(),[4,this._transaction.clear()];case 14:throw C.sent(),this._mutex.unlock(),k;case 15:return[3,17];case 16:throw this._transaction.clear(),pt.collectionNotReady;case 17:return[2]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(n)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k,S,D=this;return O(this,function(N){switch(N.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:N.sent(),N.label=2;case 2:return N.trys.push([2,13,,14]),t=n.where,r=t===void 0?{}:t,i=n.index,o=i===void 0?null:i,u=n.backward,c=u!==void 0&&u,h=[],[4,new Q2({condition:r,blockManager:this._blockManager,backward:c,indexer:this._getIndexerBy(o)}).each(function(C){return I(D,void 0,void 0,function(){var A,q;return O(this,function(K){if(C.error)throw C.stop(),C.error;return C.hasNext?(A=C.nextValue,Bc(r,A)&&(q=A[this.keyName],h.push(q)),C.next()):C.stop(),[2]})})})];case 3:N.sent(),N.label=4;case 4:N.trys.push([4,9,10,11]),f=je(h),v=f.next(),N.label=5;case 5:return v.done?[3,8]:(_=v.value,[4,this._requestRemove(_)]);case 6:N.sent(),N.label=7;case 7:return v=f.next(),[3,5];case 8:return[3,11];case 9:return y=N.sent(),k={error:y},[3,11];case 10:try{v&&!v.done&&(S=f.return)&&S.call(f)}finally{if(k)throw k.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return N.sent(),this._mutex.unlock(),[2,h];case 13:throw E=N.sent(),this._mutex.unlock(),E;case 14:return[3,16];case 15:throw this._transaction.clear(),pt.collectionNotReady;case 16:return[2]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return n=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),n;case 7:return[3,9];case 8:throw pt.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(n,t){return t===void 0&&(t=null),I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.removeBlob=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.clear()];case 1:return n.sent(),[2]}})})},e}(),Ma={},Nv=function(){function e(n){n===void 0&&(n={});var t=n.itemSizeLimit,r=t===void 0?4194304:t,i=n.delay,o=i===void 0?1:i,u=n.encryption,c=u===void 0?s_:u;this._encryption=c,this.itemSizeLimit=r,this.delay=o,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Ma[this.dbname]},set:function(n){Ma[this.dbname]=n},enumerable:!1,configurable:!0}),e.prototype.observe=function(n,t,r){var i=this;this.observer[n]={},t.forEach(function(o){return i.observer[n][o]=r})},e.prototype.init=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:this.dbname=n,Ma[this.dbname]={},r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Mi.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Mi.value))throw pt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Mi)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return[2,Object.keys(Ma[this.dbname]).filter(function(t){return t!==Mi.key})]})})},e.prototype.get=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return[4,$d(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.get?t.get(n):null)throw r;return[2,Ma[this.dbname][n]?this._encryption.decrypt(Ma[this.dbname][n]):null]}})})},e.prototype.set=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return[4,$d(this.delay)];case 1:if(h.sent(),t=n.key,r=n.value,i=this.observer[t],o=i&&i.set?i.set(t):null)throw o;if(u=this._encryption.encrypt(r),c=JSON.stringify(u),t===Mi.key||c.length<this.itemSizeLimit)return Ma[this.dbname][t]=u,[2,Ma[this.dbname][t]];throw pt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return I(this,void 0,void 0,function(){var t,r=this;return O(this,function(i){switch(i.label){case 0:return[4,$d(this.delay)];case 1:return i.sent(),t=[],n.forEach(function(o){var u=o.key,c=o.value,h=r.observer[u];if(h&&h.set&&h.set(u))t.push(pt.collectionWriteFailed);else{var f=r._encryption.encrypt(c),v=JSON.stringify(f);u===Mi.key||v.length<r.itemSizeLimit?(Ma[r.dbname][u]=f,t.push(c)):t.push(pt.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return[4,$d(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.remove?t.remove(n):null)throw r;return Ma[this.dbname][n]&&delete Ma[this.dbname][n],[2,n]}})})},e.prototype.removeMany=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return[4,$d(this.delay)];case 1:f.sent();try{for(t=je(n),r=t.next();!r.done;r=t.next()){if(i=r.value,o=this.observer[i],u=o&&o.remove?o.remove(i):null)throw u;Ma[this.dbname][i]&&delete Ma[this.dbname][i]}}catch(v){c={error:v}}finally{try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(c)throw c.error}}return[2,n]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,$d(this.delay)];case 1:return n.sent(),Ma[this.dbname]={},[2]}})})},e}(),Qie=function(){function e(n){n===void 0&&(n={}),this.itemSizeLimit=104857600;var t=n.encryption,r=t===void 0?s_:t;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=r}return e.prototype.init=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return this.dbname=n,[4,new Promise(function(u,c){if(i._window&&wl)if(Wie){var h=i._indexedDB.open("_testMozilla");h.onerror=function(){return c(pt.storeNotAvailableInPrivateBrowsing)},h.onsuccess=function(){return u()}}else Kie?i._window.indexedDB||!i._window.PointerEvent&&!i._window.MSPointerEvent||c(pt.storeNotAvailableInPrivateBrowsing):u();else c(pt.storeNotAvailable)})];case 1:return o.sent(),t=this,[4,new Promise(function(u,c){var h=i._indexedDB.open(n);h.addEventListener("upgradeneeded",function(f){f.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),h.addEventListener("success",function(f){return u(f.target.result)}),h.addEventListener("error",function(f){return c(f.target.error)})})];case 2:t._database=o.sent(),o.label=3;case 3:return o.trys.push([3,,5,7]),[4,this.get(Mi.key)];case 4:if((r=o.sent())&&JSON.stringify(r)!==JSON.stringify(Mi.value))throw pt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(Mi)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.getAllKeys=function(){return I(this,void 0,void 0,function(){var n=this;return O(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();o.addEventListener("success",function(u){r(u.target.result.filter(function(c){return c!==Mi.key}))}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(n){return I(this,void 0,void 0,function(){var t=this;return O(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(n);u.addEventListener("success",function(c){return i(c.target.result?t._encryption.decrypt(c.target.result.value):null)}),u.addEventListener("error",function(c){return o(c.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.set=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,[4,new Promise(function(u,c){var h=i._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:t,value:i._encryption.encrypt(r)});h.addEventListener("success",function(f){u(f.target.result)}),h.addEventListener("error",function(f){return c(f.target.error)})})];case 1:return o.sent(),[2,r]}})})},e.prototype.setMany=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return t=[],r=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),n.forEach(function(u){var c=u.key,h=u.value;t.push(new Promise(function(f){var v=r.put({key:c,value:i._encryption.encrypt(h)});v.addEventListener("success",function(_){f(_.target.result)}),v.addEventListener("error",function(){f(pt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return o.sent(),[2,n.map(function(u){return u.value})]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){var t=this;return O(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var u=t._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(n);u.addEventListener("success",function(){return i(n)}),u.addEventListener("error",function(c){return o(c.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.removeMany=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return t=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(n.map(function(i){return new Promise(function(o,u){var c=t.delete(i);c.addEventListener("success",function(){return o(i)}),c.addEventListener("error",function(h){return u(h.target.error)})})}))];case 1:return[2,r.sent()]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){var n=this;return O(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();o.addEventListener("success",function(){return r()}),o.addEventListener("error",function(u){return i(u.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),Yie=function(){function e(n){var t=n.AsyncStorage,r=n.encryption,i=r===void 0?s_:r;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=i}return e.prototype._isBelonging=function(n){return n.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(n){return"".concat(this.dbname,"/").concat(n)},e.prototype.init=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:this.dbname=n,r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Mi.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Mi.value))throw pt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Mi)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return I(this,void 0,void 0,function(){var n,t,r=this;return O(this,function(i){switch(i.label){case 0:return n=this._getActualKey(Mi.key),[4,this._asyncStorage.getAllKeys()];case 1:return t=i.sent(),[2,t.filter(function(o){return r._isBelonging(o)&&o!==n}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},e.prototype.get=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(n))];case 1:return[2,(t=r.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(n){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,i=JSON.stringify(this._encryption.encrypt(r)),t===Mi.key||i.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),i)]:[3,2];case 1:return o.sent(),[2,JSON.parse(i)];case 2:throw pt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:t=[],r=[];try{for(i=je(n),o=i.next();!o.done;o=i.next()){u=o.value;try{c=u.key,h=u.value,f=JSON.stringify(this._encryption.encrypt(h)),c===Mi.key||f.length<this.itemSizeLimit?(r.push([this._getActualKey(c),f]),t.push(h)):t.push(pt.storeItemSizeExceeded)}catch{t.push(pt.collectionWriteFailed)}}}catch(E){v={error:E}}finally{try{o&&!o.done&&(_=i.return)&&_.call(i)}finally{if(v)throw v.error}}y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(r)];case 2:return y.sent(),[3,4];case 3:return y.sent(),[2,new Array(t.length).fill(pt.collectionWriteFailed)];case 4:return[2,t]}})})},e.prototype.remove=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(n))];case 1:return t.sent(),[2,n]}})})},e.prototype.removeMany=function(n){return I(this,void 0,void 0,function(){var t=this;return O(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.multiRemove(n.map(function(i){return t._getActualKey(i)}))];case 1:return r.sent(),[2,n]}})})},e.prototype.clear=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return n=t.sent(),[4,this.removeMany(n)];case 2:return t.sent(),[4,this.remove(Mi.key)];case 3:return t.sent(),[2]}})})},e}(),Eg=!0,_c=function(){function e(){}return e.off=function(){Eg=!1},e.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];Eg&&console.log.apply(console,vn(["".concat("[NESTDB]","[LOG]")],_n(n),!1))},e.warning=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];Eg&&console.warn.apply(console,vn(["".concat("[NESTDB]","[WARNING]")],_n(n),!1))},e.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];Eg&&console.error.apply(console,vn(["".concat("[NESTDB]","[ERROR]")],_n(n),!1))},e}();(function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"})(dl||(dl={}));var Xie=function(){function e(n){var t=n.name,r=n.version,i=n.store,o=n.config;this.name=t,this._version=r,this._state=dl.INIT,this._config=o||new h_({dbname:t}),this._store=i,this._event={success:Gg,error:Gg,upgrade:zD},this._collections=new Map,this._globalMutex=new UF("".concat(this.name,".lock")),this._config.disableLogger&&_c.off(),new Is({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(n){return I(this,void 0,void 0,function(){var t=this;return O(this,function(r){switch(r.label){case 0:return this._state!==dl.OPENING?[3,2]:[4,Promise.all(n.map(function(i){return I(t,void 0,void 0,function(){var o,u,c,h;return O(this,function(f){switch(f.label){case 0:return o=i.collectionName,u=i.keyName,c=i.index,h=c===void 0?[]:c,this._collections.has(o)||this._collections.set(o,new kE({dbname:this.name,collectionName:o,keyName:u,keyHash:i.keyHash||null,indexes:h,store:this._store})),[4,this._collections.get(o).init()];case 1:return f.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw pt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var n;return I(this,void 0,void 0,function(){var t,r,i,o,u=this;return O(this,function(c){switch(c.label){case 0:return[4,this._globalMutex.lock()];case 1:if(c.sent(),this._state===dl.OPENED)return[3,15];this._state=dl.OPENING,c.label=2;case 2:return c.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return c.sent(),h=this.name,t="".concat(Y2(h),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return i=(n=c.sent())!==null&&n!==void 0?n:r,[2,new Promise(function(f,v){var _=function(E){i.version<u._version?u._event.upgrade(i.version,function(k){return I(u,void 0,void 0,function(){var S;return O(this,function(D){switch(D.label){case 0:if(k)return[3,5];i.version++,i.collectionNames=Array.from(this._collections.keys()),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this._store.set({key:t,value:i,generation:this._version})];case 2:return D.sent(),E({continued:!0}),[3,4];case 3:return S=D.sent(),E({continued:!1,err:S}),[3,4];case 4:return[3,6];case 5:E({continued:!1,err:k}),D.label=6;case 6:return[2]}})})}):E({continued:!1})},y=function(E){var k=E.continued,S=k!==void 0&&k,D=E.err,N=D===void 0?null:D;if(S)setTimeout(function(){return _(y)},10);else if(N)_c.error(N.message),u._globalMutex.unlock(),u._event.error(N),v(N);else{var C=[];i.collectionNames.forEach(function(A){u._collections.has(A)||C.push(I(u,void 0,void 0,function(){var q,K;return O(this,function(z){switch(z.label){case 0:return[4,kE.metadataOf(this.name,A,this._store)];case 1:return(q=z.sent())?(K=new kE({dbname:this.name,collectionName:A,keyName:q.keyName,indexes:q.indexes,store:this._store}),this._collections.set(A,K),[4,K.init()]):[3,3];case 2:z.sent(),z.label=3;case 3:return[2]}})}))}),Promise.all(C).then(function(){u._state=dl.OPENED,u._globalMutex.unlock(),u._event.success(),f()}).catch(function(A){_c.error(A.message),u._globalMutex.unlock(),u._event.error(A),v(A)})}};_(y)})];case 5:switch(o=c.sent(),o.code){case jt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case jt.STORE_NOT_AVAILABLE:return[3,8];case jt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return _c.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Nv({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return c.sent(),[3,14];case 8:return _c.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Nv({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return c.sent(),[3,14];case 10:return _c.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return c.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return c.sent(),[3,14];case 13:throw _c.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var h})})},e.prototype.close=function(){this._collections.forEach(function(n){return n.close()}),this._state=dl.CLOSED},e.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(t){return t.clear()}))];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(){return I(this,void 0,void 0,function(){var n,t=this;return O(this,function(r){switch(r.label){case 0:return this.close(),(n=Is.get(this.name))&&n.clearByCondition(function(i){return i.key.startsWith(Y2(t.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},e.prototype.on=function(n,t){this._event[n]=t},e.prototype.off=function(n){typeof this._event[n]=="function"&&(n==="upgrade"?this._event[n]=zD:this._event[n]=Gg)},e.prototype.collection=function(n){return this._collections.get(n)||null},e}(),pf=null,Jie=function(){function e(n,t,r){var i=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=n,this.options=t;var o=ie.of(n),u=o.sdkState,c=o.cacheContext,h=o.dispatcher,f=o.sessionManager,v=o.requestQueue,_=o.logger,y=o.userEventHandlers;this._onlineDetector=new Bre({logger:_,connectionDelegate:{reconnect:function(){var E=ie.of(n),k=E.sdkState,S=E.connectionManager;k.appState==="foreground"&&S.resetAndReconnect()},disconnect:function(){ie.of(n).connectionManager.disconnect()}}}),new uh(n,{localCacheEnabled:c.localCacheEnabled,dispatcher:h,sdkState:u,logger:_}),r.forEach(function(E){E.init(n,{sdkState:u,cacheContext:c,dispatcher:h,sessionManager:f,requestQueue:v,logger:_,onlineDetector:i._onlineDetector}),i[E.name]=E}),this._appStateChangeDetector=new qre,this._appStateChangeDetector.on("resume",function(){_.debug("the page resumes from freeze"),i.setForegroundState()}).on("pause",function(){_.debug("the page freezes"),i.setBackgroundState()}),h.on(function(E){if(E instanceof Mt){if(E.code==="USEV"){var k=E.as(SF).event;if(k.category===v0.FRIEND_DISCOVERED){var S=Sv.getDataAsFriendDiscoveredEvent(n,k).friendDiscoveries;Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(q){return[2,y.forEach(function(K){K.onFriendsDiscovered(S)})]})})})}}}else if(E instanceof W7){var D=ie.of(i._iid).subscribedUnreadMessageCount,N=!1,C=E.ts;if(typeof C=="number"&&C>D.ts){if(D.all!==E.all&&(N=!0),D.all=E.all>=0?E.all:0,E.customTypes)for(var A in E.customTypes)D.customTypes[A]!==E.customTypes[A]&&(N=!0),D.customTypes[A]=E.customTypes[A];N=N&&D.ts>0,D.ts=C}N&&Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(q){return[2,y.forEach(function(K){K.onTotalUnreadMessageCountUpdated(D.all,D.customTypes)})]})})})}else E instanceof nF&&c.localCacheEnabled&&c.preference.set(i._getUserProfileCacheKey(u.userId),q2.payloadify(E.userProfile))})}return e.init=function(n){var t=n.appId,r=n.appVersion,i=r===void 0?null:r,o=n.modules,u=o===void 0?[]:o,c=n.options,h=c===void 0?new V7:c,f=n.debugMode,v=f!==void 0&&f,_=n.customApiHost,y=n.customWebSocketHost,E=n.newInstance,k=E!==void 0&&E,S=n.logLevel,D=n.localCacheEnabled,N=D!==void 0&&D,C=n.localCacheEncryption,A=n.useAsyncStorageStore,q=A===void 0?null:A;if(!pf||k){var K="su-".concat(As()),z=C!=null?C:{encrypt:function(de){return de},decrypt:function(de){return de}},V=new Nv({encryption:z});v||(V=q?new Yie({AsyncStorage:q,encryption:z}):new Qie({encryption:z})),new ie(K,{appId:t,appVersion:i,options:h,apiHost:_!=null?_:"https://api-".concat(t,".sendbird.com"),websocketHost:y!=null?y:"wss://ws-".concat(t,".sendbird.com"),store:V,encryption:z,logLevel:S,localCacheEnabled:N,debugMode:v});var W=new e(K,h,vn(vn([],_n(u),!1),[new Pte],!1));return pf||(pf=W),W}return pf},Object.defineProperty(e,"instance",{get:function(){return pf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return Rne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return ie.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){return ie.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var n;return(n=ie.of(this._iid).sdkState.appVersion)!==null&&n!==void 0?n:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return ie.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return ie.of(this._iid).logger.level},set:function(n){ie.of(this._iid).logger.level=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return ie.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return p0(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var n;return(n=ie.of(this._iid).sessionManager.currentUser)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var n=ie.of(this._iid).connectionManager;return n.isConnected?Au.OPEN:n.isConnecting?Au.CONNECTING:Au.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var n=ie.of(this._iid),t=n.connectedAt;return n.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),e.prototype._getPreferenceCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".pref")},e.prototype._getUserProfileCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".profile")},e.prototype.getMemoryStoreForDebugging=function(){var n=ie.of(this._iid),t=n.debugMode,r=n.cacheContext;if(t)return r.store instanceof Nv?r.store:null;throw oe.debugModeRequired},e.prototype.addExtension=function(n,t){var r=ie.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(n)>-1&&(r.extensions[n]=t)},e.prototype.initializeCache=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.cacheContext,o=t.connectionManager,u=t.dispatcher,r.userId&&r.userId===n?[3,6]:[4,o.logout()];case 1:return v.sent(),r.userId=n,i.localCacheEnabled?(c="sendbird@".concat(r.appId,"/").concat(n,".db"),i.nestdb&&i.nestdb.state!==dl.CLOSED&&i.nestdb.name===c?[3,3]:((h=i.nestdb=new Xie({name:"sendbird@".concat(r.appId,"/").concat(n,".db"),version:1,store:i.store})).on("upgrade",function(_){return function(y,E){y===0?_.commitSchema([{collectionName:EF,keyName:Tre,index:[Bg(Zr.LATEST_LAST_MESSAGE),Bg(Zr.CHRONOLOGICAL),Bg(Zr.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:Ire,keyName:Ore,index:[bl(pi.CHANNEL_LATEST),bl(pi.NEWEST_CHILD_MESSAGE)]},{collectionName:Ure,keyName:Lre,index:[bl(pi.CHANNEL_LATEST),bl(pi.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return E()}).catch(function(k){return E(k)}):E()}}(h)),[4,h.open()])):[3,6];case 2:v.sent(),u.dispatch(new CF(this._iid,{userId:n})),v.label=3;case 3:return[4,i.preference.init(this._getPreferenceCacheKey(n))];case 4:return v.sent(),[4,i.preference.get(this._getUserProfileCacheKey(n))];case 5:(f=v.sent())&&new q2(this._iid,f).apply(),v.label=6;case 6:return[2]}})})},e.prototype.clearCachedData=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return(n=ie.of(this._iid).cacheContext).localCacheEnabled?(n.nestdb&&n.nestdb.clear(),[4,n.preference.clear()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearCachedMessages=function(n){return I(this,void 0,void 0,function(){var t,r,i=this;return O(this,function(o){switch(o.label){case 0:return qe(Sn("string",n)).throw(oe.invalidParameters),t=xF.of(this._iid),r=W3.of(this._iid),t&&r?[4,Promise.all(n.map(function(u){return I(i,void 0,void 0,function(){return O(this,function(c){switch(c.label){case 0:return[4,t.removeMessagesOfChannel(u)];case 1:return c.sent(),[4,r.removeMessagesOfChannel(u)];case 2:return c.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.connect=function(n,t){return t===void 0&&(t=null),I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:r=ie.of(this._iid),i=r.sdkState,o=r.cacheContext,u=r.connectionManager,c=r.statLogCollector,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.initializeCache(n)];case 2:return v.sent(),[3,4];case 3:return v.sent(),h=ie.of(this._iid).logger,o.localCacheEnabled=!1,h.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,c.init("sendbird@".concat(i.appId,"/").concat(n,".statlog"))];case 5:return v.sent(),[4,u.connect(t)];case 6:return v.sent(),this._appStateChangeDetector.start(),i.appState="foreground",[4,(f=uh.of(this._iid))==null?void 0:f.processNonAutoResendRegisteredPendingMessages()];case 7:return v.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},e.prototype.reconnect=function(){var n=ie.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.sessionManager.auth.hasSession;return i&&t.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){}),i},e.prototype.disconnect=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return n=ie.of(this._iid),t=n.connectionManager,r=n.cacheContext,i=n.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),i.cancelAll(),[4,t.logout()];case 1:return o.sent(),r.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.setBackgroundState=function(){var n=ie.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="foreground"&&(r.appState="background",i.debug("going background state"),t.background())},e.prototype.setForegroundState=function(){var n=ie.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="background"&&(r.appState="foreground",i.debug("going foreground state"),t.resetAndReconnect())},e.prototype.setSessionHandler=function(n){qe(n instanceof Fre).throw(oe.invalidParameters),ie.of(this._iid).sessionManager.handler=n},e.prototype.addUserEventHandler=function(n,t){qe(J("string",n)&&t instanceof Hre).throw(oe.invalidParameters),ie.of(this._iid).userEventHandlers.set(n,t)},e.prototype.removeUserEventHandler=function(n){ie.of(this._iid).userEventHandlers.delete(n)},e.prototype.removeAllUserEventHandler=function(){ie.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(n,t){qe(J("string",n)&&t instanceof AF).throw(oe.invalidParameters),ie.of(this._iid).connectionHandlers.set(n,t)},e.prototype.removeConnectionHandler=function(n){ie.of(this._iid).connectionHandlers.delete(n)},e.prototype.removeAllConnectionHandler=function(){ie.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(n){return n===void 0&&(n={}),new Die(this._iid,n)},e.prototype.createBlockedUserListQuery=function(n){return n===void 0&&(n={}),new Pie(this._iid,n)},e.prototype.createFriendListQuery=function(n){return n===void 0&&(n={}),new qie(this._iid,n)},e.prototype.createMessageSearchQuery=function(n){return new Dte(this._iid,n)},e.prototype.buildUserFromSerializedData=function(n){var t=qc(n);return new An(this._iid,An.payloadify(t))},e.prototype.updateCurrentUserInfo=function(n){return n===void 0&&(n={}),I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return n=Z(Z({},Pre),n),qe(function(f){return Ui(f.profileImage,!0)&&J("string",f.profileUrl,!0)&&J("string",f.nickname,!0)}(n)).throw(oe.invalidParameters),this.currentUser?(t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new FD(Z({userId:r.userId},n)),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),c=u.as(HD).user,this.currentUser&&(n.nickname&&(this.currentUser.nickname=c.nickname),(n.profileUrl||n.profileImage)&&(this.currentUser.plainProfileUrl=c.profileUrl)),[2,c];case 2:throw oe.connectionRequired}})})},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(Sn("string",n)).throw(oe.invalidParameters),this.currentUser?(t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new FD({userId:r.userId,preferredLanguages:n}),[4,i.send(o)]):[3,2];case 1:return u=h.sent(),c=u.as(HD).user,this.currentUser&&(this.currentUser.preferredLanguages=c.preferredLanguages),[2,c];case 2:throw oe.connectionRequired}})})},e.prototype.registerFCMPushTokenForCurrentUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:if(qe(J("string",n)).throw(oe.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new zre({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Da.SUCCESS];case 3:return u.sent(),[2,Da.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Da.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenForCurrentUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:if(qe(J("string",n)).throw(oe.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new jre({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Da.SUCCESS];case 3:return u.sent(),[2,Da.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Da.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return this.currentUser?(n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Wre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.registerAPNSPushTokenForCurrentUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:if(qe(J("string",n)).throw(oe.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Gre({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Da.SUCCESS];case 3:return u.sent(),[2,Da.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Da.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:if(qe(J("string",n)).throw(oe.invalidParameters),!this.currentUser)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new $re({userId:r.userId,token:n}),[4,i.send(o)];case 2:return u.sent(),this._fcmPushToken="",[2,Da.SUCCESS];case 3:return u.sent(),[2,Da.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Da.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return this.currentUser?(n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Vre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.getChannelInvitationPreference=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Yre({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,{autoAccept:o.as(Xre).autoAccept}]}})})},e.prototype.setChannelInvitationPreference=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(J("boolean",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Jre({userId:r.userId,willAutoAccept:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,{autoAccept:u.as(Zre).autoAccept}]}})})},e.prototype.getDoNotDisturb=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new eie({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(nie).preference]}})})},e.prototype.setDoNotDisturb=function(n,t,r,i,o,u){return t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=""),I(this,void 0,void 0,function(){var c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:return qe(J("boolean",n)&&J("number",t)&&J("number",r)&&J("number",i)&&J("number",o)&&J("string",u)).throw(oe.invalidParameters),c=ie.of(this._iid),h=c.sdkState,f=c.requestQueue,v=new tie({userId:h.userId,doNotDisturbOn:n,startHour:t,startMin:r,endHour:i,endMin:o,timezone:u}),[4,f.send(v)];case 1:return _=y.sent(),[2,_.as(rie).preference]}})})},e.prototype.getSnoozePeriod=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new iie({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(aie).snoozePeriod]}})})},e.prototype.setSnoozePeriod=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),I(this,void 0,void 0,function(){var i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(J("boolean",n)&&J("number",t)&&J("number",r)).throw(oe.invalidParameters),i=ie.of(this._iid),o=i.sdkState,u=i.requestQueue,c=new sie({userId:o.userId,snoozeOn:n,startTs:t,endTs:r}),[4,u.send(c)];case 1:return h=f.sent(),[2,h.as(oie).snoozePeriod]}})})},e.prototype.getMyPushTokensByToken=function(n,t){return I(this,void 0,void 0,function(){var r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(J("string",n)&&Cn(ds,t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Kre({userId:i.userId,type:t,token:n}),[4,o.send(u)];case 1:return c=h.sent(),[2,c.as(Qre).pushTokens]}})})},e.prototype.getPushTriggerOption=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new NF({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(TF).pushTriggerOption]}})})},e.prototype.setPushTriggerOption=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(Cn(Dc,n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new IF({userId:r.userId,pushTriggerOption:n}),[4,i.send(o)];case 1:return[2,u.sent().as(OF).pushTriggerOption]}})})},e.prototype.getPushTemplate=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new cie({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(die).name]}})})},e.prototype.setPushTemplate=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(Cn(W2,n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new hie({userId:r.userId,templateName:n}),[4,i.send(o)];case 1:return[2,u.sent().as(pie).name]}})})},e.prototype.blockUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(n instanceof An||J("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new lie({userId:r.userId,blockedUserId:n instanceof An?n.userId:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.blockUserWithUserId=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2,this.blockUser(n)]})})},e.prototype.unblockUser=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(n instanceof An||J("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new uie({userId:r.userId,unblockedUserId:n instanceof An?n.userId:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.unblockUserWithUserId=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2,this.unblockUser(n)]})})},e.prototype.getFriendChangeLogsByToken=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(J("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new fie({userId:r.userId,token:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(mie).changelogs]}})})},e.prototype.getAllowFriendDiscovery=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new wie({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(xie).allowFriendDiscovery]}})})},e.prototype.setAllowFriendDiscovery=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(J("boolean",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new kie({userId:r.userId,allowFriendDiscovery:n}),[4,i.send(o)];case 1:return u.sent(),[2,n]}})})},e.prototype.uploadFriendDiscoveries=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new gie({userId:r.userId,discoveries:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(vie).friendDiscoveryRequestId]}})})},e.prototype.deleteFriendDiscovery=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2,this.deleteFriendDiscoveries([n])]})})},e.prototype.deleteFriendDiscoveries=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(Sn("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new _ie({userId:r.userId,discoveryKeys:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.addFriends=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return qe(Sn("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new bie({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(yie).users]}})})},e.prototype.deleteFriend=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){return[2,this.deleteFriends([n])]})})},e.prototype.deleteFriends=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(Sn("string",n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Eie({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},e.prototype.getAllEmoji=function(){return I(this,void 0,void 0,function(){var n,t,r;return O(this,function(i){switch(i.label){case 0:return n=ie.of(this._iid).requestQueue,t=new Sie,[4,n.send(t)];case 1:return r=i.sent(),[2,r.as(Nie).emojiContainer]}})})},e.prototype.getEmojiCategory=function(n){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Tie({categoryId:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Iie).emojiCategory]}})})},e.prototype.getEmoji=function(n){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return t=ie.of(this._iid).requestQueue,r=new Oie({key:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Aie).emoji]}})})},e}(),ct;(function(e){e[e.NONE=0]="NONE",e[e.CHANNEL_ENTER=10102]="CHANNEL_ENTER",e[e.CHANNEL_EXIT=10103]="CHANNEL_EXIT",e[e.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",e[e.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",e[e.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",e[e.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",e[e.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",e[e.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",e[e.TYPING_START=10900]="TYPING_START",e[e.TYPING_END=10901]="TYPING_END",e[e.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",e[e.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",e[e.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",e[e.CHANNEL_INVITE=10020]="CHANNEL_INVITE",e[e.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",e[e.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",e[e.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",e[e.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",e[e.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",e[e.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",e[e.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",e[e.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(ct||(ct={}));var Zie=function(){function e(n){this.channelUrl=n.channel_url,this.channelType=n.channel_type,this.category=n.cat,this.data=n.data,this.ts=n.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===kt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===kt.OPEN},enumerable:!1,configurable:!0}),e}(),id=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.event=new Zie(i),o}return B(n,e),n}(Mt),LF=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data.operators,c=u===void 0?[]:u;return o.operators=c.map(function(h){return new An(o._iid,h)}),o}return B(n,e),n}(id),PF=function(e){function n(t,r,i){var o=e.call(this,t,"MCNT",i)||this;return o.groupChannelMemberCounts=i.group_channels.map(function(u){return{channelUrl:u.channel_url,memberCount:u.member_count,joinedMemberCount:u.joined_member_count,updatedAt:u.ts}}),o.openChannelMemberCounts=i.open_channels.map(function(u){return{channelUrl:u.channel_url,participantCount:u.participant_count,updatedAt:u.ts}}),o}return B(n,e),n}(Mt),FF=function(e){function n(t,r,i){var o,u,c,h=this;(h=e.call(this,t,"ADMM",i)||this).message=new Th(t,i);var f=ie.of(t).sdkState;return h.isMentioned=Nh(h.message.mentionType,(o=h.message.mentionedUserIds)!==null&&o!==void 0?o:(u=h.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),f.userId),h.forceUpdateLastMessage=(c=i.force_update_last_message)!==null&&c!==void 0&&c,h}return B(n,e),n}(Mt),HF=function(e){function n(t,r,i){var o,u,c,h,f,v,_=this;(_=e.call(this,t,"AEDI",i)||this).message=new Th(t,i);var y=ie.of(t).sdkState;return _.mentionCountChange=U3({mentionType:(u=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(h=(c=i.old_values)===null||c===void 0?void 0:c.mentioned_user_ids)!==null&&h!==void 0?h:[]},{mentionType:_.message.mentionType,mentionedUserIds:(f=_.message.mentionedUserIds)!==null&&f!==void 0?f:(v=_.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(E){return E.userId})},y.userId),_}return B(n,e),n}(Mt),qF=function(e){function n(t,r,i){var o=e.call(this,t,"MRCT",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.event=new P3(i),o}return B(n,e),n}(Mt),BF=function(e){function n(t,r,i){var o=e.call(this,t,"MTHD",i)||this;return o.event=new Ote(t,i),o}return B(n,e),n}(Mt),GF=function(){this.onUserMuted=Mn,this.onUserUnmuted=Mn,this.onUserBanned=Mn,this.onUserUnbanned=Mn,this.onChannelChanged=Mn,this.onChannelDeleted=Mn,this.onChannelFrozen=Mn,this.onChannelUnfrozen=Mn,this.onOperatorUpdated=Mn,this.onChannelMemberCountChanged=Mn,this.onMetaDataCreated=Mn,this.onMetaDataUpdated=Mn,this.onMetaDataDeleted=Mn,this.onMetaCounterCreated=Mn,this.onMetaCounterUpdated=Mn,this.onMetaCounterDeleted=Mn,this.onMessageReceived=Mn,this.onMessageUpdated=Mn,this.onMessageDeleted=Mn,this.onMentionReceived=Mn,this.onReactionUpdated=Mn,this.onThreadInfoUpdated=Mn},eae=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._channels=new Map,t._enteredChannelUrls=[],t}return B(n,e),Object.defineProperty(n.prototype,"enteredChannels",{get:function(){var t=this;return this._enteredChannelUrls.map(function(r){return t._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),n.prototype.isEnteredChannel=function(t){return this._enteredChannelUrls.includes(t)},n.prototype.enter=function(t){this._enteredChannelUrls.indexOf(t)<0&&this._enteredChannelUrls.push(t)},n.prototype.exit=function(t){var r=this._enteredChannelUrls.indexOf(t);r>=0&&this._enteredChannelUrls.splice(r,1)},n.prototype.exitAll=function(){this._enteredChannelUrls=[]},n.prototype.get=function(t){var r;return I(this,void 0,void 0,function(){return O(this,function(i){return[2,(r=this._channels.get(t))!==null&&r!==void 0?r:null]})})},n.prototype.upsert=function(t){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){return t.forEach(function(o){if(r._channels.has(o.url)){var u=r._channels.get(o.url);Object.assign(u,o)}else r._channels.set(o.url,o)}),[2]})})},n.prototype.remove=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return this._channels.delete(t),this.exit(t),[2]})})},n.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(t){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},n}(mo),zF={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},nae=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=Re.GET,o.path="".concat(i?rte:td,"/").concat(encodeURIComponent(r)),o}return B(n,e),n}(De),VD=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new Oh(t,r),i}return B(n,e),n}(Fe),tae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,c=t.data,h=t.customType,f=t.operatorUserIds;return(r=e.call(this)||this).method=Re.POST,r.path=td,r.params=En({channel_url:i,cover_url:J("string",o)?o:null,cover_file:Ui(o)?o:null,name:u,data:c,custom_type:h,operators:f}),r}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Oh(t,r),i}B(n,e)})(Fe);var rae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return B(n,e),n}(Wa),$F=function(e){function n(t,r,i){var o,u,c=this;return c=e.call(this,t,"ENTR",i)||this,i.data&&(c.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,c.user=new An(t,i.data),c.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),c}return B(n,e),n}(Mt),iae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return B(n,e),n}(Wa),jF=function(e){function n(t,r,i){var o,u,c=this;return c=e.call(this,t,"EXIT",i)||this,i.data&&(c.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,c.user=new An(t,i.data),c.ts=(u=i.data.edge_ts)!==null&&u!==void 0?u:0),c}return B(n,e),n}(Mt),WD={},Sc=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=this;this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._openChannelCache=new eae(n),this._openChannelHandlers=new Map,this._dispatcher.on(function(c){var h,f;if(c instanceof Mt)u._handleEvent(c);else if(c instanceof fo&&c.stateType===Tt.CONNECTED){var v=u._openChannelCache.enteredChannels;try{for(var _=je(v),y=_.next();!y.done;y=_.next())y.value.enter()}catch(E){h={error:E}}finally{try{y&&!y.done&&(f=_.return)&&f.call(_)}finally{if(h)throw h.error}}}}),WD[n]=this}return e.of=function(n){return WD[n]},e.prototype.buildOpenChannelFromSerializedData=function(n){var t=qc(n);return new Oh(t._iid,Oh.payloadify(t))},e.prototype.getChannelFromCache=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.upsertChannelsToCache=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.upsert(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeChannelsFromCache=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,7]),t=je(n),r=t.next(),h.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,this._openChannelCache.remove(i)]);case 2:h.sent(),h.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=h.sent(),u={error:o},[3,7];case 6:try{r&&!r.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}return[7];case 7:return[2]}})})},e.prototype.setEnteredToCache=function(n){this._openChannelCache.enter(n.url)},e.prototype.setExitedToCache=function(n){this._openChannelCache.exit(n.url)},e.prototype._handleEvent=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q,K,z,V,W,de,le,Ie,ye,te,he,ce,He,Se,ve,Oe,Be,ee,X,me,Ye,Ne,Ae,_e,Le,ze,mn,Tn,xn,In,ln,Dn,fn,kn,$,R,M,j,re,xe,ge,yn=this;return O(this,function(dn){switch(dn.label){case 0:switch(dn.trys.push([0,51,,52]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return o=null,n.code==="MESG"?o=n.as(j3):n.code==="FILE"?o=n.as(H3):n.code!=="ADMM"&&n.code!="BRDM"||(o=n.as(FF)),o?(t=o.message,r=o.isMentioned,t.channelType!==kt.OPEN?[3,3]:[4,this.getChannel(t.channelUrl,!0)]):[3,3];case 2:i=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at,Ht;return O(this,function(ei){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())On=Ge.value,this._openChannelCache.isEnteredChannel(i.url)&&On.onMessageReceived(i,t),r&&On.onMentionReceived(i,t)}catch(Bi){at={error:Bi}}finally{try{Ge&&!Ge.done&&(Ht=nn.return)&&Ht.call(nn)}finally{if(at)throw at.error}}return[2]})})}),dn.label=3;case 3:return[3,50];case 4:return o=null,n.code==="MEDI"?o=n.as(Cv):n.code==="FEDI"?o=n.as(V3):n.code==="AEDI"&&(o=n.as(HF)),o?(u=o.message).channelType!==kt.OPEN?[3,6]:[4,this.getChannel(u.channelUrl,!0)]:[3,6];case 5:c=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at,Ht;return O(this,function(ei){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())On=Ge.value,this._openChannelCache.isEnteredChannel(c.url)&&On.onMessageUpdated(c,u)}catch(Bi){at={error:Bi}}finally{try{Ge&&!Ge.done&&(Ht=nn.return)&&Ht.call(nn)}finally{if(at)throw at.error}}return[2]})})}),dn.label=6;case 6:return[3,50];case 7:return h=n.as(_F),z=h.channelUrl,y=h.channelType,f=h.messageId,y!==kt.OPEN?[3,9]:[4,this.getChannel(z,!0)];case 8:v=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at,Ht;return O(this,function(ei){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())On=Ge.value,this._openChannelCache.isEnteredChannel(v.url)&&On.onMessageDeleted(v,f)}catch(Bi){at={error:Bi}}finally{try{Ge&&!Ge.done&&(Ht=nn.return)&&Ht.call(nn)}finally{if(at)throw at.error}}return[2]})})}),dn.label=9;case 9:return[3,50];case 10:return _=n.as(qF),z=_.channelUrl,y=_.channelType,E=_.event,y!==kt.OPEN?[3,12]:[4,this.getChannel(z,!0)];case 11:k=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at;return O(this,function(Ht){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())Ge.value.onReactionUpdated(k,E)}catch(ei){On={error:ei}}finally{try{Ge&&!Ge.done&&(at=nn.return)&&at.call(nn)}finally{if(On)throw On.error}}return[2]})})}),dn.label=12;case 12:return[3,50];case 13:return(S=n.as(BF).event).channelType!==kt.OPEN?[3,15]:[4,this.getChannel(S.channelUrl,!0)];case 14:D=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at;return O(this,function(Ht){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())Ge.value.onThreadInfoUpdated(D,S)}catch(ei){On={error:ei}}finally{try{Ge&&!Ge.done&&(at=nn.return)&&at.call(nn)}finally{if(On)throw On.error}}return[2]})})}),dn.label=15;case 15:return[3,50];case 16:N=n.as(PF).openChannelMemberCounts,C=[],dn.label=17;case 17:dn.trys.push([17,22,23,24]),A=je(N),q=A.next(),dn.label=18;case 18:return q.done?[3,21]:(K=q.value,z=K.channelUrl,Se=K.participantCount,V=K.updatedAt,[4,this.getChannelFromCache(z)]);case 19:(W=dn.sent())&&W._updateParticipantCount(Se,V)&&C.push(W),dn.label=20;case 20:return q=A.next(),[3,18];case 21:return[3,24];case 22:return de=dn.sent(),xe={error:de},[3,24];case 23:try{q&&!q.done&&(ge=A.return)&&ge.call(A)}finally{if(xe)throw xe.error}return[7];case 24:return C.length>0?[4,this.upsertChannelsToCache(C)]:[3,26];case 25:dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){var nn,Ge,On,at;return O(this,function(Ht){try{for(nn=je(this._openChannelHandlers.values()),Ge=nn.next();!Ge.done;Ge=nn.next())Ge.value.onChannelMemberCountChanged(C)}catch(ei){On={error:ei}}finally{try{Ge&&!Ge.done&&(at=nn.return)&&at.call(nn)}finally{if(On)throw On.error}}return[2]})})}),dn.label=26;case 26:return[3,50];case 27:if(!(le=n.as(id).event).isOpenChannelEvent)return[3,49];switch(le.category){case ct.CHANNEL_ENTER:return[3,28];case ct.CHANNEL_EXIT:return[3,30];case ct.CHANNEL_OPERATOR_UPDATE:return[3,32];case ct.USER_CHANNEL_MUTE:case ct.USER_CHANNEL_UNMUTE:return[3,34];case ct.USER_CHANNEL_BAN:case ct.USER_CHANNEL_UNBAN:return[3,36];case ct.CHANNEL_FREEZE:case ct.CHANNEL_UNFREEZE:return[3,38];case ct.CHANNEL_DELETED:return[3,40];case ct.CHANNEL_PROP_CHANGED:return[3,43];case ct.CHANNEL_META_DATA_CHANGED:return[3,45];case ct.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(le.channelUrl,!0)];case 29:return Ie=dn.sent(),ye=n.as($F),Se=ye.participantCount,te=ye.user,he=Ie._updateParticipantCount(Se,le.ts),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ge.onUserEntered(Ie,te),he&&Ge.onChannelParticipantCountChanged(Ie)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(le.channelUrl,!0)];case 31:return ce=dn.sent(),He=n.as(jF),Se=He.participantCount,ve=He.user,Oe=ce._updateParticipantCount(Se,le.ts),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ge.onUserExited(ce,ve),Oe&&Ge.onChannelParticipantCountChanged(ce)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(le.channelUrl,!0)];case 33:return Be=dn.sent(),ee=n.as(LF).operators,Be.operators=ee,this.upsertChannelsToCache([Be]),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ge.onOperatorUpdated(Be,ee)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(le.channelUrl,!0)];case 35:return X=dn.sent(),me=le.category===ct.USER_CHANNEL_MUTE,Ye=n.as(me?pF:fF).user,Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){me?Ge.onUserMuted(X,Ye):Ge.onUserUnmuted(X,Ye)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(le.channelUrl,!0)];case 37:return Ne=dn.sent(),Ae=le.category===ct.USER_CHANNEL_BAN,_e=n.as(Ae?mF:gF).user,Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ae?Ge.onUserBanned(Ne,_e):Ge.onUserUnbanned(Ne,_e)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(le.channelUrl,!0)];case 39:return Le=dn.sent(),ze=n.as(vF).freeze,Le.isFrozen=ze,this.upsertChannelsToCache([Le]),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){ze?Ge.onChannelFrozen(Le):Ge.onChannelUnfrozen(Le)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(le.channelUrl,!0)];case 41:return mn=dn.sent(),[4,this.removeChannelsFromCache([mn.url])];case 42:return dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ge.onChannelDeleted(mn.url,mn.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(le.channelUrl,!0)];case 44:return Tn=dn.sent(),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){Ge.onChannelChanged(Tn)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(le.channelUrl,!0)];case 46:return xn=dn.sent(),In=n.as(dF),ln=In.created,Dn=In.updated,fn=In.deleted,ln&&xn._upsertCachedMetaData(ln,le.ts),Dn&&xn._upsertCachedMetaData(Dn,le.ts),fn&&xn._removeFromCachedMetaData(fn,le.ts),Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){ln&&Ge.onMetaDataCreated(xn,ln),Dn&&Ge.onMetaDataUpdated(xn,Dn),fn&&Ge.onMetaDataDeleted(xn,fn)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(le.channelUrl,!0)];case 48:return kn=dn.sent(),$=n.as(hF),R=$.created,M=$.updated,j=$.deleted,Ze(function(){return I(yn,void 0,void 0,function(){return O(this,function(nn){return this._openChannelHandlers.forEach(function(Ge){R&&Ge.onMetaCounterCreated(kn,R),M&&Ge.onMetaCounterUpdated(kn,M),j&&Ge.onMetaCounterDeleted(kn,j)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(re=dn.sent(),so(re))throw re;return[3,52];case 52:return[2]}})})},e.prototype.addHandler=function(n,t){this._openChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._openChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._openChannelHandlers.clear()},e.prototype.getChannel=function(n,t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:qe(J("string",n)).throw(oe.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),I(this,void 0,void 0,function(){var r,i,o;return O(this,function(u){switch(u.label){case 0:return qe(J("string",n)).throw(oe.invalidParameters),r=new nae({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return i=u.sent(),o=i.as(VD).channel,[4,this.upsertChannelsToCache([o])];case 2:return u.sent(),[2,o]}})})},e.prototype.createChannel=function(n){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return n=Z(Z({},zF),n),qe(function(u){return Sn("string",u.operatorUserIds,!0)&&(J("string",u.coverUrlOrImage)||Ui(u.coverUrlOrImage)||u.coverUrlOrImage===null)&&J("string",u.name,!0)&&J("string",u.data,!0)&&J("string",u.customType,!0)&&(J("string",u.channelUrl)&&/^\w+$/.test(u.channelUrl)||u.channelUrl===null)}(n)).throw(oe.invalidParameters),t=new tae(n),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(VD).channel,this.upsertChannelsToCache([i]),[2,i]}})})},e}(),KD={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},aae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(td,"/").concat(encodeURIComponent(i),"/participants"),r.params={token:o,limit:u},r}return B(n,e),n}(De),sae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.participants=[];var o=r.next,u=r.participants;return i.token=o,i.participants=u.map(function(c){return new An(t,c)}),i}return B(n,e),n}(Fe),oae=function(e){function n(t,r,i){return e.call(this,t,r,kt.OPEN,i)||this}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new aae(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(sae),u=o.participants,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh),lae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,u=t.name,c=t.data,h=t.customType,f=t.operatorUserIds;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(td,"/").concat(encodeURIComponent(i)),r.params=En({cover_url:J("string",o)?o:null,cover_file:Ui(o)?o:null,name:u,data:c,custom_type:h,operators:f}),r}return B(n,e),n}(De),uae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Oh(t,r),i}return B(n,e),n}(Fe),cae=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(td,"/").concat(encodeURIComponent(i)),r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var Oh=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=kt.OPEN,o.participantCount=(i=r.participant_count)!==null&&i!==void 0?i:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(u){return new An(t,u)}):[],o}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},V2.payloadify(t)),{participant_count:t.participantCount,operators:t.operators.map(function(r){return An.payloadify(r)})})):null},n.prototype.serialize=function(){return I0(this)},n.prototype.isOperator=function(t){return t instanceof An?this.isOperator(t.userId):this.operators.some(function(r){return r.userId===t})},n.prototype._updateParticipantCount=function(t,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=t,this._lastParticipantCountUpdated=r,!0)},n.prototype.createParticipantListQuery=function(t){return new oae(this._iid,this.url,t)},n.prototype.refresh=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,Sc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,t.sent()]}})})},n.prototype.enter=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new rae({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as($F),u=o.participantCount,c=o.ts,this._updateParticipantCount(u,c),Sc.of(this._iid).setEnteredToCache(this),[2]}})})},n.prototype.exit=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid).requestQueue,r=new iae({channelUrl:this.url}),[4,t.send(r)];case 1:return i=h.sent(),o=i.as(jF),u=o.participantCount,c=o.ts,this._updateParticipantCount(u,c),Sc.of(this._iid).setExitedToCache(this),fi.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},n.prototype.updateChannel=function(t){return I(this,void 0,void 0,function(){var r,i,o,u;return O(this,function(c){switch(c.label){case 0:return t=Z(Z({},KD),t),qe(function(h){return Sn("string",h.operatorUserIds,!0)&&(J("string",h.coverUrlOrImage)||Ui(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&J("string",h.name,!0)&&J("string",h.data,!0)&&J("string",h.customType,!0)}(t)).throw(oe.invalidParameters),r=ie.of(this._iid).requestQueue,i=new lae(Z({channelUrl:this.url},t)),[4,r.send(i)];case 1:return o=c.sent(),u=o.as(uae).channel,[4,Sc.of(this._iid).upsertChannelsToCache([u])];case 2:return c.sent(),[2,u]}})})},n.prototype.updateChannelWithOperatorUserIds=function(t,r,i,o,u){return I(this,void 0,void 0,function(){var c;return O(this,function(h){return c=Z(Z({},KD),{name:t,coverUrlOrImage:r,data:i,operatorUserIds:o,customType:u}),[2,this.updateChannel(c)]})})},n.prototype.delete=function(){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new cae({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[4,Sc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return i.sent(),[2]}})})},n}(V2),dae=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserEntered=Mn,t.onUserExited=Mn,t.onChannelParticipantCountChanged=Mn,t}return B(n,e),n}(GF)),hae=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.nameKeyword,c=t.urlKeyword,h=t.customTypes,f=t.includeFrozen,v=t.includeMetaData;return(r=e.call(this)||this).method=Re.GET,r.path=td,r.params=En({token:i,limit:o,name_contains:u,url_contains:c,custom_types:h,show_frozen:f,show_metadata:v}),r}return B(n,e),n}(De),pae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return new Oh(t,h)})),i.ts=typeof c=="number"?c:null,i}return B(n,e),n}(Fe),fae=function(e){function n(t,r){var i,o,u,c,h,f=this;return(f=e.call(this,t,r)||this).includeFrozen=!0,f.includeMetaData=!0,f.nameKeyword=null,f.urlKeyword=null,f.customTypes=null,f.includeFrozen=(i=r.includeFrozen)===null||i===void 0||i,f.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,f.nameKeyword=(u=r.nameKeyword)!==null&&u!==void 0?u:null,f.urlKeyword=(c=r.urlKeyword)!==null&&c!==void 0?c:null,f.customTypes=(h=r.customTypes)!==null&&h!==void 0?h:null,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.nameKeyword,!0)&&J("string",this.urlKeyword,!0)&&Sn("string",this.customTypes,!0)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new hae(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,3]:[3,6];case 1:return i=h.sent(),o=i.as(pae),u=o.channels,c=o.token,this._token=c,this._hasNext=!!c,[4,Sc.of(this._iid).upsertChannelsToCache(u)];case 2:return h.sent(),this._isLoading=!1,[2,u];case 3:return[2,[]];case 4:throw oe.queryInProgress;case 5:return[3,7];case 6:throw oe.invalidParameters;case 7:return[2]}})})},n}(Il),mae=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="openChannel",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new Sc(t,{sdkState:i,dispatcher:o,requestQueue:c})},n.prototype.createOpenChannelListQuery=function(t){return t===void 0&&(t={}),new fae(this._iid,t)},n.prototype.addOpenChannelHandler=function(t,r){this._manager.addHandler(t,r)},n.prototype.removeOpenChannelHandler=function(t){this._manager.removeHandler(t)},n.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildOpenChannelFromSerializedData=function(t){return this._manager.buildOpenChannelFromSerializedData(t)},n.prototype.getChannel=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.createChannel=function(t){return t===void 0&&(t={}),I(this,void 0,void 0,function(){return O(this,function(r){return[2,this._manager.createChannel(t)]})})},n.prototype.createChannelWithOperatorUserIds=function(t,r,i,o,u){return I(this,void 0,void 0,function(){var c;return O(this,function(h){return(c=Z({},zF)).name=t,c.coverUrlOrImage=r,c.data=i,c.operatorUserIds=o,c.customType=u,[2,this._manager.createChannel(c)]})})},n}(L3),Pr;(function(e){e.NONE="none",e.JOINED="joined",e.INVITED="invited"})(Pr||(Pr={}));var xl,qa,Va,zc,Do,Tv,Ru,_0,uo=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.state=null,i.role=null,i.isMuted=!1,i.isBlockedByMe=!1,i.isBlockingMe=!1,i.state=Cn(Pr,r.state)?r.state:null,i.role=Cn(Rs,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(i.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(i.isBlockingMe=r.is_blocking_me),i}return B(n,e),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},n}(rd),VF=function(e){function n(t,r){var i,o,u=this;return(u=e.call(this,t)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",u.channelType=(o=r.channel_type)!==null&&o!==void 0?o:kt.GROUP,u.reader=new An(u._iid,r.user),u.readAt=r.ts,u}return B(n,e),n}(mo);(function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"})(xl||(xl={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(qa||(qa={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(Va||(Va={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(zc||(zc={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Do||(Do={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(Tv||(Tv={})),function(e){e.AND="AND",e.OR="OR"}(Ru||(Ru={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(_0||(_0={}));var zr,WF=function(){function e(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.myMemberStateFilter=qa.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=Va.ALL,this.publicChannelFilter=xl.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=zc.ALL,this.hiddenChannelFilter=Do.UNHIDDEN,this.includeFrozen=!0}return e.prototype._isFriend=function(n){return!!n.friendDiscoveryKey||!!n.friendName},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(n,t){Array.isArray(n)&&n.length!==0&&typeof t=="string"&&t&&(this._searchFilter={query:t,fields:n})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(n,t,r){r===void 0&&(r=Ru.AND),this._userIdsFilter={userIds:n,includeMode:t,queryType:r}},e.prototype.clone=function(){var n=new e;this.searchFilter&&n.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&n.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n,t){if(this._searchFilter){var r=this._searchFilter,i=r.query,o=r.fields;if(i&&o&&o.length>0&&!o.some(function(y){switch(y){case _0.CHANNEL_NAME:return n.name.toLowerCase().includes(i.toLowerCase());case _0.MEMBER_NICKNAME:return n.members.some(function(E){return E.nickname.toLowerCase().includes(i.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var u=this._userIdsFilter,c=u.userIds,h=u.includeMode,f=u.queryType,v=n.members.map(function(y){return y.userId});if(h){if(c.length>0)switch(f){case Ru.AND:if(c.some(function(y){return!v.includes(y)}))return!1;break;case Ru.OR:if(c.every(function(y){return!v.includes(y)}))return!1}}else if(c.includes(t)||c.push(t),n.members.length>c.length||!Lne(c,v))return!1}if(!this.includeEmpty&&!n.lastMessage||!this.includeFrozen&&n.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(n.customType)||this.channelNameContainsFilter&&!n.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var _=this.nicknameContainsFilter.toLowerCase();if(n.members.every(function(y){return!y.nickname.toLowerCase().includes(_)}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(n.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case qa.JOINED:if(n.myMemberState!=="joined")return!1;break;case qa.INVITED:if(n.myMemberState!=="invited")return!1;break;case qa.INVITED_BY_FRIEND:if(n.myMemberState!=="invited"||!this._isFriend(n.inviter))return!1;break;case qa.INVITED_BY_NON_FRIEND:if(n.myMemberState!=="invited"||this._isFriend(n.inviter))return!1;break;case qa.ALL:if(n.myMemberState==="none")return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Do.UNHIDDEN:if(n.isHidden||n.hiddenState!=="unhidden")return!1;break;case Do.HIDDEN:if(!n.isHidden)return!1;break;case Do.HIDDEN_ALLOW_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Do.HIDDEN_PREVENT_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===zc.UNREAD_MESSAGE&&n.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case xl.PUBLIC:if(!n.isPublic)return!1;break;case xl.PRIVATE:if(n.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Va.SUPER:if(!n.isSuper)return!1;break;case Va.NON_SUPER:if(n.isSuper)return!1}return!0},e}(),gae=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,u=e.call(this,t)||this;return u._channels=new Map,u._sdkState=i,u._cacheContext=o,u}return B(n,e),Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection(EF):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t,r){return r===void 0&&(r=0),Z(Z({},t.serialize()),{lastMessageUpdatedAt:t.lastMessage?t.lastMessage.createdAt:0,syncIndex:r})},n.prototype._deserialize=function(t){return Yr.of(this._iid).buildGroupChannelFromSerializedData(t)},Object.defineProperty(n.prototype,"channels",{get:function(){return vn([],_n(this._channels.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.isCachedInMemory=function(t){return this._channels.has(t)},n.prototype.get=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return this._channels.has(t)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(t)]:[3,2];case 1:if(r=o.sent())return i=this._deserialize(r),this._channels.set(t,i),[2,i];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(t)]}})})},n.prototype.fetch=function(t){var r=t.token,i=t.limit,o=i===void 0?yF:i,u=t.backward,c=u!==void 0&&u,h=t.filter,f=h===void 0?new WF:h,v=t.order,_=v===void 0?Zr.LATEST_LAST_MESSAGE:v;return I(this,void 0,void 0,function(){var y,E,k,S,D=this;return O(this,function(N){switch(N.label){case 0:return this.localCacheEnabled?(y=Bg(_),E={where:function(C){if(r)switch(_){case Zr.CHANNEL_NAME_ALPHABETICAL:if(!c&&C.name.localeCompare(r)<0||c&&C.name.localeCompare(r)>0)return!1;break;case Zr.CHRONOLOGICAL:if(!c&&C.createdAt>r||c&&C.createdAt<r)return!1;break;case Zr.LATEST_LAST_MESSAGE:if(!c&&C.lastMessageUpdatedAt>r||c&&C.lastMessageUpdatedAt<r)return!1}return f.match(D._deserialize(C),D._sdkState.userId)},index:y,backward:c},[4,this.collection.query(E)]):[3,3];case 1:return[4,N.sent().fetch({limit:o})];case 2:return k=N.sent(),(S=k.map(function(C){return D._deserialize(C)})).forEach(function(C){D._channels.has(C.url)||D._channels.set(C.url,C)}),[2,S];case 3:return[2,[]]}})})},n.prototype.upsert=function(t){return I(this,void 0,void 0,function(){var r,i,o=this;return O(this,function(u){switch(u.label){case 0:if(t.forEach(function(c){if(o._channels.has(c.url)){var h=o._channels.get(c.url);Object.assign(h,c,{_iid:o._iid})}else o._channels.set(c.url,c)}),!this.localCacheEnabled)return[3,2];for(i in r=[],t)r.push(this._serialize(t[i],parseInt(i)));return[4,this.collection.upsertMany(r)];case 1:u.sent(),u.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),r=je(t),i=r.next(),f.label=1;case 1:return i.done?[3,4]:(o=i.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:f.sent(),f.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return u=f.sent(),c={error:u},[3,7];case 6:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 7:return[2]}})})},n.prototype.clear=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMemoryCache=function(){this._channels.clear()},n.prototype._setBlockStateOfAllChannels=function(t,r,i){return I(this,void 0,void 0,function(){var o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q,K,z,V;return O(this,function(W){switch(W.label){case 0:if(o=[],t===this._sdkState.userId)try{for(u=je(this._channels.values()),c=u.next();!c.done;c=u.next()){y=c.value;try{for(C=void 0,h=je(y.members),f=h.next();!f.done;f=h.next())if((S=f.value).userId===r){S.isBlockedByMe=i,o.push(y);break}}catch(de){C={error:de}}finally{try{f&&!f.done&&(A=h.return)&&A.call(h)}finally{if(C)throw C.error}}}}catch(de){D={error:de}}finally{try{c&&!c.done&&(N=u.return)&&N.call(u)}finally{if(D)throw D.error}}else if(r===this._sdkState.userId)try{for(v=je(this._channels.values()),_=v.next();!_.done;_=v.next()){y=_.value;try{for(z=void 0,E=je(y.members),k=E.next();!k.done;k=E.next())if((S=k.value).userId===t){S.isBlockingMe=i,o.push(y);break}}catch(de){z={error:de}}finally{try{k&&!k.done&&(V=E.return)&&V.call(E)}finally{if(z)throw z.error}}}}catch(de){q={error:de}}finally{try{_&&!_.done&&(K=v.return)&&K.call(v)}finally{if(q)throw q.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:W.sent(),W.label=2;case 2:return[2]}})})},n.prototype.block=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!0)];case 1:return i.sent(),[2]}})})},n.prototype.unblock=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!1)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(t,r){return r===void 0&&(r=vn([],_n(this._channels.keys()),!1)),I(this,void 0,void 0,function(){var i,o,u,c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:i=[],y.label=1;case 1:y.trys.push([1,6,7,8]),o=je(r),u=o.next(),y.label=2;case 2:return u.done?[3,5]:(c=u.value,[4,this.get(c)]);case 3:(h=y.sent())._updateUnreadMemberState(this._sdkState.userId,t)&&(h._updateUnreadCount(0,0),i.push(h)),y.label=4;case 4:return u=o.next(),[3,2];case 5:return[3,8];case 6:return f=y.sent(),v={error:f},[3,8];case 7:try{u&&!u.done&&(_=o.return)&&_.call(o)}finally{if(v)throw v.error}return[7];case 8:return i.length>0?[4,this.upsert(i)]:[3,10];case 9:y.sent(),y.label=10;case 10:return[2]}})})},n}(mo),$g={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},J2=function(e){return Sn("string",e.invitedUserIds,!0)&&J("string",e.channelUrl,!0)&&J("string",e.coverUrl,!0)&&(Ui(e.coverImage)||J("string",e.coverImage)||e.coverImage===null)&&J("boolean",e.isDistinct,!0)&&J("boolean",e.isSuper,!0)&&J("boolean",e.isBroadcast,!0)&&J("boolean",e.isExclusive,!0)&&J("boolean",e.isPublic,!0)&&J("boolean",e.isStrict,!0)&&J("boolean",e.isDiscoverable,!0)&&J("boolean",e.isEphemeral,!0)&&J("string",e.accessCode,!0)&&J("string",e.name,!0)&&J("string",e.data,!0)&&J("string",e.customType,!0)&&Sn("string",e.operatorUserIds,!0)&&J("number",e.messageSurvivalSeconds,!0)},Iv={customTypes:null,includeEmpty:!1,includeFrozen:!0},Z2=function(e){return Sn("string",e.customTypes,!0)&&J("boolean",e.includeEmpty)&&J("boolean",e.includeFrozen)},KF={myMemberStateFilter:qa.ALL},QF=function(e){return Cn(qa,e.myMemberStateFilter)};(function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(zr||(zr={}));var wn,vae={keys:[]},_ae={channelCustomTypesFilter:null,superChannelFilter:Va.ALL},bae={channelUrl:null,scheduledStatus:null,messageTypeFilter:mi.ALL};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(wn||(wn={}));var QD=function(e){return e.startsWith("EVENT_")||e===wn.SYNC_CHANNEL_BACKGROUND||e===wn.SYNC_CHANNEL_CHANGELOGS},rt=function(e){function n(t){var r=t.channels,i=t.source,o=e.call(this)||this;return o.channels=r,o.source=i,o}return B(n,e),n}(ai),Cf=function(e){function n(t){var r=t.channelUrls,i=t.source,o=e.call(this)||this;return o.channelUrls=r,o.source=i,o}return B(n,e),n}(ai),yae=function(){function e(n){var t=n.groupChannelCache,r=n.messageCache,i=n.unsentMessageCache,o=n.dispatcher,u=this;this._observers=new Map,o.on(function(c){return I(u,void 0,void 0,function(){var h,f,v,_,y=this;return O(this,function(E){switch(E.label){case 0:return c instanceof rt?(h=c.channels,_=c.source,f=h.filter(function(k){return k instanceof hs}),[4,t.upsert(f)]):[3,2];case 1:return E.sent(),this._broadcastUpdateEvent(f,_),[3,7];case 2:return c instanceof Cf?(v=c.channelUrls,_=c.source,[4,t.remove(v)]):[3,5];case 3:return E.sent(),[4,Ms(function(){return I(y,void 0,void 0,function(){var k,S,D,N,C,A;return O(this,function(q){switch(q.label){case 0:q.trys.push([0,6,7,8]),k=je(v),S=k.next(),q.label=1;case 1:return S.done?[3,5]:(D=S.value,[4,r.removeMessagesOfChannel(D)]);case 2:return q.sent(),[4,i.removeMessagesOfChannel(D)];case 3:q.sent(),q.label=4;case 4:return S=k.next(),[3,1];case 5:return[3,8];case 6:return N=q.sent(),C={error:N},[3,8];case 7:try{S&&!S.done&&(A=k.return)&&A.call(k)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})})];case 4:return E.sent(),this._broadcastRemoveEvent(v,_),[3,7];case 5:return c instanceof CF?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,7];case 6:E.sent(),E.label=7;case 7:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=je(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=je(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),Eae=function(){function e(n){var t=n.messageCache,r=n.unsentMessageCache,i=n.dispatcher,o=n.logger,u=this;this._observers=new Map,this._logger=null,this._logger=o,i.on(function(c){return I(u,void 0,void 0,function(){var h,f,v,_,y,E,k=this;return O(this,function(S){switch(S.label){case 0:return c instanceof lr?(h=c.messages,E=c.source,f=h.filter(function(D){return D.messageId>0}),v=h.filter(function(D){return D.messageId===0}),f.length>0?[4,Ms(function(){return I(k,void 0,void 0,function(){return O(this,function(D){switch(D.label){case 0:return[4,t.upsert(f)];case 1:return D.sent(),[4,r.remove(f.map(function(N){return N instanceof Qr?N.reqId:null}).filter(function(N){return N!==null}))];case 2:return D.sent(),[2]}})})})]:[3,2]):[3,5];case 1:S.sent(),this._broadcastUpdateEvent(f,E),S.label=2;case 2:return v.length>0?[4,Ms(function(){return I(k,void 0,void 0,function(){return O(this,function(D){switch(D.label){case 0:return[4,r.upsert(v)];case 1:return D.sent(),[2]}})})})]:[3,4];case 3:S.sent(),this._broadcastUpdateEvent(v,E),S.label=4;case 4:return[3,9];case 5:return c instanceof q3?(_=c.messageIds,E=c.source,[4,Ms(function(){return I(k,void 0,void 0,function(){return O(this,function(D){switch(D.label){case 0:return[4,t.remove(_)];case 1:return D.sent(),[2]}})})})]):[3,7];case 6:return S.sent(),this._broadcastRemoveEvent(_,E),[3,9];case 7:return c instanceof sF?(y=c.reqId,E=c.source,[4,Ms(function(){return I(k,void 0,void 0,function(){return O(this,function(D){switch(D.label){case 0:return[4,r.remove([y])];case 1:return D.sent(),[2]}})})})]):[3,9];case 8:S.sent(),this._broadcastRemoveUnsentEvent(y,E),S.label=9;case 9:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=je(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=je(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveUnsentEvent=function(n,t){var r,i;try{for(var o=je(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemoveUnsent(n,t)}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),wae=function(e){function n(t){var r=t.userId,i=t.ts,o=t.token,u=t.filter,c=e.call(this)||this,h=Z(Z({},Iv),u),f=h.customTypes,v=h.includeEmpty,_=h.includeFrozen;return c.method=Re.GET,c.path="".concat(et,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),c.params=En({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:i,token:o,custom_types:f,show_empty:v,show_frozen:_}),c}return B(n,e),n}(De),xae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedChannels=r.updated.map(function(o){return new hs(t,o)}),i.deletedChannelUrls=r.deleted,i.hasMore=r.has_more,i.token=r.next,i}return B(n,e),n}(Fe),YF=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=Re.GET,o.path="".concat(i?tte:qi,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return B(n,e),n}(De),XF=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new hs(t,r),i}return B(n,e),n}(Fe),kae=function(e){function n(t){var r=this,i=t.userId,o=t.token,u=t.limit,c=t.order,h=t.includeEmpty,f=t.myMemberStateFilter,v=t.superChannelFilter,_=t.publicChannelFilter,y=t.unreadChannelFilter,E=t.nicknameContainsFilter,k=t.channelNameContainsFilter,S=t.channelUrlsFilter,D=t.customTypesFilter,N=t.customTypeStartsWithFilter,C=t.hiddenChannelFilter,A=t.metadataOrderKeyFilter,q=t.metadataKey,K=t.metadataValues,z=t.metadataValueStartsWith,V=t.includeFrozen,W=t.includeMetaData,de=t.searchFilter,le=t.userIdsFilter;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(et,"/").concat(encodeURIComponent(i),"/my_group_channels"),r.params=En({token:o,limit:u,order:c,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,member_state_filter:f,super_mode:v,public_mode:_,unread_filter:y,members_nickname_contains:E,name_contains:k,channel_urls:S,custom_types:D,custom_type_startswith:N,hidden_mode:C,metadata_order_key:A,metadata_key:q,metadata_values:K,metadata_value_startswith:z,show_frozen:V,show_metadata:W}),de&&de.query&&de.fields&&(r.params.search_query=de.query,r.params.search_fields=de.fields),le&&le.userIds&&le.userIds.length>0&&(le.includeMode?(r.params.members_include_in=le.userIds,r.params.query_type=le.queryType.toUpperCase()):r.params.members_exactly_in=le.userIds),r}return B(n,e),n}(De),Cae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=c,new hs(t,h)})),i.ts=c!=null?c:null,i}return B(n,e),n}(Fe),Sae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.myMemberStateFilter;return o.method=Re.GET,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:u!=null?u:qa.ALL},o}return B(n,e),n}(De),Nae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.groupChannelCount=r.group_channel_count,i}return B(n,e),n}(Fe),Tae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.keys;return o.method=Re.GET,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:u},o}return B(n,e),n}(De),Iae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return typeof r[zr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(i.groupChannelUnreadMentionCount=r[zr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[zr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(i.groupChannelUnreadMessageCount=r[zr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[zr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(i.groupChannelInvitationCount=r[zr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[zr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(i.superGroupChannelUnreadMentionCount=r[zr.SUPER_UNREAD_MENTION_COUNT]),typeof r[zr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.superGroupChannelUnreadMessageCount=r[zr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[zr.SUPER_INVITATION_COUNT]=="number"&&(i.superGroupChannelInvitationCount=r[zr.SUPER_INVITATION_COUNT]),typeof r[zr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMentionCount=r[zr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[zr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMessageCount=r[zr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[zr.NONSUPER_INVITATION_COUNT]=="number"&&(i.nonSuperGroupChannelInvitationCount=r[zr.NONSUPER_INVITATION_COUNT]),i}return B(n,e),n}(Fe),Oae=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=Re.GET,i.path="".concat(et,"/").concat(encodeURIComponent(r),"/unread_channel_count"),i}return B(n,e),n}(De),Aae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(n,e),n}(Fe),Rae=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,u=i.channelCustomTypesFilter,c=i.superChannelFilter;return o.method=Re.GET,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:c!=null?c:Va.ALL,custom_types:u},o}return B(n,e),n}(De),Mae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return B(n,e),n}(Fe),Dae=function(e){function n(t){var r=t.channelUrl,i=t.scheduledStatus,o=t.messageTypeFilter,u=e.call(this)||this;return u.method=Re.GET,u.path="".concat(J7,"/count"),u.params={channel_url:r,status:Lae(i)},o&&(u.params.message_type=o),u}return B(n,e),n}(De),Uae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.count=r.count,i}return B(n,e),n}(Fe),Lae=function(e){if(e){var n=[];e.forEach(function(t){switch(t){case _u.PENDING:n.push(Ha.PENDING);break;case _u.SENT:n.push(Ha.IN_QUEUE),n.push(Ha.SENT);break;case _u.CANCELED:n.push(Ha.CANCELED);break;case _u.FAILED:n.push(Ha.FAILED)}})}},Pae=function(e){function n(t){var r=this,i=t.userId,o=t.channelUrl,u=t.coverUrl,c=t.coverImage,h=t.isDistinct,f=t.isSuper,v=t.isBroadcast,_=t.isPublic,y=t.isExclusive,E=t.isDiscoverable,k=t.isStrict,S=t.isEphemeral,D=t.accessCode,N=t.name,C=t.data,A=t.customType,q=t.messageSurvivalSeconds,K=t.invitedUserIds,z=t.operatorUserIds;return(r=e.call(this)||this).method=Re.POST,r.path=qi,r.params=En({user_ids:vn([i],_n(K!=null?K:[]),!1).filter(function(V,W,de){return W===de.indexOf(V)}),channel_url:o,cover_url:u,cover_file:c,is_distinct:h,is_super:f,is_broadcast:v,is_exclusive:y,is_public:_,is_discoverable:E,strict:k,is_ephemeral:S,access_code:D,name:N,data:C,custom_type:A,operator_ids:z,message_survival_seconds:q}),r}return B(n,e),n}(De),Fae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i.isCreated=r.is_created,i}return B(n,e),n}(Fe),YD=function(e){function n(t){var r=t.userId,i=t.channelUrls,o=e.call(this)||this;return o.method=Re.PUT,o.path="".concat(et,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:i},o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var Hae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/join"),r.params={user_id:o,access_code:u},r}return B(n,e),n}(De),qae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i}return B(n,e),n}(Fe),Bae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.users,y=_===void 0?null:_;return o.memberCount=h,o.joinedMemberCount=v,o.members=Array.isArray(y)?y.map(function(E){return new uo(t,E)}):[new uo(t,i.data)],o}return B(n,e),n}(id),Gae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.shouldRemoveOperatorStatus;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/leave"),r.params={user_id:o,should_remove_operator_status:u},r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var zae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f;return o.memberCount=h,o.joinedMemberCount=v,o.member=new uo(o._iid,i.data),o}return B(n,e),n}(id),$ae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userIds;return(r=e.call(this)||this).method=Re.POST,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/invite"),r.params={user_ids:o},r}return B(n,e),n}(De),jae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i}return B(n,e),n}(Fe),Vae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitees,k=E===void 0?[]:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new An(t,y):null,o.invitees=k.map(function(S){return new uo(t,S)}),o}return B(n,e),n}(id),Wae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/decline"),r.params={user_id:o},r}return B(n,e),n}(De),Kae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i.channel.myMemberState=Pr.NONE,i}return B(n,e),n}(Fe),Qae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,u=i.data,c=u.member_count,h=c===void 0?null:c,f=u.joined_member_count,v=f===void 0?null:f,_=u.inviter,y=_===void 0?null:_,E=u.invitee,k=E===void 0?null:E;return o.memberCount=h,o.joinedMemberCount=v,o.inviter=y?new An(t,y):null,o.invitee=k?new uo(t,k):null,o}return B(n,e),n}(id),Yae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return B(n,e),n}(Wa),JF=function(e){function n(t,r,i){var o=e.call(this,t,"READ",i)||this;return o.readStatus=new VF(t,i),o}return B(n,e),n}(Mt),Xae=function(e){function n(t){var r=t.channelUrl,i=t.userId,o=e.call(this)||this;return(o=e.call(this)||this).method=Re.PUT,o.path="".concat(qi,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=En({userId:i}),o}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var ol,Jae=function(e){function n(t,r,i){var o=e.call(this,t,"DLVR",i)||this;return o.channelUrl=i.channel_url,o.deliveredStateUpdate=i.updated,o}return B(n,e),n}(Mt),Zae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.hidePreviousMessages,c=t.allowAutoUnhide;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/hide"),r.params={user_id:o,hide_previous_messages:u,allow_auto_unhide:c},r}return B(n,e),n}(De),ese=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(n,e),n}(Fe),nse=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,i.data&&(o.allowAutoUnhide=i.data.allow_auto_unhide,o.hidePreviousMessages=i.data.hide_previous_messages),o.messageOffsetTimestamp=i.ts_message_offset,o}return B(n,e),n}(Mt),tse=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(n,e),n}(Wa),rse=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new An(t,i.data),o}return B(n,e),n}(Mt),ise=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return B(n,e),n}(Wa),ase=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new An(t,i.data),o}return B(n,e),n}(Mt),sse=function(e){function n(t){var r=t.channelUrl,i=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:i}})||this}return B(n,e),n}(Wa),ZF=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q,K,z,V,W=this;return(W=e.call(this,t,r)||this).includeEmpty=!1,W.includeFrozen=!0,W.includeMetaData=!0,W.channelUrlsFilter=null,W.customTypesFilter=null,W.customTypeStartsWithFilter=null,W.nicknameContainsFilter="",W.channelNameContainsFilter="",W.myMemberStateFilter=qa.ALL,W.unreadChannelFilter=zc.ALL,W.superChannelFilter=Va.ALL,W.publicChannelFilter=xl.ALL,W.hiddenChannelFilter=Do.UNHIDDEN,W.searchFilter={fields:[],query:null},W.userIdsFilter={userIds:[],includeMode:!0,queryType:Ru.AND},W.metadataKey=null,W.metadataValues=null,W.metadataOrderKeyFilter=null,W.metadataValueStartsWith=null,W.order=Zr.LATEST_LAST_MESSAGE,W.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,W.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,W.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,W.channelUrlsFilter=(c=r.channelUrlsFilter)!==null&&c!==void 0?c:null,W.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,W.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:"",W.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:"",W.channelNameContainsFilter=(_=r.channelNameContainsFilter)!==null&&_!==void 0?_:"",W.myMemberStateFilter=(y=r.myMemberStateFilter)!==null&&y!==void 0?y:qa.ALL,W.unreadChannelFilter=(E=r.unreadChannelFilter)!==null&&E!==void 0?E:zc.ALL,W.superChannelFilter=(k=r.superChannelFilter)!==null&&k!==void 0?k:Va.ALL,W.publicChannelFilter=(S=r.publicChannelFilter)!==null&&S!==void 0?S:xl.ALL,W.hiddenChannelFilter=(D=r.hiddenChannelFilter)!==null&&D!==void 0?D:Do.UNHIDDEN,W.searchFilter=(N=r.searchFilter)!==null&&N!==void 0?N:{fields:[],query:null},W.userIdsFilter=(C=r.userIdsFilter)!==null&&C!==void 0?C:{userIds:[],includeMode:!0,queryType:Ru.AND},W.metadataKey=(A=r.metadataKey)!==null&&A!==void 0?A:null,W.metadataValues=(q=r.metadataValues)!==null&&q!==void 0?q:null,W.metadataOrderKeyFilter=(K=r.metadataOrderKeyFilter)!==null&&K!==void 0?K:null,W.metadataValueStartsWith=(z=r.metadataValueStartsWith)!==null&&z!==void 0?z:null,W.order=(V=r.order)!==null&&V!==void 0?V:Zr.LATEST_LAST_MESSAGE,W}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter)&&Sn("string",this.channelUrlsFilter,!0)&&Sn("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter)&&J("string",this.nicknameContainsFilter)&&Cn(qa,this.myMemberStateFilter)&&Cn(Va,this.superChannelFilter)&&Cn(xl,this.publicChannelFilter)&&Cn(zc,this.unreadChannelFilter)&&Cn(Do,this.hiddenChannelFilter)&&Sn(_0,this.searchFilter.fields)&&J("string",this.searchFilter.query,!0)&&Sn("string",this.userIdsFilter.userIds)&&J("boolean",this.userIdsFilter.includeMode)&&Cn(Ru,this.userIdsFilter.queryType)&&Cn(Zr,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&Sn("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},n.prototype.serialize=function(){return I0(this)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Yr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return t=o.sent(),r=t.channels,i=t.token,this._token=i,this._hasNext=!!i,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),b0=function(){function e(n){var t=n.top,r=t===void 0?Number.MAX_SAFE_INTEGER:t,i=n.bottom,o=i===void 0?0:i;this.top=r,this.bottom=o}return e.prototype.includes=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.every(function(i){return n.top<=i&&i<=n.bottom})},e.prototype.overlap=function(n){return this.includes(n.top)||this.includes(n.bottom)},e.prototype.extends=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.top=Math.min.apply(Math,vn([this.top],_n(n),!1)),this.bottom=Math.max.apply(Math,vn([this.bottom],_n(n),!1))},e}(),XD={},Yr=function(){function e(n,t){var r=t.sdkState,i=t.cacheContext,o=t.dispatcher,u=t.sessionManager,c=t.requestQueue,h=t.logger,f=this;this._leftChannels=new Map,this._markAsReadAllLastSentAt=0,this._iid=n,this._sdkState=r,this._sessionManager=u,this._requestQueue=c,this._dispatcher=o,this._logger=h,this._groupChannelHandlers=new Map,this._groupChannelCache=new gae(this._iid,{sdkState:r,cacheContext:i}),this._unsentMessageCache=new W3(this._iid,{sdkState:r,cacheContext:i}),this._messageCache=new xF(this._iid,{sdkState:r,cacheContext:i,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new yae({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new Eae({messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:h}),setInterval(function(){var v,_,y=function(S){S.invalidateTypingStatus()&&(f._dispatcher.dispatch(new rt({channels:[S],source:wn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),f._groupChannelHandlers.forEach(function(D){D.onTypingStatusUpdated(S)}))};try{for(var E=je(f._groupChannelCache.channels),k=E.next();!k.done;k=E.next())y(k.value)}catch(S){v={error:S}}finally{try{k&&!k.done&&(_=E.return)&&_.call(E)}finally{if(v)throw v.error}}},1e3),this._dispatcher.on(function(v){v instanceof Mt?f._handleEvent(v):v instanceof kF&&I(f,void 0,void 0,function(){var _,y;return O(this,function(E){switch(E.label){case 0:return _=v.message,[4,this.getChannel(_.channelUrl,!0)];case 1:return y=E.sent(),_ instanceof ri?y._autoResendUserMessage(_):_ instanceof Jr&&y._autoResendFileMessage(_),[2]}})})}),XD[n]=this}return e.of=function(n){return XD[n]},Object.defineProperty(e.prototype,"handlers",{get:function(){return vn([],_n(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.buildGroupChannelFromSerializedData=function(n){var t=qc(n);return new hs(this._iid,hs.payloadify(t))},e.prototype.buildGroupChannelListQueryFromSerializedData=function(n){var t=qc(n);return new ZF(this._iid,t)},e.prototype.buildMemberFromSerializedData=function(n){var t=qc(n);return new uo(this._iid,uo.payloadify(t))},e.prototype.getChannelFromCache=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getChannelsFromCache=function(n,t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this._groupChannelCache.fetch({token:n,filter:t,order:r})];case 1:return[2,i.sent()]}})})},e.prototype._handleEvent=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q,K,z,V,W,de,le,Ie,ye,te,he,ce,He,Se,ve,Oe,Be,ee,X,me,Ye,Ne,Ae,_e,Le,ze,mn,Tn,xn,In,ln,Dn,fn,kn,$,R,M,j,re,xe,ge,yn,dn,nn,Ge,On,at,Ht,ei,Bi,Xn,Kh,od,ju,Qh,F0,Rl,Ml,ur,Vu,Dl,oa,Ul,Yh,Bs,Sa,Xh,Jh,Ll,Wu,gs,vs,ld,Zh,ep,np,tp,rp,_t,Vt,zo,Ku,Qu,$o,Mr,Fr,ip,ap,sp,op,qt,ud,cd,lp,up,H0,Yu,dd,Xu,q0,cp,dp,hd,B0,Et=this;return O(this,function(zn){switch(zn.label){case 0:switch(zn.trys.push([0,72,,73]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"SYEV":return[3,32];case"USEV":return[3,70]}return[3,71];case 1:return f=null,n.code==="MESG"?f=n.as(j3):n.code==="FILE"?f=n.as(H3):n.code!=="ADMM"&&n.code!="BRDM"||(f=n.as(FF)),f?(t=f.message,r=f.isMentioned,i=f.forceUpdateLastMessage,t.channelType!==kt.GROUP?[3,3]:(Ms(function(){return I(Et,void 0,void 0,function(){var Me;return O(this,function(Ce){return Me=new sse(t),this._requestQueue.send(Me),[2]})})}),W=this._groupChannelCache.isCachedInMemory(t.channelUrl),E=t instanceof Qr&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((o=zn.sent()).hiddenState=Pa.UNHIDDEN,t instanceof Qr){u=ie.of(this._iid).useMemberInfoInMessage;try{for(c=je(o.members),h=c.next();!h.done;h=c.next())if((oa=h.value).userId===t.sender.userId){u?(t.sender.nickname=oa.nickname,t.sender.plainProfileUrl=oa.plainProfileUrl,t.sender.metaData=oa.metaData,t.sender.isBlockedByMe=oa.isBlockedByMe):(oa.nickname=t.sender.nickname,oa.plainProfileUrl=t.sender.plainProfileUrl,oa.metaData=t.sender.metaData,oa.isBlockedByMe=t.sender.isBlockedByMe);break}}catch(Me){up={error:Me}}finally{try{h&&!h.done&&(H0=c.return)&&H0.call(c)}finally{if(up)throw up.error}}u&&r&&t.mentionedUsers.forEach(function(Me){var Ce,Nn;try{for(var Fn=je(o.members),Dt=Fn.next();!Dt.done;Dt=Fn.next()){var bt=Dt.value;if(Me.userId===bt.userId){Me.nickname=bt.nickname,Me.plainProfileUrl=bt.plainProfileUrl,Me.metaData=bt.metaData;break}}}catch(jo){Ce={error:jo}}finally{try{Dt&&!Dt.done&&(Nn=Fn.return)&&Nn.call(Fn)}finally{if(Ce)throw Ce.error}}}),E&&(S=this._sessionManager.currentUser)&&(S.nickname=t.sender.nickname,S.plainProfileUrl=t.sender.plainProfileUrl,S.metaData=t.sender.metaData)}t.silent&&!E||(o.isEphemeral||W)&&((!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),E||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),i&&(!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),this._dispatcher.dispatch(new rt({channels:[o],source:wn.EVENT_MESSAGE_RECEIVED})),t.silent&&!E||Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onChannelChanged(o)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})}),this._dispatcher.dispatch(new lr({messages:[t],source:bn.EVENT_MESSAGE_RECEIVED})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn,Dt;return O(this,function(bt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())(Nn=Ce.value).onMessageReceived(o,t),r&&Nn.onMentionReceived(o,t)}catch(jo){Fn={error:jo}}finally{try{Ce&&!Ce.done&&(Dt=Me.return)&&Dt.call(Me)}finally{if(Fn)throw Fn.error}}return[2]})})}),zn.label=3;case 3:return[3,71];case 4:return f=null,n.code==="MEDI"?f=n.as(Cv):n.code==="FEDI"?f=n.as(V3):n.code==="AEDI"&&(f=n.as(HF)),f?(v=f.message,_=f.mentionCountChange,v.channelType!==kt.GROUP?[3,6]:(W=this._groupChannelCache.isCachedInMemory(v.channelUrl),[4,this.getChannel(v.channelUrl,!0)])):[3,6];case 5:y=zn.sent(),E=v instanceof Qr&&v.sender.userId===this._sdkState.userId,k=!1,E?(S=this._sessionManager.currentUser)&&(S.nickname=v.sender.nickname,S.plainProfileUrl=v.sender.plainProfileUrl,S.metaData=v.sender.metaData):y.isReadMessage(v)&&_!==0&&!v.silent&&W&&(y._updateUnreadCount(y.unreadMessageCount,y.unreadMentionCount+_),k=!0),!y.lastMessage||y.lastMessage.createdAt<v.createdAt?(y.lastMessage=v,k=!0):y.lastMessage.isIdentical(v)&&(W?y.lastMessage.updatedAt<v.updatedAt&&(y.lastMessage=v,k=!0):k=!0),k&&(this._dispatcher.dispatch(new rt({channels:[y],source:wn.EVENT_MESSAGE_UPDATED})),v.silent&&!E||Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onChannelChanged(y)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})})),this._dispatcher.dispatch(new lr({messages:[v],source:bn.EVENT_MESSAGE_UPDATED})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn,Dt;return O(this,function(bt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())(Nn=Ce.value).onMessageUpdated(y,v),_!==0&&Nn.onMentionReceived(y,v)}catch(jo){Fn={error:jo}}finally{try{Ce&&!Ce.done&&(Dt=Me.return)&&Dt.call(Me)}finally{if(Fn)throw Fn.error}}return[2]})})}),zn.label=6;case 6:return[3,71];case 7:return D=n.as(_F),me=D.channelUrl,ye=D.channelType,N=D.messageId,ye!==kt.GROUP?[3,9]:[4,this.getChannel(me,!0)];case 8:C=zn.sent(),this._dispatcher.dispatch(new q3({messageIds:[N],source:bn.EVENT_MESSAGE_DELETED})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onMessageDeleted(C,N)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})}),zn.label=9;case 9:return[3,71];case 10:return(A=n.as(JF).readStatus).channelType!==kt.GROUP?[3,12]:(W=this._groupChannelCache.isCachedInMemory(A.channelUrl),[4,this.getChannel(A.channelUrl,!0)]);case 11:q=zn.sent(),W&&q._updateUnreadMemberState(A.reader.userId,A.readAt),A.reader.userId===this._sdkState.userId?W?(q.unreadMessageCount>0||q.unreadMentionCount>0)&&(q._updateUnreadCount(0,0),this._dispatcher.dispatch(new rt({channels:[q],source:wn.EVENT_CHANNEL_READ})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onChannelChanged(q)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})})):q.unreadMessageCount!==0&&q.unreadMentionCount!==0||(this._dispatcher.dispatch(new rt({channels:[q],source:wn.EVENT_CHANNEL_READ})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onChannelChanged(q)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})})):(this._dispatcher.dispatch(new rt({channels:[q],source:wn.EVENT_CHANNEL_READ})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onUnreadMemberStatusUpdated(q)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})})),zn.label=12;case 12:return[3,71];case 13:return K=n.as(Jae),me=K.channelUrl,z=K.deliveredStateUpdate,V=z===void 0?{}:z,W=this._groupChannelCache.isCachedInMemory(me),[4,this.getChannel(me,!0)];case 14:if(de=zn.sent(),W)for(le in V)de._updateUndeliveredMemberState(le,V[le]);return this._dispatcher.dispatch(new rt({channels:[de],source:wn.EVENT_CHANNEL_DELIVERED})),Object.keys(V).some(function(Me){return Me!==Et._sdkState.userId})&&Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onUndeliveredMemberStatusUpdated(de)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})}),[3,71];case 15:return Ie=n.as(qF),me=Ie.channelUrl,ye=Ie.channelType,te=Ie.event,ye!==kt.GROUP?[3,18]:[4,this.getChannel(me,!0)];case 16:return he=zn.sent(),[4,this.getMessageFromCache(te.messageId)];case 17:(Se=zn.sent())&&(Se.applyReactionEvent(te),this._dispatcher.dispatch(new lr({messages:[Se],source:bn.EVENT_MESSAGE_REACTION_UPDATED}))),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onReactionUpdated(he,te)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})}),zn.label=18;case 18:return[3,71];case 19:return(ce=n.as(BF).event).channelType!==kt.GROUP?[3,22]:[4,this.getChannel(ce.channelUrl,!0)];case 20:return He=zn.sent(),[4,this.getMessageFromCache(ce.targetMessageId)];case 21:(Se=zn.sent())&&(Se.applyThreadInfoUpdateEvent(ce),this._dispatcher.dispatch(new lr({messages:[Se],source:bn.EVENT_MESSAGE_THREADINFO_UPDATED}))),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onThreadInfoUpdated(He,ce)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})}),zn.label=22;case 22:return[3,71];case 23:ve=n.as(PF).groupChannelMemberCounts,Oe=[],zn.label=24;case 24:zn.trys.push([24,29,30,31]),Be=je(ve),ee=Be.next(),zn.label=25;case 25:return ee.done?[3,28]:(X=ee.value,me=X.channelUrl,Bi=X.memberCount,Xn=X.joinedMemberCount,Ye=X.updatedAt,[4,this.getChannelFromCache(me)]);case 26:(Ne=zn.sent())&&Ne._setLatestMemberCount(Bi,Xn,Ye)&&Oe.push(Ne),zn.label=27;case 27:return ee=Be.next(),[3,25];case 28:return[3,31];case 29:return Ae=zn.sent(),Yu={error:Ae},[3,31];case 30:try{ee&&!ee.done&&(dd=Be.return)&&dd.call(Be)}finally{if(Yu)throw Yu.error}return[7];case 31:return Oe.length>0&&(this._dispatcher.dispatch(new rt({channels:Oe,source:wn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),Ze(function(){return I(Et,void 0,void 0,function(){var Me,Ce,Nn,Fn;return O(this,function(Dt){try{for(Me=je(this._groupChannelHandlers.values()),Ce=Me.next();!Ce.done;Ce=Me.next())Ce.value.onChannelMemberCountChanged(Oe)}catch(bt){Nn={error:bt}}finally{try{Ce&&!Ce.done&&(Fn=Me.return)&&Fn.call(Me)}finally{if(Nn)throw Nn.error}}return[2]})})})),[3,71];case 32:if(!(_e=n.as(id).event).isGroupChannelEvent)return[3,69];switch(_e.category){case ct.CHANNEL_JOIN:return[3,33];case ct.CHANNEL_LEAVE:return[3,35];case ct.CHANNEL_OPERATOR_UPDATE:return[3,39];case ct.CHANNEL_INVITE:return[3,41];case ct.CHANNEL_DECLINE_INVITE:return[3,43];case ct.TYPING_START:case ct.TYPING_END:return[3,45];case ct.USER_CHANNEL_MUTE:case ct.USER_CHANNEL_UNMUTE:return[3,47];case ct.USER_CHANNEL_BAN:return[3,49];case ct.USER_CHANNEL_UNBAN:return[3,53];case ct.CHANNEL_FREEZE:case ct.CHANNEL_UNFREEZE:return[3,55];case ct.CHANNEL_HIDE:return[3,57];case ct.CHANNEL_UNHIDE:return[3,59];case ct.CHANNEL_DELETED:return[3,61];case ct.CHANNEL_PROP_CHANGED:return[3,63];case ct.CHANNEL_META_DATA_CHANGED:return[3,65];case ct.CHANNEL_META_COUNTERS_CHANGED:return[3,67]}return[3,69];case 33:return[4,this.getChannel(_e.channelUrl,!0)];case 34:return Le=zn.sent(),ze=n.as(Bae),mn=ze.memberCount,Tn=ze.joinedMemberCount,xn=ze.members,In=!1,xn.forEach(function(Me){Le.isExclusive||Le.isSuper||Le.isBroadcast?In=In||Le._setLatestMemberCount(mn,Tn,_e.ts):(Me.state=Pr.JOINED,Le.addMember(Me,_e.ts),Et._updateJoinedMemberCount(Le)),Me.userId===Et._sdkState.userId&&(Le.myMemberState=Pr.JOINED)}),this._dispatcher.dispatch(new rt({channels:[Le],source:wn.EVENT_CHANNEL_JOINED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){var Nn,Fn;try{for(var Dt=je(xn),bt=Dt.next();!bt.done;bt=Dt.next()){var jo=bt.value;Ce.onUserJoined(Le,jo)}}catch(hp){Nn={error:hp}}finally{try{bt&&!bt.done&&(Fn=Dt.return)&&Fn.call(Dt)}finally{if(Nn)throw Nn.error}}Le.isBroadcast&&In&&Ce.onChannelMemberCountChanged([Le])}),[2]})})}),[3,69];case 35:return(Ul=this._leftChannels.get(_e.channelUrl))?(Dn=Ul.channel,[3,38]):[3,36];case 36:return[4,this.getChannel(_e.channelUrl,!0)];case 37:Dn=zn.sent(),zn.label=38;case 38:return ln=Dn,fn=n.as(zae),Bi=fn.memberCount,Xn=fn.joinedMemberCount,kn=fn.member,$=!1,ln.isExclusive||ln.isSuper||ln.isBroadcast?$=ln._setLatestMemberCount(Bi,Xn,_e.ts):(ln.removeMember(kn),this._updateJoinedMemberCount(ln)),kn.userId===this._sdkState.userId?ln.isPublic?(ln.myMemberState=Pr.NONE,ln.invitedAt=0,ln.joinedAt=0,ln._updateUnreadCount(0,0),this._dispatcher.dispatch(new rt({channels:[ln],source:wn.EVENT_CHANNEL_LEFT}))):(this._markAsLeave(ln),this._dispatcher.dispatch(new Cf({channelUrls:[ln.url],source:wn.EVENT_CHANNEL_LEFT}))):this._dispatcher.dispatch(new rt({channels:[ln],source:wn.EVENT_CHANNEL_LEFT})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserLeft(ln,kn),ln.isBroadcast&&$&&Ce.onChannelMemberCountChanged([ln])}),[2]})})}),[3,69];case 39:return[4,this.getChannel(_e.channelUrl,!0)];case 40:R=zn.sent(),M=n.as(LF).operators,j=M.map(function(Me){return Me.userId});try{for(re=je(R.members),xe=re.next();!xe.done;xe=re.next())(oa=xe.value).role=j.includes(oa.userId)?Rs.OPERATOR:Rs.NONE}catch(Me){Xu={error:Me}}finally{try{xe&&!xe.done&&(q0=re.return)&&q0.call(re)}finally{if(Xu)throw Xu.error}}return R.myRole=j.includes(this._sdkState.userId)?Rs.OPERATOR:Rs.NONE,this._dispatcher.dispatch(new rt({channels:[R],source:wn.EVENT_CHANNEL_OPERATOR_UPDATED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onOperatorUpdated(R,M)}),[2]})})}),[3,69];case 41:return[4,this.getChannel(_e.channelUrl,!0)];case 42:ge=zn.sent(),yn=n.as(Vae),Bi=yn.memberCount,Xn=yn.joinedMemberCount,dn=yn.inviter,(nn=yn.invitees).forEach(function(Me){return Me.state=Pr.INVITED});try{for(Ge=je(nn),On=Ge.next();!On.done;On=Ge.next())at=On.value,ge.isExclusive||ge.isSuper||ge.isBroadcast?ge._setLatestMemberCount(Bi,Xn,_e.ts):ge.addMember(at,_e.ts),this._sdkState.userId===at.userId&&(ge.hiddenState=Pa.UNHIDDEN,ge.myMemberState!==Pr.JOINED&&(ge.myMemberState=Pr.INVITED),ge.invitedAt=_e.ts)}catch(Me){cp={error:Me}}finally{try{On&&!On.done&&(dp=Ge.return)&&dp.call(Ge)}finally{if(cp)throw cp.error}}return this._dispatcher.dispatch(new rt({channels:[ge],source:wn.EVENT_CHANNEL_INVITED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserReceivedInvitation(ge,dn,nn)}),[2]})})}),[3,69];case 43:return[4,this.getChannel(_e.channelUrl,!0)];case 44:return Ht=zn.sent(),ei=n.as(Qae),Bi=ei.memberCount,Xn=ei.joinedMemberCount,Kh=ei.inviter,od=ei.invitee,Ht.isExclusive||Ht.isSuper||Ht.isBroadcast?Ht._setLatestMemberCount(Bi,Xn,_e.ts):Ht.removeMember(od),this._sdkState.userId===od.userId?(Ht.invitedAt=0,Ht.myMemberState=Pr.NONE,Ht.isPublic?this._dispatcher.dispatch(new rt({channels:[Ht],source:wn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new Cf({channelUrls:[Ht.url],source:wn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new rt({channels:[Ht],source:wn.EVENT_CHANNEL_DECLINED_INVITE})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserDeclinedInvitation(Ht,Kh,od)}),[2]})})}),[3,69];case 45:return[4,this.getChannel(_e.channelUrl,!0)];case 46:return ju=zn.sent(),Qh=_e.category===ct.TYPING_START,F0=n.as(Qh?rse:ase).user,ju._updateTypingStatus(F0,Qh?_e.ts:0),this._dispatcher.dispatch(new rt({channels:[ju],source:wn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onTypingStatusUpdated(ju)}),[2]})})}),[3,69];case 47:return[4,this.getChannel(_e.channelUrl,!0)];case 48:Rl=zn.sent(),Ml=_e.category===ct.USER_CHANNEL_MUTE,(ur=n.as(Ml?pF:fF).user).userId===this._sdkState.userId&&(Rl.myMutedState=Ml?fl.MUTED:fl.UNMUTED);try{for(Vu=je(Rl.members),Dl=Vu.next();!Dl.done;Dl=Vu.next())if((oa=Dl.value).userId===ur.userId){oa.isMuted=Ml;break}}catch(Me){hd={error:Me}}finally{try{Dl&&!Dl.done&&(B0=Vu.return)&&B0.call(Vu)}finally{if(hd)throw hd.error}}return this._dispatcher.dispatch(new rt({channels:[Rl],source:Ml?wn.EVENT_CHANNEL_MUTED:wn.EVENT_CHANNEL_UNMUTED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ml?Ce.onUserMuted(Rl,ur):Ce.onUserUnmuted(Rl,ur)}),[2]})})}),[3,69];case 49:return(Ul=this._leftChannels.get(_e.channelUrl))?(Bs=Ul.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(_e.channelUrl,!0)];case 51:Bs=zn.sent(),zn.label=52;case 52:return Yh=Bs,this._markAsLeave(Yh),Sa=n.as(mF).user,Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserBanned(Yh,Sa)}),[2]})})}),[3,69];case 53:return[4,this.getChannel(_e.channelUrl,!0)];case 54:return Xh=zn.sent(),Jh=n.as(gF).user,Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onUserUnbanned(Xh,Jh)}),[2]})})}),[3,69];case 55:return[4,this.getChannel(_e.channelUrl,!0)];case 56:return Ll=zn.sent(),Wu=n.as(vF).freeze,Ll.isFrozen=Wu,this._dispatcher.dispatch(new rt({channels:[Ll],source:Wu?wn.EVENT_CHANNEL_FROZEN:wn.EVENT_CHANNEL_UNFROZEN})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Wu?Ce.onChannelFrozen(Ll):Ce.onChannelUnfrozen(Ll)}),[2]})})}),[3,69];case 57:return[4,this.getChannel(_e.channelUrl,!0)];case 58:return gs=zn.sent(),vs=n.as(nse),ld=vs.allowAutoUnhide,Zh=vs.hidePreviousMessages,ep=vs.messageOffsetTimestamp,ld!==null&&(gs.hiddenState=ld?Pa.HIDDEN_ALLOW_AUTO_UNHIDE:Pa.HIDDEN_PREVENT_AUTO_UNHIDE),Zh!==null&&Zh&&gs._updateUnreadCount(0,0),ep!==null&&(gs.messageOffsetTimestamp=ep),this._dispatcher.dispatch(new rt({channels:[gs],source:wn.EVENT_CHANNEL_HIDDEN})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelHidden(gs)}),[2]})})}),[3,69];case 59:return[4,this.getChannel(_e.channelUrl,!0)];case 60:return(np=zn.sent()).hiddenState=Pa.UNHIDDEN,this._dispatcher.dispatch(new rt({channels:[np],source:wn.EVENT_CHANNEL_UNHIDDEN})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelChanged(np)}),[2]})})}),[3,69];case 61:return[4,this.getChannel(_e.channelUrl,!0)];case 62:return tp=zn.sent(),this._dispatcher.dispatch(new Cf({channelUrls:[_e.channelUrl],source:wn.EVENT_CHANNEL_DELETED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelDeleted(tp.url,tp.channelType)}),[2]})})}),[3,69];case 63:return[4,this.getChannelWithoutCache(_e.channelUrl,!0)];case 64:return rp=zn.sent(),this._dispatcher.dispatch(new rt({channels:[rp],source:wn.EVENT_CHANNEL_UPDATED})),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Ce.onChannelChanged(rp)}),[2]})})}),[3,69];case 65:return[4,this.getChannel(_e.channelUrl,!0)];case 66:return _t=zn.sent(),Vt=n.as(dF),zo=Vt.created,Ku=Vt.updated,Qu=Vt.deleted,zo&&_t._upsertCachedMetaData(zo,_e.ts),Ku&&_t._upsertCachedMetaData(Ku,_e.ts),Qu&&_t._removeFromCachedMetaData(Qu,_e.ts),Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){zo&&Ce.onMetaDataCreated(_t,zo),Ku&&Ce.onMetaDataUpdated(_t,Ku),Qu&&Ce.onMetaDataDeleted(_t,Qu)}),[2]})})}),[3,69];case 67:return[4,this.getChannel(_e.channelUrl,!0)];case 68:return $o=zn.sent(),Mr=n.as(hF),Fr=Mr.created,ip=Mr.updated,ap=Mr.deleted,Ze(function(){return I(Et,void 0,void 0,function(){return O(this,function(Me){return this._groupChannelHandlers.forEach(function(Ce){Fr&&Ce.onMetaCounterCreated($o,Fr),ip&&Ce.onMetaCounterUpdated($o,ip),ap&&Ce.onMetaCounterDeleted($o,ap)}),[2]})})}),[3,69];case 69:return[3,71];case 70:switch((sp=n.as(SF).event).category){case v0.USER_BLOCK:op=Sv.getDataAsUserBlockEvent(this._iid,sp),ud=op.blocker,cd=op.blockee,this._groupChannelCache.block(ud.userId,cd.userId);break;case v0.USER_UNBLOCK:qt=Sv.getDataAsUserBlockEvent(this._iid,sp),ud=qt.blocker,cd=qt.blockee,this._groupChannelCache.unblock(ud.userId,cd.userId)}return[3,71];case 71:return[3,73];case 72:if(lp=zn.sent(),so(lp))throw lp;return[3,73];case 73:return[2]}})})},e.prototype._markAsLeave=function(n){var t,r=this,i=(t=this._leftChannels.get(n.url))!==null&&t!==void 0?t:{channel:n,ref:0};i.ref++,this._leftChannels.set(n.url,i),setTimeout(function(){i.ref--,i.ref===0&&r._leftChannels.delete(n.url)},1e4)},e.prototype.addHandler=function(n,t){this._groupChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._groupChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},e.prototype.subscribeGroupChannelEvent=function(n,t){this._groupChannelBroadcast.subscribe(n,t)},e.prototype.unsubscribeGroupChannelEvent=function(n){this._groupChannelBroadcast.unsubscribe(n)},e.prototype.subscribeMessageEvent=function(n,t){this._messageBroadcast.subscribe(n,t)},e.prototype.unsubscribeMessageEvent=function(n){this._messageBroadcast.unsubscribe(n)},e.prototype._updateJoinedMemberCount=function(n){n.joinedMemberCount=n.members.filter(function(t){return t.state===Pr.JOINED}).length},e.prototype.getChannel=function(n,t){return t===void 0&&(t=!1),I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:qe(J("string",n)).throw(oe.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n,t)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),I(this,void 0,void 0,function(){var r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(J("string",n)).throw(oe.invalidParameters),r=new YF({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:switch(i=h.sent(),o=i.as(XF).channel,u=o.unreadMessageCount,c=o.unreadMentionCount,o.myCountPreference){case La.UNREAD_MESSAGE_COUNT_ONLY:c=0;break;case La.UNREAD_MENTION_COUNT_ONLY:u=0;break;case La.OFF:u=0,c=0}return o._updateUnreadCount(u,c),[4,this._groupChannelCache.upsert([o])];case 2:return h.sent(),[2,o]}})})},e.prototype.getMyGroupChannels=function(n,t,r,i){return i===void 0&&(i=wn.REQUEST_CHANNEL),I(this,void 0,void 0,function(){var o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return o=new kae(Z(Z({},t),{userId:this._sdkState.userId,token:n,limit:r})),[4,this._requestQueue.send(o)];case 1:return u=v.sent(),c=u.as(Cae),h=c.channels,f=c.token,this._dispatcher.dispatch(new rt({channels:h,source:i})),[2,{channels:h,token:f}]}})})},e.prototype.getMessageFromCache=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._messageCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getMessagesFromCache=function(n,t,r,i,o){return o===void 0&&(o=wF),I(this,void 0,void 0,function(){return O(this,function(u){switch(u.label){case 0:return[4,this._messageCache.fetch({channelUrl:n,token:t,limit:o,filter:i,backward:r==="next"})];case 1:return[2,u.sent()]}})})},e.prototype.getAllFailedMessagesFromCache=function(n,t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:n,filter:t,sendingStatus:Ft.FAILED})];case 1:return[2,r.sent()]}})})},e.prototype.removeFailedMessageFromCache=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([n])];case 1:return t.sent(),[2]}})})},e.prototype.getCachedMessageCountBetween=function(n,t,r,i){return I(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(n,t,new b0({top:r,bottom:i}))];case 1:return[2,o.sent()]}})})},e.prototype.getMyGroupChannelChangeLogs=function(n,t,r){return r===void 0&&(r=wn.REQUEST_CHANNEL_CHANGELOGS),I(this,void 0,void 0,function(){var i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return t=Z(Z({},Iv),t),qe(J("string",n)&&Z2(t)).throw(oe.invalidParameters),i=new wae(En({userId:this._sdkState.userId,ts:typeof n=="number"?n:null,token:typeof n=="string"?n:null,filter:t})),[4,this._requestQueue.send(i)];case 1:return o=f.sent(),u=o.as(xae),c=u.updatedChannels,h=u.deletedChannelUrls,c.length>0&&this._dispatcher.dispatch(new rt({channels:c,source:r})),h.length>0&&this._dispatcher.dispatch(new Cf({channelUrls:h,source:r})),[2,u]}})})},e.prototype.getGroupChannelCount=function(n){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return n=Z(Z({},KF),n),qe(QF(n)).throw(oe.invalidParameters),t=new Sae({userId:this._sdkState.userId,filter:n}),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Nae).groupChannelCount]}})})},e.prototype.getUnreadItemCount=function(n){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=Z(Z({},vae),n),qe(function(c){return Sn(zr,c.keys)}(n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Tae({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return[2,u.sent().as(Iae)]}})})},e.prototype.getTotalUnreadChannelCount=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o;return O(this,function(u){switch(u.label){case 0:return n=ie.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Oae({userId:t.userId}),[4,r.send(i)];case 1:return o=u.sent(),[2,o.as(Aae).unreadCount]}})})},e.prototype.getTotalUnreadMessageCount=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return n=Z(Z({},_ae),n),qe(function(h){return Sn("string",h.channelCustomTypesFilter)&&Cn(Va,h.superChannelFilter)}(n)).throw(oe.invalidParameters),t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Rae({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(Mae).unreadCount]}})})},e.prototype.getTotalScheduledMessageCount=function(n){return n===void 0&&(n={}),I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return n=Z(Z({},bae),n),qe(function(u){return J("string",u.channelUrl,!0)&&Sn(_u,u.scheduledStatus,!0)&&Cn(mi,u.messageTypeFilter)}(n)).throw(oe.invalidParameters),t=ie.of(this._iid).requestQueue,r=new Dae(n),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Uae).count]}})})},e.prototype.getSubscribedTotalUnreadMessageCount=function(){var n=ie.of(this._iid).subscribedUnreadMessageCount;return n.all>=0?n.all:0},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var n=0,t=ie.of(this._iid).subscribedUnreadMessageCount;for(var r in t.customTypes)n+=t.customTypes[r];return n},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(n){var t;return(t=ie.of(this._iid).subscribedUnreadMessageCount.customTypes[n])!==null&&t!==void 0?t:0},e.prototype.createChannel=function(n){return I(this,void 0,void 0,function(){var t,r,i;return O(this,function(o){switch(o.label){case 0:return n=Z(Z({},$g),n),qe(J2(n)).throw(oe.invalidParameters),n.isPublic||(n.accessCode=null),t=new Pae(Z({userId:this._sdkState.userId},n)),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(Fae).channel,[4,this._groupChannelCache.upsert([i])];case 2:return o.sent(),[2,i]}})})},e.prototype.markAsReadAll=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return n=Date.now(),qe(n-this._markAsReadAllLastSentAt>=1e3).throw(oe.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=n,t=new YD({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:f.sent(),r=this._groupChannelCache.channels;try{for(i=je(r),o=i.next();!o.done;o=i.next())(u=o.value)._updateUnreadMemberState(this._sdkState.userId,n),u._updateUnreadCount(0,0)}catch(v){c={error:v}}finally{try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}return r.length>0?[4,this._groupChannelCache.upsert(r)]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2]}})})},e.prototype.markAsReadWithChannelUrls=function(n){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return O(this,function(_){switch(_.label){case 0:return t=Date.now(),qe(Sn("string",n)&&t-this._markAsReadAllLastSentAt>=1e3).throw(oe.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,r=new YD({userId:this._sdkState.userId,channelUrls:n}),[4,this._requestQueue.send(r)];case 1:_.sent(),i=this._groupChannelCache.channels,o=[];try{for(u=je(i),c=u.next();!c.done;c=u.next())h=c.value,n.includes(h.url)&&(h._updateUnreadMemberState(this._sdkState.userId,t),h._updateUnreadCount(0,0),o.push(h))}catch(y){f={error:y}}finally{try{c&&!c.done&&(v=u.return)&&v.call(u)}finally{if(f)throw f.error}}return o.length>0?[4,this._groupChannelCache.upsert(o)]:[3,3];case 2:_.sent(),_.label=3;case 3:return[2]}})})},e.prototype.markAsDelivered=function(n){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.getChannel(n)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}})})},e}(),lu=new Map,bc=new Map,JD=new Map,ose=function(){function e(n){var t=n.key,r=n.concurrentCallLimit,i=r===void 0?2:r,o=n.backOffDelay,u=o===void 0?0:o,c=this;this._holdersKey=e.createSemaphoreHoldersKey(t),this._resolversKey=e.createSemaphoreResolversKey(t),this._chainProcessStateKey=e.createChainProcessStateKey(t),this._numLocks=i,this._backOffDelay=u,this._localAcquiredKeys=[],this._localResolversData=[],To()?(lu[this._holdersKey]||(lu[this._holdersKey]=[]),bc[this._resolversKey]||(bc[this._resolversKey]=[])):(window.addEventListener("storage",function(h){return I(c,void 0,void 0,function(){var f,v;return O(this,function(_){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(h.key){case this._holdersKey:if(f=JSON.parse(h.oldValue),v=JSON.parse(h.newValue),!f||!v||v.length>=f.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(h.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var h=c._getLocalResolversData(),f=c._localResolversData.map(function(_){return _.key}),v=h.filter(function(_){return f.indexOf(_.key)<0});window.localStorage.setItem(c._resolversKey,JSON.stringify(v)),c._localAcquiredKeys.forEach(function(_){return c.release(_)})}))}return e.createSemaphoreHoldersKey=function(n){return"collection@semaphore_holders_for:"+n},e.createSemaphoreResolversKey=function(n){return"collection@semaphore_resolvers_for:"+n},e.createChainProcessStateKey=function(n){return"collection@semaphore_chain_process_state_for:"+n},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(To())return this.numLocks-lu[this._holdersKey].length;var n=this._getLocalHoldersData();return this.numLocks-n.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return To()?bc[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var n=this._getLocalResolversData();return n.length>0&&this._localResolversData.map(function(t){return t.key}).indexOf(n[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(To())return JD[this._chainProcessStateKey];var n=window.localStorage[this._chainProcessStateKey];return n!==void 0&&JSON.parse(n)},e.prototype._setProcessChainAcquireRunning=function(n){To()?JD[this._chainProcessStateKey]=n:n?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(n)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,Cs(this._backOffDelay)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),To()?this._processChainResolve():(n=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(n)),t.label=3;case 3:return[2]}})})},e.prototype.acquire=function(n){return n===void 0&&(n=0),I(this,void 0,void 0,function(){var t,r=this;return O(this,function(i){return To()?[2,new Promise(function(o){for(var u={key:As(),resolver:function(v){return o(v)},priority:n},c=bc[r._resolversKey],h=-1,f=0;f<c.length;f++)if(n>c[f].priority){h=f;break}h>=0?bc[r._resolversKey].splice(h,0,u):bc[r._resolversKey].push(u),r._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(o){for(var u=As(),c={key:u,priority:n},h={key:u,resolver:function(_){return o(_)},priority:n},f=-1,v=0;v<t.length;v++)if(n>t[v].priority){f=v;break}f>=0?(t.splice(f,0,c),r._localResolversData.splice(f,0,h)):(t.push(c),r._localResolversData.push(h)),window.localStorage.setItem(r._resolversKey,JSON.stringify(t)),r._processChainResolve()})])})})},e.prototype.release=function(n){if(To()){if((t=lu[this._holdersKey].indexOf(n))>=0)return lu[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else if(window.localStorage[this._holdersKey]){var t,r=JSON.parse(window.localStorage[this._holdersKey]),i=vn([],_n(r),!1);if((t=r.indexOf(n))>=0){r.splice(t,1),window.localStorage.setItem(this._holdersKey,JSON.stringify(r)),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(n),1);var o=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(i),newValue:JSON.stringify(r)});return dispatchEvent(o),!0}}return!1},e.prototype._tryResolve=function(){if(To()){if(lu[this._holdersKey].length<this.numLocks){var n=As();return lu[this._holdersKey]=vn(vn([],_n(lu[this._holdersKey]),!1),[n],!1),(r=bc[this._resolversKey].shift()).resolver(n),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){n=As();var r=this._localResolversData.shift(),i=this._getLocalResolversData(),o=i.map(function(c){return c.key}).indexOf(r.key);i.splice(o,1),window.localStorage.setItem(this._resolversKey,JSON.stringify(i)),window.localStorage.setItem(this._holdersKey,JSON.stringify(vn(vn([],_n(t),!1),[n],!1))),this._localAcquiredKeys.push(n);var u=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(vn([],_n(t),!1)),newValue:JSON.stringify(vn(vn([],_n(t),!1),[n],!1))});return dispatchEvent(u),(0,r.resolver)(n),!0}}return!1},e.prototype._getLocalHoldersData=function(){var n=window.localStorage[this._holdersKey];return n!==void 0?JSON.parse(n):[]},e.prototype._getLocalResolversData=function(){var n=window.localStorage[this._resolversKey];return n!==void 0?JSON.parse(n):[]},e}();(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"})(ol||(ol={}));var ew,Xc=function(e){function n(t,r,i,o){i===void 0&&(i=2),o===void 0&&(o=10);var u=e.call(this)||this;return u._worker=null,u._state=ol.IDLE,u._semaphore=null,u._retryCount=0,u._retryLimit=3,u.priority=0,u._worker=r,u._semaphore=new ose({key:t,concurrentCallLimit:i,backOffDelay:o}),u}return B(n,e),Object.defineProperty(n.prototype,"isIdle",{get:function(){return this._state===ol.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._state===ol.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this._state===ol.END},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),n.prototype._run=function(t){return I(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(t)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return i=o.sent(),this.dispatch("error",i),this._retryCount<this._retryLimit?(this._retryCount++,this._run(t)):this.stop(),[3,4];case 4:return[2]}})})},n.prototype.start=function(t){this.isIdle&&(this._state=ol.RUNNING,this._run(t))},n.prototype.stop=function(){this._state=ol.IDLE,this.dispatch("stop")},n.prototype.end=function(){this._state=ol.END,this.dispatch("end")},n}(T0),Ov=function(e){this.source=e},CE=function(e){this.source=e},ff={},SE=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._prevSync=null,this._nextSync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,c=ie.of(this._iid),h=c.sdkState,f=c.logger;this._metadataKey=(o=h.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/sync.meta"));var v=function(_,y){return"sendbird:".concat(_,"@groupchannel/").concat(y,"/message/sync")}(h.userId,r.url);this._prevSync=new Xc(v,function(_){return I(i,void 0,void 0,function(){var y,E,k,S,D,N;return O(this,function(C){switch(C.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:if(C.sent(),f.debug("message background prev sync from",(S=this._metadata)===null||S===void 0?void 0:S.range.top),this._metadata.previousComplete)return[3,9];C.label=2;case 2:return C.trys.push([2,5,,8]),[4,fi.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(N=(D=this._metadata.range)===null||D===void 0?void 0:D.top)!==null&&N!==void 0?N:_,{prevResultSize:100,nextResultSize:0,replyType:ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},bn.SYNC_MESSAGE_BACKGROUND)];case 3:return E=C.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.top,this._metadata.previousComplete=!y.hasNext,f.debug("message background prev sync progress",y),[4,this.saveMetadata()];case 4:return C.sent(),[3,8];case 5:return(k=C.sent())instanceof oe&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:C.sent(),C.label=7;case 7:return y.hasNext=!1,y.nextToken=0,[3,8];case 8:return[3,10];case 9:y.hasNext=!1,C.label=10;case 10:return[2,y]}})})}),this._nextSync=new Xc(v,function(_){return I(i,void 0,void 0,function(){var y,E,k,S,D;return O(this,function(N){switch(N.label){case 0:return y={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return N.sent(),f.debug("message background next sync from",(k=this._metadata)===null||k===void 0?void 0:k.range.bottom),[4,fi.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(D=(S=this._metadata.range)===null||S===void 0?void 0:S.bottom)!==null&&D!==void 0?D:_,{prevResultSize:0,nextResultSize:100,replyType:ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},bn.SYNC_MESSAGE_BACKGROUND)];case 2:return E=N.sent(),this.extendRange(E),y.hasNext=E.length>=100,y.nextToken=this._metadata.range.bottom,f.debug("message background next sync progress",y),[4,this.saveMetadata()];case 3:return N.sent(),[2,y]}})})})}return e.of=function(n,t){if(ff[n]||(ff[n]={}),!ff[n][t.url]){var r=ff[n][t.url]=new e({_iid:n,channel:t});ie.of(n).dispatcher.on(function(i){i instanceof fo&&(i.stateType===Tt.CONNECTED?r.resume():r.pause())})}return ff[n][t.url]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(n){var t;return(t=this.range)===null||t===void 0?void 0:t.includes.apply(t,vn([],_n(n.map(function(r){return r.createdAt})),!1))},e.prototype.extendRange=function(n){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,vn([],_n(n.map(function(r){return r.createdAt})),!1))},e.prototype.loadMetadata=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ie.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={range:new b0(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:Number.MAX_SAFE_INTEGER}),previousComplete:!!n&&n.previousComplete},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){var n,t,r,i;ie.of(this._iid).logger.debug("message background sync resume()"),this._metadata&&this._metadata.previousComplete||this._prevSync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.range.top)!==null&&t!==void 0?t:Date.now()),this._nextSync.start((i=(r=this._metadata)===null||r===void 0?void 0:r.range.bottom)!==null&&i!==void 0?i:Date.now())},e.prototype.pause=function(){ie.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e}(),mf={},lse=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._sync=null,this._metadata=null,this._iid=t,this._channel=r;var o,u,c=ie.of(this._iid).sdkState;this._metadataKey=(o=c.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/changelogs.meta"));var h=function(f,v){return"sendbird:".concat(f,"@groupchannel/").concat(v,"/message/changelogs")}(c.userId,this._channel.url);this._sync=new Xc(h,function(){return I(i,void 0,void 0,function(){var f,v,_,y,E;return O(this,function(k){switch(k.label){case 0:return f={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:k.sent(),k.label=2;case 2:return k.trys.push([2,5,,8]),[4,fi.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:ra.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includePollDetails:!0},bn.SYNC_MESSAGE_CHANGELOGS)];case 3:return v=k.sent(),_=v.hasMore,y=v.token,f.hasNext=_,f.nextToken=y,this._metadata.token=y,[4,this.saveMetadata()];case 4:return k.sent(),[3,8];case 5:return(E=k.sent())instanceof oe&&E.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:k.sent(),k.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[2,f]}})})})}return e.of=function(n,t){if(mf[n]||(mf[n]={}),!mf[n][t.url]){var r=mf[n][t.url]=new e({_iid:n,channel:t});ie.of(n).dispatcher.on(function(i){i instanceof fo&&(i.stateType===Tt.CONNECTED?r.resume():r.pause())})}return mf[n][t.url]},e.prototype.loadMetadata=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=ie.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),use=function(e){function n(t){var r,i,o,u,c,h,f=this;return(f=e.call(this)||this).method=Re.GET,f.path="".concat(vt(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),f.params=En({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:(r=t.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(i=t.customTypes)!==null&&i!==void 0?i:["*"],message_type:(o=t.messageType)!==null&&o!==void 0?o:null,include_reactions:(u=t.includeReactions)===null||u===void 0||u,with_sorted_meta_array:(c=t.includeMetaArray)===null||c===void 0||c,show_subchannel_messages_only:(h=t.showSubchannelMessagesOnly)!==null&&h!==void 0&&h}),f}return B(n,e),n}(De),cse=function(e){function n(t,r){var i,o,u,c,h=this;return(h=e.call(this,t,r)||this).isHugeGap=r.is_huge_gap,h.prevMessages=((i=r.prev_messages)!==null&&i!==void 0?i:[]).map(function(f){return Hs(t,f)}),h.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,h.nextMessages=((u=r.next_messages)!==null&&u!==void 0?u:[]).map(function(f){return Hs(t,f)}),h.nextHasmore=(c=r.next_hasmore)!==null&&c!==void 0&&c,h}return B(n,e),n}(Fe),e9=function(e,n){return e.findIndex(function(t){return t.isIdentical(n)})},ZD=function(e,n,t){if(e.length>0){var r=e9(e,n);if(r<0){for(var i=0,o=e.length-1,u=Math.floor((i+o)/2);i<o;){var c=eU(e[u],n,t);if(c>0)o=u,u=Math.floor((i+o)/2);else{if(!(c<0))return{place:u,contains:e[u].isIdentical(n)};i=u+1,u=Math.floor((i+o)/2)}}return{place:eU(e[u],n,t)>0?u:u+1,contains:!1}}return{place:r,contains:!0}}return{place:e.length,contains:!1}},eU=function(e,n,t){switch(t){case Zr.LATEST_LAST_MESSAGE:return e.lastMessage&&n.lastMessage?n.lastMessage.createdAt-e.lastMessage.createdAt:e.lastMessage?-1:n.lastMessage?1:n.createdAt-e.createdAt;case Zr.CHRONOLOGICAL:return n.createdAt-e.createdAt;case Zr.CHANNEL_NAME_ALPHABETICAL:return e.name.localeCompare(n.name)}},yc=function(e,n){if(n instanceof Qr)return e.findIndex(function(t){return t instanceof Qr&&n.isIdentical(t)});e.findIndex(function(t){return t.isIdentical(n)})},nU=function(e,n){if(e.length>0){for(var t=0,r=e.length-1,i=Math.floor((t+r)/2);t<r;){var o=e[i].createdAt-n.createdAt;if(o>0)r=i,i=Math.floor((t+r)/2);else{if(!(o<0))return i;t=i+1,i=Math.floor((t+r)/2)}}return e[i].createdAt>n.createdAt?i:i+1}return e.length};(function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(ew||(ew={}));var Gf,zf,$f,dse=function(){function e(){}return e.prototype._invokeResponse=function(n,t,r){var i=this;Ze(function(){return I(i,void 0,void 0,function(){return O(this,function(o){switch(n){case"local":this._onCacheResult(t,r);break;case"remote":this._onApiResult(t,r)}return[2]})})})},e.prototype.onCacheResult=function(n){return this._onCacheResult=n,this},e.prototype.onApiResult=function(n){return this._onApiResult=n,this},e}(),hse=function(){function e(n,t){var r=t.channel,i=t.filter,o=t.startingPoint,u=t.limit,c=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._readReceiptMap=new Map,this._deliveryReceiptMap=new Map,this._iid=n,this._key="mc-".concat(As()),this.filter=i!=null?i:new g0,this._channel=r,this._syncRange=new b0({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=o||Date.now()+6e5,this._limit=u||wF;var h=Yr.of(this._iid);h.subscribeGroupChannelEvent(this._key,{onUpdate:function(E,k){var S,D,N,C,A=e9(E,c._channel);if(A>=0)switch(Ze(function(){return I(c,void 0,void 0,function(){var ce;return O(this,function(He){return ce=new Ov(k),this._channel=E[A],this._handler.onChannelUpdated(ce,this.channel),[2]})})}),k){case wn.EVENT_CHANNEL_UPDATED:var q=!1;for(var K in c._messages)if((Ie=c._messages[K]).createdAt>=c._channel.messageOffsetTimestamp){q=!0;var z=parseInt(K);if(z>0){var V=c._messages.splice(0,z);c._removeMessagesFromView(V.map(function(ce){return ce.messageId}),bn.EVENT_MESSAGE_OFFSET_UPDATED)}break}!q&&c._messages.length>0&&c._removeMessagesFromView(c._messages.map(function(ce){return ce.messageId}),bn.EVENT_MESSAGE_OFFSET_UPDATED);break;case wn.EVENT_CHANNEL_READ:var W=[];try{for(var de=je(c._messages),le=de.next();!le.done;le=de.next()){var Ie=le.value;(he=c._readReceiptMap.get(Ie.messageId))>0&&he!==c._channel.getUnreadMemberCount(Ie)&&W.push(Ie)}}catch(ce){S={error:ce}}finally{try{le&&!le.done&&(D=de.return)&&D.call(de)}finally{if(S)throw S.error}}W.length>0&&c._updateMessagesToView(W,bn.EVENT_MESSAGE_READ);break;case wn.EVENT_CHANNEL_DELIVERED:W=[];try{for(var ye=je(c._messages),te=ye.next();!te.done;te=ye.next()){var he;Ie=te.value,(he=c._deliveryReceiptMap.get(Ie.messageId))>0&&he!==c._channel.getUndeliveredMemberCount(Ie)&&W.push(Ie)}}catch(ce){N={error:ce}}finally{try{te&&!te.done&&(C=ye.return)&&C.call(ye)}finally{if(N)throw N.error}}W.length>0&&c._updateMessagesToView(W,bn.EVENT_MESSAGE_READ)}},onRemove:function(E,k){E.indexOf(c.channel.url)>=0&&Ze(function(){return I(c,void 0,void 0,function(){var S;return O(this,function(D){return S=new Ov(k),this._handler.onChannelDeleted(S,this.channel.url),[2]})})})}}),h.subscribeMessageEvent(this._key,{onUpdate:function(E,k){var S,D,N=[],C=[];try{for(var A=je(E),q=A.next();!q.done;q=A.next()){var K=q.value;K.channelUrl===c._channel.url&&(c.filter.match(K)?N.push(K):C.push(K.messageId))}}catch(z){S={error:z}}finally{try{q&&!q.done&&(D=A.return)&&D.call(A)}finally{if(S)throw S.error}}if(_g(k)){if(N.length>0)switch(k){case bn.EVENT_MESSAGE_SENT_FAILED:case bn.EVENT_MESSAGE_SENT_SUCCESS:case bn.EVENT_MESSAGE_UPDATED:case bn.EVENT_MESSAGE_THREADINFO_UPDATED:case bn.EVENT_MESSAGE_REACTION_UPDATED:case bn.SYNC_MESSAGE_CHANGELOGS:c._updateMessagesToView(N,k);break;case bn.EVENT_MESSAGE_SENT_PENDING:case bn.EVENT_MESSAGE_RECEIVED:case bn.SYNC_MESSAGE_FILL:c._addMessagesToView(N,k)}C.length>0&&c._removeMessagesFromView(C,k)}},onRemove:function(E,k){c._removeMessagesFromView(E,k)},onRemoveUnsent:function(E,k){c._removeUnsentMessageFromView(E,k)}});var f=ie.of(this._iid).cacheContext;!this._channel.isSuper&&f.localCacheEnabled&&SE.of(this._iid,this._channel).resume(),lse.of(this._iid,this._channel).resume(),this._prevFill=new Xc(this._key,function(E){return I(c,void 0,void 0,function(){var k,S;return O(this,function(D){switch(D.label){case 0:return[4,this._getRemoteMessages(E,{prevLimit:this._limit,source:bn.SYNC_MESSAGE_FILL})];case 1:return(k=D.sent()).length>0?(S=Math.min.apply(Math,vn([],_n(k.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(S),[2,{hasNext:k.length>=this._limit&&this.viewTop<S,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Xc(this._key,function(E){return I(c,void 0,void 0,function(){var k,S;return O(this,function(D){switch(D.label){case 0:return[4,this._getRemoteMessages(E,{nextLimit:this._limit,source:bn.SYNC_MESSAGE_FILL})];case 1:return(k=D.sent()).length>0?(S=Math.max.apply(Math,vn([],_n(k.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(S),[2,{hasNext:!(k.length>=this._limit&&this._hasNext)||this.viewBottom>S,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})});var v=ie.of(this._iid),_=v.dispatcher,y=v.logger;_.on(function(E){E instanceof fo&&(E.stateType===Tt.CONNECTED?(y.debug("check huge gap"),c._checkHugeGap()):(c._prevFill.stop(),c._nextFill.stop()))})}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return vn([],_n(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===Ft.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===Ft.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,vn(vn([],_n(this._messages.map(function(n){return n.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,vn(vn([],_n(this._messages.map(function(n){return n.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype.setMessageCollectionHandler=function(n){this._handler=n},e.prototype._filterUnderOffsetMessage=function(n){var t=this;return n.filter(function(r){return r.createdAt>=t._channel.messageOffsetTimestamp})},e.prototype._addMessagesToView=function(n,t){var r,i,o=this,u=this._filterUnderOffsetMessage(n),c=[],h=[];try{for(var f=je(u),v=f.next();!v.done;v=f.next()){var _=v.value;if(_.messageId>0){if((S=yc(this._messages,_))<0){var y=yc(this._unsentMessages,_);y<0?c.push(_):(this._unsentMessages.splice(y,1),h.push(_));var E=nU(this._messages,_);this._messages.splice(E,0,_)}else h.push(_),this._messages[S]=_;if(this._readReceiptMap.set(_.messageId,this._channel.getUnreadMemberCount(_)),this._deliveryReceiptMap.set(_.messageId,this._channel.getUndeliveredMemberCount(_)),_.updatedAt>0){var k=this._updateChildMessagesInView(_);h.push.apply(h,vn([],_n(k),!1))}}else{var S;_ instanceof Qr&&((S=yc(this._unsentMessages,_))<0?yc(this._messages,_)<0&&(this._unsentMessages.push(_),c.push(_)):(h.push(_),this._unsentMessages[S]=_))}}}catch(D){r={error:D}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}_g(t)&&Ze(function(){return I(o,void 0,void 0,function(){var D;return O(this,function(N){return D=new CE(t),c.length>0&&this._handler.onMessagesAdded(D,this.channel,c),h.length>0&&this._handler.onMessagesUpdated(D,this.channel,h),[2]})})})},e.prototype._updateChildMessagesInView=function(n){var t=[];return this._messages.forEach(function(r){r.applyParentMessage(n)&&t.push(r)}),t},e.prototype._updateMessagesToView=function(n,t){var r,i,o=this,u=[];try{for(var c=je(n),h=c.next();!h.done;h=c.next()){var f,v=h.value;if(v.messageId>0)if((f=yc(this._messages,v))>=0)u.push(v),this._messages[f]=v;else{var _=yc(this._unsentMessages,v);if(_>=0){u.push(v),this._unsentMessages.splice(_,1);var y=nU(this._messages,v);this._messages.splice(y,0,v)}}else v instanceof Qr&&(f=yc(this._unsentMessages,v))>=0&&(u.push(v),this._unsentMessages[f]=v)}}catch(E){r={error:E}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return _g(t)&&Ze(function(){return I(o,void 0,void 0,function(){var E;return O(this,function(k){return E=new CE(t),u.length>0&&this._handler.onMessagesUpdated(E,this.channel,u),[2]})})}),u},e.prototype._removeMessagesFromView=function(n,t){var r,i,o=this,u=[],c=function(_){var y=h._messages.findIndex(function(E){return E.messageId===_});y>=0&&(u.push(h._messages[y].messageId),h._messages.splice(y,1))},h=this;try{for(var f=je(n),v=f.next();!v.done;v=f.next())c(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return _g(t)&&u.length>0&&Ze(function(){return I(o,void 0,void 0,function(){var _;return O(this,function(y){return _=new CE(t),u.length>0&&this._handler.onMessagesDeleted(_,this.channel,u),[2]})})}),u},e.prototype._removeUnsentMessageFromView=function(n,t){var r=this._unsentMessages.findIndex(function(i){return i.reqId===n});r>=0&&this._unsentMessages.splice(r,1)},e.prototype._getLocalMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o;return I(this,void 0,void 0,function(){var c,h,f,v,_,y,E;return O(this,function(k){switch(k.label){case 0:return c=Yr.of(this._iid),i>0?[4,c.getMessagesFromCache(this._channel.url,n,"prev",this.filter,this._limit)]:[3,2];case 1:return f=k.sent(),[3,3];case 2:f=[],k.label=3;case 3:return h=f,u>0?[4,c.getMessagesFromCache(this._channel.url,n,"next",this.filter,this._limit)]:[3,5];case 4:return _=k.sent(),[3,6];case 5:_=[],k.label=6;case 6:if(v=_,h.length>0&&v.length){for(E in y=h.map(function(S){return S.messageId}),v)if(y.includes(v[E].messageId)){v.splice(parseInt(E),1);break}}return[2,vn(vn([],_n(h),!1),_n(v),!1).sort(function(S,D){return D.createdAt-S.createdAt})]}})})},e.prototype._getRemoteMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,u=o===void 0?0:o,c=t.source,h=c===void 0?bn.REQUEST_MESSAGE:c;return I(this,void 0,void 0,function(){var f,v;return O(this,function(_){switch(_.label){case 0:return f=fi.of(this._iid),i>0||u>0?[4,f.getMessagesByTimestamp(this._channel.url,this._channel.channelType,n,Z(Z({},this.filter),{prevResultSize:i,nextResultSize:u,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0}),h)]:[3,2];case 1:return v=_.sent(),[3,3];case 2:v=[],_.label=3;case 3:return[2,v]}})})},e.prototype._checkHugeGap=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o,u,c,h,f,v,_=this;return O(this,function(y){switch(y.label){case 0:return this._messages.length>0?(n=this.viewTop,t=this._syncRange.top,r=this._syncRange.bottom,i=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(o=Yr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,n,t)]):[3,4];case 1:return u=y.sent(),[4,o.getCachedMessageCountBetween(this._channel.url,this.filter,r,i)];case 2:return c=y.sent(),[4,l_(function(){return I(_,void 0,void 0,function(){var E,k,S,D,N,C,A,q,K,z,V,W,de,le,Ie,ye,te,he=this;return O(this,function(ce){switch(ce.label){case 0:return E=ie.of(this._iid),k=E.dispatcher,S=E.requestQueue,D=new use(Z({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:n,prevEnd:t,prevCount:u,nextStart:r,nextEnd:i,nextCount:c},this.filter)),[4,S.send(D)];case 1:return N=ce.sent(),C=N.as(cse),A=C.isHugeGap,q=C.prevMessages,K=q===void 0?[]:q,z=C.prevHasMore,V=C.nextMessages,W=V===void 0?[]:V,de=C.nextHasmore,A?Ze(function(){return I(he,void 0,void 0,function(){return O(this,function(He){return this._handler.onHugeGapDetected(),[2]})})}):(this._hasPrevious=z,this._hasNext=de,le=this.viewTop,Ie=this.viewBottom,ye=Math.min.apply(Math,vn([Number.MAX_SAFE_INTEGER],_n(K.map(function(He){return He.createdAt})),!1)),te=Math.max.apply(Math,vn([0],_n(W.map(function(He){return He.createdAt})),!1)),k.dispatch(new lr({messages:K,source:bn.SYNC_MESSAGE_FILL})),k.dispatch(new lr({messages:W,source:bn.SYNC_MESSAGE_FILL})),this._syncRange.extends(ye,te),le<ye&&this._prevFill.start(ye),Ie>te&&this._nextFill.start(te)),[2]}})})},1)];case 3:return y.sent(),[3,6];case 4:return h=Math.floor(this._limit/2),[4,this._getRemoteMessages(Date.now(),{prevLimit:h,nextLimit:h,source:bn.SYNC_MESSAGE_FILL})];case 5:(f=y.sent()).length>0&&((v=this._syncRange).extends.apply(v,vn([],_n(f.map(function(E){return E.createdAt})),!1)),f.length<h&&(this._hasPrevious=!1,this._hasNext=!1)),y.label=6;case 6:return[2]}})})},e.prototype._loadAllFailedMessages=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return[4,Yr.of(this._iid).getAllFailedMessagesFromCache(this._channel.url,this.filter)];case 1:return n=t.sent(),this._unsentMessages=n,[2,n]}})})},e.prototype.initialize=function(n){var t=this,r=new dse;this._messages=[],this._unsentMessages=[],this._syncRange=new b0({}),this._hasNext=!0,this._hasPrevious=!0;var i=Math.floor(this._limit/2);return n===ew.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u=t._filterUnderOffsetMessage(o);t._addMessagesToView(u,bn.REQUEST_MESSAGE),r._invokeResponse("local",null,u)}).catch(function(o){if(so(o))throw o;r._invokeResponse("local",o,null)}).finally(function(){t._loadAllFailedMessages(),t._getRemoteMessages(t._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var u;t._messages=[];var c=t._filterUnderOffsetMessage(o);c.length<i&&(t._hasPrevious=!1,t._hasNext=!1),c.length>0&&((u=t._syncRange).extends.apply(u,vn([],_n(c.map(function(h){return h.createdAt})),!1)),t._addMessagesToView(c,bn.REQUEST_MESSAGE)),r._invokeResponse("remote",null,c)}).catch(function(o){if(so(o))throw o;r._invokeResponse("remote",o,null)})}),r},e.prototype.loadPrevious=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o=this;return O(this,function(u){switch(u.label){case 0:return this._hasPrevious?(n=this.viewTop,t=[],[4,Ms(function(){return I(o,void 0,void 0,function(){var c;return O(this,function(h){switch(h.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{prevLimit:this._limit})];case 1:return t=c.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return u.sent(),r=SE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ms(function(){return I(o,void 0,void 0,function(){var c,h;return O(this,function(f){switch(f.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{prevLimit:this._limit})];case 1:return t=c.apply(this,[f.sent()]),this._hasPrevious=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,vn([],_n(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.top)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,bn.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,vn([],_n(t.map(function(c){return c.createdAt})),!1)),this._addMessagesToView(t,bn.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return I(this,void 0,void 0,function(){var n,t,r,i,o=this;return O(this,function(u){switch(u.label){case 0:return n=this.viewBottom,t=[],[4,Ms(function(){return I(o,void 0,void 0,function(){var c;return O(this,function(h){switch(h.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{nextLimit:this._limit})];case 1:return t=c.apply(this,[h.sent()]),[2]}})})})];case 1:return u.sent(),r=SE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ms(function(){return I(o,void 0,void 0,function(){var c,h;return O(this,function(f){switch(f.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{nextLimit:this._limit})];case 1:return t=c.apply(this,[f.sent()]),this._hasNext=t.length>=this._limit,t.length>0&&((h=this._syncRange).extends.apply(h,vn([],_n(t.map(function(v){return v.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.bottom)),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(t,bn.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,vn([],_n(t.map(function(c){return c.createdAt})),!1)),this._addMessagesToView(t,bn.REQUEST_MESSAGE)),u.label=4;case 4:return[2,t]}})})},e.prototype.removeFailedMessage=function(n){return I(this,void 0,void 0,function(){var t;return O(this,function(r){switch(r.label){case 0:return[4,Yr.of(this._iid).removeFailedMessageFromCache(n)];case 1:return r.sent(),(t=this._unsentMessages.findIndex(function(i){return i.reqId===n}))>-1&&this._unsentMessages.splice(t,1),[2]}})})},e.prototype.dispose=function(){var n=Yr.of(this._iid);n.unsubscribeGroupChannelEvent(this._key),n.unsubscribeMessageEvent(this._key)},e}(),pse={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},fse={hidePreviousMessages:!1,allowAutoUnhide:!0},mse=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,u=t.limit,c=t.order,h=t.mutedMemberFilter,f=t.memberStateFilter,v=t.nicknameStartsWithFilter,_=t.operatorFilter;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/members"),r.params={token:o,limit:u,order:c,muted_member_filter:h,member_state_filter:f,nickname_startswith:v,operator_filter:_,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return B(n,e),n}(De),gse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.members=[];var o=r.next,u=r.members;return i.token=o,u&&u.length>0&&(i.members=u.map(function(c){return new uo(t,c)})),i}return B(n,e),n}(Fe);(function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"})(Gf||(Gf={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(zf||(zf={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}($f||($f={}));var vse=function(e){function n(t,r,i){var o,u,c,h,f=this;return(f=e.call(this,t,r,kt.GROUP,i)||this).mutedMemberFilter=Gf.ALL,f.memberStateFilter=$f.ALL,f.nicknameStartsWithFilter=null,f.operatorFilter=Tv.ALL,f.order=zf.MEMBER_NICKNAME_ALPHABETICAL,f.mutedMemberFilter=(o=i.mutedMemberFilter)!==null&&o!==void 0?o:Gf.ALL,f.memberStateFilter=(u=i.memberStateFilter)!==null&&u!==void 0?u:$f.ALL,f.nicknameStartsWithFilter=(c=i.nicknameStartsWithFilter)!==null&&c!==void 0?c:null,f.order=(h=i.order)!==null&&h!==void 0?h:zf.MEMBER_NICKNAME_ALPHABETICAL,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Cn(Gf,this.mutedMemberFilter)&&Cn($f,this.memberStateFilter)&&(J("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&Cn(Tv,this.operatorFilter)&&Cn(zf,this.order)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new mse(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(gse),u=o.members,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Gh),_se=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,u=t.accessCode;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/accept"),r.params={user_id:o,access_code:u},r}return B(n,e),n}(De),bse=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i.channel.myMemberState=Pr.JOINED,i}return B(n,e),n}(Fe),yse=function(e){function n(t){var r=this,i=t.channelUrl,o=t.isDistinct,u=t.isPublic,c=t.isDiscoverable,h=t.coverUrl,f=t.coverImage,v=t.accessCode,_=t.name,y=t.data,E=t.customType,k=t.operatorUserIds,S=t.messageSurvivalSeconds;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i)),r.params=En({is_distinct:o,is_public:u,is_discoverable:c,name:_,data:y,custom_type:E,cover_url:h,cover_file:f,access_code:v,operator_ids:k,message_survival_seconds:S}),r}return B(n,e),n}(De),Ese=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new hs(t,r),i}return B(n,e),n}(Fe),wse=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(qi,"/").concat(encodeURIComponent(i)),r}return B(n,e),n}(De);(function(e){function n(t,r){return e.call(this,t,r)||this}B(n,e)})(Fe);var xse=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Re.DELETE,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/hide"),r}return B(n,e),n}(De);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}B(n,e)})(Fe);var kse=function(e){function n(t){var r=t.userId,i=t.channelUrl,o=t.countPreference,u=e.call(this)||this;return u.method=Re.PUT,u.path="".concat(et,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(i)),u.params={count_preference:o},u}return B(n,e),n}(De),Cse=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.countPreference=La[r.count_preference],i}return B(n,e),n}(Fe),Sse=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=Re.PUT,r.path="".concat(qi,"/").concat(encodeURIComponent(i),"/reset_user_history"),r}return B(n,e),n}(De),Nse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return B(n,e),n}(Fe),Tse=Z(Z({},z3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Ise=Z(Z({},uF),{scheduledAt:null}),Ose=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===vi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,c=t.channelUrl,h=t.scheduledMessageId;return i.method=Re.PUT,i.path="".concat(vt(u),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Sh.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(f){return u_.payloadify(f)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return va.payloadify(f)}),apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(De),Ase=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Jr(t,r),i}return B(n,e),n}(Fe),Rse=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===vi.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var u=t.channelType,c=t.channelUrl,h=t.scheduledMessageId;return i.method=Re.PUT,i.path="".concat(vt(u),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(h)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Sh.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return va.payloadify(f)}),apple_critical_alert_options:Fo.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return B(n,e),n}(De);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new ri(t,r),i}B(n,e)})(Fe);var La,fl,Pa,Mse=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Re.DELETE,r.path="".concat(vt(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u)),r}return B(n,e),n}(De),Dse=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,u=t.scheduledMessageId;return r.method=Re.POST,r.path="".concat(vt(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u),"/send_now"),r}return B(n,e),n}(De);(function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"})(La||(La={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(fl||(fl={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Pa||(Pa={}));var jf,hs=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q,K,z=this;return(z=e.call(this,t,r)||this)._unreadMemberStateMap=new Map,z._undeliveredMemberStateMap=new Map,z._typingStatus=new Map,z._lastMemberCountUpdated=0,z._typingStarted=0,z._typingEnded=0,z.isDistinct=!1,z.isSuper=!1,z.isBroadcast=!1,z.isExclusive=!1,z.isPublic=!1,z.isDiscoverable=!0,z.isAccessCodeRequired=!1,z.isPushEnabled=!1,z.unreadMessageCount=0,z.unreadMentionCount=0,z.members=[],z.memberCount=0,z.joinedMemberCount=0,z.hiddenState=Pa.UNHIDDEN,z.lastMessage=null,z.messageOffsetTimestamp=0,z.messageSurvivalSeconds=-1,z.myMemberState=Pr.NONE,z.myRole=Rs.NONE,z.myMutedState=fl.UNMUTED,z.myLastRead=0,z.myCountPreference=La.ALL,z.myPushTriggerOption=Dc.DEFAULT,z.inviter=null,z.invitedAt=0,z.joinedAt=0,z.channelType=kt.GROUP,z.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,z.isSuper=(u=r.is_super)!==null&&u!==void 0&&u,z.isBroadcast=(c=r.is_broadcast)!==null&&c!==void 0&&c,z.isExclusive=(h=r.is_exclusive)!==null&&h!==void 0&&h,z.isPublic=(f=r.is_public)!==null&&f!==void 0&&f,z.isDiscoverable=(v=r.is_discoverable)!==null&&v!==void 0?v:z.isPublic,z.isAccessCodeRequired=(_=r.is_access_code_required)!==null&&_!==void 0&&_,z.isPushEnabled=(y=r.is_push_enabled)!==null&&y!==void 0&&y,Array.isArray(r.members)&&(i=z.members).push.apply(i,vn([],_n(r.members.map(function(V){return new uo(z._iid,V)})),!1)),z.memberCount=(E=r.member_count)!==null&&E!==void 0?E:0,z.joinedMemberCount=(k=r.joined_member_count)!==null&&k!==void 0?k:0,z.hiddenState=Cn(Pa,r.hidden_state)?r.hidden_state:Pa.UNHIDDEN,z.messageOffsetTimestamp=(S=r.ts_message_offset)!==null&&S!==void 0?S:0,z.messageSurvivalSeconds=(D=r.message_survival_seconds)!==null&&D!==void 0?D:-1,z.lastMessage=r.last_message?Hs(z._iid,Z({channel_type:z.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(V){J("number",r.read_receipt[V])&&z._updateUnreadMemberState(V,r.read_receipt[V])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(V){J("number",r.delivery_receipt[V])&&z._updateUndeliveredMemberState(V,r.delivery_receipt[V])}),z.myMemberState=Cn(Pr,r.member_state)?r.member_state:Pr.NONE,z.myRole=Cn(Rs,r.my_role)?r.my_role:Rs.NONE,Cn(fl,r.is_muted)?z.myMutedState=r.is_muted:J("boolean",r.is_muted)?z.myMutedState=r.is_muted?fl.MUTED:fl.UNMUTED:z.myMutedState=fl.UNMUTED,z.myCountPreference=Cn(La,r.count_preference)?r.count_preference:La.ALL,z.myPushTriggerOption=Cn(Dc,r.push_trigger_option)?r.push_trigger_option:Dc.ALL,z.myLastRead=(N=r.user_last_read)!==null&&N!==void 0?N:0,z.inviter=r.inviter?new An(z._iid,r.inviter):null,z.invitedAt=(C=r.invited_at)!==null&&C!==void 0?C:0,z.joinedAt=(A=r.joined_ts)!==null&&A!==void 0?A:0,z._updateUnreadCount((q=r.unread_message_count)!==null&&q!==void 0?q:0,(K=r.unread_mention_count)!==null&&K!==void 0?K:0),z}return B(n,e),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.hiddenState!==Pa.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return Object.keys(this._typingStatus).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUnreadMemberState",{get:function(){var t,r,i={};try{for(var o=je(this._unreadMemberStateMap),u=o.next();!u.done;u=o.next()){var c=_n(u.value,2),h=c[0],f=c[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUndeliveredMemberState",{get:function(){var t,r,i={};try{for(var o=je(this._undeliveredMemberStateMap),u=o.next();!u.done;u=o.next()){var c=_n(u.value,2),h=c[0],f=c[1];i[h]=f}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?En(Z(Z({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map(function(r){return uo.payloadify(r)}),last_message:d_(t.lastMessage),inviter:t.inviter?An.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt})):null},n.prototype._updateUnreadCount=function(t,r){if(typeof t=="number"&&t>=0)if(this.myCountPreference===La.ALL||this.myCountPreference===La.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var i=ie.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=i&&t>=i?i:t}else this.unreadMessageCount=t;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===La.ALL||this.myCountPreference===La.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},n.prototype._updateUnreadMemberState=function(t,r){var i=this._unreadMemberStateMap.get(t);return(!i||i<r)&&(this._unreadMemberStateMap.set(t,r),ie.of(this._iid).sdkState.userId===t&&(this.myLastRead=r),!0)},n.prototype._updateUndeliveredMemberState=function(t,r){var i=this._undeliveredMemberStateMap.get(t);(!i||i<r)&&this._undeliveredMemberStateMap.set(t,r)},n.prototype._updateTypingStatus=function(t,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus[t.userId]={user:t,ts:r}:delete this._typingStatus[t.userId]},n.prototype._invalidateTypingStatus=function(){var t=new Date().getTime(),r=!1;for(var i in this._typingStatus)t-this._typingStatus[i].ts>=1e4&&(delete this._typingStatus[i],r=!0);return r},n.prototype._setLatestMemberCount=function(t,r,i){var o=!1;return i>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=i,o=t!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=t,this.joinedMemberCount=r),o},n.prototype.isReadMessage=function(t){var r=ie.of(this._iid).sdkState,i=this._unreadMemberStateMap.get(r.userId);return i&&i>=t.createdAt},n.prototype.serialize=function(){var t=this;return I0(this,function(r){r.cachedUnreadMemberState=t.cachedUnreadMemberState,r.cachedUndeliveredMemberState=t.cachedUndeliveredMemberState})},n.prototype.createMessageCollection=function(t){return t===void 0&&(t={}),new hse(this._iid,Z({channel:this},t))},n.prototype.createMemberListQuery=function(t){return t===void 0&&(t={}),new vse(this._iid,this.url,t)},n.prototype.addMember=function(t,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var i=this.members.findIndex(function(u){return u.userId===t.userId});if(i>-1){var o=this.members[i];o.state===Pr.JOINED&&(t.state=o.state),this.members.splice(i,1),this.memberCount--}this.members.push(t),this.memberCount++,this._updateUnreadMemberState(t.userId,r),this._updateUndeliveredMemberState(t.userId,r)}},n.prototype.removeMember=function(t){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=this.members.findIndex(function(i){return i.userId===t.userId});if(r>-1)return this.members.splice(r,1),this.memberCount--,!0}return!1},n.prototype.getUnreadMemberCount=function(t){var r,i;if(t instanceof Qr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=ie.of(this._iid).sdkState,u=t.createdAt,c=0;try{for(var h=je(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Pr.JOINED&&t.sender.userId!==v.userId&&(this.cachedUnreadMemberState[v.userId]||0)<u&&c++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c}return 0},n.prototype.getUndeliveredMemberCount=function(t){var r,i;if(t instanceof Qr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=ie.of(this._iid).sdkState,u=t.createdAt,c=0;try{for(var h=je(this.members),f=h.next();!f.done;f=h.next()){var v=f.value;o.userId!==v.userId&&v.state===Pr.JOINED&&t.sender.userId!==v.userId&&(this.cachedUndeliveredMemberState[v.userId]||0)<u&&c++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c}return 0},n.prototype.getReadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=ie.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(c){(r||c.userId!==o.userId&&c.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(c.userId)>=t.createdAt&&u.push(c)}),u},n.prototype.getUnreadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=ie.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=[];return this.members.forEach(function(c){(r||c.userId!==o.userId&&c.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(c.userId)<t.createdAt&&u.push(c)}),u},n.prototype.getReadStatus=function(t){var r=this;t===void 0&&(t=!1);var i=ie.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(u){if(t||u.userId!==i.userId){var c=r._unreadMemberStateMap.get(u.userId);o[u.userId]=new VF(r._iid,{channel_url:r.url,channel_type:r.channelType,user:uo.payloadify(u),ts:c})}}),o},n.prototype.getTypingUsers=function(){var t=[];for(var r in this._typingStatus){var i=this._typingStatus[r].user;t.push(i)}return t},n.prototype.invalidateTypingStatus=function(){var t=ie.of(this._iid).typingIndicatorInvalidateTime,r=new Date().getTime(),i=!1;for(var o in this._typingStatus)r-this._typingStatus[o].ts>=t&&(delete this._typingStatus[o],i=!0);return i},n.prototype.refresh=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.requestQueue,i=t.dispatcher,o=new YF({channelUrl:this.url}),[4,r.send(o)];case 1:return u=h.sent(),c=u.as(XF).channel,i.dispatch(new rt({channels:[c],source:wn.REQUEST_CHANNEL})),[2,c]}})})},n.prototype.freeze=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),ie.of(this._iid).dispatcher.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_HIDDEN})),[2]}})})},n.prototype.unfreeze=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),ie.of(this._iid).dispatcher.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},n.prototype.updateChannel=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return t=Z(Z({},pse),t),qe(function(v){return J("string",v.coverUrl,!0)&&(Ui(v.coverImage)||J("string",v.coverImage)||v.coverImage===null)&&J("boolean",v.isDistinct,!0)&&J("boolean",v.isPublic,!0)&&J("boolean",v.isDiscoverable,!0)&&J("string",v.accessCode,!0)&&J("string",v.name,!0)&&J("string",v.data,!0)&&J("string",v.customType,!0)&&Sn("string",v.operatorUserIds,!0)&&J("number",v.messageSurvivalSeconds,!0)}(t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new yse(Z({channelUrl:this.url},t)),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(Ese).channel,i.dispatch(new rt({channels:[h],source:wn.EVENT_CHANNEL_UPDATED})),[2,h]}})})},n.prototype.invite=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return qe(t.every(function(i){return i instanceof An})).throw(oe.invalidParameters),[2,this.inviteWithUserIds(t.map(function(i){return i.userId}))]})})},n.prototype.inviteWithUserIds=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h;return O(this,function(f){switch(f.label){case 0:return qe(Sn("string",t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.requestQueue,u=new $ae({channelUrl:this.url,userIds:t}),[4,o.send(u)];case 1:return c=f.sent(),h=c.as(jae).channel,i.dispatch(new rt({channels:[h],source:wn.EVENT_CHANNEL_INVITED})),[2,h]}})})},n.prototype.join=function(t){return t===void 0&&(t=null),I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return qe(J("string",t)||t===null).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new Hae({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(c)];case 1:return h=v.sent(),(f=h.as(qae).channel).myMemberState=Pr.JOINED,i.dispatch(new rt({channels:[f],source:wn.EVENT_CHANNEL_JOINED})),[2,this]}})})},n.prototype.leave=function(t){return t===void 0&&(t=!1),I(this,void 0,void 0,function(){var r,i,o,u;return O(this,function(c){switch(c.label){case 0:return r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new Gae({channelUrl:this.url,userId:i.userId,shouldRemoveOperatorStatus:t}),[4,o.send(u)];case 1:return c.sent(),[2]}})})},n.prototype.acceptInvitation=function(t){return t===void 0&&(t=null),I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return qe(J("string",t)||t===null).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new _se({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,u.send(c)];case 1:return h=v.sent(),(f=h.as(bse).channel).myMemberState=Pr.JOINED,i.dispatch(new rt({channels:[f],source:wn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,f]}})})},n.prototype.declineInvitation=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Wae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u=h.sent(),(c=u.as(Kae).channel).myMemberState=Pr.NONE,[2,c]}})})},n.prototype.sendUserMessage=function(t){var r=this,i=new cl,o=ie.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Yr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new rt({channels:[r],source:wn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype._autoResendUserMessage=function(t){var r=this,i=new cl,o=ie.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Yr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new rt({channels:[r],source:wn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype.sendFileMessage=function(t){var r=this,i=new cl,o=ie.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){h&&u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Yr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new rt({channels:[r],source:wn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype._autoResendFileMessage=function(t){var r=this,i=new cl,o=ie.of(this._iid).dispatcher,u=uh.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending(function(c){u.completeCurrentAndProcessNextAutoResend(c),i._trigger(null,c)}).onFailed(function(c,h){u.completeCurrentAndProcessNextAutoResend(h),i._trigger(c,h)}).onSucceeded(function(c){var h=Yr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(c),r.lastMessage=c,h.handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new rt({channels:[r],source:wn.EVENT_MESSAGE_SENT})),i._trigger(null,c)}),i},n.prototype.deleteMessage=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return r.sent(),t.messageId===0&&ie.of(this._iid).dispatcher.dispatch(new sF({reqId:t.reqId,source:bn.EVENT_MESSAGE_DELETED})),[2]}})})},n.prototype.hide=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return t=Z(Z({},fse),t),qe(function(_){return J("boolean",_.hidePreviousMessages)&&J("boolean",_.allowAutoUnhide)}(t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new Zae(Z({channelUrl:this.url,userId:o.userId},t)),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(ese).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?Pa.HIDDEN_ALLOW_AUTO_UNHIDE:Pa.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),f&&(this.messageOffsetTimestamp=f),i.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},n.prototype.unhide=function(){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new xse({channelUrl:this.url}),[4,i.send(o)];case 1:return u.sent(),this.hiddenState=Pa.UNHIDDEN,r.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},n.prototype.delete=function(){return I(this,void 0,void 0,function(){var t,r;return O(this,function(i){switch(i.label){case 0:return t=ie.of(this._iid).requestQueue,r=new wse({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f=this;return O(this,function(v){switch(v.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.dispatcher,o=t.requestQueue,u=new Yae({channelUrl:this.url}),[4,o.send(u)];case 1:return c=v.sent(),h=c.as(JF).readStatus,this._updateUnreadMemberState(r.userId,h.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Yr.of(this._iid).handlers.map(function(_){return _.onChannelChanged(f)})),i.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_READ})),[2]}})})},n.prototype.markAsDelivered=function(){return I(this,void 0,void 0,function(){var t,r,i,o;return O(this,function(u){switch(u.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Xae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.startTyping=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){return t=ie.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=i&&(this._typingStarted=o,this._typingEnded=0,u=new tse({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},n.prototype.endTyping=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){return t=ie.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=i&&(this._typingStarted=0,this._typingEnded=o,u=new ise({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},n.prototype.createScheduledUserMessage=function(t){t=Z(Z({},Are),t),qe(Rre(t)).throw(oe.invalidParameters);var r=new cl;return this._createScheduledUserMessage(t,r),r},n.prototype.updateScheduledUserMessage=function(t,r){return I(this,void 0,void 0,function(){var i,o,u;return O(this,function(c){switch(c.label){case 0:return r=Z(Z({},Ise),r),qe(function(h){return cF(h)&&J("number",h.scheduledAt,!0)}(r)).throw(oe.invalidParameters),i=ie.of(this._iid).requestQueue,o=new Rse(Z({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r)),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(bF).message]}})})},n.prototype.createScheduledFileMessage=function(t){var r=this;t=Z(Z({},Mre),t),qe(Dre(t)).throw(oe.invalidParameters);var i=ie.of(this._iid).dispatcher,o=Date.now(),u=this._generateRequestId(),c=new cl;return Cs(Nre).then(function(){var h=r._createPendingScheduledFileMessage(t,u,o);i.dispatch(new lr({messages:[h],source:bn.EVENT_MESSAGE_SENT_PENDING})),Ze(function(){return I(r,void 0,void 0,function(){return O(this,function(f){return[2,c._trigger(null,h)]})})})}),Ui(t.file)?this._uploadFileAndUpdateParams(t).then(function(){return r._createScheduledFileMessage(t,c,u,o)}):this._createScheduledFileMessage(t,c,u,o),c},n.prototype.updateScheduledFileMessage=function(t,r){return I(this,void 0,void 0,function(){var i,o;return O(this,function(u){switch(u.label){case 0:return r=Z(Z({},Tse),r),qe(function(c){return $3(c)&&J("number",c.scheduledAt,!0)&&(Ui(c.file)||J("string",c.fileUrl))&&J("string",c.fileName,!0)&&J("string",c.mimeType,!0)&&J("number",c.fileSize,!0)&&(c.thumbnailSizes===null||c.thumbnailSizes.every(function(h){return J("object",h)&&h.maxWidth>0&&h.maxHeight>0}))}(r)).throw(oe.invalidParameters),Ui(r.file)?[4,this._uploadFileAndUpdateParams(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return i=new Ose(Z(Z({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r),{fileUrl:r.fileUrl,requireAuth:r.requireAuth})),[4,ie.of(this._iid).requestQueue.send(i)];case 3:return o=u.sent(),[2,o.as(Ase).message]}})})},n.prototype.cancelScheduledMessage=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r=new Mse({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ie.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.sendScheduledMessageNow=function(t){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r=new Dse({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ie.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.getMyPushTriggerOption=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u;return O(this,function(c){switch(c.label){case 0:return t=ie.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new NF({userId:r.userId}),[4,i.send(o)];case 1:return u=c.sent(),[2,u.as(TF).pushTriggerOption]}})})},n.prototype.setMyPushTriggerOption=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return qe(Cn(Dc,t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.sdkState,o=r.requestQueue,u=new IF({userId:i.userId,pushTriggerOption:t}),[4,o.send(u)];case 1:return c=h.sent(),[2,c.as(OF).pushTriggerOption]}})})},n.prototype.setMyCountPreference=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f;return O(this,function(v){switch(v.label){case 0:return qe(Cn(La,t)).throw(oe.invalidParameters),r=ie.of(this._iid),i=r.dispatcher,o=r.sdkState,u=r.requestQueue,c=new kse({channelUrl:this.url,userId:o.userId,countPreference:t}),[4,u.send(c)];case 1:return h=v.sent(),f=h.as(Cse).countPreference,this.myCountPreference=f,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),i.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_CREATED})),[2,f]}})})},n.prototype.resetMyHistory=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return t=ie.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new Sse({channelUrl:this.url}),[4,i.send(o)];case 1:return u=h.sent(),c=u.as(Nse).messageOffsetTimestamp,this.messageOffsetTimestamp=c,r.dispatch(new rt({channels:[this],source:wn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},n.prototype._uploadFileAndUpdateParams=function(t){return I(this,void 0,void 0,function(){var r,i,o,u,c,h,f,v,_,y,E;return O(this,function(k){switch(k.label){case 0:return Ui(t.file)?(r=ie.of(this._iid).requestQueue,i=new rF({file:t.file,channelUrl:this.url,thumbnailSizes:t.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(i)]):[3,2];case 1:o=k.sent(),u=o.as(iF),c=u.url,h=u.fileSize,f=h===void 0?t.fileSize:h,v=u.thumbnailSizes,_=v===void 0?t.thumbnailSizes:v,y=u.requireAuth,E=y!==void 0&&y,t.fileUrl=c,t.fileSize=f,t.thumbnailSizes=_,t.requireAuth=E,k.label=2;case 2:return[2]}})})},n}(V2),NE={},tU=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadata=null,this._iid=t;var i,o=ie.of(this._iid),u=o.sdkState,c=o.logger;this._metadataKey=(i=u.userId,"sendbird:".concat(i,"@groupchannel/sync.meta"));var h=function(f){return"sendbird:".concat(f,"@groupchannel/sync")}(u.userId);this._sync=new Xc(h,function(){return I(r,void 0,void 0,function(){var f,v,_,y,E,k;return O(this,function(S){switch(S.label){case 0:return f={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(S.sent(),c.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];S.label=2;case 2:return S.trys.push([2,5,,8]),[4,Yr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:Zr.CHRONOLOGICAL},100,wn.SYNC_CHANNEL_BACKGROUND)];case 3:return v=S.sent(),_=v.channels,y=v.token,f.hasNext=_.length>=100&&!!y,f.nextToken=y,this._metadata.token=y,(k=this._metadata.range).extends.apply(k,vn([],_n(_.map(function(D){return D.createdAt})),!1)),this._metadata.completed=!f.hasNext,c.debug("channel background sync progress",f),[4,this.saveMetadata()];case 4:return S.sent(),[3,8];case 5:return(E=S.sent())instanceof oe&&E.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:S.sent(),S.label=7;case 7:return f.hasNext=!1,f.nextToken="",[3,8];case 8:return[3,10];case 9:f.hasNext=!1,f.nextToken="",S.label=10;case 10:return[2,f]}})})})}return e.of=function(n){if(!NE[n]){var t=NE[n]=new e({_iid:n});ie.of(n).dispatcher.on(function(r){r instanceof fo&&(r.stateType===Tt.CONNECTED?t.resume():t.pause())})}return NE[n]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return I(this,void 0,void 0,function(){var n;return O(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ie.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={token:n?n.token:"",range:new b0(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!n&&n.completed},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetaData=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,ie.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),[2]}})})},e.prototype.resume=function(){var n,t;ie.of(this._iid).logger.debug("channel background sync resume()"),this._sync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.token)!==null&&t!==void 0?t:"")},e.prototype.pause=function(){ie.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e}(),TE={},Use=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadataKey=null,this._metadata=null,this._iid=t;var i,o=ie.of(this._iid).sdkState;this._metadataKey=(i=o.userId,"sendbird:".concat(i,"@groupchannel/changelogs.meta"));var u=function(c){return"sendbird:".concat(c,"@groupchannel/changelogs")}(o.userId);this._sync=new Xc(u,function(){return I(r,void 0,void 0,function(){var c,h,f,v,_;return O(this,function(y){switch(y.label){case 0:return c={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,5,,8]),[4,Yr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},wn.SYNC_CHANNEL_CHANGELOGS)];case 3:return h=y.sent(),f=h.hasMore,v=h.token,c.hasNext=f,c.nextToken=v,this._metadata.token=v,[4,this.saveMetadata()];case 4:return y.sent(),[3,8];case 5:return(_=y.sent())instanceof oe&&_.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:y.sent(),y.label=7;case 7:return c.hasNext=!1,c.nextToken="",[3,8];case 8:return[2,c]}})})})}return e.of=function(n){if(!TE[n]){var t=TE[n]=new e({_iid:n});ie.of(n).dispatcher.on(function(r){r instanceof fo&&(r.stateType===Tt.CONNECTED?t.resume():t.pause())})}return TE[n]},e.prototype.loadMetadata=function(){return I(this,void 0,void 0,function(){var n,t,r,i;return O(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=ie.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this._metadata?[4,ie.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return I(this,void 0,void 0,function(){return O(this,function(n){return ie.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),Lse=function(){function e(n,t){var r=t.filter,i=t.order,o=t.limit,u=this;this.channels=[],this._iid=n,this._key="gcc-".concat(As()),this.filter=r!=null?r:new WF,this.order=i!=null?i:Zr.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o!=null?o:yF;var c=ie.of(this._iid),h=c.sdkState;c.cacheContext.localCacheEnabled&&tU.of(n).resume(),Use.of(n).resume(),Yr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(f,v){var _=f.filter(function(E){return u.filter.match(E,h.userId)}),y=f.filter(function(E){return!u.filter.match(E,h.userId)}).map(function(E){return E.url});_.length>0&&u._addChannelsToView(_,v),y.length>0&&u._removeChannelsFromView(y,v)},onRemove:function(f,v){u._removeChannelsFromView(f,v)}})}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(n){this._handler=n},e.prototype._addChannelsToView=function(n,t,r){var i,o,u=this;r===void 0&&(r=!1);var c=[],h=[];try{for(var f=je(n),v=f.next();!v.done;v=f.next()){var _=v.value,y=ZD(this.channels,_,this.order),E=y.place;if(y.contains)switch(h.push(_),t){case wn.EVENT_CHANNEL_UPDATED:case wn.EVENT_MESSAGE_RECEIVED:this.channels.splice(E,1);var k=ZD(this.channels,_,this.order).place;this.channels.splice(k,0,_);break;default:this.channels[E]=_}else if(E===this.channels.length){var S=tU.of(this._iid);(r||S.completed)&&(c.push(_),this.channels.push(_))}else c.push(_),this.channels.splice(E,0,_)}}catch(D){i={error:D}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}QD(t)&&Ze(function(){return I(u,void 0,void 0,function(){var D;return O(this,function(N){return D=new Ov(t),c.length>0&&this._handler.onChannelsAdded(D,c),h.length>0&&this._handler.onChannelsUpdated(D,h),[2]})})})},e.prototype._removeChannelsFromView=function(n,t){var r,i,o=this,u=[],c=function(_){var y=h.channels.findIndex(function(E){return E.url===_});y>=0&&(u.push(h.channels[y].url),h.channels.splice(y,1))},h=this;try{for(var f=je(n),v=f.next();!v.done;v=f.next())c(v.value)}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return QD(t)&&u.length>0&&Ze(function(){return I(o,void 0,void 0,function(){var _;return O(this,function(y){return _=new Ov(t),this._handler.onChannelsDeleted(_,u),[2]})})}),u},e.prototype._getLocalChannels=function(){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,Yr.of(this._iid).getChannelsFromCache(this._token,this.filter,this.order)];case 1:return[2,n.sent()]}})})},e.prototype._getRemoteChannels=function(){return I(this,void 0,void 0,function(){var n,t,r;return O(this,function(i){switch(i.label){case 0:return[4,Yr.of(this._iid).getMyGroupChannels(this._token,Z(Z({},this.filter),{order:this.order}),this._limit)];case 1:return n=i.sent(),t=n.channels,r=n.token,this._token=r,[2,t]}})})},e.prototype.loadMore=function(){return I(this,void 0,void 0,function(){var n,t=this;return O(this,function(r){switch(r.label){case 0:return this._hasMore?(n=[],[4,Ms(function(){return I(t,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this._getLocalChannels()];case 1:return n=i.sent(),[2]}})})})]):[3,3];case 1:return r.sent(),[4,Ms(function(){return I(t,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this._getRemoteChannels()];case 1:return n=i.sent(),[2]}})})})];case 2:return r.sent(),this._addChannelsToView(n,wn.REQUEST_CHANNEL,!0),[2,n];case 3:return[2,[]]}})})},e.prototype.dispose=function(){Yr.of(this._iid).unsubscribeGroupChannelEvent(this._key)},e}(),Pse=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.order,c=t.includeEmpty,h=t.membershipFilter,f=t.channelNameContainsFilter,v=t.channelUrlsFilter,_=t.customTypesFilter,y=t.customTypeStartsWithFilter,E=t.superChannelFilter,k=t.metadataOrderKeyFilter,S=t.metadataKey,D=t.metadataValues,N=t.metadataValueStartsWith,C=t.includeFrozen,A=t.includeMetaData;return(r=e.call(this)||this).method=Re.GET,r.path=qi,r.params=En({token:i,limit:o,order:u,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:c,public_mode:xl.PUBLIC,public_membership_mode:h,name_contains:f,channel_urls:v,custom_types:_,custom_type_startswith:y,super_mode:E,metadata_order_key:k,metadata_key:S,metadata_values:D,metadata_value_startswith:N,show_frozen:C,show_metadata:A}),r}return B(n,e),n}(De),Fse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,u=r.channels,c=r.ts;return i.token=o,u&&u.length>0&&(i.channels=u.map(function(h){return h.ts=c,new hs(t,h)})),i.ts=typeof c=="number"?c:null,i}return B(n,e),n}(Fe);(function(e){e.ALL="all",e.JOINED="joined"})(jf||(jf={}));var Hse=function(e){function n(t,r){var i,o,u,c,h,f,v,_,y,E,k,S,D,N,C=this;return(C=e.call(this,t,r)||this).includeEmpty=!1,C.includeFrozen=!0,C.includeMetaData=!0,C.channelUrlsFilter=null,C.customTypesFilter=null,C.customTypeStartsWithFilter=null,C.nicknameContainsFilter=null,C.channelNameContainsFilter=null,C.membershipFilter=jf.ALL,C.superChannelFilter=Va.ALL,C.metadataKey=null,C.metadataValues=null,C.metadataOrderKeyFilter=null,C.metadataValueStartsWith=null,C.order=qf.CHRONOLOGICAL,C.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,C.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,C.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,C.channelUrlsFilter=(c=r.channelUrlsFilter)!==null&&c!==void 0?c:null,C.customTypesFilter=(h=r.customTypesFilter)!==null&&h!==void 0?h:null,C.customTypeStartsWithFilter=(f=r.customTypeStartsWithFilter)!==null&&f!==void 0?f:null,C.channelNameContainsFilter=(v=r.channelNameContainsFilter)!==null&&v!==void 0?v:null,C.membershipFilter=(_=r.membershipFilter)!==null&&_!==void 0?_:jf.ALL,C.superChannelFilter=(y=r.superChannelFilter)!==null&&y!==void 0?y:Va.ALL,C.metadataKey=(E=r.metadataKey)!==null&&E!==void 0?E:null,C.metadataValues=(k=r.metadataValues)!==null&&k!==void 0?k:null,C.metadataOrderKeyFilter=(S=r.metadataOrderKeyFilter)!==null&&S!==void 0?S:null,C.metadataValueStartsWith=(D=r.metadataValueStartsWith)!==null&&D!==void 0?D:null,C.order=(N=r.order)!==null&&N!==void 0?N:qf.CHRONOLOGICAL,C}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("boolean",this.includeEmpty)&&J("boolean",this.includeFrozen)&&J("boolean",this.includeMetaData)&&J("string",this.channelNameContainsFilter,!0)&&Sn("string",this.channelUrlsFilter,!0)&&Sn("string",this.customTypesFilter,!0)&&J("string",this.customTypeStartsWithFilter,!0)&&Cn(jf,this.membershipFilter)&&Cn(Va,this.superChannelFilter)&&Cn(qf,this.order)&&J("string",this.metadataOrderKeyFilter,!0)&&J("string",this.metadataKey,!0)&&Sn("string",this.metadataValues,!0)&&J("string",this.metadataValueStartsWith,!0)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c,h,f,v;return O(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ie.of(this._iid),i=r.requestQueue,o=r.dispatcher,u=new Pse(Z(Z({},this),{token:this._token})),[4,i.send(u)]):[3,2]):[3,5];case 1:return c=_.sent(),h=c.as(Fse),f=h.channels,v=h.token,this._token=v,this._hasNext=!!v,o.dispatch(new rt({channels:f,source:wn.REQUEST_CHANNEL})),this._isLoading=!1,[2,f];case 2:return[2,t];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),qse=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return B(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserJoined=Mn,t.onUserLeft=Mn,t.onUserReceivedInvitation=Mn,t.onUserDeclinedInvitation=Mn,t.onChannelHidden=Mn,t.onUnreadMemberStatusUpdated=Mn,t.onUndeliveredMemberStatusUpdated=Mn,t.onTypingStatusUpdated=Mn,t}return B(n,e),n}(GF)),Bse=function(e){function n(t){var r=this,i=t.token,o=t.limit,u=t.order,c=t.reverse,h=t.channelUrl,f=t.messageTypeFilter,v=t.scheduledStatus;return(r=e.call(this)||this).method=Re.GET,r.path="".concat(J7),r.params=En({limit:o,reverse:c,channel_url:h,order:u,status:v}),i&&(r.params.token=i),f&&(r.params.message_type_filter=f),r}return B(n,e),n}(De),Gse=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.scheduledMessages=[];var o=r.next,u=r.scheduled_messages;return i.token=o,i.scheduledMessages=u.map(function(c){return Hs(t,c)}),i}return B(n,e),n}(Fe),zse=function(e){function n(t,r){var i,o,u,c,h,f=this;return(f=e.call(this,t,r)||this).channelUrl=null,f.order=null,f.reverse=!1,f.scheduledStatus=null,f.messageTypeFilter=mi.ALL,f.channelUrl=(i=r.channelUrl)!==null&&i!==void 0?i:null,f.order=(o=r.order)!==null&&o!==void 0?o:null,f.reverse=(u=r.reverse)!==null&&u!==void 0&&u,f.scheduledStatus=(c=r.scheduledStatus)!==null&&c!==void 0?c:null,f.messageTypeFilter=(h=r.messageTypeFilter)!==null&&h!==void 0?h:mi.ALL,f}return B(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&J("string",this.channelUrl,!0)&&(Cn(K2,this.order)||this.order===null)&&J("boolean",this.reverse)&&(Sn(_u,this.scheduledStatus)||this.scheduledStatus===null)&&Cn(mi,this.messageTypeFilter)},n.prototype.next=function(){return I(this,void 0,void 0,function(){var t,r,i,o,u,c;return O(this,function(h){switch(h.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ie.of(this._iid).requestQueue,r=new Bse(Z(Z({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=h.sent(),o=i.as(Gse),u=o.scheduledMessages,c=o.token,this._token=c,this._hasNext=!!c,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw oe.queryInProgress;case 4:return[3,6];case 5:throw oe.invalidParameters;case 6:return[2]}})})},n}(Il),$se=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return B(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,u=r.sessionManager,c=r.requestQueue,h=r.logger,f=r.onlineDetector,v=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:u,requestQueue:c,logger:h,onlineDetector:f,cacheContext:v}),this._manager=new Yr(t,{sdkState:i,cacheContext:v,dispatcher:o,sessionManager:u,requestQueue:c,logger:h})},n.prototype.createGroupChannelCollection=function(t){return t===void 0&&(t={}),new Lse(this._iid,t)},n.prototype.createMyGroupChannelListQuery=function(t){return t===void 0&&(t={}),new ZF(this._iid,t)},n.prototype.createPublicGroupChannelListQuery=function(t){return t===void 0&&(t={}),new Hse(this._iid,t)},n.prototype.createScheduledMessageListQuery=function(t){return t===void 0&&(t={}),new zse(this._iid,t)},n.prototype.addGroupChannelHandler=function(t,r){qe(J("string",t)&&r instanceof qse).throw(oe.invalidParameters),this._manager.addHandler(t,r)},n.prototype.removeGroupChannelHandler=function(t){qe(J("string",t)).throw(oe.invalidParameters),this._manager.removeHandler(t)},n.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildGroupChannelFromSerializedData=function(t){return this._manager.buildGroupChannelFromSerializedData(t)},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){return this._manager.buildGroupChannelListQueryFromSerializedData(t)},n.prototype.buildMemberFromSerializedData=function(t){return this._manager.buildMemberFromSerializedData(t)},n.prototype.getChannel=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return qe(J("string",t)).throw(oe.invalidParameters),[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return qe(J("string",t)).throw(oe.invalidParameters),[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.getMyGroupChannelChangeLogsByToken=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},Iv),r),qe(J("string",t)&&Z2(r)).throw(oe.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMyGroupChannelChangeLogsByTimestamp=function(t,r){return I(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r=Z(Z({},Iv),r),qe(J("number",t)&&Z2(r)).throw(oe.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getGroupChannelCount=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return t=Z(Z({},KF),t),qe(QF(t)).throw(oe.invalidParameters),[2,this._manager.getGroupChannelCount(t)]})})},n.prototype.getUnreadItemCount=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalUnreadChannelCount=function(){return I(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,t.sent()]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){return this._manager.getSubscribedCustomTypeUnreadMessageCount(t)},n.prototype.createChannel=function(t){return t===void 0&&(t={}),I(this,void 0,void 0,function(){return O(this,function(r){return t=Z(Z({},$g),t),qe(J2(t)).throw(oe.invalidParameters),[2,this._manager.createChannel(t)]})})},n.prototype.createDistinctChannelIfNotExist=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return t=Z(Z({},$g),t),qe(J2(t)).throw(oe.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]})})},n.prototype.createChannelWithUserIds=function(t,r,i,o,u,c){return r===void 0&&(r=!1),i===void 0&&(i=null),o===void 0&&(o=null),u===void 0&&(u=""),c===void 0&&(c=""),I(this,void 0,void 0,function(){var h;return O(this,function(f){return h=Z(Z({},$g),{invitedUserIds:t,isDistinct:r,name:i,data:u,customType:c}),typeof o=="string"?h.coverUrl=o:h.coverImage=o,[2,this.createChannel(h)]})})},n.prototype.markAsReadAll=function(){return I(this,void 0,void 0,function(){return O(this,function(t){return this._manager.markAsReadAll(),[2]})})},n.prototype.markAsReadWithChannelUrls=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){return qe(Sn("string",t)).throw(oe.invalidParameters),this._manager.markAsReadWithChannelUrls(t),[2]})})},n.prototype.markAsDelivered=function(t){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return qe(J("string",t)).throw(oe.invalidParameters),[4,this.getChannel(t)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},n}(L3),n9="INIT_USER",K3="RESET_USER",t9="UPDATE_USER_INFO";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nw=function(e,n){return nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},nw(e,n)};function jse(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");nw(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var rn=function(){return rn=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},rn.apply(this,arguments)};function Ln(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var r9={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},Vse={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},Wse={NONE:"NONE",PENDING:"PENDING",SENT:"SENT",FAILED:"FAILED",DELIVERED:"DELIVERED",READ:"READ"},rU=function(n){return n===""||n===null},i9=function(n){return r9.IMAGE.indexOf(n)>=0},a9=function(n){return r9.VIDEO.indexOf(n)>=0},iU=function(n){return i9(n)||a9(n)},s9=function(){return rn({},Wse)},o9=function(){return rn({},Vse)},Kse=function(n,t){return Array.isArray(t)?Ln(Ln([],n,!0),t,!0):(n.push(t),n)},tw=function(n){return Array.isArray(n)?n.reduce(Kse,[]).join(" "):n},Qse=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,aU=function(n){return Qse.test(n)},hl;(function(e){e[e.normal=0]="normal",e[e.mention=1]="mention",e[e.url=2]="url"})(hl||(hl={}));var Yse=function(n,t,r){for(var i=t||[],o=r||"@",u=[],c=RegExp("".concat(o,"{(").concat(i.map(function(y){return y==null?void 0:y.userId}).join("|"),")}"),"g"),h,f=0,v=function(){var E=h[0],k=h[1],S=c.lastIndex,D=S-E.length,N=n.slice(f,D);u.push({type:aU(N)?hl.url:hl.normal,value:N});var C=i.find(function(A){return(A==null?void 0:A.userId)===k});C?u.push({type:hl.mention,value:(C==null?void 0:C.nickname)||"(No name)",userId:k}):u.push({type:hl.normal,value:E}),f=S};(h=c.exec(n))!==null;)v();if(f<n.length){var _=n.slice(f);u.push({type:aU(_)?hl.url:hl.normal,value:_})}return u},Xse=function(n,t){if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return!1};/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ua.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function sU(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(f){var v=typeof f=="string",_=v&&f.trim().charAt(0)==="<";return v&&!_}function u(f,v){t.onError(f,r[v],v)}function c(f,v){var _=t.onSuccess(f,r[v],v);f=_===!1?"":_||f,i[v]=f,i.indexOf(null)===-1&&t.onComplete(i)}var h=document.createElement("a");r.forEach(function(f,v){h.setAttribute("href",f),h.href=String(h.href);var _=Boolean(document.all&&!window.atob),y=_&&h.host.split(":")[0]!==location.host.split(":")[0];if(y){var E=h.protocol===location.protocol;if(E){var k=new XDomainRequest;k.open("GET",f),k.timeout=0,k.onprogress=Function.prototype,k.ontimeout=Function.prototype,k.onload=function(){var D=k.responseText;o(D)?c(D,v):u(k,v)},k.onerror=function(D){u(k,v)},setTimeout(function(){k.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(f,")")),u(null,v)}else{var S=new XMLHttpRequest;S.open("GET",f),t.mimeType&&S.overrideMimeType&&S.overrideMimeType(t.mimeType),t.onBeforeSend(S,f,v),S.onreadystatechange=function(){if(S.readyState===4){var D=S.responseText;S.status<400&&o(D)||S.status===0&&o(D)?c(D,v):u(S,v)}},S.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function oU(e){var n={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:e.skipDisabled!==!1,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(f){return!Jse(f,t.exclude)}),i=Array.apply(null,Array(r.length)).map(function(f){return null});function o(){var f=i.indexOf(null)===-1;if(f){i.reduce(function(_,y,E){return y===""&&_.push(E),_},[]).reverse().forEach(function(_){return[r,i].forEach(function(y){return y.splice(_,1)})});var v=i.join("");t.onComplete(v,i,r)}}function u(f,v,_,y){var E=t.onSuccess(f,_,y);f=E!==void 0&&Boolean(E)===!1?"":E||f,h(f,_,y,function(k,S){i[v]===null&&(S.forEach(function(D){return t.onError(D.xhr,_,D.url)}),!t.filter||t.filter.test(k)?i[v]=k:i[v]="",o())})}function c(f,v){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],y={};return y.rules=(f.replace(n.cssComments,"").match(n.cssImports)||[]).filter(function(E){return _.indexOf(E)===-1}),y.urls=y.rules.map(function(E){return E.replace(n.cssImports,"$1")}),y.absoluteUrls=y.urls.map(function(E){return IE(E,v)}),y.absoluteRules=y.rules.map(function(E,k){var S=y.urls[k],D=IE(y.absoluteUrls[k],v);return E.replace(S,D)}),y}function h(f,v,_,y){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],S=c(f,_,k);S.rules.length?sU(S.absoluteUrls,{onBeforeSend:function(N,C,A){t.onBeforeSend(N,v,C)},onSuccess:function(N,C,A){var q=t.onSuccess(N,v,C);N=q===!1?"":q||N;var K=c(N,C,k);return K.rules.forEach(function(z,V){N=N.replace(z,K.absoluteRules[V])}),N},onError:function(N,C,A){E.push({xhr:N,url:C}),k.push(S.rules[A]),h(f,v,_,y,E,k)},onComplete:function(N){N.forEach(function(C,A){f=f.replace(S.rules[A],C)}),h(f,v,_,y,E,k)}}):y(f,E)}r.length?r.forEach(function(f,v){var _=f.getAttribute("href"),y=f.getAttribute("rel"),E=f.nodeName.toLowerCase()==="link"&&_&&y&&y.toLowerCase().indexOf("stylesheet")!==-1,k=t.skipDisabled===!1?!1:f.disabled,S=f.nodeName.toLowerCase()==="style";if(E&&!k){var D=_.indexOf("data:text/css")!==-1;if(D){var N=decodeURIComponent(_.substring(_.indexOf(",")+1));t.useCSSOM&&(N=Array.apply(null,f.sheet.cssRules).map(function(A){return A.cssText}).join("")),u(N,v,f,location.href)}else sU(_,{mimeType:"text/css",onBeforeSend:function(q,K,z){t.onBeforeSend(q,f,K)},onSuccess:function(q,K,z){var V=IE(_);u(q,v,f,V)},onError:function(q,K,z){i[v]="",t.onError(q,f,K),o()}})}else if(S&&!k){var C=f.textContent;t.useCSSOM&&(C=Array.apply(null,f.sheet.cssRules).map(function(A){return A.cssText}).join("")),u(C,v,f,location.href)}else i[v]="",o()}):t.onComplete("",[])}function IE(e,n){var t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,i.href=e,i.href}function Jse(e,n){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return t.call(e,n)}var l9=u9;function u9(e,n,t){e instanceof RegExp&&(e=lU(e,t)),n instanceof RegExp&&(n=lU(n,t));var r=c9(e,n,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+e.length,r[1]),post:t.slice(r[1]+n.length)}}function lU(e,n){var t=n.match(e);return t?t[0]:null}u9.range=c9;function c9(e,n,t){var r,i,o,u,c,h=t.indexOf(e),f=t.indexOf(n,h+1),v=h;if(h>=0&&f>0){if(e===n)return[h,f];for(r=[],o=t.length;v>=0&&!c;)v==h?(r.push(v),h=t.indexOf(e,v+1)):r.length==1?c=[r.pop(),f]:(i=r.pop(),i<o&&(o=i,u=f),f=t.indexOf(n,v+1)),v=h<f&&h>=0?h:f;r.length&&(c=[o,u])}return c}function Q3(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},r=Ua({},t,n),i=[];function o(te){throw new Error("CSS parse error: ".concat(te))}function u(te){var he=te.exec(e);if(he)return e=e.slice(he[0].length),he}function c(){return u(/^{\s*/)}function h(){return u(/^}/)}function f(){u(/^\s*/)}function v(){if(f(),!(e[0]!=="/"||e[1]!=="*")){for(var te=2;e[te]&&(e[te]!=="*"||e[te+1]!=="/");)te++;if(!e[te])return o("end of comment is missing");var he=e.slice(2,te);return e=e.slice(te+2),{type:"comment",comment:he}}}function _(){for(var te=[],he;he=v();)te.push(he);return r.removeComments?[]:te}function y(){for(f();e[0]==="}";)o("extra closing bracket");var te=u(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(te){var he=te[0].trim(),ce,He=/\/\*/.test(he);He&&(he=he.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var Se=/["']\w*,\w*["']/.test(he);Se&&(he=he.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(Oe){return Oe.replace(/,/g,"\u200C")}));var ve=/,/.test(he);return ve?ce=he.split(/\s*(?![^(]*\)),\s*/):ce=[he],Se&&(ce=ce.map(function(Oe){return Oe.replace(/\u200C/g,",")})),ce}}function E(){if(e[0]==="@")return le();u(/^([;\s]*)+/);var te=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,he=u(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!he){if(he=he[0].trim(),!u(/^:\s*/))return o("property missing ':'");var ce=u(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),He={type:"declaration",property:he.replace(te,""),value:ce?ce[0].replace(te,"").trim():""};return u(/^[;\s]*/),He}}function k(){if(!c())return o("missing '{'");for(var te,he=_();te=E();)he.push(te),he=he.concat(_());return h()?he:o("missing '}'")}function S(){f();for(var te=[],he;he=u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)te.push(he[1]),u(/^,\s*/);if(te.length)return{type:"keyframe",values:te,declarations:k()}}function D(){var te=u(/^@([-\w]+)?keyframes\s*/);if(!!te){var he=te[1];if(te=u(/^([-\w]+)\s*/),!te)return o("@keyframes missing name");var ce=te[1];if(!c())return o("@keyframes missing '{'");for(var He,Se=_();He=S();)Se.push(He),Se=Se.concat(_());return h()?{type:"keyframes",name:ce,vendor:he,keyframes:Se}:o("@keyframes missing '}'")}}function N(){var te=u(/^@page */);if(te){var he=y()||[];return{type:"page",selectors:he,declarations:k()}}}function C(){var te=u(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(te){var he="".concat(te[1],"-").concat(te[2])+(te[3]?"-".concat(te[3]):"");return{type:"page-margin-box",name:he,declarations:k()}}}function A(){var te=u(/^@font-face\s*/);if(te)return{type:"font-face",declarations:k()}}function q(){var te=u(/^@supports *([^{]+)/);if(te)return{type:"supports",supports:te[1].trim(),rules:ye()}}function K(){var te=u(/^@host\s*/);if(te)return{type:"host",rules:ye()}}function z(){var te=u(/^@media([^{]+)*/);if(te)return{type:"media",media:(te[1]||"").trim(),rules:ye()}}function V(){var te=u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(te)return{type:"custom-media",name:te[1].trim(),media:te[2].trim()}}function W(){var te=u(/^@([-\w]+)?document *([^{]+)/);if(te)return{type:"document",document:te[2].trim(),vendor:te[1]?te[1].trim():null,rules:ye()}}function de(){var te=u(/^@(import|charset|namespace)\s*([^;]+);/);if(te)return{type:te[1],name:te[2].trim()}}function le(){if(f(),e[0]==="@"){var te=de()||A()||z()||D()||q()||W()||V()||K()||N()||C();if(te&&!r.preserveStatic){var he=!1;if(te.declarations)he=te.declarations.some(function(He){return/var\(/.test(He.value)});else{var ce=te.keyframes||te.rules||[];he=ce.some(function(He){return(He.declarations||[]).some(function(Se){return/var\(/.test(Se.value)})})}return he?te:{}}return te}}function Ie(){if(!r.preserveStatic){var te=l9("{","}",e);if(te){var he=/:(?:root|host)(?![.:#(])/.test(te.pre)&&/--\S*\s*:/.test(te.body),ce=/var\(/.test(te.body);if(!he&&!ce)return e=e.slice(te.end+1),{}}}var He=y()||[],Se=r.preserveStatic?k():k().filter(function(ve){var Oe=He.some(function(ee){return/:(?:root|host)(?![.:#(])/.test(ee)})&&/^--\S/.test(ve.property),Be=/var\(/.test(ve.value);return Oe||Be});return He.length||o("selector missing"),{type:"rule",selectors:He,declarations:Se}}function ye(te){if(!te&&!c())return o("missing '{'");for(var he,ce=_();e.length&&(te||e[0]!=="}")&&(he=le()||Ie());)he.type&&ce.push(he),ce=ce.concat(_());return!te&&!h()?o("missing '}'"):ce}return{type:"stylesheet",stylesheet:{rules:ye(!0),errors:i}}}function uU(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},r=Ua({},t,n),i=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof e=="string"&&(e=Q3(e,r)),e.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(u){return i.test(u)})||o.declarations.forEach(function(u,c){var h=u.property,f=u.value;h&&h.indexOf("--")===0&&(r.store[h]=f)})}),r.store}function d9(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,r={charset:function(u){return"@charset "+u.name+";"},comment:function(u){return u.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+u.comment+"*/":""},"custom-media":function(u){return"@custom-media "+u.name+" "+u.media+";"},declaration:function(u){return u.property+":"+u.value+";"},document:function(u){return"@"+(u.vendor||"")+"document "+u.document+"{"+i(u.rules)+"}"},"font-face":function(u){return"@font-face{"+i(u.declarations)+"}"},host:function(u){return"@host{"+i(u.rules)+"}"},import:function(u){return"@import "+u.name+";"},keyframe:function(u){return u.values.join(",")+"{"+i(u.declarations)+"}"},keyframes:function(u){return"@"+(u.vendor||"")+"keyframes "+u.name+"{"+i(u.keyframes)+"}"},media:function(u){return"@media "+u.media+"{"+i(u.rules)+"}"},namespace:function(u){return"@namespace "+u.name+";"},page:function(u){return"@page "+(u.selectors.length?u.selectors.join(", "):"")+"{"+i(u.declarations)+"}"},"page-margin-box":function(u){return"@"+u.name+"{"+i(u.declarations)+"}"},rule:function(u){var c=u.declarations;if(c.length)return u.selectors.join(",")+"{"+i(c)+"}"},supports:function(u){return"@supports "+u.supports+"{"+i(u.rules)+"}"}};function i(o){for(var u="",c=0;c<o.length;c++){var h=o[c];t&&t(h);var f=r[h.type](h);f&&(u+=f,f.length&&h.selectors&&(u+=n))}return u}return i(e.stylesheet.rules)}function h9(e,n){e.rules.forEach(function(t){if(t.rules){h9(t,n);return}if(t.keyframes){t.keyframes.forEach(function(r){r.type==="keyframe"&&n(r.declarations,t)});return}!t.declarations||n(t.declarations,e)})}var Zse="--",eoe="var";function noe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=Ua({},t,n);return typeof e=="string"&&(e=Q3(e,r)),h9(e.stylesheet,function(i,o){for(var u=0;u<i.length;u++){var c=i[u],h=c.type,f=c.property,v=c.value;if(h==="declaration"){if(!r.preserveVars&&f&&f.indexOf(Zse)===0){i.splice(u,1),u--;continue}if(v.indexOf(eoe+"(")!==-1){var _=Sf(v,r);_!==c.value&&(_=toe(_),r.preserveVars?(i.splice(u,0,{type:h,property:f,value:_}),u++):c.value=_)}}}}),d9(e)}function toe(e){var n=/calc\(([^)]+)\)/g;return(e.match(n)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)}),e}function Sf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(e.indexOf("var(")===-1)return e;var r=l9("(",")",e);function i(u){var c=u.split(",")[0].replace(/[\s\n\t]/g,""),h=(u.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],f=Object.prototype.hasOwnProperty.call(n.variables,c)?String(n.variables[c]):void 0,v=f||(h?String(h):void 0),_=t||u;return f||n.onWarning('variable "'.concat(c,'" is undefined')),v&&v!=="undefined"&&v.length>0?Sf(v,n,_):"var(".concat(_,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(n.onWarning("var() must contain a non-whitespace string"),e):r.pre.slice(0,-3)+i(r.body)+Sf(r.post,n)}else return r.pre+"(".concat(Sf(r.body,n),")")+Sf(r.post,n);else return e.indexOf("var(")!==-1&&n.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var p_=typeof window<"u",cU=p_&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),Nc={group:0,job:0},wg={rootElement:p_?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},Ro={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},$r={dom:{},job:{},user:{}},jg=!1,os=null,Nf=0,rw=null,iw=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function ml(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n="cssVars(): ",t=Ua({},wg,e);function r(v,_,y,E){!t.silent&&window.console&&console.error("".concat(n).concat(v,`
`),_),t.onError(v,_,y,E)}function i(v){!t.silent&&window.console&&console.warn("".concat(n).concat(v)),t.onWarning(v)}function o(v){t.onFinally(Boolean(v),cU,OE()-t.__benchmark)}if(!!p_){if(t.watch){t.watch=wg.watch,roe(t),ml(t);return}else t.watch===!1&&os&&(os.disconnect(),os=null);if(!t.__benchmark){if(jg===t.rootElement){ioe(e);return}var u=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=OE(),t.exclude=[os?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(v){return v}).join(","),t.variables=ooe(t.variables),u.forEach(function(v){var _=v.nodeName.toLowerCase()==="style"&&v.__cssVars.text,y=_&&v.textContent!==v.__cssVars.text;_&&y&&(v.sheet&&(v.sheet.disabled=!1),v.setAttribute("data-cssvars",""))}),!os){var c=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));c.forEach(function(v){var _=v.getAttribute("data-cssvars-group"),y=_?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(_,'"]')):null;y||v.parentNode.removeChild(v)}),Nf&&u.length<Nf&&(Nf=u.length,$r.dom={})}}if(document.readyState!=="loading")if(cU&&t.onlyLegacy){var h=!1;if(t.updateDOM){var f=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(v){var _=t.variables[v];h=h||_!==getComputedStyle(f).getPropertyValue(v),f.style.setProperty(v,_)})}o(h)}else!iw&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?oU({rootElement:wg.rootElement,include:wg.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(_,y,E){var k=(y.sheet||{}).disabled&&!y.__cssVars;return k?!1:(_=_.replace(Ro.cssComments,"").replace(Ro.cssMediaQueries,""),_=(_.match(Ro.cssVarDeclRules)||[]).join(""),_||!1)},onComplete:function(_,y,E){uU(_,{store:$r.dom,onWarning:i}),iw=!0,ml(t)}}):(jg=t.rootElement,oU({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(_,y,E){var k=_.responseURL||p9(E,location.href),S=_.statusText?"(".concat(_.statusText,")"):"Unspecified Error"+(_.status===0?" (possibly CORS related)":""),D="CSS XHR Error: ".concat(k," ").concat(_.status," ").concat(S);r(D,y,_,k)},onSuccess:function(_,y,E){var k=(y.sheet||{}).disabled&&!y.__cssVars;if(k)return!1;var S=y.nodeName.toLowerCase()==="link",D=y.nodeName.toLowerCase()==="style"&&_!==y.textContent,N=t.onSuccess(_,y,E);return _=N!==void 0&&Boolean(N)===!1?"":N||_,t.updateURLs&&(S||D)&&(_=soe(_,E)),_},onComplete:function(_,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],k=Ua({},$r.dom,$r.user),S=!1;if($r.job={},E.forEach(function(V,W){var de=y[W];if(V.__cssVars=V.__cssVars||{},V.__cssVars.text=de,Ro.cssVars.test(de))try{var le=Q3(de,{preserveStatic:t.preserveStatic,removeComments:!0});uU(le,{parseHost:Boolean(t.rootElement.host),store:$r.dom,onWarning:i}),V.__cssVars.tree=le}catch(Ie){r(Ie.message,V)}}),Ua($r.job,$r.dom),t.updateDOM?(Ua($r.user,t.variables),Ua($r.job,$r.user)):(Ua($r.job,$r.user,t.variables),Ua(k,t.variables)),S=Nc.job>0&&Boolean(Object.keys($r.job).length>Object.keys(k).length||Boolean(Object.keys(k).length&&Object.keys($r.job).some(function(V){return $r.job[V]!==k[V]}))),S)aw(t.rootElement),ml(t);else{var D=[],N=[],C=!1;if(t.updateDOM&&Nc.job++,E.forEach(function(V,W){var de=!V.__cssVars.tree;if(V.__cssVars.tree)try{noe(V.__cssVars.tree,Ua({},t,{variables:$r.job,onWarning:i}));var le=d9(V.__cssVars.tree);if(t.updateDOM){var Ie=y[W],ye=Ro.cssVarFunc.test(Ie);if(V.getAttribute("data-cssvars")||V.setAttribute("data-cssvars","src"),le.length&&ye){var te=V.getAttribute("data-cssvars-group")||++Nc.group,he=le.replace(/\s/g,""),ce=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(te,'"]'))||document.createElement("style");C=C||Ro.cssKeyframes.test(le),t.preserveStatic&&V.sheet&&(V.sheet.disabled=!0),ce.hasAttribute("data-cssvars")||ce.setAttribute("data-cssvars","out"),he===V.textContent.replace(/\s/g,"")?(de=!0,ce&&ce.parentNode&&(V.removeAttribute("data-cssvars-group"),ce.parentNode.removeChild(ce))):he!==ce.textContent.replace(/\s/g,"")&&([V,ce].forEach(function(He){He.setAttribute("data-cssvars-job",Nc.job),He.setAttribute("data-cssvars-group",te)}),ce.textContent=le,D.push(le),N.push(ce),ce.parentNode||V.parentNode.insertBefore(ce,V.nextSibling))}}else V.textContent.replace(/\s/g,"")!==le&&D.push(le)}catch(He){r(He.message,V)}de&&V.setAttribute("data-cssvars","skip"),V.hasAttribute("data-cssvars-job")||V.setAttribute("data-cssvars-job",Nc.job)}),Nf=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var A=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),q=0,K;K=A[q];++q)if(K.shadowRoot&&K.shadowRoot.querySelector("style")){var z=Ua({},t,{rootElement:K.shadowRoot});ml(z)}}t.updateDOM&&C&&aoe(t.rootElement),jg=!1,t.onComplete(D.join(""),N,JSON.parse(JSON.stringify($r.job)),OE()-t.__benchmark),o(N.length)}}}));else document.addEventListener("DOMContentLoaded",function v(_){ml(e),document.removeEventListener("DOMContentLoaded",v)})}}ml.reset=function(){Nc.job=0,Nc.group=0,jg=!1,os&&(os.disconnect(),os=null),Nf=0,rw=null,iw=!1;for(var e in $r)$r[e]={}};function roe(e){function n(h){var f=t(h)&&h.hasAttribute("disabled"),v=(h.sheet||{}).disabled;return f||v}function t(h){var f=h.nodeName.toLowerCase()==="link"&&(h.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return f}function r(h){return h.nodeName.toLowerCase()==="style"}function i(h){var f=!1;if(h.type==="attributes"&&t(h.target)&&!n(h.target)){var v=h.attributeName==="disabled",_=h.attributeName==="href",y=h.target.getAttribute("data-cssvars")==="skip",E=h.target.getAttribute("data-cssvars")==="src";v?f=!y&&!E:_&&(y?h.target.setAttribute("data-cssvars",""):E&&aw(e.rootElement,!0),f=!0)}return f}function o(h){var f=!1;if(h.type==="childList"){var v=r(h.target),_=h.target.getAttribute("data-cssvars")==="out";f=v&&!_}return f}function u(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.addedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.hasAttribute("data-cssvars"),E=r(v)&&Ro.cssVars.test(v.textContent),k=!y&&(t(v)||E);return k&&!n(v)})),f}function c(h){var f=!1;return h.type==="childList"&&(f=[].slice.call(h.removedNodes).some(function(v){var _=v.nodeType===1,y=_&&v.getAttribute("data-cssvars")==="out",E=_&&v.getAttribute("data-cssvars")==="src",k=E;if(E||y){var S=v.getAttribute("data-cssvars-group"),D=e.rootElement.querySelector('[data-cssvars-group="'.concat(S,'"]'));E&&aw(e.rootElement,!0),D&&D.parentNode.removeChild(D)}return k})),f}!window.MutationObserver||(os&&(os.disconnect(),os=null),os=new MutationObserver(function(h){var f=h.some(function(v){return i(v)||o(v)||u(v)||c(v)});f&&ml(e)}),os.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function ioe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(rw),rw=setTimeout(function(){e.__benchmark=null,ml(e)},n)}function aoe(e){var n=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(y){return getComputedStyle(document.body)[y]})[0];if(n){for(var t=[].slice.call(e.querySelectorAll("*")),r=[],i="__CSSVARSPONYFILL-KEYFRAMES__",o=0,u=t.length;o<u;o++){var c=t[o],h=getComputedStyle(c)[n];h!=="none"&&(c.style[n]+=i,r.push(c))}document.body.offsetHeight;for(var f=0,v=r.length;f<v;f++){var _=r[f].style;_[n]=_[n].replace(i,"")}}}function soe(e,n){var t=e.replace(Ro.cssComments,"").match(Ro.cssUrls)||[];return t.forEach(function(r){var i=r.replace(Ro.cssUrls,"$1"),o=p9(i,n);e=e.replace(r,r.replace(i,o))}),e}function ooe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=/^-{2}/;return Object.keys(e).reduce(function(t,r){var i=n.test(r)?r:"--".concat(r.replace(/^-+/,""));return t[i]=e[r],t},{})}function p9(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n,i.href=e,i.href}function OE(){return p_&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function aw(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(r){return r.setAttribute("data-cssvars","")}),n&&($r.dom={})}var $c=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n==="x"?t:t&3|8;return r.toString(16)})},sw=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",t={en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect\u2026",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times per message.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message"}};return t[n]},xg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function loe(e,n,t){t=t||{};var r;return typeof xg[e]=="string"?r=xg[e]:n===1?r=xg[e].one:r=xg[e].other.replace("{{count}}",n),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function AE(e){return function(n){var t=n||{},r=t.width?String(t.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}var uoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},coe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},doe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hoe={date:AE({formats:uoe,defaultWidth:"full"}),time:AE({formats:coe,defaultWidth:"full"}),dateTime:AE({formats:doe,defaultWidth:"full"})},poe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function foe(e,n,t,r){return poe[e]}function gf(e){return function(n,t){var r=t||{},i=r.context?String(r.context):"standalone",o;if(i==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,c=r.width?String(r.width):u;o=e.formattingValues[c]||e.formattingValues[u]}else{var h=e.defaultWidth,f=r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[h]}var v=e.argumentCallback?e.argumentCallback(n):n;return o[v]}}var moe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},goe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},voe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_oe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},boe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function Eoe(e,n){var t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var woe={ordinalNumber:Eoe,era:gf({values:moe,defaultWidth:"wide"}),quarter:gf({values:goe,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:gf({values:voe,defaultWidth:"wide"}),day:gf({values:_oe,defaultWidth:"wide"}),dayPeriod:gf({values:boe,defaultWidth:"wide",formattingValues:yoe,defaultFormattingWidth:"wide"})};function xoe(e){return function(n,t){var r=String(n),i=t||{},o=r.match(e.matchPattern);if(!o)return null;var u=o[0],c=r.match(e.parsePattern);if(!c)return null;var h=e.valueCallback?e.valueCallback(c[0]):c[0];return h=i.valueCallback?i.valueCallback(h):h,{value:h,rest:r.slice(u.length)}}}function vf(e){return function(n,t){var r=String(n),i=t||{},o=i.width,u=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],c=r.match(u);if(!c)return null;var h=c[0],f=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],v;return Object.prototype.toString.call(f)==="[object Array]"?v=Coe(f,function(_){return _.test(h)}):v=koe(f,function(_){return _.test(h)}),v=e.valueCallback?e.valueCallback(v):v,v=i.valueCallback?i.valueCallback(v):v,{value:v,rest:r.slice(h.length)}}}function koe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function Coe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var Soe=/^(\d+)(th|st|nd|rd)?/i,Noe=/\d+/i,Toe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ioe={any:[/^b/i,/^(a|c)/i]},Ooe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Aoe={any:[/1/i,/2/i,/3/i,/4/i]},Roe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Moe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Doe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Loe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Poe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Foe={ordinalNumber:xoe({matchPattern:Soe,parsePattern:Noe,valueCallback:function(e){return parseInt(e,10)}}),era:vf({matchPatterns:Toe,defaultMatchWidth:"wide",parsePatterns:Ioe,defaultParseWidth:"any"}),quarter:vf({matchPatterns:Ooe,defaultMatchWidth:"wide",parsePatterns:Aoe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:vf({matchPatterns:Roe,defaultMatchWidth:"wide",parsePatterns:Moe,defaultParseWidth:"any"}),day:vf({matchPatterns:Doe,defaultMatchWidth:"wide",parsePatterns:Uoe,defaultParseWidth:"any"}),dayPeriod:vf({matchPatterns:Loe,defaultMatchWidth:"any",parsePatterns:Poe,defaultParseWidth:"any"})},Hoe={code:"en-US",formatDistance:loe,formatLong:hoe,formatRelative:foe,localize:woe,match:Foe,options:{weekStartsOn:0,firstWeekContainsDate:1}},f9=Hoe,go=x.createContext({stringSet:sw("en"),dateLocale:f9}),qoe=function(n){var t=n.children;return x.createElement(go.Provider,{value:n},t)},O0=function(){return x.useContext(go)},m9="INIT_SDK",Y3="SET_SDK_LOADING",X3="RESET_SDK",ow="SDK_ERROR",Boe="3.1.3",Goe=function(n){var t=n.sdkDispatcher,r=n.userDispatcher,i=n.sdk,o=n.onDisconnect;t({type:Y3,payload:!0}),i&&i.disconnect?i.disconnect().then(function(){t({type:X3}),r({type:K3})}).finally(function(){o()}):o()},dU=function(n,t){var r=n.userId,i=n.appId,o=n.nickname,u=n.profileUrl,c=n.accessToken,h=n.configureSession,f=n.customApiHost,v=n.customWebSocketHost,_=n.sdk,y=n.logger,E=t.sdkDispatcher,k=t.userDispatcher;Goe({sdkDispatcher:E,userDispatcher:k,sdk:_,logger:y,onDisconnect:function(){y.info("Setup connection");var D=null;if(E({type:Y3,payload:!0}),r&&i){var N={appId:i,modules:[new $se,new mae]};f&&(N.customApiHost=f),v&&(N.customWebSocketHost=v);var C=Jie.init(N);h&&typeof h=="function"&&(D=h(C),C.setSessionHandler(D)),C.addExtension("sb_uikit",Boe);var A=function(z){E({type:m9,payload:C}),k({type:n9,payload:z}),(o!==z.nickname||u!==z.profileUrl)&&!(rU(o)&&rU(u))&&C.updateCurrentUserInfo({nickname:o||z.nickname,profileUrl:u||z.profileUrl}).then(function(V){k({type:t9,payload:V})})},q=function(z){y.error("Connection failed","".concat(z)),E({type:X3}),E({type:K3}),E({type:ow})};c?C.connect(r,c).then(function(K){return A(K)}).catch(function(K){return q(K)}):C.connect(r).then(function(K){return A(K)}).catch(function(K){return q(K)})}else E({type:ow}),y.warning("Connection failed","UserId or appId missing")}})},zoe=function(n){if(n==null)return!0;for(var t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},$oe=function(n){U.exports.useLayoutEffect(function(){zoe(n)||ml({variables:rn({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},n)})},[n])},g9={initialized:!1,loading:!1,sdk:{},error:!1};function joe(e,n){switch(n.type){case Y3:return Tr(Tr({},e),{},{initialized:!1,loading:n.payload});case ow:return Tr(Tr({},e),{},{initialized:!1,loading:!1,error:!0});case m9:return{sdk:n.payload,initialized:!0,loading:!1,error:!1};case X3:return g9;default:return e}}var v9={initialized:!1,loading:!1,user:{}};function Voe(e,n){switch(n.type){case n9:return{initialized:!0,loading:!1,user:n.payload};case K3:return v9;case t9:return Tr(Tr({},e),{},{user:n.payload});default:return e}}function Woe(e,n){var t=U.exports.useState(!0),r=pl(t,2),i=r[0],o=r[1];return U.exports.useEffect(function(){var u=$c();try{n.warning("sdk changed",u);var c=new AF;c.onDisconnected=function(){n.warning("onDisconnected",{isOnline:i})},c.onReconnectStarted=function(){o(!1),n.warning("onReconnectStarted",{isOnline:i})},c.onReconnectSucceeded=function(){o(!0),n.warning("onReconnectSucceeded",{isOnline:i})},c.onReconnectFailed=function(){e.reconnect(),n.warning("onReconnectFailed")},n.info("Added ConnectionHandler",u),e!=null&&e.addConnectionHandler&&e.addConnectionHandler(u,c)}catch{}return function(){try{e.removeConnectionHandler(u),n.info("Removed ConnectionHandler",u)}catch{}}},[e]),U.exports.useEffect(function(){var u=function(){try{n.warning("Try reconnecting SDK"),e.connectionState!=="OPEN"&&e.reconnect()}catch{}};return window.addEventListener("online",u),function(){window.removeEventListener("online",u)}},[e]),U.exports.useEffect(function(){var u=document.querySelector("body");if(i)try{u.classList.remove("sendbird__offline"),n.info("Removed class sendbird__offline from body")}catch{}else try{u.classList.add("sendbird__offline"),n.info("Added class sendbird__offline to body")}catch{}},[i]),i}var as={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},Koe=function(n){switch(n){case as.WARNING:return"color: Orange";case as.ERROR:return"color: Red";default:return"color: Gray"}},Qoe=function(n){var t=n.level,r=n.title,i=n.description,o=i===void 0?"":i;console.log("%c SendbirdUIKit | ".concat(t," | ").concat(new Date().toISOString()," | ").concat(r," ").concat(o&&"|"),Koe(t),o)},Yoe=function(){return{info:function(){},error:function(){},warning:function(){}}},hU=function(n,t){var r=t||Qoe,i=Array.isArray(n)?n:[n],o=function(h){return function(f,v){return r({level:h,title:f,description:v})}},u=i.reduce(function(c,h){return h===as.DEBUG||h===as.ALL?Tr(Tr({},c),{},{info:o(as.INFO),error:o(as.ERROR),warning:o(as.WARNING)}):h===as.INFO?Tr(Tr({},c),{},{info:o(as.INFO)}):h===as.ERROR?Tr(Tr({},c),{},{error:o(as.ERROR)}):h===as.WARNING?Tr(Tr({},c),{},{warning:o(as.WARNING)}):Tr({},c)},Yoe());return u},Xoe=function(){var e={},n=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(r,i){n.call(e,r)||(e[r]=[]);var o=e[r].push(i)-1;return{remove:function(){delete e[r][o]}}},publish:function(r,i){!n.call(e,r)||e[r].forEach(function(o){o(i!==void 0?i:{})})}}};function Joe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;U.exports.useEffect(function(){var t=document.querySelector(n);return e.forEach(function(r){var i=document.createElement("div");i.setAttribute("id",r),t.appendChild(i)}),function(){e.forEach(function(r){var i=document.getElementById(r);i&&t.removeChild(i)})}},[])}function J3(e){var n=e.userId,t=e.dateLocale,r=e.appId,i=e.accessToken,o=e.configureSession,u=e.customApiHost,c=e.customWebSocketHost,h=e.children,f=e.disableUserProfile,v=e.renderUserProfile,_=e.allowProfileEdit,y=e.theme,E=e.nickname,k=e.profileUrl,S=e.userListQuery,D=e.config,N=D===void 0?{}:D,C=e.colorSet,A=e.stringSet,q=e.imageCompression,K=e.isReactionEnabled,z=e.isMentionEnabled,V=e.isTypingIndicatorEnabledOnChannelList,W=e.isMessageReceiptStatusEnabledOnChannelList,de=N.logLevel,le=de===void 0?"":de,Ie=N.userMention,ye=Ie===void 0?{}:Ie,te=N.isREMUnitEnabled,he=te===void 0?!1:te,ce=U.exports.useState(hU(le)),He=pl(ce,2),Se=He[0],ve=He[1],Oe=U.exports.useState(),Be=pl(Oe,2),ee=Be[0],X=Be[1],me=U.exports.useReducer(joe,g9),Ye=pl(me,2),Ne=Ye[0],Ae=Ye[1],_e=U.exports.useReducer(Voe,v9),Le=pl(_e,2),ze=Le[0],mn=Le[1];$oe(C),U.exports.useEffect(function(){X(Xoe())},[]),U.exports.useEffect(function(){Se.info("App Init"),dU({userId:n,appId:r,accessToken:i,sdkStore:Ne,nickname:E,profileUrl:k,configureSession:o,customApiHost:u,customWebSocketHost:c,sdk:Ne.sdk,logger:Se},{sdkDispatcher:Ae,userDispatcher:mn})},[n,r,i]),U.exports.useEffect(function(){ve(hU(le))},[le]),Joe(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var Tn=U.exports.useState(y),xn=pl(Tn,2),In=xn[0],ln=xn[1];U.exports.useEffect(function(){ln(y)},[y]),U.exports.useEffect(function(){var kn=document.querySelector("body");kn.classList.remove("sendbird-experimental__rem__units"),he&&kn.classList.add("sendbird-experimental__rem__units")},[he]),U.exports.useEffect(function(){Se.info("Setup theme","Theme: ".concat(In));try{var kn=document.querySelector("body");kn.classList.remove("sendbird-theme--light"),kn.classList.remove("sendbird-theme--dark"),kn.classList.add("sendbird-theme--".concat(In||"light")),Se.info("Finish setup theme")}catch($){Se.warning("Setup theme failed","".concat($))}return function(){try{var $=document.querySelector("body");$.classList.remove("sendbird-theme--light"),$.classList.remove("sendbird-theme--dark")}catch{}}},[In]);var Dn=Woe(Ne.sdk,Se),fn=x.useMemo(function(){return A?Tr(Tr({},sw("en")),A):sw("en")},[A]);return x.createElement(R3.Provider,{value:{stores:{sdkStore:Ne,userStore:ze},dispatchers:{sdkDispatcher:Ae,userDispatcher:mn,reconnect:function(){dU({userId:n,appId:r,accessToken:i,sdkStore:Ne,nickname:E,profileUrl:k,logger:Se,sdk:Ne.sdk},{sdkDispatcher:Ae,userDispatcher:mn})}},config:{disableUserProfile:f,renderUserProfile:v,allowProfileEdit:_,isOnline:Dn,userId:n,appId:r,accessToken:i,theme:In,setCurrenttheme:ln,userListQuery:S,logger:Se,pubSub:ee,imageCompression:q,isReactionEnabled:K,isMentionEnabled:z||!1,userMention:{maxMentionCount:(ye==null?void 0:ye.maxMentionCount)||10,maxSuggestionCount:(ye==null?void 0:ye.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:V,isMessageReceiptStatusEnabledOnChannelList:W}}},x.createElement(qoe,{stringSet:fn,dateLocale:t},h))}J3.propTypes={userId:ue.exports.string.isRequired,appId:ue.exports.string.isRequired,accessToken:ue.exports.string,customApiHost:ue.exports.string,customWebSocketHost:ue.exports.string,configureSession:ue.exports.func,children:ue.exports.oneOfType([ue.exports.element,ue.exports.arrayOf(ue.exports.element),ue.exports.any]).isRequired,theme:ue.exports.string,nickname:ue.exports.string,dateLocale:ue.exports.shape({}),profileUrl:ue.exports.string,disableUserProfile:ue.exports.bool,renderUserProfile:ue.exports.func,allowProfileEdit:ue.exports.bool,userListQuery:ue.exports.func,config:ue.exports.shape({logLevel:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),pubSub:ue.exports.shape({subscribe:ue.exports.func,publish:ue.exports.func}),userMention:ue.exports.shape({maxMentionCount:ue.exports.number,maxSuggestionCount:ue.exports.number}),isREMUnitEnabled:ue.exports.bool}),stringSet:ue.exports.objectOf(ue.exports.string),colorSet:ue.exports.objectOf(ue.exports.string),isReactionEnabled:ue.exports.bool,isMentionEnabled:ue.exports.bool,imageCompression:ue.exports.shape({compressionRate:ue.exports.number,resizingWidth:ue.exports.oneOfType([ue.exports.number,ue.exports.string]),resizingHeight:ue.exports.oneOfType([ue.exports.number,ue.exports.string])}),isTypingIndicatorEnabledOnChannelList:ue.exports.bool,isMessageReceiptStatusEnabledOnChannelList:ue.exports.bool};J3.defaultProps={accessToken:"",customApiHost:null,customWebSocketHost:null,configureSession:null,theme:"light",nickname:"",dateLocale:null,profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{},isReactionEnabled:!0,isMentionEnabled:!1,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1};var Zoe=`.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        margin-left: 8px;
        margin-bottom: 12px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50:  #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50:  #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: 'Roboto', sans-serif;
  --sendbird-message-balloon-width: 404px; }

.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem; }

.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem; }

.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: .875rem; }
  .sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
    font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: .75rem; }

.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-list {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-list {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px; }

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden; }

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default); }

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px; }

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px; }

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal; }

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px; }
  .sendbird-iconbutton .sendbird-iconbutton__inner {
    height: 100%; }
    .sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-iconbutton:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-iconbutton:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-iconbutton:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-iconbutton:active {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-iconbutton:disabled {
    cursor: not-allowed !important; }
    .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
    cursor: pointer; }
  .sendbird-channel-header .sendbird-channel-header__title {
    display: flex;
    flex-direction: row;
    width: 260px;
    height: 48px;
    border-radius: 4px; }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-dark-background-500); }
    .sendbird-channel-header .sendbird-channel-header__title:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
      width: 48px;
      padding: 8px;
      box-sizing: border-box; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
      margin-left: 4px;
      padding-top: 8px; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
      display: block;
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-channel-header .sendbird-channel-header__right-icon {
    position: absolute;
    right: 16px;
    top: 16px; }

.sendbird-image-renderer {
  overflow: hidden;
  position: relative; }

.sendbird-image-renderer__hidden-image-loader {
  display: none; }

.sendbird-icon {
  display: inline-block; }
  .sendbird-icon:focus {
    outline: none; }

.sendbird-theme--light .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--light .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-icon-color--white [class*='fill'] {
  fill: #ffffff; }

.sendbird-icon-color--gray [class*='fill'] {
  fill: var(--sendbird-light-onlight-04); }

.sendbird-theme--light .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-light-background-300); }

.sendbird-theme--dark .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-dark-background-400); }

.sendbird-theme--light .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-dark-error-200); }

.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative; }
  .sendbird-avatar:focus {
    outline: none; }
  .sendbird-avatar .sendbird-avatar-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
    transform: translate(2%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
    transform: translate(-102%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
    transform: translate(-50%, -102%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
    transform: translate(-77%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
    transform: translate(-23%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar-img--default {
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-dark-background-300); }

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px; }

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px; }

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-add-channel__rectangle .sendbird-icon {
    position: absolute;
    left: 22px;
    top: 24px; }

.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px; }

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-y: auto; }

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center; }

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-modal__content {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-04); }
  .sendbird-theme--dark .sendbird-modal__content {
    background-color: var(--sendbird-dark-background-500);
    box-shadow: var(--sendbird-dark-shadow-04); }
  .sendbird-modal__content .sendbird-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    cursor: pointer; }
    .sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-modal__content .sendbird-modal__header {
    margin-bottom: 16px; }
  .sendbird-modal__content .sendbird-modal__body {
    height: calc(100% - 116px); }
  .sendbird-modal__content .sendbird-modal__footer {
    margin-top: 32px;
    text-align: right; }
    .sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
      margin-left: 8px;
      width: 80px;
      height: 40px; }

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0; }
  .sendbird-theme--light .sendbird-modal__backdrop {
    background-color: var(--sendbird-light-overlay-02); }
  .sendbird-theme--dark .sendbird-modal__backdrop {
    background-color: var(--sendbird-dark-overlay-02); }

.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer; }
  .sendbird-button:hover {
    box-shadow: none; }
  .sendbird-button:focus {
    outline: none; }
  .sendbird-button:active {
    box-shadow: none; }
  .sendbird-button.sendbird-button__disabled {
    cursor: not-allowed; }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-button--big {
  height: 40px; }
  .sendbird-button--big .sendbird-button__text {
    margin: 10px 16px; }

.sendbird-button--small {
  height: 32px; }
  .sendbird-button--small .sendbird-button__text {
    margin: 6px 16px; }

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400); }

.sendbird-button--secondary {
  background-color: transparent; }
  .sendbird-theme--light .sendbird-button--secondary {
    border: 1px solid var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-button--secondary {
    border: 1px solid var(--sendbird-dark-ondark-03); }
  .sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:hover {
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary.sendbird-button__disabled {
    cursor: not-allowed;
    border: none; }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-dark-ondark-02); }
    .sendbird-button--secondary.sendbird-button__disabled:hover {
      border: none; }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-dark-background-400); }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-light-onlight-02); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-dark-ondark-02); }
  .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary:focus {
    border: 1px solid transparent;
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px; }
    .sendbird-theme--dark .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px; }
    .sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:active {
    box-shadow: none; }
    .sendbird-theme--light .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-button--danger:active {
  box-shadow: none; }
  .sendbird-theme--light .sendbird-button--danger:active {
    background-color: var(--sendbird-light-error-500); }
  .sendbird-theme--dark .sendbird-button--danger:active {
    background-color: var(--sendbird-dark-error-500); }

.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500); }

.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500); }

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-button--disabled {
    background-color: var(--sendbird-light-background-200);
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-button--disabled {
    background-color: var(--sendbird-dark-background-400);
    color: var(--sendbird-dark-onlight-01); }

.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px; }
  .sendbird-theme--light .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item .sendbird-user-list-item__avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    cursor: pointer; }
  .sendbird-user-list-item .sendbird-muted-avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    pointer-events: none; }
  .sendbird-user-list-item .sendbird-user-list-item__title {
    position: absolute;
    top: 17px;
    left: 56px;
    max-width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item .sendbird-user-list-item__action {
    position: absolute;
    right: 0;
    top: 10px; }
  .sendbird-user-list-item .sendbird-user-list-item__operator {
    position: absolute;
    right: 40px;
    top: 22px; }
    .sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
      right: 66px; }

.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block; }
  .sendbird-muted-avatar .sendbird-muted-avatar__icon {
    position: relative; }
    .sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
      position: absolute;
      top: 4px;
      left: 4px; }
  .sendbird-muted-avatar .sendbird-muted-avatar__bg {
    opacity: .5;
    position: absolute;
    border-radius: 50%;
    top: 0;
    left: 0; }
    .sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-dark-primary-300); }

.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none; }

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0; }

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit; }
  .sendbird-theme--light .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-light-background-400); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-dark-background-300); }
  .sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none; }

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block; }

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center; }
  .sendbird-theme--light .sendbird__user-profile {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird__user-profile {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird__user-profile .sendbird__user-profile-avatar {
    margin: 8px 0px; }
  .sendbird__user-profile .sendbird__user-profile-name {
    max-width: 250px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis; }
  .sendbird__user-profile .sendbird__user-profile-message {
    margin-top: 20px; }
    .sendbird__user-profile .sendbird__user-profile-message button {
      width: 272px; }
  .sendbird__user-profile .sendbird__user-profile-separator {
    margin: 24px 0px;
    height: 1px; }
    .sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-dark-ondark-04); }
  .sendbird__user-profile .sendbird__user-profile-userId--label,
  .sendbird__user-profile .sendbird__user-profile-userId--value {
    display: block;
    text-align: left; }
  .sendbird__user-profile .sendbird__user-profile-userId--label {
    margin-bottom: 8px; }

.sendbird-context-menu {
  display: 'inline'; }

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed; }

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
    cursor: pointer;
    white-space: nowrap;
    padding: 8px 16px; }
    .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
    margin: 4px; }

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center; }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
          max-width: 74px;
          justify-content: flex-end; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        display: flex;
        align-items: center;
        margin-left: 8px;
        margin-bottom: 12px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
          display: inline-flex;
          align-items: center;
          margin-right: 4px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-light-secondary-300); }
  .sendbird-theme--dark .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-dark-secondary-200); }

.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block; }
  .sendbird-theme--light .sendbird-badge {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-badge {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-badge .sendbird-badge__text {
    margin: 0px 6px; }

.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }
  .sendbird-mention-user-label:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-mention-user-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-mention-user-label {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-mention-user-label.reverse {
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-mention-user-label.reverse {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-mention-user-label.purple {
    font-family: Roboto;
    font-size: 18px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: normal;
    letter-spacing: normal; }
    .sendbird-theme--light .sendbird-mention-user-label.purple {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-mention-user-label.purple {
      color: var(--sendbird-dark-primary-200); }

.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-light-background-100);
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-dark-background-400);
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-reaction-button__inner {
    margin: 3px; }

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-light-primary-100);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-dark-primary-400);
    background-color: var(--sendbird-dark-primary-400); }
  .sendbird-reaction-button--selected:hover {
    border: solid 1px var(--sendbird-selected-reaction-button-border-hover); }
  .sendbird-reaction-button--selected__inner {
    margin: 3px; }
  .sendbird-reaction-button--selected.sendbird-reactions--pressed {
    display: block !important; }

.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%; }
  .sendbird-message-status .sendbird-message-status__icon {
    position: relative;
    display: inline-block;
    top: -2px; }
    .sendbird-message-status .sendbird-message-status__icon.hide-icon {
      display: none; }
  .sendbird-message-status .sendbird-message-status__text {
    position: relative;
    display: inline-block;
    margin-left: 4px; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
        cursor: pointer; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
        cursor: pointer; }

.sendbird-loader {
  display: inline-block;
  -webkit-animation: 1s infinite linear;
          animation: 1s infinite linear;
  -webkit-animation-name: rotate;
          animation-name: rotate; }

@-webkit-keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

@keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

.sendbird-edit-user-profile section {
  margin-top: 16px; }
  .sendbird-edit-user-profile section .sendbird-input-label {
    display: block;
    margin-bottom: 12px; }

.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px; }

.sendbird-edit-user-profile__img {
  position: relative; }

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px; }

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer; }

.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative; }
  .sendbird-input .sendbird-input__input {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    letter-spacing: normal;
    padding: 10px 16px;
    box-sizing: border-box;
    background-color: inherit; }
    .sendbird-theme--light .sendbird-input .sendbird-input__input {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03); }
    .sendbird-input .sendbird-input__input:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-light-onlight-01);
        border: solid 2px var(--sendbird-light-primary-300); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-dark-ondark-01);
        border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-light-onlight-01);
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-dark-ondark-01);
      border: solid 1px var(--sendbird-dark-primary-200); }
    .sendbird-input .sendbird-input__input:disabled {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-light-background-100);
        color: var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-dark-background-500);
        color: var(--sendbird-dark-ondark-03); }
  .sendbird-input .sendbird-input__placeholder {
    position: absolute;
    pointer-events: none;
    top: 10px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-dark-ondark-03); }

.sendbird-input-label {
  margin: 4px 0; }

.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block; }

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer; }

.sendbird-textbutton--disabled {
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-textbutton--disabled {
    color: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-textbutton--disabled {
    color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300); }

.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%; }
  .sendbird-place-holder .sendbird-place-holder__body {
    display: flex;
    flex-direction: column;
    height: 104px;
    align-items: center; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
      margin-bottom: 10px; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
      margin-top: 10px; }
  .sendbird-place-holder .sendbird-place-holder__body__reconnect {
    margin-top: 18px;
    display: flex;
    flex-direction: row;
    cursor: pointer; }
    .sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
      margin-right: 4px; }
  .sendbird-place-holder .sendbird-place-holder__body--align-top {
    position: absolute;
    top: 24px;
    display: flex;
    width: 100%;
    flex-direction: column;
    justify-content: center; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
      display: flex;
      flex-direction: row;
      justify-content: center;
      padding-left: 16px;
      padding-right: 16px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
        display: flex;
        min-width: 60px;
        margin-right: 2px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
        display: block;
        max-width: calc(100% - 62px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
      display: flex;
      justify-content: center; }

.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-conversation {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-conversation {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-conversation__messages {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2; }

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end; }

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px; }

@-webkit-keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@-webkit-keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@-webkit-keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

.sendbird-msg-hoc__animated .sendbird-message-content {
  -webkit-animation: bounce 1s ease;
          animation: bounce 1s ease; }

@-webkit-keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

@keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  -webkit-animation-name: sbTextHighlight;
          animation-name: sbTextHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body
.sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body
.sendbird-og-message-item-body__cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column; }
  .sendbird-conversation__scroll-container .sendbird-conversation__padding {
    flex: 1 1 0; }

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px; }
  .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
    position: absolute;
    display: inline-flex;
    bottom: 8px; }
    .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
      margin-left: 24px;
      margin-right: 10px; }

.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px; }

.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow: scroll; }

.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px; }

.sendbird-conversation__scroll-bottom-button {
  position: -webkit-sticky;
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1; }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-05); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-dark-background-400);
    box-shadow: var(--sendbird-dark-shadow-05); }
  .sendbird-conversation__scroll-bottom-button:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-conversation__scroll-bottom-button:focus {
    outline: none; }

.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px; }
  .sendbird-theme--light .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
      position: relative;
      display: inline-block; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
      position: relative;
      display: inline-block;
      margin-left: 16px;
      max-width: calc(100% - 250px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
      position: absolute;
      display: inline-block;
      right: 16px;
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
      margin-right: 4px; }

.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center; }
  .sendbird-separator .sendbird-separator__left {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__right {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__text {
    margin: 0px 16px;
    display: flex;
    white-space: nowrap; }

.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative; }
  .sendbird-message-input .sendbird-message-input--textarea {
    width: 100%;
    border-radius: 4px;
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    height: 56px;
    overflow-y: hidden;
    letter-spacing: normal;
    padding: 18px 64px 18px 16px;
    box-sizing: border-box;
    resize: none;
    font-family: var(--sendbird-font-family-default);
    background-color: inherit;
    white-space: pre-wrap; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03);
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-message-input .sendbird-message-input--textarea:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-light-onlight-01);
        border: solid 1px var(--sendbird-light-primary-300);
        box-shadow: var(--sendbird-light-shadow-message-input); }
      .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-dark-ondark-01);
        border: solid 1px var(--sendbird-dark-primary-200);
        box-shadow: var(--sendbird-dark-shadow-message-input); }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-message-input .sendbird-message-input--placeholder {
    position: absolute;
    pointer-events: none;
    top: 18px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-dark-ondark-03); }
  .sendbird-message-input .sendbird-message-input--attach {
    position: absolute;
    right: 12px;
    bottom: 18px;
    padding: 6px; }
  .sendbird-message-input .sendbird-message-input--send {
    position: absolute;
    padding: 6px;
    right: 16px;
    bottom: 16px; }
  .sendbird-message-input .sendbird-message-input--attach-input {
    display: none; }

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-input__edit {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-message-input__edit {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px; }
  .sendbird-message-input--edit-action button:last-child {
    margin-left: 8px; }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
    width: 80px; }
    .sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-dark-ondark-03); }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
    width: 80px; }

.sendbird-message-input-form__disabled {
  cursor: not-allowed; }

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled; }
  .sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-input__disabled svg {
    fill: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-message-input__disabled svg {
    fill: var(--sendbird-dark-ondark-03); }

.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%; }
  .sendbird-message-content.incoming {
    justify-content: flex-start; }
  .sendbird-message-content.outgoing {
    justify-content: flex-end; }
  .sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
    margin-top: -8px;
    bottom: -8px; }

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px; }
  .sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
    position: absolute;
    left: 0px;
    bottom: 2px; }

.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-start; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
    position: absolute;
    bottom: 6px;
    right: -84px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    min-width: 80px; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
      display: none; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
    position: relative;
    margin-left: 12px;
    margin-bottom: 4px; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }

.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
    width: 70px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
    padding-top: 2px; }
    .sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
      padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
    position: relative;
    flex-direction: row;
    height: 32px;
    display: none; }
    .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
    width: 70px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
    top: 18px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
    position: absolute;
    top: 2px;
    right: 4px;
    flex-direction: row;
    display: none; }
    .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-end; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
    position: relative;
    width: -webkit-fit-content;
    width: -moz-fit-content;
    width: fit-content; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
      position: absolute;
      bottom: 2px;
      left: -84px;
      white-space: nowrap;
      display: flex;
      justify-content: flex-end;
      box-sizing: content-box;
      min-width: 80px;
      min-height: 16px; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
        display: none; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
        position: relative;
        display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column; }
  .sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
    width: 100%;
    box-sizing: border-box; }

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px; }
  .sendbird-theme--light .sendbird-message-content-reactions {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-content-reactions {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-dark-primary-300); }

.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none; }

.sendbird-text {
  color: var(--primary-1); }

.sendbird-emoji-reactions {
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px; }
  .sendbird-theme--light .sendbird-emoji-reactions {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-emoji-reactions {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
    display: inline-flex;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px; }
  .sendbird-emoji-reactions:focus {
    outline: none; }

.sendbird-emoji-reactions__add-reaction-badge {
  display: inline-flex;
  width: 36px;
  height: 24px; }

.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px; }
  .sendbird-theme--light .sendbird-tooltip {
    background-color: var(--sendbird-light-background-700); }
  .sendbird-theme--dark .sendbird-tooltip {
    background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip::after {
    content: '';
    position: absolute;
    bottom: -4px;
    width: 8px;
    height: 8px;
    transform: rotate(45deg); }
    .sendbird-theme--light .sendbird-tooltip::after {
      background-color: var(--sendbird-light-background-700); }
    .sendbird-theme--dark .sendbird-tooltip::after {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip__text {
    font-family: var(--sendbird-font-family-default);
    font-size: 12px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.33;
    letter-spacing: normal; }

.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex; }
  .sendbird-tooltip-wrapper__hover-tooltip {
    position: absolute;
    display: inline-flex;
    width: 200px; }
    .sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
      position: relative;
      display: inline-flex; }

.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge--is-add:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }
  .sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    left: 8px; }

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-light-primary-100);
    border: solid 1px var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-dark-primary-400);
    border: solid 1px var(--sendbird-dark-primary-400); }
  .sendbird-reaction-badge--selected:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    position: absolute;
    top: 2px;
    left: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
    margin-left: 4px; }

.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center; }
  .sendbird-admin-message .sendbird-admin-message__text {
    display: flex; }

.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word; }
  .sendbird-text-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
    display: inline;
    margin: 0px 2px; }

div.sendbird-text-message-item-body {
  margin: 0px; }

.sendbird-word {
  display: inline-flex;
  margin-right: 4px;
  height: -webkit-fit-content;
  height: -moz-fit-content;
  height: fit-content; }
  .sendbird-word .sendbird-word__url,
  .sendbird-word .sendbird-word__normal {
    display: inline-block; }

.sendbird-link-label {
  text-decoration: unset; }
  .sendbird-link-label:hover {
    cursor: pointer;
    text-decoration: underline; }
  .sendbird-link-label:focus {
    outline: none; }
  .sendbird-link-label__label {
    display: inline; }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-word .sendbird-word__mention {
  display: inline-block; }
  .sendbird-word .sendbird-word__mention:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-dark-onlight-01); }

.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px; }
  .sendbird-file-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin-right: 8px; }
    .sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
    position: relative;
    top: -6px; }

.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px; }
  .sendbird-thumbnail-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
    position: absolute;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
    position: absolute;
    top: 0px;
    display: none;
    width: 100%;
    height: 270px;
    border-radius: 16px;
    background-color: var(--sendbird-light-overlay-01); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
    position: absolute;
    width: 100%;
    height: 270px;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer; }
  .sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
    display: inline-flex; }

.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
    position: relative;
    padding: 8px 12px;
    box-sizing: border-box;
    border-radius: 16px 16px 0px 0px;
    word-break: break-word; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
      display: inline;
      margin: 0px 2px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
    position: relative;
    overflow: hidden; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center; }
  .sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
    border-radius: 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 8px 12px;
    display: flex;
    flex-direction: column;
    border-radius: 0px 0px 16px 16px; }
    .sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
      margin-bottom: 4px;
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block;
      margin: 4px 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
    display: none;
    position: absolute;
    top: 0%;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px 16px 0px 0px; }

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px; }

.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px; }
  .sendbird-unknown-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
    display: block; }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
    display: block; }

.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px; }
  .sendbird-quote-message.incoming {
    align-items: flex-start; }
  .sendbird-quote-message.outgoing {
    align-items: flex-end; }
  .sendbird-quote-message .sendbird-quote-message__replied-to {
    position: relative;
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    height: 16px;
    padding: 0px 12px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
      position: relative;
      margin-bottom: 4px;
      margin-right: 4px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
      position: relative;
      max-width: 360px;
      overflow: hidden;
      overflow-x: hidden;
      white-space: nowrap;
      word-break: keep-all;
      text-overflow: ellipsis;
      font-size: 12px; }
  .sendbird-quote-message .sendbird-quote-message__replied-message {
    position: relative;
    display: inline-flex; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
      position: relative;
      white-space: pre-wrap;
      word-break: break-all;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
        position: relative;
        display: inline-flex;
        max-height: 30px;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
      position: relative;
      width: 144px;
      height: 108px;
      border-radius: 6.4px;
      overflow: hidden; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
        position: absolute;
        top: 0px;
        display: inline-flex;
        width: 100%;
        height: 100%;
        opacity: 0.5; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center; }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        top: 0px; }
        .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
          position: relative;
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
          .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
          .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
      position: relative;
      display: inline-flex;
      flex-direction: row;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
        margin-right: 2px; }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-message-input-wrapper {
  position: relative;
  width: 100%; }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
    position: relative;
    width: 100%; }
    .sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding-left: 24px;
    padding-right: 24px; }

.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
    width: 44px;
    min-width: 44px;
    height: 44px;
    min-height: 44px;
    position: relative;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-quote_message_input .sendbird-quote_message_input__body {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    overflow: hidden; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-bottom: 8px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__close-button {
    position: absolute;
    top: 26px;
    right: 40px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
      cursor: pointer; }

.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-channel-settings .sendbird-channel-settings__header-icon {
    cursor: pointer;
    position: absolute;
    top: 16px;
    right: 16px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-channel-settings .sendbird-channel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-settings .sendbird-channel-settings__scroll-area {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    height: calc(100% - 64px);
    overflow-y: auto; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-item {
    cursor: pointer;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
      outline: none; }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    position: absolute;
    top: 10px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
    left: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    right: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
    transform: rotate(90deg); }
  .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-dark-ondark-01); }

.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-profile .sendbird-channel-profile--inner {
    height: 92px; }
  .sendbird-channel-profile .sendbird-channel-profile__avatar {
    margin-bottom: 16px;
    display: flex;
    justify-content: center; }
  .sendbird-channel-profile .sendbird-channel-profile__title {
    display: block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-channel-profile .sendbird-channel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }

.channel-profile-form .channel-profile-form__img-section {
  position: relative; }

.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px; }

.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px; }

.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px; }
  .channel-profile-form .channel-profile-form__name-section .sendbird-input {
    height: 40px; }

.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px; }

.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative; }

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow: scroll; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
    right: 72px; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
    max-width: 240px; }

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block; }

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px; }
  .sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
    margin-left: 8px; }

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px; }
  .sendbird-channel-settings__frozen-icon .sendbird-icon {
    cursor: pointer; }

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px; }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-light-onlight-02); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-dark-ondark-02); }

.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-accordion .sendbird-accordion__member {
    position: relative;
    padding: 12px 0px 12px 44px;
    height: 40px;
    box-sizing: border-box; }
  .sendbird-accordion .sendbird-accordion__footer {
    display: flex;
    justify-content: flex-start;
    margin-top: 8px; }

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-accordion__panel-header {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-accordion__panel-header {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-accordion__panel-header:focus {
    outline: none; }
  .sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
    cursor: not-allowed; }

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px; }

.sendbird-accordion__panel-icon-left {
  left: 16px; }

.sendbird-accordion__panel-icon-right {
  right: 16px; }

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg); }

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300); }

.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px; }
  .sendbird-user-list-item--small__avatar {
    cursor: pointer;
    position: absolute;
    top: 10px;
    left: 12px; }
  .sendbird-user-list-item--small .sendbird-muted-avatar {
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 2;
    pointer-events: none; }
  .sendbird-user-list-item--small__title {
    position: absolute;
    top: 10px;
    left: 54px;
    width: 160px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item--small__action {
    display: none;
    position: absolute;
    right: 10px;
    top: 4px; }
  .sendbird-user-list-item--small__operator {
    position: absolute;
    right: 24px;
    top: 10px; }
  .sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
    display: block; }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
    display: none; }
  .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-search-pannel {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-pannel {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
    position: absolute;
    top: 14px;
    left: 48px;
    margin: 0px;
    padding: 0px;
    border: 0px;
    outline: none;
    font-size: 14px;
    width: calc(100% - 90px); }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-light-onlight-01);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-dark-ondark-01);
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
    position: relative;
    display: flex;
    width: 100%;
    height: 64px;
    min-height: 64px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
      position: absolute;
      top: 20px;
      left: 24px;
      width: calc(100% - 74px);
      overflow-x: hidden;
      word-break: keep-all;
      text-overflow: ellipsis; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
      position: absolute;
      top: 16px;
      right: 16px; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input {
    display: flex;
    position: relative;
    padding: 16px;
    box-sizing: border-box; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
      position: relative;
      border-radius: 4px;
      width: 100%;
      height: 44px; }
      .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-dark-ondark-03); }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
        position: absolute;
        top: 10px;
        left: 16px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
        position: absolute;
        top: 12px;
        right: 12px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
        position: absolute;
        top: 12px;
        right: 12px; }
        .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
          cursor: pointer; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow-y: hidden; }

.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow: scroll; }
  .sendbird-theme--light .sendbird-message-search {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-item .sendbird-message-search-item__left {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-item .sendbird-message-search-item__right {
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 12px; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
      box-sizing: border-box;
      display: flex;
      width: inherit;
      height: 32px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 36px;
      word-break: break-word; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
      position: absolute;
      top: 12px;
      right: 18px; }
  .sendbird-message-search-item .sendbird-message-search-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__left {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
      position: absolute;
      top: 12px;
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
      position: absolute;
      top: 36px;
      box-sizing: border-box;
      width: 100%;
      height: 32px;
      display: flex;
      flex-direction: row;
      align-items: center; }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
        position: relative;
        margin-right: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        min-width: 26px;
        height: 26px;
        border-radius: 8px; }
        .sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-light-background-100); }
        .sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-dark-background-500); }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
        height: 16px;
        position: relative;
        display: flex;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: keep-all;
        white-space: nowrap; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
    position: absolute;
    top: 12px;
    right: 18px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box; }
  .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
    width: 320px;
    overflow-y: scroll;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-app__wrap .sendbird-app__conversation-wrap {
    flex: 1;
    position: relative;
    width: calc(100% - 320px); }
  .sendbird-app__wrap .sendbird-app__channellist-wrap {
    max-width: 320px; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-left: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-left: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-chat-header__search {
    margin-right: 16px; }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-channel-settings {
    border-left: none; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
    .sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
      height: 64px; }

.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-conversation {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-conversation {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
    overflow-y: auto;
    flex: 1 1 0;
    order: 2;
    width: 100%; }
  .sendbird-openchannel-conversation .sendbird-openchannel-footer {
    order: 3;
    padding: 12px 24px 24px 24px; }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
    display: flex;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column; }
    .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
      flex: 1 1 0; }

.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-dark-information-100); }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    bottom: 0px;
    height: 100%;
    overflow: hidden; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
      height: 8px; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
      width: 100%;
      height: 100%;
      overflow: scroll; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
      width: 100%;
      height: 100%; }
      .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
        width: 100%;
        height: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    bottom: 8px;
    left: calc(50% - 20px);
    width: 40px;
    height: 40px;
    border-radius: 24px;
    z-index: 1; }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-light-primary-300);
      box-shadow: var(--sendbird-light-shadow-05); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-dark-primary-200);
      box-shadow: var(--sendbird-dark-shadow-05); }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
      cursor: pointer; }
      .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-light-primary-400); }
      .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-dark-primary-300); }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-light-primary-500); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-dark-primary-400); }

.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
    display: block; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
      position: relative;
      display: flex;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 8px 24px 8px 12px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
      position: relative;
      display: flex;
      margin-bottom: 2px; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
      position: relative;
      display: flex;
      width: 100%; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
        position: relative;
        word-break: break-all; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
    position: absolute;
    right: 16px;
    display: none; }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
    word-wrap: break-word; }

.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
    display: block; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: row; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
      position: relative;
      display: flex;
      width: 52px;
      min-width: 52px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
        position: absolute;
        display: flex;
        top: 8px;
        left: 24px; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
      position: relative;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      margin: 8px 24px 8px 12px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
        position: relative;
        display: flex;
        margin-bottom: 2px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
          position: relative;
          display: flex; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
          position: relative;
          display: flex;
          margin-left: 4px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
        position: relative;
        display: inline;
        white-space: pre-wrap;
        word-break: break-all; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
      position: absolute;
      right: 16px;
      display: none; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-light-primary-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
    position: relative;
    display: inline;
    margin-bottom: 8px;
    width: 100%; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
      position: relative;
      display: inline-block;
      box-sizing: border-box;
      width: calc(100% - 64px);
      max-width: 360px;
      left: 64px;
      padding: 12px 12px 4px 12px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-light-onlight-04);
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-dark-ondark-04);
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
        position: relative;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 8px;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
        position: relative;
        display: inline-block;
        white-space: pre-wrap;
        overflow-wrap: normal;
        margin-bottom: 8px;
        max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-light-primary-300); }
          .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-dark-primary-200); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
        position: relative;
        display: block;
        white-space: pre-wrap;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        max-height: 32px;
        margin-bottom: 8px;
        width: 100%;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-top: 4px;
        margin-bottom: 8px;
        width: 100%; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
          cursor: pointer; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
    position: relative;
    left: 64px;
    top: 2px; }

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all; }

.sendbird-theme--light .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-dark-primary-200); }

.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
    display: block; }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
      position: absolute;
      display: inline;
      margin-top: 8px;
      margin-left: 28px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-left: 12px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
      position: relative;
      display: inline;
      margin-bottom: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
        position: relative;
        display: inline;
        margin-right: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
        position: relative;
        display: inline; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
      position: relative;
      display: flex;
      border-radius: 8px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
        opacity: 1; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
        position: relative;
        box-sizing: content-box; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
          position: absolute;
          opacity: 0;
          width: 100%;
          height: 100%;
          max-width: 360px;
          top: 0px;
          left: 0px;
          border-radius: 8px;
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-light-overlay-02); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-dark-overlay-02); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
          max-width: 360px;
          max-height: 360px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
            cursor: pointer; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
            max-width: 360px;
            max-height: 360px;
            border-radius: 8px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
            position: absolute;
            top: calc(50% - 28px);
            left: calc(50% - 28px); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
          border-radius: 8px; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-dark-background-500); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }

.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
    display: block; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
      position: absolute;
      display: block;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    margin-bottom: 4px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
      position: relative;
      display: flex;
      margin-top: 8px; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
      position: relative;
      display: flex;
      margin-top: 4px;
      margin-bottom: 4px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-light-background-100);
        border: solid 1px var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-dark-background-500);
        border: solid 1px var(--sendbird-dark-ondark-04); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
        position: relative;
        display: inline-block;
        margin: 8px;
        border-radius: 8.6px; }
        .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-light-background-50); }
        .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-dark-background-600); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
        position: relative;
        display: flex;
        margin-top: 22px;
        margin-right: 16px;
        margin-left: 4px;
        overflow: hidden;
        height: 20px;
        max-height: 20px;
        text-overflow: ellipsis;
        white-space: nowrap; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative; }
  .sendbird-theme--light .sendbird-openchannel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-participants-accordion__footer {
    text-align: left;
    padding-top: 16px;
    padding-left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
    position: absolute;
    left: 14px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
    position: absolute;
    left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
    height: 100%; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
      padding-top: 64px;
      height: calc(100% - 64px);
      overflow-y: scroll; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
      display: block;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0; }
      .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-settings .sendbird-participants-accordion,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
    text-align: left; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
    margin-top: 40%; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    padding: 16px;
    box-sizing: border-box;
    position: relative; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
      display: inline-block; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
      cursor: pointer;
      position: absolute;
      display: none;
      top: 10px;
      right: 18px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
      margin-top: 8px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
      text-align: left;
      display: block;
      word-wrap: break-word; }
  .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
    display: block;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
      outline: none; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member {
    position: relative;
    padding: 12px 0px 12px 56px;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
      max-width: 190px;
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
      position: absolute;
      right: 16px; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
      display: inline-block; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
    position: absolute;
    left: 16px;
    top: 10px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
    position: absolute;
    display: none;
    top: 4px;
    right: 8px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
  .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
    padding-top: 16px;
    display: flex;
    justify-content: left;
    padding-left: 12px; }
    .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
      margin-left: 8px; }

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll; }

.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
    height: 116px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
    margin-bottom: 16px;
    text-align: center; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__title {
    display: inline-block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }`;aa(Zoe);var ele=function(e){var n=e.userId,t=e.appId,r=e.accessToken,i=e.chatInstance;return ya(void 0,void 0,void 0,function(){var o;return Ea(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Cr.exports.SendbirdLive.init({appId:t,chatInstance:i}),[4,Cr.exports.SendbirdLive.authenticate(n,r)];case 1:return u.sent(),[3,3];case 2:return o=u.sent(),console.error(o),[3,3];case 3:return[2]}})})},nle=function(){function e(){this._topics={},this._topics={}}return e.prototype.subscribe=function(n,t){var r=this;this._topics[n]||(this._topics[n]=[]);var i=this._topics[n].push(t)-1;return{remove:function(){delete r._topics[n][i]}}},e.prototype.publish=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];!this._topics[n]||this._topics[n].forEach(function(i){i.apply(void 0,t)})},e}(),qo=x.createContext({});function zh(){var e=U.exports.useContext(R3);return e}function tle(e){var n=this,t,r,i,o,u=e.userId,c=e.appId,h=e.accessToken,f=e.customApiHost,v=e.customWebSocketHost,_=e.children,y=e.theme,E=e.colorSet,k=e.stringSet,S=e.imageSet,D=e.fontSet,N=U.exports.useState(!1),C=N[0],A=N[1],q=U.exports.useState(),K=q[0],z=q[1],V=zh(),W=(r=(t=V==null?void 0:V.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,de=(o=(i=V==null?void 0:V.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized;return U.exports.useEffect(function(){var le=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(Ie){switch(Ie.label){case 0:return de?[4,ele({userId:u,appId:c,accessToken:h,chatInstance:W})]:[2];case 1:return Ie.sent(),z(new nle),A(!0),[2]}})})};le()},[u,c,h,de]),x.createElement(qo.Provider,{value:{userId:u,appId:c,accessToken:h,customApiHost:f,customWebSocketHost:v,children:_,theme:y,colorSet:E,stringSet:k,imageSet:S,fontSet:D,pubSub:K}},C?_:x.createElement("div",null))}var pU=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(e){return"".concat(e,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(e){return"".concat(e," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(e){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(e){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(e){return"".concat(e)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function rle(e){var n=e.userId,t=e.appId,r=e.nickname,i=e.accessToken;e.customApiHost,e.customWebSocketHost,e.children,e.theme;var o=e.colorSet,u=e.stringSet,c=U.exports.useMemo(function(){return u?Ou(Ou({},pU()),u):pU()},[u]);return x.createElement(J3,{userId:n,appId:t,nickname:r,accessToken:i,colorSet:o},x.createElement(tle,Ou({},e,{stringSet:c})))}var fU,mU,gU;function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lw.apply(this,arguments)}var ile=function(n){return U.exports.createElement("svg",lw({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},n),fU||(fU=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},U.exports.createElement("path",{d:"M112 0v64H0V0h112z"})),U.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},U.exports.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),mU||(mU=U.exports.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),gU||(gU=U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},U.exports.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),U.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},U.exports.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},ale=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;aa(ale);function sle(e){var n,t,r=e.liveEvent,i=e.onClick,o=e.showHostNickname,u=o===void 0?!0:o,c=e.showStatusLabel,h=c===void 0?!0:c,f=U.exports.useContext(qo).stringSet,v=function(_){switch(_){case"created":return f.EVENT_STATUS_CREATED;case"ready":return f.EVENT_STATUS_READY;case"ongoing":return f.EVENT_STATUS_ONGOING;case"ended":return f.EVENT_STATUS_ENDED}};return x.createElement("div",{className:"live-event-elem",onClick:function(){return i(r)}},x.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?x.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):x.createElement(ile,{viewBox:"0 0 112 64",width:112,height:64})),x.createElement("div",{className:"detail"},x.createElement("div",{className:"title__wrapper"},x.createElement("div",{className:"title"},r.title?r.title:f.CREATE_EVENT_DEFAULT_TITLE),x.createElement("div",{className:"participant-count__wrapper"},r.state===Cr.exports.LiveEventState.ONGOING?x.createElement("div",{className:"participant-icon--red"}):x.createElement("div",{className:"participant-icon--grey"}),x.createElement("div",{className:"participant-count"},(n=r.participantCount)!==null&&n!==void 0?n:0))),u&&x.createElement("div",{className:"created-by"},r.host?(t=r.host.nickname)!==null&&t!==void 0?t:"HOST":f.LIST_HOST_NICKNAME_PLACEHOLDER),h&&x.createElement("div",{className:"event-state--".concat(r.state)},v(r.state))))}var vU;function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},uw.apply(this,arguments)}var ole=function(n){return U.exports.createElement("svg",uw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),vU||(vU=U.exports.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function lle(e){var n=this,t=e.onClickCreate,r=e.onClickElem,i=e.queryParams,o=e.renderTitle,u=e.renderCreateButton,c=e.renderLiveEventElem,h=e.showStatusLabel,f=h===void 0?!0:h,v=e.showHostNickname,_=v===void 0?!0:v,y=U.exports.useContext(qo).stringSet,E=i||{limit:20},k=U.exports.useState(Cr.exports.SendbirdLive.createLiveEventListQuery(E)),S=k[0],D=k[1],N=U.exports.useRef(null),C=U.exports.useState([]),A=C[0],q=C[1],K=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(W){switch(W.label){case 0:return D(Cr.exports.SendbirdLive.createLiveEventListQuery(E)),N.current&&(N.current.scrollTop=0),[4,z(!0)];case 1:return W.sent(),[2]}})})},z=function(W){return ya(n,void 0,void 0,function(){var de;return Ea(this,function(le){switch(le.label){case 0:if(!S.hasNext)return[2];le.label=1;case 1:return le.trys.push([1,3,,4]),[4,S.next()];case 2:return de=le.sent(),W?q(de):(D(S),q(Ga(Ga([],A,!0),de,!0))),[3,4];case 3:return le.sent(),[3,4];case 4:return[2]}})})},V=function(){if(N.current){var W=N.current,de=W.scrollTop,le=W.scrollHeight,Ie=W.clientHeight;de+Ie===le&&z(!1)}};return U.exports.useEffect(function(){K()},[i]),x.createElement("div",{className:"live-event-list-view"},x.createElement("div",{className:"header"},(o==null?void 0:o())||x.createElement("div",{className:"title"},y.LIST_HEADER_TITLE),x.createElement("div",{className:"refresh",onClick:K},x.createElement(ole,{viewBox:"0 0 64 64",width:22,height:22})),(u==null?void 0:u())||x.createElement("div",{className:"create-button",onClick:t},y.LIST_HEADER_BUTTON)),x.createElement("div",{className:"list",ref:N,onScroll:V},A.map(function(W){return(c==null?void 0:c({liveEvent:W,onClick:r}))||x.createElement(sle,{key:W.liveEventId,liveEvent:W,showStatusLabel:f,showHostNickname:_,onClick:r})})))}var Av="SEND_MESSAGE_START",Rv="SEND_USER_MESSAGE",Mv="SEND_FILE_MESSAGE",cw="UPDATE_USER_MESSAGE",dw="DELETE_MESSAGE",ule="CREATE_CHANNEL",Vg=function(){},A0=x.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null}),Z3=function(n){var t=n.children;return x.createElement(A0.Provider,{value:n},t)};Z3.propTypes={children:ue.exports.oneOfType([ue.exports.element,ue.exports.arrayOf(ue.exports.element),ue.exports.any]).isRequired,isOpenChannel:ue.exports.bool,disableUserProfile:ue.exports.bool,renderUserProfile:ue.exports.func};Z3.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var ws={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},Io={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function cle(e){switch(e){case ws.H_1:return"sendbird-label--h-1";case ws.H_2:return"sendbird-label--h-2";case ws.SUBTITLE_1:return"sendbird-label--subtitle-1";case ws.SUBTITLE_2:return"sendbird-label--subtitle-2";case ws.BODY_1:return"sendbird-label--body-1";case ws.BODY_2:return"sendbird-label--body-2";case ws.BUTTON_1:return"sendbird-label--button-1";case ws.BUTTON_2:return"sendbird-label--button-2";case ws.CAPTION_1:return"sendbird-label--caption-1";case ws.CAPTION_2:return"sendbird-label--caption-2";case ws.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function _9(e){switch(e){case Io.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case Io.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case Io.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case Io.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case Io.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case Io.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case Io.PRIMARY:return"sendbird-label--color-primary";case Io.ERROR:return"sendbird-label--color-error";case Io.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}function Wn(e){var n=e.className,t=e.type,r=e.color,i=e.children;return x.createElement("span",{className:[].concat(Mc(Array.isArray(n)?n:[n]),["sendbird-label",t?cle(t):"",r?_9(r):""]).join(" ")},i)}Wn.propTypes={className:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),type:ue.exports.oneOf(["H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3"]),color:ue.exports.oneOf(["ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ONCONTENT_1","ONCONTENT_2","PRIMARY","ERROR","SECONDARY_3"]),children:ue.exports.oneOfType([ue.exports.string,ue.exports.number,ue.exports.element,ue.exports.any])};Wn.defaultProps={className:[],type:"",color:"",children:null};var Vn=ws,Pn=Io,Lu=x.forwardRef(function(e,n){var t=e.className,r=t===void 0?"":t,i=e.children,o=e.disabled,u=o===void 0?!1:o,c=e.width,h=c===void 0?"56px":c,f=e.height,v=f===void 0?"56px":f,_=e.type,y=_===void 0?"button":_,E=e.style,k=E===void 0?{}:E,S=e.onBlur,D=S===void 0?function(){}:S,N=e.onClick,C=N===void 0?function(){}:N,A=U.exports.useState(!1),q=A[0],K=A[1];return x.createElement("button",{className:Ln(Ln([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",q?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:u,ref:n,type:y,style:rn(rn({},k),{height:v,width:h}),onClick:function(V){u||(K(!0),C==null||C(V))},onBlur:function(V){K(!1),D==null||D(V)}},x.createElement("span",{className:"sendbird-iconbutton__inner"},i))}),xs=function(n){var t=n.className,r=t===void 0?"":t,i=n.url,o=n.alt,u=o===void 0?"":o,c=n.width,h=c===void 0?null:c,f=n.height,v=f===void 0?null:f,_=n.circle,y=_===void 0?!1:_,E=n.fixedSize,k=E===void 0?!1:E,S=n.placeHolder,D=S===void 0?null:S,N=n.defaultComponent,C=N===void 0?null:N,A=n.onLoad,q=A===void 0?function(){}:A,K=n.onError,z=K===void 0?function(){}:K,V=U.exports.useState(!1),W=V[0],de=V[1],le=U.exports.useState(!0),Ie=le[0],ye=le[1],te=U.exports.useMemo(function(){return typeof C=="function"?C():C},[C]),he=U.exports.useMemo(function(){return D&&typeof D=="function"?D({style:{width:"100%",minWidth:h,maxWidth:k?h:"400px",height:v,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null},[D]),ce=U.exports.useMemo(function(){return de(!1),x.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:i,alt:u,onLoad:function(){ye(!1),q()},onError:function(){de(!0),z()}})},[i]);return x.createElement("div",{className:Ln(Ln([],Array.isArray(r)?r:[r],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:h,maxWidth:k?h:"400px",height:v}},Ie&&he,W?te:x.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:h,maxWidth:k?h:"400px",height:v,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(i,")"),borderRadius:y?"50%":null}}),ce)},Ue={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},_U;function hw(){return hw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hw.apply(this,arguments)}function dle(e){return U.exports.createElement("svg",hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),_U||(_U=U.exports.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var bU;function pw(){return pw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pw.apply(this,arguments)}function hle(e){return U.exports.createElement("svg",pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),bU||(bU=U.exports.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var yU;function fw(){return fw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fw.apply(this,arguments)}function ple(e){return U.exports.createElement("svg",fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),yU||(yU=U.exports.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var EU;function mw(){return mw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mw.apply(this,arguments)}function fle(e){return U.exports.createElement("svg",mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),EU||(EU=U.exports.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var wU;function gw(){return gw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gw.apply(this,arguments)}function mle(e){return U.exports.createElement("svg",gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),wU||(wU=U.exports.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var xU;function vw(){return vw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vw.apply(this,arguments)}function gle(e){return U.exports.createElement("svg",vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),xU||(xU=U.exports.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var kU;function _w(){return _w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_w.apply(this,arguments)}function vle(e){return U.exports.createElement("svg",_w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),kU||(kU=U.exports.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var CU;function bw(){return bw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bw.apply(this,arguments)}function _le(e){return U.exports.createElement("svg",bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),CU||(CU=U.exports.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var SU;function yw(){return yw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yw.apply(this,arguments)}function ble(e){return U.exports.createElement("svg",yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),SU||(SU=U.exports.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var NU;function Ew(){return Ew=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ew.apply(this,arguments)}function yle(e){return U.exports.createElement("svg",Ew({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),NU||(NU=U.exports.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var TU;function ww(){return ww=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ww.apply(this,arguments)}function Ele(e){return U.exports.createElement("svg",ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),TU||(TU=U.exports.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var IU;function xw(){return xw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xw.apply(this,arguments)}function wle(e){return U.exports.createElement("svg",xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),IU||(IU=U.exports.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var OU;function kw(){return kw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kw.apply(this,arguments)}function xle(e){return U.exports.createElement("svg",kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),OU||(OU=U.exports.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var AU;function Cw(){return Cw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cw.apply(this,arguments)}function kle(e){return U.exports.createElement("svg",Cw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),AU||(AU=U.exports.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var RU;function Sw(){return Sw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sw.apply(this,arguments)}function Cle(e){return U.exports.createElement("svg",Sw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),RU||(RU=U.exports.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var MU;function Nw(){return Nw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nw.apply(this,arguments)}function Sle(e){return U.exports.createElement("svg",Nw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),MU||(MU=U.exports.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var DU;function Tw(){return Tw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Tw.apply(this,arguments)}function Nle(e){return U.exports.createElement("svg",Tw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),DU||(DU=U.exports.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var UU;function Iw(){return Iw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Iw.apply(this,arguments)}function Tle(e){return U.exports.createElement("svg",Iw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),UU||(UU=U.exports.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var LU;function Ow(){return Ow=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ow.apply(this,arguments)}function Ile(e){return U.exports.createElement("svg",Ow({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),LU||(LU=U.exports.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var PU;function Aw(){return Aw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Aw.apply(this,arguments)}function Ole(e){return U.exports.createElement("svg",Aw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),PU||(PU=U.exports.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var FU;function Rw(){return Rw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rw.apply(this,arguments)}function Ale(e){return U.exports.createElement("svg",Rw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),FU||(FU=U.exports.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var HU;function Mw(){return Mw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mw.apply(this,arguments)}function Rle(e){return U.exports.createElement("svg",Mw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},e),HU||(HU=U.exports.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var qU;function Dw(){return Dw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dw.apply(this,arguments)}function Mle(e){return U.exports.createElement("svg",Dw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),qU||(qU=U.exports.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var BU;function Uw(){return Uw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uw.apply(this,arguments)}function Dle(e){return U.exports.createElement("svg",Uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),BU||(BU=U.exports.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var GU;function Lw(){return Lw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Lw.apply(this,arguments)}function Ule(e){return U.exports.createElement("svg",Lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),GU||(GU=U.exports.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var zU;function Pw(){return Pw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pw.apply(this,arguments)}function Lle(e){return U.exports.createElement("svg",Pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),zU||(zU=U.exports.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var $U;function Fw(){return Fw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fw.apply(this,arguments)}function Ple(e){return U.exports.createElement("svg",Fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),$U||($U=U.exports.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var jU;function Hw(){return Hw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Hw.apply(this,arguments)}function Fle(e){return U.exports.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),jU||(jU=U.exports.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var VU;function qw(){return qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qw.apply(this,arguments)}function Hle(e){return U.exports.createElement("svg",qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),VU||(VU=U.exports.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var WU;function Bw(){return Bw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Bw.apply(this,arguments)}function qle(e){return U.exports.createElement("svg",Bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),WU||(WU=U.exports.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var KU;function Gw(){return Gw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gw.apply(this,arguments)}function Ble(e){return U.exports.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),KU||(KU=U.exports.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var QU;function zw(){return zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zw.apply(this,arguments)}function Gle(e){return U.exports.createElement("svg",zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),QU||(QU=U.exports.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var YU;function $w(){return $w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$w.apply(this,arguments)}function zle(e){return U.exports.createElement("svg",$w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),YU||(YU=U.exports.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var XU;function jw(){return jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jw.apply(this,arguments)}function $le(e){return U.exports.createElement("svg",jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),XU||(XU=U.exports.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var JU;function Vw(){return Vw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vw.apply(this,arguments)}function jle(e){return U.exports.createElement("svg",Vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),JU||(JU=U.exports.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var ZU;function Ww(){return Ww=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ww.apply(this,arguments)}function Vle(e){return U.exports.createElement("svg",Ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),ZU||(ZU=U.exports.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var eL;function Kw(){return Kw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kw.apply(this,arguments)}function Wle(e){return U.exports.createElement("svg",Kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),eL||(eL=U.exports.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var nL;function Qw(){return Qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qw.apply(this,arguments)}function Kle(e){return U.exports.createElement("svg",Qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),nL||(nL=U.exports.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var tL;function Yw(){return Yw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yw.apply(this,arguments)}function Qle(e){return U.exports.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),tL||(tL=U.exports.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var rL;function Xw(){return Xw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xw.apply(this,arguments)}function Yle(e){return U.exports.createElement("svg",Xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),rL||(rL=U.exports.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var iL;function Jw(){return Jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jw.apply(this,arguments)}function Xle(e){return U.exports.createElement("svg",Jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),iL||(iL=U.exports.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var aL;function Zw(){return Zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zw.apply(this,arguments)}function Jle(e){return U.exports.createElement("svg",Zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),aL||(aL=U.exports.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var sL;function ex(){return ex=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ex.apply(this,arguments)}function Zle(e){return U.exports.createElement("svg",ex({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),sL||(sL=U.exports.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var oL;function nx(){return nx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nx.apply(this,arguments)}function eue(e){return U.exports.createElement("svg",nx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),oL||(oL=U.exports.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var lL;function tx(){return tx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tx.apply(this,arguments)}function nue(e){return U.exports.createElement("svg",tx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),lL||(lL=U.exports.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var uL;function rx(){return rx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rx.apply(this,arguments)}function tue(e){return U.exports.createElement("svg",rx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),uL||(uL=U.exports.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var cL;function ix(){return ix=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ix.apply(this,arguments)}function rue(e){return U.exports.createElement("svg",ix({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),cL||(cL=U.exports.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var dL;function ax(){return ax=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ax.apply(this,arguments)}function iue(e){return U.exports.createElement("svg",ax({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),dL||(dL=U.exports.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var hL;function sx(){return sx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},sx.apply(this,arguments)}function aue(e){return U.exports.createElement("svg",sx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),hL||(hL=U.exports.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var pL;function ox(){return ox=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ox.apply(this,arguments)}function sue(e){return U.exports.createElement("svg",ox({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),pL||(pL=U.exports.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var fL;function lx(){return lx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lx.apply(this,arguments)}function oue(e){return U.exports.createElement("svg",lx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),fL||(fL=U.exports.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var mL;function ux(){return ux=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ux.apply(this,arguments)}function lue(e){return U.exports.createElement("svg",ux({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),mL||(mL=U.exports.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var gL;function cx(){return cx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cx.apply(this,arguments)}function uue(e){return U.exports.createElement("svg",cx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),gL||(gL=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var vL;function dx(){return dx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dx.apply(this,arguments)}function cue(e){return U.exports.createElement("svg",dx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),vL||(vL=U.exports.createElement("g",{fill:"none",fillRule:"evenodd"},U.exports.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),U.exports.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),U.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),U.exports.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var _L;function hx(){return hx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hx.apply(this,arguments)}function due(e){return U.exports.createElement("svg",hx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),_L||(_L=U.exports.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var na={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function hue(e){switch(e){case na.PRIMARY:return"sendbird-icon-color--primary";case na.SECONDARY:return"sendbird-icon-color--secondary";case na.CONTENT:return"sendbird-icon-color--content";case na.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case na.WHITE:return"sendbird-icon-color--white";case na.GRAY:return"sendbird-icon-color--gray";case na.SENT:return"sendbird-icon-color--sent";case na.READ:return"sendbird-icon-color--read";case na.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case na.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case na.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case na.BACKGROUND_3:return"sendbird-icon-color--background-3";case na.ERROR:return"sendbird-icon-color--error";default:return""}}function pue(e){switch(e){case Ue.ADD:return x.createElement(dle,null);case Ue.ARROW_LEFT:return x.createElement(hle,null);case Ue.ATTACH:return x.createElement(ple,null);case Ue.BAN:return x.createElement(fle,null);case Ue.BROADCAST:return x.createElement(mle,null);case Ue.CAMERA:return x.createElement(gle,null);case Ue.CHANNELS:return x.createElement(vle,null);case Ue.CHAT:return x.createElement(_le,null);case Ue.CHAT_FILLED:return x.createElement(ble,null);case Ue.CHEVRON_DOWN:return x.createElement(yle,null);case Ue.CHEVRON_RIGHT:return x.createElement(Ele,null);case Ue.CLOSE:return x.createElement(wle,null);case Ue.COLLAPSE:return x.createElement(xle,null);case Ue.COPY:return x.createElement(kle,null);case Ue.CREATE:return x.createElement(Cle,null);case Ue.DELETE:return x.createElement(Sle,null);case Ue.DISCONNECTED:return x.createElement(Nle,null);case Ue.DOCUMENT:return x.createElement(Tle,null);case Ue.DONE:return x.createElement(Ile,null);case Ue.DONE_ALL:return x.createElement(Ole,null);case Ue.DOWNLOAD:return x.createElement(Ale,null);case Ue.EDIT:return x.createElement(Rle,null);case Ue.EMOJI_MORE:return x.createElement(Mle,null);case Ue.ERROR:return x.createElement(Dle,null);case Ue.EXPAND:return x.createElement(Ule,null);case Ue.FILE_AUDIO:return x.createElement(Lle,null);case Ue.FILE_DOCUMENT:return x.createElement(Ple,null);case Ue.FREEZE:return x.createElement(Fle,null);case Ue.GIF:return x.createElement(Hle,null);case Ue.INFO:return x.createElement(qle,null);case Ue.LEAVE:return x.createElement(Ble,null);case Ue.MEMBERS:return x.createElement(Gle,null);case Ue.MESSAGE:return x.createElement(zle,null);case Ue.MODERATIONS:return x.createElement($le,null);case Ue.MORE:return x.createElement(jle,null);case Ue.MUTE:return x.createElement(Vle,null);case Ue.NOTIFICATIONS:return x.createElement(Wle,null);case Ue.NOTIFICATIONS_OFF_FILLED:return x.createElement(Kle,null);case Ue.OPERATOR:return x.createElement(Qle,null);case Ue.PHOTO:return x.createElement(Yle,null);case Ue.PLAY:return x.createElement(Xle,null);case Ue.PLUS:return x.createElement(Jle,null);case Ue.QUESTION:return x.createElement(Zle,null);case Ue.REFRESH:return x.createElement(eue,null);case Ue.REMOVE:return x.createElement(nue,null);case Ue.REPLY:return x.createElement(tue,null);case Ue.SEARCH:return x.createElement(rue,null);case Ue.SEND:return x.createElement(iue,null);case Ue.SETTINGS_FILLED:return x.createElement(aue,null);case Ue.SPINNER:return x.createElement(sue,null);case Ue.SUPERGROUP:return x.createElement(oue,null);case Ue.THUMBNAIL_NONE:return x.createElement(lue,null);case Ue.TOGGLE_OFF:return x.createElement(uue,null);case Ue.TOGGLE_ON:return x.createElement(cue,null);case Ue.USER:return x.createElement(due,null);default:return"icon"}}function fue(e){switch(e){case Ue.ADD:return"sendbird-icon-add";case Ue.ARROW_LEFT:return"sendbird-icon-arrow-left";case Ue.ATTACH:return"sendbird-icon-attach";case Ue.BAN:return"sendbird-icon-ban";case Ue.BROADCAST:return"sendbird-icon-broadcast";case Ue.CAMERA:return"sendbird-icon-camera";case Ue.CHANNELS:return"sendbird-icon-channels";case Ue.CHAT:return"sendbird-icon-chat";case Ue.CHAT_FILLED:return"sendbird-icon-chat-filled";case Ue.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case Ue.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case Ue.CLOSE:return"sendbird-icon-close";case Ue.COLLAPSE:return"sendbird-icon-collapse";case Ue.COPY:return"sendbird-icon-copy";case Ue.CREATE:return"sendbird-icon-create";case Ue.DELETE:return"sendbird-icon-delete";case Ue.DISCONNECTED:return"sendbird-icon-disconnected";case Ue.DOCUMENT:return"sendbird-icon-document";case Ue.DONE:return"sendbird-icon-done";case Ue.DONE_ALL:return"sendbird-icon-done-all";case Ue.DOWNLOAD:return"sendbird-icon-down-load";case Ue.EDIT:return"sendbird-icon-edit";case Ue.EMOJI_MORE:return"sendbird-icon-emoji-more";case Ue.ERROR:return"sendbird-icon-error";case Ue.EXPAND:return"sendbird-icon-expand";case Ue.FILE_AUDIO:return"sendbird-icon-file-audio";case Ue.FILE_DOCUMENT:return"sendbird-icon-file-document";case Ue.FREEZE:return"sendbird-icon-freeze";case Ue.GIF:return"sendbird-icon-gif";case Ue.INFO:return"sendbird-icon-info";case Ue.LEAVE:return"sendbird-icon-leave";case Ue.MEMBERS:return"sendbird-icon-members";case Ue.MESSAGE:return"sendbird-icon-message";case Ue.MODERATIONS:return"sendbird-icon-moderations";case Ue.MORE:return"sendbird-icon-more";case Ue.MUTE:return"sendbird-icon-mute";case Ue.NOTIFICATIONS:return"sendbird-icon-notifications";case Ue.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case Ue.OPERATOR:return"sendbird-icon-operator";case Ue.PHOTO:return"sendbird-icon-photo";case Ue.PLAY:return"sendbird-icon-play";case Ue.PLUS:return"sendbird-iconn-plus";case Ue.QUESTION:return"sendbird-icon-question";case Ue.REFRESH:return"sendbird-icon-refresh";case Ue.REMOVE:return"sendbird-icon-remove";case Ue.REPLY:return"sendbird-icon-reply";case Ue.SEARCH:return"sendbird-icon-search";case Ue.SEND:return"sendbird-icon-send";case Ue.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case Ue.SPINNER:return"sendbird-icon-spinner";case Ue.SUPERGROUP:return"sendbird-icon-supergroup";case Ue.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case Ue.TOGGLE_OFF:return"sendbird-icon-toggle-off";case Ue.TOGGLE_ON:return"sendbird-icon-toggle-on";case Ue.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}function ft(e){var n=e.className,t=e.type,r=e.fillColor,i=e.width,o=e.height,u=e.onClick,c=e.children,h={width:typeof i=="string"?i:"".concat(i,"px"),minWidth:typeof i=="string"?i:"".concat(i,"px"),height:typeof o=="string"?o:"".concat(o,"px"),minHeight:typeof o=="string"?o:"".concat(o,"px")};return x.createElement("div",{className:[].concat(Mc(Array.isArray(n)?n:[n]),["sendbird-icon",fue(t),hue(r)]).join(" "),role:"button",onClick:u,onKeyDown:u,tabIndex:"0",style:h},c||pue(t))}ft.propTypes={className:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),type:ue.exports.oneOfType([ue.exports.oneOf(Object.keys(Ue)),ue.exports.string]).isRequired,fillColor:ue.exports.oneOf(Object.keys(na)),width:ue.exports.oneOfType([ue.exports.string,ue.exports.number]),height:ue.exports.oneOfType([ue.exports.string,ue.exports.number]),onClick:ue.exports.func,children:ue.exports.element};ft.defaultProps={className:"",fillColor:na.DEFAULT,width:26,height:26,onClick:function(){},children:null};var st=Ue,It=na,bL=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=Number.parseFloat(e);if(!Number.isNaN(n))return n}return null},il="sendbird-avatar-img",mue=function(n){var t=n.width,r=n.height,i=bL(t),o=bL(r);return typeof i=="number"&&(i*=.575),typeof o=="number"&&(o*=.575),x.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:r}},x.createElement(ft,{type:st.USER,fillColor:It.CONTENT,width:i,height:o}))},gue=function(n){var t=n.width,r=n.height;return x.createElement(mue,{width:t,height:r})},vue=function(n){var t=n.src,r=t===void 0?"":t,i=n.alt,o=i===void 0?"":i,u=n.height,c=n.width,h=n.customDefaultComponent,f=function(){return h?h({width:c,height:u}):gue({width:c,height:u})};return typeof r=="string"?x.createElement(xs,{className:il,url:r,height:u,width:c,alt:o,defaultComponent:f}):r&&r.length?r.length===1?x.createElement(xs,{className:il,url:r[0],height:u,width:c,alt:o,defaultComponent:f}):r.length===2?x.createElement("div",{className:"sendbird-avatar--inner__two-child"},x.createElement(xs,{className:il,url:r[0],height:u,width:c,alt:o,defaultComponent:f}),x.createElement(xs,{className:il,url:r[1],height:u,width:c,alt:o,defaultComponent:f})):r.length===3?x.createElement(x.Fragment,null,x.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},x.createElement(xs,{className:il,url:r[0],height:u,width:c,alt:o,defaultComponent:f})),x.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},x.createElement(xs,{className:il,url:r[1],height:u,width:c,alt:o,defaultComponent:f}),x.createElement(xs,{className:il,url:r[2],height:u,width:c,alt:o,defaultComponent:f}))):x.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(v){return x.createElement(xs,{className:il,url:v,height:u,width:c,alt:o,key:$c(),defaultComponent:f})})):x.createElement(xs,{className:il,url:"",height:u,width:c,alt:o,defaultComponent:f})};function _ue(e,n){var t=e.className,r=t===void 0?"":t,i=e.src,o=i===void 0?"":i,u=e.alt,c=u===void 0?"":u,h=e.width,f=h===void 0?"56px":h,v=e.height,_=v===void 0?"56px":v,y=e.onClick,E=e.customDefaultComponent;return x.createElement("div",{className:Ln(Ln([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:n,style:{height:_,width:f},onClick:y,onKeyDown:y,tabIndex:0},x.createElement(vue,{src:o,width:f,height:_,alt:c,customDefaultComponent:E}))}var ad=x.forwardRef(_ue),Ol=function(n){var t=n.stores,r=t===void 0?{}:t,i=r.sdkStore,o=i===void 0?{}:i,u=o.sdk;return u},$u=function(n){var t=n.config,r=t===void 0?{}:t,i=r.pubSub;return i},bue=function(n){return function(t,r){return new Promise(function(i,o){var u=Ol(n);u||o(new Error("Sdk not found")),(u==null?void 0:u.connect)&&typeof u.connect=="function"||o(new Error('Not found the function "connect')),r?u.connect(t,r).then(function(c){return i(c)}).catch(function(c){return o(c)}):u.connect(t).then(function(c){return i(c)}).catch(function(c){return o(c)})})}},yue=function(n){return function(){return new Promise(function(t,r){var i=Ol(n);i||r(new Error("Sdk not found")),i.disconnect&&typeof i.disconnect=="function"||r(new Error('Not found the function "disconnect')),i.disconnect().then(function(o){return t(o)}).catch(function(o){return r(o)})})}},Eue=function(n){return function(t,r){return new Promise(function(i,o){var u=Ol(n);u||o(new Error("Sdk not found")),u.updateCurrentUserInfo&&typeof u.updateCurrentUserInfo=="function"||o(new Error('Not found the function "updateCurrentUserInfo"'));var c={nickname:t};r&&(c.profileUrl=r),u.updateCurrentUserInfo(c).then(function(h){return i(h)}).catch(function(h){return o(h)})})}},b9=function(n){return function(t){return new Promise(function(r,i){var o=Ol(n),u=$u(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.createChannel&&typeof o.groupChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.groupChannel.createChannel(t).then(function(c){r(c),u.publish(ule,{channel:c})}).catch(i)})}},wue=function(n){return function(t){return new Promise(function(r,i){var o=Ol(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.createChannel&&typeof o.openChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.openChannel.createChannel(t).then(function(u){r(u)}).catch(i)})}},y9=function(n){return function(t){return new Promise(function(r,i){var o=Ol(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.getChannel&&typeof o.groupChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.groupChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},ek=function(n){return function(t){return new Promise(function(r,i){var o=Ol(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.getChannel&&typeof o.openChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.openChannel.getChannel(t).then(function(u){r(u)}).catch(i)})}},xue=function(n){return function(t){return new Promise(function(r,i){var o;(o=y9(n))===null||o===void 0||o(t).then(function(u){u.leave().then(function(){r()}).catch(i)}).catch(i)})}},kue=function(n){return function(t){return new Promise(function(r,i){var o;(o=ek(n))===null||o===void 0||o(t).then(function(u){u.enter().then(function(){r(u)}).catch(i)}).catch(i)})}},Cue=function(n){return function(t){return new Promise(function(r,i){var o;(o=ek(n))===null||o===void 0||o(t).then(function(u){u.exit().then(function(){r(u)}).catch(i)}).catch(i)})}},Sue=function(){return function(n){return new Promise(function(t,r){n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||r(new Error('Not found the function "freeze"')),n.freeze().then(function(){t()}).catch(r)})}},Nue=function(){return function(n){return new Promise(function(t,r){n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||r(new Error('Not found the function "unfreeze"')),n.unfreeze().then(function(){t()}).catch(r)})}},E9=function(){function e(){this._onPending=Vg,this._onFailed=Vg,this._onSucceeded=Vg}return e.prototype.triggerPending=function(n){this._onPending(n)},e.prototype.triggerFailed=function(n,t){this._onFailed(n,t.isResendable?t:null)},e.prototype.triggerSucceeded=function(n){this._onSucceeded(n)},e.prototype.onPending=function(n){return typeof n=="function"&&(this._onPending=n),this},e.prototype.onFailed=function(n){return typeof n=="function"&&(this._onFailed=n),this},e.prototype.onSucceeded=function(n){return typeof n=="function"&&(this._onSucceeded=n),this},e}(),Tue=function(n){return function(t,r){var i=new E9,o=$u(n);return t.sendUserMessage(r).onFailed(function(u,c){return i.triggerFailed(u,c)}).onPending(function(u){o.publish(Av,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(Rv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},Iue=function(n){return function(t,r){var i=new E9,o=$u(n);return t.sendFileMessage(r).onFailed(function(u,c){return i.triggerFailed(u,c)}).onPending(function(u){o.publish(Av,{message:u,channel:t}),i.triggerPending(u)}).onSucceeded(function(u){o.publish(Mv,{message:u,channel:t}),i.triggerSucceeded(u)}),i}},Oue=function(n){return function(t,r,i){return new Promise(function(o,u){var c=$u(n);t.updateUserMessage(r,i).then(function(h){c.publish(cw,{message:h,channel:t,fromSelector:!0}),o(h)}).catch(u)})}},Aue=function(n){return function(t,r){return new Promise(function(i,o){var u=$u(n),c=r.messageId;t.deleteMessage(r).then(function(){u.publish(dw,{messageId:c,channel:t}),i(r)}).catch(o)})}},Rue=function(n){return function(t,r){return new Promise(function(i,o){var u=$u(n);t.resendUserMessage(r).then(function(c){u.publish(Rv,{message:c,channel:t}),i(c)}).catch(o)})}},Mue=function(n){return function(t,r,i){return new Promise(function(o,u){var c=$u(n);t.resendFileMessage(r,i).then(function(h){c.publish(Mv,{message:h,channel:t}),o(h)}).catch(u)})}},nk={getSdk:Ol,getPubSub:$u,getConnect:bue,getDisconnect:yue,getUpdateUserInfo:Eue,getCreateGroupChannel:b9,getCreateOpenChannel:wue,getGetGroupChannel:y9,getGetOpenChannel:ek,getLeaveGroupChannel:xue,getEnterOpenChannel:kue,getExitOpenChannel:Cue,getFreezeChannel:Sue,getUnfreezeChannel:Nue,getSendUserMessage:Tue,getSendFileMessage:Iue,getUpdateUserMessage:Oue,getDeleteMessage:Aue,getResendUserMessage:Rue,getResendFileMessage:Mue},yL;(function(e){e.GROUP="group",e.SUPERGROUP="supergroup",e.BROADCAST="broadcast"})(yL||(yL={}));var w9="sendbird-modal-root",bu;(function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.DANGER=2]="DANGER",e[e.DISABLED=3]="DISABLED"})(bu||(bu={}));var Ah;(function(e){e[e.BIG=0]="BIG",e[e.SMALL=1]="SMALL"})(Ah||(Ah={}));function Due(e){switch(e){case bu.PRIMARY:return"sendbird-button--primary";case bu.SECONDARY:return"sendbird-button--secondary";case bu.DANGER:return"sendbird-button--danger";case bu.DISABLED:return"sendbird-button--disabled";default:return null}}function Uue(e){switch(e){case Ah.BIG:return"sendbird-button--big";case Ah.SMALL:return"sendbird-button--small";default:return null}}function y0(e){var n=e.className,t=e.type,r=t===void 0?bu.PRIMARY:t,i=e.size,o=i===void 0?Ah.BIG:i,u=e.children,c=u===void 0?"Button":u,h=e.disabled,f=h===void 0?!1:h,v=e.onClick,_=v===void 0?function(){}:v,y=Ln(Ln([],Array.isArray(n)?n:[n],!0),["sendbird-button",f?"sendbird-button__disabled":"",Due(r),Uue(o)],!1).join(" ");return x.createElement("button",{className:y,type:"button",onClick:_,disabled:f},x.createElement(Wn,{className:"sendbird-button__text",type:Vn.BUTTON_1,color:Pn.ONCONTENT_1},c))}var Rh=bu,EL=Ah,Lue=function(n){var t=n.titleText;return x.createElement("div",{className:"sendbird-modal__header"},x.createElement(Wn,{type:Vn.H_1,color:Pn.ONBACKGROUND_1},t))},Pue=function(n){var t=n.children;return x.createElement("div",{className:"sendbird-modal__body"},x.createElement(Wn,{type:Vn.SUBTITLE_1,color:Pn.ONBACKGROUND_2},t))},Fue=function(n){var t=n.submitText,r=n.disabled,i=r===void 0?!1:r,o=n.type,u=o===void 0?Rh.DANGER:o,c=n.onSubmit,h=n.onCancel,f=U.exports.useContext(go).stringSet;return x.createElement("div",{className:"sendbird-modal__footer"},x.createElement(y0,{type:Rh.SECONDARY,onClick:h},x.createElement(Wn,{type:Vn.BUTTON_1,color:Pn.ONBACKGROUND_1},f.BUTTON__CANCEL)),x.createElement(y0,{type:u,disabled:i,onClick:c},t))};function Hue(e){var n=e.children,t=n===void 0?null:n,r=e.titleText,i=e.submitText,o=e.disabled,u=o===void 0?!1:o,c=e.hideFooter,h=c===void 0?!1:c,f=e.type,v=f===void 0?Rh.DANGER:f,_=e.onCancel,y=_===void 0?function(){}:_,E=e.onSubmit,k=E===void 0?function(){}:E;return Fh.exports.createPortal(x.createElement("div",{className:"sendbird-modal"},x.createElement("div",{className:"sendbird-modal__content"},x.createElement(Lue,{titleText:r}),x.createElement(Pue,null,t),!h&&x.createElement(Fue,{disabled:u,onCancel:y,onSubmit:k,submitText:i,type:v}),x.createElement("div",{className:"sendbird-modal__close"},x.createElement(Lu,{width:"32px",height:"32px",onClick:y},x.createElement(ft,{type:st.CLOSE,fillColor:It.DEFAULT,width:"24px",height:"24px"})))),x.createElement("div",{className:"sendbird-modal__backdrop"})),document.getElementById(w9))}function que(e){var n=e.user,t=e.currentUserId,r=e.logger,i=e.disableMessaging,o=i===void 0?!1:i,u=e.createChannel,c=e.onSuccess,h=U.exports.useContext(go).stringSet;return x.createElement("div",{className:"sendbird__user-profile"},x.createElement("section",{className:"sendbird__user-profile-avatar"},x.createElement(ad,{height:"80px",width:"80px",src:n==null?void 0:n.profileUrl})),x.createElement("section",{className:"sendbird__user-profile-name"},x.createElement(Wn,{type:Vn.H_2,color:Pn.ONBACKGROUND_1},(n==null?void 0:n.nickname)||h.NO_NAME)),(n==null?void 0:n.userId)!==t&&!o&&x.createElement("section",{className:"sendbird__user-profile-message"},x.createElement(y0,{type:Rh.SECONDARY,onClick:function(){var v={isDistinct:!0,invitedUserIds:[n==null?void 0:n.userId]};c(),u(v).then(function(_){r.info("UserProfile, channel create",_)})}},h.USER_PROFILE__MESSAGE)),x.createElement("div",{className:"sendbird__user-profile-separator"}),x.createElement("section",{className:"sendbird__user-profile-userId"},x.createElement(Wn,{className:"sendbird__user-profile-userId--label",type:Vn.CAPTION_2,color:Pn.ONBACKGROUND_2},h.USER_PROFILE__USER_ID),x.createElement(Wn,{className:"sendbird__user-profile-userId--value",type:Vn.BODY_1,color:Pn.ONBACKGROUND_1},n==null?void 0:n.userId)))}var Bue=function(n){return{sdk:Ol(n),createChannel:b9(n),logger:n.config.logger,pubsub:n.config.pubSub}},f_=Ane(que,Bue),Gue=function(e){jse(n,e);function n(t){var r=e.call(this,t)||this;return r.menuRef=x.createRef(),r.setupEvents=function(){var i=r.props.closeDropdown,o=r.menuRef,u=function(h){var f,v;(o==null?void 0:o.current)&&!(!((v=(f=o==null?void 0:o.current)===null||f===void 0?void 0:f.contains)===null||v===void 0)&&v.call(f,h.target))&&(i==null||i())};r.setState({handleClickOutside:u}),document.addEventListener("mousedown",u)},r.cleanUpEvents=function(){var i=r.state.handleClickOutside;document.removeEventListener("mousedown",i)},r.getMenuPosition=function(){var i,o,u=r.props,c=u.parentRef,h=u.openLeft,f=(o=(i=c==null?void 0:c.current)===null||i===void 0?void 0:i.getBoundingClientRect)===null||o===void 0?void 0:o.call(i),v=(f==null?void 0:f.x)||(f==null?void 0:f.left)||0,_=(f==null?void 0:f.y)||(f==null?void 0:f.top)||0,y={top:_,left:v};if(!r.menuRef.current)return y;var E=window.innerWidth,k=window.innerHeight,S=r.menuRef.current.getBoundingClientRect();if(_+S.height>k&&(y.top-=S.height),v+S.width>E&&!h&&(y.left-=S.width),y.top<0&&(y.top=S.height<k?(k-S.height)/2:0),y.left<0&&(y.left=S.width<E?(E-S.width)/2:0),y.top+=32,h){var D=Number.isNaN(S.width-30)?108:S.width-30;y.left-=D}return r.setState({menuStyle:y}),y},r.state={menuStyle:{},handleClickOutside:function(){}},r}return n.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},n.prototype.componentWillUnmount=function(){this.cleanUpEvents()},n.prototype.render=function(){var t=this.state.menuStyle,r=this.props,i=r.children,o=r.style;return Fh.exports.createPortal(x.createElement(x.Fragment,null,x.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),x.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:rn({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},o)},i)),document.getElementById("sendbird-dropdown-portal"))},n}(x.Component),zue=13,Pu=Gue,Ds=function(n){var t=n.className,r=t===void 0?"":t,i=n.children,o=n.onClick,u=n.disable,c=u===void 0?!1:u,h=function(v){!c&&o&&(o==null||o(v))};return x.createElement("li",{className:tw([r,"sendbird-dropdown__menu-item",c?"disable":""]),role:"menuitem",onClick:h,onKeyPress:function(v){v.keyCode===zue&&h(v)},tabIndex:0},x.createElement(Wn,{className:"sendbird-dropdown__menu-item__text",type:Vn.SUBTITLE_2,color:c?Pn.ONBACKGROUND_4:Pn.ONBACKGROUND_1},i))};function Fu(e){var n=e.menuTrigger,t=e.menuItems,r=U.exports.useState(!1),i=r[0],o=r[1];return x.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},n(function(){return o(!i)}),i&&t(function(){return o(!1)}))}function sa(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function vo(e){sa(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function $ue(e){sa(1,arguments);var n=vo(e);return!isNaN(n)}function Us(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function jue(e,n){sa(2,arguments);var t=vo(e).getTime(),r=Us(n);return new Date(t+r)}function Vue(e,n){sa(2,arguments);var t=Us(n);return jue(e,-t)}function Wt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var uu={y:function(e,n){var t=e.getUTCFullYear(),r=t>0?t:1-t;return Wt(n==="yy"?r%100:r,n.length)},M:function(e,n){var t=e.getUTCMonth();return n==="M"?String(t+1):Wt(t+1,2)},d:function(e,n){return Wt(e.getUTCDate(),n.length)},a:function(e,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,n){return Wt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Wt(e.getUTCHours(),n.length)},m:function(e,n){return Wt(e.getUTCMinutes(),n.length)},s:function(e,n){return Wt(e.getUTCSeconds(),n.length)},S:function(e,n){var t=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,t-3));return Wt(i,n.length)}},Wue=864e5;function Kue(e){sa(1,arguments);var n=vo(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/Wue)+1}function Dv(e){sa(1,arguments);var n=1,t=vo(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function x9(e){sa(1,arguments);var n=vo(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Dv(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=Dv(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=u.getTime()?t:t-1}function Que(e){sa(1,arguments);var n=x9(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Dv(t);return r}var Yue=6048e5;function Xue(e){sa(1,arguments);var n=vo(e),t=Dv(n).getTime()-Que(n).getTime();return Math.round(t/Yue)+1}function Uv(e,n){sa(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,o=i==null?0:Us(i),u=t.weekStartsOn==null?o:Us(t.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=vo(e),h=c.getUTCDay(),f=(h<u?7:0)+h-u;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c}function k9(e,n){sa(1,arguments);var t=vo(e,n),r=t.getUTCFullYear(),i=n||{},o=i.locale,u=o&&o.options&&o.options.firstWeekContainsDate,c=u==null?1:Us(u),h=i.firstWeekContainsDate==null?c:Us(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(r+1,0,h),f.setUTCHours(0,0,0,0);var v=Uv(f,n),_=new Date(0);_.setUTCFullYear(r,0,h),_.setUTCHours(0,0,0,0);var y=Uv(_,n);return t.getTime()>=v.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function Jue(e,n){sa(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=i==null?1:Us(i),u=t.firstWeekContainsDate==null?o:Us(t.firstWeekContainsDate),c=k9(e,n),h=new Date(0);h.setUTCFullYear(c,0,u),h.setUTCHours(0,0,0,0);var f=Uv(h,n);return f}var Zue=6048e5;function ece(e,n){sa(1,arguments);var t=vo(e),r=Uv(t,n).getTime()-Jue(t,n).getTime();return Math.round(r/Zue)+1}var jd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nce={G:function(e,n,t){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return uu.y(e,n)},Y:function(e,n,t,r){var i=k9(e,r),o=i>0?i:1-i;if(n==="YY"){var u=o%100;return Wt(u,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):Wt(o,n.length)},R:function(e,n){var t=x9(e);return Wt(t,n.length)},u:function(e,n){var t=e.getUTCFullYear();return Wt(t,n.length)},Q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Wt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Wt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){var r=e.getUTCMonth();switch(n){case"M":case"MM":return uu.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Wt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){var i=ece(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Wt(i,n.length)},I:function(e,n,t){var r=Xue(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Wt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):uu.d(e,n)},D:function(e,n,t){var r=Kue(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Wt(r,n.length)},E:function(e,n,t){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Wt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Wt(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Wt(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){var r=e.getUTCHours(),i;switch(r===12?i=jd.noon:r===0?i=jd.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){var r=e.getUTCHours(),i;switch(r>=17?i=jd.evening:r>=12?i=jd.afternoon:r>=4?i=jd.morning:i=jd.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return uu.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):uu.H(e,n)},K:function(e,n,t){var r=e.getUTCHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Wt(r,n.length)},k:function(e,n,t){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Wt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):uu.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):uu.s(e,n)},S:function(e,n){return uu.S(e,n)},X:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return xL(o);case"XXXX":case"XX":return xc(o);case"XXXXX":case"XXX":default:return xc(o,":")}},x:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return xL(o);case"xxxx":case"xx":return xc(o);case"xxxxx":case"xxx":default:return xc(o,":")}},O:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+wL(o,":");case"OOOO":default:return"GMT"+xc(o,":")}},z:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+wL(o,":");case"zzzz":default:return"GMT"+xc(o,":")}},t:function(e,n,t,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Wt(o,n.length)},T:function(e,n,t,r){var i=r._originalDate||e,o=i.getTime();return Wt(o,n.length)}};function wL(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=n||"";return t+String(i)+u+Wt(o,2)}function xL(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Wt(Math.abs(e)/60,2)}return xc(e,n)}function xc(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=Wt(Math.floor(i/60),2),u=Wt(i%60,2);return r+o+t+u}var tce=nce;function kL(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function C9(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function rce(e,n){var t=e.match(/(P+)(p+)?/),r=t[1],i=t[2];if(!i)return kL(e,n);var o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",kL(r,n)).replace("{{time}}",C9(i,n))}var ice={p:C9,P:rce},ace=ice;function sce(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}var oce=["D","DD"],lce=["YY","YYYY"];function uce(e){return oce.indexOf(e)!==-1}function cce(e){return lce.indexOf(e)!==-1}function CL(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var dce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pce=/^'([^]*?)'?$/,fce=/''/g,mce=/[a-zA-Z]/;function $h(e,n,t){sa(2,arguments);var r=String(n),i=t||{},o=i.locale||f9,u=o.options&&o.options.firstWeekContainsDate,c=u==null?1:Us(u),h=i.firstWeekContainsDate==null?c:Us(i.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=o.options&&o.options.weekStartsOn,v=f==null?0:Us(f),_=i.weekStartsOn==null?v:Us(i.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var y=vo(e);if(!$ue(y))throw new RangeError("Invalid time value");var E=sce(y),k=Vue(y,E),S={firstWeekContainsDate:h,weekStartsOn:_,locale:o,_originalDate:y},D=r.match(hce).map(function(N){var C=N[0];if(C==="p"||C==="P"){var A=ace[C];return A(N,o.formatLong,S)}return N}).join("").match(dce).map(function(N){if(N==="''")return"'";var C=N[0];if(C==="'")return gce(N);var A=tce[C];if(A)return!i.useAdditionalWeekYearTokens&&cce(N)&&CL(N,n,e),!i.useAdditionalDayOfYearTokens&&uce(N)&&CL(N,n,e),A(k,N,o.localize,S);if(C.match(mce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return N}).join("");return D}function gce(e){return e.match(pce)[1].replace(fce,"'")}function SL(e){sa(1,arguments);var n=vo(e);return n.setHours(0,0,0,0),n}function vce(e,n){sa(2,arguments);var t=SL(e),r=SL(n);return t.getTime()===r.getTime()}function NL(e){var n=e.className,t=n===void 0?"":n,r=e.children,i=e.isReverse,o=i===void 0?!1:i,u=e.color,c=e.userId;return x.createElement("span",{className:"sendbird-mention-user-label ".concat(t," ").concat(o?"reverse":""," ").concat(u),contentEditable:!1,"data-userid":c},r)}var TL=function(n){return n==null};function al(e,n){if(TL(e)||TL(n))return!1;var t=e.toString(),r=n.toString();return t===r}var Vd="@";s9();var tk=o9();tk.SUCCEEDED;tk.FAILED;tk.PENDING;var rk=o9();rk.SUCCEEDED;rk.FAILED;rk.PENDING;function R0(e){var n=e.className,t=n===void 0?"":n,r=e.width,i=r===void 0?"26px":r,o=e.height,u=o===void 0?"26px":o,c=e.children;return x.createElement("div",{className:Ln(Ln([],Array.isArray(t)?t:[t],!0),["sendbird-loader"],!1).join(" "),style:{width:typeof i=="string"?i:"".concat(i,"px"),height:typeof u=="string"?u:"".concat(u,"px")}},c||x.createElement(ft,{type:st.SPINNER,width:"26px",height:"26px"}))}s9();ue.exports.bool,ue.exports.func.isRequired;var ro;(function(e){e[e.ONBACKGROUND_1=0]="ONBACKGROUND_1",e[e.ONBACKGROUND_2=1]="ONBACKGROUND_2",e[e.ONBACKGROUND_3=2]="ONBACKGROUND_3",e[e.ONBACKGROUND_4=3]="ONBACKGROUND_4",e[e.ONCONTENT_1=4]="ONCONTENT_1",e[e.ONCONTENT_2=5]="ONCONTENT_2",e[e.PRIMARY=6]="PRIMARY",e[e.ERROR=7]="ERROR"})(ro||(ro={}));var px=function(n){switch(n){case ro.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case ro.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case ro.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case ro.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case ro.ONCONTENT_1:return"sendbird-color--oncontent-1";case ro.PRIMARY:return"sendbird-color--primary";case ro.ERROR:return"sendbird-color--error";default:return null}},_ce=function(n){var t=n.className,r=t===void 0?"":t,i=n.color,o=i===void 0?ro.ONBACKGROUND_1:i,u=n.disabled,c=u===void 0?!1:u,h=n.disableUnderline,f=h===void 0?!1:h,v=n.onClick,_=v===void 0?function(){}:v,y=n.children;return x.createElement("div",{className:Ln(Ln([],Array.isArray(r)?r:[r],!0),[px(o),f?"sendbird-textbutton--not-underline":"sendbird-textbutton",c?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(k){return _(k)},onKeyPress:function(k){return _(k)}},y)};function bce(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var yce=bce(),Kr=yce;function Wg(e){var n=e.className,t=n===void 0?"":n,r=e.type,i=e.searchInString,o=i===void 0?"":i,u=e.retryToConnect,c=u===void 0?null:u,h=U.exports.useContext(go).stringSet;return x.createElement("div",{className:Ln(Ln([],Array.isArray(t)?t:[t],!0),["sendbird-place-holder"],!1).join(" ")},r===Kr.LOADING&&x.createElement(R0,{width:"48px",height:"48px"},x.createElement(ft,{type:st.SPINNER,fillColor:It.PRIMARY,width:"48px",height:"48px"})),(r===Kr.NO_CHANNELS||r===Kr.NO_MESSAGES||r===Kr.WRONG)&&x.createElement("div",{className:"sendbird-place-holder__body"},r===Kr.NO_CHANNELS&&x.createElement(ft,{className:"sendbird-place-holder__body__icon",type:st.CHAT,fillColor:It.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Kr.WRONG&&x.createElement(ft,{className:"sendbird-place-holder__body__icon",type:st.ERROR,fillColor:It.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Kr.NO_MESSAGES&&x.createElement(ft,{className:"sendbird-place-holder__body__icon",type:st.MESSAGE,fillColor:It.ON_BACKGROUND_3,width:"64px",height:"64px"}),x.createElement(Wn,{className:"sendbird-place-holder__body__text",type:Vn.BODY_1,color:Pn.ONBACKGROUND_2},r===Kr.NO_CHANNELS&&h.PLACE_HOLDER__NO_CHANNEL,r===Kr.WRONG&&h.PLACE_HOLDER__WRONG,r===Kr.NO_MESSAGES&&h.PLACE_HOLDER__NO_MESSAGES),c&&x.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:c,onKeyPress:c,tabIndex:0},x.createElement(ft,{className:"sendbird-place-holder__body__reconnect__icon",type:st.REFRESH,fillColor:It.PRIMARY,width:"20px",height:"20px"}),x.createElement(Wn,{className:"sendbird-place-holder__body__reconnect__text",type:Vn.BUTTON_1,color:Pn.PRIMARY},h.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===Kr.NO_RESULTS||r===Kr.SEARCH_IN||r===Kr.SEARCHING)&&x.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===Kr.SEARCH_IN&&x.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},x.createElement(Wn,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Vn.BUTTON_2,color:Pn.ONBACKGROUND_2},h.SEARCH_IN),x.createElement(Wn,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Vn.BUTTON_2,color:Pn.PRIMARY},"'".concat(o)),x.createElement(Wn,{className:"sendbird-place-holder__body--align-top__text__quote",type:Vn.BUTTON_2,color:Pn.PRIMARY},"'")),r===Kr.SEARCHING&&x.createElement(Wn,{className:"sendbird-place-hlder__body--align-top__searching",type:Vn.BODY_1,color:Pn.ONBACKGROUND_2},h.SEARCHING),r===Kr.NO_RESULTS&&x.createElement(Wn,{className:"sendbird-place-hlder__body--align-top__no-result",type:Vn.BODY_1,color:Pn.ONBACKGROUND_2},h.NO_SEARCHED_MESSAGE)))}var IL={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Wd={ElementNode:1,TextNode:3},kg={Span:"SPAN",Br:"BR",Div:"DIV"},Ece=function(n){var t=n.children,r=t===void 0?null:t,i=n.className,o=i===void 0?"":i,u=n.separatorColor,c=u===void 0?ro.ONBACKGROUND_4:u;return x.createElement("div",{className:Ln(Ln([],Array.isArray(o)?o:[o],!0),["sendbird-separator"],!1).join(" ")},x.createElement("div",{className:["sendbird-separator__left","".concat(px(c),"--background-color")].join(" ")}),x.createElement("div",{className:"sendbird-separator__text"},r||x.createElement(Wn,{type:Vn.CAPTION_2,color:Pn.ONBACKGROUND_2},"Date Separator")),x.createElement("div",{className:["sendbird-separator__right","".concat(px(c),"--background-color")].join(" ")}))},fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wce(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var S9={exports:{}},jh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var OL=Object.getOwnPropertySymbols,xce=Object.prototype.hasOwnProperty,kce=Object.prototype.propertyIsEnumerable;function Cce(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Sce(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Nce=Sce()?Object.assign:function(e,n){for(var t,r=Cce(e),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var u in t)xce.call(t,u)&&(r[u]=t[u]);if(OL){i=OL(t);for(var c=0;c<i.length;c++)kce.call(t,i[c])&&(r[i[c]]=t[i[c]])}}return r},M0={exports:{}},vh=typeof Reflect=="object"?Reflect:null,AL=vh&&typeof vh.apply=="function"?vh.apply:function(n,t,r){return Function.prototype.apply.call(n,t,r)},Kg;vh&&typeof vh.ownKeys=="function"?Kg=vh.ownKeys:Object.getOwnPropertySymbols?Kg=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Kg=function(n){return Object.getOwnPropertyNames(n)};function Tce(e){console&&console.warn&&console.warn(e)}var N9=Number.isNaN||function(n){return n!==n};function er(){er.init.call(this)}M0.exports=er;M0.exports.once=Rce;er.EventEmitter=er;er.prototype._events=void 0;er.prototype._eventsCount=0;er.prototype._maxListeners=void 0;var RL=10;function m_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(er,"defaultMaxListeners",{enumerable:!0,get:function(){return RL},set:function(e){if(typeof e!="number"||e<0||N9(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");RL=e}});er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};er.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||N9(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function T9(e){return e._maxListeners===void 0?er.defaultMaxListeners:e._maxListeners}er.prototype.getMaxListeners=function(){return T9(this)};er.prototype.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=n==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var h=o[n];if(h===void 0)return!1;if(typeof h=="function")AL(h,this,t);else for(var f=h.length,v=M9(h,f),r=0;r<f;++r)AL(v[r],this,t);return!0};function I9(e,n,t,r){var i,o,u;if(m_(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),u=o[n]),u===void 0)u=o[n]=t,++e._eventsCount;else if(typeof u=="function"?u=o[n]=r?[t,u]:[u,t]:r?u.unshift(t):u.push(t),i=T9(e),i>0&&u.length>i&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=u.length,Tce(c)}return e}er.prototype.addListener=function(n,t){return I9(this,n,t,!1)};er.prototype.on=er.prototype.addListener;er.prototype.prependListener=function(n,t){return I9(this,n,t,!0)};function Ice(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O9(e,n,t){var r={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},i=Ice.bind(r);return i.listener=t,r.wrapFn=i,i}er.prototype.once=function(n,t){return m_(t),this.on(n,O9(this,n,t)),this};er.prototype.prependOnceListener=function(n,t){return m_(t),this.prependListener(n,O9(this,n,t)),this};er.prototype.removeListener=function(n,t){var r,i,o,u,c;if(m_(t),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||t));else if(typeof r!="function"){for(o=-1,u=r.length-1;u>=0;u--)if(r[u]===t||r[u].listener===t){c=r[u].listener,o=u;break}if(o<0)return this;o===0?r.shift():Oce(r,o),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,c||t)}return this};er.prototype.off=er.prototype.removeListener;er.prototype.removeAllListeners=function(n){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var o=Object.keys(r),u;for(i=0;i<o.length;++i)u=o[i],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[n],typeof t=="function")this.removeListener(n,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(n,t[i]);return this};function A9(e,n,t){var r=e._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Ace(i):M9(i,i.length)}er.prototype.listeners=function(n){return A9(this,n,!0)};er.prototype.rawListeners=function(n){return A9(this,n,!1)};er.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):R9.call(e,n)};er.prototype.listenerCount=R9;function R9(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}er.prototype.eventNames=function(){return this._eventsCount>0?Kg(this._events):[]};function M9(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e[r];return t}function Oce(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function Ace(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function Rce(e,n){return new Promise(function(t,r){function i(u){e.removeListener(n,o),r(u)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),t([].slice.call(arguments))}D9(e,n,o,{once:!0}),n!=="error"&&Mce(e,i,{once:!0})})}function Mce(e,n,t){typeof e.on=="function"&&D9(e,"error",n,t)}function D9(e,n,t,r){if(typeof e.on=="function")r.once?e.once(n,t):e.on(n,t);else if(typeof e.addEventListener=="function")e.addEventListener(n,function i(o){r.once&&e.removeEventListener(n,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Vh=M0.exports,Bo={},Dce=function(n){return n instanceof Buffer},mx={exports:{}},gx={exports:{}};typeof Object.create=="function"?gx.exports=function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:gx.exports=function(n,t){n.super_=t;var r=function(){};r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n};try{var ML=Bo;if(typeof ML.inherits!="function")throw"";mx.exports=ML.inherits}catch{mx.exports=gx.exports}(function(e){var n=Object.getOwnPropertyDescriptors||function(X){for(var me=Object.keys(X),Ye={},Ne=0;Ne<me.length;Ne++)Ye[me[Ne]]=Object.getOwnPropertyDescriptor(X,me[Ne]);return Ye},t=/%[sdj%]/g;e.format=function(ee){if(!q(ee)){for(var X=[],me=0;me<arguments.length;me++)X.push(o(arguments[me]));return X.join(" ")}for(var me=1,Ye=arguments,Ne=Ye.length,Ae=String(ee).replace(t,function(Le){if(Le==="%%")return"%";if(me>=Ne)return Le;switch(Le){case"%s":return String(Ye[me++]);case"%d":return Number(Ye[me++]);case"%j":try{return JSON.stringify(Ye[me++])}catch{return"[Circular]"}default:return Le}}),_e=Ye[me];me<Ne;_e=Ye[++me])N(_e)||!W(_e)?Ae+=" "+_e:Ae+=" "+o(_e);return Ae},e.deprecate=function(ee,X){if(typeof process<"u"&&process.noDeprecation===!0)return ee;if(typeof process>"u")return function(){return e.deprecate(ee,X).apply(this,arguments)};var me=!1;function Ye(){if(!me){if(process.throwDeprecation)throw new Error(X);process.traceDeprecation?console.trace(X):console.error(X),me=!0}return ee.apply(this,arguments)}return Ye};var r={},i;e.debuglog=function(ee){if(z(i)&&(i={}.NODE_DEBUG||""),ee=ee.toUpperCase(),!r[ee])if(new RegExp("\\b"+ee+"\\b","i").test(i)){var X=process.pid;r[ee]=function(){var me=e.format.apply(e,arguments);console.error("%s %d: %s",ee,X,me)}}else r[ee]=function(){};return r[ee]};function o(ee,X){var me={seen:[],stylize:c};return arguments.length>=3&&(me.depth=arguments[2]),arguments.length>=4&&(me.colors=arguments[3]),D(X)?me.showHidden=X:X&&e._extend(me,X),z(me.showHidden)&&(me.showHidden=!1),z(me.depth)&&(me.depth=2),z(me.colors)&&(me.colors=!1),z(me.customInspect)&&(me.customInspect=!0),me.colors&&(me.stylize=u),f(me,ee,me.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(ee,X){var me=o.styles[X];return me?"\x1B["+o.colors[me][0]+"m"+ee+"\x1B["+o.colors[me][1]+"m":ee}function c(ee,X){return ee}function h(ee){var X={};return ee.forEach(function(me,Ye){X[me]=!0}),X}function f(ee,X,me){if(ee.customInspect&&X&&Ie(X.inspect)&&X.inspect!==e.inspect&&!(X.constructor&&X.constructor.prototype===X)){var Ye=X.inspect(me,ee);return q(Ye)||(Ye=f(ee,Ye,me)),Ye}var Ne=v(ee,X);if(Ne)return Ne;var Ae=Object.keys(X),_e=h(Ae);if(ee.showHidden&&(Ae=Object.getOwnPropertyNames(X)),le(X)&&(Ae.indexOf("message")>=0||Ae.indexOf("description")>=0))return _(X);if(Ae.length===0){if(Ie(X)){var Le=X.name?": "+X.name:"";return ee.stylize("[Function"+Le+"]","special")}if(V(X))return ee.stylize(RegExp.prototype.toString.call(X),"regexp");if(de(X))return ee.stylize(Date.prototype.toString.call(X),"date");if(le(X))return _(X)}var ze="",mn=!1,Tn=["{","}"];if(S(X)&&(mn=!0,Tn=["[","]"]),Ie(X)){var xn=X.name?": "+X.name:"";ze=" [Function"+xn+"]"}if(V(X)&&(ze=" "+RegExp.prototype.toString.call(X)),de(X)&&(ze=" "+Date.prototype.toUTCString.call(X)),le(X)&&(ze=" "+_(X)),Ae.length===0&&(!mn||X.length==0))return Tn[0]+ze+Tn[1];if(me<0)return V(X)?ee.stylize(RegExp.prototype.toString.call(X),"regexp"):ee.stylize("[Object]","special");ee.seen.push(X);var In;return mn?In=y(ee,X,me,_e,Ae):In=Ae.map(function(ln){return E(ee,X,me,_e,ln,mn)}),ee.seen.pop(),k(In,ze,Tn)}function v(ee,X){if(z(X))return ee.stylize("undefined","undefined");if(q(X)){var me="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(me,"string")}if(A(X))return ee.stylize(""+X,"number");if(D(X))return ee.stylize(""+X,"boolean");if(N(X))return ee.stylize("null","null")}function _(ee){return"["+Error.prototype.toString.call(ee)+"]"}function y(ee,X,me,Ye,Ne){for(var Ae=[],_e=0,Le=X.length;_e<Le;++_e)Se(X,String(_e))?Ae.push(E(ee,X,me,Ye,String(_e),!0)):Ae.push("");return Ne.forEach(function(ze){ze.match(/^\d+$/)||Ae.push(E(ee,X,me,Ye,ze,!0))}),Ae}function E(ee,X,me,Ye,Ne,Ae){var _e,Le,ze;if(ze=Object.getOwnPropertyDescriptor(X,Ne)||{value:X[Ne]},ze.get?ze.set?Le=ee.stylize("[Getter/Setter]","special"):Le=ee.stylize("[Getter]","special"):ze.set&&(Le=ee.stylize("[Setter]","special")),Se(Ye,Ne)||(_e="["+Ne+"]"),Le||(ee.seen.indexOf(ze.value)<0?(N(me)?Le=f(ee,ze.value,null):Le=f(ee,ze.value,me-1),Le.indexOf(`
`)>-1&&(Ae?Le=Le.split(`
`).map(function(mn){return"  "+mn}).join(`
`).substr(2):Le=`
`+Le.split(`
`).map(function(mn){return"   "+mn}).join(`
`))):Le=ee.stylize("[Circular]","special")),z(_e)){if(Ae&&Ne.match(/^\d+$/))return Le;_e=JSON.stringify(""+Ne),_e.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(_e=_e.substr(1,_e.length-2),_e=ee.stylize(_e,"name")):(_e=_e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),_e=ee.stylize(_e,"string"))}return _e+": "+Le}function k(ee,X,me){var Ye=ee.reduce(function(Ne,Ae){return Ae.indexOf(`
`)>=0,Ne+Ae.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ye>60?me[0]+(X===""?"":X+`
 `)+" "+ee.join(`,
  `)+" "+me[1]:me[0]+X+" "+ee.join(", ")+" "+me[1]}function S(ee){return Array.isArray(ee)}e.isArray=S;function D(ee){return typeof ee=="boolean"}e.isBoolean=D;function N(ee){return ee===null}e.isNull=N;function C(ee){return ee==null}e.isNullOrUndefined=C;function A(ee){return typeof ee=="number"}e.isNumber=A;function q(ee){return typeof ee=="string"}e.isString=q;function K(ee){return typeof ee=="symbol"}e.isSymbol=K;function z(ee){return ee===void 0}e.isUndefined=z;function V(ee){return W(ee)&&te(ee)==="[object RegExp]"}e.isRegExp=V;function W(ee){return typeof ee=="object"&&ee!==null}e.isObject=W;function de(ee){return W(ee)&&te(ee)==="[object Date]"}e.isDate=de;function le(ee){return W(ee)&&(te(ee)==="[object Error]"||ee instanceof Error)}e.isError=le;function Ie(ee){return typeof ee=="function"}e.isFunction=Ie;function ye(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}e.isPrimitive=ye,e.isBuffer=Dce;function te(ee){return Object.prototype.toString.call(ee)}function he(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function He(){var ee=new Date,X=[he(ee.getHours()),he(ee.getMinutes()),he(ee.getSeconds())].join(":");return[ee.getDate(),ce[ee.getMonth()],X].join(" ")}e.log=function(){console.log("%s - %s",He(),e.format.apply(e,arguments))},e.inherits=mx.exports,e._extend=function(ee,X){if(!X||!W(X))return ee;for(var me=Object.keys(X),Ye=me.length;Ye--;)ee[me[Ye]]=X[me[Ye]];return ee};function Se(ee,X){return Object.prototype.hasOwnProperty.call(ee,X)}var ve=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(ve&&X[ve]){var me=X[ve];if(typeof me!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(me,ve,{value:me,enumerable:!1,writable:!1,configurable:!0}),me}function me(){for(var Ye,Ne,Ae=new Promise(function(ze,mn){Ye=ze,Ne=mn}),_e=[],Le=0;Le<arguments.length;Le++)_e.push(arguments[Le]);_e.push(function(ze,mn){ze?Ne(ze):Ye(mn)});try{X.apply(this,_e)}catch(ze){Ne(ze)}return Ae}return Object.setPrototypeOf(me,Object.getPrototypeOf(X)),ve&&Object.defineProperty(me,ve,{value:me,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(me,n(X))},e.promisify.custom=ve;function Oe(ee,X){if(!ee){var me=new Error("Promise was rejected with a falsy value");me.reason=ee,ee=me}return X(ee)}function Be(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var me=[],Ye=0;Ye<arguments.length;Ye++)me.push(arguments[Ye]);var Ne=me.pop();if(typeof Ne!="function")throw new TypeError("The last argument must be of type Function");var Ae=this,_e=function(){return Ne.apply(Ae,arguments)};ee.apply(this,me).then(function(Le){process.nextTick(_e,null,Le)},function(Le){process.nextTick(Oe,Le,_e)})}return Object.setPrototypeOf(X,Object.getPrototypeOf(ee)),Object.defineProperties(X,n(ee)),X}e.callbackify=Be})(Bo);var qs=fx.process,Hu={},g_={};g_.byteLength=Pce;g_.toByteArray=Hce;g_.fromByteArray=Gce;var Uo=[],ks=[],Uce=typeof Uint8Array<"u"?Uint8Array:Array,RE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Kd=0,Lce=RE.length;Kd<Lce;++Kd)Uo[Kd]=RE[Kd],ks[RE.charCodeAt(Kd)]=Kd;ks["-".charCodeAt(0)]=62;ks["_".charCodeAt(0)]=63;function U9(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function Pce(e){var n=U9(e),t=n[0],r=n[1];return(t+r)*3/4-r}function Fce(e,n,t){return(n+t)*3/4-t}function Hce(e){var n,t=U9(e),r=t[0],i=t[1],o=new Uce(Fce(e,r,i)),u=0,c=i>0?r-4:r,h;for(h=0;h<c;h+=4)n=ks[e.charCodeAt(h)]<<18|ks[e.charCodeAt(h+1)]<<12|ks[e.charCodeAt(h+2)]<<6|ks[e.charCodeAt(h+3)],o[u++]=n>>16&255,o[u++]=n>>8&255,o[u++]=n&255;return i===2&&(n=ks[e.charCodeAt(h)]<<2|ks[e.charCodeAt(h+1)]>>4,o[u++]=n&255),i===1&&(n=ks[e.charCodeAt(h)]<<10|ks[e.charCodeAt(h+1)]<<4|ks[e.charCodeAt(h+2)]>>2,o[u++]=n>>8&255,o[u++]=n&255),o}function qce(e){return Uo[e>>18&63]+Uo[e>>12&63]+Uo[e>>6&63]+Uo[e&63]}function Bce(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(qce(r));return i.join("")}function Gce(e){for(var n,t=e.length,r=t%3,i=[],o=16383,u=0,c=t-r;u<c;u+=o)i.push(Bce(e,u,u+o>c?c:u+o));return r===1?(n=e[t-1],i.push(Uo[n>>2]+Uo[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(Uo[n>>10]+Uo[n>>4&63]+Uo[n<<2&63]+"=")),i.join("")}var ik={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ik.read=function(e,n,t,r,i){var o,u,c=i*8-r-1,h=(1<<c)-1,f=h>>1,v=-7,_=t?i-1:0,y=t?-1:1,E=e[n+_];for(_+=y,o=E&(1<<-v)-1,E>>=-v,v+=c;v>0;o=o*256+e[n+_],_+=y,v-=8);for(u=o&(1<<-v)-1,o>>=-v,v+=r;v>0;u=u*256+e[n+_],_+=y,v-=8);if(o===0)o=1-f;else{if(o===h)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,r),o=o-f}return(E?-1:1)*u*Math.pow(2,o-r)};ik.write=function(e,n,t,r,i,o){var u,c,h,f=o*8-i-1,v=(1<<f)-1,_=v>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:o-1,k=r?1:-1,S=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,u=v):(u=Math.floor(Math.log(n)/Math.LN2),n*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+_>=1?n+=y/h:n+=y*Math.pow(2,1-_),n*h>=2&&(u++,h/=2),u+_>=v?(c=0,u=v):u+_>=1?(c=(n*h-1)*Math.pow(2,i),u=u+_):(c=n*Math.pow(2,_-1)*Math.pow(2,i),u=0));i>=8;e[t+E]=c&255,E+=k,c/=256,i-=8);for(u=u<<i|c,f+=i;f>0;e[t+E]=u&255,E+=k,u/=256,f-=8);e[t+E-k]|=S*128};var zce={}.toString,$ce=Array.isArray||function(e){return zce.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var n=g_,t=ik,r=$ce;e.Buffer=c,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=fx.TYPED_ARRAY_SUPPORT!==void 0?fx.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u($,R){if(o()<R)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?($=new Uint8Array(R),$.__proto__=c.prototype):($===null&&($=new c(R)),$.length=R),$}function c($,R,M){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c($,R,M);if(typeof $=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,$)}return h(this,$,R,M)}c.poolSize=8192,c._augment=function($){return $.__proto__=c.prototype,$};function h($,R,M,j){if(typeof R=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer?k($,R,M,j):typeof R=="string"?y($,R,M):S($,R)}c.from=function($,R,M){return h(null,$,R,M)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}));function f($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function v($,R,M,j){return f(R),R<=0?u($,R):M!==void 0?typeof j=="string"?u($,R).fill(M,j):u($,R).fill(M):u($,R)}c.alloc=function($,R,M){return v(null,$,R,M)};function _($,R){if(f(R),$=u($,R<0?0:D(R)|0),!c.TYPED_ARRAY_SUPPORT)for(var M=0;M<R;++M)$[M]=0;return $}c.allocUnsafe=function($){return _(null,$)},c.allocUnsafeSlow=function($){return _(null,$)};function y($,R,M){if((typeof M!="string"||M==="")&&(M="utf8"),!c.isEncoding(M))throw new TypeError('"encoding" must be a valid string encoding');var j=C(R,M)|0;$=u($,j);var re=$.write(R,M);return re!==j&&($=$.slice(0,re)),$}function E($,R){var M=R.length<0?0:D(R.length)|0;$=u($,M);for(var j=0;j<M;j+=1)$[j]=R[j]&255;return $}function k($,R,M,j){if(R.byteLength,M<0||R.byteLength<M)throw new RangeError("'offset' is out of bounds");if(R.byteLength<M+(j||0))throw new RangeError("'length' is out of bounds");return M===void 0&&j===void 0?R=new Uint8Array(R):j===void 0?R=new Uint8Array(R,M):R=new Uint8Array(R,M,j),c.TYPED_ARRAY_SUPPORT?($=R,$.__proto__=c.prototype):$=E($,R),$}function S($,R){if(c.isBuffer(R)){var M=D(R.length)|0;return $=u($,M),$.length===0||R.copy($,0,0,M),$}if(R){if(typeof ArrayBuffer<"u"&&R.buffer instanceof ArrayBuffer||"length"in R)return typeof R.length!="number"||kn(R.length)?u($,0):E($,R);if(R.type==="Buffer"&&r(R.data))return E($,R.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function N($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(R){return!!(R!=null&&R._isBuffer)},c.compare=function(R,M){if(!c.isBuffer(R)||!c.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(R===M)return 0;for(var j=R.length,re=M.length,xe=0,ge=Math.min(j,re);xe<ge;++xe)if(R[xe]!==M[xe]){j=R[xe],re=M[xe];break}return j<re?-1:re<j?1:0},c.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(R,M){if(!r(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return c.alloc(0);var j;if(M===void 0)for(M=0,j=0;j<R.length;++j)M+=R[j].length;var re=c.allocUnsafe(M),xe=0;for(j=0;j<R.length;++j){var ge=R[j];if(!c.isBuffer(ge))throw new TypeError('"list" argument must be an Array of Buffers');ge.copy(re,xe),xe+=ge.length}return re};function C($,R){if(c.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var M=$.length;if(M===0)return 0;for(var j=!1;;)switch(R){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return xn($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Dn($).length;default:if(j)return xn($).length;R=(""+R).toLowerCase(),j=!0}}c.byteLength=C;function A($,R,M){var j=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,R>>>=0,M<=R))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,R,M);case"utf8":case"utf-8":return he(this,R,M);case"ascii":return Se(this,R,M);case"latin1":case"binary":return ve(this,R,M);case"base64":return te(this,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,R,M);default:if(j)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),j=!0}}c.prototype._isBuffer=!0;function q($,R,M){var j=$[R];$[R]=$[M],$[M]=j}c.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<R;M+=2)q(this,M,M+1);return this},c.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<R;M+=4)q(this,M,M+3),q(this,M+1,M+2);return this},c.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<R;M+=8)q(this,M,M+7),q(this,M+1,M+6),q(this,M+2,M+5),q(this,M+3,M+4);return this},c.prototype.toString=function(){var R=this.length|0;return R===0?"":arguments.length===0?he(this,0,R):A.apply(this,arguments)},c.prototype.equals=function(R){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:c.compare(this,R)===0},c.prototype.inspect=function(){var R="",M=e.INSPECT_MAX_BYTES;return this.length>0&&(R=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(R+=" ... ")),"<Buffer "+R+">"},c.prototype.compare=function(R,M,j,re,xe){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");if(M===void 0&&(M=0),j===void 0&&(j=R?R.length:0),re===void 0&&(re=0),xe===void 0&&(xe=this.length),M<0||j>R.length||re<0||xe>this.length)throw new RangeError("out of range index");if(re>=xe&&M>=j)return 0;if(re>=xe)return-1;if(M>=j)return 1;if(M>>>=0,j>>>=0,re>>>=0,xe>>>=0,this===R)return 0;for(var ge=xe-re,yn=j-M,dn=Math.min(ge,yn),nn=this.slice(re,xe),Ge=R.slice(M,j),On=0;On<dn;++On)if(nn[On]!==Ge[On]){ge=nn[On],yn=Ge[On];break}return ge<yn?-1:yn<ge?1:0};function K($,R,M,j,re){if($.length===0)return-1;if(typeof M=="string"?(j=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,isNaN(M)&&(M=re?0:$.length-1),M<0&&(M=$.length+M),M>=$.length){if(re)return-1;M=$.length-1}else if(M<0)if(re)M=0;else return-1;if(typeof R=="string"&&(R=c.from(R,j)),c.isBuffer(R))return R.length===0?-1:z($,R,M,j,re);if(typeof R=="number")return R=R&255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call($,R,M):Uint8Array.prototype.lastIndexOf.call($,R,M):z($,[R],M,j,re);throw new TypeError("val must be string, number or Buffer")}function z($,R,M,j,re){var xe=1,ge=$.length,yn=R.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if($.length<2||R.length<2)return-1;xe=2,ge/=2,yn/=2,M/=2}function dn(Ht,ei){return xe===1?Ht[ei]:Ht.readUInt16BE(ei*xe)}var nn;if(re){var Ge=-1;for(nn=M;nn<ge;nn++)if(dn($,nn)===dn(R,Ge===-1?0:nn-Ge)){if(Ge===-1&&(Ge=nn),nn-Ge+1===yn)return Ge*xe}else Ge!==-1&&(nn-=nn-Ge),Ge=-1}else for(M+yn>ge&&(M=ge-yn),nn=M;nn>=0;nn--){for(var On=!0,at=0;at<yn;at++)if(dn($,nn+at)!==dn(R,at)){On=!1;break}if(On)return nn}return-1}c.prototype.includes=function(R,M,j){return this.indexOf(R,M,j)!==-1},c.prototype.indexOf=function(R,M,j){return K(this,R,M,j,!0)},c.prototype.lastIndexOf=function(R,M,j){return K(this,R,M,j,!1)};function V($,R,M,j){M=Number(M)||0;var re=$.length-M;j?(j=Number(j),j>re&&(j=re)):j=re;var xe=R.length;if(xe%2!==0)throw new TypeError("Invalid hex string");j>xe/2&&(j=xe/2);for(var ge=0;ge<j;++ge){var yn=parseInt(R.substr(ge*2,2),16);if(isNaN(yn))return ge;$[M+ge]=yn}return ge}function W($,R,M,j){return fn(xn(R,$.length-M),$,M,j)}function de($,R,M,j){return fn(In(R),$,M,j)}function le($,R,M,j){return de($,R,M,j)}function Ie($,R,M,j){return fn(Dn(R),$,M,j)}function ye($,R,M,j){return fn(ln(R,$.length-M),$,M,j)}c.prototype.write=function(R,M,j,re){if(M===void 0)re="utf8",j=this.length,M=0;else if(j===void 0&&typeof M=="string")re=M,j=this.length,M=0;else if(isFinite(M))M=M|0,isFinite(j)?(j=j|0,re===void 0&&(re="utf8")):(re=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-M;if((j===void 0||j>xe)&&(j=xe),R.length>0&&(j<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ge=!1;;)switch(re){case"hex":return V(this,R,M,j);case"utf8":case"utf-8":return W(this,R,M,j);case"ascii":return de(this,R,M,j);case"latin1":case"binary":return le(this,R,M,j);case"base64":return Ie(this,R,M,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,R,M,j);default:if(ge)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ge=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te($,R,M){return R===0&&M===$.length?n.fromByteArray($):n.fromByteArray($.slice(R,M))}function he($,R,M){M=Math.min($.length,M);for(var j=[],re=R;re<M;){var xe=$[re],ge=null,yn=xe>239?4:xe>223?3:xe>191?2:1;if(re+yn<=M){var dn,nn,Ge,On;switch(yn){case 1:xe<128&&(ge=xe);break;case 2:dn=$[re+1],(dn&192)===128&&(On=(xe&31)<<6|dn&63,On>127&&(ge=On));break;case 3:dn=$[re+1],nn=$[re+2],(dn&192)===128&&(nn&192)===128&&(On=(xe&15)<<12|(dn&63)<<6|nn&63,On>2047&&(On<55296||On>57343)&&(ge=On));break;case 4:dn=$[re+1],nn=$[re+2],Ge=$[re+3],(dn&192)===128&&(nn&192)===128&&(Ge&192)===128&&(On=(xe&15)<<18|(dn&63)<<12|(nn&63)<<6|Ge&63,On>65535&&On<1114112&&(ge=On))}}ge===null?(ge=65533,yn=1):ge>65535&&(ge-=65536,j.push(ge>>>10&1023|55296),ge=56320|ge&1023),j.push(ge),re+=yn}return He(j)}var ce=4096;function He($){var R=$.length;if(R<=ce)return String.fromCharCode.apply(String,$);for(var M="",j=0;j<R;)M+=String.fromCharCode.apply(String,$.slice(j,j+=ce));return M}function Se($,R,M){var j="";M=Math.min($.length,M);for(var re=R;re<M;++re)j+=String.fromCharCode($[re]&127);return j}function ve($,R,M){var j="";M=Math.min($.length,M);for(var re=R;re<M;++re)j+=String.fromCharCode($[re]);return j}function Oe($,R,M){var j=$.length;(!R||R<0)&&(R=0),(!M||M<0||M>j)&&(M=j);for(var re="",xe=R;xe<M;++xe)re+=Tn($[xe]);return re}function Be($,R,M){for(var j=$.slice(R,M),re="",xe=0;xe<j.length;xe+=2)re+=String.fromCharCode(j[xe]+j[xe+1]*256);return re}c.prototype.slice=function(R,M){var j=this.length;R=~~R,M=M===void 0?j:~~M,R<0?(R+=j,R<0&&(R=0)):R>j&&(R=j),M<0?(M+=j,M<0&&(M=0)):M>j&&(M=j),M<R&&(M=R);var re;if(c.TYPED_ARRAY_SUPPORT)re=this.subarray(R,M),re.__proto__=c.prototype;else{var xe=M-R;re=new c(xe,void 0);for(var ge=0;ge<xe;++ge)re[ge]=this[ge+R]}return re};function ee($,R,M){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+R>M)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function(R,M,j){R=R|0,M=M|0,j||ee(R,M,this.length);for(var re=this[R],xe=1,ge=0;++ge<M&&(xe*=256);)re+=this[R+ge]*xe;return re},c.prototype.readUIntBE=function(R,M,j){R=R|0,M=M|0,j||ee(R,M,this.length);for(var re=this[R+--M],xe=1;M>0&&(xe*=256);)re+=this[R+--M]*xe;return re},c.prototype.readUInt8=function(R,M){return M||ee(R,1,this.length),this[R]},c.prototype.readUInt16LE=function(R,M){return M||ee(R,2,this.length),this[R]|this[R+1]<<8},c.prototype.readUInt16BE=function(R,M){return M||ee(R,2,this.length),this[R]<<8|this[R+1]},c.prototype.readUInt32LE=function(R,M){return M||ee(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},c.prototype.readUInt32BE=function(R,M){return M||ee(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},c.prototype.readIntLE=function(R,M,j){R=R|0,M=M|0,j||ee(R,M,this.length);for(var re=this[R],xe=1,ge=0;++ge<M&&(xe*=256);)re+=this[R+ge]*xe;return xe*=128,re>=xe&&(re-=Math.pow(2,8*M)),re},c.prototype.readIntBE=function(R,M,j){R=R|0,M=M|0,j||ee(R,M,this.length);for(var re=M,xe=1,ge=this[R+--re];re>0&&(xe*=256);)ge+=this[R+--re]*xe;return xe*=128,ge>=xe&&(ge-=Math.pow(2,8*M)),ge},c.prototype.readInt8=function(R,M){return M||ee(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},c.prototype.readInt16LE=function(R,M){M||ee(R,2,this.length);var j=this[R]|this[R+1]<<8;return j&32768?j|4294901760:j},c.prototype.readInt16BE=function(R,M){M||ee(R,2,this.length);var j=this[R+1]|this[R]<<8;return j&32768?j|4294901760:j},c.prototype.readInt32LE=function(R,M){return M||ee(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},c.prototype.readInt32BE=function(R,M){return M||ee(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},c.prototype.readFloatLE=function(R,M){return M||ee(R,4,this.length),t.read(this,R,!0,23,4)},c.prototype.readFloatBE=function(R,M){return M||ee(R,4,this.length),t.read(this,R,!1,23,4)},c.prototype.readDoubleLE=function(R,M){return M||ee(R,8,this.length),t.read(this,R,!0,52,8)},c.prototype.readDoubleBE=function(R,M){return M||ee(R,8,this.length),t.read(this,R,!1,52,8)};function X($,R,M,j,re,xe){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>re||R<xe)throw new RangeError('"value" argument is out of bounds');if(M+j>$.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function(R,M,j,re){if(R=+R,M=M|0,j=j|0,!re){var xe=Math.pow(2,8*j)-1;X(this,R,M,j,xe,0)}var ge=1,yn=0;for(this[M]=R&255;++yn<j&&(ge*=256);)this[M+yn]=R/ge&255;return M+j},c.prototype.writeUIntBE=function(R,M,j,re){if(R=+R,M=M|0,j=j|0,!re){var xe=Math.pow(2,8*j)-1;X(this,R,M,j,xe,0)}var ge=j-1,yn=1;for(this[M+ge]=R&255;--ge>=0&&(yn*=256);)this[M+ge]=R/yn&255;return M+j},c.prototype.writeUInt8=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,1,255,0),c.TYPED_ARRAY_SUPPORT||(R=Math.floor(R)),this[M]=R&255,M+1};function me($,R,M,j){R<0&&(R=65535+R+1);for(var re=0,xe=Math.min($.length-M,2);re<xe;++re)$[M+re]=(R&255<<8*(j?re:1-re))>>>(j?re:1-re)*8}c.prototype.writeUInt16LE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8):me(this,R,M,!0),M+2},c.prototype.writeUInt16BE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[M]=R>>>8,this[M+1]=R&255):me(this,R,M,!1),M+2};function Ye($,R,M,j){R<0&&(R=4294967295+R+1);for(var re=0,xe=Math.min($.length-M,4);re<xe;++re)$[M+re]=R>>>(j?re:3-re)*8&255}c.prototype.writeUInt32LE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[M+3]=R>>>24,this[M+2]=R>>>16,this[M+1]=R>>>8,this[M]=R&255):Ye(this,R,M,!0),M+4},c.prototype.writeUInt32BE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255):Ye(this,R,M,!1),M+4},c.prototype.writeIntLE=function(R,M,j,re){if(R=+R,M=M|0,!re){var xe=Math.pow(2,8*j-1);X(this,R,M,j,xe-1,-xe)}var ge=0,yn=1,dn=0;for(this[M]=R&255;++ge<j&&(yn*=256);)R<0&&dn===0&&this[M+ge-1]!==0&&(dn=1),this[M+ge]=(R/yn>>0)-dn&255;return M+j},c.prototype.writeIntBE=function(R,M,j,re){if(R=+R,M=M|0,!re){var xe=Math.pow(2,8*j-1);X(this,R,M,j,xe-1,-xe)}var ge=j-1,yn=1,dn=0;for(this[M+ge]=R&255;--ge>=0&&(yn*=256);)R<0&&dn===0&&this[M+ge+1]!==0&&(dn=1),this[M+ge]=(R/yn>>0)-dn&255;return M+j},c.prototype.writeInt8=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,1,127,-128),c.TYPED_ARRAY_SUPPORT||(R=Math.floor(R)),R<0&&(R=255+R+1),this[M]=R&255,M+1},c.prototype.writeInt16LE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8):me(this,R,M,!0),M+2},c.prototype.writeInt16BE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[M]=R>>>8,this[M+1]=R&255):me(this,R,M,!1),M+2},c.prototype.writeInt32LE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8,this[M+2]=R>>>16,this[M+3]=R>>>24):Ye(this,R,M,!0),M+4},c.prototype.writeInt32BE=function(R,M,j){return R=+R,M=M|0,j||X(this,R,M,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),c.TYPED_ARRAY_SUPPORT?(this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255):Ye(this,R,M,!1),M+4};function Ne($,R,M,j,re,xe){if(M+j>$.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ae($,R,M,j,re){return re||Ne($,R,M,4),t.write($,R,M,j,23,4),M+4}c.prototype.writeFloatLE=function(R,M,j){return Ae(this,R,M,!0,j)},c.prototype.writeFloatBE=function(R,M,j){return Ae(this,R,M,!1,j)};function _e($,R,M,j,re){return re||Ne($,R,M,8),t.write($,R,M,j,52,8),M+8}c.prototype.writeDoubleLE=function(R,M,j){return _e(this,R,M,!0,j)},c.prototype.writeDoubleBE=function(R,M,j){return _e(this,R,M,!1,j)},c.prototype.copy=function(R,M,j,re){if(j||(j=0),!re&&re!==0&&(re=this.length),M>=R.length&&(M=R.length),M||(M=0),re>0&&re<j&&(re=j),re===j||R.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),R.length-M<re-j&&(re=R.length-M+j);var xe=re-j,ge;if(this===R&&j<M&&M<re)for(ge=xe-1;ge>=0;--ge)R[ge+M]=this[ge+j];else if(xe<1e3||!c.TYPED_ARRAY_SUPPORT)for(ge=0;ge<xe;++ge)R[ge+M]=this[ge+j];else Uint8Array.prototype.set.call(R,this.subarray(j,j+xe),M);return xe},c.prototype.fill=function(R,M,j,re){if(typeof R=="string"){if(typeof M=="string"?(re=M,M=0,j=this.length):typeof j=="string"&&(re=j,j=this.length),R.length===1){var xe=R.charCodeAt(0);xe<256&&(R=xe)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!c.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof R=="number"&&(R=R&255);if(M<0||this.length<M||this.length<j)throw new RangeError("Out of range index");if(j<=M)return this;M=M>>>0,j=j===void 0?this.length:j>>>0,R||(R=0);var ge;if(typeof R=="number")for(ge=M;ge<j;++ge)this[ge]=R;else{var yn=c.isBuffer(R)?R:xn(new c(R,re).toString()),dn=yn.length;for(ge=0;ge<j-M;++ge)this[ge+M]=yn[ge%dn]}return this};var Le=/[^+\/0-9A-Za-z-_]/g;function ze($){if($=mn($).replace(Le,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function mn($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function Tn($){return $<16?"0"+$.toString(16):$.toString(16)}function xn($,R){R=R||1/0;for(var M,j=$.length,re=null,xe=[],ge=0;ge<j;++ge){if(M=$.charCodeAt(ge),M>55295&&M<57344){if(!re){if(M>56319){(R-=3)>-1&&xe.push(239,191,189);continue}else if(ge+1===j){(R-=3)>-1&&xe.push(239,191,189);continue}re=M;continue}if(M<56320){(R-=3)>-1&&xe.push(239,191,189),re=M;continue}M=(re-55296<<10|M-56320)+65536}else re&&(R-=3)>-1&&xe.push(239,191,189);if(re=null,M<128){if((R-=1)<0)break;xe.push(M)}else if(M<2048){if((R-=2)<0)break;xe.push(M>>6|192,M&63|128)}else if(M<65536){if((R-=3)<0)break;xe.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((R-=4)<0)break;xe.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return xe}function In($){for(var R=[],M=0;M<$.length;++M)R.push($.charCodeAt(M)&255);return R}function ln($,R){for(var M,j,re,xe=[],ge=0;ge<$.length&&!((R-=2)<0);++ge)M=$.charCodeAt(ge),j=M>>8,re=M%256,xe.push(re),xe.push(j);return xe}function Dn($){return n.toByteArray(ze($))}function fn($,R,M,j){for(var re=0;re<j&&!(re+M>=R.length||re>=$.length);++re)R[re+M]=$[re];return re}function kn($){return $!==$}})(Hu);function sd(){this.head=null,this.tail=null,this.length=0}sd.prototype.push=function(e){var n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length};sd.prototype.unshift=function(e){var n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length};sd.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}};sd.prototype.clear=function(){this.head=this.tail=null,this.length=0};sd.prototype.join=function(e){if(this.length===0)return"";for(var n=this.head,t=""+n.data;n=n.next;)t+=e+n.data;return t};sd.prototype.concat=function(e){if(this.length===0)return Hu.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var n=Hu.Buffer.allocUnsafe(e>>>0),t=this.head,r=0;t;)t.data.copy(n,r),r+=t.data.length,t=t.next;return n};var vx={exports:{}};(function(e,n){var t=Hu,r=t.Buffer;function i(u,c){for(var h in u)c[h]=u[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(i(t,n),n.Buffer=o);function o(u,c,h){return r(u,c,h)}i(r,o),o.from=function(u,c,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,c,h)},o.alloc=function(u,c,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var f=r(u);return c!==void 0?typeof h=="string"?f.fill(c,h):f.fill(c):f.fill(0),f},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(vx,vx.exports);var ak=vx.exports.Buffer,DL=ak.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jce(e){if(!e)return"utf8";for(var n;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(n)return;e=(""+e).toLowerCase(),n=!0}}function Vce(e){var n=jce(e);if(typeof n!="string"&&(ak.isEncoding===DL||!DL(e)))throw new Error("Unknown encoding: "+e);return n||e}var L9=D0;function D0(e){this.encoding=Vce(e);var n;switch(this.encoding){case"utf16le":this.text=Jce,this.end=Zce,n=4;break;case"utf8":this.fillLast=Qce,n=4;break;case"base64":this.text=ede,this.end=nde,n=3;break;default:this.write=tde,this.end=rde;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ak.allocUnsafe(n)}D0.prototype.write=function(e){if(e.length===0)return"";var n,t;if(this.lastNeed){if(n=this.fillLast(e),n===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?n?n+this.text(e,t):this.text(e,t):n||""};D0.prototype.end=Xce;D0.prototype.text=Yce;D0.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ME(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Wce(e,n,t){var r=n.length-1;if(r<t)return 0;var i=ME(n[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<t||i===-2?0:(i=ME(n[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<t||i===-2?0:(i=ME(n[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Kce(e,n,t){if((n[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&n.length>1){if((n[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&n.length>2&&(n[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Qce(e){var n=this.lastTotal-this.lastNeed,t=Kce(this,e);if(t!==void 0)return t;if(this.lastNeed<=e.length)return e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,n,0,e.length),this.lastNeed-=e.length}function Yce(e,n){var t=Wce(this,e,n);if(!this.lastNeed)return e.toString("utf8",n);this.lastTotal=t;var r=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",n,r)}function Xce(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+"\uFFFD":n}function Jce(e,n){if((e.length-n)%2===0){var t=e.toString("utf16le",n);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",n,e.length-1)}function Zce(e){var n=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,t)}return n}function ede(e,n){var t=(e.length-n)%3;return t===0?e.toString("base64",n):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",n,e.length-t))}function nde(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function tde(e){return e.toString(this.encoding)}function rde(e){return e&&e.length?this.write(e):""}Rr.ReadableState=P9;var Qt=Bo.debuglog("stream");Bo.inherits(Rr,Vh);function ide(e,n,t){if(typeof e.prependListener=="function")return e.prependListener(n,t);!e._events||!e._events[n]?e.on(n,t):Array.isArray(e._events[n])?e._events[n].unshift(t):e._events[n]=[t,e._events[n]]}function ade(e,n){return e.listeners(n).length}function P9(e,n){e=e||{},this.objectMode=!!e.objectMode,n instanceof ps&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new sd,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new L9(e.encoding),this.encoding=e.encoding)}function Rr(e){if(!(this instanceof Rr))return new Rr(e);this._readableState=new P9(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Vh.call(this)}Rr.prototype.push=function(e,n){var t=this._readableState;return!t.objectMode&&typeof e=="string"&&(n=n||t.defaultEncoding,n!==t.encoding&&(e=Buffer.from(e,n),n="")),F9(this,t,e,n,!1)};Rr.prototype.unshift=function(e){var n=this._readableState;return F9(this,n,e,"",!0)};Rr.prototype.isPaused=function(){return this._readableState.flowing===!1};function F9(e,n,t,r,i){var o=lde(n,t);if(o)e.emit("error",o);else if(t===null)n.reading=!1,ude(e,n);else if(n.objectMode||t&&t.length>0)if(n.ended&&!i){var u=new Error("stream.push() after EOF");e.emit("error",u)}else if(n.endEmitted&&i){var c=new Error("stream.unshift() after end event");e.emit("error",c)}else{var h;n.decoder&&!i&&!r&&(t=n.decoder.write(t),h=!n.objectMode&&t.length===0),i||(n.reading=!1),h||(n.flowing&&n.length===0&&!n.sync?(e.emit("data",t),e.read(0)):(n.length+=n.objectMode?1:t.length,i?n.buffer.unshift(t):n.buffer.push(t),n.needReadable&&v_(e))),cde(e,n)}else i||(n.reading=!1);return sde(n)}function sde(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Rr.prototype.setEncoding=function(e){return this._readableState.decoder=new L9(e),this._readableState.encoding=e,this};var UL=8388608;function ode(e){return e>=UL?e=UL:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function LL(e,n){return e<=0||n.length===0&&n.ended?0:n.objectMode?1:e!==e?n.flowing&&n.length?n.buffer.head.data.length:n.length:(e>n.highWaterMark&&(n.highWaterMark=ode(e)),e<=n.length?e:n.ended?n.length:(n.needReadable=!0,0))}Rr.prototype.read=function(e){Qt("read",e),e=parseInt(e,10);var n=this._readableState,t=e;if(e!==0&&(n.emittedReadable=!1),e===0&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return Qt("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?DE(this):v_(this),null;if(e=LL(e,n),e===0&&n.ended)return n.length===0&&DE(this),null;var r=n.needReadable;Qt("need readable",r),(n.length===0||n.length-e<n.highWaterMark)&&(r=!0,Qt("length less than watermark",r)),n.ended||n.reading?(r=!1,Qt("reading or ended",r)):r&&(Qt("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=LL(t,n)));var i;return e>0?i=H9(e,n):i=null,i===null?(n.needReadable=!0,e=0):n.length-=e,n.length===0&&(n.ended||(n.needReadable=!0),t!==e&&n.ended&&DE(this)),i!==null&&this.emit("data",i),i};function lde(e,n){var t=null;return!Buffer.isBuffer(n)&&typeof n!="string"&&n!==null&&n!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function ude(e,n){if(!n.ended){if(n.decoder){var t=n.decoder.end();t&&t.length&&(n.buffer.push(t),n.length+=n.objectMode?1:t.length)}n.ended=!0,v_(e)}}function v_(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(Qt("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?qs.nextTick(PL,e):PL(e))}function PL(e){Qt("emit readable"),e.emit("readable"),sk(e)}function cde(e,n){n.readingMore||(n.readingMore=!0,qs.nextTick(dde,e,n))}function dde(e,n){for(var t=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(Qt("maybeReadMore read 0"),e.read(0),t!==n.length);)t=n.length;n.readingMore=!1}Rr.prototype._read=function(e){this.emit("error",new Error("not implemented"))};Rr.prototype.pipe=function(e,n){var t=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1,Qt("pipe count=%d opts=%j",r.pipesCount,n);var i=!n||n.end!==!1,o=i?c:v;r.endEmitted?qs.nextTick(o):t.once("end",o),e.on("unpipe",u);function u(N){Qt("onunpipe"),N===t&&v()}function c(){Qt("onend"),e.end()}var h=hde(t);e.on("drain",h);var f=!1;function v(){Qt("cleanup"),e.removeListener("close",k),e.removeListener("finish",S),e.removeListener("drain",h),e.removeListener("error",E),e.removeListener("unpipe",u),t.removeListener("end",c),t.removeListener("end",v),t.removeListener("data",y),f=!0,r.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&h()}var _=!1;t.on("data",y);function y(N){Qt("ondata"),_=!1;var C=e.write(N);C===!1&&!_&&((r.pipesCount===1&&r.pipes===e||r.pipesCount>1&&q9(r.pipes,e)!==-1)&&!f&&(Qt("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,_=!0),t.pause())}function E(N){Qt("onerror",N),D(),e.removeListener("error",E),ade(e,"error")===0&&e.emit("error",N)}ide(e,"error",E);function k(){e.removeListener("finish",S),D()}e.once("close",k);function S(){Qt("onfinish"),e.removeListener("close",k),D()}e.once("finish",S);function D(){Qt("unpipe"),t.unpipe(e)}return e.emit("pipe",t),r.flowing||(Qt("pipe resume"),t.resume()),e};function hde(e){return function(){var n=e._readableState;Qt("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&e.listeners("data").length&&(n.flowing=!0,sk(e))}}Rr.prototype.unpipe=function(e){var n=this._readableState;if(n.pipesCount===0)return this;if(n.pipesCount===1)return e&&e!==n.pipes?this:(e||(e=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=n.pipes,r=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var i=0;i<r;i++)t[i].emit("unpipe",this);return this}var o=q9(n.pipes,e);return o===-1?this:(n.pipes.splice(o,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),e.emit("unpipe",this),this)};Rr.prototype.on=function(e,n){var t=Vh.prototype.on.call(this,e,n);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v_(this):qs.nextTick(pde,this))}return t};Rr.prototype.addListener=Rr.prototype.on;function pde(e){Qt("readable nexttick read 0"),e.read(0)}Rr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Qt("resume"),e.flowing=!0,fde(this,e)),this};function fde(e,n){n.resumeScheduled||(n.resumeScheduled=!0,qs.nextTick(mde,e,n))}function mde(e,n){n.reading||(Qt("resume read 0"),e.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,e.emit("resume"),sk(e),n.flowing&&!n.reading&&e.read(0)}Rr.prototype.pause=function(){return Qt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Qt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function sk(e){var n=e._readableState;for(Qt("flow",n.flowing);n.flowing&&e.read()!==null;);}Rr.prototype.wrap=function(e){var n=this._readableState,t=!1,r=this;e.on("end",function(){if(Qt("wrapped end"),n.decoder&&!n.ended){var u=n.decoder.end();u&&u.length&&r.push(u)}r.push(null)}),e.on("data",function(u){if(Qt("wrapped data"),n.decoder&&(u=n.decoder.write(u)),!(n.objectMode&&u==null)&&!(!n.objectMode&&(!u||!u.length))){var c=r.push(u);c||(t=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(u){return function(){return e[u].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return yde(o,function(u){e.on(u,r.emit.bind(r,u))}),r._read=function(u){Qt("wrapped _read",u),t&&(t=!1,e.resume())},r};Rr._fromList=H9;function H9(e,n){if(n.length===0)return null;var t;return n.objectMode?t=n.buffer.shift():!e||e>=n.length?(n.decoder?t=n.buffer.join(""):n.buffer.length===1?t=n.buffer.head.data:t=n.buffer.concat(n.length),n.buffer.clear()):t=gde(e,n.buffer,n.decoder),t}function gde(e,n,t){var r;return e<n.head.data.length?(r=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):e===n.head.data.length?r=n.shift():r=t?vde(e,n):_de(e,n),r}function vde(e,n){var t=n.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var o=t.data,u=e>o.length?o.length:e;if(u===o.length?i+=o:i+=o.slice(0,e),e-=u,e===0){u===o.length?(++r,t.next?n.head=t.next:n.head=n.tail=null):(n.head=t,t.data=o.slice(u));break}++r}return n.length-=r,i}function _de(e,n){var t=Buffer.allocUnsafe(e),r=n.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,u=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,u),e-=u,e===0){u===o.length?(++i,r.next?n.head=r.next:n.head=n.tail=null):(n.head=r,r.data=o.slice(u));break}++i}return n.length-=i,t}function DE(e){var n=e._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,qs.nextTick(bde,n,e))}function bde(e,n){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,n.readable=!1,n.emit("end"))}function yde(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function q9(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}Fi.WritableState=ok;Bo.inherits(Fi,M0.exports.EventEmitter);function Ede(){}function wde(e,n,t){this.chunk=e,this.encoding=n,this.callback=t,this.next=null}function ok(e,n){Object.defineProperty(this,"buffer",{get:Bo.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,n instanceof ps&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){Ide(n,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new $9(this)}ok.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t};function Fi(e){if(!(this instanceof Fi)&&!(this instanceof ps))return new Fi(e);this._writableState=new ok(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),M0.exports.EventEmitter.call(this)}Fi.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function xde(e,n){var t=new Error("write after end");e.emit("error",t),qs.nextTick(n,t)}function kde(e,n,t,r){var i=!0,o=!1;return t===null?o=new TypeError("May not write null values to stream"):!Hu.Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),qs.nextTick(r,o),i=!1),i}Fi.prototype.write=function(e,n,t){var r=this._writableState,i=!1;return typeof n=="function"&&(t=n,n=null),Hu.Buffer.isBuffer(e)?n="buffer":n||(n=r.defaultEncoding),typeof t!="function"&&(t=Ede),r.ended?xde(this,t):kde(this,r,e,t)&&(r.pendingcb++,i=Sde(this,r,e,n,t)),i};Fi.prototype.cork=function(){var e=this._writableState;e.corked++};Fi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&B9(this,e))};Fi.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};function Cde(e,n,t){return!e.objectMode&&e.decodeStrings!==!1&&typeof n=="string"&&(n=Hu.Buffer.from(n,t)),n}function Sde(e,n,t,r,i){t=Cde(n,t,r),Hu.Buffer.isBuffer(t)&&(r="buffer");var o=n.objectMode?1:t.length;n.length+=o;var u=n.length<n.highWaterMark;if(u||(n.needDrain=!0),n.writing||n.corked){var c=n.lastBufferedRequest;n.lastBufferedRequest=new wde(t,r,i),c?c.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else _x(e,n,!1,o,t,r,i);return u}function _x(e,n,t,r,i,o,u){n.writelen=r,n.writecb=u,n.writing=!0,n.sync=!0,t?e._writev(i,n.onwrite):e._write(i,o,n.onwrite),n.sync=!1}function Nde(e,n,t,r,i){--n.pendingcb,t?qs.nextTick(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function Tde(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Ide(e,n){var t=e._writableState,r=t.sync,i=t.writecb;if(Tde(t),n)Nde(e,t,r,n,i);else{var o=G9(t);!o&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&B9(e,t),r?qs.nextTick(FL,e,t,o,i):FL(e,t,o,i)}}function FL(e,n,t,r){t||Ode(e,n),n.pendingcb--,r(),z9(e,n)}function Ode(e,n){n.length===0&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}function B9(e,n){n.bufferProcessing=!0;var t=n.bufferedRequest;if(e._writev&&t&&t.next){var r=n.bufferedRequestCount,i=new Array(r),o=n.corkedRequestsFree;o.entry=t;for(var u=0;t;)i[u]=t,t=t.next,u+=1;_x(e,n,!0,n.length,i,"",o.finish),n.pendingcb++,n.lastBufferedRequest=null,o.next?(n.corkedRequestsFree=o.next,o.next=null):n.corkedRequestsFree=new $9(n)}else{for(;t;){var c=t.chunk,h=t.encoding,f=t.callback,v=n.objectMode?1:c.length;if(_x(e,n,!1,v,c,h,f),t=t.next,n.writing)break}t===null&&(n.lastBufferedRequest=null)}n.bufferedRequestCount=0,n.bufferedRequest=t,n.bufferProcessing=!1}Fi.prototype._write=function(e,n,t){t(new Error("not implemented"))};Fi.prototype._writev=null;Fi.prototype.end=function(e,n,t){var r=this._writableState;typeof e=="function"?(t=e,e=null,n=null):typeof n=="function"&&(t=n,n=null),e!=null&&this.write(e,n),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&Ade(this,r,t)};function G9(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function HL(e,n){n.prefinished||(n.prefinished=!0,e.emit("prefinish"))}function z9(e,n){var t=G9(n);return t&&(n.pendingcb===0?(HL(e,n),n.finished=!0,e.emit("finish")):HL(e,n)),t}function Ade(e,n,t){n.ending=!0,z9(e,n),t&&(n.finished?qs.nextTick(t):e.once("finish",t)),n.ended=!0,e.writable=!1}function $9(e){var n=this;this.next=null,this.entry=null,this.finish=function(t){var r=n.entry;for(n.entry=null;r;){var i=r.callback;e.pendingcb--,i(t),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=n:e.corkedRequestsFree=n}}Bo.inherits(ps,Rr);var qL=Object.keys(Fi.prototype);for(var UE=0;UE<qL.length;UE++){var LE=qL[UE];ps.prototype[LE]||(ps.prototype[LE]=Fi.prototype[LE])}function ps(e){if(!(this instanceof ps))return new ps(e);Rr.call(this,e),Fi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Rde)}function Rde(){this.allowHalfOpen||this._writableState.ended||qs.nextTick(Mde,this)}function Mde(e){e.end()}Bo.inherits(ho,ps);function Dde(e){this.afterTransform=function(n,t){return Ude(e,n,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ude(e,n,t){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,t!=null&&e.push(t),i(n);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function ho(e){if(!(this instanceof ho))return new ho(e);ps.call(this,e),this._transformState=new Dde(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){BL(n,t)}):BL(n)})}ho.prototype.push=function(e,n){return this._transformState.needTransform=!1,ps.prototype.push.call(this,e,n)};ho.prototype._transform=function(e,n,t){throw new Error("Not implemented")};ho.prototype._write=function(e,n,t){var r=this._transformState;if(r.writecb=t,r.writechunk=e,r.writeencoding=n,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ho.prototype._read=function(e){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};function BL(e,n){if(n)return e.emit("error",n);var t=e._writableState,r=e._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Bo.inherits(Mh,ho);function Mh(e){if(!(this instanceof Mh))return new Mh(e);ho.call(this,e)}Mh.prototype._transform=function(e,n,t){t(null,e)};Bo.inherits(po,Vh);po.Readable=Rr;po.Writable=Fi;po.Duplex=ps;po.Transform=ho;po.PassThrough=Mh;po.Stream=po;function po(){Vh.call(this)}po.prototype.pipe=function(e,n){var t=this;function r(v){e.writable&&e.write(v)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}e.on("drain",i),!e._isStdio&&(!n||n.end!==!1)&&(t.on("end",u),t.on("close",c));var o=!1;function u(){o||(o=!0,e.end())}function c(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function h(v){if(f(),Vh.listenerCount(this,"error")===0)throw v}t.on("error",h),e.on("error",h);function f(){t.removeListener("data",r),e.removeListener("drain",i),t.removeListener("end",u),t.removeListener("close",c),t.removeListener("error",h),e.removeListener("error",h),t.removeListener("end",f),t.removeListener("close",f),e.removeListener("close",f)}return t.on("end",f),t.on("close",f),e.on("close",f),e.emit("pipe",t),e};var Lde=Object.freeze({__proto__:null,default:po,Readable:Rr,Writable:Fi,Duplex:ps,Transform:ho,PassThrough:Mh,Stream:po}),Pde=wce(Lde);/** @license React v17.0.2
 * react-dom-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Nce,gl=x,Fde=Pde;function jr(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lk=60106,Lv=60107,uk=60108,ck=60114,Pv=60109,dk=60110,hk=60112,Fv=60113,pk=60120,fk=60115,mk=60116,j9=60121,V9=60117,W9=60119,K9=60129,Q9=60131;if(typeof Symbol=="function"&&Symbol.for){var Qi=Symbol.for;lk=Qi("react.portal"),Lv=Qi("react.fragment"),uk=Qi("react.strict_mode"),ck=Qi("react.profiler"),Pv=Qi("react.provider"),dk=Qi("react.context"),hk=Qi("react.forward_ref"),Fv=Qi("react.suspense"),pk=Qi("react.suspense_list"),fk=Qi("react.memo"),mk=Qi("react.lazy"),j9=Qi("react.block"),V9=Qi("react.fundamental"),W9=Qi("react.scope"),K9=Qi("react.debug_trace_mode"),Q9=Qi("react.legacy_hidden")}function Vf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lv:return"Fragment";case lk:return"Portal";case ck:return"Profiler";case uk:return"StrictMode";case Fv:return"Suspense";case pk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dk:return(e.displayName||"Context")+".Consumer";case Pv:return(e._context.displayName||"Context")+".Provider";case hk:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case fk:return Vf(e.type);case j9:return Vf(e._render);case mk:n=e._payload,e=e._init;try{return Vf(e(n))}catch{}}return null}var Hde=gl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y9={};function E0(e,n){for(var t=e._threadCount|0;t<=n;t++)e[t]=e._currentValue2,e._threadCount=t+1}function qde(e,n,t,r){if(r&&(r=e.contextType,typeof r=="object"&&r!==null))return E0(r,t),r[t];if(e=e.contextTypes){t={};for(var i in e)t[i]=n[i];n=t}else n=Y9;return n}for(var ea=new Uint16Array(16),Cg=0;15>Cg;Cg++)ea[Cg]=Cg+1;ea[15]=0;var Bde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GL=Object.prototype.hasOwnProperty,zL={},$L={};function X9(e){return GL.call($L,e)?!0:GL.call(zL,e)?!1:Bde.test(e)?$L[e]=!0:(zL[e]=!0,!1)}function Gde(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zde(e,n,t,r){if(n===null||typeof n>"u"||Gde(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ka(e,n,t,r,i,o,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=u}var Hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hi[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Hi[n]=new ka(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hi[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hi[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hi[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hi[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hi[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hi[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hi[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var gk=/[\-:]([a-z])/g;function vk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(gk,vk);Hi[n]=new ka(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(gk,vk);Hi[n]=new ka(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(gk,vk);Hi[n]=new ka(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hi[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Hi.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hi[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});var $de=/["'&<>]/;function Tc(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var n=$de.exec(e);if(n){var t="",r,i=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==r&&(t+=e.substring(i,r)),i=r+1,t+=n}e=i!==r?t+e.substring(i,r):t}return e}function jde(e,n){var t=Hi.hasOwnProperty(e)?Hi[e]:null,r;return(r=e!=="style")&&(r=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),r||zde(e,n,t,!1)?"":t!==null?(e=t.attributeName,r=t.type,r===3||r===4&&n===!0?e+'=""':(t.sanitizeURL&&(n=""+n),e+'="'+(Tc(n)+'"'))):X9(e)?e+'="'+(Tc(n)+'"'):""}function Vde(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Wde=typeof Object.is=="function"?Object.is:Vde,Ho=null,Qg=null,pr=null,Tf=!1,Hv=!1,yu=null,__=0;function Ic(){if(Ho===null)throw Error(jr(321));return Ho}function jL(){if(0<__)throw Error(jr(312));return{memoizedState:null,queue:null,next:null}}function _k(){return pr===null?Qg===null?(Tf=!1,Qg=pr=jL()):(Tf=!0,pr=Qg):pr.next===null?(Tf=!1,pr=pr.next=jL()):(Tf=!0,pr=pr.next),pr}function J9(e,n,t,r){for(;Hv;)Hv=!1,__+=1,pr=null,t=e(n,r);return Z9(),t}function Z9(){Ho=null,Hv=!1,Qg=null,__=0,pr=yu=null}function eH(e,n){return typeof n=="function"?n(e):n}function VL(e,n,t){if(Ho=Ic(),pr=_k(),Tf){var r=pr.queue;if(n=r.dispatch,yu!==null&&(t=yu.get(r),t!==void 0)){yu.delete(r),r=pr.memoizedState;do r=e(r,t.action),t=t.next;while(t!==null);return pr.memoizedState=r,[r,n]}return[pr.memoizedState,n]}return e=e===eH?typeof n=="function"?n():n:t!==void 0?t(n):n,pr.memoizedState=e,e=pr.queue={last:null,dispatch:null},e=e.dispatch=Kde.bind(null,Ho,e),[pr.memoizedState,e]}function WL(e,n){if(Ho=Ic(),pr=_k(),n=n===void 0?null:n,pr!==null){var t=pr.memoizedState;if(t!==null&&n!==null){var r=t[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<n.length;i++)if(!Wde(n[i],r[i])){r=!1;break e}r=!0}if(r)return t[0]}}return e=e(),pr.memoizedState=[e,n],e}function Kde(e,n,t){if(!(25>__))throw Error(jr(301));if(e===Ho)if(Hv=!0,e={action:t,next:null},yu===null&&(yu=new Map),t=yu.get(n),t===void 0)yu.set(n,e);else{for(n=t;n.next!==null;)n=n.next;n.next=e}}function PE(){}var Uc=null,Qde={readContext:function(e){var n=Uc.threadID;return E0(e,n),e[n]},useContext:function(e){Ic();var n=Uc.threadID;return E0(e,n),e[n]},useMemo:WL,useReducer:VL,useRef:function(e){Ho=Ic(),pr=_k();var n=pr.memoizedState;return n===null?(e={current:e},pr.memoizedState=e):n},useState:function(e){return VL(eH,e)},useLayoutEffect:function(){},useCallback:function(e,n){return WL(function(){return e},n)},useImperativeHandle:PE,useEffect:PE,useDebugValue:PE,useDeferredValue:function(e){return Ic(),e},useTransition:function(){return Ic(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(Uc.identifierPrefix||"")+"R:"+(Uc.uniqueID++).toString(36)},useMutableSource:function(e,n){return Ic(),n(e._source)}},Yde={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Xde(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var nH={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Jde=ao({menuitem:!0},nH),Wf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zde=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(e){Zde.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Wf[n]=Wf[e]})});var ehe=/([A-Z])/g,nhe=/^ms-/,cu=gl.Children.toArray,FE=Hde.ReactCurrentDispatcher,the={listing:!0,pre:!0,textarea:!0},rhe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,KL={},HE={};function ihe(e){if(e==null)return e;var n="";return gl.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}var ahe=Object.prototype.hasOwnProperty,she={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function QL(e,n){if(e===void 0)throw Error(jr(152,Vf(n)||"Component"))}function ohe(e,n,t){function r(u,c){var h=c.prototype&&c.prototype.isReactComponent,f=qde(c,n,t,h),v=[],_=!1,y={isMounted:function(){return!1},enqueueForceUpdate:function(){if(v===null)return null},enqueueReplaceState:function(A,q){_=!0,v=[q]},enqueueSetState:function(A,q){if(v===null)return null;v.push(q)}};if(h){if(h=new c(u.props,f,y),typeof c.getDerivedStateFromProps=="function"){var E=c.getDerivedStateFromProps.call(null,u.props,h.state);E!=null&&(h.state=ao({},h.state,E))}}else if(Ho={},h=c(u.props,f,y),h=J9(c,u.props,h,f),h==null||h.render==null){e=h,QL(e,c);return}if(h.props=u.props,h.context=f,h.updater=y,y=h.state,y===void 0&&(h.state=y=null),typeof h.UNSAFE_componentWillMount=="function"||typeof h.componentWillMount=="function")if(typeof h.componentWillMount=="function"&&typeof c.getDerivedStateFromProps!="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&typeof c.getDerivedStateFromProps!="function"&&h.UNSAFE_componentWillMount(),v.length){y=v;var k=_;if(v=null,_=!1,k&&y.length===1)h.state=y[0];else{E=k?y[0]:h.state;var S=!0;for(k=k?1:0;k<y.length;k++){var D=y[k];D=typeof D=="function"?D.call(h,E,u.props,f):D,D!=null&&(S?(S=!1,E=ao({},E,D)):ao(E,D))}h.state=E}}else v=null;if(e=h.render(),QL(e,c),typeof h.getChildContext=="function"&&(u=c.childContextTypes,typeof u=="object")){var N=h.getChildContext();for(var C in N)if(!(C in u))throw Error(jr(108,Vf(c)||"Unknown",C))}N&&(n=ao({},n,N))}for(;gl.isValidElement(e);){var i=e,o=i.type;if(typeof o!="function")break;r(i,o)}return{child:e,context:n}}var bk=function(){function e(t,r,i){gl.isValidElement(t)?t.type!==Lv?t=[t]:(t=t.props.children,t=gl.isValidElement(t)?[t]:cu(t)):t=cu(t),t={type:null,domNamespace:Yde.html,children:t,childIndex:0,context:Y9,footer:""};var o=ea[0];if(o===0){var u=ea;o=u.length;var c=2*o;if(!(65536>=c))throw Error(jr(304));var h=new Uint16Array(c);for(h.set(u),ea=h,ea[0]=o+1,u=o;u<c-1;u++)ea[u]=u+1;ea[c-1]=0}else ea[0]=ea[o];this.threadID=o,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=r,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=i&&i.identifierPrefix||""}var n=e.prototype;return n.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;ea[t]=ea[0],ea[0]=t}},n.pushProvider=function(t){var r=++this.contextIndex,i=t.type._context,o=this.threadID;E0(i,o);var u=i[o];this.contextStack[r]=i,this.contextValueStack[r]=u,i[o]=t.props.value},n.popProvider=function(){var t=this.contextIndex,r=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,r[this.threadID]=i},n.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},n.read=function(t){if(this.exhausted)return null;var r=Uc;Uc=this;var i=FE.current;FE.current=Qde;try{for(var o=[""],u=!1;o[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var c=this.threadID;ea[c]=ea[0],ea[0]=c;break}var h=this.stack[this.stack.length-1];if(u||h.childIndex>=h.children.length){var f=h.footer;if(f!==""&&(this.previousWasTextNode=!1),this.stack.pop(),h.type==="select")this.currentSelectValue=null;else if(h.type!=null&&h.type.type!=null&&h.type.type.$$typeof===Pv)this.popProvider(h.type);else if(h.type===Fv){this.suspenseDepth--;var v=o.pop();if(u){u=!1;var _=h.fallbackFrame;if(!_)throw Error(jr(303));this.stack.push(_),o[this.suspenseDepth]+="<!--$!-->";continue}else o[this.suspenseDepth]+=v}o[this.suspenseDepth]+=f}else{var y=h.children[h.childIndex++],E="";try{E+=this.render(y,h.context,h.domNamespace)}catch(k){throw k!=null&&typeof k.then=="function"?Error(jr(294)):k}finally{}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=E}}return o[0]}finally{FE.current=i,Uc=r,Z9()}},n.render=function(t,r,i){if(typeof t=="string"||typeof t=="number")return i=""+t,i===""?"":this.makeStaticMarkup?Tc(i):this.previousWasTextNode?"<!-- -->"+Tc(i):(this.previousWasTextNode=!0,Tc(i));if(r=ohe(t,r,this.threadID),t=r.child,r=r.context,t===null||t===!1)return"";if(!gl.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw i=t.$$typeof,Error(i===lk?jr(257):jr(258,i.toString()));return t=cu(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}var o=t.type;if(typeof o=="string")return this.renderDOM(t,r,i);switch(o){case Q9:case K9:case uk:case ck:case pk:case Lv:return t=cu(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Fv:throw Error(jr(294));case W9:throw Error(jr(343))}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case hk:Ho={};var u=o.render(t.props,t.ref);return u=J9(o.render,t.props,u,t.ref),u=cu(u),this.stack.push({type:null,domNamespace:i,children:u,childIndex:0,context:r,footer:""}),"";case fk:return t=[gl.createElement(o.type,ao({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Pv:return o=cu(t.props.children),i={type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""},this.pushProvider(t),this.stack.push(i),"";case dk:o=t.type,u=t.props;var c=this.threadID;return E0(o,c),o=cu(u.children(o[c])),this.stack.push({type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""}),"";case V9:throw Error(jr(338));case mk:return o=t.type,u=o._init,o=u(o._payload),t=[gl.createElement(o,ao({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}throw Error(jr(130,o==null?o:typeof o,""))},n.renderDOM=function(t,r,i){var o=t.type.toLowerCase();if(!KL.hasOwnProperty(o)){if(!rhe.test(o))throw Error(jr(65,o));KL[o]=!0}var u=t.props;if(o==="input")u=ao({type:void 0},u,{defaultChecked:void 0,defaultValue:void 0,value:u.value!=null?u.value:u.defaultValue,checked:u.checked!=null?u.checked:u.defaultChecked});else if(o==="textarea"){var c=u.value;if(c==null){c=u.defaultValue;var h=u.children;if(h!=null){if(c!=null)throw Error(jr(92));if(Array.isArray(h)){if(!(1>=h.length))throw Error(jr(93));h=h[0]}c=""+h}c==null&&(c="")}u=ao({},u,{value:void 0,children:""+c})}else if(o==="select")this.currentSelectValue=u.value!=null?u.value:u.defaultValue,u=ao({},u,{value:void 0});else if(o==="option"){h=this.currentSelectValue;var f=ihe(u.children);if(h!=null){var v=u.value!=null?u.value+"":f;if(c=!1,Array.isArray(h)){for(var _=0;_<h.length;_++)if(""+h[_]===v){c=!0;break}}else c=""+h===v;u=ao({selected:void 0,children:void 0},u,{selected:c,children:f})}}if(c=u){if(Jde[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(jr(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(jr(60));if(!(typeof c.dangerouslySetInnerHTML=="object"&&"__html"in c.dangerouslySetInnerHTML))throw Error(jr(61))}if(c.style!=null&&typeof c.style!="object")throw Error(jr(62))}c=u,h=this.makeStaticMarkup,f=this.stack.length===1,v="<"+t.type;e:if(o.indexOf("-")===-1)_=typeof c.is=="string";else switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":_=!1;break e;default:_=!0}for(q in c)if(ahe.call(c,q)){var y=c[q];if(y!=null){if(q==="style"){var E=void 0,k="",S="";for(E in y)if(y.hasOwnProperty(E)){var D=E.indexOf("--")===0,N=y[E];if(N!=null){if(D)var C=E;else if(C=E,HE.hasOwnProperty(C))C=HE[C];else{var A=C.replace(ehe,"-$1").toLowerCase().replace(nhe,"-ms-");C=HE[C]=A}k+=S+C+":",S=E,D=N==null||typeof N=="boolean"||N===""?"":D||typeof N!="number"||N===0||Wf.hasOwnProperty(S)&&Wf[S]?(""+N).trim():N+"px",k+=D,S=";"}}y=k||null}E=null,_?she.hasOwnProperty(q)||(E=q,E=X9(E)&&y!=null?E+'="'+(Tc(y)+'"'):""):E=jde(q,y),E&&(v+=" "+E)}}h||f&&(v+=' data-reactroot=""');var q=v;c="",nH.hasOwnProperty(o)?q+="/>":(q+=">",c="</"+t.type+">");e:{if(h=u.dangerouslySetInnerHTML,h!=null){if(h.__html!=null){h=h.__html;break e}}else if(h=u.children,typeof h=="string"||typeof h=="number"){h=Tc(h);break e}h=null}return h!=null?(u=[],the.hasOwnProperty(o)&&h.charAt(0)===`
`&&(q+=`
`),q+=h):u=cu(u.children),t=t.type,i=i==null||i==="http://www.w3.org/1999/xhtml"?Xde(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:o,children:u,childIndex:0,context:r,footer:c}),this.previousWasTextNode=!1,q},e}();function lhe(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var tH=function(e){function n(r,i,o){var u=e.call(this,{})||this;return u.partialRenderer=new bk(r,i,o),u}lhe(n,e);var t=n.prototype;return t._destroy=function(r,i){this.partialRenderer.destroy(),i(r)},t._read=function(r){try{this.push(this.partialRenderer.read(r))}catch(i){this.destroy(i)}},n}(Fde.Readable);jh.renderToNodeStream=function(e,n){return new tH(e,!1,n)};jh.renderToStaticMarkup=function(e,n){e=new bk(e,!0,n);try{return e.read(1/0)}finally{e.destroy()}};jh.renderToStaticNodeStream=function(e,n){return new tH(e,!0,n)};jh.renderToString=function(e,n){e=new bk(e,!1,n);try{return e.read(1/0)}finally{e.destroy()}};jh.version="17.0.2";S9.exports=jh;var YL=S9.exports,_f="sendbird-message-input-text-field",uhe=76,No=function(){},che=function(n){return function(t){t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""}},XL={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},b_=x.forwardRef(function(e,n){var t=e.className,r=e.isEdit,i=e.isMentionEnabled,o=e.disabled,u=e.message,c=e.placeholder,h=e.maxLength,f=e.onFileUpload,v=e.onSendMessage,_=e.onUpdateMessage,y=e.onCancelEdit,E=e.onStartTyping,k=e.channelUrl,S=e.mentionSelectedUser,D=e.onUserMentioned,N=e.onMentionStringChange,C=e.onMentionedUserIdsUpdated,A=e.onKeyUp,q=e.onKeyDown,K=U.exports.useContext(go),z=K.stringSet,V=U.exports.useRef(null),W=U.exports.useState(!1),de=pl(W,2),le=de[0],Ie=de[1],ye=U.exports.useState([]),te=pl(ye,2),he=te[0],ce=te[1],He=U.exports.useState(Tr({},XL)),Se=pl(He,2),ve=Se[0],Oe=Se[1],Be=U.exports.useMemo(function(){return function(){try{var Ne=n.current,Ae=window.document.body.offsetHeight*.6;Ne&&Ne.scrollHeight>=uhe?Ae<Ne.scrollHeight?(Ne.style.height="auto",Ne.style.height="".concat(Ae,"px")):(Ne.style.height="auto",Ne.style.height="".concat(Ne.scrollHeight,"px")):Ne.style.height=""}catch{}}},[]);U.exports.useEffect(function(){r||(Ie(!1),document.getElementById(_f).innerHTML="")},[k]),U.exports.useEffect(function(){if(r&&u!==null&&u!==void 0&&u.messageId){var Ne,Ae,_e,Le=n.current;if(i&&(u==null||(Ne=u.mentionedUsers)===null||Ne===void 0?void 0:Ne.length)>0&&(u==null||(Ae=u.mentionedMessageTemplate)===null||Ae===void 0?void 0:Ae.length)>0){var ze,mn=u.mentionedUsers,Tn=mn===void 0?[]:mn;Le.innerHTML=u==null||(ze=u.mentionedMessageTemplate)===null||ze===void 0?void 0:ze.split(" ").map(function(xn){return Yse(xn,Tn).map(function(In){var ln=In.type,Dn=In.value,fn=In.userId;if(ln===hl.mention&&Tn.some(function($){return($==null?void 0:$.userId)===fn})){var kn;return YL.renderToString(x.createElement(NL,{userId:fn},"".concat(Vd).concat(((kn=Tn.find(function($){return($==null?void 0:$.userId)===fn}))===null||kn===void 0?void 0:kn.nickname)||Dn||z.MENTION_NAME__NO_NAME)))}return Dn}).join("")}).join(" ")}else Le.innerHTML=u==null?void 0:u.message,ce([]);Ie((Le==null||(_e=Le.innerText)===null||_e===void 0?void 0:_e.length)>0),Be()}},[r,u]);var ee=U.exports.useCallback(function(){var Ne=n.current;if(i){var Ae=Mc(Ne.getElementsByClassName("sendbird-mention-user-label")).map(function(_e){var Le;return _e==null||(Le=_e.dataset)===null||Le===void 0?void 0:Le.userid});(!Xse(he,Ae)||Ae.length===0)&&(C(Ae),ce(Ae))}Ie(Ne.innerText.length>0)},[ve,i]);U.exports.useEffect(function(){if(i&&S){var Ne=ve.targetString,Ae=ve.startNodeIndex,_e=ve.startOffsetIndex,Le=ve.endNodeIndex,ze=ve.endOffsetIndex;if(Ne&&Ae!==null&&_e!==null){var mn,Tn,xn,In,ln=n.current,Dn=Mc(ln==null?void 0:ln.childNodes),fn=(mn=document)===null||mn===void 0?void 0:mn.createTextNode((Tn=Dn[Ae])===null||Tn===void 0?void 0:Tn.textContent.slice(0,_e)),kn=(xn=document)===null||xn===void 0?void 0:xn.createTextNode("\xA0".concat((In=Dn[Le])===null||In===void 0?void 0:In.textContent.slice(ze))),$=YL.renderToString(x.createElement(NL,{userId:S==null?void 0:S.userId},"".concat(Vd).concat((S==null?void 0:S.nickname)||z.MENTION_NAME__NO_NAME))),R=document.createElement("div");R.innerHTML=$;var M=[].concat(Mc(Dn.slice(0,Ae)),[fn,R.childNodes[0],kn],Mc(Dn.slice(Le+1)));if(ln.innerHTML="",M.forEach(function(xe){ln.appendChild(xe)}),D(S),window.getSelection||document.getSelection){var j=window.getSelection()||document.getSelection();j.removeAllRanges();var re=new Range;re.selectNodeContents(ln),re.setStart(ln.childNodes[Ae+2],1),re.setEnd(ln.childNodes[Ae+2],1),re.collapse(!1),j.addRange(re),ln.focus()}Oe(Tr({},XL)),Be(),ee()}}},[S,i]);var X=U.exports.useCallback(function(){var Ne,Ae,_e,Le,ze=((Ne=window)===null||Ne===void 0||(Ae=Ne.getSelection)===null||Ae===void 0?void 0:Ae.call(Ne))||((_e=document)===null||_e===void 0||(Le=_e.getSelection)===null||Le===void 0?void 0:Le.call(_e)),mn=n.current;if(ze.anchorNode===mn&&N(""),i&&ze&&ze.anchorNode===ze.focusNode&&ze.anchorOffset===ze.focusOffset)for(var Tn="",xn=null,In=null,ln=0;ln<mn.childNodes.length;ln+=1){var Dn=mn.childNodes[ln];if(Dn.nodeType===Wd.TextNode){var fn=Dn===ze.anchorNode?(Dn==null?void 0:Dn.textContent.slice(0,ze.anchorOffset))||"":(Dn==null?void 0:Dn.textContent)||"";if(Tn.length>0)Tn+=fn;else{for(var kn=fn.lastIndexOf(Vd),$=kn-1;$>-1&&fn[$]===Vd;$-=1)kn=$;kn>-1&&(Tn=fn,xn=ln,In=kn)}}else Tn="",xn=null,In=null;if(Dn===ze.anchorNode){var R=Tn?Tn.slice(In):"";Oe({targetString:R,startNodeIndex:xn,startOffsetIndex:In,endNodeIndex:ln,endOffsetIndex:ze.anchorOffset}),N(R);return}}},[i]),me=function(){var Ae=n.current;if(!r&&Ae!==null&&Ae!==void 0&&Ae.innerText){var _e="",Le="";Ae.childNodes.forEach(function(mn){if(mn.nodeType===Wd.ElementNode&&mn.nodeName===kg.Span){var Tn=mn.innerText,xn=mn.dataset,In=xn===void 0?{}:xn,ln=In.userid,Dn=ln===void 0?"":ln;_e+=Tn,Le+="".concat(Vd,"{").concat(Dn,"}")}else if(mn.nodeType===Wd.ElementNode&&mn.nodeName===kg.Br)_e+=`
`,Le+=`
`;else{var fn=mn.textContent,kn=fn===void 0?"":fn;_e+=kn,Le+=kn}});var ze={message:_e,mentionTemplate:Le};v(ze),document.getElementById(_f).innerHTML="",Ie(!1),Be()}},Ye=function(){var Ae=n.current,_e=u==null?void 0:u.messageId;if(r&&_e){var Le="",ze="";Ae.childNodes.forEach(function(Tn){if(Tn.nodeType===Wd.ElementNode&&Tn.nodeName===kg.Span){var xn=Tn.innerText,In=Tn.dataset,ln=In===void 0?{}:In,Dn=ln.userid,fn=Dn===void 0?"":Dn;Le+=xn,ze+="".concat(Vd,"{").concat(fn,"}")}else if(Tn.nodeType===Wd.ElementNode&&Tn.nodeName===kg.Span)Le+=`
`,ze+=`
`;else{var kn=Tn.textContent,$=kn===void 0?"":kn;Le+=$,ze+=$}});var mn={messageId:_e,message:Le,mentionTemplate:ze};_(mn),document.getElementById(_f).innerHTML=""}};return x.createElement("form",{className:tw([t,r?"sendbird-message-input__edit":"",o?"sendbird-message-input-form__disabled":""])},x.createElement("div",{className:tw(["sendbird-message-input",o?"sendbird-message-input__disabled":""])},x.createElement("div",{id:"".concat(_f).concat(r?u==null?void 0:u.messageId:""),className:"sendbird-message-input--textarea",contentEditable:!o,role:"textbox","aria-label":"Text Input",disabled:o,ref:n,maxLength:h,onKeyDown:function(Ae){var _e=q(Ae);if(_e)Ae.preventDefault();else{var Le,ze,mn,Tn,xn,In,ln,Dn;!Ae.shiftKey&&Ae.key===IL.Enter&&(Ae==null||(Le=Ae.nativeEvent)===null||Le===void 0?void 0:Le.isComposing)!==!0&&(Ae.preventDefault(),me()),Ae.key===IL.Backspace&&(n==null||(ze=n.current)===null||ze===void 0||(mn=ze.childNodes)===null||mn===void 0?void 0:mn.length)===2&&!(n!=null&&(Tn=n.current)!==null&&Tn!==void 0&&(xn=Tn.childNodes)!==null&&xn!==void 0&&(In=xn[0])!==null&&In!==void 0&&In.textContent)&&((ln=n.current.childNodes)===null||ln===void 0||(Dn=ln[1])===null||Dn===void 0?void 0:Dn.nodeType)===Wd.ElementNode&&n.current.removeChild(n.current.childNodes[1])}},onKeyUp:function(Ae){var _e=A(Ae);_e?Ae.preventDefault():X()},onClick:function(){X()},onInput:function(){var Ae,_e,Le,ze;Be(),E(),Ie(((Ae=document)===null||Ae===void 0||(_e=Ae.getElementById)===null||_e===void 0||(Le=_e.call(Ae,_f))===null||Le===void 0||(ze=Le.innerText)===null||ze===void 0?void 0:ze.length)>0),ee()},onPaste:function(Ae){Ae.preventDefault(),document.execCommand("insertHTML",!1,Ae==null?void 0:Ae.clipboardData.getData("text"))}}),!le&&x.createElement(Wn,{className:"sendbird-message-input--placeholder",type:Vn.BODY_1,color:Pn.ONBACKGROUND_3},c||z.MESSAGE_INPUT__PLACE_HOLDER),!r&&le&&x.createElement(Lu,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return me()}},x.createElement(ft,{type:st.SEND,fillColor:It.PRIMARY,width:"20px",height:"20px"})),!r&&!le&&x.createElement(Lu,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){V.current.click()}},x.createElement(ft,{type:st.ATTACH,fillColor:It.CONTENT_INVERSE,width:"20px",height:"20px"}),x.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:V,onChange:che(f)}))),r&&x.createElement("div",{className:"sendbird-message-input--edit-action"},x.createElement(y0,{className:"sendbird-message-input--edit-action__cancel",type:Rh.SECONDARY,size:EL.SMALL,onClick:y},z.BUTTON__CANCEL),x.createElement(y0,{className:"sendbird-message-input--edit-action__save",type:Rh.PRIMARY,size:EL.SMALL,onClick:function(){return Ye()}},z.BUTTON__SAVE)))});b_.propTypes={className:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),placeholder:ue.exports.oneOfType([ue.exports.string,ue.exports.bool]),isEdit:ue.exports.bool,isMentionEnabled:ue.exports.bool,message:ue.exports.shape({messageId:ue.exports.oneOfType([ue.exports.string,ue.exports.number]),message:ue.exports.string,mentionedMessageTemplate:ue.exports.string,mentionedUsers:ue.exports.arrayOf(ue.exports.shape({}))}),disabled:ue.exports.bool,maxLength:ue.exports.number,onFileUpload:ue.exports.func,onSendMessage:ue.exports.func,onUpdateMessage:ue.exports.func,onStartTyping:ue.exports.func,onCancelEdit:ue.exports.func,channelUrl:ue.exports.string,mentionSelectedUser:ue.exports.shape({userId:ue.exports.string,nickname:ue.exports.string}),onUserMentioned:ue.exports.func,onMentionStringChange:ue.exports.func,onMentionedUserIdsUpdated:ue.exports.func,onKeyUp:ue.exports.func,onKeyDown:ue.exports.func};b_.defaultProps={className:"",channelUrl:"",onSendMessage:No,onUpdateMessage:No,message:null,isEdit:!1,isMentionEnabled:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:No,onCancelEdit:No,onStartTyping:No,mentionSelectedUser:null,onUserMentioned:No,onMentionStringChange:No,onMentionedUserIdsUpdated:No,onKeyUp:No,onKeyDown:No};var dhe=/https?:\/\//;function qv(e){var n=e.className,t=e.src,r=e.type,i=e.color,o=e.children,u=dhe.test(t)?t:"http://".concat(t);return x.createElement("a",{className:[].concat(Mc(Array.isArray(n)?n:[n]),["sendbird-link-label",i?_9(i):""]).join(" "),href:u,target:"_blank",rel:"noopener noreferrer"},x.createElement(Wn,{className:"sendbird-link-label__label",type:r,color:i},o))}qv.propTypes={className:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),src:ue.exports.string.isRequired,type:ue.exports.oneOf(Object.keys(Vn)).isRequired,color:ue.exports.oneOf(Object.keys(Pn)).isRequired,children:ue.exports.oneOfType([ue.exports.string,ue.exports.element,ue.exports.arrayOf(ue.exports.string),ue.exports.arrayOf(ue.exports.element)]).isRequired};qv.defaultProps={className:""};var rH=x.createContext({opened:"",setOpened:Vg});rH.Consumer;rH.Provider;var JL;(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(JL||(JL={}));ue.exports.string.isRequired,ue.exports.string.isRequired,ue.exports.string,ue.exports.string,ue.exports.string,ue.exports.string,ue.exports.func,ue.exports.string,ue.exports.string,ue.exports.bool,ue.exports.bool,ue.exports.func,ue.exports.func,ue.exports.shape({}),ue.exports.shape({logLevel:ue.exports.oneOfType([ue.exports.string,ue.exports.arrayOf(ue.exports.string)]),isREMUnitEnabled:ue.exports.bool}),ue.exports.bool,ue.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),ue.exports.bool,ue.exports.bool,ue.exports.objectOf(ue.exports.string),ue.exports.objectOf(ue.exports.string),ue.exports.shape({compressionRate:ue.exports.number,resizingWidth:ue.exports.oneOfType([ue.exports.number,ue.exports.string]),resizingHeight:ue.exports.oneOfType([ue.exports.number,ue.exports.string])}),ue.exports.bool,ue.exports.bool,ue.exports.bool,ue.exports.bool;var ZL=function(n){return $h(n.createdAt,"p")},hhe=function(n,t){return typeof t!="number"||typeof t=="number"&&t>n},Jc=function e(n){n===void 0&&(n=0);var t=10,r=n;if(!(r>t))try{var i=document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");i.scrollTop=i.scrollHeight}catch{setTimeout(function(){e(r+1)},500*r)}},eP=function(n,t){var r,i,o,u;if(!(n&&t&&(n==null?void 0:n.messageType)&&n.messageType!=="admin"&&(t==null?void 0:t.messageType)&&t.messageType!=="admin"&&(n==null?void 0:n.sender)&&(t==null?void 0:t.sender)&&(n==null?void 0:n.createdAt)&&(t==null?void 0:t.createdAt)&&((r=n==null?void 0:n.sender)===null||r===void 0?void 0:r.userId)&&((i=t==null?void 0:t.sender)===null||i===void 0?void 0:i.userId)))return!1;var c=n,h=t;return(c==null?void 0:c.sendingStatus)===(h==null?void 0:h.sendingStatus)&&((o=c==null?void 0:c.sender)===null||o===void 0?void 0:o.userId)===((u=h==null?void 0:h.sender)===null||u===void 0?void 0:u.userId)&&ZL(n)===ZL(t)},phe=function(n,t,r){return[eP(n,t),eP(t,r)]},fhe=function(n){return Math.abs(n)>999999?"".concat((Math.abs(n)/1e6).toFixed(1),"M"):Math.abs(n)>999?"".concat((Math.abs(n)/1e3).toFixed(1),"K"):"".concat(n)},mhe=function(n,t){var r=n==null?void 0:n.operators;return!(r.map(function(i){return i.userId}).indexOf(t)<0)},ghe=function(n,t){var r=n==null?void 0:n.isFrozen;return r&&!mhe(n,t)},vhe=function(n,t){return n.indexOf(t)>-1},qE=function(n,t,r){var i=function o(u){var c=u.hasNext;c?u.next().then(function(h){r(h),o(u)}).catch(function(h){t.warning("OpenChannel | FetchUserList failed",h)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),i(n)},Sg=function(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},iH="SET_CURRENT_CHANNEL",bx="SET_CHANNEL_INVALID",aH="RESET_MESSAGES",sH="EXIT_CURRENT_CHANNEL",oH="GET_PREV_MESSAGES_START",yk="GET_PREV_MESSAGES_SUCESS",Bv="GET_PREV_MESSAGES_FAIL",Dh="SENDING_MESSAGE_FAILED",qu="SENDING_MESSAGE_SUCCEEDED",w0="SENDING_MESSAGE_START",lH="RESENDING_MESSAGE_START",uH="FETCH_PARTICIPANT_LIST",cH="FETCH_BANNED_USER_LIST",yx="FETCH_MUTED_USER_LIST",dH="TRIM_MESSAGE_LIST",hH="ON_MESSAGE_RECEIVED",y_="ON_MESSAGE_UPDATED",E_="ON_MESSAGE_DELETED",pH="ON_MESSAGE_DELETED_BY_REQ_ID",fH="ON_OPERATOR_UPDATED",mH="ON_USER_ENTERED",gH="ON_USER_EXITED",Ek="ON_USER_MUTED",vH="ON_USER_UNMUTED",_H="ON_USER_BANNED",bH="ON_USER_UNBANNED",yH="ON_CHANNEL_FROZEN",EH="ON_CHANNEL_UNFROZEN",wH="ON_CHANNEL_CHANGED",xH="ON_CHANNEL_DELETED",kH="ON_META_DATA_CREATED",CH="ON_META_DATA_UPDATED",SH="ON_META_DATA_DELETED",NH="ON_META_COUNTERS_CREATED",TH="ON_META_COUNTERS_UPDATED",IH="ON_META_COUNTERS_DELETED",OH="ON_MENTION_RECEIVED";function _he(e,n){var t,r,i;switch(n.type){case aH:return rn(rn({},e),{allMessages:[]});case sH:return((t=n.payload)===null||t===void 0?void 0:t.url)===((r=e.currentOpenChannel)===null||r===void 0?void 0:r.url)?rn(rn({},e),{currentOpenChannel:null}):e;case iH:{var o=n.payload,u=o.operators;return!e.isInvalid&&e.currentOpenChannel&&e.currentOpenChannel.url&&e.currentOpenChannel.url===o.url?e:rn(rn({},e),{currentOpenChannel:o,isInvalid:!1,operators:u,participants:u,bannedParticipantIds:[],mutedParticipantIds:[]})}case bx:return rn(rn({},e),{isInvalid:!0});case oH:return rn(rn({},e),{loading:!0});case yk:case Bv:{var c=n.type===Bv,h=n.payload,f=h.currentOpenChannel,v=f===void 0?{}:f,_=h.messages,y=_===void 0?[]:_,E=h.hasMore,k=h.lastMessageTimestamp,S=v.url,D=c?[]:y,N=c?!1:E,C=c?0:k,A=e.currentOpenChannel,q=A.url;if(S!==q)return e;var K=e.allMessages.filter(function(fn){return!D.find(function(kn){var $=kn.messageId;return al($,fn.messageId)})});return rn(rn({},e),{loading:!1,initialized:!0,hasMore:N,lastMessageTimestamp:C,allMessages:Ln(Ln([],D,!0),K,!0)})}case w0:{var z=n.payload,V=z.message,W=z.channel;return(W==null?void 0:W.url)!==e.currentOpenChannel.url||e.allMessages.some(function(fn){return fn.reqId===V.reqId})?e:rn(rn({},e),{allMessages:Ln(Ln([],e.allMessages,!0),[V],!1)})}case qu:{var de=n.payload,le=e.allMessages.map(function(fn){return al(fn.reqId,de.reqId)?de:fn});return rn(rn({},e),{allMessages:le})}case Dh:{var Ie=n.payload;return Ie.sendingStatus="failed",e.allMessages.some(function(fn){return(fn==null?void 0:fn.reqId)===(Ie==null?void 0:Ie.reqId)})?rn(rn({},e),{allMessages:e.allMessages.map(function(fn){return al(fn.reqId,Ie.reqId)?Ie:fn})}):rn(rn({},e),{allMessages:Ln(Ln([],e.allMessages.filter(function(fn){return!al(fn.reqId,Ie)}),!0),[Ie],!1)})}case dH:{var ye=e.allMessages,te=(i=n.payload)===null||i===void 0?void 0:i.messageLimit;if(te&&te>0&&(ye==null?void 0:ye.length)>te){var he=ye.length-te;return rn(rn({},e),{allMessages:ye.slice(he)})}return e}case lH:{var ce=n.payload.channel,He=n.payload.message;return ce.url!==e.currentOpenChannel.url?e:rn(rn({},e),{allMessages:e.allMessages.map(function(fn){return al(fn.reqId,He.reqId)?He:fn})})}case uH:{var ce=n.payload.channel,Se=n.payload.users;return ce.url!==e.currentOpenChannel.url?e:rn(rn({},e),{participants:Ln(Ln([],e.participants,!0),Se,!0)})}case cH:{var ce=n.payload.channel,ve=n.payload.users;return ce.url!==e.currentOpenChannel.url||!ve.every(function(kn){return typeof kn.userId=="string"})?e:rn(rn({},e),{bannedParticipantIds:Ln(Ln([],e.bannedParticipantIds,!0),ve.map(function(kn){return kn.userId}),!0)})}case yx:{var ce=n.payload.channel,Oe=n.payload.users;return ce.url!==e.currentOpenChannel.url||!Oe.every(function(kn){return typeof kn.userId=="string"})?e:rn(rn({},e),{mutedParticipantIds:Ln(Ln([],e.mutedParticipantIds,!0),Oe.map(function(kn){return kn.userId}),!0)})}case hH:{var ce=n.payload.channel,Be=n.payload.message,v=e.currentOpenChannel;return!al(ce.url,v.url)||!(e.allMessages.map(function($){return $.messageId}).indexOf(Be.messageId)<0)?e:rn(rn({},e),{allMessages:Ln(Ln([],e.allMessages,!0),[Be],!1)})}case y_:{var ce=n.payload.channel,ee=n.payload.message,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url?e:rn(rn({},e),{allMessages:e.allMessages.map(function(kn){return kn.isIdentical(ee)?ee:kn})})}case E_:{var ce=n.payload.channel,me=n.payload.messageId,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url?e:rn(rn({},e),{allMessages:e.allMessages.filter(function($){return!al($.messageId,me)})})}case pH:return rn(rn({},e),{allMessages:e.allMessages.filter(function(fn){return!al(fn.reqId,n.payload)})});case fH:{var ce=n.payload.channel,Ye=n.payload.operators,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url?e:rn(rn({},e),{currentOpenChannel:ce,operators:Ye})}case mH:{var ce=n.payload.channel,Ne=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url?e:rn(rn({},e),{participants:Ln(Ln([],e.participants,!0),[Ne],!1)})}case gH:{var ce=n.payload.channel,Ae=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url?e:rn(rn({},e),{participants:e.participants.filter(function($){return!al($.userId,Ae.userId)})})}case Ek:{var ce=n.payload.channel,_e=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url||e.mutedParticipantIds.indexOf(_e.userId)>=0?e:rn(rn({},e),{mutedParticipantIds:Ln(Ln([],e.mutedParticipantIds,!0),[_e.userId],!1)})}case vH:{var ce=n.payload.channel,Le=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==ce.url||e.mutedParticipantIds.indexOf(Le.userId)<0?e:rn(rn({},e),{mutedParticipantIds:e.mutedParticipantIds.filter(function($){return $!==Le.userId})})}case _H:{var ce=n.payload.channel,ze=n.payload.user,mn=n.payload.currentUser,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(ce==null?void 0:ce.url)&&(ze==null?void 0:ze.userId)===(mn==null?void 0:mn.userId)?rn(rn({},e),{currentOpenChannel:null}):(X==null?void 0:X.url)===(ce==null?void 0:ce.url)?rn(rn({},e),{bannedParticipantIds:Ln(Ln([],e.bannedParticipantIds,!0),[ze.userId],!1)}):e}case bH:{var ce=n.payload.channel,Tn=n.payload.user,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(ce==null?void 0:ce.url)?rn(rn({},e),{bannedParticipantIds:e.bannedParticipantIds.filter(function($){return $!==Tn.userId})}):e}case yH:{var xn=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==xn.url?e:rn(rn({},e),{frozen:!0})}case EH:{var In=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==In.url?e:rn(rn({},e),{frozen:!1})}case wH:{var ln=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==ln.url?e:rn(rn({},e),{currentOpenChannel:ln})}case xH:{var Dn=n.payload,X=e==null?void 0:e.currentOpenChannel;return(X==null?void 0:X.url)===Dn?rn(rn({},e),{currentOpenChannel:null}):e}case kH:return e;case CH:return e;case SH:return e;case NH:return e;case TH:return e;case IH:return e;case OH:return e;default:return e}}var bhe={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function yhe(e,n){var t=e.channelUrl,r=e.sdkInit,i=e.fetchingParticipants,o=e.userId,u=e.currentOpenChannel,c=n.sdk,h=n.logger,f=n.messagesDispatcher;U.exports.useEffect(function(){var v;t&&r&&(c==null?void 0:c.openChannel)&&(u&&(u==null?void 0:u.exit)&&((v=u.exit)===null||v===void 0||v.call(u).then(function(){h.info("OpenChannel | useSetChannel: Exit from the previous open channel",u==null?void 0:u.url),f({type:sH,payload:u})})),h.info("OpenChannel | useSetChannel: Fetching channel",t),c.openChannel.getChannel(t).then(function(_){h.info("OpenChannel | useSetChannel: Succeeded to fetch channel",_),f({type:iH,payload:_}),_.enter().then(function(){if(_.isOperator(o)){var y=_.createBannedUserListQuery(),E=_.createMutedUserListQuery();qE(y,h,function(S){f({type:cH,payload:{channel:_,users:S}})}),qE(E,h,function(S){f({type:yx,payload:{channel:_,users:S}})})}else _.getMyMutedInfo().then(function(S){S!=null&&S.isMuted&&f({type:yx,payload:{channel:_,users:[c==null?void 0:c.currentUser]}})});if(i){var k=_.createParticipantListQuery({limit:_.participantCount});qE(k,h,function(S){f({type:uH,payload:{channel:_,users:S}})})}}).catch(function(y){h.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:t,error:y}),f({type:bx,payload:null})})}).catch(function(_){h.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:t,error:_}),f({type:bx,payload:null})}))},[t,r,i])}function Ehe(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=n.sdk,o=n.logger,u=n.messagesDispatcher;U.exports.useEffect(function(){var c,h,f=$c();if(t&&t.url&&((c=i==null?void 0:i.openChannel)===null||c===void 0?void 0:c.addOpenChannelHandler)){o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",f);var v={onMessageReceived:function(E,k){var S=r(),D=E==null?void 0:E.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:D,message:k}),u({type:hH,payload:{channel:E,message:k}}),S)try{setTimeout(function(){Jc()})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:S,message:k}),u({type:y_,payload:{channel:E,message:k}})},onMessageDeleted:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:S,messageId:k}),u({type:E_,payload:{channel:E,messageId:k}})},onOperatorUpdated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:S,operators:k}),u({type:fH,payload:{channel:E,operators:k}})},onUserEntered:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:S,user:k}),u({type:mH,payload:{channel:E,user:k}})},onUserExited:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:S,user:k}),u({type:gH,payload:{channel:E,user:k}})},onUserMuted:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:S,user:k}),u({type:Ek,payload:{channel:E,user:k}})},onUserUnmuted:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:S,user:k}),u({type:vH,payload:{channel:E,user:k}})},onUserBanned:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:S,user:k}),u({type:_H,payload:{channel:E,user:k,currentUser:i==null?void 0:i.currentUser}})},onUserUnbanned:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:S,user:k}),u({type:bH,payload:{channel:E,user:k}})},onChannelFrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",E),u({type:yH,payload:E})},onChannelUnfrozen:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",E),u({type:EH,payload:E})},onChannelChanged:function(E){o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",E),u({type:wH,payload:E})},onMetaDataCreated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:S,metaData:k}),u({type:kH,payload:{channel:E,metaData:k}})},onMetaDataUpdated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:S,metaData:k}),u({type:CH,payload:{channel:E,metaData:k}})},onMetaDataDeleted:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:S,metaDataKeys:k}),u({type:SH,payload:{channel:E,metaDataKeys:k}})},onMetaCounterCreated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:S,metaCounter:k}),u({type:NH,payload:{channel:E,metaCounter:k}})},onMetaCounterUpdated:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:S,metaCounter:k}),u({type:TH,payload:{channel:E,metaCounter:k}})},onMetaCounterDeleted:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:S,metaCounterKeys:k}),u({type:IH,payload:{channel:E,metaCounterKeys:k}})},onMentionReceived:function(E,k){var S=E==null?void 0:E.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:S,message:k}),u({type:OH,payload:{channel:E,message:k}})},onChannelDeleted:function(E,k){k===kt.OPEN&&(t==null?void 0:t.url)===E&&u({type:xH,payload:E})}},_=new dae(v);(h=i==null?void 0:i.openChannel)===null||h===void 0||h.addOpenChannelHandler(f,_)}return function(){var y;!((y=i==null?void 0:i.openChannel)===null||y===void 0)&&y.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",f),i.openChannel.removeOpenChannelHandler(f))}},[t])}function whe(e,n){var t=e.currentOpenChannel,r=e.userFilledMessageListParams,i=n.logger,o=n.messagesDispatcher;U.exports.useEffect(function(){if(i.info("OpenChannel | useInitialMessagesFetch: Setup started",t),o({type:aH,payload:null}),t&&t.getMessagesByTimestamp){var u={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(function(c){u[c]=r[c]}),i.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),i.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:u}),o({type:oH,payload:null}),t.getMessagesByTimestamp(new Date().getTime(),u).then(function(c){i.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",c);var h=c&&c.length>0,f=h?c[0].createdAt:null;o({type:yk,payload:{currentOpenChannel:t,messages:c,hasMore:h,lastMessageTimestamp:f}}),setTimeout(function(){Jc()})}).catch(function(c){i.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",c),o({type:Bv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r])}function xhe(e,n){var t=e.currentOpenChannel,r=e.lastMessageTimestamp,i=e.fetchMore,o=n.sdk,u=n.logger,c=n.messagesDispatcher,h=n.hasMore,f=n.userFilledMessageListParams;return U.exports.useCallback(function(v){if(i&&h){u.info("OpenChannel | useScrollCallback: start");var _={prevResultSize:30,includeReactions:!1,nextResultSize:0};f&&(Object.keys(f).forEach(function(y){_[y]=f[y]}),u.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",f)),u.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:_}),t.getMessagesByTimestamp(r||new Date().getTime(),_).then(function(y){u.info("OpenChannel | useScrollCallback: Fetching messages succeeded",y);var E=y&&y.length>0,k=E?y[0].createdAt:null;c({type:yk,payload:{currentOpenChannel:t,messages:y,hasMore:E,lastMessageTimestamp:k}}),setTimeout(function(){v()})}).catch(function(y){u.error("OpenChannel | useScrollCallback: Fetching messages failed",y),c({type:Bv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r,i,o])}function khe(e,n){var t=e.conversationScrollRef,r=n.logger;return U.exports.useCallback(function(){var i=!0;if(t&&(t==null?void 0:t.current))try{var o=t.current;i=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(u){r.error("OpenChannel | useCheckScrollBottom",u)}return i},[t])}function Che(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=e.checkScrollBottom,o=e.messageInputRef,u=n.sdk,c=n.logger,h=n.messagesDispatcher;return U.exports.useCallback(function(){if(u){var f=o.current.innerText,v=function(D){var N=typeof D=="string"?D.trim():D.toString(10).trim(),C={message:N};return C},_=r&&typeof r=="function";_&&c.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);var y=r?r(f):v(f);c.info("OpenChannel | useSendMessageCallback: Sending message has started",y);var E=i(),k=null;t.sendUserMessage(y).onPending(function(S){h({type:w0,payload:{message:S,channel:t}}),k=S}).onSucceeded(function(S){c.info("OpenChannel | useSendMessageCallback: Sending message succeeded",S),h({type:qu,payload:S}),E&&setTimeout(function(){Jc()})}).onFailed(function(S){c.warning("OpenChannel | useSendMessageCallback: Sending message failed",S),h({type:Dh,payload:k}),(S==null?void 0:S.code)===900041&&h({type:Ek,payload:{channel:t,user:u.currentUser}})})}},[t,r,i,o])}function She(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=e.imageCompression,o=i===void 0?{}:i,u=e.onBeforeSendFileMessage,c=n.sdk,h=n.logger,f=n.messagesDispatcher;return U.exports.useCallback(function(v){if(c){var _=o.compressionRate,y=o.resizingWidth,E=o.resizingHeight,k=u&&typeof u=="function",S=v.type==="image/jpg"||v.type==="image/png"||v.type==="image/jpeg",D=_>0&&_<1,N=Sg(y)||Sg(E),C=S&&(D||N),A=function(W){var de={};return de.file=W,de};if(C)try{var q=document.createElement("img");q.src=URL.createObjectURL(v),q.onload=function(){URL.revokeObjectURL(q.src);var V=document.createElement("canvas"),W=q.naturalWidth||q.width,de=q.naturalHeight||q.height,le=Sg(y)||W,Ie=Sg(E)||de;v.type==="image/png"&&!N&&(le*=_,Ie*=_),V.width=le,V.height=Ie;var ye=V.getContext("2d");ye.drawImage(q,0,0,le,Ie),ye.canvas.toBlob(function(te){var he=new File([te],v.name,{type:v.type});k&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var ce=u?u(he):A(he);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",ce);var He=r();t.sendFileMessage(ce).onPending(function(Se){f({type:w0,payload:{message:rn(rn({},Se),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(Se){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",Se),f({type:qu,payload:Se}),He&&setTimeout(function(){Jc()})}).onFailed(function(Se,ve){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:ve,error:Se}),ve.localUrl=URL.createObjectURL(v),ve.file=v,f({type:Dh,payload:ve})})},v.type,_)}}catch(V){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",V)}else{k&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",u);var K=u?u(v):A(v);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",K);var z=r();t.sendFileMessage(K).onPending(function(V){f({type:w0,payload:{message:rn(rn({},V),{url:URL.createObjectURL(v),requestState:"pending"}),channel:t}})}).onSucceeded(function(V){h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",V),f({type:qu,payload:V}),z&&setTimeout(function(){Jc()})}).onFailed(function(V,W){h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:W,error:V}),W.localUrl=URL.createObjectURL(v),W.file=v,f({type:Dh,payload:W})})}}},[t,u,r,o])}function Nhe(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=n.logger,o=n.messagesDispatcher;return U.exports.useCallback(function(u,c,h){var f=function(y){var E={message:y};return E};r&&typeof r=="function"&&i.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var v=r?r(c):f(c);t.updateUserMessage(u,v).then(function(_){h&&h(),i.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:_,params:v}),o({type:y_,payload:{channel:t,message:_}})})},[t,r])}function The(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return U.exports.useCallback(function(o,u){r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);var c=o.sendingStatus;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",c),c==="failed"||c==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),i({type:pH,payload:o.reqId}),u&&u();else{if(!(o.messageType==="file"||o.messageType==="user"))return;var h=o;t.deleteMessage(h).then(function(){r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",c),u&&u(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),i({type:E_,payload:{channel:t,messageId:o.messageId}})}).catch(function(f){r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",f)})}},[t])}function Ihe(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return U.exports.useCallback(function(o){r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);var u=o,c=u.messageType,h=u.file;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",i({type:lH,payload:{channel:t,message:o}}),c==="user"&&o.messageType==="user"&&t.resendUserMessage(o).then(function(f){r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),i({type:qu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),o.requestState="failed",i({type:Dh,payload:o})}),c==="file"&&o.messageType==="file"&&t.resendFileMessage(o,h).then(function(f){r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),i({type:qu,payload:f})}).catch(function(f){r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),o.requestState="failed",i({type:Dh,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[t])}var Ohe=5e3;function Ahe(e,n){var t=e.messagesLength,r=e.messageLimit,i=n.messagesDispatcher,o=n.logger,u=U.exports.useState(!1),c=u[0],h=u[1];U.exports.useEffect(function(){c||(typeof t=="number"&&t>r&&(o.info("Trimming MessageList"),i({type:dH,payload:{messageLimit:r}})),h(!0),setTimeout(function(){h(!1)},Ohe))},[t,r])}var AH=x.createContext(void 0),Rhe=function(n){var t,r,i,o,u,c,h=n.channelUrl,f=n.children,v=n.isMessageGroupingEnabled,_=v===void 0?!0:v,y=n.queries,E=n.onBeforeSendUserMessage,k=n.messageLimit,S=n.onBeforeSendFileMessage,D=n.onChatHeaderActionClick,N=!1,C=zh(),A=(r=(t=C==null?void 0:C.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,q=(o=(i=C==null?void 0:C.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized,K=(c=(u=C==null?void 0:C.stores)===null||u===void 0?void 0:u.userStore)===null||c===void 0?void 0:c.user,z=C==null?void 0:C.config,V=z.userId,W=z.isOnline,de=z.logger,le=z.pubSub,Ie=z.imageCompression,ye=U.exports.useReducer(_he,bhe),te=ye[0],he=ye[1],ce=te.allMessages,He=te.loading,Se=te.initialized,ve=te.currentOpenChannel,Oe=te.isInvalid,Be=te.hasMore,ee=te.lastMessageTimestamp,X=te.operators,me=te.bannedParticipantIds,Ye=te.mutedParticipantIds,Ne=U.exports.useRef(null),Ae=U.exports.useRef(null),_e=y==null?void 0:y.messageListParams,Le=!Se||!W||ghe(ve,V)||vhe(Ye,V),ze=U.exports.useMemo(function(){return me.indexOf(K.userId)>=0},[h,me,K]),mn=U.exports.useMemo(function(){return Ye.indexOf(K.userId)>=0},[h,Ye,K]),Tn=U.exports.useMemo(function(){return X.map(function(M){return M.userId}).indexOf(K.userId)>=0},[h,X,K]);yhe({channelUrl:h,sdkInit:q,fetchingParticipants:N,userId:V,currentOpenChannel:ve},{sdk:A,logger:de,messagesDispatcher:he});var xn=khe({conversationScrollRef:Ae},{logger:de});Ehe({currentOpenChannel:ve,checkScrollBottom:xn},{sdk:A,logger:de,messagesDispatcher:he}),whe({currentOpenChannel:ve,userFilledMessageListParams:_e},{logger:de,messagesDispatcher:he});var In=hhe(ce==null?void 0:ce.length,k),ln=xhe({currentOpenChannel:ve,lastMessageTimestamp:ee,fetchMore:In},{sdk:A,logger:de,messagesDispatcher:he,hasMore:Be,userFilledMessageListParams:_e}),Dn=Che({currentOpenChannel:ve,onBeforeSendUserMessage:E,checkScrollBottom:xn,messageInputRef:Ne},{sdk:A,logger:de,messagesDispatcher:he}),fn=She({currentOpenChannel:ve,onBeforeSendFileMessage:S,checkScrollBottom:xn,imageCompression:Ie},{sdk:A,logger:de,messagesDispatcher:he}),kn=Nhe({currentOpenChannel:ve,onBeforeSendUserMessage:E},{logger:de,messagesDispatcher:he}),$=The({currentOpenChannel:ve},{logger:de,messagesDispatcher:he}),R=Ihe({currentOpenChannel:ve},{logger:de,messagesDispatcher:he});return Ahe({messagesLength:ce==null?void 0:ce.length,messageLimit:k},{messagesDispatcher:he,logger:de}),U.exports.useEffect(function(){var M=new Map;if(!(!le||!le.subscribe))return M.set(Rv,le.subscribe(Rv,function(j){var re=j.channel,xe=j.message;Jc(),re&&h===(re==null?void 0:re.url)&&he({type:qu,payload:xe})})),M.set(Av,le.subscribe(Av,function(j){var re=j.channel,xe=j.message;re&&h===(re==null?void 0:re.url)&&he({type:w0,payload:{message:xe,channel:re}})})),M.set(Mv,le.subscribe(Mv,function(j){var re=j.channel,xe=j.message;Jc(),re&&h===(re==null?void 0:re.url)&&he({type:qu,payload:{message:xe,channel:re}})})),M.set(cw,le.subscribe(cw,function(j){var re=j.channel,xe=j.message,ge=j.fromSelector;ge&&re&&h===(re==null?void 0:re.url)&&he({type:y_,payload:{channel:re,message:xe}})})),M.set(dw,le.subscribe(dw,function(j){var re=j.channel,xe=j.messageId;re&&h===(re==null?void 0:re.url)&&he({type:E_,payload:xe})})),function(){M&&M.forEach(function(j){try{j.remove()}catch{}})}},[h,q]),x.createElement(AH.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:_,queries:y,onBeforeSendUserMessage:E,messageLimit:k,onBeforeSendFileMessage:S,onChatHeaderActionClick:D,allMessages:ce,loading:He,initialized:Se,currentOpenChannel:ve,isInvalid:Oe,hasMore:Be,lastMessageTimestamp:ee,operators:X,bannedParticipantIds:me,mutedParticipantIds:Ye,messageInputRef:Ne,conversationScrollRef:Ae,disabled:Le,amIBanned:ze,amIMuted:mn,amIOperator:Tn,checkScrollBottom:xn,fetchMore:In,onScroll:ln,handleSendMessage:Dn,handleFileUpload:fn,updateMessage:kn,deleteMessage:$,resendMessage:R}},x.createElement(Z3,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},f))},U0=function(){return x.useContext(AH)},Mhe=function(n,t){var r=U0(),i=r.currentOpenChannel,o=r.disabled,u=r.handleSendMessage,c=r.handleFileUpload,h=i;if(!!h){var f=U.exports.useContext(go).stringSet;return x.createElement("div",{className:"sendbird-openchannel-footer"},x.createElement(b_,{ref:t,disabled:o,onSendMessage:u,onFileUpload:c,placeholder:o&&f.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},Dhe=x.forwardRef(Mhe),Uhe=function(){var n=U.exports.useContext(go).stringSet;return x.createElement("div",{className:"sendbird-frozen-channel-notification"},x.createElement(Wn,{className:"sendbird-frozen-channel-notification__text",type:Vn.CAPTION_2},n.CHANNEL_FROZEN))};function Lhe(){var e=U.exports.useContext(go).stringSet,n=U0(),t=n.currentOpenChannel,r=n.onChatHeaderActionClick,i=n.amIOperator,o=t==null?void 0:t.name,u="".concat(fhe(t==null?void 0:t.participantCount)," ").concat(e.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS),c=t==null?void 0:t.coverUrl;return x.createElement("div",{className:"sendbird-openchannel-conversation-header"},x.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},c?x.createElement(ad,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:c,alt:"channel cover image",width:"32px",height:"32px"}):x.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},x.createElement(ft,{type:st.CHANNELS,fillColor:It.CONTENT,width:"18px",height:"18px"})),x.createElement(Wn,{className:"sendbird-openchannel-conversation-header__left__title",type:Vn.H_2,color:Pn.ONBACKGROUND_1},o||e.NO_TITLE),x.createElement(Wn,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Vn.BODY_2,color:Pn.ONBACKGROUND_2},u||e.NO_TITLE)),x.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},x.createElement(Lu,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:r},x.createElement(ft,{type:i?st.INFO:st.MEMBERS,fillColor:It.PRIMARY,width:"24px",height:"24px"}))))}var RH=function(n){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},wk={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},L0=function(n){return n.sender||n._sender},MH=function(n){return n===wk.SUCCEEDED},w_=function(n){return n===wk.PENDING},P0=function(n){return n===wk.FAILED},xk=function(n,t){return L0(n).userId===t},kk=function(n){var t,r=n.message;return(r==null?void 0:r.messageType)==="user"&&((t=r==null?void 0:r.message)===null||t===void 0?void 0:t.length)>0},Uh=function(n){var t=n.message,r=n.status,i=n.userId;return xk(t,i)&&P0(r)&&(t==null?void 0:t.isResendable())},Ck=function(n){var t=n.message,r=n.status,i=n.userId;return xk(t,i)&&MH(r)},Lh=function(n){var t=n.message,r=n.userId;return xk(t,r)},x_=function(n){var t=n.message,r=n.status,i=n.userId;return t.messageType==="user"?Lh({message:t,status:r,userId:i})||Ck({message:t,status:r,userId:i})||kk({message:t,status:r,userId:i})||Uh({message:t,status:r,userId:i}):Lh({message:t,status:r,userId:i})||Uh({message:t,status:r,userId:i})};function Phe(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.resendMessage,u=e.disabled,c=e.showEdit,h=e.showRemove,f=e.chainTop;if(!t||t.messageType!=="user")return null;var v=O0(),_=v.stringSet,y=v.dateLocale,E=U.exports.useContext(A0),k=E.disableUserProfile,S=E.renderUserProfile,D=U.exports.useRef(null),N=U.exports.useRef(null),C=U.exports.useRef(null),A=U.exports.useState({}),q=A[0],K=A[1],z=t==null?void 0:t.sendingStatus,V=w_(z),W=P0(z),de=L0(t),le=U.exports.useMemo(function(){return function(){var Ie=t.message.split(/\r/),ye=Ie.map(function(te){return te!==""?te:x.createElement("br",null)});return t.updatedAt>0&&ye.push(x.createElement(Wn,{key:$c(),type:Vn.BODY_1,color:Pn.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," ".concat(_.MESSAGE_EDITED," "))),ye}},[t,t.updatedAt]);return U.exports.useEffect(function(){var Ie;((Ie=D==null?void 0:D.current)===null||Ie===void 0?void 0:Ie.clientHeight)>36?K({top:"8px "}):K({top:"2px"})},[window.innerWidth]),x.createElement("div",{className:Ln(Ln([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:D},x.createElement("div",{className:"sendbird-openchannel-user-message__left"},!f&&x.createElement(Fu,{menuTrigger:function(ye){return x.createElement(ad,{className:"sendbird-openchannel-user-message__left__avatar",src:de.profileUrl||"",ref:N,width:"28px",height:"28px",onClick:function(){k||ye()}})},menuItems:function(ye){return x.createElement(Pu,{parentRef:N,parentContainRef:N,closeDropdown:ye,style:{paddingTop:0,paddingBottom:0}},S?S({user:de,close:ye}):x.createElement(f_,{user:de,onSuccess:ye,disableMessaging:!0}))}})),x.createElement("div",{className:"sendbird-openchannel-user-message__right"},!f&&x.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},x.createElement(Wn,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Vn.CAPTION_2,color:r?Pn.SECONDARY_3:Pn.ONBACKGROUND_2},de&&(de.friendName||de.nickname||de.userId)),x.createElement(Wn,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Vn.CAPTION_3,color:Pn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&$h(t==null?void 0:t.createdAt,"p",{locale:y}))),x.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},x.createElement(Wn,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Vn.BODY_1,color:Pn.ONBACKGROUND_1},le())),(V||W)&&x.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},V&&x.createElement(R0,{width:"16px",height:"16px"},x.createElement(ft,{className:"sendbird-openchannel-user-message__right__tail__pending",type:st.SPINNER,fillColor:It.PRIMARY,width:"16px",height:"16px"})),W&&x.createElement(ft,{className:"sendbird-openchannel-user-message__right__tail__failed",type:st.ERROR,fillColor:It.ERROR,width:"16px",height:"16px"}))),x.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:C,style:q},x.createElement(Fu,{menuTrigger:function(ye){return x_({message:t,userId:i,status:z})&&x.createElement(Lu,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){ye()}},x.createElement(ft,{type:st.MORE,fillColor:It.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(ye){return x.createElement(Pu,{parentRef:C,parentContainRef:C,closeDropdown:ye,openLeft:!0},kk({message:t,userId:i,status:z})&&x.createElement(Ds,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){RH(t.message),ye()}},_.CONTEXT_MENU_DROPDOWN__COPY),Ck({message:t,userId:i,status:z})&&x.createElement(Ds,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){u||(c(!0),ye())}},_.CONTEXT_MENU_DROPDOWN__EDIT),Uh({message:t,userId:i,status:z})&&x.createElement(Ds,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){o(t),ye()}},_.CONTEXT_MENU_DROPDOWN__RESEND),Lh({message:t,userId:i,status:z})&&x.createElement(Ds,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){u||(h(!0),ye())}},_.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function Fhe(e){var n=e.className,t=e.message;return x.createElement("div",{className:Ln(Ln([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},x.createElement(Wn,{className:"sendbird-openchannel-admin-message__text",type:Vn.CAPTION_2,color:Pn.ONBACKGROUND_2},t.message||""))}var Hhe=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,qhe=function(n){return function(t){return n.test(t)}},Bhe=function(n){var t=n.ogMetaData;if(!t)return!1;var r=t.url;return!!r};function Ghe(e){var n=e.message,t=e.isOperator,r=e.className,i=e.disabled,o=e.showEdit,u=e.showRemove,c=e.resendMessage,h=e.chainTop,f=e.userId;if(!n||n.messageType!=="user")return null;var v=n==null?void 0:n.sendingStatus,_=n.ogMetaData,y=_.defaultImage,E=O0(),k=E.stringSet,S=E.dateLocale,D=U.exports.useContext(A0),N=D.disableUserProfile,C=D.renderUserProfile,A=U.exports.useState({}),q=A[0],K=A[1],z=U.exports.useRef(null),V=U.exports.useRef(null),W=U.exports.useRef(null),de=qhe(Hhe),le=w_(v),Ie=P0(v),ye=L0(n),te=U.exports.useMemo(function(){return function(){var ce="sendbird-openchannel-og-message--word",He=n.message.split(" "),Se=He.map(function(ve){return de(ve)?x.createElement(qv,{key:$c(),className:[ce,"sendbird-openchannel-og-message--word--link"],src:ve,type:Vn.BODY_1,color:Pn.PRIMARY},ve):x.createElement(Wn,{key:$c(),className:ce,type:Vn.BODY_1,color:Pn.ONBACKGROUND_1},ve)});return n.updatedAt>0&&Se.push(x.createElement(Wn,{key:$c(),className:ce,type:Vn.BODY_1,color:Pn.ONBACKGROUND_2},k.MESSAGE_EDITED)),Se}},[n,n.updatedAt]),he=function(){if(Bhe(n)){var He=_.url;window.open(He)}};return U.exports.useEffect(function(){var ce;((ce=z==null?void 0:z.current)===null||ce===void 0?void 0:ce.clientHeight)>36?K({top:"8px "}):K({top:"2px"})},[window.innerWidth]),x.createElement("div",{className:Ln(Ln([],Array.isArray(r)?r:[r],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:z},x.createElement("div",{className:"sendbird-openchannel-og-message__top"},x.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!h&&x.createElement(Fu,{menuTrigger:function(He){return x.createElement(ad,{className:"sendbird-openchannel-og-message__top__left__avatar",src:ye.profileUrl||"",ref:W,width:"28px",height:"28px",onClick:function(){N||He()}})},menuItems:function(He){return x.createElement(Pu,{parentRef:W,parentContainRef:W,closeDropdown:He,style:{paddingTop:0,paddingBottom:0}},C?C({user:ye,close:He}):x.createElement(f_,{user:ye,onSuccess:He,disableMessaging:!0}))}})),x.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!h&&x.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},x.createElement(Wn,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Vn.CAPTION_2,color:t?Pn.SECONDARY_3:Pn.ONBACKGROUND_2},ye&&(ye.friendName||ye.nickname||ye.userId)),x.createElement(Wn,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Vn.CAPTION_3,color:Pn.ONBACKGROUND_3},(n==null?void 0:n.createdAt)&&$h(n==null?void 0:n.createdAt,"p",{locale:S}))),x.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},x.createElement(Wn,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Vn.BODY_1,color:Pn.ONBACKGROUND_1},te()))),x.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:V,style:q},x.createElement(Fu,{menuTrigger:function(He){return x_({message:n,userId:f,status:v})&&x.createElement(Lu,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){He()}},x.createElement(ft,{type:st.MORE,fillColor:It.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(He){return x.createElement(Pu,{parentRef:V,parentContainRef:V,closeDropdown:He,openLeft:!0},kk({message:n,userId:f,status:v})&&x.createElement(Ds,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){RH(n.message),He()}},k.CONTEXT_MENU_DROPDOWN__COPY),Ck({message:n,userId:f,status:v})&&x.createElement(Ds,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){i||(o(!0),He())}},k.CONTEXT_MENU_DROPDOWN__EDIT),Uh({message:n,userId:f,status:v})&&x.createElement(Ds,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){c(n),He()}},k.CONTEXT_MENU_DROPDOWN__RESEND),Lh({message:n,userId:f,status:v})&&x.createElement(Ds,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){i||(u(!0),He())}},k.CONTEXT_MENU_DROPDOWN__DELETE))}}))),x.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},x.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},_.url&&x.createElement(Wn,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Vn.CAPTION_3,color:Pn.ONBACKGROUND_2},_.url),_.title&&x.createElement(qv,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:_.url,type:Vn.SUBTITLE_2,color:Pn.PRIMARY},_.title),_.description&&x.createElement(Wn,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Vn.BODY_2,color:Pn.ONBACKGROUND_1},_.description),_.url&&x.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:he,onKeyDown:he,tabIndex:0},y&&x.createElement(xs,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:y.url||"",alt:y.alt||"",height:"189px",defaultComponent:x.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},x.createElement(ft,{type:st.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(le||Ie)&&x.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},le&&x.createElement(R0,{width:"16px",height:"16px"},x.createElement(ft,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:st.SPINNER,fillColor:It.PRIMARY,width:"16px",height:"16px"})),Ie&&x.createElement(ft,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:st.ERROR,fillColor:It.ERROR,width:"16px",height:"16px"}))))}var _h={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},nP={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},zhe=function(n){return nP.IMAGE.indexOf(n)>=0?_h.IMAGE:nP.VIDEO.indexOf(n)>=0?_h.VIDEO:_h.UNSUPPORTED};function $he(e){var n,t=e.className,r=e.message,i=e.isOperator,o=e.disabled,u=e.userId,c=e.chainTop,h=e.onClick,f=e.showRemove,v=e.resendMessage,_=r.type,y=r.url,E=r.thumbnails,k=r.localUrl,S=r==null?void 0:r.sendingStatus,D=E&&E.length>0&&E[0].url||null,N=O0(),C=N.stringSet,A=N.dateLocale,q=U.exports.useContext(A0),K=q.disableUserProfile,z=q.renderUserProfile,V=U.exports.useState(360),W=V[0],de=V[1],le=U.exports.useRef(null),Ie=U.exports.useRef(null),ye=U.exports.useRef(null),te=U.exports.useMemo(function(){return function(ve){return function(Oe){var Be=Oe.style;return x.createElement("div",{style:Be},x.createElement(ft,{type:ve,fillColor:It.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),he=MH(S),ce=w_(S),He=P0(S),Se=L0(r);return U.exports.useEffect(function(){var ve,Oe=((ve=le==null?void 0:le.current)===null||ve===void 0?void 0:ve.clientWidth)-80;de(Oe>360?360:Oe)},[]),x.createElement("div",{className:Ln(Ln([],Array.isArray(t)?t:[t],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:le},x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!c&&x.createElement(Fu,{menuTrigger:function(Oe){return x.createElement(ad,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:Se.profileUrl||"",ref:ye,width:"28px",height:"28px",onClick:function(){K||Oe()}})},menuItems:function(Oe){return x.createElement(Pu,{parentRef:ye,parentContainRef:ye,closeDropdown:Oe,style:{paddingTop:0,paddingBottom:0}},z?z({user:Se,close:Oe}):x.createElement(f_,{user:Se,onSuccess:Oe,disableMessaging:!0}))}})),x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!c&&x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},x.createElement(Wn,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Vn.CAPTION_2,color:i?Pn.SECONDARY_3:Pn.ONBACKGROUND_2},Se&&(Se.friendName||Se.nickname||Se.userId)),x.createElement(Wn,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Vn.CAPTION_3,color:Pn.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&$h(r.createdAt,"p",{locale:A}))),x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){he&&h(!0)},onKeyDown:function(){he&&h(!0)},tabIndex:0},x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(n={},n[_h.VIDEO]=y||k?x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},D?x.createElement(xs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:D,width:W,height:"270px",alt:"image",placeHolder:te(st.PLAY)}):x.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},x.createElement("source",{src:y||k,type:_})),x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:st.PLAY,fillColor:It.ON_BACKGROUND_2,width:"56px",height:"56px"})):x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:st.PHOTO,fillColor:It.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[_h.IMAGE]=y||k?x.createElement(xs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:D||y||k,alt:"image",width:W,height:"270px",placeHolder:te(st.PHOTO)}):x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:st.PHOTO,fillColor:It.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[_h.UNSUPPORTED]=x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:st.PHOTO,fillColor:It.ON_BACKGROUND_2,width:"56px",height:"56px"}),n)[zhe(_)])),(ce||He)&&x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},ce&&x.createElement(R0,{width:"16px",height:"16px"},x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:st.SPINNER,fillColor:It.PRIMARY,width:"16px",height:"16px"})),He&&x.createElement(ft,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:st.ERROR,fillColor:It.ERROR,width:"16px",height:"16px"}))),x.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:Ie},x.createElement(Fu,{menuTrigger:function(Oe){return x_({message:r,userId:u,status:S})&&x.createElement(Lu,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:Oe},x.createElement(ft,{type:st.MORE,fillColor:It.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Oe){return x.createElement(Pu,{parentRef:Ie,parentContainRef:Ie,closeDropdown:Oe,openLeft:!0},Uh({message:r,userId:u,status:S})&&x.createElement(Ds,{onClick:function(){v(r),Oe()}},C.CONTEXT_MENU_DROPDOWN__RESEND),Lh({message:r,userId:u,status:S})&&x.createElement(Ds,{onClick:function(){o||(f(!0),Oe())}},C.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var tP=function(n){var t=/(\.mp3)$/i,r=/(\.gif)$/i;return t.test(n)?st.FILE_AUDIO:r.test(n)?st.GIF:st.FILE_DOCUMENT},jhe=function(n,t){if(n==null)return"";if(n.length<=t)return n;var r="...",i=r.length,o=t-i,u=Math.ceil(o/2),c=Math.floor(o/2);return n.substr(0,u)+r+n.substr(n.length-c)};function Vhe(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.disabled,u=e.chainTop,c=e.showRemove,h=e.resendMessage,f=t==null?void 0:t.sendingStatus,v=O0(),_=v.dateLocale,y=v.stringSet,E=U.exports.useRef(null),k=U.exports.useRef(null),S=U.exports.useContext(A0),D=S.disableUserProfile,N=S.renderUserProfile,C=function(){window.open(t.url)},A=w_(f),q=P0(f),K=L0(t);return x.createElement("div",{className:Ln(Ln([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-file-message"],!1).join(" ")},x.createElement("div",{className:"sendbird-openchannel-file-message__left"},!u&&x.createElement(Fu,{menuTrigger:function(V){return x.createElement(ad,{className:"sendbird-openchannel-file-message__left__avatar",src:K.profileUrl||"",ref:k,width:"28px",height:"28px",onClick:function(){D||V()}})},menuItems:function(V){return x.createElement(Pu,{parentRef:k,parentContainRef:k,closeDropdown:V,style:{paddingTop:0,paddingBottom:0}},N?N({user:K,close:V}):x.createElement(f_,{user:K,onSuccess:V,disableMessaging:!0}))}})),x.createElement("div",{className:"sendbird-openchannel-file-message__right"},!u&&x.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},x.createElement(Wn,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Vn.CAPTION_2,color:r?Pn.SECONDARY_3:Pn.ONBACKGROUND_2},K&&(K.friendName||K.nickname||K.userId)),x.createElement(Wn,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Vn.CAPTION_3,color:Pn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&$h(t.createdAt,"p",{locale:_}))),x.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},tP(t.url)&&x.createElement(ft,{className:"sendbird-openchannel-file-message__right__body__icon",type:tP(t.url),fillColor:It.PRIMARY,width:"48px",height:"48px"}),x.createElement(_ce,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:C},x.createElement(Wn,{type:Vn.BODY_1,color:Pn.ONBACKGROUND_1},jhe(t.name||t.url,40)))),(A||q)&&x.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},A&&x.createElement(R0,{width:"16px",height:"16px"},x.createElement(ft,{className:"sendbird-openchannel-file-message__right__tail__pending",type:st.SPINNER,fillColor:It.PRIMARY,width:"16px",height:"16px"})),q&&x.createElement(ft,{className:"sendbird-openchannel-file-message__right__tail__failed",type:st.ERROR,fillColor:It.ERROR,width:"16px",height:"16px"}))),x.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:E},x.createElement(Fu,{menuTrigger:function(V){return x_({message:t,userId:i,status:f})&&x.createElement(Lu,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:V},x.createElement(ft,{type:st.MORE,width:"24px",height:"24px"}))},menuItems:function(V){return x.createElement(Pu,{parentRef:E,parentContainRef:E,closeDropdown:V,openLeft:!0},Uh({message:t,userId:i,status:f})&&x.createElement(Ds,{onClick:function(){o||(h(t),V())}},y.CONTEXT_MENU_DROPDOWN__RESEND),Lh({message:t,userId:i,status:f})&&x.createElement(Ds,{onClick:function(){o||(c(!0),V())}},y.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var Whe=function(n){var t=n.profileUrl,r=n.nickname,i=n.name,o=n.type,u=n.url,c=n.isByMe,h=c===void 0?!0:c,f=n.disableDelete,v=f===void 0?!1:f,_=n.onClose,y=n.onDelete,E=U.exports.useContext(go).stringSet;return x.createElement("div",{className:"sendbird-fileviewer"},x.createElement("div",{className:"sendbird-fileviewer__header"},x.createElement("div",{className:"sendbird-fileviewer__header__left"},x.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},x.createElement(ad,{height:"32px",width:"32px",src:t})),x.createElement(Wn,{className:"sendbird-fileviewer__header__left__filename",type:Vn.H_2,color:Pn.ONBACKGROUND_1},i),x.createElement(Wn,{className:"sendbird-fileviewer__header__left__sender-name",type:Vn.BODY_1,color:Pn.ONBACKGROUND_2},r)),x.createElement("div",{className:"sendbird-fileviewer__header__right"},iU(o)&&x.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},x.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:u,target:"_blank"},x.createElement(ft,{type:st.DOWNLOAD,fillColor:It.ON_BACKGROUND_1,height:"24px",width:"24px"})),y&&h&&x.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},x.createElement(ft,{className:v?"disabled":"",type:st.DELETE,fillColor:v?It.GRAY:It.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(S){v||y==null||y(S)}}))),x.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},x.createElement(ft,{type:st.CLOSE,fillColor:It.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(S){return _==null?void 0:_(S)}})))),x.createElement("div",{className:"sendbird-fileviewer__content"},a9(o)&&x.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},x.createElement("source",{src:u,type:o})),i9(o)&&x.createElement("img",{src:u,alt:i,className:"sendbird-fileviewer__content__img"}),!iU(o)&&x.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},x.createElement(Wn,{type:Vn.H_1,color:Pn.ONBACKGROUND_1},(E==null?void 0:E.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function Khe(e){var n,t,r,i=e.message,o=e.isByMe,u=o===void 0?!1:o,c=e.onClose,h=e.onDelete;return Fh.exports.createPortal(x.createElement(Whe,{profileUrl:(n=i==null?void 0:i.sender)===null||n===void 0?void 0:n.profileUrl,nickname:(t=i==null?void 0:i.sender)===null||t===void 0?void 0:t.nickname,name:i==null?void 0:i.name,type:i==null?void 0:i.type,url:i==null?void 0:i.url,isByMe:u,disableDelete:((r=i==null?void 0:i.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:c,onDelete:h}),document.getElementById(w9))}function Qhe(e){var n=e.onCloseModal,t=e.onDeleteMessage,r=U.exports.useContext(go).stringSet;return x.createElement(Hue,{onCancel:n,onSubmit:t,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}var Sk={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Yhe=function(n){return Sk.IMAGE.indexOf(n)>=0},Xhe=function(n){return Sk.VIDEO.indexOf(n)>=0};rn({},Sk);var Ts={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},rP={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},Jhe=function(n){var t,r;return((t=n==null?void 0:n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?Ts.OG:Ts.USER:!((r=n==null?void 0:n.isAdminMessage)===null||r===void 0)&&r.call(n)?Ts.ADMIN:(n==null?void 0:n.messageType)==="file"?Yhe(n.type)||Xhe(n.type)?Ts.THUMBNAIL:Ts.FILE:Ts.UNKNOWN};function Zhe(e){var n,t,r=e.message,i=e.chainTop,o=e.chainBottom,u=e.hasSeparator,c=e.renderMessage,h=U0(),f=h.currentOpenChannel,v=h.deleteMessage,_=h.updateMessage,y=h.resendMessage,E=O0().dateLocale,k=f==null?void 0:f.isFrozen,S=zh(),D=(t=S==null?void 0:S.config)===null||t===void 0?void 0:t.userId,N=null;(r==null?void 0:r.messageType)!=="admin"&&(N=r==null?void 0:r.sender);var C=U.exports.useMemo(function(){return function(he){return x.createElement(x.Fragment,null,c?c(he):null)}},[r,c]),A=U.exports.useState(!1),q=A[0],K=A[1],z=U.exports.useState(!1),V=z[0],W=z[1],de=U.exports.useState(!1),le=de[0],Ie=de[1],ye=U.exports.useRef(null),te=!1;return N&&(r==null?void 0:r.messageType)!=="admin"&&(te=D===N.userId||(r==null?void 0:r.sendingStatus)===rP.PENDING||(r==null?void 0:r.sendingStatus)===rP.FAILED),c&&C?x.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},x.createElement(C,{message:r,chainTop:i,chainBottom:o})):(r==null?void 0:r.messageType)==="user"&&q?x.createElement(b_,{isEdit:!0,disabled:k,ref:ye,message:r,name:r==null?void 0:r.messageId,onUpdateMessage:function(ce){var He=ce.messageId,Se=ce.message;_(He,Se),K(!1)},onCancelEdit:function(){K(!1)}}):x.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},u&&(r==null?void 0:r.createdAt)&&x.createElement(Ece,null,x.createElement(Wn,{type:Vn.CAPTION_2,color:Pn.ONBACKGROUND_2},$h(r==null?void 0:r.createdAt,"MMMM dd, yyyy",{locale:E}))),(n={},n[Ts.ADMIN]=function(){if((r==null?void 0:r.messageType)==="admin")return x.createElement(Fhe,{message:r})}(),n[Ts.FILE]=function(){var he;if((r==null?void 0:r.messageType)==="file")return x.createElement(Vhe,{message:r,isOperator:f==null?void 0:f.isOperator((he=r==null?void 0:r.sender)===null||he===void 0?void 0:he.userId),disabled:k,userId:D,showRemove:W,resendMessage:y,chainTop:i,chainBottom:o})}(),n[Ts.OG]=function(){var he;if((r==null?void 0:r.messageType)==="user")return x.createElement(Ghe,{message:r,isOperator:f==null?void 0:f.isOperator((he=r==null?void 0:r.sender)===null||he===void 0?void 0:he.userId),userId:D,showEdit:K,disabled:k,showRemove:W,resendMessage:y,chainTop:i,chainBottom:o})}(),n[Ts.THUMBNAIL]=function(){var he;if((r==null?void 0:r.messageType)==="file")return x.createElement($he,{message:r,isOperator:f==null?void 0:f.isOperator((he=r==null?void 0:r.sender)===null||he===void 0?void 0:he.userId),disabled:k,userId:D,showRemove:W,resendMessage:y,onClick:Ie,chainTop:i,chainBottom:o})}(),n[Ts.USER]=function(){var he;if((r==null?void 0:r.messageType)==="user")return x.createElement(Phe,{message:r,isOperator:f==null?void 0:f.isOperator((he=r==null?void 0:r.sender)===null||he===void 0?void 0:he.userId),userId:D,disabled:k,showEdit:K,showRemove:W,resendMessage:y,chainTop:i,chainBottom:o})}(),n[Ts.UNKNOWN]=function(){}(),n)[Jhe(r)],V&&x.createElement(Qhe,{onCloseModal:function(){return W(!1)},onDeleteMessage:function(){(r==null?void 0:r.messageType)!=="admin"&&v(r)}}),le&&(r==null?void 0:r.messageType)==="file"&&x.createElement(Khe,{onClose:function(){return Ie(!1)},message:r,onDelete:function(){return v(r)},isByMe:te}))}function epe(e,n){var t,r=U0(),i=r.isMessageGroupingEnabled,o=i===void 0?!0:i,u=r.allMessages,c=r.hasMore,h=r.onScroll,f=n||U.exports.useRef(null),v=U.exports.useState(!1),_=v[0],y=v[1],E=function(N){var C=N.target,A=C.scrollTop,q=C.scrollHeight,K=C.clientHeight;if(q>A+K+1?y(!0):y(!1),!!c&&A===0){var z=f.current.querySelectorAll(".sendbird-msg--scroll-ref"),V=z&&z[0];h(function(){try{V.scrollIntoView()}catch{}})}},k=function(){f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),y(!1))},S=U.exports.useMemo(function(){return u.length>0},[u.length]);return x.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},x.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},x.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),x.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",S?"":"no-messages"].join(" "),onScroll:E,ref:f},S?u.map(function(D,N){var C=u[N-1],A=u[N-1],q=C&&C.createdAt,K=D==null?void 0:D.createdAt,z=!(q&&vce(K,q)),V=o?phe(C,D,A):[!1,!1],W=V[0],de=V[1];return x.createElement(Zhe,{key:(D==null?void 0:D.messageId)||(D==null?void 0:D.reqId),message:D,chainTop:W,chainBottom:de,hasSeparator:z,renderMessage:e==null?void 0:e.renderMessage})}):((t=e==null?void 0:e.renderPlaceHolderEmptyList)===null||t===void 0?void 0:t.call(e))||x.createElement(Wg,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Kr.NO_MESSAGES}))),_&&x.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:k,onKeyDown:k,tabIndex:0,role:"button"},x.createElement(ft,{width:"24px",height:"24px",type:st.CHEVRON_DOWN,fillColor:It.CONTENT})))}var npe=x.forwardRef(epe),Ng="sendbird-openchannel-conversation",tpe=function(n){var t=n.renderMessage,r=n.renderHeader,i=n.renderInput,o=n.renderPlaceHolderEmptyList,u=n.renderPlaceHolderError,c=n.renderPlaceHolderLoading,h=U0(),f=h.currentOpenChannel,v=h.amIBanned,_=h.loading,y=h.isInvalid,E=h.messageInputRef;return!f||!(f!=null&&f.url)||v?(u==null?void 0:u())||x.createElement("div",{className:Ng},x.createElement(Wg,{type:Kr.NO_CHANNELS})):_?(c==null?void 0:c())||x.createElement("div",{className:Ng},x.createElement(Wg,{type:Kr.LOADING})):y?(u==null?void 0:u())||x.createElement("div",{className:Ng},x.createElement(Wg,{type:Kr.WRONG})):x.createElement("div",{className:Ng},(r==null?void 0:r())||x.createElement(Lhe,null),(f==null?void 0:f.isFrozen)&&x.createElement(Uhe,null),x.createElement(npe,{renderMessage:t,renderPlaceHolderEmptyList:o}),(i==null?void 0:i())||x.createElement(Dhe,{ref:E}))},rpe=function(n){return x.createElement(Rhe,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile},x.createElement(tpe,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}))};let Tg;const ipe=new Uint8Array(16);function ape(){if(!Tg&&(Tg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Tg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tg(ipe)}var spe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ope(e){return typeof e=="string"&&spe.test(e)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function DH(e,n=0){return(Ii[e[n+0]]+Ii[e[n+1]]+Ii[e[n+2]]+Ii[e[n+3]]+"-"+Ii[e[n+4]]+Ii[e[n+5]]+"-"+Ii[e[n+6]]+Ii[e[n+7]]+"-"+Ii[e[n+8]]+Ii[e[n+9]]+"-"+Ii[e[n+10]]+Ii[e[n+11]]+Ii[e[n+12]]+Ii[e[n+13]]+Ii[e[n+14]]+Ii[e[n+15]]).toLowerCase()}function lpe(e){if(!ope(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}function upe(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}const cpe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",dpe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function UH(e,n,t){function r(i,o,u,c){var h;if(typeof i=="string"&&(i=upe(i)),typeof o=="string"&&(o=lpe(o)),((h=o)===null||h===void 0?void 0:h.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|n,f[8]=f[8]&63|128,u){c=c||0;for(let v=0;v<16;++v)u[c+v]=f[v];return u}return DH(f)}try{r.name=e}catch{}return r.DNS=cpe,r.URL=dpe,r}function hpe(e){if(typeof e=="string"){const n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return ppe(fpe(mpe(e),e.length*8))}function ppe(e){const n=[],t=e.length*32,r="0123456789abcdef";for(let i=0;i<t;i+=8){const o=e[i>>5]>>>i%32&255,u=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);n.push(u)}return n}function LH(e){return(e+64>>>9<<4)+14+1}function fpe(e,n){e[n>>5]|=128<<n%32,e[LH(n)-1]=n;let t=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let u=0;u<e.length;u+=16){const c=t,h=r,f=i,v=o;t=Yi(t,r,i,o,e[u],7,-680876936),o=Yi(o,t,r,i,e[u+1],12,-389564586),i=Yi(i,o,t,r,e[u+2],17,606105819),r=Yi(r,i,o,t,e[u+3],22,-1044525330),t=Yi(t,r,i,o,e[u+4],7,-176418897),o=Yi(o,t,r,i,e[u+5],12,1200080426),i=Yi(i,o,t,r,e[u+6],17,-1473231341),r=Yi(r,i,o,t,e[u+7],22,-45705983),t=Yi(t,r,i,o,e[u+8],7,1770035416),o=Yi(o,t,r,i,e[u+9],12,-1958414417),i=Yi(i,o,t,r,e[u+10],17,-42063),r=Yi(r,i,o,t,e[u+11],22,-1990404162),t=Yi(t,r,i,o,e[u+12],7,1804603682),o=Yi(o,t,r,i,e[u+13],12,-40341101),i=Yi(i,o,t,r,e[u+14],17,-1502002290),r=Yi(r,i,o,t,e[u+15],22,1236535329),t=Xi(t,r,i,o,e[u+1],5,-165796510),o=Xi(o,t,r,i,e[u+6],9,-1069501632),i=Xi(i,o,t,r,e[u+11],14,643717713),r=Xi(r,i,o,t,e[u],20,-373897302),t=Xi(t,r,i,o,e[u+5],5,-701558691),o=Xi(o,t,r,i,e[u+10],9,38016083),i=Xi(i,o,t,r,e[u+15],14,-660478335),r=Xi(r,i,o,t,e[u+4],20,-405537848),t=Xi(t,r,i,o,e[u+9],5,568446438),o=Xi(o,t,r,i,e[u+14],9,-1019803690),i=Xi(i,o,t,r,e[u+3],14,-187363961),r=Xi(r,i,o,t,e[u+8],20,1163531501),t=Xi(t,r,i,o,e[u+13],5,-1444681467),o=Xi(o,t,r,i,e[u+2],9,-51403784),i=Xi(i,o,t,r,e[u+7],14,1735328473),r=Xi(r,i,o,t,e[u+12],20,-1926607734),t=Ji(t,r,i,o,e[u+5],4,-378558),o=Ji(o,t,r,i,e[u+8],11,-2022574463),i=Ji(i,o,t,r,e[u+11],16,1839030562),r=Ji(r,i,o,t,e[u+14],23,-35309556),t=Ji(t,r,i,o,e[u+1],4,-1530992060),o=Ji(o,t,r,i,e[u+4],11,1272893353),i=Ji(i,o,t,r,e[u+7],16,-155497632),r=Ji(r,i,o,t,e[u+10],23,-1094730640),t=Ji(t,r,i,o,e[u+13],4,681279174),o=Ji(o,t,r,i,e[u],11,-358537222),i=Ji(i,o,t,r,e[u+3],16,-722521979),r=Ji(r,i,o,t,e[u+6],23,76029189),t=Ji(t,r,i,o,e[u+9],4,-640364487),o=Ji(o,t,r,i,e[u+12],11,-421815835),i=Ji(i,o,t,r,e[u+15],16,530742520),r=Ji(r,i,o,t,e[u+2],23,-995338651),t=Zi(t,r,i,o,e[u],6,-198630844),o=Zi(o,t,r,i,e[u+7],10,1126891415),i=Zi(i,o,t,r,e[u+14],15,-1416354905),r=Zi(r,i,o,t,e[u+5],21,-57434055),t=Zi(t,r,i,o,e[u+12],6,1700485571),o=Zi(o,t,r,i,e[u+3],10,-1894986606),i=Zi(i,o,t,r,e[u+10],15,-1051523),r=Zi(r,i,o,t,e[u+1],21,-2054922799),t=Zi(t,r,i,o,e[u+8],6,1873313359),o=Zi(o,t,r,i,e[u+15],10,-30611744),i=Zi(i,o,t,r,e[u+6],15,-1560198380),r=Zi(r,i,o,t,e[u+13],21,1309151649),t=Zi(t,r,i,o,e[u+4],6,-145523070),o=Zi(o,t,r,i,e[u+11],10,-1120210379),i=Zi(i,o,t,r,e[u+2],15,718787259),r=Zi(r,i,o,t,e[u+9],21,-343485551),t=Eu(t,c),r=Eu(r,h),i=Eu(i,f),o=Eu(o,v)}return[t,r,i,o]}function mpe(e){if(e.length===0)return[];const n=e.length*8,t=new Uint32Array(LH(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function Eu(e,n){const t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function gpe(e,n){return e<<n|e>>>32-n}function k_(e,n,t,r,i,o){return Eu(gpe(Eu(Eu(n,e),Eu(r,o)),i),t)}function Yi(e,n,t,r,i,o,u){return k_(n&t|~n&r,e,n,i,o,u)}function Xi(e,n,t,r,i,o,u){return k_(n&r|t&~r,e,n,i,o,u)}function Ji(e,n,t,r,i,o,u){return k_(n^t^r,e,n,i,o,u)}function Zi(e,n,t,r,i,o,u){return k_(t^(n|~r),e,n,i,o,u)}UH("v3",48,hpe);const vpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var iP={randomUUID:vpe};function _pe(e,n,t){if(iP.randomUUID&&!n&&!e)return iP.randomUUID();e=e||{};const r=e.random||(e.rng||ape)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return DH(r)}function bpe(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function BE(e,n){return e<<n|e>>>32-n}function ype(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let c=0;c<u.length;++c)e.push(u.charCodeAt(c))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let u=0;u<i;++u){const c=new Uint32Array(16);for(let h=0;h<16;++h)c[h]=e[u*64+h*4]<<24|e[u*64+h*4+1]<<16|e[u*64+h*4+2]<<8|e[u*64+h*4+3];o[u]=c}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<i;++u){const c=new Uint32Array(80);for(let E=0;E<16;++E)c[E]=o[u][E];for(let E=16;E<80;++E)c[E]=BE(c[E-3]^c[E-8]^c[E-14]^c[E-16],1);let h=t[0],f=t[1],v=t[2],_=t[3],y=t[4];for(let E=0;E<80;++E){const k=Math.floor(E/20),S=BE(h,5)+bpe(k,f,v,_)+y+n[k]+c[E]>>>0;y=_,_=v,v=BE(f,30)>>>0,f=h,h=S}t[0]=t[0]+h>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+v>>>0,t[3]=t[3]+_>>>0,t[4]=t[4]+y>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}UH("v5",80,ype);var Epe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;aa(Epe);var aP,sP;function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ex.apply(this,arguments)}var Wh=function(n){return U.exports.createElement("svg",Ex({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},n),aP||(aP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-user_svg__a"},U.exports.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-user_svg__b"},U.exports.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),sP||(sP=U.exports.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},U.exports.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},U.exports.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},oP;function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wx.apply(this,arguments)}var Al=function(n){return U.exports.createElement("svg",wx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),oP||(oP=U.exports.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function Nk(e){var n=e.key,t=e.userId,r=e.disabled,i=r===void 0?!1:r,o=e.nickname,u=o===void 0?"":o,c=e.profileUrl,h=c===void 0?"":c,f=e.hideProfile,v=f===void 0?!1:f,_=e.onRemove,y=_===void 0?function(){}:_,E=h?x.createElement("img",{src:h,className:"profile-image"}):x.createElement(Wh,{fill:"#ccc",className:"profile-image"});return x.createElement("div",{className:"event-host",key:n},v?null:E,x.createElement("div",{className:"nickname"},u),x.createElement("div",{className:"remove-button",onClick:function(){i||y(t)}},x.createElement(Al,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var lP;function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xx.apply(this,arguments)}var wpe=function(n){return U.exports.createElement("svg",xx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),lP||(lP=U.exports.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function PH(e){var n=e.message,t=e.count,r=e.maxLength,i=e.error,o=i===void 0?!1:i;return x.createElement("div",{className:"event-host-status"},x.createElement("div",{className:"message ".concat(o?"error":"")},n),x.createElement("div",{className:"count"},x.createElement("span",{className:"value ".concat(o?"error":"")},t)," / ",r," users"),x.createElement(wpe,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var uP;function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kx.apply(this,arguments)}var xpe=function(n){return U.exports.createElement("svg",kx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),uP||(uP=U.exports.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function kpe(e){var n=e.userId,t=e.nickname,r=t===void 0?"":t,i=e.profileUrl,o=i===void 0?"":i,u=e.onClick,c=u===void 0?function(){}:u,h=o?x.createElement("img",{src:o,className:"profile-image"}):x.createElement(Wh,{fill:"#fff",className:"profile-image"});return x.createElement("div",{className:"searched-user",onClick:function(){return c()}},h,x.createElement("div",{className:"info"},x.createElement("div",{className:"nickname"},r),x.createElement("div",{className:"user-id"},n)))}function Cpe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?FH:r,o=e.renderCustomEventHostView,u=o===void 0?Nk:o,c=e.onUpdateHost,h=c===void 0?function(){}:c,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(0),E=y[0],k=y[1],S=U.exports.useState(!1),D=S[0],N=S[1],C=U.exports.useState(!1),A=C[0],q=C[1],K=U.exports.useState(t),z=K[0],V=K[1],W=U.exports.useState("nickname"),de=W[0],le=W[1],Ie=U.exports.useState(""),ye=Ie[0],te=Ie[1],he=U.exports.useState(""),ce=he[0],He=he[1],Se=U.exports.useState(!1),ve=Se[0],Oe=Se[1],Be=zh();U.exports.useEffect(function(){V(t)},[t]),U.exports.useEffect(function(){z.length>i?(Oe(!0),He("The number of users allowed has exceeded.")):(Oe(!1),He(""))},[z]);var ee=function(X,me){var Ye=nk.getSdk(Be);if(Ye&&me){var Ne=null;switch(X){case"nickname":{Ne=Ye.createApplicationUserListQuery({nicknameStartsWithFilter:me});break}case"user ID":{Ne=Ye.createApplicationUserListQuery({userIdsFilter:[me]});break}}if(Ne){var Ae=E+1;k(Ae),N(!0),q(!1),Ne.next().then(function(_e){Ae>=E&&(_(_e),N(!1),q(!1),k(Ae))}).catch(function(_e){Ae>=E&&(N(!1),q(!0),k(Ae))})}}};return x.createElement("div",{className:"event-host-form"},x.createElement("div",{className:"input"},x.createElement("div",{className:"search-type-panel"},x.createElement("select",{className:"search-type",value:de,onChange:function(X){var me=X.target.value;switch(le(me),me){case"user ID":He("Only an exact match can be found.");break;default:He("")}Oe(!1),ee(me,ye)}},x.createElement("option",{value:"nickname"},"Nickname"),x.createElement("option",{value:"user ID"},"User ID"))),x.createElement("div",{className:"form"},z.map(function(X){return u({key:X.userId,userId:X.userId,disabled:t.map(function(me){return me.userId}).includes(X.userId),nickname:X.nickname,profileUrl:X.profileUrl,onRemove:function(me){var Ye=z.filter(function(Ne){return Ne.userId!==me});V(Ye),h(Ye.map(function(Ne){return Ne.userId}))}})}),x.createElement("input",{type:"text",placeholder:"Enter ".concat(de),className:"host-form",value:ye,onChange:function(X){var me=X.target.value;te(me),ee(de,me)}}))),x.createElement(PH,{message:ce,error:ve,count:z.length,maxLength:i}),ye?x.createElement("div",{className:"search-result"},v.length>0?x.createElement("div",{className:"users"},v.map(function(X){return x.createElement(kpe,{key:X.userId,userId:X.userId,nickname:X.nickname,profileUrl:X.profileUrl,onClick:function(){if(!z.map(function(Ye){return Ye.userId}).includes(X.userId)){var me=Ga(Ga([],z,!0),[X],!1);V(me),h(me.map(function(Ye){return Ye.userId}))}te(""),_([]),q(!1),N(!1)}})})):x.createElement("div",{className:"status"},D?x.createElement(xpe,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!D&&!A&&v.length===0?x.createElement("div",{className:"no-result"},"No matches found with ",ye):null,A?x.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Spe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?FH:r,o=e.renderCustomEventHostView,u=o===void 0?Nk:o,c=e.onUpdateHost,h=c===void 0?function(){}:c,f=U.exports.useState([]),v=f[0],_=f[1],y=U.exports.useState(""),E=y[0],k=y[1],S=U.exports.useState(""),D=S[0],N=S[1],C=U.exports.useState(!1),A=C[0],q=C[1];return U.exports.useEffect(function(){_(t.map(function(K){return K.userId}))},[t]),U.exports.useEffect(function(){v.length>i?(q(!0),N("The number of users allowed has exceeded.")):(q(!1),N("If the ACL attributes are turned on, you can access user list information from the SDK."))},[v]),x.createElement("div",{className:"event-host-form"},x.createElement("div",{className:"input"},x.createElement("div",{className:"form"},v.map(function(K){return u({key:K,userId:K,disabled:t.map(function(z){return z.userId}).includes(K),nickname:K,hideProfile:!0,onRemove:function(z){var V=v.filter(function(W){return W!==z});_(V),h(V)}})}),x.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:E,onChange:function(K){var z,V=K.target.value,W=V.split(",");k((z=W.pop())!==null&&z!==void 0?z:"");var de=W.filter(function(Ie,ye){return Ie.length>0&&!v.includes(Ie)&&W.indexOf(Ie)===ye});if(de.length>0){var le=Ga(Ga([],v,!0),de,!0);_(le),h(le)}}}))),x.createElement(PH,{message:D,error:A,count:v.length,maxLength:i}))}var cP,dP;function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cx.apply(this,arguments)}var Npe=function(n){return U.exports.createElement("svg",Cx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),cP||(cP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-live_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-live_svg__b"},U.exports.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),dP||(dP=U.exports.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},U.exports.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},FH=10;function Tpe(e){var n=this,t,r,i=e.showUserIdsForHostSelectionView,o=i===void 0?!0:i,u=e.disableAcl,c=u===void 0?!1:u,h=e.renderCustomEventHostView,f=h===void 0?Nk:h,v=e.onClose,_=v===void 0?function(){}:v,y=U.exports.useState(""),E=y[0],k=y[1],S=U.exports.useState(""),D=S[0],N=S[1],C=U.exports.useRef(null),A=U.exports.useRef(null),q=U.exports.useContext(qo).stringSet,K=zh(),z=nk.getSdk(K),V=U.exports.useState([]),W=V[0],de=V[1];U.exports.useEffect(function(){o&&z!=null&&z.currentUser&&de([z.currentUser])},[z==null?void 0:z.currentUser]);var le=U.exports.useState(W.map(function(te){return te.userId})),Ie=le[0],ye=le[1];return x.createElement("div",{className:"create-event-view"},x.createElement("div",{className:"close",onClick:function(){return _()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"})),x.createElement("div",{className:"title"},q.LIVE_EVENT_CREATE_HEADER_TITLE),x.createElement("div",{className:"section-title"},q.LIVE_EVENT_CREATE_EVENT_TITLE),x.createElement("div",null,x.createElement("input",{type:"text",placeholder:q.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:E,onChange:function(te){k(te.target.value)}})),x.createElement("div",{className:"section-title"},q.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),x.createElement("div",{className:"cover-image-box"},x.createElement("div",{className:"cover-image-container",ref:C},D?x.createElement("img",{src:D,alt:"Cover image",className:"cover-image"}):x.createElement(Npe,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),x.createElement("input",{type:"file",className:"cover-image-file",ref:A,accept:"image/*",onChange:function(){var te,he=A.current,ce=(te=he==null?void 0:he.files)!==null&&te!==void 0?te:[];if(ce.length===1){var He=new FileReader;He.onload=function(){C.current&&N(He.result)},He.readAsDataURL(ce[0])}}}),x.createElement("div",{className:"cover-image-upload",onClick:function(){A.current.click()}},q.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),x.createElement("div",{className:"cover-image-remove",onClick:function(){A.current&&(A.current.value=""),N("")}},!((r=(t=A.current)===null||t===void 0?void 0:t.files)===null||r===void 0)&&r.length?q.REMOVE_IMAGE:"")),x.createElement("div",{className:"section-title"},q.LIST_USERS_FOR_HOST_HEADER_TITLE),c?x.createElement(Spe,{initialHostUsers:W,renderCustomEventHostView:f,onUpdateHost:function(te){return ye(te)}}):x.createElement(Cpe,{initialHostUsers:W,renderCustomEventHostView:f,onUpdateHost:function(te){return ye(te)}}),x.createElement("div",{className:"button-box"},x.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return _()}}),x.createElement("input",{type:"button",className:"major-button",value:q.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return ya(n,void 0,void 0,function(){var te,he,ce,He,Se,ve;return Ea(this,function(Oe){switch(Oe.label){case 0:return te=(ve=(Se=A==null?void 0:A.current)===null||Se===void 0?void 0:Se.files)===null||ve===void 0?void 0:ve[0],he=null,te&&(ce=te.slice(0,te.size,te.type),he=new File([ce],"".concat(_pe(),".").concat(te.type.split("/").pop()),{type:te.type})),[4,Cr.exports.SendbirdLive.createLiveEvent({userIdsForHost:Ga([],Ie,!0),title:E,coverFile:he!=null?he:void 0})];case 1:return He=Oe.sent(),[4,He.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return Oe.sent(),_(He),[2]}})})}})))}var Ipe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: #333 !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;aa(Ipe);var hP;function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sx.apply(this,arguments)}var Ope=function(n){return U.exports.createElement("svg",Sx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),hP||(hP=U.exports.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},pP,fP;function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nx.apply(this,arguments)}var Ape=function(n){return U.exports.createElement("svg",Nx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),pP||(pP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-filled_svg__b"},U.exports.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),fP||(fP=U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},U.exports.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},mP,gP;function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Tx.apply(this,arguments)}var Rpe=function(n){return U.exports.createElement("svg",Tx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),mP||(mP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),gP||(gP=U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},vP,_P;function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ix.apply(this,arguments)}var Mpe=function(n){return U.exports.createElement("svg",Ix({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),vP||(vP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-filled_svg__b"},U.exports.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),_P||(_P=U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},U.exports.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},bP,yP;function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ox.apply(this,arguments)}var Dpe=function(n){return U.exports.createElement("svg",Ox({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),bP||(bP=U.exports.createElement("defs",null,U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},U.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),U.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},U.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),yP||(yP=U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},U.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},U.exports.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},Upe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 4px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;aa(Upe);function Lpe(e){var n=this,t=e.liveEvent,r=e.onStart,i=e.onEnd,o=e.onSettings,u=U.exports.useState(t.state===Cr.exports.LiveEventState.ONGOING),c=u[0],h=u[1],f=U.exports.useState(0),v=f[0],_=f[1],y=U.exports.useState(!0),E=y[0],k=y[1],S=U.exports.useState(!0),D=S[0],N=S[1];Fc("");var C=U.exports.useContext(qo).stringSet;U.exports.useEffect(function(){var W=setInterval(function(){_(t.duration)},1e3);return function(){return clearInterval(W)}},[]);var A=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(W){switch(W.label){case 0:return[4,t.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return W.sent(),h(!0),r(t),[2]}})})},q=function(W){W?t.startVideo():t.stopVideo(),N(W)},K=function(W){W?t.unmuteAudioInput():t.muteAudioInput(),k(W)};function z(W){return W.toString().padStart(2,"0")}function V(W){var de=Math.floor(W/1e3),le=Math.floor(de/60),Ie=Math.floor(le/60);return de=de%60,le=le%60,"".concat(z(Ie),":").concat(z(le),":").concat(z(de))}return x.createElement("div",{className:"control-bar"},x.createElement("div",{className:"control-bar__left-buttons"},x.createElement("div",{className:"control-bar__settings"},x.createElement(Ope,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return o(t)}})),x.createElement("div",{className:"control-bar__video"},D?x.createElement(Ape,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!1)}}):x.createElement(Rpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!0)}})),x.createElement("div",{className:"control-bar__audio__wrapper"},x.createElement("div",{className:"control-bar__audio"},E?x.createElement(Mpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return K(!1)}}):x.createElement(Dpe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return K(!0)}})),x.createElement("div",{className:"control-bar__volume"}))),x.createElement("div",{className:"control-bar__right-buttons"},c&&x.createElement("div",{className:"participant-icon--red"}),c&&x.createElement("div",{className:"control-bar__duration"},V(v)),c?x.createElement("div",{className:"control-bar__end-live",onClick:function(){i(t)}},C.LIVE_EVENT_END_DIALOG_OPTION_END):x.createElement("div",{className:"control-bar__start-live",onClick:A},C.START_LIVE_EVENT_HEADER_BUTTON)))}var Ppe=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;aa(Ppe);function Fpe(e){var n=e.onExit,t=n===void 0?function(){}:n,r=e.onClose,i=r===void 0?function(){}:r,o=U.exports.useContext(qo).stringSet;return x.createElement("div",{className:"confirm-end-dialog"},x.createElement("div",{className:"header"},x.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),x.createElement("div",{className:"close",onClick:function(){return i()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),x.createElement("div",{className:"buttons"},x.createElement("div",{className:"minor-button",onClick:function(){return i()}},"Cancel"),x.createElement("div",{className:"minor-button",onClick:function(){return t(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),x.createElement("div",{className:"major-button",onClick:function(){return t(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}function Zc(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Ca(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function Yg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yg=function(t){return typeof t}:Yg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function Go(e){Ca(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||Yg(e)==="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hpe(e,n){Ca(2,arguments);var t=Go(e).getTime(),r=Zc(n);return new Date(t+r)}var qpe={};function C_(){return qpe}function Bpe(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}function Xg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xg=function(t){return typeof t}:Xg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function Gpe(e){return Ca(1,arguments),e instanceof Date||Xg(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zpe(e){if(Ca(1,arguments),!Gpe(e)&&typeof e!="number")return!1;var n=Go(e);return!isNaN(Number(n))}function $pe(e,n){Ca(2,arguments);var t=Zc(n);return Hpe(e,-t)}var jpe=864e5;function Vpe(e){Ca(1,arguments);var n=Go(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/jpe)+1}function Gv(e){Ca(1,arguments);var n=1,t=Go(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function HH(e){Ca(1,arguments);var n=Go(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Gv(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var u=Gv(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=u.getTime()?t:t-1}function Wpe(e){Ca(1,arguments);var n=HH(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Gv(t);return r}var Kpe=6048e5;function Qpe(e){Ca(1,arguments);var n=Go(e),t=Gv(n).getTime()-Wpe(n).getTime();return Math.round(t/Kpe)+1}function zv(e,n){var t,r,i,o,u,c,h,f;Ca(1,arguments);var v=C_(),_=Zc((t=(r=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Go(e),E=y.getUTCDay(),k=(E<_?7:0)+E-_;return y.setUTCDate(y.getUTCDate()-k),y.setUTCHours(0,0,0,0),y}function qH(e,n){var t,r,i,o,u,c,h,f;Ca(1,arguments);var v=Go(e),_=v.getUTCFullYear(),y=C_(),E=Zc((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(_+1,0,E),k.setUTCHours(0,0,0,0);var S=zv(k,n),D=new Date(0);D.setUTCFullYear(_,0,E),D.setUTCHours(0,0,0,0);var N=zv(D,n);return v.getTime()>=S.getTime()?_+1:v.getTime()>=N.getTime()?_:_-1}function Ype(e,n){var t,r,i,o,u,c,h,f;Ca(1,arguments);var v=C_(),_=Zc((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),y=qH(e,n),E=new Date(0);E.setUTCFullYear(y,0,_),E.setUTCHours(0,0,0,0);var k=zv(E,n);return k}var Xpe=6048e5;function Jpe(e,n){Ca(1,arguments);var t=Go(e),r=zv(t,n).getTime()-Ype(t,n).getTime();return Math.round(r/Xpe)+1}function Kt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var du={y:function(n,t){var r=n.getUTCFullYear(),i=r>0?r:1-r;return Kt(t==="yy"?i%100:i,t.length)},M:function(n,t){var r=n.getUTCMonth();return t==="M"?String(r+1):Kt(r+1,2)},d:function(n,t){return Kt(n.getUTCDate(),t.length)},a:function(n,t){var r=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,t){return Kt(n.getUTCHours()%12||12,t.length)},H:function(n,t){return Kt(n.getUTCHours(),t.length)},m:function(n,t){return Kt(n.getUTCMinutes(),t.length)},s:function(n,t){return Kt(n.getUTCSeconds(),t.length)},S:function(n,t){var r=t.length,i=n.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Kt(o,t.length)}},Qd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zpe={G:function(n,t,r){var i=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(n,t,r){if(t==="yo"){var i=n.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return du.y(n,t)},Y:function(n,t,r,i){var o=qH(n,i),u=o>0?o:1-o;if(t==="YY"){var c=u%100;return Kt(c,2)}return t==="Yo"?r.ordinalNumber(u,{unit:"year"}):Kt(u,t.length)},R:function(n,t){var r=HH(n);return Kt(r,t.length)},u:function(n,t){var r=n.getUTCFullYear();return Kt(r,t.length)},Q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Kt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Kt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,r){var i=n.getUTCMonth();switch(t){case"M":case"MM":return du.M(n,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,r){var i=n.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Kt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,r,i){var o=Jpe(n,i);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Kt(o,t.length)},I:function(n,t,r){var i=Qpe(n);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):Kt(i,t.length)},d:function(n,t,r){return t==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):du.d(n,t)},D:function(n,t,r){var i=Vpe(n);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Kt(i,t.length)},E:function(n,t,r){var i=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,r,i){var o=n.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Kt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(n,t,r,i){var o=n.getUTCDay(),u=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Kt(u,t.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(n,t,r){var i=n.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return Kt(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,r){var i=n.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,t,r){var i=n.getUTCHours(),o;switch(i===12?o=Qd.noon:i===0?o=Qd.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,t,r){var i=n.getUTCHours(),o;switch(i>=17?o=Qd.evening:i>=12?o=Qd.afternoon:i>=4?o=Qd.morning:o=Qd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,t,r){if(t==="ho"){var i=n.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return du.h(n,t)},H:function(n,t,r){return t==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):du.H(n,t)},K:function(n,t,r){var i=n.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Kt(i,t.length)},k:function(n,t,r){var i=n.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):Kt(i,t.length)},m:function(n,t,r){return t==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):du.m(n,t)},s:function(n,t,r){return t==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):du.s(n,t)},S:function(n,t){return du.S(n,t)},X:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();if(u===0)return"Z";switch(t){case"X":return wP(u);case"XXXX":case"XX":return kc(u);case"XXXXX":case"XXX":default:return kc(u,":")}},x:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"x":return wP(u);case"xxxx":case"xx":return kc(u);case"xxxxx":case"xxx":default:return kc(u,":")}},O:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EP(u,":");case"OOOO":default:return"GMT"+kc(u,":")}},z:function(n,t,r,i){var o=i._originalDate||n,u=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EP(u,":");case"zzzz":default:return"GMT"+kc(u,":")}},t:function(n,t,r,i){var o=i._originalDate||n,u=Math.floor(o.getTime()/1e3);return Kt(u,t.length)},T:function(n,t,r,i){var o=i._originalDate||n,u=o.getTime();return Kt(u,t.length)}};function EP(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var u=n||"";return t+String(i)+u+Kt(o,2)}function wP(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Kt(Math.abs(e)/60,2)}return kc(e,n)}function kc(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=Kt(Math.floor(i/60),2),u=Kt(i%60,2);return r+o+t+u}var efe=Zpe,xP=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},BH=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nfe=function(n,t){var r=n.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return xP(n,t);var u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",xP(i,t)).replace("{{time}}",BH(o,t))},tfe={p:BH,P:nfe},rfe=tfe,ife=["D","DD"],afe=["YY","YYYY"];function sfe(e){return ife.indexOf(e)!==-1}function ofe(e){return afe.indexOf(e)!==-1}function kP(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ufe=function(n,t,r){var i,o=lfe[n];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function GE(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth,r=e.formats[t]||e.formats[e.defaultWidth];return r}}var cfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pfe={date:GE({formats:cfe,defaultWidth:"full"}),time:GE({formats:dfe,defaultWidth:"full"}),dateTime:GE({formats:hfe,defaultWidth:"full"})},ffe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mfe=function(n,t,r,i){return ffe[n]};function bf(e){return function(n,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,u=t!=null&&t.width?String(t.width):o;i=e.formattingValues[u]||e.formattingValues[o]}else{var c=e.defaultWidth,h=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[h]||e.values[c]}var f=e.argumentCallback?e.argumentCallback(n):n;return i[f]}}var gfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_fe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Efe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wfe=function(n,t){var r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xfe={ordinalNumber:wfe,era:bf({values:gfe,defaultWidth:"wide"}),quarter:bf({values:vfe,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:bf({values:_fe,defaultWidth:"wide"}),day:bf({values:bfe,defaultWidth:"wide"}),dayPeriod:bf({values:yfe,defaultWidth:"wide",formattingValues:Efe,defaultFormattingWidth:"wide"})};function yf(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(i);if(!o)return null;var u=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?Cfe(c,function(_){return _.test(u)}):kfe(c,function(_){return _.test(u)}),f;f=e.valueCallback?e.valueCallback(h):h,f=t.valueCallback?t.valueCallback(f):f;var v=n.slice(u.length);return{value:f,rest:v}}}function kfe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function Cfe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}function Sfe(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.match(e.matchPattern);if(!r)return null;var i=r[0],o=n.match(e.parsePattern);if(!o)return null;var u=e.valueCallback?e.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;var c=n.slice(i.length);return{value:u,rest:c}}}var Nfe=/^(\d+)(th|st|nd|rd)?/i,Tfe=/\d+/i,Ife={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ofe={any:[/^b/i,/^(a|c)/i]},Afe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rfe={any:[/1/i,/2/i,/3/i,/4/i]},Mfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ufe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ffe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hfe={ordinalNumber:Sfe({matchPattern:Nfe,parsePattern:Tfe,valueCallback:function(n){return parseInt(n,10)}}),era:yf({matchPatterns:Ife,defaultMatchWidth:"wide",parsePatterns:Ofe,defaultParseWidth:"any"}),quarter:yf({matchPatterns:Afe,defaultMatchWidth:"wide",parsePatterns:Rfe,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:yf({matchPatterns:Mfe,defaultMatchWidth:"wide",parsePatterns:Dfe,defaultParseWidth:"any"}),day:yf({matchPatterns:Ufe,defaultMatchWidth:"wide",parsePatterns:Lfe,defaultParseWidth:"any"}),dayPeriod:yf({matchPatterns:Pfe,defaultMatchWidth:"any",parsePatterns:Ffe,defaultParseWidth:"any"})},qfe={code:"en-US",formatDistance:ufe,formatLong:pfe,formatRelative:mfe,localize:xfe,match:Hfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bfe=qfe,Gfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$fe=/^'([^]*?)'?$/,jfe=/''/g,Vfe=/[a-zA-Z]/;function CP(e,n,t){var r,i,o,u,c,h,f,v,_,y,E,k,S,D,N,C,A,q;Ca(2,arguments);var K=String(n),z=C_(),V=(r=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:z.locale)!==null&&r!==void 0?r:Bfe,W=Zc((o=(u=(c=(h=t==null?void 0:t.firstWeekContainsDate)!==null&&h!==void 0?h:t==null||(f=t.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&c!==void 0?c:z.firstWeekContainsDate)!==null&&u!==void 0?u:(_=z.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var de=Zc((E=(k=(S=(D=t==null?void 0:t.weekStartsOn)!==null&&D!==void 0?D:t==null||(N=t.locale)===null||N===void 0||(C=N.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&S!==void 0?S:z.weekStartsOn)!==null&&k!==void 0?k:(A=z.locale)===null||A===void 0||(q=A.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&E!==void 0?E:0);if(!(de>=0&&de<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!V.localize)throw new RangeError("locale must contain localize property");if(!V.formatLong)throw new RangeError("locale must contain formatLong property");var le=Go(e);if(!zpe(le))throw new RangeError("Invalid time value");var Ie=Bpe(le),ye=$pe(le,Ie),te={firstWeekContainsDate:W,weekStartsOn:de,locale:V,_originalDate:le},he=K.match(zfe).map(function(ce){var He=ce[0];if(He==="p"||He==="P"){var Se=rfe[He];return Se(ce,V.formatLong)}return ce}).join("").match(Gfe).map(function(ce){if(ce==="''")return"'";var He=ce[0];if(He==="'")return Wfe(ce);var Se=efe[He];if(Se)return!(t!=null&&t.useAdditionalWeekYearTokens)&&ofe(ce)&&kP(ce,n,String(e)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&sfe(ce)&&kP(ce,n,String(e)),Se(ye,ce,V.localize,te);if(He.match(Vfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+He+"`");return ce}).join("");return he}function Wfe(e){var n=e.match($fe);return n?n[1].replace(jfe,"'"):e}var SP;function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ax.apply(this,arguments)}var NP=function(n){return U.exports.createElement("svg",Ax({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),SP||(SP=U.exports.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},TP;function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rx.apply(this,arguments)}var Kfe=function(n){return U.exports.createElement("svg",Rx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),TP||(TP=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},IP;function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mx.apply(this,arguments)}var Qfe=function(n){return U.exports.createElement("svg",Mx({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),IP||(IP=U.exports.createElement("g",{fillRule:"evenodd"},U.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),U.exports.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),U.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),U.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},OP;function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dx.apply(this,arguments)}var GH=function(n){return U.exports.createElement("svg",Dx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),OP||(OP=U.exports.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},AP;function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ux.apply(this,arguments)}var zH=function(n){return U.exports.createElement("svg",Ux({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),AP||(AP=U.exports.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},RP;function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Lx.apply(this,arguments)}var Yfe=function(n){return U.exports.createElement("svg",Lx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),RP||(RP=U.exports.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},Xfe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;aa(Xfe);function Jfe(e){var n=e.liveEvent,t=e.onHostsClick,r=t===void 0?function(){}:t,i=e.onParticipantsClick,o=i===void 0?function(){}:i,u=e.onClose,c=u===void 0?function(){}:u,h=n.openChannel,f=U.exports.useState(""),v=f[0],_=f[1],y=U.exports.useState(h.isFrozen),E=y[0],k=y[1],S=U.exports.useState(n.userIdsForHost.length),D=S[0],N=S[1],C=U.exports.useState("".concat(h.participantCount)),A=C[0],q=C[1];return U.exports.useEffect(function(){_(h.name||"Untitled")},[h.name]),U.exports.useEffect(function(){N(h.operators.length)},[n.userIdsForHost.length]),U.exports.useEffect(function(){h.participantCount>1e3?q("".concat(Math.floor(h.participantCount/1e3),"k")):q("".concat(h.participantCount))},[h.participantCount]),U.exports.useEffect(function(){k(n.openChannel.isFrozen)},[h.isFrozen]),x.createElement("div",{className:"event-detail-view"},x.createElement("div",{className:"header"},x.createElement("div",{className:"title"},"Live event information"),x.createElement("div",{className:"close",onClick:function(){return c()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"}))),x.createElement("div",{className:"event-summary"},x.createElement("div",{className:"profile"},n.host?x.createElement("img",{src:n.host.profileURL}):x.createElement(Wh,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),x.createElement("div",{className:"title"},v)),x.createElement("div",{className:"event-menu button",onClick:function(){return r()}},x.createElement(GH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),x.createElement("div",{className:"label"},"Hosts"),x.createElement("div",{className:"count"},D),x.createElement(NP,{width:24,height:24,viewBox:"-10 -10 80 80"})),x.createElement("div",{className:"event-menu button",onClick:function(){return o()}},x.createElement(zH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),x.createElement("div",{className:"label"},"Participants"),x.createElement("div",{className:"count"},A),x.createElement(NP,{width:24,height:24,viewBox:"-10 -10 80 80"})),x.createElement("div",{className:"event-menu"},x.createElement(Yfe,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),x.createElement("div",{className:"label"},"Freeze channel"),x.createElement("div",{className:"toggle"},E?x.createElement(Kfe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):x.createElement(Qfe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),x.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),x.createElement("div",{className:"event-info"},x.createElement("div",{className:"label"},"Live event ID"),x.createElement("div",{className:"value"},n.liveEventId)),x.createElement("div",{className:"event-info"},x.createElement("div",{className:"label"},"Created on"),x.createElement("div",{className:"value"},CP(n.createdAt,"PPp"))),x.createElement("div",{className:"event-info"},x.createElement("div",{className:"label"},"Created by"),x.createElement("div",{className:"value"},n.createdBy)),x.createElement("div",{className:"event-info"},x.createElement("div",{className:"label"},"Started on"),x.createElement("div",{className:"value"},n.startedAt?CP(n.startedAt,"PPp"):"")),x.createElement("div",{className:"event-info"},x.createElement("div",{className:"label"},"Started by"),x.createElement("div",{className:"value"},n.startedBy?n.startedBy:"")))}var Zfe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;aa(Zfe);function e0e(e){var n=e.nickname,t=n===void 0?"":n,r=e.profileUrl,i=r===void 0?"":r,o=i?x.createElement("img",{src:i,className:"profile-image"}):x.createElement(Wh,{fill:"#fff",className:"profile-image"});return x.createElement("div",{className:"user-view"},o,x.createElement("div",{className:"nickname"},t))}function MP(e){var n=e.title,t=e.count,r=e.query,i=e.onClose,o=i===void 0?function(){}:i,u=U.exports.useRef(null),c=U.exports.useState([]),h=c[0],f=c[1],v=U.exports.useState(!0),_=v[0],y=v[1];U.exports.useEffect(function(){r().then(function(k){var S=k.result,D=k.hasNext;f(Ga([],S,!0)),y(D)})},[]);var E=function(){if(u.current){var k=u.current,S=k.scrollTop,D=k.scrollHeight,N=k.clientHeight;S+N===D&&_&&r().then(function(C){var A=C.result,q=C.hasNext;f(Ga(Ga([],h,!0),A,!0)),y(q)})}};return x.createElement("div",{className:"user-list-view"},x.createElement("div",{className:"header"},x.createElement("div",{className:"title"},n," ",x.createElement("span",{className:"count"},t)),x.createElement("div",{className:"close",onClick:function(){return o()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"}))),x.createElement("div",{className:"list",ref:u,onScroll:E},h.map(function(k){return x.createElement(e0e,{key:k.userId,userId:k.userId,nickname:k.nickname,profileUrl:k.profileUrl})})))}var n0e=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;aa(n0e);var eo;(function(e){e[e.CHAT=0]="CHAT",e[e.EVENT_INFO=1]="EVENT_INFO",e[e.HOST_LIST=2]="HOST_LIST",e[e.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(eo||(eo={}));function $H(e){var n=this,t=e.liveEvent,r=e.initialViewStack,i=r===void 0?[eo.CHAT]:r,o=t.openChannel,u=zh(),c=nk.getSdk(u),h=U.exports.useState(Ga([],i,!0)),f=h[0],v=h[1],_=U.exports.useState(i[i.length-1]),y=_[0],E=_[1],k=function(D){v(Ga(Ga([],f,!0),[D],!1))},S=function(){f.length>1&&v(f.slice(0,-1))};return U.exports.useEffect(function(){t.openChannel,v(Ga([],i,!0))},[t]),U.exports.useEffect(function(){E(f[f.length-1])},[f]),x.createElement("div",{className:"sendbirdlive-right__wrapper"},y===eo.CHAT?x.createElement(rpe,{channelUrl:t.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var D;((D=t.host)===null||D===void 0?void 0:D.userId)===(c==null?void 0:c.currentUser.userId)?k(eo.EVENT_INFO):k(eo.PARTICIPANT_LIST)}}):null,y===eo.EVENT_INFO?x.createElement(Jfe,{liveEvent:t,onHostsClick:function(){return k(eo.HOST_LIST)},onParticipantsClick:function(){return k(eo.PARTICIPANT_LIST)},onClose:function(){return S()}}):null,y===eo.HOST_LIST?x.createElement(MP,{title:"Hosts",count:o.operators.length,query:function(){return ya(n,void 0,void 0,function(){return Ea(this,function(D){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return S()}}):null,y===eo.PARTICIPANT_LIST?x.createElement(MP,{title:"Participants",count:o.participantCount,query:function(){return ya(n,void 0,void 0,function(){var D,N,C,A;return Ea(this,function(q){switch(q.label){case 0:return D=o.createParticipantListQuery({}),D?[4,D.next()]:[3,2];case 1:return C=q.sent(),[3,3];case 2:C=[],q.label=3;case 3:return N=C,A=D==null?void 0:D.hasNext,[2,{result:N,hasNext:A}]}})})},onClose:function(){return S()}}):null)}var t0e=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;aa(t0e);function r0e(e){var n=e.liveEvent,t=e.onClose;return x.createElement("div",{className:"settings"},x.createElement("div",{className:"close",onClick:function(){return t()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"})),x.createElement("div",{className:"title"},"Settings"),x.createElement("div",{className:"settings__select-container"},x.createElement("div",{className:"settings__select-label"},"Camera"),x.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Cr.exports.SendbirdLive.getAvailableVideoInputDevices().find(function(u){return u.deviceId===i});o&&n.selectVideoInput(o)}},Cr.exports.SendbirdLive.getAvailableVideoInputDevices().map(function(r){return x.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))),x.createElement("div",{className:"settings__select-container"},x.createElement("div",{className:"settings__select-label"},"Microphone"),x.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Cr.exports.SendbirdLive.getAvailableAudioInputDevices().find(function(u){return u.deviceId===i});o&&n.selectAudioInput(o)}},Cr.exports.SendbirdLive.getAvailableAudioInputDevices().map(function(r){return x.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))))}function i0e(e){var n=this,t=e.liveEvent;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount,e.eventEndViewDisplayTime,e.allowExitWithoutEnding,e.showEventSummaryView;var r=e.onClose,i=U.exports.useContext(qo).stringSet,o=U.exports.useRef(null),u=U.exports.useState(t.title),c=u[0],h=u[1],f=U.exports.useState(t.coverUrl),v=f[0],_=f[1],y=U.exports.useState(t.state),E=y[0],k=y[1],S=U.exports.useState(t.participantCount||0),D=S[0],N=S[1],C=Fc("","dark-background"),A=C[0],q=C[1],K=C[2],z=Fc(""),V=z[0],W=z[1],de=z[2],le=function(ye){switch(ye){case"created":return i.EVENT_STATUS_CREATED;case"ready":return i.EVENT_STATUS_READY;case"ongoing":return i.EVENT_STATUS_ONGOING;case"ended":return i.EVENT_STATUS_ENDED}};U.exports.useEffect(function(){var ye=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(te){switch(te.label){case 0:return t.state!==Cr.exports.LiveEventState.CREATED?[3,2]:[4,t.setEventReady()];case 1:te.sent(),te.label=2;case 2:return t.state===Cr.exports.LiveEventState.ONGOING&&!t.isHostStreaming?[4,t.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:te.sent(),t.setVideoViewForLiveEvent(o.current,t.host.hostId),te.label=4;case 4:return o.current.autoplay=!0,o.current.muted=!0,o.current.playsInline=!0,o.current.controls=!0,[2]}})})};ye()},[t]),U.exports.useEffect(function(){var ye=[t.on("participantEntered",function(te,he){N(t.participantCount)}),t.on("participantExited",function(){N(t.participantCount)}),t.on("liveEventUpdated",function(){h(t.title),_(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){ye.map(function(te){return te()})}},[t]);function Ie(ye){var te=Math.floor(ye/1e3),he=Math.floor(te/60);return he=he%60,"".concat(he<0?0:he)}return x.createElement("div",{className:"host-view"},x.createElement("div",{className:"host-view__main"},x.createElement("div",{className:"video-wrapper"},x.createElement("video",{className:"host-view__video",ref:o})),x.createElement("div",{className:"host-view__info"},x.createElement("div",{className:"host-view__profile"},t.coverUrl?x.createElement("img",{src:v,alt:"cover image",className:"host-view__profile__cover-image"}):x.createElement(Wh,{viewBox:"-4 -4 20 20",width:56,height:56})),x.createElement("div",{className:"host-view__info__wrapper"},x.createElement("div",{className:"host-view__title__wrapper"},x.createElement("div",{className:"event-state--".concat(E)},le(E)),x.createElement("div",{className:"host-view__title"},c||i.CREATE_EVENT_DEFAULT_TITLE)),x.createElement("div",{className:"host-view__detail"},D!=null?D:0," watching now ",E===Cr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Ie(t.duration)," mins ago"):""),x.createElement("div",{className:"host-view__host-name"},t.host?t.host.nickname:"No Host"))),x.createElement(Lpe,{liveEvent:t,onStart:function(ye){ye.setVideoViewForLiveEvent(o.current,ye.host.hostId),k(E)},onEnd:function(){q()},onSettings:function(){W()}}),x.createElement(A,null,x.createElement(Fpe,{onExit:function(ye){return ya(n,void 0,void 0,function(){return Ea(this,function(te){switch(te.label){case 0:return ye?[4,t.endEvent()]:[3,2];case 1:return te.sent(),[3,4];case 2:return[4,t.exitAsHost()];case 3:te.sent(),te.label=4;case 4:return K(),r(t),[2]}})})},onClose:function(){K()}})),x.createElement(V,null,x.createElement(r0e,{liveEvent:t,onClose:function(){de()}}))),x.createElement($H,{liveEvent:t}))}var a0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;aa(a0e);var s0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;aa(s0e);var o0e=function(e){var n=e.message;return x.createElement("div",{className:"toast-container"},n&&x.createElement("div",{className:"toast"},n))},l0e=function(){var e=U.exports.useState(void 0),n=e[0],t=e[1],r=U.exports.useState(void 0),i=r[0],o=r[1],u=function(f,v){v===void 0&&(v=1e6),t(f);var _=setTimeout(function(){c()},v);o(_)},c=function(){clearTimeout(i),o(void 0),t(void 0)},h=function(){return x.createElement(o0e,{message:n})};return[h,u,c]},u0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;aa(u0e);function c0e(e){var n=e.onClose;return x.createElement("div",{className:"ended-modal"},x.createElement("div",{className:"header"},x.createElement("div",{className:"title"},"Host has ended this live event."),x.createElement("div",{className:"close",onClick:n},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),x.createElement("div",{className:"buttons"},x.createElement("div",{className:"major-button",onClick:n},"End live")))}function d0e(e){var n=this,t=e.liveEvent,r=e.onClose;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount;var i=e.eventEndViewDisplayTime,o=U.exports.useRef(null),u=l0e(),c=u[0],h=u[1],f=U.exports.useState(t.host),v=f[0],_=f[1],y=U.exports.useState(t.title),E=y[0],k=y[1],S=U.exports.useState(t.coverUrl),D=S[0],N=S[1],C=U.exports.useState(t.state),A=C[0],q=C[1],K=U.exports.useState(t.participantCount||0),z=K[0],V=K[1],W=Fc("",""),de=W[0],le=W[1],Ie=W[2],ye=U.exports.useState(),te=ye[0],he=ye[1],ce=U.exports.useContext(qo).stringSet,He=function(ee){switch(ee){case"created":return ce.EVENT_STATUS_CREATED;case"ready":return ce.EVENT_STATUS_READY;case"ongoing":return ce.EVENT_STATUS_ONGOING;case"ended":return ce.EVENT_STATUS_ENDED}},Se=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(ee){return o.current.autoplay=!0,o.current.playsInline=!0,o.current.controls=!0,v&&t.setVideoViewForLiveEvent(o.current,v.hostId),[2]})})},ve=function(){le();var ee=setTimeout(function(){Oe()},i!=null?i:3e3);he(ee)},Oe=function(){return ya(n,void 0,void 0,function(){return Ea(this,function(ee){return clearTimeout(te),he(void 0),Ie(),r(t),[2]})})};U.exports.useEffect(function(){Se()},[v,A]),U.exports.useEffect(function(){t.state===Cr.exports.LiveEventState.CREATED&&h("Live event will begin soon.");var ee=[t.on("liveEventStarted",function(){q(t.state)}),t.on("liveEventEnded",function(){q(t.state),ve()}),t.on("hostEntered",function(){h("Host Entered"),_(t.host)}),t.on("hostConnected",function(X,me){h("Host Connected"),_(X.host)}),t.on("hostDisconnected",function(){h("Host Disconnected"),_(t.host)}),t.on("hostExited",function(){h("Host Exited"),_(t.host)}),t.on("hostMutedAudio",function(){h("Host is muted"),_(t.host)}),t.on("hostUnmutedAudio",function(){h("Host is unmuted"),_(t.host)}),t.on("participantEntered",function(){V(t.participantCount)}),t.on("participantExited",function(){V(t.participantCount)}),t.on("liveEventUpdated",function(){k(t.title),N(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){ee.map(function(X){return X()})}},[t]);function Be(ee){var X=Math.floor(ee/1e3),me=Math.floor(X/60);return me=me%60,"".concat(me<0?0:me)}return x.createElement("div",{className:"participant-view"},x.createElement("div",{className:"participant-view__main"},x.createElement(c,null),x.createElement("div",{className:"video-wrapper"},x.createElement("video",{className:"participant-view__video",ref:o})),x.createElement("div",{className:"participant-view__info"},x.createElement("div",{className:"participant-view__profile"},D?x.createElement("img",{src:D,alt:"cover image",className:"participant-view__profile__cover-image"}):x.createElement(Wh,{viewBox:"-4 -4 20 20",width:56,height:56})),x.createElement("div",{className:"participant-view__info__wrapper"},x.createElement("div",{className:"participant-view__title__wrapper"},x.createElement("div",{className:"event-state--".concat(A)},He(A)),x.createElement("div",{className:"participant-view__title"},E||ce.CREATE_EVENT_DEFAULT_TITLE)),x.createElement("div",{className:"participant-view__detail"},z!=null?z:0," watching now ",A===Cr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Be(t.duration)," mins ago"):""),x.createElement("div",{className:"participant-view__host-name"},v?v.nickname||" ":"No Host")))),x.createElement($H,{liveEvent:t}),x.createElement(de,null,x.createElement(c0e,{onClose:Oe})))}var h0e=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;aa(h0e);function p0e(e){var n=this,t=e.liveEventId,r=e.onClose,i=U.exports.useContext(qo).stringSet,o=function(){return ya(n,void 0,void 0,function(){var c;return Ea(this,function(h){switch(h.label){case 0:return[4,Cr.exports.SendbirdLive.getLiveEvent(t)];case 1:return c=h.sent(),[4,c.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return h.sent(),r(c,!0),[2]}})})},u=function(){return ya(n,void 0,void 0,function(){var c;return Ea(this,function(h){switch(h.label){case 0:return[4,Cr.exports.SendbirdLive.getLiveEvent(t)];case 1:return c=h.sent(),[4,c.enter()];case 2:return h.sent(),r(c,!1),[2]}})})};return x.createElement("div",{className:"enter-view"},x.createElement("div",{className:"close",onClick:function(){return r()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"})),x.createElement("div",{className:"title"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),x.createElement("div",{className:"enter-view__item",onClick:o},x.createElement("div",{className:"enter-view__item__icon"},x.createElement(GH,{viewBox:"0 0 64 64",width:28,height:28})),x.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),x.createElement("div",{className:"enter-view__item",onClick:u},x.createElement("div",{className:"enter-view__item__icon"},x.createElement(zH,{viewBox:"0 0 64 64",width:28,height:28})),x.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var f0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;aa(f0e);function m0e(e){var n=e.liveEvent,t=e.onClose,r=U.exports.useContext(qo).stringSet,i=U.exports.useMemo(function(){return n&&n.state===Cr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(n),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[n]);return x.createElement("div",{className:"enter-error-view"},x.createElement("div",{className:"header"},x.createElement("div",{className:"title"},i),x.createElement("div",{className:"close",onClick:function(){return t()}},x.createElement(Al,{width:22,height:22,viewBox:"0 0 60 60"}))),x.createElement("div",{className:"buttons"},x.createElement("div",{className:"major-button",onClick:function(){return t()}},"OK")))}function g0e(e){var n=this,t=e.userId,r=e.appId,i=e.nickname,o=e.accessToken,u=e.customApiHost,c=e.customWebSocketHost,h=e.theme,f=e.colorSet,v=e.stringSet,_=e.customize,y=U.exports.useState(!1),E=y[0],k=y[1],S=U.exports.useState(""),D=S[0],N=S[1],C=U.exports.useState(),A=C[0],q=C[1],K=Fc(""),z=K[0],V=K[1],W=K[2],de=Fc(""),le=de[0],Ie=de[1],ye=de[2],te=Fc(""),he=te[0],ce=te[1],He=te[2],Se=Ou(Ou({},_==null?void 0:_.liveEventList),{onClickCreate:function(){V()},onClickElem:function(Oe){return ya(n,void 0,void 0,function(){var Be;return Ea(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,8,,9]),[4,Cr.exports.SendbirdLive.getLiveEvent(Oe.liveEventId)];case 1:return Be=ee.sent(),Be.state===Cr.exports.LiveEventState.ENDED?(ce(),[2]):Be.isHost&&!Be.host?Be.state!==Cr.exports.LiveEventState.CREATED?[3,3]:[4,Be.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return ee.sent(),k(!0),q(Be),[3,4];case 3:N(Oe.liveEventId),Ie(),ee.label=4;case 4:return[3,7];case 5:return[4,Be.enter()];case 6:ee.sent(),q(Be),ee.label=7;case 7:return[3,9];case 8:return ee.sent(),ce(),[3,9];case 9:return[2]}})})}}),ve=function(Oe){var Be=Oe.onClose;return A?E?x.createElement(i0e,{liveEvent:A,onClose:Be}):x.createElement(d0e,{liveEvent:A,onClose:Be}):x.createElement("div",{className:"sendbirdlive-app__no-event"},x.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),x.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),x.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:V},"Create"))};return x.createElement(rle,{userId:t,appId:r,nickname:i,accessToken:o,customApiHost:u,customWebSocketHost:c,theme:h,colorSet:f,stringSet:v},x.createElement("div",{className:"sendbirdlive-app__wrapper"},x.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!E&&x.createElement(lle,Ou({},Se))),x.createElement(he,null,x.createElement(m0e,{liveEvent:A,onClose:He})),x.createElement(le,null,x.createElement(p0e,{liveEventId:D,onClose:function(Oe,Be){q(Oe),Oe&&Be&&k(!0),ye()}})),x.createElement(z,null,x.createElement(Tpe,{onClose:function(Oe){q(Oe),Oe!=null&&Oe.isHost&&k(!0),W()}})),x.createElement(ve,{onClose:function(){k(!1),q(void 0)}})))}function v0e(){const[e,n]=U.exports.useState(""),[t,r]=U.exports.useState(""),[i,o]=U.exports.useState(""),[u,c]=U.exports.useState(!1),h=new URLSearchParams(hne().search);return U.exports.useEffect(()=>{let f={};const v=h.get("q");if(v)try{f=JSON.parse(atob(v)),f.app_id&&n(f.app_id),f.user_id&&r(f.user_id),f.access_token&&o(f.access_token),c(!0)}catch{console.error("incorrect auth query")}},[]),is("div",{className:"App",children:u?is(g0e,{appId:e,userId:t,nickname:t,accessToken:i||null}):dD("div",{className:"login-panel",children:[is("img",{src:"./logo.png",className:"logo"}),dD("div",{className:"login-form",children:[is("div",{className:"section",children:"Application ID"}),is("input",{type:"text",className:"input",placeholder:"Application ID",value:e,onChange:f=>n(f.target.value)}),is("div",{className:"section",children:"User ID"}),is("input",{type:"text",className:"input",placeholder:"User ID",value:t,onChange:f=>r(f.target.value)}),is("div",{className:"section",children:"Access token (optional)"}),is("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:i,onChange:f=>o(f.target.value)}),is("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>c(!0)})]}),is("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}zE.createRoot(document.getElementById("root")).render(is(x.StrictMode,{children:is(v0e,{})}));
