(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function eJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=Symbol.for("react.element"),nJ=Symbol.for("react.portal"),tJ=Symbol.for("react.fragment"),rJ=Symbol.for("react.strict_mode"),iJ=Symbol.for("react.profiler"),aJ=Symbol.for("react.provider"),sJ=Symbol.for("react.context"),oJ=Symbol.for("react.forward_ref"),lJ=Symbol.for("react.suspense"),uJ=Symbol.for("react.memo"),cJ=Symbol.for("react.lazy"),GT=Symbol.iterator;function dJ(e){return e===null||typeof e!="object"?null:(e=GT&&e[GT]||e["@@iterator"],typeof e=="function"?e:null)}var wA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CA=Object.assign,xA={};function qd(e,n,t){this.props=e,this.context=n,this.refs=xA,this.updater=t||wA}qd.prototype.isReactComponent={};qd.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};qd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SA(){}SA.prototype=qd.prototype;function Cw(e,n,t){this.props=e,this.context=n,this.refs=xA,this.updater=t||wA}var xw=Cw.prototype=new SA;xw.constructor=Cw;CA(xw,qd.prototype);xw.isPureReactComponent=!0;var jT=Array.isArray,IA=Object.prototype.hasOwnProperty,Sw={current:null},kA={key:!0,ref:!0,__self:!0,__source:!0};function TA(e,n,t){var r,i={},o=null,d=null;if(n!=null)for(r in n.ref!==void 0&&(d=n.ref),n.key!==void 0&&(o=""+n.key),n)IA.call(n,r)&&!kA.hasOwnProperty(r)&&(i[r]=n[r]);var h=arguments.length-2;if(h===1)i.children=t;else if(1<h){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];i.children=f}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:_f,type:e,key:o,ref:d,props:i,_owner:Sw.current}}function hJ(e,n){return{$$typeof:_f,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Iw(e){return typeof e=="object"&&e!==null&&e.$$typeof===_f}function pJ(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var zT=/\/+/g;function Iy(e,n){return typeof e=="object"&&e!==null&&e.key!=null?pJ(""+e.key):n.toString(36)}function Sv(e,n,t,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(o){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case _f:case nJ:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+Iy(d,0):r,jT(i)?(t="",e!=null&&(t=e.replace(zT,"$&/")+"/"),Sv(i,n,t,"",function(m){return m})):i!=null&&(Iw(i)&&(i=hJ(i,t+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(zT,"$&/")+"/")+e)),n.push(i)),1;if(d=0,r=r===""?".":r+":",jT(e))for(var h=0;h<e.length;h++){o=e[h];var f=r+Iy(o,h);d+=Sv(o,n,t,f,i)}else if(f=dJ(e),typeof f=="function")for(e=f.call(e),h=0;!(o=e.next()).done;)o=o.value,f=r+Iy(o,h++),d+=Sv(o,n,t,f,i);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}function Q0(e,n,t){if(e==null)return e;var r=[],i=0;return Sv(e,r,"","",function(o){return n.call(t,o,i++)}),r}function fJ(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ui={current:null},Iv={transition:null},vJ={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:Iv,ReactCurrentOwner:Sw};at.Children={map:Q0,forEach:function(e,n,t){Q0(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Q0(e,function(){n++}),n},toArray:function(e){return Q0(e,function(n){return n})||[]},only:function(e){if(!Iw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=qd;at.Fragment=tJ;at.Profiler=iJ;at.PureComponent=Cw;at.StrictMode=rJ;at.Suspense=lJ;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vJ;at.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=CA({},e.props),i=e.key,o=e.ref,d=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,d=Sw.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(f in n)IA.call(n,f)&&!kA.hasOwnProperty(f)&&(r[f]=n[f]===void 0&&h!==void 0?h[f]:n[f])}var f=arguments.length-2;if(f===1)r.children=t;else if(1<f){h=Array(f);for(var m=0;m<f;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:_f,type:e.type,key:i,ref:o,props:r,_owner:d}};at.createContext=function(e){return e={$$typeof:sJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aJ,_context:e},e.Consumer=e};at.createElement=TA;at.createFactory=function(e){var n=TA.bind(null,e);return n.type=e,n};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:oJ,render:e}};at.isValidElement=Iw;at.lazy=function(e){return{$$typeof:cJ,_payload:{_status:-1,_result:e},_init:fJ}};at.memo=function(e,n){return{$$typeof:uJ,type:e,compare:n===void 0?null:n}};at.startTransition=function(e){var n=Iv.transition;Iv.transition={};try{e()}finally{Iv.transition=n}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(e,n){return Ui.current.useCallback(e,n)};at.useContext=function(e){return Ui.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Ui.current.useDeferredValue(e)};at.useEffect=function(e,n){return Ui.current.useEffect(e,n)};at.useId=function(){return Ui.current.useId()};at.useImperativeHandle=function(e,n,t){return Ui.current.useImperativeHandle(e,n,t)};at.useInsertionEffect=function(e,n){return Ui.current.useInsertionEffect(e,n)};at.useLayoutEffect=function(e,n){return Ui.current.useLayoutEffect(e,n)};at.useMemo=function(e,n){return Ui.current.useMemo(e,n)};at.useReducer=function(e,n,t){return Ui.current.useReducer(e,n,t)};at.useRef=function(e){return Ui.current.useRef(e)};at.useState=function(e){return Ui.current.useState(e)};at.useSyncExternalStore=function(e,n,t){return Ui.current.useSyncExternalStore(e,n,t)};at.useTransition=function(){return Ui.current.useTransition()};at.version="18.2.0";(function(e){e.exports=at})(F);const S=eJ(F.exports);var N1={},Bd={exports:{}},Ia={},NA={exports:{}},OA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ge,Ae){var qe=ge.length;ge.push(Ae);e:for(;0<qe;){var J=qe-1>>>1,X=ge[J];if(0<i(X,Ae))ge[J]=Ae,ge[qe]=X,qe=J;else break e}}function t(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var Ae=ge[0],qe=ge.pop();if(qe!==Ae){ge[0]=qe;e:for(var J=0,X=ge.length,me=X>>>1;J<me;){var Ye=2*(J+1)-1,$e=ge[Ye],Ne=Ye+1,xe=ge[Ne];if(0>i($e,qe))Ne<X&&0>i(xe,$e)?(ge[J]=xe,ge[Ne]=qe,J=Ne):(ge[J]=$e,ge[Ye]=qe,J=Ye);else if(Ne<X&&0>i(xe,qe))ge[J]=xe,ge[Ne]=qe,J=Ne;else break e}}return Ae}function i(ge,Ae){var qe=ge.sortIndex-Ae.sortIndex;return qe!==0?qe:ge.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var f=[],m=[],_=1,y=null,w=3,C=!1,I=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ge){for(var Ae=t(m);Ae!==null;){if(Ae.callback===null)r(m);else if(Ae.startTime<=ge)r(m),Ae.sortIndex=Ae.expirationTime,n(f,Ae);else break;Ae=t(m)}}function $(ge){if(k=!1,H(ge),!I)if(t(f)!==null)I=!0,De(Q);else{var Ae=t(m);Ae!==null&&Ge($,Ae.startTime-ge)}}function Q(ge,Ae){I=!1,k&&(k=!1,T(K),K=-1),C=!0;var qe=w;try{for(H(Ae),y=t(f);y!==null&&(!(y.expirationTime>Ae)||ge&&!Se());){var J=y.callback;if(typeof J=="function"){y.callback=null,w=y.priorityLevel;var X=J(y.expirationTime<=Ae);Ae=e.unstable_now(),typeof X=="function"?y.callback=X:y===t(f)&&r(f),H(Ae)}else r(f);y=t(f)}if(y!==null)var me=!0;else{var Ye=t(m);Ye!==null&&Ge($,Ye.startTime-Ae),me=!1}return me}finally{y=null,w=qe,C=!1}}var P=!1,W=null,K=-1,he=5,le=-1;function Se(){return!(e.unstable_now()-le<he)}function Ce(){if(W!==null){var ge=e.unstable_now();le=ge;var Ae=!0;try{Ae=W(!0,ge)}finally{Ae?re():(P=!1,W=null)}}else P=!1}var re;if(typeof N=="function")re=function(){N(Ce)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,de=pe.port2;pe.port1.onmessage=Ce,re=function(){de.postMessage(null)}}else re=function(){U(Ce,0)};function De(ge){W=ge,P||(P=!0,re())}function Ge(ge,Ae){K=U(function(){ge(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){I||C||(I=!0,De(Q))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return t(f)},e.unstable_next=function(ge){switch(w){case 1:case 2:case 3:var Ae=3;break;default:Ae=w}var qe=w;w=Ae;try{return ge()}finally{w=qe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,Ae){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var qe=w;w=ge;try{return Ae()}finally{w=qe}},e.unstable_scheduleCallback=function(ge,Ae,qe){var J=e.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?J+qe:J):qe=J,ge){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=qe+X,ge={id:_++,callback:Ae,priorityLevel:ge,startTime:qe,expirationTime:X,sortIndex:-1},qe>J?(ge.sortIndex=qe,n(m,ge),t(f)===null&&ge===t(m)&&(k?(T(K),K=-1):k=!0,Ge($,qe-J))):(ge.sortIndex=X,n(f,ge),I||C||(I=!0,De(Q))),ge},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(ge){var Ae=w;return function(){var qe=w;w=Ae;try{return ge.apply(this,arguments)}finally{w=qe}}}})(OA);(function(e){e.exports=OA})(NA);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=F.exports,wa=NA.exports;function je(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RA=new Set,Bp={};function Xu(e,n){Cd(e,n),Cd(e+"Capture",n)}function Cd(e,n){for(Bp[e]=n,e=0;e<n.length;e++)RA.add(n[e])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O1=Object.prototype.hasOwnProperty,mJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VT={},KT={};function gJ(e){return O1.call(KT,e)?!0:O1.call(VT,e)?!1:mJ.test(e)?KT[e]=!0:(VT[e]=!0,!1)}function _J(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bJ(e,n,t,r){if(n===null||typeof n>"u"||_J(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Li(e,n,t,r,i,o,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=d}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ti[e]=new Li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];ti[n]=new Li(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ti[e]=new Li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ti[e]=new Li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ti[e]=new Li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ti[e]=new Li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ti[e]=new Li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ti[e]=new Li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ti[e]=new Li(e,5,!1,e.toLowerCase(),null,!1,!1)});var kw=/[\-:]([a-z])/g;function Tw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(kw,Tw);ti[n]=new Li(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(kw,Tw);ti[n]=new Li(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(kw,Tw);ti[n]=new Li(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ti[e]=new Li(e,1,!1,e.toLowerCase(),null,!1,!1)});ti.xlinkHref=new Li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ti[e]=new Li(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nw(e,n,t,r){var i=ti.hasOwnProperty(n)?ti[n]:null;(i!==null?i.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(bJ(n,t,i,r)&&(t=null),r||i===null?gJ(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Ao=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y0=Symbol.for("react.element"),ed=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),MA=Symbol.for("react.provider"),DA=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),M1=Symbol.for("react.suspense_list"),Rw=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),UA=Symbol.for("react.offscreen"),WT=Symbol.iterator;function Jh(e){return e===null||typeof e!="object"?null:(e=WT&&e[WT]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,ky;function vp(e){if(ky===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);ky=n&&n[1]||""}return`
`+ky+e}var Ty=!1;function Ny(e,n){if(!e||Ty)return"";Ty=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var r=m}Reflect.construct(e,[],n)}else{try{n.call()}catch(m){r=m}e.call(n.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=r.stack.split(`
`),d=i.length-1,h=o.length-1;1<=d&&0<=h&&i[d]!==o[h];)h--;for(;1<=d&&0<=h;d--,h--)if(i[d]!==o[h]){if(d!==1||h!==1)do if(d--,h--,0>h||i[d]!==o[h]){var f=`
`+i[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=h);break}}}finally{Ty=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?vp(e):""}function yJ(e){switch(e.tag){case 5:return vp(e.type);case 16:return vp("Lazy");case 13:return vp("Suspense");case 19:return vp("SuspenseList");case 0:case 2:case 15:return e=Ny(e.type,!1),e;case 11:return e=Ny(e.type.render,!1),e;case 1:return e=Ny(e.type,!0),e;default:return""}}function D1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case ed:return"Portal";case A1:return"Profiler";case Ow:return"StrictMode";case R1:return"Suspense";case M1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DA:return(e.displayName||"Context")+".Consumer";case MA:return(e._context.displayName||"Context")+".Provider";case Aw:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rw:return n=e.displayName||null,n!==null?n:D1(e.type)||"Memo";case ul:n=e._payload,e=e._init;try{return D1(e(n))}catch{}}return null}function EJ(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D1(n);case 8:return n===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ol(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LA(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wJ(e){var n=LA(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,o.call(this,d)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function X0(e){e._valueTracker||(e._valueTracker=wJ(e))}function PA(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=LA(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function Wv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U1(e,n){var t=n.checked;return ir({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:e._wrapperState.initialChecked})}function QT(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=Ol(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function $A(e,n){n=n.checked,n!=null&&Nw(e,"checked",n,!1)}function L1(e,n){$A(e,n);var t=Ol(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?P1(e,n.type,t):n.hasOwnProperty("defaultValue")&&P1(e,n.type,Ol(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function YT(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function P1(e,n,t){(n!=="number"||Wv(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var mp=Array.isArray;function vd(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Ol(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function $1(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(je(91));return ir({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XT(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(je(92));if(mp(t)){if(1<t.length)throw Error(je(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:Ol(t)}}function FA(e,n){var t=Ol(n.value),r=Ol(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function JT(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function HA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F1(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?HA(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var J0,qA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(J0=J0||document.createElement("div"),J0.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=J0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Gp(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CJ=["Webkit","ms","Moz","O"];Object.keys(Cp).forEach(function(e){CJ.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Cp[n]=Cp[e]})});function BA(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Cp.hasOwnProperty(e)&&Cp[e]?(""+n).trim():n+"px"}function GA(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=BA(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var xJ=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H1(e,n){if(n){if(xJ[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(je(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(je(61))}if(n.style!=null&&typeof n.style!="object")throw Error(je(62))}}function q1(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B1=null;function Mw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G1=null,md=null,gd=null;function ZT(e){if(e=Ef(e)){if(typeof G1!="function")throw Error(je(280));var n=e.stateNode;n&&(n=jm(n),G1(e.stateNode,e.type,n))}}function jA(e){md?gd?gd.push(e):gd=[e]:md=e}function zA(){if(md){var e=md,n=gd;if(gd=md=null,ZT(e),n)for(e=0;e<n.length;e++)ZT(n[e])}}function VA(e,n){return e(n)}function KA(){}var Oy=!1;function WA(e,n,t){if(Oy)return e(n,t);Oy=!0;try{return VA(e,n,t)}finally{Oy=!1,(md!==null||gd!==null)&&(KA(),zA())}}function jp(e,n){var t=e.stateNode;if(t===null)return null;var r=jm(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(je(231,n,typeof t));return t}var j1=!1;if(ko)try{var Zh={};Object.defineProperty(Zh,"passive",{get:function(){j1=!0}}),window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{j1=!1}function SJ(e,n,t,r,i,o,d,h,f){var m=Array.prototype.slice.call(arguments,3);try{n.apply(t,m)}catch(_){this.onError(_)}}var xp=!1,Qv=null,Yv=!1,z1=null,IJ={onError:function(e){xp=!0,Qv=e}};function kJ(e,n,t,r,i,o,d,h,f){xp=!1,Qv=null,SJ.apply(IJ,arguments)}function TJ(e,n,t,r,i,o,d,h,f){if(kJ.apply(this,arguments),xp){if(xp){var m=Qv;xp=!1,Qv=null}else throw Error(je(198));Yv||(Yv=!0,z1=m)}}function Ju(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function QA(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function eN(e){if(Ju(e)!==e)throw Error(je(188))}function NJ(e){var n=e.alternate;if(!n){if(n=Ju(e),n===null)throw Error(je(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return eN(i),e;if(o===r)return eN(i),n;o=o.sibling}throw Error(je(188))}if(t.return!==r.return)t=i,r=o;else{for(var d=!1,h=i.child;h;){if(h===t){d=!0,t=i,r=o;break}if(h===r){d=!0,r=i,t=o;break}h=h.sibling}if(!d){for(h=o.child;h;){if(h===t){d=!0,t=o,r=i;break}if(h===r){d=!0,r=o,t=i;break}h=h.sibling}if(!d)throw Error(je(189))}}if(t.alternate!==r)throw Error(je(190))}if(t.tag!==3)throw Error(je(188));return t.stateNode.current===t?e:n}function YA(e){return e=NJ(e),e!==null?XA(e):null}function XA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=XA(e);if(n!==null)return n;e=e.sibling}return null}var JA=wa.unstable_scheduleCallback,nN=wa.unstable_cancelCallback,OJ=wa.unstable_shouldYield,AJ=wa.unstable_requestPaint,pr=wa.unstable_now,RJ=wa.unstable_getCurrentPriorityLevel,Dw=wa.unstable_ImmediatePriority,ZA=wa.unstable_UserBlockingPriority,Xv=wa.unstable_NormalPriority,MJ=wa.unstable_LowPriority,eR=wa.unstable_IdlePriority,Hm=null,Hs=null;function DJ(e){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Hm,e,void 0,(e.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:PJ,UJ=Math.log,LJ=Math.LN2;function PJ(e){return e>>>=0,e===0?32:31-(UJ(e)/LJ|0)|0}var Z0=64,ev=4194304;function gp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jv(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,d=t&268435455;if(d!==0){var h=d&~i;h!==0?r=gp(h):(o&=d,o!==0&&(r=gp(o)))}else d=t&~i,d!==0?r=gp(d):o!==0&&(r=gp(o));if(r===0)return 0;if(n!==0&&n!==r&&(n&i)===0&&(i=r&-r,o=n&-n,i>=o||i===16&&(o&4194240)!==0))return n;if((r&4)!==0&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-cs(n),i=1<<t,r|=e[t],n&=~i;return r}function $J(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FJ(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-cs(o),h=1<<d,f=i[d];f===-1?((h&t)===0||(h&r)!==0)&&(i[d]=$J(h,n)):f<=n&&(e.expiredLanes|=h),o&=~h}}function V1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nR(){var e=Z0;return Z0<<=1,(Z0&4194240)===0&&(Z0=64),e}function Ay(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function bf(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-cs(n),e[n]=t}function HJ(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var i=31-cs(t),o=1<<i;n[i]=0,r[i]=-1,e[i]=-1,t&=~o}}function Uw(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-cs(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}var It=0;function tR(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var rR,Lw,iR,aR,sR,K1=!1,nv=[],bl=null,yl=null,El=null,zp=new Map,Vp=new Map,dl=[],qJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tN(e,n){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":zp.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vp.delete(n.pointerId)}}function ep(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},n!==null&&(n=Ef(n),n!==null&&Lw(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function BJ(e,n,t,r,i){switch(n){case"focusin":return bl=ep(bl,e,n,t,r,i),!0;case"dragenter":return yl=ep(yl,e,n,t,r,i),!0;case"mouseover":return El=ep(El,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return zp.set(o,ep(zp.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vp.set(o,ep(Vp.get(o)||null,e,n,t,r,i)),!0}return!1}function oR(e){var n=ku(e.target);if(n!==null){var t=Ju(n);if(t!==null){if(n=t.tag,n===13){if(n=QA(t),n!==null){e.blockedOn=n,sR(e.priority,function(){iR(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kv(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=W1(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);B1=r,t.target.dispatchEvent(r),B1=null}else return n=Ef(t),n!==null&&Lw(n),e.blockedOn=t,!1;n.shift()}return!0}function rN(e,n,t){kv(e)&&t.delete(n)}function GJ(){K1=!1,bl!==null&&kv(bl)&&(bl=null),yl!==null&&kv(yl)&&(yl=null),El!==null&&kv(El)&&(El=null),zp.forEach(rN),Vp.forEach(rN)}function np(e,n){e.blockedOn===n&&(e.blockedOn=null,K1||(K1=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,GJ)))}function Kp(e){function n(i){return np(i,e)}if(0<nv.length){np(nv[0],e);for(var t=1;t<nv.length;t++){var r=nv[t];r.blockedOn===e&&(r.blockedOn=null)}}for(bl!==null&&np(bl,e),yl!==null&&np(yl,e),El!==null&&np(El,e),zp.forEach(n),Vp.forEach(n),t=0;t<dl.length;t++)r=dl[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<dl.length&&(t=dl[0],t.blockedOn===null);)oR(t),t.blockedOn===null&&dl.shift()}var _d=Ao.ReactCurrentBatchConfig,Zv=!0;function jJ(e,n,t,r){var i=It,o=_d.transition;_d.transition=null;try{It=1,Pw(e,n,t,r)}finally{It=i,_d.transition=o}}function zJ(e,n,t,r){var i=It,o=_d.transition;_d.transition=null;try{It=4,Pw(e,n,t,r)}finally{It=i,_d.transition=o}}function Pw(e,n,t,r){if(Zv){var i=W1(e,n,t,r);if(i===null)qy(e,n,r,em,t),tN(e,r);else if(BJ(i,e,n,t,r))r.stopPropagation();else if(tN(e,r),n&4&&-1<qJ.indexOf(e)){for(;i!==null;){var o=Ef(i);if(o!==null&&rR(o),o=W1(e,n,t,r),o===null&&qy(e,n,r,em,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else qy(e,n,r,null,t)}}var em=null;function W1(e,n,t,r){if(em=null,e=Mw(r),e=ku(e),e!==null)if(n=Ju(e),n===null)e=null;else if(t=n.tag,t===13){if(e=QA(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return em=e,null}function lR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RJ()){case Dw:return 1;case ZA:return 4;case Xv:case MJ:return 16;case eR:return 536870912;default:return 16}default:return 16}}var pl=null,$w=null,Tv=null;function uR(){if(Tv)return Tv;var e,n=$w,t=n.length,r,i="value"in pl?pl.value:pl.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var d=t-e;for(r=1;r<=d&&n[t-r]===i[o-r];r++);return Tv=i.slice(e,1<r?1-r:void 0)}function Nv(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function tv(){return!0}function iN(){return!1}function ka(e){function n(t,r,i,o,d){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(t=e[h],this[h]=t?t(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tv:iN,this.isPropagationStopped=iN,this}return ir(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tv)},persist:function(){},isPersistent:tv}),n}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fw=ka(Gd),yf=ir({},Gd,{view:0,detail:0}),VJ=ka(yf),Ry,My,tp,qm=ir({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tp&&(tp&&e.type==="mousemove"?(Ry=e.screenX-tp.screenX,My=e.screenY-tp.screenY):My=Ry=0,tp=e),Ry)},movementY:function(e){return"movementY"in e?e.movementY:My}}),aN=ka(qm),KJ=ir({},qm,{dataTransfer:0}),WJ=ka(KJ),QJ=ir({},yf,{relatedTarget:0}),Dy=ka(QJ),YJ=ir({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),XJ=ka(YJ),JJ=ir({},Gd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZJ=ka(JJ),eZ=ir({},Gd,{data:0}),sN=ka(eZ),nZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iZ(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rZ[e])?!!n[e]:!1}function Hw(){return iZ}var aZ=ir({},yf,{key:function(e){if(e.key){var n=nZ[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(e){return e.type==="keypress"?Nv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sZ=ka(aZ),oZ=ir({},qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oN=ka(oZ),lZ=ir({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),uZ=ka(lZ),cZ=ir({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dZ=ka(cZ),hZ=ir({},qm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pZ=ka(hZ),fZ=[9,13,27,32],qw=ko&&"CompositionEvent"in window,Sp=null;ko&&"documentMode"in document&&(Sp=document.documentMode);var vZ=ko&&"TextEvent"in window&&!Sp,cR=ko&&(!qw||Sp&&8<Sp&&11>=Sp),lN=String.fromCharCode(32),uN=!1;function dR(e,n){switch(e){case"keyup":return fZ.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var td=!1;function mZ(e,n){switch(e){case"compositionend":return hR(n);case"keypress":return n.which!==32?null:(uN=!0,lN);case"textInput":return e=n.data,e===lN&&uN?null:e;default:return null}}function gZ(e,n){if(td)return e==="compositionend"||!qw&&dR(e,n)?(e=uR(),Tv=$w=pl=null,td=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cR&&n.locale!=="ko"?null:n.data;default:return null}}var _Z={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cN(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_Z[e.type]:n==="textarea"}function pR(e,n,t,r){jA(r),n=nm(n,"onChange"),0<n.length&&(t=new Fw("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ip=null,Wp=null;function bZ(e){xR(e,0)}function Bm(e){var n=ad(e);if(PA(n))return e}function yZ(e,n){if(e==="change")return n}var fR=!1;if(ko){var Uy;if(ko){var Ly="oninput"in document;if(!Ly){var dN=document.createElement("div");dN.setAttribute("oninput","return;"),Ly=typeof dN.oninput=="function"}Uy=Ly}else Uy=!1;fR=Uy&&(!document.documentMode||9<document.documentMode)}function hN(){Ip&&(Ip.detachEvent("onpropertychange",vR),Wp=Ip=null)}function vR(e){if(e.propertyName==="value"&&Bm(Wp)){var n=[];pR(n,Wp,e,Mw(e)),WA(bZ,n)}}function EZ(e,n,t){e==="focusin"?(hN(),Ip=n,Wp=t,Ip.attachEvent("onpropertychange",vR)):e==="focusout"&&hN()}function wZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bm(Wp)}function CZ(e,n){if(e==="click")return Bm(n)}function xZ(e,n){if(e==="input"||e==="change")return Bm(n)}function SZ(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ps=typeof Object.is=="function"?Object.is:SZ;function Qp(e,n){if(ps(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!O1.call(n,i)||!ps(e[i],n[i]))return!1}return!0}function pN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fN(e,n){var t=pN(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=pN(t)}}function mR(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mR(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gR(){for(var e=window,n=Wv();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=Wv(e.document)}return n}function Bw(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function IZ(e){var n=gR(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&mR(t.ownerDocument.documentElement,t)){if(r!==null&&Bw(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=fN(t,o);var d=fN(t,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(d.node,d.offset)):(n.setEnd(d.node,d.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kZ=ko&&"documentMode"in document&&11>=document.documentMode,rd=null,Q1=null,kp=null,Y1=!1;function vN(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Y1||rd==null||rd!==Wv(r)||(r=rd,"selectionStart"in r&&Bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kp&&Qp(kp,r)||(kp=r,r=nm(Q1,"onSelect"),0<r.length&&(n=new Fw("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=rd)))}function rv(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var id={animationend:rv("Animation","AnimationEnd"),animationiteration:rv("Animation","AnimationIteration"),animationstart:rv("Animation","AnimationStart"),transitionend:rv("Transition","TransitionEnd")},Py={},_R={};ko&&(_R=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function Gm(e){if(Py[e])return Py[e];if(!id[e])return e;var n=id[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in _R)return Py[e]=n[t];return e}var bR=Gm("animationend"),yR=Gm("animationiteration"),ER=Gm("animationstart"),wR=Gm("transitionend"),CR=new Map,mN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(e,n){CR.set(e,n),Xu(n,[e])}for(var $y=0;$y<mN.length;$y++){var Fy=mN[$y],TZ=Fy.toLowerCase(),NZ=Fy[0].toUpperCase()+Fy.slice(1);$l(TZ,"on"+NZ)}$l(bR,"onAnimationEnd");$l(yR,"onAnimationIteration");$l(ER,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(wR,"onTransitionEnd");Cd("onMouseEnter",["mouseout","mouseover"]);Cd("onMouseLeave",["mouseout","mouseover"]);Cd("onPointerEnter",["pointerout","pointerover"]);Cd("onPointerLeave",["pointerout","pointerover"]);Xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(_p));function gN(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,TJ(r,n,void 0,e),e.currentTarget=null}function xR(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var d=r.length-1;0<=d;d--){var h=r[d],f=h.instance,m=h.currentTarget;if(h=h.listener,f!==o&&i.isPropagationStopped())break e;gN(i,h,m),o=f}else for(d=0;d<r.length;d++){if(h=r[d],f=h.instance,m=h.currentTarget,h=h.listener,f!==o&&i.isPropagationStopped())break e;gN(i,h,m),o=f}}}if(Yv)throw e=z1,Yv=!1,z1=null,e}function Vt(e,n){var t=n[nE];t===void 0&&(t=n[nE]=new Set);var r=e+"__bubble";t.has(r)||(SR(n,e,2,!1),t.add(r))}function Hy(e,n,t){var r=0;n&&(r|=4),SR(t,e,r,n)}var iv="_reactListening"+Math.random().toString(36).slice(2);function Yp(e){if(!e[iv]){e[iv]=!0,RA.forEach(function(t){t!=="selectionchange"&&(OZ.has(t)||Hy(t,!1,e),Hy(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[iv]||(n[iv]=!0,Hy("selectionchange",!1,n))}}function SR(e,n,t,r){switch(lR(n)){case 1:var i=jJ;break;case 4:i=zJ;break;default:i=Pw}t=i.bind(null,n,t,e),i=void 0,!j1||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function qy(e,n,t,r,i){var o=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;d=d.return}for(;h!==null;){if(d=ku(h),d===null)return;if(f=d.tag,f===5||f===6){r=o=d;continue e}h=h.parentNode}}r=r.return}WA(function(){var m=o,_=Mw(t),y=[];e:{var w=CR.get(e);if(w!==void 0){var C=Fw,I=e;switch(e){case"keypress":if(Nv(t)===0)break e;case"keydown":case"keyup":C=sZ;break;case"focusin":I="focus",C=Dy;break;case"focusout":I="blur",C=Dy;break;case"beforeblur":case"afterblur":C=Dy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=aN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=WJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=uZ;break;case bR:case yR:case ER:C=XJ;break;case wR:C=dZ;break;case"scroll":C=VJ;break;case"wheel":C=pZ;break;case"copy":case"cut":case"paste":C=ZJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=oN}var k=(n&4)!==0,U=!k&&e==="scroll",T=k?w!==null?w+"Capture":null:w;k=[];for(var N=m,H;N!==null;){H=N;var $=H.stateNode;if(H.tag===5&&$!==null&&(H=$,T!==null&&($=jp(N,T),$!=null&&k.push(Xp(N,$,H)))),U)break;N=N.return}0<k.length&&(w=new C(w,I,null,t,_),y.push({event:w,listeners:k}))}}if((n&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",w&&t!==B1&&(I=t.relatedTarget||t.fromElement)&&(ku(I)||I[To]))break e;if((C||w)&&(w=_.window===_?_:(w=_.ownerDocument)?w.defaultView||w.parentWindow:window,C?(I=t.relatedTarget||t.toElement,C=m,I=I?ku(I):null,I!==null&&(U=Ju(I),I!==U||I.tag!==5&&I.tag!==6)&&(I=null)):(C=null,I=m),C!==I)){if(k=aN,$="onMouseLeave",T="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(k=oN,$="onPointerLeave",T="onPointerEnter",N="pointer"),U=C==null?w:ad(C),H=I==null?w:ad(I),w=new k($,N+"leave",C,t,_),w.target=U,w.relatedTarget=H,$=null,ku(_)===m&&(k=new k(T,N+"enter",I,t,_),k.target=H,k.relatedTarget=U,$=k),U=$,C&&I)n:{for(k=C,T=I,N=0,H=k;H;H=Kc(H))N++;for(H=0,$=T;$;$=Kc($))H++;for(;0<N-H;)k=Kc(k),N--;for(;0<H-N;)T=Kc(T),H--;for(;N--;){if(k===T||T!==null&&k===T.alternate)break n;k=Kc(k),T=Kc(T)}k=null}else k=null;C!==null&&_N(y,w,C,k,!1),I!==null&&U!==null&&_N(y,U,I,k,!0)}}e:{if(w=m?ad(m):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var Q=yZ;else if(cN(w))if(fR)Q=xZ;else{Q=wZ;var P=EZ}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(Q=CZ);if(Q&&(Q=Q(e,m))){pR(y,Q,t,_);break e}P&&P(e,w,m),e==="focusout"&&(P=w._wrapperState)&&P.controlled&&w.type==="number"&&P1(w,"number",w.value)}switch(P=m?ad(m):window,e){case"focusin":(cN(P)||P.contentEditable==="true")&&(rd=P,Q1=m,kp=null);break;case"focusout":kp=Q1=rd=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,vN(y,t,_);break;case"selectionchange":if(kZ)break;case"keydown":case"keyup":vN(y,t,_)}var W;if(qw)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else td?dR(e,t)&&(K="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(K="onCompositionStart");K&&(cR&&t.locale!=="ko"&&(td||K!=="onCompositionStart"?K==="onCompositionEnd"&&td&&(W=uR()):(pl=_,$w="value"in pl?pl.value:pl.textContent,td=!0)),P=nm(m,K),0<P.length&&(K=new sN(K,e,null,t,_),y.push({event:K,listeners:P}),W?K.data=W:(W=hR(t),W!==null&&(K.data=W)))),(W=vZ?mZ(e,t):gZ(e,t))&&(m=nm(m,"onBeforeInput"),0<m.length&&(_=new sN("onBeforeInput","beforeinput",null,t,_),y.push({event:_,listeners:m}),_.data=W))}xR(y,n)})}function Xp(e,n,t){return{instance:e,listener:n,currentTarget:t}}function nm(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=jp(e,t),o!=null&&r.unshift(Xp(e,o,i)),o=jp(e,n),o!=null&&r.push(Xp(e,o,i))),e=e.return}return r}function Kc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _N(e,n,t,r,i){for(var o=n._reactName,d=[];t!==null&&t!==r;){var h=t,f=h.alternate,m=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&m!==null&&(h=m,i?(f=jp(t,o),f!=null&&d.unshift(Xp(t,f,h))):i||(f=jp(t,o),f!=null&&d.push(Xp(t,f,h)))),t=t.return}d.length!==0&&e.push({event:n,listeners:d})}var AZ=/\r\n?/g,RZ=/\u0000|\uFFFD/g;function bN(e){return(typeof e=="string"?e:""+e).replace(AZ,`
`).replace(RZ,"")}function av(e,n,t){if(n=bN(n),bN(e)!==n&&t)throw Error(je(425))}function tm(){}var X1=null,J1=null;function Z1(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var eE=typeof setTimeout=="function"?setTimeout:void 0,MZ=typeof clearTimeout=="function"?clearTimeout:void 0,yN=typeof Promise=="function"?Promise:void 0,DZ=typeof queueMicrotask=="function"?queueMicrotask:typeof yN<"u"?function(e){return yN.resolve(null).then(e).catch(UZ)}:eE;function UZ(e){setTimeout(function(){throw e})}function By(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){e.removeChild(i),Kp(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Kp(n)}function wl(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function EN(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Ps="__reactFiber$"+jd,Jp="__reactProps$"+jd,To="__reactContainer$"+jd,nE="__reactEvents$"+jd,LZ="__reactListeners$"+jd,PZ="__reactHandles$"+jd;function ku(e){var n=e[Ps];if(n)return n;for(var t=e.parentNode;t;){if(n=t[To]||t[Ps]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=EN(e);e!==null;){if(t=e[Ps])return t;e=EN(e)}return n}e=t,t=e.parentNode}return null}function Ef(e){return e=e[Ps]||e[To],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ad(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function jm(e){return e[Jp]||null}var tE=[],sd=-1;function Fl(e){return{current:e}}function Kt(e){0>sd||(e.current=tE[sd],tE[sd]=null,sd--)}function Bt(e,n){sd++,tE[sd]=e.current,e.current=n}var Al={},yi=Fl(Al),ra=Fl(!1),Bu=Al;function xd(e,n){var t=e.type.contextTypes;if(!t)return Al;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function ia(e){return e=e.childContextTypes,e!=null}function rm(){Kt(ra),Kt(yi)}function wN(e,n,t){if(yi.current!==Al)throw Error(je(168));Bt(yi,n),Bt(ra,t)}function IR(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(je(108,EJ(e)||"Unknown",i));return ir({},t,r)}function im(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Al,Bu=yi.current,Bt(yi,e),Bt(ra,ra.current),!0}function CN(e,n,t){var r=e.stateNode;if(!r)throw Error(je(169));t?(e=IR(e,n,Bu),r.__reactInternalMemoizedMergedChildContext=e,Kt(ra),Kt(yi),Bt(yi,e)):Kt(ra),Bt(ra,t)}var co=null,zm=!1,Gy=!1;function kR(e){co===null?co=[e]:co.push(e)}function $Z(e){zm=!0,kR(e)}function Hl(){if(!Gy&&co!==null){Gy=!0;var e=0,n=It;try{var t=co;for(It=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}co=null,zm=!1}catch(i){throw co!==null&&(co=co.slice(e+1)),JA(Dw,Hl),i}finally{It=n,Gy=!1}}return null}var od=[],ld=0,am=null,sm=0,Ua=[],La=0,Gu=null,yo=1,Eo="";function _u(e,n){od[ld++]=sm,od[ld++]=am,am=e,sm=n}function TR(e,n,t){Ua[La++]=yo,Ua[La++]=Eo,Ua[La++]=Gu,Gu=e;var r=yo;e=Eo;var i=32-cs(r)-1;r&=~(1<<i),t+=1;var o=32-cs(n)+i;if(30<o){var d=i-i%5;o=(r&(1<<d)-1).toString(32),r>>=d,i-=d,yo=1<<32-cs(n)+i|t<<i|r,Eo=o+e}else yo=1<<o|t<<i|r,Eo=e}function Gw(e){e.return!==null&&(_u(e,1),TR(e,1,0))}function jw(e){for(;e===am;)am=od[--ld],od[ld]=null,sm=od[--ld],od[ld]=null;for(;e===Gu;)Gu=Ua[--La],Ua[La]=null,Eo=Ua[--La],Ua[La]=null,yo=Ua[--La],Ua[La]=null}var Ea=null,ya=null,Jt=!1,os=null;function NR(e,n){var t=Fa(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function xN(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ea=e,ya=wl(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ea=e,ya=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=Gu!==null?{id:yo,overflow:Eo}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Fa(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,Ea=e,ya=null,!0):!1;default:return!1}}function rE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iE(e){if(Jt){var n=ya;if(n){var t=n;if(!xN(e,n)){if(rE(e))throw Error(je(418));n=wl(t.nextSibling);var r=Ea;n&&xN(e,n)?NR(r,t):(e.flags=e.flags&-4097|2,Jt=!1,Ea=e)}}else{if(rE(e))throw Error(je(418));e.flags=e.flags&-4097|2,Jt=!1,Ea=e}}}function SN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ea=e}function sv(e){if(e!==Ea)return!1;if(!Jt)return SN(e),Jt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Z1(e.type,e.memoizedProps)),n&&(n=ya)){if(rE(e))throw OR(),Error(je(418));for(;n;)NR(e,n),n=wl(n.nextSibling)}if(SN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){ya=wl(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}ya=null}}else ya=Ea?wl(e.stateNode.nextSibling):null;return!0}function OR(){for(var e=ya;e;)e=wl(e.nextSibling)}function Sd(){ya=Ea=null,Jt=!1}function zw(e){os===null?os=[e]:os.push(e)}var FZ=Ao.ReactCurrentBatchConfig;function is(e,n){if(e&&e.defaultProps){n=ir({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}var om=Fl(null),lm=null,ud=null,Vw=null;function Kw(){Vw=ud=lm=null}function Ww(e){var n=om.current;Kt(om),e._currentValue=n}function aE(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function bd(e,n){lm=e,Vw=ud=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(na=!0),e.firstContext=null)}function Va(e){var n=e._currentValue;if(Vw!==e)if(e={context:e,memoizedValue:n,next:null},ud===null){if(lm===null)throw Error(je(308));ud=e,lm.dependencies={lanes:0,firstContext:e}}else ud=ud.next=e;return n}var Tu=null;function Qw(e){Tu===null?Tu=[e]:Tu.push(e)}function AR(e,n,t,r){var i=n.interleaved;return i===null?(t.next=t,Qw(n)):(t.next=i.next,i.next=t),n.interleaved=t,No(e,r)}function No(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var cl=!1;function Yw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RR(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xo(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cl(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ft&2)!==0){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,No(e,t)}return i=r.interleaved,i===null?(n.next=n,Qw(r)):(n.next=i.next,i.next=n),r.interleaved=n,No(e,t)}function Ov(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Uw(e,t)}}function IN(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=d:o=o.next=d,t=t.next}while(t!==null);o===null?i=o=n:o=o.next=n}else i=o=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function um(e,n,t,r){var i=e.updateQueue;cl=!1;var o=i.firstBaseUpdate,d=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var f=h,m=f.next;f.next=null,d===null?o=m:d.next=m,d=f;var _=e.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==d&&(h===null?_.firstBaseUpdate=m:h.next=m,_.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;d=0,_=m=f=null,h=o;do{var w=h.lane,C=h.eventTime;if((r&w)===w){_!==null&&(_=_.next={eventTime:C,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var I=e,k=h;switch(w=n,C=t,k.tag){case 1:if(I=k.payload,typeof I=="function"){y=I.call(C,y,w);break e}y=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=k.payload,w=typeof I=="function"?I.call(C,y,w):I,w==null)break e;y=ir({},y,w);break e;case 2:cl=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[h]:w.push(h))}else C={eventTime:C,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(m=_=C,f=y):_=_.next=C,d|=w;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;w=h,h=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(1);if(_===null&&(f=y),i.baseState=f,i.firstBaseUpdate=m,i.lastBaseUpdate=_,n=i.shared.interleaved,n!==null){i=n;do d|=i.lane,i=i.next;while(i!==n)}else o===null&&(i.shared.lanes=0);zu|=d,e.lanes=d,e.memoizedState=y}}function kN(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var MR=new AA.Component().refs;function sE(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:ir({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Vm={isMounted:function(e){return(e=e._reactInternals)?Ju(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Ri(),i=Sl(e),o=xo(r,i);o.payload=n,t!=null&&(o.callback=t),n=Cl(e,o,i),n!==null&&(ds(n,e,i,r),Ov(n,e,i))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Ri(),i=Sl(e),o=xo(r,i);o.tag=1,o.payload=n,t!=null&&(o.callback=t),n=Cl(e,o,i),n!==null&&(ds(n,e,i,r),Ov(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Ri(),r=Sl(e),i=xo(t,r);i.tag=2,n!=null&&(i.callback=n),n=Cl(e,i,r),n!==null&&(ds(n,e,r,t),Ov(n,e,r))}};function TN(e,n,t,r,i,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,d):n.prototype&&n.prototype.isPureReactComponent?!Qp(t,r)||!Qp(i,o):!0}function DR(e,n,t){var r=!1,i=Al,o=n.contextType;return typeof o=="object"&&o!==null?o=Va(o):(i=ia(n)?Bu:yi.current,r=n.contextTypes,o=(r=r!=null)?xd(e,i):Al),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vm,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function NN(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Vm.enqueueReplaceState(n,n.state,null)}function oE(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=MR,Yw(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=Va(o):(o=ia(n)?Bu:yi.current,i.context=xd(e,o)),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(sE(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Vm.enqueueReplaceState(i,i.state,null),um(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rp(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(je(309));var r=t.stateNode}if(!r)throw Error(je(147,e));var i=r,o=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(d){var h=i.refs;h===MR&&(h=i.refs={}),d===null?delete h[o]:h[o]=d},n._stringRef=o,n)}if(typeof e!="string")throw Error(je(284));if(!t._owner)throw Error(je(290,e))}return e}function ov(e,n){throw e=Object.prototype.toString.call(n),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ON(e){var n=e._init;return n(e._payload)}function UR(e){function n(T,N){if(e){var H=T.deletions;H===null?(T.deletions=[N],T.flags|=16):H.push(N)}}function t(T,N){if(!e)return null;for(;N!==null;)n(T,N),N=N.sibling;return null}function r(T,N){for(T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function i(T,N){return T=Il(T,N),T.index=0,T.sibling=null,T}function o(T,N,H){return T.index=H,e?(H=T.alternate,H!==null?(H=H.index,H<N?(T.flags|=2,N):H):(T.flags|=2,N)):(T.flags|=1048576,N)}function d(T){return e&&T.alternate===null&&(T.flags|=2),T}function h(T,N,H,$){return N===null||N.tag!==6?(N=Yy(H,T.mode,$),N.return=T,N):(N=i(N,H),N.return=T,N)}function f(T,N,H,$){var Q=H.type;return Q===nd?_(T,N,H.props.children,$,H.key):N!==null&&(N.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ul&&ON(Q)===N.type)?($=i(N,H.props),$.ref=rp(T,N,H),$.return=T,$):($=Lv(H.type,H.key,H.props,null,T.mode,$),$.ref=rp(T,N,H),$.return=T,$)}function m(T,N,H,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==H.containerInfo||N.stateNode.implementation!==H.implementation?(N=Xy(H,T.mode,$),N.return=T,N):(N=i(N,H.children||[]),N.return=T,N)}function _(T,N,H,$,Q){return N===null||N.tag!==7?(N=Du(H,T.mode,$,Q),N.return=T,N):(N=i(N,H),N.return=T,N)}function y(T,N,H){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Yy(""+N,T.mode,H),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y0:return H=Lv(N.type,N.key,N.props,null,T.mode,H),H.ref=rp(T,null,N),H.return=T,H;case ed:return N=Xy(N,T.mode,H),N.return=T,N;case ul:var $=N._init;return y(T,$(N._payload),H)}if(mp(N)||Jh(N))return N=Du(N,T.mode,H,null),N.return=T,N;ov(T,N)}return null}function w(T,N,H,$){var Q=N!==null?N.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Q!==null?null:h(T,N,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Y0:return H.key===Q?f(T,N,H,$):null;case ed:return H.key===Q?m(T,N,H,$):null;case ul:return Q=H._init,w(T,N,Q(H._payload),$)}if(mp(H)||Jh(H))return Q!==null?null:_(T,N,H,$,null);ov(T,H)}return null}function C(T,N,H,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return T=T.get(H)||null,h(N,T,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Y0:return T=T.get($.key===null?H:$.key)||null,f(N,T,$,Q);case ed:return T=T.get($.key===null?H:$.key)||null,m(N,T,$,Q);case ul:var P=$._init;return C(T,N,H,P($._payload),Q)}if(mp($)||Jh($))return T=T.get(H)||null,_(N,T,$,Q,null);ov(N,$)}return null}function I(T,N,H,$){for(var Q=null,P=null,W=N,K=N=0,he=null;W!==null&&K<H.length;K++){W.index>K?(he=W,W=null):he=W.sibling;var le=w(T,W,H[K],$);if(le===null){W===null&&(W=he);break}e&&W&&le.alternate===null&&n(T,W),N=o(le,N,K),P===null?Q=le:P.sibling=le,P=le,W=he}if(K===H.length)return t(T,W),Jt&&_u(T,K),Q;if(W===null){for(;K<H.length;K++)W=y(T,H[K],$),W!==null&&(N=o(W,N,K),P===null?Q=W:P.sibling=W,P=W);return Jt&&_u(T,K),Q}for(W=r(T,W);K<H.length;K++)he=C(W,T,K,H[K],$),he!==null&&(e&&he.alternate!==null&&W.delete(he.key===null?K:he.key),N=o(he,N,K),P===null?Q=he:P.sibling=he,P=he);return e&&W.forEach(function(Se){return n(T,Se)}),Jt&&_u(T,K),Q}function k(T,N,H,$){var Q=Jh(H);if(typeof Q!="function")throw Error(je(150));if(H=Q.call(H),H==null)throw Error(je(151));for(var P=Q=null,W=N,K=N=0,he=null,le=H.next();W!==null&&!le.done;K++,le=H.next()){W.index>K?(he=W,W=null):he=W.sibling;var Se=w(T,W,le.value,$);if(Se===null){W===null&&(W=he);break}e&&W&&Se.alternate===null&&n(T,W),N=o(Se,N,K),P===null?Q=Se:P.sibling=Se,P=Se,W=he}if(le.done)return t(T,W),Jt&&_u(T,K),Q;if(W===null){for(;!le.done;K++,le=H.next())le=y(T,le.value,$),le!==null&&(N=o(le,N,K),P===null?Q=le:P.sibling=le,P=le);return Jt&&_u(T,K),Q}for(W=r(T,W);!le.done;K++,le=H.next())le=C(W,T,K,le.value,$),le!==null&&(e&&le.alternate!==null&&W.delete(le.key===null?K:le.key),N=o(le,N,K),P===null?Q=le:P.sibling=le,P=le);return e&&W.forEach(function(Ce){return n(T,Ce)}),Jt&&_u(T,K),Q}function U(T,N,H,$){if(typeof H=="object"&&H!==null&&H.type===nd&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Y0:e:{for(var Q=H.key,P=N;P!==null;){if(P.key===Q){if(Q=H.type,Q===nd){if(P.tag===7){t(T,P.sibling),N=i(P,H.props.children),N.return=T,T=N;break e}}else if(P.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ul&&ON(Q)===P.type){t(T,P.sibling),N=i(P,H.props),N.ref=rp(T,P,H),N.return=T,T=N;break e}t(T,P);break}else n(T,P);P=P.sibling}H.type===nd?(N=Du(H.props.children,T.mode,$,H.key),N.return=T,T=N):($=Lv(H.type,H.key,H.props,null,T.mode,$),$.ref=rp(T,N,H),$.return=T,T=$)}return d(T);case ed:e:{for(P=H.key;N!==null;){if(N.key===P)if(N.tag===4&&N.stateNode.containerInfo===H.containerInfo&&N.stateNode.implementation===H.implementation){t(T,N.sibling),N=i(N,H.children||[]),N.return=T,T=N;break e}else{t(T,N);break}else n(T,N);N=N.sibling}N=Xy(H,T.mode,$),N.return=T,T=N}return d(T);case ul:return P=H._init,U(T,N,P(H._payload),$)}if(mp(H))return I(T,N,H,$);if(Jh(H))return k(T,N,H,$);ov(T,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,N!==null&&N.tag===6?(t(T,N.sibling),N=i(N,H),N.return=T,T=N):(t(T,N),N=Yy(H,T.mode,$),N.return=T,T=N),d(T)):t(T,N)}return U}var Id=UR(!0),LR=UR(!1),wf={},qs=Fl(wf),Zp=Fl(wf),ef=Fl(wf);function Nu(e){if(e===wf)throw Error(je(174));return e}function Xw(e,n){switch(Bt(ef,n),Bt(Zp,e),Bt(qs,wf),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:F1(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=F1(n,e)}Kt(qs),Bt(qs,n)}function kd(){Kt(qs),Kt(Zp),Kt(ef)}function PR(e){Nu(ef.current);var n=Nu(qs.current),t=F1(n,e.type);n!==t&&(Bt(Zp,e),Bt(qs,t))}function Jw(e){Zp.current===e&&(Kt(qs),Kt(Zp))}var tr=Fl(0);function cm(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jy=[];function Zw(){for(var e=0;e<jy.length;e++)jy[e]._workInProgressVersionPrimary=null;jy.length=0}var Av=Ao.ReactCurrentDispatcher,zy=Ao.ReactCurrentBatchConfig,ju=0,rr=null,wr=null,Mr=null,dm=!1,Tp=!1,nf=0,HZ=0;function ui(){throw Error(je(321))}function e3(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!ps(e[t],n[t]))return!1;return!0}function n3(e,n,t,r,i,o){if(ju=o,rr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Av.current=e===null||e.memoizedState===null?jZ:zZ,e=t(r,i),Tp){o=0;do{if(Tp=!1,nf=0,25<=o)throw Error(je(301));o+=1,Mr=wr=null,n.updateQueue=null,Av.current=VZ,e=t(r,i)}while(Tp)}if(Av.current=hm,n=wr!==null&&wr.next!==null,ju=0,Mr=wr=rr=null,dm=!1,n)throw Error(je(300));return e}function t3(){var e=nf!==0;return nf=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?rr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Ka(){if(wr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var n=Mr===null?rr.memoizedState:Mr.next;if(n!==null)Mr=n,wr=e;else{if(e===null)throw Error(je(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Mr===null?rr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function tf(e,n){return typeof n=="function"?n(e):n}function Vy(e){var n=Ka(),t=n.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=e;var r=wr,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var d=i.next;i.next=o.next,o.next=d}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var h=d=null,f=null,m=o;do{var _=m.lane;if((ju&_)===_)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var y={lane:_,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(h=f=y,d=r):f=f.next=y,rr.lanes|=_,zu|=_}m=m.next}while(m!==null&&m!==o);f===null?d=r:f.next=h,ps(r,n.memoizedState)||(na=!0),n.memoizedState=r,n.baseState=d,n.baseQueue=f,t.lastRenderedState=r}if(e=t.interleaved,e!==null){i=e;do o=i.lane,rr.lanes|=o,zu|=o,i=i.next;while(i!==e)}else i===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Ky(e){var n=Ka(),t=n.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var d=i=i.next;do o=e(o,d.action),d=d.next;while(d!==i);ps(o,n.memoizedState)||(na=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function $R(){}function FR(e,n){var t=rr,r=Ka(),i=n(),o=!ps(r.memoizedState,i);if(o&&(r.memoizedState=i,na=!0),r=r.queue,r3(BR.bind(null,t,r,e),[e]),r.getSnapshot!==n||o||Mr!==null&&Mr.memoizedState.tag&1){if(t.flags|=2048,rf(9,qR.bind(null,t,r,i,n),void 0,null),Pr===null)throw Error(je(349));(ju&30)!==0||HR(t,n,i)}return i}function HR(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=rr.updateQueue,n===null?(n={lastEffect:null,stores:null},rr.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function qR(e,n,t,r){n.value=t,n.getSnapshot=r,GR(n)&&jR(e)}function BR(e,n,t){return t(function(){GR(n)&&jR(e)})}function GR(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ps(e,t)}catch{return!0}}function jR(e){var n=No(e,1);n!==null&&ds(n,e,1,-1)}function AN(e){var n=Ds();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:e},n.queue=e,e=e.dispatch=GZ.bind(null,rr,e),[n.memoizedState,e]}function rf(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=rr.updateQueue,n===null?(n={lastEffect:null,stores:null},rr.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function zR(){return Ka().memoizedState}function Rv(e,n,t,r){var i=Ds();rr.flags|=e,i.memoizedState=rf(1|n,t,void 0,r===void 0?null:r)}function Km(e,n,t,r){var i=Ka();r=r===void 0?null:r;var o=void 0;if(wr!==null){var d=wr.memoizedState;if(o=d.destroy,r!==null&&e3(r,d.deps)){i.memoizedState=rf(n,t,o,r);return}}rr.flags|=e,i.memoizedState=rf(1|n,t,o,r)}function RN(e,n){return Rv(8390656,8,e,n)}function r3(e,n){return Km(2048,8,e,n)}function VR(e,n){return Km(4,2,e,n)}function KR(e,n){return Km(4,4,e,n)}function WR(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function QR(e,n,t){return t=t!=null?t.concat([e]):null,Km(4,4,WR.bind(null,n,e),t)}function i3(){}function YR(e,n){var t=Ka();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&e3(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function XR(e,n){var t=Ka();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&e3(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function JR(e,n,t){return(ju&21)===0?(e.baseState&&(e.baseState=!1,na=!0),e.memoizedState=t):(ps(t,n)||(t=nR(),rr.lanes|=t,zu|=t,e.baseState=!0),n)}function qZ(e,n){var t=It;It=t!==0&&4>t?t:4,e(!0);var r=zy.transition;zy.transition={};try{e(!1),n()}finally{It=t,zy.transition=r}}function ZR(){return Ka().memoizedState}function BZ(e,n,t){var r=Sl(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},eM(e))nM(n,t);else if(t=AR(e,n,t,r),t!==null){var i=Ri();ds(t,e,r,i),tM(t,n,r)}}function GZ(e,n,t){var r=Sl(e),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(eM(e))nM(n,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var d=n.lastRenderedState,h=o(d,t);if(i.hasEagerState=!0,i.eagerState=h,ps(h,d)){var f=n.interleaved;f===null?(i.next=i,Qw(n)):(i.next=f.next,f.next=i),n.interleaved=i;return}}catch{}finally{}t=AR(e,n,i,r),t!==null&&(i=Ri(),ds(t,e,r,i),tM(t,n,r))}}function eM(e){var n=e.alternate;return e===rr||n!==null&&n===rr}function nM(e,n){Tp=dm=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function tM(e,n,t){if((t&4194240)!==0){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Uw(e,t)}}var hm={readContext:Va,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},jZ={readContext:Va,useCallback:function(e,n){return Ds().memoizedState=[e,n===void 0?null:n],e},useContext:Va,useEffect:RN,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Rv(4194308,4,WR.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Rv(4194308,4,e,n)},useInsertionEffect:function(e,n){return Rv(4,2,e,n)},useMemo:function(e,n){var t=Ds();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Ds();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=BZ.bind(null,rr,e),[r.memoizedState,e]},useRef:function(e){var n=Ds();return e={current:e},n.memoizedState=e},useState:AN,useDebugValue:i3,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=AN(!1),n=e[0];return e=qZ.bind(null,e[1]),Ds().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=rr,i=Ds();if(Jt){if(t===void 0)throw Error(je(407));t=t()}else{if(t=n(),Pr===null)throw Error(je(349));(ju&30)!==0||HR(r,n,t)}i.memoizedState=t;var o={value:t,getSnapshot:n};return i.queue=o,RN(BR.bind(null,r,o,e),[e]),r.flags|=2048,rf(9,qR.bind(null,r,o,t,n),void 0,null),t},useId:function(){var e=Ds(),n=Pr.identifierPrefix;if(Jt){var t=Eo,r=yo;t=(r&~(1<<32-cs(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=nf++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=HZ++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},zZ={readContext:Va,useCallback:YR,useContext:Va,useEffect:r3,useImperativeHandle:QR,useInsertionEffect:VR,useLayoutEffect:KR,useMemo:XR,useReducer:Vy,useRef:zR,useState:function(){return Vy(tf)},useDebugValue:i3,useDeferredValue:function(e){var n=Ka();return JR(n,wr.memoizedState,e)},useTransition:function(){var e=Vy(tf)[0],n=Ka().memoizedState;return[e,n]},useMutableSource:$R,useSyncExternalStore:FR,useId:ZR,unstable_isNewReconciler:!1},VZ={readContext:Va,useCallback:YR,useContext:Va,useEffect:r3,useImperativeHandle:QR,useInsertionEffect:VR,useLayoutEffect:KR,useMemo:XR,useReducer:Ky,useRef:zR,useState:function(){return Ky(tf)},useDebugValue:i3,useDeferredValue:function(e){var n=Ka();return wr===null?n.memoizedState=e:JR(n,wr.memoizedState,e)},useTransition:function(){var e=Ky(tf)[0],n=Ka().memoizedState;return[e,n]},useMutableSource:$R,useSyncExternalStore:FR,useId:ZR,unstable_isNewReconciler:!1};function Td(e,n){try{var t="",r=n;do t+=yJ(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:n,stack:i,digest:null}}function Wy(e,n,t){return{value:e,source:null,stack:t!=null?t:null,digest:n!=null?n:null}}function lE(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var KZ=typeof WeakMap=="function"?WeakMap:Map;function rM(e,n,t){t=xo(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){fm||(fm=!0,_E=r),lE(e,n)},t}function iM(e,n,t){t=xo(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r(i)},t.callback=function(){lE(e,n)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){lE(e,n),typeof r!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})}),t}function MN(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new KZ;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(i.add(t),e=oee.bind(null,e,n,t),n.then(e,e))}function DN(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function UN(e,n,t,r,i){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=xo(-1,1),n.tag=2,Cl(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var WZ=Ao.ReactCurrentOwner,na=!1;function Ti(e,n,t,r){n.child=e===null?LR(n,null,t,r):Id(n,e.child,t,r)}function LN(e,n,t,r,i){t=t.render;var o=n.ref;return bd(n,i),r=n3(e,n,t,r,o,i),t=t3(),e!==null&&!na?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Oo(e,n,i)):(Jt&&t&&Gw(n),n.flags|=1,Ti(e,n,r,i),n.child)}function PN(e,n,t,r,i){if(e===null){var o=t.type;return typeof o=="function"&&!h3(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=o,aM(e,n,o,r,i)):(e=Lv(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,(e.lanes&i)===0){var d=o.memoizedProps;if(t=t.compare,t=t!==null?t:Qp,t(d,r)&&e.ref===n.ref)return Oo(e,n,i)}return n.flags|=1,e=Il(o,r),e.ref=n.ref,e.return=n,n.child=e}function aM(e,n,t,r,i){if(e!==null){var o=e.memoizedProps;if(Qp(o,r)&&e.ref===n.ref)if(na=!1,n.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(na=!0);else return n.lanes=e.lanes,Oo(e,n,i)}return uE(e,n,t,r,i)}function sM(e,n,t){var r=n.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(dd,_a),_a|=t;else{if((t&1073741824)===0)return e=o!==null?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Bt(dd,_a),_a|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Bt(dd,_a),_a|=r}else o!==null?(r=o.baseLanes|t,n.memoizedState=null):r=t,Bt(dd,_a),_a|=r;return Ti(e,n,i,t),n.child}function oM(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function uE(e,n,t,r,i){var o=ia(t)?Bu:yi.current;return o=xd(n,o),bd(n,i),t=n3(e,n,t,r,o,i),r=t3(),e!==null&&!na?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,Oo(e,n,i)):(Jt&&r&&Gw(n),n.flags|=1,Ti(e,n,t,i),n.child)}function $N(e,n,t,r,i){if(ia(t)){var o=!0;im(n)}else o=!1;if(bd(n,i),n.stateNode===null)Mv(e,n),DR(n,t,r),oE(n,t,r,i),r=!0;else if(e===null){var d=n.stateNode,h=n.memoizedProps;d.props=h;var f=d.context,m=t.contextType;typeof m=="object"&&m!==null?m=Va(m):(m=ia(t)?Bu:yi.current,m=xd(n,m));var _=t.getDerivedStateFromProps,y=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==r||f!==m)&&NN(n,d,r,m),cl=!1;var w=n.memoizedState;d.state=w,um(n,r,d,i),f=n.memoizedState,h!==r||w!==f||ra.current||cl?(typeof _=="function"&&(sE(n,t,_,r),f=n.memoizedState),(h=cl||TN(n,t,h,r,w,f,m))?(y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=f),d.props=r,d.state=f,d.context=m,r=h):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,RR(e,n),h=n.memoizedProps,m=n.type===n.elementType?h:is(n.type,h),d.props=m,y=n.pendingProps,w=d.context,f=t.contextType,typeof f=="object"&&f!==null?f=Va(f):(f=ia(t)?Bu:yi.current,f=xd(n,f));var C=t.getDerivedStateFromProps;(_=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==y||w!==f)&&NN(n,d,r,f),cl=!1,w=n.memoizedState,d.state=w,um(n,r,d,i);var I=n.memoizedState;h!==y||w!==I||ra.current||cl?(typeof C=="function"&&(sE(n,t,C,r),I=n.memoizedState),(m=cl||TN(n,t,m,r,w,I,f)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,I,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,I,f)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=I),d.props=r,d.state=I,d.context=f,r=m):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),r=!1)}return cE(e,n,t,r,o,i)}function cE(e,n,t,r,i,o){oM(e,n);var d=(n.flags&128)!==0;if(!r&&!d)return i&&CN(n,t,!1),Oo(e,n,o);r=n.stateNode,WZ.current=n;var h=d&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&d?(n.child=Id(n,e.child,null,o),n.child=Id(n,null,h,o)):Ti(e,n,h,o),n.memoizedState=r.state,i&&CN(n,t,!0),n.child}function lM(e){var n=e.stateNode;n.pendingContext?wN(e,n.pendingContext,n.pendingContext!==n.context):n.context&&wN(e,n.context,!1),Xw(e,n.containerInfo)}function FN(e,n,t,r,i){return Sd(),zw(i),n.flags|=256,Ti(e,n,t,r),n.child}var dE={dehydrated:null,treeContext:null,retryLane:0};function hE(e){return{baseLanes:e,cachePool:null,transitions:null}}function uM(e,n,t){var r=n.pendingProps,i=tr.current,o=!1,d=(n.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(o=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Bt(tr,i&1),e===null)return iE(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(d=r.children,e=r.fallback,o?(r=n.mode,o=n.child,d={mode:"hidden",children:d},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=d):o=Ym(d,r,0,null),e=Du(e,r,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=hE(t),n.memoizedState=dE,e):a3(n,d));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return QZ(e,n,d,r,h,i,t);if(o){o=r.fallback,d=n.mode,i=e.child,h=i.sibling;var f={mode:"hidden",children:r.children};return(d&1)===0&&n.child!==i?(r=n.child,r.childLanes=0,r.pendingProps=f,n.deletions=null):(r=Il(i,f),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?o=Il(h,o):(o=Du(o,d,t,null),o.flags|=2),o.return=n,r.return=n,r.sibling=o,n.child=r,r=o,o=n.child,d=e.child.memoizedState,d=d===null?hE(t):{baseLanes:d.baseLanes|t,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~t,n.memoizedState=dE,r}return o=e.child,e=o.sibling,r=Il(o,{mode:"visible",children:r.children}),(n.mode&1)===0&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function a3(e,n){return n=Ym({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function lv(e,n,t,r){return r!==null&&zw(r),Id(n,e.child,null,t),e=a3(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function QZ(e,n,t,r,i,o,d){if(t)return n.flags&256?(n.flags&=-257,r=Wy(Error(je(422))),lv(e,n,d,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(o=r.fallback,i=n.mode,r=Ym({mode:"visible",children:r.children},i,0,null),o=Du(o,i,d,null),o.flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,(n.mode&1)!==0&&Id(n,e.child,null,d),n.child.memoizedState=hE(d),n.memoizedState=dE,o);if((n.mode&1)===0)return lv(e,n,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(je(419)),r=Wy(o,r,void 0),lv(e,n,d,r)}if(h=(d&e.childLanes)!==0,na||h){if(r=Pr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|d))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,No(e,i),ds(r,e,i,-1))}return d3(),r=Wy(Error(je(421))),lv(e,n,d,r)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=lee.bind(null,e),i._reactRetry=n,null):(e=o.treeContext,ya=wl(i.nextSibling),Ea=n,Jt=!0,os=null,e!==null&&(Ua[La++]=yo,Ua[La++]=Eo,Ua[La++]=Gu,yo=e.id,Eo=e.overflow,Gu=n),n=a3(n,r.children),n.flags|=4096,n)}function HN(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),aE(e.return,n,t)}function Qy(e,n,t,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function cM(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(Ti(e,n,r.children,t),r=tr.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HN(e,t,n);else if(e.tag===19)HN(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bt(tr,r),(n.mode&1)===0)n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&cm(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Qy(n,!1,i,t,o);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&cm(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Qy(n,!0,t,null,o);break;case"together":Qy(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mv(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Oo(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),zu|=n.lanes,(t&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(je(153));if(n.child!==null){for(e=n.child,t=Il(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=Il(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function YZ(e,n,t){switch(n.tag){case 3:lM(n),Sd();break;case 5:PR(n);break;case 1:ia(n.type)&&im(n);break;case 4:Xw(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,i=n.memoizedProps.value;Bt(om,r._currentValue),r._currentValue=i;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(Bt(tr,tr.current&1),n.flags|=128,null):(t&n.child.childLanes)!==0?uM(e,n,t):(Bt(tr,tr.current&1),e=Oo(e,n,t),e!==null?e.sibling:null);Bt(tr,tr.current&1);break;case 19:if(r=(t&n.childLanes)!==0,(e.flags&128)!==0){if(r)return cM(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(tr,tr.current),r)break;return null;case 22:case 23:return n.lanes=0,sM(e,n,t)}return Oo(e,n,t)}var dM,pE,hM,pM;dM=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pE=function(){};hM=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,Nu(qs.current);var o=null;switch(t){case"input":i=U1(e,i),r=U1(e,r),o=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),o=[];break;case"textarea":i=$1(e,i),r=$1(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tm)}H1(t,r);var d;t=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var h=i[m];for(d in h)h.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Bp.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(h=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&f!==h&&(f!=null||h!=null))if(m==="style")if(h){for(d in h)!h.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in f)f.hasOwnProperty(d)&&h[d]!==f[d]&&(t||(t={}),t[d]=f[d])}else t||(o||(o=[]),o.push(m,t)),t=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Bp.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Vt("scroll",e),o||h===f||(o=[])):(o=o||[]).push(m,f))}t&&(o=o||[]).push("style",t);var m=o;(n.updateQueue=m)&&(n.flags|=4)}};pM=function(e,n,t,r){t!==r&&(n.flags|=4)};function ip(e,n){if(!Jt)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ci(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function XZ(e,n,t){var r=n.pendingProps;switch(jw(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(n),null;case 1:return ia(n.type)&&rm(),ci(n),null;case 3:return r=n.stateNode,kd(),Kt(ra),Kt(yi),Zw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sv(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,os!==null&&(EE(os),os=null))),pE(e,n),ci(n),null;case 5:Jw(n);var i=Nu(ef.current);if(t=n.type,e!==null&&n.stateNode!=null)hM(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(je(166));return ci(n),null}if(e=Nu(qs.current),sv(n)){r=n.stateNode,t=n.type;var o=n.memoizedProps;switch(r[Ps]=n,r[Jp]=o,e=(n.mode&1)!==0,t){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(i=0;i<_p.length;i++)Vt(_p[i],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":QT(r,o),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",r);break;case"textarea":XT(r,o),Vt("invalid",r)}H1(t,o),i=null;for(var d in o)if(o.hasOwnProperty(d)){var h=o[d];d==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&av(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&av(r.textContent,h,e),i=["children",""+h]):Bp.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&Vt("scroll",r)}switch(t){case"input":X0(r),YT(r,o,!0);break;case"textarea":X0(r),JT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tm)}r=i,n.updateQueue=r,r!==null&&(n.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HA(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(t,{is:r.is}):(e=d.createElement(t),t==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,t),e[Ps]=n,e[Jp]=r,dM(e,n,!1,!1),n.stateNode=e;e:{switch(d=q1(t,r),t){case"dialog":Vt("cancel",e),Vt("close",e),i=r;break;case"iframe":case"object":case"embed":Vt("load",e),i=r;break;case"video":case"audio":for(i=0;i<_p.length;i++)Vt(_p[i],e);i=r;break;case"source":Vt("error",e),i=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),i=r;break;case"details":Vt("toggle",e),i=r;break;case"input":QT(e,r),i=U1(e,r),Vt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":XT(e,r),i=$1(e,r),Vt("invalid",e);break;default:i=r}H1(t,i),h=i;for(o in h)if(h.hasOwnProperty(o)){var f=h[o];o==="style"?GA(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&qA(e,f)):o==="children"?typeof f=="string"?(t!=="textarea"||f!=="")&&Gp(e,f):typeof f=="number"&&Gp(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bp.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Vt("scroll",e):f!=null&&Nw(e,o,f,d))}switch(t){case"input":X0(e),YT(e,r,!1);break;case"textarea":X0(e),JT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ol(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?vd(e,!!r.multiple,o,!1):r.defaultValue!=null&&vd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ci(n),null;case 6:if(e&&n.stateNode!=null)pM(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(je(166));if(t=Nu(ef.current),Nu(qs.current),sv(n)){if(r=n.stateNode,t=n.memoizedProps,r[Ps]=n,(o=r.nodeValue!==t)&&(e=Ea,e!==null))switch(e.tag){case 3:av(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&av(r.nodeValue,t,(e.mode&1)!==0)}o&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ps]=n,n.stateNode=r}return ci(n),null;case 13:if(Kt(tr),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&ya!==null&&(n.mode&1)!==0&&(n.flags&128)===0)OR(),Sd(),n.flags|=98560,o=!1;else if(o=sv(n),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(je(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[Ps]=n}else Sd(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ci(n),o=!1}else os!==null&&(EE(os),os=null),o=!0;if(!o)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(tr.current&1)!==0?xr===0&&(xr=3):d3())),n.updateQueue!==null&&(n.flags|=4),ci(n),null);case 4:return kd(),pE(e,n),e===null&&Yp(n.stateNode.containerInfo),ci(n),null;case 10:return Ww(n.type._context),ci(n),null;case 17:return ia(n.type)&&rm(),ci(n),null;case 19:if(Kt(tr),o=n.memoizedState,o===null)return ci(n),null;if(r=(n.flags&128)!==0,d=o.rendering,d===null)if(r)ip(o,!1);else{if(xr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=cm(e),d!==null){for(n.flags|=128,ip(o,!1),r=d.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)o=t,e=r,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Bt(tr,tr.current&1|2),n.child}e=e.sibling}o.tail!==null&&pr()>Nd&&(n.flags|=128,r=!0,ip(o,!1),n.lanes=4194304)}else{if(!r)if(e=cm(d),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),ip(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Jt)return ci(n),null}else 2*pr()-o.renderingStartTime>Nd&&t!==1073741824&&(n.flags|=128,r=!0,ip(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=pr(),n.sibling=null,t=tr.current,Bt(tr,r?t&1|2:t&1),n):(ci(n),null);case 22:case 23:return c3(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&(n.mode&1)!==0?(_a&1073741824)!==0&&(ci(n),n.subtreeFlags&6&&(n.flags|=8192)):ci(n),null;case 24:return null;case 25:return null}throw Error(je(156,n.tag))}function JZ(e,n){switch(jw(n),n.tag){case 1:return ia(n.type)&&rm(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kd(),Kt(ra),Kt(yi),Zw(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Jw(n),null;case 13:if(Kt(tr),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(je(340));Sd()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Kt(tr),null;case 4:return kd(),null;case 10:return Ww(n.type._context),null;case 22:case 23:return c3(),null;case 24:return null;default:return null}}var uv=!1,_i=!1,ZZ=typeof WeakSet=="function"?WeakSet:Set,un=null;function cd(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){or(e,n,r)}else t.current=null}function fE(e,n,t){try{t()}catch(r){or(e,n,r)}}var qN=!1;function eee(e,n){if(X1=Zv,e=gR(),Bw(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var d=0,h=-1,f=-1,m=0,_=0,y=e,w=null;n:for(;;){for(var C;y!==t||i!==0&&y.nodeType!==3||(h=d+i),y!==o||r!==0&&y.nodeType!==3||(f=d+r),y.nodeType===3&&(d+=y.nodeValue.length),(C=y.firstChild)!==null;)w=y,y=C;for(;;){if(y===e)break n;if(w===t&&++m===i&&(h=d),w===o&&++_===r&&(f=d),(C=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=C}t=h===-1||f===-1?null:{start:h,end:f}}else t=null}t=t||{start:0,end:0}}else t=null;for(J1={focusedElem:e,selectionRange:t},Zv=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){n=un;try{var I=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var k=I.memoizedProps,U=I.memoizedState,T=n.stateNode,N=T.getSnapshotBeforeUpdate(n.elementType===n.type?k:is(n.type,k),U);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch($){or(n,n.return,$)}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}return I=qN,qN=!1,I}function Np(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&fE(n,t,o)}i=i.next}while(i!==r)}}function Wm(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function vE(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function fM(e){var n=e.alternate;n!==null&&(e.alternate=null,fM(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ps],delete n[Jp],delete n[nE],delete n[LZ],delete n[PZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vM(e){return e.tag===5||e.tag===3||e.tag===4}function BN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mE(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=tm));else if(r!==4&&(e=e.child,e!==null))for(mE(e,n,t),e=e.sibling;e!==null;)mE(e,n,t),e=e.sibling}function gE(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gE(e,n,t),e=e.sibling;e!==null;)gE(e,n,t),e=e.sibling}var Xr=null,as=!1;function rl(e,n,t){for(t=t.child;t!==null;)mM(e,n,t),t=t.sibling}function mM(e,n,t){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Hm,t)}catch{}switch(t.tag){case 5:_i||cd(t,n);case 6:var r=Xr,i=as;Xr=null,rl(e,n,t),Xr=r,as=i,Xr!==null&&(as?(e=Xr,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Xr.removeChild(t.stateNode));break;case 18:Xr!==null&&(as?(e=Xr,t=t.stateNode,e.nodeType===8?By(e.parentNode,t):e.nodeType===1&&By(e,t),Kp(e)):By(Xr,t.stateNode));break;case 4:r=Xr,i=as,Xr=t.stateNode.containerInfo,as=!0,rl(e,n,t),Xr=r,as=i;break;case 0:case 11:case 14:case 15:if(!_i&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,d=o.destroy;o=o.tag,d!==void 0&&((o&2)!==0||(o&4)!==0)&&fE(t,n,d),i=i.next}while(i!==r)}rl(e,n,t);break;case 1:if(!_i&&(cd(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(h){or(t,n,h)}rl(e,n,t);break;case 21:rl(e,n,t);break;case 22:t.mode&1?(_i=(r=_i)||t.memoizedState!==null,rl(e,n,t),_i=r):rl(e,n,t);break;default:rl(e,n,t)}}function GN(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new ZZ),n.forEach(function(r){var i=uee.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ts(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=e,d=n,h=d;e:for(;h!==null;){switch(h.tag){case 5:Xr=h.stateNode,as=!1;break e;case 3:Xr=h.stateNode.containerInfo,as=!0;break e;case 4:Xr=h.stateNode.containerInfo,as=!0;break e}h=h.return}if(Xr===null)throw Error(je(160));mM(o,d,i),Xr=null,as=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(m){or(i,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)gM(n,e),n=n.sibling}function gM(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(n,e),Os(e),r&4){try{Np(3,e,e.return),Wm(3,e)}catch(k){or(e,e.return,k)}try{Np(5,e,e.return)}catch(k){or(e,e.return,k)}}break;case 1:ts(n,e),Os(e),r&512&&t!==null&&cd(t,t.return);break;case 5:if(ts(n,e),Os(e),r&512&&t!==null&&cd(t,t.return),e.flags&32){var i=e.stateNode;try{Gp(i,"")}catch(k){or(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,d=t!==null?t.memoizedProps:o,h=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&$A(i,o),q1(h,d);var m=q1(h,o);for(d=0;d<f.length;d+=2){var _=f[d],y=f[d+1];_==="style"?GA(i,y):_==="dangerouslySetInnerHTML"?qA(i,y):_==="children"?Gp(i,y):Nw(i,_,y,m)}switch(h){case"input":L1(i,o);break;case"textarea":FA(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?vd(i,!!o.multiple,C,!1):w!==!!o.multiple&&(o.defaultValue!=null?vd(i,!!o.multiple,o.defaultValue,!0):vd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Jp]=o}catch(k){or(e,e.return,k)}}break;case 6:if(ts(n,e),Os(e),r&4){if(e.stateNode===null)throw Error(je(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){or(e,e.return,k)}}break;case 3:if(ts(n,e),Os(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Kp(n.containerInfo)}catch(k){or(e,e.return,k)}break;case 4:ts(n,e),Os(e);break;case 13:ts(n,e),Os(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(l3=pr())),r&4&&GN(e);break;case 22:if(_=t!==null&&t.memoizedState!==null,e.mode&1?(_i=(m=_i)||_,ts(n,e),_i=m):ts(n,e),Os(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!_&&(e.mode&1)!==0)for(un=e,_=e.child;_!==null;){for(y=un=_;un!==null;){switch(w=un,C=w.child,w.tag){case 0:case 11:case 14:case 15:Np(4,w,w.return);break;case 1:cd(w,w.return);var I=w.stateNode;if(typeof I.componentWillUnmount=="function"){r=w,t=w.return;try{n=r,I.props=n.memoizedProps,I.state=n.memoizedState,I.componentWillUnmount()}catch(k){or(r,t,k)}}break;case 5:cd(w,w.return);break;case 22:if(w.memoizedState!==null){zN(y);continue}}C!==null?(C.return=w,un=C):zN(y)}_=_.sibling}e:for(_=null,y=e;;){if(y.tag===5){if(_===null){_=y;try{i=y.stateNode,m?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=y.stateNode,f=y.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=BA("display",d))}catch(k){or(e,e.return,k)}}}else if(y.tag===6){if(_===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(k){or(e,e.return,k)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:ts(n,e),Os(e),r&4&&GN(e);break;case 21:break;default:ts(n,e),Os(e)}}function Os(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(vM(t)){var r=t;break e}t=t.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gp(i,""),r.flags&=-33);var o=BN(e);gE(e,o,i);break;case 3:case 4:var d=r.stateNode.containerInfo,h=BN(e);mE(e,h,d);break;default:throw Error(je(161))}}catch(f){or(e,e.return,f)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function nee(e,n,t){un=e,_M(e)}function _M(e,n,t){for(var r=(e.mode&1)!==0;un!==null;){var i=un,o=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||uv;if(!d){var h=i.alternate,f=h!==null&&h.memoizedState!==null||_i;h=uv;var m=_i;if(uv=d,(_i=f)&&!m)for(un=i;un!==null;)d=un,f=d.child,d.tag===22&&d.memoizedState!==null?VN(i):f!==null?(f.return=d,un=f):VN(i);for(;o!==null;)un=o,_M(o),o=o.sibling;un=i,uv=h,_i=m}jN(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,un=o):jN(e)}}function jN(e){for(;un!==null;){var n=un;if((n.flags&8772)!==0){var t=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:_i||Wm(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!_i)if(t===null)r.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:is(n.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&kN(n,o,r);break;case 3:var d=n.updateQueue;if(d!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}kN(n,d,t)}break;case 5:var h=n.stateNode;if(t===null&&n.flags&4){t=h;var f=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&t.focus();break;case"img":f.src&&(t.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var _=m.memoizedState;if(_!==null){var y=_.dehydrated;y!==null&&Kp(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}_i||n.flags&512&&vE(n)}catch(w){or(n,n.return,w)}}if(n===e){un=null;break}if(t=n.sibling,t!==null){t.return=n.return,un=t;break}un=n.return}}function zN(e){for(;un!==null;){var n=un;if(n===e){un=null;break}var t=n.sibling;if(t!==null){t.return=n.return,un=t;break}un=n.return}}function VN(e){for(;un!==null;){var n=un;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Wm(4,n)}catch(f){or(n,t,f)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var i=n.return;try{r.componentDidMount()}catch(f){or(n,i,f)}}var o=n.return;try{vE(n)}catch(f){or(n,o,f)}break;case 5:var d=n.return;try{vE(n)}catch(f){or(n,d,f)}}}catch(f){or(n,n.return,f)}if(n===e){un=null;break}var h=n.sibling;if(h!==null){h.return=n.return,un=h;break}un=n.return}}var tee=Math.ceil,pm=Ao.ReactCurrentDispatcher,s3=Ao.ReactCurrentOwner,za=Ao.ReactCurrentBatchConfig,ft=0,Pr=null,_r=null,ni=0,_a=0,dd=Fl(0),xr=0,af=null,zu=0,Qm=0,o3=0,Op=null,Ji=null,l3=0,Nd=1/0,lo=null,fm=!1,_E=null,xl=null,cv=!1,fl=null,vm=0,Ap=0,bE=null,Dv=-1,Uv=0;function Ri(){return(ft&6)!==0?pr():Dv!==-1?Dv:Dv=pr()}function Sl(e){return(e.mode&1)===0?1:(ft&2)!==0&&ni!==0?ni&-ni:FZ.transition!==null?(Uv===0&&(Uv=nR()),Uv):(e=It,e!==0||(e=window.event,e=e===void 0?16:lR(e.type)),e)}function ds(e,n,t,r){if(50<Ap)throw Ap=0,bE=null,Error(je(185));bf(e,t,r),((ft&2)===0||e!==Pr)&&(e===Pr&&((ft&2)===0&&(Qm|=t),xr===4&&hl(e,ni)),aa(e,r),t===1&&ft===0&&(n.mode&1)===0&&(Nd=pr()+500,zm&&Hl()))}function aa(e,n){var t=e.callbackNode;FJ(e,n);var r=Jv(e,e===Pr?ni:0);if(r===0)t!==null&&nN(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&nN(t),n===1)e.tag===0?$Z(KN.bind(null,e)):kR(KN.bind(null,e)),DZ(function(){(ft&6)===0&&Hl()}),t=null;else{switch(tR(r)){case 1:t=Dw;break;case 4:t=ZA;break;case 16:t=Xv;break;case 536870912:t=eR;break;default:t=Xv}t=IM(t,bM.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function bM(e,n){if(Dv=-1,Uv=0,(ft&6)!==0)throw Error(je(327));var t=e.callbackNode;if(yd()&&e.callbackNode!==t)return null;var r=Jv(e,e===Pr?ni:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||n)n=mm(e,r);else{n=r;var i=ft;ft|=2;var o=EM();(Pr!==e||ni!==n)&&(lo=null,Nd=pr()+500,Mu(e,n));do try{aee();break}catch(h){yM(e,h)}while(1);Kw(),pm.current=o,ft=i,_r!==null?n=0:(Pr=null,ni=0,n=xr)}if(n!==0){if(n===2&&(i=V1(e),i!==0&&(r=i,n=yE(e,i))),n===1)throw t=af,Mu(e,0),hl(e,r),aa(e,pr()),t;if(n===6)hl(e,r);else{if(i=e.current.alternate,(r&30)===0&&!ree(i)&&(n=mm(e,r),n===2&&(o=V1(e),o!==0&&(r=o,n=yE(e,o))),n===1))throw t=af,Mu(e,0),hl(e,r),aa(e,pr()),t;switch(e.finishedWork=i,e.finishedLanes=r,n){case 0:case 1:throw Error(je(345));case 2:bu(e,Ji,lo);break;case 3:if(hl(e,r),(r&130023424)===r&&(n=l3+500-pr(),10<n)){if(Jv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=eE(bu.bind(null,e,Ji,lo),n);break}bu(e,Ji,lo);break;case 4:if(hl(e,r),(r&4194240)===r)break;for(n=e.eventTimes,i=-1;0<r;){var d=31-cs(r);o=1<<d,d=n[d],d>i&&(i=d),r&=~o}if(r=i,r=pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tee(r/1960))-r,10<r){e.timeoutHandle=eE(bu.bind(null,e,Ji,lo),r);break}bu(e,Ji,lo);break;case 5:bu(e,Ji,lo);break;default:throw Error(je(329))}}}return aa(e,pr()),e.callbackNode===t?bM.bind(null,e):null}function yE(e,n){var t=Op;return e.current.memoizedState.isDehydrated&&(Mu(e,n).flags|=256),e=mm(e,n),e!==2&&(n=Ji,Ji=t,n!==null&&EE(n)),e}function EE(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function ree(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!ps(o(),i))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hl(e,n){for(n&=~o3,n&=~Qm,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-cs(n),r=1<<t;e[t]=-1,n&=~r}}function KN(e){if((ft&6)!==0)throw Error(je(327));yd();var n=Jv(e,0);if((n&1)===0)return aa(e,pr()),null;var t=mm(e,n);if(e.tag!==0&&t===2){var r=V1(e);r!==0&&(n=r,t=yE(e,r))}if(t===1)throw t=af,Mu(e,0),hl(e,n),aa(e,pr()),t;if(t===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,bu(e,Ji,lo),aa(e,pr()),null}function u3(e,n){var t=ft;ft|=1;try{return e(n)}finally{ft=t,ft===0&&(Nd=pr()+500,zm&&Hl())}}function Vu(e){fl!==null&&fl.tag===0&&(ft&6)===0&&yd();var n=ft;ft|=1;var t=za.transition,r=It;try{if(za.transition=null,It=1,e)return e()}finally{It=r,za.transition=t,ft=n,(ft&6)===0&&Hl()}}function c3(){_a=dd.current,Kt(dd)}function Mu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,MZ(t)),_r!==null)for(t=_r.return;t!==null;){var r=t;switch(jw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rm();break;case 3:kd(),Kt(ra),Kt(yi),Zw();break;case 5:Jw(r);break;case 4:kd();break;case 13:Kt(tr);break;case 19:Kt(tr);break;case 10:Ww(r.type._context);break;case 22:case 23:c3()}t=t.return}if(Pr=e,_r=e=Il(e.current,null),ni=_a=n,xr=0,af=null,o3=Qm=zu=0,Ji=Op=null,Tu!==null){for(n=0;n<Tu.length;n++)if(t=Tu[n],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var d=o.next;o.next=i,r.next=d}t.pending=r}Tu=null}return e}function yM(e,n){do{var t=_r;try{if(Kw(),Av.current=hm,dm){for(var r=rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dm=!1}if(ju=0,Mr=wr=rr=null,Tp=!1,nf=0,s3.current=null,t===null||t.return===null){xr=1,af=n,_r=null;break}e:{var o=e,d=t.return,h=t,f=n;if(n=ni,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,_=h,y=_.tag;if((_.mode&1)===0&&(y===0||y===11||y===15)){var w=_.alternate;w?(_.updateQueue=w.updateQueue,_.memoizedState=w.memoizedState,_.lanes=w.lanes):(_.updateQueue=null,_.memoizedState=null)}var C=DN(d);if(C!==null){C.flags&=-257,UN(C,d,h,o,n),C.mode&1&&MN(o,m,n),n=C,f=m;var I=n.updateQueue;if(I===null){var k=new Set;k.add(f),n.updateQueue=k}else I.add(f);break e}else{if((n&1)===0){MN(o,m,n),d3();break e}f=Error(je(426))}}else if(Jt&&h.mode&1){var U=DN(d);if(U!==null){(U.flags&65536)===0&&(U.flags|=256),UN(U,d,h,o,n),zw(Td(f,h));break e}}o=f=Td(f,h),xr!==4&&(xr=2),Op===null?Op=[o]:Op.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var T=rM(o,f,n);IN(o,T);break e;case 1:h=f;var N=o.type,H=o.stateNode;if((o.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(xl===null||!xl.has(H)))){o.flags|=65536,n&=-n,o.lanes|=n;var $=iM(o,h,n);IN(o,$);break e}}o=o.return}while(o!==null)}CM(t)}catch(Q){n=Q,_r===t&&t!==null&&(_r=t=t.return);continue}break}while(1)}function EM(){var e=pm.current;return pm.current=hm,e===null?hm:e}function d3(){(xr===0||xr===3||xr===2)&&(xr=4),Pr===null||(zu&268435455)===0&&(Qm&268435455)===0||hl(Pr,ni)}function mm(e,n){var t=ft;ft|=2;var r=EM();(Pr!==e||ni!==n)&&(lo=null,Mu(e,n));do try{iee();break}catch(i){yM(e,i)}while(1);if(Kw(),ft=t,pm.current=r,_r!==null)throw Error(je(261));return Pr=null,ni=0,xr}function iee(){for(;_r!==null;)wM(_r)}function aee(){for(;_r!==null&&!OJ();)wM(_r)}function wM(e){var n=SM(e.alternate,e,_a);e.memoizedProps=e.pendingProps,n===null?CM(e):_r=n,s3.current=null}function CM(e){var n=e;do{var t=n.alternate;if(e=n.return,(n.flags&32768)===0){if(t=XZ(t,n,_a),t!==null){_r=t;return}}else{if(t=JZ(t,n),t!==null){t.flags&=32767,_r=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,_r=null;return}}if(n=n.sibling,n!==null){_r=n;return}_r=n=e}while(n!==null);xr===0&&(xr=5)}function bu(e,n,t){var r=It,i=za.transition;try{za.transition=null,It=1,see(e,n,t,r)}finally{za.transition=i,It=r}return null}function see(e,n,t,r){do yd();while(fl!==null);if((ft&6)!==0)throw Error(je(327));t=e.finishedWork;var i=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var o=t.lanes|t.childLanes;if(HJ(e,o),e===Pr&&(_r=Pr=null,ni=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||cv||(cv=!0,IM(Xv,function(){return yd(),null})),o=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||o){o=za.transition,za.transition=null;var d=It;It=1;var h=ft;ft|=4,s3.current=null,eee(e,t),gM(t,e),IZ(J1),Zv=!!X1,J1=X1=null,e.current=t,nee(t),AJ(),ft=h,It=d,za.transition=o}else e.current=t;if(cv&&(cv=!1,fl=e,vm=i),o=e.pendingLanes,o===0&&(xl=null),DJ(t.stateNode),aa(e,pr()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)i=n[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(fm)throw fm=!1,e=_E,_E=null,e;return(vm&1)!==0&&e.tag!==0&&yd(),o=e.pendingLanes,(o&1)!==0?e===bE?Ap++:(Ap=0,bE=e):Ap=0,Hl(),null}function yd(){if(fl!==null){var e=tR(vm),n=za.transition,t=It;try{if(za.transition=null,It=16>e?16:e,fl===null)var r=!1;else{if(e=fl,fl=null,vm=0,(ft&6)!==0)throw Error(je(331));var i=ft;for(ft|=4,un=e.current;un!==null;){var o=un,d=o.child;if((un.flags&16)!==0){var h=o.deletions;if(h!==null){for(var f=0;f<h.length;f++){var m=h[f];for(un=m;un!==null;){var _=un;switch(_.tag){case 0:case 11:case 15:Np(8,_,o)}var y=_.child;if(y!==null)y.return=_,un=y;else for(;un!==null;){_=un;var w=_.sibling,C=_.return;if(fM(_),_===m){un=null;break}if(w!==null){w.return=C,un=w;break}un=C}}}var I=o.alternate;if(I!==null){var k=I.child;if(k!==null){I.child=null;do{var U=k.sibling;k.sibling=null,k=U}while(k!==null)}}un=o}}if((o.subtreeFlags&2064)!==0&&d!==null)d.return=o,un=d;else e:for(;un!==null;){if(o=un,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Np(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,un=T;break e}un=o.return}}var N=e.current;for(un=N;un!==null;){d=un;var H=d.child;if((d.subtreeFlags&2064)!==0&&H!==null)H.return=d,un=H;else e:for(d=N;un!==null;){if(h=un,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Wm(9,h)}}catch(Q){or(h,h.return,Q)}if(h===d){un=null;break e}var $=h.sibling;if($!==null){$.return=h.return,un=$;break e}un=h.return}}if(ft=i,Hl(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Hm,e)}catch{}r=!0}return r}finally{It=t,za.transition=n}}return!1}function WN(e,n,t){n=Td(t,n),n=rM(e,n,1),e=Cl(e,n,1),n=Ri(),e!==null&&(bf(e,1,n),aa(e,n))}function or(e,n,t){if(e.tag===3)WN(e,e,t);else for(;n!==null;){if(n.tag===3){WN(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xl===null||!xl.has(r))){e=Td(t,e),e=iM(n,e,1),n=Cl(n,e,1),e=Ri(),n!==null&&(bf(n,1,e),aa(n,e));break}}n=n.return}}function oee(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=Ri(),e.pingedLanes|=e.suspendedLanes&t,Pr===e&&(ni&t)===t&&(xr===4||xr===3&&(ni&130023424)===ni&&500>pr()-l3?Mu(e,0):o3|=t),aa(e,n)}function xM(e,n){n===0&&((e.mode&1)===0?n=1:(n=ev,ev<<=1,(ev&130023424)===0&&(ev=4194304)));var t=Ri();e=No(e,n),e!==null&&(bf(e,n,t),aa(e,t))}function lee(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),xM(e,t)}function uee(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(n),xM(e,t)}var SM;SM=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ra.current)na=!0;else{if((e.lanes&t)===0&&(n.flags&128)===0)return na=!1,YZ(e,n,t);na=(e.flags&131072)!==0}else na=!1,Jt&&(n.flags&1048576)!==0&&TR(n,sm,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Mv(e,n),e=n.pendingProps;var i=xd(n,yi.current);bd(n,t),i=n3(null,n,r,e,i,t);var o=t3();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ia(r)?(o=!0,im(n)):o=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yw(n),i.updater=Vm,n.stateNode=i,i._reactInternals=n,oE(n,r,e,t),n=cE(null,n,r,!0,o,t)):(n.tag=0,Jt&&o&&Gw(n),Ti(null,n,i,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Mv(e,n),e=n.pendingProps,i=r._init,r=i(r._payload),n.type=r,i=n.tag=dee(r),e=is(r,e),i){case 0:n=uE(null,n,r,e,t);break e;case 1:n=$N(null,n,r,e,t);break e;case 11:n=LN(null,n,r,e,t);break e;case 14:n=PN(null,n,r,is(r.type,e),t);break e}throw Error(je(306,r,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:is(r,i),uE(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:is(r,i),$N(e,n,r,i,t);case 3:e:{if(lM(n),e===null)throw Error(je(387));r=n.pendingProps,o=n.memoizedState,i=o.element,RR(e,n),um(n,r,null,t);var d=n.memoizedState;if(r=d.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){i=Td(Error(je(423)),n),n=FN(e,n,r,t,i);break e}else if(r!==i){i=Td(Error(je(424)),n),n=FN(e,n,r,t,i);break e}else for(ya=wl(n.stateNode.containerInfo.firstChild),Ea=n,Jt=!0,os=null,t=LR(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Sd(),r===i){n=Oo(e,n,t);break e}Ti(e,n,r,t)}n=n.child}return n;case 5:return PR(n),e===null&&iE(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,d=i.children,Z1(r,i)?d=null:o!==null&&Z1(r,o)&&(n.flags|=32),oM(e,n),Ti(e,n,d,t),n.child;case 6:return e===null&&iE(n),null;case 13:return uM(e,n,t);case 4:return Xw(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Id(n,null,r,t):Ti(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:is(r,i),LN(e,n,r,i,t);case 7:return Ti(e,n,n.pendingProps,t),n.child;case 8:return Ti(e,n,n.pendingProps.children,t),n.child;case 12:return Ti(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,i=n.pendingProps,o=n.memoizedProps,d=i.value,Bt(om,r._currentValue),r._currentValue=d,o!==null)if(ps(o.value,d)){if(o.children===i.children&&!ra.current){n=Oo(e,n,t);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var h=o.dependencies;if(h!==null){d=o.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=xo(-1,t&-t),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var _=m.pending;_===null?f.next=f:(f.next=_.next,_.next=f),m.pending=f}}o.lanes|=t,f=o.alternate,f!==null&&(f.lanes|=t),aE(o.return,t,n),h.lanes|=t;break}f=f.next}}else if(o.tag===10)d=o.type===n.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(je(341));d.lanes|=t,h=d.alternate,h!==null&&(h.lanes|=t),aE(d,t,n),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===n){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}Ti(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=n.pendingProps.children,bd(n,t),i=Va(i),r=r(i),n.flags|=1,Ti(e,n,r,t),n.child;case 14:return r=n.type,i=is(r,n.pendingProps),i=is(r.type,i),PN(e,n,r,i,t);case 15:return aM(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:is(r,i),Mv(e,n),n.tag=1,ia(r)?(e=!0,im(n)):e=!1,bd(n,t),DR(n,r,i),oE(n,r,i,t),cE(null,n,r,!0,e,t);case 19:return cM(e,n,t);case 22:return sM(e,n,t)}throw Error(je(156,n.tag))};function IM(e,n){return JA(e,n)}function cee(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,n,t,r){return new cee(e,n,t,r)}function h3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dee(e){if(typeof e=="function")return h3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aw)return 11;if(e===Rw)return 14}return 2}function Il(e,n){var t=e.alternate;return t===null?(t=Fa(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Lv(e,n,t,r,i,o){var d=2;if(r=e,typeof e=="function")h3(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case nd:return Du(t.children,i,o,n);case Ow:d=8,i|=8;break;case A1:return e=Fa(12,t,n,i|2),e.elementType=A1,e.lanes=o,e;case R1:return e=Fa(13,t,n,i),e.elementType=R1,e.lanes=o,e;case M1:return e=Fa(19,t,n,i),e.elementType=M1,e.lanes=o,e;case UA:return Ym(t,i,o,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MA:d=10;break e;case DA:d=9;break e;case Aw:d=11;break e;case Rw:d=14;break e;case ul:d=16,r=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return n=Fa(d,t,n,i),n.elementType=e,n.type=r,n.lanes=o,n}function Du(e,n,t,r){return e=Fa(7,e,r,n),e.lanes=t,e}function Ym(e,n,t,r){return e=Fa(22,e,r,n),e.elementType=UA,e.lanes=t,e.stateNode={isHidden:!1},e}function Yy(e,n,t){return e=Fa(6,e,null,n),e.lanes=t,e}function Xy(e,n,t){return n=Fa(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function hee(e,n,t,r,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p3(e,n,t,r,i,o,d,h,f){return e=new hee(e,n,t,h,f),n===1?(n=1,o===!0&&(n|=8)):n=0,o=Fa(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yw(o),e}function pee(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function kM(e){if(!e)return Al;e=e._reactInternals;e:{if(Ju(e)!==e||e.tag!==1)throw Error(je(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ia(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(je(171))}if(e.tag===1){var t=e.type;if(ia(t))return IR(e,t,n)}return n}function TM(e,n,t,r,i,o,d,h,f){return e=p3(t,r,!0,e,i,o,d,h,f),e.context=kM(null),t=e.current,r=Ri(),i=Sl(t),o=xo(r,i),o.callback=n!=null?n:null,Cl(t,o,i),e.current.lanes=i,bf(e,i,r),aa(e,r),e}function Xm(e,n,t,r){var i=n.current,o=Ri(),d=Sl(i);return t=kM(t),n.context===null?n.context=t:n.pendingContext=t,n=xo(o,d),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=Cl(i,n,d),e!==null&&(ds(e,i,d,o),Ov(e,i,d)),d}function gm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QN(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function f3(e,n){QN(e,n),(e=e.alternate)&&QN(e,n)}function fee(){return null}var NM=typeof reportError=="function"?reportError:function(e){console.error(e)};function v3(e){this._internalRoot=e}Jm.prototype.render=v3.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(je(409));Xm(e,n,null,null)};Jm.prototype.unmount=v3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vu(function(){Xm(null,e,null,null)}),n[To]=null}};function Jm(e){this._internalRoot=e}Jm.prototype.unstable_scheduleHydration=function(e){if(e){var n=aR();e={blockedOn:null,target:e,priority:n};for(var t=0;t<dl.length&&n!==0&&n<dl[t].priority;t++);dl.splice(t,0,e),t===0&&oR(e)}};function m3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YN(){}function vee(e,n,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var m=gm(d);o.call(m)}}var d=TM(n,r,e,0,null,!1,!1,"",YN);return e._reactRootContainer=d,e[To]=d.current,Yp(e.nodeType===8?e.parentNode:e),Vu(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var m=gm(f);h.call(m)}}var f=p3(e,0,!1,null,null,!1,!1,"",YN);return e._reactRootContainer=f,e[To]=f.current,Yp(e.nodeType===8?e.parentNode:e),Vu(function(){Xm(n,f,t,r)}),f}function eg(e,n,t,r,i){var o=t._reactRootContainer;if(o){var d=o;if(typeof i=="function"){var h=i;i=function(){var f=gm(d);h.call(f)}}Xm(n,d,e,i)}else d=vee(t,n,e,i,r);return gm(d)}rR=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=gp(n.pendingLanes);t!==0&&(Uw(n,t|1),aa(n,pr()),(ft&6)===0&&(Nd=pr()+500,Hl()))}break;case 13:Vu(function(){var r=No(e,1);if(r!==null){var i=Ri();ds(r,e,1,i)}}),f3(e,1)}};Lw=function(e){if(e.tag===13){var n=No(e,134217728);if(n!==null){var t=Ri();ds(n,e,134217728,t)}f3(e,134217728)}};iR=function(e){if(e.tag===13){var n=Sl(e),t=No(e,n);if(t!==null){var r=Ri();ds(t,e,n,r)}f3(e,n)}};aR=function(){return It};sR=function(e,n){var t=It;try{return It=e,n()}finally{It=t}};G1=function(e,n,t){switch(n){case"input":if(L1(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=jm(r);if(!i)throw Error(je(90));PA(r),L1(r,i)}}}break;case"textarea":FA(e,t);break;case"select":n=t.value,n!=null&&vd(e,!!t.multiple,n,!1)}};VA=u3;KA=Vu;var mee={usingClientEntryPoint:!1,Events:[Ef,ad,jm,jA,zA,u3]},ap={findFiberByHostInstance:ku,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gee={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YA(e),e===null?null:e.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||fee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dv.isDisabled&&dv.supportsFiber)try{Hm=dv.inject(gee),Hs=dv}catch{}}Ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mee;Ia.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m3(n))throw Error(je(200));return pee(e,n,null,t)};Ia.createRoot=function(e,n){if(!m3(e))throw Error(je(299));var t=!1,r="",i=NM;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=p3(e,1,!1,null,null,t,!1,r,i),e[To]=n.current,Yp(e.nodeType===8?e.parentNode:e),new v3(n)};Ia.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=YA(n),e=e===null?null:e.stateNode,e};Ia.flushSync=function(e){return Vu(e)};Ia.hydrate=function(e,n,t){if(!Zm(n))throw Error(je(200));return eg(null,e,n,!0,t)};Ia.hydrateRoot=function(e,n,t){if(!m3(e))throw Error(je(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",d=NM;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),n=TM(n,null,e,1,t!=null?t:null,i,!1,o,d),e[To]=n.current,Yp(e),r)for(e=0;e<r.length;e++)t=r[e],i=t._getVersion,i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new Jm(n)};Ia.render=function(e,n,t){if(!Zm(n))throw Error(je(200));return eg(null,e,n,!1,t)};Ia.unmountComponentAtNode=function(e){if(!Zm(e))throw Error(je(40));return e._reactRootContainer?(Vu(function(){eg(null,null,e,!1,function(){e._reactRootContainer=null,e[To]=null})}),!0):!1};Ia.unstable_batchedUpdates=u3;Ia.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Zm(t))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return eg(e,n,t,!1,r)};Ia.version="18.2.0-next-9e3b772b8-20220608";(function(e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}n(),e.exports=Ia})(Bd);var XN=Bd.exports;N1.createRoot=XN.createRoot,N1.hydrateRoot=XN.hydrateRoot;function Jy(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.addEventListener&&e.addEventListener.apply(e,n)}function Zy(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.removeEventListener&&e.removeEventListener.apply(e,n)}var OM=typeof window<"u",JN=function(e){var n=window.history,t=n[e];n[e]=function(r){var i=t.apply(this,arguments),o=new Event(e.toLowerCase());return o.state=r,window.dispatchEvent(o),i}};OM&&(JN("pushState"),JN("replaceState"));var _ee=function(){return{trigger:"load",length:1}},hv=function(e){var n=window.history,t=n.state,r=n.length,i=window.location,o=i.hash,d=i.host,h=i.hostname,f=i.href,m=i.origin,_=i.pathname,y=i.port,w=i.protocol,C=i.search;return{trigger:e,state:t,length:r,hash:o,host:d,hostname:h,href:f,origin:m,pathname:_,port:y,protocol:w,search:C}},bee=function(){var e=F.exports.useState(hv("load")),n=e[0],t=e[1];return F.exports.useEffect(function(){var r=function(){return t(hv("popstate"))},i=function(){return t(hv("pushstate"))},o=function(){return t(hv("replacestate"))};return Jy(window,"popstate",r),Jy(window,"pushstate",i),Jy(window,"replacestate",o),function(){Zy(window,"popstate",r),Zy(window,"pushstate",i),Zy(window,"replacestate",o)}},[]),n},yee=typeof Event=="function";const Eee=OM&&yee?bee:_ee;var g3={exports:{}},ng={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wee=F.exports,Cee=Symbol.for("react.element"),xee=Symbol.for("react.fragment"),See=Object.prototype.hasOwnProperty,Iee=wee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kee={key:!0,ref:!0,__self:!0,__source:!0};function AM(e,n,t){var r,i={},o=null,d=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(d=n.ref);for(r in n)See.call(n,r)&&!kee.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:Cee,type:e,key:o,ref:d,props:i,_owner:Iee.current}}ng.Fragment=xee;ng.jsx=AM;ng.jsxs=AM;(function(e){e.exports=ng})(g3);const ma=g3.exports.jsx,ZN=g3.exports.jsxs;var kl=function(){return kl=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},kl.apply(this,arguments)};function Mi(e,n,t,r){function i(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function h(_){try{m(r.next(_))}catch(y){d(y)}}function f(_){try{m(r.throw(_))}catch(y){d(y)}}function m(_){_.done?o(_.value):i(_.value).then(h,f)}m((r=r.apply(e,n||[])).next())})}function Di(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(m){return function(_){return f([m,_])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function ta(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zt={exports:{}};(function(e,n){(function(t,r){r(n)})(e1,function(t){function r(u,s){var a=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),a.push.apply(a,l)}return a}function i(u){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?r(Object(a),!0).forEach(function(l){_(u,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(a,l))})}return u}function o(u,s,a,l,c,p,v){try{var g=u[p](v),b=g.value}catch(E){a(E);return}g.done?s(b):Promise.resolve(b).then(l,c)}function d(u){return function(){var s=this,a=arguments;return new Promise(function(l,c){var p=u.apply(s,a);function v(b){o(p,l,c,v,g,"next",b)}function g(b){o(p,l,c,v,g,"throw",b)}v(void 0)})}}function h(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function f(u,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}function m(u,s,a){return s&&f(u.prototype,s),a&&f(u,a),Object.defineProperty(u,"prototype",{writable:!1}),u}function _(u,s,a){return s in u?Object.defineProperty(u,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[s]=a,u}function y(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),s&&C(u,s)}function w(u){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},w(u)}function C(u,s){return C=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l},C(u,s)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(u,s,a){return I()?k=Reflect.construct:k=function(c,p,v){var g=[null];g.push.apply(g,p);var b=Function.bind.apply(c,g),E=new b;return v&&C(E,v.prototype),E},k.apply(null,arguments)}function U(u){return Function.toString.call(u).indexOf("[native code]")!==-1}function T(u){var s=typeof Map=="function"?new Map:void 0;return T=function(l){if(l===null||!U(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(l))return s.get(l);s.set(l,c)}function c(){return k(l,arguments,w(this).constructor)}return c.prototype=Object.create(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C(c,l)},T(u)}function N(u,s){if(u==null)return{};var a={},l=Object.keys(u),c,p;for(p=0;p<l.length;p++)c=l[p],!(s.indexOf(c)>=0)&&(a[c]=u[c]);return a}function H(u,s){if(u==null)return{};var a=N(u,s),l,c;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(u);for(c=0;c<p.length;c++)l=p[c],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(u,l)||(a[l]=u[l]))}return a}function $(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Q(u,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(u)}function P(u){var s=I();return function(){var l=w(u),c;if(s){var p=w(this).constructor;c=Reflect.construct(l,arguments,p)}else c=l.apply(this,arguments);return Q(this,c)}}function W(u){return K(u)||he(u)||le(u)||Ce()}function K(u){if(Array.isArray(u))return Se(u)}function he(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function le(u,s){if(!!u){if(typeof u=="string")return Se(u,s);var a=Object.prototype.toString.call(u).slice(8,-1);if(a==="Object"&&u.constructor&&(a=u.constructor.name),a==="Map"||a==="Set")return Array.from(u);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Se(u,s)}}function Se(u,s){(s==null||s>u.length)&&(s=u.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=u[a];return l}function Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(u,s){var a=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!a){if(Array.isArray(u)||(a=le(u))||s&&u&&typeof u.length=="number"){a&&(u=a);var l=0,c=function(){};return{s:c,n:function(){return l>=u.length?{done:!0}:{done:!1,value:u[l++]}},e:function(b){throw b},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,v=!1,g;return{s:function(){a=a.call(u)},n:function(){var b=a.next();return p=b.done,b},e:function(b){v=!0,g=b},f:function(){try{!p&&a.return!=null&&a.return()}finally{if(v)throw g}}}}var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof e1<"u"?e1:typeof self<"u"?self:{},de={exports:{}};(function(u){var s=function(a){var l=Object.prototype,c=l.hasOwnProperty,p,v=typeof Symbol=="function"?Symbol:{},g=v.iterator||"@@iterator",b=v.asyncIterator||"@@asyncIterator",E=v.toStringTag||"@@toStringTag";function x(Ve,Fe,rn){return Object.defineProperty(Ve,Fe,{value:rn,enumerable:!0,configurable:!0,writable:!0}),Ve[Fe]}try{x({},"")}catch{x=function(Fe,rn,Rn){return Fe[rn]=Rn}}function D(Ve,Fe,rn,Rn){var Sn=Fe&&Fe.prototype instanceof _e?Fe:_e,Xt=Object.create(Sn.prototype),Or=new nl(Rn||[]);return Xt._invoke=to(Ve,rn,Or),Xt}a.wrap=D;function L(Ve,Fe,rn){try{return{type:"normal",arg:Ve.call(Fe,rn)}}catch(Rn){return{type:"throw",arg:Rn}}}var G="suspendedStart",ie="suspendedYield",ae="executing",te="completed",ee={};function _e(){}function Re(){}function Le(){}var hn={};x(hn,g,function(){return this});var xn=Object.getPrototypeOf,Xn=xn&&xn(xn(pu([])));Xn&&Xn!==l&&c.call(Xn,g)&&(hn=Xn);var zn=Le.prototype=_e.prototype=Object.create(hn);Re.prototype=Le,x(zn,"constructor",Le),x(Le,"constructor",Re),Re.displayName=x(Le,E,"GeneratorFunction");function zi(Ve){["next","throw","return"].forEach(function(Fe){x(Ve,Fe,function(rn){return this._invoke(Fe,rn)})})}a.isGeneratorFunction=function(Ve){var Fe=typeof Ve=="function"&&Ve.constructor;return Fe?Fe===Re||(Fe.displayName||Fe.name)==="GeneratorFunction":!1},a.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,Le):(Ve.__proto__=Le,x(Ve,E,"GeneratorFunction")),Ve.prototype=Object.create(zn),Ve},a.awrap=function(Ve){return{__await:Ve}};function dt(Ve,Fe){function rn(Xt,Or,Ar,oi){var Rr=L(Ve[Xt],Ve,Or);if(Rr.type==="throw")oi(Rr.arg);else{var io=Rr.arg,ao=io.value;return ao&&typeof ao=="object"&&c.call(ao,"__await")?Fe.resolve(ao.__await).then(function(Oa){rn("next",Oa,Ar,oi)},function(Oa){rn("throw",Oa,Ar,oi)}):Fe.resolve(ao).then(function(Oa){io.value=Oa,Ar(io)},function(Oa){return rn("throw",Oa,Ar,oi)})}}var Rn;function Sn(Xt,Or){function Ar(){return new Fe(function(oi,Rr){rn(Xt,Or,oi,Rr)})}return Rn=Rn?Rn.then(Ar,Ar):Ar()}this._invoke=Sn}zi(dt.prototype),x(dt.prototype,b,function(){return this}),a.AsyncIterator=dt,a.async=function(Ve,Fe,rn,Rn,Sn){Sn===void 0&&(Sn=Promise);var Xt=new dt(D(Ve,Fe,rn,Rn),Sn);return a.isGeneratorFunction(Fe)?Xt:Xt.next().then(function(Or){return Or.done?Or.value:Xt.next()})};function to(Ve,Fe,rn){var Rn=G;return function(Xt,Or){if(Rn===ae)throw new Error("Generator is already running");if(Rn===te){if(Xt==="throw")throw Or;return ro()}for(rn.method=Xt,rn.arg=Or;;){var Ar=rn.delegate;if(Ar){var oi=Vi(Ar,rn);if(oi){if(oi===ee)continue;return oi}}if(rn.method==="next")rn.sent=rn._sent=rn.arg;else if(rn.method==="throw"){if(Rn===G)throw Rn=te,rn.arg;rn.dispatchException(rn.arg)}else rn.method==="return"&&rn.abrupt("return",rn.arg);Rn=ae;var Rr=L(Ve,Fe,rn);if(Rr.type==="normal"){if(Rn=rn.done?te:ie,Rr.arg===ee)continue;return{value:Rr.arg,done:rn.done}}else Rr.type==="throw"&&(Rn=te,rn.method="throw",rn.arg=Rr.arg)}}}function Vi(Ve,Fe){var rn=Ve.iterator[Fe.method];if(rn===p){if(Fe.delegate=null,Fe.method==="throw"){if(Ve.iterator.return&&(Fe.method="return",Fe.arg=p,Vi(Ve,Fe),Fe.method==="throw"))return ee;Fe.method="throw",Fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return ee}var Rn=L(rn,Ve.iterator,Fe.arg);if(Rn.type==="throw")return Fe.method="throw",Fe.arg=Rn.arg,Fe.delegate=null,ee;var Sn=Rn.arg;if(!Sn)return Fe.method="throw",Fe.arg=new TypeError("iterator result is not an object"),Fe.delegate=null,ee;if(Sn.done)Fe[Ve.resultName]=Sn.value,Fe.next=Ve.nextLoc,Fe.method!=="return"&&(Fe.method="next",Fe.arg=p);else return Sn;return Fe.delegate=null,ee}zi(zn),x(zn,E,"Generator"),x(zn,g,function(){return this}),x(zn,"toString",function(){return"[object Generator]"});function z0(Ve){var Fe={tryLoc:Ve[0]};1 in Ve&&(Fe.catchLoc=Ve[1]),2 in Ve&&(Fe.finallyLoc=Ve[2],Fe.afterLoc=Ve[3]),this.tryEntries.push(Fe)}function Vc(Ve){var Fe=Ve.completion||{};Fe.type="normal",delete Fe.arg,Ve.completion=Fe}function nl(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(z0,this),this.reset(!0)}a.keys=function(Ve){var Fe=[];for(var rn in Ve)Fe.push(rn);return Fe.reverse(),function Rn(){for(;Fe.length;){var Sn=Fe.pop();if(Sn in Ve)return Rn.value=Sn,Rn.done=!1,Rn}return Rn.done=!0,Rn}};function pu(Ve){if(Ve){var Fe=Ve[g];if(Fe)return Fe.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var rn=-1,Rn=function Sn(){for(;++rn<Ve.length;)if(c.call(Ve,rn))return Sn.value=Ve[rn],Sn.done=!1,Sn;return Sn.value=p,Sn.done=!0,Sn};return Rn.next=Rn}}return{next:ro}}a.values=pu;function ro(){return{value:p,done:!0}}return nl.prototype={constructor:nl,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(Vc),!Ve)for(var Fe in this)Fe.charAt(0)==="t"&&c.call(this,Fe)&&!isNaN(+Fe.slice(1))&&(this[Fe]=p)},stop:function(){this.done=!0;var Ve=this.tryEntries[0],Fe=Ve.completion;if(Fe.type==="throw")throw Fe.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var Fe=this;function rn(oi,Rr){return Xt.type="throw",Xt.arg=Ve,Fe.next=oi,Rr&&(Fe.method="next",Fe.arg=p),!!Rr}for(var Rn=this.tryEntries.length-1;Rn>=0;--Rn){var Sn=this.tryEntries[Rn],Xt=Sn.completion;if(Sn.tryLoc==="root")return rn("end");if(Sn.tryLoc<=this.prev){var Or=c.call(Sn,"catchLoc"),Ar=c.call(Sn,"finallyLoc");if(Or&&Ar){if(this.prev<Sn.catchLoc)return rn(Sn.catchLoc,!0);if(this.prev<Sn.finallyLoc)return rn(Sn.finallyLoc)}else if(Or){if(this.prev<Sn.catchLoc)return rn(Sn.catchLoc,!0)}else if(Ar){if(this.prev<Sn.finallyLoc)return rn(Sn.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ve,Fe){for(var rn=this.tryEntries.length-1;rn>=0;--rn){var Rn=this.tryEntries[rn];if(Rn.tryLoc<=this.prev&&c.call(Rn,"finallyLoc")&&this.prev<Rn.finallyLoc){var Sn=Rn;break}}Sn&&(Ve==="break"||Ve==="continue")&&Sn.tryLoc<=Fe&&Fe<=Sn.finallyLoc&&(Sn=null);var Xt=Sn?Sn.completion:{};return Xt.type=Ve,Xt.arg=Fe,Sn?(this.method="next",this.next=Sn.finallyLoc,ee):this.complete(Xt)},complete:function(Ve,Fe){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&Fe&&(this.next=Fe),ee},finish:function(Ve){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var rn=this.tryEntries[Fe];if(rn.finallyLoc===Ve)return this.complete(rn.completion,rn.afterLoc),Vc(rn),ee}},catch:function(Ve){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var rn=this.tryEntries[Fe];if(rn.tryLoc===Ve){var Rn=rn.completion;if(Rn.type==="throw"){var Sn=Rn.arg;Vc(rn)}return Sn}}throw new Error("illegal catch attempt")},delegateYield:function(Ve,Fe,rn){return this.delegate={iterator:pu(Ve),resultName:Fe,nextLoc:rn},this.method==="next"&&(this.arg=p),ee}},a}(u.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})(de);var De,Ge=new Uint8Array(16);function ge(){if(!De&&(De=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!De))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return De(Ge)}var Ae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qe(u){return typeof u=="string"&&Ae.test(u)}for(var J=[],X=0;X<256;++X)J.push((X+256).toString(16).substr(1));function me(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=(J[u[s+0]]+J[u[s+1]]+J[u[s+2]]+J[u[s+3]]+"-"+J[u[s+4]]+J[u[s+5]]+"-"+J[u[s+6]]+J[u[s+7]]+"-"+J[u[s+8]]+J[u[s+9]]+"-"+J[u[s+10]]+J[u[s+11]]+J[u[s+12]]+J[u[s+13]]+J[u[s+14]]+J[u[s+15]]).toLowerCase();if(!qe(a))throw TypeError("Stringified UUID is invalid");return a}function Ye(u){if(!qe(u))throw TypeError("Invalid UUID");var s,a=new Uint8Array(16);return a[0]=(s=parseInt(u.slice(0,8),16))>>>24,a[1]=s>>>16&255,a[2]=s>>>8&255,a[3]=s&255,a[4]=(s=parseInt(u.slice(9,13),16))>>>8,a[5]=s&255,a[6]=(s=parseInt(u.slice(14,18),16))>>>8,a[7]=s&255,a[8]=(s=parseInt(u.slice(19,23),16))>>>8,a[9]=s&255,a[10]=(s=parseInt(u.slice(24,36),16))/1099511627776&255,a[11]=s/4294967296&255,a[12]=s>>>24&255,a[13]=s>>>16&255,a[14]=s>>>8&255,a[15]=s&255,a}function $e(u){u=unescape(encodeURIComponent(u));for(var s=[],a=0;a<u.length;++a)s.push(u.charCodeAt(a));return s}var Ne="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function He(u,s,a){function l(c,p,v,g){if(typeof c=="string"&&(c=$e(c)),typeof p=="string"&&(p=Ye(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+c.length);if(b.set(p),b.set(c,p.length),b=a(b),b[6]=b[6]&15|s,b[8]=b[8]&63|128,v){g=g||0;for(var E=0;E<16;++E)v[g+E]=b[E];return v}return me(b)}try{l.name=u}catch{}return l.DNS=Ne,l.URL=xe,l}function Xe(u){if(typeof u=="string"){var s=unescape(encodeURIComponent(u));u=new Uint8Array(s.length);for(var a=0;a<s.length;++a)u[a]=s.charCodeAt(a)}return gn(Nn(On(u),u.length*8))}function gn(u){for(var s=[],a=u.length*32,l="0123456789abcdef",c=0;c<a;c+=8){var p=u[c>>5]>>>c%32&255,v=parseInt(l.charAt(p>>>4&15)+l.charAt(p&15),16);s.push(v)}return s}function kn(u){return(u+64>>>9<<4)+14+1}function Nn(u,s){u[s>>5]|=128<<s%32,u[kn(s)-1]=s;for(var a=1732584193,l=-271733879,c=-1732584194,p=271733878,v=0;v<u.length;v+=16){var g=a,b=l,E=c,x=p;a=ln(a,l,c,p,u[v],7,-680876936),p=ln(p,a,l,c,u[v+1],12,-389564586),c=ln(c,p,a,l,u[v+2],17,606105819),l=ln(l,c,p,a,u[v+3],22,-1044525330),a=ln(a,l,c,p,u[v+4],7,-176418897),p=ln(p,a,l,c,u[v+5],12,1200080426),c=ln(c,p,a,l,u[v+6],17,-1473231341),l=ln(l,c,p,a,u[v+7],22,-45705983),a=ln(a,l,c,p,u[v+8],7,1770035416),p=ln(p,a,l,c,u[v+9],12,-1958414417),c=ln(c,p,a,l,u[v+10],17,-42063),l=ln(l,c,p,a,u[v+11],22,-1990404162),a=ln(a,l,c,p,u[v+12],7,1804603682),p=ln(p,a,l,c,u[v+13],12,-40341101),c=ln(c,p,a,l,u[v+14],17,-1502002290),l=ln(l,c,p,a,u[v+15],22,1236535329),a=z(a,l,c,p,u[v+1],5,-165796510),p=z(p,a,l,c,u[v+6],9,-1069501632),c=z(c,p,a,l,u[v+11],14,643717713),l=z(l,c,p,a,u[v],20,-373897302),a=z(a,l,c,p,u[v+5],5,-701558691),p=z(p,a,l,c,u[v+10],9,38016083),c=z(c,p,a,l,u[v+15],14,-660478335),l=z(l,c,p,a,u[v+4],20,-405537848),a=z(a,l,c,p,u[v+9],5,568446438),p=z(p,a,l,c,u[v+14],9,-1019803690),c=z(c,p,a,l,u[v+3],14,-187363961),l=z(l,c,p,a,u[v+8],20,1163531501),a=z(a,l,c,p,u[v+13],5,-1444681467),p=z(p,a,l,c,u[v+2],9,-51403784),c=z(c,p,a,l,u[v+7],14,1735328473),l=z(l,c,p,a,u[v+12],20,-1926607734),a=R(a,l,c,p,u[v+5],4,-378558),p=R(p,a,l,c,u[v+8],11,-2022574463),c=R(c,p,a,l,u[v+11],16,1839030562),l=R(l,c,p,a,u[v+14],23,-35309556),a=R(a,l,c,p,u[v+1],4,-1530992060),p=R(p,a,l,c,u[v+4],11,1272893353),c=R(c,p,a,l,u[v+7],16,-155497632),l=R(l,c,p,a,u[v+10],23,-1094730640),a=R(a,l,c,p,u[v+13],4,681279174),p=R(p,a,l,c,u[v],11,-358537222),c=R(c,p,a,l,u[v+3],16,-722521979),l=R(l,c,p,a,u[v+6],23,76029189),a=R(a,l,c,p,u[v+9],4,-640364487),p=R(p,a,l,c,u[v+12],11,-421815835),c=R(c,p,a,l,u[v+15],16,530742520),l=R(l,c,p,a,u[v+2],23,-995338651),a=M(a,l,c,p,u[v],6,-198630844),p=M(p,a,l,c,u[v+7],10,1126891415),c=M(c,p,a,l,u[v+14],15,-1416354905),l=M(l,c,p,a,u[v+5],21,-57434055),a=M(a,l,c,p,u[v+12],6,1700485571),p=M(p,a,l,c,u[v+3],10,-1894986606),c=M(c,p,a,l,u[v+10],15,-1051523),l=M(l,c,p,a,u[v+1],21,-2054922799),a=M(a,l,c,p,u[v+8],6,1873313359),p=M(p,a,l,c,u[v+15],10,-30611744),c=M(c,p,a,l,u[v+6],15,-1560198380),l=M(l,c,p,a,u[v+13],21,1309151649),a=M(a,l,c,p,u[v+4],6,-145523070),p=M(p,a,l,c,u[v+11],10,-1120210379),c=M(c,p,a,l,u[v+2],15,718787259),l=M(l,c,p,a,u[v+9],21,-343485551),a=tn(a,g),l=tn(l,b),c=tn(c,E),p=tn(p,x)}return[a,l,c,p]}function On(u){if(u.length===0)return[];for(var s=u.length*8,a=new Uint32Array(kn(s)),l=0;l<s;l+=8)a[l>>5]|=(u[l/8]&255)<<l%32;return a}function tn(u,s){var a=(u&65535)+(s&65535),l=(u>>16)+(s>>16)+(a>>16);return l<<16|a&65535}function Un(u,s){return u<<s|u>>>32-s}function vn(u,s,a,l,c,p){return tn(Un(tn(tn(s,u),tn(l,p)),c),a)}function ln(u,s,a,l,c,p,v){return vn(s&a|~s&l,u,s,c,p,v)}function z(u,s,a,l,c,p,v){return vn(s&l|a&~l,u,s,c,p,v)}function R(u,s,a,l,c,p,v){return vn(s^a^l,u,s,c,p,v)}function M(u,s,a,l,c,p,v){return vn(a^(s|~l),u,s,c,p,v)}He("v3",48,Xe);function V(u,s,a){u=u||{};var l=u.random||(u.rng||ge)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return me(l)}function oe(u,s,a,l){switch(u){case 0:return s&a^~s&l;case 1:return s^a^l;case 2:return s&a^s&l^a&l;case 3:return s^a^l}}function ye(u,s){return u<<s|u>>>32-s}function Ie(u){var s=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){var l=unescape(encodeURIComponent(u));u=[];for(var c=0;c<l.length;++c)u.push(l.charCodeAt(c))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);for(var p=u.length/4+2,v=Math.ceil(p/16),g=new Array(v),b=0;b<v;++b){for(var E=new Uint32Array(16),x=0;x<16;++x)E[x]=u[b*64+x*4]<<24|u[b*64+x*4+1]<<16|u[b*64+x*4+2]<<8|u[b*64+x*4+3];g[b]=E}g[v-1][14]=(u.length-1)*8/Math.pow(2,32),g[v-1][14]=Math.floor(g[v-1][14]),g[v-1][15]=(u.length-1)*8&4294967295;for(var D=0;D<v;++D){for(var L=new Uint32Array(80),G=0;G<16;++G)L[G]=g[D][G];for(var ie=16;ie<80;++ie)L[ie]=ye(L[ie-3]^L[ie-8]^L[ie-14]^L[ie-16],1);for(var ae=a[0],te=a[1],ee=a[2],_e=a[3],Re=a[4],Le=0;Le<80;++Le){var hn=Math.floor(Le/20),xn=ye(ae,5)+oe(hn,te,ee,_e)+Re+s[hn]+L[Le]>>>0;Re=_e,_e=ee,ee=ye(te,30)>>>0,te=ae,ae=xn}a[0]=a[0]+ae>>>0,a[1]=a[1]+te>>>0,a[2]=a[2]+ee>>>0,a[3]=a[3]+_e>>>0,a[4]=a[4]+Re>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,a[0]&255,a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,a[1]&255,a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,a[2]&255,a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,a[3]&255,a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,a[4]&255]}He("v5",80,Ie);var Ke=function(u){try{return!!u()}catch{return!0}},cn=Ke,Je=!cn(function(){var u=function(){}.bind();return typeof u!="function"||u.hasOwnProperty("prototype")}),Be=Je,wn=Function.prototype,_t=wn.bind,vt=wn.call,Er=Be&&_t.bind(vt,vt),Hn=Be?function(u){return u&&Er(u)}:function(u){return u&&function(){return vt.apply(u,arguments)}},Ya=Hn,Mf=Ya({}.toString),ic=Ya("".slice),la=function(u){return ic(Mf(u),8,-1)},Jd=Hn,Df=Ke,Uo=la,ys=Object,ac=Jd("".split),Es=Df(function(){return!ys("z").propertyIsEnumerable(0)})?function(u){return Uo(u)=="String"?ac(u,""):ys(u)}:ys,Lo=TypeError,er=function(u){if(u==null)throw Lo("Can't call method on "+u);return u},sc=Es,Zd=er,Xa=function(u){return sc(Zd(u))},Bl=function(u){return u&&u.Math==Math&&u},kt=Bl(typeof globalThis=="object"&&globalThis)||Bl(typeof window=="object"&&window)||Bl(typeof self=="object"&&self)||Bl(typeof pe=="object"&&pe)||function(){return this}()||Function("return this")(),Gl={exports:{}},Po=kt,oc=Object.defineProperty,ws=function(u,s){try{oc(Po,u,{value:s,configurable:!0,writable:!0})}catch{Po[u]=s}return s},lc=kt,eh=ws,uc="__core-js_shared__",nh=lc[uc]||eh(uc,{}),jl=nh,cc=jl;(Gl.exports=function(u,s){return cc[u]||(cc[u]=s!==void 0?s:{})})("versions",[]).push({version:"3.23.4",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"});var th=er,Ks=Object,Fi=function(u){return Ks(th(u))},zl=Hn,Vl=Fi,Kl=zl({}.hasOwnProperty),Ir=Object.hasOwn||function(s,a){return Kl(Vl(s),a)},dc=Hn,rh=0,ih=Math.random(),ah=dc(1 .toString),Wl=function(u){return"Symbol("+(u===void 0?"":u)+")_"+ah(++rh+ih,36)},Tt=function(u){return typeof u=="function"},Ql=kt,hc=Tt,pc=function(u){return hc(u)?u:void 0},Ta=function(u,s){return arguments.length<2?pc(Ql[u]):Ql[u]&&Ql[u][s]},sh=Ta,$o=sh("navigator","userAgent")||"",fc=kt,vc=$o,mc=fc.process,oh=fc.Deno,gc=mc&&mc.versions||oh&&oh.version,lh=gc&&gc.v8,Ci,Yl;lh&&(Ci=lh.split("."),Yl=Ci[0]>0&&Ci[0]<4?1:+(Ci[0]+Ci[1])),!Yl&&vc&&(Ci=vc.match(/Edge\/(\d+)/),(!Ci||Ci[1]>=74)&&(Ci=vc.match(/Chrome\/(\d+)/),Ci&&(Yl=+Ci[1])));var Zn=Yl,$n=Zn,Te=Ke,Ee=!!Object.getOwnPropertySymbols&&!Te(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&$n&&$n<41}),Cn=Ee,An=Cn&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Nt=kt,ot=Gl.exports,Cs=Ir,wg=Wl,fC=Ee,vC=An,_c=ot("wks"),Xl=Nt.Symbol,mC=Xl&&Xl.for,MU=vC?Xl:Xl&&Xl.withoutSetter||wg,sr=function(u){if(!Cs(_c,u)||!(fC||typeof _c[u]=="string")){var s="Symbol."+u;fC&&Cs(Xl,u)?_c[u]=Xl[u]:vC&&mC?_c[u]=mC(s):_c[u]=MU(s)}return _c[u]},DU=Tt,xi=function(u){return typeof u=="object"?u!==null:DU(u)},UU=xi,LU=String,PU=TypeError,Si=function(u){if(UU(u))return u;throw PU(LU(u)+" is not an object")},gC={},$U=Ke,ua=!$U(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),FU=ua,HU=Ke,_C=FU&&HU(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ca={},qU=kt,bC=xi,Cg=qU.document,BU=bC(Cg)&&bC(Cg.createElement),Uf=function(u){return BU?Cg.createElement(u):{}},GU=ua,jU=Ke,zU=Uf,yC=!GU&&!jU(function(){return Object.defineProperty(zU("div"),"a",{get:function(){return 7}}).a!=7}),VU=Je,Lf=Function.prototype.call,Fr=VU?Lf.bind(Lf):function(){return Lf.apply(Lf,arguments)},KU=Hn,uh=KU({}.isPrototypeOf),WU=Ta,QU=Tt,YU=uh,XU=An,JU=Object,xg=XU?function(u){return typeof u=="symbol"}:function(u){var s=WU("Symbol");return QU(s)&&YU(s.prototype,JU(u))},ZU=String,ch=function(u){try{return ZU(u)}catch{return"Object"}},eL=Tt,nL=ch,tL=TypeError,Fo=function(u){if(eL(u))return u;throw tL(nL(u)+" is not a function")},rL=Fo,dh=function(u,s){var a=u[s];return a==null?void 0:rL(a)},Sg=Fr,Ig=Tt,kg=xi,iL=TypeError,aL=function(u,s){var a,l;if(s==="string"&&Ig(a=u.toString)&&!kg(l=Sg(a,u))||Ig(a=u.valueOf)&&!kg(l=Sg(a,u))||s!=="string"&&Ig(a=u.toString)&&!kg(l=Sg(a,u)))return l;throw iL("Can't convert object to primitive value")},sL=Fr,EC=xi,wC=xg,oL=dh,lL=aL,uL=sr,cL=TypeError,dL=uL("toPrimitive"),CC=function(u,s){if(!EC(u)||wC(u))return u;var a=oL(u,dL),l;if(a){if(s===void 0&&(s="default"),l=sL(a,u,s),!EC(l)||wC(l))return l;throw cL("Can't convert object to primitive value")}return s===void 0&&(s="number"),lL(u,s)},hL=CC,pL=xg,Tg=function(u){var s=hL(u,"string");return pL(s)?s:s+""},fL=ua,vL=yC,mL=_C,Pf=Si,xC=Tg,gL=TypeError,Ng=Object.defineProperty,_L=Object.getOwnPropertyDescriptor,Og="enumerable",Ag="configurable",Rg="writable";ca.f=fL?mL?function(s,a,l){if(Pf(s),a=xC(a),Pf(l),typeof s=="function"&&a==="prototype"&&"value"in l&&Rg in l&&!l[Rg]){var c=_L(s,a);c&&c[Rg]&&(s[a]=l.value,l={configurable:Ag in l?l[Ag]:c[Ag],enumerable:Og in l?l[Og]:c[Og],writable:!1})}return Ng(s,a,l)}:Ng:function(s,a,l){if(Pf(s),a=xC(a),Pf(l),vL)try{return Ng(s,a,l)}catch{}if("get"in l||"set"in l)throw gL("Accessors not supported");return"value"in l&&(s[a]=l.value),s};var bL=Math.ceil,yL=Math.floor,EL=Math.trunc||function(s){var a=+s;return(a>0?yL:bL)(a)},wL=EL,bc=function(u){var s=+u;return s!==s||s===0?0:wL(s)},CL=bc,xL=Math.max,SL=Math.min,$f=function(u,s){var a=CL(u);return a<0?xL(a+s,0):SL(a,s)},IL=bc,kL=Math.min,Ff=function(u){return u>0?kL(IL(u),9007199254740991):0},TL=Ff,Ho=function(u){return TL(u.length)},NL=Xa,OL=$f,AL=Ho,SC=function(u){return function(s,a,l){var c=NL(s),p=AL(c),v=OL(l,p),g;if(u&&a!=a){for(;p>v;)if(g=c[v++],g!=g)return!0}else for(;p>v;v++)if((u||v in c)&&c[v]===a)return u||v||0;return!u&&-1}},Mg={includes:SC(!0),indexOf:SC(!1)},Hf={},RL=Hn,Dg=Ir,ML=Xa,DL=Mg.indexOf,UL=Hf,IC=RL([].push),kC=function(u,s){var a=ML(u),l=0,c=[],p;for(p in a)!Dg(UL,p)&&Dg(a,p)&&IC(c,p);for(;s.length>l;)Dg(a,p=s[l++])&&(~DL(c,p)||IC(c,p));return c},Ug=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],LL=kC,PL=Ug,Lg=Object.keys||function(s){return LL(s,PL)},$L=ua,FL=_C,HL=ca,qL=Si,BL=Xa,GL=Lg;gC.f=$L&&!FL?Object.defineProperties:function(s,a){qL(s);for(var l=BL(a),c=GL(a),p=c.length,v=0,g;p>v;)HL.f(s,g=c[v++],l[g]);return s};var jL=Ta,TC=jL("document","documentElement"),zL=Gl.exports,VL=Wl,NC=zL("keys"),Pg=function(u){return NC[u]||(NC[u]=VL(u))},KL=Si,WL=gC,OC=Ug,QL=Hf,YL=TC,XL=Uf,JL=Pg,AC=">",RC="<",$g="prototype",Fg="script",MC=JL("IE_PROTO"),Hg=function(){},DC=function(u){return RC+Fg+AC+u+RC+"/"+Fg+AC},UC=function(u){u.write(DC("")),u.close();var s=u.parentWindow.Object;return u=null,s},ZL=function(){var u=XL("iframe"),s="java"+Fg+":",a;return u.style.display="none",YL.appendChild(u),u.src=String(s),a=u.contentWindow.document,a.open(),a.write(DC("document.F=Object")),a.close(),a.F},qf,Bf=function(){try{qf=new ActiveXObject("htmlfile")}catch{}Bf=typeof document<"u"?document.domain&&qf?UC(qf):ZL():UC(qf);for(var u=OC.length;u--;)delete Bf[$g][OC[u]];return Bf()};QL[MC]=!0;var Gf=Object.create||function(s,a){var l;return s!==null?(Hg[$g]=KL(s),l=new Hg,Hg[$g]=null,l[MC]=s):l=Bf(),a===void 0?l:WL.f(l,a)},eP=sr,nP=Gf,tP=ca.f,qg=eP("unscopables"),Bg=Array.prototype;Bg[qg]==null&&tP(Bg,qg,{configurable:!0,value:nP(null)});var jf=function(u){Bg[qg][u]=!0},hh={},rP=Hn,iP=Tt,Gg=jl,aP=rP(Function.toString);iP(Gg.inspectSource)||(Gg.inspectSource=function(u){return aP(u)});var zf=Gg.inspectSource,sP=kt,oP=Tt,lP=zf,LC=sP.WeakMap,uP=oP(LC)&&/native code/.test(lP(LC)),Vf=function(u,s){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:s}},cP=ua,dP=ca,hP=Vf,yc=cP?function(u,s,a){return dP.f(u,s,hP(1,a))}:function(u,s,a){return u[s]=a,u},pP=uP,PC=kt,jg=Hn,fP=xi,vP=yc,zg=Ir,Vg=jl,mP=Pg,gP=Hf,$C="Object already initialized",Kg=PC.TypeError,_P=PC.WeakMap,Kf,ph,Wf,bP=function(u){return Wf(u)?ph(u):Kf(u,{})},yP=function(u){return function(s){var a;if(!fP(s)||(a=ph(s)).type!==u)throw Kg("Incompatible receiver, "+u+" required");return a}};if(pP||Vg.state){var Jl=Vg.state||(Vg.state=new _P),EP=jg(Jl.get),FC=jg(Jl.has),wP=jg(Jl.set);Kf=function(u,s){if(FC(Jl,u))throw new Kg($C);return s.facade=u,wP(Jl,u,s),s},ph=function(u){return EP(Jl,u)||{}},Wf=function(u){return FC(Jl,u)}}else{var Ec=mP("state");gP[Ec]=!0,Kf=function(u,s){if(zg(u,Ec))throw new Kg($C);return s.facade=u,vP(u,Ec,s),s},ph=function(u){return zg(u,Ec)?u[Ec]:{}},Wf=function(u){return zg(u,Ec)}}var wc={set:Kf,get:ph,has:Wf,enforce:bP,getterFor:yP},fh={},Wg={},HC={}.propertyIsEnumerable,qC=Object.getOwnPropertyDescriptor,CP=qC&&!HC.call({1:2},1);Wg.f=CP?function(s){var a=qC(this,s);return!!a&&a.enumerable}:HC;var xP=ua,SP=Fr,IP=Wg,kP=Vf,TP=Xa,NP=Tg,OP=Ir,AP=yC,BC=Object.getOwnPropertyDescriptor;fh.f=xP?BC:function(s,a){if(s=TP(s),a=NP(a),AP)try{return BC(s,a)}catch{}if(OP(s,a))return kP(!SP(IP.f,s,a),s[a])};var GC={exports:{}},Qg=ua,RP=Ir,jC=Function.prototype,MP=Qg&&Object.getOwnPropertyDescriptor,Yg=RP(jC,"name"),DP=Yg&&function(){}.name==="something",UP=Yg&&(!Qg||Qg&&MP(jC,"name").configurable),Xg={EXISTS:Yg,PROPER:DP,CONFIGURABLE:UP},LP=Ke,PP=Tt,Qf=Ir,Jg=ua,$P=Xg.CONFIGURABLE,FP=zf,zC=wc,HP=zC.enforce,qP=zC.get,Yf=Object.defineProperty,BP=Jg&&!LP(function(){return Yf(function(){},"length",{value:8}).length!==8}),GP=String(String).split("String"),jP=GC.exports=function(u,s,a){String(s).slice(0,7)==="Symbol("&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(s="get "+s),a&&a.setter&&(s="set "+s),(!Qf(u,"name")||$P&&u.name!==s)&&(Jg?Yf(u,"name",{value:s,configurable:!0}):u.name=s),BP&&a&&Qf(a,"arity")&&u.length!==a.arity&&Yf(u,"length",{value:a.arity});try{a&&Qf(a,"constructor")&&a.constructor?Jg&&Yf(u,"prototype",{writable:!1}):u.prototype&&(u.prototype=void 0)}catch{}var l=HP(u);return Qf(l,"source")||(l.source=GP.join(typeof s=="string"?s:"")),u};Function.prototype.toString=jP(function(){return PP(this)&&qP(this).source||FP(this)},"toString");var zP=Tt,VP=ca,KP=GC.exports,WP=ws,Ja=function(u,s,a,l){l||(l={});var c=l.enumerable,p=l.name!==void 0?l.name:s;if(zP(a)&&KP(a,p,l),l.global)c?u[s]=a:WP(s,a);else{try{l.unsafe?u[s]&&(c=!0):delete u[s]}catch{}c?u[s]=a:VP.f(u,s,{value:a,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return u},vh={},QP=kC,YP=Ug,XP=YP.concat("length","prototype");vh.f=Object.getOwnPropertyNames||function(s){return QP(s,XP)};var Zg={};Zg.f=Object.getOwnPropertySymbols;var JP=Ta,ZP=Hn,e8=vh,n8=Zg,t8=Si,r8=ZP([].concat),i8=JP("Reflect","ownKeys")||function(s){var a=e8.f(t8(s)),l=n8.f;return l?r8(a,l(s)):a},VC=Ir,a8=i8,s8=fh,o8=ca,l8=function(u,s,a){for(var l=a8(s),c=o8.f,p=s8.f,v=0;v<l.length;v++){var g=l[v];!VC(u,g)&&!(a&&VC(a,g))&&c(u,g,p(s,g))}},u8=Ke,c8=Tt,d8=/#|\.prototype\./,mh=function(u,s){var a=p8[h8(u)];return a==v8?!0:a==f8?!1:c8(s)?u8(s):!!s},h8=mh.normalize=function(u){return String(u).replace(d8,".").toLowerCase()},p8=mh.data={},f8=mh.NATIVE="N",v8=mh.POLYFILL="P",Xf=mh,e_=kt,m8=fh.f,g8=yc,_8=Ja,b8=ws,y8=l8,E8=Xf,Gt=function(u,s){var a=u.target,l=u.global,c=u.stat,p,v,g,b,E,x;if(l?v=e_:c?v=e_[a]||b8(a,{}):v=(e_[a]||{}).prototype,v)for(g in s){if(E=s[g],u.dontCallGetSet?(x=m8(v,g),b=x&&x.value):b=v[g],p=E8(l?g:a+(c?".":"#")+g,u.forced),!p&&b!==void 0){if(typeof E==typeof b)continue;y8(E,b)}(u.sham||b&&b.sham)&&g8(E,"sham",!0),_8(v,g,E,u)}},w8=Ke,C8=!w8(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),x8=Ir,S8=Tt,I8=Fi,k8=Pg,T8=C8,KC=k8("IE_PROTO"),n_=Object,N8=n_.prototype,WC=T8?n_.getPrototypeOf:function(u){var s=I8(u);if(x8(s,KC))return s[KC];var a=s.constructor;return S8(a)&&s instanceof a?a.prototype:s instanceof n_?N8:null},O8=Ke,A8=Tt,QC=WC,R8=Ja,M8=sr,t_=M8("iterator"),YC=!1,Zl,r_,i_;[].keys&&(i_=[].keys(),"next"in i_?(r_=QC(QC(i_)),r_!==Object.prototype&&(Zl=r_)):YC=!0);var D8=Zl==null||O8(function(){var u={};return Zl[t_].call(u)!==u});D8&&(Zl={}),A8(Zl[t_])||R8(Zl,t_,function(){return this});var XC={IteratorPrototype:Zl,BUGGY_SAFARI_ITERATORS:YC},U8=ca.f,L8=Ir,P8=sr,JC=P8("toStringTag"),Jf=function(u,s,a){u&&!a&&(u=u.prototype),u&&!L8(u,JC)&&U8(u,JC,{configurable:!0,value:s})},$8=XC.IteratorPrototype,F8=Gf,H8=Vf,q8=Jf,B8=hh,G8=function(){return this},j8=function(u,s,a,l){var c=s+" Iterator";return u.prototype=F8($8,{next:H8(+!l,a)}),q8(u,c,!1),B8[c]=G8,u},z8=Tt,V8=String,K8=TypeError,W8=function(u){if(typeof u=="object"||z8(u))return u;throw K8("Can't set "+V8(u)+" as a prototype")},Q8=Hn,Y8=Si,X8=W8,a_=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,s={},a;try{a=Q8(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),a(s,[]),u=s instanceof Array}catch{}return function(c,p){return Y8(c),X8(p),u?a(c,p):c.__proto__=p,c}}():void 0),J8=Gt,Z8=Fr,ZC=Xg,e7=Tt,n7=j8,ex=WC,nx=a_,t7=Jf,r7=yc,s_=Ja,i7=sr,a7=hh,tx=XC,s7=ZC.PROPER,o7=ZC.CONFIGURABLE,rx=tx.IteratorPrototype,Zf=tx.BUGGY_SAFARI_ITERATORS,gh=i7("iterator"),ix="keys",_h="values",ax="entries",l7=function(){return this},o_=function(u,s,a,l,c,p,v){n7(a,s,l);var g=function(ee){if(ee===c&&L)return L;if(!Zf&&ee in x)return x[ee];switch(ee){case ix:return function(){return new a(this,ee)};case _h:return function(){return new a(this,ee)};case ax:return function(){return new a(this,ee)}}return function(){return new a(this)}},b=s+" Iterator",E=!1,x=u.prototype,D=x[gh]||x["@@iterator"]||c&&x[c],L=!Zf&&D||g(c),G=s=="Array"&&x.entries||D,ie,ae,te;if(G&&(ie=ex(G.call(new u)),ie!==Object.prototype&&ie.next&&(ex(ie)!==rx&&(nx?nx(ie,rx):e7(ie[gh])||s_(ie,gh,l7)),t7(ie,b,!0))),s7&&c==_h&&D&&D.name!==_h&&(o7?r7(x,"name",_h):(E=!0,L=function(){return Z8(D,this)})),c)if(ae={values:g(_h),keys:p?L:g(ix),entries:g(ax)},v)for(te in ae)(Zf||E||!(te in x))&&s_(x,te,ae[te]);else J8({target:s,proto:!0,forced:Zf||E},ae);return x[gh]!==L&&s_(x,gh,L,{name:c}),a7[s]=L,ae},u7=Xa,l_=jf,sx=hh,ox=wc,c7=ca.f,d7=o_,h7=ua,lx="Array Iterator",p7=ox.set,f7=ox.getterFor(lx),v7=d7(Array,"Array",function(u,s){p7(this,{type:lx,target:u7(u),index:0,kind:s})},function(){var u=f7(this),s=u.target,a=u.kind,l=u.index++;return!s||l>=s.length?(u.target=void 0,{value:void 0,done:!0}):a=="keys"?{value:l,done:!1}:a=="values"?{value:s[l],done:!1}:{value:[l,s[l]],done:!1}},"values"),ux=sx.Arguments=sx.Array;if(l_("keys"),l_("values"),l_("entries"),h7&&ux.name!=="values")try{c7(ux,"name",{value:"values"})}catch{}var m7=sr,g7=m7("toStringTag"),cx={};cx[g7]="z";var u_=String(cx)==="[object z]",_7=u_,b7=Tt,e0=la,y7=sr,E7=y7("toStringTag"),w7=Object,C7=e0(function(){return arguments}())=="Arguments",x7=function(u,s){try{return u[s]}catch{}},n0=_7?e0:function(u){var s,a,l;return u===void 0?"Undefined":u===null?"Null":typeof(a=x7(s=w7(u),E7))=="string"?a:C7?e0(s):(l=e0(s))=="Object"&&b7(s.callee)?"Arguments":l},S7=u_,I7=n0,k7=S7?{}.toString:function(){return"[object "+I7(this)+"]"},T7=u_,N7=Ja,O7=k7;T7||N7(Object.prototype,"toString",O7,{unsafe:!0});var A7=la,R7=kt,t0=A7(R7.process)=="process",M7=Ta,D7=ca,U7=sr,L7=ua,dx=U7("species"),hx=function(u){var s=M7(u),a=D7.f;L7&&s&&!s[dx]&&a(s,dx,{configurable:!0,get:function(){return this}})},P7=uh,$7=TypeError,c_=function(u,s){if(P7(s,u))return u;throw $7("Incorrect invocation")},F7=Hn,H7=Ke,px=Tt,q7=n0,B7=Ta,G7=zf,fx=function(){},j7=[],vx=B7("Reflect","construct"),d_=/^\s*(?:class|function)\b/,z7=F7(d_.exec),V7=!d_.exec(fx),bh=function(s){if(!px(s))return!1;try{return vx(fx,j7,s),!0}catch{return!1}},mx=function(s){if(!px(s))return!1;switch(q7(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return V7||!!z7(d_,G7(s))}catch{return!0}};mx.sham=!0;var h_=!vx||H7(function(){var u;return bh(bh.call)||!bh(Object)||!bh(function(){u=!0})||u})?mx:bh,K7=h_,W7=ch,Q7=TypeError,Y7=function(u){if(K7(u))return u;throw Q7(W7(u)+" is not a constructor")},gx=Si,X7=Y7,J7=sr,Z7=J7("species"),e$=function(u,s){var a=gx(u).constructor,l;return a===void 0||(l=gx(a)[Z7])==null?s:X7(l)},n$=Je,_x=Function.prototype,bx=_x.apply,yx=_x.call,Ex=typeof Reflect=="object"&&Reflect.apply||(n$?yx.bind(bx):function(){return yx.apply(bx,arguments)}),wx=Hn,t$=Fo,r$=Je,i$=wx(wx.bind),yh=function(u,s){return t$(u),s===void 0?u:r$?i$(u,s):function(){return u.apply(s,arguments)}},a$=Hn,Cx=a$([].slice),s$=TypeError,o$=function(u,s){if(u<s)throw s$("Not enough arguments");return u},l$=$o,xx=/(?:ipad|iphone|ipod).*applewebkit/i.test(l$),da=kt,u$=Ex,c$=yh,Sx=Tt,d$=Ir,h$=Ke,Ix=TC,p$=Cx,kx=Uf,f$=o$,v$=xx,m$=t0,p_=da.setImmediate,f_=da.clearImmediate,g$=da.process,v_=da.Dispatch,_$=da.Function,Tx=da.MessageChannel,b$=da.String,m_=0,Eh={},Nx="onreadystatechange",wh,eu,g_,__;try{wh=da.location}catch{}var b_=function(u){if(d$(Eh,u)){var s=Eh[u];delete Eh[u],s()}},y_=function(u){return function(){b_(u)}},Ox=function(u){b_(u.data)},Ax=function(u){da.postMessage(b$(u),wh.protocol+"//"+wh.host)};(!p_||!f_)&&(p_=function(s){f$(arguments.length,1);var a=Sx(s)?s:_$(s),l=p$(arguments,1);return Eh[++m_]=function(){u$(a,void 0,l)},eu(m_),m_},f_=function(s){delete Eh[s]},m$?eu=function(u){g$.nextTick(y_(u))}:v_&&v_.now?eu=function(u){v_.now(y_(u))}:Tx&&!v$?(g_=new Tx,__=g_.port2,g_.port1.onmessage=Ox,eu=c$(__.postMessage,__)):da.addEventListener&&Sx(da.postMessage)&&!da.importScripts&&wh&&wh.protocol!=="file:"&&!h$(Ax)?(eu=Ax,da.addEventListener("message",Ox,!1)):Nx in kx("script")?eu=function(u){Ix.appendChild(kx("script"))[Nx]=function(){Ix.removeChild(this),b_(u)}}:eu=function(u){setTimeout(y_(u),0)});var Rx={set:p_,clear:f_},y$=$o,E$=kt,w$=/ipad|iphone|ipod/i.test(y$)&&E$.Pebble!==void 0,C$=$o,x$=/web0s(?!.*chrome)/i.test(C$),nu=kt,Mx=yh,S$=fh.f,E_=Rx.set,I$=xx,k$=w$,T$=x$,w_=t0,Dx=nu.MutationObserver||nu.WebKitMutationObserver,Ux=nu.document,Lx=nu.process,r0=nu.Promise,Px=S$(nu,"queueMicrotask"),$x=Px&&Px.value,Ch,tu,xh,Cc,C_,x_,i0,Fx;$x||(Ch=function(){var u,s;for(w_&&(u=Lx.domain)&&u.exit();tu;){s=tu.fn,tu=tu.next;try{s()}catch(a){throw tu?Cc():xh=void 0,a}}xh=void 0,u&&u.enter()},!I$&&!w_&&!T$&&Dx&&Ux?(C_=!0,x_=Ux.createTextNode(""),new Dx(Ch).observe(x_,{characterData:!0}),Cc=function(){x_.data=C_=!C_}):!k$&&r0&&r0.resolve?(i0=r0.resolve(void 0),i0.constructor=r0,Fx=Mx(i0.then,i0),Cc=function(){Fx(Ch)}):w_?Cc=function(){Lx.nextTick(Ch)}:(E_=Mx(E_,nu),Cc=function(){E_(Ch)}));var N$=$x||function(u){var s={fn:u,next:void 0};xh&&(xh.next=s),tu||(tu=s,Cc()),xh=s},O$=kt,A$=function(u,s){var a=O$.console;a&&a.error&&(arguments.length==1?a.error(u):a.error(u,s))},S_=function(u){try{return{error:!1,value:u()}}catch(s){return{error:!0,value:s}}},Hx=function(){this.head=null,this.tail=null};Hx.prototype={add:function(u){var s={item:u,next:null};this.head?this.tail.next=s:this.head=s,this.tail=s},get:function(){var u=this.head;if(u)return this.head=u.next,this.tail===u&&(this.tail=null),u.item}};var R$=Hx,M$=kt,a0=M$.Promise,D$=typeof window=="object"&&typeof Deno!="object",U$=kt,Sh=a0,L$=Tt,P$=Xf,$$=zf,F$=sr,H$=D$,qx=Zn;Sh&&Sh.prototype;var q$=F$("species"),I_=!1,Bx=L$(U$.PromiseRejectionEvent),B$=P$("Promise",function(){var u=$$(Sh),s=u!==String(Sh);if(!s&&qx===66)return!0;if(qx>=51&&/native code/.test(u))return!1;var a=new Sh(function(p){p(1)}),l=function(p){p(function(){},function(){})},c=a.constructor={};return c[q$]=l,I_=a.then(function(){})instanceof l,I_?!s&&H$&&!Bx:!0}),Ih={CONSTRUCTOR:B$,REJECTION_EVENT:Bx,SUBCLASSING:I_},xc={},Gx=Fo,G$=function(u){var s,a;this.promise=new u(function(l,c){if(s!==void 0||a!==void 0)throw TypeError("Bad Promise constructor");s=l,a=c}),this.resolve=Gx(s),this.reject=Gx(a)};xc.f=function(u){return new G$(u)};var j$=Gt,s0=t0,qo=kt,Sc=Fr,jx=Ja,zx=a_,z$=Jf,V$=hx,K$=Fo,o0=Tt,W$=xi,Q$=c_,Y$=e$,Vx=Rx.set,k_=N$,X$=A$,J$=S_,Z$=R$,Kx=wc,l0=a0,T_=Ih,Wx=xc,u0="Promise",Qx=T_.CONSTRUCTOR,eF=T_.REJECTION_EVENT,nF=T_.SUBCLASSING,N_=Kx.getterFor(u0),tF=Kx.set,Ic=l0&&l0.prototype,ru=l0,c0=Ic,Yx=qo.TypeError,O_=qo.document,A_=qo.process,R_=Wx.f,rF=R_,iF=!!(O_&&O_.createEvent&&qo.dispatchEvent),Xx="unhandledrejection",aF="rejectionhandled",Jx=0,Zx=1,sF=2,M_=1,eS=2,d0,nS,oF,tS,rS=function(u){var s;return W$(u)&&o0(s=u.then)?s:!1},iS=function(u,s){var a=s.value,l=s.state==Zx,c=l?u.ok:u.fail,p=u.resolve,v=u.reject,g=u.domain,b,E,x;try{c?(l||(s.rejection===eS&&uF(s),s.rejection=M_),c===!0?b=a:(g&&g.enter(),b=c(a),g&&(g.exit(),x=!0)),b===u.promise?v(Yx("Promise-chain cycle")):(E=rS(b))?Sc(E,b,p,v):p(b)):v(a)}catch(D){g&&!x&&g.exit(),v(D)}},aS=function(u,s){u.notified||(u.notified=!0,k_(function(){for(var a=u.reactions,l;l=a.get();)iS(l,u);u.notified=!1,s&&!u.rejection&&lF(u)}))},sS=function(u,s,a){var l,c;iF?(l=O_.createEvent("Event"),l.promise=s,l.reason=a,l.initEvent(u,!1,!0),qo.dispatchEvent(l)):l={promise:s,reason:a},!eF&&(c=qo["on"+u])?c(l):u===Xx&&X$("Unhandled promise rejection",a)},lF=function(u){Sc(Vx,qo,function(){var s=u.facade,a=u.value,l=oS(u),c;if(l&&(c=J$(function(){s0?A_.emit("unhandledRejection",a,s):sS(Xx,s,a)}),u.rejection=s0||oS(u)?eS:M_,c.error))throw c.value})},oS=function(u){return u.rejection!==M_&&!u.parent},uF=function(u){Sc(Vx,qo,function(){var s=u.facade;s0?A_.emit("rejectionHandled",s):sS(aF,s,u.value)})},kc=function(u,s,a){return function(l){u(s,l,a)}},Tc=function(u,s,a){u.done||(u.done=!0,a&&(u=a),u.value=s,u.state=sF,aS(u,!0))},D_=function(u,s,a){if(!u.done){u.done=!0,a&&(u=a);try{if(u.facade===s)throw Yx("Promise can't be resolved itself");var l=rS(s);l?k_(function(){var c={done:!1};try{Sc(l,s,kc(D_,c,u),kc(Tc,c,u))}catch(p){Tc(c,p,u)}}):(u.value=s,u.state=Zx,aS(u,!1))}catch(c){Tc({done:!1},c,u)}}};if(Qx&&(ru=function(s){Q$(this,c0),K$(s),Sc(d0,this);var a=N_(this);try{s(kc(D_,a),kc(Tc,a))}catch(l){Tc(a,l)}},c0=ru.prototype,d0=function(s){tF(this,{type:u0,done:!1,notified:!1,parent:!1,reactions:new Z$,rejection:!1,state:Jx,value:void 0})},d0.prototype=jx(c0,"then",function(s,a){var l=N_(this),c=R_(Y$(this,ru));return l.parent=!0,c.ok=o0(s)?s:!0,c.fail=o0(a)&&a,c.domain=s0?A_.domain:void 0,l.state==Jx?l.reactions.add(c):k_(function(){iS(c,l)}),c.promise}),nS=function(){var u=new d0,s=N_(u);this.promise=u,this.resolve=kc(D_,s),this.reject=kc(Tc,s)},Wx.f=R_=function(u){return u===ru||u===oF?new nS(u):rF(u)},o0(l0)&&Ic!==Object.prototype)){tS=Ic.then,nF||jx(Ic,"then",function(s,a){var l=this;return new ru(function(c,p){Sc(tS,l,c,p)}).then(s,a)},{unsafe:!0});try{delete Ic.constructor}catch{}zx&&zx(Ic,c0)}j$({global:!0,constructor:!0,wrap:!0,forced:Qx},{Promise:ru}),z$(ru,u0,!1),V$(u0);var cF=sr,dF=hh,hF=cF("iterator"),pF=Array.prototype,fF=function(u){return u!==void 0&&(dF.Array===u||pF[hF]===u)},vF=n0,lS=dh,mF=hh,gF=sr,_F=gF("iterator"),uS=function(u){if(u!=null)return lS(u,_F)||lS(u,"@@iterator")||mF[vF(u)]},bF=Fr,yF=Fo,EF=Si,wF=ch,CF=uS,xF=TypeError,SF=function(u,s){var a=arguments.length<2?CF(u):s;if(yF(a))return EF(bF(a,u));throw xF(wF(u)+" is not iterable")},IF=Fr,cS=Si,kF=dh,TF=function(u,s,a){var l,c;cS(u);try{if(l=kF(u,"return"),!l){if(s==="throw")throw a;return a}l=IF(l,u)}catch(p){c=!0,l=p}if(s==="throw")throw a;if(c)throw l;return cS(l),a},NF=yh,OF=Fr,AF=Si,RF=ch,MF=fF,DF=Ho,dS=uh,UF=SF,LF=uS,hS=TF,PF=TypeError,h0=function(u,s){this.stopped=u,this.result=s},pS=h0.prototype,p0=function(u,s,a){var l=a&&a.that,c=!!(a&&a.AS_ENTRIES),p=!!(a&&a.IS_RECORD),v=!!(a&&a.IS_ITERATOR),g=!!(a&&a.INTERRUPTED),b=NF(s,l),E,x,D,L,G,ie,ae,te=function(_e){return E&&hS(E,"normal",_e),new h0(!0,_e)},ee=function(_e){return c?(AF(_e),g?b(_e[0],_e[1],te):b(_e[0],_e[1])):g?b(_e,te):b(_e)};if(p)E=u.iterator;else if(v)E=u;else{if(x=LF(u),!x)throw PF(RF(u)+" is not iterable");if(MF(x)){for(D=0,L=DF(u);L>D;D++)if(G=ee(u[D]),G&&dS(pS,G))return G;return new h0(!1)}E=UF(u,x)}for(ie=p?u.next:E.next;!(ae=OF(ie,E)).done;){try{G=ee(ae.value)}catch(_e){hS(E,"throw",_e)}if(typeof G=="object"&&G&&dS(pS,G))return G}return new h0(!1)},$F=sr,fS=$F("iterator"),vS=!1;try{var FF=0,mS={next:function(){return{done:!!FF++}},return:function(){vS=!0}};mS[fS]=function(){return this},Array.from(mS,function(){throw 2})}catch{}var gS=function(u,s){if(!s&&!vS)return!1;var a=!1;try{var l={};l[fS]=function(){return{next:function(){return{done:a=!0}}}},u(l)}catch{}return a},HF=a0,qF=gS,BF=Ih.CONSTRUCTOR,_S=BF||!qF(function(u){HF.all(u).then(void 0,function(){})}),GF=Gt,jF=Fr,zF=Fo,VF=xc,KF=S_,WF=p0,QF=_S;GF({target:"Promise",stat:!0,forced:QF},{all:function(s){var a=this,l=VF.f(a),c=l.resolve,p=l.reject,v=KF(function(){var g=zF(a.resolve),b=[],E=0,x=1;WF(s,function(D){var L=E++,G=!1;x++,jF(g,a,D).then(function(ie){G||(G=!0,b[L]=ie,--x||c(b))},p)}),--x||c(b)});return v.error&&p(v.value),l.promise}});var YF=Gt,XF=Ih.CONSTRUCTOR,U_=a0,JF=Ta,ZF=Tt,e9=Ja,bS=U_&&U_.prototype;if(YF({target:"Promise",proto:!0,forced:XF,real:!0},{catch:function(u){return this.then(void 0,u)}}),ZF(U_)){var yS=JF("Promise").prototype.catch;bS.catch!==yS&&e9(bS,"catch",yS,{unsafe:!0})}var n9=Gt,t9=Fr,r9=Fo,i9=xc,a9=S_,s9=p0,o9=_S;n9({target:"Promise",stat:!0,forced:o9},{race:function(s){var a=this,l=i9.f(a),c=l.reject,p=a9(function(){var v=r9(a.resolve);s9(s,function(g){t9(v,a,g).then(l.resolve,c)})});return p.error&&c(p.value),l.promise}});var l9=Gt,u9=Fr,c9=xc,d9=Ih.CONSTRUCTOR;l9({target:"Promise",stat:!0,forced:d9},{reject:function(s){var a=c9.f(this);return u9(a.reject,void 0,s),a.promise}});var h9=Si,p9=xi,f9=xc,v9=function(u,s){if(h9(u),p9(s)&&s.constructor===u)return s;var a=f9.f(u),l=a.resolve;return l(s),a.promise},m9=Gt,g9=Ta,_9=Ih.CONSTRUCTOR,b9=v9;g9("Promise"),m9({target:"Promise",stat:!0,forced:_9},{resolve:function(s){return b9(this,s)}});var y9=n0,E9=String,Za=function(u){if(y9(u)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return E9(u)},L_=Hn,w9=bc,C9=Za,x9=er,S9=L_("".charAt),ES=L_("".charCodeAt),I9=L_("".slice),wS=function(u){return function(s,a){var l=C9(x9(s)),c=w9(a),p=l.length,v,g;return c<0||c>=p?u?"":void 0:(v=ES(l,c),v<55296||v>56319||c+1===p||(g=ES(l,c+1))<56320||g>57343?u?S9(l,c):v:u?I9(l,c,c+2):(v-55296<<10)+(g-56320)+65536)}},CS={codeAt:wS(!1),charAt:wS(!0)},k9=CS.charAt,T9=Za,xS=wc,N9=o_,SS="String Iterator",O9=xS.set,A9=xS.getterFor(SS);N9(String,"String",function(u){O9(this,{type:SS,string:T9(u),index:0})},function(){var s=A9(this),a=s.string,l=s.index,c;return l>=a.length?{value:void 0,done:!0}:(c=k9(a,l),s.index+=c.length,{value:c,done:!1})});var IS={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},R9=Uf,P_=R9("span").classList,kS=P_&&P_.constructor&&P_.constructor.prototype,TS=kS===Object.prototype?void 0:kS,NS=kt,OS=IS,M9=TS,kh=v7,$_=yc,AS=sr,F_=AS("iterator"),RS=AS("toStringTag"),H_=kh.values,MS=function(u,s){if(u){if(u[F_]!==H_)try{$_(u,F_,H_)}catch{u[F_]=H_}if(u[RS]||$_(u,RS,s),OS[s]){for(var a in kh)if(u[a]!==kh[a])try{$_(u,a,kh[a])}catch{u[a]=kh[a]}}}};for(var q_ in OS)MS(NS[q_]&&NS[q_].prototype,q_);MS(M9,"DOMTokenList");var D9=la,B_=Array.isArray||function(s){return D9(s)=="Array"},DS=B_,U9=h_,L9=xi,P9=sr,$9=P9("species"),US=Array,F9=function(u){var s;return DS(u)&&(s=u.constructor,U9(s)&&(s===US||DS(s.prototype))?s=void 0:L9(s)&&(s=s[$9],s===null&&(s=void 0))),s===void 0?US:s},H9=F9,G_=function(u,s){return new(H9(u))(s===0?0:s)},q9=yh,B9=Hn,G9=Es,j9=Fi,z9=Ho,V9=G_,LS=B9([].push),Bo=function(u){var s=u==1,a=u==2,l=u==3,c=u==4,p=u==6,v=u==7,g=u==5||p;return function(b,E,x,D){for(var L=j9(b),G=G9(L),ie=q9(E,x),ae=z9(G),te=0,ee=D||V9,_e=s?ee(b,ae):a||v?ee(b,0):void 0,Re,Le;ae>te;te++)if((g||te in G)&&(Re=G[te],Le=ie(Re,te,L),u))if(s)_e[te]=Le;else if(Le)switch(u){case 3:return!0;case 5:return Re;case 6:return te;case 2:LS(_e,Re)}else switch(u){case 4:return!1;case 7:LS(_e,Re)}return p?-1:l||c?c:_e}},Th={forEach:Bo(0),map:Bo(1),filter:Bo(2),some:Bo(3),every:Bo(4),find:Bo(5),findIndex:Bo(6),filterReject:Bo(7)},K9=Ke,W9=sr,Q9=Zn,Y9=W9("species"),Nh=function(u){return Q9>=51||!K9(function(){var s=[],a=s.constructor={};return a[Y9]=function(){return{foo:1}},s[u](Boolean).foo!==1})},X9=Gt,J9=Th.map,Z9=Nh,eH=Z9("map");X9({target:"Array",proto:!0,forced:!eH},{map:function(s){return J9(this,s,arguments.length>1?arguments[1]:void 0)}});var f0=m(function u(){h(this,u)}),PS=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.call(this)}return m(a,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),a}(f0),Ft=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.call(this)}return m(a,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),a}(PS),on;(function(u){u.CREATE="create",u.UPDATE="update",u.GET="get",u.DELETE="delete",u.QUERY="query",u.READY="ready",u.START="start",u.ENTER_HOST="enter_host",u.GET_HOSTS="get_hosts",u.EXIT_HOST="exit_host",u.HOST_ALIVE="host_alive",u.AUDIO="audio",u.VIDEO="video",u.HOST_CREATE_STREAM="host_create_stream",u.HOST_DELETE_STREAM="host_delete_stream",u.HOST_CONNECTED="host_connected",u.ENTER="enter",u.EXIT="exit",u.ALIVE="alive",u.GET_PARTICIPANTS="get_participants",u.CREATE_STREAM="create_stream",u.DELETE_STREAM="delete_stream",u.CONNECTED="connected",u.ATTACH="attach",u.CUSTOM_ITEMS_GET="custom_items_get",u.CUSTOM_ITEMS_UPDATE="custom_items_update",u.CUSTOM_ITEMS_DELETE="custom_items_delete",u.LIVE_EVENT_READY="live_event_ready",u.LIVE_EVENT_STARTED="live_event_started",u.LIVE_EVENT_ENDED="live_event_ended",u.LIVE_EVENT_UPDATED="live_event_updated",u.HOST_ENTERED="host_entered",u.HOST_EXITED="host_exited",u.HOST_DISCONNECTED="host_disconnected",u.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",u.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",u.PARTICIPANT_ENTERED="participant_entered",u.PARTICIPANT_EXITED="participant_exited"})(on||(on={}));var j_;(function(u){u.SINGLE_HOST="single_host",u.MULTIPLE_HOST="multiple_host"})(j_||(j_={}));var nH=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),c.payload=c.parseData(l),c}return m(a)}(f0),jt=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a)}(nH);function es(u){return{liveEventId:u.live_event_id,createdAt:u.created_at,setReadyAt:u.set_ready_at,startedAt:u.started_at,endedAt:u.ended_at,state:u.state,isHostStreaming:u.is_host_streaming,createdBy:u.created_by,setReadyBy:u.set_ready_by,startedBy:u.started_by,endedBy:u.ended_by,duration:u.duration,host:u.host?xs(u.host):void 0,participantCount:u.participant_count,peakParticipantCount:u.peak_participant_count,cumulativeParticipantCount:u.cumulative_participant_count,userIdsForHost:u.user_ids_for_host,customItems:u.custom_items,title:u.title,coverUrl:u.cover_url}}function xs(u){return{hostId:u.host_id,userId:u.user.user_id,nickname:u.user.nickname,profileURL:u.user.profile_url,enteredAt:u.entered_at,connectedAt:u.connected_at,disconnectedAt:u.disconnected_at,exitedAt:u.exited_at,duration:u.duration,state:u.state,isAudioOn:u.is_audio_on,isVideoOn:u.is_video_on,liveEventId:u.live_event_id}}function Oh(u){return{id:u.rtcstream_id}}function Ah(u){return{participantId:u.participant_id,userId:u.user.user_id,nickname:u.user.nickname,profileURL:u.user.profile_url,enteredAt:u.entered_at,exitedAt:u.exited_at,duration:u.duration,state:u.state,liveEventId:u.live_event_id}}var tH=Gt,rH=Th.filter,iH=Nh,aH=iH("filter");tH({target:"Array",proto:!0,forced:!aH},{filter:function(s){return rH(this,s,arguments.length>1?arguments[1]:void 0)}});var sH=Gt,oH=Fi,$S=Lg,lH=Ke,uH=lH(function(){$S(1)});sH({target:"Object",stat:!0,forced:uH},{keys:function(s){return $S(oH(s))}});var cH=TypeError,dH=9007199254740991,FS=function(u){if(u>dH)throw cH("Maximum allowed index exceeded");return u},hH=Tg,pH=ca,fH=Vf,v0=function(u,s,a){var l=hH(s);l in u?pH.f(u,l,fH(0,a)):u[l]=a},vH=Gt,mH=Ke,gH=B_,_H=xi,bH=Fi,yH=Ho,HS=FS,qS=v0,EH=G_,wH=Nh,CH=sr,xH=Zn,BS=CH("isConcatSpreadable"),SH=xH>=51||!mH(function(){var u=[];return u[BS]=!1,u.concat()[0]!==u}),IH=wH("concat"),kH=function(u){if(!_H(u))return!1;var s=u[BS];return s!==void 0?!!s:gH(u)},TH=!SH||!IH;vH({target:"Array",proto:!0,arity:1,forced:TH},{concat:function(s){var a=bH(this),l=EH(a,0),c=0,p,v,g,b,E;for(p=-1,g=arguments.length;p<g;p++)if(E=p===-1?a:arguments[p],kH(E))for(b=yH(E),HS(c+b),v=0;v<b;v++,c++)v in E&&qS(l,c,E[v]);else HS(c+1),qS(l,c++,E);return l.length=c,l}});var NH=Si,GS=function(){var u=NH(this),s="";return u.hasIndices&&(s+="d"),u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),u.dotAll&&(s+="s"),u.unicode&&(s+="u"),u.unicodeSets&&(s+="v"),u.sticky&&(s+="y"),s},OH=Fr,AH=Ir,RH=uh,MH=GS,jS=RegExp.prototype,DH=function(u){var s=u.flags;return s===void 0&&!("flags"in jS)&&!AH(u,"flags")&&RH(jS,u)?OH(MH,u):s},UH=Xg.PROPER,LH=Ja,PH=Si,zS=Za,$H=Ke,FH=DH,z_="toString",HH=RegExp.prototype,VS=HH[z_],qH=$H(function(){return VS.call({source:"a",flags:"b"})!="/a/b"}),BH=UH&&VS.name!=z_;(qH||BH)&&LH(RegExp.prototype,z_,function(){var s=PH(this),a=zS(s.source),l=zS(FH(s));return"/"+a+"/"+l},{unsafe:!0});function GH(u){return Object.keys(u).filter(function(s){return u[s]!=null}).map(function(s){return"".concat(encodeURIComponent(s),"=").concat(jH(u[s]))}).join("&")}function jH(u){return Array.isArray(u)?u.map(function(s){return encodeURIComponent(s.toString())}).join(","):encodeURIComponent(u.toString())}var zH=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.QUERY),v.params=v._normalizeParams(l),v.prevToken=c,v.nextToken=p,v}return m(a,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(c){var p=c.hostType,v=c.liveEventState,g=c.createdAtRange,b=c.participantCountRange,E=c.durationRange,x=c.liveEventIds,D=c.createdByUserIds,L=c.limit,G={hostType:p,liveEventState:v,createdAtRange:g,participantCountRange:b,durationRange:E,liveEventIds:x,createdByUserIds:D,limit:L!=null?Math.min(Math.max(1,L),100):void 0};return G}},{key:"_createQuery",value:function(){var c,p,v,g,b,E;return GH({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(c=this.params.createdAtRange)===null||c===void 0?void 0:c[0],created_at_end_date:(p=this.params.createdAtRange)===null||p===void 0?void 0:p[0],participant_count_gte:(v=this.params.participantCountRange)===null||v===void 0?void 0:v[0],participant_count_lte:(g=this.params.participantCountRange)===null||g===void 0?void 0:g[1],duration_range_gte:(b=this.params.durationRange)===null||b===void 0?void 0:b[0],duration_range_lte:(E=this.params.durationRange)===null||E===void 0?void 0:E[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),a}(Ft),VH=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){var p;return{liveEvents:(p=c.live_events)===null||p===void 0?void 0:p.map(es),prev:c.prev,next:c.next}}}]),a}(jt),KH=Ke,V_=function(u,s){var a=[][u];return!!a&&KH(function(){a.call(null,s||function(){return 1},1)})},WH=Gt,QH=Hn,YH=Mg.indexOf,XH=V_,K_=QH([].indexOf),KS=!!K_&&1/K_([1],1,-0)<0,JH=XH("indexOf");WH({target:"Array",proto:!0,forced:KS||!JH},{indexOf:function(s){var a=arguments.length>1?arguments[1]:void 0;return KS?K_(this,s,a)||0:YH(this,s,a)}});var WS=ch,ZH=TypeError,eq=function(u,s){if(!delete u[s])throw ZH("Cannot delete property "+WS(s)+" of "+WS(u))},nq=Gt,tq=Fi,rq=$f,iq=bc,aq=Ho,sq=FS,oq=G_,lq=v0,W_=eq,uq=Nh,cq=uq("splice"),dq=Math.max,hq=Math.min;nq({target:"Array",proto:!0,forced:!cq},{splice:function(s,a){var l=tq(this),c=aq(l),p=rq(s,c),v=arguments.length,g,b,E,x,D,L;for(v===0?g=b=0:v===1?(g=0,b=c-p):(g=v-2,b=hq(dq(iq(a),0),c-p)),sq(c+g-b),E=oq(l,b),x=0;x<b;x++)D=p+x,D in l&&lq(E,x,l[D]);if(E.length=b,g<b){for(x=p;x<c-b;x++)D=x+b,L=x+g,D in l?l[L]=l[D]:W_(l,L);for(x=c;x>c-b+g;x--)W_(l,x-1)}else if(g>b)for(x=c-b;x>p;x--)D=x+b-1,L=x+g-1,D in l?l[L]=l[D]:W_(l,L);for(x=0;x<g;x++)l[x+p]=arguments[x+2];return l.length=c-b+g,E}});var Hr;(function(u){u.VERBOSE="VERBOSE",u.DEBUG="DEBUG",u.INFO="INFO",u.WARNING="WARNING",u.ERROR="ERROR",u.NONE="NONE"})(Hr||(Hr={}));var pq=function(){function u(){h(this,u),this._listeners=[]}return m(u,[{key:"verbose",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];this._log.apply(this,[Hr.VERBOSE].concat(l))}},{key:"debug",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];this._log.apply(this,[Hr.DEBUG].concat(l))}},{key:"info",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];this._log.apply(this,[Hr.INFO].concat(l))}},{key:"warning",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];this._log.apply(this,[Hr.WARNING].concat(l))}},{key:"error",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];this._log.apply(this,[Hr.ERROR].concat(l))}},{key:"_log",value:function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),p=1;p<l;p++)c[p-1]=arguments[p];var v=re(this._listeners),g;try{for(v.s();!(g=v.n()).done;){var b=g.value;b._permit.apply(b,[a].concat(c))}}catch(E){v.e(E)}finally{v.f()}}},{key:"addListener",value:function(a){this._listeners.push(a)}},{key:"removeListener",value:function(a){var l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),u}(),dn=new pq,fq=function(){function u(s,a,l){h(this,u),this.isLoading=!1,this.params=s,this.sender=a,this.prevToken=null,this.nextToken=null,this.liveEventManager=l}return m(u,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:function(){var s=d(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return p.stop()}},l,this)}));function a(){return s.apply(this,arguments)}return a}()},{key:"prev",value:function(){var s=d(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return p.stop()}},l,this)}));function a(){return s.apply(this,arguments)}return a}()},{key:"_sendQueryCommand",value:function(){var s=d(regeneratorRuntime.mark(function l(c,p){var v=this,g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!c&&!!p)){D.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,g=new zH(this.params,c,p),D.next=6,this.sender.send(g);case 6:return b=D.sent,E=b.payload,this.prevToken=E.prev,this.nextToken=E.next,this.isLoading=!1,D.prev=11,D.abrupt("return",Promise.all(E.liveEvents.map(function(L){return v.liveEventManager.deserializeLiveEvent(L)})));case 15:return D.prev=15,D.t0=D.catch(11),dn.error(D.t0),D.abrupt("return",E.liveEvents);case 19:case"end":return D.stop()}},l,this,[[11,15]])}));function a(l,c){return s.apply(this,arguments)}return a}()}]),u}(),vq=Gt,mq=Th.find,gq=jf,Q_="find",QS=!0;Q_ in[]&&Array(1)[Q_](function(){QS=!1}),vq({target:"Array",proto:!0,forced:QS},{find:function(s){return mq(this,s,arguments.length>1?arguments[1]:void 0)}}),gq(Q_);var _q=Gt,bq=Th.findIndex,yq=jf,Y_="findIndex",YS=!0;Y_ in[]&&Array(1)[Y_](function(){YS=!1}),_q({target:"Array",proto:!0,forced:YS},{findIndex:function(s){return bq(this,s,arguments.length>1?arguments[1]:void 0)}}),yq(Y_);var X_={exports:{}},XS={},JS=$f,Eq=Ho,wq=v0,Cq=Array,xq=Math.max,Sq=function(u,s,a){for(var l=Eq(u),c=JS(s,l),p=JS(a===void 0?l:a,l),v=Cq(xq(p-c,0)),g=0;c<p;c++,g++)wq(v,g,u[c]);return v.length=g,v},Iq=la,kq=Xa,ZS=vh.f,Tq=Sq,eI=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Nq=function(u){try{return ZS(u)}catch{return Tq(eI)}};XS.f=function(s){return eI&&Iq(s)=="Window"?Nq(s):ZS(kq(s))};var Oq=Ke,Aq=Oq(function(){if(typeof ArrayBuffer=="function"){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}),Rq=Ke,Mq=xi,Dq=la,nI=Aq,m0=Object.isExtensible,Uq=Rq(function(){m0(1)}),Lq=Uq||nI?function(s){return!Mq(s)||nI&&Dq(s)=="ArrayBuffer"?!1:m0?m0(s):!0}:m0,Pq=Ke,$q=!Pq(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fq=Gt,Hq=Hn,qq=Hf,Bq=xi,J_=Ir,Gq=ca.f,tI=vh,jq=XS,Z_=Lq,zq=Wl,Vq=$q,rI=!1,Ws=zq("meta"),Kq=0,eb=function(u){Gq(u,Ws,{value:{objectID:"O"+Kq++,weakData:{}}})},Wq=function(u,s){if(!Bq(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!J_(u,Ws)){if(!Z_(u))return"F";if(!s)return"E";eb(u)}return u[Ws].objectID},Qq=function(u,s){if(!J_(u,Ws)){if(!Z_(u))return!0;if(!s)return!1;eb(u)}return u[Ws].weakData},Yq=function(u){return Vq&&rI&&Z_(u)&&!J_(u,Ws)&&eb(u),u},Xq=function(){Jq.enable=function(){},rI=!0;var u=tI.f,s=Hq([].splice),a={};a[Ws]=1,u(a).length&&(tI.f=function(l){for(var c=u(l),p=0,v=c.length;p<v;p++)if(c[p]===Ws){s(c,p,1);break}return c},Fq({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:jq.f}))},Jq=X_.exports={enable:Xq,fastKey:Wq,getWeakData:Qq,onFreeze:Yq};qq[Ws]=!0;var Zq=Tt,eB=xi,iI=a_,aI=function(u,s,a){var l,c;return iI&&Zq(l=s.constructor)&&l!==a&&eB(c=l.prototype)&&c!==a.prototype&&iI(u,c),u},nB=Gt,tB=kt,rB=Hn,sI=Xf,iB=Ja,aB=X_.exports,sB=p0,oB=c_,lB=Tt,nb=xi,tb=Ke,uB=gS,cB=Jf,dB=aI,hB=function(u,s,a){var l=u.indexOf("Map")!==-1,c=u.indexOf("Weak")!==-1,p=l?"set":"add",v=tB[u],g=v&&v.prototype,b=v,E={},x=function(ee){var _e=rB(g[ee]);iB(g,ee,ee=="add"?function(Le){return _e(this,Le===0?0:Le),this}:ee=="delete"?function(Re){return c&&!nb(Re)?!1:_e(this,Re===0?0:Re)}:ee=="get"?function(Le){return c&&!nb(Le)?void 0:_e(this,Le===0?0:Le)}:ee=="has"?function(Le){return c&&!nb(Le)?!1:_e(this,Le===0?0:Le)}:function(Le,hn){return _e(this,Le===0?0:Le,hn),this})},D=sI(u,!lB(v)||!(c||g.forEach&&!tb(function(){new v().entries().next()})));if(D)b=a.getConstructor(s,u,l,p),aB.enable();else if(sI(u,!0)){var L=new b,G=L[p](c?{}:-0,1)!=L,ie=tb(function(){L.has(1)}),ae=uB(function(ee){new v(ee)}),te=!c&&tb(function(){for(var ee=new v,_e=5;_e--;)ee[p](_e,_e);return!ee.has(-0)});ae||(b=s(function(ee,_e){oB(ee,g);var Re=dB(new v,ee,b);return _e!=null&&sB(_e,Re[p],{that:Re,AS_ENTRIES:l}),Re}),b.prototype=g,g.constructor=b),(ie||te)&&(x("delete"),x("has"),l&&x("get")),(te||G)&&x(p),c&&g.clear&&delete g.clear}return E[u]=b,nB({global:!0,constructor:!0,forced:b!=v},E),cB(b,u),c||a.setStrong(b,u,l),b},pB=Ja,fB=function(u,s,a){for(var l in s)pB(u,l,s[l],a);return u},vB=ca.f,mB=Gf,oI=fB,gB=yh,_B=c_,bB=p0,yB=o_,EB=hx,Rh=ua,lI=X_.exports.fastKey,uI=wc,cI=uI.set,rb=uI.getterFor,wB={getConstructor:function(u,s,a,l){var c=u(function(E,x){_B(E,p),cI(E,{type:s,index:mB(null),first:void 0,last:void 0,size:0}),Rh||(E.size=0),x!=null&&bB(x,E[l],{that:E,AS_ENTRIES:a})}),p=c.prototype,v=rb(s),g=function(E,x,D){var L=v(E),G=b(E,x),ie,ae;return G?G.value=D:(L.last=G={index:ae=lI(x,!0),key:x,value:D,previous:ie=L.last,next:void 0,removed:!1},L.first||(L.first=G),ie&&(ie.next=G),Rh?L.size++:E.size++,ae!=="F"&&(L.index[ae]=G)),E},b=function(E,x){var D=v(E),L=lI(x),G;if(L!=="F")return D.index[L];for(G=D.first;G;G=G.next)if(G.key==x)return G};return oI(p,{clear:function(){for(var x=this,D=v(x),L=D.index,G=D.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete L[G.index],G=G.next;D.first=D.last=void 0,Rh?D.size=0:x.size=0},delete:function(E){var x=this,D=v(x),L=b(x,E);if(L){var G=L.next,ie=L.previous;delete D.index[L.index],L.removed=!0,ie&&(ie.next=G),G&&(G.previous=ie),D.first==L&&(D.first=G),D.last==L&&(D.last=ie),Rh?D.size--:x.size--}return!!L},forEach:function(x){for(var D=v(this),L=gB(x,arguments.length>1?arguments[1]:void 0),G;G=G?G.next:D.first;)for(L(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(x){return!!b(this,x)}}),oI(p,a?{get:function(x){var D=b(this,x);return D&&D.value},set:function(x,D){return g(this,x===0?0:x,D)}}:{add:function(x){return g(this,x=x===0?0:x,x)}}),Rh&&vB(p,"size",{get:function(){return v(this).size}}),c},setStrong:function(u,s,a){var l=s+" Iterator",c=rb(s),p=rb(l);yB(u,s,function(v,g){cI(this,{type:l,target:v,state:c(v),kind:g,last:void 0})},function(){for(var v=p(this),g=v.kind,b=v.last;b&&b.removed;)b=b.previous;return!v.target||!(v.last=b=b?b.next:v.state.first)?(v.target=void 0,{value:void 0,done:!0}):g=="keys"?{value:b.key,done:!1}:g=="values"?{value:b.value,done:!1}:{value:[b.key,b.value],done:!1}},a?"entries":"values",!a,!0),EB(s)}},CB=hB,xB=wB;CB("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},xB);var dI=ua,SB=Hn,IB=Fr,kB=Ke,ib=Lg,TB=Zg,NB=Wg,OB=Fi,AB=Es,Nc=Object.assign,hI=Object.defineProperty,RB=SB([].concat),MB=!Nc||kB(function(){if(dI&&Nc({b:1},Nc(hI({},"a",{enumerable:!0,get:function(){hI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var u={},s={},a=Symbol(),l="abcdefghijklmnopqrst";return u[a]=7,l.split("").forEach(function(c){s[c]=c}),Nc({},u)[a]!=7||ib(Nc({},s)).join("")!=l})?function(s,a){for(var l=OB(s),c=arguments.length,p=1,v=TB.f,g=NB.f;c>p;)for(var b=AB(arguments[p++]),E=v?RB(ib(b),v(b)):ib(b),x=E.length,D=0,L;x>D;)L=E[D++],(!dI||IB(g,b,L))&&(l[L]=b[L]);return l}:Nc,DB=Gt,pI=MB;DB({target:"Object",stat:!0,arity:2,forced:Object.assign!==pI},{assign:pI});var UB=Gt,LB=Mg.includes,PB=Ke,$B=jf,FB=PB(function(){return!Array(1).includes()});UB({target:"Array",proto:!0,forced:FB},{includes:function(s){return LB(this,s,arguments.length>1?arguments[1]:void 0)}}),$B("includes");var HB=xi,qB=la,BB=sr,GB=BB("match"),jB=function(u){var s;return HB(u)&&((s=u[GB])!==void 0?!!s:qB(u)=="RegExp")},zB=jB,VB=TypeError,KB=function(u){if(zB(u))throw VB("The method doesn't accept regular expressions");return u},WB=sr,QB=WB("match"),YB=function(u){var s=/./;try{"/./"[u](s)}catch{try{return s[QB]=!1,"/./"[u](s)}catch{}}return!1},XB=Gt,JB=Hn,ZB=KB,eG=er,fI=Za,nG=YB,tG=JB("".indexOf);XB({target:"String",proto:!0,forced:!nG("includes")},{includes:function(s){return!!~tG(fI(eG(this)),fI(ZB(s)),arguments.length>1?arguments[1]:void 0)}}),t.LiveEventRole=void 0,function(u){u.HOST="host",u.PARTICIPANT="participant"}(t.LiveEventRole||(t.LiveEventRole={})),t.LiveEventState=void 0,function(u){u.CREATED="created",u.READY="ready",u.ONGOING="ongoing",u.PAUSED="paused",u.ENDED="ended"}(t.LiveEventState||(t.LiveEventState={})),t.HostState=void 0,function(u){u.ENTERED="entered",u.CONNECTED="connected",u.DISCONNECTED="disconnected",u.EXITED="exited"}(t.HostState||(t.HostState={})),t.ParticipantState=void 0,function(u){u.ENTERED="entered",u.EXITED="exited"}(t.ParticipantState||(t.ParticipantState={}));var rG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),v.appId=l,v.userId=c,v.accessToken=p,v}return m(a,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),a}(PS),Mt;(function(u){u.POST="POST",u.GET="GET",u.DELETE="DELETE",u.OPTION="OPTION",u.PUT="PUT"})(Mt||(Mt={}));var iG=function(u){y(a,u);var s=P(a);function a(l,c,p,v,g,b){var E;return h(this,a),E=s.call(this),_($(E),"type",on.CREATE),E.hostType=l,E.hostIds=Array.isArray(c)?c:[c],E.title=p===null?"":p,E.coverUrl=v===null?"":v,E.coverFile=g===null?"":g,E.customItems=b,E}return m(a,[{key:"getData",value:function(){var c=function(g,b,E,x){typeof E>"u"||p.set(b,E)},p=new FormData;return c(p,"host_type",this.hostType),c(p,"user_ids_for_host",String(this.hostIds)),c(p,"title",this.title),c(p,"cover_url",this.coverUrl),c(p,"cover_file",this.coverFile),c(p,"customItems",JSON.stringify(this.customItems)),p}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),aG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),sG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.GET),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Mt.GET}}]),a}(Ft),oG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),lG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.ENTER_HOST),_($(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=l,p.mediaOption=c,p}return m(a,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),uG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{host:xs(c.host)}}}]),a}(jt),cG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.READY),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),dG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),hG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.START),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),pG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),fG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.EXIT_HOST),p.liveEventId=l,p.hostId=c,p}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),vG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{host:xs(c.host)}}}]),a}(jt),mG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.DELETE),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),gG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),_G=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.ENTER),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),bG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{participant:Ah(c.participant)}}}]),a}(jt),yG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.EXIT),p.liveEventId=l,p.participantId=c,p}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),EG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{participant:Ah(c.participant)}}}]),a}(jt),wG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.CONNECTED),v.liveEventId=l,v.participantId=c,v.endpointId=p,v}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),CG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{endpoint:Oh(c.rtcstream)}}}]),a}(jt),xG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.HOST_CONNECTED),v.liveEventId=l,v.hostId=c,v.endpointId=p,v}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),SG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{endpoint:Oh(c.rtcstream)}}}]),a}(jt),IG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.DELETE_STREAM),v.liveEventId=l,v.participantId=c,v.endpointId=p,v}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),kG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{}}}]),a}(jt),TG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.HOST_DELETE_STREAM),v.liveEventId=l,v.hostId=c,v.endpointId=p,v}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),NG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{}}}]),a}(jt),OG=function(u){y(a,u);var s=P(a);function a(l,c,p,v){var g;return h(this,a),g=s.call(this),_($(g),"type",on.ATTACH),g.liveEventId=l,g.participantId=c,g.endpointId=p,g.attachTo=v,g}return m(a,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),AG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{endpoint:Oh(c.rtcstream)}}}]),a}(jt),Hi=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),c.type=l.type,c.version=l.version,c.messageId=l.message_id,c.payload=c.parseData(l.payload),c}return m(a)}(f0),vI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:es(c.live_event)}}}]),a}(Hi),mI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:es(c.live_event)}}}]),a}(Hi),gI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:es(c.live_event)}}}]),a}(Hi),_I=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),bI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),yI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),ab=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),sb=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),EI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:Ah(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),a}(Hi),wI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:Ah(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),a}(Hi),RG=function(u){y(a,u);var s=P(a);function a(l,c,p,v,g){var b;return h(this,a),b=s.call(this),_($(b),"type",on.CREATE_STREAM),b.liveEventId=l,b.participantId=c,b.sdp=p,b.audioAttr=v,b.videoAttr=g,b}return m(a,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),MG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Oh(c.rtcstream)}}}]),a}(jt),DG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{hosts:c.hosts.map(xs)}}}]),a}(jt),UG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.HOST_ALIVE),p.liveEventId=l,p.hostId=c,p}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),LG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{}}}]),a}(jt),PG=function(u){y(a,u);var s=P(a);function a(l,c,p,v,g){var b;return h(this,a),b=s.call(this),_($(b),"type",on.HOST_CREATE_STREAM),b.liveEventId=l,b.hostId=c,b.sdp=p,b.audioAttr=v,b.videoAttr=g,b}return m(a,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),$G=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Oh(c.rtcstream)}}}]),a}(jt),FG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.ALIVE),p.liveEventId=l,p.participantId=c,p}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),HG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{}}}]),a}(jt),qG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{participant:Ah(c.participant)}}}]),a}(jt),BG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.AUDIO),v.liveEventId=l,v.hostId=c,v.on=p,v}return m(a,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),GG=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this),_($(v),"type",on.VIDEO),v.liveEventId=l,v.hostId=c,v.on=p,v}return m(a,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return Mt.POST}}]),a}(Ft),CI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:xs(c.host)}}}]),a}(Hi),jG=function(u){y(a,u);var s=P(a);function a(l,c,p,v,g){var b;return h(this,a),b=s.call(this),_($(b),"type",on.UPDATE),b.liveEventId=l,b.hostIds=c===null?"":Array.isArray(c)?c:[c],b.title=p===null?"":p,b.coverUrl=v===null?"":v,b.coverFile=g===null?"":g,b}return m(a,[{key:"getData",value:function(){var c=function(g,b,E,x){typeof E>"u"||p.set(b,E)},p=new FormData;return c(p,"user_ids_for_host",String(this.hostIds)),c(p,"title",this.title),c(p,"cover_url",this.coverUrl),c(p,"cover_file",this.coverFile),p}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Mt.PUT}}]),a}(Ft),zG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEvent:es(c.live_event)}}}]),a}(jt),xI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:es(c.live_event)}}}]),a}(Hi),VG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.CUSTOM_ITEMS_GET),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Mt.GET}}]),a}(Ft),KG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{customItems:c.custom_items}}}]),a}(jt),WG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.CUSTOM_ITEMS_UPDATE),p.liveEventId=l,p.customItems=c,p}return m(a,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Mt.PUT}}]),a}(Ft),QG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{customItems:c.custom_items,updatedKeys:c.updated_keys,updatedAt:c.updated_at}}}]),a}(jt),YG=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"type",on.CUSTOM_ITEMS_DELETE),p.liveEventId=l,p.keys=c,p}return m(a,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),XG=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{customItems:c.custom_items,deletedKeys:c.deleted_keys,deletedAt:c.deleted_at}}}]),a}(jt),SI=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,updatedAt:c.updated_at,customItems:c.custom_items,updatedKeys:c.updated_keys}}}]),a}(Hi),II=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,deletedAt:c.deleted_at,customItems:c.custom_items,deletedKeys:c.deleted_keys}}}]),a}(Hi),JG=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),_($(c),"type",on.CUSTOM_ITEMS_DELETE),c.liveEventId=l,c}return m(a,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Mt.DELETE}}]),a}(Ft),Ot=function(){function u(){h(this,u)}return m(u,null,[{key:"createAuth",value:function(a,l,c){return new rG(a,l,c)}},{key:"createLiveEvent",value:function(a,l,c,p,v,g){return new iG(a,l,c,p,v,g)}},{key:"updateLiveEvent",value:function(a,l,c,p,v){return new jG(a,l,c,p,v)}},{key:"createGetLiveEvent",value:function(a){return new sG(a)}},{key:"createEnterHost",value:function(a,l){return new lG(a,l)}},{key:"createReady",value:function(a){return new cG(a)}},{key:"createStart",value:function(a){return new hG(a)}},{key:"createExitHost",value:function(a,l){return new fG(a,l)}},{key:"createEndLiveEvent",value:function(a){return new mG(a)}},{key:"createEnter",value:function(a){return new _G(a)}},{key:"createExit",value:function(a,l){return new yG(a,l)}},{key:"createConnected",value:function(a,l,c){return new wG(a,l,c)}},{key:"createHostConnected",value:function(a,l,c){return new xG(a,l,c)}},{key:"createStream",value:function(a,l,c,p,v){return new RG(a,l,c,p,v)}},{key:"createHostCreateStream",value:function(a,l,c,p,v){return new PG(a,l,c,p,v)}},{key:"createDeleteStream",value:function(a,l,c){return new IG(a,l,c)}},{key:"createHostDeleteStream",value:function(a,l,c){return new TG(a,l,c)}},{key:"createAttach",value:function(a,l,c,p){return new OG(a,l,c,p)}},{key:"createAudio",value:function(a,l,c){return new BG(a,l,c)}},{key:"createVideo",value:function(a,l,c){return new GG(a,l,c)}},{key:"createAlive",value:function(a,l){return new FG(a,l)}},{key:"createHostAlive",value:function(a,l){return new UG(a,l)}},{key:"createGetCustomItems",value:function(a){return new VG(a)}},{key:"createUpdateCustomItems",value:function(a,l){return new WG(a,l)}},{key:"createDeleteCustomItems",value:function(a,l){return new YG(a,l)}},{key:"createDeleteAllCustomItems",value:function(a){return new JG(a)}},{key:"parseResponse",value:function(a,l){try{switch(a.type){case on.CREATE:return new aG(l);case on.GET:return new oG(l);case on.DELETE:return new gG(l);case on.QUERY:return new VH(l);case on.READY:return new dG(l);case on.START:return new pG(l);case on.ENTER_HOST:return new uG(l);case on.GET_HOSTS:return new DG(l);case on.EXIT_HOST:return new vG(l);case on.HOST_ALIVE:return new LG(l);case on.AUDIO:return new ab(l);case on.VIDEO:return new sb(l);case on.HOST_CREATE_STREAM:return new $G(l);case on.HOST_DELETE_STREAM:return new NG(l);case on.HOST_CONNECTED:return new SG(l);case on.ENTER:return new bG(l);case on.EXIT:return new EG(l);case on.ALIVE:return new HG(l);case on.GET_PARTICIPANTS:return new qG(l);case on.CREATE_STREAM:return new MG(l);case on.DELETE_STREAM:return new kG(l);case on.CONNECTED:return new CG(l);case on.ATTACH:return new AG(l);case on.UPDATE:return new zG(l);case on.CUSTOM_ITEMS_GET:return new KG(l);case on.CUSTOM_ITEMS_UPDATE:return new QG(l);case on.CUSTOM_ITEMS_DELETE:return new XG(l)}}catch{return}}},{key:"parse",value:function(a){if(a.call_type==="live")try{switch(a.type){case on.LIVE_EVENT_READY:return new vI(a);case on.LIVE_EVENT_STARTED:return new mI(a);case on.LIVE_EVENT_ENDED:return new gI(a);case on.LIVE_EVENT_UPDATED:return new xI(a);case on.HOST_ENTERED:return new _I(a);case on.HOST_EXITED:return new bI(a);case on.HOST_CONNECTED:return new yI(a);case on.HOST_DISCONNECTED:return new CI(a);case on.HOST_AUDIO_STATUS_CHANGED:return new ab(a);case on.HOST_VIDEO_STATUS_CHANGED:return new sb(a);case on.PARTICIPANT_ENTERED:return new EI(a);case on.PARTICIPANT_EXITED:return new wI(a);case on.CUSTOM_ITEMS_UPDATE:return new SI(a);case on.CUSTOM_ITEMS_DELETE:return new II(a)}}catch{return}}}]),u}(),ZG=Th.forEach,ej=V_,nj=ej("forEach"),tj=nj?[].forEach:function(s){return ZG(this,s,arguments.length>1?arguments[1]:void 0)},kI=kt,TI=IS,rj=TS,ob=tj,ij=yc,NI=function(u){if(u&&u.forEach!==ob)try{ij(u,"forEach",ob)}catch{u.forEach=ob}};for(var lb in TI)TI[lb]&&NI(kI[lb]&&kI[lb].prototype);NI(rj);var aj=Gt,OI=B_,sj=h_,oj=xi,AI=$f,lj=Ho,uj=Xa,cj=v0,dj=sr,hj=Nh,pj=Cx,fj=hj("slice"),vj=dj("species"),ub=Array,mj=Math.max;aj({target:"Array",proto:!0,forced:!fj},{slice:function(s,a){var l=uj(this),c=lj(l),p=AI(s,c),v=AI(a===void 0?c:a,c),g,b,E;if(OI(l)&&(g=l.constructor,sj(g)&&(g===ub||OI(g.prototype))?g=void 0:oj(g)&&(g=g[vj],g===null&&(g=void 0)),g===ub||g===void 0))return pj(l,p,v);for(b=new(g===void 0?ub:g)(mj(v-p,0)),E=0;p<v;p++,E++)p in l&&cj(b,E,l[p]);return b.length=E,b}});var Go=function(){function u(){h(this,u),_(this,"_listeners",{}),_(this,"on",this.addEventListener),_(this,"off",this.removeEventListener)}return m(u,[{key:"addEventListener",value:function(a,l){var c=this;return a in this._listeners||(this._listeners[a]=[]),this._listeners[a].push(l),function(){return c.removeEventListener(a,l)}}},{key:"once",value:function(a,l){var c=this,p=function v(){l.apply(void 0,arguments),c.removeEventListener(a,v)};return this.on(a,p)}},{key:"removeEventListener",value:function(a,l){if(a in this._listeners){for(var c=this._listeners[a],p=0,v=c.length;p<v;p++)if(c[p]===l){c.splice(p,1);return}}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(a){if(a in this._listeners){for(var l=this._listeners[a].slice(),c=arguments.length,p=new Array(c>1?c-1:0),v=1;v<c;v++)p[v-1]=arguments[v];for(var g=0,b=l.length;g<b;g++){var E;(E=l[g]).call.apply(E,[this].concat(p))}}}}]),u}(),cb=Ke,gj=kt,db=gj.RegExp,hb=cb(function(){var u=db("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),_j=hb||cb(function(){return!db("a","y").sticky}),bj=hb||cb(function(){var u=db("^r","gy");return u.lastIndex=2,u.exec("str")!=null}),yj={BROKEN_CARET:bj,MISSED_STICKY:_j,UNSUPPORTED_Y:hb},Ej=Ke,wj=kt,Cj=wj.RegExp,xj=Ej(function(){var u=Cj(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")}),Sj=Ke,Ij=kt,kj=Ij.RegExp,Tj=Sj(function(){var u=kj("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"}),Oc=Fr,g0=Hn,Nj=Za,Oj=GS,Aj=yj,Rj=Gl.exports,Mj=Gf,Dj=wc.get,Uj=xj,Lj=Tj,Pj=Rj("native-string-replace",String.prototype.replace),_0=RegExp.prototype.exec,pb=_0,$j=g0("".charAt),Fj=g0("".indexOf),Hj=g0("".replace),fb=g0("".slice),vb=function(){var u=/a/,s=/b*/g;return Oc(_0,u,"a"),Oc(_0,s,"a"),u.lastIndex!==0||s.lastIndex!==0}(),RI=Aj.BROKEN_CARET,mb=/()??/.exec("")[1]!==void 0,qj=vb||mb||RI||Uj||Lj;qj&&(pb=function(s){var a=this,l=Dj(a),c=Nj(s),p=l.raw,v,g,b,E,x,D,L;if(p)return p.lastIndex=a.lastIndex,v=Oc(pb,p,c),a.lastIndex=p.lastIndex,v;var G=l.groups,ie=RI&&a.sticky,ae=Oc(Oj,a),te=a.source,ee=0,_e=c;if(ie&&(ae=Hj(ae,"y",""),Fj(ae,"g")===-1&&(ae+="g"),_e=fb(c,a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&$j(c,a.lastIndex-1)!==`
`)&&(te="(?: "+te+")",_e=" "+_e,ee++),g=new RegExp("^(?:"+te+")",ae)),mb&&(g=new RegExp("^"+te+"$(?!\\s)",ae)),vb&&(b=a.lastIndex),E=Oc(_0,ie?g:a,_e),ie?E?(E.input=fb(E.input,ee),E[0]=fb(E[0],ee),E.index=a.lastIndex,a.lastIndex+=E[0].length):a.lastIndex=0:vb&&E&&(a.lastIndex=a.global?E.index+E[0].length:b),mb&&E&&E.length>1&&Oc(Pj,E[0],g,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(E[x]=void 0)}),E&&G)for(E.groups=D=Mj(null),x=0;x<G.length;x++)L=G[x],D[L[0]]=E[L[1]];return E});var gb=pb,Bj=Gt,MI=gb;Bj({target:"RegExp",proto:!0,forced:/./.exec!==MI},{exec:MI});var DI=Hn,UI=Ja,Gj=gb,LI=Ke,PI=sr,jj=yc,zj=PI("species"),_b=RegExp.prototype,$I=function(u,s,a,l){var c=PI(u),p=!LI(function(){var E={};return E[c]=function(){return 7},""[u](E)!=7}),v=p&&!LI(function(){var E=!1,x=/a/;return u==="split"&&(x={},x.constructor={},x.constructor[zj]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return E=!0,null},x[c](""),!E});if(!p||!v||a){var g=DI(/./[c]),b=s(c,""[u],function(E,x,D,L,G){var ie=DI(E),ae=x.exec;return ae===Gj||ae===_b.exec?p&&!G?{done:!0,value:g(x,D,L)}:{done:!0,value:ie(D,x,L)}:{done:!1}});UI(String.prototype,u,b[0]),UI(_b,c,b[1])}l&&jj(_b[c],"sham",!0)},Vj=CS.charAt,FI=function(u,s,a){return s+(a?Vj(u,s).length:1)},bb=Hn,Kj=Fi,Wj=Math.floor,yb=bb("".charAt),Qj=bb("".replace),Eb=bb("".slice),Yj=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Xj=/\$([$&'`]|\d{1,2})/g,Jj=function(u,s,a,l,c,p){var v=a+u.length,g=l.length,b=Xj;return c!==void 0&&(c=Kj(c),b=Yj),Qj(p,b,function(E,x){var D;switch(yb(x,0)){case"$":return"$";case"&":return u;case"`":return Eb(s,0,a);case"'":return Eb(s,v);case"<":D=c[Eb(x,1,-1)];break;default:var L=+x;if(L===0)return E;if(L>g){var G=Wj(L/10);return G===0?E:G<=g?l[G-1]===void 0?yb(x,1):l[G-1]+yb(x,1):E}D=l[L-1]}return D===void 0?"":D})},HI=Fr,Zj=Si,ez=Tt,nz=la,tz=gb,rz=TypeError,qI=function(u,s){var a=u.exec;if(ez(a)){var l=HI(a,u,s);return l!==null&&Zj(l),l}if(nz(u)==="RegExp")return HI(tz,u,s);throw rz("RegExp#exec called on incompatible receiver")},iz=Ex,BI=Fr,b0=Hn,az=$I,sz=Ke,oz=Si,lz=Tt,uz=bc,cz=Ff,Ac=Za,dz=er,hz=FI,pz=dh,fz=Jj,vz=qI,mz=sr,wb=mz("replace"),gz=Math.max,_z=Math.min,bz=b0([].concat),Cb=b0([].push),GI=b0("".indexOf),jI=b0("".slice),yz=function(u){return u===void 0?u:String(u)},Ez=function(){return"a".replace(/./,"$0")==="$0"}(),zI=function(){return/./[wb]?/./[wb]("a","$0")==="":!1}(),wz=!sz(function(){var u=/./;return u.exec=function(){var s=[];return s.groups={a:"7"},s},"".replace(u,"$<a>")!=="7"});az("replace",function(u,s,a){var l=zI?"$":"$0";return[function(p,v){var g=dz(this),b=p==null?void 0:pz(p,wb);return b?BI(b,p,g,v):BI(s,Ac(g),p,v)},function(c,p){var v=oz(this),g=Ac(c);if(typeof p=="string"&&GI(p,l)===-1&&GI(p,"$<")===-1){var b=a(s,v,g,p);if(b.done)return b.value}var E=lz(p);E||(p=Ac(p));var x=v.global;if(x){var D=v.unicode;v.lastIndex=0}for(var L=[];;){var G=vz(v,g);if(G===null||(Cb(L,G),!x))break;var ie=Ac(G[0]);ie===""&&(v.lastIndex=hz(g,cz(v.lastIndex),D))}for(var ae="",te=0,ee=0;ee<L.length;ee++){G=L[ee];for(var _e=Ac(G[0]),Re=gz(_z(uz(G.index),g.length),0),Le=[],hn=1;hn<G.length;hn++)Cb(Le,yz(G[hn]));var xn=G.groups;if(E){var Xn=bz([_e],Le,Re,g);xn!==void 0&&Cb(Xn,xn);var zn=Ac(iz(p,void 0,Xn))}else zn=fz(_e,g,Re,Le,xn,p);Re>=te&&(ae+=jI(g,te,Re)+zn,te=Re+_e.length)}return ae+jI(g,te)}]},!wz||!Ez||zI);var Cz=Hn,xz=Cz(1 .valueOf),VI=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Sz=Hn,Iz=er,kz=Za,Tz=VI,KI=Sz("".replace),y0="["+Tz+"]",Nz=RegExp("^"+y0+y0+"*"),Oz=RegExp(y0+y0+"*$"),xb=function(u){return function(s){var a=kz(Iz(s));return u&1&&(a=KI(a,Nz,"")),u&2&&(a=KI(a,Oz,"")),a}},WI={start:xb(1),end:xb(2),trim:xb(3)},Az=ua,Sb=kt,QI=Hn,Rz=Xf,Mz=Ja,YI=Ir,Dz=aI,Uz=uh,Lz=xg,XI=CC,Pz=Ke,$z=vh.f,Fz=fh.f,Hz=ca.f,qz=xz,Bz=WI.trim,Ib="Number",jo=Sb[Ib],kb=jo.prototype,Gz=Sb.TypeError,jz=QI("".slice),E0=QI("".charCodeAt),zz=function(u){var s=XI(u,"number");return typeof s=="bigint"?s:Vz(s)},Vz=function(u){var s=XI(u,"number"),a,l,c,p,v,g,b,E;if(Lz(s))throw Gz("Cannot convert a Symbol value to a number");if(typeof s=="string"&&s.length>2){if(s=Bz(s),a=E0(s,0),a===43||a===45){if(l=E0(s,2),l===88||l===120)return NaN}else if(a===48){switch(E0(s,1)){case 66:case 98:c=2,p=49;break;case 79:case 111:c=8,p=55;break;default:return+s}for(v=jz(s,2),g=v.length,b=0;b<g;b++)if(E=E0(v,b),E<48||E>p)return NaN;return parseInt(v,c)}}return+s};if(Rz(Ib,!jo(" 0o1")||!jo("0b1")||jo("+0x1"))){for(var Rc=function(s){var a=arguments.length<1?0:jo(zz(s)),l=this;return Uz(kb,l)&&Pz(function(){qz(l)})?Dz(Object(a),l,Rc):a},JI=Az?$z(jo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Tb=0,w0;JI.length>Tb;Tb++)YI(jo,w0=JI[Tb])&&!YI(Rc,w0)&&Hz(Rc,w0,Fz(jo,w0));Rc.prototype=kb,kb.constructor=Rc,Mz(Sb,Ib,Rc,{constructor:!0})}var Kz=function(s){return typeof s>"u"||Number.isNaN(s)||s===""||Array.isArray(s)&&s.length===0},Nb=function(s){Object.keys(s).forEach(function(a){Kz(s[a])&&delete s[a]})},Wz=function(){var u=d(regeneratorRuntime.mark(function s(a){var l,c,p,v,g,b,E,x,D,L,G,ie,ae;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(a){ee.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return ee.next=4,a.getStats();case 4:l=ee.sent,p=l.entries(),v=0;case 7:if(!(v<l.size)){ee.next=18;break}if(g=p.next(),b=g.value,b){ee.next=11;break}return ee.abrupt("continue",15);case 11:if(E=b[1],!(E.type==="candidate-pair"&&E.state==="succeeded")){ee.next=15;break}return c=E.localCandidateId,ee.abrupt("break",18);case 15:v++,ee.next=7;break;case 18:if(!(v<l.size)){ee.next=28;break}if(x=p.next(),D=x.value,D){ee.next=22;break}return ee.abrupt("continue",25);case 22:if(L=D[1],!(L.type==="local-candidate"&&L.id===c)){ee.next=25;break}return ee.abrupt("return",{connectionType:(G=L.candidateType)!==null&&G!==void 0?G:"",protocol:(ie=L.protocol)!==null&&ie!==void 0?ie:"",relayProtocol:(ae=L.relayProtocol)!==null&&ae!==void 0?ae:""});case 25:v++,ee.next=18;break;case 28:return ee.abrupt("return",null);case 29:case"end":return ee.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),Qz=function(){var u=d(regeneratorRuntime.mark(function s(a){var l,c,p,v,g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return l={},c={},p={},v={},g=new Map,b=new Map,a.forEach(function(L){L.type==="codec"&&g.set(L.id,L),L.type==="candidate-pair"&&L.state==="succeeded"&&(E=L.localCandidateId,l.webrtc_timestamp=L.time),L.type==="media-source"&&b.set(L.kind,L)}),a.forEach(function(L){if(L.type==="local-candidate"&&L.id===E&&(c.network_type=L.networkType,c.protocol=L.protocol,c.candidate_type=L.candidateType),L.kind==="audio"||L.mediaType==="audio"){if(L.type==="outbound-rtp"){var G;p.codec=(G=g.get(L.codecId))===null||G===void 0?void 0:G.mimeType,p.total_packets_sent=L.packetsSent,p.retransmitted_packets_sent=L.retransmittedPacketsSent}if(L.type==="remote-inbound-rtp"&&(p.rtt=L.roundTripTime*1e3),L.type==="inbound-rtp"){var ie=L.packetsLost/(L.packetsLost+L.packetsReceived)*100;p.total_packets_received=L.packetsReceived,p.total_packets_lost_rate=ie,p.total_packets_lost=L.packetsLost,p.jitter=L.jitter*1e3}L.type==="track"&&L.remoteSource&&(p.jitter_buffer_delay=L.jitterBufferDelay,p.jitter_buffer_emitted_count=L.jitterBufferDelayEmittedCount)}if(L.kind==="video"||L.mediaType==="video"){var ae,te,ee;if(v.video_source_width=(ae=b.get("video"))===null||ae===void 0?void 0:ae.width,v.video_source_height=(te=b.get("video"))===null||te===void 0?void 0:te.height,v.video_source_frames_per_second=(ee=b.get("video"))===null||ee===void 0?void 0:ee.framesPerSecond,L.type==="outbound-rtp"){var _e;v.codec=(_e=g.get(L.codecId))===null||_e===void 0?void 0:_e.mimeType,v.fir_count=L.firCount,v.pli_count=L.pliCount,v.nack_count=L.nackCount,v.qp_sum=L.qpSum,v.retransmitted_packets_sent=L.retransmittedBytesSent,v.quality_limitation_reason=L.qualityLimitationReason,v.quality_limitation_resolution_changes=L.qualityLimitationResolutionChanges}if(L.type==="remote-inbound-rtp"&&(v.rtt=L.roundTripTime*1e3),L.type==="inbound-rtp"){v.header_bytes_received=L.headerBytesReceived,v.key_frames_decoded=L.keyFramesDecoded,v.total_decode_time=L.totalDecodeTime,v.total_inter_frame_delay=L.totalInterFrameDelay,v.total_squared_inter_frame_delay=L.totalSquaredInterFrameDelay;var Re=L.packetsLost/(L.packetsLost+L.packetsReceived)*100;v.total_packets_lost=L.packetsLost,v.total_packets_received=L.packetsReceived,v.total_packets_lost_rate=Re}L.type==="track"&&(L.remoteSource?(v.jitter_buffer_delay=L.jitterBufferDelay,v.jitter_buffer_emitted_count=L.jitterBufferDelayEmittedCount,v.received_frame_width=L.frameWidth,v.received_frame_height=L.frameHeight,v.frames_received=L.framesReceived,v.frames_decoded=L.framesDecoded,v.frames_dropped=L.framesDropped,v.freeze_count=L.freezeCount,v.pause_count=L.pauseCount,v.total_freezes_duration=L.totalFreezesDuration,v.total_pauses_duration=L.totalPausesDuration,v.total_frames_duration=L.totalFramesDuration,v.sum_of_squared_frames_duration=L.sumOfSquaredFramesDuration):(v.sent_frame_width=L.frameWidth,v.sent_frame_height=L.frameHeight))}}),Nb(c),Nb(p),Nb(v),l.transport_info=c,l.audio=p,l.video=v,D.abrupt("return",l);case 15:case"end":return D.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),Yz=function(){var u=d(regeneratorRuntime.mark(function s(a){var l;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(a){p.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return p.next=4,a.getStats();case 4:return l=p.sent,p.abrupt("return",Qz(l));case 6:case"end":return p.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),ZI=function(){function u(s){h(this,u),this._context=s}return m(u,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(a){this._state&&this._state.type===a.type||(this._state&&this._state.destroy(),this._state=a,this._state.context=this._context,this._state.start())}}]),u}(),ek=function(){function u(s){h(this,u),this._stateMutator=s}return m(u,[{key:"context",set:function(a){this._context=a}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),u}(),nk=function(){function u(s,a){h(this,u),this._context=s,this._stateMutator=a,this._context=s,this._stateMutator=a}return m(u,[{key:"state",get:function(){return this._stateMutator.state}}]),u}(),zo=function(u){y(a,u);var s=P(a);function a(l){return h(this,a),s.call(this,l)}return m(a)}(ek),ct;(function(u){u.IDLE="idle",u.OFFERING="offering",u.ANSWERING="answering",u.CONNECTED="connected",u.RECONNECTING="reconnecting",u.ICE_RESTART_OFFERING="iceRestartOffering",u.ICE_RESTART_ANSWERING="iceRestartAnswering",u.CLOSED="closed"})(ct||(ct={}));var Xz=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this,l),_($(p),"type",ct.ANSWERING),p._offerCommand=c,p}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(){var l=d(regeneratorRuntime.mark(function p(v){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._context.setRemoteDescription("offer",v.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(E){});case 4:case"end":return b.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),Jz=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",ct.CLOSED),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),a}(zo),Zz=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this,l),_($(p),"type",ct.CONNECTED),p._isReconnected=c,p}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(){var l=d(regeneratorRuntime.mark(function p(v){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:this._stateMutator.toReconnecting(v);case 1:case"end":return b.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),eV=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this,l),_($(p),"type",ct.ICE_RESTART_ANSWERING),p._offerCommand=c,p}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(){var l=d(regeneratorRuntime.mark(function p(v){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._context.setRemoteDescription("offer",v.payload.sdp);case 2:this._context.sendAnswer().catch(function(E){});case 3:case"end":return b.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),nV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",ct.ICE_RESTART_OFFERING),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),tV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",ct.IDLE),l}return m(a,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:function(){var l=d(regeneratorRuntime.mark(function p(v){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:this._stateMutator.toAnswering(v);case 1:case"end":return b.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),rV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",ct.OFFERING),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),iV=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this,l),_($(p),"type",ct.RECONNECTING),p._offerCommand=c,p}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(c){this._stateMutator.toIceRestartAnswering(c)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),a}(zo),aV=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new tV(this))}},{key:"toOffering",value:function(){this._changeState(new rV(this))}},{key:"toAnswering",value:function(c){this._changeState(new Xz(this,c))}},{key:"toConnected",value:function(c){this._changeState(new Zz(this,c))}},{key:"toReconnecting",value:function(c){this._changeState(new iV(this,c))}},{key:"toIceRestartOffering",value:function(){this._changeState(new nV(this))}},{key:"toIceRestartAnswering",value:function(c){this._changeState(new eV(this,c))}},{key:"toClosed",value:function(){this._changeState(new Jz(this))}}]),a}(ZI),sV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,l,new aV(l)),c._stateMutator.toIdle(),c}return m(a,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(c){dn.verbose("[".concat(this.state.type,"] onOfferReceived"));var p=this.state;switch(p.type){case ct.IDLE:p.onOfferReceived(c);break;case ct.ANSWERING:p.onOfferReceived(c);break;case ct.CONNECTED:p.onOfferReceived(c);break;case ct.RECONNECTING:p.onOfferReceived(c);break;case ct.ICE_RESTART_ANSWERING:p.onOfferReceived(c);break;default:dn.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(c){dn.verbose("[".concat(this.state.type,"] onAnswerReceived"));var p=this.state;switch(p.type){case ct.OFFERING:p.onAnswerReceived(c);break;case ct.ICE_RESTART_OFFERING:p.onAnswerReceived(c);break;default:dn.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){dn.verbose("[".concat(this.state.type,"] onClose"));var c=this.state;switch(c.type){case ct.IDLE:c.onClose();break;case ct.OFFERING:c.onClose();break;case ct.ANSWERING:c.onClose();break;case ct.CONNECTED:c.onClose();break;case ct.RECONNECTING:c.onClose();break;case ct.ICE_RESTART_OFFERING:c.onClose();break;case ct.ICE_RESTART_ANSWERING:c.onClose();break;default:dn.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){dn.verbose("[".concat(this.state.type,"] createOffer"));var c=this.state;switch(c.type){case ct.IDLE:c.createOffer();break;default:dn.error("[".concat(this.state.type,"] createOffer"))}}},{key:"onIceConnected",value:function(){dn.verbose("[".concat(this.state.type,"] onIceConnected"));var c=this.state;switch(c.type){case ct.OFFERING:c.onIceConnected();break;case ct.ANSWERING:c.onIceConnected();break;case ct.RECONNECTING:c.onIceConnected();break;case ct.ICE_RESTART_OFFERING:c.onIceConnected();break;case ct.ICE_RESTART_ANSWERING:c.onIceConnected();break;default:dn.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){dn.verbose("[".concat(this.state.type,"] onIceDisconnected"));var c=this.state;switch(c.type){case ct.CONNECTED:c.onIceDisconnected();break;default:dn.error("[".concat(this.state.type,"] onIceDisconnected"))}}},{key:"onIceFailed",value:function(){dn.verbose("[".concat(this.state.type,"] onIceFailed"));var c=this.state;switch(c.type){case ct.CONNECTED:c.onIceFailed();break;case ct.RECONNECTING:c.onIceFailed();break;default:dn.error("[".concat(this.state.type,"] onIceFailed"))}}}]),a}(nk),Ob;(function(u){u.RELAY="relay",u.ALL="all"})(Ob||(Ob={}));var oV=function(u){y(a,u);var s=P(a);function a(l,c,p,v,g,b,E,x){var D;return h(this,a),D=s.call(this),D._ctx=l,D.id=c,D._signalingClient=p,D._localStream=v,D._isInitiator=g,D._turnCredential=b,D._mediaDirections=E,D._isDisposable=x,D._stateMachine=new sV({dispatchEvent:D._dispatchEvent.bind($(D)),isInitiator:D._isInitiator,setRemoteDescription:D._setRemoteDescription.bind($(D)),sendAnswer:D._sendAnswer.bind($(D)),sendOffer:D._sendOffer.bind($(D)),createRTCConnection:D._createRTCConnection.bind($(D)),prepareSessionDescription:D._prepareSessionDescription.bind($(D)),isDisposable:D._isDisposable}),v&&v.on("streamChanged",function(L){return D.onLocalStream(L)}),D}return m(a,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(c){switch(c.type){case Mh.CANDIDATE:this._receiveCandidate(c);return;case Mh.OFFER:this._stateMachine.onOfferReceived(c);break;case Mh.ANSWER:this._stateMachine.onAnswerReceived(c);break;default:dn.error(new Error("unhandled call event ".concat(c)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(c){if(!!this._rtcConnection){var p=re(c.getTracks()),v;try{for(p.s();!(v=p.n()).done;){var g=v.value;this._replaceTrack(g)}}catch(b){p.e(b)}finally{p.f()}}}},{key:"getCandidateInfo",value:function(){var l=d(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Wz(this.rtcConnection));case 1:case"end":return g.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"getStatsLog",value:function(){var l=d(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Yz(this.rtcConnection));case 1:case"end":return g.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"_replaceTrack",value:function(c){var p=re(this._rtcConnection.getSenders()),v;try{for(p.s();!(v=p.n()).done;){var g=v.value;g.track&&g.track.kind===c.kind&&g.replaceTrack(c)}}catch(b){p.e(b)}finally{p.f()}}},{key:"_createRTCConnection",value:function(){var c=this,p;this._turnCredential&&(p={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||Ob.ALL});var v=new RTCPeerConnection(p);v.onnegotiationneeded=function(){c._sendOffer(!1)},v.onicecandidate=function(g){if(g.candidate){var b,E;(b=(E=c._signalingClient).sendCandidate)===null||b===void 0||b.call(E,g.candidate)}},v.onconnectionstatechange=function(){return c._handleConnectionStateChange(v)},v.oniceconnectionstatechange=function(){return c._handleIceConnectionStateChange(v)},v.ontrack=function(g){return c._onRemoteTrack(g)},this._rtcConnection=v}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var c=this._mediaDirections,p=c.audio,v=c.video,g={sendrecv:[],sendonly:[],recvonly:[],none:[]};g[p].push("audio"),g[v].push("video"),g.sendrecv.length&&this._addTracks(g.sendrecv),g.sendonly.length&&this._addSendOnlyTransceivers(g.sendonly),g.recvonly.length&&this._addReceiveOnlyTransceivers(g.recvonly)}},{key:"_addTracks",value:function(c){var p=this;dn.debug("_addTracks()");var v=this._localStream.localStream;v.getTracks().forEach(function(g){c.includes(g.kind)&&p._rtcConnection.addTrack(g,v)})}},{key:"_addReceiveOnlyTransceivers",value:function(c){var p=this;c.forEach(function(v){p._rtcConnection.addTransceiver(v,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(c){var p=this,v=this._localStream.localStream;c.forEach(function(g){v.getTracks().forEach(function(b){b.kind===g&&p._rtcConnection.addTransceiver(b,{direction:"sendonly",streams:[v]})})})}},{key:"_setRemoteDescription",value:function(c,p){var v=p.replace(/a=extmap:0 ulpfec\r\n/,""),g=new RTCSessionDescription({type:c,sdp:v});return this._rtcConnection.setRemoteDescription(g)}},{key:"_sendOffer",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return g={iceRestart:v||!1},x.next=3,this._rtcConnection.createOffer(g);case 3:return b=x.sent,x.next=6,this._rtcConnection.setLocalDescription(b);case 6:return x.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return x.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"_sendAnswer",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._rtcConnection.createAnswer();case 2:return v=b.sent,v.sdp=v.sdp.replace("actpass","active"),b.next=6,this._rtcConnection.setLocalDescription(v);case 6:return b.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return b.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"_handleIceConnectionStateChange",value:function(c){switch(dn.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(c.iceConnectionState)),c.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed");break}}},{key:"_handleConnectionStateChange",value:function(c){dn.verbose("[".concat(this._state.type,"] connectionState ").concat(c.connectionState))}},{key:"_receiveCandidate",value:function(c){var p=c.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:p.sdpMLineIndex,sdpMid:p.sdpMid,candidate:p.sdp}).catch(function(v){dn.error(v)})}},{key:"_onRemoteTrack",value:function(c){this._remoteStream=c.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),a}(Go),Mh;(function(u){u.OFFER="offer",u.ANSWER="answer",u.CANDIDATE="candidate"})(Mh||(Mh={}));var Ab=m(function u(){var s=this;h(this,u),this.promise=new Promise(function(a,l){s.resolve=a,s.reject=l})}),tk=function(){var u=d(regeneratorRuntime.mark(function s(a,l,c){var p,v,g,b,E,x,D,L,G=arguments;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return p=G.length>3&&G[3]!==void 0?G[3]:{count:0,deferred:new Ab},v=p.deferred,g=p.count,ae.prev=2,ae.next=5,l();case 5:E=ae.sent,g>0&&((b=c.onRecover)===null||b===void 0||b.call(c)),v.resolve(E),ae.next=19;break;case 10:if(ae.prev=10,ae.t0=ae.catch(2),(x=c.onError)===null||x===void 0||x.call(c,ae.t0),D=a.calcTimeout(g+1),!(D>=0)){ae.next=18;break}return(L=c.onRetrial)===null||L===void 0||L.call(c,g+1,ae.t0),setTimeout(function(){tk(a,l,c,{count:g+1,deferred:v})},D),ae.abrupt("return",v.promise);case 18:v.reject(ae.t0);case 19:return ae.abrupt("return",v.promise);case 20:case"end":return ae.stop()}},s,null,[[2,10]])}));return function(a,l,c){return u.apply(this,arguments)}}(),lV=function(){function u(){h(this,u)}return m(u,[{key:"calcTimeout",value:function(a){switch(a){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),u}(),uV=function(){function u(s,a,l){h(this,u),this.interval=s,this.noise=a,this.maxRetrial=l}return m(u,[{key:"calcTimeout",value:function(a){return a>this.maxRetrial?-1:a*this.interval+(Math.random()-.5)*this.noise*2}}]),u}(),rk=function(){function u(s){h(this,u),this._requests=new Map,this.timeoutTime=s}return m(u,[{key:"has",value:function(a){return this._requests.has(a)}},{key:"get",value:function(a){return this._requests.get(a)}},{key:"register",value:function(a){if(!a)throw new Error("invalid request id");if(this._requests.has(a))throw new Error("duplicate requests");var l=new Ab;return this._requests.set(a,{deferred:l,timer:this._createTimeoutTimer(a)}),l}},{key:"unregister",value:function(a){if(!this._requests.has(a))return null;var l=this._requests.get(a),c=l.timer,p=l.deferred;return clearTimeout(c),this._requests.delete(a),p}},{key:"_createTimeoutTimer",value:function(a){var l=this;return setTimeout(function(){var c=l.unregister(a);c.reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(a){var l=re(this._requests.keys()),c;try{for(l.s();!(c=l.n()).done;){var p=c.value,v=this._requests.get(p);clearTimeout(v.timer),v.deferred.reject(a)}}catch(g){l.e(g)}finally{l.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),u}(),cV=function(){function u(s,a,l,c){h(this,u),_(this,"_timeoutTime",6e4),this._ctx=s,this._participantId=a,this._mediaDirections=l,this._endpointId=c,this._requestMap=new rk(this._timeoutTime)}return m(u,[{key:"sendOfferSdp",value:function(){var s=d(regeneratorRuntime.mark(function l(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this._endpointId){v.next=5;break}return v.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(c);case 3:v.next=7;break;case 5:return v.next=7,this._sendOfferAndUnregisterPutEndpointRequest(c);case 7:case"end":return v.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(c);case 4:return v=b.sent,p&&p.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),p&&p.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},l,this,[[1,9]])}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(c);case 4:return v=b.sent,p&&p.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),p&&p.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},l,this,[[1,9]])}));function a(l){return s.apply(this,arguments)}return a}()},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(a){return this._ctx.sendCreateEndpoint(a)}},{key:"_sendPutEndpoint",value:function(a){return this._ctx.sendPutEndpoint(a)}}]),u}(),Mc=function(u){y(a,u);var s=P(a);function a(l){return h(this,a),s.call(this,l)}return m(a)}(ek),Dt;(function(u){u.PENDING="pending",u.ESTABLISHED="established",u.CONNECTED="connected",u.FAILED="failed",u.RELEASING="releasing",u.CLOSED="closed"})(Dt||(Dt={}));var dV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",Dt.CLOSED),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),a}(Mc),hV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,l),_($(c),"type",Dt.CONNECTED),c}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),a}(Mc),pV=function(u){y(a,u);var s=P(a);function a(l,c,p){var v;return h(this,a),v=s.call(this,l),_($(v),"type",Dt.ESTABLISHED),v._sdp=c,v._hasPendingAttach=p,v}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toPending()}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),a}(Mc),fV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",Dt.FAILED),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("failed"),this._context.endpoint.id?this._stateMutator.toReleasing():this._stateMutator.toClosed()}},{key:"_onDestroy",value:function(){}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),a}(Mc),vV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",Dt.PENDING),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("pending"),this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){var c=this;this._context.trialCount+=1;var p=this._context.trialCount;p>=9?this._stateMutator.toFailed():p>1?this._requestTimeout=setTimeout(function(){c._context.createSession()},p*5e3+(Math.random()-.5)*2e3):this._context.createSession()}},{key:"onEndpointRequestSucceeded",value:function(c){this._stateMutator.toEstablished(c,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._request()}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),a}(Mc),mV=function(u){y(a,u);var s=P(a);function a(){var l;h(this,a);for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return l=s.call.apply(s,[this].concat(p)),_($(l),"type",Dt.RELEASING),l}return m(a,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),a}(Mc),gV=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toPending",value:function(){this._changeState(new vV(this))}},{key:"toEstablished",value:function(c,p){this._changeState(new pV(this,c,p))}},{key:"toConnected",value:function(){this._changeState(new hV(this))}},{key:"toFailed",value:function(){this._changeState(new fV(this))}},{key:"toReleasing",value:function(){this._changeState(new mV(this))}},{key:"toClosed",value:function(){this._changeState(new dV(this))}}]),a}(ZI),_V=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,l,new gV(l)),c._stateMutator.toPending(),c}return m(a,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(c){dn.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var p=this.state;switch(p.type){case Dt.PENDING:p.onEndpointRequestSucceeded(c);break;case Dt.RELEASING:p.onEndpointRequestSucceeded();break;default:dn.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){dn.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var c=this.state;switch(c.type){case Dt.PENDING:c.onEndpointRequestFailed();break;case Dt.RELEASING:c.onEndpointRequestFailed();break;default:dn.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){dn.verbose("[".concat(this.state.type,"] onICEFailed"));var c=this.state;switch(c.type){case Dt.ESTABLISHED:c.onICEFailed();break;case Dt.CONNECTED:c.onICEFailed();break;default:dn.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){dn.verbose("[".concat(this.state.type,"] onPCConnected"));var c=this.state;switch(c.type){case Dt.ESTABLISHED:c.onPCConnected();break;default:dn.error("[".concat(this.state.type,"] onPCConnected"))}}},{key:"onAttach",value:function(){dn.verbose("[".concat(this.state.type,"] onAttach"));var c=this.state;switch(c.type){case Dt.PENDING:c.onAttach();break;case Dt.ESTABLISHED:c.onAttach();break;case Dt.CONNECTED:c.onAttach();break;default:dn.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){dn.verbose("[".concat(this.state.type,"] onRelease"));var c=this.state;switch(c.type){case Dt.PENDING:c.onRelease();break;case Dt.ESTABLISHED:c.onRelease();break;case Dt.CONNECTED:c.onRelease();break;default:dn.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){dn.verbose("[".concat(this.state.type,"] onReleased"));var c=this.state;switch(c.type){case Dt.RELEASING:c.onReleased();break;default:dn.error("[".concat(this.state.type,"] onReleased"))}}},{key:"onExit",value:function(){dn.verbose("[".concat(this.state.type,"] onExit"));var c=this.state;switch(c.type){case Dt.RELEASING:c.onExit();break;case Dt.PENDING:c.onExit();break;case Dt.CONNECTED:c.onExit();break;case Dt.ESTABLISHED:c.onExit();break;case Dt.FAILED:c.onExit();break;default:dn.error("[".concat(this.state.type,"] onExit"))}}}]),a}(nk),bV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),c.payload=l.payload||{},c}return m(a)}(f0),Rb=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.apply(this,arguments)}return m(a)}(bV),Dh;(function(u){u.OFFER="offer",u.ANSWER="answer",u.CANDIDATE="candidate"})(Dh||(Dh={}));var yV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,{payload:l}),_($(c),"type",Dh.ANSWER),c}return m(a)}(Rb),EV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,{payload:l}),_($(c),"type",Dh.CANDIDATE),c}return m(a)}(Rb),wV=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this,{payload:l}),_($(c),"type",Dh.OFFER),c}return m(a)}(Rb),CV=function(){function u(){h(this,u)}return m(u,null,[{key:"createOffer",value:function(a,l){return new wV({peerConnectionId:a,sdp:l})}},{key:"createAnswer",value:function(a,l){return new yV({peerConnectionId:a,sdp:l})}},{key:"createCandidate",value:function(a,l){return new EV({peerConnectionId:a,candidate:l})}}]),u}(),ik=function(u){y(a,u);var s=P(a);function a(l,c,p,v){var g;return h(this,a),g=s.call(this),_($(g),"tmpId",V()),_($(g),"_createSession",function(){switch(dn.debug("_createSession()"),g._type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:dn.error("Not supported endpoint type : ",g._type)}}),_($(g),"_closePeerConnection",function(){dn.debug("_closePeerConnection()"),g._pc.removeAllEventListeners(),g._pc.close()}),_($(g),"_requestAttach",function(){var b=function(){return g._sendAttach(g._attachedTo)};tk(new uV(5e3,1e3,8),b,{onError:function(x){dn.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g._attachedTo," ErrorCode = ").concat(x.code))}}).then(function(){g._dispatchEvent("attached",g._attachedTo)})}),_($(g),"_requestRelease",function(){dn.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){dn.error("Release request failed",b),g._stateMachine.onReleased()})}),_($(g),"_setRemoteDescription",function(b){dn.debug("_setRemoteDescription()");var E=g._pc,x=CV.createAnswer(void 0,b);E.onEvent(x),E.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),E.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=l,g._localStream=c,g._type=p,g._participantId=v,g._stateMachine=new _V({endpoint:$(g),dispatchEvent:g._dispatchEvent.bind($(g)),createSession:g._createSession,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0}),g}return m(a,[{key:"pc",get:function(){return this._pc}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(c){dn.debug("attach()"),this._attachedTo=c,this._stateMachine.onAttach()}},{key:"release",value:function(){dn.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){dn.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){dn.debug("_createMasterSession()"),this._createPeerConnection(this._masterSessionDirection,this._localStream),this._requestCreateEndpoint()}},{key:"_createViewerSession",value:function(){dn.debug("_createViewerSession()"),this._createPeerConnection(this._viewerSessionDirection,void 0),this._requestCreateEndpoint()}},{key:"_createPeerConnection",value:function(c,p){dn.debug("_createPeerConnection()");var v=new cV(this._ctx,this._participantId,c,this.id);this._pc=new oV(this._ctx,void 0,v,p,!0,void 0,c,!0),this._dispatchEvent("pcChanged",this._pc)}},{key:"_requestCreateEndpoint",value:function(){var c=this;dn.debug("_requestCreateEndpoint()");var p=this._pc,v;this.id?v=p.signalingClient.registerPutEndpointRequest():v=p.signalingClient.registerCreateEndpointRequest(),p.createOffer(),v.promise.then(function(g){c.id=g.payload.endpoint.id,c._stateMachine.onEndpointRequestSucceeded(g.payload.sdp)}).catch(function(g){dn.error("Endpoint request failed",g),c._stateMachine.onEndpointRequestFailed()})}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(c){return this._ctx.sendAttach(this,c)}}]),a}(Go),xV=function(u){y(a,u);var s=P(a);function a(){return h(this,a),s.call(this)}return m(a,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v=this,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:g=E.sent,this._stream=g,this._stream.getVideoTracks()[0].onended=function(){v._releaseStream(),v._dispatchEvent("streamStopped")},E.next=19;break;case 8:E.prev=8,E.t0=E.catch(0),E.t1=E.t0.name,E.next=E.t1==="InvalidStateError"?13:E.t1==="NotAllowedError"?14:E.t1==="NotFoundError"?15:E.t1==="NotReadableError"?16:17;break;case 13:return E.abrupt("break",18);case 14:return E.abrupt("break",18);case 15:return E.abrupt("break",18);case 16:return E.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return E.stop()}},p,this,[[0,8]])}));function c(){return l.apply(this,arguments)}return c}()},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(!!this._stream){var c=re(this._stream.getTracks()),p;try{for(c.s();!(p=c.n()).done;){var v=p.value;v.stop()}}catch(g){c.e(g)}finally{c.f()}delete this._stream}}}]),a}(Go),SV=function(u){y(a,u);var s=P(a);function a(l){var c,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0};return h(this,a),c=s.call(this),_($(c),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),c._deviceManager=l,c._mediaConstraints=p,c._screenShare=new xV,c._screenShare.on("streamStopped",function(){c._releaseMergedStream(),c._dispatchEvent("screenShareStreamStopped")}),c}return m(a,[{key:"mediaConstraints",set:function(c){this._mediaConstraints=c}},{key:"hasPermission",get:function(){var c;return(c=this._mediaAccess)===null||c===void 0?void 0:c.hasPermission}},{key:"localStream",get:function(){return this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:function(){var l=d(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this._checkScreenSharePrerequisites(),g.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return g.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"stopScreenShare",value:function(){!this._screenShare.isSharing||this._screenShare.stopStream()}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(c){var p=this;this._mediaAccess=this._deviceManager.useMedia(c),this._mediaAccess.on("streamChanged",function(){p._screenShare.isSharing&&p._mergeScreenShareStream(),p._dispatchEvent("streamChanged",p.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return p._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(!!this._screenShare.isSharing){var c=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&c.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),c.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=c}}},{key:"_releaseMergedStream",value:function(){!this._mergedStream||(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this._dispatchEvent("streamChanged",this.localStream))}}]),a}(Go),Mb=function(){function u(s,a,l,c){h(this,u),this._liveEvent=s,this._sender=l,this._deviceManager=a,this._mediaOption=c}return m(u,[{key:"mediaView",get:function(){return this._mediaView},set:function(a){if(this._mediaView!==a){if(this._mediaView&&(this._mediaView=null),!a){delete this._mediaView;return}this.isHostStream?this._mediaView=this._updateMediaViewStream(a,this.localStream):this._mediaView=this._updateMediaViewStream(a,this.stream)}}},{key:"localStream",get:function(){var a;return(a=this._localStream)===null||a===void 0?void 0:a.localStream}},{key:"stream",get:function(){var a;return(a=this._endpoint.pc)===null||a===void 0?void 0:a.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var a=this;this._localStream=new SV(this._deviceManager,{audio:!0,video:!0}),this._localStream.on("streamChanged",function(){a._onLocalStream()})}},{key:"_createEndpoint",value:function(){var a=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new ik({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var l=new ik({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return this._unsubscriber=l.pc.on("remoteStream",function(c){a._onStream()}),l}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(a){a&&this._endpoint.release(),this._teardown()}},{key:"attach",value:function(a){this._endpoint.attach(a)}},{key:"toggleAudio",value:function(a){var l;(l=this.localStream.getAudioTracks())===null||l===void 0||l.forEach(function(c){c.enabled=a}),this._mediaOption.turnAudioOn=a}},{key:"toggleVideo",value:function(a){var l;(l=this.localStream.getVideoTracks())===null||l===void 0||l.forEach(function(c){c.enabled=a}),this._mediaOption.turnVideoOn=a}},{key:"chooseMediaDevice",value:function(a,l){this._deviceManager.selectDevice(a,l)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var a=this.stream;this._mediaView&&this._updateMediaViewStream(this._mediaView,a)}},{key:"_updateMediaViewStream",value:function(a,l){return l&&(a.srcObject=l),a}},{key:"_sendConnected",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.isHostStream?p=Ot.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,c.id):p=Ot.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,c.id),g.abrupt("return",this._sender.send(p));case 2:case"end":return g.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_sendReleaseEndpoint",value:function(a){var l;return this.isHostStream?l=Ot.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,a.id):l=Ot.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,a.id),this._sender.sendWithRetry(l)}},{key:"_sendAttach",value:function(a,l){var c=Ot.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,a.id,l);return this._sender.sendWithRetry(c)}},{key:"_sendCreateEndpoint",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.isHostStream){b.next=5;break}return p=Ot.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,c.sdp,"sendonly","sendonly"),b.abrupt("return",this._sender.send(p));case 5:return v=Ot.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,c.sdp,"recvonly","recvonly"),b.abrupt("return",this._sender.send(v));case 7:case"end":return b.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_sendPutEndpoint",value:function(){var s=d(regeneratorRuntime.mark(function l(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._sendCreateEndpoint(c));case 1:case"end":return v.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_teardown",value:function(){var a,l;(a=this._endpoint)===null||a===void 0||a.exit(),this._endpoint=null,(l=this._unsubscriber)===null||l===void 0||l.call(this),this._unsubscriber=null}}]),u}();t.ErrorCode=void 0,function(u){u[u.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",u[u.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",u[u.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",u[u.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",u[u.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",u[u.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",u[u.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",u[u.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",u[u.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED"}(t.ErrorCode||(t.ErrorCode={}));var IV=function(){function u(){h(this,u)}return m(u,null,[{key:"getErrorMessage",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.invalidParameter;var c=l.methodName,p=c===void 0?"":c;switch(a){case t.ErrorCode.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case t.ErrorCode.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(p,", ").concat(p,", ").concat(p," methods for a live event that is not in the 'ongoing' or 'ready' state.");case t.ErrorCode.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case t.ErrorCode.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case t.ErrorCode.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case t.ErrorCode.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case t.ErrorCode.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case t.ErrorCode.QUERY_IN_PROGRESS:return"The last query is in progress.";case t.ErrorCode.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),u}(),kV=["message","error"],TV=function(u){y(a,u);var s=P(a);function a(l){var c,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=p.message,g=p.error,b=H(p,kV);h(this,a);var E=v||IV.getErrorMessage(l,b);return c=s.call(this,E),c.code=l,c._error=g,c}return m(a)}(T(Error)),Db=function(u){y(a,u);var s=P(a);function a(l){var c,p=l.deviceManager,v=l.sender,g=l.sb,b=l.userId,E=l.info;return h(this,a),c=s.call(this),_($(c),"_customItemsUpdatedAt",0),c._deviceManager=p,c._sender=v,c._sb=g,c._userId=b,c._streams=new Map,c._customItems=null,E&&Object.assign($(c),E),c._unsubscriber=c._sender.on("command",function(x){c._onEvent(x)}),c}return m(a,[{key:"customItems",get:function(){return i({},this._customItems)},set:function(c){this._customItems=c}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?t.LiveEventRole.HOST:t.LiveEventRole.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===t.LiveEventRole.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&this.host&&this.host.userId===this._userId}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(c){this._duration=c}},{key:"fetchOpenChannel",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return v=E.sent,g=this._sb.openChannel.buildOpenChannelFromSerializedData(v),this.openChannel=g,E.abrupt("return",g);case 6:case"end":return E.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"_getOpenChannel",value:function(){var l=d(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!this.openChannel){g.next=2;break}return g.abrupt("return",this.openChannel);case 2:return g.abrupt("return",this.fetchOpenChannel());case 3:case"end":return g.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"enterAsHost",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this._getOpenChannel();case 2:return g=D.sent,D.next=5,g.enter();case 5:return D.prev=5,D.next=8,this._sender.send(Ot.createEnterHost(this.liveEventId,v));case 8:b=D.sent,E=b.payload.host,v&&this._streams.set(E.hostId,new Mb(this,this._deviceManager,this._sender,v)),this.upsert({host:E}),D.next=19;break;case 14:return D.prev=14,D.t0=D.catch(5),D.next=18,g.exit();case 18:throw D.t0;case 19:this._startToSendAlive();case 20:case"end":return D.stop()}},p,this,[[5,14]])}));function c(p){return l.apply(this,arguments)}return c}()},{key:"setEventReady",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(this.isHost){E.next=2;break}throw new Error("host only action");case 2:return E.next=4,this._sender.send(Ot.createReady(this.liveEventId));case 4:v=E.sent,g=v.payload.liveEvent,this.upsert(g);case 7:case"end":return E.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"startEvent",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.isHost){x.next=2;break}throw new Error("host only action");case 2:return x.next=4,this._sender.send(Ot.createStart(this.liveEventId));case 4:g=x.sent,b=g.payload.liveEvent,this.upsert(b),this.isHostStreaming||this.startStreaming(v),typeof v.turnAudioOn=="boolean"&&this._toggleAudio(v.turnAudioOn),typeof v.turnVideoOn=="boolean"&&this._toggleVideo(v.turnVideoOn);case 10:case"end":return x.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"startStreaming",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var p=this._streams.get(this.host.hostId);if(!p){var v=new Mb(this,this._deviceManager,this._sender,c);this._streams.set(this.host.hostId,v)}p.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var c=this._streams.get(this.host.hostId);c&&(this._streams.delete(this.host.hostId),c.closeStream(!0))}},{key:"exitAsHost",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.isActiveHost){x.next=2;break}throw new Error("current host only action");case 2:return v=this.host.hostId,x.next=5,this._sender.send(Ot.createExitHost(this.liveEventId,v));case 5:g=x.sent,b=g.payload.host,this.upsert({host:b}),this.teardown();case 9:case"end":return x.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"endEvent",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._sender.send(Ot.createEndLiveEvent(this.liveEventId));case 2:v=E.sent,g=v.payload.liveEvent,this.upsert(g),this.teardown();case 6:case"end":return E.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(c){if(!this.isActiveHost)throw new Error("current host only action");var p=this._streams.get(this.host.hostId);p.toggleAudio(c),this._sender.send(Ot.createAudio(this.liveEventId,this.host.hostId,c))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(c){if(!this.isActiveHost)throw new Error("current host only action");var p=this._streams.get(this.host.hostId);p.toggleVideo(c),this._sender.send(Ot.createVideo(this.liveEventId,this.host.hostId,c))}},{key:"selectAudioInput",value:function(c){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",c)}},{key:"selectVideoInput",value:function(c){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("videoinput",c)}},{key:"enter",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this._getOpenChannel();case 2:return v=x.sent,x.next=5,v.enter();case 5:return x.prev=5,x.next=8,this._sender.send(Ot.createEnter(this.liveEventId));case 8:g=x.sent,b=g.payload.participant,this.upsert({currentLiveUser:b}),this._tryOpen(),x.next=19;break;case 14:return x.prev=14,x.t0=x.catch(5),x.next=18,v.exit();case 18:throw x.t0;case 19:this._startToSendAlive();case 20:case"end":return x.stop()}},p,this,[[5,14]])}));function c(){return l.apply(this,arguments)}return c}()},{key:"exit",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._sender.send(Ot.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:v=b.sent,v.payload.participant,this.teardown();case 5:case"end":return b.stop()}},p,this)}));function c(){return l.apply(this,arguments)}return c}()},{key:"setVideoViewForLiveEvent",value:function(c,p){var v=this._streams.get(p);v&&(v.mediaView=c)}},{key:"updateLiveEventInfo",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return g=Ot.updateLiveEvent(this.liveEventId,v.userIdsForHost,v.title,v.coverUrl,v.coverFile),D.next=3,this._sender.send(g);case 3:b=D.sent,E=b.payload.liveEvent,this.upsert(E);case 6:case"end":return D.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"fetchCustomItems",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return v=Ot.createGetCustomItems(this.liveEventId),x.prev=1,x.next=4,this._sender.send(v);case 4:return g=x.sent,b=g.payload,this._setCustomItems(b.customItems),x.abrupt("return",b);case 10:throw x.prev=10,x.t0=x.catch(1),dn.error("failed to update customItems"),x.t0;case 14:case"end":return x.stop()}},p,this,[[1,10]])}));function c(){return l.apply(this,arguments)}return c}()},{key:"updateCustomItems",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!Object.keys(v).some(function(L){return typeof v[L]!="string"})){D.next=2;break}throw new Error("invalid parameter");case 2:return g=Ot.createUpdateCustomItems(this.liveEventId,v),D.prev=3,D.next=6,this._sender.send(g);case 6:return b=D.sent,E=b.payload,this._setCustomItems(E.customItems,E.updatedAt),D.abrupt("return",E);case 12:throw D.prev=12,D.t0=D.catch(3),dn.error("failed to update customItems"),D.t0;case 16:case"end":return D.stop()}},p,this,[[3,12]])}));function c(p){return l.apply(this,arguments)}return c}()},{key:"deleteCustomItems",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b,E;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!v.some(function(L){return typeof L!="string"})){D.next=2;break}throw new Error("invalid parameter");case 2:return g=Ot.createDeleteCustomItems(this.liveEventId,v),D.prev=3,D.next=6,this._sender.send(g);case 6:return b=D.sent,E=b.payload,this._setCustomItems(E.customItems,E.deletedAt),D.abrupt("return",E);case 12:throw D.prev=12,D.t0=D.catch(3),dn.error("failed to delete customItems"),D.t0;case 16:case"end":return D.stop()}},p,this,[[3,12]])}));function c(p){return l.apply(this,arguments)}return c}()},{key:"deleteAllCustomItems",value:function(){var l=d(regeneratorRuntime.mark(function p(){var v,g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return v=Ot.createDeleteAllCustomItems(this.liveEventId),x.prev=1,x.next=4,this._sender.send(v);case 4:return g=x.sent,b=g.payload,this._setCustomItems(b.customItems,b.deletedAt),x.abrupt("return",b);case 10:throw x.prev=10,x.t0=x.catch(1),dn.error("failed to delete all customItems"),x.t0;case 14:case"end":return x.stop()}},p,this,[[1,10]])}));function c(){return l.apply(this,arguments)}return c}()},{key:"upsert",value:function(c){Object.assign(this,c)}},{key:"teardown",value:function(){var c;(c=this.openChannel)===null||c===void 0||c.exit();var p=re(this._streams.values()),v;try{for(p.s();!(v=p.n()).done;){var g=v.value;g.closeStream()}}catch(b){p.e(b)}finally{p.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(c,p){return typeof p>"u"||p>this._customItemsUpdatedAt?(this._customItemsUpdatedAt=p,this._customItems=c||{},!0):!1}},{key:"_onEvent",value:function(c){if(this.liveEventId===c.payload.liveEventId)if(c instanceof vI)this._onReady(c);else if(c instanceof mI)this._onStarted(c);else if(c instanceof gI)this._onEnded(c);else if(c instanceof xI)this._onUpdated(c);else if(c instanceof _I)this._onHostEntered(c);else if(c instanceof bI)this._onHostExited(c);else if(c instanceof yI)this._onHostConnected(c);else if(c instanceof CI)this._onHostDisconnected(c);else if(c instanceof ab)this._onHostAudioStatusChanged(c);else if(c instanceof sb)this._onHostVideoStatusChanged(c);else if(c instanceof EI)this._onParticipantEntered(c);else if(c instanceof wI)this._onParticipantExited(c);else if(c instanceof SI)this._onUpdateCustomItems(c);else if(c instanceof II)this._onDeleteCustomItems(c);else throw new Error("unknown event is received")}},{key:"_onReady",value:function(c){var p=c.payload.liveEvent;this.upsert(p),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(c){var p=c.payload.liveEvent;this.upsert(p),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(c){var p=c.payload.liveEvent;this.upsert(p),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(c){var p=c.payload.liveEvent;this.upsert(p),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(c){var p=c.payload.host;this.upsert({host:p}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(c){var p=c.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,p)}},{key:"_onHostConnected",value:function(c){var p=c.payload.host;this.upsert({host:p}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(c){var p=c.payload.host;this.upsert({host:p}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(c){var p=c.payload.host;this.upsert({host:p}),p.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),p.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(c){var p=c.payload.host;this.upsert({host:p}),p.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),p.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(c){var p=c.payload,v=p.participant,g=p.participantCount,b=p.peakParticipantCount,E=p.cumulativeParticipantCount;this.upsert({participantCount:g,peakParticipantCount:b,cumulativeParticipantCount:E}),this._dispatchEvent("participantEntered",this,v)}},{key:"_onParticipantExited",value:function(c){var p=c.payload,v=p.participant,g=p.participantCount,b=p.peakParticipantCount,E=p.cumulativeParticipantCount;this.upsert({participantCount:g,peakParticipantCount:b,cumulativeParticipantCount:E}),this._dispatchEvent("participantExited",this,v)}},{key:"_onUpdateCustomItems",value:function(c){var p=c.payload,v=p.customItems,g=p.updatedAt;p.updatedKeys,this._setCustomItems(v,g)&&this._dispatchEvent("customItemsUpdated",v,g)}},{key:"_onDeleteCustomItems",value:function(c){var p=c.payload,v=p.customItems,g=p.deletedAt;p.deletedKeys,this._setCustomItems(v,g)&&this._dispatchEvent("customItemsDeleted",v,g)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new TV(t.ErrorCode.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(!(!this.host||this.host.state!==t.HostState.CONNECTED||this.state!==t.LiveEventState.ONGOING)){var c=this.host.hostId,p;this._streams.has(c)?p=this._streams.get(c):(p=new Mb(this,this._deviceManager,this._sender),this._streams.set(c,p)),p.openStream(),p.attach(c)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var c=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var p=Ot.createHostAlive(c.liveEventId,c.host.hostId);c._sender.send(p)},3e3):this._aliveIntervalId=setInterval(function(){var p=Ot.createAlive(c.liveEventId,c.currentLiveUser.participantId);c._sender.send(p)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),a}(Go);/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Ub=function(u,s){return Ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},Ub(u,s)};function Y(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=u}Ub(u,s),u.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}var fe=function(){return fe=Object.assign||function(u){for(var s,a=1,l=arguments.length;a<l;a++)for(var c in s=arguments[a])Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=s[c]);return u},fe.apply(this,arguments)};function q(u,s,a,l){return new(a||(a=Promise))(function(c,p){function v(E){try{b(l.next(E))}catch(x){p(x)}}function g(E){try{b(l.throw(E))}catch(x){p(x)}}function b(E){var x;E.done?c(E.value):(x=E.value,x instanceof a?x:new a(function(D){D(x)})).then(v,g)}b((l=l.apply(u,s||[])).next())})}function B(u,s){var a,l,c,p,v={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(E){return function(x){if(a)throw new TypeError("Generator is already executing.");for(;v;)try{if(a=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,l=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(c=v.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){v=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){v.label=x[1];break}if(x[0]===6&&v.label<c[1]){v.label=c[1],c=x;break}if(c&&v.label<c[2]){v.label=c[2],v.ops.push(x);break}c[2]&&v.ops.pop(),v.trys.pop();continue}x=s.call(u,v)}catch(D){x=[6,D],l=0}finally{a=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([b,E])}}}function Pn(u){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&u[s],l=0;if(a)return a.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&l>=u.length&&(u=void 0),{value:u&&u[l++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(u,s){var a=typeof Symbol=="function"&&u[Symbol.iterator];if(!a)return u;var l,c,p=a.call(u),v=[];try{for(;(s===void 0||s-- >0)&&!(l=p.next()).done;)v.push(l.value)}catch(g){c={error:g}}finally{try{l&&!l.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return v}function Qt(u,s,a){if(a||arguments.length===2)for(var l,c=0,p=s.length;c<p;c++)!l&&c in s||(l||(l=Array.prototype.slice.call(s,0,c)),l[c]=s[c]);return u.concat(l||Array.prototype.slice.call(s))}var jn,NV="4.0.6",iu=function(){function u(){}return Object.defineProperty(u,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(u,"SDK_VERSION",{get:function(){return"4.0.6"},enumerable:!1,configurable:!0}),Object.defineProperty(u,"SDK_MAJOR_VERSION",{get:function(){return u.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(u,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(u,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),u}();(function(u){u[u.INVALID_TOKEN=400111]="INVALID_TOKEN",u[u.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",u[u.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",u[u.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",u[u.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",u[u.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",u[u.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",u[u.LOST_INSTANCE=700100]="LOST_INSTANCE",u[u.CONNECTION_RENEW=700102]="CONNECTION_RENEW",u[u.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",u[u.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",u[u.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",u[u.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",u[u.INVALID_PARAMETER=800110]="INVALID_PARAMETER",u[u.NETWORK_ERROR=800120]="NETWORK_ERROR",u[u.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",u[u.MALFORMED_DATA=800130]="MALFORMED_DATA",u[u.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",u[u.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",u[u.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",u[u.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",u[u.ACK_TIMEOUT=800180]="ACK_TIMEOUT",u[u.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",u[u.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",u[u.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",u[u.REQUEST_FAILED=800220]="REQUEST_FAILED",u[u.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",u[u.REQUEST_CANCELED=800240]="REQUEST_CANCELED",u[u.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",u[u.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",u[u.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",u[u.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",u[u.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(jn||(jn={}));var We,Vo=function(u){return!(u instanceof be&&!u.shouldThrowOutside)},be=function(u){function s(a){var l=a.code,c=l===void 0?0:l,p=a.message,v=u.call(this,p)||this;return v.shouldThrowOutside=!1,v.name="SendbirdError",v.code=c,Object.setPrototypeOf(v,s.prototype),v}return Y(s,u),Object.defineProperty(s.prototype,"isInvalidTokenError",{get:function(){return this.code===jn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===jn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===jn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(s,"debugModeRequired",{get:function(){return new s({code:jn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"lostInstance",{get:function(){return new s({code:jn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"connectionRenew",{get:function(){return new s({code:jn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"invalidConnectionStateTransition",{get:function(){return new s({code:jn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"connectionRequired",{get:function(){return new s({code:jn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"connectionCanceled",{get:function(){return new s({code:jn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"invalidParameters",{get:function(){return new s({code:jn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"networkError",{get:function(){return new s({code:jn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"markAsReadAllRateLimitExceeded",{get:function(){return new s({code:jn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"queryInProgress",{get:function(){return new s({code:jn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"noAckTimeout",{get:function(){return new s({code:jn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"loginTimeout",{get:function(){return new s({code:jn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"connectionClosed",{get:function(){return new s({code:jn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"requestFailed",{get:function(){return new s({code:jn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"fileUploadCanceled",{get:function(){return new s({code:jn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"requestCanceled",{get:function(){return new s({code:jn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"sessionTokenRefreshFailed",{get:function(){return new s({code:jn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"sessionTokenRequestFailed",{get:function(){return new s({code:jn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),s.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},s}(Error),OV=[jn.CONNECTION_REQUIRED,jn.NETWORK_ERROR,jn.ACK_TIMEOUT,jn.WEBSOCKET_CONNECTION_CLOSED,jn.WEBSOCKET_CONNECTION_FAILED,jn.FILE_UPLOAD_CANCEL_FAILED,jn.REQUEST_CANCELED,jn.INTERNAL_SERVER_ERROR,jn.RATE_LIMIT_EXCEEDED,jn.UNKNOWN_SERVER_ERROR],AV=[jn.WEBSOCKET_CONNECTION_CLOSED,jn.WEBSOCKET_CONNECTION_FAILED,jn.CONNECTION_REQUIRED],ak=function(u,s){if(u!==s){var a=fe({},u),l=fe({},s);return(!a.hasOwnProperty("messageId")||!l.hasOwnProperty("messageId")||a.messageId===l.messageId)&&(!a.hasOwnProperty("reqId")||!l.hasOwnProperty("reqId")||a.reqId===l.reqId)&&(a.hasOwnProperty("messageId")&&delete a.messageId,a.hasOwnProperty("reqId")&&delete a.reqId,l.hasOwnProperty("messageId")&&delete l.messageId,l.hasOwnProperty("reqId")&&delete l.reqId,JSON.stringify(a)===JSON.stringify(l))}return!0},ve=function(u,s,a){return a===void 0&&(a=!1),!(!a||s!=null)||(typeof u!="string"?typeof u=="object"?Lt(u,s):RV(u,s):typeof s===u)},Lt=function(u,s,a){return a===void 0&&(a=!1),!(!a||s!=null)||Object.values(u).includes(s)},RV=function(u,s){return s instanceof u},it=function(u,s,a){return a===void 0&&(a=!1),!(!a||s!=null)||Array.isArray(s)&&s.every(function(l){return ve(u,l)})},C0=function(u){return u>0&&AV.indexOf(u)>=0},Ss=function(u,s){if(s===void 0&&(s=!1),s&&u===null)return!0;var a=ve("object",u)&&u!==null&&u.hasOwnProperty("name")&&typeof u.name=="string"&&u.hasOwnProperty("uri")&&typeof u.uri=="string"&&u.hasOwnProperty("type")&&typeof u.type=="string";if(!a){if(typeof Blob<"u")return u instanceof Blob;if(typeof File<"u")return u instanceof File}return a},sk=function(){function u(s){var a=s===void 0?{}:s,l=a.useMemberInfoInMessage,c=l!==void 0&&l,p=a.typingIndicatorInvalidateTime,v=p===void 0?1e4:p,g=a.typingIndicatorThrottle,b=g===void 0?1e3:g,E=a.websocketResponseTimeout,x=E===void 0?1e4:E;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=c,this._typingIndicatorInvalidateTime=v,this._typingIndicatorThrottle=b,this._websocketResponseTimeout=x}return Object.defineProperty(u.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(s){ve("boolean",s)&&(this._useMemberInfoInMessage=s)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(s){ve("number",s)&&(this._typingIndicatorInvalidateTime=s)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(s){ve("number",s)&&s>=1e3&&s<=9e3&&(this._typingIndicatorThrottle=s)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(s){ve("number",s)&&s>=5e3&&s<=3e4&&(this._websocketResponseTimeout=s)},enumerable:!1,configurable:!0}),u}(),qr={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},x0={encrypt:function(u){return u},decrypt:function(u){return u}},MV=function(){function u(s){var a=s.store;this._preference=new Map,this._store=a}return u.prototype._savePreferenceKeys=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Qt([],Ut(this._preference.keys()),!1),generation:1})];case 1:return s.sent(),[2]}})})},u.prototype.init=function(s){var a;return q(this,void 0,void 0,function(){var l,c,p,v,g,b,E,x;return B(this,function(D){switch(D.label){case 0:return this._keysAddress=s,[4,this._store.get(s)];case 1:l=(a=D.sent())!==null&&a!==void 0?a:[],D.label=2;case 2:D.trys.push([2,7,8,9]),c=Pn(l),p=c.next(),D.label=3;case 3:return p.done?[3,6]:(v=p.value,[4,this._store.get(v)]);case 4:(g=D.sent())&&this._preference.set(v,g),D.label=5;case 5:return p=c.next(),[3,3];case 6:return[3,9];case 7:return b=D.sent(),E={error:b},[3,9];case 8:try{p&&!p.done&&(x=c.return)&&x.call(c)}finally{if(E)throw E.error}return[7];case 9:return[2]}})})},u.prototype.get=function(s){var a;return q(this,void 0,void 0,function(){return B(this,function(l){return[2,(a=this._preference.get(s))!==null&&a!==void 0?a:null]})})},u.prototype.set=function(s,a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){switch(c.label){case 0:return l=!this._preference.has(s),[4,this._store.set({key:s,value:a,generation:1})];case 1:return c.sent(),this._preference.set(s,a),l?[4,this._savePreferenceKeys()]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._store.remove(s)];case 1:return a.sent(),this._preference.delete(s),[4,this._savePreferenceKeys()];case 2:return a.sent(),[2]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._store.removeMany(Qt([],Ut(this._preference.keys()),!1))];case 1:return s.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return s.sent(),[2]}})})},u}(),DV=function(u){var s=u.encryption,a=s===void 0?null:s,l=u.store,c=l===void 0?null:l,p=u.localCacheEnabled,v=p===void 0||p;this.nestdb=null,this.store=c,this.preference=new MV({store:c}),this.encryption=a!=null?a:x0,this.localCacheEnabled=v},UV=function(){function u(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(u.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),u.prototype.clear=function(){this.authToken=null,this.sessionKey=null},u}(),Dc=function(){var u=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var a=(u+16*Math.random())%16|0;return u=Math.floor(u/16),(s==="x"?a:3&a|8).toString(16)})},ok=function(){function u(s){var a=s.container;this._container={},this._container=a,this.key=Dc()}return u.prototype._register=function(s,a,l){return s in this._container||(this._container[s]=new Map),this._container[s].set(this.key,{occurence:a,handler:l}),this},u.prototype.on=function(s,a){return this._register(s,-1,a)},u.prototype.once=function(s,a){return this._register(s,1,a)},u.prototype.close=function(){for(var s in this._container)this._container[s].delete(this.key)},u}(),S0=function(){function u(){this._container={}}return u.prototype.on=function(s,a){return new ok({container:this._container}).on(s,a)},u.prototype.once=function(s,a){return new ok({container:this._container}).once(s,a)},u.prototype.dispatch=function(s,a){var l,c,p=this._container[s];if(p){var v=[];try{for(var g=Pn(p.keys()),b=g.next();!b.done;b=g.next()){var E=b.value,x=p.get(E);x.handler(a),x.occurence>0&&(x.occurence--,x.occurence===0&&v.push(E))}}catch(D){l={error:D}}finally{try{b&&!b.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}v.forEach(function(D){return p.delete(D)})}},u}(),LV=function(){function u(){this._dispatcher=new S0}return u.prototype.on=function(s){return this._dispatcher.on("event",s)},u.prototype.once=function(s){return this._dispatcher.once("event",s)},u.prototype.dispatch=function(s){this._dispatcher.dispatch("event",s)},u}(),Br=function(){},Ln=function(u){var s={};return u&&Object.keys(u).forEach(function(a){u[a]!==void 0&&u[a]!==NaN&&u[a]!==null&&(s[a]=u[a])}),s};(function(u){u.GET="GET",u.POST="POST",u.PUT="PUT",u.DELETE="DELETE"})(We||(We={}));var I0,Qe=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.params={},a.requireAuth=!0,a.headers={},a.requestId=Dc(),a}return Y(s,u),s.prototype.stringifyParams=function(a){return typeof a!="object"||Array.isArray(a)?String(a):a?JSON.stringify(a):""},Object.defineProperty(s.prototype,"query",{get:function(){var a=this,l=Ln(this.params);return"?".concat(Object.keys(l).map(function(c){return"".concat(encodeURIComponent(c),"=").concat(encodeURIComponent(a.stringifyParams(l[c])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){var a=this,l=Ln(this.params);if(Object.keys(l).some(function(p){return Ss(l[p])})){var c=new FormData;return Object.keys(l).forEach(function(p){var v,g=l[p];if(Ss(g)){var b=g;c.append(p,b,(v=b.name)!==null&&v!==void 0?v:"filename")}else c.append(p,a.stringifyParams(g))}),c}return JSON.stringify(l)},enumerable:!1,configurable:!0}),s}(Br),Ze=function(u){function s(a,l){var c=u.call(this)||this;return c._iid=a,c._payload=l,c}return Y(s,u),Object.defineProperty(s.prototype,"payload",{get:function(){return fe({},this._payload)},enumerable:!1,configurable:!0}),s.prototype.as=function(a){return new a(this._iid,this.payload)},s}(Br),PV=function(u){function s(a){var l=u.call(this)||this;return l.requestId=a,l}return Y(s,u),s}(Br),k0=function(u){function s(){return u!==null&&u.apply(this,arguments)||this}return Y(s,u),s}(Br),Lb=function(u){function s(a){var l=u.call(this)||this;return l.statLog=a,l}return Y(s,u),s}(Br);(function(u){u.WEBSOCKET_CONNECT="ws:connect",u.API_RESULT="api:result"})(I0||(I0={}));var Ko,Uh=function(){function u(s){var a=s.type,l=s.data,c=s.ts,p=c===void 0?Date.now():c;this.type=a,this.createdAt=p,this.data=l}return u.payloadify=function(s){return Ln({stat_type:s.type,ts:s.createdAt,data:Ln(s.data)})},u}(),$V=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},FV=function(){function u(s,a){var l=a.auth,c=a.sdkState,p=a.dispatcher,v=a.logger,g=this;this._abortControl=new Map,this._iid=s,this._auth=l,this._sdkState=c,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof PV&&g.cancel(b.requestId)}),this._logger=v}return Object.defineProperty(u.prototype,"_userAgentWithExtension",{get:function(){var s=this._sdkState.extensions,a=$V()?"reactnative":"JS",l=s.sb_syncmanager?"s".concat(s.sb_syncmanager):"",c=s.sb_uikit?"u".concat(s.sb_uikit):"",p=s["device-os-platform"]?"o".concat(s["device-os-platform"]):"";return"".concat(a,"/c").concat(iu.SDK_VERSION,"/").concat(l,"/").concat(c,"/").concat(p)},enumerable:!1,configurable:!0}),u.prototype._createHeader=function(s,a){a===void 0&&(a=null);var l=this._sdkState,c=l.appId,p=l.appVersion,v=fe(fe({},s.headers),{SendBird:"JS,".concat(iu.OS_VERSION,",").concat(iu.SDK_VERSION,",").concat(c).concat(p?",".concat(p):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return a||(v["Content-Type"]="application/json; charset=utf-8"),s.requireAuth&&this._auth.hasSession&&(v["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(v["App-Id"]=c,v["Access-Token"]=this._auth.authToken),v},u.prototype._statLogApiResult=function(s,a,l){this._dispatcher.dispatch(new Lb(new Uh({type:I0.API_RESULT,data:{endpoint:s.path,method:s.method,success:!l,latency:Date.now()-a,error_code:l==null?void 0:l.code,error_description:l==null?void 0:l.message}})))},u.prototype.send=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G,ie,ae,te;return B(this,function(ee){switch(ee.label){case 0:a=s.path,l=s.method,c=![We.GET,We.DELETE].includes(l),p=this._sdkState.api,v="".concat(p.host).concat(a).concat(c?"":s.query),g=c?s.payload:null,b=this._createHeader(s,g instanceof FormData?g:null),E=new AbortController,x=E.signal,this._abortControl.set(s.requestId,E),D=Date.now(),ee.label=1;case 1:return ee.trys.push([1,4,,5]),[4,fetch(v,{method:l,body:g,headers:b,signal:x})];case 2:return[4,(L=ee.sent()).json()];case 3:if(G=ee.sent(),L.ok||L.redirected)return this._logger.debug("receive api response",s.requestId),this._statLogApiResult(s,D,null),[2,new Ze(this._iid,G)];throw G?((ie=new be(G)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new k0),this._statLogApiResult(s,D,ie),ie):(ie=be.requestFailed,this._statLogApiResult(s,D,ie),ie);case 4:throw ae=ee.sent(),this._statLogApiResult(s,D,ae),ae instanceof be?(this._logger.debug("fail api request",ae),ae):ae.name==="AbortError"?be.requestCanceled:(te=be.networkError,this._logger.debug("fail api request",te),te);case 5:return[2]}})})},u.prototype.cancel=function(s){this._abortControl.has(s)&&(this._abortControl.get(s).abort(),this._abortControl.delete(s))},u.prototype.cancelAll=function(){var s,a;try{for(var l=Pn(this._abortControl.values()),c=l.next();!c.done;c=l.next())c.value.abort()}catch(p){s={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}this._abortControl.clear()},u}(),Ht=function(u){function s(a,l,c,p){p===void 0&&(p="");var v,g=this;return(g=u.call(this)||this)._iid=a,g.code=l,g.payload=c,g.requestId=c?(v=c.req_id)!==null&&v!==void 0?v:p:"",g}return Y(s,u),s.createFromRawMessage=function(a,l){var c=l.substring(0,4),p=null;try{p=JSON.parse(l.substring(4))}catch{c="NOOP"}finally{return new s(a,c,p)}},s.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},s.prototype.as=function(a){return new a(this._iid,this.code,this.payload)},s}(Br),Is=function(u){function s(a){var l,c=a.code,p=a.ackRequired,v=a.payload,g=v===void 0?null:v,b=this;return(b=u.call(this)||this).code=c,b.payload=g,b.requestId=(l=b.payload.req_id)!==null&&l!==void 0?l:Dc(),b.ackRequired=p,b.payload.req_id=b.requestId,b}return Y(s,u),s.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},s}(Br),HV=function(u){function s(){return u.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return Y(s,u),s}(Is),qV=function(){function u(s){var a=s.pingDelegate,l=s.sdkState,c=s.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=a,this.sdkState=l,this._logger=c}return Object.defineProperty(u.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),u.prototype.ping=function(){var s,a=this,l=new HV;try{var c=(s=this.sdkState.websocket.pongTimeout)!==null&&s!==void 0?s:5e3;this._pingTimeoutTimer=setTimeout(function(){a._logger.debug("pinger.ping() timeout"),a.pingDelegate.error(null)},c),this.pingDelegate.send(l),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return l},u.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},u.prototype.refreshTimer=function(){var s,a=this;this._logger.debug("pinger.refreshTimer()");var l=(s=this.sdkState.websocket.pingInterval)!==null&&s!==void 0?s:15e3;this.stop(),this._pingTimer=setInterval(function(){a.ping()},l)},u.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},u.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},u}(),Kn=function(){};(function(u){u.CONNECTING="CONNECTING",u.OPEN="OPEN",u.CLOSED="CLOSED"})(Ko||(Ko={}));var At,BV=function(u){function s(a,l){var c=l.sdkState,p=l.dispatcher,v=l.logger,g=u.call(this)||this;return g._pinger=null,g.lastActive=0,g._iid=a,g._sdkState=c,g._dispatcher=p,g._logger=v,g._sdkState.websocket.pingerDisabled||(g._pinger=new qV({pingDelegate:{send:function(b){return g.send(b)},error:function(b){return g.error(b)}},sdkState:g._sdkState,logger:v})),g}return Y(s,u),Object.defineProperty(s.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Ko.CONNECTING;case 1:return Ko.OPEN}return Ko.CLOSED},enumerable:!1,configurable:!0}),s.prototype.connect=function(a){var l=this;this._ws=new WebSocket(a),this._ws.onopen=function(){l._logger.debug("websocket open"),l.dispatch("open")},this._ws.onmessage=function(c){c.data.split(`
`).forEach(function(p){if(p&&ve("string",p)){var v=Ht.createFromRawMessage(l._iid,p);l._logger.debug("receive websocket event",v),v.code==="LOGI"?(v.payload&&!v.payload.error&&l._pinger&&l._pinger.start(),l.dispatch("message",v)):v.code==="PONG"?l._pinger&&l._pinger.pong():v.code==="EXPR"?v.payload&&v.payload.expires_in>0&&l._dispatcher.dispatch(new k0):v.code==="NOOP"||l.dispatch("message",v)}})},this._ws.onerror=function(){l._logger.debug("websocket error"),l._pinger&&l._pinger.stop(),l.dispatch("error",be.networkError)},this._ws.onclose=function(){l._logger.debug("websocket close"),l._pinger&&l._pinger.stop(),l.dispatch("close")},this.lastActive=Date.now()},s.prototype.disconnect=function(){var a=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Kn,this._ws.onmessage=Kn,this._ws.onerror=Kn,this._ws.onclose=function(){a.dispatch("close")},this._ws.close(),this._ws=null)},s.prototype.send=function(a){if(!this._ws)throw be.connectionClosed;a.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",a),this._ws.send(a.convertToMessage())},s.prototype.error=function(a){this._logger.debug("websocket error",a),this._pinger&&this._pinger.stop(),this.dispatch("error",a)},s}(S0),lk=function(u){function s(a){var l=a.all,c=a.custom_types,p=a.ts,v=u.call(this)||this;return v.all=l,v.customTypes=c,v.ts=p,v}return Y(s,u),s}(Br),Ii=function(){var u=this;this.promise=new Promise(function(s,a){u.resolve=s,u.reject=a})},GV=function(){function u(s,a){var l=a.auth,c=a.sdkState,p=a.dispatcher,v=a.logger,g=this;this._ackStateMap=new Map,this._sdkState=c,this._dispatcher=p,this._logger=v,this.apiClient=new FV(s,{auth:l,sdkState:c,dispatcher:p,logger:v}),this.websocketClient=new BV(s,{sdkState:c,dispatcher:p,logger:v}),this.websocketClient.on("message",function(b){if(b.payload.unread_cnt&&g._dispatcher.dispatch(new lk(b.payload.unread_cnt)),b.requestId){if(g._ackStateMap.has(b.requestId)){var E=g._ackStateMap.get(b.requestId);b.code!=="EROR"?E.resolve(b):E.reject(new be({code:b.payload.code,message:b.payload.message}))}}else g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(be.connectionClosed)}),g._ackStateMap.clear()})}return u.prototype._sendApiRequest=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this.apiClient.send(s)];case 1:return[2,a.sent()]}})})},u.prototype._sendWebsocketRequest=function(s){return q(this,void 0,void 0,function(){var a,l,c,p=this;return B(this,function(v){if(a=new Ii,s.ackRequired){l=null,c=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(s.requestId)&&(p._ackStateMap.delete(s.requestId),l&&(clearTimeout(l),l=null),g?(p._logger.debug("fail websocket request",g),a.reject(g)):(p._logger.debug("receive websocket ack",s.requestId),a.resolve(b)))};try{l=setTimeout(function(){return c(be.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(s.requestId,{resolve:function(g){return c(null,g)},reject:function(g){return c(g)}}),this.websocketClient.send(s)}catch(g){c(g)}}else try{this.websocketClient.send(s),a.resolve(null)}catch(g){a.reject(g)}return[2,a.promise]})})},u.prototype.send=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return s instanceof Qe?[4,this._sendApiRequest(s)]:[3,2];case 1:case 3:return[2,a.sent()];case 2:return s instanceof Is?[4,this._sendWebsocketRequest(s)]:[3,4];case 4:throw be.invalidParameters}})})},u.prototype.cancel=function(s){this.apiClient.cancel(s)},u.prototype.cancelAll=function(){this.apiClient.cancelAll()},u}();(function(u){u[u.NONE=0]="NONE",u[u.INITIALIZED=1]="INITIALIZED",u[u.CONNECTING=2]="CONNECTING",u[u.CONNECTED=3]="CONNECTED",u[u.RECONNECTING=4]="RECONNECTING",u[u.DISCONNECTED=5]="DISCONNECTED",u[u.LOGOUT=6]="LOGOUT"})(At||(At={}));var Yt,T0,zt,ha,N0,si,pa,Wo,Pt,Uc=function(u){function s(a){var l=a.stateType,c=u.call(this)||this;return c.stateType=l,c}return Y(s,u),s}(Br),jV=function(){function u(s,a){var l=a.auth,c=a.sdkState,p=a.dispatcher,v=a.logger,g=this;this._currentConnectionStateType=At.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new GV(s,{auth:l,sdkState:c,dispatcher:p,logger:v}),this._auth=l,this._logger=v,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof Uc){var E=b.stateType;switch(g._currentConnectionStateType=E,E){case At.CONNECTED:var x=g._lazyCallQueue;g._lazyCallQueue=[],x.forEach(function(D){return q(g,void 0,void 0,function(){var L,G,ie,ae,te;return B(this,function(ee){switch(ee.label){case 0:L=D.command,G=D.deferred,ie=D.timeout,clearTimeout(ie),ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,this.send(L)];case 2:return ae=ee.sent(),G.resolve(ae),[3,4];case 3:return te=ee.sent(),G.reject(te),[3,4];case 4:return[2]}})})});break;case At.INITIALIZED:case At.DISCONNECTED:case At.LOGOUT:x=g._lazyCallQueue,g._lazyCallQueue=[],x.forEach(function(D){return q(g,void 0,void 0,function(){var L,G;return B(this,function(ie){return L=D.deferred,G=D.timeout,clearTimeout(G),this._auth&&this._auth.hasSession?L.reject(be.connectionClosed):L.reject(be.connectionRequired),[2]})})})}}})}return Object.defineProperty(u.prototype,"isReady",{get:function(){return this._currentConnectionStateType===At.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===At.CONNECTING||this._currentConnectionStateType===At.RECONNECTING},enumerable:!1,configurable:!0}),u.prototype.send=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return s instanceof Is?this.isReady?(this._logger.debug("send websocket request",s),[4,this.commandRouter.send(s)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",s),a=new Ii,this._lazyCallQueue.push({command:s,deferred:a,timeout:setTimeout(function(){return c.timeout(s.requestId)},1e4)}),[2,a.promise];throw this._logger.debug("fail websocket request"),be.connectionRequired;case 3:return[3,7];case 4:return s instanceof Qe?this._auth.hasSession?(this._logger.debug("send api request",s),[4,this.commandRouter.send(s)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",s),a=new Ii,this._lazyCallQueue.push({command:s,deferred:a,timeout:setTimeout(function(){return c.timeout(s.requestId)},1e4)}),[2,a.promise];throw l=be.connectionRequired,this._logger.debug("fail api request",l),l;case 7:return[2]}})})},u.prototype.forceSend=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return this._logger.debug("send websocket request (forced)",s),[4,this.commandRouter.send(s)];case 1:return[2,a.sent()]}})})},u.prototype.timeout=function(s){this._logger.debug("timeout request",s);var a=this._lazyCallQueue.findIndex(function(l){return l.command.requestId===s});a>-1&&(this._lazyCallQueue[a].deferred.reject(be.connectionRequired),this._lazyCallQueue.splice(a,1))},u.prototype.cancel=function(s){this._logger.debug("cancel api request",s),this.commandRouter.cancel(s)},u.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},u}(),zV=function(u){function s(a){var l=a.userId,c=a.authToken,p=a.expiringSession,v=p===void 0||p,g=u.call(this)||this;return g.path="/users/".concat(l,"/session_key"),g.method=We.POST,g.params={token:c,expiring_session:!!v},g.requireAuth=!1,g}return Y(s,u),s}(Qe),VV=function(u){function s(a){var l=a.authToken,c=a.expiringSession,p=c===void 0||c;return u.call(this,{code:"LOGI",payload:{token:l,expiring_session:p?1:0},ackRequired:!0})||this}return Y(s,u),s}(Is),KV=function(u){function s(a,l){var c=u.call(this,a,l)||this,p=l.key;return c.key=p,c}return Y(s,u),s}(Ze),WV=function(u){function s(a,l,c){var p=u.call(this,a,"LOGI",c)||this;return p.error=null,p.newKey=c.new_key,p.error=c.error?new be(c.error):null,p}return Y(s,u),s}(Ht),QV=function(u){function s(){return u!==null&&u.apply(this,arguments)||this}return Y(s,u),s}(Br),ks=function(u){return q(void 0,void 0,void 0,function(){return B(this,function(s){return[2,new Promise(function(a){return setTimeout(a,u)})]})})},uk=function(){function u(){}return u.prototype.calcTimeout=function(){return 0},u}(),Pb=function(u,s,a){return a===void 0&&(a=new uk),q(void 0,void 0,void 0,function(){var l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:l=0,c=null,p=function(x){return x===void 0&&(x=null),c=x!=null?x:new Error("Halted")},v=function(){l=0},E.label=1;case 1:if(!(s===-1||l<s))return[3,9];E.label=2;case 2:return E.trys.push([2,4,,8]),[4,u(p,v)];case 3:if(g=E.sent(),c)throw c;return[2,g];case 4:if(b=E.sent(),c)return[3,6];if(++l===s)throw b;return[4,ks(a.calcTimeout(l))];case 5:return E.sent(),[3,7];case 6:throw c;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Qn=function(u){return q(void 0,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,u()];case 1:return a.sent(),[3,3];case 2:if(!((s=a.sent())instanceof be))throw s;return s.throwOutside(),[3,3];case 3:return[2]}})})},YV=function(){function u(s){var a=s.auth,l=s.sdkState,c=s.dispatcher,p=s.requestQueue,v=s.logger,g=this;this._currentConnectionStateType=At.INITIALIZED,this.auth=a,this._sdkState=l,this._dispatcher=c,this._requestQueue=p,this._logger=v,this._dispatcher.on(function(b){if(b instanceof Uc){var E=b.stateType;g._currentConnectionStateType=E}else b instanceof k0&&g.refresh()})}return u.prototype.createRefreshWebsocketCommand=function(s){return new VV({authToken:s,expiringSession:!0})},u.prototype._refreshSessionKey=function(s,a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b,E,x=this;return B(this,function(D){switch(D.label){case 0:if(this._currentConnectionStateType!==At.CONNECTED)return[3,4];D.label=1;case 1:return D.trys.push([1,3,,4]),l=this.createRefreshWebsocketCommand(s),[4,this._requestQueue.forceSend(l)];case 2:if(c=D.sent(),p=c.as(WV),v=p.newKey,g=p.error)throw g;return this.auth.sessionKey=v!=null?v:this.auth.sessionKey,this._logger.debug("session refreshed"),Qn(function(){return q(x,void 0,void 0,function(){return B(this,function(L){return this.handler.onSessionRefreshed(),[2]})})}),a&&a.resolve(),[2];case 3:if(b=D.sent(),Vo(b))throw b;return b.isSessionTokenExpiredError?(this._handleError(a),[2]):[3,4];case 4:return D.trys.push([4,6,,7]),E=new zV({userId:this._sdkState.userId,authToken:s,expiringSession:!0}),[4,Pb(function(L){return q(x,void 0,void 0,function(){var G,ie,ae;return B(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(E)];case 1:return G=te.sent(),ie=G.as(KV).key,this.auth.sessionKey=ie,[3,3];case 2:throw(ae=te.sent()).isSessionTokenExpiredError&&L(be.sessionTokenRefreshFailed),ae;case 3:return[2]}})})},3)];case 5:return D.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return D.sent(),this._handleError(a),[2];case 7:return Qn(function(){return q(x,void 0,void 0,function(){return B(this,function(L){return this.handler.onSessionRefreshed(),[2]})})}),a&&a.resolve(),[2]}})})},u.prototype._handleError=function(s){var a=this,l=be.sessionTokenRefreshFailed;Qn(function(){return q(a,void 0,void 0,function(){return B(this,function(c){return this.handler.onSessionError(l),[2]})})}),s&&s.reject(l)},u.prototype.refresh=function(){return q(this,void 0,void 0,function(){var s,a,l,c=this;return B(this,function(p){return this.handler?(s=new Ii,a=function(v){v?(c._logger.debug("session refreshing.."),c.auth.authToken=v,c._refreshSessionKey(v,s)):(c._logger.debug("session closed"),Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(g){return this.handler.onSessionClosed(),[2]})})}),s.resolve())},l=function(){c._dispatcher.dispatch(new QV);var v=be.sessionTokenRequestFailed;c.handler&&(Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(g){return this.handler.onSessionError(v),[2]})})}),s.reject(v))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,s):Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(v){return this.handler.onSessionTokenRequired(a,l),[2]})})}),[2,s.promise]):[2]})})},u}(),Lc=function(){function u(){this.type=At.NONE,this.name="none"}return u.prototype.run=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2]})})},u.prototype.onConnect=function(s,a){return q(this,void 0,void 0,function(){return B(this,function(l){return[2]})})},u.prototype.onReconnect=function(s,a){return a.resetReconnectCount,q(this,void 0,void 0,function(){return B(this,function(l){return[2]})})},u.prototype.onDisconnect=function(s,a){return a.error,a.autoReconnect,q(this,void 0,void 0,function(){return B(this,function(l){return[2]})})},u.prototype.onLogout=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2]})})},u}(),Lh=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.type=At.LOGOUT,a.name="logout",a}return Y(s,u),s.prototype.run=function(a){return q(this,void 0,void 0,function(){var l,c=this;return B(this,function(p){switch(p.label){case 0:return l=a.sdkState.userId,a.logout(),Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(v){return a.connectionHandlers.forEach(function(g){g.onDisconnected(l)}),[2]})})}),[4,a.changeState(new Hb)];case 1:return p.sent(),[2]}})})},s}(Lc),$b=function(u){function s(a){var l=a.autoReconnect,c=u.call(this)||this;return c.type=At.DISCONNECTED,c.name="disconnected",c._autoReconnect=!1,c._autoReconnect=l,c}return Y(s,u),s.prototype.run=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return a.disconnect(),this._autoReconnect?[4,a.changeState(new Fb)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},s.prototype.onConnect=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return a.disconnect(),[4,a.changeState(new dk({authToken:l}))];case 1:return c.sent(),[2]}})})},s.prototype.onReconnect=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,a.changeState(new Fb)];case 1:return l.sent(),[2]}})})},s.prototype.onLogout=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,a.changeState(new Lh)];case 1:return l.sent(),[2]}})})},s}(Lc),Fb=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.type=At.RECONNECTING,a.name="reconnecting",a._haltConnect=null,a._resetConnect=null,a._callbacks=[],a}return Y(s,u),s.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(l){return l(a)})},s.prototype.run=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b=this;return B(this,function(E){switch(E.label){case 0:l=new Ii,this._callbacks.push(function(x){return x?l.reject(x):l.resolve()}),Qn(function(){return q(b,void 0,void 0,function(){return B(this,function(x){return a.connectionHandlers.forEach(function(D){D.onReconnectStarted()}),[2]})})}),E.label=1;case 1:return E.trys.push([1,4,,9]),c=a.sdkState.websocket,p=c.reconnectMaxRetry,v=c.reconnectRetryStrategy,[4,Pb(function(x,D){return q(b,void 0,void 0,function(){var L;return B(this,function(G){switch(G.label){case 0:this._haltConnect=x,this._resetConnect=D,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,a.connect()];case 2:return G.sent(),[3,4];case 3:if((L=G.sent())instanceof be&&L.code===jn.CONNECTION_CANCELED)return x(L),[2];throw L;case 4:return[2]}})})},p,v)];case 2:return E.sent(),[4,a.changeState(new ck)];case 3:return E.sent(),Qn(function(){return q(b,void 0,void 0,function(){return B(this,function(x){return a.connectionHandlers.forEach(function(D){D.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return g=E.sent(),Vo(g)?[3,7]:g instanceof be?g.code===jn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new $b({autoReconnect:!1}))]:[3,6];case 5:E.sent(),E.label=6;case 6:return Qn(function(){return q(b,void 0,void 0,function(){return B(this,function(x){return a.connectionHandlers.forEach(function(D){D.onReconnectFailed()}),this.flushCallbacks(g),[2]})})}),[3,8];case 7:throw g;case 8:return[3,9];case 9:return[2,l.promise]}})})},s.prototype.onConnect=function(a,l){return q(this,void 0,void 0,function(){var c;return B(this,function(p){return c=new Ii,this._resetConnect&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(v){return v?c.reject(v):c.resolve()}),[2,c.promise]})})},s.prototype.onReconnect=function(a,l){var c=l.resetReconnectCount,p=c!==void 0&&c;return q(this,void 0,void 0,function(){var v;return B(this,function(g){return v=new Ii,this._resetConnect&&p&&this._resetConnect(),a.cancelConnectForRetry(),this._callbacks.push(function(b){return b?v.reject(b):v.resolve()}),[2,v.promise]})})},s.prototype.onDisconnect=function(a,l){var c=l.error,p=c===void 0?null:c,v=l.autoReconnect,g=v===void 0||v;return q(this,void 0,void 0,function(){return B(this,function(b){switch(b.label){case 0:return this._haltConnect&&this._haltConnect(p!=null?p:be.connectionCanceled),[4,a.changeState(new $b({autoReconnect:g}))];case 1:return b.sent(),[2]}})})},s.prototype.onLogout=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return this._haltConnect&&this._haltConnect(be.connectionCanceled),[4,a.changeState(new Lh)];case 1:return l.sent(),[2]}})})},s}(Lc),ck=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.type=At.CONNECTED,a.name="connected",a}return Y(s,u),s.prototype.onReconnect=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return a.disconnect(),[4,a.changeState(new Fb)];case 1:return l.sent(),[2]}})})},s.prototype.onDisconnect=function(a,l){var c=l.autoReconnect;return q(this,void 0,void 0,function(){return B(this,function(p){switch(p.label){case 0:return[4,a.changeState(new $b({autoReconnect:c}))];case 1:return p.sent(),[2]}})})},s.prototype.onLogout=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,a.changeState(new Lh)];case 1:return l.sent(),[2]}})})},s}(Lc),dk=function(u){function s(a){var l=a.authToken,c=u.call(this)||this;return c.type=At.CONNECTING,c.name="connecting",c._authToken="",c._haltConnect=null,c._callbacks=[],c._authToken=l,c}return Y(s,u),s.prototype.flushCallbacks=function(a){a===void 0&&(a=null),this._callbacks.forEach(function(l){return l(a)})},s.prototype.run=function(a){return q(this,void 0,void 0,function(){var l,c,p=this;return B(this,function(v){switch(v.label){case 0:l=new Ii,this._callbacks.push(function(g){return g?l.reject(g):l.resolve()}),v.label=1;case 1:return v.trys.push([1,4,,9]),[4,Pb(function(g){return q(p,void 0,void 0,function(){var b;return B(this,function(E){switch(E.label){case 0:this._haltConnect=g,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,a.connect(this._authToken)];case 2:return E.sent(),[3,4];case 3:if((b=E.sent())instanceof be&&b.code===jn.CONNECTION_CANCELED)return g(b),[2];throw b;case 4:return[2]}})})},a.sdkState.websocket.connectMaxRetry)];case 2:return v.sent(),[4,a.changeState(new ck)];case 3:return v.sent(),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(g){return a.connectionHandlers.forEach(function(b){b.onConnected(a.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return c=v.sent(),Vo(c)?[3,7]:(a.disconnect(),c instanceof be?c.code===jn.CONNECTION_CANCELED?[3,6]:[4,a.changeState(new Hb)]:[3,6]);case 5:v.sent(),v.label=6;case 6:return Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(g){return this.flushCallbacks(c),[2]})})}),[3,8];case 7:throw c;case 8:return[3,9];case 9:return[2,l.promise]}})})},s.prototype.onConnect=function(a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){return l=new Ii,this._callbacks.push(function(p){return p?l.reject(p):l.resolve()}),[2,l.promise]})})},s.prototype.onDisconnect=function(a,l){var c=l.error,p=c===void 0?null:c;return q(this,void 0,void 0,function(){return B(this,function(v){switch(v.label){case 0:return this._haltConnect&&this._haltConnect(p!=null?p:be.connectionCanceled),[4,a.changeState(new Lh)];case 1:return v.sent(),[2]}})})},s.prototype.onLogout=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return this._haltConnect&&this._haltConnect(be.connectionCanceled),[4,a.changeState(new Lh)];case 1:return l.sent(),[2]}})})},s}(Lc),Hb=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.type=At.INITIALIZED,a.name="initialized",a}return Y(s,u),s.prototype.onConnect=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return[4,a.changeState(new dk({authToken:l}))];case 1:return c.sent(),[2]}})})},s}(Lc),hk=new Map,Ph=function(u,s){var a;return s===void 0&&(s=null),s!==null&&hk.set(u,s),(a=hk.get(u))!==null&&a!==void 0?a:""},XV=function(u){u===void 0&&(u={}),this.emojiHash=u.emoji_hash||"",this.uploadSizeLimit=u.file_upload_size_limit?1048576*u.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!u.use_reaction,this.applicationAttributes=u.application_attributes||[],this.premiumFeatureList=u.premium_feature_list||[]},Qs=function(){function u(s){this._iid="",this._iid=s}return u.payloadify=function(s){return s?{}:null},u}(),lt="/".concat("v3","/users"),JV="/".concat("v3","/storage/file"),pk="/".concat("v3","/group_channels"),au="/".concat("v3","/open_channels"),ZV="/".concat("v3","/sdk/open_channels"),eK="/".concat("v3","/search"),fk="/".concat("v3","/report"),nK="/".concat("v3","/emojis"),vk="/".concat("v3","/emoji_categories"),tK="/".concat("v3","/sdk/statistics"),rK=function(u){function s(a){var l=a.userId,c=a.metadata,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(lt,"/").concat(l,"/metadata"),p.params={metadata:c},p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metadata=l,c}Y(s,u)})(Ze),function(u){u.BASE="base",u.GROUP="group",u.OPEN="open"}(Yt||(Yt={})),function(u){u.OPERATOR="operator",u.NONE="none"}(T0||(T0={})),function(u){u.BASE="base",u.USER="user",u.FILE="file",u.ADMIN="admin"}(zt||(zt={})),function(u){u.ALL="",u.USER="MESG",u.FILE="FILE",u.ADMIN="ADMM"}(ha||(ha={})),function(u){u.USER="MESG",u.FILE="FILE",u.ADMIN="ADMM"}(N0||(N0={})),function(u){u.USERS="users",u.CHANNEL="channel"}(si||(si={})),function(u){u.ALL="all",u.NONE="none",u.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(pa||(pa={})),function(u){u.DEFAULT="default",u.SUPPRESS="suppress"}(Wo||(Wo={})),function(u){u.PENDING="pending",u.SCHEDULED="scheduled",u.SUCCEEDED="succeeded",u.FAILED="failed",u.CANCELED="canceled"}(Pt||(Pt={}));var bt=function(u){switch(u){case Yt.GROUP:return pk;case Yt.OPEN:return au;default:return null}},mk=function(u){switch(u){case Yt.GROUP:return"".concat(fk,"/group_channels");case Yt.OPEN:return"".concat(fk,"/open_channels");default:return null}},Pc=function(u,s,a){var l,c;switch(u){case si.CHANNEL:return!0;case si.USERS:if(s)try{for(var p=Pn(s),v=p.next();!v.done;v=p.next())if(v.value===a)return!0}catch(g){l={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}}return!1},qb=function(u,s,a){var l=Pc(u.mentionType,u.mentionedUserIds,a),c=Pc(s.mentionType,s.mentionedUserIds,a);return!l&&c?1:l&&!c?-1:0},iK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.metadata;return(l=u.call(this)||this).method=We.POST,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metadata"),l.params={metadata:v,include_ts:!0},l}return Y(s,u),s}(Qe),gk=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metaData=l!=null?l:{},c}return Y(s,u),s}(Ze),aK=function(u){function s(a){var l=a.userId,c=a.metadata,p=a.upsert,v=u.call(this)||this;return v.method=We.PUT,v.path="".concat(lt,"/").concat(l,"/metadata"),v.params={metadata:c,upsert:p},v}return Y(s,u),s}(Qe),sK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metadata=l,c}return Y(s,u),s}(Ze),oK=function(u){function s(a){var l=a.userId,c=a.metadataKey,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(l,"/metadata/").concat(c),p}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var lK=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.DELETE,c.path="".concat(lt,"/").concat(l,"/metadata"),c}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var $c,Bb=function(u,s){s===void 0&&(s=null);var a=JSON.parse(JSON.stringify(u));return a._iid&&delete a._iid,s&&s(a),a},O0=function(u,s){s===void 0&&(s=null);var a=JSON.parse(JSON.stringify(u));return s&&s(a),a},an=function(u){return{do:function(s){u||s()},throw:function(s){if(!u)throw s}}};(function(u){u.ONLINE="online",u.OFFLINE="offline",u.NON_AVAILABLE="nonavailable"})($c||($c={}));var su,qn=function(u){function s(a,l){var c,p,v,g,b,E,x,D,L,G,ie,ae,te=this;return(te=u.call(this,a)||this).userId=(p=(c=l.guest_id)!==null&&c!==void 0?c:l.user_id)!==null&&p!==void 0?p:"",te.nickname=(g=(v=l.nickname)!==null&&v!==void 0?v:l.name)!==null&&g!==void 0?g:"",te.plainProfileUrl=(E=(b=l.profile_url)!==null&&b!==void 0?b:l.image)!==null&&E!==void 0?E:"",te.requireAuth=(x=l.require_auth_for_profile_image)!==null&&x!==void 0&&x,te.metaData=(D=l.metadata)!==null&&D!==void 0?D:{},te.connectionStatus=$c.NON_AVAILABLE,Lt($c,l.is_online)?te.connectionStatus=l.is_online:ve("boolean",l.is_online)&&(te.connectionStatus=l.is_online?$c.ONLINE:$c.OFFLINE),te.isActive=(L=l.is_active)===null||L===void 0||L,te.lastSeenAt=(G=l.last_seen_at)!==null&&G!==void 0?G:null,te.preferredLanguages=l.preferred_languages?Qt([],Ut(l.preferred_languages),!1):null,te.friendDiscoveryKey=(ie=l.friend_discovery_key)!==null&&ie!==void 0?ie:null,te.friendName=(ae=l.friend_name)!==null&&ae!==void 0?ae:null,te}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{user_id:a.userId,nickname:a.nickname,profile_url:a.plainProfileUrl,require_auth_for_profile_image:a.requireAuth,metadata:a.metaData,is_online:a.connectionStatus,is_active:a.isActive,last_seen_at:a.lastSeenAt,preferred_languages:a.preferredLanguages,friend_discovery_key:a.friendDiscoveryKey,friend_name:a.friendName})):null},Object.defineProperty(s.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(Ph(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),s.prototype.serialize=function(){return Bb(this)},s.prototype._isValidMetaData=function(a){return!Array.isArray(a)&&Object.keys(a).length>0&&Object.keys(a).map(function(l){return a[l]}).every(function(l){return ve("string",l)})},s.prototype._applyMetaData=function(a,l){var c=this;l===void 0&&(l=!1),Object.keys(a).forEach(function(p){l?delete c.metaData[p]:c.metaData[p]=a[p]})},s.prototype.createMetaData=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return an(this._isValidMetaData(a)).throw(be.invalidParameters),l=we.of(this._iid),c=l.sdkState,p=l.requestQueue,v=new rK({userId:c.userId,metadata:a}),[4,p.send(v)];case 1:return g=E.sent(),b=g.as(gk).metaData,this._applyMetaData(b),[2,this.metaData]}})})},s.prototype.updateMetaData=function(a,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return an(this._isValidMetaData(a)).throw(be.invalidParameters),c=we.of(this._iid),p=c.sdkState,v=c.requestQueue,g=new aK({userId:p.userId,metadata:a,upsert:l}),[4,v.send(g)];case 1:return b=x.sent(),E=b.as(sK).metadata,this._applyMetaData(E),[2,this.metaData]}})})},s.prototype.deleteMetaData=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return an(ve("string",a)).throw(be.invalidParameters),l=we.of(this._iid),c=l.sdkState,p=l.requestQueue,v=new oK({userId:c.userId,metadataKey:a}),[4,p.send(v)];case 1:return b.sent(),this._applyMetaData(((g={})[a]=!0,g),!0),[2,this.metaData]}})})},s.prototype.deleteAllMetaData=function(){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new lK({userId:l.userId}),[4,c.send(p)];case 1:return v.sent(),this.metaData={},[2]}})})},s}(Qs),_k=function(u){function s(a){var l=a.userProfile,c=u.call(this)||this;return c.userProfile=l,c}return Y(s,u),s}(Br),Gb=function(){function u(s,a){var l,c,p,v,g,b,E,x,D,L,G,ie,ae,te;this._iid=s,this.appInfo=new XV(a),this.user=new qn(s,a),this.connectedAt=1e3*((l=a.login_ts)!==null&&l!==void 0?l:0),this.firstConnectedAt=0,this.pingInterval=(c=a.ping_interval)!==null&&c!==void 0?c:15e3,this.pongTimeout=(p=a.pong_timeout)!==null&&p!==void 0?p:5e3,this.reconnectInterval=(g=(v=a.reconnect)===null||v===void 0?void 0:v.interval)!==null&&g!==void 0?g:3e3,this.reconnectMaxInterval=(E=(b=a.reconnect)===null||b===void 0?void 0:b.max_interval)!==null&&E!==void 0?E:6e4,this.reconnectRetryCount=(D=(x=a.reconnect)===null||x===void 0?void 0:x.retry_cnt)!==null&&D!==void 0?D:5,this.reconnectIntervalMultiple=(G=(L=a.reconnect)===null||L===void 0?void 0:L.mul)!==null&&G!==void 0?G:2,this.maxUnreadCountOnSuperGroup=(ie=a.max_unread_cnt_on_super_group)!==null&&ie!==void 0?ie:100,this.profileImageEncryption=!!a.profile_image_encryption,this.concurrentCallLimit=(ae=a.concurrent_call_limit)!==null&&ae!==void 0?ae:5,this.backOffDelay=(te=a.back_off_delay)!==null&&te!==void 0?te:100}return u.payloadify=function(s){return fe(fe({},qn.payloadify(s.user)),{emoji_hash:s.appInfo.emojiHash,file_upload_size_limit:s.appInfo.uploadSizeLimit,application_attributes:s.appInfo.applicationAttributes,premium_feature_list:s.appInfo.premiumFeatureList,login_ts:s.connectedAt/1e3,ping_interval:s.pingInterval,pong_timeout:s.pongTimeout,reconnect:{interval:s.reconnectInterval,max_interval:s.reconnectMaxInterval,retry_cnt:s.reconnectRetryCount,mul:s.reconnectIntervalMultiple},max_unread_cnt_on_super_group:s.maxUnreadCountOnSuperGroup,profile_image_encryption:s.profileImageEncryption,concurrent_call_limit:s.concurrentCallLimit,back_off_delay:s.backOffDelay})},u.prototype.apply=function(){var s=this.reconnectInterval,a=this.reconnectMaxInterval,l=this.reconnectIntervalMultiple,c=we.of(this._iid);c.sdkState.websocket.pingInterval=1e3*this.pingInterval,c.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,c.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,c.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return p>0?1e3*Math.min(s*Math.pow(l,p-1),a):10}},c.appInfo=this.appInfo,c.sessionManager.currentUser=this.user,c.connectedAt=this.connectedAt,this.firstConnectedAt||(c.firstConnectedAt=this.connectedAt),c.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,c.concurrentCallLimit=this.concurrentCallLimit,c.backOffDelay=this.backOffDelay,c.dispatcher.dispatch(new _k({userProfile:this}))},u}(),jb=function(u){function s(a,l,c){var p,v=this;return(v=u.call(this,a,l,c)||this).error=null,v.userProfile=new Gb(a,c),v.key=c.key,v.ekey=(p=c.ekey)!==null&&p!==void 0?p:"",v.error=c.error?new be(c):null,v}return Y(s,u),s.asError=function(a){return new s(null,"LOGI",fe({user_id:null,error:!0},a))},s.prototype.applyTo=function(a){if(this.error)throw this.error;var l=we.of(a);if(!l)throw be.lostInstance;l.sessionManager.auth.sessionKey=this.key,Ph(a,this.ekey),this.userProfile.apply()},s}(Ht),bk=function(u){function s(a){var l=u.call(this)||this;return l.enabled=a,l}return Y(s,u),s}(Br),uK=function(u){function s(a,l){var c=l.sdkState,p=l.connectionHandlers,v=l.sessionManager,g=l.websocketClient,b=l.dispatcher,E=l.logger,x=l.entryState,D=x===void 0?new Hb:x,L=u.call(this)||this;return L._currentState=null,L._loginTimer=null,L._connectingAt=0,L._connectionRequestQueue=[],L._iid=a,L.sdkState=c,L.connectionHandlers=p,L._sessionManager=v,L._websocketClient=g,L._dispatcher=b,L._logger=E,L._currentState=D,L._websocketClient.on("message",function(G){if(G.code==="LOGI"){L._loginTimer&&(clearTimeout(L._loginTimer),L._loginTimer=null);var ie=G.as(jb);if(ie.error)ie.error.isSessionKeyExpiredError&&L._dispatcher.dispatch(new k0),L._connectionRequestQueue.forEach(function(te){return te.reject(ie.error)}),L._statLogConnection(ie.error);else{ie.applyTo(L._iid),L._connectionRequestQueue.forEach(function(te){return te.resolve()});var ae=ie.userProfile;L._enableStatLog(ae.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),L._statLogConnection(null)}L._connectionRequestQueue=[]}}).on("close",function(){L._connectionRequestQueue.length>0&&(L._connectionRequestQueue.forEach(function(G){return G.reject(be.networkError)}),L._connectionRequestQueue=[],L._statLogConnection(be.networkError))}),L}return Y(s,u),Object.defineProperty(s.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),s.prototype.changeState=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return this._currentState=a,this._dispatcher.dispatch(new Uc({stateType:a.type})),this._logger.debug("connection state changes to ".concat(a.name)),[4,this._currentState.run(this)];case 1:return l.sent(),[2]}})})},s.prototype._url=function(a){a===void 0&&(a="");var l=this.sdkState,c=l.appId,p=l.appVersion,v=l.userId,g=l.extensions,b=this._sessionManager.auth,E=g.sb_syncmanager?"s".concat(g.sb_syncmanager):"",x=g.sb_uikit?"u".concat(g.sb_uikit):"",D="JS/c".concat(iu.SDK_VERSION,"/").concat(E,"/").concat(x);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(iu.OS_VERSION),"&sv=").concat(encodeURIComponent(iu.SDK_VERSION),"&ai=").concat(c).concat(p?"&av=".concat(p):"").concat(b.hasSession?"&key=".concat(encodeURIComponent(b.sessionKey)):"&user_id=".concat(encodeURIComponent(v),"&access_token=").concat(encodeURIComponent(a)),"&active=1&SB-User-Agent=").concat(D,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},s.prototype._enableStatLog=function(a){this._dispatcher.dispatch(new bk(a))},s.prototype._statLogConnection=function(a){this._dispatcher.dispatch(new Lb(new Uh({type:I0.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!a,latency:Date.now()-this._connectingAt,error_code:a==null?void 0:a.code,error_description:a==null?void 0:a.message}})))},s.prototype.connect=function(a){return a===void 0&&(a=""),q(this,void 0,void 0,function(){var l,c,p=this;return B(this,function(v){return l=this._url(a),c=new Ii,this._connectionRequestQueue.push(c),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){p._loginTimer=null,p._dispatcher.dispatch(jb.asError(be.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(l)),[2,c.promise]})})},s.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(jb.asError(be.connectionRenew))},s.prototype.disconnect=function(){this._websocketClient.disconnect()},s.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},s}(S0),cK=function(){function u(s,a){var l=a.sdkState,c=a.connectionHandlers,p=a.sessionManager,v=a.websocketClient,g=a.dispatcher,b=a.logger,E=a.disableAutoReconnect,x=E!==void 0&&E,D=this;this._context=null,this._logger=b,this._context=new uK(s,{sdkState:l,connectionHandlers:c,sessionManager:p,websocketClient:v,dispatcher:g,logger:b}),x||v.on("close",function(){l.appState==="foreground"&&setTimeout(function(){D._logger.debug("try reconnect by websocket connection closed"),D.reconnect()},100)})}return Object.defineProperty(u.prototype,"isConnected",{get:function(){return this._context.currentState.type===At.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isConnecting",{get:function(){var s=this._context.currentState;return s.type===At.CONNECTING||s.type===At.RECONNECTING},enumerable:!1,configurable:!0}),u.prototype.connect=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onConnect(this._context,s)];case 1:return a.sent(),[2]}})})},u.prototype.reconnect=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return s.sent(),[2]}})})},u.prototype.resetAndReconnect=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return s.sent(),[2]}})})},u.prototype.background=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return s.sent(),[2]}})})},u.prototype.disconnect=function(s){return s===void 0&&(s=null),q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:s,autoReconnect:!0})];case 1:return a.sent(),[2]}})})},u.prototype.logout=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return s.sent(),[2]}})})},u}(),dK=function(u){function s(a){var l=a.deviceId,c=a.statLogs,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(tK),p.params={device_id:l,log_entries:c.map(function(v){return Uh.payloadify(v)})},p}return Y(s,u),s}(Qe);(function(u){u[u.PENDING=0]="PENDING",u[u.ENABLED=1]="ENABLED",u[u.DISABLED=2]="DISABLED"})(su||(su={}));var Ys,hK=function(){function u(s){var a=s.cacheContext,l=s.requestQueue,c=s.dispatcher,p=s.baseLimit,v=p===void 0?100:p,g=s.maxLimit,b=g===void 0?1e3:g,E=s.minLimit,x=E===void 0?10:E;this.queue=[],this.enabledstate=su.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=Dc(),this.cacheContext=a,this.requestQueue=l,this.dispatcher=c,this.baseLimit=v,this.limit=v,this.maxLimit=b,this.minLimit=x}return Object.defineProperty(u.prototype,"isEnabled",{get:function(){return this.enabledstate===su.ENABLED},enumerable:!1,configurable:!0}),u.prototype._save=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(a){return Uh.payloadify(a)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},u.prototype._flush=function(){return q(this,void 0,void 0,function(){var s,a;return B(this,function(l){switch(l.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,5,6,7]),(s=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(a=new dK({deviceId:this.deviceId,statLogs:s}),[4,this.requestQueue.send(a)]):[3,4];case 2:return l.sent(),this.queue=this.queue.slice(s.length),[4,this._save()];case 3:l.sent(),l.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return l.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},u.prototype.init=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return this.key=s,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(a=p.sent())?(this.deviceId=a.deviceId,this.queue=a.statLogs.map(function(v){return new Uh({type:v.stat_type,ts:v.ts,data:v.data})}),this.generation=a.generation,this.lastFlushedAt=a.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(l=Math.min(Math.floor(18e4*Math.random()),100),[4,ks(l)]):[3,4]):[3,4];case 2:return p.sent(),[4,this._flush()];case 3:p.sent(),p.label=4;case 4:return this.dispatcher.on(function(v){if(v instanceof Lb){var g=v.statLog;c.put(g)}else v instanceof bk&&(c.enabledstate=v.enabled?su.ENABLED:su.DISABLED,c.isEnabled?c.queue.length>=c.limit&&c._flush():c.clear())}),[2]}})})},u.prototype.put=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return this.enabledstate===su.DISABLED?[3,3]:(this.queue.push(s),[4,this._save()]);case 1:return a.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return s.sent(),[2]}})})},u}();(function(u){u[u.NONE=0]="NONE",u[u.VERBOSE=1]="VERBOSE",u[u.DEBUG=2]="DEBUG",u[u.INFO=3]="INFO",u[u.WARN=4]="WARN",u[u.ERROR=5]="ERROR"})(Ys||(Ys={}));var $h,pK=function(){function u(){this.level=Ys.WARN}return u.prototype.verbose=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.level<=Ys.VERBOSE&&console.log.apply(console,Qt(["[verbose]"],Ut(s),!1))},u.prototype.debug=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.level<=Ys.DEBUG&&console.log.apply(console,Qt(["[debug]"],Ut(s),!1))},u.prototype.info=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.level<=Ys.INFO&&console.log.apply(console,Qt(["[info]"],Ut(s),!1))},u.prototype.warn=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.level<=Ys.WARN&&console.warn.apply(console,Qt(["[warn]"],Ut(s),!1))},u.prototype.error=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.level<=Ys.ERROR&&console.error.apply(console,Qt(["[error]"],Ut(s),!1))},u}(),Fh={},we=function(){function u(s,a){var l,c,p,v,g,b,E;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Fh[s]){Fh[s]=this;var x=(l=a.options)!==null&&l!==void 0?l:new sk,D=this.sdkState={appId:a.appId,appVersion:(c=a.appVersion)!==null&&c!==void 0?c:"",appState:"foreground",userId:null,extensions:{},api:{host:(p=a.apiHost)!==null&&p!==void 0?p:"https://api-".concat(a.appId,".sendbird.com")},websocket:{host:(v=a.websocketHost)!==null&&v!==void 0?v:"wss://ws-".concat(a.appId,".sendbird.com"),pingerDisabled:!!a.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new uk,responseTimeout:x.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var L=this.logger=new pK;this.logger.level=(g=a.logLevel)!==null&&g!==void 0?g:Ys.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new DV({encryption:a.encryption,store:a.store,localCacheEnabled:(b=a.localCacheEnabled)!==null&&b!==void 0&&b}),this.debugMode=(E=a.debugMode)!==null&&E!==void 0&&E,this.maxSuperGroupChannelUnreadCount=iu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=x.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=x.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=x.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var G=this.dispatcher=new LV,ie=new UV;this.requestQueue=new jV(s,{auth:ie,sdkState:D,dispatcher:G,logger:L}),this.sessionManager=new YV({auth:ie,sdkState:D,dispatcher:G,requestQueue:this.requestQueue,logger:L}),this.connectionManager=new cK(s,{sdkState:D,connectionHandlers:this.connectionHandlers,dispatcher:G,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:L}),this.statLogCollector=new hK({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:G})}return Fh[s]}return u.of=function(s){if(Fh[s])return Fh[s];throw be.lostInstance},u}(),yk=function(){function u(){}return u.prototype.init=function(s,a){var l=a.sdkState,c=a.dispatcher,p=a.sessionManager,v=a.requestQueue,g=a.logger;a.onlineDetector;var b=a.cacheContext,E=b===void 0?null:b;this._iid=s,this._cacheContext=E,this._sdkState=l,this._dispatcher=c,this._sessionManager=p,this._requestQueue=v,this._logger=g},u}(),fK=function(u){function s(a){var l=u.call(this)||this;if(l.method=We.POST,l.path="".concat(JV),l.params=Ln({file:a.file,channel_url:a.channelUrl}),a.thumbnailSizes)for(var c=0;c<a.thumbnailSizes.length;c++){var p=a.thumbnailSizes[c],v=p.maxWidth,g=p.maxHeight;l.params["thumbnail".concat(c+1)]="".concat(v,",").concat(g)}return l.requestId=a.requestId,l}return Y(s,u),s}(Qe),vK=function(u){function s(a,l){var c,p,v,g=this;return(g=u.call(this,a,l)||this).url=l.url,g.fileSize=(c=l.file_size)!==null&&c!==void 0?c:0,g.thumbnailSizes=(p=l.thumbnails)!==null&&p!==void 0?p:[],g.requireAuth=(v=l.require_auth)!==null&&v!==void 0&&v,g}return Y(s,u),s}(Ze),zb=function(u){function s(a,l){var c,p,v,g=this;return(g=u.call(this,a)||this).replyCount=0,g.mostRepliedUsers=null,g.lastRepliedAt=0,g.updatedAt=0,g.replyCount=(c=l.reply_count)!==null&&c!==void 0?c:0,g.mostRepliedUsers=l.hasOwnProperty("most_replies")&&it("object",l.most_replies)?l.most_replies.map(function(b){return new qn(g._iid,b)}):[],g.lastRepliedAt=(p=l.last_replied_at)!==null&&p!==void 0?p:0,g.updatedAt=(v=l.updated_at)!==null&&v!==void 0?v:0,g}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{reply_count:a.replyCount,most_replies:Array.isArray(a.mostRepliedUsers)?a.mostRepliedUsers.map(function(l){return qn.payloadify(l)}):[],last_replied_at:a.lastRepliedAt,updated_at:a.updatedAt})):null},s}(Qs);(function(u){u.ADD="add",u.DELETE="delete"})($h||($h={}));var Ek,Qo,Vb=function(u){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var s=ve("string",u.msg_id)?parseInt(u.msg_id):u.msg_id,a=u.user_id,l=u.operation?u.operation.toLowerCase():null,c=u.reaction,p=u.updated_at;s&&ve("string",a)&&ve("string",l)&&Lt($h,l)&&ve("string",c)&&c&&ve("number",p)&&(this.messageId=s,this.userId=a,this.key=c,this.operation=l,this.updatedAt=p)},A0=function(){function u(s){var a,l,c,p=s.key,v=(c=Qt([],Ut(s.user_ids),!1))!==null&&c!==void 0?c:[],g=s.updated_at;ve("string",p)&&p&&it("string",v)&&v.length>0&&ve("number",g)&&(this.key=p,this.userIds=v,this.updatedAt=g);var b={};try{for(var E=Pn(this.userIds),x=E.next();!x.done;x=E.next())b[x.value]=this.updatedAt}catch(D){a={error:D}}finally{try{x&&!x.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}this._version=b}return Object.defineProperty(u.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),u.payloadify=function(s){return s?Ln({key:s.key,user_ids:s.userIds,updated_at:s.updatedAt}):null},u.prototype.applyEvent=function(s){if(s.key===this.key&&this.updatedAt<=s.updatedAt){if(!this._version[s.userId]||this._version[s.userId]<=s.updatedAt){var a=this.userIds.indexOf(s.userId);switch(s.operation){case $h.ADD:a<0&&this.userIds.push(s.userId);break;case $h.DELETE:a>=0&&this.userIds.splice(a,1)}this._version[s.userId]=s.updatedAt}this.updatedAt=Math.max(this.updatedAt,s.updatedAt)}},u}(),fa=function(){function u(s){this.key=s.key,this.value=it("string",s.value)?Qt([],Ut(s.value),!1):[]}return u.payloadify=function(s){var a;return s?Ln({key:s.key,value:(a=s.value)!==null&&a!==void 0?a:[]}):null},u}(),wk=function(){function u(s){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=s.url,s.hasOwnProperty("secure_url")&&(this.secureUrl=s.secure_url),s.hasOwnProperty("type")&&(this.type=s.type),s.hasOwnProperty("width")&&(this.width=s.width),s.hasOwnProperty("height")&&(this.height=s.height),s.hasOwnProperty("alt")&&(this.alt=s.alt)}return u.payloadify=function(s){var a,l;return s?Ln({url:s.url,secure_url:s.secureUrl,type:s.type,width:(a=s.width)!==null&&a!==void 0?a:0,height:(l=s.height)!==null&&l!==void 0?l:0,alt:s.alt}):null},u}(),Ck=function(){function u(s){this.title=null,this.url=null,this.description=null,this.defaultImage=null,s.hasOwnProperty("og:title")&&(this.title=s["og:title"]),s.hasOwnProperty("og:url")&&(this.url=s["og:url"]),s.hasOwnProperty("og:description")&&(this.description=s["og:description"]),s.hasOwnProperty("og:image")&&(this.defaultImage=new wk(s["og:image"]))}return u.payloadify=function(s){return s?Ln({"og:title":s.title,"og:url":s.url,"og:description":s.description,"og:image":s.defaultImage?wk.payloadify(s.defaultImage):null}):null},u}(),Yo=function(){function u(s){var a,l;this.name=null,this.volume=0,this.name=(a=s.name)!==null&&a!==void 0?a:"default",this.volume=(l=s.volume)!==null&&l!==void 0?l:1}return u.payloadify=function(s){return s?Ln({name:s.name,volume:s.volume}):null},u}();(function(u){u.PENDING="pending",u.SENT="sent",u.FAILED="failed",u.CANCELED="canceled"})(Ek||(Ek={})),function(u){u.PENDING="pending",u.IN_QUEUE="in_queue",u.SENT="sent",u.FAILED="failed",u.CANCELED="canceled",u.REMOVED="removed"}(Qo||(Qo={}));var Gr,mK=function(u){switch(u){case zt.BASE:return"";case zt.USER:return"MESG";case zt.FILE:return"FILE";case zt.ADMIN:return"ADMM"}},R0=function(u){function s(a,l){var c,p,v,g,b,E,x,D,L,G,ie,ae,te,ee=this;(ee=u.call(this,a)||this).channelUrl=null,ee.channelType=Yt.BASE,ee.messageId=0,ee.parentMessageId=null,ee.parentMessage=null,ee.silent=!1,ee.isOperatorMessage=!1,ee.messageType=zt.BASE,ee.data=null,ee.customType=null,ee.mentionType=null,ee.mentionedUsers=[],ee.mentionedUserIds=[],ee.mentionedMessageTemplate=null,ee.threadInfo=null,ee.reactions=[],ee.metaArrays=[],ee.ogMetaData=null,ee.appleCriticalAlertOptions=null,ee.createdAt=0,ee.updatedAt=0,ee.scheduledInfo=null,ee._scheduledStatus=null,ee.messageId=(p=(c=l.msg_id)!==null&&c!==void 0?c:l.message_id)!==null&&p!==void 0?p:0,ee.channelUrl=l.channel_url,ee.channelType=Lt(Yt,l.channel_type)?l.channel_type:Yt.GROUP,l.channel&&(l.channel.channel_url&&(ee.channelUrl=l.channel.channel_url),l.channel.channel_type&&(ee.channelType=l.channel.channel_type)),ee.parentMessageId=(v=typeof l.parent_message_id=="string"?parseInt(l.parent_message_id):l.parent_message_id)!==null&&v!==void 0?v:0,ee.data=(g=l.data)!==null&&g!==void 0?g:"",ee.customType=(b=l.custom_type)!==null&&b!==void 0?b:"",ee.mentionType=Lt(si,l.mention_type)?l.mention_type:null;var _e=l.mentioned_users;ee.mentionedUsers=_e?_e.map(function(zn){return new qn(ee._iid,zn)}):null;var Re=l.mentioned_user_ids;ee.mentionedUserIds=Re!=null?Re:null,ee.mentionedMessageTemplate=(E=l.mentioned_message_template)!==null&&E!==void 0?E:"",ee.threadInfo=l.thread_info?new zb(ee._iid,l.thread_info):null,ee.reactions=l.reactions?l.reactions.map(function(zn){return new A0(zn)}):[];for(var Le=(x=l.metaarray)!==null&&x!==void 0?x:{},hn=(D=l.metaarray_key_order)!==null&&D!==void 0?D:Object.keys(Le).sort(function(zn,zi){return zn.localeCompare(zi)}),xn=0;xn<hn.length;xn++){var Xn=hn[xn];ee.metaArrays.push(new fa({key:Xn,value:Le[Xn]||[]}))}return l.sorted_metaarray&&(ee.metaArrays=l.sorted_metaarray.map(function(zn){return new fa(zn)})),ee.ogMetaData=l.og_tag?new Ck(l.og_tag):null,ee.silent=(L=l.silent)!==null&&L!==void 0&&L,ee.isOperatorMessage=(G=l.is_op_msg)!==null&&G!==void 0&&G,ee.appleCriticalAlertOptions=l.apple_critical_alert_options?new Yo(l.apple_critical_alert_options):null,ee.createdAt=(ae=(ie=l.created_at)!==null&&ie!==void 0?ie:l.ts)!==null&&ae!==void 0?ae:0,ee.updatedAt=(te=l.updated_at)!==null&&te!==void 0?te:0,typeof l.scheduled_message_id=="number"&&typeof l.scheduled_at=="number"&&l.scheduled_status&&(ee.scheduledInfo={scheduledMessageId:l.scheduled_message_id,scheduledAt:l.scheduled_at},ee._scheduledStatus=l.scheduled_status),ee}return Y(s,u),s.payloadify=function(a){var l,c,p,v;return a?Ln(fe(fe({},u.payloadify.call(this,a)),{channel_url:a.channelUrl,channel_type:a.channelType,message_id:a.messageId,type:mK(a.messageType),parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,mentioned_user_ids:a.mentionedUserIds,mentioned_users:(l=a.mentionedUsers)===null||l===void 0?void 0:l.map(function(g){return qn.payloadify(g)}),mentioned_message_template:a.mentionedMessageTemplate,thread_info:a.threadInfo?zb.payloadify(a.threadInfo):null,reactions:a.reactions.map(function(g){return A0.payloadify(g)}),sorted_metaarray:(c=a.metaArrays)===null||c===void 0?void 0:c.map(function(g){return fa.payloadify(g)}),og_tag:Ck.payloadify(a.ogMetaData),silent:a.silent,is_op_msg:a.isOperatorMessage,apple_critical_alert_options:Yo.payloadify(a.appleCriticalAlertOptions),created_at:a.createdAt,updated_at:a.updatedAt,scheduled_message_id:(p=a.scheduledInfo)===null||p===void 0?void 0:p.scheduledMessageId,scheduled_at:(v=a.scheduledInfo)===null||v===void 0?void 0:v.scheduledAt,scheduled_status:a._scheduledStatus})):null},s.prototype.isIdentical=function(a){return this.messageId===a.messageId},s.prototype.isEqual=function(a){return ak(this,a)},s.prototype.isUserMessage=function(){return this.messageType===zt.USER},s.prototype.isFileMessage=function(){return this.messageType===zt.FILE},s.prototype.isAdminMessage=function(){return this.messageType===zt.ADMIN},s.prototype.serialize=function(){return Bb(this)},s.prototype.getMetaArraysByKeys=function(a){return this.metaArrays.filter(function(l){return a.includes(l.key)})},s.prototype.applyThreadInfoUpdateEvent=function(a){return this.parentMessageId===a.targetMessageId&&(this.threadInfo=a.threadInfo),!1},s.prototype.applyReactionEvent=function(a){if(this.messageId===a.messageId){for(var l=!1,c=0;c<this.reactions.length;c++)if(this.reactions[c].key===a.key){this.reactions[c].applyEvent(a),this.reactions[c].isEmpty&&this.reactions.splice(c,1),l=!0;break}l||a.operation!=="add"||this.reactions.push(new A0(A0.payloadify({key:a.key,userIds:[a.userId],updatedAt:a.updatedAt})))}},s.prototype.applyParentMessage=function(a){if(this.parentMessageId===a.messageId){var l=this.parentMessage.updatedAt;if(a.updatedAt>=l)return this.parentMessage=a,!0}return!1},s}(Qs),Hh=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.role=null,c.isBlockedByMe=!1,c.role=Lt(T0,l.role)?l.role:T0.NONE,l.hasOwnProperty("is_blocked_by_me")&&(c.isBlockedByMe=l.is_blocked_by_me),c}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{role:a.role,is_blocked_by_me:a.isBlockedByMe})):null},s}(qn),Ts=function(u){function s(a,l){var c,p,v,g,b=this;if((b=u.call(this,a,l)||this).sender=null,b.reqId="",b.replyToChannel=!1,b.sendingStatus=null,b.errorCode=0,b.sender=l.user?new Hh(b._iid,l.user):l.sender_id,b.reqId=(p=(c=l.req_id)!==null&&c!==void 0?c:l.request_id)!==null&&p!==void 0?p:"",b.replyToChannel=(v=l.is_reply_to_channel)!==null&&v!==void 0&&v,l.request_state&&Lt(Pt,l.request_state)&&(b.sendingStatus=l.request_state),!b.sendingStatus)if(b.messageId>0)b.sendingStatus=Pt.SUCCEEDED;else if(b.scheduledInfo)switch(b._scheduledStatus=l.scheduled_status,l.scheduled_status){case Qo.SENT:case Qo.IN_QUEUE:b.sendingStatus=Pt.SUCCEEDED;break;case Qo.PENDING:b.sendingStatus=Pt.SCHEDULED;break;case Qo.FAILED:case Qo.REMOVED:b.sendingStatus=Pt.FAILED;break;case Qo.CANCELED:b.sendingStatus=Pt.CANCELED}else b.sendingStatus=Pt.PENDING;return b.errorCode=(g=l.error_code)!==null&&g!==void 0?g:0,b}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{user:Hh.payloadify(a.sender),req_id:a.reqId,is_reply_to_channel:a.replyToChannel,request_state:a.sendingStatus,error_code:a.errorCode})):null},Object.defineProperty(s.prototype,"isResendable",{get:function(){return this.sendingStatus===Pt.FAILED&&(a=this.errorCode)>0&&OV.indexOf(a)>=0;var a},enumerable:!1,configurable:!0}),s.prototype.isIdentical=function(a){return this.messageId>0&&a.messageId>0?this.messageId===a.messageId:this.reqId===a.reqId},s}(R0),Kb=function(){function u(s){var a,l;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=s.url,this.width=s.width,this.height=s.height,this.realWidth=(a=s.real_width)!==null&&a!==void 0?a:s.width,this.realHeight=(l=s.real_height)!==null&&l!==void 0?l:s.height}return u.payloadify=function(s){return s?Ln({url:"",width:s.maxWidth,height:s.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(u.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),u}(),M0={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ha.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Wb=function(u){return ve("number",u.prevResultSize)&&ve("number",u.nextResultSize)&&ve("boolean",u.isInclusive)&&ve("boolean",u.reverse)&&ve("string",u.messageTypeFilter)&&Lt(ha,u.messageTypeFilter)&&it("string",u.customTypesFilter,!0)&&it("string",u.senderUserIdsFilter,!0)&&ve("boolean",u.includeMetaArray)&&ve("boolean",u.includeReactions)&&ve("boolean",u.includeParentMessageInfo)},Fc=function(u){function s(a,l){var c,p,v,g,b=this;if((b=u.call(this,a,l)||this).message=null,b.translations={},b.message=(c=l.message)!==null&&c!==void 0?c:"",b.messageType=zt.ADMIN,b.translations=(p=l.translations)!==null&&p!==void 0?p:{},l.parent_message_info){var E=l.parent_message_info,x=fe(fe({},E),{message_id:b.parentMessageId,channel_url:b.channelUrl,channel_type:b.channelType,file:E.file,url:(v=E.file)===null||v===void 0?void 0:v.url,require_auth:(g=E.file)===null||g===void 0?void 0:g.require_auth});b.parentMessage=Xo(a,x)}return b}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{message:a.message,translations:a.translations,parent_message_info:Qb(a.parentMessage)})):null},s.prototype.getThreadedMessagesByTimestamp=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},M0),l),an(this.messageId>0&&ve("number",a)&&Wb(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getThreadedMessagesByTimestamp(this,a,l)];case 1:return[2,c.sent()]}})})},s}(R0),xk=function(){function u(s){var a,l;this.type=null,this.vendor=null,this.detail={},this.type=(a=s.type)!==null&&a!==void 0?a:"",this.vendor=(l=s.vendor)!==null&&l!==void 0?l:"",s.hasOwnProperty("detail")&&ve("object",s.detail)&&!Array.isArray(s.detail)&&(this.detail=s.detail)}return u.payloadify=function(s){return s?Ln({type:s.type,vendor:s.vendor,detail:s.detail}):null},u}(),jr=function(u){function s(a,l){var c,p,v,g,b,E,x,D=this;if((D=u.call(this,a,l)||this).message="",D.messageParams=null,D.translations={},D.translationTargetLanguages=[],D.messageSurvivalSeconds=-1,D.plugins=[],D.message=l.message,D.messageType=zt.USER,D.translations=(v=l.translations)!==null&&v!==void 0?v:{},D.translationTargetLanguages=(g=l.target_langs)!==null&&g!==void 0?g:[],D.translations==={}&&D.translationTargetLanguages.length>0)try{for(var L=Pn(D.translationTargetLanguages),G=L.next();!G.done;G=L.next()){var ie=G.value;D.translations[ie]=""}}catch(ee){c={error:ee}}finally{try{G&&!G.done&&(p=L.return)&&p.call(L)}finally{if(c)throw c.error}}if(D.messageSurvivalSeconds=(b=l.message_survival_seconds)!==null&&b!==void 0?b:-1,D.plugins=l.plugins?l.plugins.map(function(ee){return new xk(ee)}):[],l.parent_message_info){var ae=l.parent_message_info,te=fe(fe({},ae),{created_at:ae.ts,message_id:D.parentMessageId,channel_url:D.channelUrl,channel_type:D.channelType,file:ae.file,url:(E=ae.file)===null||E===void 0?void 0:E.url,require_auth:(x=ae.file)===null||x===void 0?void 0:x.require_auth});D.parentMessage=Xo(a,Ln(te))}return D}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{message:a.message,translations:a.translations,message_survival_seconds:a.messageSurvivalSeconds,plugins:a.plugins.map(function(l){return xk.payloadify(l)}),parent_message_info:Qb(a.parentMessage)})):null},s.prototype.getThreadedMessagesByTimestamp=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},M0),l),an(this.messageId>0&&ve("number",a)&&Wb(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getThreadedMessagesByTimestamp(this,a,l)];case 1:return[2,c.sent()]}})})},s}(Ts),Qb=function(u){if(u)switch(u.messageType){case zt.USER:return jr.payloadify(u);case zt.FILE:return kr.payloadify(u);case zt.ADMIN:return Fc.payloadify(u)}return null},Xo=function(u,s){switch(s.type){case"MESG":return new jr(u,s);case"FILE":return new kr(u,s);case"ADMM":case"BRDM":return new Fc(u,s)}return null},kr=function(u){function s(a,l){var c,p,v,g,b,E,x,D,L,G,ie,ae,te,ee,_e,Re=this;(Re=u.call(this,a,l)||this).messageParams=null,Re.plainUrl="",Re.requireAuth=!1,Re.name=null,Re.size=0,Re.type=null,Re.thumbnails=[],Re.messageSurvivalSeconds=-1,Re.messageType=zt.FILE;var Le=(c=l.file)!==null&&c!==void 0?c:null;if(Re.plainUrl=((v=(p=Le==null?void 0:Le.url)!==null&&p!==void 0?p:l.url)!==null&&v!==void 0?v:"").split("?auth=")[0],Re.name=(b=(g=Le==null?void 0:Le.name)!==null&&g!==void 0?g:l.name)!==null&&b!==void 0?b:"File",Re.size=(x=(E=Le==null?void 0:Le.size)!==null&&E!==void 0?E:l.size)!==null&&x!==void 0?x:0,Re.data=(L=(D=Le==null?void 0:Le.data)!==null&&D!==void 0?D:l.custom)!==null&&L!==void 0?L:"",Re.type=Le?(G=Le.type)!==null&&G!==void 0?G:"":(ie=l.type)!==null&&ie!==void 0?ie:"",Re.requireAuth=(ae=l.require_auth)!==null&&ae!==void 0&&ae,Re.thumbnails=l.thumbnails?l.thumbnails.map(function(Xn){return new Kb(fe(fe({},Xn),{url:"".concat(Xn.url.split("?auth=")[0]).concat(Re.requireAuth?"?auth=".concat(Ph(Re._iid)):"")}))}):[],Re.messageSurvivalSeconds=(te=l.message_survival_seconds)!==null&&te!==void 0?te:-1,l.parent_message_info){var hn=l.parent_message_info,xn=fe(fe({},hn),{message_id:Re.parentMessageId,channel_url:Re.channelUrl,channel_type:Re.channelType,file:hn.file,url:(ee=hn.file)===null||ee===void 0?void 0:ee.url,require_auth:(_e=hn.file)===null||_e===void 0?void 0:_e.require_auth});Re.parentMessage=Xo(a,xn)}return Re}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),{url:a.plainUrl,require_auth:a.requireAuth,file:{name:a.name,size:a.size,type:a.type,data:a.data},thumbnails:a.thumbnails.map(function(l){return{url:l.url,width:l.width,height:l.height,real_width:l.realWidth,real_height:l.realHeight}}),message_survival_seconds:a.messageSurvivalSeconds,parent_message_info:Qb(a.parentMessage)})):null},Object.defineProperty(s.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(Ph(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),s.prototype.getThreadedMessagesByTimestamp=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},M0),l),an(this.messageId>0&&ve("number",a)&&Wb(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getThreadedMessagesByTimestamp(this,a,l)];case 1:return[2,c.sent()]}})})},s}(Ts),gK=function(u){function s(a){var l,c,p,v=[];return a.mentionType===si.USERS&&(a.mentionedUserIds?v=a.mentionedUserIds:a.mentionedUsers&&(v=a.mentionedUsers.map(function(g){return g.userId}))),u.call(this,{code:"FILE",ackRequired:!0,payload:Ln({channel_url:a.channelUrl,url:a.url,name:(l=a.fileName)!==null&&l!==void 0?l:"",type:(c=a.mimeType)!==null&&c!==void 0?c:"",size:(p=a.fileSize)!==null&&p!==void 0?p:0,custom:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes,require_auth:a.requireAuth,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:v,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Wo.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:a.parentMessageId>0?a.parentMessageId:null,req_id:a.reqId})})||this}return Y(s,u),s}(Is),_K=function(u){function s(a){var l,c=this;c=u.call(this)||this;var p=[];return a.mentionType===si.USERS&&(a.mentionedUserIds?p=a.mentionedUserIds:a.mentionedUsers&&(p=a.mentionedUsers.map(function(v){return v.userId}))),c.method=We.POST,c.path="".concat(bt(a.channelType),"/").concat(encodeURIComponent(a.channelUrl),"/messages"),c.params=Ln({message_type:zt.FILE,user_id:a.userId,url:a.fileUrl,mention_type:a.mentionType,mentioned_user_ids:p,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,data:a.data,custom_type:a.customType,thumbnails:a.thumbnailSizes.map(function(v){return Kb.payloadify(v)}),require_auth:a.requireAuth,sorted_metaarray:(l=a.metaArrays)===null||l===void 0?void 0:l.map(function(v){return fa.payloadify(v)}),push_option:a.pushNotificationDeliveryOption,parent_message_id:a.parentMessageId>0?a.parentMessageId:null,apple_critical_alert_options:Yo.payloadify(a.appleCriticalAlertOptions),reply_to_channel:a.isReplyToChannel,req_id:a.reqId}),c}return Y(s,u),s}(Qe),Sk=function(u){function s(a,l,c){var p,v,g,b=this;(b=u.call(this,a,"FILE",c)||this).message=new kr(a,c);var E=we.of(a).sdkState;return b.isMentioned=Pc(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(v=b.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId}),E.userId),b.forceUpdateLastMessage=(g=c.force_update_last_message)!==null&&g!==void 0&&g,b}return Y(s,u),s}(Ht),bK=function(u){function s(a,l){var c,p,v=this;(v=u.call(this,a,l)||this).message=new kr(a,l);var g=we.of(a).sdkState;return v.isMentioned=Pc(v.message.mentionType,(c=v.message.mentionedUserIds)!==null&&c!==void 0?c:v.message.mentionedUsers.map(function(b){return b.userId}),g.userId),v.forceUpdateLastMessage=(p=l.force_update_last_message)!==null&&p!==void 0&&p,v}return Y(s,u),s}(Ze);(function(u){u[u.PENDING=0]="PENDING",u[u.UPLOADING=1]="UPLOADING",u[u.UPLOADED=2]="UPLOADED",u[u.SENDING=3]="SENDING",u[u.FAILED=4]="FAILED"})(Gr||(Gr={}));var Tr,yK=function(){function u(s,a){var l=a.sdkState,c=a.dispatcher,p=a.requestQueue,v=a.onlineDetector,g=a.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=s,this._sdkState=l,this._requestQueue=p,this._cacheContext=g,this._dispatcher=c,this._dispatcher.on(function(E){E instanceof Uc&&(b._connectionState=E.stateType)}),this._onlineDetector=v}return Object.defineProperty(u.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===At.CONNECTED||this._connectionState===At.CONNECTING||this._connectionState===At.RECONNECTING},enumerable:!1,configurable:!0}),u.prototype._sendFileMessage=function(s,a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return this._shouldSendThroughWebSocket?(l=new gK(fe(fe({channelUrl:s.url,channelType:s.channelType,url:a.params.fileUrl,requireAuth:a.requireAuth},a.params),{reqId:a.requestId})),[4,this._requestQueue.send(l)]):[3,2];case 1:return c=p.sent(),[2,c.as(Sk).message];case 2:return l=new _K(fe(fe({channelUrl:s.url,channelType:s.channelType,url:a.params.fileUrl,userId:this._sdkState.userId,requireAuth:a.requireAuth},a.params),{reqId:a.requestId})),[4,this._requestQueue.send(l)];case 3:return c=p.sent(),[2,c.as(bK).message]}})})},u.prototype._resolveMessageQueue=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G;return B(this,function(ie){switch(ie.label){case 0:if(!(a=this._queueMap.get(s.url)))return[3,21];if(a.isResolving)return[3,20];a.isResolving=!0,l=[],c=!0,ie.label=1;case 1:ie.trys.push([1,15,16,17]),p=Pn(a.messageQueue),v=p.next(),ie.label=2;case 2:if(v.done)return[3,14];switch(g=v.value,g.state){case Gr.PENDING:case Gr.UPLOADING:return[3,3];case Gr.UPLOADED:return[3,4];case Gr.FAILED:return[3,12]}return[3,13];case 3:return c=!1,l.push(g),[3,13];case 4:if(!c)return[3,10];ie.label=5;case 5:return ie.trys.push([5,8,,9]),g.state=Gr.SENDING,[4,this._sendFileMessage(s,g)];case 6:return b=ie.sent(),g.deferred.resolve(b),[4,ks(100)];case 7:return ie.sent(),[3,9];case 8:return E=ie.sent(),g.deferred.reject(E),[3,9];case 9:return[3,11];case 10:l.push(g),ie.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===jn.REQUEST_CANCELED?be.fileUploadCanceled:g.error),[3,13];case 13:return v=p.next(),[3,2];case 14:return[3,17];case 15:return x=ie.sent(),L={error:x},[3,17];case 16:try{v&&!v.done&&(G=p.return)&&G.call(p)}finally{if(L)throw L.error}return[7];case 17:return D=a.isResolveRequestPending,a.messageQueue=l,a.isResolving=!1,a.isResolveRequestPending=!1,D?[4,this._resolveMessageQueue(s)]:[3,19];case 18:ie.sent(),ie.label=19;case 19:return[3,21];case 20:a.isResolveRequestPending=!0,ie.label=21;case 21:return[2]}})})},u.prototype._uploadNextPendingItem=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G,ie,ae;return B(this,function(te){switch(te.label){case 0:return a=this._queueMap.get(s.url),(l=a.messageQueue.find(function(ee){return ee.state===Gr.PENDING}))?Ss(l.params.file)?a.uploadQueue.length<6?(l.state=Gr.UPLOADING,a.uploadQueue.push(l),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!te.sent())return[3,8];te.label=2;case 2:return te.trys.push([2,4,5,7]),c=new fK({file:l.params.file,channelUrl:s.url,thumbnailSizes:l.params.thumbnailSizes,requestId:l.requestId}),[4,this._requestQueue.send(c)];case 3:return p=te.sent(),v=p.as(vK),g=v.url,b=v.fileSize,E=b===void 0?l.params.fileSize:b,x=v.thumbnailSizes,D=x===void 0?l.params.thumbnailSizes:x,L=v.requireAuth,G=L!==void 0&&L,l.params.fileUrl=g,l.params.fileSize=E,l.params.thumbnailSizes=D,l.params.requireAuth=G,l.requireAuth=G,l.state=Gr.UPLOADED,[3,7];case 4:return ie=te.sent(),l.state=Gr.FAILED,l.error=ie,[3,7];case 5:return(ae=a.uploadQueue.findIndex(function(ee){return ee.requestId===l.requestId}))>=0&&(a.uploadQueue.splice(ae,1),this._uploadNextPendingItem(s)),[4,this._resolveMessageQueue(s)];case 6:return te.sent(),[7];case 7:return[3,10];case 8:return l.state=Gr.FAILED,l.error=be.connectionRequired,(ae=a.uploadQueue.findIndex(function(ee){return ee.requestId===l.requestId}))>=0&&(a.uploadQueue.splice(ae,1),this._uploadNextPendingItem(s)),[4,this._resolveMessageQueue(s)];case 9:te.sent(),te.label=10;case 10:return[3,13];case 11:return l.params.thumbnailSizes=[],l.state=Gr.UPLOADED,[4,this._resolveMessageQueue(s)];case 12:te.sent(),te.label=13;case 13:return[2]}})})},u.prototype.request=function(s,a,l){var c,p,v;return q(this,void 0,void 0,function(){var g;return B(this,function(b){return g=new Ii,Ss(l.file)&&(l.fileName=(c=l.fileName)!==null&&c!==void 0?c:l.file.name,l.mimeType=(p=l.mimeType)!==null&&p!==void 0?p:l.file.type,l.fileSize=(v=l.fileSize)!==null&&v!==void 0?v:l.file.size),this._queueMap.has(s.url)||this._queueMap.set(s.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(s.url).messageQueue.push({requestId:a,params:l,state:Gr.PENDING,deferred:g,requireAuth:l.requireAuth}),this._uploadNextPendingItem(s),[2,g.promise]})})},u.prototype.cancel=function(s,a){var l,c;a===void 0&&(a=null);var p=this._queueMap.get(s.url);if(p){var v=a?[p.messageQueue.find(function(x){return x.requestId===a})]:Qt([],Ut(p.messageQueue),!1);try{for(var g=Pn(v),b=g.next();!b.done;b=g.next()){var E=b.value;if(E)switch(E.state){case Gr.PENDING:E.state=Gr.FAILED,E.error=be.requestCanceled,this._resolveMessageQueue(s);break;case Gr.UPLOADING:this._requestQueue.cancel(E.requestId)}}}catch(x){l={error:x}}finally{try{b&&!b.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}}},u}(),Ik={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ha.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:pa.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},EK=function(u){return ve("number",u.prevResultSize)&&ve("number",u.nextResultSize)&&ve("boolean",u.isInclusive)&&ve("boolean",u.reverse)&&ve("string",u.messageTypeFilter)&&Lt(ha,u.messageTypeFilter)&&it("string",u.customTypesFilter,!0)&&it("string",u.senderUserIdsFilter,!0)&&Lt(pa,u.replyType)&&ve("boolean",u.includeMetaArray)&&ve("boolean",u.includeReactions)&&ve("boolean",u.includeParentMessageInfo)&&ve("boolean",u.includeThreadInfo)&&ve("boolean",u.showSubchannelMessagesOnly)},Yb={replyType:pa.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},kk=function(u){return Lt(pa,u.replyType)&&ve("boolean",u.includeReactions)&&ve("boolean",u.includeMetaArray)&&ve("boolean",u.includeParentMessageInfo)&&ve("boolean",u.includeThreadInfo)&&ve("boolean",u.includePollDetails)};(function(u){u.UNKNOWN="UNKNOWN",u.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",u.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",u.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",u.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",u.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",u.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",u.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",u.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",u.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",u.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",u.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",u.REQUEST_MESSAGE="REQUEST_MESSAGE",u.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",u.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",u.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",u.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",u.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",u.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",u.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",u.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",u.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",u.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(Tr||(Tr={}));var qh,qi=function(u){function s(a){var l=a.messages,c=a.source,p=u.call(this)||this;return p.messages=l,p.source=c,p}return Y(s,u),s}(Br),wK=function(u){function s(a){var l=a.messageIds,c=a.source,p=u.call(this)||this;return p.messageIds=l,p.source=c,p}return Y(s,u),s}(Br);(function(u){function s(a){var l=a.reqId,c=a.source,p=u.call(this)||this;return p.reqId=l,p.source=c,p}return Y(s,u),s})(Br);var CK=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.messageId,v=a.includeMetaArray,g=a.includeReactions,b=a.includeThreadInfo,E=a.includeParentMessageInfo,x=a.includePollDetails,D=u.call(this)||this;return D.method=We.GET,D.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(encodeURIComponent(p)),D.params={is_sdk:!0,with_sorted_meta_array:v,include_reactions:g,include_thread_info:b,include_parent_message_info:E,include_poll_details:x},D}return Y(s,u),s}(Qe),xK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.message=l?Xo(a,fe({},l)):null,c}return Y(s,u),s}(Ze),Tk=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.timestamp,v=p===void 0?null:p,g=a.token,b=g===void 0?null:g,E=a.prevResultSize,x=a.nextResultSize,D=a.isInclusive,L=a.reverse,G=a.messageTypeFilter,ie=a.customTypesFilter,ae=a.senderUserIdsFilter,te=a.replyType,ee=a.includeMetaArray,_e=a.includeReactions,Re=a.parentMessageId,Le=a.includeThreadInfo,hn=a.includeParentMessageInfo,xn=a.showSubchannelMessagesOnly,Xn=a.includePollDetails,zn=u.call(this)||this;return zn.method=We.GET,zn.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages"),zn.params=Ln({is_sdk:!0,prev_limit:E,next_limit:x,include:D,reverse:L,message_ts:v,message_id:b,message_type:G!=null?G:null,custom_types:ie,sender_ids:ae,include_reply_type:te,with_sorted_meta_array:ee,include_reactions:_e,parent_message_id:Re,include_thread_info:Le,include_parent_message_info:hn,show_subchannel_message_only:xn,include_poll_details:Xn}),zn}return Y(s,u),s}(Qe),Nk=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.messages=l.messages.map(function(p){return Xo(a,p)}),c}return Y(s,u),s}(Ze),SK=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.timestamp,v=a.token,g=a.replyType,b=a.includeMetaArray,E=a.includeReactions,x=a.includeThreadInfo,D=a.includeParentMessageInfo,L=a.includePollDetails,G=u.call(this)||this;return G.method=We.GET,G.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages/changelogs"),G.params={change_ts:p,token:v,with_sorted_meta_array:b,include_reactions:E,include_thread_info:x,include_reply_type:g,include_parent_message_info:D,include_poll_details:L},G}return Y(s,u),s}(Qe),IK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.updatedMessages=l.updated.map(function(p){return Xo(a,p)}),c.deletedMessagesInfo=l.deleted.map(function(p){return{messageId:p.message_id,deletedAt:p.deleted_at}}),c.hasMore=l.has_more,c.nextToken=l.next,c}return Y(s,u),s}(Ze),kK=function(u){function s(a){var l=a.channelUrl,c=a.scheduledMessageId,p=u.call(this)||this;return p.method=We.GET,p.path="".concat(pk,"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(c)),p.params={},p}return Y(s,u),s}(Qe),TK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.message=l?Xo(a,fe({},l)):null,c}return Y(s,u),s}(Ze),Ok={},Bi=function(){function u(s,a){var l=a.sdkState,c=a.dispatcher,p=a.requestQueue,v=a.onlineDetector,g=a.cacheContext;this._iid=s,this._sdkState=l,this._requestQueue=p,this._dispatcher=c,this._onlineDetector=v,this._cacheContext=g,this.fileMessageQueue=new yK(s,{sdkState:l,dispatcher:c,requestQueue:p,onlineDetector:v,cacheContext:g}),Ok[s]=this}return u.of=function(s){return Ok[s]},u.prototype.buildMessageFromSerializedData=function(s){var a=O0(s);switch(a.messageType){case zt.USER:return new jr(this._iid,jr.payloadify(a));case zt.FILE:return new kr(this._iid,kr.payloadify(a));case zt.ADMIN:return new Fc(this._iid,Fc.payloadify(a))}return null},u.prototype.buildUserMessageCreateParamsFromSerializedData=function(s,a){return Ln({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUserIds:a.mentionedUserIds,mentionedUsers:a.mentionedUsers,mentionedMessageTemplate:a.mentionedMessageTemplate,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,appleCriticalAlertOptions:a.appleCriticalAlertOptions,reqId:a.reqId,message:a.message,translationTargetLanguages:Object.keys(a.translations)})},u.prototype.buildFileMessageCreateParamsFromSerializedData=function(s,a){return Ln({data:a.data,customType:a.customType,mentionType:a.mentionType,mentionedUserIds:a.mentionedUserIds,mentionedUsers:a.mentionedUsers,mentionedMessageTemplate:a.mentionedMessageTemplate,metaArrays:a.metaArrays,parentMessageId:a.parentMessageId,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,appleCriticalAlertOptions:a.appleCriticalAlertOptions,reqId:a.reqId,file:s.file,fileKey:s.fileKey,fileUrl:a.url,fileName:a.name,fileSize:a.size,mimeType:a.type,thumbnailSizes:a.thumbnails.map(function(l){return{maxWidth:l.width,maxHeight:l.height}}),fileType:s.fileType,requireAuth:a.requireAuth})},u.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(s,a){return fe(fe({},this.buildUserMessageCreateParamsFromSerializedData(s,a)),{scheduledAt:s.scheduledAt})},u.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(s,a){return fe(fe({},this.buildFileMessageCreateParamsFromSerializedData(s,a)),{scheduledAt:s.scheduledAt})},u.prototype.buildSenderFromSerializedData=function(s){var a=O0(s);return new Hh(this._iid,Hh.payloadify(a))},u.prototype.getMessage=function(s){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=new CK(s),[4,this._requestQueue.send(a)];case 1:return l=c.sent(),[2,l.as(xK).message]}})})},u.prototype.getScheduledMessage=function(s){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=new kK(s),[4,this._requestQueue.send(a)];case 1:return l=c.sent(),[2,l.as(TK).message]}})})},u.prototype.getMessagesByTimestamp=function(s,a,l,c,p){return p===void 0&&(p=Tr.REQUEST_MESSAGE),q(this,void 0,void 0,function(){var v,g,b;return B(this,function(E){switch(E.label){case 0:return v=new Tk(fe(fe({channelType:a,channelUrl:s,timestamp:l},Ik),c)),[4,this._requestQueue.send(v)];case 1:return g=E.sent(),b=g.as(Nk).messages,this._dispatcher.dispatch(new qi({messages:b,source:p})),[2,b]}})})},u.prototype.getThreadedMessagesByTimestamp=function(s,a,l,c){return c===void 0&&(c=Tr.REQUEST_THREADED_MESSAGE),q(this,void 0,void 0,function(){var p,v,g,b;return B(this,function(E){switch(E.label){case 0:return p=new Tk(fe(fe(fe({channelUrl:s.channelUrl,channelType:s.channelType,timestamp:a},M0),l),{replyType:pa.ALL,parentMessageId:s.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return v=E.sent(),g=v.as(Nk).messages,(b=g.slice(1)).forEach(function(x){x.parentMessage=s}),this._dispatcher.dispatch(new qi({messages:b,source:c})),[2,{parentMessage:g[0],threadedMessages:b}]}})})},u.prototype.getMessageChangelogs=function(s,a,l,c,p){return p===void 0&&(p=Tr.REQUEST_MESSAGE_CHANGELOGS),q(this,void 0,void 0,function(){var v,g,b,E,x,D,L,G;return B(this,function(ie){switch(ie.label){case 0:return v=new SK(Ln(fe(fe({channelType:a,channelUrl:s,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null},Yb),c))),[4,this._requestQueue.send(v)];case 1:return g=ie.sent(),b=g.as(IK),E=b.updatedMessages,x=b.deletedMessagesInfo,D=b.hasMore,L=b.nextToken,G=x.map(function(ae){return ae.messageId}),E.length>0&&this._dispatcher.dispatch(new qi({messages:E,source:p})),G.length>0&&this._dispatcher.dispatch(new wK({messageIds:G,source:p})),[2,{updatedMessages:E,deletedMessageIds:G,hasMore:D,token:L}]}})})},u}(),Xb=function(){function u(){this._onPending=Kn,this._onFailed=Kn,this._onSucceeded=Kn}return u.prototype._trigger=function(s,a){switch(a.sendingStatus){case Pt.PENDING:this._onPending(a);break;case Pt.FAILED:case Pt.CANCELED:this._onFailed(s,a.scheduledInfo?null:a);break;case Pt.SCHEDULED:case Pt.SUCCEEDED:this._onSucceeded(a)}},u.prototype.onPending=function(s){return this._onPending=s,this},u.prototype.onFailed=function(s){return this._onFailed=s,this},u.prototype.onSucceeded=function(s){return this._onSucceeded=s,this},u}(),NK=function(u){function s(a,l){var c=u.call(this,a)||this;c.threadInfo=null,c.targetMessageId=0,c.channelUrl=null,c.channelType=null;var p=l.thread_info,v=l.root_message_id,g=l.channel_url,b=l.channel_type;return p&&ve("object",p)&&ve("number",v)&&ve("string",g)&&ve("string",b)&&(c.threadInfo=new zb(a,p),c.targetMessageId=v,c.channelUrl=g,c.channelType=b),c}return Y(s,u),s}(Qs),OK={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},Hc=function(){function u(s,a){var l;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=s,this.limit=(l=a.limit)!==null&&l!==void 0?l:20}return Object.defineProperty(u.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),u.prototype._validate=function(){return ve("number",this.limit)&&this.limit>0},u}(),AK=function(u){function s(a){var l=a.channelCustomType,c=a.keyword,p=a.limit,v=a.reverse,g=a.exactMatch,b=a.channelUrl,E=a.order,x=a.messageTimestampFrom,D=a.messageTimestampTo,L=a.advancedQuery,G=a.targetFields,ie=a.nextToken,ae=u.call(this)||this;return ae.method=We.GET,ae.path="".concat(eK,"/messages"),ae.params={custom_type:l,query:c,limit:p,reverse:v,exact_match:g,channel_url:b,message_ts_from:x,message_ts_to:D,sort_field:E,advanced_query:L,target_fields:G,after:ie},ae}return Y(s,u),s}(Qe),RK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.messages=l.results.map(function(p){return Xo(a,p)}),c.hasNext=l.has_next,c.nextToken=l.end_cursor,c}return Y(s,u),s}(Ze);(function(u){u.SCORE="score",u.TIMESTAMP="ts"})(qh||(qh={}));var MK=function(u){function s(a,l){var c,p,v,g,b,E,x,D,L,G=this;return(G=u.call(this,a,l)||this).keyword="",G.reverse=!1,G.exactMatch=!1,G.channelUrl="",G.channelCustomType="",G.messageTimestampFrom=null,G.messageTimestampTo=null,G.order=qh.SCORE,G.advancedQuery=!1,G.targetFields=null,G._nextToken="",G.keyword=l.keyword,G.reverse=(c=l.reverse)!==null&&c!==void 0&&c,G.exactMatch=(p=l.exactMatch)!==null&&p!==void 0&&p,G.channelUrl=(v=l.channelUrl)!==null&&v!==void 0?v:"",G.channelCustomType=(g=l.channelCustomType)!==null&&g!==void 0?g:"",G.messageTimestampFrom=(b=l.messageTimestampFrom)!==null&&b!==void 0?b:null,G.messageTimestampTo=(E=l.messageTimestampTo)!==null&&E!==void 0?E:null,G.order=(x=l.order)!==null&&x!==void 0?x:qh.SCORE,G.advancedQuery=(D=l.advancedQuery)!==null&&D!==void 0&&D,G.targetFields=(L=l.targetFields)!==null&&L!==void 0?L:null,G}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&ve("string",this.keyword)&&this.keyword.length>0&&ve("boolean",this.reverse)&&ve("boolean",this.exactMatch)&&ve("string",this.channelUrl)&&ve("string",this.channelCustomType)&&(ve("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(ve("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Lt(qh,this.order)&&ve("boolean",this.advancedQuery)&&it("string",this.targetFields,!0)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new AK(fe(fe({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,a.send(l)]):[3,2]:[3,5];case 1:return c=E.sent(),p=c.as(RK),v=p.messages,g=p.hasNext,b=p.nextToken,this._nextToken=b,this._hasNext=g,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Hc),Bh=function(u){function s(a,l,c,p){var v=u.call(this,a,p)||this;return v.channelUrl=l,v.channelType=c,v}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&ve("string",this.channelUrl)&&Lt(Yt,this.channelType)},s}(Hc),DK=function(u){function s(a,l,c,p){var v,g,b,E,x,D,L,G,ie,ae,te=this;return(te=u.call(this,a,l,c,p)||this).reverse=!1,te.messageTypeFilter=ha.ALL,te.customTypesFilter=null,te.senderUserIdsFilter=null,te.replyType=pa.NONE,te.includeMetaArray=!1,te.includeReactions=!1,te.includeParentMessageInfo=!1,te.includeThreadInfo=!1,te.showSubchannelMessagesOnly=!1,te._edge=Number.MAX_SAFE_INTEGER,te.reverse=(v=p.reverse)!==null&&v!==void 0&&v,te.messageTypeFilter=(g=p.messageTypeFilter)!==null&&g!==void 0?g:ha.ALL,te.customTypesFilter=(b=p.customTypesFilter)!==null&&b!==void 0?b:null,te.senderUserIdsFilter=(E=p.senderUserIdsFilter)!==null&&E!==void 0?E:null,te.replyType=(x=p.replyType)!==null&&x!==void 0?x:pa.NONE,te.includeMetaArray=(D=p.includeMetaArray)!==null&&D!==void 0&&D,te.includeReactions=(L=p.includeReactions)!==null&&L!==void 0&&L,te.includeParentMessageInfo=(G=p.includeParentMessageInfo)!==null&&G!==void 0&&G,te.includeThreadInfo=(ie=p.includeThreadInfo)!==null&&ie!==void 0&&ie,te.showSubchannelMessagesOnly=(ae=p.showSubchannelMessagesOnly)!==null&&ae!==void 0&&ae,te}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&ve("boolean",this.reverse)&&Lt(ha,this.messageTypeFilter)&&Lt(pa,this.replyType)&&it("string",this.customTypesFilter,!0)&&it("string",this.senderUserIdsFilter,!0)&&ve("boolean",this.includeMetaArray)&&ve("boolean",this.includeReactions)&&ve("boolean",this.includeParentMessageInfo)&&ve("boolean",this.includeThreadInfo)&&ve("boolean",this.showSubchannelMessagesOnly)},s.prototype.load=function(){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Bi.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return a=l.sent(),this._edge=Math.min.apply(Math,Qt([Number.MAX_SAFE_INTEGER],Ut(a.map(function(c){return c.createdAt})),!1)),this._hasNext=a.length>=this.limit,this._isLoading=!1,[2,a];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Bh),UK={channelUrl:null,scheduledMessageId:0},LK=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.name="message",a}return Y(s,u),s.prototype.init=function(a,l){var c=l.sdkState,p=l.dispatcher,v=l.sessionManager,g=l.requestQueue,b=l.logger,E=l.onlineDetector,x=l.cacheContext;u.prototype.init.call(this,a,{sdkState:c,dispatcher:p,sessionManager:v,requestQueue:g,logger:b,onlineDetector:E,cacheContext:x}),this._manager=new Bi(a,{sdkState:c,dispatcher:p,requestQueue:g,onlineDetector:E,cacheContext:x})},s.prototype.buildMessageFromSerializedData=function(a){return this._manager.buildMessageFromSerializedData(a)},s.prototype.buildSenderFromSerializedData=function(a){return this._manager.buildSenderFromSerializedData(a)},s.prototype.getMessage=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return a=fe(fe({},OK),a),an(function(c){return ve("string",c.channelUrl)&&ve("string",c.channelType)&&Lt(Yt,c.channelType)&&ve("number",c.messageId)&&ve("boolean",c.includeMetaArray)&&ve("boolean",c.includeParentMessageInfo)&&ve("boolean",c.includeThreadInfo)&&ve("boolean",c.includePollDetails)}(a)).throw(be.invalidParameters),[2,this._manager.getMessage(a)]})})},s.prototype.getScheduledMessage=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return a=fe(fe({},UK),a),an(function(c){return ve("string",c.channelUrl)&&ve("number",c.scheduledMessageId)}(a)).throw(be.invalidParameters),[2,this._manager.getScheduledMessage(a)]})})},s}(yk),qc,Jb={data:null,customType:null,mentionType:si.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},Ak=function(u){return ve("string",u.data,!0)&&ve("string",u.customType,!0)&&Lt(si,u.mentionType)&&it("string",u.mentionedUserIds,!0)&&it(qn,u.mentionedUsers,!0)&&ve("string",u.mentionedMessageTemplate,!0)&&it(fa,u.metaArrays,!0)&&ve("number",u.parentMessageId,!0)&&ve("boolean",u.isReplyToChannel)&&Lt(Wo,u.pushNotificationDeliveryOption,!0)&&ve(Yo,u.appleCriticalAlertOptions,!0)},Rk=function(u){return u?{isReplyToChannel:u.isReplyToChannel,pushNotificationDeliveryOption:u.pushNotificationDeliveryOption}:null},Mk=fe(fe({},Jb),{message:null,translationTargetLanguages:null}),PK=function(u){return Ak(u)&&ve("string",u.message)&&it("string",u.translationTargetLanguages,!0)};(function(u){u.FILE="file",u.BLOB="blob",u.BLOB_LIKE_OBJECT="blobLikeObject",u.URL="url"})(qc||(qc={}));var Zb,ey=function(u){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&u instanceof Blob},ny=function(u){return u===qc.BLOB||u===qc.FILE},Dk=function(u){return u?{file:u.file,fileKey:u.fileKey,fileType:u.fileType,isReplyToChannel:u.isReplyToChannel,pushNotificationDeliveryOption:u.pushNotificationDeliveryOption}:null},Uk=fe(fe({},Jb),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),Lk=function(u){return Ak(u)&&(Ss(u.file)||ve("string",u.fileUrl))&&ve("string",u.fileName,!0)&&ve("string",u.mimeType,!0)&&ve("number",u.fileSize,!0)&&(u.thumbnailSizes===null||Array.isArray(u.thumbnailSizes)&&u.thumbnailSizes.every(function(s){return ve("object",s)&&s.maxWidth>0&&s.maxHeight>0}))};(function(u){u.MUTED="muted",u.BANNED="banned"})(Zb||(Zb={}));var Gh,Pk=function(){function u(s){var a,l,c;this.restrictionType=null,this.description=null,this.endAt=-1,Lt(Zb,s.restriction_type)&&(this.restrictionType=s.restriction_type),this.description=(a=s.description)!==null&&a!==void 0?a:null,this.endAt=(c=(l=s.end_at)!==null&&l!==void 0?l:s.muted_end_at)!==null&&c!==void 0?c:-1}return u.payloadify=function(s){return s?Ln({restriction_type:s.restrictionType,description:s.description,end_at:s.endAt}):null},u}(),Bc=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.restrictionInfo=null,c.restrictionInfo=new Pk(l),c}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},u.payloadify.call(this,a)),Pk.payloadify(a.restrictionInfo))):null},s}(qn),$k={data:null,customType:null,mentionType:si.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},Fk=function(u){return ve("string",u.data,!0)&&ve("string",u.customType,!0)&&Lt(si,u.mentionType)&&it("string",u.mentionedUserIds,!0)&&it(qn,u.mentionedUsers,!0)&&ve("string",u.mentionedMessageTemplate,!0)&&it(fa,u.metaArrays,!0)&&Lt(Wo,u.pushNotificationDeliveryOption,!0)&&ve(Yo,u.appleCriticalAlertOptions,!0)},$K=fe(fe({},$k),{message:null,translationTargetLanguages:null}),FK=function(u){return Fk(u)&&ve("string",u.message,!0)&&it("string",u.translationTargetLanguages,!0)},HK=fe({},$k),qK=function(u){function s(a){var l=a.channelUrl,c=a.channelType,p=a.token,v=a.limit,g=u.call(this)||this;return g.method=We.GET,g.path="".concat(bt(c),"/").concat(encodeURIComponent(l),"/operators"),g.params={token:p,limit:v},g}return Y(s,u),s}(Qe),BK=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.operators=l.operators.map(function(p){return new qn(a,p)}),c.token=l.next,c}return Y(s,u),s}(Ze),GK=function(u){function s(a,l,c,p){return u.call(this,a,l,c,p)||this}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:(a=[],this._hasNext?(this._isLoading=!0,l=we.of(this._iid).requestQueue,c=new qK(fe(fe({},this),{channelUrl:this.channelUrl,token:this._token})),[4,l.send(c)]):[3,2]):[3,5];case 1:return p=E.sent(),v=p.as(BK),g=v.operators,b=v.token,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,g];case 2:return[2,a];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Bh),jK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.limit,g=a.token;return(l=u.call(this)||this).method=We.GET,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/mute"),l.params={limit:v,token:g},l}return Y(s,u),s}(Qe),zK=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.token=null,c.mutedUsers=[];var p=l.next,v=l.muted_list;return c.token=p,v&&v.length>0&&(c.mutedUsers=v.map(function(g){return new Bc(a,g)})),c}return Y(s,u),s}(Ze),VK=function(u){function s(a,l,c,p){return u.call(this,a,l,c,p)||this}return Y(s,u),s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new jK(fe(fe({},this),{token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return c=b.sent(),p=c.as(zK),v=p.mutedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Bh),KK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.limit,g=a.token;return(l=u.call(this)||this).method=We.GET,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/ban"),l.params=Ln({limit:v,token:g}),l}return Y(s,u),s}(Qe),WK=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.token=null,c.bannedUsers=[];var p=l.next,v=l.banned_list;return c.token=p,v&&v.length>0&&(c.bannedUsers=v.map(function(g){return new Bc(a,g.user)})),c}return Y(s,u),s}(Ze),QK=function(u){function s(a,l,c,p){return u.call(this,a,l,c,p)||this}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new KK(fe(fe({},this),{token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return c=b.sent(),p=c.as(WK),v=p.bannedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Bh);(function(u){u.SPAM="spam",u.HARASSING="harassing",u.SUSPICIOUS="suspicious",u.INAPPROPRIATE="inappropriate"})(Gh||(Gh={}));var YK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.operatorUserIds;return(l=u.call(this)||this).method=We.POST,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/operators"),l.params={operator_ids:v},l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var XK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.operatorUserIds;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/operators"),l.params={operator_ids:v},l}return Y(s,u),s}(Qe);(function(u){function s(a,l){return u.call(this,a,l)||this}Y(s,u)})(Ze);var JK=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.userId;return(l=u.call(this)||this).method=We.GET,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/mute/").concat(v),l}return Y(s,u),s}(Qe),ZK=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.isMuted=!1,c.startAt=null,c.endAt=null,c.remainingDuration=null,c.description=null;var p=l.is_muted,v=l.start_at,g=l.end_at,b=l.remaining_duration,E=l.description;return c.isMuted=p,c.startAt=v,c.endAt=g,c.remainingDuration=b,c.description=E,c}return Y(s,u),s}(Ze),Hk=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.keys;return(l=u.call(this)||this).method=We.GET,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metadata"),l.params={keys:v,include_ts:!0},l}return Y(s,u),s}(Qe),qk=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.ts=null;var p=l.metadata,v=l.ts;return c.metadata=p,c.ts=v!=null?v:null,c}return Y(s,u),s}(Ze),eW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.metadata,g=a.upsert;return(l=u.call(this)||this).method=We.PUT,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metadata"),l.params={metadata:v,include_ts:!0,upsert:g!=null&&g},l}return Y(s,u),s}(Qe),nW=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.ts=null;var p=l.metadata,v=l.ts;return c.metadata=p,c.ts=v!=null?v:null,c}return Y(s,u),s}(Ze),tW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.created=null,p.updated=null,p.deleted=null,c.data&&(p.created=c.data.created,p.updated=c.data.updated,p.deleted=c.data.deleted),p}return Y(s,u),s}(Ht),rW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.key;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metadata/").concat(v),l.params={include_ts:!0},l}return Y(s,u),s}(Qe),iW=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.ts=null;var p=l.ts;return c.ts=p!=null?p:null,c}return Y(s,u),s}(Ze),aW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType;return(l=u.call(this)||this).method=We.PUT,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metadata"),l.params={include_ts:!0},l}return Y(s,u),s}(Qe),sW=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.ts=null;var p=l.ts;return c.ts=p!=null?p:null,c}return Y(s,u),s}(Ze),Bk=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.keys;return(l=u.call(this)||this).method=We.GET,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={keys:v},l}return Y(s,u),s}(Qe),Gk=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metaCounter=l,c}return Y(s,u),s}(Ze),oW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.metaCounter;return(l=u.call(this)||this).method=We.POST,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={metacounter:v},l}return Y(s,u),s}(Qe),lW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metaCounter=l,c}return Y(s,u),s}(Ze),ty=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.metaCounter,g=a.upsert,b=g!==void 0&&g,E=a.mode,x=E===void 0?"set":E;return(l=u.call(this)||this).method=We.PUT,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={metacounter:v,upsert:b,mode:x},l}return Y(s,u),s}(Qe),ry=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.metaCounter=l,c}return Y(s,u),s}(Ze),uW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.created=null,p.updated=null,p.deleted=null,c.data&&(p.created=c.data.created,p.updated=c.data.updated,p.deleted=c.data.deleted),p}return Y(s,u),s}(Ht),cW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.key;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metacounter/").concat(v),l.params=null,l}return Y(s,u),s}(Qe);(function(u){function s(a,l){return u.call(this,a,l)||this}Y(s,u)})(Ze);var dW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/metacounter"),l.params=null,l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var hW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.userId,g=a.seconds,b=a.description;return(l=u.call(this)||this).method=We.POST,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/mute"),l.params={user_id:v,seconds:g,description:b},l}return Y(s,u),s}(Qe);(function(u){function s(a,l){return u.call(this,a,l)||this}Y(s,u)})(Ze);var pW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.user=new Bc(a,c.data),p}return Y(s,u),s}(Ht),fW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.userId;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/mute/").concat(encodeURIComponent(v)),l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var vW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.user=new Bc(a,c.data),p}return Y(s,u),s}(Ht),mW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.userId,g=a.seconds,b=a.description;return(l=u.call(this)||this).method=We.POST,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/ban"),l.params=Ln({user_id:v,seconds:g,description:b}),l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var gW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.memberCount=null,p.joinedMemberCount=null,p.user=new Bc(a,c.data),c.data.member_count&&(p.memberCount=c.data.member_count),c.data.joined_member_count&&(p.joinedMemberCount=c.data.joined_member_count),p}return Y(s,u),s}(Ht),_W=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.userId;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/ban/").concat(encodeURIComponent(v)),l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var bW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.user=new Bc(a,c.data),p}return Y(s,u),s}(Ht),jk=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.freezing;return(l=u.call(this)||this).method=We.PUT,l.path="".concat(bt(p),"/").concat(encodeURIComponent(c),"/freeze"),l.params={freeze:v},l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var yW=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.freeze=c.data.freeze,p}return Y(s,u),s}(Ht),EW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.category,g=a.userId,b=a.description;return(l=u.call(this)||this).method=We.POST,l.path="".concat(mk(p),"/").concat(encodeURIComponent(c)),l.params={report_category:v,reporting_user_id:g,report_description:b},l}return Y(s,u),s}(Qe),wW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.category,g=a.userId,b=a.offendingUserId,E=a.description;return(l=u.call(this)||this).method=We.POST,l.path="/report/users/".concat(b),l.params={channel_url:c,channel_type:p===Yt.OPEN?"open_channels":"group_channels",report_category:v,reporting_user_id:g,report_description:E},l}return Y(s,u),s}(Qe),CW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.channelType,v=a.category,g=a.userId,b=a.offendingUserId,E=a.messageId,x=a.description;return(l=u.call(this)||this).method=We.POST,l.path="".concat(mk(p),"/").concat(encodeURIComponent(c),"/messages/").concat(E),l.params={report_category:v,reporting_user_id:g,report_description:x,offending_user_id:b},l}return Y(s,u),s}(Qe),xW=function(u){function s(a){var l=[];return a.mentionType===si.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(c){return c.userId}))),u.call(this,{code:"MESG",ackRequired:!0,payload:Ln({channel_url:a.channelUrl,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrays,mention_type:a.mentionType,mentioned_user_ids:l,mentioned_message_template:a.mentionedMessageTemplate,target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==Wo.DEFAULT?a.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:a.appleCriticalAlertOptions,silent:a.silent,reply_to_channel:a.isReplyToChannel,parent_message_id:a.parentMessageId>0?a.parentMessageId:null,req_id:a.reqId})})||this}return Y(s,u),s}(Is),zk=function(u){function s(a,l,c){var p,v,g,b=this;(b=u.call(this,a,"MESG",c)||this).message=new jr(a,c);var E=we.of(a).sdkState;return b.isMentioned=Pc(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(v=b.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId}),E.userId),b.forceUpdateLastMessage=(g=c.force_update_last_message)!==null&&g!==void 0&&g,b}return Y(s,u),s}(Ht),Vk=function(u){function s(a){var l=[];return a.mentionType===si.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(c){return c.userId}))),u.call(this,{code:"MEDI",ackRequired:!0,payload:Ln({channel_url:a.channelUrl,msg_id:a.messageId,message:a.message,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:l,mentioned_message_template:a.mentionedMessageTemplate,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}return Y(s,u),s}(Is),iy=function(u){function s(a,l,c){var p,v,g,b,E,x,D=this;(D=u.call(this,a,"MEDI",c)||this).message=new jr(a,c);var L=we.of(a).sdkState;return D.mentionCountChange=qb({mentionType:(v=(p=c.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&v!==void 0?v:null,mentionedUserIds:(b=(g=c.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:D.message.mentionType,mentionedUserIds:(E=D.message.mentionedUserIds)!==null&&E!==void 0?E:(x=D.message.mentionedUsers)===null||x===void 0?void 0:x.map(function(G){return G.userId})},L.userId),D}return Y(s,u),s}(Ht),SW=function(u){function s(a){var l=[];return a.mentionType===si.USERS&&(a.mentionedUserIds?l=a.mentionedUserIds:a.mentionedUsers&&(l=a.mentionedUsers.map(function(c){return c.userId}))),u.call(this,{code:"FEDI",ackRequired:!0,payload:Ln({channel_url:a.channelUrl,msg_id:a.messageId,data:a.data,custom_type:a.customType,metaarray:a.metaArrayParams,mention_type:a.mentionType,mentioned_user_ids:l,apple_critical_alert_options:a.appleCriticalAlertOptions})})||this}return Y(s,u),s}(Is),Kk=function(u){function s(a,l,c){var p,v,g,b,E,x,D=this;(D=u.call(this,a,"FEDI",c)||this).message=new kr(a,c);var L=we.of(a).sdkState;return D.mentionCountChange=qb({mentionType:(v=(p=c.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&v!==void 0?v:null,mentionedUserIds:(b=(g=c.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:D.message.mentionType,mentionedUserIds:(E=D.message.mentionedUserIds)!==null&&E!==void 0?E:(x=D.message.mentionedUsers)===null||x===void 0?void 0:x.map(function(G){return G.userId})},L.userId),D}return Y(s,u),s}(Ht),IW=function(u){function s(a){var l=u.call(this)||this;return l.method=We.DELETE,l.path="".concat(bt(a.channelType),"/").concat(a.channelUrl,"/messages/").concat(a.messageId),l}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var kW=function(u){function s(a,l,c){var p=u.call(this,a,"DELM",c)||this;return p.channelUrl=c.channel_url,p.channelType=c.channel_type,p.messageId=Number(c.msg_id),p}return Y(s,u),s}(Ht),TW=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.messageId,v=a.reactionKey,g=u.call(this)||this;return g.method=We.POST,g.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(p,"/reactions"),g.params={reaction:v},g}return Y(s,u),s}(Qe),NW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.reactionEvent=new Vb(l),c}return Y(s,u),s}(Ze),OW=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.messageId,v=a.reactionKey,g=u.call(this)||this;return g.method=We.DELETE,g.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(p,"/reactions"),g.params={reaction:v},g}return Y(s,u),s}(Qe),AW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.reactionEvent=new Vb(fe({},l)),c}return Y(s,u),s}(Ze),RW=function(u){function s(a){var l=a.channelType,c=a.channelUrl,p=a.messageId,v=a.translationTargetLanguages,g=u.call(this)||this;return g.method=We.POST,g.path="".concat(bt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(encodeURIComponent(p),"/translation"),g.params={target_langs:v},g}return Y(s,u),s}(Qe),MW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.message=new jr(a,l),c}return Y(s,u),s}(Ze),DW=function(u){function s(a){var l,c=this;c=u.call(this)||this;var p=[];a.mentionType===si.USERS&&(a.mentionedUserIds?p=a.mentionedUserIds:a.mentionedUsers&&(p=a.mentionedUsers.map(function(b){return b.userId})));var v=a.channelType,g=a.channelUrl;return c.method=We.POST,c.path="".concat(bt(v),"/").concat(encodeURIComponent(g),"/scheduled_messages"),c.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:N0.USER,message:a.message,custom_type:a.customType,data:a.data,mention_type:a.mentionType,mentioned_user_ids:p,sorted_metaarray:(l=a.metaArrays)===null||l===void 0?void 0:l.map(function(b){return fa.payloadify(b)}),apple_critical_alert_options:Yo.payloadify(a.appleCriticalAlertOptions),target_langs:a.translationTargetLanguages,push_option:a.pushNotificationDeliveryOption},c}return Y(s,u),s}(Qe),UW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.message=new jr(a,l),c}return Y(s,u),s}(Ze),LW=function(u){function s(a){var l,c=this;c=u.call(this)||this;var p=[];a.mentionType===si.USERS&&(a.mentionedUserIds?p=a.mentionedUserIds:a.mentionedUsers&&(p=a.mentionedUsers.map(function(b){return b.userId})));var v=a.channelType,g=a.channelUrl;return c.method=We.POST,c.path="".concat(bt(v),"/").concat(encodeURIComponent(g),"/scheduled_messages"),c.params={req_id:a.reqId,scheduled_at:a.scheduledAt,message_type:N0.FILE,url:a.fileUrl,file_name:a.fileName,file_size:a.fileSize,file_type:a.mimeType,thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(b){return Kb.payloadify(b)}):[],custom_type:a.customType,data:a.data,require_auth:a.requireAuth,mention_type:a.mentionType,mentioned_user_ids:p,sorted_metaarray:(l=a.metaArrays)===null||l===void 0?void 0:l.map(function(b){return fa.payloadify(b)}),apple_critical_alert_options:Yo.payloadify(a.appleCriticalAlertOptions),push_option:a.pushNotificationDeliveryOption},c}return Y(s,u),s}(Qe),PW=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.message=new kr(a,l),c}return Y(s,u),s}(Ze),Wk=function(u){function s(a,l){var c,p,v,g,b=this;return(b=u.call(this,a)||this).url="",b.channelType=Yt.BASE,b.name="",b.coverUrl="",b.customType="",b.data="",b.isFrozen=!1,b.isEphemeral=!1,b.creator=null,b.createdAt=0,b.url=l.channel_url,b.name=(c=l.name)!==null&&c!==void 0?c:"",b.coverUrl=(p=l.cover_url)!==null&&p!==void 0?p:"",b.customType=(v=l.custom_type)!==null&&v!==void 0?v:"",b.data=(g=l.data)!==null&&g!==void 0?g:"",b.isFrozen=!!ve("boolean",l.freeze)&&l.freeze,b.isEphemeral=!!ve("boolean",l.is_ephemeral)&&l.is_ephemeral,b.creator=l.created_by?new qn(b._iid,l.created_by):null,b.createdAt=1e3*l.created_at,b._cachedMetaData=new Map,l.metadata&&l.ts&&Object.keys(l.metadata).forEach(function(E){b._cachedMetaData.set(E,{value:l.metadata[E],isRemoved:!1,updatedAt:l.ts})}),b}return Y(s,u),s.payloadify=function(a){return Ln(fe(fe({},u.payloadify.call(this,a)),{channel_url:a.url,name:a.name,cover_url:a.coverUrl,custom_type:a.customType,data:a.data,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,created_by:qn.payloadify(a.creator),created_at:a.createdAt/1e3}))},s.prototype.isGroupChannel=function(){return this.channelType===Yt.GROUP},s.prototype.isOpenChannel=function(){return this.channelType===Yt.OPEN},Object.defineProperty(s.prototype,"cachedMetaData",{get:function(){var a={};return this._cachedMetaData.forEach(function(l,c){l.isRemoved||(a[c]=l.value)}),a},enumerable:!1,configurable:!0}),s.prototype._upsertCachedMetaData=function(a,l){var c=this;Object.keys(a).forEach(function(p){var v=c._cachedMetaData.get(p);(!v||v.updatedAt<=l)&&c._cachedMetaData.set(p,{value:a[p],isRemoved:!1,updatedAt:l})})},s.prototype._removeFromCachedMetaData=function(a,l){var c=this;a.forEach(function(p){var v=c._cachedMetaData.get(p);v&&v.updatedAt<l&&(v.isRemoved=!1,v.updatedAt=l)})},s.prototype._generateRequestId=function(){return"rq-".concat(Dc())},s.prototype.isIdentical=function(a){return a&&this.url===a.url},s.prototype.isEqual=function(a){return ak(this,a)},s.prototype.createOperatorListQuery=function(a){return a===void 0&&(a={}),new GK(this._iid,this.url,this.channelType,a)},s.prototype.createMutedUserListQuery=function(a){return a===void 0&&(a={}),new VK(this._iid,this.url,this.channelType,a)},s.prototype.createBannedUserListQuery=function(a){return a===void 0&&(a={}),new QK(this._iid,this.url,this.channelType,a)},s.prototype.createPreviousMessageListQuery=function(a){return a===void 0&&(a={}),new DK(this._iid,this.url,this.channelType,a)},s.prototype.addOperators=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(it("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new YK({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},s.prototype.removeOperators=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(it("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new XK({channelUrl:this.url,channelType:this.channelType,operatorUserIds:a}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},s.prototype.getMyMutedInfo=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L;return B(this,function(G){switch(G.label){case 0:return a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new JK({channelUrl:this.url,channelType:this.channelType,userId:l.userId}),[4,c.send(p)];case 1:return v=G.sent(),g=v.as(ZK),b=g.isMuted,E=g.startAt,x=g.endAt,D=g.remainingDuration,L=g.description,[2,{isMuted:b,startAt:E,endAt:x,remainingDuration:D,description:L}]}})})},s.prototype.getMetaData=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return an(it("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new Hk({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,l.send(c)];case 1:return p=E.sent(),v=p.as(qk),g=v.metadata,b=v.ts,this._upsertCachedMetaData(g,b),[2,g]}})})},s.prototype.getAllMetaData=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return a=we.of(this._iid).requestQueue,l=new Hk({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(l)];case 1:return c=b.sent(),p=c.as(qk),v=p.metadata,g=p.ts,this._upsertCachedMetaData(v,g),[2,v]}})})},s.prototype.createMetaData=function(a){return q(this,void 0,void 0,function(){var l,c,p,v;return B(this,function(g){switch(g.label){case 0:return l=we.of(this._iid).requestQueue,c=new iK({channelUrl:this.url,channelType:this.channelType,metadata:a}),[4,l.send(c)];case 1:return p=g.sent(),v=p.as(gk).metaData,this._upsertCachedMetaData(v,0),[2,v]}})})},s.prototype.updateMetaData=function(a,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return c=we.of(this._iid).requestQueue,p=new eW({channelUrl:this.url,channelType:this.channelType,metadata:a,upsert:l}),[4,c.send(p)];case 1:return v=x.sent(),g=v.as(nW),b=g.metadata,E=g.ts,this._upsertCachedMetaData(b,E),[2,b]}})})},s.prototype.deleteMetaData=function(a){return q(this,void 0,void 0,function(){var l,c,p,v;return B(this,function(g){switch(g.label){case 0:return an(ve("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new rW({channelUrl:this.url,channelType:this.channelType,key:a}),[4,l.send(c)];case 1:return p=g.sent(),v=p.as(iW).ts,this._removeFromCachedMetaData([a],v),[2]}})})},s.prototype.deleteAllMetaData=function(){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return a=we.of(this._iid).requestQueue,l=new aW({channelUrl:this.url,channelType:this.channelType}),[4,a.send(l)];case 1:return c=v.sent(),p=c.as(sW).ts,this._removeFromCachedMetaData(Qt([],Ut(this._cachedMetaData.keys()),!1),p),[2]}})})},s.prototype.getMetaCounters=function(a){return q(this,void 0,void 0,function(){var l,c,p;return B(this,function(v){switch(v.label){case 0:return an(it("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new Bk({channelUrl:this.url,channelType:this.channelType,keys:a}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(Gk).metaCounter]}})})},s.prototype.getAllMetaCounters=function(){return q(this,void 0,void 0,function(){var a,l,c;return B(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,l=new Bk({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,a.send(l)];case 1:return c=p.sent(),[2,c.as(Gk).metaCounter]}})})},s.prototype.createMetaCounters=function(a){return q(this,void 0,void 0,function(){var l,c,p;return B(this,function(v){switch(v.label){case 0:return l=we.of(this._iid).requestQueue,c=new oW({channelUrl:this.url,channelType:this.channelType,metaCounter:a}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(lW).metaCounter]}})})},s.prototype.updateMetaCounters=function(a,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,p,v;return B(this,function(g){switch(g.label){case 0:return c=we.of(this._iid).requestQueue,p=new ty({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:l}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(ry).metaCounter]}})})},s.prototype.increaseMetaCounters=function(a){return q(this,void 0,void 0,function(){var l,c,p;return B(this,function(v){switch(v.label){case 0:return l=we.of(this._iid).requestQueue,c=new ty({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"increase"}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(ry).metaCounter]}})})},s.prototype.decreaseMetaCounters=function(a){return q(this,void 0,void 0,function(){var l,c,p;return B(this,function(v){switch(v.label){case 0:return l=we.of(this._iid).requestQueue,c=new ty({channelUrl:this.url,channelType:this.channelType,metaCounter:a,upsert:!1,mode:"decrease"}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(ry).metaCounter]}})})},s.prototype.deleteMetaCounter=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(ve("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new cW({channelUrl:this.url,channelType:this.channelType,key:a}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},s.prototype.deleteAllMetaCounters=function(){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=we.of(this._iid).requestQueue,l=new dW({channelUrl:this.url,channelType:this.channelType}),[4,a.send(l)];case 1:return c.sent(),[2]}})})},s.prototype.muteUser=function(a,l,c){return q(this,void 0,void 0,function(){return B(this,function(p){return[2,this.muteUserWithUserId(a.userId,l,c)]})})},s.prototype.muteUserWithUserId=function(a,l,c){return q(this,void 0,void 0,function(){var p,v;return B(this,function(g){switch(g.label){case 0:return an(ve("string",a)&&ve("number",l,!0)&&ve("string",c,!0)).throw(be.invalidParameters),p=we.of(this._iid).requestQueue,v=new hW({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:l,description:c}),[4,p.send(v)];case 1:return g.sent(),[2]}})})},s.prototype.unmuteUser=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return[2,this.unmuteUserWithUserId(a.userId)]})})},s.prototype.unmuteUserWithUserId=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(ve("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new fW({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},s.prototype.banUser=function(a,l,c){return q(this,void 0,void 0,function(){return B(this,function(p){return[2,this.banUserWithUserId(a.userId,l,c)]})})},s.prototype.banUserWithUserId=function(a,l,c){return q(this,void 0,void 0,function(){var p,v;return B(this,function(g){switch(g.label){case 0:return an(ve("string",a)&&ve("number",l,!0)&&ve("string",c,!0)).throw(be.invalidParameters),p=we.of(this._iid).requestQueue,v=new mW({channelUrl:this.url,channelType:this.channelType,userId:a,seconds:l,description:c}),[4,p.send(v)];case 1:return g.sent(),[2]}})})},s.prototype.unbanUser=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return[2,this.unbanUserWithUserId(a.userId)]})})},s.prototype.unbanUserWithUserId=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(ve("string",a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new _W({channelUrl:this.url,channelType:this.channelType,userId:a}),[4,l.send(c)];case 1:return p.sent(),[2]}})})},s.prototype.freeze=function(){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=we.of(this._iid).requestQueue,l=new jk({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,a.send(l)];case 1:return c.sent(),this.isFrozen=!0,[2]}})})},s.prototype.unfreeze=function(){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=we.of(this._iid).requestQueue,l=new jk({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,a.send(l)];case 1:return c.sent(),this.isFrozen=!1,[2]}})})},s.prototype.getMessagesByTimestamp=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},Ik),l),an(ve("number",a)&&EK(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,a,l)];case 1:return[2,c.sent()]}})})},s.prototype.getMessageChangeLogsSinceTimestamp=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},Yb),l),an(ve("number",a)&&kk(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,l)];case 1:return[2,c.sent()]}})})},s.prototype.getMessageChangeLogsSinceToken=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return l=fe(fe({},Yb),l),an(ve("string",a)&&kk(l)).throw(be.invalidParameters),[4,Bi.of(this._iid).getMessageChangelogs(this.url,this.channelType,a,l)];case 1:return[2,c.sent()]}})})},s.prototype._createPendingSendableMessagePayload=function(a,l,c){var p=we.of(this._iid).sessionManager;return Ln({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:a.parentMessageId,data:a.data,custom_type:a.customType,mention_type:a.mentionType,sorted_metaarray:a.metaArrays?a.metaArrays.map(function(v){return fa.payloadify(v)}):null,apple_critical_alert_options:a.appleCriticalAlertOptions?Yo.payloadify(a.appleCriticalAlertOptions):null,created_at:c,user:Hh.payloadify(p.currentUser),req_id:l,request_state:Pt.PENDING,mentioned_user_ids:a.mentionedUserIds,mentioned_users:a.mentionedUsers})},s.prototype._createPendingUserMessage=function(a,l,c){var p,v,g={};if(a.translationTargetLanguages)try{for(var b=Pn(a.translationTargetLanguages),E=b.next();!E.done;E=b.next())g[E.value]=""}catch(L){p={error:L}}finally{try{E&&!E.done&&(v=b.return)&&v.call(b)}finally{if(p)throw p.error}}var x=Ln(fe(fe({},this._createPendingSendableMessagePayload(a,l,c)),{type:zt.USER,message:a.message,translations:g})),D=new jr(this._iid,x);return D.messageParams=a,D},s.prototype._createPendingScheduledUserMessage=function(a,l,c){var p=this._createPendingUserMessage(a,l,c);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},p},s.prototype._createPendingFileMessage=function(a,l,c){var p=Ln(fe(fe({},this._createPendingSendableMessagePayload(a,l,c)),{type:zt.FILE,url:a.fileUrl,file:{name:a.fileName,size:a.fileSize,type:a.mimeType,data:a.data},thumbnails:a.thumbnailSizes?a.thumbnailSizes.map(function(g){return{url:"",width:g.maxWidth,height:g.maxHeight}}):[]})),v=new kr(this._iid,p);return v.messageParams=a,v},s.prototype._createPendingScheduledFileMessage=function(a,l,c){var p=this._createPendingFileMessage(a,l,c);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:a.scheduledAt,scheduledMessageParams:a},p},s.prototype._markMessageAsFailed=function(a,l,c){c===void 0&&(c=!1),a.errorCode=l.code,l.code===jn.REQUEST_CANCELED?a.sendingStatus=Pt.CANCELED:c||(a.sendingStatus=Pt.FAILED)},s.prototype.sendUserMessage=function(a){return a=fe(fe({},Mk),a),an(PK(a)).throw(be.invalidParameters),this._sendUserMessage(a)},s.prototype._sendUserMessage=function(a,l,c){var p=this;l===void 0&&(l=Date.now()),c===void 0&&(c=null);var v=we.of(this._iid),g=v.dispatcher,b=v.requestQueue,E=c,x=new Xb;if(!E){E=this._generateRequestId();var D=we.of(this._iid).dispatcher;ks(2).then(function(){var G=p._createPendingUserMessage(a,E,l);D.dispatch(new qi({messages:[G],source:Tr.EVENT_MESSAGE_SENT_PENDING})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(ie){return[2,x._trigger(null,G)]})})})})}var L=new xW(fe({channelUrl:this.url,channelType:this.channelType,reqId:E},a));return b.send(L).then(function(G){var ie=G.as(zk).message;g.dispatch(new qi({messages:[ie],source:Tr.EVENT_MESSAGE_SENT_SUCCESS})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(ae){return[2,x._trigger(null,ie)]})})})}).catch(function(G){if(Vo(G))throw G;ks(2).then(function(){var ie=p._createPendingUserMessage(a,E,l),ae=we.of(p._iid).cacheContext.localCacheEnabled&&C0(G.code);p._markMessageAsFailed(ie,G,ae),g.dispatch(new qi({messages:[ie],source:ie.sendingStatus===Pt.PENDING?Tr.REQUEST_RESEND_MESSAGE:Tr.EVENT_MESSAGE_SENT_FAILED})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(te){return[2,x._trigger(G,ie)]})})})})}),x},s.prototype._autoResendUserMessage=function(a){return an(a instanceof jr).throw(be.invalidParameters),this._sendUserMessage(a.messageParams,a.createdAt,a.reqId)},s.prototype.resendUserMessage=function(a){var l;return q(this,void 0,void 0,function(){var c,p;return B(this,function(v){var g;return an(a instanceof jr&&!a.scheduledInfo).throw(be.invalidParameters),c=new Ii,p=(l=a.messageParams)!==null&&l!==void 0?l:Ln({data:(g=a).data,customType:g.customType,mentionType:g.mentionType,mentionedUsers:g.mentionedUsers,mentionedUserIds:g.mentionedUserIds,mentionedMessageTemplate:g.mentionedMessageTemplate,metaArrays:g.metaArrays,parentMessageId:g.parentMessageId,appleCriticalAlertOptions:g.appleCriticalAlertOptions,message:g.message,translationTargetLanguages:Object.keys(g.translations)}),this._sendUserMessage(p).onFailed(function(b){return c.reject(b)}).onSucceeded(function(b){return c.resolve(b)}),[2,c.promise]})})},s.prototype.updateUserMessage=function(a,l){return q(this,void 0,void 0,function(){var c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return l=fe(fe({},$K),l),an(ve("number",a)&&FK(l)).throw(be.invalidParameters),c=we.of(this._iid),p=c.dispatcher,v=c.requestQueue,g=new Vk(fe({channelType:this.channelType,channelUrl:this.url,messageId:a},l)),[4,v.send(g)];case 1:return b=x.sent(),E=b.as(iy).message,p.dispatch(new qi({messages:[E],source:Tr.EVENT_MESSAGE_UPDATED})),[2,E]}})})},s.prototype.copyUserMessage=function(a,l){var c,p,v;return q(this,void 0,void 0,function(){var g,b;return B(this,function(E){return an(a instanceof s&&l instanceof jr&&l.sendingStatus===Pt.SUCCEEDED&&a.url===l.channelUrl&&!l.scheduledInfo).throw(be.invalidParameters),g=new Ii,b=(c=l.messageParams)!==null&&c!==void 0?c:fe(fe({},l),{mentionType:l.mentionType,mentionedUserIds:(p=l.mentionedUserIds)!==null&&p!==void 0?p:(v=l.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId}),translationTargetLanguages:Object.keys(l.translations),pushNotificationDeliveryOption:Wo.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),a._sendUserMessage(b).onSucceeded(function(x){return g.resolve(x)}).onFailed(function(x){return g.reject(x)}),[2,g.promise]})})},s.prototype.translateUserMessage=function(a,l){return q(this,void 0,void 0,function(){var c,p,v;return B(this,function(g){switch(g.label){case 0:return an(a instanceof jr&&a.messageId>0&&it("string",l)).throw(be.invalidParameters),c=we.of(this._iid).requestQueue,p=new RW({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,translationTargetLanguages:l}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(MW).message]}})})},s.prototype._createScheduledUserMessage=function(a,l){var c=this,p=we.of(this._iid).requestQueue,v=Date.now(),g=this._generateRequestId();ks(2).then(function(){var E=c._createPendingScheduledUserMessage(a,g,v);Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(x){return[2,l._trigger(null,E)]})})})});var b=new DW(fe({reqId:g,channelType:this.channelType,channelUrl:this.url},a));p.send(b).then(function(E){var x=E.as(UW).message;Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(D){return[2,l._trigger(null,x)]})})})}).catch(function(E){if(Vo(E))throw E;ks(2).then(function(){var x=c._createPendingScheduledUserMessage(a,g,v);c._markMessageAsFailed(x,E),Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(D){return[2,l._trigger(E,x)]})})})})})},s.prototype.sendFileMessage=function(a){return a=fe(fe({},Uk),a),an(Lk(a)).throw(be.invalidParameters),this._sendFileMessage(a)},s.prototype._sendFileMessage=function(a,l,c){var p=this;l===void 0&&(l=Date.now()),c===void 0&&(c=null);var v=we.of(this._iid).dispatcher,g=Bi.of(this._iid).fileMessageQueue,b=c,E=new Xb;return b||(b=this._generateRequestId(),ks(2).then(function(){var x=p._createPendingFileMessage(a,b,l);v.dispatch(new qi({messages:[x],source:Tr.EVENT_MESSAGE_SENT_PENDING})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(D){return[2,E._trigger(null,x)]})})})})),g.request(this,b,a).then(function(x){v.dispatch(new qi({messages:[x],source:Tr.EVENT_MESSAGE_SENT_SUCCESS})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(D){return[2,E._trigger(null,x)]})})})}).catch(function(x){if(Vo(x))throw x;ks(2).then(function(){var D=p._createPendingFileMessage(a,b,l),L=we.of(p._iid).cacheContext.localCacheEnabled&&C0(x.code);p._markMessageAsFailed(D,x,L),v.dispatch(new qi({messages:[D],source:D.sendingStatus===Pt.PENDING?Tr.REQUEST_RESEND_MESSAGE:Tr.EVENT_MESSAGE_SENT_FAILED})),Qn(function(){return q(p,void 0,void 0,function(){return B(this,function(G){return[2,E._trigger(x,D)]})})})})}),E},s.prototype._autoResendFileMessage=function(a){an(a instanceof kr).throw(be.invalidParameters);var l=we.of(this._iid).logger;return l.debug("autoResendFileMessage pending",a),this._sendFileMessage(a.messageParams,a.createdAt,a.reqId).onFailed(function(c){l.debug("autoResendFileMessage failed",c)}).onSucceeded(function(c){l.debug("autoResendFileMessage success",c)})},s.prototype._createScheduledFileMessage=function(a,l,c,p){var v=this,g=we.of(this._iid).requestQueue,b=new LW(fe(fe({reqId:c,channelType:this.channelType,channelUrl:this.url},a),{fileUrl:a.fileUrl,requireAuth:a.requireAuth}));g.send(b).then(function(E){var x=E.as(PW).message;Qn(function(){return q(v,void 0,void 0,function(){return B(this,function(D){return[2,l._trigger(null,x)]})})})}).catch(function(E){if(Vo(E))throw E;ks(2).then(function(){var x=v._createPendingScheduledFileMessage(a,c,p);v._markMessageAsFailed(x,E),Qn(function(){return q(v,void 0,void 0,function(){return B(this,function(D){return[2,l._trigger(E,x)]})})})})})},s.prototype.sendFileMessages=function(a){var l,c;an(a.every(function(E){return Lk(fe(fe({},Uk),E))})).throw(be.invalidParameters);var p=new Xb;try{for(var v=Pn(a),g=v.next();!g.done;g=v.next()){var b=g.value;this.sendFileMessage(b).onPending(function(E){return p._trigger(null,E)}).onFailed(function(E,x){return p._trigger(E,x)}).onSucceeded(function(E){return p._trigger(null,E)})}}catch(E){l={error:E}}finally{try{g&&!g.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}return p},s.prototype.resendFileMessage=function(a,l){var c;return q(this,void 0,void 0,function(){var p,v;return B(this,function(g){return an(a instanceof kr&&l instanceof Blob&&!a.scheduledInfo).throw(be.invalidParameters),p=new Ii,v=(c=a.messageParams)!==null&&c!==void 0?c:function(b,E){return E===void 0&&(E=null),Ln({data:b.data,customType:b.customType,mentionType:b.mentionType,mentionedUsers:b.mentionedUsers,mentionedUserIds:b.mentionedUserIds,metaArrays:b.metaArrays,parentMessageId:b.parentMessageId,appleCriticalAlertOptions:b.appleCriticalAlertOptions,file:E,fileUrl:b.url,fileName:b.name,fileSize:b.size,mimeType:b.type,thumbnailSizes:b.thumbnails.map(function(x){return{maxWidth:x.width,maxHeight:x.height}})})}(a,l),this._sendFileMessage(v).onFailed(function(b){return p.reject(b)}).onSucceeded(function(b){return p.resolve(b)}),[2,p.promise]})})},s.prototype.updateFileMessage=function(a,l){return q(this,void 0,void 0,function(){var c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return l=fe(fe({},HK),l),an(ve("number",a)&&function(D){return Fk(D)}(l)).throw(be.invalidParameters),c=we.of(this._iid),p=c.dispatcher,v=c.requestQueue,g=new SW(fe({channelType:this.channelType,channelUrl:this.url,messageId:a},l)),[4,v.send(g)];case 1:return b=x.sent(),E=b.as(Kk).message,p.dispatch(new qi({messages:[E],source:Tr.EVENT_MESSAGE_UPDATED})),[2,E]}})})},s.prototype.cancelUploadingFileMessage=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return an(ve("string",a)).throw(be.invalidParameters),Bi.of(this._iid).fileMessageQueue.cancel(this,a),[2,!0]})})},s.prototype.copyFileMessage=function(a,l){var c,p;return q(this,void 0,void 0,function(){var v,g;return B(this,function(b){return an(a instanceof s&&l instanceof kr&&l.sendingStatus===Pt.SUCCEEDED&&a.url===l.channelUrl&&!l.scheduledInfo).throw(be.invalidParameters),v=new Ii,g=fe(fe({},l),{fileUrl:l.url,fileName:l.name,fileSize:l.size,mimeType:l.type,mentionType:l.mentionType,mentionedUserIds:(c=l.mentionedUserIds)!==null&&c!==void 0?c:(p=l.mentionedUsers)===null||p===void 0?void 0:p.map(function(E){return E.userId}),pushNotificationDeliveryOption:Wo.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:l.thumbnails.map(function(E){return{maxWidth:E.width,maxHeight:E.height}}),requireAuth:l.requireAuth}),a._sendFileMessage(g).onSucceeded(function(E){return v.resolve(E)}).onFailed(function(E){return v.reject(E)}),[2,v.promise]})})},s.prototype.deleteMessage=function(a){return q(this,void 0,void 0,function(){var l,c;return B(this,function(p){switch(p.label){case 0:return an(a instanceof Ts).throw(be.invalidParameters),a.messageId>0?(l=we.of(this._iid).requestQueue,c=new IW({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId}),[4,l.send(c)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.addReaction=function(a,l){return q(this,void 0,void 0,function(){var c,p,v;return B(this,function(g){switch(g.label){case 0:return an(a instanceof R0&&a.messageId>0&&ve("string",l)).throw(be.invalidParameters),c=we.of(this._iid).requestQueue,p=new TW({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:l}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(NW).reactionEvent]}})})},s.prototype.deleteReaction=function(a,l){return q(this,void 0,void 0,function(){var c,p,v;return B(this,function(g){switch(g.label){case 0:return an(a instanceof R0&&a.messageId>0&&ve("string",l)).throw(be.invalidParameters),c=we.of(this._iid).requestQueue,p=new OW({channelType:this.channelType,channelUrl:this.url,messageId:a.messageId,reactionKey:l}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(AW).reactionEvent]}})})},s.prototype._updateMessageMetaArray=function(a,l,c,p){return q(this,void 0,void 0,function(){var v,g,b,E,x,D;return B(this,function(L){switch(L.label){case 0:return v=we.of(this._iid),g=v.dispatcher,b=v.requestQueue,E=new Vk({channelType:this.channelType,channelUrl:this.url,messageId:a,metaArrayParams:{array:l,mode:c,upsert:p}}),[4,b.send(E)];case 1:return x=L.sent(),D=x.as(iy).message,g.dispatch(new qi({messages:[D],source:Tr.EVENT_MESSAGE_UPDATED})),[2,D]}})})},s.prototype.createMessageMetaArrayKeys=function(a,l){return q(this,void 0,void 0,function(){var c;return B(this,function(p){return an(a instanceof Ts&&a.messageId>0&&it("string",l)).throw(be.invalidParameters),c=l.map(function(v){return new fa({key:v})}),[2,this._updateMessageMetaArray(a.messageId,c,"add",!0)]})})},s.prototype.deleteMessageMetaArrayKeys=function(a,l){return q(this,void 0,void 0,function(){var c;return B(this,function(p){return an(a instanceof Ts&&a.messageId>0&&it("string",l)).throw(be.invalidParameters),c=l.map(function(v){return new fa({key:v})}),[2,this._updateMessageMetaArray(a.messageId,c,"remove",!0)]})})},s.prototype.addMessageMetaArrayValues=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){return an(a instanceof Ts&&a.messageId>0&&l.every(function(p){return p instanceof fa})).throw(be.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,l,"add",!0)]})})},s.prototype.removeMessageMetaArrayValues=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){return an(a instanceof Ts&&a.messageId>0&&l.every(function(p){return p instanceof fa})).throw(be.invalidParameters),[2,this._updateMessageMetaArray(a.messageId,l,"remove",!0)]})})},s.prototype.report=function(a,l){return q(this,void 0,void 0,function(){var c,p,v,g;return B(this,function(b){switch(b.label){case 0:return an(Lt(Gh,a)&&ve("string",l)).throw(be.invalidParameters),c=we.of(this._iid),p=c.sdkState,v=c.requestQueue,g=new EW({channelUrl:this.url,channelType:this.channelType,userId:p.userId,category:a,description:l}),[4,v.send(g)];case 1:return b.sent(),[2]}})})},s.prototype.reportUser=function(a,l,c){return q(this,void 0,void 0,function(){var p,v,g,b;return B(this,function(E){switch(E.label){case 0:return an(a instanceof qn&&Lt(Gh,l)&&ve("string",c)).throw(be.invalidParameters),p=we.of(this._iid),v=p.sdkState,g=p.requestQueue,b=new wW({channelUrl:this.url,channelType:this.channelType,userId:v.userId,offendingUserId:a.userId,category:l,description:c}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},s.prototype.reportMessage=function(a,l,c){return q(this,void 0,void 0,function(){var p,v,g,b;return B(this,function(E){switch(E.label){case 0:return an(a instanceof Ts&&Lt(Gh,l)&&ve("string",c)).throw(be.invalidParameters),p=we.of(this._iid),v=p.sdkState,g=p.requestQueue,b=new CW({channelUrl:this.url,channelType:this.channelType,userId:v.userId,offendingUserId:a.sender.userId,messageId:a.messageId,category:l,description:c}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},s}(Qs),zr;(function(u){u[u.NONE=0]="NONE",u[u.CHANNEL_ENTER=10102]="CHANNEL_ENTER",u[u.CHANNEL_EXIT=10103]="CHANNEL_EXIT",u[u.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",u[u.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",u[u.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",u[u.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",u[u.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",u[u.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",u[u.TYPING_START=10900]="TYPING_START",u[u.TYPING_END=10901]="TYPING_END",u[u.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",u[u.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",u[u.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",u[u.CHANNEL_INVITE=10020]="CHANNEL_INVITE",u[u.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",u[u.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",u[u.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",u[u.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",u[u.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",u[u.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",u[u.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",u[u.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(zr||(zr={}));var $W=function(){function u(s){this.channelUrl=s.channel_url,this.channelType=s.channel_type,this.category=s.cat,this.data=s.data,this.ts=s.ts}return Object.defineProperty(u.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Yt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Yt.OPEN},enumerable:!1,configurable:!0}),u}(),Qk=function(u){function s(a,l,c){var p=u.call(this,a,"SYEV",c)||this;return p.event=new $W(c),p}return Y(s,u),s}(Ht),FW=function(u){function s(a,l,c){var p=u.call(this,a,l,c)||this,v=c.data.operators,g=v===void 0?[]:v;return p.operators=g.map(function(b){return new qn(p._iid,b)}),p}return Y(s,u),s}(Qk),HW=function(u){function s(a,l,c){var p=u.call(this,a,"MCNT",c)||this;return p.groupChannelMemberCounts=c.group_channels.map(function(v){return{channelUrl:v.channel_url,memberCount:v.member_count,joinedMemberCount:v.joined_member_count,updatedAt:v.ts}}),p.openChannelMemberCounts=c.open_channels.map(function(v){return{channelUrl:v.channel_url,participantCount:v.participant_count,updatedAt:v.ts}}),p}return Y(s,u),s}(Ht),qW=function(u){function s(a,l,c){var p,v,g,b=this;(b=u.call(this,a,"ADMM",c)||this).message=new Fc(a,c);var E=we.of(a).sdkState;return b.isMentioned=Pc(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(v=b.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId}),E.userId),b.forceUpdateLastMessage=(g=c.force_update_last_message)!==null&&g!==void 0&&g,b}return Y(s,u),s}(Ht),BW=function(u){function s(a,l,c){var p,v,g,b,E,x,D=this;(D=u.call(this,a,"AEDI",c)||this).message=new Fc(a,c);var L=we.of(a).sdkState;return D.mentionCountChange=qb({mentionType:(v=(p=c.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&v!==void 0?v:null,mentionedUserIds:(b=(g=c.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:D.message.mentionType,mentionedUserIds:(E=D.message.mentionedUserIds)!==null&&E!==void 0?E:(x=D.message.mentionedUsers)===null||x===void 0?void 0:x.map(function(G){return G.userId})},L.userId),D}return Y(s,u),s}(Ht),GW=function(u){function s(a,l,c){var p=u.call(this,a,"MRCT",c)||this;return p.channelUrl=c.channel_url,p.channelType=c.channel_type,p.event=new Vb(c),p}return Y(s,u),s}(Ht),jW=function(u){function s(a,l,c){var p=u.call(this,a,"MTHD",c)||this;return p.event=new NK(a,c),p}return Y(s,u),s}(Ht),zW=function(){this.onUserMuted=Kn,this.onUserUnmuted=Kn,this.onUserBanned=Kn,this.onUserUnbanned=Kn,this.onChannelChanged=Kn,this.onChannelDeleted=Kn,this.onChannelFrozen=Kn,this.onChannelUnfrozen=Kn,this.onOperatorUpdated=Kn,this.onChannelMemberCountChanged=Kn,this.onMetaDataCreated=Kn,this.onMetaDataUpdated=Kn,this.onMetaDataDeleted=Kn,this.onMetaCounterCreated=Kn,this.onMetaCounterUpdated=Kn,this.onMetaCounterDeleted=Kn,this.onMessageReceived=Kn,this.onMessageUpdated=Kn,this.onMessageDeleted=Kn,this.onMentionReceived=Kn,this.onReactionUpdated=Kn,this.onThreadInfoUpdated=Kn},VW=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a._channels=new Map,a._enteredChannelUrls=[],a}return Y(s,u),Object.defineProperty(s.prototype,"enteredChannels",{get:function(){var a=this;return this._enteredChannelUrls.map(function(l){return a._channels.get(l)}).filter(function(l){return l!==null})},enumerable:!1,configurable:!0}),s.prototype.isEnteredChannel=function(a){return this._enteredChannelUrls.includes(a)},s.prototype.enter=function(a){this._enteredChannelUrls.indexOf(a)<0&&this._enteredChannelUrls.push(a)},s.prototype.exit=function(a){var l=this._enteredChannelUrls.indexOf(a);l>=0&&this._enteredChannelUrls.splice(l,1)},s.prototype.exitAll=function(){this._enteredChannelUrls=[]},s.prototype.get=function(a){var l;return q(this,void 0,void 0,function(){return B(this,function(c){return[2,(l=this._channels.get(a))!==null&&l!==void 0?l:null]})})},s.prototype.upsert=function(a){return q(this,void 0,void 0,function(){var l=this;return B(this,function(c){return a.forEach(function(p){if(l._channels.has(p.url)){var v=l._channels.get(p.url);Object.assign(v,p)}else l._channels.set(p.url,p)}),[2]})})},s.prototype.remove=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return this._channels.delete(a),this.exit(a),[2]})})},s.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(a){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},s}(Qs),Yk={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},KW=function(u){function s(a){var l=a.channelUrl,c=a.isInternalCall,p=u.call(this)||this;return p.method=We.GET,p.path="".concat(c?ZV:au,"/").concat(encodeURIComponent(l)),p}return Y(s,u),s}(Qe),Xk=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.channel=null,c.channel=new Gc(a,l),c}return Y(s,u),s}(Ze),WW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.coverUrlOrImage,v=a.name,g=a.data,b=a.customType,E=a.operatorUserIds;return(l=u.call(this)||this).method=We.POST,l.path=au,l.params=Ln({channel_url:c,cover_url:ve("string",p)?p:null,cover_file:Ss(p)?p:null,name:v,data:g,custom_type:b,operators:E}),l}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.channel=new Gc(a,l),c}Y(s,u)})(Ze);var QW=function(u){function s(a){var l=a.channelUrl;return u.call(this,{code:"ENTR",payload:{channel_url:l},ackRequired:!0})||this}return Y(s,u),s}(Is),Jk=function(u){function s(a,l,c){var p,v,g=this;return g=u.call(this,a,"ENTR",c)||this,c.data&&(g.participantCount=(p=c.data.participant_count)!==null&&p!==void 0?p:0,g.user=new qn(a,c.data),g.ts=(v=c.data.edge_ts)!==null&&v!==void 0?v:0),g}return Y(s,u),s}(Ht),YW=function(u){function s(a){var l=a.channelUrl;return u.call(this,{code:"EXIT",payload:{channel_url:l},ackRequired:!0})||this}return Y(s,u),s}(Is),Zk=function(u){function s(a,l,c){var p,v,g=this;return g=u.call(this,a,"EXIT",c)||this,c.data&&(g.participantCount=(p=c.data.participant_count)!==null&&p!==void 0?p:0,g.user=new qn(a,c.data),g.ts=(v=c.data.edge_ts)!==null&&v!==void 0?v:0),g}return Y(s,u),s}(Ht),eT={},ou=function(){function u(s,a){var l=a.sdkState,c=a.dispatcher,p=a.requestQueue,v=this;this._sdkState=l,this._requestQueue=p,this._dispatcher=c,this._openChannelCache=new VW(s),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,E;if(g instanceof Ht)v._handleEvent(g);else if(g instanceof Uc&&g.stateType===At.CONNECTED){var x=v._openChannelCache.enteredChannels;try{for(var D=Pn(x),L=D.next();!L.done;L=D.next())L.value.enter()}catch(G){b={error:G}}finally{try{L&&!L.done&&(E=D.return)&&E.call(D)}finally{if(b)throw b.error}}}}),eT[s]=this}return u.of=function(s){return eT[s]},u.prototype.buildOpenChannelFromSerializedData=function(s){var a=O0(s);return new Gc(a._iid,Gc.payloadify(a))},u.prototype.getChannelFromCache=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._openChannelCache.get(s)];case 1:return[2,a.sent()]}})})},u.prototype.upsertChannelsToCache=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._openChannelCache.upsert(s)];case 1:return a.sent(),[2]}})})},u.prototype.removeChannelsFromCache=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:b.trys.push([0,5,6,7]),a=Pn(s),l=a.next(),b.label=1;case 1:return l.done?[3,4]:(c=l.value,[4,this._openChannelCache.remove(c)]);case 2:b.sent(),b.label=3;case 3:return l=a.next(),[3,1];case 4:return[3,7];case 5:return p=b.sent(),v={error:p},[3,7];case 6:try{l&&!l.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 7:return[2]}})})},u.prototype.setEnteredToCache=function(s){this._openChannelCache.enter(s.url)},u.prototype.setExitedToCache=function(s){this._openChannelCache.exit(s.url)},u.prototype._handleEvent=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G,ie,ae,te,ee,_e,Re,Le,hn,xn,Xn,zn,zi,dt,to,Vi,z0,Vc,nl,pu,ro,Ve,Fe,rn,Rn,Sn,Xt,Or,Ar,oi,Rr,io,ao,Oa,qT,fu,V0,Wh,Qh,Yh,K0,W0,Ey,wy,Cy,xy,Sy,BT,li=this;return B(this,function(mt){switch(mt.label){case 0:switch(mt.trys.push([0,51,,52]),s.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return p=null,s.code==="MESG"?p=s.as(zk):s.code==="FILE"?p=s.as(Sk):s.code!=="ADMM"&&s.code!="BRDM"||(p=s.as(qW)),p?(a=p.message,l=p.isMentioned,a.channelType!==Yt.OPEN?[3,3]:[4,this.getChannel(a.channelUrl,!0)]):[3,3];case 2:c=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr,ns;return B(this,function(tl){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())ur=sn.value,this._openChannelCache.isEnteredChannel(c.url)&&ur.onMessageReceived(c,a),l&&ur.onMentionReceived(c,a)}catch(Xh){fr={error:Xh}}finally{try{sn&&!sn.done&&(ns=Fn.return)&&ns.call(Fn)}finally{if(fr)throw fr.error}}return[2]})})}),mt.label=3;case 3:return[3,50];case 4:return p=null,s.code==="MEDI"?p=s.as(iy):s.code==="FEDI"?p=s.as(Kk):s.code==="AEDI"&&(p=s.as(BW)),p?(v=p.message).channelType!==Yt.OPEN?[3,6]:[4,this.getChannel(v.channelUrl,!0)]:[3,6];case 5:g=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr,ns;return B(this,function(tl){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())ur=sn.value,this._openChannelCache.isEnteredChannel(g.url)&&ur.onMessageUpdated(g,v)}catch(Xh){fr={error:Xh}}finally{try{sn&&!sn.done&&(ns=Fn.return)&&ns.call(Fn)}finally{if(fr)throw fr.error}}return[2]})})}),mt.label=6;case 6:return[3,50];case 7:return b=s.as(kW),xn=b.channelUrl,L=b.channelType,E=b.messageId,L!==Yt.OPEN?[3,9]:[4,this.getChannel(xn,!0)];case 8:x=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr,ns;return B(this,function(tl){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())ur=sn.value,this._openChannelCache.isEnteredChannel(x.url)&&ur.onMessageDeleted(x,E)}catch(Xh){fr={error:Xh}}finally{try{sn&&!sn.done&&(ns=Fn.return)&&ns.call(Fn)}finally{if(fr)throw fr.error}}return[2]})})}),mt.label=9;case 9:return[3,50];case 10:return D=s.as(GW),xn=D.channelUrl,L=D.channelType,G=D.event,L!==Yt.OPEN?[3,12]:[4,this.getChannel(xn,!0)];case 11:ie=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr;return B(this,function(ns){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())sn.value.onReactionUpdated(ie,G)}catch(tl){ur={error:tl}}finally{try{sn&&!sn.done&&(fr=Fn.return)&&fr.call(Fn)}finally{if(ur)throw ur.error}}return[2]})})}),mt.label=12;case 12:return[3,50];case 13:return(ae=s.as(jW).event).channelType!==Yt.OPEN?[3,15]:[4,this.getChannel(ae.channelUrl,!0)];case 14:te=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr;return B(this,function(ns){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())sn.value.onThreadInfoUpdated(te,ae)}catch(tl){ur={error:tl}}finally{try{sn&&!sn.done&&(fr=Fn.return)&&fr.call(Fn)}finally{if(ur)throw ur.error}}return[2]})})}),mt.label=15;case 15:return[3,50];case 16:ee=s.as(HW).openChannelMemberCounts,_e=[],mt.label=17;case 17:mt.trys.push([17,22,23,24]),Re=Pn(ee),Le=Re.next(),mt.label=18;case 18:return Le.done?[3,21]:(hn=Le.value,xn=hn.channelUrl,ro=hn.participantCount,Xn=hn.updatedAt,[4,this.getChannelFromCache(xn)]);case 19:(zn=mt.sent())&&zn._updateParticipantCount(ro,Xn)&&_e.push(zn),mt.label=20;case 20:return Le=Re.next(),[3,18];case 21:return[3,24];case 22:return zi=mt.sent(),Sy={error:zi},[3,24];case 23:try{Le&&!Le.done&&(BT=Re.return)&&BT.call(Re)}finally{if(Sy)throw Sy.error}return[7];case 24:return _e.length>0?[4,this.upsertChannelsToCache(_e)]:[3,26];case 25:mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){var Fn,sn,ur,fr;return B(this,function(ns){try{for(Fn=Pn(this._openChannelHandlers.values()),sn=Fn.next();!sn.done;sn=Fn.next())sn.value.onChannelMemberCountChanged(_e)}catch(tl){ur={error:tl}}finally{try{sn&&!sn.done&&(fr=Fn.return)&&fr.call(Fn)}finally{if(ur)throw ur.error}}return[2]})})}),mt.label=26;case 26:return[3,50];case 27:if(!(dt=s.as(Qk).event).isOpenChannelEvent)return[3,49];switch(dt.category){case zr.CHANNEL_ENTER:return[3,28];case zr.CHANNEL_EXIT:return[3,30];case zr.CHANNEL_OPERATOR_UPDATE:return[3,32];case zr.USER_CHANNEL_MUTE:case zr.USER_CHANNEL_UNMUTE:return[3,34];case zr.USER_CHANNEL_BAN:case zr.USER_CHANNEL_UNBAN:return[3,36];case zr.CHANNEL_FREEZE:case zr.CHANNEL_UNFREEZE:return[3,38];case zr.CHANNEL_DELETED:return[3,40];case zr.CHANNEL_PROP_CHANGED:return[3,43];case zr.CHANNEL_META_DATA_CHANGED:return[3,45];case zr.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(dt.channelUrl,!0)];case 29:return to=mt.sent(),Vi=s.as(Jk),ro=Vi.participantCount,z0=Vi.user,Vc=to._updateParticipantCount(ro,dt.ts),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){sn.onUserEntered(to,z0),Vc&&sn.onChannelParticipantCountChanged(to)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(dt.channelUrl,!0)];case 31:return nl=mt.sent(),pu=s.as(Zk),ro=pu.participantCount,Ve=pu.user,Fe=nl._updateParticipantCount(ro,dt.ts),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){sn.onUserExited(nl,Ve),Fe&&sn.onChannelParticipantCountChanged(nl)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(dt.channelUrl,!0)];case 33:return rn=mt.sent(),Rn=s.as(FW).operators,rn.operators=Rn,this.upsertChannelsToCache([rn]),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){sn.onOperatorUpdated(rn,Rn)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(dt.channelUrl,!0)];case 35:return Sn=mt.sent(),Xt=dt.category===zr.USER_CHANNEL_MUTE,Or=s.as(Xt?pW:vW).user,Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){Xt?sn.onUserMuted(Sn,Or):sn.onUserUnmuted(Sn,Or)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(dt.channelUrl,!0)];case 37:return Ar=mt.sent(),oi=dt.category===zr.USER_CHANNEL_BAN,Rr=s.as(oi?gW:bW).user,Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){oi?sn.onUserBanned(Ar,Rr):sn.onUserUnbanned(Ar,Rr)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(dt.channelUrl,!0)];case 39:return io=mt.sent(),ao=s.as(yW).freeze,io.isFrozen=ao,this.upsertChannelsToCache([io]),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){ao?sn.onChannelFrozen(io):sn.onChannelUnfrozen(io)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(dt.channelUrl,!0)];case 41:return Oa=mt.sent(),[4,this.removeChannelsFromCache([Oa.url])];case 42:return mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelDeleted(Oa.url,Oa.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(dt.channelUrl,!0)];case 44:return qT=mt.sent(),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelChanged(qT)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(dt.channelUrl,!0)];case 46:return fu=mt.sent(),V0=s.as(tW),Wh=V0.created,Qh=V0.updated,Yh=V0.deleted,Wh&&fu._upsertCachedMetaData(Wh,dt.ts),Qh&&fu._upsertCachedMetaData(Qh,dt.ts),Yh&&fu._removeFromCachedMetaData(Yh,dt.ts),Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){Wh&&sn.onMetaDataCreated(fu,Wh),Qh&&sn.onMetaDataUpdated(fu,Qh),Yh&&sn.onMetaDataDeleted(fu,Yh)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(dt.channelUrl,!0)];case 48:return K0=mt.sent(),W0=s.as(uW),Ey=W0.created,wy=W0.updated,Cy=W0.deleted,Qn(function(){return q(li,void 0,void 0,function(){return B(this,function(Fn){return this._openChannelHandlers.forEach(function(sn){Ey&&sn.onMetaCounterCreated(K0,Ey),wy&&sn.onMetaCounterUpdated(K0,wy),Cy&&sn.onMetaCounterDeleted(K0,Cy)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(xy=mt.sent(),Vo(xy))throw xy;return[3,52];case 52:return[2]}})})},u.prototype.addHandler=function(s,a){this._openChannelHandlers.set(s,a)},u.prototype.removeHandler=function(s){this._openChannelHandlers.delete(s)},u.prototype.clearHandler=function(){this._openChannelHandlers.clear()},u.prototype.getChannel=function(s,a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){switch(c.label){case 0:an(ve("string",s)).throw(be.invalidParameters),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.getChannelFromCache(s)];case 2:return(l=c.sent())?[2,l]:[3,4];case 3:return c.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(s)];case 5:return[2,c.sent()]}})})},u.prototype.getChannelWithoutCache=function(s,a){return a===void 0&&(a=!1),q(this,void 0,void 0,function(){var l,c,p;return B(this,function(v){switch(v.label){case 0:return an(ve("string",s)).throw(be.invalidParameters),l=new KW({channelUrl:s,isInternalCall:a}),[4,this._requestQueue.send(l)];case 1:return c=v.sent(),p=c.as(Xk).channel,[4,this.upsertChannelsToCache([p])];case 2:return v.sent(),[2,p]}})})},u.prototype.createChannel=function(s){return q(this,void 0,void 0,function(){var a,l,c;return B(this,function(p){switch(p.label){case 0:return s=fe(fe({},Yk),s),an(function(v){return it("string",v.operatorUserIds,!0)&&(ve("string",v.coverUrlOrImage)||Ss(v.coverUrlOrImage)||v.coverUrlOrImage===null)&&ve("string",v.name,!0)&&ve("string",v.data,!0)&&ve("string",v.customType,!0)&&(ve("string",v.channelUrl)&&/^\w+$/.test(v.channelUrl)||v.channelUrl===null)}(s)).throw(be.invalidParameters),a=new WW(s),[4,this._requestQueue.send(a)];case 1:return l=p.sent(),c=l.as(Xk).channel,this.upsertChannelsToCache([c]),[2,c]}})})},u}(),nT={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},XW=function(u){function s(a){var l=this,c=a.channelUrl,p=a.token,v=a.limit;return(l=u.call(this)||this).method=We.GET,l.path="".concat(au,"/").concat(encodeURIComponent(c),"/participants"),l.params={token:p,limit:v},l}return Y(s,u),s}(Qe),JW=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.token=null,c.participants=[];var p=l.next,v=l.participants;return c.token=p,c.participants=v.map(function(g){return new qn(a,g)}),c}return Y(s,u),s}(Ze),ZW=function(u){function s(a,l,c){return u.call(this,a,l,Yt.OPEN,c)||this}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new XW(fe(fe({},this),{token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return c=b.sent(),p=c.as(JW),v=p.participants,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Bh),eQ=function(u){function s(a){var l=this,c=a.channelUrl,p=a.coverUrlOrImage,v=a.name,g=a.data,b=a.customType,E=a.operatorUserIds;return(l=u.call(this)||this).method=We.PUT,l.path="".concat(au,"/").concat(encodeURIComponent(c)),l.params=Ln({cover_url:ve("string",p)?p:null,cover_file:Ss(p)?p:null,name:v,data:g,custom_type:b,operators:E}),l}return Y(s,u),s}(Qe),nQ=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.channel=new Gc(a,l),c}return Y(s,u),s}(Ze),tQ=function(u){function s(a){var l=this,c=a.channelUrl;return(l=u.call(this)||this).method=We.DELETE,l.path="".concat(au,"/").concat(encodeURIComponent(c)),l}return Y(s,u),s}(Qe);(function(u){function s(a,l){return u.call(this,a,l)||this}Y(s,u)})(Ze);var Gc=function(u){function s(a,l){var c,p=this;return(p=u.call(this,a,l)||this)._lastParticipantCountUpdated=0,p.participantCount=0,p.operators=[],p.channelType=Yt.OPEN,p.participantCount=(c=l.participant_count)!==null&&c!==void 0?c:0,p.operators=Array.isArray(l.operators)?l.operators.map(function(v){return new qn(a,v)}):[],p}return Y(s,u),s.payloadify=function(a){return a?Ln(fe(fe({},Wk.payloadify(a)),{participant_count:a.participantCount,operators:a.operators.map(function(l){return qn.payloadify(l)})})):null},s.prototype.serialize=function(){return Bb(this)},s.prototype.isOperator=function(a){return a instanceof qn?this.isOperator(a.userId):this.operators.some(function(l){return l.userId===a})},s.prototype._updateParticipantCount=function(a,l){return l>this._lastParticipantCountUpdated&&(this.participantCount=a,this._lastParticipantCountUpdated=l,!0)},s.prototype.createParticipantListQuery=function(a){return new ZW(this._iid,this.url,a)},s.prototype.refresh=function(){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,ou.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,a.sent()]}})})},s.prototype.enter=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return a=we.of(this._iid).requestQueue,l=new QW({channelUrl:this.url}),[4,a.send(l)];case 1:return c=b.sent(),p=c.as(Jk),v=p.participantCount,g=p.ts,this._updateParticipantCount(v,g),ou.of(this._iid).setEnteredToCache(this),[2]}})})},s.prototype.exit=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return a=we.of(this._iid).requestQueue,l=new YW({channelUrl:this.url}),[4,a.send(l)];case 1:return c=b.sent(),p=c.as(Zk),v=p.participantCount,g=p.ts,this._updateParticipantCount(v,g),ou.of(this._iid).setExitedToCache(this),Bi.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},s.prototype.updateChannel=function(a){return q(this,void 0,void 0,function(){var l,c,p,v;return B(this,function(g){switch(g.label){case 0:return a=fe(fe({},nT),a),an(function(b){return it("string",b.operatorUserIds,!0)&&(ve("string",b.coverUrlOrImage)||Ss(b.coverUrlOrImage)||b.coverUrlOrImage===null)&&ve("string",b.name,!0)&&ve("string",b.data,!0)&&ve("string",b.customType,!0)}(a)).throw(be.invalidParameters),l=we.of(this._iid).requestQueue,c=new eQ(fe({channelUrl:this.url},a)),[4,l.send(c)];case 1:return p=g.sent(),v=p.as(nQ).channel,[4,ou.of(this._iid).upsertChannelsToCache([v])];case 2:return g.sent(),[2,v]}})})},s.prototype.updateChannelWithOperatorUserIds=function(a,l,c,p,v){return q(this,void 0,void 0,function(){var g;return B(this,function(b){return g=fe(fe({},nT),{name:a,coverUrlOrImage:l,data:c,operatorUserIds:p,customType:v}),[2,this.updateChannel(g)]})})},s.prototype.delete=function(){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return a=we.of(this._iid).requestQueue,l=new tQ({channelUrl:this.url}),[4,a.send(l)];case 1:return c.sent(),[4,ou.of(this._iid).removeChannelsFromCache([this.url])];case 2:return c.sent(),[2]}})})},s}(Wk),rQ=function(u){function s(a){a===void 0&&(a={});var l=u.call(this)||this;return Object.keys(a).forEach(function(c){l.hasOwnProperty(c)&&(l[c]=a[c])}),l}return Y(s,u),s}(function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.onUserEntered=Kn,a.onUserExited=Kn,a.onChannelParticipantCountChanged=Kn,a}return Y(s,u),s}(zW)),iQ=function(u){function s(a){var l=this,c=a.token,p=a.limit,v=a.nameKeyword,g=a.urlKeyword,b=a.customTypes,E=a.includeFrozen,x=a.includeMetaData;return(l=u.call(this)||this).method=We.GET,l.path=au,l.params=Ln({token:c,limit:p,name_contains:v,url_contains:g,custom_types:b,show_frozen:E,show_metadata:x}),l}return Y(s,u),s}(Qe),aQ=function(u){function s(a,l){var c=u.call(this,a,l)||this;c.token=null,c.channels=[],c.ts=null;var p=l.next,v=l.channels,g=l.ts;return c.token=p,v&&v.length>0&&(c.channels=v.map(function(b){return new Gc(a,b)})),c.ts=typeof g=="number"?g:null,c}return Y(s,u),s}(Ze),sQ=function(u){function s(a,l){var c,p,v,g,b,E=this;return(E=u.call(this,a,l)||this).includeFrozen=!0,E.includeMetaData=!0,E.nameKeyword=null,E.urlKeyword=null,E.customTypes=null,E.includeFrozen=(c=l.includeFrozen)===null||c===void 0||c,E.includeMetaData=(p=l.includeMetaData)===null||p===void 0||p,E.nameKeyword=(v=l.nameKeyword)!==null&&v!==void 0?v:null,E.urlKeyword=(g=l.urlKeyword)!==null&&g!==void 0?g:null,E.customTypes=(b=l.customTypes)!==null&&b!==void 0?b:null,E}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&ve("boolean",this.includeFrozen)&&ve("boolean",this.includeMetaData)&&ve("string",this.nameKeyword,!0)&&ve("string",this.urlKeyword,!0)&&it("string",this.customTypes,!0)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new iQ(fe(fe({},this),{token:this._token})),[4,a.send(l)]):[3,3]:[3,6];case 1:return c=b.sent(),p=c.as(aQ),v=p.channels,g=p.token,this._token=g,this._hasNext=!!g,[4,ou.of(this._iid).upsertChannelsToCache(v)];case 2:return b.sent(),this._isLoading=!1,[2,v];case 3:return[2,[]];case 4:throw be.queryInProgress;case 5:return[3,7];case 6:throw be.invalidParameters;case 7:return[2]}})})},s}(Hc),oQ=function(u){function s(){var a=u!==null&&u.apply(this,arguments)||this;return a.name="openChannel",a}return Y(s,u),s.prototype.init=function(a,l){var c=l.sdkState,p=l.dispatcher,v=l.sessionManager,g=l.requestQueue,b=l.logger,E=l.onlineDetector,x=l.cacheContext;u.prototype.init.call(this,a,{sdkState:c,dispatcher:p,sessionManager:v,requestQueue:g,logger:b,onlineDetector:E,cacheContext:x}),this._manager=new ou(a,{sdkState:c,dispatcher:p,requestQueue:g})},s.prototype.createOpenChannelListQuery=function(a){return a===void 0&&(a={}),new sQ(this._iid,a)},s.prototype.addOpenChannelHandler=function(a,l){this._manager.addHandler(a,l)},s.prototype.removeOpenChannelHandler=function(a){this._manager.removeHandler(a)},s.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},s.prototype.buildOpenChannelFromSerializedData=function(a){return this._manager.buildOpenChannelFromSerializedData(a)},s.prototype.getChannel=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return[2,this._manager.getChannel(a)]})})},s.prototype.getChannelWithoutCache=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){return[2,this._manager.getChannelWithoutCache(a)]})})},s.prototype.createChannel=function(a){return a===void 0&&(a={}),q(this,void 0,void 0,function(){return B(this,function(l){return[2,this._manager.createChannel(a)]})})},s.prototype.createChannelWithOperatorUserIds=function(a,l,c,p,v){return q(this,void 0,void 0,function(){var g;return B(this,function(b){return(g=fe({},Yk)).name=a,g.coverUrlOrImage=l,g.data=c,g.operatorUserIds=p,g.customType=v,[2,this._manager.createChannel(g)]})})},s}(yk),tT="LIVE_EVENT_MANAGER",lQ=function(){function u(s){var a=this;h(this,u),this._liveEvents=[],this._ctx=s,this._ctx.sb.openChannel.addOpenChannelHandler(tT,new rQ({onUserBanned:function(c,p){if(p.userId===a._ctx.sb.currentUser.userId){var v=a._liveEvents.find(function(g){var b;return((b=g.openChannel)===null||b===void 0?void 0:b.url)===c.url});v&&v.onDisconnected()}}}))}return m(u,[{key:"createLiveEvent",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g,b;return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return p=Ot.createLiveEvent(j_.SINGLE_HOST,c.userIdsForHost?[].concat(W(c.userIdsForHost),[this.userId]):[this.userId],c.title,c.coverUrl,c.coverFile,c.customItems),x.next=3,this._ctx.commandRouter.send(p);case 3:return v=x.sent,g=v.payload.liveEvent,b=new Db({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:g}),x.prev=6,x.next=9,b.fetchOpenChannel();case 9:x.next=14;break;case 11:x.prev=11,x.t0=x.catch(6),dn.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(b),x.abrupt("return",b);case 16:case"end":return x.stop()}},l,this,[[6,11]])}));function a(l){return s.apply(this,arguments)}return a}()},{key:"getLiveEvent",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return p=Ot.createGetLiveEvent(c),E.next=3,this._ctx.commandRouter.send(p);case 3:return v=E.sent,g=v.payload.liveEvent,E.abrupt("return",this.deserializeLiveEvent(g));case 6:case"end":return E.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"deserializeLiveEvent",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(p=this._liveEvents.findIndex(function(x){return x.liveEventId===c.liveEventId}),!(p>-1)){E.next=15;break}return v=this._liveEvents[p],v.upsert(c),E.prev=4,E.next=7,v.fetchOpenChannel();case 7:E.next=12;break;case 9:E.prev=9,E.t0=E.catch(4),dn.error("failed to fetch initial open channel");case 12:return E.abrupt("return",v);case 15:return g=new Db({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:c}),E.prev=16,E.next=19,g.fetchOpenChannel();case 19:E.next=24;break;case 21:E.prev=21,E.t1=E.catch(16),dn.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(g),E.abrupt("return",g);case 26:case"end":return E.stop()}},l,this,[[4,9],[16,21]])}));function a(l){return s.apply(this,arguments)}return a}()},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(tT);var a=re(this._liveEvents),l;try{for(a.s();!(l=a.n()).done;){var c=l.value;c.teardown()}}catch(p){a.e(p)}finally{a.f()}}}]),u}(),uQ=Fo,cQ=Fi,dQ=Es,hQ=Ho,pQ=TypeError,rT=function(u){return function(s,a,l,c){uQ(a);var p=cQ(s),v=dQ(p),g=hQ(p),b=u?g-1:0,E=u?-1:1;if(l<2)for(;;){if(b in v){c=v[b],b+=E;break}if(b+=E,u?b<0:g<=b)throw pQ("Reduce of empty array with no initial value")}for(;u?b>=0:g>b;b+=E)b in v&&(c=a(c,v[b],b,p));return c}},fQ={left:rT(!1),right:rT(!0)},vQ=Gt,mQ=fQ.left,gQ=V_,iT=Zn,_Q=t0,bQ=gQ("reduce"),yQ=!_Q&&iT>79&&iT<83;vQ({target:"Array",proto:!0,forced:!bQ||yQ},{reduce:function(s){var a=arguments.length;return mQ(this,s,a,a>1?arguments[1]:void 0)}});var Xs=function(){function u(s,a){h(this,u),this.key=s,this.value=a}return m(u,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(a){return this.value.width===a.value.width&&this.value.height===a.value.height}}]),u}();_(Xs,"_720P",new Xs("_720P",{width:1280,height:720})),_(Xs,"_540P",new Xs("_540P",{width:960,height:540})),_(Xs,"_480P",new Xs("_480P",{width:848,height:480})),_(Xs,"_360P",new Xs("_360P",{width:640,height:360}));var aT=24,sT=Xs._720P,EQ=function(u){y(a,u);var s=P(a);function a(l,c){var p;return h(this,a),p=s.call(this),_($(p),"hasPermission",!1),p._streamManger=l,p.constraints=c,p}return m(a,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var c;this.removeAllEventListeners(),(c=this.onDisposed)===null||c===void 0||c.call(this)}},{key:"streamChanged",value:function(c){this._dispatchEvent("streamChanged",c)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),a}(Go),wQ=Fr,CQ=$I,xQ=Si,SQ=Ff,ay=Za,IQ=er,kQ=dh,TQ=FI,oT=qI;CQ("match",function(u,s,a){return[function(c){var p=IQ(this),v=c==null?void 0:kQ(c,u);return v?wQ(v,c,p):new RegExp(c)[u](ay(p))},function(l){var c=xQ(this),p=ay(l),v=a(s,c,p);if(v.done)return v.value;if(!c.global)return oT(c,p);var g=c.unicode;c.lastIndex=0;for(var b=[],E=0,x;(x=oT(c,p))!==null;){var D=ay(x[0]);b[E]=D,D===""&&(c.lastIndex=TQ(p,SQ(c.lastIndex),g)),E++}return E===0?null:b}]});var lT=kt,NQ=Ke,OQ=Hn,AQ=Za,RQ=WI.trim,uT=VI,jh=lT.parseInt,cT=lT.Symbol,dT=cT&&cT.iterator,hT=/^[+-]?0x/i,MQ=OQ(hT.exec),DQ=jh(uT+"08")!==8||jh(uT+"0x16")!==22||dT&&!NQ(function(){jh(Object(dT))}),UQ=DQ?function(s,a){var l=RQ(AQ(s));return jh(l,a>>>0||(MQ(hT,l)?16:10))}:jh,LQ=Gt,pT=UQ;LQ({global:!0,forced:parseInt!=pT},{parseInt:pT});var sy,Jo,lu,zh,D0,U0,PQ=function(){sy||(sy=new(window.AudioContext||window.webkitAudioContext));var s=sy;Jo=s.createOscillator();var a=s.createMediaStreamDestination(),l=s.createGain();return l.gain.setValueAtTime(0,s.currentTime),Jo.connect(l),l.connect(a),Jo.start(),D0=a.stream.getAudioTracks()[0],a.stream.getAudioTracks()[0]},$Q=function(s){var a=s.width,l=s.height,c=s.frameRate;lu||(lu=document.createElement("canvas")),lu.width=a,lu.height=l,lu.getContext("2d").fillRect(0,0,a,l),zh||(zh=setInterval(function(){lu.getContext("2d").fillRect(0,0,a,l)},1e3));var p=lu.captureStream(c);return U0=p.getVideoTracks()[0],p.getVideoTracks()[0]},fT=function(s,a){a.audio&&s.getAudioTracks().length===0&&s.addTrack(PQ()),a.video&&s.getVideoTracks().length===0&&s.addTrack($Q(i(i({},sT.value),{},{frameRate:aT})))};function vT(){D0&&D0.stop(),U0&&U0.stop(),D0=null,U0=null,zh&&(clearInterval(zh),zh=null),Jo&&(Jo.onended=function(){Jo.disconnect(),Jo=null},Jo.stop())}function oy(u){if(!!u){var s=re(u.getTracks()),a;try{for(s.s();!(a=s.n()).done;){var l=a.value;l.stop()}}catch(c){s.e(c)}finally{s.f()}}}var L0=function(s,a,l){var c=s.match(a);return c&&c.length>=l&&parseInt(c[l],10)},FQ=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var a=window,l=a.navigator;if(l.mozGetUserMedia)s.browser="firefox",s.version=L0(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=L0(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.mediaDevices&&l.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=L0(l.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(window.RTCPeerConnection&&l.userAgent.match(/AppleWebKit\/(\d+)\./))s.browser="safari",s.version=L0(l.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype;else return s.browser="Not a supported browser.",s;return s},mT=FQ().browser==="safari",HQ=function(){function u(s){h(this,u),_(this,"_hasPermission",!1),this._deviceManager=s,this._updateQueued=!1}return m(u,[{key:"updateStream",value:function(){var s=d(regeneratorRuntime.mark(function l(){var c,p,v,g,b,E,x,D,L,G,ie,ae;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!this._updateAt){ee.next=3;break}return this._updateQueued=!0,ee.abrupt("return");case 3:if(c=this._deviceManager.mediaAccesses.some(function(_e){return _e.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(_e){return _e.constraints.video}),!(!c&&!p)){ee.next=9;break}return oy(this.stream),vT(),ee.abrupt("return");case 9:return this._updateAt=Date.now(),v=this.stream,v||(g=new MediaStream,fT(g,{audio:c,video:p}),this.stream=g),mT&&oy(v),ee.prev=13,ee.next=16,this._deviceManager.getMediaConstraints({usingAudio:c,usingVideo:p});case 16:return E=ee.sent,ee.next=19,navigator.mediaDevices.getUserMedia(E);case 19:b=ee.sent,this._hasPermission=!0,x=re(this._deviceManager.mediaAccesses);try{for(x.s();!(D=x.n()).done;)L=D.value,L.hasPermission=!0}catch(_e){x.e(_e)}finally{x.f()}vT(),ee.next=29;break;case 26:ee.prev=26,ee.t0=ee.catch(13),b=new MediaStream;case 29:fT(b,{audio:c,video:p}),mT||oy(v),this.stream=b,G=re(this._deviceManager.mediaAccesses);try{for(G.s();!(ie=G.n()).done;)ae=ie.value,ae.streamChanged(this.stream)}catch(_e){G.e(_e)}finally{G.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:c,video:p},!0);case 36:case"end":return ee.stop()}},l,this,[[13,26]])}));function a(){return s.apply(this,arguments)}return a}()}]),u}();function gT(u,s){return(u==null?void 0:u.deviceId)===(s==null?void 0:s.deviceId)&&(u==null?void 0:u.label)===(s==null?void 0:s.label)&&(u==null?void 0:u.groupId)===(s==null?void 0:s.groupId)}function qQ(u,s){if(u.length!==s.length)return!1;for(var a=0;a<s.length;a++)if(!gT(u[a],s[a]))return!1;return!0}var BQ=function(){function u(){var s=this;h(this,u),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new HQ(this),navigator.mediaDevices.ondevicechange=function(){return s._onDeviceChanged()}}return m(u,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(a){return a.constraints.audio}),video:this.mediaAccesses.some(function(a){return a.constraints.video})})}},{key:"addSendBirdCallListener",value:function(a,l){this._sendbirdCallListeners.set(a,l)}},{key:"removeSendBirdCallListener",value:function(a){this._sendbirdCallListeners.delete(a)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"_updateStream",value:function(){var s=d(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",this._streamManager.updateStream());case 1:case"end":return p.stop()}},l,this)}));function a(){return s.apply(this,arguments)}return a}()},{key:"_registerMediaAccess",value:function(a){var l=this;this.mediaAccesses.push(a),a.onDisposed=function(){return l.stopMedia(a)}}},{key:"useMedia",value:function(a){if(!a.audio&&!a.video){dn.error(new Error("you should set true for at least 1 media type."));return}var l=new EQ(this._streamManager,a);return this._registerMediaAccess(l),this._updateStream(),l}},{key:"stopMedia",value:function(a){this.mediaAccesses.splice(this.mediaAccesses.indexOf(a),1),this._updateStream()}},{key:"fetchMediaDevices",value:function(){var s=d(regeneratorRuntime.mark(function l(){var c;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,navigator.mediaDevices.enumerateDevices();case 2:return c=v.sent,v.abrupt("return",c.reduce(function(g,b){return g[b.kind].push(b),g},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return v.stop()}},l)}));function a(){return s.apply(this,arguments)}return a}()},{key:"getMediaConstraints",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g,b,E,x,D,L;return regeneratorRuntime.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return p=c.usingAudio,v=c.usingVideo,g={audio:!1,video:!1},ie.next=4,this.fetchMediaDevices();case 4:return b=ie.sent,E=b.audioinput,x=b.videoinput,p&&E.length&&(D=this.getCurrentAudioInputDevice(),g.audio={deviceId:D==null?void 0:D.deviceId}),v&&x.length&&(L=this.getCurrentVideoInputDevice(),g.video=i(i({deviceId:L==null?void 0:L.deviceId},sT.value),{},{frameRate:aT})),ie.abrupt("return",g);case 10:case"end":return ie.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_updateCurrentMediaDevice",value:function(a,l){var c=this._availableMediaDevices[a],p=this._currentMediaDevices[a],v=c.find(function(b){return b.deviceId===(l==null?void 0:l.deviceId)});if(!v){var g;dn.warning("Selected device is unavailable. fallback to default device."),v=((g=v)!==null&&g!==void 0?g:c.length>0)?c[0]:null}return this._currentMediaDevices[a]=v,!gT(p,v)}},{key:"_onAudioOutputChanged",value:function(){var a=re(this.mediaAccesses),l;try{for(a.s();!(l=a.n()).done;){var c=l.value;c.constraints.audio&&c.audioOutputChanged()}}catch(p){a.e(p)}finally{a.f()}}},{key:"selectDevice",value:function(a,l){if(l.kind!==a){dn.error(new Error("Tried to select invalid device of type"));return}this._updateCurrentMediaDevice(a,l)&&((a==="audioinput"||a==="videoinput")&&this._updateStream(),a==="audiooutput"&&this._onAudioOutputChanged())}},{key:"_updateAvailableDevices",value:function(a,l){var c,p,v,g=this._currentMediaDevices[a],b=this._availableMediaDevices[a],E=!qQ(b,l);if(!E)return!1;var x=!1;this._availableMediaDevices[a]=l,x=this._updateCurrentMediaDevice(a,g);var D=re(this._sendbirdCallListeners.values()),L;try{for(D.s();!(L=D.n()).done;){var G=L.value,ie=this._currentMediaDevices[a];switch(a){case"audioinput":(c=G.onAudioInputDeviceChanged)===null||c===void 0||c.call(G,ie,l);break;case"audiooutput":(p=G.onAudioOutputDeviceChanged)===null||p===void 0||p.call(G,ie,l);break;case"videoinput":(v=G.onVideoInputDeviceChanged)===null||v===void 0||v.call(G,ie,l);break;default:}}}catch(ae){D.e(ae)}finally{D.f()}return x}},{key:"refreshMediaDevices",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g,b,E,x,D,L,G,ie=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(p=c.audio,v=c.video,g=ie.length>1&&ie[1]!==void 0?ie[1]:!1,!(!p&&!v)){te.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return te.next=6,this.fetchMediaDevices();case 6:b=te.sent,E=b.audioinput,x=b.audiooutput,D=b.videoinput,L=!1,G=!1,p&&(L=this._updateAvailableDevices("audioinput",E),G=this._updateAvailableDevices("audiooutput",x)),v&&(L=this._updateAvailableDevices("videoinput",D)||L),!g&&L&&this._updateStream(),G&&this._onAudioOutputChanged();case 16:case"end":return te.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()}]),u}(),GQ="live-js",jQ="v1.0.0-beta.3",zQ="index.js",VQ="https://github.com/sendbird/live-js.git",KQ="Junyoung Lim <junyoung.lim@sendbird.com>",WQ="MIT",QQ={"@babel/preset-env":"^7.18.2","@babel/preset-typescript":"^7.17.12","@microsoft/api-extractor":"^7.28.4","@rollup/plugin-babel":"^5.3.1","@rollup/plugin-commonjs":"^22.0.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.3.0","@rollup/plugin-replace":"^4.0.0","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.21.0","@typescript-eslint/parser":"^5.21.0","babel-plugin-module-resolver":"^4.1.0",eslint:"^8.14.0","eslint-import-resolver-typescript":"^2.7.1",husky:"^7.0.0",jest:"^28.0.2","lint-staged":">=10",rollup:"^2.70.2","rollup-plugin-copy":"^3.4.0","rollup-plugin-eslint":"^7.0.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-progress":"^1.1.2","rollup-plugin-uglify":"^6.0.4","typedoc-plugin-missing-exports":"^0.23.0",typescript:"^4.6.3"},YQ={prepare:"husky install","compile-type":"tsc","type-check":"tsc --noEmit",prebuild:"npm run type-check",build:"rollup -c","build:dev":"NODE_ENV=development npm run build --","build:staging":"NODE_ENV=staging npm run build --","build:prod":"NODE_ENV=production npm run build --","build:watch":"rollup -c --watch",docs:"typedoc src/sendbirdLiveMain.ts"},XQ={"@sendbird/chat":"^4.0.6","core-js":"3","node-fetch":"^3.2.10",typedoc:"^0.23.7",uuid:"^8.3.2"},_T={name:GQ,version:jQ,main:zQ,repository:VQ,author:KQ,license:WQ,devDependencies:QQ,scripts:YQ,"lint-staged":{"*.{js,ts}":"eslint --cache --fix"},dependencies:XQ},JQ=function(){function u(s){h(this,u),this._parse=s}return m(u,[{key:"parseToJson",value:function(a){try{return JSON.parse(a)}catch{return{}}}},{key:"validate",value:function(a){var l=a.cmd,c=a.request_id,p=a.call_type;return!(!c&&!l&&!p)}},{key:"parseCommand",value:function(a){if(a.error){var l={requestId:a.request_id,message:a.message,code:a.code};return{isValid:!0,error:l}}return{isValid:!0,command:this._parse(a)}}},{key:"parse",value:function(a){var l=this.parseToJson(a),c=this.validate(l);return c?this.parseCommand(l):{isValid:!1}}}]),u}(),ZQ=function(u){y(a,u);var s=P(a);function a(l){var c,p;return h(this,a),p=s.call(this),p._ctx=l,p._ws=null,p._retryTimer=null,p._closed=!0,p._sessionKey=null,p._requestMap=new rk(p._getTimeoutTime()),p._messageParser=new JQ(p._ctx.parse),p._hostUrl=(c=p._ctx.websocketHost)!==null&&c!==void 0?c:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",p._ctx.appId),p}return m(a,[{key:"connect",value:function(){var c=this;return new Promise(function(p,v){c._sessionKey||v(new Error("tried to connect to websocket server without auth")),c._ws=c._createWebSocket(),c._closed=!1,c._ws.onopen=function(){c._onOpen(),p(null)},c._ws.onmessage=function(g){var b=c._messageParser.parse(g.data),E=b.isValid,x=b.error,D=b.command;if(!!E){if(x){c._processError(x);return}c.processCommand(D)}},c._ws.onerror=function(g){return c._onError(g)},c._ws.onclose=function(){c._onClose(),v(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(c){var p=c.requestId;c.code;var v=c.message,g=this._requestMap.unregister(p);!g||g.reject(new Error(v))}},{key:"processCommand",value:function(c){this._dispatchEvent("command",c)}},{key:"setSessionKey",value:function(c){this._sessionKey=c}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){!this._ws||(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return this._ws?this._ws.readyState===1:!1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(c){}},{key:"_onClose",value:function(){this._startToReconnect()}},{key:"_createWebSocket",value:function(){var c="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+c)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(_T.version)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){this._removeRetryTimer(),this.connect().catch(function(){})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),a}(Go),eY=function(){function u(s){var a;h(this,u),this._ctx=s,this._fetch=function(){var l;return(l=window).fetch.apply(l,arguments)},this._sessionKey=null,this._hostUrl=(a=this._ctx.apiHost)!==null&&a!==void 0?a:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}return m(u,[{key:"setSessionKey",value:function(a){this._sessionKey=a}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:function(){var s=d(regeneratorRuntime.mark(function l(c){var p,v,g,b,E,x;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(c.getApiOption){L.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(c)));case 2:if(p=c.getApiOption(),!(p.auth&&!this._sessionKey)){L.next=5;break}throw new Error("tried to call private api without auth");case 5:return v=i({},p.headers),p.body instanceof FormData||(v["Content-Type"]="application/json"),v.SendBird="JS,".concat(this._getOsVersion(),",").concat(_T.version),v["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(v["SBCall-Session-Token"]=this._sessionKey),L.next=12,this._fetch("".concat(this._getHost()).concat(p.path),{method:p.method,body:p.body instanceof FormData?p.body:JSON.stringify(p.body),headers:v});case 12:return g=L.sent,L.next=15,g.text();case 15:b=L.sent,E=null,L.prev=17,E=JSON.parse(b),L.next=24;break;case 21:throw L.prev=21,L.t0=L.catch(17),new Error("malformed data");case 24:if(g.ok){L.next=34;break}if(!E.error){L.next=29;break}throw new Error("server error");case 29:if(g.status!==500){L.next=31;break}throw new Error("internal server error");case 31:if(!(g.status>=300&&g.status<400)){L.next=33;break}throw new Error("malformed data");case 33:throw new Error("request failed");case 34:if(L.prev=34,x=this._ctx.parseResponse(c,E),!x){L.next=38;break}return L.abrupt("return",x);case 38:L.next=43;break;case 40:return L.prev=40,L.t1=L.catch(34),L.abrupt("return",E);case 43:return L.abrupt("return",E);case 44:case"end":return L.stop()}},l,this,[[17,21],[34,40]])}));function a(l){return s.apply(this,arguments)}return a}()},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),u}(),Gi,ly,va,uy;(function(u){u.SUCCESS="success",u.PENDING="pending",u.ERROR="error"})(Gi||(Gi={})),function(u){u.DEFAULT="default",u.ALL="all",u.MENTION_ONLY="mention_only",u.OFF="off"}(ly||(ly={})),function(u){u.FCM="gcm",u.APNS="apns",u.UNKNOWN="unknown"}(va||(va={})),function(u){u.ALTERNATIVE="alternative",u.DEFAULT="default"}(uy||(uy={}));var Zo,bT,yT,nY="GroupChannel",tY="url",rY="Message",iY="messageId";(function(u){u.LATEST_LAST_MESSAGE="latest_last_message",u.CHRONOLOGICAL="chronological",u.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",u.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Zo||(Zo={})),function(u){u.CHRONOLOGICAL="chronological",u.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",u.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(bT||(bT={})),function(u){u.CREATED_AT="created_at",u.SCHEDULED_AT="scheduled_at"}(yT||(yT={}));var Nr,cy=function(u){switch(u){case Zo.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Zo.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Zo.CHANNEL_NAME_ALPHABETICAL:return["name"]}},P0=function(){function u(){this.messageTypeFilter=ha.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=pa.NONE}return u.prototype.clone=function(){var s=new u,a=JSON.parse(JSON.stringify(this));return Object.keys(a).forEach(function(l){s[l]=a[l]}),s},u.prototype.match=function(s){switch(this.messageTypeFilter){case ha.USER:if(s.messageType!==zt.USER)return!1;break;case ha.FILE:if(s.messageType!==zt.FILE)return!1;break;case ha.ADMIN:if(s.messageType!==zt.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(s.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(s instanceof Ts)||!this.senderUserIdsFilter.includes(s.sender.userId)))return!1;switch(this.replyType){case pa.NONE:if(s.parentMessageId>0)return!1;break;case pa.ONLY_REPLY_TO_CHANNEL:if(s instanceof Ts&&s.parentMessageId>0&&!s.replyToChannel)return!1}return!0},u}();(function(u){u.CHANNEL_LATEST="channel_latest",u.NEWEST_CHILD_MESSAGE="newest_child_message"})(Nr||(Nr={}));var dy,Js=function(u){switch(u){case Nr.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Nr.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}};fe(fe({},Mk),{scheduledAt:null}),fe(fe({},Jb),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var aY="UnsentMessage",sY="reqId",ET={},wT=function(u){function s(a,l){var c=l.sdkState,p=l.cacheContext,v=u.call(this,a)||this;return v._sdkState=c,v._cacheContext=p,ET[a]=v,v}return Y(s,u),s.of=function(a){return ET[a]},Object.defineProperty(s.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a&&a.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),s.prototype._serialize=function(a){if(a.messageId>0)throw be.invalidParameters;var l,c=fe({},a.serialize());return a instanceof jr?(a.messageParams&&(c.messageParams=Rk(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(c.scheduledInfo.scheduledMessageParams=(l=a.scheduledInfo.scheduledMessageParams,fe(fe({},Rk(l)),{scheduledAt:l.scheduledAt})))):a instanceof kr&&(a.messageParams&&(c.messageParams=Dk(a.messageParams)),a.scheduledInfo&&a.scheduledInfo.scheduledMessageParams&&(c.scheduledInfo.scheduledMessageParams=function(p){return fe(fe({},Dk(p)),{scheduledAt:p.scheduledAt})}(a.scheduledInfo.scheduledMessageParams))),c},s.prototype._deserialize=function(a){return a?(a=fe(fe({},a),{messageId:parseInt(a.messageId)}),Bi.of(this._iid).buildMessageFromSerializedData(a)):null},s.prototype.get=function(a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(l=c.sent())return[2,this._deserialize(l)];c.label=2;case 2:return[2,null]}})})},s.prototype.fetch=function(a){var l=a.channelUrl,c=l===void 0?null:l,p=a.filter,v=p===void 0?new P0:p,g=a.order,b=g===void 0?Nr.CHANNEL_LATEST:g,E=a.sendingStatus,x=E===void 0?null:E,D=a.backward,L=D!==void 0&&D,G=a.parentMessageId,ie=G===void 0?null:G;return q(this,void 0,void 0,function(){var ae,te,ee,_e,Re=this;return B(this,function(Le){switch(Le.label){case 0:return this.localCacheEnabled?(ae=Js(b),te={"/where":function(hn){return!!(b!==Nr.NEWEST_CHILD_MESSAGE||ie&&hn.parentMessageId!==0&&hn.parentMessageId===ie)&&v.match(Re._deserialize(hn))}},c&&(te.channelUrl=c),x&&(te.sendingStatus=x),ee={where:te,index:ae,backward:L},[4,this.collection.query(ee)]):[3,3];case 1:return[4,Le.sent().fetch({})];case 2:return _e=Le.sent(),[2,Promise.all(_e.map(function(hn){return q(Re,void 0,void 0,function(){var xn,Xn,zn,zi,dt,to;return B(this,function(Vi){switch(Vi.label){case 0:return xn=Bi.of(this._iid),Xn=this._deserialize(hn),(zn=hn.messageParams)?Xn instanceof jr?(Xn.messageParams=xn.buildUserMessageCreateParamsFromSerializedData(zn,Xn),[3,4]):[3,1]:[3,4];case 1:return Xn instanceof kr?zn.fileKey&&typeof zn.fileKey=="string"&&ny(zn.fileType)?(zi=zn,[4,this.collection.getBlob(zn.fileKey)]):[3,3]:[3,4];case 2:zi.file=Vi.sent(),Vi.label=3;case 3:Xn.messageParams=xn.buildFileMessageCreateParamsFromSerializedData(zn,Xn),Vi.label=4;case 4:return Xn.scheduledInfo&&hn.scheduledInfo&&hn.scheduledInfo.scheduledMessageParams?Xn instanceof jr?(dt=hn.scheduledInfo.scheduledMessageParams,Xn.scheduledInfo.scheduledMessageParams=xn.buildScheduledUserMessageCreateParamsFromSerializedData(dt,Xn),[3,8]):[3,5]:[3,8];case 5:return Xn instanceof kr?(dt=hn.scheduledInfo.scheduledMessageParams).fileKey&&typeof dt.fileKey=="string"&&ny(dt.fileType)?(to=dt,[4,this.collection.getBlob(dt.fileKey)]):[3,7]:[3,8];case 6:to.file=Vi.sent(),Vi.label=7;case 7:Xn.scheduledInfo.scheduledMessageParams=xn.buildScheduledFileMessageCreateParamsFromSerializedData(dt,Xn),Vi.label=8;case 8:return[2,Xn]}})})}))];case 3:return[2,[]]}})})},s.prototype.getAllChildMessages=function(a,l){return l===void 0&&(l=new P0),q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return[4,this.fetch({filter:l,order:Nr.NEWEST_CHILD_MESSAGE,channelUrl:a.channelUrl,backward:!1,parentMessageId:a.messageId})];case 1:return[2,c.sent()]}})})},s.prototype.upsert=function(a){return q(this,void 0,void 0,function(){var l,c=this;return B(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,3];case 1:return p.sent(),l=a.map(function(v){return c._serialize(v)}),[4,this.collection.upsertMany(l)];case 2:p.sent(),p.label=3;case 3:return[2]}})})},s.prototype.upsertChildMessages=function(a){return q(this,void 0,void 0,function(){var l=this;return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(p){return q(l,void 0,void 0,function(){var v,g;return B(this,function(b){switch(b.label){case 0:return v=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:v=b.sent(),b.label=2;case 2:return v.length>0?(v.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(v)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},s.prototype.remove=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),l=Pn(a),c=l.next(),E.label=2;case 2:return c.done?[3,5]:(p=c.value,[4,this.collection.remove(p)]);case 3:E.sent(),E.label=4;case 4:return c=l.next(),[3,2];case 5:return[3,8];case 6:return v=E.sent(),g={error:v},[3,8];case 7:try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},s.prototype.removeMessagesOfChannel=function(a){return q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a}})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},s.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},s.prototype.saveBlobs=function(a){return q(this,void 0,void 0,function(){var l=this;return B(this,function(c){switch(c.label){case 0:return[4,Promise.all(a.map(function(p){return q(l,void 0,void 0,function(){var v,g,b;return B(this,function(E){switch(E.label){case 0:return p instanceof kr?p.messageParams&&(v=p.messageParams).file&&ey(v.file)?[4,this.collection.saveBlob(v.file,p.reqId)]:[3,2]:[3,4];case 1:b=E.sent(),v.fileKey=b,v.fileType=qc.BLOB,E.label=2;case 2:return p.scheduledInfo&&p.scheduledInfo.scheduledMessageParams&&(g=p.scheduledInfo.scheduledMessageParams).file&&ey(g.file)?[4,this.collection.saveBlob(g.file,p.reqId)]:[3,4];case 3:b=E.sent(),g.fileKey=b,g.fileType=qc.BLOB,E.label=4;case 4:return[2]}})})}))];case 1:return c.sent(),[2]}})})},s}(Qs),CT={},oY=function(u){function s(a,l){var c=l.sdkState,p=l.cacheContext,v=l.unsentMessageCache,g=u.call(this,a)||this;return g._sdkState=c,g._cacheContext=p,g._unsentMessageCache=v,CT[a]=g,g}return Y(s,u),s.of=function(a){return CT[a]},Object.defineProperty(s.prototype,"collection",{get:function(){var a=this._cacheContext.nestdb;return a?a.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),s.prototype._serialize=function(a){return fe(fe({},a.serialize()),{messageId:"".concat(a.messageId)})},s.prototype._deserialize=function(a){return a=fe(fe({},a),{messageId:parseInt(a.messageId)}),Bi.of(this._iid).buildMessageFromSerializedData(a)},s.prototype.get=function(a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(a))]:[3,2];case 1:if(l=c.sent())return[2,this._deserialize(l)];c.label=2;case 2:return[2,null]}})})},s.prototype.fetch=function(a){var l=a.channelUrl,c=a.token,p=a.limit,v=p===void 0?100:p,g=a.filter,b=g===void 0?new P0:g,E=a.order,x=E===void 0?Nr.CHANNEL_LATEST:E,D=a.backward,L=D!==void 0&&D,G=a.parentMessageId,ie=G===void 0?null:G;return q(this,void 0,void 0,function(){var ae,te,ee,_e=this;return B(this,function(Re){switch(Re.label){case 0:return this.localCacheEnabled?(ae=Js(x),te={where:{channelUrl:l,"/where":function(Le){if(c)switch(x){case Nr.CHANNEL_LATEST:if(!L&&Le.createdAt>c||L&&Le.createdAt<c)return!1;break;case Nr.NEWEST_CHILD_MESSAGE:if(!ie||Le.parentMessageId===0||Le.parentMessageId!==ie)return!1}return b.match(_e._deserialize(Le))}},index:ae,backward:L},[4,this.collection.query(te)]):[3,3];case 1:return[4,Re.sent().fetch({limit:v})];case 2:return ee=Re.sent(),[2,Promise.all(ee.map(function(Le){return q(_e,void 0,void 0,function(){var hn,xn,Xn;return B(this,function(zn){switch(zn.label){case 0:return hn=this._deserialize(Le),(xn=Le.messageParams)?hn instanceof jr?(hn.messageParams=xn,[3,4]):[3,1]:[3,4];case 1:return hn instanceof kr?xn.fileKey&&typeof xn.fileKey=="string"&&ny(xn.fileType)?(Xn=xn,[4,this.collection.getBlob(xn.fileKey)]):[3,3]:[3,4];case 2:Xn.file=zn.sent(),zn.label=3;case 3:hn.messageParams=xn,zn.label=4;case 4:return[2,hn]}})})}))];case 3:return[2,[]]}})})},s.prototype.getAllChildMessages=function(a,l){return l===void 0&&(l=new P0),q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return[4,this.fetch({channelUrl:a.channelUrl,token:Date.now(),limit:null,backward:!1,filter:l,order:Nr.NEWEST_CHILD_MESSAGE,parentMessageId:a.messageId})];case 1:return[2,c.sent()]}})})},s.prototype.upsert=function(a){return q(this,void 0,void 0,function(){var l,c=this;return B(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(a)]:[3,5];case 1:return p.sent(),l=a.map(function(v){return c._serialize(v)}),[4,this.collection.upsertMany(l)];case 2:return p.sent(),[4,this.upsertChildMessages(a)];case 3:return p.sent(),[4,this._unsentMessageCache.upsertChildMessages(a)];case 4:p.sent(),p.label=5;case 5:return[2]}})})},s.prototype.upsertChildMessages=function(a){return q(this,void 0,void 0,function(){var l=this;return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,Promise.all(a.map(function(p){return q(l,void 0,void 0,function(){var v,g;return B(this,function(b){switch(b.label){case 0:return v=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:v=b.sent(),b.label=2;case 2:return v.length>0?(v.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(v)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},s.prototype.remove=function(a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),l=Pn(a),c=l.next(),E.label=2;case 2:return c.done?[3,5]:(p=c.value,[4,this.collection.remove("".concat(p))]);case 3:E.sent(),E.label=4;case 4:return c=l.next(),[3,2];case 5:return[3,8];case 6:return v=E.sent(),g={error:v},[3,8];case 7:try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},s.prototype.removeMessagesOfChannel=function(a){return q(this,void 0,void 0,function(){var l;return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a},index:Js(Nr.CHANNEL_LATEST)})]:[3,6];case 1:return c.sent(),[4,(l=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync"))];case 2:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/sync.meta"))];case 3:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs"))];case 4:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(a,"/message/changelogs.meta"))];case 5:c.sent(),c.label=6;case 6:return[2]}})})},s.prototype.removeUnderOffset=function(a,l){return q(this,void 0,void 0,function(){return B(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:a,createdAt:{"<":l}},index:Js(Nr.CHANNEL_LATEST)})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},s.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},s.prototype.countBetween=function(a,l,c){return q(this,void 0,void 0,function(){var p,v=this;return B(this,function(g){switch(g.label){case 0:return this.localCacheEnabled?(p=Js(Nr.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:a,"/where":function(b){var E=v._deserialize(b);return c.includes(E.createdAt)&&l.match(E)}},index:p}).count()]):[3,2];case 1:return[2,g.sent()];case 2:return[2,0]}})})},s.prototype.saveBlobs=function(a){return q(this,void 0,void 0,function(){var l=this;return B(this,function(c){switch(c.label){case 0:return[4,Promise.all(a.map(function(p){return q(l,void 0,void 0,function(){var v,g;return B(this,function(b){switch(b.label){case 0:return p instanceof kr&&p.messageParams&&(v=p.messageParams).file&&ey(v.file)?[4,this.collection.saveBlob(v.file,p.reqId)]:[3,2];case 1:g=b.sent(),v.fileKey=g,b.label=2;case 2:return[2]}})})}))];case 1:return c.sent(),[2]}})})},s}(Qs),lY=function(u){function s(a){var l=a.message,c=u.call(this)||this;return c.message=l,c}return Y(s,u),s}(Br),hy={},xT=function(){function u(s,a){var l=a.localCacheEnabled,c=a.dispatcher,p=a.sdkState,v=a.logger,g=this;hy[s]=this,this._iid=s,hy[s]=this,this._localCacheEnabled=l,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=c,this._logger=v,this._sdkState=p,this._localCacheEnabled&&c.on(function(b){if(b instanceof Uc)switch(b.stateType){case At.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case At.DISCONNECTED:g._isProcessingAutoResend=!1}})}return u.of=function(s){return hy[s]},u.prototype.processNonAutoResendRegisteredPendingMessages=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:s=g.sent();try{for(a=Pn(s),l=a.next();!l.done;l=a.next())(c=l.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",c.reqId),c.sendingStatus=Pt.FAILED,c.errorCode=jn.ACK_TIMEOUT,this._dispatcher.dispatch(new qi({messages:[c],source:Tr.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{l&&!l.done&&(v=a.return)&&v.call(a)}finally{if(p)throw p.error}}return[2]}})})},u.prototype.processAutoResendRegisteredPendingMessages=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:s=E.sent();try{for(a=Pn(s),l=a.next();!l.done;l=a.next())(c=l.value).errorCode&&C0(c.errorCode)&&(p=new Date().getTime(),v=c.createdAt+2592e5,p<=v?this._autoResendQueue.map(function(x){return x.reqId}).indexOf(c.reqId)<0&&this._autoResendQueue.push(c):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(v).toLocaleString()),c.sendingStatus=Pt.FAILED,this._dispatcher.dispatch(new qi({messages:[c],source:Tr.LOCAL_MESSAGE_FAILED}))))}catch(x){g={error:x}}finally{try{l&&!l.done&&(b=a.return)&&b.call(a)}finally{if(g)throw g.error}}return[2]}})})},u.prototype.completeCurrentAndProcessNextAutoResend=function(s){if(this._localCacheEnabled&&(s.sendingStatus===Pt.SUCCEEDED||s.sendingStatus===Pt.FAILED&&!C0(s.errorCode))){var a=this.indexOf(s);a>=0&&this._autoResendQueue.splice(a,1),a===0&&this._processNextAutoResend()}},u.prototype._fetchAllCachedPendingMessages=function(){return q(this,void 0,void 0,function(){var s,a;return B(this,function(l){switch(l.label){case 0:return(s=wT.of(this._iid))?[4,s.fetch({sendingStatus:Pt.PENDING,backward:!0})]:[3,2];case 1:return a=l.sent(),[3,3];case 2:a=[],l.label=3;case 3:return[2,a]}})})},u.prototype.indexOf=function(s){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(a){return a.reqId}).indexOf(s.reqId):-1},u.prototype._isNotInQueue=function(s){return this._autoResendQueue.map(function(a){return a.reqId}).indexOf(s.reqId)===-1},u.prototype._processNextAutoResend=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),s=this._autoResendQueue[0],this._dispatcher.dispatch(new lY({message:s})),this._logger.debug("processing auto-resend for message request id: ",s.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(l){this._logger.warn("process auto-resend error: ",l),this._isProcessingAutoResend=!1}return[2]})})},u}();(function(u){u[u.USER_BLOCK=20001]="USER_BLOCK",u[u.USER_UNBLOCK=2e4]="USER_UNBLOCK",u[u.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(dy||(dy={}));var ST=function(){function u(s){this.category=s.cat,this.data=s.data}return u.getDataAsUserBlockEvent=function(s,a){var l=a.data,c=l.blocker,p=l.blockee;return{blocker:new qn(s,c),blockee:new qn(s,p)}},u.getDataAsFriendDiscoveredEvent=function(s,a){var l=a.data.friend_discoveries;return{friendDiscoveries:Array.isArray(l)?l.map(function(c){return new qn(s,c)}):[]}},u}(),uY=function(u){function s(a,l){var c=l.userId,p=u.call(this)||this;return p._iid=a,p.userId=c,p}return Y(s,u),s}(Br),cY=function(u){function s(a,l,c){var p=u.call(this,a,"USEV",c)||this;return p.event=new ST(c),p}return Y(s,u),s}(Ht),dY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return Y(s,u),s}(Qe),hY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.pushTriggerOption=l.push_trigger_option,c}return Y(s,u),s}(Ze),pY=function(u){function s(a){var l=a.userId,c=a.pushTriggerOption,p=u.call(this)||this;return p.method=We.PUT,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),p.params={push_trigger_option:c},p}return Y(s,u),s}(Qe),fY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.pushTriggerOption=l.push_trigger_option,c}return Y(s,u),s}(Ze),vY={profileImage:null,profileUrl:null,nickname:null},mY=function(){this.onSessionExpired=Kn,this.onSessionTokenRequired=function(u){return u(null)},this.onSessionError=Kn,this.onSessionRefreshed=Kn,this.onSessionClosed=Kn},gY=function(){this.onConnected=Kn,this.onReconnectStarted=Kn,this.onReconnectSucceeded=Kn,this.onReconnectFailed=Kn,this.onDisconnected=Kn},_Y=function(){this.onFriendsDiscovered=Kn,this.onTotalUnreadMessageCountUpdated=Kn};(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Qs);var bY=function(u){function s(){var a=u.call(this)||this;return a._pauseDelayTimer=null,a._currentState="visible",a._toggleState=a._toggleState.bind(a),a}return Y(s,u),Object.defineProperty(s.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),s.prototype._toggleState=function(){var a=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){a._pauseDelayTimer=null,a.dispatch("pause")},3e4)),this._currentState=document.visibilityState},s.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},s.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},s}(S0),yY=function(){function u(s){var a=s.logger,l=s.connectionDelegate,c=l===void 0?null:l;this.logger=a,c&&(this.connectionDelegate=c),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(u.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),u.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},u.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},u.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},u.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},u.prototype.isOnline=function(){return q(this,void 0,void 0,function(){return B(this,function(s){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(a,l){fetch("https://www.google.com",{method:We.GET}).then(function(){return a(!0)}).catch(function(){return a(!1)})})]})})},u}(),IT=function(u){function s(a){var l=a.userId,c=a.nickname,p=c===void 0?null:c,v=a.profileUrl,g=v===void 0?null:v,b=a.profileImage,E=b===void 0?null:b,x=a.preferredLanguages,D=x===void 0?null:x,L=u.call(this)||this;return L.method=We.PUT,L.path="".concat(lt,"/").concat(encodeURIComponent(l)),L.params=Ln({nickname:p,profile_url:g,profile_file:E,preferred_languages:D}),L}return Y(s,u),s}(Qe),kT=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.user=null,c.user=new qn(a,fe({},l)),c}return Y(s,u),s}(Ze),EY=function(u){function s(a){var l=a.userId,c=a.token,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/apns"),p.params={apns_device_token:c,always_push:!0},p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.token=l.token,c.type=l.type?va[l.type.toLowerCase()]:va.UNKNOWN,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var wY=function(u){function s(a){var l=a.userId,c=a.token,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/gcm"),p.params={gcm_reg_token:c,always_push:!0},p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.token=l.token,c.type=l.type?va[l.type.toLowerCase()]:va.UNKNOWN,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var CY=function(u){function s(a){var l=a.userId,c=a.token,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/apns/").concat(encodeURIComponent(c)),p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.token=l.token,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var xY=function(u){function s(a){var l=a.userId,c=a.token,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/gcm/").concat(encodeURIComponent(c)),p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.token=l.token,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var SY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.DELETE,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/apns"),c}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.type=l.type?va[l.type.toLowerCase()]:va.UNKNOWN,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var IY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.DELETE,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/gcm"),c}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.type=l.type?va[l.type.toLowerCase()]:va.UNKNOWN,c.user=new qn(a,l.user),c}Y(s,u)})(Ze);var kY=function(u){function s(a){var l=a.userId,c=a.type,p=a.token,v=a.ts,g=u.call(this)||this;return g.method=We.GET,g.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/").concat(encodeURIComponent(c),"/device_tokens"),g.params={created_ts:v,token:p},g}return Y(s,u),s}(Qe),TY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.pushTokens={type:l.type?va[l.type.toLowerCase()]:va.UNKNOWN,deviceTokens:l.device_tokens,hasMore:l.has_more,token:l.token},c}return Y(s,u),s}(Ze),NY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/channel_invitation_preference"),c}return Y(s,u),s}(Qe),OY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.autoAccept=l.auto_accept,c}return Y(s,u),s}(Ze),AY=function(u){function s(a){var l=a.userId,c=a.willAutoAccept,p=u.call(this)||this;return p.method=We.PUT,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/channel_invitation_preference"),p.params={auto_accept:c},p}return Y(s,u),s}(Qe),RY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.autoAccept=l.auto_accept,c}return Y(s,u),s}(Ze),MY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return Y(s,u),s}(Qe),DY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.preference={doNotDisturbOn:l.do_not_disturb,startHour:l.start_hour,startMin:l.start_min,endHour:l.end_hour,endMin:l.end_min,timezone:l.timezone},c}return Y(s,u),s}(Ze),UY=function(u){function s(a){var l=a.userId,c=a.doNotDisturbOn,p=a.startHour,v=a.startMin,g=a.endHour,b=a.endMin,E=a.timezone,x=u.call(this)||this;return x.method=We.PUT,x.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),x.params={do_not_disturb:c,start_hour:p,start_min:v,end_hour:g,end_min:b,timezone:E},x}return Y(s,u),s}(Qe),LY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.preference={doNotDisturbOn:l.do_not_disturb,startHour:l.start_hour,startMin:l.start_min,endHour:l.end_hour,endMin:l.end_min,timezone:l.timezone},c}return Y(s,u),s}(Ze),PY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return Y(s,u),s}(Qe),$Y=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.snoozePeriod={isSnoozeOn:l.snooze_enabled},typeof l.snooze_start_ts=="number"&&(c.snoozePeriod.startTs=l.snooze_start_ts),typeof l.snooze_end_ts=="number"&&(c.snoozePeriod.endTs=l.snooze_end_ts),c}return Y(s,u),s}(Ze),FY=function(u){function s(a){var l=a.userId,c=a.snoozeOn,p=a.startTs,v=a.endTs,g=u.call(this)||this;return g.method=We.PUT,g.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push_preference"),g.params={snooze_enabled:c,snooze_start_ts:p,snooze_end_ts:v},g}return Y(s,u),s}(Qe),HY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.snoozePeriod={isSnoozeOn:l.snooze_enabled},typeof l.snooze_start_ts=="number"&&(c.snoozePeriod.startTs=l.snooze_start_ts),typeof l.snooze_end_ts=="number"&&(c.snoozePeriod.endTs=l.snooze_end_ts),c}return Y(s,u),s}(Ze),qY=function(u){function s(a){var l=a.userId,c=a.blockedUserId,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/block"),p.params={target_id:c},p}return Y(s,u),s}(Qe);(function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.user=new qn(a,l),c}Y(s,u)})(Ze);var BY=function(u){function s(a){var l=a.userId,c=a.unblockedUserId,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/block/").concat(encodeURIComponent(c)),p}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var GY=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/template"),c}return Y(s,u),s}(Qe),jY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.name=l.name,c}return Y(s,u),s}(Ze),zY=function(u){function s(a){var l=a.userId,c=a.templateName,p=u.call(this)||this;return p.method=We.PUT,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/push/template"),p.params={name:c},p}return Y(s,u),s}(Qe),VY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.name=l.name,c}return Y(s,u),s}(Ze),KY=function(u){function s(a){var l=a.userId,c=a.token,p=u.call(this)||this;return p.method=We.GET,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friends/changelogs"),p.params={token:c},p}return Y(s,u),s}(Qe),WY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.changelogs={addedUsers:l.added.map(function(p){return new qn(a,p)}),updatedUsers:l.updated.map(function(p){return new qn(a,p)}),deletedUserIds:l.deleted,hasMore:l.has_more,token:l.next},c}return Y(s,u),s}(Ze),QY=function(u){function s(a){var l=a.userId,c=a.discoveries,p=u.call(this)||this;return p.method=We.PUT,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friend_discoveries"),p.params={friend_discoveries:c.map(function(v){return{friend_discovery_key:v.friendDiscoveryKey,friend_name:v.friendName}})},p}return Y(s,u),s}(Qe),YY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.friendDiscoveryRequestId=l.friend_discovery_request_id,c}return Y(s,u),s}(Ze),XY=function(u){function s(a){var l=a.userId,c=a.discoveryKeys,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friend_discoveries"),p.params={friend_discovery_keys:c},p}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var JY=function(u){function s(a){var l=a.userId,c=a.userIds,p=u.call(this)||this;return p.method=We.POST,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friends"),p.params={user_ids:c},p}return Y(s,u),s}(Qe),ZY=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.users=l.users.map(function(p){return new qn(a,p)}),c}return Y(s,u),s}(Ze),eX=function(u){function s(a){var l=a.userId,c=a.userIds,p=u.call(this)||this;return p.method=We.DELETE,p.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friends"),p.params={user_ids:c},p}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var nX=function(u){function s(a){var l=a.userId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(lt,"/").concat(l,"/allow_friend_discovery"),c.params={},c}return Y(s,u),s}(Qe),tX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.allowFriendDiscovery=l.allow_friend_discovery,c}return Y(s,u),s}(Ze),rX=function(u){function s(a){var l=a.userId,c=a.allowFriendDiscovery,p=u.call(this)||this;return p.method=We.PUT,p.path="".concat(lt,"/").concat(l,"/allow_friend_discovery"),p.params={allow_friend_discovery:c},p}return Y(s,u),s}(Qe);(function(u){function s(){return u!==null&&u.apply(this,arguments)||this}Y(s,u)})(Ze);var Et,TT=function(u){this.key=null,this.url=null,this.key=u.key,this.url=u.url},NT=function(u){var s,a,l;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(s=u.id)!==null&&s!==void 0?s:0,this.name=(a=u.name)!==null&&a!==void 0?a:"",this.url=(l=u.url)!==null&&l!==void 0?l:"",this.emojis=u.emojis?u.emojis.map(function(c){return new TT(c)}):[]},iX=function(u){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=u.emoji_hash||"",this.emojiCategories=u.emoji_categories?u.emoji_categories.map(function(s){return new NT(s)}):[]},aX=function(u){function s(){var a=u.call(this)||this;return a.method=We.GET,a.path=vk,a}return Y(s,u),s}(Qe),sX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.emojiContainer=new iX(l),c}return Y(s,u),s}(Ze),oX=function(u){function s(a){var l=a.categoryId,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(vk,"/").concat(l),c}return Y(s,u),s}(Qe),lX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.emojiCategory=new NT(l),c}return Y(s,u),s}(Ze),uX=function(u){function s(a){var l=a.key,c=u.call(this)||this;return c.method=We.GET,c.path="".concat(nK,"/").concat(l),c}return Y(s,u),s}(Qe),cX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.emoji=new TT(l),c}return Y(s,u),s}(Ze),dX=function(u){function s(a){var l=a.limit,c=a.token,p=a.userIdsFilter,v=a.metaDataKeyFilter,g=a.metaDataValuesFilter,b=a.nicknameStartsWithFilter,E=u.call(this)||this;return E.method=We.GET,E.path=lt,E.params=Ln({limit:l,token:c,user_ids:p,metadatakey:v,metadatavalues_in:g,nickname_startswith:b}),E}return Y(s,u),s}(Qe),hX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.users=l.users.map(function(p){return new qn(a,p)}),c.next=l.next,c}return Y(s,u),s}(Ze),pX=function(u){function s(a,l){var c,p,v,g=this;return(g=u.call(this,a,l)||this).userIdsFilter=null,g.metaDataKeyFilter=null,g.metaDataValuesFilter=null,g.nicknameStartsWithFilter=null,g.userIdsFilter=(c=l.userIdsFilter)!==null&&c!==void 0?c:null,g.metaDataKeyFilter=(p=l.metaDataKeyFilter)!==null&&p!==void 0?p:null,g.metaDataValuesFilter=(v=l.metaDataValuesFilter)!==null&&v!==void 0?v:null,g.nicknameStartsWithFilter=l.nicknameStartsWithFilter||null,g}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&it("string",this.userIdsFilter,!0)&&ve("string",this.metaDataKeyFilter,!0)&&it("string",this.metaDataValuesFilter,!0)&&ve("string",this.metaDataKeyFilter,!0)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid).requestQueue,l=new dX(fe(fe({},this),{token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return c=b.sent(),p=c.as(hX),v=p.users,g=p.next,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Hc),fX=function(u){function s(a){var l=a.userId,c=a.limit,p=a.token,v=a.userIdsFilter,g=u.call(this)||this;return g.method=We.GET,g.path="".concat(lt,"/").concat(l,"/block"),g.params=Ln({limit:c,token:p,user_ids:v}),g}return Y(s,u),s}(Qe),vX=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.users=l.users.map(function(p){return new qn(a,p)}),c.next=l.next,c}return Y(s,u),s}(Ze),mX=function(u){function s(a,l){var c,p=this;return(p=u.call(this,a,l)||this).userIdsFilter=null,p.userIdsFilter=(c=l.userIdsFilter)!==null&&c!==void 0?c:null,p}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)&&it("string",this.userIdsFilter,!0)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new fX(fe(fe({},this),{userId:l.userId,token:this._token})),[4,c.send(p)]):[3,2]:[3,5];case 1:return v=x.sent(),g=v.as(vX),b=g.users,E=g.next,this._token=E,this._hasNext=!!E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Hc),gX=function(u){function s(a){var l=a.userId,c=a.limit,p=a.token,v=u.call(this)||this;return v.method=We.GET,v.path="".concat(lt,"/").concat(encodeURIComponent(l),"/friends"),v.params={limit:c,token:p},v}return Y(s,u),s}(Qe),_X=function(u){function s(a,l){var c=u.call(this,a,l)||this;return c.hasMore=l.has_more,c.users=l.users.map(function(p){return new qn(a,p)}),c.next=l.next,c}return Y(s,u),s}(Ze),bX=function(u){function s(){return u!==null&&u.apply(this,arguments)||this}return Y(s,u),s.prototype._validate=function(){return u.prototype._validate.call(this)},s.prototype.next=function(){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x;return B(this,function(D){switch(D.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new gX(fe(fe({},this),{userId:l.userId,token:this._token})),[4,c.send(p)]):[3,2]:[3,5];case 1:return v=D.sent(),g=v.as(_X),b=g.users,E=g.hasMore,x=g.next,this._token=x,this._hasNext=E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},s}(Hc),$0={},F0=function(){function u(s){var a=s.dbname,l=s.itemSizeLimit,c=l===void 0?1048576:l,p=s.cacheLimit,v=p===void 0?256:p,g=s.blockHashBase,b=g===void 0?2:g,E=s.blockHashMultiplier,x=E===void 0?10:E,D=s.blockHashConstant,L=D===void 0?11:D,G=s.transactionApplyDelay,ie=G===void 0?200:G,ae=s.disableLogger,te=ae!==void 0&&ae;return $0[a]||(this.itemSizeLimit=c,this.cacheLimit=v,this.blockHashBase=b,this.blockHashMultiplier=x,this.blockHashConstant=L,this.transactionApplyDelay=ie,this.disableLogger=te,$0[a]=this),$0[a]}return u.get=function(s){return $0[s]},u}();(function(u){u[u.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",u[u.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",u[u.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",u[u.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",u[u.STORE_IS_FULL=61001003]="STORE_IS_FULL",u[u.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",u[u.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",u[u.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",u[u.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",u[u.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",u[u.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",u[u.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",u[u.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",u[u.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",u[u.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",u[u.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",u[u.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",u[u.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",u[u.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",u[u.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",u[u.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",u[u.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",u[u.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",u[u.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",u[u.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Et||(Et={}));var jc,nt=function(u){function s(a){var l=a.code,c=l===void 0?Et.UNKNOWN_ERROR:l,p=a.message,v=p===void 0?"Unknown error occurred.":p,g=u.call(this,v)||this;return g.code=c,Object.setPrototypeOf(g,s.prototype),g}return Y(s,u),Object.defineProperty(s,"storeNotDefined",{get:function(){return new s({code:Et.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeNotAvailable",{get:function(){return new s({code:Et.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeNotAvailableInPrivateBrowsing",{get:function(){return new s({code:Et.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeIsFull",{get:function(){return new s({code:Et.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeKeyTypeIsInvalid",{get:function(){return new s({code:Et.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeBrokenIntegrity",{get:function(){return new s({code:Et.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeBrokenBlob",{get:function(){return new s({code:Et.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeEncryptionInvalid",{get:function(){return new s({code:Et.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeItemSizeExceeded",{get:function(){return new s({code:Et.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeReadFailed",{get:function(){return new s({code:Et.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"storeWriteFailed",{get:function(){return new s({code:Et.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"databaseSchemaNotOnUpgrade",{get:function(){return new s({code:Et.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionNotReady",{get:function(){return new s({code:Et.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionKeyNotMatch",{get:function(){return new s({code:Et.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionQueryNotValid",{get:function(){return new s({code:Et.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionInsertDuplicate",{get:function(){return new s({code:Et.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionKeyNotFound",{get:function(){return new s({code:Et.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionKeyNotGiven",{get:function(){return new s({code:Et.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionWriteFailed",{get:function(){return new s({code:Et.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"collectionItemSizeExceeded",{get:function(){return new s({code:Et.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"indexTableIsRequired",{get:function(){return new s({code:Et.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"indexTypesNotMatch",{get:function(){return new s({code:Et.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"compareTypesNotMatch",{get:function(){return new s({code:Et.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(s,"circularReferenceFound",{get:function(){return new s({code:Et.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),s}(Error);(function(u){u.INIT="init",u.READY="ready",u.CLOSED="closed"})(jc||(jc={}));var OT,ki=function(u,s){if(s===void 0&&(s=new WeakMap),typeof u=="object"&&u!==null){if(s.has(u))throw nt.circularReferenceFound;s.set(u,!0);var a=null;if(Array.isArray(u))a=u.map(function(c){return ki(c,s)});else if(u instanceof RegExp)a=u;else if(u instanceof Date)a=u;else for(var l in a={},u)a[l]=ki(u[l],s);return s.delete(u),a}return u},Zs=function(u,s){if(s==null)return 1;if(u==null)return-1;if(typeof u!=typeof s)throw nt.compareTypesNotMatch;var a=0;switch(typeof u){case"boolean":case"number":a=u-s;break;case"string":a=u.localeCompare(s)}return a},AT=function(u,s){for(var a=0,l=0;l<u.length;l++)a=u.charCodeAt(l)+(a<<6)+(a<<16)-a;return(a>>>0)%s},zc=function(u){return new Promise(function(s){setTimeout(function(){return s()},u)})},uu=function(u,s){if(!s)return!1;if(typeof u!="function"){for(var a in u)if(["/and","&&"].includes(a)){if(u[a].some(function(b){return!uu(b,s)}))return!1}else if(["/or","||"].includes(a)){if(u[a].every(function(b){return!uu(b,s)}))return!1}else if(a==="/where"){if(!(0,u[a])(s))return!1}else{var l=a;if(typeof u[l]=="object"){var c=u[l];for(var p in c)switch(p){case"/eq":case"=":if((v=s[l])!==(g=c[p]))return!1;break;case"/neq":case"!=":if((v=s[l])===(g=c[p]))return!1;break;case"/gt":case">":var v=s[l],g=c[p];if(!(Zs(v,g)>0))return!1;break;case"/gte":case">=":if(v=s[l],g=c[p],!(Zs(v,g)>=0))return!1;break;case"/lt":case"<":if(v=s[l],g=c[p],!(Zs(v,g)<0))return!1;break;case"/lte":case"<=":if(v=s[l],g=c[p],!(Zs(v,g)<=0))return!1;break;case"/in":if(v=s[l],!(g=c[p]).includes(v))return!1;break;case"/nin":if(v=s[l],(g=c[p]).includes(v))return!1;break;case"/contain":if(v=s[l],g=c[p],!v.includes(g))return!1;break;case"/regex":if(v=s[l],!(g=c[p]).test(v))return!1;break;case"/where":if(v=s[l],!(0,c[p])(v))return!1}}else if(typeof u[l]=="function"){if(!u[l](s[l]))return!1}else if(u[l]!==s[l])return!1}return!0}return u(s)},H0=function(){},RT=function(){return Promise.resolve()},yX=function(u){return u},MT=function(u,s){s(null)};(function(u){u[u.FORWARD=0]="FORWARD",u[u.BACKWARD=1]="BACKWARD"})(OT||(OT={}));var cu,Vr,Ns,EX=function(){function u(s){var a=s.initialPrevValue,l=a===void 0?null:a,c=s.initialNextValue,p=c===void 0?null:c,v=s.iterator,g=s.map,b=g===void 0?yX:g,E=s.backward,x=E===void 0?RT:E,D=s.forward,L=D===void 0?RT:D,G=s.complete,ie=G===void 0?H0:G;this._prevValue=l,this._nextValue=p,this._error=null,this._map=b,this._backward=x,this._forward=L,this._iterator=v,this._complete=ie}return Object.defineProperty(u.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),u.prototype.prev=function(){return q(this,void 0,void 0,function(){var s,a,l;return B(this,function(c){switch(c.label){case 0:if(!this.hasPrevious)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),s=this._prevValue,a=this,[4,this._backward()];case 2:return a._prevValue=c.sent()||null,this._nextValue=s,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},u.prototype.next=function(){return q(this,void 0,void 0,function(){var s,a,l;return B(this,function(c){switch(c.label){case 0:if(!this.hasNext)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),s=this._nextValue,a=this,[4,this._forward()];case 2:return a._nextValue=c.sent()||null,this._prevValue=s,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},u.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},u}(),py=function(){function u(s){var a=s.condition,l=a===void 0?{}:a,c=s.backward,p=c!==void 0&&c,v=s.blockManager,g=s.indexer;this.condition=l,this.backward=p,this._blockManager=v,this._indexer=g}return u.prototype.findOptimizedStartPosition=function(){var s=this,a=["=","/eq",">",">=","/gt","/gte"],l=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var c=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var v=this._indexer.fields[p],g=1;if(v[0]==="-"&&(v=v.slice(1),g=-1),this.condition[v]){if(typeof this.condition[v]=="object"){var b=g>0?l:a;for(var E in this.condition[v])if(b.includes(E)){for(var x=c;x>=0;x--)if(g*Zs(this._indexer.origin[x].columnValues[p],this.condition[v][E])<=0){c=x;break}}}else for(x=c;x>=0;x--)if(g*Zs(this._indexer.origin[x].columnValues[p],this.condition[v])<=0){c=x;break}}}return Math.min(c+1,this._indexer.origin.length-1)}var D=0;if(typeof this.condition!="function")for(var L=function(ae){var te=G._indexer.fields[ae],ee=1;if(te[0]==="-"&&(te=te.slice(1),ee=-1),G.condition[te]){if(typeof G.condition[te]=="object")Object.keys(G.condition[te]).forEach(function(Re){if((ee>0?a:l).includes(Re)){for(var Le=D;Le<s._indexer.origin.length;Le++)if(ee*Zs(s._indexer.origin[Le].columnValues[ae],s.condition[te][Re])>=0){D=Le;break}}});else for(var _e=D;_e<G._indexer.origin.length;_e++)if(ee*Zs(G._indexer.origin[_e].columnValues[ae],G.condition[te])>=0){D=_e;break}}},G=this,p=0;p<this._indexer.fields.length;p++)L(p);return Math.max(D-1,0)},u.prototype.each=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E=this;return B(this,function(x){switch(x.label){case 0:if(a=this.findOptimizedStartPosition(),l=0,this.backward&&this._indexer.origin[a]&&(l=this._indexer.origin[a].keys.length-1),c=function(){if(E._indexer.origin[a]){if(!E._indexer.origin[a].keys[++l]){if(!E._indexer.origin[++a])return!1;l=0}return!0}return!1},p=function(){if(E._indexer.origin[a]){if(!E._indexer.origin[a].keys[--l]){if(!E._indexer.origin[--a])return!1;l=E._indexer.origin[a].keys.length-1}return!0}return!1},v=null,!this._indexer.origin[a])return[3,4];g=this.backward?p:c,x.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[a].keys[l])];case 2:if(b=x.sent(),uu(this.condition,b))return v=b,[3,4];x.label=3;case 3:if(g())return[3,1];x.label=4;case 4:return[4,new Promise(function(D){var L=new EX({initialNextValue:ki(v),iterator:s,forward:function(){return q(E,void 0,void 0,function(){var G,ie;return B(this,function(ae){switch(ae.label){case 0:G=this.backward?p:c,ae.label=1;case 1:return G()?[4,this._blockManager.getFromBlock(this._indexer.origin[a].keys[l])]:[3,3];case 2:return ie=ae.sent(),uu(this.condition,ie)?[2,ki(ie)]:[3,1];case 3:return[2,null]}})})},backward:function(){return q(E,void 0,void 0,function(){var G,ie;return B(this,function(ae){switch(ae.label){case 0:G=this.backward?c:p,ae.label=1;case 1:return G()?[4,this._blockManager.getFromBlock(this._indexer.origin[a].keys[l])]:[3,3];case 2:return ie=ae.sent(),uu(this.condition,ie)?[2,ki(ie)]:[3,1];case 3:return[2,null]}})})},complete:D});s(L)})];case 5:return[2,x.sent()]}})})},u}(),wX=function(){function u(s){var a=s.condition,l=a===void 0?{}:a,c=s.backward,p=c!==void 0&&c,v=s.mutex,g=s.blockManager,b=s.indexer;this._mutex=v,this._iterator=new py({condition:l,backward:p,blockManager:g,indexer:b})}return u.prototype.fetch=function(s){return s===void 0&&(s={}),q(this,void 0,void 0,function(){var a,l,c,p,v=this;return B(this,function(g){switch(g.label){case 0:if(a=Math.max(s.offset||0,0),(l=typeof s.limit=="number"?s.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(l<0)throw nt.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),c=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return q(v,void 0,void 0,function(){return B(this,function(E){return b.error?b.stop():b.hasNext?a===0?(c.push(b.nextValue),0<l&&l<=c.length?b.stop():b.next()):(a--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,c];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},u.prototype.count=function(){return q(this,void 0,void 0,function(){var s,a,l=this;return B(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),s=0,[4,this._mutex.lock()];case 1:return c.sent(),[4,this._iterator.each(function(p){return q(l,void 0,void 0,function(){return B(this,function(v){return p.error?p.stop():p.hasNext?(s++,p.next()):p.stop(),[2]})})})];case 2:return c.sent(),this._mutex.unlock(),[2,s];case 3:throw a=c.sent(),this._mutex.unlock(),a;case 4:return[2]}})})},u}(),fy=function(u){return"".concat("nest","@").concat(u)},du=function(u,s){return"".concat(fy(u),"/").concat(s)},vy=function(u,s){return"".concat(du(u,s),".metadata")},my=function(u,s){return"".concat(du(u,s),"/block.")},DT=function(u,s){return"".concat(du(u,s),"/blob.")},gy=function(u,s,a,l){return l===void 0&&(l=0),"".concat(DT(u,s)).concat(a,".").concat(l)},CX=function(){function u(s){var a=s.dbname,l=s.collectionName,c=s.store;this.dbname=a,this.collectionName=l,this._store=c}return u.prototype._makeShards=function(s,a){var l=Math.max(this._store.itemSizeLimit-1024,0);if(l>0){for(var c=Math.ceil(s.data.length/l),p="".concat(c,".").concat(s.type,".").concat(a),v=[],g=0;g<s.data.length;g+=l){var b=s.data.slice(g,g+l);v.push(b)}return{blobId:p,shards:v}}return{blobId:null,shards:null}},u.prototype._encode=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,new Promise(function(l){var c=new FileReader;c.onload=function(){l({data:c.result,type:s.type})},c.readAsDataURL(s)})];case 1:return[2,a.sent()]}})})},u.prototype._decode=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(s.data)];case 1:return[4,b.sent().blob()];case 2:return[2,b.sent()];case 3:for(a=[],l=atob(s.data.split(",")[1]),c=0;c<l.length;c+=512){for(p=l.slice(c,c+512),v=new Array(p.length),g=0;g<p.length;g++)v[g]=p.charCodeAt(g);a.push(new Uint8Array(v))}return[2,new Blob(a,{type:s.type})]}})})},u.prototype.get=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:if(a=[],l=Ut(s.split("."),2),c=l[0],p=l[1],!((v=parseInt(c))>0))return[3,6];g=0,x.label=1;case 1:return g<v?(b=gy(this.dbname,this.collectionName,s,g),[4,this._store.get(b)]):[3,4];case 2:if(!(E=x.sent())||!E.d)throw nt.storeBrokenBlob;a.push(E.d),x.label=3;case 3:return g++,[3,1];case 4:return[4,this._decode({data:a.join(""),type:p})];case 5:return[2,x.sent()];case 6:return[2,null]}})})},u.prototype.save=function(s,a){return a===void 0&&(a="".concat(Date.now())),q(this,void 0,void 0,function(){var l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return l=[],[4,this._encode(s)];case 1:if(c=x.sent(),p=this._makeShards(c,a),v=p.blobId,g=p.shards,!v)return[3,3];for(b=0;b<g.length;b++)E=gy(this.dbname,this.collectionName,v,b),l.push({key:E,value:{d:g[b]},generation:1});return[4,this._store.setMany(l)];case 2:if(x.sent().some(function(D){return D instanceof Error}))throw nt.storeWriteFailed;return[2,v];case 3:return[2,null]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:if(a=[],l=Ut(s.split("."),1),c=l[0],!((p=parseInt(c))>0))return[3,2];for(v=0;v<p;v++)a.push(gy(this.dbname,this.collectionName,s,v));return[4,this._store.removeMany(a)];case 1:g.sent(),g.label=2;case 2:return[2]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return s=DT(this.dbname,this.collectionName),a=[],[4,this._store.getAllKeys()];case 1:l=E.sent();try{for(c=Pn(l),p=c.next();!p.done;p=c.next())(v=p.value).startsWith(s)&&a.push(v)}catch(x){g={error:x}}finally{try{p&&!p.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}}return[4,this._store.removeMany(l)];case 2:return E.sent(),[2]}})})},u}();(function(u){u[u.COMMIT=0]="COMMIT",u[u.WRITE=1]="WRITE",u[u.ERROR=2]="ERROR"})(cu||(cu={})),function(u){u.PENDING="pending",u.PERSISTENT="persistent",u.VOLATILE="volatile"}(Vr||(Vr={})),function(u){u[u.NO_CACHE=0]="NO_CACHE",u[u.DEFAULT=1]="DEFAULT",u[u.PERSISTENT=2]="PERSISTENT"}(Ns||(Ns={}));var UT=[Vr.PENDING,Vr.VOLATILE],q0={},Na=function(){function u(s){var a=s.dbname,l=s.limit,c=l===void 0?256:l;return q0[a]||(this.dbname=a,this._items=[],this._limit=c,q0[a]=this),q0[a]}return u.get=function(s){return q0[s]},Object.defineProperty(u.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),u.prototype.find=function(s,a,l){return l===void 0&&(l=Ns.DEFAULT),q(this,void 0,void 0,function(){var c,p;return B(this,function(v){switch(v.label){case 0:return(c=this.get(a))?[3,2]:[4,s.get(a)];case 1:return(p=v.sent())&&(c={key:a,value:p,generation:1,state:l===Ns.PERSISTENT?Vr.PERSISTENT:Vr.VOLATILE},this.put(c)),[3,3];case 2:l===Ns.PERSISTENT&&(c.state=Vr.PERSISTENT),v.label=3;case 3:return[2,c]}})})},u.prototype.get=function(s,a){a===void 0&&(a=Ns.DEFAULT);var l=this._items.map(function(p){return p.key}).indexOf(s);if(l>-1){var c=this._items[l];return a===Ns.PERSISTENT&&(c.state=Vr.PERSISTENT),a!==Ns.NO_CACHE&&this.put(c),c}return null},u.prototype.put=function(s){var a,l;if(this._limit>0){var c=this._items.map(function(D){return D.key}).indexOf(s.key);if(c>-1)UT.includes(this._items[c].state)&&UT.includes(s.state)?(this._items.splice(c,1),this._items.push(s)):(this._items[c].state=s.state,this._items[c].generation=s.generation,this._items[c].value=s.value);else{this._items.push(s);var p=this._items.filter(function(D){return D.state===Vr.VOLATILE}),v=p.length-this._limit;if(v>0){var g=[];try{for(var b=Pn(this._items),E=b.next();!E.done;E=b.next()){var x=E.value;x.state===Vr.VOLATILE&&v>0?v--:g.push(x)}}catch(D){a={error:D}}finally{try{E&&!E.done&&(l=b.return)&&l.call(b)}finally{if(a)throw a.error}}this._items=g}}}},u.prototype.remove=function(s){var a=this._items.map(function(l){return l.key}).indexOf(s);a>-1&&this._items.splice(a,1)},u.prototype.clearByCondition=function(s){this._items=this._items.filter(function(a){return!s(a)})},u.prototype.clear=function(s){s===void 0&&(s=!1),this._items=s?[]:this._items.filter(function(a){return a.state!==Vr.VOLATILE})},u}(),xX=function(){function u(s){var a=s.dbname,l=s.collectionName,c=s.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=a,this.collectionName=l,this.metadataKey=function(p,v){return"".concat(du(p,v),"/trans.metadata")}(a,l),this.recordsetKey=function(p,v){return"".concat(du(p,v),"/trans.recordset")}(a,l),this._store=c}return Object.defineProperty(u.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),u.prototype._getReducedRecordset=function(s){return s===void 0&&(s=[]),q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(a=l.sent()||[]).push.apply(a,Qt([],Ut(s),!1)),[2,this._reduceRecordSet(a)]}})})},u.prototype._reduceRecordSet=function(s){for(var a=[],l={},c=s.length-1;c>=0;c--){for(var p=s[c],v=[],g=p.requests.length-1;g>=0;g--){var b=p.requests[g],E=b.data;l[E.key]||(v.unshift(b),l[E.key]=!0)}v.length>0&&(p.requests=v,a.unshift(p))}return a},u.prototype._applyRecord=function(s,a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b,E,x,D;return B(this,function(L){switch(L.label){case 0:l=Na.get(this.dbname),c=a.generation,p=a.requests,v=null,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(G){return fe(fe({},G.data),{generation:c})}))];case 2:for(g=L.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(v||(v=g[b]),E=p[b].data,l.put(fe(fe({},E),{generation:c,state:Vr.PERSISTENT})));return[3,4];case 3:return x=L.sent(),v=x,[3,4];case 4:return v?[3,6]:(D=s.filter(function(G){return G.generation!==c}),[4,this._store.set({key:this.recordsetKey,value:D,generation:c})]);case 5:return L.sent(),this._onWrite.forEach(function(G){G(p.map(function(ie){return ie.data}))}),[3,7];case 6:this._onError.forEach(function(G){return G(v)}),L.label=7;case 7:return[2]}})})},u.prototype.init=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return s=this,[4,this._store.get(this.metadataKey)];case 1:return s._metadata=E.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:a=E.sent(),E.label=3;case 3:E.trys.push([3,8,9,10]),l=Pn(a),c=l.next(),E.label=4;case 4:return c.done?[3,7]:(p=c.value,[4,this._applyRecord(a,p)]);case 5:E.sent(),E.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return v=E.sent(),g={error:v},[3,10];case 9:try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(g)throw g.error}return[7];case 10:return[2]}})})},u.prototype.on=function(s,a,l){switch(s){case cu.COMMIT:this._onCommit.set(a,l);break;case cu.WRITE:this._onWrite.set(a,l);break;case cu.ERROR:this._onError.set(a,l)}},u.prototype.requestWrite=function(s,a){a===void 0&&(a=null),this._requests.push({data:s,options:a}),Na.get(this.dbname).put(fe({state:Vr.PENDING,generation:this.generation},s))},u.prototype.requestMultipleWrite=function(s,a){var l,c;a===void 0&&(a=null);var p=Na.get(this.dbname);try{for(var v=Pn(s),g=v.next();!g.done;g=v.next()){var b=g.value;this._requests.push({data:b,options:a}),p.put(fe({state:Vr.PENDING,generation:this.generation},b))}}catch(E){l={error:E}}finally{try{g&&!g.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){return Na.get(this.dbname).clearByCondition(function(a){return a.state===Vr.PENDING}),this._requests=[],[2]})})},u.prototype.commit=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b,E,x,D,L,G=this;return B(this,function(ie){switch(ie.label){case 0:if(!((s=this._requests).length>0))return[3,4];for(a=[],l={},b=s.length-1;b>=0;b--)c=s[b],x=c.data,l[x.key]||(l[x.key]=!0,a.unshift(c));return p={generation:this.generation,requests:a},[4,this._getReducedRecordset([p])];case 1:return v=ie.sent(),[4,this._store.set({key:this.recordsetKey,value:v,generation:this.generation})];case 2:return ie.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(ie.sent(),g=Na.get(this.dbname),b=0;b<a.length;b++)E=a[b],x=E.data,D=E.options,g.put(fe(fe({},x),{generation:p.generation,state:D&&D.persistent?Vr.PERSISTENT:Vr.VOLATILE}));this._requests=[],this._onCommit.forEach(function(ae){ae(s.map(function(te){return te.data}))}),L=F0.get(this.dbname),setTimeout(function(){try{G._applyRecord(v,p)}catch(ae){G._onError.forEach(function(te){return te(ae)})}},L.transactionApplyDelay),ie.label=4;case 4:return[2]}})})},u}(),B0=function(){function u(s){var a=s.blockId,l=s.keyName,c=s.items,p=c===void 0?[]:c,v=s.limit;this.blockId=a,this.keyName=l,this.limit=v,this._items=Qt([],Ut(p),!1)}return u.createFromCacheItem=function(s){return s?new u(s.value):null},Object.defineProperty(u.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),u.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},u.prototype.getItemByKey=function(s){var a=this;return this._items.find(function(l){var c=l[a.keyName];return s===c})},u.prototype.has=function(s){var a=this;return this._items.map(function(l){return l[a.keyName]}).includes(s)},u.prototype.add=function(s){var a=this,l=this._items.map(function(c){return c[a.keyName]}).indexOf(s[this.keyName]);return l<0?this._items.length<this.limit&&(this._items.push(s),!0):(this._items[l]=s,!0)},u.prototype.remove=function(s){for(var a in this._items)if(this._items[a][this.keyName]===s)return this._items.splice(parseInt(a),1),!0;return!1},u.prototype.clear=function(){this._items=[]},u}(),SX=function(){function u(s){var a=s.dbname,l=s.collectionName,c=s.metadata,p=s.hashFunction,v=p===void 0?AT:p,g=s.transaction,b=s.store;this.dbname=a,this.collectionName=l,this.hashFunction=v,this.metadata=c,this._transaction=g,this._store=b}return Object.defineProperty(u.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),u.prototype.createBlockId=function(s,a){return a===void 0&&(a=this.metadata.blockLevel),l=this.dbname,c=this.collectionName,p=a,v="".concat(function(g,b,E){var x=E.base*Math.pow(E.multiplier,b)+E.constant;return(E.hashFunction||AT)(g,x)}(s,a,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(my(l,c)).concat(p,".").concat(v);var l,c,p,v},u.prototype._findBlock=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:a=Na.get(this.dbname),l=this.metadata.blockLevel,g.label=1;case 1:return l>0?(c=this.createBlockId(s,l),[4,a.find(this._store,c)]):[3,4];case 2:if((p=g.sent())&&(v=B0.createFromCacheItem(p),v.getItemByKey(s)))return[2,v];g.label=3;case 3:return l--,[3,1];case 4:return[2,null]}})})},u.prototype.getFromBlock=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return[4,this._findBlock(s)];case 1:return[2,(a=l.sent())?a.getItemByKey(s):null]}})})},u.prototype.putToBlock=function(s,a){return q(this,void 0,void 0,function(){var l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return l=F0.get(this.dbname),c=this.createBlockId(s),p=Math.floor(this._store.itemSizeLimit/l.itemSizeLimit),[4,Na.get(this.dbname).find(this._store,c)];case 1:return v=b.sent(),(g=v?B0.createFromCacheItem(v):new B0({blockId:c,keyName:this.keyName,items:[],limit:p})).add(a)?(this._transaction.requestWrite({key:g.blockId,value:g.serialize()}),[2,!0]):[2,!1]}})})},u.prototype.removeFromBlock=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return[4,this._findBlock(s)];case 1:return(a=l.sent())&&a.remove(s)?(this._transaction.requestWrite({key:a.blockId,value:a.serialize()}),[2,!0]):[2,!1]}})})},u.prototype.clearAllBlocks=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return s=my(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return a=x.sent(),l=a.filter(function(D){return D.startsWith(s)}),[4,this._store.removeMany(l)];case 2:x.sent(),c=Na.get(this.dbname);try{for(p=Pn(l),v=p.next();!v.done;v=p.next())g=v.value,c.remove(g)}catch(D){b={error:D}}finally{try{v&&!v.done&&(E=p.return)&&E.call(p)}finally{if(b)throw b.error}}return[2]}})})},u}(),el=function(){function u(s){var a=s.dbname,l=s.collectionName,c=s.keyName,p=s.fields,v=s.transaction,g=s.store,b=this;this._origin=[],this._table=[],this.dbname=a,this.collectionName=l,this.keyName=c,this.fields=p,this.indexerKey=function(E,x,D){return"".concat(du(E,x),"/index.").concat(D)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=v,this._store=g,this._transaction.on(cu.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(cu.ERROR,this.indexerKey,function(){return b.abort()})}return u.createKey=function(s){return s.join(">")},u.parseKey=function(s){return s.split(">")},u.prototype._addItem=function(s){var a=s[this.keyName],l=this.getColumnValues(s),c=Ut(this.indexOf(l),2),p=c[0];return c[1]?!this._table[p].keys.includes(a)&&(this._table[p].keys.push(a),!0):(this._table.splice(p,0,{columnValues:l,keys:[a]}),!0)},u.prototype._removeItem=function(s){var a=s[this.keyName],l=this.getColumnValues(s),c=Ut(this.indexOf(l),2),p=c[0];if(c[1]){var v=this._table[p].keys.indexOf(a);if(v>-1)return this._table[p].keys.splice(v,1),this._table[p].keys.length===0&&this._table.splice(p,1),!0}return!1},Object.defineProperty(u.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),u.prototype.getColumnValues=function(s){var a,l,c,p,v=[];try{for(var g=Pn(this.fields),b=g.next();!b.done;b=g.next()){var E=b.value;if(E[0]==="-"&&(E=E.slice(1)),c=s[E],p=void 0,p=typeof c,c!==null&&p!=="undefined"&&p!=="boolean"&&p!=="number"&&p!=="string")throw nt.indexTypesNotMatch;v.push(s[E])}}catch(x){a={error:x}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}return v},u.prototype.diff=function(s,a){for(var l in this.fields){var c=this.fields[l][0]==="-"?-1:1,p=Zs(s[l],a[l]);if(p!==0)return c*p}return 0},u.prototype.indexOf=function(s){if(this._table.length>0){for(var a=0,l=this._table.length-1;a<=l;){var c=Math.floor((a+l)/2),p=this.diff(s,this._table[c].columnValues);if(p>0)a=c+1;else{if(!(p<0))return[c,!0];l=c-1}}return[a,!1]}return[0,!1]},u.prototype.ensure=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b,E,x,D,L,G,ie,ae,te,ee;return B(this,function(_e){switch(_e.label){case 0:return[4,(s=Na.get(this.dbname)).find(this._store,this.indexerKey,Ns.PERSISTENT)];case 1:return(a=_e.sent())?[3,11]:(l=my(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:c=_e.sent(),_e.label=3;case 3:_e.trys.push([3,8,9,10]),p=Pn(c),v=p.next(),_e.label=4;case 4:return v.done?[3,7]:(g=v.value).startsWith(l)?[4,s.find(this._store,g,Ns.NO_CACHE)]:[3,6];case 5:b=_e.sent(),E=B0.createFromCacheItem(b);try{for(te=void 0,x=Pn(E.items),D=x.next();!D.done;D=x.next())L=D.value,this._addItem(L)}catch(Re){te={error:Re}}finally{try{D&&!D.done&&(ee=x.return)&&ee.call(x)}finally{if(te)throw te.error}}_e.label=6;case 6:return v=p.next(),[3,4];case 7:return[3,10];case 8:return G=_e.sent(),ie={error:G},[3,10];case 9:try{v&&!v.done&&(ae=p.return)&&ae.call(p)}finally{if(ie)throw ie.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=a.value,this._table=ki(this._origin),_e.label=12;case 12:return[2]}})})},u.prototype.drop=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return Na.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return s.sent(),[2]}})})},u.prototype.addItem=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return this._addItem(s)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},u.prototype.removeItem=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return this._removeItem(s)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},u.prototype.commit=function(){this._origin=this._table,this._table=ki(this._origin)},u.prototype.abort=function(){this._table=ki(this._origin)},u}(),eo=typeof document<"u"&&typeof navigator<"u";eo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var IX=eo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");eo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),eo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),eo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Vh,Kr,kX=eo&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),LT=function(){var u=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var a=(u+16*Math.random())%16|0;return u=Math.floor(u/16),(s==="x"?a:3&a|8).toString(16)})};(function(u){u[u.PROCESSING=0]="PROCESSING",u[u.DONE=1]="DONE"})(Vh||(Vh={})),function(u){u.NEWNODE="newnode",u.REMOVENODE="removenode",u.CLAIM_HOST="claimhost",u.SYNC_HOST="synchost",u.REQUEST_LOCK="requestlock",u.ACQUIRE_LOCK="acquirelock",u.RELEASE_LOCK="releaselock"}(Kr||(Kr={}));var no,_y={},PT=function(){function u(s,a){a===void 0&&(a={});var l=this;return this._state=Vh.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],_y[s]&&!a.forceCreate||(this.nodeId=LT(),this.key=s,eo&&(a.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&l.claimHost()}),window.addEventListener("message",function(c){var p,v,g=c.data,b=g.nodeId,E=g.requestId,x=g.key,D=g.op,L=g.data;if(b!==l.nodeId&&x===l.key)switch(D){case Kr.NEWNODE:l._sendSync();break;case Kr.CLAIM_HOST:l._sendSync(),l._hostId=b;break;case Kr.SYNC_HOST:if(!l.isInSync){l._activationTimeout&&clearTimeout(l._activationTimeout);var G=L,ie=G.currentItemRequestId,ae=G.queue,te=function(Le){var hn=l._queue.findIndex(function(xn){return xn.requestId===Le.requestId});hn<0&&l._requestLock({nodeId:Le.nodeId,requestId:Le.requestId,key:l.key,op:Kr.REQUEST_LOCK,ts:Le.ts})};try{for(var ee=Pn(ae),_e=ee.next();!_e.done;_e=ee.next())te(_e.value)}catch(Le){p={error:Le}}finally{try{_e&&!_e.done&&(v=ee.return)&&v.call(ee)}finally{if(p)throw p.error}}l._currentItem=l._queue.find(function(Le){return Le.requestId===ie}),l._completeSync()}break;case Kr.REMOVENODE:l._queue=l._queue.filter(function(Le){return Le.nodeId!==g.nodeId}),l._currentItem&&l._currentItem.nodeId===g.nodeId&&(l._currentItem=null,l._acquire(l._queue[0]));break;case Kr.REQUEST_LOCK:l._requestLock(g);break;case Kr.ACQUIRE_LOCK:var Re=l._queue.find(function(Le){return Le.requestId===E});l._acquire(Re);break;case Kr.RELEASE_LOCK:l._release(E)}}),window.addEventListener("beforeunload",function(){l._send(Kr.REMOVENODE)})),_y[s]=this),_y[s]}return Object.defineProperty(u.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isInSync",{get:function(){return this._state==Vh.DONE},enumerable:!1,configurable:!0}),u.prototype._send=function(s,a){var l,c;a===void 0&&(a={});var p={nodeId:this.nodeId,requestId:(l=a==null?void 0:a.requestId)!==null&&l!==void 0?l:LT(),key:this.key,op:s,data:(c=a.data)!==null&&c!==void 0?c:null,ts:Date.now()};return eo&&window.postMessage(p,"*"),p},u.prototype._acquire=function(s){s===void 0&&(s=null),s?(this._currentItem=s,this._currentItem.onAcquired(s.requestId)):this._currentItem=null},u.prototype._release=function(s){if(this._currentItem&&this._currentItem.requestId===s){var a=this._currentItem;this._currentItem=null,a.nodeId===this.nodeId&&this._send(Kr.RELEASE_LOCK,{requestId:a.requestId});var l=this._queue.findIndex(function(c){return c.requestId===s});l>-1&&this._queue.splice(l,1),a.onReleased(s)}},u.prototype._requestLock=function(s){var a=this;return new Promise(function(l){var c={nodeId:s.nodeId,requestId:s.requestId,ts:s.ts,onAcquired:function(g){a.isHost&&a._send(Kr.ACQUIRE_LOCK,{requestId:g}),l()},onReleased:function(){a._acquire(a._queue[0])}},p=!1;for(var v in a._queue)if(a._queue[v].ts>c.ts){a._queue.splice(parseInt(v),0,c),p=!0;break}p||a._queue.push(c),a._currentItem||a._acquire(a._queue[0])})},u.prototype._sendSync=function(){var s;this.isHost&&this._send(Kr.SYNC_HOST,{data:{currentItemRequestId:(s=this._currentItem)===null||s===void 0?void 0:s.requestId,queue:this._queue.map(function(a){return{nodeId:a.nodeId,requestId:a.requestId,ts:a.ts}})}})},u.prototype._waitUntilSyncCompleted=function(){return q(this,void 0,void 0,function(){var s=this;return B(this,function(a){return this.isHost&&!this.isInSync?[2,new Promise(function(l){s._activationQueue.push(l)})]:[2]})})},u.prototype._waitSync=function(){var s=this;this.isInSync||(this._activationTimeout=setTimeout(function(){s._completeSync()},8))},u.prototype._completeSync=function(){this.isInSync||(this._state=Vh.DONE,this._activationQueue.forEach(function(s){return s()}),this._activationQueue=[])},u.prototype.registerNode=function(){this._send(Kr.NEWNODE),this._waitSync()},u.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Kr.CLAIM_HOST),this._waitSync()},u.prototype.lock=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return a.sent(),s=this._send(Kr.REQUEST_LOCK),[4,this._requestLock(s)];case 2:return a.sent(),[2]}})})},u.prototype.unlock=function(){var s;this._release((s=this._currentItem)===null||s===void 0?void 0:s.requestId)},u}(),by=function(){function u(s){var a=s.dbname,l=s.collectionName,c=s.keyName,p=s.keyHash,v=s.indexes,g=s.store,b=this;this._state=jc.INIT,this._metadata=null,this._indexers=[],this.dbname=a,this.name=l,this.keyName=c,this.indexes=Qt([[c]],Ut(v.filter(function(E){return el.createKey(E)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new PT(function(E,x){return"".concat(du(E,x),".lock")}(a,l)),this._blobContainer=new CX({dbname:a,collectionName:l,store:g}),this._transaction=new xX({dbname:a,collectionName:l,store:g})}return u.metadataOf=function(s,a,l){return q(this,void 0,void 0,function(){var c;return B(this,function(p){switch(p.label){case 0:return c=vy(s,a),[4,l.get(c)];case 1:return[2,p.sent()]}})})},Object.defineProperty(u.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isReady",{get:function(){return this._state===jc.READY},enumerable:!1,configurable:!0}),u.prototype.init=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p,v,g,b,E,x,D,L,G,ie,ae=this;return B(this,function(te){switch(te.label){case 0:return[4,this._mutex.lock()];case 1:te.sent(),te.label=2;case 2:return te.trys.push([2,9,,10]),s=F0.get(this.dbname),[4,u.metadataOf(this.dbname,this.name,this._store)];case 3:return a=te.sent(),this._metadata=a||{keyName:this.keyName,blockLevel:1,blockHashBase:s.blockHashBase,blockHashMultiplier:s.blockHashMultiplier,blockHashConstant:s.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:te.sent(),this._blockManager=new SX({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),l=Qt([],Ut(this.indexes),!1),c=[],p=l.map(function(ee){return el.createKey(ee)}),v=a?a.indexes.map(function(ee){return el.createKey(ee)}):[];try{for(g=Pn(v),b=g.next();!b.done;b=g.next())E=b.value,p.includes(E)||c.push(el.parseKey(E))}catch(ee){G={error:ee}}finally{try{b&&!b.done&&(ie=g.return)&&ie.call(g)}finally{if(G)throw G.error}}return(x=[]).push.apply(x,Qt([],Ut(l.map(function(ee){var _e=new el({dbname:ae.dbname,collectionName:ae.name,keyName:ae.keyName,fields:ee,transaction:ae._transaction,store:ae._store});return ae._indexers.push(_e),_e.ensure()})),!1)),x.push.apply(x,Qt([],Ut(c.map(function(ee){return new el({dbname:ae.dbname,collectionName:ae.name,keyName:ae.keyName,fields:ee,transaction:ae._transaction,store:ae._store}).drop()})),!1)),[4,Promise.all(x)];case 5:return te.sent(),[4,this._transaction.commit()];case 6:return te.sent(),p.sort().join(",")===v.sort().join(",")?[3,8]:(D=vy(this.dbname,this.name),this._metadata.indexes=l,[4,this._store.set({key:D,value:this._metadata,generation:1})]);case 7:te.sent(),te.label=8;case 8:return this._state=jc.READY,this._mutex.unlock(),[3,10];case 9:throw L=te.sent(),this._mutex.unlock(),L;case 10:return[2]}})})},u.prototype.close=function(){this._state=jc.CLOSED},u.prototype._hasPropertyOfKeyName=function(s){var a=s[this.keyName];return typeof a=="string"&&!!a},u.prototype._getIndexerBy=function(s){var a,l;s===void 0&&(s=null),s||(s=[this.keyName]);var c=el.createKey(s);try{for(var p=Pn(this._indexers),v=p.next();!v.done;v=p.next()){var g=v.value;if(c===el.createKey(g.fields))return g}}catch(b){a={error:b}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}return null},u.prototype._upgradeBlockLevel=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return s=vy(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:s,value:this._metadata,generation:1})];case 1:return a.sent(),[2]}})})},u.prototype._requestInsert=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return a=s[this.keyName],[4,this._blockManager.getFromBlock(a)];case 1:return b.sent()?[3,13]:[4,this._blockManager.putToBlock(a,s)];case 2:return b.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return b.sent(),[4,this._blockManager.putToBlock(a,s)];case 4:b.sent(),b.label=5;case 5:b.trys.push([5,10,11,12]),l=Pn(this._indexers),c=l.next(),b.label=6;case 6:return c.done?[3,9]:[4,c.value.addItem(s)];case 7:b.sent(),b.label=8;case 8:return c=l.next(),[3,6];case 9:return[3,12];case 10:return p=b.sent(),v={error:p},[3,12];case 11:try{c&&!c.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 12:return[3,14];case 13:throw nt.collectionInsertDuplicate;case 14:return[2]}})})},u.prototype._requestUpsert=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G,ie;return B(this,function(ae){switch(ae.label){case 0:return a=s[this.keyName],[4,this._blockManager.getFromBlock(a)];case 1:return(l=ae.sent())?[3,13]:[4,this._blockManager.putToBlock(a,s)];case 2:return ae.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return ae.sent(),[4,this._blockManager.putToBlock(a,s)];case 4:ae.sent(),ae.label=5;case 5:ae.trys.push([5,10,11,12]),c=Pn(this._indexers),p=c.next(),ae.label=6;case 6:return p.done?[3,9]:[4,(E=p.value).addItem(s)];case 7:ae.sent(),ae.label=8;case 8:return p=c.next(),[3,6];case 9:return[3,12];case 10:return v=ae.sent(),D={error:v},[3,12];case 11:try{p&&!p.done&&(L=c.return)&&L.call(c)}finally{if(D)throw D.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(a,s)];case 14:ae.sent(),ae.label=15;case 15:ae.trys.push([15,21,22,23]),g=Pn(this._indexers),b=g.next(),ae.label=16;case 16:return b.done?[3,20]:(E=b.value).diff(E.getColumnValues(l),E.getColumnValues(s))===0?[3,19]:[4,E.removeItem(l)];case 17:return ae.sent(),[4,E.addItem(s)];case 18:ae.sent(),ae.label=19;case 19:return b=g.next(),[3,16];case 20:return[3,23];case 21:return x=ae.sent(),G={error:x},[3,23];case 22:try{b&&!b.done&&(ie=g.return)&&ie.call(g)}finally{if(G)throw G.error}return[7];case 23:return[2]}})})},u.prototype._requestUpdate=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return a=s[this.keyName],[4,this._blockManager.getFromBlock(a)];case 1:return(l=x.sent())?[4,this._blockManager.putToBlock(a,s)]:[3,11];case 2:x.sent(),x.label=3;case 3:x.trys.push([3,9,10,11]),c=Pn(this._indexers),p=c.next(),x.label=4;case 4:return p.done?[3,8]:(v=p.value).diff(v.getColumnValues(l),v.getColumnValues(s))===0?[3,7]:[4,v.removeItem(l)];case 5:return x.sent(),[4,v.addItem(s)];case 6:x.sent(),x.label=7;case 7:return p=c.next(),[3,4];case 8:return[3,11];case 9:return g=x.sent(),b={error:g},[3,11];case 10:try{p&&!p.done&&(E=c.return)&&E.call(c)}finally{if(b)throw b.error}return[7];case 11:return[2]}})})},u.prototype._requestRemove=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return[4,this._blockManager.getFromBlock(s)];case 1:return(a=b.sent())?[4,this._blockManager.removeFromBlock(s)]:[3,10];case 2:b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),l=Pn(this._indexers),c=l.next(),b.label=4;case 4:return c.done?[3,7]:[4,c.value.removeItem(a)];case 5:b.sent(),b.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),v={error:p},[3,10];case 9:try{c&&!c.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 10:return[2]}})})},u.prototype._requestClear=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p;return B(this,function(v){switch(v.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:v.sent(),v.label=2;case 2:v.trys.push([2,7,8,9]),s=Pn(this._indexers),a=s.next(),v.label=3;case 3:return a.done?[3,6]:[4,a.value.clear()];case 4:v.sent(),v.label=5;case 5:return a=s.next(),[3,3];case 6:return[3,9];case 7:return l=v.sent(),c={error:l},[3,9];case 8:try{a&&!a.done&&(p=s.return)&&p.call(s)}finally{if(c)throw c.error}return[7];case 9:return[2]}})})},u.prototype.getByKey=function(s){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(s)];case 3:return a=c.sent(),this._mutex.unlock(),[2,ki(a)];case 4:throw l=c.sent(),this._mutex.unlock(),l;case 5:return[3,7];case 6:throw nt.collectionNotReady;case 7:return[2]}})})},u.prototype.query=function(s){return s===void 0&&(s={}),this.isReady?new wX({condition:s.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(s.index),backward:!!s.backward}):null},u.prototype.insertOne=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(s))throw nt.collectionKeyNotGiven;return[4,this._requestInsert(ki(s))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,s];case 5:return a=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw nt.collectionNotReady;case 9:return[2]}})})},u.prototype.insertMany=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E=this;return B(this,function(x){switch(x.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:x.sent(),x.label=2;case 2:if(x.trys.push([2,12,,14]),s.some(function(D){return!E._hasPropertyOfKeyName(D)}))throw nt.collectionKeyNotGiven;x.label=3;case 3:x.trys.push([3,8,9,10]),a=Pn(s),l=a.next(),x.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestInsert(ki(c))]);case 5:x.sent(),x.label=6;case 6:return l=a.next(),[3,4];case 7:return[3,10];case 8:return p=x.sent(),g={error:p},[3,10];case 9:try{l&&!l.done&&(b=a.return)&&b.call(a)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return x.sent(),this._mutex.unlock(),[2,s];case 12:return v=x.sent(),[4,this._transaction.clear()];case 13:throw x.sent(),this._mutex.unlock(),v;case 14:return[3,16];case 15:throw nt.collectionNotReady;case 16:return[2]}})})},u.prototype.upsertOne=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(s))throw nt.collectionKeyNotGiven;return[4,this._requestUpsert(ki(s))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,s];case 5:return a=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw nt.collectionNotReady;case 9:return[2]}})})},u.prototype.upsertMany=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E=this;return B(this,function(x){switch(x.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:x.sent(),x.label=2;case 2:if(x.trys.push([2,12,,14]),s.some(function(D){return!E._hasPropertyOfKeyName(D)}))throw nt.collectionKeyNotGiven;x.label=3;case 3:x.trys.push([3,8,9,10]),a=Pn(s),l=a.next(),x.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestUpsert(ki(c))]);case 5:x.sent(),x.label=6;case 6:return l=a.next(),[3,4];case 7:return[3,10];case 8:return p=x.sent(),g={error:p},[3,10];case 9:try{l&&!l.done&&(b=a.return)&&b.call(a)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return x.sent(),this._mutex.unlock(),[2,s];case 12:return v=x.sent(),[4,this._transaction.clear()];case 13:throw x.sent(),this._mutex.unlock(),v;case 14:return[3,16];case 15:throw nt.collectionNotReady;case 16:return[2]}})})},u.prototype.update=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(s))throw nt.collectionKeyNotGiven;return[4,this._requestUpdate(ki(s))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,s];case 5:return a=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw nt.collectionNotReady;case 9:return[2]}})})},u.prototype.updateIf=function(s,a){return q(this,void 0,void 0,function(){var l,c,p,v,g,b,E,x,D,L,G,ie,ae,te,ee=this;return B(this,function(_e){switch(_e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:_e.sent(),_e.label=2;case 2:return _e.trys.push([2,13,,15]),l=s.where,c=l===void 0?{}:l,p=s.index,v=p===void 0?null:p,g=s.backward,b=g!==void 0&&g,E=[],[4,new py({condition:c,blockManager:this._blockManager,backward:b,indexer:this._getIndexerBy(v)}).each(function(Re){return q(ee,void 0,void 0,function(){var Le,hn;return B(this,function(xn){if(Re.error)throw Re.stop(),Re.error;if(Re.hasNext){if(Le=Re.nextValue,uu(c,Le)&&a.set){if(typeof a.set!="function")for(hn in a.set)Le[hn]=a.set[hn];else a.set(Le);E.push(Le)}Re.next()}else Re.stop();return[2]})})})];case 3:_e.sent(),_e.label=4;case 4:_e.trys.push([4,9,10,11]),x=Pn(E),D=x.next(),_e.label=5;case 5:return D.done?[3,8]:(L=D.value,[4,this._requestUpdate(ki(L))]);case 6:_e.sent(),_e.label=7;case 7:return D=x.next(),[3,5];case 8:return[3,11];case 9:return G=_e.sent(),ae={error:G},[3,11];case 10:try{D&&!D.done&&(te=x.return)&&te.call(x)}finally{if(ae)throw ae.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return _e.sent(),this._mutex.unlock(),[2,E];case 13:return ie=_e.sent(),[4,this._transaction.clear()];case 14:throw _e.sent(),this._mutex.unlock(),ie;case 15:return[3,17];case 16:throw this._transaction.clear(),nt.collectionNotReady;case 17:return[2]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this._requestRemove(s)];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[3,7];case 5:return a=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),a;case 7:return[3,9];case 8:throw nt.collectionNotReady;case 9:return[2]}})})},u.prototype.removeIf=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D,L,G,ie,ae,te=this;return B(this,function(ee){switch(ee.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:ee.sent(),ee.label=2;case 2:return ee.trys.push([2,13,,14]),a=s.where,l=a===void 0?{}:a,c=s.index,p=c===void 0?null:c,v=s.backward,g=v!==void 0&&v,b=[],[4,new py({condition:l,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(p)}).each(function(_e){return q(te,void 0,void 0,function(){var Re,Le;return B(this,function(hn){if(_e.error)throw _e.stop(),_e.error;return _e.hasNext?(Re=_e.nextValue,uu(l,Re)&&(Le=Re[this.keyName],b.push(Le)),_e.next()):_e.stop(),[2]})})})];case 3:ee.sent(),ee.label=4;case 4:ee.trys.push([4,9,10,11]),E=Pn(b),x=E.next(),ee.label=5;case 5:return x.done?[3,8]:(D=x.value,[4,this._requestRemove(D)]);case 6:ee.sent(),ee.label=7;case 7:return x=E.next(),[3,5];case 8:return[3,11];case 9:return L=ee.sent(),ie={error:L},[3,11];case 10:try{x&&!x.done&&(ae=E.return)&&ae.call(E)}finally{if(ie)throw ie.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return ee.sent(),this._mutex.unlock(),[2,b];case 13:throw G=ee.sent(),this._mutex.unlock(),G;case 14:return[3,16];case 15:throw this._transaction.clear(),nt.collectionNotReady;case 16:return[2]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return a.sent(),[4,this._transaction.commit()];case 4:return a.sent(),this._mutex.unlock(),[3,7];case 5:return s=a.sent(),[4,this._transaction.clear()];case 6:throw a.sent(),this._mutex.unlock(),s;case 7:return[3,9];case 8:throw nt.collectionNotReady;case 9:return[2]}})})},u.prototype.getBlob=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._blobContainer.get(s)];case 1:return[2,a.sent()]}})})},u.prototype.saveBlob=function(s,a){return a===void 0&&(a=null),q(this,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.save(s,a)];case 1:return[2,l.sent()]}})})},u.prototype.removeBlob=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._blobContainer.remove(s)];case 1:return a.sent(),[2]}})})},u.prototype.removeAllBlobs=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this._blobContainer.clear()];case 1:return s.sent(),[2]}})})},u}(),ji={},G0=function(){function u(s){s===void 0&&(s={});var a=s.itemSizeLimit,l=a===void 0?4194304:a,c=s.delay,p=c===void 0?1:c,v=s.encryption,g=v===void 0?x0:v;this._encryption=g,this.itemSizeLimit=l,this.delay=p,this.observer={}}return Object.defineProperty(u.prototype,"rawData",{get:function(){return ji[this.dbname]},set:function(s){ji[this.dbname]=s},enumerable:!1,configurable:!0}),u.prototype.observe=function(s,a,l){var c=this;this.observer[s]={},a.forEach(function(p){return c.observer[s][p]=l})},u.prototype.init=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:this.dbname=s,ji[this.dbname]={},l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(qr.key)];case 2:if((a=l.sent())&&JSON.stringify(a)!==JSON.stringify(qr.value))throw nt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(qr)];case 4:return l.sent(),[7];case 5:return[2]}})})},u.prototype.getAllKeys=function(){return q(this,void 0,void 0,function(){return B(this,function(s){return[2,Object.keys(ji[this.dbname]).filter(function(a){return a!==qr.key})]})})},u.prototype.get=function(s){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return[4,zc(this.delay)];case 1:if(c.sent(),a=this.observer[s],l=a&&a.get?a.get(s):null)throw l;return[2,ji[this.dbname][s]?this._encryption.decrypt(ji[this.dbname][s]):null]}})})},u.prototype.set=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return[4,zc(this.delay)];case 1:if(b.sent(),a=s.key,l=s.value,c=this.observer[a],p=c&&c.set?c.set(a):null)throw p;if(v=this._encryption.encrypt(l),g=JSON.stringify(v),a===qr.key||g.length<this.itemSizeLimit)return ji[this.dbname][a]=v,[2,ji[this.dbname][a]];throw nt.storeItemSizeExceeded}})})},u.prototype.setMany=function(s){return q(this,void 0,void 0,function(){var a,l=this;return B(this,function(c){switch(c.label){case 0:return[4,zc(this.delay)];case 1:return c.sent(),a=[],s.forEach(function(p){var v=p.key,g=p.value,b=l.observer[v];if(b&&b.set&&b.set(v))a.push(nt.collectionWriteFailed);else{var E=l._encryption.encrypt(g),x=JSON.stringify(E);v===qr.key||x.length<l.itemSizeLimit?(ji[l.dbname][v]=E,a.push(g)):a.push(nt.storeItemSizeExceeded)}}),[2,a]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){var a,l;return B(this,function(c){switch(c.label){case 0:return[4,zc(this.delay)];case 1:if(c.sent(),a=this.observer[s],l=a&&a.remove?a.remove(s):null)throw l;return ji[this.dbname][s]&&delete ji[this.dbname][s],[2,s]}})})},u.prototype.removeMany=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return[4,zc(this.delay)];case 1:E.sent();try{for(a=Pn(s),l=a.next();!l.done;l=a.next()){if(c=l.value,p=this.observer[c],v=p&&p.remove?p.remove(c):null)throw v;ji[this.dbname][c]&&delete ji[this.dbname][c]}}catch(x){g={error:x}}finally{try{l&&!l.done&&(b=a.return)&&b.call(a)}finally{if(g)throw g.error}}return[2,s]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,zc(this.delay)];case 1:return s.sent(),ji[this.dbname]={},[2]}})})},u}(),TX=function(){function u(s){s===void 0&&(s={}),this.itemSizeLimit=104857600;var a=s.encryption,l=a===void 0?x0:a;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=l}return u.prototype.init=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return this.dbname=s,[4,new Promise(function(v,g){if(c._window&&eo)if(IX){var b=c._indexedDB.open("_testMozilla");b.onerror=function(){return g(nt.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return v()}}else kX?c._window.indexedDB||!c._window.PointerEvent&&!c._window.MSPointerEvent||g(nt.storeNotAvailableInPrivateBrowsing):v();else g(nt.storeNotAvailable)})];case 1:return p.sent(),a=this,[4,new Promise(function(v,g){var b=c._indexedDB.open(s);b.addEventListener("upgradeneeded",function(E){E.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(E){return v(E.target.result)}),b.addEventListener("error",function(E){return g(E.target.error)})})];case 2:a._database=p.sent(),p.label=3;case 3:return p.trys.push([3,,5,7]),[4,this.get(qr.key)];case 4:if((l=p.sent())&&JSON.stringify(l)!==JSON.stringify(qr.value))throw nt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(qr)];case 6:return p.sent(),[7];case 7:return[2]}})})},u.prototype.getAllKeys=function(){return q(this,void 0,void 0,function(){var s=this;return B(this,function(a){switch(a.label){case 0:return[4,new Promise(function(l,c){var p=s._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();p.addEventListener("success",function(v){l(v.target.result.filter(function(g){return g!==qr.key}))}),p.addEventListener("error",function(v){return c(v.target.error)})})];case 1:return[2,a.sent()]}})})},u.prototype.get=function(s){return q(this,void 0,void 0,function(){var a=this;return B(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,p){var v=a._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(s);v.addEventListener("success",function(g){return c(g.target.result?a._encryption.decrypt(g.target.result.value):null)}),v.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},u.prototype.set=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return a=s.key,l=s.value,[4,new Promise(function(v,g){var b=c._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:a,value:c._encryption.encrypt(l)});b.addEventListener("success",function(E){v(E.target.result)}),b.addEventListener("error",function(E){return g(E.target.error)})})];case 1:return p.sent(),[2,l]}})})},u.prototype.setMany=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return a=[],l=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),s.forEach(function(v){var g=v.key,b=v.value;a.push(new Promise(function(E){var x=l.put({key:g,value:c._encryption.encrypt(b)});x.addEventListener("success",function(D){E(D.target.result)}),x.addEventListener("error",function(){E(nt.collectionWriteFailed)})}))}),[4,Promise.all(a)];case 1:return p.sent(),[2,s.map(function(v){return v.value})]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){var a=this;return B(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,p){var v=a._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(s);v.addEventListener("success",function(){return c(s)}),v.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,l.sent()]}})})},u.prototype.removeMany=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return a=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(s.map(function(c){return new Promise(function(p,v){var g=a.delete(c);g.addEventListener("success",function(){return p(c)}),g.addEventListener("error",function(b){return v(b.target.error)})})}))];case 1:return[2,l.sent()]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){var s=this;return B(this,function(a){switch(a.label){case 0:return[4,new Promise(function(l,c){var p=s._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();p.addEventListener("success",function(){return l()}),p.addEventListener("error",function(v){return c(v.target.error)})})];case 1:return[2,a.sent()]}})})},u}(),NX=function(){function u(s){var a=s.AsyncStorage,l=s.encryption,c=l===void 0?x0:l;this.itemSizeLimit=6291456,this._asyncStorage=a,this._encryption=c}return u.prototype._isBelonging=function(s){return s.startsWith("".concat(this.dbname,"/"))},u.prototype._getActualKey=function(s){return"".concat(this.dbname,"/").concat(s)},u.prototype.init=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:this.dbname=s,l.label=1;case 1:return l.trys.push([1,,3,5]),[4,this.get(qr.key)];case 2:if((a=l.sent())&&JSON.stringify(a)!==JSON.stringify(qr.value))throw nt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(qr)];case 4:return l.sent(),[7];case 5:return[2]}})})},u.prototype.getAllKeys=function(){return q(this,void 0,void 0,function(){var s,a,l=this;return B(this,function(c){switch(c.label){case 0:return s=this._getActualKey(qr.key),[4,this._asyncStorage.getAllKeys()];case 1:return a=c.sent(),[2,a.filter(function(p){return l._isBelonging(p)&&p!==s}).map(function(p){return p.substring("".concat(l.dbname,"/").length)})]}})})},u.prototype.get=function(s){return q(this,void 0,void 0,function(){var a;return B(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(s))];case 1:return[2,(a=l.sent())?this._encryption.decrypt(JSON.parse(a)):null]}})})},u.prototype.set=function(s){return q(this,void 0,void 0,function(){var a,l,c;return B(this,function(p){switch(p.label){case 0:return a=s.key,l=s.value,c=JSON.stringify(this._encryption.encrypt(l)),a===qr.key||c.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(a),c)]:[3,2];case 1:return p.sent(),[2,JSON.parse(c)];case 2:throw nt.storeItemSizeExceeded}})})},u.prototype.setMany=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E,x,D;return B(this,function(L){switch(L.label){case 0:a=[],l=[];try{for(c=Pn(s),p=c.next();!p.done;p=c.next()){v=p.value;try{g=v.key,b=v.value,E=JSON.stringify(this._encryption.encrypt(b)),g===qr.key||E.length<this.itemSizeLimit?(l.push([this._getActualKey(g),E]),a.push(b)):a.push(nt.storeItemSizeExceeded)}catch{a.push(nt.collectionWriteFailed)}}}catch(G){x={error:G}}finally{try{p&&!p.done&&(D=c.return)&&D.call(c)}finally{if(x)throw x.error}}L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(l)];case 2:return L.sent(),[3,4];case 3:return L.sent(),[2,new Array(a.length).fill(nt.collectionWriteFailed)];case 4:return[2,a]}})})},u.prototype.remove=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(s))];case 1:return a.sent(),[2,s]}})})},u.prototype.removeMany=function(s){return q(this,void 0,void 0,function(){var a=this;return B(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.multiRemove(s.map(function(c){return a._getActualKey(c)}))];case 1:return l.sent(),[2,s]}})})},u.prototype.clear=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return[4,this.getAllKeys()];case 1:return s=a.sent(),[4,this.removeMany(s)];case 2:return a.sent(),[4,this.remove(qr.key)];case 3:return a.sent(),[2]}})})},u}(),j0=!0,hu=function(){function u(){}return u.off=function(){j0=!1},u.log=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];j0&&console.log.apply(console,Qt(["".concat("[NESTDB]","[LOG]")],Ut(s),!1))},u.warning=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];j0&&console.warn.apply(console,Qt(["".concat("[NESTDB]","[WARNING]")],Ut(s),!1))},u.error=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];j0&&console.error.apply(console,Qt(["".concat("[NESTDB]","[ERROR]")],Ut(s),!1))},u}();(function(u){u.INIT="INIT",u.OPENING="OPENING",u.OPENED="OPENED",u.CLOSED="CLOSED"})(no||(no={}));var OX=function(){function u(s){var a=s.name,l=s.version,c=s.store,p=s.config;this.name=a,this._version=l,this._state=no.INIT,this._config=p||new F0({dbname:a}),this._store=c,this._event={success:H0,error:H0,upgrade:MT},this._collections=new Map,this._globalMutex=new PT("".concat(this.name,".lock")),this._config.disableLogger&&hu.off(),new Na({dbname:a,limit:this._config.cacheLimit})}return Object.defineProperty(u.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),u.prototype.commitSchema=function(s){return q(this,void 0,void 0,function(){var a=this;return B(this,function(l){switch(l.label){case 0:return this._state!==no.OPENING?[3,2]:[4,Promise.all(s.map(function(c){return q(a,void 0,void 0,function(){var p,v,g,b;return B(this,function(E){switch(E.label){case 0:return p=c.collectionName,v=c.keyName,g=c.index,b=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new by({dbname:this.name,collectionName:p,keyName:v,keyHash:c.keyHash||null,indexes:b,store:this._store})),[4,this._collections.get(p).init()];case 1:return E.sent(),[2]}})})}))];case 1:return l.sent(),[3,3];case 2:throw nt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},u.prototype.open=function(){var s;return q(this,void 0,void 0,function(){var a,l,c,p,v=this;return B(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===no.OPENED)return[3,15];this._state=no.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,a="".concat(fy(b),".metadata"),l={version:0,collectionNames:[]},[4,this._store.get(a)];case 4:return c=(s=g.sent())!==null&&s!==void 0?s:l,[2,new Promise(function(E,x){var D=function(G){c.version<v._version?v._event.upgrade(c.version,function(ie){return q(v,void 0,void 0,function(){var ae;return B(this,function(te){switch(te.label){case 0:if(ie)return[3,5];c.version++,c.collectionNames=Array.from(this._collections.keys()),te.label=1;case 1:return te.trys.push([1,3,,4]),[4,this._store.set({key:a,value:c,generation:this._version})];case 2:return te.sent(),G({continued:!0}),[3,4];case 3:return ae=te.sent(),G({continued:!1,err:ae}),[3,4];case 4:return[3,6];case 5:G({continued:!1,err:ie}),te.label=6;case 6:return[2]}})})}):G({continued:!1})},L=function(G){var ie=G.continued,ae=ie!==void 0&&ie,te=G.err,ee=te===void 0?null:te;if(ae)setTimeout(function(){return D(L)},10);else if(ee)hu.error(ee.message),v._globalMutex.unlock(),v._event.error(ee),x(ee);else{var _e=[];c.collectionNames.forEach(function(Re){v._collections.has(Re)||_e.push(q(v,void 0,void 0,function(){var Le,hn;return B(this,function(xn){switch(xn.label){case 0:return[4,by.metadataOf(this.name,Re,this._store)];case 1:return(Le=xn.sent())?(hn=new by({dbname:this.name,collectionName:Re,keyName:Le.keyName,indexes:Le.indexes,store:this._store}),this._collections.set(Re,hn),[4,hn.init()]):[3,3];case 2:xn.sent(),xn.label=3;case 3:return[2]}})}))}),Promise.all(_e).then(function(){v._state=no.OPENED,v._globalMutex.unlock(),v._event.success(),E()}).catch(function(Re){hu.error(Re.message),v._globalMutex.unlock(),v._event.error(Re),x(Re)})}};D(L)})];case 5:switch(p=g.sent(),p.code){case Et.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Et.STORE_NOT_AVAILABLE:return[3,8];case Et.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return hu.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new G0({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return hu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new G0({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return hu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw hu.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},u.prototype.close=function(){this._collections.forEach(function(s){return s.close()}),this._state=no.CLOSED},u.prototype.clear=function(){return q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(a){return a.clear()}))];case 1:return s.sent(),[2]}})})},u.prototype.reset=function(){return q(this,void 0,void 0,function(){var s,a=this;return B(this,function(l){switch(l.label){case 0:return this.close(),(s=Na.get(this.name))&&s.clearByCondition(function(c){return c.key.startsWith(fy(a.name))}),[4,this._store.clear()];case 1:return l.sent(),[2]}})})},u.prototype.on=function(s,a){this._event[s]=a},u.prototype.off=function(s){typeof this._event[s]=="function"&&(s==="upgrade"?this._event[s]=MT:this._event[s]=H0)},u.prototype.collection=function(s){return this._collections.get(s)||null},u}(),Kh=null,AX=function(){function u(s,a,l){var c=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=s,this.options=a;var p=we.of(s),v=p.sdkState,g=p.cacheContext,b=p.dispatcher,E=p.sessionManager,x=p.requestQueue,D=p.logger,L=p.userEventHandlers;this._onlineDetector=new yY({logger:D,connectionDelegate:{reconnect:function(){var G=we.of(s),ie=G.sdkState,ae=G.connectionManager;ie.appState==="foreground"&&ae.resetAndReconnect()},disconnect:function(){we.of(s).connectionManager.disconnect()}}}),new xT(s,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:v,logger:D}),l.forEach(function(G){G.init(s,{sdkState:v,cacheContext:g,dispatcher:b,sessionManager:E,requestQueue:x,logger:D,onlineDetector:c._onlineDetector}),c[G.name]=G}),this._appStateChangeDetector=new bY,this._appStateChangeDetector.on("resume",function(){D.debug("the page resumes from freeze"),c.setForegroundState()}).on("pause",function(){D.debug("the page freezes"),c.setBackgroundState()}),b.on(function(G){if(G instanceof Ht){if(G.code==="USEV"){var ie=G.as(cY).event;if(ie.category===dy.FRIEND_DISCOVERED){var ae=ST.getDataAsFriendDiscoveredEvent(s,ie).friendDiscoveries;Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(Le){return[2,L.forEach(function(hn){hn.onFriendsDiscovered(ae)})]})})})}}}else if(G instanceof lk){var te=we.of(c._iid).subscribedUnreadMessageCount,ee=!1,_e=G.ts;if(typeof _e=="number"&&_e>te.ts){if(te.all!==G.all&&(ee=!0),te.all=G.all>=0?G.all:0,G.customTypes)for(var Re in G.customTypes)te.customTypes[Re]!==G.customTypes[Re]&&(ee=!0),te.customTypes[Re]=G.customTypes[Re];ee=ee&&te.ts>0,te.ts=_e}ee&&Qn(function(){return q(c,void 0,void 0,function(){return B(this,function(Le){return[2,L.forEach(function(hn){hn.onTotalUnreadMessageCountUpdated(te.all,te.customTypes)})]})})})}else G instanceof _k&&g.localCacheEnabled&&g.preference.set(c._getUserProfileCacheKey(v.userId),Gb.payloadify(G.userProfile))})}return u.init=function(s){var a=s.appId,l=s.appVersion,c=l===void 0?null:l,p=s.modules,v=p===void 0?[]:p,g=s.options,b=g===void 0?new sk:g,E=s.debugMode,x=E!==void 0&&E,D=s.customApiHost,L=s.customWebSocketHost,G=s.newInstance,ie=G!==void 0&&G,ae=s.logLevel,te=s.localCacheEnabled,ee=te!==void 0&&te,_e=s.localCacheEncryption,Re=s.useAsyncStorageStore,Le=Re===void 0?null:Re;if(!Kh||ie){var hn="su-".concat(Dc()),xn=_e!=null?_e:{encrypt:function(zi){return zi},decrypt:function(zi){return zi}},Xn=new G0({encryption:xn});x||(Xn=Le?new NX({AsyncStorage:Le,encryption:xn}):new TX({encryption:xn})),new we(hn,{appId:a,appVersion:c,options:b,apiHost:D!=null?D:"https://api-".concat(a,".sendbird.com"),websocketHost:L!=null?L:"wss://ws-".concat(a,".sendbird.com"),store:Xn,encryption:xn,logLevel:ae,localCacheEnabled:ee,debugMode:x});var zn=new u(hn,b,Qt(Qt([],Ut(v),!1),[new LK],!1));return Kh||(Kh=zn),zn}return Kh},Object.defineProperty(u,"instance",{get:function(){return Kh},enumerable:!1,configurable:!0}),Object.defineProperty(u,"version",{get:function(){return NV},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"appId",{get:function(){return we.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"appInfo",{get:function(){return we.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"appVersion",{get:function(){var s;return(s=we.of(this._iid).sdkState.appVersion)!==null&&s!==void 0?s:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"debugMode",{get:function(){return we.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"logLevel",{get:function(){return we.of(this._iid).logger.level},set:function(s){we.of(this._iid).logger.level=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isCacheEnabled",{get:function(){return we.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ekey",{get:function(){return Ph(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"currentUser",{get:function(){var s;return(s=we.of(this._iid).sessionManager.currentUser)!==null&&s!==void 0?s:null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"connectionState",{get:function(){var s=we.of(this._iid).connectionManager;return s.isConnected?Ko.OPEN:s.isConnecting?Ko.CONNECTING:Ko.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastConnectedAt",{get:function(){var s=we.of(this._iid),a=s.connectedAt;return s.connectionManager.isConnected?a:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),u.prototype._getPreferenceCacheKey=function(s){return"sendbird@".concat(this.appId,"/").concat(s,".pref")},u.prototype._getUserProfileCacheKey=function(s){return"sendbird@".concat(this.appId,"/").concat(s,".profile")},u.prototype.getMemoryStoreForDebugging=function(){var s=we.of(this._iid),a=s.debugMode,l=s.cacheContext;if(a)return l.store instanceof G0?l.store:null;throw be.debugModeRequired},u.prototype.addExtension=function(s,a){var l=we.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(s)>-1&&(l.extensions[s]=a)},u.prototype.initializeCache=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:return a=we.of(this._iid),l=a.sdkState,c=a.cacheContext,p=a.connectionManager,v=a.dispatcher,l.userId&&l.userId===s?[3,6]:[4,p.logout()];case 1:return x.sent(),l.userId=s,c.localCacheEnabled?(g="sendbird@".concat(l.appId,"/").concat(s,".db"),c.nestdb&&c.nestdb.state!==no.CLOSED&&c.nestdb.name===g?[3,3]:((b=c.nestdb=new OX({name:"sendbird@".concat(l.appId,"/").concat(s,".db"),version:1,store:c.store})).on("upgrade",function(D){return function(L,G){L===0?D.commitSchema([{collectionName:nY,keyName:tY,index:[cy(Zo.LATEST_LAST_MESSAGE),cy(Zo.CHRONOLOGICAL),cy(Zo.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:rY,keyName:iY,index:[Js(Nr.CHANNEL_LATEST),Js(Nr.NEWEST_CHILD_MESSAGE)]},{collectionName:aY,keyName:sY,index:[Js(Nr.CHANNEL_LATEST),Js(Nr.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return G()}).catch(function(ie){return G(ie)}):G()}}(b)),[4,b.open()])):[3,6];case 2:x.sent(),v.dispatch(new uY(this._iid,{userId:s})),x.label=3;case 3:return[4,c.preference.init(this._getPreferenceCacheKey(s))];case 4:return x.sent(),[4,c.preference.get(this._getUserProfileCacheKey(s))];case 5:(E=x.sent())&&new Gb(this._iid,E).apply(),x.label=6;case 6:return[2]}})})},u.prototype.clearCachedData=function(){return q(this,void 0,void 0,function(){var s;return B(this,function(a){switch(a.label){case 0:return(s=we.of(this._iid).cacheContext).localCacheEnabled?(s.nestdb&&s.nestdb.clear(),[4,s.preference.clear()]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},u.prototype.clearCachedMessages=function(s){return q(this,void 0,void 0,function(){var a,l,c=this;return B(this,function(p){switch(p.label){case 0:return an(it("string",s)).throw(be.invalidParameters),a=oY.of(this._iid),l=wT.of(this._iid),a&&l?[4,Promise.all(s.map(function(v){return q(c,void 0,void 0,function(){return B(this,function(g){switch(g.label){case 0:return[4,a.removeMessagesOfChannel(v)];case 1:return g.sent(),[4,l.removeMessagesOfChannel(v)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},u.prototype.connect=function(s,a){return a===void 0&&(a=null),q(this,void 0,void 0,function(){var l,c,p,v,g,b,E;return B(this,function(x){switch(x.label){case 0:l=we.of(this._iid),c=l.sdkState,p=l.cacheContext,v=l.connectionManager,g=l.statLogCollector,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.initializeCache(s)];case 2:return x.sent(),[3,4];case 3:return x.sent(),b=we.of(this._iid).logger,p.localCacheEnabled=!1,b.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,g.init("sendbird@".concat(c.appId,"/").concat(s,".statlog"))];case 5:return x.sent(),[4,v.connect(a)];case 6:return x.sent(),this._appStateChangeDetector.start(),c.appState="foreground",[4,(E=xT.of(this._iid))==null?void 0:E.processNonAutoResendRegisteredPendingMessages()];case 7:return x.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},u.prototype.reconnect=function(){var s=we.of(this._iid),a=s.connectionManager,l=s.sdkState,c=s.sessionManager.auth.hasSession;return c&&a.resetAndReconnect().then(function(){l.appState="foreground"}).catch(function(){}),c},u.prototype.disconnect=function(){return q(this,void 0,void 0,function(){var s,a,l,c;return B(this,function(p){switch(p.label){case 0:return s=we.of(this._iid),a=s.connectionManager,l=s.cacheContext,c=s.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,a.logout()];case 1:return p.sent(),l.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:p.sent(),p.label=3;case 3:return[2]}})})},u.prototype.setBackgroundState=function(){var s=we.of(this._iid),a=s.connectionManager,l=s.sdkState,c=s.logger;l.appState==="foreground"&&(l.appState="background",c.debug("going background state"),a.background())},u.prototype.setForegroundState=function(){var s=we.of(this._iid),a=s.connectionManager,l=s.sdkState,c=s.logger;l.appState==="background"&&(l.appState="foreground",c.debug("going foreground state"),a.resetAndReconnect())},u.prototype.setSessionHandler=function(s){an(s instanceof mY).throw(be.invalidParameters),we.of(this._iid).sessionManager.handler=s},u.prototype.addUserEventHandler=function(s,a){an(ve("string",s)&&a instanceof _Y).throw(be.invalidParameters),we.of(this._iid).userEventHandlers.set(s,a)},u.prototype.removeUserEventHandler=function(s){we.of(this._iid).userEventHandlers.delete(s)},u.prototype.removeAllUserEventHandler=function(){we.of(this._iid).userEventHandlers.clear()},u.prototype.addConnectionHandler=function(s,a){an(ve("string",s)&&a instanceof gY).throw(be.invalidParameters),we.of(this._iid).connectionHandlers.set(s,a)},u.prototype.removeConnectionHandler=function(s){we.of(this._iid).connectionHandlers.delete(s)},u.prototype.removeAllConnectionHandler=function(){we.of(this._iid).connectionHandlers.clear()},u.prototype.createApplicationUserListQuery=function(s){return s===void 0&&(s={}),new pX(this._iid,s)},u.prototype.createBlockedUserListQuery=function(s){return s===void 0&&(s={}),new mX(this._iid,s)},u.prototype.createFriendListQuery=function(s){return s===void 0&&(s={}),new bX(this._iid,s)},u.prototype.createMessageSearchQuery=function(s){return new MK(this._iid,s)},u.prototype.buildUserFromSerializedData=function(s){var a=O0(s);return new qn(this._iid,qn.payloadify(a))},u.prototype.updateCurrentUserInfo=function(s){return s===void 0&&(s={}),q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return s=fe(fe({},vY),s),an(function(E){return Ss(E.profileImage,!0)&&ve("string",E.profileUrl,!0)&&ve("string",E.nickname,!0)}(s)).throw(be.invalidParameters),this.currentUser?(a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new IT(fe({userId:l.userId},s)),[4,c.send(p)]):[3,2];case 1:return v=b.sent(),g=v.as(kT).user,this.currentUser&&(s.nickname&&(this.currentUser.nickname=g.nickname),(s.profileUrl||s.profileImage)&&(this.currentUser.plainProfileUrl=g.profileUrl)),[2,g];case 2:throw be.connectionRequired}})})},u.prototype.updateCurrentUserInfoWithPreferredLanguages=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return an(it("string",s)).throw(be.invalidParameters),this.currentUser?(a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new IT({userId:l.userId,preferredLanguages:s}),[4,c.send(p)]):[3,2];case 1:return v=b.sent(),g=v.as(kT).user,this.currentUser&&(this.currentUser.preferredLanguages=g.preferredLanguages),[2,g];case 2:throw be.connectionRequired}})})},u.prototype.registerFCMPushTokenForCurrentUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:if(an(ve("string",s)).throw(be.invalidParameters),!this.currentUser)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new wY({userId:l.userId,token:s}),[4,c.send(p)];case 2:return v.sent(),this._fcmPushToken="",[2,Gi.SUCCESS];case 3:return v.sent(),[2,Gi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=s,[2,Gi.PENDING];case 6:return[2]}})})},u.prototype.unregisterFCMPushTokenForCurrentUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:if(an(ve("string",s)).throw(be.invalidParameters),!this.currentUser)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new xY({userId:l.userId,token:s}),[4,c.send(p)];case 2:return v.sent(),this._fcmPushToken="",[2,Gi.SUCCESS];case 3:return v.sent(),[2,Gi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=s,[2,Gi.PENDING];case 6:return[2]}})})},u.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return q(this,void 0,void 0,function(){var s,a,l,c;return B(this,function(p){switch(p.label){case 0:return this.currentUser?(s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new IY({userId:a.userId}),[4,l.send(c)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},u.prototype.registerAPNSPushTokenForCurrentUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:if(an(ve("string",s)).throw(be.invalidParameters),!this.currentUser)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new EY({userId:l.userId,token:s}),[4,c.send(p)];case 2:return v.sent(),this._fcmPushToken="",[2,Gi.SUCCESS];case 3:return v.sent(),[2,Gi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=s,[2,Gi.PENDING];case 6:return[2]}})})},u.prototype.unregisterAPNSPushTokenForCurrentUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:if(an(ve("string",s)).throw(be.invalidParameters),!this.currentUser)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new CY({userId:l.userId,token:s}),[4,c.send(p)];case 2:return v.sent(),this._fcmPushToken="",[2,Gi.SUCCESS];case 3:return v.sent(),[2,Gi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=s,[2,Gi.PENDING];case 6:return[2]}})})},u.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return q(this,void 0,void 0,function(){var s,a,l,c;return B(this,function(p){switch(p.label){case 0:return this.currentUser?(s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new SY({userId:a.userId}),[4,l.send(c)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},u.prototype.getChannelInvitationPreference=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p;return B(this,function(v){switch(v.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new NY({userId:a.userId}),[4,l.send(c)];case 1:return p=v.sent(),[2,{autoAccept:p.as(OY).autoAccept}]}})})},u.prototype.setChannelInvitationPreference=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:return an(ve("boolean",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new AY({userId:l.userId,willAutoAccept:s}),[4,c.send(p)];case 1:return v=g.sent(),[2,{autoAccept:v.as(RY).autoAccept}]}})})},u.prototype.getDoNotDisturb=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p;return B(this,function(v){switch(v.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new MY({userId:a.userId}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(DY).preference]}})})},u.prototype.setDoNotDisturb=function(s,a,l,c,p,v){return a===void 0&&(a=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=""),q(this,void 0,void 0,function(){var g,b,E,x,D;return B(this,function(L){switch(L.label){case 0:return an(ve("boolean",s)&&ve("number",a)&&ve("number",l)&&ve("number",c)&&ve("number",p)&&ve("string",v)).throw(be.invalidParameters),g=we.of(this._iid),b=g.sdkState,E=g.requestQueue,x=new UY({userId:b.userId,doNotDisturbOn:s,startHour:a,startMin:l,endHour:c,endMin:p,timezone:v}),[4,E.send(x)];case 1:return D=L.sent(),[2,D.as(LY).preference]}})})},u.prototype.getSnoozePeriod=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p;return B(this,function(v){switch(v.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new PY({userId:a.userId}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as($Y).snoozePeriod]}})})},u.prototype.setSnoozePeriod=function(s,a,l){return a===void 0&&(a=0),l===void 0&&(l=0),q(this,void 0,void 0,function(){var c,p,v,g,b;return B(this,function(E){switch(E.label){case 0:return an(ve("boolean",s)&&ve("number",a)&&ve("number",l)).throw(be.invalidParameters),c=we.of(this._iid),p=c.sdkState,v=c.requestQueue,g=new FY({userId:p.userId,snoozeOn:s,startTs:a,endTs:l}),[4,v.send(g)];case 1:return b=E.sent(),[2,b.as(HY).snoozePeriod]}})})},u.prototype.getMyPushTokensByToken=function(s,a){return q(this,void 0,void 0,function(){var l,c,p,v,g;return B(this,function(b){switch(b.label){case 0:return an(ve("string",s)&&Lt(va,a)).throw(be.invalidParameters),l=we.of(this._iid),c=l.sdkState,p=l.requestQueue,v=new kY({userId:c.userId,type:a,token:s}),[4,p.send(v)];case 1:return g=b.sent(),[2,g.as(TY).pushTokens]}})})},u.prototype.getPushTriggerOption=function(){return q(this,void 0,void 0,function(){var s,a,l,c;return B(this,function(p){switch(p.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new dY({userId:a.userId}),[4,l.send(c)];case 1:return[2,p.sent().as(hY).pushTriggerOption]}})})},u.prototype.setPushTriggerOption=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(Lt(ly,s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new pY({userId:l.userId,pushTriggerOption:s}),[4,c.send(p)];case 1:return[2,v.sent().as(fY).pushTriggerOption]}})})},u.prototype.getPushTemplate=function(){return q(this,void 0,void 0,function(){var s,a,l,c;return B(this,function(p){switch(p.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new GY({userId:a.userId}),[4,l.send(c)];case 1:return[2,p.sent().as(jY).name]}})})},u.prototype.setPushTemplate=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(Lt(uy,s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new zY({userId:l.userId,templateName:s}),[4,c.send(p)];case 1:return[2,v.sent().as(VY).name]}})})},u.prototype.blockUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(s instanceof qn||ve("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new qY({userId:l.userId,blockedUserId:s instanceof qn?s.userId:s}),[4,c.send(p)];case 1:return v.sent(),[2]}})})},u.prototype.blockUserWithUserId=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2,this.blockUser(s)]})})},u.prototype.unblockUser=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(s instanceof qn||ve("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new BY({userId:l.userId,unblockedUserId:s instanceof qn?s.userId:s}),[4,c.send(p)];case 1:return v.sent(),[2]}})})},u.prototype.unblockUserWithUserId=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2,this.unblockUser(s)]})})},u.prototype.getFriendChangeLogsByToken=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:return an(ve("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new KY({userId:l.userId,token:s}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(WY).changelogs]}})})},u.prototype.getAllowFriendDiscovery=function(){return q(this,void 0,void 0,function(){var s,a,l,c,p;return B(this,function(v){switch(v.label){case 0:return s=we.of(this._iid),a=s.sdkState,l=s.requestQueue,c=new nX({userId:a.userId}),[4,l.send(c)];case 1:return p=v.sent(),[2,p.as(tX).allowFriendDiscovery]}})})},u.prototype.setAllowFriendDiscovery=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(ve("boolean",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new rX({userId:l.userId,allowFriendDiscovery:s}),[4,c.send(p)];case 1:return v.sent(),[2,s]}})})},u.prototype.uploadFriendDiscoveries=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:return a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new QY({userId:l.userId,discoveries:s}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(YY).friendDiscoveryRequestId]}})})},u.prototype.deleteFriendDiscovery=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2,this.deleteFriendDiscoveries([s])]})})},u.prototype.deleteFriendDiscoveries=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(it("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new XY({userId:l.userId,discoveryKeys:s}),[4,c.send(p)];case 1:return v.sent(),[2]}})})},u.prototype.addFriends=function(s){return q(this,void 0,void 0,function(){var a,l,c,p,v;return B(this,function(g){switch(g.label){case 0:return an(it("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new JY({userId:l.userId,userIds:s}),[4,c.send(p)];case 1:return v=g.sent(),[2,v.as(ZY).users]}})})},u.prototype.deleteFriend=function(s){return q(this,void 0,void 0,function(){return B(this,function(a){return[2,this.deleteFriends([s])]})})},u.prototype.deleteFriends=function(s){return q(this,void 0,void 0,function(){var a,l,c,p;return B(this,function(v){switch(v.label){case 0:return an(it("string",s)).throw(be.invalidParameters),a=we.of(this._iid),l=a.sdkState,c=a.requestQueue,p=new eX({userId:l.userId,userIds:s}),[4,c.send(p)];case 1:return v.sent(),[2]}})})},u.prototype.getAllEmoji=function(){return q(this,void 0,void 0,function(){var s,a,l;return B(this,function(c){switch(c.label){case 0:return s=we.of(this._iid).requestQueue,a=new aX,[4,s.send(a)];case 1:return l=c.sent(),[2,l.as(sX).emojiContainer]}})})},u.prototype.getEmojiCategory=function(s){return q(this,void 0,void 0,function(){var a,l,c;return B(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,l=new oX({categoryId:s}),[4,a.send(l)];case 1:return c=p.sent(),[2,c.as(lX).emojiCategory]}})})},u.prototype.getEmoji=function(s){return q(this,void 0,void 0,function(){var a,l,c;return B(this,function(p){switch(p.label){case 0:return a=we.of(this._iid).requestQueue,l=new uX({key:s}),[4,a.send(l)];case 1:return c=p.sent(),[2,c.as(cX).emoji]}})})},u}(),RX=function(u){y(a,u);var s=P(a);function a(l){var c;return h(this,a),c=s.call(this),c._ctx=l,c.wsClient=new ZQ(i(i({},l),{},{parse:function(v){return Ot.parse(v)}})),c.apiClient=new eY(i(i({},l),{},{parseResponse:function(v,g){return Ot.parseResponse(v,g)}})),c._unsubscriber=c.wsClient.on("command",function(p){c._dispatchEvent("command",p)}),c}return m(a,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"sendAPI",value:function(c){return this.apiClient.send(c)}},{key:"send",value:function(){var l=d(regeneratorRuntime.mark(function p(v){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(v));case 1:case"end":return b.stop()}},p,this)}));function c(p){return l.apply(this,arguments)}return c}()},{key:"sendWithRetry",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g=this,b,E,x,D,L,G,ie=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return b=ie.length>1&&ie[1]!==void 0?ie[1]:new lV,E=ie.length>2&&ie[2]!==void 0?ie[2]:{count:0,deferred:new Ab},x=E.deferred,D=E.count,te.prev=3,te.next=6,this.send(v);case 6:L=te.sent,x.resolve(L),te.next=14;break;case 10:te.prev=10,te.t0=te.catch(3),G=b.calcTimeout(D),G>0?setTimeout(function(){g.sendWithRetry(v,b,{count:D+1,deferred:x})},G):x.reject(te.t0);case 14:return te.abrupt("return",x.promise);case 15:case"end":return te.stop()}},p,this,[[3,10]])}));function c(p){return l.apply(this,arguments)}return c}()},{key:"_setSessionKey",value:function(c){this.apiClient.setSessionKey(c),this.wsClient.setSessionKey(c)}},{key:"authenticate",value:function(){var l=d(regeneratorRuntime.mark(function p(v){var g,b,E,x;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return g=v.userId,b=v.accessToken,this._ctx.sb||(this._ctx.sb=AX.init({appId:this._ctx.appId,modules:[new oQ]})),L.prev=2,L.next=5,this._ctx.sb.connect(g,b);case 5:return E=Ot.createAuth(this._ctx.appId,g,b),L.next=8,this.send(E);case 8:x=L.sent,this._setSessionKey(x.sbcall_session_token),this._ctx.liveEventManager.userId=x.user.user_id,L.next=17;break;case 13:throw L.prev=13,L.t0=L.catch(2),dn.error("failed to authenticate user ".concat(g)),L.t0;case 17:case"end":return L.stop()}},p,this,[[2,13]])}));function c(p){return l.apply(this,arguments)}return c}()},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),a}(Go),MX=bc,DX=Za,UX=er,LX=RangeError,PX=function(s){var a=DX(UX(this)),l="",c=MX(s);if(c<0||c==1/0)throw LX("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(a+=a))c&1&&(l+=a);return l},$T=Hn,$X=Ff,FT=Za,FX=PX,HX=er,qX=$T(FX),BX=$T("".slice),GX=Math.ceil,HT=function(u){return function(s,a,l){var c=FT(HX(s)),p=$X(a),v=c.length,g=l===void 0?" ":FT(l),b,E;return p<=v||g==""?c:(b=p-v,E=qX(g,GX(b/g.length)),E.length>b&&(E=BX(E,0,b)),u?c+E:E+c)}},jX={start:HT(!1),end:HT(!0)},zX=$o,VX=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(zX),KX=Gt,WX=jX.start,QX=VX;KX({target:"String",proto:!0,forced:QX},{padStart:function(s){return WX(this,s,arguments.length>1?arguments[1]:void 0)}});var yy={VERBOSE:{level:-1,name:Hr.VERBOSE,public:!1},DEBUG:{level:1,name:Hr.DEBUG,public:!1},INFO:{level:2,name:Hr.INFO,public:!0},WARNING:{level:3,name:Hr.WARNING,public:!0},ERROR:{level:4,name:Hr.ERROR,public:!0},NONE:{level:100,name:Hr.NONE,public:!0}},YX=function(){function u(s){h(this,u),this.level=s||Hr.NONE}return m(u,[{key:"setLoggerLevel",value:function(a){var l;return(l=yy[a])!==null&&l!==void 0&&l.public&&(this.level=a),this.level}},{key:"_enabledFor",value:function(a){try{return yy[this.level].level<=yy[a].level}catch{return!1}}}]),u}(),XX=function(u){y(a,u);var s=P(a);function a(l){return h(this,a),s.call(this,l)}return m(a,[{key:"_getLogType",value:function(c){switch(c){case Hr.ERROR:return"error";case Hr.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(c){var p=c.getFullYear().toString().padStart(2,"0"),v=(c.getMonth()+1).toString().padStart(2,"0"),g=c.getDate().toString().padStart(2,"0"),b=c.getHours().toString().padStart(2,"0"),E=c.getMinutes().toString().padStart(2,"0"),x=c.getSeconds().toString().padStart(2,"0"),D=c.getMilliseconds().toString().padStart(2,"0");return"[".concat(p,".").concat(v,".").concat(g," ").concat(b,":").concat(E,":").concat(x,":").concat(D,"]")}},{key:"_permit",value:function(c){var p=this._getLogType(c),v=new Date;if(this._enabledFor(c)&&console&&console[p]){for(var g,b="".concat(this._getTimeString(v)," [").concat(c,"]"),E=arguments.length,x=new Array(E>1?E-1:0),D=1;D<E;D++)x[D-1]=arguments[D];(g=console)[p].apply(g,[b].concat(x))}}}]),a}(YX),JX=function(){function u(){h(this,u),_(this,"_ctx",{})}return m(u,[{key:"init",value:function(a){var l=a.appId,c=a.chatInstance;c&&(this._ctx.sb=c),this._consoleLogListener=new XX(Hr.NONE),dn.addListener(this._consoleLogListener),this._ctx.appId=l,this._ctx.clientId=V(),this._ctx.commandRouter=new RX(this._ctx),this._ctx.deviceManager=new BQ,this._ctx.liveEventManager=new lQ(this._ctx)}},{key:"setLoggerLevel",value:function(a){return this._consoleLogListener.setLoggerLevel(a)}},{key:"authenticate",value:function(){var s=d(regeneratorRuntime.mark(function l(c,p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ctx.commandRouter.authenticate({userId:c,accessToken:p});case 2:return g.next=4,this._ctx.commandRouter.connectWs();case 4:case"end":return g.stop()}},l,this)}));function a(l,c){return s.apply(this,arguments)}return a}()},{key:"deauthenticate",value:function(){var s=d(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),dn.removeAllListener();case 5:case"end":return p.stop()}},l,this)}));function a(){return s.apply(this,arguments)}return a}()},{key:"createLiveEvent",value:function(){var s=d(regeneratorRuntime.mark(function l(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.createLiveEvent(c));case 1:case"end":return v.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"getLiveEvent",value:function(){var s=d(regeneratorRuntime.mark(function l(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.getLiveEvent(c));case 1:case"end":return v.stop()}},l,this)}));function a(l){return s.apply(this,arguments)}return a}()},{key:"createLiveEventListQuery",value:function(a){return new fq(a,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(a){return this._ctx.deviceManager.useMedia(a)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(a){return this._ctx.deviceManager.selectDevice("audioinput",a)}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(a){return this._ctx.deviceManager.selectDevice("videoinput",a)}}]),u}(),ZX=new JX;t.LiveEvent=Db,t.SendbirdLive=ZX,Object.defineProperty(t,"__esModule",{value:!0})})})(Zt,Zt.exports);var Tee="sendbird-modal-root";function Ei(e,n){n===void 0&&(n={});var t=n.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Nee=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;Ei(Nee);var Oee=function(e){var n=e.children,t=e.isOpen,r=t===void 0?!1:t;e.close;var i=e.modalRoot,o=i===void 0?Tee:i,d=e.className,h=d===void 0?"":d,f=e.modalClassName,m=f===void 0?"":f;if(!r)return null;var _=document.getElementById(o);return Bd.exports.createPortal(S.createElement("div",{className:"sendbird-modal__wrapper ".concat(h)},S.createElement("div",{className:"sendbird-modal__mask"}),S.createElement("div",{className:"sendbird-modal__container ".concat(m)},n)),_)},Uu=function(e,n){var t=F.exports.useState(!1),r=t[0],i=t[1],o=F.exports.useCallback(function(){return i(!0)},[i]),d=F.exports.useCallback(function(){return i(!1)},[i]),h=function(f){var m=f.children;return S.createElement(Oee,{isOpen:r,close:d,className:e,modalClassName:n},m)};return[h,o,d]};function e6(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function nr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?e6(Object(t),!0).forEach(function(r){Aee(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):e6(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Aee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function mo(e,n){return Mee(e)||Uee(e,n)||RM(e,n)||Pee()}function Ou(e){return Ree(e)||Dee(e)||RM(e)||Lee()}function Ree(e){if(Array.isArray(e))return wE(e)}function Mee(e){if(Array.isArray(e))return e}function Dee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uee(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,d,h;try{for(t=t.call(e);!(i=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function RM(e,n){if(!!e){if(typeof e=="string")return wE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wE(e,n)}}function wE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce={exports:{}},n1,n6;function $ee(){if(n6)return n1;n6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return n1=e,n1}var t1,t6;function Fee(){if(t6)return t1;t6=1;var e=$ee();function n(){}function t(){}return t.resetWarningCache=n,t1=function(){function r(d,h,f,m,_,y){if(y!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:n};return o.PropTypes=o,o},t1}ce.exports=Fee()();var _3=S.createContext(),Hee=function(n,t){var r=function(d){return S.createElement(_3.Consumer,null,function(h){t&&typeof t!="function"&&console.warn("Second parameter to withSendbirdContext must be a pure function");var f=nr(t&&typeof t=="function"?nr({},t(h)):nr({},h),d);return S.createElement(n,f)})},i=n.displayName||n.name||"Component";return r.displayName="SendbirdAware".concat(i),r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CE=function(e,n){return CE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},CE(e,n)};function j(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}CE(e,n),e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ne=function(){return ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},ne.apply(this,arguments)};function O(e,n,t,r){return new(t||(t=Promise))(function(i,o){function d(m){try{f(r.next(m))}catch(_){o(_)}}function h(m){try{f(r.throw(m))}catch(_){o(_)}}function f(m){var _;m.done?i(m.value):(_=m.value,_ instanceof t?_:new t(function(y){y(_)})).then(d,h)}f((r=r.apply(e,n||[])).next())})}function A(e,n){var t,r,i,o,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function h(f){return function(m){return function(_){if(t)throw new TypeError("Generator is already executing.");for(;d;)try{if(t=1,r&&(i=2&_[0]?r.return:_[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,_[1])).done)return i;switch(r=0,i&&(_=[2&_[0],i.value]),_[0]){case 0:case 1:i=_;break;case 4:return d.label++,{value:_[1],done:!1};case 5:d.label++,r=_[1],_=[0];continue;case 7:_=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=i.length>0&&i[i.length-1])||_[0]!==6&&_[0]!==2)){d=0;continue}if(_[0]===3&&(!i||_[1]>i[0]&&_[1]<i[3])){d.label=_[1];break}if(_[0]===6&&d.label<i[1]){d.label=i[1],i=_;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(_);break}i[2]&&d.ops.pop(),d.trys.pop();continue}_=n.call(e,d)}catch(y){_=[6,y],r=0}finally{t=i=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([f,m])}}}function ze(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r,i,o=t.call(e),d=[];try{for(;(n===void 0||n-- >0)&&!(r=o.next()).done;)d.push(r.value)}catch(h){i={error:h}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return d}function pn(e,n,t){if(t||arguments.length===2)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))}var Vn,qee="4.0.4",Lu=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"4.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();(function(e){e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",e[e.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Vn||(Vn={}));var ke,us=function(e){return!(e instanceof ue&&!e.shouldThrowOutside)},ue=function(e){function n(t){var r=t.code,i=r===void 0?0:r,o=t.message,d=e.call(this,o)||this;return d.shouldThrowOutside=!1,d.name="SendbirdError",d.code=i,Object.setPrototypeOf(d,n.prototype),d}return j(n,e),Object.defineProperty(n.prototype,"isInvalidTokenError",{get:function(){return this.code===Vn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Vn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Vn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n,"debugModeRequired",{get:function(){return new n({code:Vn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"lostInstance",{get:function(){return new n({code:Vn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRenew",{get:function(){return new n({code:Vn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidConnectionStateTransition",{get:function(){return new n({code:Vn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRequired",{get:function(){return new n({code:Vn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionCanceled",{get:function(){return new n({code:Vn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidParameters",{get:function(){return new n({code:Vn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"networkError",{get:function(){return new n({code:Vn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"markAsReadAllRateLimitExceeded",{get:function(){return new n({code:Vn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"queryInProgress",{get:function(){return new n({code:Vn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noAckTimeout",{get:function(){return new n({code:Vn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"loginTimeout",{get:function(){return new n({code:Vn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionClosed",{get:function(){return new n({code:Vn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestFailed",{get:function(){return new n({code:Vn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileUploadCanceled",{get:function(){return new n({code:Vn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestCanceled",{get:function(){return new n({code:Vn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRefreshFailed",{get:function(){return new n({code:Vn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRequestFailed",{get:function(){return new n({code:Vn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),n.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},n}(Error),Bee=[Vn.CONNECTION_REQUIRED,Vn.NETWORK_ERROR,Vn.ACK_TIMEOUT,Vn.WEBSOCKET_CONNECTION_CLOSED,Vn.WEBSOCKET_CONNECTION_FAILED,Vn.FILE_UPLOAD_CANCEL_FAILED,Vn.REQUEST_CANCELED,Vn.INTERNAL_SERVER_ERROR,Vn.RATE_LIMIT_EXCEEDED,Vn.UNKNOWN_SERVER_ERROR],Gee=[Vn.WEBSOCKET_CONNECTION_CLOSED,Vn.WEBSOCKET_CONNECTION_FAILED,Vn.CONNECTION_REQUIRED],MM=function(e,n){if(e!==n){var t=ne({},e),r=ne({},n);return(!t.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||t.messageId===r.messageId)&&(!t.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}return!0},Z=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||(typeof e!="string"?typeof e=="object"?yn(e,n):jee(e,n):typeof n===e)},yn=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Object.values(e).includes(n)},jee=function(e,n){return n instanceof e},En=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Array.isArray(n)&&n.every(function(r){return Z(e,r)})},_m=function(e){return e>0&&Gee.indexOf(e)>=0},ei=function(e,n){if(n===void 0&&(n=!1),n&&e===null)return!0;var t=Z("object",e)&&e!==null&&e.hasOwnProperty("name")&&typeof e.name=="string"&&e.hasOwnProperty("uri")&&typeof e.uri=="string"&&e.hasOwnProperty("type")&&typeof e.type=="string";if(!t){if(typeof Blob<"u")return e instanceof Blob;if(typeof File<"u")return e instanceof File}return t},zee=function(e,n){if(e===n)return!0;if(e==null||n==null||e.length!==n.length)return!1;for(var t=pn([],fn(e),!1).sort(),r=pn([],fn(n),!1).sort(),i=0;i<t.length;++i)if(t[i]!==r[i])return!1;return!0},DM=function(){function e(n){var t=n===void 0?{}:n,r=t.useMemberInfoInMessage,i=r!==void 0&&r,o=t.typingIndicatorInvalidateTime,d=o===void 0?1e4:o,h=t.typingIndicatorThrottle,f=h===void 0?1e3:h,m=t.websocketResponseTimeout,_=m===void 0?1e4:m;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=i,this._typingIndicatorInvalidateTime=d,this._typingIndicatorThrottle=f,this._websocketResponseTimeout=_}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(n){Z("boolean",n)&&(this._useMemberInfoInMessage=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(n){Z("number",n)&&(this._typingIndicatorInvalidateTime=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(n){Z("number",n)&&n>=1e3&&n<=9e3&&(this._typingIndicatorThrottle=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(n){Z("number",n)&&n>=5e3&&n<=3e4&&(this._websocketResponseTimeout=n)},enumerable:!1,configurable:!0}),e}(),Jr={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},tg={encrypt:function(e){return e},decrypt:function(e){return e}},Vee=function(){function e(n){var t=n.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._store.set({key:this._keysAddress,value:pn([],fn(this._preference.keys()),!1),generation:1})];case 1:return n.sent(),[2]}})})},e.prototype.init=function(n){var t;return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m,_;return A(this,function(y){switch(y.label){case 0:return this._keysAddress=n,[4,this._store.get(n)];case 1:r=(t=y.sent())!==null&&t!==void 0?t:[],y.label=2;case 2:y.trys.push([2,7,8,9]),i=ze(r),o=i.next(),y.label=3;case 3:return o.done?[3,6]:(d=o.value,[4,this._store.get(d)]);case 4:(h=y.sent())&&this._preference.set(d,h),y.label=5;case 5:return o=i.next(),[3,3];case 6:return[3,9];case 7:return f=y.sent(),m={error:f},[3,9];case 8:try{o&&!o.done&&(_=i.return)&&_.call(i)}finally{if(m)throw m.error}return[7];case 9:return[2]}})})},e.prototype.get=function(n){var t;return O(this,void 0,void 0,function(){return A(this,function(r){return[2,(t=this._preference.get(n))!==null&&t!==void 0?t:null]})})},e.prototype.set=function(n,t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return r=!this._preference.has(n),[4,this._store.set({key:n,value:t,generation:1})];case 1:return i.sent(),this._preference.set(n,t),r?[4,this._savePreferenceKeys()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._store.remove(n)];case 1:return t.sent(),this._preference.delete(n),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._store.removeMany(pn([],fn(this._preference.keys()),!1))];case 1:return n.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return n.sent(),[2]}})})},e}(),Kee=function(e){var n=e.encryption,t=n===void 0?null:n,r=e.store,i=r===void 0?null:r,o=e.localCacheEnabled,d=o===void 0||o;this.nestdb=null,this.store=i,this.preference=new Vee({store:i}),this.encryption=t!=null?t:tg,this.localCacheEnabled=d},Wee=function(){function e(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=null,this.sessionKey=null},e}(),Ha=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})},r6=function(){function e(n){var t=n.container;this._container={},this._container=t,this.key=Ha()}return e.prototype._register=function(n,t,r){return n in this._container||(this._container[n]=new Map),this._container[n].set(this.key,{occurence:t,handler:r}),this},e.prototype.on=function(n,t){return this._register(n,-1,t)},e.prototype.once=function(n,t){return this._register(n,1,t)},e.prototype.close=function(){for(var n in this._container)this._container[n].delete(this.key)},e}(),Cf=function(){function e(){this._container={}}return e.prototype.on=function(n,t){return new r6({container:this._container}).on(n,t)},e.prototype.once=function(n,t){return new r6({container:this._container}).once(n,t)},e.prototype.dispatch=function(n,t){var r,i,o=this._container[n];if(o){var d=[];try{for(var h=ze(o.keys()),f=h.next();!f.done;f=h.next()){var m=f.value,_=o.get(m);_.handler(t),_.occurence>0&&(_.occurence--,_.occurence===0&&d.push(m))}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}d.forEach(function(y){return o.delete(y)})}},e}(),Qee=function(){function e(){this._dispatcher=new Cf}return e.prototype.on=function(n){return this._dispatcher.on("event",n)},e.prototype.once=function(n){return this._dispatcher.once("event",n)},e.prototype.dispatch=function(n){this._dispatcher.dispatch("event",n)},e}(),Sr=function(){},_n=function(e){var n={};return e&&Object.keys(e).forEach(function(t){e[t]!==void 0&&e[t]!==NaN&&e[t]!==null&&(n[t]=e[t])}),n};(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(ke||(ke={}));var bm,Oe=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=Ha(),t}return j(n,e),n.prototype.stringifyParams=function(t){return typeof t!="object"||Array.isArray(t)?String(t):t?JSON.stringify(t):""},Object.defineProperty(n.prototype,"query",{get:function(){var t=this,r=_n(this.params);return"?".concat(Object.keys(r).map(function(i){return"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t.stringifyParams(r[i])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"payload",{get:function(){var t=this,r=_n(this.params);if(Object.keys(r).some(function(o){return ei(r[o])})){var i=new FormData;return Object.keys(r).forEach(function(o){var d,h=r[o];if(ei(h)){var f=h;i.append(o,f,(d=f.name)!==null&&d!==void 0?d:"filename")}else i.append(o,t.stringifyParams(h))}),i}return JSON.stringify(r)},enumerable:!1,configurable:!0}),n}(Sr),Ue=function(e){function n(t,r){var i=e.call(this)||this;return i._iid=t,i._payload=r,i}return j(n,e),Object.defineProperty(n.prototype,"payload",{get:function(){return ne({},this._payload)},enumerable:!1,configurable:!0}),n.prototype.as=function(t){return new t(this._iid,this.payload)},n}(Sr),Yee=function(e){function n(t){var r=e.call(this)||this;return r.requestId=t,r}return j(n,e),n}(Sr),rg=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return j(n,e),n}(Sr),b3=function(e){function n(t){var r=e.call(this)||this;return r.statLog=t,r}return j(n,e),n}(Sr);(function(e){e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"})(bm||(bm={}));var Tl,sf=function(){function e(n){var t=n.type,r=n.data,i=n.ts,o=i===void 0?Date.now():i;this.type=t,this.createdAt=o,this.data=r}return e.payloadify=function(n){return _n({stat_type:n.type,ts:n.createdAt,data:_n(n.data)})},e}(),Rs=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},Xee=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,d=t.logger,h=this;this._abortControl=new Map,this._iid=n,this._auth=r,this._sdkState=i,this._dispatcher=o,this._dispatcher.on(function(f){f instanceof Yee&&h.cancel(f.requestId)}),this._logger=d}return Object.defineProperty(e.prototype,"_userAgentWithExtension",{get:function(){var n=this._sdkState.extensions,t=Rs()?"reactnative":"JS",r=n.sb_syncmanager?"s".concat(n.sb_syncmanager):"",i=n.sb_uikit?"u".concat(n.sb_uikit):"",o=n["device-os-platform"]?"o".concat(n["device-os-platform"]):"";return"".concat(t,"/c").concat(Lu.SDK_VERSION,"/").concat(r,"/").concat(i,"/").concat(o)},enumerable:!1,configurable:!0}),e.prototype._createHeader=function(n,t){t===void 0&&(t=null);var r=this._sdkState,i=r.appId,o=r.appVersion,d=ne(ne({},n.headers),{SendBird:"JS,".concat(Lu.OS_VERSION,",").concat(Lu.SDK_VERSION,",").concat(i).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(d["Content-Type"]="application/json; charset=utf-8"),n.requireAuth&&this._auth.hasSession&&(d["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(d["App-Id"]=i,d["Access-Token"]=this._auth.authToken),d},e.prototype._statLogApiResult=function(n,t,r){this._dispatcher.dispatch(new b3(new sf({type:bm.API_RESULT,data:{endpoint:n.path,method:n.method,success:!r,latency:Date.now()-t,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},e.prototype.send=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I,k,U;return A(this,function(T){switch(T.label){case 0:t=n.path,r=n.method,i=![ke.GET,ke.DELETE].includes(r),o=this._sdkState.api,d="".concat(o.host).concat(t).concat(i?"":n.query),h=i?n.payload:null,f=this._createHeader(n,h instanceof FormData?h:null),m=new AbortController,_=m.signal,this._abortControl.set(n.requestId,m),y=Date.now(),T.label=1;case 1:return T.trys.push([1,4,,5]),[4,fetch(d,{method:r,body:h,headers:f,signal:_})];case 2:return[4,(w=T.sent()).json()];case 3:if(C=T.sent(),w.ok||w.redirected)return this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,y,null),[2,new Ue(this._iid,C)];throw C?((I=new ue(C)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new rg),this._statLogApiResult(n,y,I),I):(I=ue.requestFailed,this._statLogApiResult(n,y,I),I);case 4:throw k=T.sent(),this._statLogApiResult(n,y,k),k instanceof ue?(this._logger.debug("fail api request",k),k):k.name==="AbortError"?ue.requestCanceled:(U=ue.networkError,this._logger.debug("fail api request",U),U);case 5:return[2]}})})},e.prototype.cancel=function(n){this._abortControl.has(n)&&(this._abortControl.get(n).abort(),this._abortControl.delete(n))},e.prototype.cancelAll=function(){var n,t;try{for(var r=ze(this._abortControl.values()),i=r.next();!i.done;i=r.next())i.value.abort()}catch(o){n={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}this._abortControl.clear()},e}(),gt=function(e){function n(t,r,i,o){o===void 0&&(o="");var d,h=this;return(h=e.call(this)||this)._iid=t,h.code=r,h.payload=i,h.requestId=i?(d=i.req_id)!==null&&d!==void 0?d:o:"",h}return j(n,e),n.createFromRawMessage=function(t,r){var i=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{i="NOOP"}finally{return new n(t,i,o)}},n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n.prototype.as=function(t){return new t(this._iid,this.code,this.payload)},n}(Sr),oa=function(e){function n(t){var r,i=t.code,o=t.ackRequired,d=t.payload,h=d===void 0?null:d,f=this;return(f=e.call(this)||this).code=i,f.payload=h,f.requestId=(r=f.payload.req_id)!==null&&r!==void 0?r:Ha(),f.ackRequired=o,f.payload.req_id=f.requestId,f}return j(n,e),n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n}(Sr),Jee=function(e){function n(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return j(n,e),n}(oa),Zee=function(){function e(n){var t=n.pingDelegate,r=n.sdkState,i=n.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=r,this._logger=i}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var n,t=this,r=new Jee;try{var i=(n=this.sdkState.websocket.pongTimeout)!==null&&n!==void 0?n:5e3;this._pingTimeoutTimer=setTimeout(function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)},i),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e.prototype.refreshTimer=function(){var n,t=this;this._logger.debug("pinger.refreshTimer()");var r=(n=this.sdkState.websocket.pingInterval)!==null&&n!==void 0?n:15e3;this.stop(),this._pingTimer=setInterval(function(){t.ping()},r)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e}(),Tn=function(){};(function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"})(Tl||(Tl={}));var ht,ene=function(e){function n(t,r){var i=r.sdkState,o=r.dispatcher,d=r.logger,h=e.call(this)||this;return h._pinger=null,h.lastActive=0,h._iid=t,h._sdkState=i,h._dispatcher=o,h._logger=d,h._sdkState.websocket.pingerDisabled||(h._pinger=new Zee({pingDelegate:{send:function(f){return h.send(f)},error:function(f){return h.error(f)}},sdkState:h._sdkState,logger:d})),h}return j(n,e),Object.defineProperty(n.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Tl.CONNECTING;case 1:return Tl.OPEN}return Tl.CLOSED},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){var r=this;this._ws=new WebSocket(t),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(i){i.data.split(`
`).forEach(function(o){if(o&&Z("string",o)){var d=gt.createFromRawMessage(r._iid,o);r._logger.debug("receive websocket event",d),d.code==="LOGI"?(d.payload&&!d.payload.error&&r._pinger&&r._pinger.start(),r.dispatch("message",d)):d.code==="PONG"?r._pinger&&r._pinger.pong():d.code==="EXPR"?d.payload&&d.payload.expires_in>0&&r._dispatcher.dispatch(new rg):d.code==="NOOP"||r.dispatch("message",d)}})},this._ws.onerror=function(){r._logger.debug("websocket error"),r._pinger&&r._pinger.stop(),r.dispatch("error",ue.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r._pinger&&r._pinger.stop(),r.dispatch("close")},this.lastActive=Date.now()},n.prototype.disconnect=function(){var t=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Tn,this._ws.onmessage=Tn,this._ws.onerror=Tn,this._ws.onclose=function(){t.dispatch("close")},this._ws.close(),this._ws=null)},n.prototype.send=function(t){if(!this._ws)throw ue.connectionClosed;t.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",t),this._ws.send(t.convertToMessage())},n.prototype.error=function(t){this._logger.debug("websocket error",t),this._pinger&&this._pinger.stop(),this.dispatch("error",t)},n}(Cf),UM=function(e){function n(t){var r=t.all,i=t.custom_types,o=t.ts,d=e.call(this)||this;return d.all=r,d.customTypes=i,d.ts=o,d}return j(n,e),n}(Sr),Ai=function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})},nne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,d=t.logger,h=this;this._ackStateMap=new Map,this._sdkState=i,this._dispatcher=o,this._logger=d,this.apiClient=new Xee(n,{auth:r,sdkState:i,dispatcher:o,logger:d}),this.websocketClient=new ene(n,{sdkState:i,dispatcher:o,logger:d}),this.websocketClient.on("message",function(f){if(f.payload.unread_cnt&&h._dispatcher.dispatch(new UM(f.payload.unread_cnt)),f.requestId){if(h._ackStateMap.has(f.requestId)){var m=h._ackStateMap.get(f.requestId);f.code!=="EROR"?m.resolve(f):m.reject(new ue({code:f.payload.code,message:f.payload.message}))}}else h._dispatcher.dispatch(f)}).on("close",function(){h._ackStateMap.forEach(function(f){f.reject(ue.connectionClosed)}),h._ackStateMap.clear()})}return e.prototype._sendApiRequest=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.apiClient.send(n)];case 1:return[2,t.sent()]}})})},e.prototype._sendWebsocketRequest=function(n){return O(this,void 0,void 0,function(){var t,r,i,o=this;return A(this,function(d){if(t=new Ai,n.ackRequired){r=null,i=function(h,f){h===void 0&&(h=null),f===void 0&&(f=null),o._ackStateMap.has(n.requestId)&&(o._ackStateMap.delete(n.requestId),r&&(clearTimeout(r),r=null),h?(o._logger.debug("fail websocket request",h),t.reject(h)):(o._logger.debug("receive websocket ack",n.requestId),t.resolve(f)))};try{r=setTimeout(function(){return i(ue.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(n.requestId,{resolve:function(h){return i(null,h)},reject:function(h){return i(h)}}),this.websocketClient.send(n)}catch(h){i(h)}}else try{this.websocketClient.send(n),t.resolve(null)}catch(h){t.reject(h)}return[2,t.promise]})})},e.prototype.send=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return n instanceof Oe?[4,this._sendApiRequest(n)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return n instanceof oa?[4,this._sendWebsocketRequest(n)]:[3,4];case 4:throw ue.invalidParameters}})})},e.prototype.cancel=function(n){this.apiClient.cancel(n)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();(function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.DISCONNECTED=5]="DISCONNECTED",e[e.LOGOUT=6]="LOGOUT"})(ht||(ht={}));var ut,qa,Wt,Lr,Od,$r,bi,Rl,yt,ms=function(e){function n(t){var r=t.stateType,i=e.call(this)||this;return i.stateType=r,i}return j(n,e),n}(Sr),tne=function(){function e(n,t){var r=t.auth,i=t.sdkState,o=t.dispatcher,d=t.logger,h=this;this._currentConnectionStateType=ht.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new nne(n,{auth:r,sdkState:i,dispatcher:o,logger:d}),this._auth=r,this._logger=d,this._dispatcher=o,this._dispatcher.on(function(f){if(f instanceof ms){var m=f.stateType;switch(h._currentConnectionStateType=m,m){case ht.CONNECTED:var _=h._lazyCallQueue;h._lazyCallQueue=[],_.forEach(function(y){return O(h,void 0,void 0,function(){var w,C,I,k,U;return A(this,function(T){switch(T.label){case 0:w=y.command,C=y.deferred,I=y.timeout,clearTimeout(I),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,this.send(w)];case 2:return k=T.sent(),C.resolve(k),[3,4];case 3:return U=T.sent(),C.reject(U),[3,4];case 4:return[2]}})})});break;case ht.INITIALIZED:case ht.DISCONNECTED:case ht.LOGOUT:_=h._lazyCallQueue,h._lazyCallQueue=[],_.forEach(function(y){return O(h,void 0,void 0,function(){var w,C;return A(this,function(I){return w=y.deferred,C=y.timeout,clearTimeout(C),this._auth&&this._auth.hasSession?w.reject(ue.connectionClosed):w.reject(ue.connectionRequired),[2]})})})}}})}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===ht.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===ht.CONNECTING||this._currentConnectionStateType===ht.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.send=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return n instanceof oa?this.isReady?(this._logger.debug("send websocket request",n),[4,this.commandRouter.send(n)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",n),t=new Ai,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),ue.connectionRequired;case 3:return[3,7];case 4:return n instanceof Oe?this._auth.hasSession?(this._logger.debug("send api request",n),[4,this.commandRouter.send(n)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",n),t=new Ai,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return i.timeout(n.requestId)},1e4)}),[2,t.promise];throw r=ue.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},e.prototype.forceSend=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this._logger.debug("send websocket request (forced)",n),[4,this.commandRouter.send(n)];case 1:return[2,t.sent()]}})})},e.prototype.timeout=function(n){this._logger.debug("timeout request",n);var t=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===n});t>-1&&(this._lazyCallQueue[t].deferred.reject(ue.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(n){this._logger.debug("cancel api request",n),this.commandRouter.cancel(n)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),rne=function(e){function n(t){var r=t.userId,i=t.authToken,o=t.expiringSession,d=o===void 0||o,h=e.call(this)||this;return h.path="/users/".concat(r,"/session_key"),h.method=ke.POST,h.params={token:i,expiring_session:!!d},h.requireAuth=!1,h}return j(n,e),n}(Oe),ine=function(e){function n(t){var r=t.authToken,i=t.expiringSession,o=i===void 0||i;return e.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0},ackRequired:!0})||this}return j(n,e),n}(oa),ane=function(e){function n(t,r){var i=e.call(this,t,r)||this,o=r.key;return i.key=o,i}return j(n,e),n}(Ue),sne=function(e){function n(t,r,i){var o=e.call(this,t,"LOGI",i)||this;return o.error=null,o.newKey=i.new_key,o.error=i.error?new ue(i.error):null,o}return j(n,e),n}(gt),one=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return j(n,e),n}(Sr),Da=function(e){return O(void 0,void 0,void 0,function(){return A(this,function(n){return[2,new Promise(function(t){return setTimeout(t,e)})]})})},LM=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),ig=function(e,n,t){return t===void 0&&(t=new LM),O(void 0,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:r=0,i=null,o=function(_){return _===void 0&&(_=null),i=_!=null?_:new Error("Halted")},d=function(){r=0},m.label=1;case 1:if(!(n===-1||r<n))return[3,9];m.label=2;case 2:return m.trys.push([2,4,,8]),[4,e(o,d)];case 3:if(h=m.sent(),i)throw i;return[2,h];case 4:if(f=m.sent(),i)return[3,6];if(++r===n)throw f;return[4,Da(t.calcTimeout(r))];case 5:return m.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},en=function(e){return O(void 0,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return t.sent(),[3,3];case 2:if(!((n=t.sent())instanceof ue))throw n;return n.throwOutside(),[3,3];case 3:return[2]}})})},Ba=function(e){return O(void 0,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})},lne=function(){function e(n){var t=n.auth,r=n.sdkState,i=n.dispatcher,o=n.requestQueue,d=n.logger,h=this;this._currentConnectionStateType=ht.INITIALIZED,this.auth=t,this._sdkState=r,this._dispatcher=i,this._requestQueue=o,this._logger=d,this._dispatcher.on(function(f){if(f instanceof ms){var m=f.stateType;h._currentConnectionStateType=m}else f instanceof rg&&h.refresh()})}return e.prototype.createRefreshWebsocketCommand=function(n){return new ine({authToken:n,expiringSession:!0})},e.prototype._refreshSessionKey=function(n,t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m,_=this;return A(this,function(y){switch(y.label){case 0:if(this._currentConnectionStateType!==ht.CONNECTED)return[3,4];y.label=1;case 1:return y.trys.push([1,3,,4]),r=this.createRefreshWebsocketCommand(n),[4,this._requestQueue.forceSend(r)];case 2:if(i=y.sent(),o=i.as(sne),d=o.newKey,h=o.error)throw h;return this.auth.sessionKey=d!=null?d:this.auth.sessionKey,this._logger.debug("session refreshed"),en(function(){return O(_,void 0,void 0,function(){return A(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2];case 3:if(f=y.sent(),us(f))throw f;return f.isSessionTokenExpiredError?(this._handleError(t),[2]):[3,4];case 4:return y.trys.push([4,6,,7]),m=new rne({userId:this._sdkState.userId,authToken:n,expiringSession:!0}),[4,ig(function(w){return O(_,void 0,void 0,function(){var C,I,k;return A(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(m)];case 1:return C=U.sent(),I=C.as(ane).key,this.auth.sessionKey=I,[3,3];case 2:throw(k=U.sent()).isSessionTokenExpiredError&&w(ue.sessionTokenRefreshFailed),k;case 3:return[2]}})})},3)];case 5:return y.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return y.sent(),this._handleError(t),[2];case 7:return en(function(){return O(_,void 0,void 0,function(){return A(this,function(w){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2]}})})},e.prototype._handleError=function(n){var t=this,r=ue.sessionTokenRefreshFailed;en(function(){return O(t,void 0,void 0,function(){return A(this,function(i){return this.handler.onSessionError(r),[2]})})}),n&&n.reject(r)},e.prototype.refresh=function(){return O(this,void 0,void 0,function(){var n,t,r,i=this;return A(this,function(o){return this.handler?(n=new Ai,t=function(d){d?(i._logger.debug("session refreshing.."),i.auth.authToken=d,i._refreshSessionKey(d,n)):(i._logger.debug("session closed"),en(function(){return O(i,void 0,void 0,function(){return A(this,function(h){return this.handler.onSessionClosed(),[2]})})}),n.resolve())},r=function(){i._dispatcher.dispatch(new one);var d=ue.sessionTokenRequestFailed;i.handler&&(en(function(){return O(i,void 0,void 0,function(){return A(this,function(h){return this.handler.onSessionError(d),[2]})})}),n.reject(d))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,n):en(function(){return O(i,void 0,void 0,function(){return A(this,function(d){return this.handler.onSessionTokenRequired(t,r),[2]})})}),[2,n.promise]):[2]})})},e}(),zd=function(){function e(){this.type=ht.NONE,this.name="none"}return e.prototype.run=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2]})})},e.prototype.onConnect=function(n,t){return O(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},e.prototype.onReconnect=function(n,t){return t.resetReconnectCount,O(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},e.prototype.onDisconnect=function(n,t){return t.error,t.autoReconnect,O(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},e.prototype.onLogout=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2]})})},e}(),of=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=ht.LOGOUT,t.name="logout",t}return j(n,e),n.prototype.run=function(t){return O(this,void 0,void 0,function(){var r,i=this;return A(this,function(o){switch(o.label){case 0:return r=t.sdkState.userId,t.logout(),en(function(){return O(i,void 0,void 0,function(){return A(this,function(d){return t.connectionHandlers.forEach(function(h){h.onDisconnected(r)}),[2]})})}),[4,t.changeState(new y3)];case 1:return o.sent(),[2]}})})},n}(zd),xE=function(e){function n(t){var r=t.autoReconnect,i=e.call(this)||this;return i.type=ht.DISCONNECTED,i.name="disconnected",i._autoReconnect=!1,i._autoReconnect=r,i}return j(n,e),n.prototype.run=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return t.disconnect(),this._autoReconnect?[4,t.changeState(new SE)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.onConnect=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return t.disconnect(),[4,t.changeState(new $M({authToken:r}))];case 1:return i.sent(),[2]}})})},n.prototype.onReconnect=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,t.changeState(new SE)];case 1:return r.sent(),[2]}})})},n.prototype.onLogout=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,t.changeState(new of)];case 1:return r.sent(),[2]}})})},n}(zd),SE=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=ht.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return j(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f=this;return A(this,function(m){switch(m.label){case 0:r=new Ai,this._callbacks.push(function(_){return _?r.reject(_):r.resolve()}),en(function(){return O(f,void 0,void 0,function(){return A(this,function(_){return t.connectionHandlers.forEach(function(y){y.onReconnectStarted()}),[2]})})}),m.label=1;case 1:return m.trys.push([1,4,,9]),i=t.sdkState.websocket,o=i.reconnectMaxRetry,d=i.reconnectRetryStrategy,[4,ig(function(_,y){return O(f,void 0,void 0,function(){var w;return A(this,function(C){switch(C.label){case 0:this._haltConnect=_,this._resetConnect=y,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,t.connect()];case 2:return C.sent(),[3,4];case 3:if((w=C.sent())instanceof ue&&w.code===Vn.CONNECTION_CANCELED)return _(w),[2];throw w;case 4:return[2]}})})},o,d)];case 2:return m.sent(),[4,t.changeState(new PM)];case 3:return m.sent(),en(function(){return O(f,void 0,void 0,function(){return A(this,function(_){return t.connectionHandlers.forEach(function(y){y.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return h=m.sent(),us(h)?[3,7]:h instanceof ue?h.code===Vn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new xE({autoReconnect:!1}))]:[3,6];case 5:m.sent(),m.label=6;case 6:return en(function(){return O(f,void 0,void 0,function(){return A(this,function(_){return t.connectionHandlers.forEach(function(y){y.onReconnectFailed()}),this.flushCallbacks(h),[2]})})}),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t,r){return O(this,void 0,void 0,function(){var i;return A(this,function(o){return i=new Ai,this._resetConnect&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(d){return d?i.reject(d):i.resolve()}),[2,i.promise]})})},n.prototype.onReconnect=function(t,r){var i=r.resetReconnectCount,o=i!==void 0&&i;return O(this,void 0,void 0,function(){var d;return A(this,function(h){return d=new Ai,this._resetConnect&&o&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(f){return f?d.reject(f):d.resolve()}),[2,d.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i,d=r.autoReconnect,h=d===void 0||d;return O(this,void 0,void 0,function(){return A(this,function(f){switch(f.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:ue.connectionCanceled),[4,t.changeState(new xE({autoReconnect:h}))];case 1:return f.sent(),[2]}})})},n.prototype.onLogout=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(ue.connectionCanceled),[4,t.changeState(new of)];case 1:return r.sent(),[2]}})})},n}(zd),PM=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=ht.CONNECTED,t.name="connected",t}return j(n,e),n.prototype.onReconnect=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return t.disconnect(),[4,t.changeState(new SE)];case 1:return r.sent(),[2]}})})},n.prototype.onDisconnect=function(t,r){var i=r.autoReconnect;return O(this,void 0,void 0,function(){return A(this,function(o){switch(o.label){case 0:return[4,t.changeState(new xE({autoReconnect:i}))];case 1:return o.sent(),[2]}})})},n.prototype.onLogout=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,t.changeState(new of)];case 1:return r.sent(),[2]}})})},n}(zd),$M=function(e){function n(t){var r=t.authToken,i=e.call(this)||this;return i.type=ht.CONNECTING,i.name="connecting",i._authToken="",i._haltConnect=null,i._callbacks=[],i._authToken=r,i}return j(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return O(this,void 0,void 0,function(){var r,i,o=this;return A(this,function(d){switch(d.label){case 0:r=new Ai,this._callbacks.push(function(h){return h?r.reject(h):r.resolve()}),d.label=1;case 1:return d.trys.push([1,4,,9]),[4,ig(function(h){return O(o,void 0,void 0,function(){var f;return A(this,function(m){switch(m.label){case 0:this._haltConnect=h,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,t.connect(this._authToken)];case 2:return m.sent(),[3,4];case 3:if((f=m.sent())instanceof ue&&f.code===Vn.CONNECTION_CANCELED)return h(f),[2];throw f;case 4:return[2]}})})},t.sdkState.websocket.connectMaxRetry)];case 2:return d.sent(),[4,t.changeState(new PM)];case 3:return d.sent(),en(function(){return O(o,void 0,void 0,function(){return A(this,function(h){return t.connectionHandlers.forEach(function(f){f.onConnected(t.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return i=d.sent(),us(i)?[3,7]:(t.disconnect(),i instanceof ue?i.code===Vn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new y3)]:[3,6]);case 5:d.sent(),d.label=6;case 6:return en(function(){return O(o,void 0,void 0,function(){return A(this,function(h){return this.flushCallbacks(i),[2]})})}),[3,8];case 7:throw i;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){return r=new Ai,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},n.prototype.onDisconnect=function(t,r){var i=r.error,o=i===void 0?null:i;return O(this,void 0,void 0,function(){return A(this,function(d){switch(d.label){case 0:return this._haltConnect&&this._haltConnect(o!=null?o:ue.connectionCanceled),[4,t.changeState(new of)];case 1:return d.sent(),[2]}})})},n.prototype.onLogout=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(ue.connectionCanceled),[4,t.changeState(new of)];case 1:return r.sent(),[2]}})})},n}(zd),y3=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=ht.INITIALIZED,t.name="initialized",t}return j(n,e),n.prototype.onConnect=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,t.changeState(new $M({authToken:r}))];case 1:return i.sent(),[2]}})})},n}(zd),i6=new Map,lf=function(e,n){var t;return n===void 0&&(n=null),n!==null&&i6.set(e,n),(t=i6.get(e))!==null&&t!==void 0?t:""},une=function(e){e===void 0&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?1048576*e.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!e.use_reaction,this.applicationAttributes=e.application_attributes||[],this.premiumFeatureList=e.premium_feature_list||[]},gs=function(){function e(n){this._iid="",this._iid=n}return e.payloadify=function(n){return n?{}:null},e}(),Wn="/".concat("v3","/users"),cne="/".concat("v3","/storage/file"),ai="/".concat("v3","/group_channels"),dne="/".concat("v3","/sdk/group_channels"),Zu="/".concat("v3","/open_channels"),hne="/".concat("v3","/sdk/open_channels"),pne="/".concat("v3","/search"),a6="/".concat("v3","/report"),fne="/".concat("v3","/emojis"),FM="/".concat("v3","/emoji_categories"),HM="/".concat("v3","/scheduled_messages"),vne="/".concat("v3","/sdk/statistics"),mne=function(e){function n(t){var r=t.userId,i=t.metadata,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(Wn,"/").concat(r,"/metadata"),o.params={metadata:i},o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}j(n,e)})(Ue),function(e){e.BASE="base",e.GROUP="group",e.OPEN="open"}(ut||(ut={})),function(e){e.OPERATOR="operator",e.NONE="none"}(qa||(qa={})),function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(Wt||(Wt={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Lr||(Lr={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Od||(Od={})),function(e){e.USERS="users",e.CHANNEL="channel"}($r||($r={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(bi||(bi={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(Rl||(Rl={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(yt||(yt={}));var st=function(e){switch(e){case ut.GROUP:return ai;case ut.OPEN:return Zu;default:return null}},qM=function(e){switch(e){case ut.GROUP:return"".concat(a6,"/group_channels");case ut.OPEN:return"".concat(a6,"/open_channels");default:return null}},Ad=function(e,n,t){var r,i;switch(e){case $r.CHANNEL:return!0;case $r.USERS:if(n)try{for(var o=ze(n),d=o.next();!d.done;d=o.next())if(d.value===t)return!0}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}return!1},E3=function(e,n,t){var r=Ad(e.mentionType,e.mentionedUserIds,t),i=Ad(n.mentionType,n.mentionedUserIds,t);return!r&&i?1:r&&!i?-1:0},gne=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.metadata;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:d,include_ts:!0},r}return j(n,e),n}(Oe),BM=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaData=r!=null?r:{},i}return j(n,e),n}(Ue),_ne=function(e){function n(t){var r=t.userId,i=t.metadata,o=t.upsert,d=e.call(this)||this;return d.method=ke.PUT,d.path="".concat(Wn,"/").concat(r,"/metadata"),d.params={metadata:i,upsert:o},d}return j(n,e),n}(Oe),bne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metadata=r,i}return j(n,e),n}(Ue),yne=function(e){function n(t){var r=t.userId,i=t.metadataKey,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(r,"/metadata/").concat(i),o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var Ene=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.DELETE,i.path="".concat(Wn,"/").concat(r,"/metadata"),i}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var hd,xf=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return t._iid&&delete t._iid,n&&n(t),t},Pu=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return n&&n(t),t},Pe=function(e){return{do:function(n){e||n()},throw:function(n){if(!e)throw n}}};(function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"})(hd||(hd={}));var wu,In=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U=this;return(U=e.call(this,t)||this).userId=(o=(i=r.guest_id)!==null&&i!==void 0?i:r.user_id)!==null&&o!==void 0?o:"",U.nickname=(h=(d=r.nickname)!==null&&d!==void 0?d:r.name)!==null&&h!==void 0?h:"",U.plainProfileUrl=(m=(f=r.profile_url)!==null&&f!==void 0?f:r.image)!==null&&m!==void 0?m:"",U.requireAuth=(_=r.require_auth_for_profile_image)!==null&&_!==void 0&&_,U.metaData=(y=r.metadata)!==null&&y!==void 0?y:{},U.connectionStatus=hd.NON_AVAILABLE,yn(hd,r.is_online)?U.connectionStatus=r.is_online:Z("boolean",r.is_online)&&(U.connectionStatus=r.is_online?hd.ONLINE:hd.OFFLINE),U.isActive=(w=r.is_active)===null||w===void 0||w,U.lastSeenAt=(C=r.last_seen_at)!==null&&C!==void 0?C:null,U.preferredLanguages=r.preferred_languages?pn([],fn(r.preferred_languages),!1):null,U.friendDiscoveryKey=(I=r.friend_discovery_key)!==null&&I!==void 0?I:null,U.friendName=(k=r.friend_name)!==null&&k!==void 0?k:null,U}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(n.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(lf(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return xf(this)},n.prototype._isValidMetaData=function(t){return!Array.isArray(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(r){return t[r]}).every(function(r){return Z("string",r)})},n.prototype._applyMetaData=function(t,r){var i=this;r===void 0&&(r=!1),Object.keys(t).forEach(function(o){r?delete i.metaData[o]:i.metaData[o]=t[o]})},n.prototype.createMetaData=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(this._isValidMetaData(t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.sdkState,o=r.requestQueue,d=new mne({userId:i.userId,metadata:t}),[4,o.send(d)];case 1:return h=m.sent(),f=h.as(BM).metaData,this._applyMetaData(f),[2,this.metaData]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),O(this,void 0,void 0,function(){var i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return Pe(this._isValidMetaData(t)).throw(ue.invalidParameters),i=se.of(this._iid),o=i.sdkState,d=i.requestQueue,h=new _ne({userId:o.userId,metadata:t,upsert:r}),[4,d.send(h)];case 1:return f=_.sent(),m=f.as(bne).metadata,this._applyMetaData(m),[2,this.metaData]}})})},n.prototype.deleteMetaData=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.sdkState,o=r.requestQueue,d=new yne({userId:i.userId,metadataKey:t}),[4,o.send(d)];case 1:return f.sent(),this._applyMetaData(((h={})[t]=!0,h),!0),[2,this.metaData]}})})},n.prototype.deleteAllMetaData=function(){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ene({userId:r.userId}),[4,i.send(o)];case 1:return d.sent(),this.metaData={},[2]}})})},n}(gs),GM=function(e){function n(t){var r=t.userProfile,i=e.call(this)||this;return i.userProfile=r,i}return j(n,e),n}(Sr),IE=function(){function e(n,t){var r,i,o,d,h,f,m,_,y,w,C,I,k,U;this._iid=n,this.appInfo=new une(t),this.user=new In(n,t),this.connectedAt=1e3*((r=t.login_ts)!==null&&r!==void 0?r:0),this.firstConnectedAt=0,this.pingInterval=(i=t.ping_interval)!==null&&i!==void 0?i:15e3,this.pongTimeout=(o=t.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(h=(d=t.reconnect)===null||d===void 0?void 0:d.interval)!==null&&h!==void 0?h:3e3,this.reconnectMaxInterval=(m=(f=t.reconnect)===null||f===void 0?void 0:f.max_interval)!==null&&m!==void 0?m:6e4,this.reconnectRetryCount=(y=(_=t.reconnect)===null||_===void 0?void 0:_.retry_cnt)!==null&&y!==void 0?y:5,this.reconnectIntervalMultiple=(C=(w=t.reconnect)===null||w===void 0?void 0:w.mul)!==null&&C!==void 0?C:2,this.maxUnreadCountOnSuperGroup=(I=t.max_unread_cnt_on_super_group)!==null&&I!==void 0?I:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=(k=t.concurrent_call_limit)!==null&&k!==void 0?k:5,this.backOffDelay=(U=t.back_off_delay)!==null&&U!==void 0?U:100}return e.payloadify=function(n){return ne(ne({},In.payloadify(n.user)),{emoji_hash:n.appInfo.emojiHash,file_upload_size_limit:n.appInfo.uploadSizeLimit,application_attributes:n.appInfo.applicationAttributes,premium_feature_list:n.appInfo.premiumFeatureList,login_ts:n.connectedAt/1e3,ping_interval:n.pingInterval,pong_timeout:n.pongTimeout,reconnect:{interval:n.reconnectInterval,max_interval:n.reconnectMaxInterval,retry_cnt:n.reconnectRetryCount,mul:n.reconnectIntervalMultiple},max_unread_cnt_on_super_group:n.maxUnreadCountOnSuperGroup,profile_image_encryption:n.profileImageEncryption,concurrent_call_limit:n.concurrentCallLimit,back_off_delay:n.backOffDelay})},e.prototype.apply=function(){var n=this.reconnectInterval,t=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,i=se.of(this._iid);i.sdkState.websocket.pingInterval=1e3*this.pingInterval,i.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,i.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,i.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(n*Math.pow(r,o-1),t):10}},i.appInfo=this.appInfo,i.sessionManager.currentUser=this.user,i.connectedAt=this.connectedAt,this.firstConnectedAt||(i.firstConnectedAt=this.connectedAt),i.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,i.concurrentCallLimit=this.concurrentCallLimit,i.backOffDelay=this.backOffDelay,i.dispatcher.dispatch(new GM({userProfile:this}))},e}(),r1=function(e){function n(t,r,i){var o,d=this;return(d=e.call(this,t,r,i)||this).error=null,d.userProfile=new IE(t,i),d.key=i.key,d.ekey=(o=i.ekey)!==null&&o!==void 0?o:"",d.error=i.error?new ue(i):null,d}return j(n,e),n.asError=function(t){return new n(null,"LOGI",ne({user_id:null,error:!0},t))},n.prototype.applyTo=function(t){if(this.error)throw this.error;var r=se.of(t);if(!r)throw ue.lostInstance;r.sessionManager.auth.sessionKey=this.key,lf(t,this.ekey),this.userProfile.apply()},n}(gt),jM=function(e){function n(t){var r=e.call(this)||this;return r.enabled=t,r}return j(n,e),n}(Sr),wne=function(e){function n(t,r){var i=r.sdkState,o=r.connectionHandlers,d=r.sessionManager,h=r.websocketClient,f=r.dispatcher,m=r.logger,_=r.entryState,y=_===void 0?new y3:_,w=e.call(this)||this;return w._currentState=null,w._loginTimer=null,w._connectingAt=0,w._connectionRequestQueue=[],w._iid=t,w.sdkState=i,w.connectionHandlers=o,w._sessionManager=d,w._websocketClient=h,w._dispatcher=f,w._logger=m,w._currentState=y,w._websocketClient.on("message",function(C){if(C.code==="LOGI"){w._loginTimer&&(clearTimeout(w._loginTimer),w._loginTimer=null);var I=C.as(r1);if(I.error)I.error.isSessionKeyExpiredError&&w._dispatcher.dispatch(new rg),w._connectionRequestQueue.forEach(function(U){return U.reject(I.error)}),w._statLogConnection(I.error);else{I.applyTo(w._iid),w._connectionRequestQueue.forEach(function(U){return U.resolve()});var k=I.userProfile;w._enableStatLog(k.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),w._statLogConnection(null)}w._connectionRequestQueue=[]}}).on("close",function(){w._connectionRequestQueue.length>0&&(w._connectionRequestQueue.forEach(function(C){return C.reject(ue.networkError)}),w._connectionRequestQueue=[],w._statLogConnection(ue.networkError))}),w}return j(n,e),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),n.prototype.changeState=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this._currentState=t,this._dispatcher.dispatch(new ms({stateType:t.type})),this._logger.debug("connection state changes to ".concat(t.name)),[4,this._currentState.run(this)];case 1:return r.sent(),[2]}})})},n.prototype._url=function(t){t===void 0&&(t="");var r=this.sdkState,i=r.appId,o=r.appVersion,d=r.userId,h=r.extensions,f=this._sessionManager.auth,m=h.sb_syncmanager?"s".concat(h.sb_syncmanager):"",_=h.sb_uikit?"u".concat(h.sb_uikit):"",y="JS/c".concat(Lu.SDK_VERSION,"/").concat(m,"/").concat(_);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Lu.OS_VERSION),"&sv=").concat(encodeURIComponent(Lu.SDK_VERSION),"&ai=").concat(i).concat(o?"&av=".concat(o):"").concat(f.hasSession?"&key=".concat(encodeURIComponent(f.sessionKey)):"&user_id=".concat(encodeURIComponent(d),"&access_token=").concat(encodeURIComponent(t)),"&active=1&SB-User-Agent=").concat(y,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},n.prototype._enableStatLog=function(t){this._dispatcher.dispatch(new jM(t))},n.prototype._statLogConnection=function(t){this._dispatcher.dispatch(new b3(new sf({type:bm.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!t,latency:Date.now()-this._connectingAt,error_code:t==null?void 0:t.code,error_description:t==null?void 0:t.message}})))},n.prototype.connect=function(t){return t===void 0&&(t=""),O(this,void 0,void 0,function(){var r,i,o=this;return A(this,function(d){return r=this._url(t),i=new Ai,this._connectionRequestQueue.push(i),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(r1.asError(ue.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(r)),[2,i.promise]})})},n.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(r1.asError(ue.connectionRenew))},n.prototype.disconnect=function(){this._websocketClient.disconnect()},n.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},n}(Cf),Cne=function(){function e(n,t){var r=t.sdkState,i=t.connectionHandlers,o=t.sessionManager,d=t.websocketClient,h=t.dispatcher,f=t.logger,m=t.disableAutoReconnect,_=m!==void 0&&m,y=this;this._context=null,this._logger=f,this._context=new wne(n,{sdkState:r,connectionHandlers:i,sessionManager:o,websocketClient:d,dispatcher:h,logger:f}),_||d.on("close",function(){r.appState==="foreground"&&setTimeout(function(){y._logger.debug("try reconnect by websocket connection closed"),y.reconnect()},100)})}return Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===ht.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var n=this._context.currentState;return n.type===ht.CONNECTING||n.type===ht.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.connect=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onConnect(this._context,n)];case 1:return t.sent(),[2]}})})},e.prototype.reconnect=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return n.sent(),[2]}})})},e.prototype.resetAndReconnect=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return n.sent(),[2]}})})},e.prototype.background=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(n){return n===void 0&&(n=null),O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:n,autoReconnect:!0})];case 1:return t.sent(),[2]}})})},e.prototype.logout=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return n.sent(),[2]}})})},e}(),xne=function(e){function n(t){var r=t.deviceId,i=t.statLogs,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(vne),o.params={device_id:r,log_entries:i.map(function(d){return sf.payloadify(d)})},o}return j(n,e),n}(Oe);(function(e){e[e.PENDING=0]="PENDING",e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED"})(wu||(wu={}));var ho,Sne=function(){function e(n){var t=n.cacheContext,r=n.requestQueue,i=n.dispatcher,o=n.baseLimit,d=o===void 0?100:o,h=n.maxLimit,f=h===void 0?1e3:h,m=n.minLimit,_=m===void 0?10:m;this.queue=[],this.enabledstate=wu.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=Ha(),this.cacheContext=t,this.requestQueue=r,this.dispatcher=i,this.baseLimit=d,this.limit=d,this.maxLimit=f,this.minLimit=_}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledstate===wu.ENABLED},enumerable:!1,configurable:!0}),e.prototype._save=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(t){return sf.payloadify(t)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype._flush=function(){return O(this,void 0,void 0,function(){var n,t;return A(this,function(r){switch(r.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),(n=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new xne({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(t)]):[3,4];case 2:return r.sent(),this.queue=this.queue.slice(n.length),[4,this._save()];case 3:r.sent(),r.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return r.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},e.prototype.init=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return this.key=n,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=o.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map(function(d){return new sf({type:d.stat_type,ts:d.ts,data:d.data})}),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(r=Math.min(Math.floor(18e4*Math.random()),100),[4,Da(r)]):[3,4]):[3,4];case 2:return o.sent(),[4,this._flush()];case 3:o.sent(),o.label=4;case 4:return this.dispatcher.on(function(d){if(d instanceof b3){var h=d.statLog;i.put(h)}else d instanceof jM&&(i.enabledstate=d.enabled?wu.ENABLED:wu.DISABLED,i.isEnabled?i.queue.length>=i.limit&&i._flush():i.clear())}),[2]}})})},e.prototype.put=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.enabledstate===wu.DISABLED?[3,3]:(this.queue.push(n),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return n.sent(),[2]}})})},e}();(function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR"})(ho||(ho={}));var uf,Ine=function(){function e(){this.level=ho.WARN}return e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ho.VERBOSE&&console.log.apply(console,pn(["[verbose]"],fn(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ho.DEBUG&&console.log.apply(console,pn(["[debug]"],fn(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ho.INFO&&console.log.apply(console,pn(["[info]"],fn(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ho.WARN&&console.warn.apply(console,pn(["[warn]"],fn(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=ho.ERROR&&console.error.apply(console,pn(["[error]"],fn(n),!1))},e}(),sp={},se=function(){function e(n,t){var r,i,o,d,h,f,m;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!sp[n]){sp[n]=this;var _=(r=t.options)!==null&&r!==void 0?r:new DM,y=this.sdkState={appId:t.appId,appVersion:(i=t.appVersion)!==null&&i!==void 0?i:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=t.apiHost)!==null&&o!==void 0?o:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:(d=t.websocketHost)!==null&&d!==void 0?d:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new LM,responseTimeout:_.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var w=this.logger=new Ine;this.logger.level=(h=t.logLevel)!==null&&h!==void 0?h:ho.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new Kee({encryption:t.encryption,store:t.store,localCacheEnabled:(f=t.localCacheEnabled)!==null&&f!==void 0&&f}),this.debugMode=(m=t.debugMode)!==null&&m!==void 0&&m,this.maxSuperGroupChannelUnreadCount=Lu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=_.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=_.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=_.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var C=this.dispatcher=new Qee,I=new Wee;this.requestQueue=new tne(n,{auth:I,sdkState:y,dispatcher:C,logger:w}),this.sessionManager=new lne({auth:I,sdkState:y,dispatcher:C,requestQueue:this.requestQueue,logger:w}),this.connectionManager=new Cne(n,{sdkState:y,connectionHandlers:this.connectionHandlers,dispatcher:C,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:w}),this.statLogCollector=new Sne({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:C})}return sp[n]}return e.of=function(n){if(sp[n])return sp[n];throw ue.lostInstance},e}(),w3=function(){function e(){}return e.prototype.init=function(n,t){var r=t.sdkState,i=t.dispatcher,o=t.sessionManager,d=t.requestQueue,h=t.logger;t.onlineDetector;var f=t.cacheContext,m=f===void 0?null:f;this._iid=n,this._cacheContext=m,this._sdkState=r,this._dispatcher=i,this._sessionManager=o,this._requestQueue=d,this._logger=h},e}(),zM=function(e){function n(t){var r=e.call(this)||this;if(r.method=ke.POST,r.path="".concat(cne),r.params=_n({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var i=0;i<t.thumbnailSizes.length;i++){var o=t.thumbnailSizes[i],d=o.maxWidth,h=o.maxHeight;r.params["thumbnail".concat(i+1)]="".concat(d,",").concat(h)}return r.requestId=t.requestId,r}return j(n,e),n}(Oe),VM=function(e){function n(t,r){var i,o,d,h=this;return(h=e.call(this,t,r)||this).url=r.url,h.fileSize=(i=r.file_size)!==null&&i!==void 0?i:0,h.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],h.requireAuth=(d=r.require_auth)!==null&&d!==void 0&&d,h}return j(n,e),n}(Ue),kE=function(e){function n(t,r){var i,o,d,h=this;return(h=e.call(this,t)||this).replyCount=0,h.mostRepliedUsers=null,h.lastRepliedAt=0,h.updatedAt=0,h.replyCount=(i=r.reply_count)!==null&&i!==void 0?i:0,h.mostRepliedUsers=r.hasOwnProperty("most_replies")&&En("object",r.most_replies)?r.most_replies.map(function(f){return new In(h._iid,f)}):[],h.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,h.updatedAt=(d=r.updated_at)!==null&&d!==void 0?d:0,h}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map(function(r){return In.payloadify(r)}):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},n}(gs);(function(e){e.ADD="add",e.DELETE="delete"})(uf||(uf={}));var vl,Zi,C3=function(e){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var n=Z("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,t=e.user_id,r=e.operation?e.operation.toLowerCase():null,i=e.reaction,o=e.updated_at;n&&Z("string",t)&&Z("string",r)&&yn(uf,r)&&Z("string",i)&&i&&Z("number",o)&&(this.messageId=n,this.userId=t,this.key=i,this.operation=r,this.updatedAt=o)},pv=function(){function e(n){var t,r,i,o=n.key,d=(i=pn([],fn(n.user_ids),!1))!==null&&i!==void 0?i:[],h=n.updated_at;Z("string",o)&&o&&En("string",d)&&d.length>0&&Z("number",h)&&(this.key=o,this.userIds=d,this.updatedAt=h);var f={};try{for(var m=ze(this.userIds),_=m.next();!_.done;_=m.next())f[_.value]=this.updatedAt}catch(y){t={error:y}}finally{try{_&&!_.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}this._version=f}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),e.payloadify=function(n){return n?_n({key:n.key,user_ids:n.userIds,updated_at:n.updatedAt}):null},e.prototype.applyEvent=function(n){if(n.key===this.key&&this.updatedAt<=n.updatedAt){if(!this._version[n.userId]||this._version[n.userId]<=n.updatedAt){var t=this.userIds.indexOf(n.userId);switch(n.operation){case uf.ADD:t<0&&this.userIds.push(n.userId);break;case uf.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[n.userId]=n.updatedAt}this.updatedAt=Math.max(this.updatedAt,n.updatedAt)}},e}(),Oi=function(){function e(n){this.key=n.key,this.value=En("string",n.value)?pn([],fn(n.value),!1):[]}return e.payloadify=function(n){var t;return n?_n({key:n.key,value:(t=n.value)!==null&&t!==void 0?t:[]}):null},e}(),s6=function(){function e(n){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=n.url,n.hasOwnProperty("secure_url")&&(this.secureUrl=n.secure_url),n.hasOwnProperty("type")&&(this.type=n.type),n.hasOwnProperty("width")&&(this.width=n.width),n.hasOwnProperty("height")&&(this.height=n.height),n.hasOwnProperty("alt")&&(this.alt=n.alt)}return e.payloadify=function(n){var t,r;return n?_n({url:n.url,secure_url:n.secureUrl,type:n.type,width:(t=n.width)!==null&&t!==void 0?t:0,height:(r=n.height)!==null&&r!==void 0?r:0,alt:n.alt}):null},e}(),o6=function(){function e(n){this.title=null,this.url=null,this.description=null,this.defaultImage=null,n.hasOwnProperty("og:title")&&(this.title=n["og:title"]),n.hasOwnProperty("og:url")&&(this.url=n["og:url"]),n.hasOwnProperty("og:description")&&(this.description=n["og:description"]),n.hasOwnProperty("og:image")&&(this.defaultImage=new s6(n["og:image"]))}return e.payloadify=function(n){return n?_n({"og:title":n.title,"og:url":n.url,"og:description":n.description,"og:image":n.defaultImage?s6.payloadify(n.defaultImage):null}):null},e}(),Bs=function(){function e(n){var t,r;this.name=null,this.volume=0,this.name=(t=n.name)!==null&&t!==void 0?t:"default",this.volume=(r=n.volume)!==null&&r!==void 0?r:1}return e.payloadify=function(n){return n?_n({name:n.name,volume:n.volume}):null},e}();(function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"})(vl||(vl={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(Zi||(Zi={}));var Qr,kne=function(e){switch(e){case Wt.BASE:return"";case Wt.USER:return"MESG";case Wt.FILE:return"FILE";case Wt.ADMIN:return"ADMM"}},ym=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U,T=this;(T=e.call(this,t)||this).channelUrl=null,T.channelType=ut.BASE,T.messageId=0,T.parentMessageId=null,T.parentMessage=null,T.silent=!1,T.isOperatorMessage=!1,T.messageType=Wt.BASE,T.data=null,T.customType=null,T.mentionType=null,T.mentionedUsers=[],T.mentionedUserIds=[],T.mentionedMessageTemplate=null,T.threadInfo=null,T.reactions=[],T.metaArrays=[],T.ogMetaData=null,T.appleCriticalAlertOptions=null,T.createdAt=0,T.updatedAt=0,T.scheduledInfo=null,T._scheduledStatus=Zi.PENDING,T.messageId=(o=(i=r.msg_id)!==null&&i!==void 0?i:r.message_id)!==null&&o!==void 0?o:0,T.channelUrl=r.channel_url,T.channelType=yn(ut,r.channel_type)?r.channel_type:ut.GROUP,r.channel&&(r.channel.channel_url&&(T.channelUrl=r.channel.channel_url),r.channel.channel_type&&(T.channelType=r.channel.channel_type)),T.parentMessageId=(d=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&d!==void 0?d:0,T.data=(h=r.data)!==null&&h!==void 0?h:"",T.customType=(f=r.custom_type)!==null&&f!==void 0?f:"",T.mentionType=yn($r,r.mention_type)?r.mention_type:null;var N=r.mentioned_users;T.mentionedUsers=N?N.map(function(K){return new In(T._iid,K)}):null;var H=r.mentioned_user_ids;T.mentionedUserIds=H!=null?H:null,T.mentionedMessageTemplate=(m=r.mentioned_message_template)!==null&&m!==void 0?m:"",T.threadInfo=r.thread_info?new kE(T._iid,r.thread_info):null,T.reactions=r.reactions?r.reactions.map(function(K){return new pv(K)}):[];for(var $=(_=r.metaarray)!==null&&_!==void 0?_:{},Q=(y=r.metaarray_key_order)!==null&&y!==void 0?y:Object.keys($).sort(function(K,he){return K.localeCompare(he)}),P=0;P<Q.length;P++){var W=Q[P];T.metaArrays.push(new Oi({key:W,value:$[W]||[]}))}return r.sorted_metaarray&&(T.metaArrays=r.sorted_metaarray.map(function(K){return new Oi(K)})),T.ogMetaData=r.og_tag?new o6(r.og_tag):null,T.silent=(w=r.silent)!==null&&w!==void 0&&w,T.isOperatorMessage=(C=r.is_op_msg)!==null&&C!==void 0&&C,T.appleCriticalAlertOptions=r.apple_critical_alert_options?new Bs(r.apple_critical_alert_options):null,T.createdAt=(k=(I=r.created_at)!==null&&I!==void 0?I:r.ts)!==null&&k!==void 0?k:0,T.updatedAt=(U=r.updated_at)!==null&&U!==void 0?U:0,typeof r.scheduled_message_id=="number"&&r.scheduled_at&&r.scheduled_status&&(T.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},T._scheduledStatus=r.scheduled_status),T}return j(n,e),n.payloadify=function(t){var r,i,o,d;return t?_n(ne(ne({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:kne(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map(function(h){return In.payloadify(h)}),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?kE.payloadify(t.threadInfo):null,reactions:t.reactions.map(function(h){return pv.payloadify(h)}),sorted_metaarray:(i=t.metaArrays)===null||i===void 0?void 0:i.map(function(h){return Oi.payloadify(h)}),og_tag:o6.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:(o=t.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(d=t.scheduledInfo)===null||d===void 0?void 0:d.scheduledAt,scheduled_status:t._scheduledStatus})):null},n.prototype.isIdentical=function(t){return this.messageId===t.messageId},n.prototype.isEqual=function(t){return MM(this,t)},n.prototype.isUserMessage=function(){return this.messageType===Wt.USER},n.prototype.isFileMessage=function(){return this.messageType===Wt.FILE},n.prototype.isAdminMessage=function(){return this.messageType===Wt.ADMIN},n.prototype.serialize=function(){return xf(this)},n.prototype.getMetaArraysByKeys=function(t){return this.metaArrays.filter(function(r){return t.includes(r.key)})},n.prototype.applyThreadInfoUpdateEvent=function(t){return this.parentMessageId===t.targetMessageId&&(this.threadInfo=t.threadInfo),!1},n.prototype.applyReactionEvent=function(t){if(this.messageId===t.messageId){for(var r=!1,i=0;i<this.reactions.length;i++)if(this.reactions[i].key===t.key){this.reactions[i].applyEvent(t),this.reactions[i].isEmpty&&this.reactions.splice(i,1),r=!0;break}r||t.operation!=="add"||this.reactions.push(new pv(pv.payloadify({key:t.key,userIds:[t.userId],updatedAt:t.updatedAt})))}},n.prototype.applyParentMessage=function(t){if(this.parentMessageId===t.messageId){var r=this.parentMessage.updatedAt;if(t.updatedAt>=r)return this.parentMessage=t,!0}return!1},n}(gs),cf=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.role=null,i.isBlockedByMe=!1,i.role=yn(qa,r.role)?r.role:qa.NONE,r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),i}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},n}(In),mr=function(e){function n(t,r){var i,o,d,h,f=this;if((f=e.call(this,t,r)||this).sender=null,f.reqId="",f.replyToChannel=!1,f.sendingStatus=yt.PENDING,f.errorCode=0,f.sender=r.user?new cf(f._iid,r.user):r.sender_id,f.reqId=(o=(i=r.req_id)!==null&&i!==void 0?i:r.request_id)!==null&&o!==void 0?o:"",f.replyToChannel=(d=r.is_reply_to_channel)!==null&&d!==void 0&&d,f.sendingStatus=f.messageId>0?yt.SUCCEEDED:yt.FAILED,r.request_state&&yn(yt,r.request_state)&&(f.sendingStatus=r.request_state),r.scheduled_status)switch(r.scheduled_status){case Zi.SENT:case Zi.IN_QUEUE:f.sendingStatus=yt.SUCCEEDED;break;case Zi.PENDING:f.sendingStatus=yt.SCHEDULED;break;case Zi.FAILED:case Zi.REMOVED:f.sendingStatus=yt.FAILED;break;case Zi.CANCELED:f.sendingStatus=yt.CANCELED}return f.errorCode=(h=r.error_code)!==null&&h!==void 0?h:0,f}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{user:cf.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(n.prototype,"isResendable",{get:function(){return this.sendingStatus===yt.FAILED&&(t=this.errorCode)>0&&Bee.indexOf(t)>=0;var t},enumerable:!1,configurable:!0}),n.prototype.isIdentical=function(t){return this.messageId>0&&t.messageId>0?this.messageId===t.messageId:this.reqId===t.reqId},n}(ym),ag=function(){function e(n){var t,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=n.url,this.width=n.width,this.height=n.height,this.realWidth=(t=n.real_width)!==null&&t!==void 0?t:n.width,this.realHeight=(r=n.real_height)!==null&&r!==void 0?r:n.height}return e.payloadify=function(n){return n?_n({url:"",width:n.maxWidth,height:n.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(e.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),e}(),sg={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Lr.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},x3=function(e){return Z("number",e.prevResultSize)&&Z("number",e.nextResultSize)&&Z("boolean",e.isInclusive)&&Z("boolean",e.reverse)&&Z("string",e.messageTypeFilter)&&yn(Lr,e.messageTypeFilter)&&En("string",e.customTypesFilter,!0)&&En("string",e.senderUserIdsFilter,!0)&&Z("boolean",e.includeMetaArray)&&Z("boolean",e.includeReactions)&&Z("boolean",e.includeParentMessageInfo)},Rd=function(e){function n(t,r){var i,o,d,h,f=this;if((f=e.call(this,t,r)||this).message=null,f.translations={},f.message=(i=r.message)!==null&&i!==void 0?i:"",f.messageType=Wt.ADMIN,f.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var m=r.parent_message_info,_=ne(ne({},m),{message_id:f.parentMessageId,channel_url:f.channelUrl,channel_type:f.channelType,file:m.file,url:(d=m.file)===null||d===void 0?void 0:d.url,require_auth:(h=m.file)===null||h===void 0?void 0:h.require_auth});f.parentMessage=Wa(t,_)}return f}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:og(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},sg),r),Pe(this.messageId>0&&Z("number",t)&&x3(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(ym),l6=function(){function e(n){var t,r;this.type=null,this.vendor=null,this.detail={},this.type=(t=n.type)!==null&&t!==void 0?t:"",this.vendor=(r=n.vendor)!==null&&r!==void 0?r:"",n.hasOwnProperty("detail")&&Z("object",n.detail)&&!Array.isArray(n.detail)&&(this.detail=n.detail)}return e.payloadify=function(n){return n?_n({type:n.type,vendor:n.vendor,detail:n.detail}):null},e}(),Cr=function(e){function n(t,r){var i,o,d,h,f,m,_,y=this;if((y=e.call(this,t,r)||this).message="",y.messageParams=null,y.translations={},y.translationTargetLanguages=[],y.messageSurvivalSeconds=-1,y.plugins=[],y.message=r.message,y.messageType=Wt.USER,y.translations=(d=r.translations)!==null&&d!==void 0?d:{},y.translationTargetLanguages=(h=r.target_langs)!==null&&h!==void 0?h:[],y.translations==={}&&y.translationTargetLanguages.length>0)try{for(var w=ze(y.translationTargetLanguages),C=w.next();!C.done;C=w.next()){var I=C.value;y.translations[I]=""}}catch(T){i={error:T}}finally{try{C&&!C.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}if(y.messageSurvivalSeconds=(f=r.message_survival_seconds)!==null&&f!==void 0?f:-1,y.plugins=r.plugins?r.plugins.map(function(T){return new l6(T)}):[],r.parent_message_info){var k=r.parent_message_info,U=ne(ne({},k),{created_at:k.ts,message_id:y.parentMessageId,channel_url:y.channelUrl,channel_type:y.channelType,file:k.file,url:(m=k.file)===null||m===void 0?void 0:m.url,require_auth:(_=k.file)===null||_===void 0?void 0:_.require_auth});y.parentMessage=Wa(t,_n(U))}return y}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map(function(r){return l6.payloadify(r)}),parent_message_info:og(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},sg),r),Pe(this.messageId>0&&Z("number",t)&&x3(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(mr),og=function(e){if(e)switch(e.messageType){case Wt.USER:return Cr.payloadify(e);case Wt.FILE:return br.payloadify(e);case Wt.ADMIN:return Rd.payloadify(e)}return null},Wa=function(e,n){switch(n.type){case"MESG":return new Cr(e,n);case"FILE":return new br(e,n);case"ADMM":case"BRDM":return new Rd(e,n)}return null},br=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H=this;(H=e.call(this,t,r)||this).messageParams=null,H.plainUrl="",H.requireAuth=!1,H.name=null,H.size=0,H.type=null,H.thumbnails=[],H.messageSurvivalSeconds=-1,H.messageType=Wt.FILE;var $=(i=r.file)!==null&&i!==void 0?i:null;if(H.plainUrl=((d=(o=$==null?void 0:$.url)!==null&&o!==void 0?o:r.url)!==null&&d!==void 0?d:"").split("?auth=")[0],H.name=(f=(h=$==null?void 0:$.name)!==null&&h!==void 0?h:r.name)!==null&&f!==void 0?f:"File",H.size=(_=(m=$==null?void 0:$.size)!==null&&m!==void 0?m:r.size)!==null&&_!==void 0?_:0,H.data=(w=(y=$==null?void 0:$.data)!==null&&y!==void 0?y:r.custom)!==null&&w!==void 0?w:"",H.type=$?(C=$.type)!==null&&C!==void 0?C:"":(I=r.type)!==null&&I!==void 0?I:"",H.requireAuth=(k=r.require_auth)!==null&&k!==void 0&&k,H.thumbnails=r.thumbnails?r.thumbnails.map(function(W){return new ag(ne(ne({},W),{url:"".concat(W.url.split("?auth=")[0]).concat(H.requireAuth?"?auth=".concat(lf(H._iid)):"")}))}):[],H.messageSurvivalSeconds=(U=r.message_survival_seconds)!==null&&U!==void 0?U:-1,r.parent_message_info){var Q=r.parent_message_info,P=ne(ne({},Q),{message_id:H.parentMessageId,channel_url:H.channelUrl,channel_type:H.channelType,file:Q.file,url:(T=Q.file)===null||T===void 0?void 0:T.url,require_auth:(N=Q.file)===null||N===void 0?void 0:N.require_auth});H.parentMessage=Wa(t,P)}return H}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:og(t.parentMessage)})):null},Object.defineProperty(n.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(lf(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),n.prototype.getThreadedMessagesByTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},sg),r),Pe(this.messageId>0&&Z("number",t)&&x3(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,i.sent()]}})})},n}(mr),Tne=function(e){function n(t){var r,i,o,d=[];return t.mentionType===$r.USERS&&(t.mentionedUserIds?d=t.mentionedUserIds:t.mentionedUsers&&(d=t.mentionedUsers.map(function(h){return h.userId}))),e.call(this,{code:"FILE",ackRequired:!0,payload:_n({channel_url:t.channelUrl,url:t.url,name:(r=t.fileName)!==null&&r!==void 0?r:"",type:(i=t.mimeType)!==null&&i!==void 0?i:"",size:(o=t.fileSize)!==null&&o!==void 0?o:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:d,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Rl.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return j(n,e),n}(oa),Nne=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];return t.mentionType===$r.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(d){return d.userId}))),i.method=ke.POST,i.path="".concat(st(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),i.params=_n({message_type:Wt.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:o,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map(function(d){return ag.payloadify(d)}),require_auth:t.requireAuth,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(d){return Oi.payloadify(d)}),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId}),i}return j(n,e),n}(Oe),S3=function(e){function n(t,r,i){var o,d,h,f=this;(f=e.call(this,t,"FILE",i)||this).message=new br(t,i);var m=se.of(t).sdkState;return f.isMentioned=Ad(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(_){return _.userId}),m.userId),f.forceUpdateLastMessage=(h=i.force_update_last_message)!==null&&h!==void 0&&h,f}return j(n,e),n}(gt),One=function(e){function n(t,r){var i,o,d=this;(d=e.call(this,t,r)||this).message=new br(t,r);var h=se.of(t).sdkState;return d.isMentioned=Ad(d.message.mentionType,(i=d.message.mentionedUserIds)!==null&&i!==void 0?i:d.message.mentionedUsers.map(function(f){return f.userId}),h.userId),d.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,d}return j(n,e),n}(Ue);(function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"})(Qr||(Qr={}));var mn,Ane=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,d=t.onlineDetector,h=t.cacheContext,f=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=n,this._sdkState=r,this._requestQueue=o,this._cacheContext=h,this._dispatcher=i,this._dispatcher.on(function(m){m instanceof ms&&(f._connectionState=m.stateType)}),this._onlineDetector=d}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===ht.CONNECTED||this._connectionState===ht.CONNECTING||this._connectionState===ht.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(n,t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new Tne(ne(ne({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return i=o.sent(),[2,i.as(S3).message];case 2:return r=new Nne(ne(ne({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)];case 3:return i=o.sent(),[2,i.as(One).message]}})})},e.prototype._resolveMessageQueue=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C;return A(this,function(I){switch(I.label){case 0:if(!(t=this._queueMap.get(n.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,r=[],i=!0,I.label=1;case 1:I.trys.push([1,15,16,17]),o=ze(t.messageQueue),d=o.next(),I.label=2;case 2:if(d.done)return[3,14];switch(h=d.value,h.state){case Qr.PENDING:case Qr.UPLOADING:return[3,3];case Qr.UPLOADED:return[3,4];case Qr.FAILED:return[3,12]}return[3,13];case 3:return i=!1,r.push(h),[3,13];case 4:if(!i)return[3,10];I.label=5;case 5:return I.trys.push([5,8,,9]),h.state=Qr.SENDING,[4,this._sendFileMessage(n,h)];case 6:return f=I.sent(),h.deferred.resolve(f),[4,Da(100)];case 7:return I.sent(),[3,9];case 8:return m=I.sent(),h.deferred.reject(m),[3,9];case 9:return[3,11];case 10:r.push(h),I.label=11;case 11:return[3,13];case 12:return h.deferred.reject(h.error.code===Vn.REQUEST_CANCELED?ue.fileUploadCanceled:h.error),[3,13];case 13:return d=o.next(),[3,2];case 14:return[3,17];case 15:return _=I.sent(),w={error:_},[3,17];case 16:try{d&&!d.done&&(C=o.return)&&C.call(o)}finally{if(w)throw w.error}return[7];case 17:return y=t.isResolveRequestPending,t.messageQueue=r,t.isResolving=!1,t.isResolveRequestPending=!1,y?[4,this._resolveMessageQueue(n)]:[3,19];case 18:I.sent(),I.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,I.label=21;case 21:return[2]}})})},e.prototype._uploadNextPendingItem=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I,k;return A(this,function(U){switch(U.label){case 0:return t=this._queueMap.get(n.url),(r=t.messageQueue.find(function(T){return T.state===Qr.PENDING}))?ei(r.params.file)?t.uploadQueue.length<6?(r.state=Qr.UPLOADING,t.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!U.sent())return[3,8];U.label=2;case 2:return U.trys.push([2,4,5,7]),i=new zM({file:r.params.file,channelUrl:n.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(i)];case 3:return o=U.sent(),d=o.as(VM),h=d.url,f=d.fileSize,m=f===void 0?r.params.fileSize:f,_=d.thumbnailSizes,y=_===void 0?r.params.thumbnailSizes:_,w=d.requireAuth,C=w!==void 0&&w,r.params.fileUrl=h,r.params.fileSize=m,r.params.thumbnailSizes=y,r.params.requireAuth=C,r.requireAuth=C,r.state=Qr.UPLOADED,[3,7];case 4:return I=U.sent(),r.state=Qr.FAILED,r.error=I,[3,7];case 5:return(k=t.uploadQueue.findIndex(function(T){return T.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(k,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 6:return U.sent(),[7];case 7:return[3,10];case 8:return r.state=Qr.FAILED,r.error=ue.connectionRequired,(k=t.uploadQueue.findIndex(function(T){return T.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(k,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 9:U.sent(),U.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=Qr.UPLOADED,[4,this._resolveMessageQueue(n)];case 12:U.sent(),U.label=13;case 13:return[2]}})})},e.prototype.request=function(n,t,r){var i,o,d;return O(this,void 0,void 0,function(){var h;return A(this,function(f){return h=new Ai,ei(r.file)&&(r.fileName=(i=r.fileName)!==null&&i!==void 0?i:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(d=r.fileSize)!==null&&d!==void 0?d:r.file.size),this._queueMap.has(n.url)||this._queueMap.set(n.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(n.url).messageQueue.push({requestId:t,params:r,state:Qr.PENDING,deferred:h,requireAuth:r.requireAuth}),this._uploadNextPendingItem(n),[2,h.promise]})})},e.prototype.cancel=function(n,t){var r,i;t===void 0&&(t=null);var o=this._queueMap.get(n.url);if(o){var d=t?[o.messageQueue.find(function(_){return _.requestId===t})]:pn([],fn(o.messageQueue),!1);try{for(var h=ze(d),f=h.next();!f.done;f=h.next()){var m=f.value;if(m)switch(m.state){case Qr.PENDING:m.state=Qr.FAILED,m.error=ue.requestCanceled,this._resolveMessageQueue(n);break;case Qr.UPLOADING:this._requestQueue.cancel(m.requestId)}}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}},e}(),KM={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Lr.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:bi.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},Rne=function(e){return Z("number",e.prevResultSize)&&Z("number",e.nextResultSize)&&Z("boolean",e.isInclusive)&&Z("boolean",e.reverse)&&Z("string",e.messageTypeFilter)&&yn(Lr,e.messageTypeFilter)&&En("string",e.customTypesFilter,!0)&&En("string",e.senderUserIdsFilter,!0)&&yn(bi,e.replyType)&&Z("boolean",e.includeMetaArray)&&Z("boolean",e.includeReactions)&&Z("boolean",e.includeParentMessageInfo)&&Z("boolean",e.includeThreadInfo)&&Z("boolean",e.showSubchannelMessagesOnly)},TE={replyType:bi.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},u6=function(e){return yn(bi,e.replyType)&&Z("boolean",e.includeReactions)&&Z("boolean",e.includeMetaArray)&&Z("boolean",e.includeParentMessageInfo)&&Z("boolean",e.includeThreadInfo)&&Z("boolean",e.includePollDetails)};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(mn||(mn={}));var Rp,fv=function(e){return e.startsWith("EVENT_")||e===mn.SYNC_MESSAGE_FILL||e===mn.SYNC_MESSAGE_CHANGELOGS},$t=function(e){function n(t){var r=t.messages,i=t.source,o=e.call(this)||this;return o.messages=r,o.source=i,o}return j(n,e),n}(Sr),I3=function(e){function n(t){var r=t.messageIds,i=t.source,o=e.call(this)||this;return o.messageIds=r,o.source=i,o}return j(n,e),n}(Sr),WM=function(e){function n(t){var r=t.reqId,i=t.source,o=e.call(this)||this;return o.reqId=r,o.source=i,o}return j(n,e),n}(Sr),Mne=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,d=t.includeMetaArray,h=t.includeReactions,f=t.includeThreadInfo,m=t.includeParentMessageInfo,_=t.includePollDetails,y=e.call(this)||this;return y.method=ke.GET,y.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o)),y.params={is_sdk:!0,with_sorted_meta_array:d,include_reactions:h,include_thread_info:f,include_parent_message_info:m,include_poll_details:_},y}return j(n,e),n}(Oe),Dne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Wa(t,ne({},r)):null,i}return j(n,e),n}(Ue),c6=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,d=o===void 0?null:o,h=t.token,f=h===void 0?null:h,m=t.prevResultSize,_=t.nextResultSize,y=t.isInclusive,w=t.reverse,C=t.messageTypeFilter,I=t.customTypesFilter,k=t.senderUserIdsFilter,U=t.replyType,T=t.includeMetaArray,N=t.includeReactions,H=t.parentMessageId,$=t.includeThreadInfo,Q=t.includeParentMessageInfo,P=t.showSubchannelMessagesOnly,W=t.includePollDetails,K=e.call(this)||this;return K.method=ke.GET,K.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages"),K.params=_n({is_sdk:!0,prev_limit:m,next_limit:_,include:y,reverse:w,message_ts:d,message_id:f,message_type:C!=null?C:null,custom_types:I,sender_ids:k,include_reply_type:U,with_sorted_meta_array:T,include_reactions:N,parent_message_id:H,include_thread_info:$,include_parent_message_info:Q,show_subchannel_message_only:P,include_poll_details:W}),K}return j(n,e),n}(Oe),d6=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.messages.map(function(o){return Wa(t,o)}),i}return j(n,e),n}(Ue),Une=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.timestamp,d=t.token,h=t.replyType,f=t.includeMetaArray,m=t.includeReactions,_=t.includeThreadInfo,y=t.includeParentMessageInfo,w=t.includePollDetails,C=e.call(this)||this;return C.method=ke.GET,C.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages/changelogs"),C.params={change_ts:o,token:d,with_sorted_meta_array:f,include_reactions:m,include_thread_info:_,include_reply_type:h,include_parent_message_info:y,include_poll_details:w},C}return j(n,e),n}(Oe),Lne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedMessages=r.updated.map(function(o){return Wa(t,o)}),i.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),i.hasMore=r.has_more,i.nextToken=r.next,i}return j(n,e),n}(Ue),Pne=function(e){function n(t){var r=t.channelUrl,i=t.scheduledMessageId,o=e.call(this)||this;return o.method=ke.GET,o.path="".concat(ai,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(i)),o.params={},o}return j(n,e),n}(Oe),$ne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=r?Wa(t,ne({},r)):null,i}return j(n,e),n}(Ue),h6={},Ur=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,d=t.onlineDetector,h=t.cacheContext;this._iid=n,this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._onlineDetector=d,this._cacheContext=h,this.fileMessageQueue=new Ane(n,{sdkState:r,dispatcher:i,requestQueue:o,onlineDetector:d,cacheContext:h}),h6[n]=this}return e.of=function(n){return h6[n]},e.prototype.buildMessageFromSerializedData=function(n){var t=Pu(n);switch(t.messageType){case Wt.USER:return new Cr(this._iid,Cr.payloadify(t));case Wt.FILE:return new br(this._iid,br.payloadify(t));case Wt.ADMIN:return new Rd(this._iid,Rd.payloadify(t))}return null},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(n,t){return _n({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations)})},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(n,t){return _n({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:n.file,fileKey:n.fileKey,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:n.fileType,requireAuth:t.requireAuth})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(n,t){return ne(ne({},this.buildUserMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(n,t){return ne(ne({},this.buildFileMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(n){var t=Pu(n);return new cf(this._iid,cf.payloadify(t))},e.prototype.getMessage=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=new Mne(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Dne).message]}})})},e.prototype.getScheduledMessage=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=new Pne(n),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as($ne).message]}})})},e.prototype.getMessagesByTimestamp=function(n,t,r,i,o){return o===void 0&&(o=mn.REQUEST_MESSAGE),O(this,void 0,void 0,function(){var d,h,f;return A(this,function(m){switch(m.label){case 0:return d=new c6(ne(ne({channelType:t,channelUrl:n,timestamp:r},KM),i)),[4,this._requestQueue.send(d)];case 1:return h=m.sent(),f=h.as(d6).messages,this._dispatcher.dispatch(new $t({messages:f,source:o})),[2,f]}})})},e.prototype.getThreadedMessagesByTimestamp=function(n,t,r,i){return i===void 0&&(i=mn.REQUEST_THREADED_MESSAGE),O(this,void 0,void 0,function(){var o,d,h,f;return A(this,function(m){switch(m.label){case 0:return o=new c6(ne(ne(ne({channelUrl:n.channelUrl,channelType:n.channelType,timestamp:t},sg),r),{replyType:bi.ALL,parentMessageId:n.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return d=m.sent(),h=d.as(d6).messages,(f=h.slice(1)).forEach(function(_){_.parentMessage=n}),this._dispatcher.dispatch(new $t({messages:f,source:i})),[2,{parentMessage:h[0],threadedMessages:f}]}})})},e.prototype.getMessageChangelogs=function(n,t,r,i,o){return o===void 0&&(o=mn.REQUEST_MESSAGE_CHANGELOGS),O(this,void 0,void 0,function(){var d,h,f,m,_,y,w,C;return A(this,function(I){switch(I.label){case 0:return d=new Une(_n(ne(ne({channelType:t,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},TE),i))),[4,this._requestQueue.send(d)];case 1:return h=I.sent(),f=h.as(Lne),m=f.updatedMessages,_=f.deletedMessagesInfo,y=f.hasMore,w=f.nextToken,C=_.map(function(k){return k.messageId}),m.length>0&&this._dispatcher.dispatch(new $t({messages:m,source:o})),C.length>0&&this._dispatcher.dispatch(new I3({messageIds:C,source:o})),[2,{updatedMessages:m,deletedMessageIds:C,hasMore:y,token:w}]}})})},e}(),po=function(){function e(){this._onPending=Tn,this._onFailed=Tn,this._onSucceeded=Tn}return e.prototype._trigger=function(n,t){switch(t.sendingStatus){case yt.PENDING:this._onPending(t);break;case yt.FAILED:case yt.CANCELED:this._onFailed(n,t.isResendable?t:null);break;case yt.SCHEDULED:case yt.SUCCEEDED:this._onSucceeded(t)}},e.prototype.onPending=function(n){return this._onPending=n,this},e.prototype.onFailed=function(n){return this._onFailed=n,this},e.prototype.onSucceeded=function(n){return this._onSucceeded=n,this},e}(),Fne=function(e){function n(t,r){var i=e.call(this,t)||this;i.threadInfo=null,i.targetMessageId=0,i.channelUrl=null,i.channelType=null;var o=r.thread_info,d=r.root_message_id,h=r.channel_url,f=r.channel_type;return o&&Z("object",o)&&Z("number",d)&&Z("string",h)&&Z("string",f)&&(i.threadInfo=new kE(t,o),i.targetMessageId=d,i.channelUrl=h,i.channelType=f),i}return j(n,e),n}(gs),Hne={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},Ro=function(){function e(n,t){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=n,this.limit=(r=t.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return Z("number",this.limit)&&this.limit>0},e}(),qne=function(e){function n(t){var r=t.channelCustomType,i=t.keyword,o=t.limit,d=t.reverse,h=t.exactMatch,f=t.channelUrl,m=t.order,_=t.messageTimestampFrom,y=t.messageTimestampTo,w=t.advancedQuery,C=t.targetFields,I=t.nextToken,k=e.call(this)||this;return k.method=ke.GET,k.path="".concat(pne,"/messages"),k.params={custom_type:r,query:i,limit:o,reverse:d,exact_match:h,channel_url:f,message_ts_from:_,message_ts_to:y,sort_field:m,advanced_query:w,target_fields:C,after:I},k}return j(n,e),n}(Oe),Bne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.messages=r.results.map(function(o){return Wa(t,o)}),i.hasNext=r.has_next,i.nextToken=r.end_cursor,i}return j(n,e),n}(Ue);(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(Rp||(Rp={}));var Gne=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C=this;return(C=e.call(this,t,r)||this).keyword="",C.reverse=!1,C.exactMatch=!1,C.channelUrl="",C.channelCustomType="",C.messageTimestampFrom=null,C.messageTimestampTo=null,C.order=Rp.SCORE,C.advancedQuery=!1,C.targetFields=null,C._nextToken="",C.keyword=r.keyword,C.reverse=(i=r.reverse)!==null&&i!==void 0&&i,C.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,C.channelUrl=(d=r.channelUrl)!==null&&d!==void 0?d:"",C.channelCustomType=(h=r.channelCustomType)!==null&&h!==void 0?h:"",C.messageTimestampFrom=(f=r.messageTimestampFrom)!==null&&f!==void 0?f:null,C.messageTimestampTo=(m=r.messageTimestampTo)!==null&&m!==void 0?m:null,C.order=(_=r.order)!==null&&_!==void 0?_:Rp.SCORE,C.advancedQuery=(y=r.advancedQuery)!==null&&y!==void 0&&y,C.targetFields=(w=r.targetFields)!==null&&w!==void 0?w:null,C}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("string",this.keyword)&&this.keyword.length>0&&Z("boolean",this.reverse)&&Z("boolean",this.exactMatch)&&Z("string",this.channelUrl)&&Z("string",this.channelCustomType)&&(Z("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(Z("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&yn(Rp,this.order)&&Z("boolean",this.advancedQuery)&&En("string",this.targetFields,!0)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new qne(ne(ne({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=m.sent(),o=i.as(Bne),d=o.messages,h=o.hasNext,f=o.nextToken,this._nextToken=f,this._hasNext=h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),Vd=function(e){function n(t,r,i,o){var d=e.call(this,t,o)||this;return d.channelUrl=r,d.channelType=i,d}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("string",this.channelUrl)&&yn(ut,this.channelType)},n}(Ro),jne=function(e){function n(t,r,i,o){var d,h,f,m,_,y,w,C,I,k,U=this;return(U=e.call(this,t,r,i,o)||this).reverse=!1,U.messageTypeFilter=Lr.ALL,U.customTypesFilter=null,U.senderUserIdsFilter=null,U.replyType=bi.NONE,U.includeMetaArray=!1,U.includeReactions=!1,U.includeParentMessageInfo=!1,U.includeThreadInfo=!1,U.showSubchannelMessagesOnly=!1,U._edge=Number.MAX_SAFE_INTEGER,U.reverse=(d=o.reverse)!==null&&d!==void 0&&d,U.messageTypeFilter=(h=o.messageTypeFilter)!==null&&h!==void 0?h:Lr.ALL,U.customTypesFilter=(f=o.customTypesFilter)!==null&&f!==void 0?f:null,U.senderUserIdsFilter=(m=o.senderUserIdsFilter)!==null&&m!==void 0?m:null,U.replyType=(_=o.replyType)!==null&&_!==void 0?_:bi.NONE,U.includeMetaArray=(y=o.includeMetaArray)!==null&&y!==void 0&&y,U.includeReactions=(w=o.includeReactions)!==null&&w!==void 0&&w,U.includeParentMessageInfo=(C=o.includeParentMessageInfo)!==null&&C!==void 0&&C,U.includeThreadInfo=(I=o.includeThreadInfo)!==null&&I!==void 0&&I,U.showSubchannelMessagesOnly=(k=o.showSubchannelMessagesOnly)!==null&&k!==void 0&&k,U}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("boolean",this.reverse)&&yn(Lr,this.messageTypeFilter)&&yn(bi,this.replyType)&&En("string",this.customTypesFilter,!0)&&En("string",this.senderUserIdsFilter,!0)&&Z("boolean",this.includeMetaArray)&&Z("boolean",this.includeReactions)&&Z("boolean",this.includeParentMessageInfo)&&Z("boolean",this.includeThreadInfo)&&Z("boolean",this.showSubchannelMessagesOnly)},n.prototype.load=function(){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ur.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return t=r.sent(),this._edge=Math.min.apply(Math,pn([Number.MAX_SAFE_INTEGER],fn(t.map(function(i){return i.createdAt})),!1)),this._hasNext=t.length>=this.limit,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd),zne={channelUrl:null,scheduledMessageId:0},Vne=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="message",t}return j(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,_=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:d,requestQueue:h,logger:f,onlineDetector:m,cacheContext:_}),this._manager=new Ur(t,{sdkState:i,dispatcher:o,requestQueue:h,onlineDetector:m,cacheContext:_})},n.prototype.buildMessageFromSerializedData=function(t){return this._manager.buildMessageFromSerializedData(t)},n.prototype.buildSenderFromSerializedData=function(t){return this._manager.buildSenderFromSerializedData(t)},n.prototype.getMessage=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return t=ne(ne({},Hne),t),Pe(function(i){return Z("string",i.channelUrl)&&Z("string",i.channelType)&&yn(ut,i.channelType)&&Z("number",i.messageId)&&Z("boolean",i.includeMetaArray)&&Z("boolean",i.includeParentMessageInfo)&&Z("boolean",i.includeThreadInfo)&&Z("boolean",i.includePollDetails)}(t)).throw(ue.invalidParameters),[2,this._manager.getMessage(t)]})})},n.prototype.getScheduledMessage=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return t=ne(ne({},zne),t),Pe(function(i){return Z("string",i.channelUrl)&&Z("number",i.scheduledMessageId)}(t)).throw(ue.invalidParameters),[2,this._manager.getScheduledMessage(t)]})})},n}(w3),Md,k3={data:null,customType:null,mentionType:$r.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},T3=function(e){return Z("string",e.data,!0)&&Z("string",e.customType,!0)&&yn($r,e.mentionType)&&En("string",e.mentionedUserIds,!0)&&En(In,e.mentionedUsers,!0)&&Z("string",e.mentionedMessageTemplate,!0)&&En(Oi,e.metaArrays,!0)&&Z("number",e.parentMessageId,!0)&&Z("boolean",e.isReplyToChannel)&&yn(Rl,e.pushNotificationDeliveryOption,!0)&&Z(Bs,e.appleCriticalAlertOptions,!0)},p6=function(e){return e?{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},QM=ne(ne({},k3),{message:null,translationTargetLanguages:null}),YM=function(e){return T3(e)&&Z("string",e.message)&&En("string",e.translationTargetLanguages,!0)};(function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"})(Md||(Md={}));var NE,OE=function(e){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&e instanceof Blob},AE=function(e){return e===Md.BLOB||e===Md.FILE},f6=function(e){return e?{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},v6=ne(ne({},k3),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),m6=function(e){return T3(e)&&(ei(e.file)||Z("string",e.fileUrl))&&Z("string",e.fileName,!0)&&Z("string",e.mimeType,!0)&&Z("number",e.fileSize,!0)&&(e.thumbnailSizes===null||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every(function(n){return Z("object",n)&&n.maxWidth>0&&n.maxHeight>0}))};(function(e){e.MUTED="muted",e.BANNED="banned"})(NE||(NE={}));var Mp,g6=function(){function e(n){var t,r,i;this.restrictionType=null,this.description=null,this.endAt=-1,yn(NE,n.restriction_type)&&(this.restrictionType=n.restriction_type),this.description=(t=n.description)!==null&&t!==void 0?t:null,this.endAt=(i=(r=n.end_at)!==null&&r!==void 0?r:n.muted_end_at)!==null&&i!==void 0?i:-1}return e.payloadify=function(n){return n?_n({restriction_type:n.restrictionType,description:n.description,end_at:n.endAt}):null},e}(),ec=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.restrictionInfo=null,i.restrictionInfo=new g6(r),i}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),g6.payloadify(t.restrictionInfo))):null},n}(In),N3={data:null,customType:null,mentionType:$r.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},O3=function(e){return Z("string",e.data,!0)&&Z("string",e.customType,!0)&&yn($r,e.mentionType)&&En("string",e.mentionedUserIds,!0)&&En(In,e.mentionedUsers,!0)&&Z("string",e.mentionedMessageTemplate,!0)&&En(Oi,e.metaArrays,!0)&&yn(Rl,e.pushNotificationDeliveryOption,!0)&&Z(Bs,e.appleCriticalAlertOptions,!0)},XM=ne(ne({},N3),{message:null,translationTargetLanguages:null}),JM=function(e){return O3(e)&&Z("string",e.message,!0)&&En("string",e.translationTargetLanguages,!0)},Kne=ne({},N3),Wne=function(e){function n(t){var r=t.channelUrl,i=t.channelType,o=t.token,d=t.limit,h=e.call(this)||this;return h.method=ke.GET,h.path="".concat(st(i),"/").concat(encodeURIComponent(r),"/operators"),h.params={token:o,limit:d},h}return j(n,e),n}(Oe),Qne=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.operators=r.operators.map(function(o){return new In(t,o)}),i.token=r.next,i}return j(n,e),n}(Ue),Yne=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=se.of(this._iid).requestQueue,i=new Wne(ne(ne({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(i)]):[3,2]):[3,5];case 1:return o=m.sent(),d=o.as(Qne),h=d.operators,f=d.token,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,t];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd),Xne=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.limit,h=t.token;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={limit:d,token:h},r}return j(n,e),n}(Oe),Jne=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.mutedUsers=[];var o=r.next,d=r.muted_list;return i.token=o,d&&d.length>0&&(i.mutedUsers=d.map(function(h){return new ec(t,h)})),i}return j(n,e),n}(Ue),Zne=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return j(n,e),n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new Xne(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(Jne),d=o.mutedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd),ete=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.limit,h=t.token;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=_n({limit:d,token:h}),r}return j(n,e),n}(Oe),nte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.bannedUsers=[];var o=r.next,d=r.banned_list;return i.token=o,d&&d.length>0&&(i.bannedUsers=d.map(function(h){return new ec(t,h.user)})),i}return j(n,e),n}(Ue),tte=function(e){function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new ete(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(nte),d=o.bannedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd);(function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"})(Mp||(Mp={}));var rte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.operatorUserIds;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:d},r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var ite=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.operatorUserIds;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/operators"),r.params={operator_ids:d},r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var ate=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.userId;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/mute/").concat(d),r}return j(n,e),n}(Oe),ste=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.isMuted=!1,i.startAt=null,i.endAt=null,i.remainingDuration=null,i.description=null;var o=r.is_muted,d=r.start_at,h=r.end_at,f=r.remaining_duration,m=r.description;return i.isMuted=o,i.startAt=d,i.endAt=h,i.remainingDuration=f,i.description=m,i}return j(n,e),n}(Ue),_6=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.keys;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={keys:d,include_ts:!0},r}return j(n,e),n}(Oe),b6=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,d=r.ts;return i.metadata=o,i.ts=d!=null?d:null,i}return j(n,e),n}(Ue),ote=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.metadata,h=t.upsert;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={metadata:d,include_ts:!0,upsert:h!=null&&h},r}return j(n,e),n}(Oe),lte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.metadata,d=r.ts;return i.metadata=o,i.ts=d!=null?d:null,i}return j(n,e),n}(Ue),ZM=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return j(n,e),n}(gt),ute=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.key;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metadata/").concat(d),r.params={include_ts:!0},r}return j(n,e),n}(Oe),cte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return j(n,e),n}(Ue),dte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metadata"),r.params={include_ts:!0},r}return j(n,e),n}(Oe),hte=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.ts=null;var o=r.ts;return i.ts=o!=null?o:null,i}return j(n,e),n}(Ue),y6=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.keys;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={keys:d},r}return j(n,e),n}(Oe),E6=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return j(n,e),n}(Ue),pte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.metaCounter;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:d},r}return j(n,e),n}(Oe),fte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return j(n,e),n}(Ue),i1=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.metaCounter,h=t.upsert,f=h!==void 0&&h,m=t.mode,_=m===void 0?"set":m;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params={metacounter:d,upsert:f,mode:_},r}return j(n,e),n}(Oe),a1=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.metaCounter=r,i}return j(n,e),n}(Ue),e5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.created=null,o.updated=null,o.deleted=null,i.data&&(o.created=i.data.created,o.updated=i.data.updated,o.deleted=i.data.deleted),o}return j(n,e),n}(gt),vte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.key;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metacounter/").concat(d),r.params=null,r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var mte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/metacounter"),r.params=null,r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var gte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.userId,h=t.seconds,f=t.description;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/mute"),r.params={user_id:d,seconds:h,description:f},r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var n5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new ec(t,i.data),o}return j(n,e),n}(gt),_te=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.userId;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/mute/").concat(encodeURIComponent(d)),r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var t5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new ec(t,i.data),o}return j(n,e),n}(gt),bte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.userId,h=t.seconds,f=t.description;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/ban"),r.params=_n({user_id:d,seconds:h,description:f}),r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var r5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new ec(t,i.data),i.data.member_count&&(o.memberCount=i.data.member_count),i.data.joined_member_count&&(o.joinedMemberCount=i.data.joined_member_count),o}return j(n,e),n}(gt),yte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.userId;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/ban/").concat(encodeURIComponent(d)),r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var i5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new ec(t,i.data),o}return j(n,e),n}(gt),w6=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.freezing;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(st(o),"/").concat(encodeURIComponent(i),"/freeze"),r.params={freeze:d},r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var a5=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.freeze=i.data.freeze,o}return j(n,e),n}(gt),Ete=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.category,h=t.userId,f=t.description;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(qM(o),"/").concat(encodeURIComponent(i)),r.params={report_category:d,reporting_user_id:h,report_description:f},r}return j(n,e),n}(Oe),wte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.category,h=t.userId,f=t.offendingUserId,m=t.description;return(r=e.call(this)||this).method=ke.POST,r.path="/report/users/".concat(f),r.params={channel_url:i,channel_type:o===ut.OPEN?"open_channels":"group_channels",report_category:d,reporting_user_id:h,report_description:m},r}return j(n,e),n}(Oe),Cte=function(e){function n(t){var r=this,i=t.channelUrl,o=t.channelType,d=t.category,h=t.userId,f=t.offendingUserId,m=t.messageId,_=t.description;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(qM(o),"/").concat(encodeURIComponent(i),"/messages/").concat(m),r.params={report_category:d,reporting_user_id:h,report_description:_,offending_user_id:f},r}return j(n,e),n}(Oe),xte=function(e){function n(t){var r=[];return t.mentionType===$r.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MESG",ackRequired:!0,payload:_n({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Rl.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return j(n,e),n}(oa),A3=function(e){function n(t,r,i){var o,d,h,f=this;(f=e.call(this,t,"MESG",i)||this).message=new Cr(t,i);var m=se.of(t).sdkState;return f.isMentioned=Ad(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(_){return _.userId}),m.userId),f.forceUpdateLastMessage=(h=i.force_update_last_message)!==null&&h!==void 0&&h,f}return j(n,e),n}(gt),C6=function(e){function n(t){var r=[];return t.mentionType===$r.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"MEDI",ackRequired:!0,payload:_n({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return j(n,e),n}(oa),Em=function(e){function n(t,r,i){var o,d,h,f,m,_,y=this;(y=e.call(this,t,"MEDI",i)||this).message=new Cr(t,i);var w=se.of(t).sdkState;return y.mentionCountChange=E3({mentionType:(d=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(f=(h=i.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(C){return C.userId})},w.userId),y}return j(n,e),n}(gt),Ste=function(e){function n(t){var r=[];return t.mentionType===$r.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(i){return i.userId}))),e.call(this,{code:"FEDI",ackRequired:!0,payload:_n({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return j(n,e),n}(oa),R3=function(e){function n(t,r,i){var o,d,h,f,m,_,y=this;(y=e.call(this,t,"FEDI",i)||this).message=new br(t,i);var w=se.of(t).sdkState;return y.mentionCountChange=E3({mentionType:(d=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(f=(h=i.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(C){return C.userId})},w.userId),y}return j(n,e),n}(gt),Ite=function(e){function n(t){var r=e.call(this)||this;return r.method=ke.DELETE,r.path="".concat(st(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var s5=function(e){function n(t,r,i){var o=e.call(this,t,"DELM",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.messageId=Number(i.msg_id),o}return j(n,e),n}(gt),kte=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,d=t.reactionKey,h=e.call(this)||this;return h.method=ke.POST,h.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),h.params={reaction:d},h}return j(n,e),n}(Oe),Tte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new C3(r),i}return j(n,e),n}(Ue),Nte=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,d=t.reactionKey,h=e.call(this)||this;return h.method=ke.DELETE,h.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages/").concat(o,"/reactions"),h.params={reaction:d},h}return j(n,e),n}(Oe),Ote=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.reactionEvent=new C3(ne({},r)),i}return j(n,e),n}(Ue),Ate=function(e){function n(t){var r=t.channelType,i=t.channelUrl,o=t.messageId,d=t.translationTargetLanguages,h=e.call(this)||this;return h.method=ke.POST,h.path="".concat(st(r),"/").concat(encodeURIComponent(i),"/messages/").concat(encodeURIComponent(o),"/translation"),h.params={target_langs:d},h}return j(n,e),n}(Oe),Rte=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Cr(t,r),i}return j(n,e),n}(Ue),Mte=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===$r.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var d=t.channelType,h=t.channelUrl;return i.method=ke.POST,i.path="".concat(st(d),"/").concat(encodeURIComponent(h),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Od.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return Oi.payloadify(f)}),apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return j(n,e),n}(Oe),o5=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Cr(t,r),i}return j(n,e),n}(Ue),Dte=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===$r.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(f){return f.userId})));var d=t.channelType,h=t.channelUrl;return i.method=ke.POST,i.path="".concat(st(d),"/").concat(encodeURIComponent(h),"/scheduled_messages"),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Od.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(f){return ag.payloadify(f)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(f){return Oi.payloadify(f)}),apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return j(n,e),n}(Oe),Ute=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new br(t,r),i}return j(n,e),n}(Ue),Lte=2,RE=function(e){function n(t,r){var i,o,d,h,f=this;return(f=e.call(this,t)||this).url="",f.channelType=ut.BASE,f.name="",f.coverUrl="",f.customType="",f.data="",f.isFrozen=!1,f.isEphemeral=!1,f.creator=null,f.createdAt=0,f.url=r.channel_url,f.name=(i=r.name)!==null&&i!==void 0?i:"",f.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",f.customType=(d=r.custom_type)!==null&&d!==void 0?d:"",f.data=(h=r.data)!==null&&h!==void 0?h:"",f.isFrozen=!!Z("boolean",r.freeze)&&r.freeze,f.isEphemeral=!!Z("boolean",r.is_ephemeral)&&r.is_ephemeral,f.creator=r.created_by?new In(f._iid,r.created_by):null,f.createdAt=1e3*r.created_at,f._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(m){f._cachedMetaData.set(m,{value:r.metadata[m],isRemoved:!1,updatedAt:r.ts})}),f}return j(n,e),n.payloadify=function(t){return _n(ne(ne({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:In.payloadify(t.creator),created_at:t.createdAt/1e3}))},n.prototype.isGroupChannel=function(){return this.channelType===ut.GROUP},n.prototype.isOpenChannel=function(){return this.channelType===ut.OPEN},Object.defineProperty(n.prototype,"cachedMetaData",{get:function(){var t={};return this._cachedMetaData.forEach(function(r,i){r.isRemoved||(t[i]=r.value)}),t},enumerable:!1,configurable:!0}),n.prototype._upsertCachedMetaData=function(t,r){var i=this;Object.keys(t).forEach(function(o){var d=i._cachedMetaData.get(o);(!d||d.updatedAt<=r)&&i._cachedMetaData.set(o,{value:t[o],isRemoved:!1,updatedAt:r})})},n.prototype._removeFromCachedMetaData=function(t,r){var i=this;t.forEach(function(o){var d=i._cachedMetaData.get(o);d&&d.updatedAt<r&&(d.isRemoved=!1,d.updatedAt=r)})},n.prototype._generateRequestId=function(){return"rq-".concat(Ha())},n.prototype.isIdentical=function(t){return t&&this.url===t.url},n.prototype.isEqual=function(t){return MM(this,t)},n.prototype.createOperatorListQuery=function(t){return t===void 0&&(t={}),new Yne(this._iid,this.url,this.channelType,t)},n.prototype.createMutedUserListQuery=function(t){return t===void 0&&(t={}),new Zne(this._iid,this.url,this.channelType,t)},n.prototype.createBannedUserListQuery=function(t){return t===void 0&&(t={}),new tte(this._iid,this.url,this.channelType,t)},n.prototype.createPreviousMessageListQuery=function(t){return t===void 0&&(t={}),new jne(this._iid,this.url,this.channelType,t)},n.prototype.addOperators=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(En("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new rte({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.removeOperators=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(En("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new ite({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.getMyMutedInfo=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w;return A(this,function(C){switch(C.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new ate({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,i.send(o)];case 1:return d=C.sent(),h=d.as(ste),f=h.isMuted,m=h.startAt,_=h.endAt,y=h.remainingDuration,w=h.description,[2,{isMuted:f,startAt:m,endAt:_,remainingDuration:y,description:w}]}})})},n.prototype.getMetaData=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(En("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new _6({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=m.sent(),d=o.as(b6),h=d.metadata,f=d.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},n.prototype.getAllMetaData=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid).requestQueue,r=new _6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=f.sent(),o=i.as(b6),d=o.metadata,h=o.ts,this._upsertCachedMetaData(d,h),[2,d]}})})},n.prototype.createMetaData=function(t){return O(this,void 0,void 0,function(){var r,i,o,d;return A(this,function(h){switch(h.label){case 0:return r=se.of(this._iid).requestQueue,i=new gne({channelUrl:this.url,channelType:this.channelType,metadata:t}),[4,r.send(i)];case 1:return o=h.sent(),d=o.as(BM).metaData,this._upsertCachedMetaData(d,0),[2,d]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),O(this,void 0,void 0,function(){var i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return i=se.of(this._iid).requestQueue,o=new ote({channelUrl:this.url,channelType:this.channelType,metadata:t,upsert:r}),[4,i.send(o)];case 1:return d=_.sent(),h=d.as(lte),f=h.metadata,m=h.ts,this._upsertCachedMetaData(f,m),[2,f]}})})},n.prototype.deleteMetaData=function(t){return O(this,void 0,void 0,function(){var r,i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new ute({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o=h.sent(),d=o.as(cte).ts,this._removeFromCachedMetaData([t],d),[2]}})})},n.prototype.deleteAllMetaData=function(){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return t=se.of(this._iid).requestQueue,r=new dte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i=d.sent(),o=i.as(hte).ts,this._removeFromCachedMetaData(pn([],fn(this._cachedMetaData.keys()),!1),o),[2]}})})},n.prototype.getMetaCounters=function(t){return O(this,void 0,void 0,function(){var r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(En("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new y6({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(E6).metaCounter]}})})},n.prototype.getAllMetaCounters=function(){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return t=se.of(this._iid).requestQueue,r=new y6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(E6).metaCounter]}})})},n.prototype.createMetaCounters=function(t){return O(this,void 0,void 0,function(){var r,i,o;return A(this,function(d){switch(d.label){case 0:return r=se.of(this._iid).requestQueue,i=new pte({channelUrl:this.url,channelType:this.channelType,metaCounter:t}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(fte).metaCounter]}})})},n.prototype.updateMetaCounters=function(t,r){return r===void 0&&(r=!1),O(this,void 0,void 0,function(){var i,o,d;return A(this,function(h){switch(h.label){case 0:return i=se.of(this._iid).requestQueue,o=new i1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:r}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(a1).metaCounter]}})})},n.prototype.increaseMetaCounters=function(t){return O(this,void 0,void 0,function(){var r,i,o;return A(this,function(d){switch(d.label){case 0:return r=se.of(this._iid).requestQueue,i=new i1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"increase"}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(a1).metaCounter]}})})},n.prototype.decreaseMetaCounters=function(t){return O(this,void 0,void 0,function(){var r,i,o;return A(this,function(d){switch(d.label){case 0:return r=se.of(this._iid).requestQueue,i=new i1({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"decrease"}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(a1).metaCounter]}})})},n.prototype.deleteMetaCounter=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new vte({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.deleteAllMetaCounters=function(){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=se.of(this._iid).requestQueue,r=new mte({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.muteUser=function(t,r,i){return O(this,void 0,void 0,function(){return A(this,function(o){return[2,this.muteUserWithUserId(t.userId,r,i)]})})},n.prototype.muteUserWithUserId=function(t,r,i){return O(this,void 0,void 0,function(){var o,d;return A(this,function(h){switch(h.label){case 0:return Pe(Z("string",t)&&Z("number",r,!0)&&Z("string",i,!0)).throw(ue.invalidParameters),o=se.of(this._iid).requestQueue,d=new gte({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(d)];case 1:return h.sent(),[2]}})})},n.prototype.unmuteUser=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.unmuteUserWithUserId(t.userId)]})})},n.prototype.unmuteUserWithUserId=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new _te({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.banUser=function(t,r,i){return O(this,void 0,void 0,function(){return A(this,function(o){return[2,this.banUserWithUserId(t.userId,r,i)]})})},n.prototype.banUserWithUserId=function(t,r,i){return O(this,void 0,void 0,function(){var o,d;return A(this,function(h){switch(h.label){case 0:return Pe(Z("string",t)&&Z("number",r,!0)&&Z("string",i,!0)).throw(ue.invalidParameters),o=se.of(this._iid).requestQueue,d=new bte({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:i}),[4,o.send(d)];case 1:return h.sent(),[2]}})})},n.prototype.unbanUser=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.unbanUserWithUserId(t.userId)]})})},n.prototype.unbanUserWithUserId=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new yte({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(i)];case 1:return o.sent(),[2]}})})},n.prototype.freeze=function(){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=se.of(this._iid).requestQueue,r=new w6({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!0,[2]}})})},n.prototype.unfreeze=function(){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=se.of(this._iid).requestQueue,r=new w6({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,t.send(r)];case 1:return i.sent(),this.isFrozen=!1,[2]}})})},n.prototype.getMessagesByTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},KM),r),Pe(Z("number",t)&&Rne(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},TE),r),Pe(Z("number",t)&&u6(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMessageChangeLogsSinceToken=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},TE),r),Pe(Z("string",t)&&u6(r)).throw(ue.invalidParameters),[4,Ur.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,i.sent()]}})})},n.prototype._createPendingSendableMessagePayload=function(t,r,i){var o=se.of(this._iid).sessionManager;return _n({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map(function(d){return Oi.payloadify(d)}):null,apple_critical_alert_options:t.appleCriticalAlertOptions?Bs.payloadify(t.appleCriticalAlertOptions):null,created_at:i,user:cf.payloadify(o.currentUser),req_id:r,request_state:yt.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:t.mentionedUsers})},n.prototype._createPendingUserMessage=function(t,r,i){var o,d,h={};if(t.translationTargetLanguages)try{for(var f=ze(t.translationTargetLanguages),m=f.next();!m.done;m=f.next())h[m.value]=""}catch(w){o={error:w}}finally{try{m&&!m.done&&(d=f.return)&&d.call(f)}finally{if(o)throw o.error}}var _=_n(ne(ne({},this._createPendingSendableMessagePayload(t,r,i)),{type:Wt.USER,message:t.message,translations:h})),y=new Cr(this._iid,_);return y.messageParams=t,y},n.prototype._createPendingScheduledUserMessage=function(t,r,i){var o=this._createPendingUserMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._createPendingFileMessage=function(t,r,i){var o=_n(ne(ne({},this._createPendingSendableMessagePayload(t,r,i)),{type:Wt.FILE,url:t.fileUrl,file:{name:t.fileName,size:t.fileSize,type:t.mimeType,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(h){return{url:"",width:h.maxWidth,height:h.maxHeight}}):[]})),d=new br(this._iid,o);return d.messageParams=t,d},n.prototype._createPendingScheduledFileMessage=function(t,r,i){var o=this._createPendingFileMessage(t,r,i);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},o},n.prototype._markMessageAsFailed=function(t,r,i){i===void 0&&(i=!1),t.errorCode=r.code,r.code===Vn.REQUEST_CANCELED?t.sendingStatus=yt.CANCELED:i||(t.sendingStatus=yt.FAILED)},n.prototype.sendUserMessage=function(t){return t=ne(ne({},QM),t),Pe(YM(t)).throw(ue.invalidParameters),this._sendUserMessage(t)},n.prototype._sendUserMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var d=se.of(this._iid),h=d.dispatcher,f=d.requestQueue,m=i,_=new po;if(!m){m=this._generateRequestId();var y=se.of(this._iid).dispatcher;Da(2).then(function(){var C=o._createPendingUserMessage(t,m,r);y.dispatch(new $t({messages:[C],source:mn.EVENT_MESSAGE_SENT_PENDING})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(I){return[2,_._trigger(null,C)]})})})})}var w=new xte(ne({channelUrl:this.url,channelType:this.channelType,reqId:m},t));return f.send(w).then(function(C){var I=C.as(A3).message;h.dispatch(new $t({messages:[I],source:mn.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(k){return[2,_._trigger(null,I)]})})})}).catch(function(C){if(us(C))throw C;Da(2).then(function(){var I=o._createPendingUserMessage(t,m,r),k=se.of(o._iid).cacheContext.localCacheEnabled&&_m(C.code);o._markMessageAsFailed(I,C,k),h.dispatch(new $t({messages:[I],source:I.sendingStatus===yt.PENDING?mn.REQUEST_RESEND_MESSAGE:mn.EVENT_MESSAGE_SENT_FAILED})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(U){return[2,_._trigger(C,I)]})})})})}),_},n.prototype._autoResendUserMessage=function(t){return Pe(t instanceof Cr).throw(ue.invalidParameters),this._sendUserMessage(t.messageParams,t.createdAt,t.reqId)},n.prototype.resendUserMessage=function(t){var r;return O(this,void 0,void 0,function(){var i,o;return A(this,function(d){var h;return Pe(t instanceof Cr&&!t.scheduledInfo).throw(ue.invalidParameters),i=new Ai,o=(r=t.messageParams)!==null&&r!==void 0?r:_n({data:(h=t).data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate,metaArrays:h.metaArrays,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,message:h.message,translationTargetLanguages:Object.keys(h.translations)}),this._sendUserMessage(o).onFailed(function(f){return i.reject(f)}).onSucceeded(function(f){return i.resolve(f)}),[2,i.promise]})})},n.prototype.updateUserMessage=function(t,r){return O(this,void 0,void 0,function(){var i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return r=ne(ne({},XM),r),Pe(Z("number",t)&&JM(r)).throw(ue.invalidParameters),i=se.of(this._iid),o=i.dispatcher,d=i.requestQueue,h=new C6(ne({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,d.send(h)];case 1:return f=_.sent(),m=f.as(Em).message,o.dispatch(new $t({messages:[m],source:mn.EVENT_MESSAGE_UPDATED})),[2,m]}})})},n.prototype.copyUserMessage=function(t,r){var i,o,d;return O(this,void 0,void 0,function(){var h,f;return A(this,function(m){return Pe(t instanceof n&&r instanceof Cr&&r.sendingStatus===yt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(ue.invalidParameters),h=new Ai,f=(i=r.messageParams)!==null&&i!==void 0?i:ne(ne({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(d=r.mentionedUsers)===null||d===void 0?void 0:d.map(function(_){return _.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Rl.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),t._sendUserMessage(f).onSucceeded(function(_){return h.resolve(_)}).onFailed(function(_){return h.reject(_)}),[2,h.promise]})})},n.prototype.translateUserMessage=function(t,r){return O(this,void 0,void 0,function(){var i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(t instanceof Cr&&t.messageId>0&&En("string",r)).throw(ue.invalidParameters),i=se.of(this._iid).requestQueue,o=new Ate({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:r}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Rte).message]}})})},n.prototype._createScheduledUserMessage=function(t,r){var i=this,o=se.of(this._iid),d=o.dispatcher,h=o.requestQueue,f=Date.now(),m=this._generateRequestId();Da(2).then(function(){var y=i._createPendingScheduledUserMessage(t,m,f);d.dispatch(new $t({messages:[y],source:mn.EVENT_MESSAGE_SENT_PENDING})),en(function(){return O(i,void 0,void 0,function(){return A(this,function(w){return[2,r._trigger(null,y)]})})})});var _=new Mte(ne({reqId:m,channelType:this.channelType,channelUrl:this.url},t));h.send(_).then(function(y){var w=y.as(o5).message;d.dispatch(new $t({messages:[w],source:mn.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return O(i,void 0,void 0,function(){return A(this,function(C){return[2,r._trigger(null,w)]})})})}).catch(function(y){if(us(y))throw y;Da(2).then(function(){var w=i._createPendingScheduledUserMessage(t,m,f);i._markMessageAsFailed(w,y),d.dispatch(new $t({messages:[w],source:mn.EVENT_MESSAGE_SENT_FAILED})),en(function(){return O(i,void 0,void 0,function(){return A(this,function(C){return[2,r._trigger(y,w)]})})})})})},n.prototype.sendFileMessage=function(t){return t=ne(ne({},v6),t),Pe(m6(t)).throw(ue.invalidParameters),this._sendFileMessage(t)},n.prototype._sendFileMessage=function(t,r,i){var o=this;r===void 0&&(r=Date.now()),i===void 0&&(i=null);var d=se.of(this._iid).dispatcher,h=Ur.of(this._iid).fileMessageQueue,f=i,m=new po;return f||(f=this._generateRequestId(),Da(2).then(function(){var _=o._createPendingFileMessage(t,f,r);d.dispatch(new $t({messages:[_],source:mn.EVENT_MESSAGE_SENT_PENDING})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(y){return[2,m._trigger(null,_)]})})})})),h.request(this,f,t).then(function(_){d.dispatch(new $t({messages:[_],source:mn.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(y){return[2,m._trigger(null,_)]})})})}).catch(function(_){if(us(_))throw _;Da(2).then(function(){var y=o._createPendingFileMessage(t,f,r),w=se.of(o._iid).cacheContext.localCacheEnabled&&_m(_.code);o._markMessageAsFailed(y,_,w),d.dispatch(new $t({messages:[y],source:y.sendingStatus===yt.PENDING?mn.REQUEST_RESEND_MESSAGE:mn.EVENT_MESSAGE_SENT_FAILED})),en(function(){return O(o,void 0,void 0,function(){return A(this,function(C){return[2,m._trigger(_,y)]})})})})}),m},n.prototype._autoResendFileMessage=function(t){Pe(t instanceof br).throw(ue.invalidParameters);var r=se.of(this._iid).logger;return r.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.createdAt,t.reqId).onFailed(function(i){r.debug("autoResendFileMessage failed",i)}).onSucceeded(function(i){r.debug("autoResendFileMessage success",i)})},n.prototype._createScheduledFileMessage=function(t,r,i,o){var d=this,h=se.of(this._iid),f=h.dispatcher,m=h.requestQueue,_=new Dte(ne(ne({reqId:i,channelType:this.channelType,channelUrl:this.url},t),{fileUrl:t.fileUrl,requireAuth:t.requireAuth}));m.send(_).then(function(y){var w=y.as(Ute).message;f.dispatch(new $t({messages:[w],source:mn.EVENT_MESSAGE_SENT_SUCCESS})),en(function(){return O(d,void 0,void 0,function(){return A(this,function(C){return[2,r._trigger(null,w)]})})})}).catch(function(y){if(us(y))throw y;Da(2).then(function(){var w=d._createPendingScheduledFileMessage(t,i,o);d._markMessageAsFailed(w,y),f.dispatch(new $t({messages:[w],source:mn.EVENT_MESSAGE_SENT_FAILED})),en(function(){return O(d,void 0,void 0,function(){return A(this,function(C){return[2,r._trigger(y,w)]})})})})})},n.prototype.sendFileMessages=function(t){var r,i;Pe(t.every(function(m){return m6(ne(ne({},v6),m))})).throw(ue.invalidParameters);var o=new po;try{for(var d=ze(t),h=d.next();!h.done;h=d.next()){var f=h.value;this.sendFileMessage(f).onPending(function(m){return o._trigger(null,m)}).onFailed(function(m,_){return o._trigger(m,_)}).onSucceeded(function(m){return o._trigger(null,m)})}}catch(m){r={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return o},n.prototype.resendFileMessage=function(t,r){var i;return O(this,void 0,void 0,function(){var o,d;return A(this,function(h){return Pe(t instanceof br&&r instanceof Blob&&!t.scheduledInfo).throw(ue.invalidParameters),o=new Ai,d=(i=t.messageParams)!==null&&i!==void 0?i:function(f,m){return m===void 0&&(m=null),_n({data:f.data,customType:f.customType,mentionType:f.mentionType,mentionedUsers:f.mentionedUsers,mentionedUserIds:f.mentionedUserIds,metaArrays:f.metaArrays,parentMessageId:f.parentMessageId,appleCriticalAlertOptions:f.appleCriticalAlertOptions,file:m,fileUrl:f.url,fileName:f.name,fileSize:f.size,mimeType:f.type,thumbnailSizes:f.thumbnails.map(function(_){return{maxWidth:_.width,maxHeight:_.height}})})}(t,r),this._sendFileMessage(d).onFailed(function(f){return o.reject(f)}).onSucceeded(function(f){return o.resolve(f)}),[2,o.promise]})})},n.prototype.updateFileMessage=function(t,r){return O(this,void 0,void 0,function(){var i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return r=ne(ne({},Kne),r),Pe(Z("number",t)&&function(y){return O3(y)}(r)).throw(ue.invalidParameters),i=se.of(this._iid),o=i.dispatcher,d=i.requestQueue,h=new Ste(ne({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,d.send(h)];case 1:return f=_.sent(),m=f.as(R3).message,o.dispatch(new $t({messages:[m],source:mn.EVENT_MESSAGE_UPDATED})),[2,m]}})})},n.prototype.cancelUploadingFileMessage=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return Pe(Z("string",t)).throw(ue.invalidParameters),Ur.of(this._iid).fileMessageQueue.cancel(this,t),[2,!0]})})},n.prototype.copyFileMessage=function(t,r){var i,o;return O(this,void 0,void 0,function(){var d,h;return A(this,function(f){return Pe(t instanceof n&&r instanceof br&&r.sendingStatus===yt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(ue.invalidParameters),d=new Ai,h=ne(ne({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(i=r.mentionedUserIds)!==null&&i!==void 0?i:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(m){return m.userId}),pushNotificationDeliveryOption:Rl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(m){return{maxWidth:m.width,maxHeight:m.height}}),requireAuth:r.requireAuth}),t._sendFileMessage(h).onSucceeded(function(m){return d.resolve(m)}).onFailed(function(m){return d.reject(m)}),[2,d.promise]})})},n.prototype.deleteMessage=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return Pe(t instanceof mr).throw(ue.invalidParameters),t.messageId>0?(r=se.of(this._iid).requestQueue,i=new Ite({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.addReaction=function(t,r){return O(this,void 0,void 0,function(){var i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(t instanceof ym&&t.messageId>0&&Z("string",r)).throw(ue.invalidParameters),i=se.of(this._iid).requestQueue,o=new kte({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Tte).reactionEvent]}})})},n.prototype.deleteReaction=function(t,r){return O(this,void 0,void 0,function(){var i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(t instanceof ym&&t.messageId>0&&Z("string",r)).throw(ue.invalidParameters),i=se.of(this._iid).requestQueue,o=new Nte({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Ote).reactionEvent]}})})},n.prototype._updateMessageMetaArray=function(t,r,i,o){return O(this,void 0,void 0,function(){var d,h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:return d=se.of(this._iid),h=d.dispatcher,f=d.requestQueue,m=new C6({channelType:this.channelType,channelUrl:this.url,messageId:t,metaArrayParams:{array:r,mode:i,upsert:o}}),[4,f.send(m)];case 1:return _=w.sent(),y=_.as(Em).message,h.dispatch(new $t({messages:[y],source:mn.EVENT_MESSAGE_UPDATED})),[2,y]}})})},n.prototype.createMessageMetaArrayKeys=function(t,r){return O(this,void 0,void 0,function(){var i;return A(this,function(o){return Pe(t instanceof mr&&t.messageId>0&&En("string",r)).throw(ue.invalidParameters),i=r.map(function(d){return new Oi({key:d})}),[2,this._updateMessageMetaArray(t.messageId,i,"add",!0)]})})},n.prototype.deleteMessageMetaArrayKeys=function(t,r){return O(this,void 0,void 0,function(){var i;return A(this,function(o){return Pe(t instanceof mr&&t.messageId>0&&En("string",r)).throw(ue.invalidParameters),i=r.map(function(d){return new Oi({key:d})}),[2,this._updateMessageMetaArray(t.messageId,i,"remove",!0)]})})},n.prototype.addMessageMetaArrayValues=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){return Pe(t instanceof mr&&t.messageId>0&&r.every(function(o){return o instanceof Oi})).throw(ue.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"add",!0)]})})},n.prototype.removeMessageMetaArrayValues=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){return Pe(t instanceof mr&&t.messageId>0&&r.every(function(o){return o instanceof Oi})).throw(ue.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"remove",!0)]})})},n.prototype.report=function(t,r){return O(this,void 0,void 0,function(){var i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(yn(Mp,t)&&Z("string",r)).throw(ue.invalidParameters),i=se.of(this._iid),o=i.sdkState,d=i.requestQueue,h=new Ete({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:t,description:r}),[4,d.send(h)];case 1:return f.sent(),[2]}})})},n.prototype.reportUser=function(t,r,i){return O(this,void 0,void 0,function(){var o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(t instanceof In&&yn(Mp,r)&&Z("string",i)).throw(ue.invalidParameters),o=se.of(this._iid),d=o.sdkState,h=o.requestQueue,f=new wte({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:t.userId,category:r,description:i}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},n.prototype.reportMessage=function(t,r,i){return O(this,void 0,void 0,function(){var o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(t instanceof mr&&yn(Mp,r)&&Z("string",i)).throw(ue.invalidParameters),o=se.of(this._iid),d=o.sdkState,h=o.requestQueue,f=new Cte({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:r,description:i}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},n}(gs),Wi,Au,Ca,ME;(function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"})(Wi||(Wi={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(Au||(Au={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(Ca||(Ca={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(ME||(ME={}));var yr,Dp,DE,l5=100,u5="GroupChannel",Pte="url",c5=100,$te="Message",Fte="messageId";(function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(yr||(yr={})),function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(Dp||(Dp={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(DE||(DE={}));var Dr,Pv=function(e){switch(e){case yr.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case yr.CHRONOLOGICAL:return["-createdAt","syncIndex"];case yr.CHANNEL_NAME_ALPHABETICAL:return["name"]}},df=function(){function e(){this.messageTypeFilter=Lr.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=bi.NONE}return e.prototype.clone=function(){var n=new e,t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n){switch(this.messageTypeFilter){case Lr.USER:if(n.messageType!==Wt.USER)return!1;break;case Lr.FILE:if(n.messageType!==Wt.FILE)return!1;break;case Lr.ADMIN:if(n.messageType!==Wt.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(n instanceof mr)||!this.senderUserIdsFilter.includes(n.sender.userId)))return!1;switch(this.replyType){case bi.NONE:if(n.parentMessageId>0)return!1;break;case bi.ONLY_REPLY_TO_CHANNEL:if(n instanceof mr&&n.parentMessageId>0&&!n.replyToChannel)return!1}return!0},e}();(function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"})(Dr||(Dr={}));var hf,wo=function(e){switch(e){case Dr.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Dr.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},Hte=ne(ne({},QM),{scheduledAt:null}),qte=function(e){return YM(e)&&Z("number",e.scheduledAt,!0)},Bte=ne(ne({},k3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Gte=function(e){return T3(e)&&Z("number",e.scheduledAt)&&(ei(e.file)||Z("string",e.fileUrl))&&Z("string",e.fileName,!0)&&Z("string",e.mimeType,!0)&&Z("number",e.fileSize,!0)&&(e.thumbnailSizes===null||e.thumbnailSizes.every(function(n){return Z("object",n)&&n.maxWidth>0&&n.maxHeight>0}))},jte="UnsentMessage",zte="reqId",x6={},M3=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,d=e.call(this,t)||this;return d._sdkState=i,d._cacheContext=o,x6[t]=d,d}return j(n,e),n.of=function(t){return x6[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t&&t.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){if(t.messageId>0)throw ue.invalidParameters;var r,i=ne({},t.serialize());return t instanceof Cr?(t.messageParams&&(i.messageParams=p6(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=(r=t.scheduledInfo.scheduledMessageParams,ne(ne({},p6(r)),{scheduledAt:r.scheduledAt})))):t instanceof br&&(t.messageParams&&(i.messageParams=f6(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(i.scheduledInfo.scheduledMessageParams=function(o){return ne(ne({},f6(o)),{scheduledAt:o.scheduledAt})}(t.scheduledInfo.scheduledMessageParams))),i},n.prototype._deserialize=function(t){return t?(t=ne(ne({},t),{messageId:parseInt(t.messageId)}),Ur.of(this._iid).buildMessageFromSerializedData(t)):null},n.prototype.get=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=r===void 0?null:r,o=t.filter,d=o===void 0?new df:o,h=t.order,f=h===void 0?Dr.CHANNEL_LATEST:h,m=t.sendingStatus,_=m===void 0?null:m,y=t.backward,w=y!==void 0&&y,C=t.parentMessageId,I=C===void 0?null:C;return O(this,void 0,void 0,function(){var k,U,T,N,H=this;return A(this,function($){switch($.label){case 0:return this.localCacheEnabled?(k=wo(f),U={"/where":function(Q){return!!(f!==Dr.NEWEST_CHILD_MESSAGE||I&&Q.parentMessageId!==0&&Q.parentMessageId===I)&&d.match(H._deserialize(Q))}},i&&(U.channelUrl=i),_&&(U.sendingStatus=_),T={where:U,index:k,backward:w},[4,this.collection.query(T)]):[3,3];case 1:return[4,$.sent().fetch({})];case 2:return N=$.sent(),[2,Promise.all(N.map(function(Q){return O(H,void 0,void 0,function(){var P,W,K,he,le,Se;return A(this,function(Ce){switch(Ce.label){case 0:return P=Ur.of(this._iid),W=this._deserialize(Q),(K=Q.messageParams)?W instanceof Cr?(W.messageParams=P.buildUserMessageCreateParamsFromSerializedData(K,W),[3,4]):[3,1]:[3,4];case 1:return W instanceof br?K.fileKey&&typeof K.fileKey=="string"&&AE(K.fileType)?(he=K,[4,this.collection.getBlob(K.fileKey)]):[3,3]:[3,4];case 2:he.file=Ce.sent(),Ce.label=3;case 3:W.messageParams=P.buildFileMessageCreateParamsFromSerializedData(K,W),Ce.label=4;case 4:return W.scheduledInfo&&Q.scheduledInfo&&Q.scheduledInfo.scheduledMessageParams?W instanceof Cr?(le=Q.scheduledInfo.scheduledMessageParams,W.scheduledInfo.scheduledMessageParams=P.buildScheduledUserMessageCreateParamsFromSerializedData(le,W),[3,8]):[3,5]:[3,8];case 5:return W instanceof br?(le=Q.scheduledInfo.scheduledMessageParams).fileKey&&typeof le.fileKey=="string"&&AE(le.fileType)?(Se=le,[4,this.collection.getBlob(le.fileKey)]):[3,7]:[3,8];case 6:Se.file=Ce.sent(),Ce.label=7;case 7:W.scheduledInfo.scheduledMessageParams=P.buildScheduledFileMessageCreateParamsFromSerializedData(le,W),Ce.label=8;case 8:return[2,W]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new df),O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.fetch({filter:r,order:Dr.NEWEST_CHILD_MESSAGE,channelUrl:t.channelUrl,backward:!1,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return O(this,void 0,void 0,function(){var r,i=this;return A(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,3];case 1:return o.sent(),r=t.map(function(d){return i._serialize(d)}),[4,this.collection.upsertMany(r)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},n.prototype.upsertChildMessages=function(t){return O(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return O(r,void 0,void 0,function(){var d,h;return A(this,function(f){switch(f.label){case 0:return d=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:d=f.sent(),f.label=2;case 2:return d.length>0?(d.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(d)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=ze(t),i=r.next(),m.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove(o)]);case 3:m.sent(),m.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return d=m.sent(),h={error:d},[3,8];case 7:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.saveBlobs=function(t){return O(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return O(r,void 0,void 0,function(){var d,h,f;return A(this,function(m){switch(m.label){case 0:return o instanceof br?o.messageParams&&(d=o.messageParams).file&&OE(d.file)?[4,this.collection.saveBlob(d.file,o.reqId)]:[3,2]:[3,4];case 1:f=m.sent(),d.fileKey=f,d.fileType=Md.BLOB,m.label=2;case 2:return o.scheduledInfo&&o.scheduledInfo.scheduledMessageParams&&(h=o.scheduledInfo.scheduledMessageParams).file&&OE(h.file)?[4,this.collection.saveBlob(h.file,o.reqId)]:[3,4];case 3:f=m.sent(),h.fileKey=f,h.fileType=Md.BLOB,m.label=4;case 4:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(gs),S6={},d5=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,d=r.unsentMessageCache,h=e.call(this,t)||this;return h._sdkState=i,h._cacheContext=o,h._unsentMessageCache=d,S6[t]=h,h}return j(n,e),n.of=function(t){return S6[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){return ne(ne({},t.serialize()),{messageId:"".concat(t.messageId)})},n.prototype._deserialize=function(t){return t=ne(ne({},t),{messageId:parseInt(t.messageId)}),Ur.of(this._iid).buildMessageFromSerializedData(t)},n.prototype.get=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=i.sent())return[2,this._deserialize(r)];i.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,i=t.token,o=t.limit,d=o===void 0?100:o,h=t.filter,f=h===void 0?new df:h,m=t.order,_=m===void 0?Dr.CHANNEL_LATEST:m,y=t.backward,w=y!==void 0&&y,C=t.parentMessageId,I=C===void 0?null:C;return O(this,void 0,void 0,function(){var k,U,T,N=this;return A(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(k=wo(_),U={where:{channelUrl:r,"/where":function($){if(i)switch(_){case Dr.CHANNEL_LATEST:if(!w&&$.createdAt>i||w&&$.createdAt<i)return!1;break;case Dr.NEWEST_CHILD_MESSAGE:if(!I||$.parentMessageId===0||$.parentMessageId!==I)return!1}return f.match(N._deserialize($))}},index:k,backward:w},[4,this.collection.query(U)]):[3,3];case 1:return[4,H.sent().fetch({limit:d})];case 2:return T=H.sent(),[2,Promise.all(T.map(function($){return O(N,void 0,void 0,function(){var Q,P,W;return A(this,function(K){switch(K.label){case 0:return Q=this._deserialize($),(P=$.messageParams)?Q instanceof Cr?(Q.messageParams=P,[3,4]):[3,1]:[3,4];case 1:return Q instanceof br?P.fileKey&&typeof P.fileKey=="string"&&AE(P.fileType)?(W=P,[4,this.collection.getBlob(P.fileKey)]):[3,3]:[3,4];case 2:W.file=K.sent(),K.label=3;case 3:Q.messageParams=P,K.label=4;case 4:return[2,Q]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new df),O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.fetch({channelUrl:t.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:Dr.NEWEST_CHILD_MESSAGE,parentMessageId:t.messageId})];case 1:return[2,i.sent()]}})})},n.prototype.upsert=function(t){return O(this,void 0,void 0,function(){var r,i=this;return A(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,5];case 1:return o.sent(),r=t.map(function(d){return i._serialize(d)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(t)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(t)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},n.prototype.upsertChildMessages=function(t){return O(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(o){return O(r,void 0,void 0,function(){var d,h;return A(this,function(f){switch(f.label){case 0:return d=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:d=f.sent(),f.label=2;case 2:return d.length>0?(d.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(d)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=ze(t),i=r.next(),m.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.collection.remove("".concat(o))]);case 3:m.sent(),m.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return d=m.sent(),h={error:d},[3,8];case 7:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t},index:wo(Dr.CHANNEL_LATEST)})]:[3,6];case 1:return i.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync"))];case 2:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync.meta"))];case 3:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs"))];case 4:return i.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs.meta"))];case 5:i.sent(),i.label=6;case 6:return[2]}})})},n.prototype.removeUnderOffset=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t,createdAt:{"<":r}},index:wo(Dr.CHANNEL_LATEST)})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.countBetween=function(t,r,i){return O(this,void 0,void 0,function(){var o,d=this;return A(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?(o=wo(Dr.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:t,"/where":function(f){var m=d._deserialize(f);return i.includes(m.createdAt)&&r.match(m)}},index:o}).count()]):[3,2];case 1:return[2,h.sent()];case 2:return[2,0]}})})},n.prototype.saveBlobs=function(t){return O(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(o){return O(r,void 0,void 0,function(){var d,h;return A(this,function(f){switch(f.label){case 0:return o instanceof br&&o.messageParams&&(d=o.messageParams).file&&OE(d.file)?[4,this.collection.saveBlob(d.file,o.reqId)]:[3,2];case 1:h=f.sent(),d.fileKey=h,f.label=2;case 2:return[2]}})})}))];case 1:return i.sent(),[2]}})})},n}(gs),h5=function(e){function n(t){var r=t.message,i=e.call(this)||this;return i.message=r,i}return j(n,e),n}(Sr),s1={},pd=function(){function e(n,t){var r=t.localCacheEnabled,i=t.dispatcher,o=t.sdkState,d=t.logger,h=this;s1[n]=this,this._iid=n,s1[n]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=i,this._logger=d,this._sdkState=o,this._localCacheEnabled&&i.on(function(f){if(f instanceof ms)switch(f.stateType){case ht.CONNECTED:h._isProcessingAutoResend||h.processAutoResendRegisteredPendingMessages().then(function(){return h._processNextAutoResend()});break;case ht.DISCONNECTED:h._isProcessingAutoResend=!1}})}return e.of=function(n){return s1[n]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=h.sent();try{for(t=ze(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",i.reqId),i.sendingStatus=yt.FAILED,i.errorCode=Vn.ACK_TIMEOUT,this._dispatcher.dispatch(new $t({messages:[i],source:mn.LOCAL_MESSAGE_FAILED})))}catch(f){o={error:f}}finally{try{r&&!r.done&&(d=t.return)&&d.call(t)}finally{if(o)throw o.error}}return[2]}})})},e.prototype.processAutoResendRegisteredPendingMessages=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=m.sent();try{for(t=ze(n),r=t.next();!r.done;r=t.next())(i=r.value).errorCode&&_m(i.errorCode)&&(o=new Date().getTime(),d=i.createdAt+2592e5,o<=d?this._autoResendQueue.map(function(_){return _.reqId}).indexOf(i.reqId)<0&&this._autoResendQueue.push(i):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(d).toLocaleString()),i.sendingStatus=yt.FAILED,this._dispatcher.dispatch(new $t({messages:[i],source:mn.LOCAL_MESSAGE_FAILED}))))}catch(_){h={error:_}}finally{try{r&&!r.done&&(f=t.return)&&f.call(t)}finally{if(h)throw h.error}}return[2]}})})},e.prototype.completeCurrentAndProcessNextAutoResend=function(n){if(this._localCacheEnabled&&(n.sendingStatus===yt.SUCCEEDED||n.sendingStatus===yt.FAILED&&!_m(n.errorCode))){var t=this.indexOf(n);t>=0&&this._autoResendQueue.splice(t,1),t===0&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return O(this,void 0,void 0,function(){var n,t;return A(this,function(r){switch(r.label){case 0:return(n=M3.of(this._iid))?[4,n.fetch({sendingStatus:yt.PENDING,backward:!0})]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=[],r.label=3;case 3:return[2,t]}})})},e.prototype.indexOf=function(n){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId):-1},e.prototype._isNotInQueue=function(n){return this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId)===-1},e.prototype._processNextAutoResend=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),n=this._autoResendQueue[0],this._dispatcher.dispatch(new h5({message:n})),this._logger.debug("processing auto-resend for message request id: ",n.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},e}();(function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(hf||(hf={}));var wm=function(){function e(n){this.category=n.cat,this.data=n.data}return e.getDataAsUserBlockEvent=function(n,t){var r=t.data,i=r.blocker,o=r.blockee;return{blocker:new In(n,i),blockee:new In(n,o)}},e.getDataAsFriendDiscoveredEvent=function(n,t){var r=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(i){return new In(n,i)}):[]}},e}(),p5=function(e){function n(t,r){var i=r.userId,o=e.call(this)||this;return o._iid=t,o.userId=i,o}return j(n,e),n}(Sr),f5=function(e){function n(t,r,i){var o=e.call(this,t,"USEV",i)||this;return o.event=new wm(i),o}return j(n,e),n}(gt),v5=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),i}return j(n,e),n}(Oe),m5=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return j(n,e),n}(Ue),g5=function(e){function n(t){var r=t.userId,i=t.pushTriggerOption,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:i},o}return j(n,e),n}(Oe),_5=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTriggerOption=r.push_trigger_option,i}return j(n,e),n}(Ue),Vte={profileImage:null,profileUrl:null,nickname:null},Kte=function(){this.onSessionExpired=Tn,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=Tn,this.onSessionRefreshed=Tn,this.onSessionClosed=Tn},b5=function(){this.onConnected=Tn,this.onReconnectStarted=Tn,this.onReconnectSucceeded=Tn,this.onReconnectFailed=Tn,this.onDisconnected=Tn},Wte=function(){this.onFriendsDiscovered=Tn,this.onTotalUnreadMessageCountUpdated=Tn};(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(gs);var Qte=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._pauseDelayTimer=null,t._currentState="visible",t}return j(n,e),Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener},enumerable:!1,configurable:!0}),n.prototype._toggleState=function(){var t=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){t._pauseDelayTimer=null,t.dispatch("pause")},3e4)),this._currentState=document.visibilityState},n.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n}(Cf),Yte=function(){function e(n){var t=n.logger,r=n.connectionDelegate,i=r===void 0?null:r;this.logger=t,i&&(this.connectionDelegate=i),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(e.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),e.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},e.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},e.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},e.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},e.prototype.isOnline=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(t,r){fetch("https://www.google.com",{method:ke.GET}).then(function(){return t(!0)}).catch(function(){return t(!1)})})]})})},e}(),I6=function(e){function n(t){var r=t.userId,i=t.nickname,o=i===void 0?null:i,d=t.profileUrl,h=d===void 0?null:d,f=t.profileImage,m=f===void 0?null:f,_=t.preferredLanguages,y=_===void 0?null:_,w=e.call(this)||this;return w.method=ke.PUT,w.path="".concat(Wn,"/").concat(encodeURIComponent(r)),w.params=_n({nickname:o,profile_url:h,profile_file:m,preferred_languages:y}),w}return j(n,e),n}(Oe),k6=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=null,i.user=new In(t,ne({},r)),i}return j(n,e),n}(Ue),Xte=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:i,always_push:!0},o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?Ca[r.type.toLowerCase()]:Ca.UNKNOWN,i.user=new In(t,r.user),i}j(n,e)})(Ue);var Jte=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:i,always_push:!0},o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.type=r.type?Ca[r.type.toLowerCase()]:Ca.UNKNOWN,i.user=new In(t,r.user),i}j(n,e)})(Ue);var Zte=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(i)),o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new In(t,r.user),i}j(n,e)})(Ue);var ere=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(i)),o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.token=r.token,i.user=new In(t,r.user),i}j(n,e)})(Ue);var nre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.DELETE,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/apns"),i}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?Ca[r.type.toLowerCase()]:Ca.UNKNOWN,i.user=new In(t,r.user),i}j(n,e)})(Ue);var tre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.DELETE,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/gcm"),i}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.type=r.type?Ca[r.type.toLowerCase()]:Ca.UNKNOWN,i.user=new In(t,r.user),i}j(n,e)})(Ue);var rre=function(e){function n(t){var r=t.userId,i=t.type,o=t.token,d=t.ts,h=e.call(this)||this;return h.method=ke.GET,h.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(i),"/device_tokens"),h.params={created_ts:d,token:o},h}return j(n,e),n}(Oe),ire=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.pushTokens={type:r.type?Ca[r.type.toLowerCase()]:Ca.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},i}return j(n,e),n}(Ue),are=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),i}return j(n,e),n}(Oe),sre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return j(n,e),n}(Ue),ore=function(e){function n(t){var r=t.userId,i=t.willAutoAccept,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:i},o}return j(n,e),n}(Oe),lre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.autoAccept=r.auto_accept,i}return j(n,e),n}(Ue),ure=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),i}return j(n,e),n}(Oe),cre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return j(n,e),n}(Ue),dre=function(e){function n(t){var r=t.userId,i=t.doNotDisturbOn,o=t.startHour,d=t.startMin,h=t.endHour,f=t.endMin,m=t.timezone,_=e.call(this)||this;return _.method=ke.PUT,_.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),_.params={do_not_disturb:i,start_hour:o,start_min:d,end_hour:h,end_min:f,timezone:m},_}return j(n,e),n}(Oe),hre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},i}return j(n,e),n}(Ue),pre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),i}return j(n,e),n}(Oe),fre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return j(n,e),n}(Ue),vre=function(e){function n(t){var r=t.userId,i=t.snoozeOn,o=t.startTs,d=t.endTs,h=e.call(this)||this;return h.method=ke.PUT,h.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push_preference"),h.params={snooze_enabled:i,snooze_start_ts:o,snooze_end_ts:d},h}return j(n,e),n}(Oe),mre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(i.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(i.snoozePeriod.endTs=r.snooze_end_ts),i}return j(n,e),n}(Ue),gre=function(e){function n(t){var r=t.userId,i=t.blockedUserId,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:i},o}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.user=new In(t,r),i}j(n,e)})(Ue);var _re=function(e){function n(t){var r=t.userId,i=t.unblockedUserId,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(i)),o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var bre=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/template"),i}return j(n,e),n}(Oe),yre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return j(n,e),n}(Ue),Ere=function(e){function n(t){var r=t.userId,i=t.templateName,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:i},o}return j(n,e),n}(Oe),wre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.name=r.name,i}return j(n,e),n}(Ue),Cre=function(e){function n(t){var r=t.userId,i=t.token,o=e.call(this)||this;return o.method=ke.GET,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:i},o}return j(n,e),n}(Oe),xre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.changelogs={addedUsers:r.added.map(function(o){return new In(t,o)}),updatedUsers:r.updated.map(function(o){return new In(t,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},i}return j(n,e),n}(Ue),Sre=function(e){function n(t){var r=t.userId,i=t.discoveries,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:i.map(function(d){return{friend_discovery_key:d.friendDiscoveryKey,friend_name:d.friendName}})},o}return j(n,e),n}(Oe),Ire=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.friendDiscoveryRequestId=r.friend_discovery_request_id,i}return j(n,e),n}(Ue),kre=function(e){function n(t){var r=t.userId,i=t.discoveryKeys,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:i},o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var Tre=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=ke.POST,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return j(n,e),n}(Oe),Nre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new In(t,o)}),i}return j(n,e),n}(Ue),Ore=function(e){function n(t){var r=t.userId,i=t.userIds,o=e.call(this)||this;return o.method=ke.DELETE,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:i},o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var Are=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(r,"/allow_friend_discovery"),i.params={},i}return j(n,e),n}(Oe),Rre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.allowFriendDiscovery=r.allow_friend_discovery,i}return j(n,e),n}(Ue),Mre=function(e){function n(t){var r=t.userId,i=t.allowFriendDiscovery,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:i},o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var wt,y5=function(e){this.key=null,this.url=null,this.key=e.key,this.url=e.url},E5=function(e){var n,t,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(n=e.id)!==null&&n!==void 0?n:0,this.name=(t=e.name)!==null&&t!==void 0?t:"",this.url=(r=e.url)!==null&&r!==void 0?r:"",this.emojis=e.emojis?e.emojis.map(function(i){return new y5(i)}):[]},Dre=function(e){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(n){return new E5(n)}):[]},Ure=function(e){function n(){var t=e.call(this)||this;return t.method=ke.GET,t.path=FM,t}return j(n,e),n}(Oe),Lre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiContainer=new Dre(r),i}return j(n,e),n}(Ue),Pre=function(e){function n(t){var r=t.categoryId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(FM,"/").concat(r),i}return j(n,e),n}(Oe),$re=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emojiCategory=new E5(r),i}return j(n,e),n}(Ue),Fre=function(e){function n(t){var r=t.key,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(fne,"/").concat(r),i}return j(n,e),n}(Oe),Hre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.emoji=new y5(r),i}return j(n,e),n}(Ue),qre=function(e){function n(t){var r=t.limit,i=t.token,o=t.userIdsFilter,d=t.metaDataKeyFilter,h=t.metaDataValuesFilter,f=t.nicknameStartsWithFilter,m=e.call(this)||this;return m.method=ke.GET,m.path=Wn,m.params=_n({limit:r,token:i,user_ids:o,metadatakey:d,metadatavalues_in:h,nickname_startswith:f}),m}return j(n,e),n}(Oe),Bre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new In(t,o)}),i.next=r.next,i}return j(n,e),n}(Ue),Gre=function(e){function n(t,r){var i,o,d,h=this;return(h=e.call(this,t,r)||this).userIdsFilter=null,h.metaDataKeyFilter=null,h.metaDataValuesFilter=null,h.nicknameStartsWithFilter=null,h.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,h.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,h.metaDataValuesFilter=(d=r.metaDataValuesFilter)!==null&&d!==void 0?d:null,h.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,h}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&En("string",this.userIdsFilter,!0)&&Z("string",this.metaDataKeyFilter,!0)&&En("string",this.metaDataValuesFilter,!0)&&Z("string",this.metaDataKeyFilter,!0)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new qre(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(Bre),d=o.users,h=o.next,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),jre=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,d=t.userIdsFilter,h=e.call(this)||this;return h.method=ke.GET,h.path="".concat(Wn,"/").concat(r,"/block"),h.params=_n({limit:i,token:o,user_ids:d}),h}return j(n,e),n}(Oe),zre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.users=r.users.map(function(o){return new In(t,o)}),i.next=r.next,i}return j(n,e),n}(Ue),Vre=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this).userIdsFilter=null,o.userIdsFilter=(i=r.userIdsFilter)!==null&&i!==void 0?i:null,o}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&En("string",this.userIdsFilter,!0)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new jre(ne(ne({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return d=_.sent(),h=d.as(zre),f=h.users,m=h.next,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),Kre=function(e){function n(t){var r=t.userId,i=t.limit,o=t.token,d=e.call(this)||this;return d.method=ke.GET,d.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/friends"),d.params={limit:i,token:o},d}return j(n,e),n}(Oe),Wre=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.hasMore=r.has_more,i.users=r.users.map(function(o){return new In(t,o)}),i.next=r.next,i}return j(n,e),n}(Ue),Qre=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_;return A(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Kre(ne(ne({},this),{userId:r.userId,token:this._token})),[4,i.send(o)]):[3,2]:[3,5];case 1:return d=y.sent(),h=d.as(Wre),f=h.users,m=h.hasMore,_=h.next,this._token=_,this._hasNext=m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),vv={},lg=function(){function e(n){var t=n.dbname,r=n.itemSizeLimit,i=r===void 0?1048576:r,o=n.cacheLimit,d=o===void 0?256:o,h=n.blockHashBase,f=h===void 0?2:h,m=n.blockHashMultiplier,_=m===void 0?10:m,y=n.blockHashConstant,w=y===void 0?11:y,C=n.transactionApplyDelay,I=C===void 0?200:C,k=n.disableLogger,U=k!==void 0&&k;return vv[t]||(this.itemSizeLimit=i,this.cacheLimit=d,this.blockHashBase=f,this.blockHashMultiplier=_,this.blockHashConstant=w,this.transactionApplyDelay=I,this.disableLogger=U,vv[t]=this),vv[t]}return e.get=function(n){return vv[n]},e}();(function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(wt||(wt={}));var fd,tt=function(e){function n(t){var r=t.code,i=r===void 0?wt.UNKNOWN_ERROR:r,o=t.message,d=o===void 0?"Unknown error occurred.":o,h=e.call(this,d)||this;return h.code=i,Object.setPrototypeOf(h,n.prototype),h}return j(n,e),Object.defineProperty(n,"storeNotDefined",{get:function(){return new n({code:wt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailable",{get:function(){return new n({code:wt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailableInPrivateBrowsing",{get:function(){return new n({code:wt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeIsFull",{get:function(){return new n({code:wt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeKeyTypeIsInvalid",{get:function(){return new n({code:wt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenIntegrity",{get:function(){return new n({code:wt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenBlob",{get:function(){return new n({code:wt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeEncryptionInvalid",{get:function(){return new n({code:wt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeItemSizeExceeded",{get:function(){return new n({code:wt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeReadFailed",{get:function(){return new n({code:wt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeWriteFailed",{get:function(){return new n({code:wt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseSchemaNotOnUpgrade",{get:function(){return new n({code:wt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionNotReady",{get:function(){return new n({code:wt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotMatch",{get:function(){return new n({code:wt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionQueryNotValid",{get:function(){return new n({code:wt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionInsertDuplicate",{get:function(){return new n({code:wt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotFound",{get:function(){return new n({code:wt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotGiven",{get:function(){return new n({code:wt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionWriteFailed",{get:function(){return new n({code:wt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionItemSizeExceeded",{get:function(){return new n({code:wt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTableIsRequired",{get:function(){return new n({code:wt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTypesNotMatch",{get:function(){return new n({code:wt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"compareTypesNotMatch",{get:function(){return new n({code:wt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularReferenceFound",{get:function(){return new n({code:wt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),n}(Error);(function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"})(fd||(fd={}));var T6,Ni=function(e,n){if(n===void 0&&(n=new WeakMap),typeof e=="object"&&e!==null){if(n.has(e))throw tt.circularReferenceFound;n.set(e,!0);var t=null;if(Array.isArray(e))t=e.map(function(i){return Ni(i,n)});else if(e instanceof RegExp)t=e;else if(e instanceof Date)t=e;else for(var r in t={},e)t[r]=Ni(e[r],n);return n.delete(e),t}return e},Co=function(e,n){if(n==null)return 1;if(e==null)return-1;if(typeof e!=typeof n)throw tt.compareTypesNotMatch;var t=0;switch(typeof e){case"boolean":case"number":t=e-n;break;case"string":t=e.localeCompare(n)}return t},N6=function(e,n){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+(t<<6)+(t<<16)-t;return(t>>>0)%n},Wc=function(e){return new Promise(function(n){setTimeout(function(){return n()},e)})},$u=function(e,n){if(!n)return!1;if(typeof e!="function"){for(var t in e)if(["/and","&&"].includes(t)){if(e[t].some(function(f){return!$u(f,n)}))return!1}else if(["/or","||"].includes(t)){if(e[t].every(function(f){return!$u(f,n)}))return!1}else if(t==="/where"){if(!(0,e[t])(n))return!1}else{var r=t;if(typeof e[r]=="object"){var i=e[r];for(var o in i)switch(o){case"/eq":case"=":if((d=n[r])!==(h=i[o]))return!1;break;case"/neq":case"!=":if((d=n[r])===(h=i[o]))return!1;break;case"/gt":case">":var d=n[r],h=i[o];if(!(Co(d,h)>0))return!1;break;case"/gte":case">=":if(d=n[r],h=i[o],!(Co(d,h)>=0))return!1;break;case"/lt":case"<":if(d=n[r],h=i[o],!(Co(d,h)<0))return!1;break;case"/lte":case"<=":if(d=n[r],h=i[o],!(Co(d,h)<=0))return!1;break;case"/in":if(d=n[r],!(h=i[o]).includes(d))return!1;break;case"/nin":if(d=n[r],(h=i[o]).includes(d))return!1;break;case"/contain":if(d=n[r],h=i[o],!d.includes(h))return!1;break;case"/regex":if(d=n[r],!(h=i[o]).test(d))return!1;break;case"/where":if(d=n[r],!(0,i[o])(d))return!1}}else if(typeof e[r]=="function"){if(!e[r](n[r]))return!1}else if(e[r]!==n[r])return!1}return!0}return e(n)},$v=function(){},O6=function(){return Promise.resolve()},Yre=function(e){return e},A6=function(e,n){n(null)};(function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"})(T6||(T6={}));var Fu,Zr,Us,Xre=function(){function e(n){var t=n.initialPrevValue,r=t===void 0?null:t,i=n.initialNextValue,o=i===void 0?null:i,d=n.iterator,h=n.map,f=h===void 0?Yre:h,m=n.backward,_=m===void 0?O6:m,y=n.forward,w=y===void 0?O6:y,C=n.complete,I=C===void 0?$v:C;this._prevValue=r,this._nextValue=o,this._error=null,this._map=f,this._backward=_,this._forward=w,this._iterator=d,this._complete=I}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return O(this,void 0,void 0,function(){var n,t,r;return A(this,function(i){switch(i.label){case 0:if(!this.hasPrevious)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=i.sent()||null,this._nextValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.next=function(){return O(this,void 0,void 0,function(){var n,t,r;return A(this,function(i){switch(i.label){case 0:if(!this.hasNext)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=i.sent()||null,this._prevValue=n,[3,4];case 3:return r=i.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,i.sent()];case 6:this._complete(),i.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),UE=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,d=n.blockManager,h=n.indexer;this.condition=r,this.backward=o,this._blockManager=d,this._indexer=h}return e.prototype.findOptimizedStartPosition=function(){var n=this,t=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var i=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var d=this._indexer.fields[o],h=1;if(d[0]==="-"&&(d=d.slice(1),h=-1),this.condition[d]){if(typeof this.condition[d]=="object"){var f=h>0?r:t;for(var m in this.condition[d])if(f.includes(m)){for(var _=i;_>=0;_--)if(h*Co(this._indexer.origin[_].columnValues[o],this.condition[d][m])<=0){i=_;break}}}else for(_=i;_>=0;_--)if(h*Co(this._indexer.origin[_].columnValues[o],this.condition[d])<=0){i=_;break}}}return Math.min(i+1,this._indexer.origin.length-1)}var y=0;if(typeof this.condition!="function")for(var w=function(k){var U=C._indexer.fields[k],T=1;if(U[0]==="-"&&(U=U.slice(1),T=-1),C.condition[U]){if(typeof C.condition[U]=="object")Object.keys(C.condition[U]).forEach(function(H){if((T>0?t:r).includes(H)){for(var $=y;$<n._indexer.origin.length;$++)if(T*Co(n._indexer.origin[$].columnValues[k],n.condition[U][H])>=0){y=$;break}}});else for(var N=y;N<C._indexer.origin.length;N++)if(T*Co(C._indexer.origin[N].columnValues[k],C.condition[U])>=0){y=N;break}}},C=this,o=0;o<this._indexer.fields.length;o++)w(o);return Math.max(y-1,0)},e.prototype.each=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m=this;return A(this,function(_){switch(_.label){case 0:if(t=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[t]&&(r=this._indexer.origin[t].keys.length-1),i=function(){if(m._indexer.origin[t]){if(!m._indexer.origin[t].keys[++r]){if(!m._indexer.origin[++t])return!1;r=0}return!0}return!1},o=function(){if(m._indexer.origin[t]){if(!m._indexer.origin[t].keys[--r]){if(!m._indexer.origin[--t])return!1;r=m._indexer.origin[t].keys.length-1}return!0}return!1},d=null,!this._indexer.origin[t])return[3,4];h=this.backward?o:i,_.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])];case 2:if(f=_.sent(),$u(this.condition,f))return d=f,[3,4];_.label=3;case 3:if(h())return[3,1];_.label=4;case 4:return[4,new Promise(function(y){var w=new Xre({initialNextValue:Ni(d),iterator:n,forward:function(){return O(m,void 0,void 0,function(){var C,I;return A(this,function(k){switch(k.label){case 0:C=this.backward?o:i,k.label=1;case 1:return C()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return I=k.sent(),$u(this.condition,I)?[2,Ni(I)]:[3,1];case 3:return[2,null]}})})},backward:function(){return O(m,void 0,void 0,function(){var C,I;return A(this,function(k){switch(k.label){case 0:C=this.backward?i:o,k.label=1;case 1:return C()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return I=k.sent(),$u(this.condition,I)?[2,Ni(I)]:[3,1];case 3:return[2,null]}})})},complete:y});n(w)})];case 5:return[2,_.sent()]}})})},e}(),Jre=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,i=n.backward,o=i!==void 0&&i,d=n.mutex,h=n.blockManager,f=n.indexer;this._mutex=d,this._iterator=new UE({condition:r,backward:o,blockManager:h,indexer:f})}return e.prototype.fetch=function(n){return n===void 0&&(n={}),O(this,void 0,void 0,function(){var t,r,i,o,d=this;return A(this,function(h){switch(h.label){case 0:if(t=Math.max(n.offset||0,0),(r=typeof n.limit=="number"?n.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw tt.collectionQueryNotValid;h.label=1;case 1:return h.trys.push([1,4,,5]),i=[],[4,this._mutex.lock()];case 2:return h.sent(),[4,this._iterator.each(function(f){return O(d,void 0,void 0,function(){return A(this,function(m){return f.error?f.stop():f.hasNext?t===0?(i.push(f.nextValue),0<r&&r<=i.length?f.stop():f.next()):(t--,f.next()):f.stop(),[2]})})})];case 3:return h.sent(),this._mutex.unlock(),[2,i];case 4:throw o=h.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},e.prototype.count=function(){return O(this,void 0,void 0,function(){var n,t,r=this;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=0,[4,this._mutex.lock()];case 1:return i.sent(),[4,this._iterator.each(function(o){return O(r,void 0,void 0,function(){return A(this,function(d){return o.error?o.stop():o.hasNext?(n++,o.next()):o.stop(),[2]})})})];case 2:return i.sent(),this._mutex.unlock(),[2,n];case 3:throw t=i.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),LE=function(e){return"".concat("nest","@").concat(e)},Ku=function(e,n){return"".concat(LE(e),"/").concat(n)},o1=function(e,n){return"".concat(Ku(e,n),".metadata")},PE=function(e,n){return"".concat(Ku(e,n),"/block.")},w5=function(e,n){return"".concat(Ku(e,n),"/blob.")},l1=function(e,n,t,r){return r===void 0&&(r=0),"".concat(w5(e,n)).concat(t,".").concat(r)},Zre=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this.dbname=t,this.collectionName=r,this._store=i}return e.prototype._makeShards=function(n,t){var r=Math.max(this._store.itemSizeLimit-1024,0);if(r>0){for(var i=Math.ceil(n.data.length/r),o="".concat(i,".").concat(n.type,".").concat(t),d=[],h=0;h<n.data.length;h+=r){var f=n.data.slice(h,h+r);d.push(f)}return{blobId:o,shards:d}}return{blobId:null,shards:null}},e.prototype._encode=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r){var i=new FileReader;i.onload=function(){r({data:i.result,type:n.type})},i.readAsDataURL(n)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(n.data)];case 1:return[4,f.sent().blob()];case 2:return[2,f.sent()];case 3:for(t=[],r=atob(n.data.split(",")[1]),i=0;i<r.length;i+=512){for(o=r.slice(i,i+512),d=new Array(o.length),h=0;h<o.length;h++)d[h]=o.charCodeAt(h);t.push(new Uint8Array(d))}return[2,new Blob(t,{type:n.type})]}})})},e.prototype.get=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:if(t=[],r=fn(n.split("."),2),i=r[0],o=r[1],!((d=parseInt(i))>0))return[3,6];h=0,_.label=1;case 1:return h<d?(f=l1(this.dbname,this.collectionName,n,h),[4,this._store.get(f)]):[3,4];case 2:if(!(m=_.sent())||!m.d)throw tt.storeBrokenBlob;t.push(m.d),_.label=3;case 3:return h++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:o})];case 5:return[2,_.sent()];case 6:return[2,null]}})})},e.prototype.save=function(n,t){return t===void 0&&(t="".concat(Date.now())),O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return r=[],[4,this._encode(n)];case 1:if(i=_.sent(),o=this._makeShards(i,t),d=o.blobId,h=o.shards,!d)return[3,3];for(f=0;f<h.length;f++)m=l1(this.dbname,this.collectionName,d,f),r.push({key:m,value:{d:h[f]},generation:1});return[4,this._store.setMany(r)];case 2:if(_.sent().some(function(y){return y instanceof Error}))throw tt.storeWriteFailed;return[2,d];case 3:return[2,null]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:if(t=[],r=fn(n.split("."),1),i=r[0],!((o=parseInt(i))>0))return[3,2];for(d=0;d<o;d++)t.push(l1(this.dbname,this.collectionName,n,d));return[4,this._store.removeMany(t)];case 1:h.sent(),h.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return n=w5(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:r=m.sent();try{for(i=ze(r),o=i.next();!o.done;o=i.next())(d=o.value).startsWith(n)&&t.push(d)}catch(_){h={error:_}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}}return[4,this._store.removeMany(r)];case 2:return m.sent(),[2]}})})},e}();(function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"})(Fu||(Fu={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(Zr||(Zr={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(Us||(Us={}));var R6=[Zr.PENDING,Zr.VOLATILE],mv={},$a=function(){function e(n){var t=n.dbname,r=n.limit,i=r===void 0?256:r;return mv[t]||(this.dbname=t,this._items=[],this._limit=i,mv[t]=this),mv[t]}return e.get=function(n){return mv[n]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(n,t,r){return r===void 0&&(r=Us.DEFAULT),O(this,void 0,void 0,function(){var i,o;return A(this,function(d){switch(d.label){case 0:return(i=this.get(t))?[3,2]:[4,n.get(t)];case 1:return(o=d.sent())&&(i={key:t,value:o,generation:1,state:r===Us.PERSISTENT?Zr.PERSISTENT:Zr.VOLATILE},this.put(i)),[3,3];case 2:r===Us.PERSISTENT&&(i.state=Zr.PERSISTENT),d.label=3;case 3:return[2,i]}})})},e.prototype.get=function(n,t){t===void 0&&(t=Us.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(n);if(r>-1){var i=this._items[r];return t===Us.PERSISTENT&&(i.state=Zr.PERSISTENT),t!==Us.NO_CACHE&&this.put(i),i}return null},e.prototype.put=function(n){var t,r;if(this._limit>0){var i=this._items.map(function(y){return y.key}).indexOf(n.key);if(i>-1)R6.includes(this._items[i].state)&&R6.includes(n.state)?(this._items.splice(i,1),this._items.push(n)):(this._items[i].state=n.state,this._items[i].generation=n.generation,this._items[i].value=n.value);else{this._items.push(n);var o=this._items.filter(function(y){return y.state===Zr.VOLATILE}),d=o.length-this._limit;if(d>0){var h=[];try{for(var f=ze(this._items),m=f.next();!m.done;m=f.next()){var _=m.value;_.state===Zr.VOLATILE&&d>0?d--:h.push(_)}}catch(y){t={error:y}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}this._items=h}}}},e.prototype.remove=function(n){var t=this._items.map(function(r){return r.key}).indexOf(n);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(n){this._items=this._items.filter(function(t){return!n(t)})},e.prototype.clear=function(n){n===void 0&&(n=!1),this._items=n?[]:this._items.filter(function(t){return t.state!==Zr.VOLATILE})},e}(),eie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=r,this.metadataKey=function(o,d){return"".concat(Ku(o,d),"/trans.metadata")}(t,r),this.recordsetKey=function(o,d){return"".concat(Ku(o,d),"/trans.recordset")}(t,r),this._store=i}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(n){return n===void 0&&(n=[]),O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=r.sent()||[]).push.apply(t,pn([],fn(n),!1)),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(n){for(var t=[],r={},i=n.length-1;i>=0;i--){for(var o=n[i],d=[],h=o.requests.length-1;h>=0;h--){var f=o.requests[h],m=f.data;r[m.key]||(d.unshift(f),r[m.key]=!0)}d.length>0&&(o.requests=d,t.unshift(o))}return t},e.prototype._applyRecord=function(n,t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:r=$a.get(this.dbname),i=t.generation,o=t.requests,d=null,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(C){return ne(ne({},C.data),{generation:i})}))];case 2:for(h=w.sent(),f=0;f<o.length;f++)h[f]instanceof Error&&(d||(d=h[f]),m=o[f].data,r.put(ne(ne({},m),{generation:i,state:Zr.PERSISTENT})));return[3,4];case 3:return _=w.sent(),d=_,[3,4];case 4:return d?[3,6]:(y=n.filter(function(C){return C.generation!==i}),[4,this._store.set({key:this.recordsetKey,value:y,generation:i})]);case 5:return w.sent(),this._onWrite.forEach(function(C){C(o.map(function(I){return I.data}))}),[3,7];case 6:this._onError.forEach(function(C){return C(d)}),w.label=7;case 7:return[2]}})})},e.prototype.init=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return n=this,[4,this._store.get(this.metadataKey)];case 1:return n._metadata=m.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=m.sent(),m.label=3;case 3:m.trys.push([3,8,9,10]),r=ze(t),i=r.next(),m.label=4;case 4:return i.done?[3,7]:(o=i.value,[4,this._applyRecord(t,o)]);case 5:m.sent(),m.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return d=m.sent(),h={error:d},[3,10];case 9:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 10:return[2]}})})},e.prototype.on=function(n,t,r){switch(n){case Fu.COMMIT:this._onCommit.set(t,r);break;case Fu.WRITE:this._onWrite.set(t,r);break;case Fu.ERROR:this._onError.set(t,r)}},e.prototype.requestWrite=function(n,t){t===void 0&&(t=null),this._requests.push({data:n,options:t}),$a.get(this.dbname).put(ne({state:Zr.PENDING,generation:this.generation},n))},e.prototype.requestMultipleWrite=function(n,t){var r,i;t===void 0&&(t=null);var o=$a.get(this.dbname);try{for(var d=ze(n),h=d.next();!h.done;h=d.next()){var f=h.value;this._requests.push({data:f,options:t}),o.put(ne({state:Zr.PENDING,generation:this.generation},f))}}catch(m){r={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return $a.get(this.dbname).clearByCondition(function(t){return t.state===Zr.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f,m,_,y,w,C=this;return A(this,function(I){switch(I.label){case 0:if(!((n=this._requests).length>0))return[3,4];for(t=[],r={},f=n.length-1;f>=0;f--)i=n[f],_=i.data,r[_.key]||(r[_.key]=!0,t.unshift(i));return o={generation:this.generation,requests:t},[4,this._getReducedRecordset([o])];case 1:return d=I.sent(),[4,this._store.set({key:this.recordsetKey,value:d,generation:this.generation})];case 2:return I.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(I.sent(),h=$a.get(this.dbname),f=0;f<t.length;f++)m=t[f],_=m.data,y=m.options,h.put(ne(ne({},_),{generation:o.generation,state:y&&y.persistent?Zr.PERSISTENT:Zr.VOLATILE}));this._requests=[],this._onCommit.forEach(function(k){k(n.map(function(U){return U.data}))}),w=lg.get(this.dbname),setTimeout(function(){try{C._applyRecord(d,o)}catch(k){C._onError.forEach(function(U){return U(k)})}},w.transactionApplyDelay),I.label=4;case 4:return[2]}})})},e}(),Fv=function(){function e(n){var t=n.blockId,r=n.keyName,i=n.items,o=i===void 0?[]:i,d=n.limit;this.blockId=t,this.keyName=r,this.limit=d,this._items=pn([],fn(o),!1)}return e.createFromCacheItem=function(n){return n?new e(n.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(n){var t=this;return this._items.find(function(r){var i=r[t.keyName];return n===i})},e.prototype.has=function(n){var t=this;return this._items.map(function(r){return r[t.keyName]}).includes(n)},e.prototype.add=function(n){var t=this,r=this._items.map(function(i){return i[t.keyName]}).indexOf(n[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(n),!0):(this._items[r]=n,!0)},e.prototype.remove=function(n){for(var t in this._items)if(this._items[t][this.keyName]===n)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),nie=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.metadata,o=n.hashFunction,d=o===void 0?N6:o,h=n.transaction,f=n.store;this.dbname=t,this.collectionName=r,this.hashFunction=d,this.metadata=i,this._transaction=h,this._store=f}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(n,t){return t===void 0&&(t=this.metadata.blockLevel),r=this.dbname,i=this.collectionName,o=t,d="".concat(function(h,f,m){var _=m.base*Math.pow(m.multiplier,f)+m.constant;return(m.hashFunction||N6)(h,_)}(n,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(PE(r,i)).concat(o,".").concat(d);var r,i,o,d},e.prototype._findBlock=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:t=$a.get(this.dbname),r=this.metadata.blockLevel,h.label=1;case 1:return r>0?(i=this.createBlockId(n,r),[4,t.find(this._store,i)]):[3,4];case 2:if((o=h.sent())&&(d=Fv.createFromCacheItem(o),d.getItemByKey(n)))return[2,d];h.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return[2,(t=r.sent())?t.getItemByKey(n):null]}})})},e.prototype.putToBlock=function(n,t){return O(this,void 0,void 0,function(){var r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return r=lg.get(this.dbname),i=this.createBlockId(n),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,$a.get(this.dbname).find(this._store,i)];case 1:return d=f.sent(),(h=d?Fv.createFromCacheItem(d):new Fv({blockId:i,keyName:this.keyName,items:[],limit:o})).add(t)?(this._transaction.requestWrite({key:h.blockId,value:h.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return(t=r.sent())&&t.remove(n)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return n=PE(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=_.sent(),r=t.filter(function(y){return y.startsWith(n)}),[4,this._store.removeMany(r)];case 2:_.sent(),i=$a.get(this.dbname);try{for(o=ze(r),d=o.next();!d.done;d=o.next())h=d.value,i.remove(h)}catch(y){f={error:y}}finally{try{d&&!d.done&&(m=o.return)&&m.call(o)}finally{if(f)throw f.error}}return[2]}})})},e}(),il=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.fields,d=n.transaction,h=n.store,f=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=r,this.keyName=i,this.fields=o,this.indexerKey=function(m,_,y){return"".concat(Ku(m,_),"/index.").concat(y)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=d,this._store=h,this._transaction.on(Fu.COMMIT,this.indexerKey,function(){return f.commit()}),this._transaction.on(Fu.ERROR,this.indexerKey,function(){return f.abort()})}return e.createKey=function(n){return n.join(">")},e.parseKey=function(n){return n.split(">")},e.prototype._addItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=fn(this.indexOf(r),2),o=i[0];return i[1]?!this._table[o].keys.includes(t)&&(this._table[o].keys.push(t),!0):(this._table.splice(o,0,{columnValues:r,keys:[t]}),!0)},e.prototype._removeItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),i=fn(this.indexOf(r),2),o=i[0];if(i[1]){var d=this._table[o].keys.indexOf(t);if(d>-1)return this._table[o].keys.splice(d,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(n){var t,r,i,o,d=[];try{for(var h=ze(this.fields),f=h.next();!f.done;f=h.next()){var m=f.value;if(m[0]==="-"&&(m=m.slice(1)),i=n[m],o=void 0,o=typeof i,i!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw tt.indexTypesNotMatch;d.push(n[m])}}catch(_){t={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return d},e.prototype.diff=function(n,t){for(var r in this.fields){var i=this.fields[r][0]==="-"?-1:1,o=Co(n[r],t[r]);if(o!==0)return i*o}return 0},e.prototype.indexOf=function(n){if(this._table.length>0){for(var t=0,r=this._table.length-1;t<=r;){var i=Math.floor((t+r)/2),o=this.diff(n,this._table[i].columnValues);if(o>0)t=i+1;else{if(!(o<0))return[i,!0];r=i-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f,m,_,y,w,C,I,k,U,T;return A(this,function(N){switch(N.label){case 0:return[4,(n=$a.get(this.dbname)).find(this._store,this.indexerKey,Us.PERSISTENT)];case 1:return(t=N.sent())?[3,11]:(r=PE(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:i=N.sent(),N.label=3;case 3:N.trys.push([3,8,9,10]),o=ze(i),d=o.next(),N.label=4;case 4:return d.done?[3,7]:(h=d.value).startsWith(r)?[4,n.find(this._store,h,Us.NO_CACHE)]:[3,6];case 5:f=N.sent(),m=Fv.createFromCacheItem(f);try{for(U=void 0,_=ze(m.items),y=_.next();!y.done;y=_.next())w=y.value,this._addItem(w)}catch(H){U={error:H}}finally{try{y&&!y.done&&(T=_.return)&&T.call(_)}finally{if(U)throw U.error}}N.label=6;case 6:return d=o.next(),[3,4];case 7:return[3,10];case 8:return C=N.sent(),I={error:C},[3,10];case 9:try{d&&!d.done&&(k=o.return)&&k.call(o)}finally{if(I)throw I.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=Ni(this._origin),N.label=12;case 12:return[2]}})})},e.prototype.drop=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return $a.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return n.sent(),[2]}})})},e.prototype.addItem=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return this._addItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return this._removeItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=Ni(this._origin)},e.prototype.abort=function(){this._table=Ni(this._origin)},e}(),So=typeof document<"u"&&typeof navigator<"u";So&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var tie=So&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");So&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),So&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),So&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Up,Yr,rie=So&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),M6=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})};(function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"})(Up||(Up={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(Yr||(Yr={}));var fo,u1={},C5=function(){function e(n,t){t===void 0&&(t={});var r=this;return this._state=Up.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],u1[n]&&!t.forceCreate||(this.nodeId=M6(),this.key=n,So&&(t.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(i){var o,d,h=i.data,f=h.nodeId,m=h.requestId,_=h.key,y=h.op,w=h.data;if(f!==r.nodeId&&_===r.key)switch(y){case Yr.NEWNODE:r._sendSync();break;case Yr.CLAIM_HOST:r._sendSync(),r._hostId=f;break;case Yr.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var C=w,I=C.currentItemRequestId,k=C.queue,U=function($){var Q=r._queue.findIndex(function(P){return P.requestId===$.requestId});Q<0&&r._requestLock({nodeId:$.nodeId,requestId:$.requestId,key:r.key,op:Yr.REQUEST_LOCK,ts:$.ts})};try{for(var T=ze(k),N=T.next();!N.done;N=T.next())U(N.value)}catch($){o={error:$}}finally{try{N&&!N.done&&(d=T.return)&&d.call(T)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function($){return $.requestId===I}),r._completeSync()}break;case Yr.REMOVENODE:r._queue=r._queue.filter(function($){return $.nodeId!==h.nodeId}),r._currentItem&&r._currentItem.nodeId===h.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case Yr.REQUEST_LOCK:r._requestLock(h);break;case Yr.ACQUIRE_LOCK:var H=r._queue.find(function($){return $.requestId===m});r._acquire(H);break;case Yr.RELEASE_LOCK:r._release(m)}}),window.addEventListener("beforeunload",function(){r._send(Yr.REMOVENODE)})),u1[n]=this),u1[n]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==Up.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(n,t){var r,i;t===void 0&&(t={});var o={nodeId:this.nodeId,requestId:(r=t==null?void 0:t.requestId)!==null&&r!==void 0?r:M6(),key:this.key,op:n,data:(i=t.data)!==null&&i!==void 0?i:null,ts:Date.now()};return So&&window.postMessage(o,"*"),o},e.prototype._acquire=function(n){n===void 0&&(n=null),n?(this._currentItem=n,this._currentItem.onAcquired(n.requestId)):this._currentItem=null},e.prototype._release=function(n){if(this._currentItem&&this._currentItem.requestId===n){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(Yr.RELEASE_LOCK,{requestId:t.requestId});var r=this._queue.findIndex(function(i){return i.requestId===n});r>-1&&this._queue.splice(r,1),t.onReleased(n)}},e.prototype._requestLock=function(n){var t=this;return new Promise(function(r){var i={nodeId:n.nodeId,requestId:n.requestId,ts:n.ts,onAcquired:function(h){t.isHost&&t._send(Yr.ACQUIRE_LOCK,{requestId:h}),r()},onReleased:function(){t._acquire(t._queue[0])}},o=!1;for(var d in t._queue)if(t._queue[d].ts>i.ts){t._queue.splice(parseInt(d),0,i),o=!0;break}o||t._queue.push(i),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var n;this.isHost&&this._send(Yr.SYNC_HOST,{data:{currentItemRequestId:(n=this._currentItem)===null||n===void 0?void 0:n.requestId,queue:this._queue.map(function(t){return{nodeId:t.nodeId,requestId:t.requestId,ts:t.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return O(this,void 0,void 0,function(){var n=this;return A(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(r){n._activationQueue.push(r)})]:[2]})})},e.prototype._waitSync=function(){var n=this;this.isInSync||(this._activationTimeout=setTimeout(function(){n._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=Up.DONE,this._activationQueue.forEach(function(n){return n()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(Yr.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Yr.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),n=this._send(Yr.REQUEST_LOCK),[4,this._requestLock(n)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var n;this._release((n=this._currentItem)===null||n===void 0?void 0:n.requestId)},e}(),c1=function(){function e(n){var t=n.dbname,r=n.collectionName,i=n.keyName,o=n.keyHash,d=n.indexes,h=n.store,f=this;this._state=fd.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=r,this.keyName=i,this.indexes=pn([[i]],fn(d.filter(function(m){return il.createKey(m)!==f.keyName})),!1),this._keyHash=o,this._store=h,this._mutex=new C5(function(m,_){return"".concat(Ku(m,_),".lock")}(t,r)),this._blobContainer=new Zre({dbname:t,collectionName:r,store:h}),this._transaction=new eie({dbname:t,collectionName:r,store:h})}return e.metadataOf=function(n,t,r){return O(this,void 0,void 0,function(){var i;return A(this,function(o){switch(o.label){case 0:return i=o1(n,t),[4,r.get(i)];case 1:return[2,o.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===fd.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f,m,_,y,w,C,I,k=this;return A(this,function(U){switch(U.label){case 0:return[4,this._mutex.lock()];case 1:U.sent(),U.label=2;case 2:return U.trys.push([2,9,,10]),n=lg.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return t=U.sent(),this._metadata=t||{keyName:this.keyName,blockLevel:1,blockHashBase:n.blockHashBase,blockHashMultiplier:n.blockHashMultiplier,blockHashConstant:n.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:U.sent(),this._blockManager=new nie({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=pn([],fn(this.indexes),!1),i=[],o=r.map(function(T){return il.createKey(T)}),d=t?t.indexes.map(function(T){return il.createKey(T)}):[];try{for(h=ze(d),f=h.next();!f.done;f=h.next())m=f.value,o.includes(m)||i.push(il.parseKey(m))}catch(T){C={error:T}}finally{try{f&&!f.done&&(I=h.return)&&I.call(h)}finally{if(C)throw C.error}}return(_=[]).push.apply(_,pn([],fn(r.map(function(T){var N=new il({dbname:k.dbname,collectionName:k.name,keyName:k.keyName,fields:T,transaction:k._transaction,store:k._store});return k._indexers.push(N),N.ensure()})),!1)),_.push.apply(_,pn([],fn(i.map(function(T){return new il({dbname:k.dbname,collectionName:k.name,keyName:k.keyName,fields:T,transaction:k._transaction,store:k._store}).drop()})),!1)),[4,Promise.all(_)];case 5:return U.sent(),[4,this._transaction.commit()];case 6:return U.sent(),o.sort().join(",")===d.sort().join(",")?[3,8]:(y=o1(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:y,value:this._metadata,generation:1})]);case 7:U.sent(),U.label=8;case 8:return this._state=fd.READY,this._mutex.unlock(),[3,10];case 9:throw w=U.sent(),this._mutex.unlock(),w;case 10:return[2]}})})},e.prototype.close=function(){this._state=fd.CLOSED},e.prototype._hasPropertyOfKeyName=function(n){var t=n[this.keyName];return typeof t=="string"&&!!t},e.prototype._getIndexerBy=function(n){var t,r;n===void 0&&(n=null),n||(n=[this.keyName]);var i=il.createKey(n);try{for(var o=ze(this._indexers),d=o.next();!d.done;d=o.next()){var h=d.value;if(i===il.createKey(h.fields))return h}}catch(f){t={error:f}}finally{try{d&&!d.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null},e.prototype._upgradeBlockLevel=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return n=o1(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:n,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return f.sent()?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return f.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return f.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:f.sent(),f.label=5;case 5:f.trys.push([5,10,11,12]),r=ze(this._indexers),i=r.next(),f.label=6;case 6:return i.done?[3,9]:[4,i.value.addItem(n)];case 7:f.sent(),f.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=f.sent(),d={error:o},[3,12];case 11:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 12:return[3,14];case 13:throw tt.collectionInsertDuplicate;case 14:return[2]}})})},e.prototype._requestUpsert=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I;return A(this,function(k){switch(k.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=k.sent())?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return k.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return k.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:k.sent(),k.label=5;case 5:k.trys.push([5,10,11,12]),i=ze(this._indexers),o=i.next(),k.label=6;case 6:return o.done?[3,9]:[4,(m=o.value).addItem(n)];case 7:k.sent(),k.label=8;case 8:return o=i.next(),[3,6];case 9:return[3,12];case 10:return d=k.sent(),y={error:d},[3,12];case 11:try{o&&!o.done&&(w=i.return)&&w.call(i)}finally{if(y)throw y.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,n)];case 14:k.sent(),k.label=15;case 15:k.trys.push([15,21,22,23]),h=ze(this._indexers),f=h.next(),k.label=16;case 16:return f.done?[3,20]:(m=f.value).diff(m.getColumnValues(r),m.getColumnValues(n))===0?[3,19]:[4,m.removeItem(r)];case 17:return k.sent(),[4,m.addItem(n)];case 18:k.sent(),k.label=19;case 19:return f=h.next(),[3,16];case 20:return[3,23];case 21:return _=k.sent(),C={error:_},[3,23];case 22:try{f&&!f.done&&(I=h.return)&&I.call(h)}finally{if(C)throw C.error}return[7];case 23:return[2]}})})},e.prototype._requestUpdate=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=_.sent())?[4,this._blockManager.putToBlock(t,n)]:[3,11];case 2:_.sent(),_.label=3;case 3:_.trys.push([3,9,10,11]),i=ze(this._indexers),o=i.next(),_.label=4;case 4:return o.done?[3,8]:(d=o.value).diff(d.getColumnValues(r),d.getColumnValues(n))===0?[3,7]:[4,d.removeItem(r)];case 5:return _.sent(),[4,d.addItem(n)];case 6:_.sent(),_.label=7;case 7:return o=i.next(),[3,4];case 8:return[3,11];case 9:return h=_.sent(),f={error:h},[3,11];case 10:try{o&&!o.done&&(m=i.return)&&m.call(i)}finally{if(f)throw f.error}return[7];case 11:return[2]}})})},e.prototype._requestRemove=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return[4,this._blockManager.getFromBlock(n)];case 1:return(t=f.sent())?[4,this._blockManager.removeFromBlock(n)]:[3,10];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=ze(this._indexers),i=r.next(),f.label=4;case 4:return i.done?[3,7]:[4,i.value.removeItem(t)];case 5:f.sent(),f.label=6;case 6:return i=r.next(),[3,4];case 7:return[3,10];case 8:return o=f.sent(),d={error:o},[3,10];case 9:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 10:return[2]}})})},e.prototype._requestClear=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:d.sent(),d.label=2;case 2:d.trys.push([2,7,8,9]),n=ze(this._indexers),t=n.next(),d.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:d.sent(),d.label=5;case 5:return t=n.next(),[3,3];case 6:return[3,9];case 7:return r=d.sent(),i={error:r},[3,9];case 8:try{t&&!t.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}return[7];case 9:return[2]}})})},e.prototype.getByKey=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(n)];case 3:return t=i.sent(),this._mutex.unlock(),[2,Ni(t)];case 4:throw r=i.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw tt.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(n){return n===void 0&&(n={}),this.isReady?new Jre({condition:n.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(n.index),backward:!!n.backward}):null},e.prototype.insertOne=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw tt.collectionKeyNotGiven;return[4,this._requestInsert(Ni(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw tt.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m=this;return A(this,function(_){switch(_.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:_.sent(),_.label=2;case 2:if(_.trys.push([2,12,,14]),n.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw tt.collectionKeyNotGiven;_.label=3;case 3:_.trys.push([3,8,9,10]),t=ze(n),r=t.next(),_.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestInsert(Ni(i))]);case 5:_.sent(),_.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=_.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=t.return)&&f.call(t)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return _.sent(),this._mutex.unlock(),[2,n];case 12:return d=_.sent(),[4,this._transaction.clear()];case 13:throw _.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw tt.collectionNotReady;case 16:return[2]}})})},e.prototype.upsertOne=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw tt.collectionKeyNotGiven;return[4,this._requestUpsert(Ni(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw tt.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m=this;return A(this,function(_){switch(_.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:_.sent(),_.label=2;case 2:if(_.trys.push([2,12,,14]),n.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw tt.collectionKeyNotGiven;_.label=3;case 3:_.trys.push([3,8,9,10]),t=ze(n),r=t.next(),_.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._requestUpsert(Ni(i))]);case 5:_.sent(),_.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return o=_.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=t.return)&&f.call(t)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return _.sent(),this._mutex.unlock(),[2,n];case 12:return d=_.sent(),[4,this._transaction.clear()];case 13:throw _.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw tt.collectionNotReady;case 16:return[2]}})})},e.prototype.update=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw tt.collectionKeyNotGiven;return[4,this._requestUpdate(Ni(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw tt.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(n,t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m,_,y,w,C,I,k,U,T=this;return A(this,function(N){switch(N.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:N.sent(),N.label=2;case 2:return N.trys.push([2,13,,15]),r=n.where,i=r===void 0?{}:r,o=n.index,d=o===void 0?null:o,h=n.backward,f=h!==void 0&&h,m=[],[4,new UE({condition:i,blockManager:this._blockManager,backward:f,indexer:this._getIndexerBy(d)}).each(function(H){return O(T,void 0,void 0,function(){var $,Q;return A(this,function(P){if(H.error)throw H.stop(),H.error;if(H.hasNext){if($=H.nextValue,$u(i,$)&&t.set){if(typeof t.set!="function")for(Q in t.set)$[Q]=t.set[Q];else t.set($);m.push($)}H.next()}else H.stop();return[2]})})})];case 3:N.sent(),N.label=4;case 4:N.trys.push([4,9,10,11]),_=ze(m),y=_.next(),N.label=5;case 5:return y.done?[3,8]:(w=y.value,[4,this._requestUpdate(Ni(w))]);case 6:N.sent(),N.label=7;case 7:return y=_.next(),[3,5];case 8:return[3,11];case 9:return C=N.sent(),k={error:C},[3,11];case 10:try{y&&!y.done&&(U=_.return)&&U.call(_)}finally{if(k)throw k.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return N.sent(),this._mutex.unlock(),[2,m];case 13:return I=N.sent(),[4,this._transaction.clear()];case 14:throw N.sent(),this._mutex.unlock(),I;case 15:return[3,17];case 16:throw this._transaction.clear(),tt.collectionNotReady;case 17:return[2]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(n)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw tt.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I,k,U=this;return A(this,function(T){switch(T.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:T.sent(),T.label=2;case 2:return T.trys.push([2,13,,14]),t=n.where,r=t===void 0?{}:t,i=n.index,o=i===void 0?null:i,d=n.backward,h=d!==void 0&&d,f=[],[4,new UE({condition:r,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(o)}).each(function(N){return O(U,void 0,void 0,function(){var H,$;return A(this,function(Q){if(N.error)throw N.stop(),N.error;return N.hasNext?(H=N.nextValue,$u(r,H)&&($=H[this.keyName],f.push($)),N.next()):N.stop(),[2]})})})];case 3:T.sent(),T.label=4;case 4:T.trys.push([4,9,10,11]),m=ze(f),_=m.next(),T.label=5;case 5:return _.done?[3,8]:(y=_.value,[4,this._requestRemove(y)]);case 6:T.sent(),T.label=7;case 7:return _=m.next(),[3,5];case 8:return[3,11];case 9:return w=T.sent(),I={error:w},[3,11];case 10:try{_&&!_.done&&(k=m.return)&&k.call(m)}finally{if(I)throw I.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return T.sent(),this._mutex.unlock(),[2,f];case 13:throw C=T.sent(),this._mutex.unlock(),C;case 14:return[3,16];case 15:throw this._transaction.clear(),tt.collectionNotReady;case 16:return[2]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return n=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),n;case 7:return[3,9];case 8:throw tt.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(n,t){return t===void 0&&(t=null),O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.removeBlob=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.clear()];case 1:return n.sent(),[2]}})})},e}(),Ki={},Cm=function(){function e(n){n===void 0&&(n={});var t=n.itemSizeLimit,r=t===void 0?4194304:t,i=n.delay,o=i===void 0?1:i,d=n.encryption,h=d===void 0?tg:d;this._encryption=h,this.itemSizeLimit=r,this.delay=o,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Ki[this.dbname]},set:function(n){Ki[this.dbname]=n},enumerable:!1,configurable:!0}),e.prototype.observe=function(n,t,r){var i=this;this.observer[n]={},t.forEach(function(o){return i.observer[n][o]=r})},e.prototype.init=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:this.dbname=n,Ki[this.dbname]={},r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Jr.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Jr.value))throw tt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Jr)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return[2,Object.keys(Ki[this.dbname]).filter(function(t){return t!==Jr.key})]})})},e.prototype.get=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return[4,Wc(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.get?t.get(n):null)throw r;return[2,Ki[this.dbname][n]?this._encryption.decrypt(Ki[this.dbname][n]):null]}})})},e.prototype.set=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return[4,Wc(this.delay)];case 1:if(f.sent(),t=n.key,r=n.value,i=this.observer[t],o=i&&i.set?i.set(t):null)throw o;if(d=this._encryption.encrypt(r),h=JSON.stringify(d),t===Jr.key||h.length<this.itemSizeLimit)return Ki[this.dbname][t]=d,[2,Ki[this.dbname][t]];throw tt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return O(this,void 0,void 0,function(){var t,r=this;return A(this,function(i){switch(i.label){case 0:return[4,Wc(this.delay)];case 1:return i.sent(),t=[],n.forEach(function(o){var d=o.key,h=o.value,f=r.observer[d];if(f&&f.set&&f.set(d))t.push(tt.collectionWriteFailed);else{var m=r._encryption.encrypt(h),_=JSON.stringify(m);d===Jr.key||_.length<r.itemSizeLimit?(Ki[r.dbname][d]=m,t.push(h)):t.push(tt.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return[4,Wc(this.delay)];case 1:if(i.sent(),t=this.observer[n],r=t&&t.remove?t.remove(n):null)throw r;return Ki[this.dbname][n]&&delete Ki[this.dbname][n],[2,n]}})})},e.prototype.removeMany=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return[4,Wc(this.delay)];case 1:m.sent();try{for(t=ze(n),r=t.next();!r.done;r=t.next()){if(i=r.value,o=this.observer[i],d=o&&o.remove?o.remove(i):null)throw d;Ki[this.dbname][i]&&delete Ki[this.dbname][i]}}catch(_){h={error:_}}finally{try{r&&!r.done&&(f=t.return)&&f.call(t)}finally{if(h)throw h.error}}return[2,n]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,Wc(this.delay)];case 1:return n.sent(),Ki[this.dbname]={},[2]}})})},e}(),iie=function(){function e(n){n===void 0&&(n={}),this.itemSizeLimit=104857600;var t=n.encryption,r=t===void 0?tg:t;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=r}return e.prototype.init=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return this.dbname=n,[4,new Promise(function(d,h){if(i._window&&So)if(tie){var f=i._indexedDB.open("_testMozilla");f.onerror=function(){return h(tt.storeNotAvailableInPrivateBrowsing)},f.onsuccess=function(){return d()}}else rie?i._window.indexedDB||!i._window.PointerEvent&&!i._window.MSPointerEvent||h(tt.storeNotAvailableInPrivateBrowsing):d();else h(tt.storeNotAvailable)})];case 1:return o.sent(),t=this,[4,new Promise(function(d,h){var f=i._indexedDB.open(n);f.addEventListener("upgradeneeded",function(m){m.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),f.addEventListener("success",function(m){return d(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 2:t._database=o.sent(),o.label=3;case 3:return o.trys.push([3,,5,7]),[4,this.get(Jr.key)];case 4:if((r=o.sent())&&JSON.stringify(r)!==JSON.stringify(Jr.value))throw tt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(Jr)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.getAllKeys=function(){return O(this,void 0,void 0,function(){var n=this;return A(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();o.addEventListener("success",function(d){r(d.target.result.filter(function(h){return h!==Jr.key}))}),o.addEventListener("error",function(d){return i(d.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(n){return O(this,void 0,void 0,function(){var t=this;return A(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var d=t._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(n);d.addEventListener("success",function(h){return i(h.target.result?t._encryption.decrypt(h.target.result.value):null)}),d.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.set=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,[4,new Promise(function(d,h){var f=i._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:t,value:i._encryption.encrypt(r)});f.addEventListener("success",function(m){d(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 1:return o.sent(),[2,r]}})})},e.prototype.setMany=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return t=[],r=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),n.forEach(function(d){var h=d.key,f=d.value;t.push(new Promise(function(m){var _=r.put({key:h,value:i._encryption.encrypt(f)});_.addEventListener("success",function(y){m(y.target.result)}),_.addEventListener("error",function(){m(tt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return o.sent(),[2,n.map(function(d){return d.value})]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){var t=this;return A(this,function(r){switch(r.label){case 0:return[4,new Promise(function(i,o){var d=t._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(n);d.addEventListener("success",function(){return i(n)}),d.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.removeMany=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return t=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(n.map(function(i){return new Promise(function(o,d){var h=t.delete(i);h.addEventListener("success",function(){return o(i)}),h.addEventListener("error",function(f){return d(f.target.error)})})}))];case 1:return[2,r.sent()]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){var n=this;return A(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,i){var o=n._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();o.addEventListener("success",function(){return r()}),o.addEventListener("error",function(d){return i(d.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),aie=function(){function e(n){var t=n.AsyncStorage,r=n.encryption,i=r===void 0?tg:r;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=i}return e.prototype._isBelonging=function(n){return n.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(n){return"".concat(this.dbname,"/").concat(n)},e.prototype.init=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:this.dbname=n,r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(Jr.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(Jr.value))throw tt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Jr)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return O(this,void 0,void 0,function(){var n,t,r=this;return A(this,function(i){switch(i.label){case 0:return n=this._getActualKey(Jr.key),[4,this._asyncStorage.getAllKeys()];case 1:return t=i.sent(),[2,t.filter(function(o){return r._isBelonging(o)&&o!==n}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},e.prototype.get=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(n))];case 1:return[2,(t=r.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(n){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return t=n.key,r=n.value,i=JSON.stringify(this._encryption.encrypt(r)),t===Jr.key||i.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),i)]:[3,2];case 1:return o.sent(),[2,JSON.parse(i)];case 2:throw tt.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:t=[],r=[];try{for(i=ze(n),o=i.next();!o.done;o=i.next()){d=o.value;try{h=d.key,f=d.value,m=JSON.stringify(this._encryption.encrypt(f)),h===Jr.key||m.length<this.itemSizeLimit?(r.push([this._getActualKey(h),m]),t.push(f)):t.push(tt.storeItemSizeExceeded)}catch{t.push(tt.collectionWriteFailed)}}}catch(C){_={error:C}}finally{try{o&&!o.done&&(y=i.return)&&y.call(i)}finally{if(_)throw _.error}}w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(r)];case 2:return w.sent(),[3,4];case 3:return w.sent(),[2,new Array(t.length).fill(tt.collectionWriteFailed)];case 4:return[2,t]}})})},e.prototype.remove=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(n))];case 1:return t.sent(),[2,n]}})})},e.prototype.removeMany=function(n){return O(this,void 0,void 0,function(){var t=this;return A(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.multiRemove(n.map(function(i){return t._getActualKey(i)}))];case 1:return r.sent(),[2,n]}})})},e.prototype.clear=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return n=t.sent(),[4,this.removeMany(n)];case 2:return t.sent(),[4,this.remove(Jr.key)];case 3:return t.sent(),[2]}})})},e}(),gv=!0,vu=function(){function e(){}return e.off=function(){gv=!1},e.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];gv&&console.log.apply(console,pn(["".concat("[NESTDB]","[LOG]")],fn(n),!1))},e.warning=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];gv&&console.warn.apply(console,pn(["".concat("[NESTDB]","[WARNING]")],fn(n),!1))},e.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];gv&&console.error.apply(console,pn(["".concat("[NESTDB]","[ERROR]")],fn(n),!1))},e}();(function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"})(fo||(fo={}));var sie=function(){function e(n){var t=n.name,r=n.version,i=n.store,o=n.config;this.name=t,this._version=r,this._state=fo.INIT,this._config=o||new lg({dbname:t}),this._store=i,this._event={success:$v,error:$v,upgrade:A6},this._collections=new Map,this._globalMutex=new C5("".concat(this.name,".lock")),this._config.disableLogger&&vu.off(),new $a({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(n){return O(this,void 0,void 0,function(){var t=this;return A(this,function(r){switch(r.label){case 0:return this._state!==fo.OPENING?[3,2]:[4,Promise.all(n.map(function(i){return O(t,void 0,void 0,function(){var o,d,h,f;return A(this,function(m){switch(m.label){case 0:return o=i.collectionName,d=i.keyName,h=i.index,f=h===void 0?[]:h,this._collections.has(o)||this._collections.set(o,new c1({dbname:this.name,collectionName:o,keyName:d,keyHash:i.keyHash||null,indexes:f,store:this._store})),[4,this._collections.get(o).init()];case 1:return m.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw tt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var n;return O(this,void 0,void 0,function(){var t,r,i,o,d=this;return A(this,function(h){switch(h.label){case 0:return[4,this._globalMutex.lock()];case 1:if(h.sent(),this._state===fo.OPENED)return[3,15];this._state=fo.OPENING,h.label=2;case 2:return h.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return h.sent(),f=this.name,t="".concat(LE(f),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return i=(n=h.sent())!==null&&n!==void 0?n:r,[2,new Promise(function(m,_){var y=function(C){i.version<d._version?d._event.upgrade(i.version,function(I){return O(d,void 0,void 0,function(){var k;return A(this,function(U){switch(U.label){case 0:if(I)return[3,5];i.version++,i.collectionNames=Array.from(this._collections.keys()),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,this._store.set({key:t,value:i,generation:this._version})];case 2:return U.sent(),C({continued:!0}),[3,4];case 3:return k=U.sent(),C({continued:!1,err:k}),[3,4];case 4:return[3,6];case 5:C({continued:!1,err:I}),U.label=6;case 6:return[2]}})})}):C({continued:!1})},w=function(C){var I=C.continued,k=I!==void 0&&I,U=C.err,T=U===void 0?null:U;if(k)setTimeout(function(){return y(w)},10);else if(T)vu.error(T.message),d._globalMutex.unlock(),d._event.error(T),_(T);else{var N=[];i.collectionNames.forEach(function(H){d._collections.has(H)||N.push(O(d,void 0,void 0,function(){var $,Q;return A(this,function(P){switch(P.label){case 0:return[4,c1.metadataOf(this.name,H,this._store)];case 1:return($=P.sent())?(Q=new c1({dbname:this.name,collectionName:H,keyName:$.keyName,indexes:$.indexes,store:this._store}),this._collections.set(H,Q),[4,Q.init()]):[3,3];case 2:P.sent(),P.label=3;case 3:return[2]}})}))}),Promise.all(N).then(function(){d._state=fo.OPENED,d._globalMutex.unlock(),d._event.success(),m()}).catch(function(H){vu.error(H.message),d._globalMutex.unlock(),d._event.error(H),_(H)})}};y(w)})];case 5:switch(o=h.sent(),o.code){case wt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case wt.STORE_NOT_AVAILABLE:return[3,8];case wt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return vu.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Cm({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return h.sent(),[3,14];case 8:return vu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Cm({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return h.sent(),[3,14];case 10:return vu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return h.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return h.sent(),[3,14];case 13:throw vu.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var f})})},e.prototype.close=function(){this._collections.forEach(function(n){return n.close()}),this._state=fo.CLOSED},e.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(t){return t.clear()}))];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(){return O(this,void 0,void 0,function(){var n,t=this;return A(this,function(r){switch(r.label){case 0:return this.close(),(n=$a.get(this.name))&&n.clearByCondition(function(i){return i.key.startsWith(LE(t.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},e.prototype.on=function(n,t){this._event[n]=t},e.prototype.off=function(n){typeof this._event[n]=="function"&&(n==="upgrade"?this._event[n]=A6:this._event[n]=$v)},e.prototype.collection=function(n){return this._collections.get(n)||null},e}(),op=null,oie=function(){function e(n,t,r){var i=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=n,this.options=t;var o=se.of(n),d=o.sdkState,h=o.cacheContext,f=o.dispatcher,m=o.sessionManager,_=o.requestQueue,y=o.logger,w=o.userEventHandlers;this._onlineDetector=new Yte({logger:y,connectionDelegate:{reconnect:function(){var C=se.of(n),I=C.sdkState,k=C.connectionManager;I.appState==="foreground"&&k.resetAndReconnect()},disconnect:function(){se.of(n).connectionManager.disconnect()}}}),new pd(n,{localCacheEnabled:h.localCacheEnabled,dispatcher:f,sdkState:d,logger:y}),r.forEach(function(C){C.init(n,{sdkState:d,cacheContext:h,dispatcher:f,sessionManager:m,requestQueue:_,logger:y,onlineDetector:i._onlineDetector}),i[C.name]=C}),this._appStateChangeDetector=new Qte,this._appStateChangeDetector.on("resume",function(){y.debug("the page resumes from freeze"),i.setForegroundState()}).on("pause",function(){y.debug("the page freezes"),i.setBackgroundState()}),f.on(function(C){if(C instanceof gt){if(C.code==="USEV"){var I=C.as(f5).event;if(I.category===hf.FRIEND_DISCOVERED){var k=wm.getDataAsFriendDiscoveredEvent(n,I).friendDiscoveries;en(function(){return O(i,void 0,void 0,function(){return A(this,function($){return[2,w.forEach(function(Q){Q.onFriendsDiscovered(k)})]})})})}}}else if(C instanceof UM){var U=se.of(i._iid).subscribedUnreadMessageCount,T=!1,N=C.ts;if(typeof N=="number"&&N>U.ts){if(U.all!==C.all&&(T=!0),U.all=C.all>=0?C.all:0,C.customTypes)for(var H in C.customTypes)U.customTypes[H]!==C.customTypes[H]&&(T=!0),U.customTypes[H]=C.customTypes[H];T=T&&U.ts>0,U.ts=N}T&&en(function(){return O(i,void 0,void 0,function(){return A(this,function($){return[2,w.forEach(function(Q){Q.onTotalUnreadMessageCountUpdated(U.all,U.customTypes)})]})})})}else C instanceof GM&&h.localCacheEnabled&&h.preference.set(i._getUserProfileCacheKey(d.userId),IE.payloadify(C.userProfile))})}return e.init=function(n){var t=n.appId,r=n.appVersion,i=r===void 0?null:r,o=n.modules,d=o===void 0?[]:o,h=n.options,f=h===void 0?new DM:h,m=n.debugMode,_=m!==void 0&&m,y=n.customApiHost,w=n.customWebSocketHost,C=n.newInstance,I=C!==void 0&&C,k=n.logLevel,U=n.localCacheEnabled,T=U!==void 0&&U,N=n.localCacheEncryption,H=n.useAsyncStorageStore,$=H===void 0?null:H;if(!op||I){var Q="su-".concat(Ha()),P=N!=null?N:{encrypt:function(he){return he},decrypt:function(he){return he}},W=new Cm({encryption:P});_||(W=$?new aie({AsyncStorage:$,encryption:P}):new iie({encryption:P})),new se(Q,{appId:t,appVersion:i,options:f,apiHost:y!=null?y:"https://api-".concat(t,".sendbird.com"),websocketHost:w!=null?w:"wss://ws-".concat(t,".sendbird.com"),store:W,encryption:P,logLevel:k,localCacheEnabled:T,debugMode:_});var K=new e(Q,f,pn(pn([],fn(d),!1),[new Vne],!1));return op||(op=K),K}return op},Object.defineProperty(e,"instance",{get:function(){return op},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return qee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return se.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){return se.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var n;return(n=se.of(this._iid).sdkState.appVersion)!==null&&n!==void 0?n:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return se.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return se.of(this._iid).logger.level},set:function(n){se.of(this._iid).logger.level=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return se.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return lf(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var n;return(n=se.of(this._iid).sessionManager.currentUser)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var n=se.of(this._iid).connectionManager;return n.isConnected?Tl.OPEN:n.isConnecting?Tl.CONNECTING:Tl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var n=se.of(this._iid),t=n.connectedAt;return n.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),e.prototype._getPreferenceCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".pref")},e.prototype._getUserProfileCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".profile")},e.prototype.getMemoryStoreForDebugging=function(){var n=se.of(this._iid),t=n.debugMode,r=n.cacheContext;if(t)return r.store instanceof Cm?r.store:null;throw ue.debugModeRequired},e.prototype.addExtension=function(n,t){var r=se.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(n)>-1&&(r.extensions[n]=t)},e.prototype.initializeCache=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.cacheContext,o=t.connectionManager,d=t.dispatcher,r.userId&&r.userId===n?[3,6]:[4,o.logout()];case 1:return _.sent(),r.userId=n,i.localCacheEnabled?(h="sendbird@".concat(r.appId,"/").concat(n,".db"),i.nestdb&&i.nestdb.state!==fo.CLOSED&&i.nestdb.name===h?[3,3]:((f=i.nestdb=new sie({name:"sendbird@".concat(r.appId,"/").concat(n,".db"),version:1,store:i.store})).on("upgrade",function(y){return function(w,C){w===0?y.commitSchema([{collectionName:u5,keyName:Pte,index:[Pv(yr.LATEST_LAST_MESSAGE),Pv(yr.CHRONOLOGICAL),Pv(yr.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:$te,keyName:Fte,index:[wo(Dr.CHANNEL_LATEST),wo(Dr.NEWEST_CHILD_MESSAGE)]},{collectionName:jte,keyName:zte,index:[wo(Dr.CHANNEL_LATEST),wo(Dr.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return C()}).catch(function(I){return C(I)}):C()}}(f)),[4,f.open()])):[3,6];case 2:_.sent(),d.dispatch(new p5(this._iid,{userId:n})),_.label=3;case 3:return[4,i.preference.init(this._getPreferenceCacheKey(n))];case 4:return _.sent(),[4,i.preference.get(this._getUserProfileCacheKey(n))];case 5:(m=_.sent())&&new IE(this._iid,m).apply(),_.label=6;case 6:return[2]}})})},e.prototype.clearCachedData=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return(n=se.of(this._iid).cacheContext).localCacheEnabled?(n.nestdb&&n.nestdb.clear(),[4,n.preference.clear()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearCachedMessages=function(n){return O(this,void 0,void 0,function(){var t,r,i=this;return A(this,function(o){switch(o.label){case 0:return Pe(En("string",n)).throw(ue.invalidParameters),t=d5.of(this._iid),r=M3.of(this._iid),t&&r?[4,Promise.all(n.map(function(d){return O(i,void 0,void 0,function(){return A(this,function(h){switch(h.label){case 0:return[4,t.removeMessagesOfChannel(d)];case 1:return h.sent(),[4,r.removeMessagesOfChannel(d)];case 2:return h.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.connect=function(n,t){return t===void 0&&(t=null),O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:r=se.of(this._iid),i=r.sdkState,o=r.cacheContext,d=r.connectionManager,h=r.statLogCollector,_.label=1;case 1:return _.trys.push([1,3,,4]),[4,this.initializeCache(n)];case 2:return _.sent(),[3,4];case 3:return _.sent(),f=se.of(this._iid).logger,o.localCacheEnabled=!1,f.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,h.init("sendbird@".concat(i.appId,"/").concat(n,".statlog"))];case 5:return _.sent(),[4,d.connect(t)];case 6:return _.sent(),this._appStateChangeDetector.start(),i.appState="foreground",[4,(m=pd.of(this._iid))==null?void 0:m.processNonAutoResendRegisteredPendingMessages()];case 7:return _.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},e.prototype.reconnect=function(){var n=se.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.sessionManager.auth.hasSession;return i&&t.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){}),i},e.prototype.disconnect=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return n=se.of(this._iid),t=n.connectionManager,r=n.cacheContext,i=n.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),i.cancelAll(),[4,t.logout()];case 1:return o.sent(),r.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.setBackgroundState=function(){var n=se.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="foreground"&&(r.appState="background",i.debug("going background state"),t.background())},e.prototype.setForegroundState=function(){var n=se.of(this._iid),t=n.connectionManager,r=n.sdkState,i=n.logger;r.appState==="background"&&(r.appState="foreground",i.debug("going foreground state"),t.resetAndReconnect())},e.prototype.setSessionHandler=function(n){Pe(n instanceof Kte).throw(ue.invalidParameters),se.of(this._iid).sessionManager.handler=n},e.prototype.addUserEventHandler=function(n,t){Pe(Z("string",n)&&t instanceof Wte).throw(ue.invalidParameters),se.of(this._iid).userEventHandlers.set(n,t)},e.prototype.removeUserEventHandler=function(n){se.of(this._iid).userEventHandlers.delete(n)},e.prototype.removeAllUserEventHandler=function(){se.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(n,t){Pe(Z("string",n)&&t instanceof b5).throw(ue.invalidParameters),se.of(this._iid).connectionHandlers.set(n,t)},e.prototype.removeConnectionHandler=function(n){se.of(this._iid).connectionHandlers.delete(n)},e.prototype.removeAllConnectionHandler=function(){se.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(n){return n===void 0&&(n={}),new Gre(this._iid,n)},e.prototype.createBlockedUserListQuery=function(n){return n===void 0&&(n={}),new Vre(this._iid,n)},e.prototype.createFriendListQuery=function(n){return n===void 0&&(n={}),new Qre(this._iid,n)},e.prototype.createMessageSearchQuery=function(n){return new Gne(this._iid,n)},e.prototype.buildUserFromSerializedData=function(n){var t=Pu(n);return new In(this._iid,In.payloadify(t))},e.prototype.updateCurrentUserInfo=function(n){return n===void 0&&(n={}),O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return n=ne(ne({},Vte),n),Pe(function(m){return ei(m.profileImage,!0)&&Z("string",m.profileUrl,!0)&&Z("string",m.nickname,!0)}(n)).throw(ue.invalidParameters),this.currentUser?(t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new I6(ne({userId:r.userId},n)),[4,i.send(o)]):[3,2];case 1:return d=f.sent(),h=d.as(k6).user,this.currentUser&&(n.nickname&&(this.currentUser.nickname=h.nickname),(n.profileUrl||n.profileImage)&&(this.currentUser.plainProfileUrl=h.profileUrl)),[2,h];case 2:throw ue.connectionRequired}})})},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(En("string",n)).throw(ue.invalidParameters),this.currentUser?(t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new I6({userId:r.userId,preferredLanguages:n}),[4,i.send(o)]):[3,2];case 1:return d=f.sent(),h=d.as(k6).user,this.currentUser&&(this.currentUser.preferredLanguages=h.preferredLanguages),[2,h];case 2:throw ue.connectionRequired}})})},e.prototype.registerFCMPushTokenForCurrentUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:if(Pe(Z("string",n)).throw(ue.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Jte({userId:r.userId,token:n}),[4,i.send(o)];case 2:return d.sent(),this._fcmPushToken="",[2,Wi.SUCCESS];case 3:return d.sent(),[2,Wi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Wi.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenForCurrentUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:if(Pe(Z("string",n)).throw(ue.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new ere({userId:r.userId,token:n}),[4,i.send(o)];case 2:return d.sent(),this._fcmPushToken="",[2,Wi.SUCCESS];case 3:return d.sent(),[2,Wi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Wi.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return this.currentUser?(n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new tre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.registerAPNSPushTokenForCurrentUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:if(Pe(Z("string",n)).throw(ue.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Xte({userId:r.userId,token:n}),[4,i.send(o)];case 2:return d.sent(),this._fcmPushToken="",[2,Wi.SUCCESS];case 3:return d.sent(),[2,Wi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Wi.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:if(Pe(Z("string",n)).throw(ue.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Zte({userId:r.userId,token:n}),[4,i.send(o)];case 2:return d.sent(),this._fcmPushToken="",[2,Wi.SUCCESS];case 3:return d.sent(),[2,Wi.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,Wi.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return this.currentUser?(n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new nre({userId:t.userId}),[4,r.send(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.getChannelInvitationPreference=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new are({userId:t.userId}),[4,r.send(i)];case 1:return o=d.sent(),[2,{autoAccept:o.as(sre).autoAccept}]}})})},e.prototype.setChannelInvitationPreference=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(Z("boolean",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new ore({userId:r.userId,willAutoAccept:n}),[4,i.send(o)];case 1:return d=h.sent(),[2,{autoAccept:d.as(lre).autoAccept}]}})})},e.prototype.getDoNotDisturb=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new ure({userId:t.userId}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(cre).preference]}})})},e.prototype.setDoNotDisturb=function(n,t,r,i,o,d){return t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=0),d===void 0&&(d=""),O(this,void 0,void 0,function(){var h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:return Pe(Z("boolean",n)&&Z("number",t)&&Z("number",r)&&Z("number",i)&&Z("number",o)&&Z("string",d)).throw(ue.invalidParameters),h=se.of(this._iid),f=h.sdkState,m=h.requestQueue,_=new dre({userId:f.userId,doNotDisturbOn:n,startHour:t,startMin:r,endHour:i,endMin:o,timezone:d}),[4,m.send(_)];case 1:return y=w.sent(),[2,y.as(hre).preference]}})})},e.prototype.getSnoozePeriod=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new pre({userId:t.userId}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(fre).snoozePeriod]}})})},e.prototype.setSnoozePeriod=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),O(this,void 0,void 0,function(){var i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(Z("boolean",n)&&Z("number",t)&&Z("number",r)).throw(ue.invalidParameters),i=se.of(this._iid),o=i.sdkState,d=i.requestQueue,h=new vre({userId:o.userId,snoozeOn:n,startTs:t,endTs:r}),[4,d.send(h)];case 1:return f=m.sent(),[2,f.as(mre).snoozePeriod]}})})},e.prototype.getMyPushTokensByToken=function(n,t){return O(this,void 0,void 0,function(){var r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(Z("string",n)&&yn(Ca,t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.sdkState,o=r.requestQueue,d=new rre({userId:i.userId,type:t,token:n}),[4,o.send(d)];case 1:return h=f.sent(),[2,h.as(ire).pushTokens]}})})},e.prototype.getPushTriggerOption=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new v5({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(m5).pushTriggerOption]}})})},e.prototype.setPushTriggerOption=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(yn(Au,n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new g5({userId:r.userId,pushTriggerOption:n}),[4,i.send(o)];case 1:return[2,d.sent().as(_5).pushTriggerOption]}})})},e.prototype.getPushTemplate=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new bre({userId:t.userId}),[4,r.send(i)];case 1:return[2,o.sent().as(yre).name]}})})},e.prototype.setPushTemplate=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(yn(ME,n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ere({userId:r.userId,templateName:n}),[4,i.send(o)];case 1:return[2,d.sent().as(wre).name]}})})},e.prototype.blockUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(n instanceof In||Z("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new gre({userId:r.userId,blockedUserId:n instanceof In?n.userId:n}),[4,i.send(o)];case 1:return d.sent(),[2]}})})},e.prototype.blockUserWithUserId=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2,this.blockUser(n)]})})},e.prototype.unblockUser=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(n instanceof In||Z("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new _re({userId:r.userId,unblockedUserId:n instanceof In?n.userId:n}),[4,i.send(o)];case 1:return d.sent(),[2]}})})},e.prototype.unblockUserWithUserId=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2,this.unblockUser(n)]})})},e.prototype.getFriendChangeLogsByToken=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(Z("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Cre({userId:r.userId,token:n}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(xre).changelogs]}})})},e.prototype.getAllowFriendDiscovery=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Are({userId:t.userId}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(Rre).allowFriendDiscovery]}})})},e.prototype.setAllowFriendDiscovery=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(Z("boolean",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Mre({userId:r.userId,allowFriendDiscovery:n}),[4,i.send(o)];case 1:return d.sent(),[2,n]}})})},e.prototype.uploadFriendDiscoveries=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Sre({userId:r.userId,discoveries:n}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Ire).friendDiscoveryRequestId]}})})},e.prototype.deleteFriendDiscovery=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2,this.deleteFriendDiscoveries([n])]})})},e.prototype.deleteFriendDiscoveries=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(En("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new kre({userId:r.userId,discoveryKeys:n}),[4,i.send(o)];case 1:return d.sent(),[2]}})})},e.prototype.addFriends=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return Pe(En("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Tre({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Nre).users]}})})},e.prototype.deleteFriend=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){return[2,this.deleteFriends([n])]})})},e.prototype.deleteFriends=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(En("string",n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Ore({userId:r.userId,userIds:n}),[4,i.send(o)];case 1:return d.sent(),[2]}})})},e.prototype.getAllEmoji=function(){return O(this,void 0,void 0,function(){var n,t,r;return A(this,function(i){switch(i.label){case 0:return n=se.of(this._iid).requestQueue,t=new Ure,[4,n.send(t)];case 1:return r=i.sent(),[2,r.as(Lre).emojiContainer]}})})},e.prototype.getEmojiCategory=function(n){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return t=se.of(this._iid).requestQueue,r=new Pre({categoryId:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as($re).emojiCategory]}})})},e.prototype.getEmoji=function(n){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return t=se.of(this._iid).requestQueue,r=new Fre({key:n}),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(Hre).emoji]}})})},e}(),et;(function(e){e[e.NONE=0]="NONE",e[e.CHANNEL_ENTER=10102]="CHANNEL_ENTER",e[e.CHANNEL_EXIT=10103]="CHANNEL_EXIT",e[e.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",e[e.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",e[e.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",e[e.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",e[e.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",e[e.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",e[e.TYPING_START=10900]="TYPING_START",e[e.TYPING_END=10901]="TYPING_END",e[e.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",e[e.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",e[e.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",e[e.CHANNEL_INVITE=10020]="CHANNEL_INVITE",e[e.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",e[e.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",e[e.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",e[e.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",e[e.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",e[e.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",e[e.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",e[e.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(et||(et={}));var lie=function(){function e(n){this.channelUrl=n.channel_url,this.channelType=n.channel_type,this.category=n.cat,this.data=n.data,this.ts=n.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===ut.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===ut.OPEN},enumerable:!1,configurable:!0}),e}(),nc=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.event=new lie(i),o}return j(n,e),n}(gt),x5=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,d=i.data.operators,h=d===void 0?[]:d;return o.operators=h.map(function(f){return new In(o._iid,f)}),o}return j(n,e),n}(nc),S5=function(e){function n(t,r,i){var o=e.call(this,t,"MCNT",i)||this;return o.groupChannelMemberCounts=i.group_channels.map(function(d){return{channelUrl:d.channel_url,memberCount:d.member_count,joinedMemberCount:d.joined_member_count,updatedAt:d.ts}}),o.openChannelMemberCounts=i.open_channels.map(function(d){return{channelUrl:d.channel_url,participantCount:d.participant_count,updatedAt:d.ts}}),o}return j(n,e),n}(gt),I5=function(e){function n(t,r,i){var o,d,h,f=this;(f=e.call(this,t,"ADMM",i)||this).message=new Rd(t,i);var m=se.of(t).sdkState;return f.isMentioned=Ad(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(d=f.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(_){return _.userId}),m.userId),f.forceUpdateLastMessage=(h=i.force_update_last_message)!==null&&h!==void 0&&h,f}return j(n,e),n}(gt),k5=function(e){function n(t,r,i){var o,d,h,f,m,_,y=this;(y=e.call(this,t,"AEDI",i)||this).message=new Rd(t,i);var w=se.of(t).sdkState;return y.mentionCountChange=E3({mentionType:(d=(o=i.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(f=(h=i.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(C){return C.userId})},w.userId),y}return j(n,e),n}(gt),T5=function(e){function n(t,r,i){var o=e.call(this,t,"MRCT",i)||this;return o.channelUrl=i.channel_url,o.channelType=i.channel_type,o.event=new C3(i),o}return j(n,e),n}(gt),N5=function(e){function n(t,r,i){var o=e.call(this,t,"MTHD",i)||this;return o.event=new Fne(t,i),o}return j(n,e),n}(gt),O5=function(){this.onUserMuted=Tn,this.onUserUnmuted=Tn,this.onUserBanned=Tn,this.onUserUnbanned=Tn,this.onChannelChanged=Tn,this.onChannelDeleted=Tn,this.onChannelFrozen=Tn,this.onChannelUnfrozen=Tn,this.onOperatorUpdated=Tn,this.onChannelMemberCountChanged=Tn,this.onMetaDataCreated=Tn,this.onMetaDataUpdated=Tn,this.onMetaDataDeleted=Tn,this.onMetaCounterCreated=Tn,this.onMetaCounterUpdated=Tn,this.onMetaCounterDeleted=Tn,this.onMessageReceived=Tn,this.onMessageUpdated=Tn,this.onMessageDeleted=Tn,this.onMentionReceived=Tn,this.onReactionUpdated=Tn,this.onThreadInfoUpdated=Tn},uie=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._channels=new Map,t._enteredChannelUrls=[],t}return j(n,e),Object.defineProperty(n.prototype,"enteredChannels",{get:function(){var t=this;return this._enteredChannelUrls.map(function(r){return t._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),n.prototype.isEnteredChannel=function(t){return this._enteredChannelUrls.includes(t)},n.prototype.enter=function(t){this._enteredChannelUrls.indexOf(t)<0&&this._enteredChannelUrls.push(t)},n.prototype.exit=function(t){var r=this._enteredChannelUrls.indexOf(t);r>=0&&this._enteredChannelUrls.splice(r,1)},n.prototype.exitAll=function(){this._enteredChannelUrls=[]},n.prototype.get=function(t){var r;return O(this,void 0,void 0,function(){return A(this,function(i){return[2,(r=this._channels.get(t))!==null&&r!==void 0?r:null]})})},n.prototype.upsert=function(t){return O(this,void 0,void 0,function(){var r=this;return A(this,function(i){return t.forEach(function(o){if(r._channels.has(o.url)){var d=r._channels.get(o.url);Object.assign(d,o)}else r._channels.set(o.url,o)}),[2]})})},n.prototype.remove=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return this._channels.delete(t),this.exit(t),[2]})})},n.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(t){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},n}(gs),A5={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},cie=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=ke.GET,o.path="".concat(i?hne:Zu,"/").concat(encodeURIComponent(r)),o}return j(n,e),n}(Oe),D6=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new Dd(t,r),i}return j(n,e),n}(Ue),die=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,d=t.name,h=t.data,f=t.customType,m=t.operatorUserIds;return(r=e.call(this)||this).method=ke.POST,r.path=Zu,r.params=_n({channel_url:i,cover_url:Z("string",o)?o:null,cover_file:ei(o)?o:null,name:d,data:h,custom_type:f,operators:m}),r}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Dd(t,r),i}j(n,e)})(Ue);var hie=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return j(n,e),n}(oa),R5=function(e){function n(t,r,i){var o,d,h=this;return h=e.call(this,t,"ENTR",i)||this,i.data&&(h.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,h.user=new In(t,i.data),h.ts=(d=i.data.edge_ts)!==null&&d!==void 0?d:0),h}return j(n,e),n}(gt),pie=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return j(n,e),n}(oa),M5=function(e){function n(t,r,i){var o,d,h=this;return h=e.call(this,t,"EXIT",i)||this,i.data&&(h.participantCount=(o=i.data.participant_count)!==null&&o!==void 0?o:0,h.user=new In(t,i.data),h.ts=(d=i.data.edge_ts)!==null&&d!==void 0?d:0),h}return j(n,e),n}(gt),U6={},Cu=function(){function e(n,t){var r=t.sdkState,i=t.dispatcher,o=t.requestQueue,d=this;this._sdkState=r,this._requestQueue=o,this._dispatcher=i,this._openChannelCache=new uie(n),this._openChannelHandlers=new Map,this._dispatcher.on(function(h){var f,m;if(h instanceof gt)d._handleEvent(h);else if(h instanceof ms&&h.stateType===ht.CONNECTED){var _=d._openChannelCache.enteredChannels;try{for(var y=ze(_),w=y.next();!w.done;w=y.next())w.value.enter()}catch(C){f={error:C}}finally{try{w&&!w.done&&(m=y.return)&&m.call(y)}finally{if(f)throw f.error}}}}),U6[n]=this}return e.of=function(n){return U6[n]},e.prototype.buildOpenChannelFromSerializedData=function(n){var t=Pu(n);return new Dd(t._iid,Dd.payloadify(t))},e.prototype.getChannelFromCache=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.upsertChannelsToCache=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.upsert(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeChannelsFromCache=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),t=ze(n),r=t.next(),f.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,this._openChannelCache.remove(i)]);case 2:f.sent(),f.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=f.sent(),d={error:o},[3,7];case 6:try{r&&!r.done&&(h=t.return)&&h.call(t)}finally{if(d)throw d.error}return[7];case 7:return[2]}})})},e.prototype.setEnteredToCache=function(n){this._openChannelCache.enter(n.url)},e.prototype.setExitedToCache=function(n){this._openChannelCache.exit(n.url)},e.prototype._handleEvent=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$,Q,P,W,K,he,le,Se,Ce,re,pe,de,De,Ge,ge,Ae,qe,J,X,me,Ye,$e,Ne,xe,He,Xe,gn,kn,Nn,On,tn,Un,vn,ln,z,R,M,V,oe,ye,Ie,Ke=this;return A(this,function(cn){switch(cn.label){case 0:switch(cn.trys.push([0,51,,52]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return o=null,n.code==="MESG"?o=n.as(A3):n.code==="FILE"?o=n.as(S3):n.code!=="ADMM"&&n.code!="BRDM"||(o=n.as(I5)),o?(t=o.message,r=o.isMentioned,t.channelType!==ut.OPEN?[3,3]:[4,this.getChannel(t.channelUrl,!0)]):[3,3];case 2:i=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t,vt;return A(this,function(Er){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())wn=Be.value,this._openChannelCache.isEnteredChannel(i.url)&&wn.onMessageReceived(i,t),r&&wn.onMentionReceived(i,t)}catch(Hn){_t={error:Hn}}finally{try{Be&&!Be.done&&(vt=Je.return)&&vt.call(Je)}finally{if(_t)throw _t.error}}return[2]})})}),cn.label=3;case 3:return[3,50];case 4:return o=null,n.code==="MEDI"?o=n.as(Em):n.code==="FEDI"?o=n.as(R3):n.code==="AEDI"&&(o=n.as(k5)),o?(d=o.message).channelType!==ut.OPEN?[3,6]:[4,this.getChannel(d.channelUrl,!0)]:[3,6];case 5:h=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t,vt;return A(this,function(Er){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())wn=Be.value,this._openChannelCache.isEnteredChannel(h.url)&&wn.onMessageUpdated(h,d)}catch(Hn){_t={error:Hn}}finally{try{Be&&!Be.done&&(vt=Je.return)&&vt.call(Je)}finally{if(_t)throw _t.error}}return[2]})})}),cn.label=6;case 6:return[3,50];case 7:return f=n.as(s5),P=f.channelUrl,w=f.channelType,m=f.messageId,w!==ut.OPEN?[3,9]:[4,this.getChannel(P,!0)];case 8:_=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t,vt;return A(this,function(Er){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())wn=Be.value,this._openChannelCache.isEnteredChannel(_.url)&&wn.onMessageDeleted(_,m)}catch(Hn){_t={error:Hn}}finally{try{Be&&!Be.done&&(vt=Je.return)&&vt.call(Je)}finally{if(_t)throw _t.error}}return[2]})})}),cn.label=9;case 9:return[3,50];case 10:return y=n.as(T5),P=y.channelUrl,w=y.channelType,C=y.event,w!==ut.OPEN?[3,12]:[4,this.getChannel(P,!0)];case 11:I=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t;return A(this,function(vt){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())Be.value.onReactionUpdated(I,C)}catch(Er){wn={error:Er}}finally{try{Be&&!Be.done&&(_t=Je.return)&&_t.call(Je)}finally{if(wn)throw wn.error}}return[2]})})}),cn.label=12;case 12:return[3,50];case 13:return(k=n.as(N5).event).channelType!==ut.OPEN?[3,15]:[4,this.getChannel(k.channelUrl,!0)];case 14:U=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t;return A(this,function(vt){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())Be.value.onThreadInfoUpdated(U,k)}catch(Er){wn={error:Er}}finally{try{Be&&!Be.done&&(_t=Je.return)&&_t.call(Je)}finally{if(wn)throw wn.error}}return[2]})})}),cn.label=15;case 15:return[3,50];case 16:T=n.as(S5).openChannelMemberCounts,N=[],cn.label=17;case 17:cn.trys.push([17,22,23,24]),H=ze(T),$=H.next(),cn.label=18;case 18:return $.done?[3,21]:(Q=$.value,P=Q.channelUrl,Ge=Q.participantCount,W=Q.updatedAt,[4,this.getChannelFromCache(P)]);case 19:(K=cn.sent())&&K._updateParticipantCount(Ge,W)&&N.push(K),cn.label=20;case 20:return $=H.next(),[3,18];case 21:return[3,24];case 22:return he=cn.sent(),ye={error:he},[3,24];case 23:try{$&&!$.done&&(Ie=H.return)&&Ie.call(H)}finally{if(ye)throw ye.error}return[7];case 24:return N.length>0?[4,this.upsertChannelsToCache(N)]:[3,26];case 25:cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){var Je,Be,wn,_t;return A(this,function(vt){try{for(Je=ze(this._openChannelHandlers.values()),Be=Je.next();!Be.done;Be=Je.next())Be.value.onChannelMemberCountChanged(N)}catch(Er){wn={error:Er}}finally{try{Be&&!Be.done&&(_t=Je.return)&&_t.call(Je)}finally{if(wn)throw wn.error}}return[2]})})}),cn.label=26;case 26:return[3,50];case 27:if(!(le=n.as(nc).event).isOpenChannelEvent)return[3,49];switch(le.category){case et.CHANNEL_ENTER:return[3,28];case et.CHANNEL_EXIT:return[3,30];case et.CHANNEL_OPERATOR_UPDATE:return[3,32];case et.USER_CHANNEL_MUTE:case et.USER_CHANNEL_UNMUTE:return[3,34];case et.USER_CHANNEL_BAN:case et.USER_CHANNEL_UNBAN:return[3,36];case et.CHANNEL_FREEZE:case et.CHANNEL_UNFREEZE:return[3,38];case et.CHANNEL_DELETED:return[3,40];case et.CHANNEL_PROP_CHANGED:return[3,43];case et.CHANNEL_META_DATA_CHANGED:return[3,45];case et.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(le.channelUrl,!0)];case 29:return Se=cn.sent(),Ce=n.as(R5),Ge=Ce.participantCount,re=Ce.user,pe=Se._updateParticipantCount(Ge,le.ts),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Be.onUserEntered(Se,re),pe&&Be.onChannelParticipantCountChanged(Se)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(le.channelUrl,!0)];case 31:return de=cn.sent(),De=n.as(M5),Ge=De.participantCount,ge=De.user,Ae=de._updateParticipantCount(Ge,le.ts),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Be.onUserExited(de,ge),Ae&&Be.onChannelParticipantCountChanged(de)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(le.channelUrl,!0)];case 33:return qe=cn.sent(),J=n.as(x5).operators,qe.operators=J,this.upsertChannelsToCache([qe]),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Be.onOperatorUpdated(qe,J)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(le.channelUrl,!0)];case 35:return X=cn.sent(),me=le.category===et.USER_CHANNEL_MUTE,Ye=n.as(me?n5:t5).user,en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){me?Be.onUserMuted(X,Ye):Be.onUserUnmuted(X,Ye)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(le.channelUrl,!0)];case 37:return $e=cn.sent(),Ne=le.category===et.USER_CHANNEL_BAN,xe=n.as(Ne?r5:i5).user,en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Ne?Be.onUserBanned($e,xe):Be.onUserUnbanned($e,xe)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(le.channelUrl,!0)];case 39:return He=cn.sent(),Xe=n.as(a5).freeze,He.isFrozen=Xe,this.upsertChannelsToCache([He]),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Xe?Be.onChannelFrozen(He):Be.onChannelUnfrozen(He)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(le.channelUrl,!0)];case 41:return gn=cn.sent(),[4,this.removeChannelsFromCache([gn.url])];case 42:return cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Be.onChannelDeleted(gn.url,gn.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(le.channelUrl,!0)];case 44:return kn=cn.sent(),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){Be.onChannelChanged(kn)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(le.channelUrl,!0)];case 46:return Nn=cn.sent(),On=n.as(ZM),tn=On.created,Un=On.updated,vn=On.deleted,tn&&Nn._upsertCachedMetaData(tn,le.ts),Un&&Nn._upsertCachedMetaData(Un,le.ts),vn&&Nn._removeFromCachedMetaData(vn,le.ts),en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){tn&&Be.onMetaDataCreated(Nn,tn),Un&&Be.onMetaDataUpdated(Nn,Un),vn&&Be.onMetaDataDeleted(Nn,vn)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(le.channelUrl,!0)];case 48:return ln=cn.sent(),z=n.as(e5),R=z.created,M=z.updated,V=z.deleted,en(function(){return O(Ke,void 0,void 0,function(){return A(this,function(Je){return this._openChannelHandlers.forEach(function(Be){R&&Be.onMetaCounterCreated(ln,R),M&&Be.onMetaCounterUpdated(ln,M),V&&Be.onMetaCounterDeleted(ln,V)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(oe=cn.sent(),us(oe))throw oe;return[3,52];case 52:return[2]}})})},e.prototype.addHandler=function(n,t){this._openChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._openChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._openChannelHandlers.clear()},e.prototype.getChannel=function(n,t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:Pe(Z("string",n)).throw(ue.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),O(this,void 0,void 0,function(){var r,i,o;return A(this,function(d){switch(d.label){case 0:return Pe(Z("string",n)).throw(ue.invalidParameters),r=new cie({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return i=d.sent(),o=i.as(D6).channel,[4,this.upsertChannelsToCache([o])];case 2:return d.sent(),[2,o]}})})},e.prototype.createChannel=function(n){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return n=ne(ne({},A5),n),Pe(function(d){return En("string",d.operatorUserIds,!0)&&(Z("string",d.coverUrlOrImage)||ei(d.coverUrlOrImage)||d.coverUrlOrImage===null)&&Z("string",d.name,!0)&&Z("string",d.data,!0)&&Z("string",d.customType,!0)&&(Z("string",d.channelUrl)&&/^\w+$/.test(d.channelUrl)||d.channelUrl===null)}(n)).throw(ue.invalidParameters),t=new die(n),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(D6).channel,this.upsertChannelsToCache([i]),[2,i]}})})},e}(),L6={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},fie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,d=t.limit;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(Zu,"/").concat(encodeURIComponent(i),"/participants"),r.params={token:o,limit:d},r}return j(n,e),n}(Oe),vie=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.participants=[];var o=r.next,d=r.participants;return i.token=o,i.participants=d.map(function(h){return new In(t,h)}),i}return j(n,e),n}(Ue),mie=function(e){function n(t,r,i){return e.call(this,t,r,ut.OPEN,i)||this}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new fie(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(vie),d=o.participants,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd),gie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.coverUrlOrImage,d=t.name,h=t.data,f=t.customType,m=t.operatorUserIds;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(Zu,"/").concat(encodeURIComponent(i)),r.params=_n({cover_url:Z("string",o)?o:null,cover_file:ei(o)?o:null,name:d,data:h,custom_type:f,operators:m}),r}return j(n,e),n}(Oe),_ie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new Dd(t,r),i}return j(n,e),n}(Ue),bie=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(Zu,"/").concat(encodeURIComponent(i)),r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var Dd=function(e){function n(t,r){var i,o=this;return(o=e.call(this,t,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=ut.OPEN,o.participantCount=(i=r.participant_count)!==null&&i!==void 0?i:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(d){return new In(t,d)}):[],o}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},RE.payloadify(t)),{participant_count:t.participantCount,operators:t.operators.map(function(r){return In.payloadify(r)})})):null},n.prototype.serialize=function(){return xf(this)},n.prototype.isOperator=function(t){return t instanceof In?this.isOperator(t.userId):this.operators.some(function(r){return r.userId===t})},n.prototype._updateParticipantCount=function(t,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=t,this._lastParticipantCountUpdated=r,!0)},n.prototype.createParticipantListQuery=function(t){return new mie(this._iid,this.url,t)},n.prototype.refresh=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,Cu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,t.sent()]}})})},n.prototype.enter=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid).requestQueue,r=new hie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=f.sent(),o=i.as(R5),d=o.participantCount,h=o.ts,this._updateParticipantCount(d,h),Cu.of(this._iid).setEnteredToCache(this),[2]}})})},n.prototype.exit=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid).requestQueue,r=new pie({channelUrl:this.url}),[4,t.send(r)];case 1:return i=f.sent(),o=i.as(M5),d=o.participantCount,h=o.ts,this._updateParticipantCount(d,h),Cu.of(this._iid).setExitedToCache(this),Ur.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},n.prototype.updateChannel=function(t){return O(this,void 0,void 0,function(){var r,i,o,d;return A(this,function(h){switch(h.label){case 0:return t=ne(ne({},L6),t),Pe(function(f){return En("string",f.operatorUserIds,!0)&&(Z("string",f.coverUrlOrImage)||ei(f.coverUrlOrImage)||f.coverUrlOrImage===null)&&Z("string",f.name,!0)&&Z("string",f.data,!0)&&Z("string",f.customType,!0)}(t)).throw(ue.invalidParameters),r=se.of(this._iid).requestQueue,i=new gie(ne({channelUrl:this.url},t)),[4,r.send(i)];case 1:return o=h.sent(),d=o.as(_ie).channel,[4,Cu.of(this._iid).upsertChannelsToCache([d])];case 2:return h.sent(),[2,d]}})})},n.prototype.updateChannelWithOperatorUserIds=function(t,r,i,o,d){return O(this,void 0,void 0,function(){var h;return A(this,function(f){return h=ne(ne({},L6),{name:t,coverUrlOrImage:r,data:i,operatorUserIds:o,customType:d}),[2,this.updateChannel(h)]})})},n.prototype.delete=function(){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=se.of(this._iid).requestQueue,r=new bie({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[4,Cu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return i.sent(),[2]}})})},n}(RE),yie=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return j(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserEntered=Tn,t.onUserExited=Tn,t.onChannelParticipantCountChanged=Tn,t}return j(n,e),n}(O5)),Eie=function(e){function n(t){var r=this,i=t.token,o=t.limit,d=t.nameKeyword,h=t.urlKeyword,f=t.customTypes,m=t.includeFrozen,_=t.includeMetaData;return(r=e.call(this)||this).method=ke.GET,r.path=Zu,r.params=_n({token:i,limit:o,name_contains:d,url_contains:h,custom_types:f,show_frozen:m,show_metadata:_}),r}return j(n,e),n}(Oe),wie=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,d=r.channels,h=r.ts;return i.token=o,d&&d.length>0&&(i.channels=d.map(function(f){return new Dd(t,f)})),i.ts=typeof h=="number"?h:null,i}return j(n,e),n}(Ue),Cie=function(e){function n(t,r){var i,o,d,h,f,m=this;return(m=e.call(this,t,r)||this).includeFrozen=!0,m.includeMetaData=!0,m.nameKeyword=null,m.urlKeyword=null,m.customTypes=null,m.includeFrozen=(i=r.includeFrozen)===null||i===void 0||i,m.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,m.nameKeyword=(d=r.nameKeyword)!==null&&d!==void 0?d:null,m.urlKeyword=(h=r.urlKeyword)!==null&&h!==void 0?h:null,m.customTypes=(f=r.customTypes)!==null&&f!==void 0?f:null,m}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("boolean",this.includeFrozen)&&Z("boolean",this.includeMetaData)&&Z("string",this.nameKeyword,!0)&&Z("string",this.urlKeyword,!0)&&En("string",this.customTypes,!0)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new Eie(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,3]:[3,6];case 1:return i=f.sent(),o=i.as(wie),d=o.channels,h=o.token,this._token=h,this._hasNext=!!h,[4,Cu.of(this._iid).upsertChannelsToCache(d)];case 2:return f.sent(),this._isLoading=!1,[2,d];case 3:return[2,[]];case 4:throw ue.queryInProgress;case 5:return[3,7];case 6:throw ue.invalidParameters;case 7:return[2]}})})},n}(Ro),xie=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="openChannel",t}return j(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,_=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:d,requestQueue:h,logger:f,onlineDetector:m,cacheContext:_}),this._manager=new Cu(t,{sdkState:i,dispatcher:o,requestQueue:h})},n.prototype.createOpenChannelListQuery=function(t){return t===void 0&&(t={}),new Cie(this._iid,t)},n.prototype.addOpenChannelHandler=function(t,r){this._manager.addHandler(t,r)},n.prototype.removeOpenChannelHandler=function(t){this._manager.removeHandler(t)},n.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildOpenChannelFromSerializedData=function(t){return this._manager.buildOpenChannelFromSerializedData(t)},n.prototype.getChannel=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.createChannel=function(t){return t===void 0&&(t={}),O(this,void 0,void 0,function(){return A(this,function(r){return[2,this._manager.createChannel(t)]})})},n.prototype.createChannelWithOperatorUserIds=function(t,r,i,o,d){return O(this,void 0,void 0,function(){var h;return A(this,function(f){return(h=ne({},A5)).name=t,h.coverUrlOrImage=r,h.data=i,h.operatorUserIds=o,h.customType=d,[2,this._manager.createChannel(h)]})})},n}(w3),lr;(function(e){e.NONE="none",e.JOINED="joined",e.INVITED="invited"})(lr||(lr={}));var Io,ea,sa,Hu,$s,xm,Nl,pf,hs=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.state=null,i.role=null,i.isMuted=!1,i.isBlockedByMe=!1,i.isBlockingMe=!1,i.state=yn(lr,r.state)?r.state:null,i.role=yn(qa,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(i.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(i.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(i.isBlockingMe=r.is_blocking_me),i}return j(n,e),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},n}(ec),D5=function(e){function n(t,r){var i,o,d=this;return(d=e.call(this,t)||this).channelUrl=(i=r.channel_url)!==null&&i!==void 0?i:"",d.channelType=(o=r.channel_type)!==null&&o!==void 0?o:ut.GROUP,d.reader=new In(d._iid,r.user),d.readAt=r.ts,d}return j(n,e),n}(gs);(function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"})(Io||(Io={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(ea||(ea={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(sa||(sa={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(Hu||(Hu={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}($s||($s={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(xm||(xm={})),function(e){e.AND="AND",e.OR="OR"}(Nl||(Nl={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(pf||(pf={}));var cr,U5=function(){function e(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.myMemberStateFilter=ea.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=sa.ALL,this.publicChannelFilter=Io.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Hu.ALL,this.hiddenChannelFilter=$s.UNHIDDEN,this.includeFrozen=!0}return e.prototype._isFriend=function(n){return!!n.friendDiscoveryKey||!!n.friendName},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(n,t){Array.isArray(n)&&n.length!==0&&typeof t=="string"&&t&&(this._searchFilter={query:t,fields:n})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(n,t,r){r===void 0&&(r=Nl.AND),this._userIdsFilter={userIds:n,includeMode:t,queryType:r}},e.prototype.clone=function(){var n=new e;this.searchFilter&&n.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&n.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n,t){if(this._searchFilter){var r=this._searchFilter,i=r.query,o=r.fields;if(i&&o&&o.length>0&&!o.some(function(w){switch(w){case pf.CHANNEL_NAME:return n.name.toLowerCase().includes(i.toLowerCase());case pf.MEMBER_NICKNAME:return n.members.some(function(C){return C.nickname.toLowerCase().includes(i.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var d=this._userIdsFilter,h=d.userIds,f=d.includeMode,m=d.queryType,_=n.members.map(function(w){return w.userId});if(f){if(h.length>0)switch(m){case Nl.AND:if(h.some(function(w){return!_.includes(w)}))return!1;break;case Nl.OR:if(h.every(function(w){return!_.includes(w)}))return!1}}else if(h.includes(t)||h.push(t),n.members.length>h.length||!zee(h,_))return!1}if(!this.includeEmpty&&!n.lastMessage||!this.includeFrozen&&n.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(n.customType)||this.channelNameContainsFilter&&!n.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var y=this.nicknameContainsFilter.toLowerCase();if(n.members.every(function(w){return!w.nickname.toLowerCase().includes(y)}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(n.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case ea.JOINED:if(n.myMemberState!=="joined")return!1;break;case ea.INVITED:if(n.myMemberState!=="invited")return!1;break;case ea.INVITED_BY_FRIEND:if(n.myMemberState!=="invited"||!this._isFriend(n.inviter))return!1;break;case ea.INVITED_BY_NON_FRIEND:if(n.myMemberState!=="invited"||this._isFriend(n.inviter))return!1;break;case ea.ALL:if(n.myMemberState==="none")return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case $s.UNHIDDEN:if(n.isHidden||n.hiddenState!=="unhidden")return!1;break;case $s.HIDDEN:if(!n.isHidden)return!1;break;case $s.HIDDEN_ALLOW_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case $s.HIDDEN_PREVENT_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Hu.UNREAD_MESSAGE&&n.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case Io.PUBLIC:if(!n.isPublic)return!1;break;case Io.PRIVATE:if(n.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case sa.SUPER:if(!n.isSuper)return!1;break;case sa.NON_SUPER:if(n.isSuper)return!1}return!0},e}(),Sie=function(e){function n(t,r){var i=r.sdkState,o=r.cacheContext,d=e.call(this,t)||this;return d._channels=new Map,d._sdkState=i,d._cacheContext=o,d}return j(n,e),Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection(u5):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t,r){return r===void 0&&(r=0),ne(ne({},t.serialize()),{lastMessageUpdatedAt:t.lastMessage?t.lastMessage.createdAt:0,syncIndex:r})},n.prototype._deserialize=function(t){return gr.of(this._iid).buildGroupChannelFromSerializedData(t)},Object.defineProperty(n.prototype,"channels",{get:function(){return pn([],fn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.isCachedInMemory=function(t){return this._channels.has(t)},n.prototype.get=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return this._channels.has(t)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(t)]:[3,2];case 1:if(r=o.sent())return i=this._deserialize(r),this._channels.set(t,i),[2,i];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(t)]}})})},n.prototype.fetch=function(t){var r=t.token,i=t.limit,o=i===void 0?l5:i,d=t.backward,h=d!==void 0&&d,f=t.filter,m=f===void 0?new U5:f,_=t.order,y=_===void 0?yr.LATEST_LAST_MESSAGE:_;return O(this,void 0,void 0,function(){var w,C,I,k,U=this;return A(this,function(T){switch(T.label){case 0:return this.localCacheEnabled?(w=Pv(y),C={where:function(N){if(r)switch(y){case yr.CHANNEL_NAME_ALPHABETICAL:if(!h&&N.name.localeCompare(r)<0||h&&N.name.localeCompare(r)>0)return!1;break;case yr.CHRONOLOGICAL:if(!h&&N.createdAt>r||h&&N.createdAt<r)return!1;break;case yr.LATEST_LAST_MESSAGE:if(!h&&N.lastMessageUpdatedAt>r||h&&N.lastMessageUpdatedAt<r)return!1}return m.match(U._deserialize(N),U._sdkState.userId)},index:w,backward:h},[4,this.collection.query(C)]):[3,3];case 1:return[4,T.sent().fetch({limit:o})];case 2:return I=T.sent(),(k=I.map(function(N){return U._deserialize(N)})).forEach(function(N){U._channels.has(N.url)||U._channels.set(N.url,N)}),[2,k];case 3:return[2,[]]}})})},n.prototype.upsert=function(t){return O(this,void 0,void 0,function(){var r,i,o=this;return A(this,function(d){switch(d.label){case 0:if(t.forEach(function(h){if(o._channels.has(h.url)){var f=o._channels.get(h.url);Object.assign(f,h,{_iid:o._iid})}else o._channels.set(h.url,h)}),!this.localCacheEnabled)return[3,2];for(i in r=[],t)r.push(this._serialize(t[i],parseInt(i)));return[4,this.collection.upsertMany(r)];case 1:d.sent(),d.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,7]),r=ze(t),i=r.next(),m.label=1;case 1:return i.done?[3,4]:(o=i.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:m.sent(),m.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return d=m.sent(),h={error:d},[3,7];case 6:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},n.prototype.clear=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMemoryCache=function(){this._channels.clear()},n.prototype._setBlockStateOfAllChannels=function(t,r,i){return O(this,void 0,void 0,function(){var o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$,Q,P,W;return A(this,function(K){switch(K.label){case 0:if(o=[],t===this._sdkState.userId)try{for(d=ze(this._channels.values()),h=d.next();!h.done;h=d.next()){w=h.value;try{for(N=void 0,f=ze(w.members),m=f.next();!m.done;m=f.next())if((k=m.value).userId===r){k.isBlockedByMe=i,o.push(w);break}}catch(he){N={error:he}}finally{try{m&&!m.done&&(H=f.return)&&H.call(f)}finally{if(N)throw N.error}}}}catch(he){U={error:he}}finally{try{h&&!h.done&&(T=d.return)&&T.call(d)}finally{if(U)throw U.error}}else if(r===this._sdkState.userId)try{for(_=ze(this._channels.values()),y=_.next();!y.done;y=_.next()){w=y.value;try{for(P=void 0,C=ze(w.members),I=C.next();!I.done;I=C.next())if((k=I.value).userId===t){k.isBlockingMe=i,o.push(w);break}}catch(he){P={error:he}}finally{try{I&&!I.done&&(W=C.return)&&W.call(C)}finally{if(P)throw P.error}}}}catch(he){$={error:he}}finally{try{y&&!y.done&&(Q=_.return)&&Q.call(_)}finally{if($)throw $.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})},n.prototype.block=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!0)];case 1:return i.sent(),[2]}})})},n.prototype.unblock=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!1)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(t,r){return r===void 0&&(r=pn([],fn(this._channels.keys()),!1)),O(this,void 0,void 0,function(){var i,o,d,h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:i=[],w.label=1;case 1:w.trys.push([1,6,7,8]),o=ze(r),d=o.next(),w.label=2;case 2:return d.done?[3,5]:(h=d.value,[4,this.get(h)]);case 3:(f=w.sent())._updateUnreadMemberState(this._sdkState.userId,t)&&(f._updateUnreadCount(0,0),i.push(f)),w.label=4;case 4:return d=o.next(),[3,2];case 5:return[3,8];case 6:return m=w.sent(),_={error:m},[3,8];case 7:try{d&&!d.done&&(y=o.return)&&y.call(o)}finally{if(_)throw _.error}return[7];case 8:return i.length>0?[4,this.upsert(i)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2]}})})},n}(gs),Hv={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},$E=function(e){return En("string",e.invitedUserIds,!0)&&Z("string",e.channelUrl,!0)&&Z("string",e.coverUrl,!0)&&(ei(e.coverImage)||Z("string",e.coverImage)||e.coverImage===null)&&Z("boolean",e.isDistinct,!0)&&Z("boolean",e.isSuper,!0)&&Z("boolean",e.isBroadcast,!0)&&Z("boolean",e.isExclusive,!0)&&Z("boolean",e.isPublic,!0)&&Z("boolean",e.isStrict,!0)&&Z("boolean",e.isDiscoverable,!0)&&Z("boolean",e.isEphemeral,!0)&&Z("string",e.accessCode,!0)&&Z("string",e.name,!0)&&Z("string",e.data,!0)&&Z("string",e.customType,!0)&&En("string",e.operatorUserIds,!0)&&Z("number",e.messageSurvivalSeconds,!0)},Sm={customTypes:null,includeEmpty:!1,includeFrozen:!0},FE=function(e){return En("string",e.customTypes,!0)&&Z("boolean",e.includeEmpty)&&Z("boolean",e.includeFrozen)},L5={myMemberStateFilter:ea.ALL},P5=function(e){return yn(ea,e.myMemberStateFilter)};(function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(cr||(cr={}));var bn,Iie={keys:[]},kie={channelCustomTypesFilter:null,superChannelFilter:sa.ALL},Tie={channelUrl:null,scheduledStatus:null,messageTypeFilter:Lr.ALL};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(bn||(bn={}));var P6=function(e){return e.startsWith("EVENT_")||e===bn.SYNC_CHANNEL_BACKGROUND||e===bn.SYNC_CHANNEL_CHANGELOGS},Yn=function(e){function n(t){var r=t.channels,i=t.source,o=e.call(this)||this;return o.channels=r,o.source=i,o}return j(n,e),n}(Sr),bp=function(e){function n(t){var r=t.channelUrls,i=t.source,o=e.call(this)||this;return o.channelUrls=r,o.source=i,o}return j(n,e),n}(Sr),Nie=function(){function e(n){var t=n.groupChannelCache,r=n.messageCache,i=n.unsentMessageCache,o=n.dispatcher,d=this;this._observers=new Map,o.on(function(h){return O(d,void 0,void 0,function(){var f,m,_,y,w=this;return A(this,function(C){switch(C.label){case 0:return h instanceof Yn?(f=h.channels,y=h.source,m=f.filter(function(I){return I instanceof xa}),[4,t.upsert(m)]):[3,2];case 1:return C.sent(),this._broadcastUpdateEvent(m,y),[3,7];case 2:return h instanceof bp?(_=h.channelUrls,y=h.source,[4,t.remove(_)]):[3,5];case 3:return C.sent(),[4,Ba(function(){return O(w,void 0,void 0,function(){var I,k,U,T,N,H;return A(this,function($){switch($.label){case 0:$.trys.push([0,6,7,8]),I=ze(_),k=I.next(),$.label=1;case 1:return k.done?[3,5]:(U=k.value,[4,r.removeMessagesOfChannel(U)]);case 2:return $.sent(),[4,i.removeMessagesOfChannel(U)];case 3:$.sent(),$.label=4;case 4:return k=I.next(),[3,1];case 5:return[3,8];case 6:return T=$.sent(),N={error:T},[3,8];case 7:try{k&&!k.done&&(H=I.return)&&H.call(I)}finally{if(N)throw N.error}return[7];case 8:return[2]}})})})];case 4:return C.sent(),this._broadcastRemoveEvent(_,y),[3,7];case 5:return h instanceof p5?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,7];case 6:C.sent(),C.label=7;case 7:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=ze(this._observers.values()),d=o.next();!d.done;d=o.next())d.value.onUpdate(n,t)}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=ze(this._observers.values()),d=o.next();!d.done;d=o.next())d.value.onRemove(n,t)}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),Oie=function(){function e(n){var t=n.messageCache,r=n.unsentMessageCache,i=n.dispatcher,o=n.logger,d=this;this._observers=new Map,this._logger=null,this._logger=o,i.on(function(h){return O(d,void 0,void 0,function(){var f,m,_,y,w,C,I=this;return A(this,function(k){switch(k.label){case 0:return h instanceof $t?(f=h.messages,C=h.source,m=f.filter(function(U){return U.messageId>0}),_=f.filter(function(U){return U.messageId===0}),m.length>0?[4,Ba(function(){return O(I,void 0,void 0,function(){return A(this,function(U){switch(U.label){case 0:return[4,t.upsert(m)];case 1:return U.sent(),[4,r.remove(m.map(function(T){return T instanceof mr?T.reqId:null}).filter(function(T){return T!==null}))];case 2:return U.sent(),[2]}})})})]:[3,2]):[3,5];case 1:k.sent(),this._broadcastUpdateEvent(m,C),k.label=2;case 2:return _.length>0?[4,Ba(function(){return O(I,void 0,void 0,function(){return A(this,function(U){switch(U.label){case 0:return[4,r.upsert(_)];case 1:return U.sent(),[2]}})})})]:[3,4];case 3:k.sent(),this._broadcastUpdateEvent(_,C),k.label=4;case 4:return[3,9];case 5:return h instanceof I3?(y=h.messageIds,C=h.source,[4,Ba(function(){return O(I,void 0,void 0,function(){return A(this,function(U){switch(U.label){case 0:return[4,t.remove(y)];case 1:return U.sent(),[2]}})})})]):[3,7];case 6:return k.sent(),this._broadcastRemoveEvent(y,C),[3,9];case 7:return h instanceof WM?(w=h.reqId,C=h.source,[4,Ba(function(){return O(I,void 0,void 0,function(){return A(this,function(U){switch(U.label){case 0:return[4,r.remove([w])];case 1:return U.sent(),[2]}})})})]):[3,9];case 8:k.sent(),this._broadcastRemoveUnsentEvent(w,C),k.label=9;case 9:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,i;try{for(var o=ze(this._observers.values()),d=o.next();!d.done;d=o.next())d.value.onUpdate(n,t)}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,i;try{for(var o=ze(this._observers.values()),d=o.next();!d.done;d=o.next())d.value.onRemove(n,t)}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveUnsentEvent=function(n,t){var r,i;try{for(var o=ze(this._observers.values()),d=o.next();!d.done;d=o.next())d.value.onRemoveUnsent(n,t)}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),Aie=function(e){function n(t){var r=t.userId,i=t.ts,o=t.token,d=t.filter,h=e.call(this)||this,f=ne(ne({},Sm),d),m=f.customTypes,_=f.includeEmpty,y=f.includeFrozen;return h.method=ke.GET,h.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),h.params=_n({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:i,token:o,custom_types:m,show_empty:_,show_frozen:y}),h}return j(n,e),n}(Oe),Rie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.updatedChannels=r.updated.map(function(o){return new xa(t,o)}),i.deletedChannelUrls=r.deleted,i.hasMore=r.has_more,i.token=r.next,i}return j(n,e),n}(Ue),$5=function(e){function n(t){var r=t.channelUrl,i=t.isInternalCall,o=e.call(this)||this;return o.method=ke.GET,o.path="".concat(i?dne:ai,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return j(n,e),n}(Oe),F5=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=null,i.channel=new xa(t,r),i}return j(n,e),n}(Ue),Mie=function(e){function n(t){var r=this,i=t.userId,o=t.token,d=t.limit,h=t.order,f=t.includeEmpty,m=t.myMemberStateFilter,_=t.superChannelFilter,y=t.publicChannelFilter,w=t.unreadChannelFilter,C=t.nicknameContainsFilter,I=t.channelNameContainsFilter,k=t.channelUrlsFilter,U=t.customTypesFilter,T=t.customTypeStartsWithFilter,N=t.hiddenChannelFilter,H=t.metadataOrderKeyFilter,$=t.metadataKey,Q=t.metadataValues,P=t.metadataValueStartsWith,W=t.includeFrozen,K=t.includeMetaData,he=t.searchFilter,le=t.userIdsFilter;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(Wn,"/").concat(encodeURIComponent(i),"/my_group_channels"),r.params=_n({token:o,limit:d,order:h,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:f,member_state_filter:m,super_mode:_,public_mode:y,unread_filter:w,members_nickname_contains:C,name_contains:I,channel_urls:k,custom_types:U,custom_type_startswith:T,hidden_mode:N,metadata_order_key:H,metadata_key:$,metadata_values:Q,metadata_value_startswith:P,show_frozen:W,show_metadata:K}),he&&he.query&&he.fields&&(r.params.search_query=he.query,r.params.search_fields=he.fields),le&&le.userIds&&le.userIds.length>0&&(le.includeMode?(r.params.members_include_in=le.userIds,r.params.query_type=le.queryType.toUpperCase()):r.params.members_exactly_in=le.userIds),r}return j(n,e),n}(Oe),Die=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,d=r.channels,h=r.ts;return i.token=o,d&&d.length>0&&(i.channels=d.map(function(f){return f.ts=h,new xa(t,f)})),i.ts=h!=null?h:null,i}return j(n,e),n}(Ue),Uie=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,d=i.myMemberStateFilter;return o.method=ke.GET,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:d!=null?d:ea.ALL},o}return j(n,e),n}(Oe),Lie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.groupChannelCount=r.group_channel_count,i}return j(n,e),n}(Ue),Pie=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,d=i.keys;return o.method=ke.GET,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:d},o}return j(n,e),n}(Oe),$ie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return typeof r[cr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(i.groupChannelUnreadMentionCount=r[cr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[cr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(i.groupChannelUnreadMessageCount=r[cr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[cr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(i.groupChannelInvitationCount=r[cr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[cr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(i.superGroupChannelUnreadMentionCount=r[cr.SUPER_UNREAD_MENTION_COUNT]),typeof r[cr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.superGroupChannelUnreadMessageCount=r[cr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[cr.SUPER_INVITATION_COUNT]=="number"&&(i.superGroupChannelInvitationCount=r[cr.SUPER_INVITATION_COUNT]),typeof r[cr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMentionCount=r[cr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[cr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(i.nonSuperGroupChannelUnreadMessageCount=r[cr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[cr.NONSUPER_INVITATION_COUNT]=="number"&&(i.nonSuperGroupChannelInvitationCount=r[cr.NONSUPER_INVITATION_COUNT]),i}return j(n,e),n}(Ue),Fie=function(e){function n(t){var r=t.userId,i=e.call(this)||this;return i.method=ke.GET,i.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/unread_channel_count"),i}return j(n,e),n}(Oe),Hie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return j(n,e),n}(Ue),qie=function(e){function n(t){var r=t.userId,i=t.filter,o=e.call(this)||this,d=i.channelCustomTypesFilter,h=i.superChannelFilter;return o.method=ke.GET,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:h!=null?h:sa.ALL,custom_types:d},o}return j(n,e),n}(Oe),Bie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.unreadCount=r.unread_count,i}return j(n,e),n}(Ue),Gie=function(e){function n(t){var r=t.channelUrl,i=t.scheduledStatus,o=t.messageTypeFilter,d=e.call(this)||this;return d.method=ke.GET,d.path="".concat(HM,"/count"),d.params={channel_url:r,status:zie(i)},o&&(d.params.message_type=o),d}return j(n,e),n}(Oe),jie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.count=r.count,i}return j(n,e),n}(Ue),zie=function(e){if(e){var n=[];e.forEach(function(t){switch(t){case vl.PENDING:n.push(Zi.PENDING);break;case vl.SENT:n.push(Zi.IN_QUEUE),n.push(Zi.SENT);break;case vl.CANCELED:n.push(Zi.CANCELED);break;case vl.FAILED:n.push(Zi.FAILED)}})}},Vie=function(e){function n(t){var r=this,i=t.userId,o=t.channelUrl,d=t.coverUrl,h=t.coverImage,f=t.isDistinct,m=t.isSuper,_=t.isBroadcast,y=t.isPublic,w=t.isExclusive,C=t.isDiscoverable,I=t.isStrict,k=t.isEphemeral,U=t.accessCode,T=t.name,N=t.data,H=t.customType,$=t.messageSurvivalSeconds,Q=t.invitedUserIds,P=t.operatorUserIds;return(r=e.call(this)||this).method=ke.POST,r.path=ai,r.params=_n({user_ids:pn([i],fn(Q!=null?Q:[]),!1).filter(function(W,K,he){return K===he.indexOf(W)}),channel_url:o,cover_url:d,cover_file:h,is_distinct:f,is_super:m,is_broadcast:_,is_exclusive:w,is_public:y,is_discoverable:C,strict:I,is_ephemeral:k,access_code:U,name:T,data:N,custom_type:H,operator_ids:P,message_survival_seconds:$}),r}return j(n,e),n}(Oe),Kie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i.isCreated=r.is_created,i}return j(n,e),n}(Ue),$6=function(e){function n(t){var r=t.userId,i=t.channelUrls,o=e.call(this)||this;return o.method=ke.PUT,o.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:i},o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var Wie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,d=t.accessCode;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/join"),r.params={user_id:o,access_code:d},r}return j(n,e),n}(Oe),Qie=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i}return j(n,e),n}(Ue),Yie=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,d=i.data,h=d.member_count,f=h===void 0?null:h,m=d.joined_member_count,_=m===void 0?null:m,y=d.users,w=y===void 0?null:y;return o.memberCount=f,o.joinedMemberCount=_,o.members=Array.isArray(w)?w.map(function(C){return new hs(t,C)}):[new hs(t,i.data)],o}return j(n,e),n}(nc),Xie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,d=t.shouldRemoveOperatorStatus;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/leave"),r.params={user_id:o,should_remove_operator_status:d},r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var Jie=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,d=i.data,h=d.member_count,f=h===void 0?null:h,m=d.joined_member_count,_=m===void 0?null:m;return o.memberCount=f,o.joinedMemberCount=_,o.member=new hs(o._iid,i.data),o}return j(n,e),n}(nc),Zie=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userIds;return(r=e.call(this)||this).method=ke.POST,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/invite"),r.params={user_ids:o},r}return j(n,e),n}(Oe),eae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i}return j(n,e),n}(Ue),nae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,d=i.data,h=d.member_count,f=h===void 0?null:h,m=d.joined_member_count,_=m===void 0?null:m,y=d.inviter,w=y===void 0?null:y,C=d.invitees,I=C===void 0?[]:C;return o.memberCount=f,o.joinedMemberCount=_,o.inviter=w?new In(t,w):null,o.invitees=I.map(function(k){return new hs(t,k)}),o}return j(n,e),n}(nc),tae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/decline"),r.params={user_id:o},r}return j(n,e),n}(Oe),rae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i.channel.myMemberState=lr.NONE,i}return j(n,e),n}(Ue),iae=function(e){function n(t,r,i){var o=e.call(this,t,r,i)||this,d=i.data,h=d.member_count,f=h===void 0?null:h,m=d.joined_member_count,_=m===void 0?null:m,y=d.inviter,w=y===void 0?null:y,C=d.invitee,I=C===void 0?null:C;return o.memberCount=f,o.joinedMemberCount=_,o.inviter=w?new In(t,w):null,o.invitee=I?new hs(t,I):null,o}return j(n,e),n}(nc),aae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return j(n,e),n}(oa),H5=function(e){function n(t,r,i){var o=e.call(this,t,"READ",i)||this;return o.readStatus=new D5(t,i),o}return j(n,e),n}(gt),sae=function(e){function n(t){var r=t.channelUrl,i=t.userId,o=e.call(this)||this;return(o=e.call(this)||this).method=ke.PUT,o.path="".concat(ai,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=_n({userId:i}),o}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var uo,oae=function(e){function n(t,r,i){var o=e.call(this,t,"DLVR",i)||this;return o.channelUrl=i.channel_url,o.deliveredStateUpdate=i.updated,o}return j(n,e),n}(gt),lae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,d=t.hidePreviousMessages,h=t.allowAutoUnhide;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/hide"),r.params={user_id:o,hide_previous_messages:d,allow_auto_unhide:h},r}return j(n,e),n}(Oe),uae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return j(n,e),n}(Ue),cae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,i.data&&(o.allowAutoUnhide=i.data.allow_auto_unhide,o.hidePreviousMessages=i.data.hide_previous_messages),o.messageOffsetTimestamp=i.ts_message_offset,o}return j(n,e),n}(gt),dae=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return j(n,e),n}(oa),hae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new In(t,i.data),o}return j(n,e),n}(gt),pae=function(e){function n(t){var r=t.channelUrl,i=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:i}})||this}return j(n,e),n}(oa),fae=function(e){function n(t,r,i){var o=e.call(this,t,"SYEV",i)||this;return o.user=new In(t,i.data),o}return j(n,e),n}(gt),vae=function(e){function n(t){var r=t.channelUrl,i=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:i}})||this}return j(n,e),n}(oa),q5=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$,Q,P,W,K=this;return(K=e.call(this,t,r)||this).includeEmpty=!1,K.includeFrozen=!0,K.includeMetaData=!0,K.channelUrlsFilter=null,K.customTypesFilter=null,K.customTypeStartsWithFilter=null,K.nicknameContainsFilter="",K.channelNameContainsFilter="",K.myMemberStateFilter=ea.ALL,K.unreadChannelFilter=Hu.ALL,K.superChannelFilter=sa.ALL,K.publicChannelFilter=Io.ALL,K.hiddenChannelFilter=$s.UNHIDDEN,K.searchFilter={fields:[],query:null},K.userIdsFilter={userIds:[],includeMode:!0,queryType:Nl.AND},K.metadataKey=null,K.metadataValues=null,K.metadataOrderKeyFilter=null,K.metadataValueStartsWith=null,K.order=yr.LATEST_LAST_MESSAGE,K.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,K.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,K.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,K.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,K.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,K.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:"",K.nicknameContainsFilter=(_=r.nicknameContainsFilter)!==null&&_!==void 0?_:"",K.channelNameContainsFilter=(y=r.channelNameContainsFilter)!==null&&y!==void 0?y:"",K.myMemberStateFilter=(w=r.myMemberStateFilter)!==null&&w!==void 0?w:ea.ALL,K.unreadChannelFilter=(C=r.unreadChannelFilter)!==null&&C!==void 0?C:Hu.ALL,K.superChannelFilter=(I=r.superChannelFilter)!==null&&I!==void 0?I:sa.ALL,K.publicChannelFilter=(k=r.publicChannelFilter)!==null&&k!==void 0?k:Io.ALL,K.hiddenChannelFilter=(U=r.hiddenChannelFilter)!==null&&U!==void 0?U:$s.UNHIDDEN,K.searchFilter=(T=r.searchFilter)!==null&&T!==void 0?T:{fields:[],query:null},K.userIdsFilter=(N=r.userIdsFilter)!==null&&N!==void 0?N:{userIds:[],includeMode:!0,queryType:Nl.AND},K.metadataKey=(H=r.metadataKey)!==null&&H!==void 0?H:null,K.metadataValues=($=r.metadataValues)!==null&&$!==void 0?$:null,K.metadataOrderKeyFilter=(Q=r.metadataOrderKeyFilter)!==null&&Q!==void 0?Q:null,K.metadataValueStartsWith=(P=r.metadataValueStartsWith)!==null&&P!==void 0?P:null,K.order=(W=r.order)!==null&&W!==void 0?W:yr.LATEST_LAST_MESSAGE,K}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("boolean",this.includeEmpty)&&Z("boolean",this.includeFrozen)&&Z("boolean",this.includeMetaData)&&Z("string",this.channelNameContainsFilter)&&En("string",this.channelUrlsFilter,!0)&&En("string",this.customTypesFilter,!0)&&Z("string",this.customTypeStartsWithFilter)&&Z("string",this.nicknameContainsFilter)&&yn(ea,this.myMemberStateFilter)&&yn(sa,this.superChannelFilter)&&yn(Io,this.publicChannelFilter)&&yn(Hu,this.unreadChannelFilter)&&yn($s,this.hiddenChannelFilter)&&En(pf,this.searchFilter.fields)&&Z("string",this.searchFilter.query,!0)&&En("string",this.userIdsFilter.userIds)&&Z("boolean",this.userIdsFilter.includeMode)&&yn(Nl,this.userIdsFilter.queryType)&&yn(yr,this.order)&&Z("string",this.metadataOrderKeyFilter,!0)&&Z("string",this.metadataKey,!0)&&En("string",this.metadataValues,!0)&&Z("string",this.metadataValueStartsWith,!0)},n.prototype.serialize=function(){return xf(this)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,gr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return t=o.sent(),r=t.channels,i=t.token,this._token=i,this._hasNext=!!i,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),ff=function(){function e(n){var t=n.top,r=t===void 0?Number.MAX_SAFE_INTEGER:t,i=n.bottom,o=i===void 0?0:i;this.top=r,this.bottom=o}return e.prototype.includes=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.every(function(i){return n.top<=i&&i<=n.bottom})},e.prototype.overlap=function(n){return this.includes(n.top)||this.includes(n.bottom)},e.prototype.extends=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.top=Math.min.apply(Math,pn([this.top],fn(n),!1)),this.bottom=Math.max.apply(Math,pn([this.bottom],fn(n),!1))},e}(),F6={},gr=function(){function e(n,t){var r=t.sdkState,i=t.cacheContext,o=t.dispatcher,d=t.sessionManager,h=t.requestQueue,f=t.logger,m=this;this._leftChannels=new Map,this._markAsReadAllLastSentAt=0,this._iid=n,this._sdkState=r,this._sessionManager=d,this._requestQueue=h,this._dispatcher=o,this._logger=f,this._groupChannelHandlers=new Map,this._groupChannelCache=new Sie(this._iid,{sdkState:r,cacheContext:i}),this._unsentMessageCache=new M3(this._iid,{sdkState:r,cacheContext:i}),this._messageCache=new d5(this._iid,{sdkState:r,cacheContext:i,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new Nie({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new Oie({messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:f}),setInterval(function(){var _,y,w=function(k){k.invalidateTypingStatus()&&(m._dispatcher.dispatch(new Yn({channels:[k],source:bn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),m._groupChannelHandlers.forEach(function(U){U.onTypingStatusUpdated(k)}))};try{for(var C=ze(m._groupChannelCache.channels),I=C.next();!I.done;I=C.next())w(I.value)}catch(k){_={error:k}}finally{try{I&&!I.done&&(y=C.return)&&y.call(C)}finally{if(_)throw _.error}}},1e3),this._dispatcher.on(function(_){_ instanceof gt?m._handleEvent(_):_ instanceof h5&&O(m,void 0,void 0,function(){var y,w;return A(this,function(C){switch(C.label){case 0:return y=_.message,[4,this.getChannel(y.channelUrl,!0)];case 1:return w=C.sent(),y instanceof Cr?w._autoResendUserMessage(y):y instanceof br&&w._autoResendFileMessage(y),[2]}})})}),F6[n]=this}return e.of=function(n){return F6[n]},Object.defineProperty(e.prototype,"handlers",{get:function(){return pn([],fn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.buildGroupChannelFromSerializedData=function(n){var t=Pu(n);return new xa(this._iid,xa.payloadify(t))},e.prototype.buildGroupChannelListQueryFromSerializedData=function(n){var t=Pu(n);return new q5(this._iid,t)},e.prototype.buildMemberFromSerializedData=function(n){var t=Pu(n);return new hs(this._iid,hs.payloadify(t))},e.prototype.getChannelFromCache=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getChannelsFromCache=function(n,t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this._groupChannelCache.fetch({token:n,filter:t,order:r})];case 1:return[2,i.sent()]}})})},e.prototype._handleEvent=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$,Q,P,W,K,he,le,Se,Ce,re,pe,de,De,Ge,ge,Ae,qe,J,X,me,Ye,$e,Ne,xe,He,Xe,gn,kn,Nn,On,tn,Un,vn,ln,z,R,M,V,oe,ye,Ie,Ke,cn,Je,Be,wn,_t,vt,Er,Hn,Ya,Mf,ic,la,Jd,Df,Uo,ys,ac,Es,Lo,er,sc,Zd,Xa,Bl,kt,Gl,Po,oc,ws,lc,eh,uc,nh,jl,cc,th,Ks,Fi,zl,Vl,Kl,Ir,dc,rh,ih,ah,Wl,Tt,Ql,hc,pc,Ta,sh,$o,fc,vc,mc,oh,gc,lh,Ci,Yl,Zn=this;return A(this,function($n){switch($n.label){case 0:switch($n.trys.push([0,72,,73]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"SYEV":return[3,32];case"USEV":return[3,70]}return[3,71];case 1:return m=null,n.code==="MESG"?m=n.as(A3):n.code==="FILE"?m=n.as(S3):n.code!=="ADMM"&&n.code!="BRDM"||(m=n.as(I5)),m?(t=m.message,r=m.isMentioned,i=m.forceUpdateLastMessage,t.channelType!==ut.GROUP?[3,3]:(Ba(function(){return O(Zn,void 0,void 0,function(){var Te;return A(this,function(Ee){return Te=new vae(t),this._requestQueue.send(Te),[2]})})}),K=this._groupChannelCache.isCachedInMemory(t.channelUrl),C=t instanceof mr&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((o=$n.sent()).hiddenState=Xi.UNHIDDEN,t instanceof mr){d=se.of(this._iid).useMemberInfoInMessage;try{for(h=ze(o.members),f=h.next();!f.done;f=h.next())if((er=f.value).userId===t.sender.userId){d?(t.sender.nickname=er.nickname,t.sender.plainProfileUrl=er.plainProfileUrl,t.sender.metaData=er.metaData,t.sender.isBlockedByMe=er.isBlockedByMe):(er.nickname=t.sender.nickname,er.plainProfileUrl=t.sender.plainProfileUrl,er.metaData=t.sender.metaData,er.isBlockedByMe=t.sender.isBlockedByMe);break}}catch(Te){sh={error:Te}}finally{try{f&&!f.done&&($o=h.return)&&$o.call(h)}finally{if(sh)throw sh.error}}d&&r&&t.mentionedUsers.forEach(function(Te){var Ee,Cn;try{for(var An=ze(o.members),Nt=An.next();!Nt.done;Nt=An.next()){var ot=Nt.value;if(Te.userId===ot.userId){Te.nickname=ot.nickname,Te.plainProfileUrl=ot.plainProfileUrl,Te.metaData=ot.metaData;break}}}catch(Cs){Ee={error:Cs}}finally{try{Nt&&!Nt.done&&(Cn=An.return)&&Cn.call(An)}finally{if(Ee)throw Ee.error}}}),C&&(k=this._sessionManager.currentUser)&&(k.nickname=t.sender.nickname,k.plainProfileUrl=t.sender.plainProfileUrl,k.metaData=t.sender.metaData)}t.silent&&!C||(o.isEphemeral||K)&&((!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),C||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),i&&(!o.lastMessage||o.lastMessage.createdAt<t.createdAt)&&(o.lastMessage=t),this._dispatcher.dispatch(new Yn({channels:[o],source:bn.EVENT_MESSAGE_RECEIVED})),t.silent&&!C||en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onChannelChanged(o)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})}),this._dispatcher.dispatch(new $t({messages:[t],source:mn.EVENT_MESSAGE_RECEIVED})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An,Nt;return A(this,function(ot){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())(Cn=Ee.value).onMessageReceived(o,t),r&&Cn.onMentionReceived(o,t)}catch(Cs){An={error:Cs}}finally{try{Ee&&!Ee.done&&(Nt=Te.return)&&Nt.call(Te)}finally{if(An)throw An.error}}return[2]})})}),$n.label=3;case 3:return[3,71];case 4:return m=null,n.code==="MEDI"?m=n.as(Em):n.code==="FEDI"?m=n.as(R3):n.code==="AEDI"&&(m=n.as(k5)),m?(_=m.message,y=m.mentionCountChange,_.channelType!==ut.GROUP?[3,6]:(K=this._groupChannelCache.isCachedInMemory(_.channelUrl),[4,this.getChannel(_.channelUrl,!0)])):[3,6];case 5:w=$n.sent(),C=_ instanceof mr&&_.sender.userId===this._sdkState.userId,I=!1,C?(k=this._sessionManager.currentUser)&&(k.nickname=_.sender.nickname,k.plainProfileUrl=_.sender.plainProfileUrl,k.metaData=_.sender.metaData):w.isReadMessage(_)&&y!==0&&!_.silent&&K&&(w._updateUnreadCount(w.unreadMessageCount,w.unreadMentionCount+y),I=!0),!w.lastMessage||w.lastMessage.createdAt<_.createdAt?(w.lastMessage=_,I=!0):w.lastMessage.isIdentical(_)&&(K?w.lastMessage.updatedAt<_.updatedAt&&(w.lastMessage=_,I=!0):I=!0),I&&(this._dispatcher.dispatch(new Yn({channels:[w],source:bn.EVENT_MESSAGE_UPDATED})),_.silent&&!C||en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onChannelChanged(w)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})})),this._dispatcher.dispatch(new $t({messages:[_],source:mn.EVENT_MESSAGE_UPDATED})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An,Nt;return A(this,function(ot){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())(Cn=Ee.value).onMessageUpdated(w,_),y!==0&&Cn.onMentionReceived(w,_)}catch(Cs){An={error:Cs}}finally{try{Ee&&!Ee.done&&(Nt=Te.return)&&Nt.call(Te)}finally{if(An)throw An.error}}return[2]})})}),$n.label=6;case 6:return[3,71];case 7:return U=n.as(s5),me=U.channelUrl,Ce=U.channelType,T=U.messageId,Ce!==ut.GROUP?[3,9]:[4,this.getChannel(me,!0)];case 8:N=$n.sent(),this._dispatcher.dispatch(new I3({messageIds:[T],source:mn.EVENT_MESSAGE_DELETED})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onMessageDeleted(N,T)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})}),$n.label=9;case 9:return[3,71];case 10:return(H=n.as(H5).readStatus).channelType!==ut.GROUP?[3,12]:(K=this._groupChannelCache.isCachedInMemory(H.channelUrl),[4,this.getChannel(H.channelUrl,!0)]);case 11:$=$n.sent(),K&&$._updateUnreadMemberState(H.reader.userId,H.readAt),H.reader.userId===this._sdkState.userId?K?($.unreadMessageCount>0||$.unreadMentionCount>0)&&($._updateUnreadCount(0,0),this._dispatcher.dispatch(new Yn({channels:[$],source:bn.EVENT_CHANNEL_READ})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onChannelChanged($)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})})):$.unreadMessageCount!==0&&$.unreadMentionCount!==0||(this._dispatcher.dispatch(new Yn({channels:[$],source:bn.EVENT_CHANNEL_READ})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onChannelChanged($)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})})):(this._dispatcher.dispatch(new Yn({channels:[$],source:bn.EVENT_CHANNEL_READ})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onUnreadMemberStatusUpdated($)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})})),$n.label=12;case 12:return[3,71];case 13:return Q=n.as(oae),me=Q.channelUrl,P=Q.deliveredStateUpdate,W=P===void 0?{}:P,K=this._groupChannelCache.isCachedInMemory(me),[4,this.getChannel(me,!0)];case 14:if(he=$n.sent(),K)for(le in W)he._updateUndeliveredMemberState(le,W[le]);return this._dispatcher.dispatch(new Yn({channels:[he],source:bn.EVENT_CHANNEL_DELIVERED})),Object.keys(W).some(function(Te){return Te!==Zn._sdkState.userId})&&en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onUndeliveredMemberStatusUpdated(he)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})}),[3,71];case 15:return Se=n.as(T5),me=Se.channelUrl,Ce=Se.channelType,re=Se.event,Ce!==ut.GROUP?[3,18]:[4,this.getChannel(me,!0)];case 16:return pe=$n.sent(),[4,this.getMessageFromCache(re.messageId)];case 17:(Ge=$n.sent())&&(Ge.applyReactionEvent(re),this._dispatcher.dispatch(new $t({messages:[Ge],source:mn.EVENT_MESSAGE_REACTION_UPDATED}))),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onReactionUpdated(pe,re)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})}),$n.label=18;case 18:return[3,71];case 19:return(de=n.as(N5).event).channelType!==ut.GROUP?[3,22]:[4,this.getChannel(de.channelUrl,!0)];case 20:return De=$n.sent(),[4,this.getMessageFromCache(de.targetMessageId)];case 21:(Ge=$n.sent())&&(Ge.applyThreadInfoUpdateEvent(de),this._dispatcher.dispatch(new $t({messages:[Ge],source:mn.EVENT_MESSAGE_THREADINFO_UPDATED}))),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onThreadInfoUpdated(De,de)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})}),$n.label=22;case 22:return[3,71];case 23:ge=n.as(S5).groupChannelMemberCounts,Ae=[],$n.label=24;case 24:$n.trys.push([24,29,30,31]),qe=ze(ge),J=qe.next(),$n.label=25;case 25:return J.done?[3,28]:(X=J.value,me=X.channelUrl,Hn=X.memberCount,Ya=X.joinedMemberCount,Ye=X.updatedAt,[4,this.getChannelFromCache(me)]);case 26:($e=$n.sent())&&$e._setLatestMemberCount(Hn,Ya,Ye)&&Ae.push($e),$n.label=27;case 27:return J=qe.next(),[3,25];case 28:return[3,31];case 29:return Ne=$n.sent(),fc={error:Ne},[3,31];case 30:try{J&&!J.done&&(vc=qe.return)&&vc.call(qe)}finally{if(fc)throw fc.error}return[7];case 31:return Ae.length>0&&(this._dispatcher.dispatch(new Yn({channels:Ae,source:bn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),en(function(){return O(Zn,void 0,void 0,function(){var Te,Ee,Cn,An;return A(this,function(Nt){try{for(Te=ze(this._groupChannelHandlers.values()),Ee=Te.next();!Ee.done;Ee=Te.next())Ee.value.onChannelMemberCountChanged(Ae)}catch(ot){Cn={error:ot}}finally{try{Ee&&!Ee.done&&(An=Te.return)&&An.call(Te)}finally{if(Cn)throw Cn.error}}return[2]})})})),[3,71];case 32:if(!(xe=n.as(nc).event).isGroupChannelEvent)return[3,69];switch(xe.category){case et.CHANNEL_JOIN:return[3,33];case et.CHANNEL_LEAVE:return[3,35];case et.CHANNEL_OPERATOR_UPDATE:return[3,39];case et.CHANNEL_INVITE:return[3,41];case et.CHANNEL_DECLINE_INVITE:return[3,43];case et.TYPING_START:case et.TYPING_END:return[3,45];case et.USER_CHANNEL_MUTE:case et.USER_CHANNEL_UNMUTE:return[3,47];case et.USER_CHANNEL_BAN:return[3,49];case et.USER_CHANNEL_UNBAN:return[3,53];case et.CHANNEL_FREEZE:case et.CHANNEL_UNFREEZE:return[3,55];case et.CHANNEL_HIDE:return[3,57];case et.CHANNEL_UNHIDE:return[3,59];case et.CHANNEL_DELETED:return[3,61];case et.CHANNEL_PROP_CHANGED:return[3,63];case et.CHANNEL_META_DATA_CHANGED:return[3,65];case et.CHANNEL_META_COUNTERS_CHANGED:return[3,67]}return[3,69];case 33:return[4,this.getChannel(xe.channelUrl,!0)];case 34:return He=$n.sent(),Xe=n.as(Yie),gn=Xe.memberCount,kn=Xe.joinedMemberCount,Nn=Xe.members,On=!1,Nn.forEach(function(Te){He.isExclusive||He.isSuper||He.isBroadcast?On=On||He._setLatestMemberCount(gn,kn,xe.ts):(Te.state=lr.JOINED,He.addMember(Te,xe.ts),Zn._updateJoinedMemberCount(He)),Te.userId===Zn._sdkState.userId&&(He.myMemberState=lr.JOINED)}),this._dispatcher.dispatch(new Yn({channels:[He],source:bn.EVENT_CHANNEL_JOINED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){var Cn,An;try{for(var Nt=ze(Nn),ot=Nt.next();!ot.done;ot=Nt.next()){var Cs=ot.value;Ee.onUserJoined(He,Cs)}}catch(wg){Cn={error:wg}}finally{try{ot&&!ot.done&&(An=Nt.return)&&An.call(Nt)}finally{if(Cn)throw Cn.error}}He.isBroadcast&&On&&Ee.onChannelMemberCountChanged([He])}),[2]})})}),[3,69];case 35:return(sc=this._leftChannels.get(xe.channelUrl))?(Un=sc.channel,[3,38]):[3,36];case 36:return[4,this.getChannel(xe.channelUrl,!0)];case 37:Un=$n.sent(),$n.label=38;case 38:return tn=Un,vn=n.as(Jie),Hn=vn.memberCount,Ya=vn.joinedMemberCount,ln=vn.member,z=!1,tn.isExclusive||tn.isSuper||tn.isBroadcast?z=tn._setLatestMemberCount(Hn,Ya,xe.ts):(tn.removeMember(ln),this._updateJoinedMemberCount(tn)),ln.userId===this._sdkState.userId?tn.isPublic?(tn.myMemberState=lr.NONE,tn.invitedAt=0,tn.joinedAt=0,tn._updateUnreadCount(0,0),this._dispatcher.dispatch(new Yn({channels:[tn],source:bn.EVENT_CHANNEL_LEFT}))):(this._markAsLeave(tn),this._dispatcher.dispatch(new bp({channelUrls:[tn.url],source:bn.EVENT_CHANNEL_LEFT}))):this._dispatcher.dispatch(new Yn({channels:[tn],source:bn.EVENT_CHANNEL_LEFT})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onUserLeft(tn,ln),tn.isBroadcast&&z&&Ee.onChannelMemberCountChanged([tn])}),[2]})})}),[3,69];case 39:return[4,this.getChannel(xe.channelUrl,!0)];case 40:R=$n.sent(),M=n.as(x5).operators,V=M.map(function(Te){return Te.userId});try{for(oe=ze(R.members),ye=oe.next();!ye.done;ye=oe.next())(er=ye.value).role=V.includes(er.userId)?qa.OPERATOR:qa.NONE}catch(Te){mc={error:Te}}finally{try{ye&&!ye.done&&(oh=oe.return)&&oh.call(oe)}finally{if(mc)throw mc.error}}return R.myRole=V.includes(this._sdkState.userId)?qa.OPERATOR:qa.NONE,this._dispatcher.dispatch(new Yn({channels:[R],source:bn.EVENT_CHANNEL_OPERATOR_UPDATED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onOperatorUpdated(R,M)}),[2]})})}),[3,69];case 41:return[4,this.getChannel(xe.channelUrl,!0)];case 42:Ie=$n.sent(),Ke=n.as(nae),Hn=Ke.memberCount,Ya=Ke.joinedMemberCount,cn=Ke.inviter,(Je=Ke.invitees).forEach(function(Te){return Te.state=lr.INVITED});try{for(Be=ze(Je),wn=Be.next();!wn.done;wn=Be.next())_t=wn.value,Ie.isExclusive||Ie.isSuper||Ie.isBroadcast?Ie._setLatestMemberCount(Hn,Ya,xe.ts):Ie.addMember(_t,xe.ts),this._sdkState.userId===_t.userId&&(Ie.hiddenState=Xi.UNHIDDEN,Ie.myMemberState!==lr.JOINED&&(Ie.myMemberState=lr.INVITED),Ie.invitedAt=xe.ts)}catch(Te){gc={error:Te}}finally{try{wn&&!wn.done&&(lh=Be.return)&&lh.call(Be)}finally{if(gc)throw gc.error}}return this._dispatcher.dispatch(new Yn({channels:[Ie],source:bn.EVENT_CHANNEL_INVITED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onUserReceivedInvitation(Ie,cn,Je)}),[2]})})}),[3,69];case 43:return[4,this.getChannel(xe.channelUrl,!0)];case 44:return vt=$n.sent(),Er=n.as(iae),Hn=Er.memberCount,Ya=Er.joinedMemberCount,Mf=Er.inviter,ic=Er.invitee,vt.isExclusive||vt.isSuper||vt.isBroadcast?vt._setLatestMemberCount(Hn,Ya,xe.ts):vt.removeMember(ic),this._sdkState.userId===ic.userId?(vt.invitedAt=0,vt.myMemberState=lr.NONE,vt.isPublic?this._dispatcher.dispatch(new Yn({channels:[vt],source:bn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new bp({channelUrls:[vt.url],source:bn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new Yn({channels:[vt],source:bn.EVENT_CHANNEL_DECLINED_INVITE})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onUserDeclinedInvitation(vt,Mf,ic)}),[2]})})}),[3,69];case 45:return[4,this.getChannel(xe.channelUrl,!0)];case 46:return la=$n.sent(),Jd=xe.category===et.TYPING_START,Df=n.as(Jd?hae:fae).user,la._updateTypingStatus(Df,Jd?xe.ts:0),this._dispatcher.dispatch(new Yn({channels:[la],source:bn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onTypingStatusUpdated(la)}),[2]})})}),[3,69];case 47:return[4,this.getChannel(xe.channelUrl,!0)];case 48:Uo=$n.sent(),ys=xe.category===et.USER_CHANNEL_MUTE,(ac=n.as(ys?n5:t5).user).userId===this._sdkState.userId&&(Uo.myMutedState=ys?go.MUTED:go.UNMUTED);try{for(Es=ze(Uo.members),Lo=Es.next();!Lo.done;Lo=Es.next())if((er=Lo.value).userId===ac.userId){er.isMuted=ys;break}}catch(Te){Ci={error:Te}}finally{try{Lo&&!Lo.done&&(Yl=Es.return)&&Yl.call(Es)}finally{if(Ci)throw Ci.error}}return this._dispatcher.dispatch(new Yn({channels:[Uo],source:ys?bn.EVENT_CHANNEL_MUTED:bn.EVENT_CHANNEL_UNMUTED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){ys?Ee.onUserMuted(Uo,ac):Ee.onUserUnmuted(Uo,ac)}),[2]})})}),[3,69];case 49:return(sc=this._leftChannels.get(xe.channelUrl))?(Xa=sc.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(xe.channelUrl,!0)];case 51:Xa=$n.sent(),$n.label=52;case 52:return Zd=Xa,this._markAsLeave(Zd),Bl=n.as(r5).user,en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onUserBanned(Zd,Bl)}),[2]})})}),[3,69];case 53:return[4,this.getChannel(xe.channelUrl,!0)];case 54:return kt=$n.sent(),Gl=n.as(i5).user,en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onUserUnbanned(kt,Gl)}),[2]})})}),[3,69];case 55:return[4,this.getChannel(xe.channelUrl,!0)];case 56:return Po=$n.sent(),oc=n.as(a5).freeze,Po.isFrozen=oc,this._dispatcher.dispatch(new Yn({channels:[Po],source:oc?bn.EVENT_CHANNEL_FROZEN:bn.EVENT_CHANNEL_UNFROZEN})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){oc?Ee.onChannelFrozen(Po):Ee.onChannelUnfrozen(Po)}),[2]})})}),[3,69];case 57:return[4,this.getChannel(xe.channelUrl,!0)];case 58:return ws=$n.sent(),lc=n.as(cae),eh=lc.allowAutoUnhide,uc=lc.hidePreviousMessages,nh=lc.messageOffsetTimestamp,eh!==null&&(ws.hiddenState=eh?Xi.HIDDEN_ALLOW_AUTO_UNHIDE:Xi.HIDDEN_PREVENT_AUTO_UNHIDE),uc!==null&&uc&&ws._updateUnreadCount(0,0),nh!==null&&(ws.messageOffsetTimestamp=nh),this._dispatcher.dispatch(new Yn({channels:[ws],source:bn.EVENT_CHANNEL_HIDDEN})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onChannelHidden(ws)}),[2]})})}),[3,69];case 59:return[4,this.getChannel(xe.channelUrl,!0)];case 60:return(jl=$n.sent()).hiddenState=Xi.UNHIDDEN,this._dispatcher.dispatch(new Yn({channels:[jl],source:bn.EVENT_CHANNEL_UNHIDDEN})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onChannelChanged(jl)}),[2]})})}),[3,69];case 61:return[4,this.getChannel(xe.channelUrl,!0)];case 62:return cc=$n.sent(),this._dispatcher.dispatch(new bp({channelUrls:[xe.channelUrl],source:bn.EVENT_CHANNEL_DELETED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onChannelDeleted(cc.url,cc.channelType)}),[2]})})}),[3,69];case 63:return[4,this.getChannelWithoutCache(xe.channelUrl,!0)];case 64:return th=$n.sent(),this._dispatcher.dispatch(new Yn({channels:[th],source:bn.EVENT_CHANNEL_UPDATED})),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){Ee.onChannelChanged(th)}),[2]})})}),[3,69];case 65:return[4,this.getChannel(xe.channelUrl,!0)];case 66:return Ks=$n.sent(),Fi=n.as(ZM),zl=Fi.created,Vl=Fi.updated,Kl=Fi.deleted,zl&&Ks._upsertCachedMetaData(zl,xe.ts),Vl&&Ks._upsertCachedMetaData(Vl,xe.ts),Kl&&Ks._removeFromCachedMetaData(Kl,xe.ts),en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){zl&&Ee.onMetaDataCreated(Ks,zl),Vl&&Ee.onMetaDataUpdated(Ks,Vl),Kl&&Ee.onMetaDataDeleted(Ks,Kl)}),[2]})})}),[3,69];case 67:return[4,this.getChannel(xe.channelUrl,!0)];case 68:return Ir=$n.sent(),dc=n.as(e5),rh=dc.created,ih=dc.updated,ah=dc.deleted,en(function(){return O(Zn,void 0,void 0,function(){return A(this,function(Te){return this._groupChannelHandlers.forEach(function(Ee){rh&&Ee.onMetaCounterCreated(Ir,rh),ih&&Ee.onMetaCounterUpdated(Ir,ih),ah&&Ee.onMetaCounterDeleted(Ir,ah)}),[2]})})}),[3,69];case 69:return[3,71];case 70:switch((Wl=n.as(f5).event).category){case hf.USER_BLOCK:Tt=wm.getDataAsUserBlockEvent(this._iid,Wl),hc=Tt.blocker,pc=Tt.blockee,this._groupChannelCache.block(hc.userId,pc.userId);break;case hf.USER_UNBLOCK:Ql=wm.getDataAsUserBlockEvent(this._iid,Wl),hc=Ql.blocker,pc=Ql.blockee,this._groupChannelCache.unblock(hc.userId,pc.userId)}return[3,71];case 71:return[3,73];case 72:if(Ta=$n.sent(),us(Ta))throw Ta;return[3,73];case 73:return[2]}})})},e.prototype._markAsLeave=function(n){var t,r=this,i=(t=this._leftChannels.get(n.url))!==null&&t!==void 0?t:{channel:n,ref:0};i.ref++,this._leftChannels.set(n.url,i),setTimeout(function(){i.ref--,i.ref===0&&r._leftChannels.delete(n.url)},1e4)},e.prototype.addHandler=function(n,t){this._groupChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._groupChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},e.prototype.subscribeGroupChannelEvent=function(n,t){this._groupChannelBroadcast.subscribe(n,t)},e.prototype.unsubscribeGroupChannelEvent=function(n){this._groupChannelBroadcast.unsubscribe(n)},e.prototype.subscribeMessageEvent=function(n,t){this._messageBroadcast.subscribe(n,t)},e.prototype.unsubscribeMessageEvent=function(n){this._messageBroadcast.unsubscribe(n)},e.prototype._updateJoinedMemberCount=function(n){n.joinedMemberCount=n.members.filter(function(t){return t.state===lr.JOINED}).length},e.prototype.getChannel=function(n,t){return t===void 0&&(t=!1),O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:Pe(Z("string",n)).throw(ue.invalidParameters),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=i.sent())?[2,r]:[3,4];case 3:return i.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n,t)];case 5:return[2,i.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),O(this,void 0,void 0,function(){var r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(Z("string",n)).throw(ue.invalidParameters),r=new $5({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:switch(i=f.sent(),o=i.as(F5).channel,d=o.unreadMessageCount,h=o.unreadMentionCount,o.myCountPreference){case Yi.UNREAD_MESSAGE_COUNT_ONLY:h=0;break;case Yi.UNREAD_MENTION_COUNT_ONLY:d=0;break;case Yi.OFF:d=0,h=0}return o._updateUnreadCount(d,h),[4,this._groupChannelCache.upsert([o])];case 2:return f.sent(),[2,o]}})})},e.prototype.getMyGroupChannels=function(n,t,r,i){return i===void 0&&(i=bn.REQUEST_CHANNEL),O(this,void 0,void 0,function(){var o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return o=new Mie(ne(ne({},t),{userId:this._sdkState.userId,token:n,limit:r})),[4,this._requestQueue.send(o)];case 1:return d=_.sent(),h=d.as(Die),f=h.channels,m=h.token,this._dispatcher.dispatch(new Yn({channels:f,source:i})),[2,{channels:f,token:m}]}})})},e.prototype.getMessageFromCache=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._messageCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getMessagesFromCache=function(n,t,r,i,o){return o===void 0&&(o=c5),O(this,void 0,void 0,function(){return A(this,function(d){switch(d.label){case 0:return[4,this._messageCache.fetch({channelUrl:n,token:t,limit:o,filter:i,backward:r==="next"})];case 1:return[2,d.sent()]}})})},e.prototype.getAllFailedMessagesFromCache=function(n,t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:n,filter:t,sendingStatus:yt.FAILED})];case 1:return[2,r.sent()]}})})},e.prototype.removeFailedMessageFromCache=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([n])];case 1:return t.sent(),[2]}})})},e.prototype.getCachedMessageCountBetween=function(n,t,r,i){return O(this,void 0,void 0,function(){return A(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(n,t,new ff({top:r,bottom:i}))];case 1:return[2,o.sent()]}})})},e.prototype.getMyGroupChannelChangeLogs=function(n,t,r){return r===void 0&&(r=bn.REQUEST_CHANNEL_CHANGELOGS),O(this,void 0,void 0,function(){var i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return t=ne(ne({},Sm),t),Pe(Z("string",n)&&FE(t)).throw(ue.invalidParameters),i=new Aie(_n({userId:this._sdkState.userId,ts:typeof n=="number"?n:null,token:typeof n=="string"?n:null,filter:t})),[4,this._requestQueue.send(i)];case 1:return o=m.sent(),d=o.as(Rie),h=d.updatedChannels,f=d.deletedChannelUrls,h.length>0&&this._dispatcher.dispatch(new Yn({channels:h,source:r})),f.length>0&&this._dispatcher.dispatch(new bp({channelUrls:f,source:r})),[2,d]}})})},e.prototype.getGroupChannelCount=function(n){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return n=ne(ne({},L5),n),Pe(P5(n)).throw(ue.invalidParameters),t=new Uie({userId:this._sdkState.userId,filter:n}),[4,this._requestQueue.send(t)];case 1:return r=i.sent(),[2,r.as(Lie).groupChannelCount]}})})},e.prototype.getUnreadItemCount=function(n){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=ne(ne({},Iie),n),Pe(function(h){return En(cr,h.keys)}(n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Pie({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return[2,d.sent().as($ie)]}})})},e.prototype.getTotalUnreadChannelCount=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o;return A(this,function(d){switch(d.label){case 0:return n=se.of(this._iid),t=n.sdkState,r=n.requestQueue,i=new Fie({userId:t.userId}),[4,r.send(i)];case 1:return o=d.sent(),[2,o.as(Hie).unreadCount]}})})},e.prototype.getTotalUnreadMessageCount=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return n=ne(ne({},kie),n),Pe(function(f){return En("string",f.channelCustomTypesFilter)&&yn(sa,f.superChannelFilter)}(n)).throw(ue.invalidParameters),t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new qie({userId:r.userId,filter:n}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(Bie).unreadCount]}})})},e.prototype.getTotalScheduledMessageCount=function(n){return n===void 0&&(n={}),O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return n=ne(ne({},Tie),n),Pe(function(d){return Z("string",d.channelUrl,!0)&&En(vl,d.scheduledStatus,!0)&&yn(Lr,d.messageTypeFilter)}(n)).throw(ue.invalidParameters),t=se.of(this._iid).requestQueue,r=new Gie(n),[4,t.send(r)];case 1:return i=o.sent(),[2,i.as(jie).count]}})})},e.prototype.getSubscribedTotalUnreadMessageCount=function(){var n=se.of(this._iid).subscribedUnreadMessageCount;return n.all>=0?n.all:0},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var n=0,t=se.of(this._iid).subscribedUnreadMessageCount;for(var r in t.customTypes)n+=t.customTypes[r];return n},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(n){var t;return(t=se.of(this._iid).subscribedUnreadMessageCount.customTypes[n])!==null&&t!==void 0?t:0},e.prototype.createChannel=function(n){return O(this,void 0,void 0,function(){var t,r,i;return A(this,function(o){switch(o.label){case 0:return n=ne(ne({},Hv),n),Pe($E(n)).throw(ue.invalidParameters),n.isPublic||(n.accessCode=null),t=new Vie(ne({userId:this._sdkState.userId},n)),[4,this._requestQueue.send(t)];case 1:return r=o.sent(),i=r.as(Kie).channel,[4,this._groupChannelCache.upsert([i])];case 2:return o.sent(),[2,i]}})})},e.prototype.markAsReadAll=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return n=Date.now(),Pe(n-this._markAsReadAllLastSentAt>=1e3).throw(ue.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=n,t=new $6({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:m.sent(),r=this._groupChannelCache.channels;try{for(i=ze(r),o=i.next();!o.done;o=i.next())(d=o.value)._updateUnreadMemberState(this._sdkState.userId,n),d._updateUnreadCount(0,0)}catch(_){h={error:_}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}}return r.length>0?[4,this._groupChannelCache.upsert(r)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[2]}})})},e.prototype.markAsReadWithChannelUrls=function(n){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_;return A(this,function(y){switch(y.label){case 0:return t=Date.now(),Pe(En("string",n)&&t-this._markAsReadAllLastSentAt>=1e3).throw(ue.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,r=new $6({userId:this._sdkState.userId,channelUrls:n}),[4,this._requestQueue.send(r)];case 1:y.sent(),i=this._groupChannelCache.channels,o=[];try{for(d=ze(i),h=d.next();!h.done;h=d.next())f=h.value,n.includes(f.url)&&(f._updateUnreadMemberState(this._sdkState.userId,t),f._updateUnreadCount(0,0),o.push(f))}catch(w){m={error:w}}finally{try{h&&!h.done&&(_=d.return)&&_.call(d)}finally{if(m)throw m.error}}return o.length>0?[4,this._groupChannelCache.upsert(o)]:[3,3];case 2:y.sent(),y.label=3;case 3:return[2]}})})},e.prototype.markAsDelivered=function(n){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getChannel(n)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}})})},e}(),al=new Map,mu=new Map,H6=new Map,mae=function(){function e(n){var t=n.key,r=n.concurrentCallLimit,i=r===void 0?2:r,o=n.backOffDelay,d=o===void 0?0:o,h=this;this._holdersKey=e.createSemaphoreHoldersKey(t),this._resolversKey=e.createSemaphoreResolversKey(t),this._chainProcessStateKey=e.createChainProcessStateKey(t),this._numLocks=i,this._backOffDelay=d,this._localAcquiredKeys=[],this._localResolversData=[],Rs()?(al[this._holdersKey]||(al[this._holdersKey]=[]),mu[this._resolversKey]||(mu[this._resolversKey]=[])):(window.addEventListener("storage",function(f){return O(h,void 0,void 0,function(){var m,_;return A(this,function(y){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(f.key){case this._holdersKey:if(m=JSON.parse(f.oldValue),_=JSON.parse(f.newValue),!m||!_||_.length>=m.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(f.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var f=h._getLocalResolversData(),m=h._localResolversData.map(function(y){return y.key}),_=f.filter(function(y){return m.indexOf(y.key)<0});window.localStorage.setItem(h._resolversKey,JSON.stringify(_)),h._localAcquiredKeys.forEach(function(y){return h.release(y)})}))}return e.createSemaphoreHoldersKey=function(n){return"collection@semaphore_holders_for:"+n},e.createSemaphoreResolversKey=function(n){return"collection@semaphore_resolvers_for:"+n},e.createChainProcessStateKey=function(n){return"collection@semaphore_chain_process_state_for:"+n},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(Rs())return this.numLocks-al[this._holdersKey].length;var n=this._getLocalHoldersData();return this.numLocks-n.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return Rs()?mu[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var n=this._getLocalResolversData();return n.length>0&&this._localResolversData.map(function(t){return t.key}).indexOf(n[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(Rs())return H6[this._chainProcessStateKey];var n=window.localStorage[this._chainProcessStateKey];return n!==void 0&&JSON.parse(n)},e.prototype._setProcessChainAcquireRunning=function(n){Rs()?H6[this._chainProcessStateKey]=n:n?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(n)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,Da(this._backOffDelay)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),Rs()?this._processChainResolve():(n=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(n)),t.label=3;case 3:return[2]}})})},e.prototype.acquire=function(n){return n===void 0&&(n=0),O(this,void 0,void 0,function(){var t,r=this;return A(this,function(i){return Rs()?[2,new Promise(function(o){for(var d={key:Ha(),resolver:function(_){return o(_)},priority:n},h=mu[r._resolversKey],f=-1,m=0;m<h.length;m++)if(n>h[m].priority){f=m;break}f>=0?mu[r._resolversKey].splice(f,0,d):mu[r._resolversKey].push(d),r._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(o){for(var d=Ha(),h={key:d,priority:n},f={key:d,resolver:function(y){return o(y)},priority:n},m=-1,_=0;_<t.length;_++)if(n>t[_].priority){m=_;break}m>=0?(t.splice(m,0,h),r._localResolversData.splice(m,0,f)):(t.push(h),r._localResolversData.push(f)),window.localStorage.setItem(r._resolversKey,JSON.stringify(t)),r._processChainResolve()})])})})},e.prototype.release=function(n){if(Rs()){if((t=al[this._holdersKey].indexOf(n))>=0)return al[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else if(window.localStorage[this._holdersKey]){var t,r=JSON.parse(window.localStorage[this._holdersKey]),i=pn([],fn(r),!1);if((t=r.indexOf(n))>=0){r.splice(t,1),window.localStorage.setItem(this._holdersKey,JSON.stringify(r)),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(n),1);var o=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(i),newValue:JSON.stringify(r)});return dispatchEvent(o),!0}}return!1},e.prototype._tryResolve=function(){if(Rs()){if(al[this._holdersKey].length<this.numLocks){var n=Ha();return al[this._holdersKey]=pn(pn([],fn(al[this._holdersKey]),!1),[n],!1),(r=mu[this._resolversKey].shift()).resolver(n),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){n=Ha();var r=this._localResolversData.shift(),i=this._getLocalResolversData(),o=i.map(function(h){return h.key}).indexOf(r.key);i.splice(o,1),window.localStorage.setItem(this._resolversKey,JSON.stringify(i)),window.localStorage.setItem(this._holdersKey,JSON.stringify(pn(pn([],fn(t),!1),[n],!1))),this._localAcquiredKeys.push(n);var d=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(pn([],fn(t),!1)),newValue:JSON.stringify(pn(pn([],fn(t),!1),[n],!1))});return dispatchEvent(d),(0,r.resolver)(n),!0}}return!1},e.prototype._getLocalHoldersData=function(){var n=window.localStorage[this._holdersKey];return n!==void 0?JSON.parse(n):[]},e.prototype._getLocalResolversData=function(){var n=window.localStorage[this._resolversKey];return n!==void 0?JSON.parse(n):[]},e}();(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"})(uo||(uo={}));var HE,Wu=function(e){function n(t,r,i,o){i===void 0&&(i=2),o===void 0&&(o=10);var d=e.call(this)||this;return d._worker=null,d._state=uo.IDLE,d._semaphore=null,d._retryCount=0,d._retryLimit=3,d.priority=0,d._worker=r,d._semaphore=new mae({key:t,concurrentCallLimit:i,backOffDelay:o}),d}return j(n,e),Object.defineProperty(n.prototype,"isIdle",{get:function(){return this._state===uo.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._state===uo.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this._state===uo.END},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),n.prototype._run=function(t){return O(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(t)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return i=o.sent(),this.dispatch("error",i),this._retryCount<this._retryLimit?(this._retryCount++,this._run(t)):this.stop(),[3,4];case 4:return[2]}})})},n.prototype.start=function(t){this.isIdle&&(this._state=uo.RUNNING,this._run(t))},n.prototype.stop=function(){this._state=uo.IDLE,this.dispatch("stop")},n.prototype.end=function(){this._state=uo.END,this.dispatch("end")},n}(Cf),Im=function(e){this.source=e},d1=function(e){this.source=e},lp={},h1=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._prevSync=null,this._nextSync=null,this._metadata=null,this._iid=t,this._channel=r;var o,d,h=se.of(this._iid),f=h.sdkState,m=h.logger;this._metadataKey=(o=f.userId,d=r.url,"sendbird:".concat(o,"@groupchannel/").concat(d,"/message/sync.meta"));var _=function(y,w){return"sendbird:".concat(y,"@groupchannel/").concat(w,"/message/sync")}(f.userId,r.url);this._prevSync=new Wu(_,function(y){return O(i,void 0,void 0,function(){var w,C,I,k,U,T;return A(this,function(N){switch(N.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:if(N.sent(),m.debug("message background prev sync from",(k=this._metadata)===null||k===void 0?void 0:k.range.top),this._metadata.previousComplete)return[3,9];N.label=2;case 2:return N.trys.push([2,5,,8]),[4,Ur.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(T=(U=this._metadata.range)===null||U===void 0?void 0:U.top)!==null&&T!==void 0?T:y,{prevResultSize:100,nextResultSize:0,replyType:bi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},mn.SYNC_MESSAGE_BACKGROUND)];case 3:return C=N.sent(),this.extendRange(C),w.hasNext=C.length>=100,w.nextToken=this._metadata.range.top,this._metadata.previousComplete=!w.hasNext,m.debug("message background prev sync progress",w),[4,this.saveMetadata()];case 4:return N.sent(),[3,8];case 5:return(I=N.sent())instanceof ue&&I.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:N.sent(),N.label=7;case 7:return w.hasNext=!1,w.nextToken=0,[3,8];case 8:return[3,10];case 9:w.hasNext=!1,N.label=10;case 10:return[2,w]}})})}),this._nextSync=new Wu(_,function(y){return O(i,void 0,void 0,function(){var w,C,I,k,U;return A(this,function(T){switch(T.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return T.sent(),m.debug("message background next sync from",(I=this._metadata)===null||I===void 0?void 0:I.range.bottom),[4,Ur.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(U=(k=this._metadata.range)===null||k===void 0?void 0:k.bottom)!==null&&U!==void 0?U:y,{prevResultSize:0,nextResultSize:100,replyType:bi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},mn.SYNC_MESSAGE_BACKGROUND)];case 2:return C=T.sent(),this.extendRange(C),w.hasNext=C.length>=100,w.nextToken=this._metadata.range.bottom,m.debug("message background next sync progress",w),[4,this.saveMetadata()];case 3:return T.sent(),[2,w]}})})})}return e.of=function(n,t){if(lp[n]||(lp[n]={}),!lp[n][t.url]){var r=lp[n][t.url]=new e({_iid:n,channel:t});se.of(n).dispatcher.on(function(i){i instanceof ms&&(i.stateType===ht.CONNECTED?r.resume():r.pause())})}return lp[n][t.url]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(n){var t;return(t=this.range)===null||t===void 0?void 0:t.includes.apply(t,pn([],fn(n.map(function(r){return r.createdAt})),!1))},e.prototype.extendRange=function(n){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,pn([],fn(n.map(function(r){return r.createdAt})),!1))},e.prototype.loadMetadata=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={range:new ff(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:Number.MAX_SAFE_INTEGER}),previousComplete:!!n&&n.previousComplete},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this._metadata?[4,se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return se.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){var n,t,r,i;se.of(this._iid).logger.debug("message background sync resume()"),this._metadata&&this._metadata.previousComplete||this._prevSync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.range.top)!==null&&t!==void 0?t:Date.now()),this._nextSync.start((i=(r=this._metadata)===null||r===void 0?void 0:r.range.bottom)!==null&&i!==void 0?i:Date.now())},e.prototype.pause=function(){se.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e}(),up={},gae=function(){function e(n){var t=n._iid,r=n.channel,i=this;this._sync=null,this._metadata=null,this._iid=t,this._channel=r;var o,d,h=se.of(this._iid).sdkState;this._metadataKey=(o=h.userId,d=r.url,"sendbird:".concat(o,"@groupchannel/").concat(d,"/message/changelogs.meta"));var f=function(m,_){return"sendbird:".concat(m,"@groupchannel/").concat(_,"/message/changelogs")}(h.userId,this._channel.url);this._sync=new Wu(f,function(){return O(i,void 0,void 0,function(){var m,_,y,w,C;return A(this,function(I){switch(I.label){case 0:return m={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:I.sent(),I.label=2;case 2:return I.trys.push([2,5,,8]),[4,Ur.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:bi.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includePollDetails:!0},mn.SYNC_MESSAGE_CHANGELOGS)];case 3:return _=I.sent(),y=_.hasMore,w=_.token,m.hasNext=y,m.nextToken=w,this._metadata.token=w,[4,this.saveMetadata()];case 4:return I.sent(),[3,8];case 5:return(C=I.sent())instanceof ue&&C.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:I.sent(),I.label=7;case 7:return m.hasNext=!1,m.nextToken="",[3,8];case 8:return[2,m]}})})})}return e.of=function(n,t){if(up[n]||(up[n]={}),!up[n][t.url]){var r=up[n][t.url]=new e({_iid:n,channel:t});se.of(n).dispatcher.on(function(i){i instanceof ms&&(i.stateType===ht.CONNECTED?r.resume():r.pause())})}return up[n][t.url]},e.prototype.loadMetadata=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=se.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this._metadata?[4,se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return se.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),_ae=function(e){function n(t){var r,i,o,d,h,f,m=this;return(m=e.call(this)||this).method=ke.GET,m.path="".concat(st(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),m.params=_n({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:(r=t.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(i=t.customTypes)!==null&&i!==void 0?i:["*"],message_type:(o=t.messageType)!==null&&o!==void 0?o:null,include_reactions:(d=t.includeReactions)===null||d===void 0||d,with_sorted_meta_array:(h=t.includeMetaArray)===null||h===void 0||h,show_subchannel_messages_only:(f=t.showSubchannelMessagesOnly)!==null&&f!==void 0&&f}),m}return j(n,e),n}(Oe),bae=function(e){function n(t,r){var i,o,d,h,f=this;return(f=e.call(this,t,r)||this).isHugeGap=r.is_huge_gap,f.prevMessages=((i=r.prev_messages)!==null&&i!==void 0?i:[]).map(function(m){return Wa(t,m)}),f.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,f.nextMessages=((d=r.next_messages)!==null&&d!==void 0?d:[]).map(function(m){return Wa(t,m)}),f.nextHasmore=(h=r.next_hasmore)!==null&&h!==void 0&&h,f}return j(n,e),n}(Ue),B5=function(e,n){return e.findIndex(function(t){return t.isIdentical(n)})},q6=function(e,n,t){if(e.length>0){var r=B5(e,n);if(r<0){for(var i=0,o=e.length-1,d=Math.floor((i+o)/2);i<o;){var h=B6(e[d],n,t);if(h>0)o=d,d=Math.floor((i+o)/2);else{if(!(h<0))return{place:d,contains:e[d].isIdentical(n)};i=d+1,d=Math.floor((i+o)/2)}}return{place:B6(e[d],n,t)>0?d:d+1,contains:!1}}return{place:r,contains:!0}}return{place:e.length,contains:!1}},B6=function(e,n,t){switch(t){case yr.LATEST_LAST_MESSAGE:return e.lastMessage&&n.lastMessage?n.lastMessage.createdAt-e.lastMessage.createdAt:e.lastMessage?-1:n.lastMessage?1:n.createdAt-e.createdAt;case yr.CHRONOLOGICAL:return n.createdAt-e.createdAt;case yr.CHANNEL_NAME_ALPHABETICAL:return e.name.localeCompare(n.name)}},gu=function(e,n){if(n instanceof mr)return e.findIndex(function(t){return t instanceof mr&&n.isIdentical(t)});e.findIndex(function(t){return t.isIdentical(n)})},G6=function(e,n){if(e.length>0){for(var t=0,r=e.length-1,i=Math.floor((t+r)/2);t<r;){var o=e[i].createdAt-n.createdAt;if(o>0)r=i,i=Math.floor((t+r)/2);else{if(!(o<0))return i;t=i+1,i=Math.floor((t+r)/2)}}return e[i].createdAt>n.createdAt?i:i+1}return e.length};(function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(HE||(HE={}));var Lp,Pp,$p,yae=function(){function e(){}return e.prototype._invokeResponse=function(n,t,r){var i=this;en(function(){return O(i,void 0,void 0,function(){return A(this,function(o){switch(n){case"local":this._onCacheResult(t,r);break;case"remote":this._onApiResult(t,r)}return[2]})})})},e.prototype.onCacheResult=function(n){return this._onCacheResult=n,this},e.prototype.onApiResult=function(n){return this._onApiResult=n,this},e}(),Eae=function(){function e(n,t){var r=t.channel,i=t.filter,o=t.startingPoint,d=t.limit,h=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._readReceiptMap=new Map,this._deliveryReceiptMap=new Map,this._iid=n,this._key="mc-".concat(Ha()),this.filter=i!=null?i:new df,this._channel=r,this._syncRange=new ff({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=o||Date.now()+6e5,this._limit=d||c5;var f=gr.of(this._iid);f.subscribeGroupChannelEvent(this._key,{onUpdate:function(C,I){var k,U,T,N,H=B5(C,h._channel);if(H>=0)switch(en(function(){return O(h,void 0,void 0,function(){var de;return A(this,function(De){return de=new Im(I),this._channel=C[H],this._handler.onChannelUpdated(de,this.channel),[2]})})}),I){case bn.EVENT_CHANNEL_UPDATED:var $=!1;for(var Q in h._messages)if((Se=h._messages[Q]).createdAt>=h._channel.messageOffsetTimestamp){$=!0;var P=parseInt(Q);if(P>0){var W=h._messages.splice(0,P);h._removeMessagesFromView(W.map(function(de){return de.messageId}),mn.EVENT_MESSAGE_OFFSET_UPDATED)}break}!$&&h._messages.length>0&&h._removeMessagesFromView(h._messages.map(function(de){return de.messageId}),mn.EVENT_MESSAGE_OFFSET_UPDATED);break;case bn.EVENT_CHANNEL_READ:var K=[];try{for(var he=ze(h._messages),le=he.next();!le.done;le=he.next()){var Se=le.value;(pe=h._readReceiptMap.get(Se.messageId))>0&&pe!==h._channel.getUnreadMemberCount(Se)&&K.push(Se)}}catch(de){k={error:de}}finally{try{le&&!le.done&&(U=he.return)&&U.call(he)}finally{if(k)throw k.error}}K.length>0&&h._updateMessagesToView(K,mn.EVENT_MESSAGE_READ);break;case bn.EVENT_CHANNEL_DELIVERED:K=[];try{for(var Ce=ze(h._messages),re=Ce.next();!re.done;re=Ce.next()){var pe;Se=re.value,(pe=h._deliveryReceiptMap.get(Se.messageId))>0&&pe!==h._channel.getUndeliveredMemberCount(Se)&&K.push(Se)}}catch(de){T={error:de}}finally{try{re&&!re.done&&(N=Ce.return)&&N.call(Ce)}finally{if(T)throw T.error}}K.length>0&&h._updateMessagesToView(K,mn.EVENT_MESSAGE_READ)}},onRemove:function(C,I){C.indexOf(h.channel.url)>=0&&en(function(){return O(h,void 0,void 0,function(){var k;return A(this,function(U){return k=new Im(I),this._handler.onChannelDeleted(k,this.channel.url),[2]})})})}}),f.subscribeMessageEvent(this._key,{onUpdate:function(C,I){var k,U,T=[],N=[];try{for(var H=ze(C),$=H.next();!$.done;$=H.next()){var Q=$.value;Q.channelUrl===h._channel.url&&(h.filter.match(Q)?T.push(Q):N.push(Q.messageId))}}catch(P){k={error:P}}finally{try{$&&!$.done&&(U=H.return)&&U.call(H)}finally{if(k)throw k.error}}if(fv(I)){if(T.length>0)switch(I){case mn.EVENT_MESSAGE_SENT_FAILED:case mn.EVENT_MESSAGE_SENT_SUCCESS:case mn.EVENT_MESSAGE_UPDATED:case mn.EVENT_MESSAGE_THREADINFO_UPDATED:case mn.EVENT_MESSAGE_REACTION_UPDATED:case mn.SYNC_MESSAGE_CHANGELOGS:h._updateMessagesToView(T,I);break;case mn.EVENT_MESSAGE_SENT_PENDING:case mn.EVENT_MESSAGE_RECEIVED:case mn.SYNC_MESSAGE_FILL:h._addMessagesToView(T,I)}N.length>0&&h._removeMessagesFromView(N,I)}},onRemove:function(C,I){h._removeMessagesFromView(C,I)},onRemoveUnsent:function(C,I){h._removeUnsentMessageFromView(C,I)}});var m=se.of(this._iid).cacheContext;!this._channel.isSuper&&m.localCacheEnabled&&h1.of(this._iid,this._channel).resume(),gae.of(this._iid,this._channel).resume(),this._prevFill=new Wu(this._key,function(C){return O(h,void 0,void 0,function(){var I,k;return A(this,function(U){switch(U.label){case 0:return[4,this._getRemoteMessages(C,{prevLimit:this._limit,source:mn.SYNC_MESSAGE_FILL})];case 1:return(I=U.sent()).length>0?(k=Math.min.apply(Math,pn([],fn(I.map(function(T){return T.createdAt})),!1)),this._syncRange.extends(k),[2,{hasNext:I.length>=this._limit&&this.viewTop<k,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Wu(this._key,function(C){return O(h,void 0,void 0,function(){var I,k;return A(this,function(U){switch(U.label){case 0:return[4,this._getRemoteMessages(C,{nextLimit:this._limit,source:mn.SYNC_MESSAGE_FILL})];case 1:return(I=U.sent()).length>0?(k=Math.max.apply(Math,pn([],fn(I.map(function(T){return T.createdAt})),!1)),this._syncRange.extends(k),[2,{hasNext:!(I.length>=this._limit&&this._hasNext)||this.viewBottom>k,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})});var _=se.of(this._iid),y=_.dispatcher,w=_.logger;y.on(function(C){C instanceof ms&&(C.stateType===ht.CONNECTED?(w.debug("check huge gap"),h._checkHugeGap()):(h._prevFill.stop(),h._nextFill.stop()))})}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return pn([],fn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===yt.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===yt.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,pn(pn([],fn(this._messages.map(function(n){return n.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,pn(pn([],fn(this._messages.map(function(n){return n.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype.setMessageCollectionHandler=function(n){this._handler=n},e.prototype._filterUnderOffsetMessage=function(n){var t=this;return n.filter(function(r){return r.createdAt>=t._channel.messageOffsetTimestamp})},e.prototype._addMessagesToView=function(n,t){var r,i,o=this,d=this._filterUnderOffsetMessage(n),h=[],f=[];try{for(var m=ze(d),_=m.next();!_.done;_=m.next()){var y=_.value;if(y.messageId>0){if((k=gu(this._messages,y))<0){var w=gu(this._unsentMessages,y);w<0?h.push(y):(this._unsentMessages.splice(w,1),f.push(y));var C=G6(this._messages,y);this._messages.splice(C,0,y)}else f.push(y),this._messages[k]=y;if(this._readReceiptMap.set(y.messageId,this._channel.getUnreadMemberCount(y)),this._deliveryReceiptMap.set(y.messageId,this._channel.getUndeliveredMemberCount(y)),y.updatedAt>0){var I=this._updateChildMessagesInView(y);f.push.apply(f,pn([],fn(I),!1))}}else{var k;y instanceof mr&&((k=gu(this._unsentMessages,y))<0?gu(this._messages,y)<0&&(this._unsentMessages.push(y),h.push(y)):(f.push(y),this._unsentMessages[k]=y))}}}catch(U){r={error:U}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}fv(t)&&en(function(){return O(o,void 0,void 0,function(){var U;return A(this,function(T){return U=new d1(t),h.length>0&&this._handler.onMessagesAdded(U,this.channel,h),f.length>0&&this._handler.onMessagesUpdated(U,this.channel,f),[2]})})})},e.prototype._updateChildMessagesInView=function(n){var t=[];return this._messages.forEach(function(r){r.applyParentMessage(n)&&t.push(r)}),t},e.prototype._updateMessagesToView=function(n,t){var r,i,o=this,d=[];try{for(var h=ze(n),f=h.next();!f.done;f=h.next()){var m,_=f.value;if(_.messageId>0)if((m=gu(this._messages,_))>=0)d.push(_),this._messages[m]=_;else{var y=gu(this._unsentMessages,_);if(y>=0){d.push(_),this._unsentMessages.splice(y,1);var w=G6(this._messages,_);this._messages.splice(w,0,_)}}else _ instanceof mr&&(m=gu(this._unsentMessages,_))>=0&&(d.push(_),this._unsentMessages[m]=_)}}catch(C){r={error:C}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return fv(t)&&en(function(){return O(o,void 0,void 0,function(){var C;return A(this,function(I){return C=new d1(t),d.length>0&&this._handler.onMessagesUpdated(C,this.channel,d),[2]})})}),d},e.prototype._removeMessagesFromView=function(n,t){var r,i,o=this,d=[],h=function(y){var w=f._messages.findIndex(function(C){return C.messageId===y});w>=0&&(d.push(f._messages[w].messageId),f._messages.splice(w,1))},f=this;try{for(var m=ze(n),_=m.next();!_.done;_=m.next())h(_.value)}catch(y){r={error:y}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return fv(t)&&d.length>0&&en(function(){return O(o,void 0,void 0,function(){var y;return A(this,function(w){return y=new d1(t),d.length>0&&this._handler.onMessagesDeleted(y,this.channel,d),[2]})})}),d},e.prototype._removeUnsentMessageFromView=function(n,t){var r=this._unsentMessages.findIndex(function(i){return i.reqId===n});r>=0&&this._unsentMessages.splice(r,1)},e.prototype._getLocalMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,d=o===void 0?0:o;return O(this,void 0,void 0,function(){var h,f,m,_,y,w,C;return A(this,function(I){switch(I.label){case 0:return h=gr.of(this._iid),i>0?[4,h.getMessagesFromCache(this._channel.url,n,"prev",this.filter,this._limit)]:[3,2];case 1:return m=I.sent(),[3,3];case 2:m=[],I.label=3;case 3:return f=m,d>0?[4,h.getMessagesFromCache(this._channel.url,n,"next",this.filter,this._limit)]:[3,5];case 4:return y=I.sent(),[3,6];case 5:y=[],I.label=6;case 6:if(_=y,f.length>0&&_.length){for(C in w=f.map(function(k){return k.messageId}),_)if(w.includes(_[C].messageId)){_.splice(parseInt(C),1);break}}return[2,pn(pn([],fn(f),!1),fn(_),!1).sort(function(k,U){return U.createdAt-k.createdAt})]}})})},e.prototype._getRemoteMessages=function(n,t){var r=t.prevLimit,i=r===void 0?0:r,o=t.nextLimit,d=o===void 0?0:o,h=t.source,f=h===void 0?mn.REQUEST_MESSAGE:h;return O(this,void 0,void 0,function(){var m,_;return A(this,function(y){switch(y.label){case 0:return m=Ur.of(this._iid),i>0||d>0?[4,m.getMessagesByTimestamp(this._channel.url,this._channel.channelType,n,ne(ne({},this.filter),{prevResultSize:i,nextResultSize:d,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0}),f)]:[3,2];case 1:return _=y.sent(),[3,3];case 2:_=[],y.label=3;case 3:return[2,_]}})})},e.prototype._checkHugeGap=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o,d,h,f,m,_,y=this;return A(this,function(w){switch(w.label){case 0:return this._messages.length>0?(n=this.viewTop,t=this._syncRange.top,r=this._syncRange.bottom,i=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(o=gr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,n,t)]):[3,4];case 1:return d=w.sent(),[4,o.getCachedMessageCountBetween(this._channel.url,this.filter,r,i)];case 2:return h=w.sent(),[4,ig(function(){return O(y,void 0,void 0,function(){var C,I,k,U,T,N,H,$,Q,P,W,K,he,le,Se,Ce,re,pe=this;return A(this,function(de){switch(de.label){case 0:return C=se.of(this._iid),I=C.dispatcher,k=C.requestQueue,U=new _ae(ne({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:n,prevEnd:t,prevCount:d,nextStart:r,nextEnd:i,nextCount:h},this.filter)),[4,k.send(U)];case 1:return T=de.sent(),N=T.as(bae),H=N.isHugeGap,$=N.prevMessages,Q=$===void 0?[]:$,P=N.prevHasMore,W=N.nextMessages,K=W===void 0?[]:W,he=N.nextHasmore,H?en(function(){return O(pe,void 0,void 0,function(){return A(this,function(De){return this._handler.onHugeGapDetected(),[2]})})}):(this._hasPrevious=P,this._hasNext=he,le=this.viewTop,Se=this.viewBottom,Ce=Math.min.apply(Math,pn([Number.MAX_SAFE_INTEGER],fn(Q.map(function(De){return De.createdAt})),!1)),re=Math.max.apply(Math,pn([0],fn(K.map(function(De){return De.createdAt})),!1)),I.dispatch(new $t({messages:Q,source:mn.SYNC_MESSAGE_FILL})),I.dispatch(new $t({messages:K,source:mn.SYNC_MESSAGE_FILL})),this._syncRange.extends(Ce,re),le<Ce&&this._prevFill.start(Ce),Se>re&&this._nextFill.start(re)),[2]}})})},1)];case 3:return w.sent(),[3,6];case 4:return f=Math.floor(this._limit/2),[4,this._getRemoteMessages(Date.now(),{prevLimit:f,nextLimit:f,source:mn.SYNC_MESSAGE_FILL})];case 5:(m=w.sent()).length>0&&((_=this._syncRange).extends.apply(_,pn([],fn(m.map(function(C){return C.createdAt})),!1)),m.length<f&&(this._hasPrevious=!1,this._hasNext=!1)),w.label=6;case 6:return[2]}})})},e.prototype._loadAllFailedMessages=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return[4,gr.of(this._iid).getAllFailedMessagesFromCache(this._channel.url,this.filter)];case 1:return n=t.sent(),this._unsentMessages=n,[2,n]}})})},e.prototype.initialize=function(n){var t=this,r=new yae;this._messages=[],this._unsentMessages=[],this._syncRange=new ff({}),this._hasNext=!0,this._hasPrevious=!0;var i=Math.floor(this._limit/2);return n===HE.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var d=t._filterUnderOffsetMessage(o);t._addMessagesToView(d,mn.REQUEST_MESSAGE),r._invokeResponse("local",null,d)}).catch(function(o){if(us(o))throw o;r._invokeResponse("local",o,null)}).finally(function(){t._loadAllFailedMessages(),t._getRemoteMessages(t._startingPoint,{prevLimit:i,nextLimit:i}).then(function(o){var d;t._messages=[];var h=t._filterUnderOffsetMessage(o);h.length<i&&(t._hasPrevious=!1,t._hasNext=!1),h.length>0&&((d=t._syncRange).extends.apply(d,pn([],fn(h.map(function(f){return f.createdAt})),!1)),t._addMessagesToView(h,mn.REQUEST_MESSAGE)),r._invokeResponse("remote",null,h)}).catch(function(o){if(us(o))throw o;r._invokeResponse("remote",o,null)})}),r},e.prototype.loadPrevious=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o=this;return A(this,function(d){switch(d.label){case 0:return this._hasPrevious?(n=this.viewTop,t=[],[4,Ba(function(){return O(o,void 0,void 0,function(){var h;return A(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{prevLimit:this._limit})];case 1:return t=h.apply(this,[f.sent()]),[2]}})})})]):[3,5];case 1:return d.sent(),r=h1.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ba(function(){return O(o,void 0,void 0,function(){var h,f;return A(this,function(m){switch(m.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{prevLimit:this._limit})];case 1:return t=h.apply(this,[m.sent()]),this._hasPrevious=t.length>=this._limit,t.length>0&&((f=this._syncRange).extends.apply(f,pn([],fn(t.map(function(_){return _.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.top)),[2]}})})})];case 2:return d.sent(),this._addMessagesToView(t,mn.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,pn([],fn(t.map(function(h){return h.createdAt})),!1)),this._addMessagesToView(t,mn.REQUEST_MESSAGE)),d.label=4;case 4:return[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return O(this,void 0,void 0,function(){var n,t,r,i,o=this;return A(this,function(d){switch(d.label){case 0:return n=this.viewBottom,t=[],[4,Ba(function(){return O(o,void 0,void 0,function(){var h;return A(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{nextLimit:this._limit})];case 1:return t=h.apply(this,[f.sent()]),[2]}})})})];case 1:return d.sent(),r=h1.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Ba(function(){return O(o,void 0,void 0,function(){var h,f;return A(this,function(m){switch(m.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{nextLimit:this._limit})];case 1:return t=h.apply(this,[m.sent()]),this._hasNext=t.length>=this._limit,t.length>0&&((f=this._syncRange).extends.apply(f,pn([],fn(t.map(function(_){return _.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.bottom)),[2]}})})})];case 2:return d.sent(),this._addMessagesToView(t,mn.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=t.length>=this._limit,t.length>0&&((i=this._syncRange).extends.apply(i,pn([],fn(t.map(function(h){return h.createdAt})),!1)),this._addMessagesToView(t,mn.REQUEST_MESSAGE)),d.label=4;case 4:return[2,t]}})})},e.prototype.removeFailedMessage=function(n){return O(this,void 0,void 0,function(){var t;return A(this,function(r){switch(r.label){case 0:return[4,gr.of(this._iid).removeFailedMessageFromCache(n)];case 1:return r.sent(),(t=this._unsentMessages.findIndex(function(i){return i.reqId===n}))>-1&&this._unsentMessages.splice(t,1),[2]}})})},e.prototype.dispose=function(){var n=gr.of(this._iid);n.unsubscribeGroupChannelEvent(this._key),n.unsubscribeMessageEvent(this._key)},e}(),wae={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Cae={hidePreviousMessages:!1,allowAutoUnhide:!0},xae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.token,d=t.limit,h=t.order,f=t.mutedMemberFilter,m=t.memberStateFilter,_=t.nicknameStartsWithFilter,y=t.operatorFilter;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/members"),r.params={token:o,limit:d,order:h,muted_member_filter:f,member_state_filter:m,nickname_startswith:_,operator_filter:y,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return j(n,e),n}(Oe),Sae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.members=[];var o=r.next,d=r.members;return i.token=o,d&&d.length>0&&(i.members=d.map(function(h){return new hs(t,h)})),i}return j(n,e),n}(Ue);(function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"})(Lp||(Lp={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(Pp||(Pp={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}($p||($p={}));var Iae=function(e){function n(t,r,i){var o,d,h,f,m=this;return(m=e.call(this,t,r,ut.GROUP,i)||this).mutedMemberFilter=Lp.ALL,m.memberStateFilter=$p.ALL,m.nicknameStartsWithFilter=null,m.operatorFilter=xm.ALL,m.order=Pp.MEMBER_NICKNAME_ALPHABETICAL,m.mutedMemberFilter=(o=i.mutedMemberFilter)!==null&&o!==void 0?o:Lp.ALL,m.memberStateFilter=(d=i.memberStateFilter)!==null&&d!==void 0?d:$p.ALL,m.nicknameStartsWithFilter=(h=i.nicknameStartsWithFilter)!==null&&h!==void 0?h:null,m.order=(f=i.order)!==null&&f!==void 0?f:Pp.MEMBER_NICKNAME_ALPHABETICAL,m}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&yn(Lp,this.mutedMemberFilter)&&yn($p,this.memberStateFilter)&&(Z("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&yn(xm,this.operatorFilter)&&yn(Pp,this.order)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new xae(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(Sae),d=o.members,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Vd),kae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.userId,d=t.accessCode;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/accept"),r.params={user_id:o,access_code:d},r}return j(n,e),n}(Oe),Tae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i.channel.myMemberState=lr.JOINED,i}return j(n,e),n}(Ue),Nae=function(e){function n(t){var r=this,i=t.channelUrl,o=t.isDistinct,d=t.isPublic,h=t.isDiscoverable,f=t.coverUrl,m=t.coverImage,_=t.accessCode,y=t.name,w=t.data,C=t.customType,I=t.operatorUserIds,k=t.messageSurvivalSeconds;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i)),r.params=_n({is_distinct:o,is_public:d,is_discoverable:h,name:y,data:w,custom_type:C,cover_url:f,cover_file:m,access_code:_,operator_ids:I,message_survival_seconds:k}),r}return j(n,e),n}(Oe),Oae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.channel=new xa(t,r),i}return j(n,e),n}(Ue),Aae=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(ai,"/").concat(encodeURIComponent(i)),r}return j(n,e),n}(Oe);(function(e){function n(t,r){return e.call(this,t,r)||this}j(n,e)})(Ue);var Rae=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=ke.DELETE,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/hide"),r}return j(n,e),n}(Oe);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}j(n,e)})(Ue);var Mae=function(e){function n(t){var r=t.userId,i=t.channelUrl,o=t.countPreference,d=e.call(this)||this;return d.method=ke.PUT,d.path="".concat(Wn,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(i)),d.params={count_preference:o},d}return j(n,e),n}(Oe),Dae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.countPreference=Yi[r.count_preference],i}return j(n,e),n}(Ue),Uae=function(e){function n(t){var r=this,i=t.channelUrl;return(r=e.call(this)||this).method=ke.PUT,r.path="".concat(ai,"/").concat(encodeURIComponent(i),"/reset_user_history"),r}return j(n,e),n}(Oe),Lae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.messageOffsetTimestamp=null;var o=r.ts_message_offset;return i.messageOffsetTimestamp=o!=null?o:null,i}return j(n,e),n}(Ue),Pae=ne(ne({},N3),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),$ae=ne(ne({},XM),{scheduledAt:null}),Fae=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===$r.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(m){return m.userId})));var d=t.channelType,h=t.channelUrl,f=t.scheduledMessageId;return i.method=ke.PUT,i.path="".concat(st(d),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Od.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(m){return ag.payloadify(m)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(m){return Oi.payloadify(m)}),apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},i}return j(n,e),n}(Oe),Hae=function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new br(t,r),i}return j(n,e),n}(Ue),qae=function(e){function n(t){var r,i=this;i=e.call(this)||this;var o=[];t.mentionType===$r.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map(function(m){return m.userId})));var d=t.channelType,h=t.channelUrl,f=t.scheduledMessageId;return i.method=ke.PUT,i.path="".concat(st(d),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),i.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:Od.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(m){return Oi.payloadify(m)}),apple_critical_alert_options:Bs.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},i}return j(n,e),n}(Oe);(function(e){function n(t,r){var i=e.call(this,t,r)||this;return i.message=new Cr(t,r),i}j(n,e)})(Ue);var Yi,go,Xi,Bae=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,d=t.scheduledMessageId;return r.method=ke.DELETE,r.path="".concat(st(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(d)),r}return j(n,e),n}(Oe),Gae=function(e){function n(t){var r=e.call(this)||this,i=t.channelType,o=t.channelUrl,d=t.scheduledMessageId;return r.method=ke.POST,r.path="".concat(st(i),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(d),"/send_now"),r}return j(n,e),n}(Oe);(function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"})(Yi||(Yi={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(go||(go={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Xi||(Xi={}));var Fp,xa=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$,Q,P=this;return(P=e.call(this,t,r)||this)._unreadMemberStateMap=new Map,P._undeliveredMemberStateMap=new Map,P._typingStatus=new Map,P._lastMemberCountUpdated=0,P._typingStarted=0,P._typingEnded=0,P.isDistinct=!1,P.isSuper=!1,P.isBroadcast=!1,P.isExclusive=!1,P.isPublic=!1,P.isDiscoverable=!0,P.isAccessCodeRequired=!1,P.isPushEnabled=!1,P.unreadMessageCount=0,P.unreadMentionCount=0,P.members=[],P.memberCount=0,P.joinedMemberCount=0,P.hiddenState=Xi.UNHIDDEN,P.lastMessage=null,P.messageOffsetTimestamp=0,P.messageSurvivalSeconds=-1,P.myMemberState=lr.NONE,P.myRole=qa.NONE,P.myMutedState=go.UNMUTED,P.myLastRead=0,P.myCountPreference=Yi.ALL,P.myPushTriggerOption=Au.DEFAULT,P.inviter=null,P.invitedAt=0,P.joinedAt=0,P.channelType=ut.GROUP,P.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,P.isSuper=(d=r.is_super)!==null&&d!==void 0&&d,P.isBroadcast=(h=r.is_broadcast)!==null&&h!==void 0&&h,P.isExclusive=(f=r.is_exclusive)!==null&&f!==void 0&&f,P.isPublic=(m=r.is_public)!==null&&m!==void 0&&m,P.isDiscoverable=(_=r.is_discoverable)!==null&&_!==void 0?_:P.isPublic,P.isAccessCodeRequired=(y=r.is_access_code_required)!==null&&y!==void 0&&y,P.isPushEnabled=(w=r.is_push_enabled)!==null&&w!==void 0&&w,Array.isArray(r.members)&&(i=P.members).push.apply(i,pn([],fn(r.members.map(function(W){return new hs(P._iid,W)})),!1)),P.memberCount=(C=r.member_count)!==null&&C!==void 0?C:0,P.joinedMemberCount=(I=r.joined_member_count)!==null&&I!==void 0?I:0,P.hiddenState=yn(Xi,r.hidden_state)?r.hidden_state:Xi.UNHIDDEN,P.messageOffsetTimestamp=(k=r.ts_message_offset)!==null&&k!==void 0?k:0,P.messageSurvivalSeconds=(U=r.message_survival_seconds)!==null&&U!==void 0?U:-1,P.lastMessage=r.last_message?Wa(P._iid,ne({channel_type:P.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(W){Z("number",r.read_receipt[W])&&P._updateUnreadMemberState(W,r.read_receipt[W])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(W){Z("number",r.delivery_receipt[W])&&P._updateUndeliveredMemberState(W,r.delivery_receipt[W])}),P.myMemberState=yn(lr,r.member_state)?r.member_state:lr.NONE,P.myRole=yn(qa,r.my_role)?r.my_role:qa.NONE,yn(go,r.is_muted)?P.myMutedState=r.is_muted:Z("boolean",r.is_muted)?P.myMutedState=r.is_muted?go.MUTED:go.UNMUTED:P.myMutedState=go.UNMUTED,P.myCountPreference=yn(Yi,r.count_preference)?r.count_preference:Yi.ALL,P.myPushTriggerOption=yn(Au,r.push_trigger_option)?r.push_trigger_option:Au.ALL,P.myLastRead=(T=r.user_last_read)!==null&&T!==void 0?T:0,P.inviter=r.inviter?new In(P._iid,r.inviter):null,P.invitedAt=(N=r.invited_at)!==null&&N!==void 0?N:0,P.joinedAt=(H=r.joined_ts)!==null&&H!==void 0?H:0,P._updateUnreadCount(($=r.unread_message_count)!==null&&$!==void 0?$:0,(Q=r.unread_mention_count)!==null&&Q!==void 0?Q:0),P}return j(n,e),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.hiddenState!==Xi.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return Object.keys(this._typingStatus).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUnreadMemberState",{get:function(){var t,r,i={};try{for(var o=ze(this._unreadMemberStateMap),d=o.next();!d.done;d=o.next()){var h=fn(d.value,2),f=h[0],m=h[1];i[f]=m}}catch(_){t={error:_}}finally{try{d&&!d.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUndeliveredMemberState",{get:function(){var t,r,i={};try{for(var o=ze(this._undeliveredMemberStateMap),d=o.next();!d.done;d=o.next()){var h=fn(d.value,2),f=h[0],m=h[1];i[f]=m}}catch(_){t={error:_}}finally{try{d&&!d.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?_n(ne(ne({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map(function(r){return hs.payloadify(r)}),last_message:og(t.lastMessage),inviter:t.inviter?In.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt})):null},n.prototype._updateUnreadCount=function(t,r){if(typeof t=="number"&&t>=0)if(this.myCountPreference===Yi.ALL||this.myCountPreference===Yi.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var i=se.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=i&&t>=i?i:t}else this.unreadMessageCount=t;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Yi.ALL||this.myCountPreference===Yi.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},n.prototype._updateUnreadMemberState=function(t,r){var i=this._unreadMemberStateMap.get(t);return(!i||i<r)&&(this._unreadMemberStateMap.set(t,r),se.of(this._iid).sdkState.userId===t&&(this.myLastRead=r),!0)},n.prototype._updateUndeliveredMemberState=function(t,r){var i=this._undeliveredMemberStateMap.get(t);(!i||i<r)&&this._undeliveredMemberStateMap.set(t,r)},n.prototype._updateTypingStatus=function(t,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus[t.userId]={user:t,ts:r}:delete this._typingStatus[t.userId]},n.prototype._invalidateTypingStatus=function(){var t=new Date().getTime(),r=!1;for(var i in this._typingStatus)t-this._typingStatus[i].ts>=1e4&&(delete this._typingStatus[i],r=!0);return r},n.prototype._setLatestMemberCount=function(t,r,i){var o=!1;return i>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=i,o=t!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=t,this.joinedMemberCount=r),o},n.prototype.isReadMessage=function(t){var r=se.of(this._iid).sdkState,i=this._unreadMemberStateMap.get(r.userId);return i&&i>=t.createdAt},n.prototype.serialize=function(){var t=this;return xf(this,function(r){r.cachedUnreadMemberState=t.cachedUnreadMemberState,r.cachedUndeliveredMemberState=t.cachedUndeliveredMemberState})},n.prototype.createMessageCollection=function(t){return t===void 0&&(t={}),new Eae(this._iid,ne({channel:this},t))},n.prototype.createMemberListQuery=function(t){return t===void 0&&(t={}),new Iae(this._iid,this.url,t)},n.prototype.addMember=function(t,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var i=this.members.findIndex(function(d){return d.userId===t.userId});if(i>-1){var o=this.members[i];o.state===lr.JOINED&&(t.state=o.state),this.members.splice(i,1),this.memberCount--}this.members.push(t),this.memberCount++,this._updateUnreadMemberState(t.userId,r),this._updateUndeliveredMemberState(t.userId,r)}},n.prototype.removeMember=function(t){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=this.members.findIndex(function(i){return i.userId===t.userId});if(r>-1)return this.members.splice(r,1),this.memberCount--,!0}return!1},n.prototype.getUnreadMemberCount=function(t){var r,i;if(t instanceof mr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=se.of(this._iid).sdkState,d=t.createdAt,h=0;try{for(var f=ze(this.members),m=f.next();!m.done;m=f.next()){var _=m.value;o.userId!==_.userId&&_.state===lr.JOINED&&t.sender.userId!==_.userId&&(this.cachedUnreadMemberState[_.userId]||0)<d&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return h}return 0},n.prototype.getUndeliveredMemberCount=function(t){var r,i;if(t instanceof mr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=se.of(this._iid).sdkState,d=t.createdAt,h=0;try{for(var f=ze(this.members),m=f.next();!m.done;m=f.next()){var _=m.value;o.userId!==_.userId&&_.state===lr.JOINED&&t.sender.userId!==_.userId&&(this.cachedUndeliveredMemberState[_.userId]||0)<d&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return h}return 0},n.prototype.getReadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=se.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=[];return this.members.forEach(function(h){(r||h.userId!==o.userId&&h.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(h.userId)>=t.createdAt&&d.push(h)}),d},n.prototype.getUnreadMembers=function(t,r){var i=this;r===void 0&&(r=!1);var o=se.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=[];return this.members.forEach(function(h){(r||h.userId!==o.userId&&h.userId!==t.sender.userId)&&i._unreadMemberStateMap.get(h.userId)<t.createdAt&&d.push(h)}),d},n.prototype.getReadStatus=function(t){var r=this;t===void 0&&(t=!1);var i=se.of(this._iid).sdkState;if(!i.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(d){if(t||d.userId!==i.userId){var h=r._unreadMemberStateMap.get(d.userId);o[d.userId]=new D5(r._iid,{channel_url:r.url,channel_type:r.channelType,user:hs.payloadify(d),ts:h})}}),o},n.prototype.getTypingUsers=function(){var t=[];for(var r in this._typingStatus){var i=this._typingStatus[r].user;t.push(i)}return t},n.prototype.invalidateTypingStatus=function(){var t=se.of(this._iid).typingIndicatorInvalidateTime,r=new Date().getTime(),i=!1;for(var o in this._typingStatus)r-this._typingStatus[o].ts>=t&&(delete this._typingStatus[o],i=!0);return i},n.prototype.refresh=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid),r=t.requestQueue,i=t.dispatcher,o=new $5({channelUrl:this.url}),[4,r.send(o)];case 1:return d=f.sent(),h=d.as(F5).channel,i.dispatch(new Yn({channels:[h],source:bn.REQUEST_CHANNEL})),[2,h]}})})},n.prototype.freeze=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),se.of(this._iid).dispatcher.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_HIDDEN})),[2]}})})},n.prototype.unfreeze=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),se.of(this._iid).dispatcher.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},n.prototype.updateChannel=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return t=ne(ne({},wae),t),Pe(function(_){return Z("string",_.coverUrl,!0)&&(ei(_.coverImage)||Z("string",_.coverImage)||_.coverImage===null)&&Z("boolean",_.isDistinct,!0)&&Z("boolean",_.isPublic,!0)&&Z("boolean",_.isDiscoverable,!0)&&Z("string",_.accessCode,!0)&&Z("string",_.name,!0)&&Z("string",_.data,!0)&&Z("string",_.customType,!0)&&En("string",_.operatorUserIds,!0)&&Z("number",_.messageSurvivalSeconds,!0)}(t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.requestQueue,d=new Nae(ne({channelUrl:this.url},t)),[4,o.send(d)];case 1:return h=m.sent(),f=h.as(Oae).channel,i.dispatch(new Yn({channels:[f],source:bn.EVENT_CHANNEL_UPDATED})),[2,f]}})})},n.prototype.invite=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return Pe(t.every(function(i){return i instanceof In})).throw(ue.invalidParameters),[2,this.inviteWithUserIds(t.map(function(i){return i.userId}))]})})},n.prototype.inviteWithUserIds=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f;return A(this,function(m){switch(m.label){case 0:return Pe(En("string",t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.requestQueue,d=new Zie({channelUrl:this.url,userIds:t}),[4,o.send(d)];case 1:return h=m.sent(),f=h.as(eae).channel,i.dispatch(new Yn({channels:[f],source:bn.EVENT_CHANNEL_INVITED})),[2,f]}})})},n.prototype.join=function(t){return t===void 0&&(t=null),O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return Pe(Z("string",t)||t===null).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.sdkState,d=r.requestQueue,h=new Wie({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,d.send(h)];case 1:return f=_.sent(),(m=f.as(Qie).channel).myMemberState=lr.JOINED,i.dispatch(new Yn({channels:[m],source:bn.EVENT_CHANNEL_JOINED})),[2,this]}})})},n.prototype.leave=function(t){return t===void 0&&(t=!1),O(this,void 0,void 0,function(){var r,i,o,d;return A(this,function(h){switch(h.label){case 0:return r=se.of(this._iid),i=r.sdkState,o=r.requestQueue,d=new Xie({channelUrl:this.url,userId:i.userId,shouldRemoveOperatorStatus:t}),[4,o.send(d)];case 1:return h.sent(),[2]}})})},n.prototype.acceptInvitation=function(t){return t===void 0&&(t=null),O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return Pe(Z("string",t)||t===null).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.sdkState,d=r.requestQueue,h=new kae({channelUrl:this.url,userId:o.userId,accessCode:t}),[4,d.send(h)];case 1:return f=_.sent(),(m=f.as(Tae).channel).myMemberState=lr.JOINED,i.dispatch(new Yn({channels:[m],source:bn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,m]}})})},n.prototype.declineInvitation=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new tae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return d=f.sent(),(h=d.as(rae).channel).myMemberState=lr.NONE,[2,h]}})})},n.prototype.sendUserMessage=function(t){var r=this,i=new po,o=se.of(this._iid).dispatcher,d=pd.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),i._trigger(null,h)}).onFailed(function(h,f){f&&d.completeCurrentAndProcessNextAutoResend(f),i._trigger(h,f)}).onSucceeded(function(h){var f=gr.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r.lastMessage=h,f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Yn({channels:[r],source:bn.EVENT_MESSAGE_SENT})),i._trigger(null,h)}),i},n.prototype._autoResendUserMessage=function(t){var r=this,i=new po,o=se.of(this._iid).dispatcher,d=pd.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),i._trigger(null,h)}).onFailed(function(h,f){d.completeCurrentAndProcessNextAutoResend(f),i._trigger(h,f)}).onSucceeded(function(h){var f=gr.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r.lastMessage=h,f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Yn({channels:[r],source:bn.EVENT_MESSAGE_SENT})),i._trigger(null,h)}),i},n.prototype.sendFileMessage=function(t){var r=this,i=new po,o=se.of(this._iid).dispatcher,d=pd.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),i._trigger(null,h)}).onFailed(function(h,f){f&&d.completeCurrentAndProcessNextAutoResend(f),i._trigger(h,f)}).onSucceeded(function(h){var f=gr.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r.lastMessage=h,f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Yn({channels:[r],source:bn.EVENT_MESSAGE_SENT})),i._trigger(null,h)}),i},n.prototype._autoResendFileMessage=function(t){var r=this,i=new po,o=se.of(this._iid).dispatcher,d=pd.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),i._trigger(null,h)}).onFailed(function(h,f){d.completeCurrentAndProcessNextAutoResend(f),i._trigger(h,f)}).onSucceeded(function(h){var f=gr.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r.lastMessage=h,f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Yn({channels:[r],source:bn.EVENT_MESSAGE_SENT})),i._trigger(null,h)}),i},n.prototype.deleteMessage=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return r.sent(),t.messageId===0&&se.of(this._iid).dispatcher.dispatch(new WM({reqId:t.reqId,source:mn.EVENT_MESSAGE_DELETED})),[2]}})})},n.prototype.hide=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return t=ne(ne({},Cae),t),Pe(function(y){return Z("boolean",y.hidePreviousMessages)&&Z("boolean",y.allowAutoUnhide)}(t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.sdkState,d=r.requestQueue,h=new lae(ne({channelUrl:this.url,userId:o.userId},t)),[4,d.send(h)];case 1:return f=_.sent(),m=f.as(uae).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?Xi.HIDDEN_ALLOW_AUTO_UNHIDE:Xi.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),m&&(this.messageOffsetTimestamp=m),i.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},n.prototype.unhide=function(){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return t=se.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new Rae({channelUrl:this.url}),[4,i.send(o)];case 1:return d.sent(),this.hiddenState=Xi.UNHIDDEN,r.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},n.prototype.delete=function(){return O(this,void 0,void 0,function(){var t,r;return A(this,function(i){switch(i.label){case 0:return t=se.of(this._iid).requestQueue,r=new Aae({channelUrl:this.url}),[4,t.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.markAsRead=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m=this;return A(this,function(_){switch(_.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.dispatcher,o=t.requestQueue,d=new aae({channelUrl:this.url}),[4,o.send(d)];case 1:return h=_.sent(),f=h.as(H5).readStatus,this._updateUnreadMemberState(r.userId,f.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),gr.of(this._iid).handlers.map(function(y){return y.onChannelChanged(m)})),i.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_READ})),[2]}})})},n.prototype.markAsDelivered=function(){return O(this,void 0,void 0,function(){var t,r,i,o;return A(this,function(d){switch(d.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new sae({channelUrl:this.url,userId:r.userId}),[4,i.send(o)];case 1:return d.sent(),[2]}})})},n.prototype.startTyping=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){return t=se.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=i&&(this._typingStarted=o,this._typingEnded=0,d=new dae({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},n.prototype.endTyping=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){return t=se.of(this._iid),r=t.requestQueue,i=t.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=i&&(this._typingStarted=0,this._typingEnded=o,d=new pae({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},n.prototype.createScheduledUserMessage=function(t){t=ne(ne({},Hte),t),Pe(qte(t)).throw(ue.invalidParameters);var r=new po;return this._createScheduledUserMessage(t,r),r},n.prototype.updateScheduledUserMessage=function(t,r){return O(this,void 0,void 0,function(){var i,o,d;return A(this,function(h){switch(h.label){case 0:return r=ne(ne({},$ae),r),Pe(function(f){return JM(f)&&Z("number",f.scheduledAt,!0)}(r)).throw(ue.invalidParameters),i=se.of(this._iid).requestQueue,o=new qae(ne({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r)),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(o5).message]}})})},n.prototype.createScheduledFileMessage=function(t){var r=this;t=ne(ne({},Bte),t),Pe(Gte(t)).throw(ue.invalidParameters);var i=se.of(this._iid).dispatcher,o=Date.now(),d=this._generateRequestId(),h=new po;return Da(Lte).then(function(){var f=r._createPendingScheduledFileMessage(t,d,o);i.dispatch(new $t({messages:[f],source:mn.EVENT_MESSAGE_SENT_PENDING})),en(function(){return O(r,void 0,void 0,function(){return A(this,function(m){return[2,h._trigger(null,f)]})})})}),ei(t.file)?this._uploadFileAndUpdateParams(t).then(function(){return r._createScheduledFileMessage(t,h,d,o)}):this._createScheduledFileMessage(t,h,d,o),h},n.prototype.updateScheduledFileMessage=function(t,r){return O(this,void 0,void 0,function(){var i,o;return A(this,function(d){switch(d.label){case 0:return r=ne(ne({},Pae),r),Pe(function(h){return O3(h)&&Z("number",h.scheduledAt,!0)&&(ei(h.file)||Z("string",h.fileUrl))&&Z("string",h.fileName,!0)&&Z("string",h.mimeType,!0)&&Z("number",h.fileSize,!0)&&(h.thumbnailSizes===null||h.thumbnailSizes.every(function(f){return Z("object",f)&&f.maxWidth>0&&f.maxHeight>0}))}(r)).throw(ue.invalidParameters),ei(r.file)?[4,this._uploadFileAndUpdateParams(r)]:[3,2];case 1:d.sent(),d.label=2;case 2:return i=new Fae(ne(ne({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r),{fileUrl:r.fileUrl,requireAuth:r.requireAuth})),[4,se.of(this._iid).requestQueue.send(i)];case 3:return o=d.sent(),[2,o.as(Hae).message]}})})},n.prototype.cancelScheduledMessage=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return r=new Bae({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,se.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.sendScheduledMessageNow=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return r=new Gae({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,se.of(this._iid).requestQueue.send(r)];case 1:return i.sent(),[2]}})})},n.prototype.getMyPushTriggerOption=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d;return A(this,function(h){switch(h.label){case 0:return t=se.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new v5({userId:r.userId}),[4,i.send(o)];case 1:return d=h.sent(),[2,d.as(m5).pushTriggerOption]}})})},n.prototype.setMyPushTriggerOption=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return Pe(yn(Au,t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.sdkState,o=r.requestQueue,d=new g5({userId:i.userId,pushTriggerOption:t}),[4,o.send(d)];case 1:return h=f.sent(),[2,h.as(_5).pushTriggerOption]}})})},n.prototype.setMyCountPreference=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m;return A(this,function(_){switch(_.label){case 0:return Pe(yn(Yi,t)).throw(ue.invalidParameters),r=se.of(this._iid),i=r.dispatcher,o=r.sdkState,d=r.requestQueue,h=new Mae({channelUrl:this.url,userId:o.userId,countPreference:t}),[4,d.send(h)];case 1:return f=_.sent(),m=f.as(Dae).countPreference,this.myCountPreference=m,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),i.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_CREATED})),[2,m]}})})},n.prototype.resetMyHistory=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return t=se.of(this._iid),r=t.dispatcher,i=t.requestQueue,o=new Uae({channelUrl:this.url}),[4,i.send(o)];case 1:return d=f.sent(),h=d.as(Lae).messageOffsetTimestamp,this.messageOffsetTimestamp=h,r.dispatch(new Yn({channels:[this],source:bn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},n.prototype._uploadFileAndUpdateParams=function(t){return O(this,void 0,void 0,function(){var r,i,o,d,h,f,m,_,y,w,C;return A(this,function(I){switch(I.label){case 0:return ei(t.file)?(r=se.of(this._iid).requestQueue,i=new zM({file:t.file,channelUrl:this.url,thumbnailSizes:t.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(i)]):[3,2];case 1:o=I.sent(),d=o.as(VM),h=d.url,f=d.fileSize,m=f===void 0?t.fileSize:f,_=d.thumbnailSizes,y=_===void 0?t.thumbnailSizes:_,w=d.requireAuth,C=w!==void 0&&w,t.fileUrl=h,t.fileSize=m,t.thumbnailSizes=y,t.requireAuth=C,I.label=2;case 2:return[2]}})})},n}(RE),p1={},j6=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadata=null,this._iid=t;var i,o=se.of(this._iid),d=o.sdkState,h=o.logger;this._metadataKey=(i=d.userId,"sendbird:".concat(i,"@groupchannel/sync.meta"));var f=function(m){return"sendbird:".concat(m,"@groupchannel/sync")}(d.userId);this._sync=new Wu(f,function(){return O(r,void 0,void 0,function(){var m,_,y,w,C,I;return A(this,function(k){switch(k.label){case 0:return m={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(k.sent(),h.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];k.label=2;case 2:return k.trys.push([2,5,,8]),[4,gr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:yr.CHRONOLOGICAL},100,bn.SYNC_CHANNEL_BACKGROUND)];case 3:return _=k.sent(),y=_.channels,w=_.token,m.hasNext=y.length>=100&&!!w,m.nextToken=w,this._metadata.token=w,(I=this._metadata.range).extends.apply(I,pn([],fn(y.map(function(U){return U.createdAt})),!1)),this._metadata.completed=!m.hasNext,h.debug("channel background sync progress",m),[4,this.saveMetadata()];case 4:return k.sent(),[3,8];case 5:return(C=k.sent())instanceof ue&&C.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:k.sent(),k.label=7;case 7:return m.hasNext=!1,m.nextToken="",[3,8];case 8:return[3,10];case 9:m.hasNext=!1,m.nextToken="",k.label=10;case 10:return[2,m]}})})})}return e.of=function(n){if(!p1[n]){var t=p1[n]=new e({_iid:n});se.of(n).dispatcher.on(function(r){r instanceof ms&&(r.stateType===ht.CONNECTED?t.resume():t.pause())})}return p1[n]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return O(this,void 0,void 0,function(){var n;return A(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={token:n?n.token:"",range:new ff(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!n&&n.completed},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this._metadata?[4,se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetaData=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),[2]}})})},e.prototype.resume=function(){var n,t;se.of(this._iid).logger.debug("channel background sync resume()"),this._sync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.token)!==null&&t!==void 0?t:"")},e.prototype.pause=function(){se.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e}(),f1={},jae=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadataKey=null,this._metadata=null,this._iid=t;var i,o=se.of(this._iid).sdkState;this._metadataKey=(i=o.userId,"sendbird:".concat(i,"@groupchannel/changelogs.meta"));var d=function(h){return"sendbird:".concat(h,"@groupchannel/changelogs")}(o.userId);this._sync=new Wu(d,function(){return O(r,void 0,void 0,function(){var h,f,m,_,y;return A(this,function(w){switch(w.label){case 0:return h={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:w.sent(),w.label=2;case 2:return w.trys.push([2,5,,8]),[4,gr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},bn.SYNC_CHANNEL_CHANGELOGS)];case 3:return f=w.sent(),m=f.hasMore,_=f.token,h.hasNext=m,h.nextToken=_,this._metadata.token=_,[4,this.saveMetadata()];case 4:return w.sent(),[3,8];case 5:return(y=w.sent())instanceof ue&&y.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:w.sent(),w.label=7;case 7:return h.hasNext=!1,h.nextToken="",[3,8];case 8:return[2,h]}})})})}return e.of=function(n){if(!f1[n]){var t=f1[n]=new e({_iid:n});se.of(n).dispatcher.on(function(r){r instanceof ms&&(r.stateType===ht.CONNECTED?t.resume():t.pause())})}return f1[n]},e.prototype.loadMetadata=function(){return O(this,void 0,void 0,function(){var n,t,r,i;return A(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(n=se.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:i=o.sent(),this._metadata={token:i?i.token:r/1e3},o.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this._metadata?[4,se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return O(this,void 0,void 0,function(){return A(this,function(n){return se.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),zae=function(){function e(n,t){var r=t.filter,i=t.order,o=t.limit,d=this;this.channels=[],this._iid=n,this._key="gcc-".concat(Ha()),this.filter=r!=null?r:new U5,this.order=i!=null?i:yr.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o!=null?o:l5;var h=se.of(this._iid),f=h.sdkState;h.cacheContext.localCacheEnabled&&j6.of(n).resume(),jae.of(n).resume(),gr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(m,_){var y=m.filter(function(C){return d.filter.match(C,f.userId)}),w=m.filter(function(C){return!d.filter.match(C,f.userId)}).map(function(C){return C.url});y.length>0&&d._addChannelsToView(y,_),w.length>0&&d._removeChannelsFromView(w,_)},onRemove:function(m,_){d._removeChannelsFromView(m,_)}})}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(n){this._handler=n},e.prototype._addChannelsToView=function(n,t,r){var i,o,d=this;r===void 0&&(r=!1);var h=[],f=[];try{for(var m=ze(n),_=m.next();!_.done;_=m.next()){var y=_.value,w=q6(this.channels,y,this.order),C=w.place;if(w.contains)switch(f.push(y),t){case bn.EVENT_CHANNEL_UPDATED:case bn.EVENT_MESSAGE_RECEIVED:this.channels.splice(C,1);var I=q6(this.channels,y,this.order).place;this.channels.splice(I,0,y);break;default:this.channels[C]=y}else if(C===this.channels.length){var k=j6.of(this._iid);(r||k.completed)&&(h.push(y),this.channels.push(y))}else h.push(y),this.channels.splice(C,0,y)}}catch(U){i={error:U}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}P6(t)&&en(function(){return O(d,void 0,void 0,function(){var U;return A(this,function(T){return U=new Im(t),h.length>0&&this._handler.onChannelsAdded(U,h),f.length>0&&this._handler.onChannelsUpdated(U,f),[2]})})})},e.prototype._removeChannelsFromView=function(n,t){var r,i,o=this,d=[],h=function(y){var w=f.channels.findIndex(function(C){return C.url===y});w>=0&&(d.push(f.channels[w].url),f.channels.splice(w,1))},f=this;try{for(var m=ze(n),_=m.next();!_.done;_=m.next())h(_.value)}catch(y){r={error:y}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return P6(t)&&d.length>0&&en(function(){return O(o,void 0,void 0,function(){var y;return A(this,function(w){return y=new Im(t),this._handler.onChannelsDeleted(y,d),[2]})})}),d},e.prototype._getLocalChannels=function(){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,gr.of(this._iid).getChannelsFromCache(this._token,this.filter,this.order)];case 1:return[2,n.sent()]}})})},e.prototype._getRemoteChannels=function(){return O(this,void 0,void 0,function(){var n,t,r;return A(this,function(i){switch(i.label){case 0:return[4,gr.of(this._iid).getMyGroupChannels(this._token,ne(ne({},this.filter),{order:this.order}),this._limit)];case 1:return n=i.sent(),t=n.channels,r=n.token,this._token=r,[2,t]}})})},e.prototype.loadMore=function(){return O(this,void 0,void 0,function(){var n,t=this;return A(this,function(r){switch(r.label){case 0:return this._hasMore?(n=[],[4,Ba(function(){return O(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this._getLocalChannels()];case 1:return n=i.sent(),[2]}})})})]):[3,3];case 1:return r.sent(),[4,Ba(function(){return O(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this._getRemoteChannels()];case 1:return n=i.sent(),[2]}})})})];case 2:return r.sent(),this._addChannelsToView(n,bn.REQUEST_CHANNEL,!0),[2,n];case 3:return[2,[]]}})})},e.prototype.dispose=function(){gr.of(this._iid).unsubscribeGroupChannelEvent(this._key)},e}(),Vae=function(e){function n(t){var r=this,i=t.token,o=t.limit,d=t.order,h=t.includeEmpty,f=t.membershipFilter,m=t.channelNameContainsFilter,_=t.channelUrlsFilter,y=t.customTypesFilter,w=t.customTypeStartsWithFilter,C=t.superChannelFilter,I=t.metadataOrderKeyFilter,k=t.metadataKey,U=t.metadataValues,T=t.metadataValueStartsWith,N=t.includeFrozen,H=t.includeMetaData;return(r=e.call(this)||this).method=ke.GET,r.path=ai,r.params=_n({token:i,limit:o,order:d,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,public_mode:Io.PUBLIC,public_membership_mode:f,name_contains:m,channel_urls:_,custom_types:y,custom_type_startswith:w,super_mode:C,metadata_order_key:I,metadata_key:k,metadata_values:U,metadata_value_startswith:T,show_frozen:N,show_metadata:H}),r}return j(n,e),n}(Oe),Kae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.channels=[],i.ts=null;var o=r.next,d=r.channels,h=r.ts;return i.token=o,d&&d.length>0&&(i.channels=d.map(function(f){return f.ts=h,new xa(t,f)})),i.ts=typeof h=="number"?h:null,i}return j(n,e),n}(Ue);(function(e){e.ALL="all",e.JOINED="joined"})(Fp||(Fp={}));var Wae=function(e){function n(t,r){var i,o,d,h,f,m,_,y,w,C,I,k,U,T,N=this;return(N=e.call(this,t,r)||this).includeEmpty=!1,N.includeFrozen=!0,N.includeMetaData=!0,N.channelUrlsFilter=null,N.customTypesFilter=null,N.customTypeStartsWithFilter=null,N.nicknameContainsFilter=null,N.channelNameContainsFilter=null,N.membershipFilter=Fp.ALL,N.superChannelFilter=sa.ALL,N.metadataKey=null,N.metadataValues=null,N.metadataOrderKeyFilter=null,N.metadataValueStartsWith=null,N.order=Dp.CHRONOLOGICAL,N.includeEmpty=(i=r.includeEmpty)!==null&&i!==void 0&&i,N.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,N.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,N.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,N.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,N.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:null,N.channelNameContainsFilter=(_=r.channelNameContainsFilter)!==null&&_!==void 0?_:null,N.membershipFilter=(y=r.membershipFilter)!==null&&y!==void 0?y:Fp.ALL,N.superChannelFilter=(w=r.superChannelFilter)!==null&&w!==void 0?w:sa.ALL,N.metadataKey=(C=r.metadataKey)!==null&&C!==void 0?C:null,N.metadataValues=(I=r.metadataValues)!==null&&I!==void 0?I:null,N.metadataOrderKeyFilter=(k=r.metadataOrderKeyFilter)!==null&&k!==void 0?k:null,N.metadataValueStartsWith=(U=r.metadataValueStartsWith)!==null&&U!==void 0?U:null,N.order=(T=r.order)!==null&&T!==void 0?T:Dp.CHRONOLOGICAL,N}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("boolean",this.includeEmpty)&&Z("boolean",this.includeFrozen)&&Z("boolean",this.includeMetaData)&&Z("string",this.channelNameContainsFilter,!0)&&En("string",this.channelUrlsFilter,!0)&&En("string",this.customTypesFilter,!0)&&Z("string",this.customTypeStartsWithFilter,!0)&&yn(Fp,this.membershipFilter)&&yn(sa,this.superChannelFilter)&&yn(Dp,this.order)&&Z("string",this.metadataOrderKeyFilter,!0)&&Z("string",this.metadataKey,!0)&&En("string",this.metadataValues,!0)&&Z("string",this.metadataValueStartsWith,!0)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h,f,m,_;return A(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=se.of(this._iid),i=r.requestQueue,o=r.dispatcher,d=new Vae(ne(ne({},this),{token:this._token})),[4,i.send(d)]):[3,2]):[3,5];case 1:return h=y.sent(),f=h.as(Kae),m=f.channels,_=f.token,this._token=_,this._hasNext=!!_,o.dispatch(new Yn({channels:m,source:bn.REQUEST_CHANNEL})),this._isLoading=!1,[2,m];case 2:return[2,t];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),Qae=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(i){r.hasOwnProperty(i)&&(r[i]=t[i])}),r}return j(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserJoined=Tn,t.onUserLeft=Tn,t.onUserReceivedInvitation=Tn,t.onUserDeclinedInvitation=Tn,t.onChannelHidden=Tn,t.onUnreadMemberStatusUpdated=Tn,t.onUndeliveredMemberStatusUpdated=Tn,t.onTypingStatusUpdated=Tn,t}return j(n,e),n}(O5)),Yae=function(e){function n(t){var r=this,i=t.token,o=t.limit,d=t.order,h=t.reverse,f=t.channelUrl,m=t.messageTypeFilter,_=t.scheduledStatus;return(r=e.call(this)||this).method=ke.GET,r.path="".concat(HM),r.params=_n({limit:o,reverse:h,channel_url:f,order:d,status:_}),i&&(r.params.token=i),m&&(r.params.message_type_filter=m),r}return j(n,e),n}(Oe),Xae=function(e){function n(t,r){var i=e.call(this,t,r)||this;i.token=null,i.scheduledMessages=[];var o=r.next,d=r.scheduled_messages;return i.token=o,i.scheduledMessages=d.map(function(h){return Wa(t,h)}),i}return j(n,e),n}(Ue),Jae=function(e){function n(t,r){var i,o,d,h,f,m=this;return(m=e.call(this,t,r)||this).channelUrl=null,m.order=null,m.reverse=!1,m.scheduledStatus=null,m.messageTypeFilter=Lr.ALL,m.channelUrl=(i=r.channelUrl)!==null&&i!==void 0?i:null,m.order=(o=r.order)!==null&&o!==void 0?o:null,m.reverse=(d=r.reverse)!==null&&d!==void 0&&d,m.scheduledStatus=(h=r.scheduledStatus)!==null&&h!==void 0?h:null,m.messageTypeFilter=(f=r.messageTypeFilter)!==null&&f!==void 0?f:Lr.ALL,m}return j(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&Z("string",this.channelUrl,!0)&&(yn(DE,this.order)||this.order===null)&&Z("boolean",this.reverse)&&(En(vl,this.scheduledStatus)||this.scheduledStatus===null)&&yn(Lr,this.messageTypeFilter)},n.prototype.next=function(){return O(this,void 0,void 0,function(){var t,r,i,o,d,h;return A(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=se.of(this._iid).requestQueue,r=new Yae(ne(ne({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return i=f.sent(),o=i.as(Xae),d=o.scheduledMessages,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw ue.queryInProgress;case 4:return[3,6];case 5:throw ue.invalidParameters;case 6:return[2]}})})},n}(Ro),Zae=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return j(n,e),n.prototype.init=function(t,r){var i=r.sdkState,o=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,_=r.cacheContext;e.prototype.init.call(this,t,{sdkState:i,dispatcher:o,sessionManager:d,requestQueue:h,logger:f,onlineDetector:m,cacheContext:_}),this._manager=new gr(t,{sdkState:i,cacheContext:_,dispatcher:o,sessionManager:d,requestQueue:h,logger:f})},n.prototype.createGroupChannelCollection=function(t){return t===void 0&&(t={}),new zae(this._iid,t)},n.prototype.createMyGroupChannelListQuery=function(t){return t===void 0&&(t={}),new q5(this._iid,t)},n.prototype.createPublicGroupChannelListQuery=function(t){return t===void 0&&(t={}),new Wae(this._iid,t)},n.prototype.createScheduledMessageListQuery=function(t){return t===void 0&&(t={}),new Jae(this._iid,t)},n.prototype.addGroupChannelHandler=function(t,r){Pe(Z("string",t)&&r instanceof Qae).throw(ue.invalidParameters),this._manager.addHandler(t,r)},n.prototype.removeGroupChannelHandler=function(t){Pe(Z("string",t)).throw(ue.invalidParameters),this._manager.removeHandler(t)},n.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildGroupChannelFromSerializedData=function(t){return this._manager.buildGroupChannelFromSerializedData(t)},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){return this._manager.buildGroupChannelListQueryFromSerializedData(t)},n.prototype.buildMemberFromSerializedData=function(t){return this._manager.buildMemberFromSerializedData(t)},n.prototype.getChannel=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return Pe(Z("string",t)).throw(ue.invalidParameters),[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return Pe(Z("string",t)).throw(ue.invalidParameters),[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.getMyGroupChannelChangeLogsByToken=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},Sm),r),Pe(Z("string",t)&&FE(r)).throw(ue.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getMyGroupChannelChangeLogsByTimestamp=function(t,r){return O(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r=ne(ne({},Sm),r),Pe(Z("number",t)&&FE(r)).throw(ue.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,i.sent()]}})})},n.prototype.getGroupChannelCount=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return t=ne(ne({},L5),t),Pe(P5(t)).throw(ue.invalidParameters),[2,this._manager.getGroupChannelCount(t)]})})},n.prototype.getUnreadItemCount=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalUnreadChannelCount=function(){return O(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,t.sent()]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){return this._manager.getSubscribedCustomTypeUnreadMessageCount(t)},n.prototype.createChannel=function(t){return t===void 0&&(t={}),O(this,void 0,void 0,function(){return A(this,function(r){return t=ne(ne({},Hv),t),Pe($E(t)).throw(ue.invalidParameters),[2,this._manager.createChannel(t)]})})},n.prototype.createDistinctChannelIfNotExist=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return t=ne(ne({},Hv),t),Pe($E(t)).throw(ue.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]})})},n.prototype.createChannelWithUserIds=function(t,r,i,o,d,h){return r===void 0&&(r=!1),i===void 0&&(i=null),o===void 0&&(o=null),d===void 0&&(d=""),h===void 0&&(h=""),O(this,void 0,void 0,function(){var f;return A(this,function(m){return f=ne(ne({},Hv),{invitedUserIds:t,isDistinct:r,name:i,data:d,customType:h}),typeof o=="string"?f.coverUrl=o:f.coverImage=o,[2,this.createChannel(f)]})})},n.prototype.markAsReadAll=function(){return O(this,void 0,void 0,function(){return A(this,function(t){return this._manager.markAsReadAll(),[2]})})},n.prototype.markAsReadWithChannelUrls=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){return Pe(En("string",t)).throw(ue.invalidParameters),this._manager.markAsReadWithChannelUrls(t),[2]})})},n.prototype.markAsDelivered=function(t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return Pe(Z("string",t)).throw(ue.invalidParameters),[4,this.getChannel(t)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},n}(w3),G5="INIT_USER",D3="RESET_USER",j5="UPDATE_USER_INFO";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qE=function(e,n){return qE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},qE(e,n)};function ese(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");qE(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var nn=function(){return nn=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},nn.apply(this,arguments)};function Mn(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var z5={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},nse={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},tse={NONE:"NONE",PENDING:"PENDING",SENT:"SENT",FAILED:"FAILED",DELIVERED:"DELIVERED",READ:"READ"},z6=function(n){return n===""||n===null},V5=function(n){return z5.IMAGE.indexOf(n)>=0},K5=function(n){return z5.VIDEO.indexOf(n)>=0},V6=function(n){return V5(n)||K5(n)},W5=function(){return nn({},tse)},Q5=function(){return nn({},nse)},rse=function(n,t){return Array.isArray(t)?Mn(Mn([],n,!0),t,!0):(n.push(t),n)},BE=function(n){return Array.isArray(n)?n.reduce(rse,[]).join(" "):n},ise=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,K6=function(n){return ise.test(n)},vo;(function(e){e[e.normal=0]="normal",e[e.mention=1]="mention",e[e.url=2]="url"})(vo||(vo={}));var ase=function(n,t,r){for(var i=t||[],o=r||"@",d=[],h=RegExp("".concat(o,"{(").concat(i.map(function(w){return w==null?void 0:w.userId}).join("|"),")}"),"g"),f,m=0,_=function(){var C=f[0],I=f[1],k=h.lastIndex,U=k-C.length,T=n.slice(m,U);d.push({type:K6(T)?vo.url:vo.normal,value:T});var N=i.find(function(H){return(H==null?void 0:H.userId)===I});N?d.push({type:vo.mention,value:(N==null?void 0:N.nickname)||"(No name)",userId:I}):d.push({type:vo.normal,value:C}),m=k};(f=h.exec(n))!==null;)_();if(m<n.length){var y=n.slice(m);d.push({type:K6(y)?vo.url:vo.normal,value:y})}return d},sse=function(n,t){if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return!1};/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qi.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function W6(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],i=Array.apply(null,Array(r.length)).map(function(m){return null});function o(m){var _=typeof m=="string",y=_&&m.trim().charAt(0)==="<";return _&&!y}function d(m,_){t.onError(m,r[_],_)}function h(m,_){var y=t.onSuccess(m,r[_],_);m=y===!1?"":y||m,i[_]=m,i.indexOf(null)===-1&&t.onComplete(i)}var f=document.createElement("a");r.forEach(function(m,_){f.setAttribute("href",m),f.href=String(f.href);var y=Boolean(document.all&&!window.atob),w=y&&f.host.split(":")[0]!==location.host.split(":")[0];if(w){var C=f.protocol===location.protocol;if(C){var I=new XDomainRequest;I.open("GET",m),I.timeout=0,I.onprogress=Function.prototype,I.ontimeout=Function.prototype,I.onload=function(){var U=I.responseText;o(U)?h(U,_):d(I,_)},I.onerror=function(U){d(I,_)},setTimeout(function(){I.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(m,")")),d(null,_)}else{var k=new XMLHttpRequest;k.open("GET",m),t.mimeType&&k.overrideMimeType&&k.overrideMimeType(t.mimeType),t.onBeforeSend(k,m,_),k.onreadystatechange=function(){if(k.readyState===4){var U=k.responseText;k.status<400&&o(U)||k.status===0&&o(U)?h(U,_):d(k,_)}},k.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function Q6(e){var n={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:e.skipDisabled!==!1,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(m){return!ose(m,t.exclude)}),i=Array.apply(null,Array(r.length)).map(function(m){return null});function o(){var m=i.indexOf(null)===-1;if(m){i.reduce(function(y,w,C){return w===""&&y.push(C),y},[]).reverse().forEach(function(y){return[r,i].forEach(function(w){return w.splice(y,1)})});var _=i.join("");t.onComplete(_,i,r)}}function d(m,_,y,w){var C=t.onSuccess(m,y,w);m=C!==void 0&&Boolean(C)===!1?"":C||m,f(m,y,w,function(I,k){i[_]===null&&(k.forEach(function(U){return t.onError(U.xhr,y,U.url)}),!t.filter||t.filter.test(I)?i[_]=I:i[_]="",o())})}function h(m,_){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],w={};return w.rules=(m.replace(n.cssComments,"").match(n.cssImports)||[]).filter(function(C){return y.indexOf(C)===-1}),w.urls=w.rules.map(function(C){return C.replace(n.cssImports,"$1")}),w.absoluteUrls=w.urls.map(function(C){return v1(C,_)}),w.absoluteRules=w.rules.map(function(C,I){var k=w.urls[I],U=v1(w.absoluteUrls[I],_);return C.replace(k,U)}),w}function f(m,_,y,w){var C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],k=h(m,y,I);k.rules.length?W6(k.absoluteUrls,{onBeforeSend:function(T,N,H){t.onBeforeSend(T,_,N)},onSuccess:function(T,N,H){var $=t.onSuccess(T,_,N);T=$===!1?"":$||T;var Q=h(T,N,I);return Q.rules.forEach(function(P,W){T=T.replace(P,Q.absoluteRules[W])}),T},onError:function(T,N,H){C.push({xhr:T,url:N}),I.push(k.rules[H]),f(m,_,y,w,C,I)},onComplete:function(T){T.forEach(function(N,H){m=m.replace(k.rules[H],N)}),f(m,_,y,w,C,I)}}):w(m,C)}r.length?r.forEach(function(m,_){var y=m.getAttribute("href"),w=m.getAttribute("rel"),C=m.nodeName.toLowerCase()==="link"&&y&&w&&w.toLowerCase().indexOf("stylesheet")!==-1,I=t.skipDisabled===!1?!1:m.disabled,k=m.nodeName.toLowerCase()==="style";if(C&&!I){var U=y.indexOf("data:text/css")!==-1;if(U){var T=decodeURIComponent(y.substring(y.indexOf(",")+1));t.useCSSOM&&(T=Array.apply(null,m.sheet.cssRules).map(function(H){return H.cssText}).join("")),d(T,_,m,location.href)}else W6(y,{mimeType:"text/css",onBeforeSend:function($,Q,P){t.onBeforeSend($,m,Q)},onSuccess:function($,Q,P){var W=v1(y);d($,_,m,W)},onError:function($,Q,P){i[_]="",t.onError($,m,Q),o()}})}else if(k&&!I){var N=m.textContent;t.useCSSOM&&(N=Array.apply(null,m.sheet.cssRules).map(function(H){return H.cssText}).join("")),d(N,_,m,location.href)}else i[_]="",o()}):t.onComplete("",[])}function v1(e,n){var t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,i.href=e,i.href}function ose(e,n){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return t.call(e,n)}var Y5=X5;function X5(e,n,t){e instanceof RegExp&&(e=Y6(e,t)),n instanceof RegExp&&(n=Y6(n,t));var r=J5(e,n,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+e.length,r[1]),post:t.slice(r[1]+n.length)}}function Y6(e,n){var t=n.match(e);return t?t[0]:null}X5.range=J5;function J5(e,n,t){var r,i,o,d,h,f=t.indexOf(e),m=t.indexOf(n,f+1),_=f;if(f>=0&&m>0){if(e===n)return[f,m];for(r=[],o=t.length;_>=0&&!h;)_==f?(r.push(_),f=t.indexOf(e,_+1)):r.length==1?h=[r.pop(),m]:(i=r.pop(),i<o&&(o=i,d=m),m=t.indexOf(n,_+1)),_=f<m&&f>=0?f:m;r.length&&(h=[o,d])}return h}function U3(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},r=Qi({},t,n),i=[];function o(re){throw new Error("CSS parse error: ".concat(re))}function d(re){var pe=re.exec(e);if(pe)return e=e.slice(pe[0].length),pe}function h(){return d(/^{\s*/)}function f(){return d(/^}/)}function m(){d(/^\s*/)}function _(){if(m(),!(e[0]!=="/"||e[1]!=="*")){for(var re=2;e[re]&&(e[re]!=="*"||e[re+1]!=="/");)re++;if(!e[re])return o("end of comment is missing");var pe=e.slice(2,re);return e=e.slice(re+2),{type:"comment",comment:pe}}}function y(){for(var re=[],pe;pe=_();)re.push(pe);return r.removeComments?[]:re}function w(){for(m();e[0]==="}";)o("extra closing bracket");var re=d(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(re){var pe=re[0].trim(),de,De=/\/\*/.test(pe);De&&(pe=pe.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var Ge=/["']\w*,\w*["']/.test(pe);Ge&&(pe=pe.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(Ae){return Ae.replace(/,/g,"\u200C")}));var ge=/,/.test(pe);return ge?de=pe.split(/\s*(?![^(]*\)),\s*/):de=[pe],Ge&&(de=de.map(function(Ae){return Ae.replace(/\u200C/g,",")})),de}}function C(){if(e[0]==="@")return le();d(/^([;\s]*)+/);var re=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pe=d(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!pe){if(pe=pe[0].trim(),!d(/^:\s*/))return o("property missing ':'");var de=d(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),De={type:"declaration",property:pe.replace(re,""),value:de?de[0].replace(re,"").trim():""};return d(/^[;\s]*/),De}}function I(){if(!h())return o("missing '{'");for(var re,pe=y();re=C();)pe.push(re),pe=pe.concat(y());return f()?pe:o("missing '}'")}function k(){m();for(var re=[],pe;pe=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)re.push(pe[1]),d(/^,\s*/);if(re.length)return{type:"keyframe",values:re,declarations:I()}}function U(){var re=d(/^@([-\w]+)?keyframes\s*/);if(!!re){var pe=re[1];if(re=d(/^([-\w]+)\s*/),!re)return o("@keyframes missing name");var de=re[1];if(!h())return o("@keyframes missing '{'");for(var De,Ge=y();De=k();)Ge.push(De),Ge=Ge.concat(y());return f()?{type:"keyframes",name:de,vendor:pe,keyframes:Ge}:o("@keyframes missing '}'")}}function T(){var re=d(/^@page */);if(re){var pe=w()||[];return{type:"page",selectors:pe,declarations:I()}}}function N(){var re=d(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(re){var pe="".concat(re[1],"-").concat(re[2])+(re[3]?"-".concat(re[3]):"");return{type:"page-margin-box",name:pe,declarations:I()}}}function H(){var re=d(/^@font-face\s*/);if(re)return{type:"font-face",declarations:I()}}function $(){var re=d(/^@supports *([^{]+)/);if(re)return{type:"supports",supports:re[1].trim(),rules:Ce()}}function Q(){var re=d(/^@host\s*/);if(re)return{type:"host",rules:Ce()}}function P(){var re=d(/^@media([^{]+)*/);if(re)return{type:"media",media:(re[1]||"").trim(),rules:Ce()}}function W(){var re=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(re)return{type:"custom-media",name:re[1].trim(),media:re[2].trim()}}function K(){var re=d(/^@([-\w]+)?document *([^{]+)/);if(re)return{type:"document",document:re[2].trim(),vendor:re[1]?re[1].trim():null,rules:Ce()}}function he(){var re=d(/^@(import|charset|namespace)\s*([^;]+);/);if(re)return{type:re[1],name:re[2].trim()}}function le(){if(m(),e[0]==="@"){var re=he()||H()||P()||U()||$()||K()||W()||Q()||T()||N();if(re&&!r.preserveStatic){var pe=!1;if(re.declarations)pe=re.declarations.some(function(De){return/var\(/.test(De.value)});else{var de=re.keyframes||re.rules||[];pe=de.some(function(De){return(De.declarations||[]).some(function(Ge){return/var\(/.test(Ge.value)})})}return pe?re:{}}return re}}function Se(){if(!r.preserveStatic){var re=Y5("{","}",e);if(re){var pe=/:(?:root|host)(?![.:#(])/.test(re.pre)&&/--\S*\s*:/.test(re.body),de=/var\(/.test(re.body);if(!pe&&!de)return e=e.slice(re.end+1),{}}}var De=w()||[],Ge=r.preserveStatic?I():I().filter(function(ge){var Ae=De.some(function(J){return/:(?:root|host)(?![.:#(])/.test(J)})&&/^--\S/.test(ge.property),qe=/var\(/.test(ge.value);return Ae||qe});return De.length||o("selector missing"),{type:"rule",selectors:De,declarations:Ge}}function Ce(re){if(!re&&!h())return o("missing '{'");for(var pe,de=y();e.length&&(re||e[0]!=="}")&&(pe=le()||Se());)pe.type&&de.push(pe),de=de.concat(y());return!re&&!f()?o("missing '}'"):de}return{type:"stylesheet",stylesheet:{rules:Ce(!0),errors:i}}}function X6(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},r=Qi({},t,n),i=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof e=="string"&&(e=U3(e,r)),e.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(d){return i.test(d)})||o.declarations.forEach(function(d,h){var f=d.property,m=d.value;f&&f.indexOf("--")===0&&(r.store[f]=m)})}),r.store}function Z5(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,r={charset:function(d){return"@charset "+d.name+";"},comment:function(d){return d.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+d.comment+"*/":""},"custom-media":function(d){return"@custom-media "+d.name+" "+d.media+";"},declaration:function(d){return d.property+":"+d.value+";"},document:function(d){return"@"+(d.vendor||"")+"document "+d.document+"{"+i(d.rules)+"}"},"font-face":function(d){return"@font-face{"+i(d.declarations)+"}"},host:function(d){return"@host{"+i(d.rules)+"}"},import:function(d){return"@import "+d.name+";"},keyframe:function(d){return d.values.join(",")+"{"+i(d.declarations)+"}"},keyframes:function(d){return"@"+(d.vendor||"")+"keyframes "+d.name+"{"+i(d.keyframes)+"}"},media:function(d){return"@media "+d.media+"{"+i(d.rules)+"}"},namespace:function(d){return"@namespace "+d.name+";"},page:function(d){return"@page "+(d.selectors.length?d.selectors.join(", "):"")+"{"+i(d.declarations)+"}"},"page-margin-box":function(d){return"@"+d.name+"{"+i(d.declarations)+"}"},rule:function(d){var h=d.declarations;if(h.length)return d.selectors.join(",")+"{"+i(h)+"}"},supports:function(d){return"@supports "+d.supports+"{"+i(d.rules)+"}"}};function i(o){for(var d="",h=0;h<o.length;h++){var f=o[h];t&&t(f);var m=r[f.type](f);m&&(d+=m,m.length&&f.selectors&&(d+=n))}return d}return i(e.stylesheet.rules)}function eD(e,n){e.rules.forEach(function(t){if(t.rules){eD(t,n);return}if(t.keyframes){t.keyframes.forEach(function(r){r.type==="keyframe"&&n(r.declarations,t)});return}!t.declarations||n(t.declarations,e)})}var lse="--",use="var";function cse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=Qi({},t,n);return typeof e=="string"&&(e=U3(e,r)),eD(e.stylesheet,function(i,o){for(var d=0;d<i.length;d++){var h=i[d],f=h.type,m=h.property,_=h.value;if(f==="declaration"){if(!r.preserveVars&&m&&m.indexOf(lse)===0){i.splice(d,1),d--;continue}if(_.indexOf(use+"(")!==-1){var y=yp(_,r);y!==h.value&&(y=dse(y),r.preserveVars?(i.splice(d,0,{type:f,property:m,value:y}),d++):h.value=y)}}}}),Z5(e)}function dse(e){var n=/calc\(([^)]+)\)/g;return(e.match(n)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)}),e}function yp(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(e.indexOf("var(")===-1)return e;var r=Y5("(",")",e);function i(d){var h=d.split(",")[0].replace(/[\s\n\t]/g,""),f=(d.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],m=Object.prototype.hasOwnProperty.call(n.variables,h)?String(n.variables[h]):void 0,_=m||(f?String(f):void 0),y=t||d;return m||n.onWarning('variable "'.concat(h,'" is undefined')),_&&_!=="undefined"&&_.length>0?yp(_,n,y):"var(".concat(y,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(n.onWarning("var() must contain a non-whitespace string"),e):r.pre.slice(0,-3)+i(r.body)+yp(r.post,n)}else return r.pre+"(".concat(yp(r.body,n),")")+yp(r.post,n);else return e.indexOf("var(")!==-1&&n.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var ug=typeof window<"u",J6=ug&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),xu={group:0,job:0},_v={rootElement:ug?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},Ls={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},dr={dom:{},job:{},user:{}},qv=!1,ba=null,Ep=0,GE=null,jE=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function _o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n="cssVars(): ",t=Qi({},_v,e);function r(_,y,w,C){!t.silent&&window.console&&console.error("".concat(n).concat(_,`
`),y),t.onError(_,y,w,C)}function i(_){!t.silent&&window.console&&console.warn("".concat(n).concat(_)),t.onWarning(_)}function o(_){t.onFinally(Boolean(_),J6,m1()-t.__benchmark)}if(!!ug){if(t.watch){t.watch=_v.watch,hse(t),_o(t);return}else t.watch===!1&&ba&&(ba.disconnect(),ba=null);if(!t.__benchmark){if(qv===t.rootElement){pse(e);return}var d=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=m1(),t.exclude=[ba?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(_){return _}).join(","),t.variables=mse(t.variables),d.forEach(function(_){var y=_.nodeName.toLowerCase()==="style"&&_.__cssVars.text,w=y&&_.textContent!==_.__cssVars.text;y&&w&&(_.sheet&&(_.sheet.disabled=!1),_.setAttribute("data-cssvars",""))}),!ba){var h=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));h.forEach(function(_){var y=_.getAttribute("data-cssvars-group"),w=y?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(y,'"]')):null;w||_.parentNode.removeChild(_)}),Ep&&d.length<Ep&&(Ep=d.length,dr.dom={})}}if(document.readyState!=="loading")if(J6&&t.onlyLegacy){var f=!1;if(t.updateDOM){var m=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(_){var y=t.variables[_];f=f||y!==getComputedStyle(m).getPropertyValue(_),m.style.setProperty(_,y)})}o(f)}else!jE&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?Q6({rootElement:_v.rootElement,include:_v.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(y,w,C){var I=(w.sheet||{}).disabled&&!w.__cssVars;return I?!1:(y=y.replace(Ls.cssComments,"").replace(Ls.cssMediaQueries,""),y=(y.match(Ls.cssVarDeclRules)||[]).join(""),y||!1)},onComplete:function(y,w,C){X6(y,{store:dr.dom,onWarning:i}),jE=!0,_o(t)}}):(qv=t.rootElement,Q6({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(y,w,C){var I=y.responseURL||nD(C,location.href),k=y.statusText?"(".concat(y.statusText,")"):"Unspecified Error"+(y.status===0?" (possibly CORS related)":""),U="CSS XHR Error: ".concat(I," ").concat(y.status," ").concat(k);r(U,w,y,I)},onSuccess:function(y,w,C){var I=(w.sheet||{}).disabled&&!w.__cssVars;if(I)return!1;var k=w.nodeName.toLowerCase()==="link",U=w.nodeName.toLowerCase()==="style"&&y!==w.textContent,T=t.onSuccess(y,w,C);return y=T!==void 0&&Boolean(T)===!1?"":T||y,t.updateURLs&&(k||U)&&(y=vse(y,C)),y},onComplete:function(y,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],I=Qi({},dr.dom,dr.user),k=!1;if(dr.job={},C.forEach(function(W,K){var he=w[K];if(W.__cssVars=W.__cssVars||{},W.__cssVars.text=he,Ls.cssVars.test(he))try{var le=U3(he,{preserveStatic:t.preserveStatic,removeComments:!0});X6(le,{parseHost:Boolean(t.rootElement.host),store:dr.dom,onWarning:i}),W.__cssVars.tree=le}catch(Se){r(Se.message,W)}}),Qi(dr.job,dr.dom),t.updateDOM?(Qi(dr.user,t.variables),Qi(dr.job,dr.user)):(Qi(dr.job,dr.user,t.variables),Qi(I,t.variables)),k=xu.job>0&&Boolean(Object.keys(dr.job).length>Object.keys(I).length||Boolean(Object.keys(I).length&&Object.keys(dr.job).some(function(W){return dr.job[W]!==I[W]}))),k)zE(t.rootElement),_o(t);else{var U=[],T=[],N=!1;if(t.updateDOM&&xu.job++,C.forEach(function(W,K){var he=!W.__cssVars.tree;if(W.__cssVars.tree)try{cse(W.__cssVars.tree,Qi({},t,{variables:dr.job,onWarning:i}));var le=Z5(W.__cssVars.tree);if(t.updateDOM){var Se=w[K],Ce=Ls.cssVarFunc.test(Se);if(W.getAttribute("data-cssvars")||W.setAttribute("data-cssvars","src"),le.length&&Ce){var re=W.getAttribute("data-cssvars-group")||++xu.group,pe=le.replace(/\s/g,""),de=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(re,'"]'))||document.createElement("style");N=N||Ls.cssKeyframes.test(le),t.preserveStatic&&W.sheet&&(W.sheet.disabled=!0),de.hasAttribute("data-cssvars")||de.setAttribute("data-cssvars","out"),pe===W.textContent.replace(/\s/g,"")?(he=!0,de&&de.parentNode&&(W.removeAttribute("data-cssvars-group"),de.parentNode.removeChild(de))):pe!==de.textContent.replace(/\s/g,"")&&([W,de].forEach(function(De){De.setAttribute("data-cssvars-job",xu.job),De.setAttribute("data-cssvars-group",re)}),de.textContent=le,U.push(le),T.push(de),de.parentNode||W.parentNode.insertBefore(de,W.nextSibling))}}else W.textContent.replace(/\s/g,"")!==le&&U.push(le)}catch(De){r(De.message,W)}he&&W.setAttribute("data-cssvars","skip"),W.hasAttribute("data-cssvars-job")||W.setAttribute("data-cssvars-job",xu.job)}),Ep=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var H=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),$=0,Q;Q=H[$];++$)if(Q.shadowRoot&&Q.shadowRoot.querySelector("style")){var P=Qi({},t,{rootElement:Q.shadowRoot});_o(P)}}t.updateDOM&&N&&fse(t.rootElement),qv=!1,t.onComplete(U.join(""),T,JSON.parse(JSON.stringify(dr.job)),m1()-t.__benchmark),o(T.length)}}}));else document.addEventListener("DOMContentLoaded",function _(y){_o(e),document.removeEventListener("DOMContentLoaded",_)})}}_o.reset=function(){xu.job=0,xu.group=0,qv=!1,ba&&(ba.disconnect(),ba=null),Ep=0,GE=null,jE=!1;for(var e in dr)dr[e]={}};function hse(e){function n(f){var m=t(f)&&f.hasAttribute("disabled"),_=(f.sheet||{}).disabled;return m||_}function t(f){var m=f.nodeName.toLowerCase()==="link"&&(f.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return m}function r(f){return f.nodeName.toLowerCase()==="style"}function i(f){var m=!1;if(f.type==="attributes"&&t(f.target)&&!n(f.target)){var _=f.attributeName==="disabled",y=f.attributeName==="href",w=f.target.getAttribute("data-cssvars")==="skip",C=f.target.getAttribute("data-cssvars")==="src";_?m=!w&&!C:y&&(w?f.target.setAttribute("data-cssvars",""):C&&zE(e.rootElement,!0),m=!0)}return m}function o(f){var m=!1;if(f.type==="childList"){var _=r(f.target),y=f.target.getAttribute("data-cssvars")==="out";m=_&&!y}return m}function d(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.addedNodes).some(function(_){var y=_.nodeType===1,w=y&&_.hasAttribute("data-cssvars"),C=r(_)&&Ls.cssVars.test(_.textContent),I=!w&&(t(_)||C);return I&&!n(_)})),m}function h(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.removedNodes).some(function(_){var y=_.nodeType===1,w=y&&_.getAttribute("data-cssvars")==="out",C=y&&_.getAttribute("data-cssvars")==="src",I=C;if(C||w){var k=_.getAttribute("data-cssvars-group"),U=e.rootElement.querySelector('[data-cssvars-group="'.concat(k,'"]'));C&&zE(e.rootElement,!0),U&&U.parentNode.removeChild(U)}return I})),m}!window.MutationObserver||(ba&&(ba.disconnect(),ba=null),ba=new MutationObserver(function(f){var m=f.some(function(_){return i(_)||o(_)||d(_)||h(_)});m&&_o(e)}),ba.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function pse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(GE),GE=setTimeout(function(){e.__benchmark=null,_o(e)},n)}function fse(e){var n=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(w){return getComputedStyle(document.body)[w]})[0];if(n){for(var t=[].slice.call(e.querySelectorAll("*")),r=[],i="__CSSVARSPONYFILL-KEYFRAMES__",o=0,d=t.length;o<d;o++){var h=t[o],f=getComputedStyle(h)[n];f!=="none"&&(h.style[n]+=i,r.push(h))}document.body.offsetHeight;for(var m=0,_=r.length;m<_;m++){var y=r[m].style;y[n]=y[n].replace(i,"")}}}function vse(e,n){var t=e.replace(Ls.cssComments,"").match(Ls.cssUrls)||[];return t.forEach(function(r){var i=r.replace(Ls.cssUrls,"$1"),o=nD(i,n);e=e.replace(r,r.replace(i,o))}),e}function mse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=/^-{2}/;return Object.keys(e).reduce(function(t,r){var i=n.test(r)?r:"--".concat(r.replace(/^-+/,""));return t[i]=e[r],t},{})}function nD(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),r.href=n,i.href=e,i.href}function m1(){return ug&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function zE(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(r){return r.setAttribute("data-cssvars","")}),n&&(dr.dom={})}var qu=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n==="x"?t:t&3|8;return r.toString(16)})},VE=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",t={en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect\u2026",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times per message.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message"}};return t[n]},bv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function gse(e,n,t){t=t||{};var r;return typeof bv[e]=="string"?r=bv[e]:n===1?r=bv[e].one:r=bv[e].other.replace("{{count}}",n),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function g1(e){return function(n){var t=n||{},r=t.width?String(t.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}var _se={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ese={date:g1({formats:_se,defaultWidth:"full"}),time:g1({formats:bse,defaultWidth:"full"}),dateTime:g1({formats:yse,defaultWidth:"full"})},wse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Cse(e,n,t,r){return wse[e]}function cp(e){return function(n,t){var r=t||{},i=r.context?String(r.context):"standalone",o;if(i==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,h=r.width?String(r.width):d;o=e.formattingValues[h]||e.formattingValues[d]}else{var f=e.defaultWidth,m=r.width?String(r.width):e.defaultWidth;o=e.values[m]||e.values[f]}var _=e.argumentCallback?e.argumentCallback(n):n;return o[_]}}var xse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ise={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function Ose(e,n){var t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var Ase={ordinalNumber:Ose,era:cp({values:xse,defaultWidth:"wide"}),quarter:cp({values:Sse,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:cp({values:Ise,defaultWidth:"wide"}),day:cp({values:kse,defaultWidth:"wide"}),dayPeriod:cp({values:Tse,defaultWidth:"wide",formattingValues:Nse,defaultFormattingWidth:"wide"})};function Rse(e){return function(n,t){var r=String(n),i=t||{},o=r.match(e.matchPattern);if(!o)return null;var d=o[0],h=r.match(e.parsePattern);if(!h)return null;var f=e.valueCallback?e.valueCallback(h[0]):h[0];return f=i.valueCallback?i.valueCallback(f):f,{value:f,rest:r.slice(d.length)}}}function dp(e){return function(n,t){var r=String(n),i=t||{},o=i.width,d=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],h=r.match(d);if(!h)return null;var f=h[0],m=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],_;return Object.prototype.toString.call(m)==="[object Array]"?_=Dse(m,function(y){return y.test(f)}):_=Mse(m,function(y){return y.test(f)}),_=e.valueCallback?e.valueCallback(_):_,_=i.valueCallback?i.valueCallback(_):_,{value:_,rest:r.slice(f.length)}}}function Mse(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function Dse(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var Use=/^(\d+)(th|st|nd|rd)?/i,Lse=/\d+/i,Pse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$se={any:[/^b/i,/^(a|c)/i]},Fse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hse={any:[/1/i,/2/i,/3/i,/4/i]},qse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kse={ordinalNumber:Rse({matchPattern:Use,parsePattern:Lse,valueCallback:function(e){return parseInt(e,10)}}),era:dp({matchPatterns:Pse,defaultMatchWidth:"wide",parsePatterns:$se,defaultParseWidth:"any"}),quarter:dp({matchPatterns:Fse,defaultMatchWidth:"wide",parsePatterns:Hse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:dp({matchPatterns:qse,defaultMatchWidth:"wide",parsePatterns:Bse,defaultParseWidth:"any"}),day:dp({matchPatterns:Gse,defaultMatchWidth:"wide",parsePatterns:jse,defaultParseWidth:"any"}),dayPeriod:dp({matchPatterns:zse,defaultMatchWidth:"any",parsePatterns:Vse,defaultParseWidth:"any"})},Wse={code:"en-US",formatDistance:gse,formatLong:Ese,formatRelative:Cse,localize:Ase,match:Kse,options:{weekStartsOn:0,firstWeekContainsDate:1}},tD=Wse,_s=S.createContext({stringSet:VE("en"),dateLocale:tD}),Qse=function(n){var t=n.children;return S.createElement(_s.Provider,{value:n},t)},Sf=function(){return S.useContext(_s)},rD="INIT_SDK",L3="SET_SDK_LOADING",P3="RESET_SDK",KE="SDK_ERROR",Yse="3.1.3",Xse=function(n){var t=n.sdkDispatcher,r=n.userDispatcher,i=n.sdk,o=n.onDisconnect;t({type:L3,payload:!0}),i&&i.disconnect?i.disconnect().then(function(){t({type:P3}),r({type:D3})}).finally(function(){o()}):o()},Z6=function(n,t){var r=n.userId,i=n.appId,o=n.nickname,d=n.profileUrl,h=n.accessToken,f=n.configureSession,m=n.customApiHost,_=n.customWebSocketHost,y=n.sdk,w=n.logger,C=t.sdkDispatcher,I=t.userDispatcher;Xse({sdkDispatcher:C,userDispatcher:I,sdk:y,logger:w,onDisconnect:function(){w.info("Setup connection");var U=null;if(C({type:L3,payload:!0}),r&&i){var T={appId:i,modules:[new Zae,new xie]};m&&(T.customApiHost=m),_&&(T.customWebSocketHost=_);var N=oie.init(T);f&&typeof f=="function"&&(U=f(N),N.setSessionHandler(U)),N.addExtension("sb_uikit",Yse);var H=function(P){C({type:rD,payload:N}),I({type:G5,payload:P}),(o!==P.nickname||d!==P.profileUrl)&&!(z6(o)&&z6(d))&&N.updateCurrentUserInfo({nickname:o||P.nickname,profileUrl:d||P.profileUrl}).then(function(W){I({type:j5,payload:W})})},$=function(P){w.error("Connection failed","".concat(P)),C({type:P3}),C({type:D3}),C({type:KE})};h?N.connect(r,h).then(function(Q){return H(Q)}).catch(function(Q){return $(Q)}):N.connect(r).then(function(Q){return H(Q)}).catch(function(Q){return $(Q)})}else C({type:KE}),w.warning("Connection failed","UserId or appId missing")}})},Jse=function(n){if(n==null)return!0;for(var t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},Zse=function(n){F.exports.useLayoutEffect(function(){Jse(n)||_o({variables:nn({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},n)})},[n])},iD={initialized:!1,loading:!1,sdk:{},error:!1};function eoe(e,n){switch(n.type){case L3:return nr(nr({},e),{},{initialized:!1,loading:n.payload});case KE:return nr(nr({},e),{},{initialized:!1,loading:!1,error:!0});case rD:return{sdk:n.payload,initialized:!0,loading:!1,error:!1};case P3:return iD;default:return e}}var aD={initialized:!1,loading:!1,user:{}};function noe(e,n){switch(n.type){case G5:return{initialized:!0,loading:!1,user:n.payload};case D3:return aD;case j5:return nr(nr({},e),{},{user:n.payload});default:return e}}function toe(e,n){var t=F.exports.useState(!0),r=mo(t,2),i=r[0],o=r[1];return F.exports.useEffect(function(){var d=qu();try{n.warning("sdk changed",d);var h=new b5;h.onDisconnected=function(){n.warning("onDisconnected",{isOnline:i})},h.onReconnectStarted=function(){o(!1),n.warning("onReconnectStarted",{isOnline:i})},h.onReconnectSucceeded=function(){o(!0),n.warning("onReconnectSucceeded",{isOnline:i})},h.onReconnectFailed=function(){e.reconnect(),n.warning("onReconnectFailed")},n.info("Added ConnectionHandler",d),e!=null&&e.addConnectionHandler&&e.addConnectionHandler(d,h)}catch{}return function(){try{e.removeConnectionHandler(d),n.info("Removed ConnectionHandler",d)}catch{}}},[e]),F.exports.useEffect(function(){var d=function(){try{n.warning("Try reconnecting SDK"),e.connectionState!=="OPEN"&&e.reconnect()}catch{}};return window.addEventListener("online",d),function(){window.removeEventListener("online",d)}},[e]),F.exports.useEffect(function(){var d=document.querySelector("body");if(i)try{d.classList.remove("sendbird__offline"),n.info("Removed class sendbird__offline from body")}catch{}else try{d.classList.add("sendbird__offline"),n.info("Added class sendbird__offline to body")}catch{}},[i]),i}var ga={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},roe=function(n){switch(n){case ga.WARNING:return"color: Orange";case ga.ERROR:return"color: Red";default:return"color: Gray"}},ioe=function(n){var t=n.level,r=n.title,i=n.description,o=i===void 0?"":i;console.log("%c SendbirdUIKit | ".concat(t," | ").concat(new Date().toISOString()," | ").concat(r," ").concat(o&&"|"),roe(t),o)},aoe=function(){return{info:function(){},error:function(){},warning:function(){}}},e4=function(n,t){var r=t||ioe,i=Array.isArray(n)?n:[n],o=function(f){return function(m,_){return r({level:f,title:m,description:_})}},d=i.reduce(function(h,f){return f===ga.DEBUG||f===ga.ALL?nr(nr({},h),{},{info:o(ga.INFO),error:o(ga.ERROR),warning:o(ga.WARNING)}):f===ga.INFO?nr(nr({},h),{},{info:o(ga.INFO)}):f===ga.ERROR?nr(nr({},h),{},{error:o(ga.ERROR)}):f===ga.WARNING?nr(nr({},h),{},{warning:o(ga.WARNING)}):nr({},h)},aoe());return d},soe=function(){var e={},n=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(r,i){n.call(e,r)||(e[r]=[]);var o=e[r].push(i)-1;return{remove:function(){delete e[r][o]}}},publish:function(r,i){!n.call(e,r)||e[r].forEach(function(o){o(i!==void 0?i:{})})}}};function ooe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;F.exports.useEffect(function(){var t=document.querySelector(n);return e.forEach(function(r){var i=document.createElement("div");i.setAttribute("id",r),t.appendChild(i)}),function(){e.forEach(function(r){var i=document.getElementById(r);i&&t.removeChild(i)})}},[])}function $3(e){var n=e.userId,t=e.dateLocale,r=e.appId,i=e.accessToken,o=e.configureSession,d=e.customApiHost,h=e.customWebSocketHost,f=e.children,m=e.disableUserProfile,_=e.renderUserProfile,y=e.allowProfileEdit,w=e.theme,C=e.nickname,I=e.profileUrl,k=e.userListQuery,U=e.config,T=U===void 0?{}:U,N=e.colorSet,H=e.stringSet,$=e.imageCompression,Q=e.isReactionEnabled,P=e.isMentionEnabled,W=e.isTypingIndicatorEnabledOnChannelList,K=e.isMessageReceiptStatusEnabledOnChannelList,he=T.logLevel,le=he===void 0?"":he,Se=T.userMention,Ce=Se===void 0?{}:Se,re=T.isREMUnitEnabled,pe=re===void 0?!1:re,de=F.exports.useState(e4(le)),De=mo(de,2),Ge=De[0],ge=De[1],Ae=F.exports.useState(),qe=mo(Ae,2),J=qe[0],X=qe[1],me=F.exports.useReducer(eoe,iD),Ye=mo(me,2),$e=Ye[0],Ne=Ye[1],xe=F.exports.useReducer(noe,aD),He=mo(xe,2),Xe=He[0],gn=He[1];Zse(N),F.exports.useEffect(function(){X(soe())},[]),F.exports.useEffect(function(){Ge.info("App Init"),Z6({userId:n,appId:r,accessToken:i,sdkStore:$e,nickname:C,profileUrl:I,configureSession:o,customApiHost:d,customWebSocketHost:h,sdk:$e.sdk,logger:Ge},{sdkDispatcher:Ne,userDispatcher:gn})},[n,r,i]),F.exports.useEffect(function(){ge(e4(le))},[le]),ooe(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var kn=F.exports.useState(w),Nn=mo(kn,2),On=Nn[0],tn=Nn[1];F.exports.useEffect(function(){tn(w)},[w]),F.exports.useEffect(function(){var ln=document.querySelector("body");ln.classList.remove("sendbird-experimental__rem__units"),pe&&ln.classList.add("sendbird-experimental__rem__units")},[pe]),F.exports.useEffect(function(){Ge.info("Setup theme","Theme: ".concat(On));try{var ln=document.querySelector("body");ln.classList.remove("sendbird-theme--light"),ln.classList.remove("sendbird-theme--dark"),ln.classList.add("sendbird-theme--".concat(On||"light")),Ge.info("Finish setup theme")}catch(z){Ge.warning("Setup theme failed","".concat(z))}return function(){try{var z=document.querySelector("body");z.classList.remove("sendbird-theme--light"),z.classList.remove("sendbird-theme--dark")}catch{}}},[On]);var Un=toe($e.sdk,Ge),vn=S.useMemo(function(){return H?nr(nr({},VE("en")),H):VE("en")},[H]);return S.createElement(_3.Provider,{value:{stores:{sdkStore:$e,userStore:Xe},dispatchers:{sdkDispatcher:Ne,userDispatcher:gn,reconnect:function(){Z6({userId:n,appId:r,accessToken:i,sdkStore:$e,nickname:C,profileUrl:I,logger:Ge,sdk:$e.sdk},{sdkDispatcher:Ne,userDispatcher:gn})}},config:{disableUserProfile:m,renderUserProfile:_,allowProfileEdit:y,isOnline:Un,userId:n,appId:r,accessToken:i,theme:On,setCurrenttheme:tn,userListQuery:k,logger:Ge,pubSub:J,imageCompression:$,isReactionEnabled:Q,isMentionEnabled:P||!1,userMention:{maxMentionCount:(Ce==null?void 0:Ce.maxMentionCount)||10,maxSuggestionCount:(Ce==null?void 0:Ce.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:W,isMessageReceiptStatusEnabledOnChannelList:K}}},S.createElement(Qse,{stringSet:vn,dateLocale:t},f))}$3.propTypes={userId:ce.exports.string.isRequired,appId:ce.exports.string.isRequired,accessToken:ce.exports.string,customApiHost:ce.exports.string,customWebSocketHost:ce.exports.string,configureSession:ce.exports.func,children:ce.exports.oneOfType([ce.exports.element,ce.exports.arrayOf(ce.exports.element),ce.exports.any]).isRequired,theme:ce.exports.string,nickname:ce.exports.string,dateLocale:ce.exports.shape({}),profileUrl:ce.exports.string,disableUserProfile:ce.exports.bool,renderUserProfile:ce.exports.func,allowProfileEdit:ce.exports.bool,userListQuery:ce.exports.func,config:ce.exports.shape({logLevel:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),pubSub:ce.exports.shape({subscribe:ce.exports.func,publish:ce.exports.func}),userMention:ce.exports.shape({maxMentionCount:ce.exports.number,maxSuggestionCount:ce.exports.number}),isREMUnitEnabled:ce.exports.bool}),stringSet:ce.exports.objectOf(ce.exports.string),colorSet:ce.exports.objectOf(ce.exports.string),isReactionEnabled:ce.exports.bool,isMentionEnabled:ce.exports.bool,imageCompression:ce.exports.shape({compressionRate:ce.exports.number,resizingWidth:ce.exports.oneOfType([ce.exports.number,ce.exports.string]),resizingHeight:ce.exports.oneOfType([ce.exports.number,ce.exports.string])}),isTypingIndicatorEnabledOnChannelList:ce.exports.bool,isMessageReceiptStatusEnabledOnChannelList:ce.exports.bool};$3.defaultProps={accessToken:"",customApiHost:null,customWebSocketHost:null,configureSession:null,theme:"light",nickname:"",dateLocale:null,profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{},isReactionEnabled:!0,isMentionEnabled:!1,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1};var loe=`.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        margin-left: 8px;
        margin-bottom: 12px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50:  #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50:  #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: 'Roboto', sans-serif;
  --sendbird-message-balloon-width: 404px; }

.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem; }

.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem; }

.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: .875rem; }
  .sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
    font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: .75rem; }

.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-list {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-list {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px; }

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden; }

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default); }

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px; }

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px; }

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal; }

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px; }
  .sendbird-iconbutton .sendbird-iconbutton__inner {
    height: 100%; }
    .sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-iconbutton:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-iconbutton:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-iconbutton:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-iconbutton:active {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-iconbutton:disabled {
    cursor: not-allowed !important; }
    .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
    cursor: pointer; }
  .sendbird-channel-header .sendbird-channel-header__title {
    display: flex;
    flex-direction: row;
    width: 260px;
    height: 48px;
    border-radius: 4px; }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-dark-background-500); }
    .sendbird-channel-header .sendbird-channel-header__title:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
      width: 48px;
      padding: 8px;
      box-sizing: border-box; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
      margin-left: 4px;
      padding-top: 8px; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
      display: block;
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-channel-header .sendbird-channel-header__right-icon {
    position: absolute;
    right: 16px;
    top: 16px; }

.sendbird-image-renderer {
  overflow: hidden;
  position: relative; }

.sendbird-image-renderer__hidden-image-loader {
  display: none; }

.sendbird-icon {
  display: inline-block; }
  .sendbird-icon:focus {
    outline: none; }

.sendbird-theme--light .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--light .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-icon-color--white [class*='fill'] {
  fill: #ffffff; }

.sendbird-icon-color--gray [class*='fill'] {
  fill: var(--sendbird-light-onlight-04); }

.sendbird-theme--light .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-light-background-300); }

.sendbird-theme--dark .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-dark-background-400); }

.sendbird-theme--light .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-dark-error-200); }

.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative; }
  .sendbird-avatar:focus {
    outline: none; }
  .sendbird-avatar .sendbird-avatar-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
    transform: translate(2%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
    transform: translate(-102%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
    transform: translate(-50%, -102%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
    transform: translate(-77%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
    transform: translate(-23%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar-img--default {
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-dark-background-300); }

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px; }

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px; }

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-add-channel__rectangle .sendbird-icon {
    position: absolute;
    left: 22px;
    top: 24px; }

.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px; }

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-y: auto; }

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center; }

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-modal__content {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-04); }
  .sendbird-theme--dark .sendbird-modal__content {
    background-color: var(--sendbird-dark-background-500);
    box-shadow: var(--sendbird-dark-shadow-04); }
  .sendbird-modal__content .sendbird-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    cursor: pointer; }
    .sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-modal__content .sendbird-modal__header {
    margin-bottom: 16px; }
  .sendbird-modal__content .sendbird-modal__body {
    height: calc(100% - 116px); }
  .sendbird-modal__content .sendbird-modal__footer {
    margin-top: 32px;
    text-align: right; }
    .sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
      margin-left: 8px;
      width: 80px;
      height: 40px; }

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0; }
  .sendbird-theme--light .sendbird-modal__backdrop {
    background-color: var(--sendbird-light-overlay-02); }
  .sendbird-theme--dark .sendbird-modal__backdrop {
    background-color: var(--sendbird-dark-overlay-02); }

.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer; }
  .sendbird-button:hover {
    box-shadow: none; }
  .sendbird-button:focus {
    outline: none; }
  .sendbird-button:active {
    box-shadow: none; }
  .sendbird-button.sendbird-button__disabled {
    cursor: not-allowed; }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-button--big {
  height: 40px; }
  .sendbird-button--big .sendbird-button__text {
    margin: 10px 16px; }

.sendbird-button--small {
  height: 32px; }
  .sendbird-button--small .sendbird-button__text {
    margin: 6px 16px; }

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400); }

.sendbird-button--secondary {
  background-color: transparent; }
  .sendbird-theme--light .sendbird-button--secondary {
    border: 1px solid var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-button--secondary {
    border: 1px solid var(--sendbird-dark-ondark-03); }
  .sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:hover {
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary.sendbird-button__disabled {
    cursor: not-allowed;
    border: none; }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-dark-ondark-02); }
    .sendbird-button--secondary.sendbird-button__disabled:hover {
      border: none; }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-dark-background-400); }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-light-onlight-02); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-dark-ondark-02); }
  .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary:focus {
    border: 1px solid transparent;
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px; }
    .sendbird-theme--dark .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px; }
    .sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:active {
    box-shadow: none; }
    .sendbird-theme--light .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-button--danger:active {
  box-shadow: none; }
  .sendbird-theme--light .sendbird-button--danger:active {
    background-color: var(--sendbird-light-error-500); }
  .sendbird-theme--dark .sendbird-button--danger:active {
    background-color: var(--sendbird-dark-error-500); }

.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500); }

.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500); }

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-button--disabled {
    background-color: var(--sendbird-light-background-200);
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-button--disabled {
    background-color: var(--sendbird-dark-background-400);
    color: var(--sendbird-dark-onlight-01); }

.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px; }
  .sendbird-theme--light .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item .sendbird-user-list-item__avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    cursor: pointer; }
  .sendbird-user-list-item .sendbird-muted-avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    pointer-events: none; }
  .sendbird-user-list-item .sendbird-user-list-item__title {
    position: absolute;
    top: 17px;
    left: 56px;
    max-width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item .sendbird-user-list-item__action {
    position: absolute;
    right: 0;
    top: 10px; }
  .sendbird-user-list-item .sendbird-user-list-item__operator {
    position: absolute;
    right: 40px;
    top: 22px; }
    .sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
      right: 66px; }

.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block; }
  .sendbird-muted-avatar .sendbird-muted-avatar__icon {
    position: relative; }
    .sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
      position: absolute;
      top: 4px;
      left: 4px; }
  .sendbird-muted-avatar .sendbird-muted-avatar__bg {
    opacity: .5;
    position: absolute;
    border-radius: 50%;
    top: 0;
    left: 0; }
    .sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-dark-primary-300); }

.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none; }

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0; }

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit; }
  .sendbird-theme--light .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-light-background-400); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-dark-background-300); }
  .sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none; }

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block; }

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center; }
  .sendbird-theme--light .sendbird__user-profile {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird__user-profile {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird__user-profile .sendbird__user-profile-avatar {
    margin: 8px 0px; }
  .sendbird__user-profile .sendbird__user-profile-name {
    max-width: 250px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis; }
  .sendbird__user-profile .sendbird__user-profile-message {
    margin-top: 20px; }
    .sendbird__user-profile .sendbird__user-profile-message button {
      width: 272px; }
  .sendbird__user-profile .sendbird__user-profile-separator {
    margin: 24px 0px;
    height: 1px; }
    .sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-dark-ondark-04); }
  .sendbird__user-profile .sendbird__user-profile-userId--label,
  .sendbird__user-profile .sendbird__user-profile-userId--value {
    display: block;
    text-align: left; }
  .sendbird__user-profile .sendbird__user-profile-userId--label {
    margin-bottom: 8px; }

.sendbird-context-menu {
  display: 'inline'; }

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed; }

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
    cursor: pointer;
    white-space: nowrap;
    padding: 8px 16px; }
    .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
    margin: 4px; }

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center; }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
          max-width: 74px;
          justify-content: flex-end; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        display: flex;
        align-items: center;
        margin-left: 8px;
        margin-bottom: 12px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
          display: inline-flex;
          align-items: center;
          margin-right: 4px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-light-secondary-300); }
  .sendbird-theme--dark .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-dark-secondary-200); }

.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block; }
  .sendbird-theme--light .sendbird-badge {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-badge {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-badge .sendbird-badge__text {
    margin: 0px 6px; }

.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }
  .sendbird-mention-user-label:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-mention-user-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-mention-user-label {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-mention-user-label.reverse {
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-mention-user-label.reverse {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-mention-user-label.purple {
    font-family: Roboto;
    font-size: 18px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: normal;
    letter-spacing: normal; }
    .sendbird-theme--light .sendbird-mention-user-label.purple {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-mention-user-label.purple {
      color: var(--sendbird-dark-primary-200); }

.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-light-background-100);
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-dark-background-400);
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-reaction-button__inner {
    margin: 3px; }

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-light-primary-100);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-dark-primary-400);
    background-color: var(--sendbird-dark-primary-400); }
  .sendbird-reaction-button--selected:hover {
    border: solid 1px var(--sendbird-selected-reaction-button-border-hover); }
  .sendbird-reaction-button--selected__inner {
    margin: 3px; }
  .sendbird-reaction-button--selected.sendbird-reactions--pressed {
    display: block !important; }

.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%; }
  .sendbird-message-status .sendbird-message-status__icon {
    position: relative;
    display: inline-block;
    top: -2px; }
    .sendbird-message-status .sendbird-message-status__icon.hide-icon {
      display: none; }
  .sendbird-message-status .sendbird-message-status__text {
    position: relative;
    display: inline-block;
    margin-left: 4px; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
        cursor: pointer; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
        cursor: pointer; }

.sendbird-loader {
  display: inline-block;
  -webkit-animation: 1s infinite linear;
          animation: 1s infinite linear;
  -webkit-animation-name: rotate;
          animation-name: rotate; }

@-webkit-keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

@keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

.sendbird-edit-user-profile section {
  margin-top: 16px; }
  .sendbird-edit-user-profile section .sendbird-input-label {
    display: block;
    margin-bottom: 12px; }

.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px; }

.sendbird-edit-user-profile__img {
  position: relative; }

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px; }

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer; }

.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative; }
  .sendbird-input .sendbird-input__input {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    letter-spacing: normal;
    padding: 10px 16px;
    box-sizing: border-box;
    background-color: inherit; }
    .sendbird-theme--light .sendbird-input .sendbird-input__input {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03); }
    .sendbird-input .sendbird-input__input:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-light-onlight-01);
        border: solid 2px var(--sendbird-light-primary-300); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-dark-ondark-01);
        border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-light-onlight-01);
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-dark-ondark-01);
      border: solid 1px var(--sendbird-dark-primary-200); }
    .sendbird-input .sendbird-input__input:disabled {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-light-background-100);
        color: var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-dark-background-500);
        color: var(--sendbird-dark-ondark-03); }
  .sendbird-input .sendbird-input__placeholder {
    position: absolute;
    pointer-events: none;
    top: 10px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-dark-ondark-03); }

.sendbird-input-label {
  margin: 4px 0; }

.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block; }

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer; }

.sendbird-textbutton--disabled {
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-textbutton--disabled {
    color: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-textbutton--disabled {
    color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300); }

.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%; }
  .sendbird-place-holder .sendbird-place-holder__body {
    display: flex;
    flex-direction: column;
    height: 104px;
    align-items: center; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
      margin-bottom: 10px; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
      margin-top: 10px; }
  .sendbird-place-holder .sendbird-place-holder__body__reconnect {
    margin-top: 18px;
    display: flex;
    flex-direction: row;
    cursor: pointer; }
    .sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
      margin-right: 4px; }
  .sendbird-place-holder .sendbird-place-holder__body--align-top {
    position: absolute;
    top: 24px;
    display: flex;
    width: 100%;
    flex-direction: column;
    justify-content: center; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
      display: flex;
      flex-direction: row;
      justify-content: center;
      padding-left: 16px;
      padding-right: 16px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
        display: flex;
        min-width: 60px;
        margin-right: 2px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
        display: block;
        max-width: calc(100% - 62px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
      display: flex;
      justify-content: center; }

.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-conversation {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-conversation {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-conversation__messages {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2; }

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end; }

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px; }

@-webkit-keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@-webkit-keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@-webkit-keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

.sendbird-msg-hoc__animated .sendbird-message-content {
  -webkit-animation: bounce 1s ease;
          animation: bounce 1s ease; }

@-webkit-keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

@keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  -webkit-animation-name: sbTextHighlight;
          animation-name: sbTextHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body
.sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body
.sendbird-og-message-item-body__cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column; }
  .sendbird-conversation__scroll-container .sendbird-conversation__padding {
    flex: 1 1 0; }

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px; }
  .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
    position: absolute;
    display: inline-flex;
    bottom: 8px; }
    .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
      margin-left: 24px;
      margin-right: 10px; }

.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px; }

.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow: scroll; }

.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px; }

.sendbird-conversation__scroll-bottom-button {
  position: -webkit-sticky;
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1; }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-05); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-dark-background-400);
    box-shadow: var(--sendbird-dark-shadow-05); }
  .sendbird-conversation__scroll-bottom-button:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-conversation__scroll-bottom-button:focus {
    outline: none; }

.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px; }
  .sendbird-theme--light .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
      position: relative;
      display: inline-block; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
      position: relative;
      display: inline-block;
      margin-left: 16px;
      max-width: calc(100% - 250px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
      position: absolute;
      display: inline-block;
      right: 16px;
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
      margin-right: 4px; }

.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center; }
  .sendbird-separator .sendbird-separator__left {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__right {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__text {
    margin: 0px 16px;
    display: flex;
    white-space: nowrap; }

.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative; }
  .sendbird-message-input .sendbird-message-input--textarea {
    width: 100%;
    border-radius: 4px;
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    height: 56px;
    overflow-y: hidden;
    letter-spacing: normal;
    padding: 18px 64px 18px 16px;
    box-sizing: border-box;
    resize: none;
    font-family: var(--sendbird-font-family-default);
    background-color: inherit;
    white-space: pre-wrap; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03);
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-message-input .sendbird-message-input--textarea:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-light-onlight-01);
        border: solid 1px var(--sendbird-light-primary-300);
        box-shadow: var(--sendbird-light-shadow-message-input); }
      .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-dark-ondark-01);
        border: solid 1px var(--sendbird-dark-primary-200);
        box-shadow: var(--sendbird-dark-shadow-message-input); }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-message-input .sendbird-message-input--placeholder {
    position: absolute;
    pointer-events: none;
    top: 18px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-dark-ondark-03); }
  .sendbird-message-input .sendbird-message-input--attach {
    position: absolute;
    right: 12px;
    bottom: 18px;
    padding: 6px; }
  .sendbird-message-input .sendbird-message-input--send {
    position: absolute;
    padding: 6px;
    right: 16px;
    bottom: 16px; }
  .sendbird-message-input .sendbird-message-input--attach-input {
    display: none; }

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-input__edit {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-message-input__edit {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px; }
  .sendbird-message-input--edit-action button:last-child {
    margin-left: 8px; }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
    width: 80px; }
    .sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-dark-ondark-03); }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
    width: 80px; }

.sendbird-message-input-form__disabled {
  cursor: not-allowed; }

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled; }
  .sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-input__disabled svg {
    fill: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-message-input__disabled svg {
    fill: var(--sendbird-dark-ondark-03); }

.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%; }
  .sendbird-message-content.incoming {
    justify-content: flex-start; }
  .sendbird-message-content.outgoing {
    justify-content: flex-end; }
  .sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
    margin-top: -8px;
    bottom: -8px; }

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px; }
  .sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
    position: absolute;
    left: 0px;
    bottom: 2px; }

.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-start; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
    position: absolute;
    bottom: 6px;
    right: -84px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    min-width: 80px; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
      display: none; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
    position: relative;
    margin-left: 12px;
    margin-bottom: 4px; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }

.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
    width: 70px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
    padding-top: 2px; }
    .sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
      padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
    position: relative;
    flex-direction: row;
    height: 32px;
    display: none; }
    .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
    width: 70px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
    top: 18px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
    position: absolute;
    top: 2px;
    right: 4px;
    flex-direction: row;
    display: none; }
    .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-end; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
    position: relative;
    width: -webkit-fit-content;
    width: -moz-fit-content;
    width: fit-content; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
      position: absolute;
      bottom: 2px;
      left: -84px;
      white-space: nowrap;
      display: flex;
      justify-content: flex-end;
      box-sizing: content-box;
      min-width: 80px;
      min-height: 16px; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
        display: none; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
        position: relative;
        display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column; }
  .sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
    width: 100%;
    box-sizing: border-box; }

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px; }
  .sendbird-theme--light .sendbird-message-content-reactions {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-content-reactions {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-dark-primary-300); }

.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none; }

.sendbird-text {
  color: var(--primary-1); }

.sendbird-emoji-reactions {
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px; }
  .sendbird-theme--light .sendbird-emoji-reactions {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-emoji-reactions {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
    display: inline-flex;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px; }
  .sendbird-emoji-reactions:focus {
    outline: none; }

.sendbird-emoji-reactions__add-reaction-badge {
  display: inline-flex;
  width: 36px;
  height: 24px; }

.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px; }
  .sendbird-theme--light .sendbird-tooltip {
    background-color: var(--sendbird-light-background-700); }
  .sendbird-theme--dark .sendbird-tooltip {
    background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip::after {
    content: '';
    position: absolute;
    bottom: -4px;
    width: 8px;
    height: 8px;
    transform: rotate(45deg); }
    .sendbird-theme--light .sendbird-tooltip::after {
      background-color: var(--sendbird-light-background-700); }
    .sendbird-theme--dark .sendbird-tooltip::after {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip__text {
    font-family: var(--sendbird-font-family-default);
    font-size: 12px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.33;
    letter-spacing: normal; }

.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex; }
  .sendbird-tooltip-wrapper__hover-tooltip {
    position: absolute;
    display: inline-flex;
    width: 200px; }
    .sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
      position: relative;
      display: inline-flex; }

.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge--is-add:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }
  .sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    left: 8px; }

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-light-primary-100);
    border: solid 1px var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-dark-primary-400);
    border: solid 1px var(--sendbird-dark-primary-400); }
  .sendbird-reaction-badge--selected:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    position: absolute;
    top: 2px;
    left: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
    margin-left: 4px; }

.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center; }
  .sendbird-admin-message .sendbird-admin-message__text {
    display: flex; }

.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word; }
  .sendbird-text-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
    display: inline;
    margin: 0px 2px; }

div.sendbird-text-message-item-body {
  margin: 0px; }

.sendbird-word {
  display: inline-flex;
  margin-right: 4px;
  height: -webkit-fit-content;
  height: -moz-fit-content;
  height: fit-content; }
  .sendbird-word .sendbird-word__url,
  .sendbird-word .sendbird-word__normal {
    display: inline-block; }

.sendbird-link-label {
  text-decoration: unset; }
  .sendbird-link-label:hover {
    cursor: pointer;
    text-decoration: underline; }
  .sendbird-link-label:focus {
    outline: none; }
  .sendbird-link-label__label {
    display: inline; }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-word .sendbird-word__mention {
  display: inline-block; }
  .sendbird-word .sendbird-word__mention:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-dark-onlight-01); }

.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px; }
  .sendbird-file-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin-right: 8px; }
    .sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
    position: relative;
    top: -6px; }

.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px; }
  .sendbird-thumbnail-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
    position: absolute;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
    position: absolute;
    top: 0px;
    display: none;
    width: 100%;
    height: 270px;
    border-radius: 16px;
    background-color: var(--sendbird-light-overlay-01); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
    position: absolute;
    width: 100%;
    height: 270px;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer; }
  .sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
    display: inline-flex; }

.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
    position: relative;
    padding: 8px 12px;
    box-sizing: border-box;
    border-radius: 16px 16px 0px 0px;
    word-break: break-word; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
      display: inline;
      margin: 0px 2px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
    position: relative;
    overflow: hidden; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center; }
  .sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
    border-radius: 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 8px 12px;
    display: flex;
    flex-direction: column;
    border-radius: 0px 0px 16px 16px; }
    .sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
      margin-bottom: 4px;
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block;
      margin: 4px 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
    display: none;
    position: absolute;
    top: 0%;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px 16px 0px 0px; }

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px; }

.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px; }
  .sendbird-unknown-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
    display: block; }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
    display: block; }

.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px; }
  .sendbird-quote-message.incoming {
    align-items: flex-start; }
  .sendbird-quote-message.outgoing {
    align-items: flex-end; }
  .sendbird-quote-message .sendbird-quote-message__replied-to {
    position: relative;
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    height: 16px;
    padding: 0px 12px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
      position: relative;
      margin-bottom: 4px;
      margin-right: 4px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
      position: relative;
      max-width: 360px;
      overflow: hidden;
      overflow-x: hidden;
      white-space: nowrap;
      word-break: keep-all;
      text-overflow: ellipsis;
      font-size: 12px; }
  .sendbird-quote-message .sendbird-quote-message__replied-message {
    position: relative;
    display: inline-flex; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
      position: relative;
      white-space: pre-wrap;
      word-break: break-all;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
        position: relative;
        display: inline-flex;
        max-height: 30px;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
      position: relative;
      width: 144px;
      height: 108px;
      border-radius: 6.4px;
      overflow: hidden; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
        position: absolute;
        top: 0px;
        display: inline-flex;
        width: 100%;
        height: 100%;
        opacity: 0.5; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center; }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        top: 0px; }
        .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
          position: relative;
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
          .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
          .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
      position: relative;
      display: inline-flex;
      flex-direction: row;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
        margin-right: 2px; }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-message-input-wrapper {
  position: relative;
  width: 100%; }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
    position: relative;
    width: 100%; }
    .sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding-left: 24px;
    padding-right: 24px; }

.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
    width: 44px;
    min-width: 44px;
    height: 44px;
    min-height: 44px;
    position: relative;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-quote_message_input .sendbird-quote_message_input__body {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    overflow: hidden; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-bottom: 8px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__close-button {
    position: absolute;
    top: 26px;
    right: 40px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
      cursor: pointer; }

.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-channel-settings .sendbird-channel-settings__header-icon {
    cursor: pointer;
    position: absolute;
    top: 16px;
    right: 16px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-channel-settings .sendbird-channel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-settings .sendbird-channel-settings__scroll-area {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    height: calc(100% - 64px);
    overflow-y: auto; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-item {
    cursor: pointer;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
      outline: none; }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    position: absolute;
    top: 10px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
    left: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    right: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
    transform: rotate(90deg); }
  .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-dark-ondark-01); }

.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-profile .sendbird-channel-profile--inner {
    height: 92px; }
  .sendbird-channel-profile .sendbird-channel-profile__avatar {
    margin-bottom: 16px;
    display: flex;
    justify-content: center; }
  .sendbird-channel-profile .sendbird-channel-profile__title {
    display: block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-channel-profile .sendbird-channel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }

.channel-profile-form .channel-profile-form__img-section {
  position: relative; }

.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px; }

.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px; }

.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px; }
  .channel-profile-form .channel-profile-form__name-section .sendbird-input {
    height: 40px; }

.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px; }

.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative; }

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow: scroll; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
    right: 72px; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
    max-width: 240px; }

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block; }

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px; }
  .sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
    margin-left: 8px; }

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px; }
  .sendbird-channel-settings__frozen-icon .sendbird-icon {
    cursor: pointer; }

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px; }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-light-onlight-02); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-dark-ondark-02); }

.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-accordion .sendbird-accordion__member {
    position: relative;
    padding: 12px 0px 12px 44px;
    height: 40px;
    box-sizing: border-box; }
  .sendbird-accordion .sendbird-accordion__footer {
    display: flex;
    justify-content: flex-start;
    margin-top: 8px; }

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-accordion__panel-header {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-accordion__panel-header {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-accordion__panel-header:focus {
    outline: none; }
  .sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
    cursor: not-allowed; }

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px; }

.sendbird-accordion__panel-icon-left {
  left: 16px; }

.sendbird-accordion__panel-icon-right {
  right: 16px; }

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg); }

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300); }

.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px; }
  .sendbird-user-list-item--small__avatar {
    cursor: pointer;
    position: absolute;
    top: 10px;
    left: 12px; }
  .sendbird-user-list-item--small .sendbird-muted-avatar {
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 2;
    pointer-events: none; }
  .sendbird-user-list-item--small__title {
    position: absolute;
    top: 10px;
    left: 54px;
    width: 160px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item--small__action {
    display: none;
    position: absolute;
    right: 10px;
    top: 4px; }
  .sendbird-user-list-item--small__operator {
    position: absolute;
    right: 24px;
    top: 10px; }
  .sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
    display: block; }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
    display: none; }
  .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-search-pannel {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-pannel {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
    position: absolute;
    top: 14px;
    left: 48px;
    margin: 0px;
    padding: 0px;
    border: 0px;
    outline: none;
    font-size: 14px;
    width: calc(100% - 90px); }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-light-onlight-01);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-dark-ondark-01);
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
    position: relative;
    display: flex;
    width: 100%;
    height: 64px;
    min-height: 64px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
      position: absolute;
      top: 20px;
      left: 24px;
      width: calc(100% - 74px);
      overflow-x: hidden;
      word-break: keep-all;
      text-overflow: ellipsis; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
      position: absolute;
      top: 16px;
      right: 16px; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input {
    display: flex;
    position: relative;
    padding: 16px;
    box-sizing: border-box; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
      position: relative;
      border-radius: 4px;
      width: 100%;
      height: 44px; }
      .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-dark-ondark-03); }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
        position: absolute;
        top: 10px;
        left: 16px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
        position: absolute;
        top: 12px;
        right: 12px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
        position: absolute;
        top: 12px;
        right: 12px; }
        .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
          cursor: pointer; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow-y: hidden; }

.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow: scroll; }
  .sendbird-theme--light .sendbird-message-search {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-item .sendbird-message-search-item__left {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-item .sendbird-message-search-item__right {
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 12px; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
      box-sizing: border-box;
      display: flex;
      width: inherit;
      height: 32px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 36px;
      word-break: break-word; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
      position: absolute;
      top: 12px;
      right: 18px; }
  .sendbird-message-search-item .sendbird-message-search-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__left {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
      position: absolute;
      top: 12px;
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
      position: absolute;
      top: 36px;
      box-sizing: border-box;
      width: 100%;
      height: 32px;
      display: flex;
      flex-direction: row;
      align-items: center; }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
        position: relative;
        margin-right: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        min-width: 26px;
        height: 26px;
        border-radius: 8px; }
        .sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-light-background-100); }
        .sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-dark-background-500); }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
        height: 16px;
        position: relative;
        display: flex;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: keep-all;
        white-space: nowrap; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
    position: absolute;
    top: 12px;
    right: 18px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box; }
  .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
    width: 320px;
    overflow-y: scroll;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-app__wrap .sendbird-app__conversation-wrap {
    flex: 1;
    position: relative;
    width: calc(100% - 320px); }
  .sendbird-app__wrap .sendbird-app__channellist-wrap {
    max-width: 320px; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-left: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-left: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-chat-header__search {
    margin-right: 16px; }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-channel-settings {
    border-left: none; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
    .sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
      height: 64px; }

.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-conversation {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-conversation {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
    overflow-y: auto;
    flex: 1 1 0;
    order: 2;
    width: 100%; }
  .sendbird-openchannel-conversation .sendbird-openchannel-footer {
    order: 3;
    padding: 12px 24px 24px 24px; }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
    display: flex;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column; }
    .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
      flex: 1 1 0; }

.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-dark-information-100); }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    bottom: 0px;
    height: 100%;
    overflow: hidden; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
      height: 8px; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
      width: 100%;
      height: 100%;
      overflow: scroll; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
      width: 100%;
      height: 100%; }
      .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
        width: 100%;
        height: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    bottom: 8px;
    left: calc(50% - 20px);
    width: 40px;
    height: 40px;
    border-radius: 24px;
    z-index: 1; }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-light-primary-300);
      box-shadow: var(--sendbird-light-shadow-05); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-dark-primary-200);
      box-shadow: var(--sendbird-dark-shadow-05); }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
      cursor: pointer; }
      .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-light-primary-400); }
      .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-dark-primary-300); }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-light-primary-500); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-dark-primary-400); }

.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
    display: block; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
      position: relative;
      display: flex;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 8px 24px 8px 12px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
      position: relative;
      display: flex;
      margin-bottom: 2px; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
      position: relative;
      display: flex;
      width: 100%; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
        position: relative;
        word-break: break-all; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
    position: absolute;
    right: 16px;
    display: none; }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
    word-wrap: break-word; }

.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
    display: block; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: row; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
      position: relative;
      display: flex;
      width: 52px;
      min-width: 52px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
        position: absolute;
        display: flex;
        top: 8px;
        left: 24px; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
      position: relative;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      margin: 8px 24px 8px 12px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
        position: relative;
        display: flex;
        margin-bottom: 2px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
          position: relative;
          display: flex; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
          position: relative;
          display: flex;
          margin-left: 4px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
        position: relative;
        display: inline;
        white-space: pre-wrap;
        word-break: break-all; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
      position: absolute;
      right: 16px;
      display: none; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-light-primary-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
    position: relative;
    display: inline;
    margin-bottom: 8px;
    width: 100%; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
      position: relative;
      display: inline-block;
      box-sizing: border-box;
      width: calc(100% - 64px);
      max-width: 360px;
      left: 64px;
      padding: 12px 12px 4px 12px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-light-onlight-04);
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-dark-ondark-04);
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
        position: relative;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 8px;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
        position: relative;
        display: inline-block;
        white-space: pre-wrap;
        overflow-wrap: normal;
        margin-bottom: 8px;
        max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-light-primary-300); }
          .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-dark-primary-200); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
        position: relative;
        display: block;
        white-space: pre-wrap;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        max-height: 32px;
        margin-bottom: 8px;
        width: 100%;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-top: 4px;
        margin-bottom: 8px;
        width: 100%; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
          cursor: pointer; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
    position: relative;
    left: 64px;
    top: 2px; }

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all; }

.sendbird-theme--light .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-dark-primary-200); }

.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
    display: block; }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
      position: absolute;
      display: inline;
      margin-top: 8px;
      margin-left: 28px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-left: 12px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
      position: relative;
      display: inline;
      margin-bottom: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
        position: relative;
        display: inline;
        margin-right: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
        position: relative;
        display: inline; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
      position: relative;
      display: flex;
      border-radius: 8px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
        opacity: 1; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
        position: relative;
        box-sizing: content-box; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
          position: absolute;
          opacity: 0;
          width: 100%;
          height: 100%;
          max-width: 360px;
          top: 0px;
          left: 0px;
          border-radius: 8px;
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-light-overlay-02); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-dark-overlay-02); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
          max-width: 360px;
          max-height: 360px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
            cursor: pointer; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
            max-width: 360px;
            max-height: 360px;
            border-radius: 8px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
            position: absolute;
            top: calc(50% - 28px);
            left: calc(50% - 28px); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
          border-radius: 8px; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-dark-background-500); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }

.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
    display: block; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
      position: absolute;
      display: block;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    margin-bottom: 4px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
      position: relative;
      display: flex;
      margin-top: 8px; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
      position: relative;
      display: flex;
      margin-top: 4px;
      margin-bottom: 4px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-light-background-100);
        border: solid 1px var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-dark-background-500);
        border: solid 1px var(--sendbird-dark-ondark-04); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
        position: relative;
        display: inline-block;
        margin: 8px;
        border-radius: 8.6px; }
        .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-light-background-50); }
        .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-dark-background-600); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
        position: relative;
        display: flex;
        margin-top: 22px;
        margin-right: 16px;
        margin-left: 4px;
        overflow: hidden;
        height: 20px;
        max-height: 20px;
        text-overflow: ellipsis;
        white-space: nowrap; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative; }
  .sendbird-theme--light .sendbird-openchannel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-participants-accordion__footer {
    text-align: left;
    padding-top: 16px;
    padding-left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
    position: absolute;
    left: 14px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
    position: absolute;
    left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
    height: 100%; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
      padding-top: 64px;
      height: calc(100% - 64px);
      overflow-y: scroll; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
      display: block;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0; }
      .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-settings .sendbird-participants-accordion,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
    text-align: left; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
    margin-top: 40%; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    padding: 16px;
    box-sizing: border-box;
    position: relative; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
      display: inline-block; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
      cursor: pointer;
      position: absolute;
      display: none;
      top: 10px;
      right: 18px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
      margin-top: 8px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
      text-align: left;
      display: block;
      word-wrap: break-word; }
  .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
    display: block;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
      outline: none; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member {
    position: relative;
    padding: 12px 0px 12px 56px;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
      max-width: 190px;
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
      position: absolute;
      right: 16px; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
      display: inline-block; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
    position: absolute;
    left: 16px;
    top: 10px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
    position: absolute;
    display: none;
    top: 4px;
    right: 8px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
  .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
    padding-top: 16px;
    display: flex;
    justify-content: left;
    padding-left: 12px; }
    .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
      margin-left: 8px; }

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll; }

.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
    height: 116px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
    margin-bottom: 16px;
    text-align: center; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__title {
    display: inline-block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }`;Ei(loe);var uoe=function(e){var n=e.userId,t=e.appId,r=e.accessToken,i=e.chatInstance;return Mi(void 0,void 0,void 0,function(){var o;return Di(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),Zt.exports.SendbirdLive.init({appId:t,chatInstance:i}),[4,Zt.exports.SendbirdLive.authenticate(n,r)];case 1:return d.sent(),[3,3];case 2:return o=d.sent(),console.error(o),[3,3];case 3:return[2]}})})},coe=function(){function e(){this._topics={},this._topics={}}return e.prototype.subscribe=function(n,t){var r=this;this._topics[n]||(this._topics[n]=[]);var i=this._topics[n].push(t)-1;return{remove:function(){delete r._topics[n][i]}}},e.prototype.publish=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];!this._topics[n]||this._topics[n].forEach(function(i){i.apply(void 0,t)})},e}(),js=S.createContext({});function Kd(){var e=F.exports.useContext(_3);return e}function doe(e){var n=this,t,r,i,o,d=e.userId,h=e.appId,f=e.accessToken,m=e.customApiHost,_=e.customWebSocketHost,y=e.children,w=e.theme,C=e.colorSet,I=e.stringSet,k=e.imageSet,U=e.fontSet,T=F.exports.useState(!1),N=T[0],H=T[1],$=F.exports.useState(),Q=$[0],P=$[1],W=Kd(),K=(r=(t=W==null?void 0:W.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,he=(o=(i=W==null?void 0:W.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized;return F.exports.useEffect(function(){var le=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(Se){switch(Se.label){case 0:return he?[4,uoe({userId:d,appId:h,accessToken:f,chatInstance:K})]:[2];case 1:return Se.sent(),P(new coe),H(!0),[2]}})})};le()},[d,h,f,he]),S.createElement(js.Provider,{value:{userId:d,appId:h,accessToken:f,customApiHost:m,customWebSocketHost:_,children:y,theme:w,colorSet:C,stringSet:I,imageSet:k,fontSet:U,pubSub:Q}},N?y:S.createElement("div",null))}var n4=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(e){return"".concat(e,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(e){return"".concat(e," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(e){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(e){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(e){return"".concat(e)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function hoe(e){var n=e.userId,t=e.appId,r=e.nickname,i=e.accessToken;e.customApiHost,e.customWebSocketHost,e.children,e.theme;var o=e.colorSet,d=e.stringSet,h=F.exports.useMemo(function(){return d?kl(kl({},n4()),d):n4()},[d]);return S.createElement($3,{userId:n,appId:t,nickname:r,accessToken:i,colorSet:o},S.createElement(doe,kl({},e,{stringSet:h})))}var t4,r4,i4;function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},WE.apply(this,arguments)}var poe=function(n){return F.exports.createElement("svg",WE({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},n),t4||(t4=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},F.exports.createElement("path",{d:"M112 0v64H0V0h112z"})),F.exports.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},F.exports.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),r4||(r4=F.exports.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),i4||(i4=F.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},F.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},F.exports.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),F.exports.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},F.exports.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},foe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;Ei(foe);function voe(e){var n,t,r=e.liveEvent,i=e.onClick,o=e.showHostNickname,d=o===void 0?!0:o,h=e.showStatusLabel,f=h===void 0?!0:h,m=F.exports.useContext(js).stringSet,_=function(y){switch(y){case"created":return m.EVENT_STATUS_CREATED;case"ready":return m.EVENT_STATUS_READY;case"ongoing":return m.EVENT_STATUS_ONGOING;case"ended":return m.EVENT_STATUS_ENDED}};return S.createElement("div",{className:"live-event-elem",onClick:function(){return i(r)}},S.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?S.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):S.createElement(poe,{viewBox:"0 0 112 64",width:112,height:64})),S.createElement("div",{className:"detail"},S.createElement("div",{className:"title__wrapper"},S.createElement("div",{className:"title"},r.title?r.title:m.CREATE_EVENT_DEFAULT_TITLE),S.createElement("div",{className:"participant-count__wrapper"},r.state===Zt.exports.LiveEventState.ONGOING?S.createElement("div",{className:"participant-icon--red"}):S.createElement("div",{className:"participant-icon--grey"}),S.createElement("div",{className:"participant-count"},(n=r.participantCount)!==null&&n!==void 0?n:0))),d&&S.createElement("div",{className:"created-by"},r.host?(t=r.host.nickname)!==null&&t!==void 0?t:"HOST":m.LIST_HOST_NICKNAME_PLACEHOLDER),f&&S.createElement("div",{className:"event-state--".concat(r.state)},_(r.state))))}var a4;function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},QE.apply(this,arguments)}var moe=function(n){return F.exports.createElement("svg",QE({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),a4||(a4=F.exports.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function goe(e){var n=this,t=e.onClickCreate,r=e.onClickElem,i=e.queryParams,o=e.renderTitle,d=e.renderCreateButton,h=e.renderLiveEventElem,f=e.showStatusLabel,m=f===void 0?!0:f,_=e.showHostNickname,y=_===void 0?!0:_,w=F.exports.useContext(js).stringSet,C=i||{limit:20},I=F.exports.useState(Zt.exports.SendbirdLive.createLiveEventListQuery(C)),k=I[0],U=I[1],T=F.exports.useRef(null),N=F.exports.useState([]),H=N[0],$=N[1],Q=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(K){switch(K.label){case 0:return U(Zt.exports.SendbirdLive.createLiveEventListQuery(C)),T.current&&(T.current.scrollTop=0),[4,P(!0)];case 1:return K.sent(),[2]}})})},P=function(K){return Mi(n,void 0,void 0,function(){var he;return Di(this,function(le){switch(le.label){case 0:if(!k.hasNext)return[2];le.label=1;case 1:return le.trys.push([1,3,,4]),[4,k.next()];case 2:return he=le.sent(),K?$(he):(U(k),$(ta(ta([],H,!0),he,!0))),[3,4];case 3:return le.sent(),[3,4];case 4:return[2]}})})},W=function(){if(T.current){var K=T.current,he=K.scrollTop,le=K.scrollHeight,Se=K.clientHeight;he+Se===le&&P(!1)}};return F.exports.useEffect(function(){Q()},[i]),S.createElement("div",{className:"live-event-list-view"},S.createElement("div",{className:"header"},(o==null?void 0:o())||S.createElement("div",{className:"title"},w.LIST_HEADER_TITLE),S.createElement("div",{className:"refresh",onClick:Q},S.createElement(moe,{viewBox:"0 0 64 64",width:22,height:22})),(d==null?void 0:d())||S.createElement("div",{className:"create-button",onClick:t},w.LIST_HEADER_BUTTON)),S.createElement("div",{className:"list",ref:T,onScroll:W},H.map(function(K){return(h==null?void 0:h({liveEvent:K,onClick:r}))||S.createElement(voe,{key:K.liveEventId,liveEvent:K,showStatusLabel:m,showHostNickname:y,onClick:r})})))}var km="SEND_MESSAGE_START",Tm="SEND_USER_MESSAGE",Nm="SEND_FILE_MESSAGE",YE="UPDATE_USER_MESSAGE",XE="DELETE_MESSAGE",_oe="CREATE_CHANNEL",Bv=function(){},If=S.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null}),F3=function(n){var t=n.children;return S.createElement(If.Provider,{value:n},t)};F3.propTypes={children:ce.exports.oneOfType([ce.exports.element,ce.exports.arrayOf(ce.exports.element),ce.exports.any]).isRequired,isOpenChannel:ce.exports.bool,disableUserProfile:ce.exports.bool,renderUserProfile:ce.exports.func};F3.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var Aa={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},Ms={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function boe(e){switch(e){case Aa.H_1:return"sendbird-label--h-1";case Aa.H_2:return"sendbird-label--h-2";case Aa.SUBTITLE_1:return"sendbird-label--subtitle-1";case Aa.SUBTITLE_2:return"sendbird-label--subtitle-2";case Aa.BODY_1:return"sendbird-label--body-1";case Aa.BODY_2:return"sendbird-label--body-2";case Aa.BUTTON_1:return"sendbird-label--button-1";case Aa.BUTTON_2:return"sendbird-label--button-2";case Aa.CAPTION_1:return"sendbird-label--caption-1";case Aa.CAPTION_2:return"sendbird-label--caption-2";case Aa.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function sD(e){switch(e){case Ms.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case Ms.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case Ms.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case Ms.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case Ms.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case Ms.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case Ms.PRIMARY:return"sendbird-label--color-primary";case Ms.ERROR:return"sendbird-label--color-error";case Ms.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}function Gn(e){var n=e.className,t=e.type,r=e.color,i=e.children;return S.createElement("span",{className:[].concat(Ou(Array.isArray(n)?n:[n]),["sendbird-label",t?boe(t):"",r?sD(r):""]).join(" ")},i)}Gn.propTypes={className:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),type:ce.exports.oneOf(["H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3"]),color:ce.exports.oneOf(["ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ONCONTENT_1","ONCONTENT_2","PRIMARY","ERROR","SECONDARY_3"]),children:ce.exports.oneOfType([ce.exports.string,ce.exports.number,ce.exports.element,ce.exports.any])};Gn.defaultProps={className:[],type:"",color:"",children:null};var Bn=Aa,Dn=Ms,Ml=S.forwardRef(function(e,n){var t=e.className,r=t===void 0?"":t,i=e.children,o=e.disabled,d=o===void 0?!1:o,h=e.width,f=h===void 0?"56px":h,m=e.height,_=m===void 0?"56px":m,y=e.type,w=y===void 0?"button":y,C=e.style,I=C===void 0?{}:C,k=e.onBlur,U=k===void 0?function(){}:k,T=e.onClick,N=T===void 0?function(){}:T,H=F.exports.useState(!1),$=H[0],Q=H[1];return S.createElement("button",{className:Mn(Mn([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",$?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:d,ref:n,type:w,style:nn(nn({},I),{height:_,width:f}),onClick:function(W){d||(Q(!0),N==null||N(W))},onBlur:function(W){Q(!1),U==null||U(W)}},S.createElement("span",{className:"sendbird-iconbutton__inner"},i))}),Ra=function(n){var t=n.className,r=t===void 0?"":t,i=n.url,o=n.alt,d=o===void 0?"":o,h=n.width,f=h===void 0?null:h,m=n.height,_=m===void 0?null:m,y=n.circle,w=y===void 0?!1:y,C=n.fixedSize,I=C===void 0?!1:C,k=n.placeHolder,U=k===void 0?null:k,T=n.defaultComponent,N=T===void 0?null:T,H=n.onLoad,$=H===void 0?function(){}:H,Q=n.onError,P=Q===void 0?function(){}:Q,W=F.exports.useState(!1),K=W[0],he=W[1],le=F.exports.useState(!0),Se=le[0],Ce=le[1],re=F.exports.useMemo(function(){return typeof N=="function"?N():N},[N]),pe=F.exports.useMemo(function(){return U&&typeof U=="function"?U({style:{width:"100%",minWidth:f,maxWidth:I?f:"400px",height:_,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null},[U]),de=F.exports.useMemo(function(){return he(!1),S.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:i,alt:d,onLoad:function(){Ce(!1),$()},onError:function(){he(!0),P()}})},[i]);return S.createElement("div",{className:Mn(Mn([],Array.isArray(r)?r:[r],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:f,maxWidth:I?f:"400px",height:_}},Se&&pe,K?re:S.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:f,maxWidth:I?f:"400px",height:_,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(i,")"),borderRadius:w?"50%":null}}),de)},Me={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},s4;function JE(){return JE=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},JE.apply(this,arguments)}function yoe(e){return F.exports.createElement("svg",JE({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),s4||(s4=F.exports.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var o4;function ZE(){return ZE=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ZE.apply(this,arguments)}function Eoe(e){return F.exports.createElement("svg",ZE({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),o4||(o4=F.exports.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var l4;function e2(){return e2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},e2.apply(this,arguments)}function woe(e){return F.exports.createElement("svg",e2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),l4||(l4=F.exports.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var u4;function n2(){return n2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n2.apply(this,arguments)}function Coe(e){return F.exports.createElement("svg",n2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),u4||(u4=F.exports.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var c4;function t2(){return t2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t2.apply(this,arguments)}function xoe(e){return F.exports.createElement("svg",t2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),c4||(c4=F.exports.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var d4;function r2(){return r2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r2.apply(this,arguments)}function Soe(e){return F.exports.createElement("svg",r2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),d4||(d4=F.exports.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var h4;function i2(){return i2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i2.apply(this,arguments)}function Ioe(e){return F.exports.createElement("svg",i2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),h4||(h4=F.exports.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var p4;function a2(){return a2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a2.apply(this,arguments)}function koe(e){return F.exports.createElement("svg",a2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),p4||(p4=F.exports.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var f4;function s2(){return s2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s2.apply(this,arguments)}function Toe(e){return F.exports.createElement("svg",s2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),f4||(f4=F.exports.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var v4;function o2(){return o2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o2.apply(this,arguments)}function Noe(e){return F.exports.createElement("svg",o2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),v4||(v4=F.exports.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var m4;function l2(){return l2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l2.apply(this,arguments)}function Ooe(e){return F.exports.createElement("svg",l2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),m4||(m4=F.exports.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var g4;function u2(){return u2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u2.apply(this,arguments)}function Aoe(e){return F.exports.createElement("svg",u2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),g4||(g4=F.exports.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var _4;function c2(){return c2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c2.apply(this,arguments)}function Roe(e){return F.exports.createElement("svg",c2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),_4||(_4=F.exports.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var b4;function d2(){return d2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d2.apply(this,arguments)}function Moe(e){return F.exports.createElement("svg",d2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),b4||(b4=F.exports.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var y4;function h2(){return h2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},h2.apply(this,arguments)}function Doe(e){return F.exports.createElement("svg",h2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),y4||(y4=F.exports.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var E4;function p2(){return p2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p2.apply(this,arguments)}function Uoe(e){return F.exports.createElement("svg",p2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),E4||(E4=F.exports.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var w4;function f2(){return f2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f2.apply(this,arguments)}function Loe(e){return F.exports.createElement("svg",f2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),w4||(w4=F.exports.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var C4;function v2(){return v2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v2.apply(this,arguments)}function Poe(e){return F.exports.createElement("svg",v2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),C4||(C4=F.exports.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var x4;function m2(){return m2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m2.apply(this,arguments)}function $oe(e){return F.exports.createElement("svg",m2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),x4||(x4=F.exports.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var S4;function g2(){return g2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g2.apply(this,arguments)}function Foe(e){return F.exports.createElement("svg",g2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),S4||(S4=F.exports.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var I4;function _2(){return _2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_2.apply(this,arguments)}function Hoe(e){return F.exports.createElement("svg",_2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),I4||(I4=F.exports.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var k4;function b2(){return b2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},b2.apply(this,arguments)}function qoe(e){return F.exports.createElement("svg",b2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},e),k4||(k4=F.exports.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var T4;function y2(){return y2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y2.apply(this,arguments)}function Boe(e){return F.exports.createElement("svg",y2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),T4||(T4=F.exports.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var N4;function E2(){return E2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},E2.apply(this,arguments)}function Goe(e){return F.exports.createElement("svg",E2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),N4||(N4=F.exports.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var O4;function w2(){return w2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w2.apply(this,arguments)}function joe(e){return F.exports.createElement("svg",w2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),O4||(O4=F.exports.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var A4;function C2(){return C2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C2.apply(this,arguments)}function zoe(e){return F.exports.createElement("svg",C2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),A4||(A4=F.exports.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var R4;function x2(){return x2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},x2.apply(this,arguments)}function Voe(e){return F.exports.createElement("svg",x2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),R4||(R4=F.exports.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var M4;function S2(){return S2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S2.apply(this,arguments)}function Koe(e){return F.exports.createElement("svg",S2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),M4||(M4=F.exports.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var D4;function I2(){return I2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I2.apply(this,arguments)}function Woe(e){return F.exports.createElement("svg",I2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),D4||(D4=F.exports.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var U4;function k2(){return k2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},k2.apply(this,arguments)}function Qoe(e){return F.exports.createElement("svg",k2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),U4||(U4=F.exports.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var L4;function T2(){return T2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T2.apply(this,arguments)}function Yoe(e){return F.exports.createElement("svg",T2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),L4||(L4=F.exports.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var P4;function N2(){return N2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N2.apply(this,arguments)}function Xoe(e){return F.exports.createElement("svg",N2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),P4||(P4=F.exports.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var $4;function O2(){return O2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O2.apply(this,arguments)}function Joe(e){return F.exports.createElement("svg",O2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),$4||($4=F.exports.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var F4;function A2(){return A2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A2.apply(this,arguments)}function Zoe(e){return F.exports.createElement("svg",A2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),F4||(F4=F.exports.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var H4;function R2(){return R2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},R2.apply(this,arguments)}function ele(e){return F.exports.createElement("svg",R2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),H4||(H4=F.exports.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var q4;function M2(){return M2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},M2.apply(this,arguments)}function nle(e){return F.exports.createElement("svg",M2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),q4||(q4=F.exports.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var B4;function D2(){return D2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},D2.apply(this,arguments)}function tle(e){return F.exports.createElement("svg",D2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),B4||(B4=F.exports.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var G4;function U2(){return U2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U2.apply(this,arguments)}function rle(e){return F.exports.createElement("svg",U2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),G4||(G4=F.exports.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var j4;function L2(){return L2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},L2.apply(this,arguments)}function ile(e){return F.exports.createElement("svg",L2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),j4||(j4=F.exports.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var z4;function P2(){return P2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P2.apply(this,arguments)}function ale(e){return F.exports.createElement("svg",P2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),z4||(z4=F.exports.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var V4;function $2(){return $2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$2.apply(this,arguments)}function sle(e){return F.exports.createElement("svg",$2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),V4||(V4=F.exports.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var K4;function F2(){return F2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},F2.apply(this,arguments)}function ole(e){return F.exports.createElement("svg",F2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),K4||(K4=F.exports.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var W4;function H2(){return H2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},H2.apply(this,arguments)}function lle(e){return F.exports.createElement("svg",H2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),W4||(W4=F.exports.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var Q4;function q2(){return q2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},q2.apply(this,arguments)}function ule(e){return F.exports.createElement("svg",q2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Q4||(Q4=F.exports.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var Y4;function B2(){return B2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},B2.apply(this,arguments)}function cle(e){return F.exports.createElement("svg",B2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Y4||(Y4=F.exports.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var X4;function G2(){return G2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},G2.apply(this,arguments)}function dle(e){return F.exports.createElement("svg",G2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),X4||(X4=F.exports.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var J4;function j2(){return j2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j2.apply(this,arguments)}function hle(e){return F.exports.createElement("svg",j2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),J4||(J4=F.exports.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var Z4;function z2(){return z2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z2.apply(this,arguments)}function ple(e){return F.exports.createElement("svg",z2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Z4||(Z4=F.exports.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var eO;function V2(){return V2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},V2.apply(this,arguments)}function fle(e){return F.exports.createElement("svg",V2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),eO||(eO=F.exports.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var nO;function K2(){return K2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},K2.apply(this,arguments)}function vle(e){return F.exports.createElement("svg",K2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),nO||(nO=F.exports.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var tO;function W2(){return W2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},W2.apply(this,arguments)}function mle(e){return F.exports.createElement("svg",W2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),tO||(tO=F.exports.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var rO;function Q2(){return Q2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Q2.apply(this,arguments)}function gle(e){return F.exports.createElement("svg",Q2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),rO||(rO=F.exports.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var iO;function Y2(){return Y2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Y2.apply(this,arguments)}function _le(e){return F.exports.createElement("svg",Y2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),iO||(iO=F.exports.createElement("g",{fill:"none",fillRule:"evenodd"},F.exports.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),F.exports.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),F.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),F.exports.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var aO;function X2(){return X2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},X2.apply(this,arguments)}function ble(e){return F.exports.createElement("svg",X2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),aO||(aO=F.exports.createElement("g",{fill:"none",fillRule:"evenodd"},F.exports.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),F.exports.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),F.exports.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),F.exports.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var sO;function J2(){return J2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},J2.apply(this,arguments)}function yle(e){return F.exports.createElement("svg",J2({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),sO||(sO=F.exports.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var gi={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function Ele(e){switch(e){case gi.PRIMARY:return"sendbird-icon-color--primary";case gi.SECONDARY:return"sendbird-icon-color--secondary";case gi.CONTENT:return"sendbird-icon-color--content";case gi.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case gi.WHITE:return"sendbird-icon-color--white";case gi.GRAY:return"sendbird-icon-color--gray";case gi.SENT:return"sendbird-icon-color--sent";case gi.READ:return"sendbird-icon-color--read";case gi.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case gi.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case gi.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case gi.BACKGROUND_3:return"sendbird-icon-color--background-3";case gi.ERROR:return"sendbird-icon-color--error";default:return""}}function wle(e){switch(e){case Me.ADD:return S.createElement(yoe,null);case Me.ARROW_LEFT:return S.createElement(Eoe,null);case Me.ATTACH:return S.createElement(woe,null);case Me.BAN:return S.createElement(Coe,null);case Me.BROADCAST:return S.createElement(xoe,null);case Me.CAMERA:return S.createElement(Soe,null);case Me.CHANNELS:return S.createElement(Ioe,null);case Me.CHAT:return S.createElement(koe,null);case Me.CHAT_FILLED:return S.createElement(Toe,null);case Me.CHEVRON_DOWN:return S.createElement(Noe,null);case Me.CHEVRON_RIGHT:return S.createElement(Ooe,null);case Me.CLOSE:return S.createElement(Aoe,null);case Me.COLLAPSE:return S.createElement(Roe,null);case Me.COPY:return S.createElement(Moe,null);case Me.CREATE:return S.createElement(Doe,null);case Me.DELETE:return S.createElement(Uoe,null);case Me.DISCONNECTED:return S.createElement(Loe,null);case Me.DOCUMENT:return S.createElement(Poe,null);case Me.DONE:return S.createElement($oe,null);case Me.DONE_ALL:return S.createElement(Foe,null);case Me.DOWNLOAD:return S.createElement(Hoe,null);case Me.EDIT:return S.createElement(qoe,null);case Me.EMOJI_MORE:return S.createElement(Boe,null);case Me.ERROR:return S.createElement(Goe,null);case Me.EXPAND:return S.createElement(joe,null);case Me.FILE_AUDIO:return S.createElement(zoe,null);case Me.FILE_DOCUMENT:return S.createElement(Voe,null);case Me.FREEZE:return S.createElement(Koe,null);case Me.GIF:return S.createElement(Woe,null);case Me.INFO:return S.createElement(Qoe,null);case Me.LEAVE:return S.createElement(Yoe,null);case Me.MEMBERS:return S.createElement(Xoe,null);case Me.MESSAGE:return S.createElement(Joe,null);case Me.MODERATIONS:return S.createElement(Zoe,null);case Me.MORE:return S.createElement(ele,null);case Me.MUTE:return S.createElement(nle,null);case Me.NOTIFICATIONS:return S.createElement(tle,null);case Me.NOTIFICATIONS_OFF_FILLED:return S.createElement(rle,null);case Me.OPERATOR:return S.createElement(ile,null);case Me.PHOTO:return S.createElement(ale,null);case Me.PLAY:return S.createElement(sle,null);case Me.PLUS:return S.createElement(ole,null);case Me.QUESTION:return S.createElement(lle,null);case Me.REFRESH:return S.createElement(ule,null);case Me.REMOVE:return S.createElement(cle,null);case Me.REPLY:return S.createElement(dle,null);case Me.SEARCH:return S.createElement(hle,null);case Me.SEND:return S.createElement(ple,null);case Me.SETTINGS_FILLED:return S.createElement(fle,null);case Me.SPINNER:return S.createElement(vle,null);case Me.SUPERGROUP:return S.createElement(mle,null);case Me.THUMBNAIL_NONE:return S.createElement(gle,null);case Me.TOGGLE_OFF:return S.createElement(_le,null);case Me.TOGGLE_ON:return S.createElement(ble,null);case Me.USER:return S.createElement(yle,null);default:return"icon"}}function Cle(e){switch(e){case Me.ADD:return"sendbird-icon-add";case Me.ARROW_LEFT:return"sendbird-icon-arrow-left";case Me.ATTACH:return"sendbird-icon-attach";case Me.BAN:return"sendbird-icon-ban";case Me.BROADCAST:return"sendbird-icon-broadcast";case Me.CAMERA:return"sendbird-icon-camera";case Me.CHANNELS:return"sendbird-icon-channels";case Me.CHAT:return"sendbird-icon-chat";case Me.CHAT_FILLED:return"sendbird-icon-chat-filled";case Me.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case Me.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case Me.CLOSE:return"sendbird-icon-close";case Me.COLLAPSE:return"sendbird-icon-collapse";case Me.COPY:return"sendbird-icon-copy";case Me.CREATE:return"sendbird-icon-create";case Me.DELETE:return"sendbird-icon-delete";case Me.DISCONNECTED:return"sendbird-icon-disconnected";case Me.DOCUMENT:return"sendbird-icon-document";case Me.DONE:return"sendbird-icon-done";case Me.DONE_ALL:return"sendbird-icon-done-all";case Me.DOWNLOAD:return"sendbird-icon-down-load";case Me.EDIT:return"sendbird-icon-edit";case Me.EMOJI_MORE:return"sendbird-icon-emoji-more";case Me.ERROR:return"sendbird-icon-error";case Me.EXPAND:return"sendbird-icon-expand";case Me.FILE_AUDIO:return"sendbird-icon-file-audio";case Me.FILE_DOCUMENT:return"sendbird-icon-file-document";case Me.FREEZE:return"sendbird-icon-freeze";case Me.GIF:return"sendbird-icon-gif";case Me.INFO:return"sendbird-icon-info";case Me.LEAVE:return"sendbird-icon-leave";case Me.MEMBERS:return"sendbird-icon-members";case Me.MESSAGE:return"sendbird-icon-message";case Me.MODERATIONS:return"sendbird-icon-moderations";case Me.MORE:return"sendbird-icon-more";case Me.MUTE:return"sendbird-icon-mute";case Me.NOTIFICATIONS:return"sendbird-icon-notifications";case Me.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case Me.OPERATOR:return"sendbird-icon-operator";case Me.PHOTO:return"sendbird-icon-photo";case Me.PLAY:return"sendbird-icon-play";case Me.PLUS:return"sendbird-iconn-plus";case Me.QUESTION:return"sendbird-icon-question";case Me.REFRESH:return"sendbird-icon-refresh";case Me.REMOVE:return"sendbird-icon-remove";case Me.REPLY:return"sendbird-icon-reply";case Me.SEARCH:return"sendbird-icon-search";case Me.SEND:return"sendbird-icon-send";case Me.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case Me.SPINNER:return"sendbird-icon-spinner";case Me.SUPERGROUP:return"sendbird-icon-supergroup";case Me.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case Me.TOGGLE_OFF:return"sendbird-icon-toggle-off";case Me.TOGGLE_ON:return"sendbird-icon-toggle-on";case Me.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}function rt(e){var n=e.className,t=e.type,r=e.fillColor,i=e.width,o=e.height,d=e.onClick,h=e.children,f={width:typeof i=="string"?i:"".concat(i,"px"),minWidth:typeof i=="string"?i:"".concat(i,"px"),height:typeof o=="string"?o:"".concat(o,"px"),minHeight:typeof o=="string"?o:"".concat(o,"px")};return S.createElement("div",{className:[].concat(Ou(Array.isArray(n)?n:[n]),["sendbird-icon",Cle(t),Ele(r)]).join(" "),role:"button",onClick:d,onKeyDown:d,tabIndex:"0",style:f},h||wle(t))}rt.propTypes={className:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),type:ce.exports.oneOfType([ce.exports.oneOf(Object.keys(Me)),ce.exports.string]).isRequired,fillColor:ce.exports.oneOf(Object.keys(gi)),width:ce.exports.oneOfType([ce.exports.string,ce.exports.number]),height:ce.exports.oneOfType([ce.exports.string,ce.exports.number]),onClick:ce.exports.func,children:ce.exports.element};rt.defaultProps={className:"",fillColor:gi.DEFAULT,width:26,height:26,onClick:function(){},children:null};var Jn=Me,pt=gi,oO=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=Number.parseFloat(e);if(!Number.isNaN(n))return n}return null},so="sendbird-avatar-img",xle=function(n){var t=n.width,r=n.height,i=oO(t),o=oO(r);return typeof i=="number"&&(i*=.575),typeof o=="number"&&(o*=.575),S.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:r}},S.createElement(rt,{type:Jn.USER,fillColor:pt.CONTENT,width:i,height:o}))},Sle=function(n){var t=n.width,r=n.height;return S.createElement(xle,{width:t,height:r})},Ile=function(n){var t=n.src,r=t===void 0?"":t,i=n.alt,o=i===void 0?"":i,d=n.height,h=n.width,f=n.customDefaultComponent,m=function(){return f?f({width:h,height:d}):Sle({width:h,height:d})};return typeof r=="string"?S.createElement(Ra,{className:so,url:r,height:d,width:h,alt:o,defaultComponent:m}):r&&r.length?r.length===1?S.createElement(Ra,{className:so,url:r[0],height:d,width:h,alt:o,defaultComponent:m}):r.length===2?S.createElement("div",{className:"sendbird-avatar--inner__two-child"},S.createElement(Ra,{className:so,url:r[0],height:d,width:h,alt:o,defaultComponent:m}),S.createElement(Ra,{className:so,url:r[1],height:d,width:h,alt:o,defaultComponent:m})):r.length===3?S.createElement(S.Fragment,null,S.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},S.createElement(Ra,{className:so,url:r[0],height:d,width:h,alt:o,defaultComponent:m})),S.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},S.createElement(Ra,{className:so,url:r[1],height:d,width:h,alt:o,defaultComponent:m}),S.createElement(Ra,{className:so,url:r[2],height:d,width:h,alt:o,defaultComponent:m}))):S.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(_){return S.createElement(Ra,{className:so,url:_,height:d,width:h,alt:o,key:qu(),defaultComponent:m})})):S.createElement(Ra,{className:so,url:"",height:d,width:h,alt:o,defaultComponent:m})};function kle(e,n){var t=e.className,r=t===void 0?"":t,i=e.src,o=i===void 0?"":i,d=e.alt,h=d===void 0?"":d,f=e.width,m=f===void 0?"56px":f,_=e.height,y=_===void 0?"56px":_,w=e.onClick,C=e.customDefaultComponent;return S.createElement("div",{className:Mn(Mn([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:n,style:{height:y,width:m},onClick:w,onKeyDown:w,tabIndex:0},S.createElement(Ile,{src:o,width:m,height:y,alt:h,customDefaultComponent:C}))}var tc=S.forwardRef(kle),Mo=function(n){var t=n.stores,r=t===void 0?{}:t,i=r.sdkStore,o=i===void 0?{}:i,d=o.sdk;return d},ql=function(n){var t=n.config,r=t===void 0?{}:t,i=r.pubSub;return i},Tle=function(n){return function(t,r){return new Promise(function(i,o){var d=Mo(n);d||o(new Error("Sdk not found")),(d==null?void 0:d.connect)&&typeof d.connect=="function"||o(new Error('Not found the function "connect')),r?d.connect(t,r).then(function(h){return i(h)}).catch(function(h){return o(h)}):d.connect(t).then(function(h){return i(h)}).catch(function(h){return o(h)})})}},Nle=function(n){return function(){return new Promise(function(t,r){var i=Mo(n);i||r(new Error("Sdk not found")),i.disconnect&&typeof i.disconnect=="function"||r(new Error('Not found the function "disconnect')),i.disconnect().then(function(o){return t(o)}).catch(function(o){return r(o)})})}},Ole=function(n){return function(t,r){return new Promise(function(i,o){var d=Mo(n);d||o(new Error("Sdk not found")),d.updateCurrentUserInfo&&typeof d.updateCurrentUserInfo=="function"||o(new Error('Not found the function "updateCurrentUserInfo"'));var h={nickname:t};r&&(h.profileUrl=r),d.updateCurrentUserInfo(h).then(function(f){return i(f)}).catch(function(f){return o(f)})})}},oD=function(n){return function(t){return new Promise(function(r,i){var o=Mo(n),d=ql(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.createChannel&&typeof o.groupChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.groupChannel.createChannel(t).then(function(h){r(h),d.publish(_oe,{channel:h})}).catch(i)})}},Ale=function(n){return function(t){return new Promise(function(r,i){var o=Mo(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.createChannel&&typeof o.openChannel.createChannel=="function"||i(new Error('Not found the function "createChannel"')),o.openChannel.createChannel(t).then(function(d){r(d)}).catch(i)})}},lD=function(n){return function(t){return new Promise(function(r,i){var o=Mo(n);o||i(new Error("Sdk not found")),o.groupChannel||i(new Error("Not found GroupChannelModule")),o.groupChannel.getChannel&&typeof o.groupChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.groupChannel.getChannel(t).then(function(d){r(d)}).catch(i)})}},H3=function(n){return function(t){return new Promise(function(r,i){var o=Mo(n);o||i(new Error("Sdk not found")),o.openChannel||i(new Error("Not found OpenChannelModule")),o.openChannel.getChannel&&typeof o.openChannel.getChannel=="function"||i(new Error('Not found the function "getChannel"')),o.openChannel.getChannel(t).then(function(d){r(d)}).catch(i)})}},Rle=function(n){return function(t){return new Promise(function(r,i){var o;(o=lD(n))===null||o===void 0||o(t).then(function(d){d.leave().then(function(){r()}).catch(i)}).catch(i)})}},Mle=function(n){return function(t){return new Promise(function(r,i){var o;(o=H3(n))===null||o===void 0||o(t).then(function(d){d.enter().then(function(){r(d)}).catch(i)}).catch(i)})}},Dle=function(n){return function(t){return new Promise(function(r,i){var o;(o=H3(n))===null||o===void 0||o(t).then(function(d){d.exit().then(function(){r(d)}).catch(i)}).catch(i)})}},Ule=function(){return function(n){return new Promise(function(t,r){n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||r(new Error('Not found the function "freeze"')),n.freeze().then(function(){t()}).catch(r)})}},Lle=function(){return function(n){return new Promise(function(t,r){n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||r(new Error('Not found the function "unfreeze"')),n.unfreeze().then(function(){t()}).catch(r)})}},uD=function(){function e(){this._onPending=Bv,this._onFailed=Bv,this._onSucceeded=Bv}return e.prototype.triggerPending=function(n){this._onPending(n)},e.prototype.triggerFailed=function(n,t){this._onFailed(n,t.isResendable?t:null)},e.prototype.triggerSucceeded=function(n){this._onSucceeded(n)},e.prototype.onPending=function(n){return typeof n=="function"&&(this._onPending=n),this},e.prototype.onFailed=function(n){return typeof n=="function"&&(this._onFailed=n),this},e.prototype.onSucceeded=function(n){return typeof n=="function"&&(this._onSucceeded=n),this},e}(),Ple=function(n){return function(t,r){var i=new uD,o=ql(n);return t.sendUserMessage(r).onFailed(function(d,h){return i.triggerFailed(d,h)}).onPending(function(d){o.publish(km,{message:d,channel:t}),i.triggerPending(d)}).onSucceeded(function(d){o.publish(Tm,{message:d,channel:t}),i.triggerSucceeded(d)}),i}},$le=function(n){return function(t,r){var i=new uD,o=ql(n);return t.sendFileMessage(r).onFailed(function(d,h){return i.triggerFailed(d,h)}).onPending(function(d){o.publish(km,{message:d,channel:t}),i.triggerPending(d)}).onSucceeded(function(d){o.publish(Nm,{message:d,channel:t}),i.triggerSucceeded(d)}),i}},Fle=function(n){return function(t,r,i){return new Promise(function(o,d){var h=ql(n);t.updateUserMessage(r,i).then(function(f){h.publish(YE,{message:f,channel:t,fromSelector:!0}),o(f)}).catch(d)})}},Hle=function(n){return function(t,r){return new Promise(function(i,o){var d=ql(n),h=r.messageId;t.deleteMessage(r).then(function(){d.publish(XE,{messageId:h,channel:t}),i(r)}).catch(o)})}},qle=function(n){return function(t,r){return new Promise(function(i,o){var d=ql(n);t.resendUserMessage(r).then(function(h){d.publish(Tm,{message:h,channel:t}),i(h)}).catch(o)})}},Ble=function(n){return function(t,r,i){return new Promise(function(o,d){var h=ql(n);t.resendFileMessage(r,i).then(function(f){h.publish(Nm,{message:f,channel:t}),o(f)}).catch(d)})}},q3={getSdk:Mo,getPubSub:ql,getConnect:Tle,getDisconnect:Nle,getUpdateUserInfo:Ole,getCreateGroupChannel:oD,getCreateOpenChannel:Ale,getGetGroupChannel:lD,getGetOpenChannel:H3,getLeaveGroupChannel:Rle,getEnterOpenChannel:Mle,getExitOpenChannel:Dle,getFreezeChannel:Ule,getUnfreezeChannel:Lle,getSendUserMessage:Ple,getSendFileMessage:$le,getUpdateUserMessage:Fle,getDeleteMessage:Hle,getResendUserMessage:qle,getResendFileMessage:Ble},lO;(function(e){e.GROUP="group",e.SUPERGROUP="supergroup",e.BROADCAST="broadcast"})(lO||(lO={}));var cD="sendbird-modal-root",ml;(function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.DANGER=2]="DANGER",e[e.DISABLED=3]="DISABLED"})(ml||(ml={}));var Ud;(function(e){e[e.BIG=0]="BIG",e[e.SMALL=1]="SMALL"})(Ud||(Ud={}));function Gle(e){switch(e){case ml.PRIMARY:return"sendbird-button--primary";case ml.SECONDARY:return"sendbird-button--secondary";case ml.DANGER:return"sendbird-button--danger";case ml.DISABLED:return"sendbird-button--disabled";default:return null}}function jle(e){switch(e){case Ud.BIG:return"sendbird-button--big";case Ud.SMALL:return"sendbird-button--small";default:return null}}function vf(e){var n=e.className,t=e.type,r=t===void 0?ml.PRIMARY:t,i=e.size,o=i===void 0?Ud.BIG:i,d=e.children,h=d===void 0?"Button":d,f=e.disabled,m=f===void 0?!1:f,_=e.onClick,y=_===void 0?function(){}:_,w=Mn(Mn([],Array.isArray(n)?n:[n],!0),["sendbird-button",m?"sendbird-button__disabled":"",Gle(r),jle(o)],!1).join(" ");return S.createElement("button",{className:w,type:"button",onClick:y,disabled:m},S.createElement(Gn,{className:"sendbird-button__text",type:Bn.BUTTON_1,color:Dn.ONCONTENT_1},h))}var Ld=ml,uO=Ud,zle=function(n){var t=n.titleText;return S.createElement("div",{className:"sendbird-modal__header"},S.createElement(Gn,{type:Bn.H_1,color:Dn.ONBACKGROUND_1},t))},Vle=function(n){var t=n.children;return S.createElement("div",{className:"sendbird-modal__body"},S.createElement(Gn,{type:Bn.SUBTITLE_1,color:Dn.ONBACKGROUND_2},t))},Kle=function(n){var t=n.submitText,r=n.disabled,i=r===void 0?!1:r,o=n.type,d=o===void 0?Ld.DANGER:o,h=n.onSubmit,f=n.onCancel,m=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:"sendbird-modal__footer"},S.createElement(vf,{type:Ld.SECONDARY,onClick:f},S.createElement(Gn,{type:Bn.BUTTON_1,color:Dn.ONBACKGROUND_1},m.BUTTON__CANCEL)),S.createElement(vf,{type:d,disabled:i,onClick:h},t))};function Wle(e){var n=e.children,t=n===void 0?null:n,r=e.titleText,i=e.submitText,o=e.disabled,d=o===void 0?!1:o,h=e.hideFooter,f=h===void 0?!1:h,m=e.type,_=m===void 0?Ld.DANGER:m,y=e.onCancel,w=y===void 0?function(){}:y,C=e.onSubmit,I=C===void 0?function(){}:C;return Bd.exports.createPortal(S.createElement("div",{className:"sendbird-modal"},S.createElement("div",{className:"sendbird-modal__content"},S.createElement(zle,{titleText:r}),S.createElement(Vle,null,t),!f&&S.createElement(Kle,{disabled:d,onCancel:w,onSubmit:I,submitText:i,type:_}),S.createElement("div",{className:"sendbird-modal__close"},S.createElement(Ml,{width:"32px",height:"32px",onClick:w},S.createElement(rt,{type:Jn.CLOSE,fillColor:pt.DEFAULT,width:"24px",height:"24px"})))),S.createElement("div",{className:"sendbird-modal__backdrop"})),document.getElementById(cD))}function Qle(e){var n=e.user,t=e.currentUserId,r=e.logger,i=e.disableMessaging,o=i===void 0?!1:i,d=e.createChannel,h=e.onSuccess,f=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:"sendbird__user-profile"},S.createElement("section",{className:"sendbird__user-profile-avatar"},S.createElement(tc,{height:"80px",width:"80px",src:n==null?void 0:n.profileUrl})),S.createElement("section",{className:"sendbird__user-profile-name"},S.createElement(Gn,{type:Bn.H_2,color:Dn.ONBACKGROUND_1},(n==null?void 0:n.nickname)||f.NO_NAME)),(n==null?void 0:n.userId)!==t&&!o&&S.createElement("section",{className:"sendbird__user-profile-message"},S.createElement(vf,{type:Ld.SECONDARY,onClick:function(){var _={isDistinct:!0,invitedUserIds:[n==null?void 0:n.userId]};h(),d(_).then(function(y){r.info("UserProfile, channel create",y)})}},f.USER_PROFILE__MESSAGE)),S.createElement("div",{className:"sendbird__user-profile-separator"}),S.createElement("section",{className:"sendbird__user-profile-userId"},S.createElement(Gn,{className:"sendbird__user-profile-userId--label",type:Bn.CAPTION_2,color:Dn.ONBACKGROUND_2},f.USER_PROFILE__USER_ID),S.createElement(Gn,{className:"sendbird__user-profile-userId--value",type:Bn.BODY_1,color:Dn.ONBACKGROUND_1},n==null?void 0:n.userId)))}var Yle=function(n){return{sdk:Mo(n),createChannel:oD(n),logger:n.config.logger,pubsub:n.config.pubSub}},cg=Hee(Qle,Yle),Xle=function(e){ese(n,e);function n(t){var r=e.call(this,t)||this;return r.menuRef=S.createRef(),r.setupEvents=function(){var i=r.props.closeDropdown,o=r.menuRef,d=function(f){var m,_;(o==null?void 0:o.current)&&!(!((_=(m=o==null?void 0:o.current)===null||m===void 0?void 0:m.contains)===null||_===void 0)&&_.call(m,f.target))&&(i==null||i())};r.setState({handleClickOutside:d}),document.addEventListener("mousedown",d)},r.cleanUpEvents=function(){var i=r.state.handleClickOutside;document.removeEventListener("mousedown",i)},r.getMenuPosition=function(){var i,o,d=r.props,h=d.parentRef,f=d.openLeft,m=(o=(i=h==null?void 0:h.current)===null||i===void 0?void 0:i.getBoundingClientRect)===null||o===void 0?void 0:o.call(i),_=(m==null?void 0:m.x)||(m==null?void 0:m.left)||0,y=(m==null?void 0:m.y)||(m==null?void 0:m.top)||0,w={top:y,left:_};if(!r.menuRef.current)return w;var C=window.innerWidth,I=window.innerHeight,k=r.menuRef.current.getBoundingClientRect();if(y+k.height>I&&(w.top-=k.height),_+k.width>C&&!f&&(w.left-=k.width),w.top<0&&(w.top=k.height<I?(I-k.height)/2:0),w.left<0&&(w.left=k.width<C?(C-k.width)/2:0),w.top+=32,f){var U=Number.isNaN(k.width-30)?108:k.width-30;w.left-=U}return r.setState({menuStyle:w}),w},r.state={menuStyle:{},handleClickOutside:function(){}},r}return n.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},n.prototype.componentWillUnmount=function(){this.cleanUpEvents()},n.prototype.render=function(){var t=this.state.menuStyle,r=this.props,i=r.children,o=r.style;return Bd.exports.createPortal(S.createElement(S.Fragment,null,S.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),S.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:nn({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},o)},i)),document.getElementById("sendbird-dropdown-portal"))},n}(S.Component),Jle=13,Dl=Xle,Ga=function(n){var t=n.className,r=t===void 0?"":t,i=n.children,o=n.onClick,d=n.disable,h=d===void 0?!1:d,f=function(_){!h&&o&&(o==null||o(_))};return S.createElement("li",{className:BE([r,"sendbird-dropdown__menu-item",h?"disable":""]),role:"menuitem",onClick:f,onKeyPress:function(_){_.keyCode===Jle&&f(_)},tabIndex:0},S.createElement(Gn,{className:"sendbird-dropdown__menu-item__text",type:Bn.SUBTITLE_2,color:h?Dn.ONBACKGROUND_4:Dn.ONBACKGROUND_1},i))};function Ul(e){var n=e.menuTrigger,t=e.menuItems,r=F.exports.useState(!1),i=r[0],o=r[1];return S.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},n(function(){return o(!i)}),i&&t(function(){return o(!1)}))}function wi(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function bs(e){wi(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Zle(e){wi(1,arguments);var n=bs(e);return!isNaN(n)}function ja(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function eue(e,n){wi(2,arguments);var t=bs(e).getTime(),r=ja(n);return new Date(t+r)}function nue(e,n){wi(2,arguments);var t=ja(n);return eue(e,-t)}function Ct(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var sl={y:function(e,n){var t=e.getUTCFullYear(),r=t>0?t:1-t;return Ct(n==="yy"?r%100:r,n.length)},M:function(e,n){var t=e.getUTCMonth();return n==="M"?String(t+1):Ct(t+1,2)},d:function(e,n){return Ct(e.getUTCDate(),n.length)},a:function(e,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,n){return Ct(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ct(e.getUTCHours(),n.length)},m:function(e,n){return Ct(e.getUTCMinutes(),n.length)},s:function(e,n){return Ct(e.getUTCSeconds(),n.length)},S:function(e,n){var t=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,t-3));return Ct(i,n.length)}},tue=864e5;function rue(e){wi(1,arguments);var n=bs(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/tue)+1}function Om(e){wi(1,arguments);var n=1,t=bs(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function dD(e){wi(1,arguments);var n=bs(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Om(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var d=Om(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=d.getTime()?t:t-1}function iue(e){wi(1,arguments);var n=dD(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Om(t);return r}var aue=6048e5;function sue(e){wi(1,arguments);var n=bs(e),t=Om(n).getTime()-iue(n).getTime();return Math.round(t/aue)+1}function Am(e,n){wi(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,o=i==null?0:ja(i),d=t.weekStartsOn==null?o:ja(t.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=bs(e),f=h.getUTCDay(),m=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function hD(e,n){wi(1,arguments);var t=bs(e,n),r=t.getUTCFullYear(),i=n||{},o=i.locale,d=o&&o.options&&o.options.firstWeekContainsDate,h=d==null?1:ja(d),f=i.firstWeekContainsDate==null?h:ja(i.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(r+1,0,f),m.setUTCHours(0,0,0,0);var _=Am(m,n),y=new Date(0);y.setUTCFullYear(r,0,f),y.setUTCHours(0,0,0,0);var w=Am(y,n);return t.getTime()>=_.getTime()?r+1:t.getTime()>=w.getTime()?r:r-1}function oue(e,n){wi(1,arguments);var t=n||{},r=t.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=i==null?1:ja(i),d=t.firstWeekContainsDate==null?o:ja(t.firstWeekContainsDate),h=hD(e,n),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var m=Am(f,n);return m}var lue=6048e5;function uue(e,n){wi(1,arguments);var t=bs(e),r=Am(t,n).getTime()-oue(t,n).getTime();return Math.round(r/lue)+1}var Qc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cue={G:function(e,n,t){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return sl.y(e,n)},Y:function(e,n,t,r){var i=hD(e,r),o=i>0?i:1-i;if(n==="YY"){var d=o%100;return Ct(d,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):Ct(o,n.length)},R:function(e,n){var t=dD(e);return Ct(t,n.length)},u:function(e,n){var t=e.getUTCFullYear();return Ct(t,n.length)},Q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Ct(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Ct(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){var r=e.getUTCMonth();switch(n){case"M":case"MM":return sl.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Ct(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){var i=uue(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Ct(i,n.length)},I:function(e,n,t){var r=sue(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Ct(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):sl.d(e,n)},D:function(e,n,t){var r=rue(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ct(r,n.length)},E:function(e,n,t){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ct(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ct(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Ct(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){var r=e.getUTCHours(),i;switch(r===12?i=Qc.noon:r===0?i=Qc.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){var r=e.getUTCHours(),i;switch(r>=17?i=Qc.evening:r>=12?i=Qc.afternoon:r>=4?i=Qc.morning:i=Qc.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return sl.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):sl.H(e,n)},K:function(e,n,t){var r=e.getUTCHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ct(r,n.length)},k:function(e,n,t){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ct(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):sl.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):sl.s(e,n)},S:function(e,n){return sl.S(e,n)},X:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return dO(o);case"XXXX":case"XX":return yu(o);case"XXXXX":case"XXX":default:return yu(o,":")}},x:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return dO(o);case"xxxx":case"xx":return yu(o);case"xxxxx":case"xxx":default:return yu(o,":")}},O:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cO(o,":");case"OOOO":default:return"GMT"+yu(o,":")}},z:function(e,n,t,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cO(o,":");case"zzzz":default:return"GMT"+yu(o,":")}},t:function(e,n,t,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Ct(o,n.length)},T:function(e,n,t,r){var i=r._originalDate||e,o=i.getTime();return Ct(o,n.length)}};function cO(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var d=n||"";return t+String(i)+d+Ct(o,2)}function dO(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Ct(Math.abs(e)/60,2)}return yu(e,n)}function yu(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=Ct(Math.floor(i/60),2),d=Ct(i%60,2);return r+o+t+d}var due=cue;function hO(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function pD(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function hue(e,n){var t=e.match(/(P+)(p+)?/),r=t[1],i=t[2];if(!i)return hO(e,n);var o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",hO(r,n)).replace("{{time}}",pD(i,n))}var pue={p:pD,P:hue},fue=pue;function vue(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}var mue=["D","DD"],gue=["YY","YYYY"];function _ue(e){return mue.indexOf(e)!==-1}function bue(e){return gue.indexOf(e)!==-1}function pO(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var yue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wue=/^'([^]*?)'?$/,Cue=/''/g,xue=/[a-zA-Z]/;function Wd(e,n,t){wi(2,arguments);var r=String(n),i=t||{},o=i.locale||tD,d=o.options&&o.options.firstWeekContainsDate,h=d==null?1:ja(d),f=i.firstWeekContainsDate==null?h:ja(i.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=o.options&&o.options.weekStartsOn,_=m==null?0:ja(m),y=i.weekStartsOn==null?_:ja(i.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var w=bs(e);if(!Zle(w))throw new RangeError("Invalid time value");var C=vue(w),I=nue(w,C),k={firstWeekContainsDate:f,weekStartsOn:y,locale:o,_originalDate:w},U=r.match(Eue).map(function(T){var N=T[0];if(N==="p"||N==="P"){var H=fue[N];return H(T,o.formatLong,k)}return T}).join("").match(yue).map(function(T){if(T==="''")return"'";var N=T[0];if(N==="'")return Sue(T);var H=due[N];if(H)return!i.useAdditionalWeekYearTokens&&bue(T)&&pO(T,n,e),!i.useAdditionalDayOfYearTokens&&_ue(T)&&pO(T,n,e),H(I,T,o.localize,k);if(N.match(xue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return T}).join("");return U}function Sue(e){return e.match(wue)[1].replace(Cue,"'")}function fO(e){wi(1,arguments);var n=bs(e);return n.setHours(0,0,0,0),n}function Iue(e,n){wi(2,arguments);var t=fO(e),r=fO(n);return t.getTime()===r.getTime()}function vO(e){var n=e.className,t=n===void 0?"":n,r=e.children,i=e.isReverse,o=i===void 0?!1:i,d=e.color,h=e.userId;return S.createElement("span",{className:"sendbird-mention-user-label ".concat(t," ").concat(o?"reverse":""," ").concat(d),contentEditable:!1,"data-userid":h},r)}var mO=function(n){return n==null};function oo(e,n){if(mO(e)||mO(n))return!1;var t=e.toString(),r=n.toString();return t===r}var Yc="@";W5();var B3=Q5();B3.SUCCEEDED;B3.FAILED;B3.PENDING;var G3=Q5();G3.SUCCEEDED;G3.FAILED;G3.PENDING;function kf(e){var n=e.className,t=n===void 0?"":n,r=e.width,i=r===void 0?"26px":r,o=e.height,d=o===void 0?"26px":o,h=e.children;return S.createElement("div",{className:Mn(Mn([],Array.isArray(t)?t:[t],!0),["sendbird-loader"],!1).join(" "),style:{width:typeof i=="string"?i:"".concat(i,"px"),height:typeof d=="string"?d:"".concat(d,"px")}},h||S.createElement(rt,{type:Jn.SPINNER,width:"26px",height:"26px"}))}W5();ce.exports.bool,ce.exports.func.isRequired;var ss;(function(e){e[e.ONBACKGROUND_1=0]="ONBACKGROUND_1",e[e.ONBACKGROUND_2=1]="ONBACKGROUND_2",e[e.ONBACKGROUND_3=2]="ONBACKGROUND_3",e[e.ONBACKGROUND_4=3]="ONBACKGROUND_4",e[e.ONCONTENT_1=4]="ONCONTENT_1",e[e.ONCONTENT_2=5]="ONCONTENT_2",e[e.PRIMARY=6]="PRIMARY",e[e.ERROR=7]="ERROR"})(ss||(ss={}));var Z2=function(n){switch(n){case ss.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case ss.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case ss.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case ss.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case ss.ONCONTENT_1:return"sendbird-color--oncontent-1";case ss.PRIMARY:return"sendbird-color--primary";case ss.ERROR:return"sendbird-color--error";default:return null}},kue=function(n){var t=n.className,r=t===void 0?"":t,i=n.color,o=i===void 0?ss.ONBACKGROUND_1:i,d=n.disabled,h=d===void 0?!1:d,f=n.disableUnderline,m=f===void 0?!1:f,_=n.onClick,y=_===void 0?function(){}:_,w=n.children;return S.createElement("div",{className:Mn(Mn([],Array.isArray(r)?r:[r],!0),[Z2(o),m?"sendbird-textbutton--not-underline":"sendbird-textbutton",h?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(I){return y(I)},onKeyPress:function(I){return y(I)}},w)};function Tue(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var Nue=Tue(),vr=Nue;function Gv(e){var n=e.className,t=n===void 0?"":n,r=e.type,i=e.searchInString,o=i===void 0?"":i,d=e.retryToConnect,h=d===void 0?null:d,f=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:Mn(Mn([],Array.isArray(t)?t:[t],!0),["sendbird-place-holder"],!1).join(" ")},r===vr.LOADING&&S.createElement(kf,{width:"48px",height:"48px"},S.createElement(rt,{type:Jn.SPINNER,fillColor:pt.PRIMARY,width:"48px",height:"48px"})),(r===vr.NO_CHANNELS||r===vr.NO_MESSAGES||r===vr.WRONG)&&S.createElement("div",{className:"sendbird-place-holder__body"},r===vr.NO_CHANNELS&&S.createElement(rt,{className:"sendbird-place-holder__body__icon",type:Jn.CHAT,fillColor:pt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===vr.WRONG&&S.createElement(rt,{className:"sendbird-place-holder__body__icon",type:Jn.ERROR,fillColor:pt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===vr.NO_MESSAGES&&S.createElement(rt,{className:"sendbird-place-holder__body__icon",type:Jn.MESSAGE,fillColor:pt.ON_BACKGROUND_3,width:"64px",height:"64px"}),S.createElement(Gn,{className:"sendbird-place-holder__body__text",type:Bn.BODY_1,color:Dn.ONBACKGROUND_2},r===vr.NO_CHANNELS&&f.PLACE_HOLDER__NO_CHANNEL,r===vr.WRONG&&f.PLACE_HOLDER__WRONG,r===vr.NO_MESSAGES&&f.PLACE_HOLDER__NO_MESSAGES),h&&S.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:h,onKeyPress:h,tabIndex:0},S.createElement(rt,{className:"sendbird-place-holder__body__reconnect__icon",type:Jn.REFRESH,fillColor:pt.PRIMARY,width:"20px",height:"20px"}),S.createElement(Gn,{className:"sendbird-place-holder__body__reconnect__text",type:Bn.BUTTON_1,color:Dn.PRIMARY},f.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===vr.NO_RESULTS||r===vr.SEARCH_IN||r===vr.SEARCHING)&&S.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===vr.SEARCH_IN&&S.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},S.createElement(Gn,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Bn.BUTTON_2,color:Dn.ONBACKGROUND_2},f.SEARCH_IN),S.createElement(Gn,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Bn.BUTTON_2,color:Dn.PRIMARY},"'".concat(o)),S.createElement(Gn,{className:"sendbird-place-holder__body--align-top__text__quote",type:Bn.BUTTON_2,color:Dn.PRIMARY},"'")),r===vr.SEARCHING&&S.createElement(Gn,{className:"sendbird-place-hlder__body--align-top__searching",type:Bn.BODY_1,color:Dn.ONBACKGROUND_2},f.SEARCHING),r===vr.NO_RESULTS&&S.createElement(Gn,{className:"sendbird-place-hlder__body--align-top__no-result",type:Bn.BODY_1,color:Dn.ONBACKGROUND_2},f.NO_SEARCHED_MESSAGE)))}var gO={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Xc={ElementNode:1,TextNode:3},yv={Span:"SPAN",Br:"BR",Div:"DIV"},Oue=function(n){var t=n.children,r=t===void 0?null:t,i=n.className,o=i===void 0?"":i,d=n.separatorColor,h=d===void 0?ss.ONBACKGROUND_4:d;return S.createElement("div",{className:Mn(Mn([],Array.isArray(o)?o:[o],!0),["sendbird-separator"],!1).join(" ")},S.createElement("div",{className:["sendbird-separator__left","".concat(Z2(h),"--background-color")].join(" ")}),S.createElement("div",{className:"sendbird-separator__text"},r||S.createElement(Gn,{type:Bn.CAPTION_2,color:Dn.ONBACKGROUND_2},"Date Separator")),S.createElement("div",{className:["sendbird-separator__right","".concat(Z2(h),"--background-color")].join(" ")}))},ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Aue(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var fD={exports:{}},Qd={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var _O=Object.getOwnPropertySymbols,Rue=Object.prototype.hasOwnProperty,Mue=Object.prototype.propertyIsEnumerable;function Due(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Uue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Lue=Uue()?Object.assign:function(e,n){for(var t,r=Due(e),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var d in t)Rue.call(t,d)&&(r[d]=t[d]);if(_O){i=_O(t);for(var h=0;h<i.length;h++)Mue.call(t,i[h])&&(r[i[h]]=t[i[h]])}}return r},Tf={exports:{}},Ed=typeof Reflect=="object"?Reflect:null,bO=Ed&&typeof Ed.apply=="function"?Ed.apply:function(n,t,r){return Function.prototype.apply.call(n,t,r)},jv;Ed&&typeof Ed.ownKeys=="function"?jv=Ed.ownKeys:Object.getOwnPropertySymbols?jv=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:jv=function(n){return Object.getOwnPropertyNames(n)};function Pue(e){console&&console.warn&&console.warn(e)}var vD=Number.isNaN||function(n){return n!==n};function Rt(){Rt.init.call(this)}Tf.exports=Rt;Tf.exports.once=que;Rt.EventEmitter=Rt;Rt.prototype._events=void 0;Rt.prototype._eventsCount=0;Rt.prototype._maxListeners=void 0;var yO=10;function dg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Rt,"defaultMaxListeners",{enumerable:!0,get:function(){return yO},set:function(e){if(typeof e!="number"||e<0||vD(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");yO=e}});Rt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Rt.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||vD(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function mD(e){return e._maxListeners===void 0?Rt.defaultMaxListeners:e._maxListeners}Rt.prototype.getMaxListeners=function(){return mD(this)};Rt.prototype.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=n==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var d;if(t.length>0&&(d=t[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var f=o[n];if(f===void 0)return!1;if(typeof f=="function")bO(f,this,t);else for(var m=f.length,_=ED(f,m),r=0;r<m;++r)bO(_[r],this,t);return!0};function gD(e,n,t,r){var i,o,d;if(dg(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),d=o[n]),d===void 0)d=o[n]=t,++e._eventsCount;else if(typeof d=="function"?d=o[n]=r?[t,d]:[d,t]:r?d.unshift(t):d.push(t),i=mD(e),i>0&&d.length>i&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=n,h.count=d.length,Pue(h)}return e}Rt.prototype.addListener=function(n,t){return gD(this,n,t,!1)};Rt.prototype.on=Rt.prototype.addListener;Rt.prototype.prependListener=function(n,t){return gD(this,n,t,!0)};function $ue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _D(e,n,t){var r={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},i=$ue.bind(r);return i.listener=t,r.wrapFn=i,i}Rt.prototype.once=function(n,t){return dg(t),this.on(n,_D(this,n,t)),this};Rt.prototype.prependOnceListener=function(n,t){return dg(t),this.prependListener(n,_D(this,n,t)),this};Rt.prototype.removeListener=function(n,t){var r,i,o,d,h;if(dg(t),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||t));else if(typeof r!="function"){for(o=-1,d=r.length-1;d>=0;d--)if(r[d]===t||r[d].listener===t){h=r[d].listener,o=d;break}if(o<0)return this;o===0?r.shift():Fue(r,o),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,h||t)}return this};Rt.prototype.off=Rt.prototype.removeListener;Rt.prototype.removeAllListeners=function(n){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var o=Object.keys(r),d;for(i=0;i<o.length;++i)d=o[i],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[n],typeof t=="function")this.removeListener(n,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(n,t[i]);return this};function bD(e,n,t){var r=e._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Hue(i):ED(i,i.length)}Rt.prototype.listeners=function(n){return bD(this,n,!0)};Rt.prototype.rawListeners=function(n){return bD(this,n,!1)};Rt.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):yD.call(e,n)};Rt.prototype.listenerCount=yD;function yD(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Rt.prototype.eventNames=function(){return this._eventsCount>0?jv(this._events):[]};function ED(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e[r];return t}function Fue(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function Hue(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function que(e,n){return new Promise(function(t,r){function i(d){e.removeListener(n,o),r(d)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),t([].slice.call(arguments))}wD(e,n,o,{once:!0}),n!=="error"&&Bue(e,i,{once:!0})})}function Bue(e,n,t){typeof e.on=="function"&&wD(e,"error",n,t)}function wD(e,n,t,r){if(typeof e.on=="function")r.once?e.once(n,t):e.on(n,t);else if(typeof e.addEventListener=="function")e.addEventListener(n,function i(o){r.once&&e.removeEventListener(n,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Yd=Tf.exports,zs={},Gue=function(n){return n instanceof Buffer},nw={exports:{}},tw={exports:{}};typeof Object.create=="function"?tw.exports=function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:tw.exports=function(n,t){n.super_=t;var r=function(){};r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n};try{var EO=zs;if(typeof EO.inherits!="function")throw"";nw.exports=EO.inherits}catch{nw.exports=tw.exports}(function(e){var n=Object.getOwnPropertyDescriptors||function(X){for(var me=Object.keys(X),Ye={},$e=0;$e<me.length;$e++)Ye[me[$e]]=Object.getOwnPropertyDescriptor(X,me[$e]);return Ye},t=/%[sdj%]/g;e.format=function(J){if(!$(J)){for(var X=[],me=0;me<arguments.length;me++)X.push(o(arguments[me]));return X.join(" ")}for(var me=1,Ye=arguments,$e=Ye.length,Ne=String(J).replace(t,function(He){if(He==="%%")return"%";if(me>=$e)return He;switch(He){case"%s":return String(Ye[me++]);case"%d":return Number(Ye[me++]);case"%j":try{return JSON.stringify(Ye[me++])}catch{return"[Circular]"}default:return He}}),xe=Ye[me];me<$e;xe=Ye[++me])T(xe)||!K(xe)?Ne+=" "+xe:Ne+=" "+o(xe);return Ne},e.deprecate=function(J,X){if(typeof process<"u"&&process.noDeprecation===!0)return J;if(typeof process>"u")return function(){return e.deprecate(J,X).apply(this,arguments)};var me=!1;function Ye(){if(!me){if(process.throwDeprecation)throw new Error(X);process.traceDeprecation?console.trace(X):console.error(X),me=!0}return J.apply(this,arguments)}return Ye};var r={},i;e.debuglog=function(J){if(P(i)&&(i={}.NODE_DEBUG||""),J=J.toUpperCase(),!r[J])if(new RegExp("\\b"+J+"\\b","i").test(i)){var X=process.pid;r[J]=function(){var me=e.format.apply(e,arguments);console.error("%s %d: %s",J,X,me)}}else r[J]=function(){};return r[J]};function o(J,X){var me={seen:[],stylize:h};return arguments.length>=3&&(me.depth=arguments[2]),arguments.length>=4&&(me.colors=arguments[3]),U(X)?me.showHidden=X:X&&e._extend(me,X),P(me.showHidden)&&(me.showHidden=!1),P(me.depth)&&(me.depth=2),P(me.colors)&&(me.colors=!1),P(me.customInspect)&&(me.customInspect=!0),me.colors&&(me.stylize=d),m(me,J,me.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(J,X){var me=o.styles[X];return me?"\x1B["+o.colors[me][0]+"m"+J+"\x1B["+o.colors[me][1]+"m":J}function h(J,X){return J}function f(J){var X={};return J.forEach(function(me,Ye){X[me]=!0}),X}function m(J,X,me){if(J.customInspect&&X&&Se(X.inspect)&&X.inspect!==e.inspect&&!(X.constructor&&X.constructor.prototype===X)){var Ye=X.inspect(me,J);return $(Ye)||(Ye=m(J,Ye,me)),Ye}var $e=_(J,X);if($e)return $e;var Ne=Object.keys(X),xe=f(Ne);if(J.showHidden&&(Ne=Object.getOwnPropertyNames(X)),le(X)&&(Ne.indexOf("message")>=0||Ne.indexOf("description")>=0))return y(X);if(Ne.length===0){if(Se(X)){var He=X.name?": "+X.name:"";return J.stylize("[Function"+He+"]","special")}if(W(X))return J.stylize(RegExp.prototype.toString.call(X),"regexp");if(he(X))return J.stylize(Date.prototype.toString.call(X),"date");if(le(X))return y(X)}var Xe="",gn=!1,kn=["{","}"];if(k(X)&&(gn=!0,kn=["[","]"]),Se(X)){var Nn=X.name?": "+X.name:"";Xe=" [Function"+Nn+"]"}if(W(X)&&(Xe=" "+RegExp.prototype.toString.call(X)),he(X)&&(Xe=" "+Date.prototype.toUTCString.call(X)),le(X)&&(Xe=" "+y(X)),Ne.length===0&&(!gn||X.length==0))return kn[0]+Xe+kn[1];if(me<0)return W(X)?J.stylize(RegExp.prototype.toString.call(X),"regexp"):J.stylize("[Object]","special");J.seen.push(X);var On;return gn?On=w(J,X,me,xe,Ne):On=Ne.map(function(tn){return C(J,X,me,xe,tn,gn)}),J.seen.pop(),I(On,Xe,kn)}function _(J,X){if(P(X))return J.stylize("undefined","undefined");if($(X)){var me="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(me,"string")}if(H(X))return J.stylize(""+X,"number");if(U(X))return J.stylize(""+X,"boolean");if(T(X))return J.stylize("null","null")}function y(J){return"["+Error.prototype.toString.call(J)+"]"}function w(J,X,me,Ye,$e){for(var Ne=[],xe=0,He=X.length;xe<He;++xe)Ge(X,String(xe))?Ne.push(C(J,X,me,Ye,String(xe),!0)):Ne.push("");return $e.forEach(function(Xe){Xe.match(/^\d+$/)||Ne.push(C(J,X,me,Ye,Xe,!0))}),Ne}function C(J,X,me,Ye,$e,Ne){var xe,He,Xe;if(Xe=Object.getOwnPropertyDescriptor(X,$e)||{value:X[$e]},Xe.get?Xe.set?He=J.stylize("[Getter/Setter]","special"):He=J.stylize("[Getter]","special"):Xe.set&&(He=J.stylize("[Setter]","special")),Ge(Ye,$e)||(xe="["+$e+"]"),He||(J.seen.indexOf(Xe.value)<0?(T(me)?He=m(J,Xe.value,null):He=m(J,Xe.value,me-1),He.indexOf(`
`)>-1&&(Ne?He=He.split(`
`).map(function(gn){return"  "+gn}).join(`
`).substr(2):He=`
`+He.split(`
`).map(function(gn){return"   "+gn}).join(`
`))):He=J.stylize("[Circular]","special")),P(xe)){if(Ne&&$e.match(/^\d+$/))return He;xe=JSON.stringify(""+$e),xe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.substr(1,xe.length-2),xe=J.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=J.stylize(xe,"string"))}return xe+": "+He}function I(J,X,me){var Ye=J.reduce(function($e,Ne){return Ne.indexOf(`
`)>=0,$e+Ne.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ye>60?me[0]+(X===""?"":X+`
 `)+" "+J.join(`,
  `)+" "+me[1]:me[0]+X+" "+J.join(", ")+" "+me[1]}function k(J){return Array.isArray(J)}e.isArray=k;function U(J){return typeof J=="boolean"}e.isBoolean=U;function T(J){return J===null}e.isNull=T;function N(J){return J==null}e.isNullOrUndefined=N;function H(J){return typeof J=="number"}e.isNumber=H;function $(J){return typeof J=="string"}e.isString=$;function Q(J){return typeof J=="symbol"}e.isSymbol=Q;function P(J){return J===void 0}e.isUndefined=P;function W(J){return K(J)&&re(J)==="[object RegExp]"}e.isRegExp=W;function K(J){return typeof J=="object"&&J!==null}e.isObject=K;function he(J){return K(J)&&re(J)==="[object Date]"}e.isDate=he;function le(J){return K(J)&&(re(J)==="[object Error]"||J instanceof Error)}e.isError=le;function Se(J){return typeof J=="function"}e.isFunction=Se;function Ce(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}e.isPrimitive=Ce,e.isBuffer=Gue;function re(J){return Object.prototype.toString.call(J)}function pe(J){return J<10?"0"+J.toString(10):J.toString(10)}var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function De(){var J=new Date,X=[pe(J.getHours()),pe(J.getMinutes()),pe(J.getSeconds())].join(":");return[J.getDate(),de[J.getMonth()],X].join(" ")}e.log=function(){console.log("%s - %s",De(),e.format.apply(e,arguments))},e.inherits=nw.exports,e._extend=function(J,X){if(!X||!K(X))return J;for(var me=Object.keys(X),Ye=me.length;Ye--;)J[me[Ye]]=X[me[Ye]];return J};function Ge(J,X){return Object.prototype.hasOwnProperty.call(J,X)}var ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(ge&&X[ge]){var me=X[ge];if(typeof me!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(me,ge,{value:me,enumerable:!1,writable:!1,configurable:!0}),me}function me(){for(var Ye,$e,Ne=new Promise(function(Xe,gn){Ye=Xe,$e=gn}),xe=[],He=0;He<arguments.length;He++)xe.push(arguments[He]);xe.push(function(Xe,gn){Xe?$e(Xe):Ye(gn)});try{X.apply(this,xe)}catch(Xe){$e(Xe)}return Ne}return Object.setPrototypeOf(me,Object.getPrototypeOf(X)),ge&&Object.defineProperty(me,ge,{value:me,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(me,n(X))},e.promisify.custom=ge;function Ae(J,X){if(!J){var me=new Error("Promise was rejected with a falsy value");me.reason=J,J=me}return X(J)}function qe(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var me=[],Ye=0;Ye<arguments.length;Ye++)me.push(arguments[Ye]);var $e=me.pop();if(typeof $e!="function")throw new TypeError("The last argument must be of type Function");var Ne=this,xe=function(){return $e.apply(Ne,arguments)};J.apply(this,me).then(function(He){process.nextTick(xe,null,He)},function(He){process.nextTick(Ae,He,xe)})}return Object.setPrototypeOf(X,Object.getPrototypeOf(J)),Object.defineProperties(X,n(J)),X}e.callbackify=qe})(zs);var Qa=ew.process,Ll={},hg={};hg.byteLength=Vue;hg.toByteArray=Wue;hg.fromByteArray=Xue;var Fs=[],Ma=[],jue=typeof Uint8Array<"u"?Uint8Array:Array,_1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jc=0,zue=_1.length;Jc<zue;++Jc)Fs[Jc]=_1[Jc],Ma[_1.charCodeAt(Jc)]=Jc;Ma["-".charCodeAt(0)]=62;Ma["_".charCodeAt(0)]=63;function CD(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function Vue(e){var n=CD(e),t=n[0],r=n[1];return(t+r)*3/4-r}function Kue(e,n,t){return(n+t)*3/4-t}function Wue(e){var n,t=CD(e),r=t[0],i=t[1],o=new jue(Kue(e,r,i)),d=0,h=i>0?r-4:r,f;for(f=0;f<h;f+=4)n=Ma[e.charCodeAt(f)]<<18|Ma[e.charCodeAt(f+1)]<<12|Ma[e.charCodeAt(f+2)]<<6|Ma[e.charCodeAt(f+3)],o[d++]=n>>16&255,o[d++]=n>>8&255,o[d++]=n&255;return i===2&&(n=Ma[e.charCodeAt(f)]<<2|Ma[e.charCodeAt(f+1)]>>4,o[d++]=n&255),i===1&&(n=Ma[e.charCodeAt(f)]<<10|Ma[e.charCodeAt(f+1)]<<4|Ma[e.charCodeAt(f+2)]>>2,o[d++]=n>>8&255,o[d++]=n&255),o}function Que(e){return Fs[e>>18&63]+Fs[e>>12&63]+Fs[e>>6&63]+Fs[e&63]}function Yue(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Que(r));return i.join("")}function Xue(e){for(var n,t=e.length,r=t%3,i=[],o=16383,d=0,h=t-r;d<h;d+=o)i.push(Yue(e,d,d+o>h?h:d+o));return r===1?(n=e[t-1],i.push(Fs[n>>2]+Fs[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(Fs[n>>10]+Fs[n>>4&63]+Fs[n<<2&63]+"=")),i.join("")}var j3={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j3.read=function(e,n,t,r,i){var o,d,h=i*8-r-1,f=(1<<h)-1,m=f>>1,_=-7,y=t?i-1:0,w=t?-1:1,C=e[n+y];for(y+=w,o=C&(1<<-_)-1,C>>=-_,_+=h;_>0;o=o*256+e[n+y],y+=w,_-=8);for(d=o&(1<<-_)-1,o>>=-_,_+=r;_>0;d=d*256+e[n+y],y+=w,_-=8);if(o===0)o=1-m;else{if(o===f)return d?NaN:(C?-1:1)*(1/0);d=d+Math.pow(2,r),o=o-m}return(C?-1:1)*d*Math.pow(2,o-r)};j3.write=function(e,n,t,r,i,o){var d,h,f,m=o*8-i-1,_=(1<<m)-1,y=_>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=r?0:o-1,I=r?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,d=_):(d=Math.floor(Math.log(n)/Math.LN2),n*(f=Math.pow(2,-d))<1&&(d--,f*=2),d+y>=1?n+=w/f:n+=w*Math.pow(2,1-y),n*f>=2&&(d++,f/=2),d+y>=_?(h=0,d=_):d+y>=1?(h=(n*f-1)*Math.pow(2,i),d=d+y):(h=n*Math.pow(2,y-1)*Math.pow(2,i),d=0));i>=8;e[t+C]=h&255,C+=I,h/=256,i-=8);for(d=d<<i|h,m+=i;m>0;e[t+C]=d&255,C+=I,d/=256,m-=8);e[t+C-I]|=k*128};var Jue={}.toString,Zue=Array.isArray||function(e){return Jue.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var n=hg,t=j3,r=Zue;e.Buffer=h,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=ew.TYPED_ARRAY_SUPPORT!==void 0?ew.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(z,R){if(o()<R)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(z=new Uint8Array(R),z.__proto__=h.prototype):(z===null&&(z=new h(R)),z.length=R),z}function h(z,R,M){if(!h.TYPED_ARRAY_SUPPORT&&!(this instanceof h))return new h(z,R,M);if(typeof z=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return y(this,z)}return f(this,z,R,M)}h.poolSize=8192,h._augment=function(z){return z.__proto__=h.prototype,z};function f(z,R,M,V){if(typeof R=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer?I(z,R,M,V):typeof R=="string"?w(z,R,M):k(z,R)}h.from=function(z,R,M){return f(null,z,R,M)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0}));function m(z){if(typeof z!="number")throw new TypeError('"size" argument must be a number');if(z<0)throw new RangeError('"size" argument must not be negative')}function _(z,R,M,V){return m(R),R<=0?d(z,R):M!==void 0?typeof V=="string"?d(z,R).fill(M,V):d(z,R).fill(M):d(z,R)}h.alloc=function(z,R,M){return _(null,z,R,M)};function y(z,R){if(m(R),z=d(z,R<0?0:U(R)|0),!h.TYPED_ARRAY_SUPPORT)for(var M=0;M<R;++M)z[M]=0;return z}h.allocUnsafe=function(z){return y(null,z)},h.allocUnsafeSlow=function(z){return y(null,z)};function w(z,R,M){if((typeof M!="string"||M==="")&&(M="utf8"),!h.isEncoding(M))throw new TypeError('"encoding" must be a valid string encoding');var V=N(R,M)|0;z=d(z,V);var oe=z.write(R,M);return oe!==V&&(z=z.slice(0,oe)),z}function C(z,R){var M=R.length<0?0:U(R.length)|0;z=d(z,M);for(var V=0;V<M;V+=1)z[V]=R[V]&255;return z}function I(z,R,M,V){if(R.byteLength,M<0||R.byteLength<M)throw new RangeError("'offset' is out of bounds");if(R.byteLength<M+(V||0))throw new RangeError("'length' is out of bounds");return M===void 0&&V===void 0?R=new Uint8Array(R):V===void 0?R=new Uint8Array(R,M):R=new Uint8Array(R,M,V),h.TYPED_ARRAY_SUPPORT?(z=R,z.__proto__=h.prototype):z=C(z,R),z}function k(z,R){if(h.isBuffer(R)){var M=U(R.length)|0;return z=d(z,M),z.length===0||R.copy(z,0,0,M),z}if(R){if(typeof ArrayBuffer<"u"&&R.buffer instanceof ArrayBuffer||"length"in R)return typeof R.length!="number"||ln(R.length)?d(z,0):C(z,R);if(R.type==="Buffer"&&r(R.data))return C(z,R.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function U(z){if(z>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return z|0}function T(z){return+z!=z&&(z=0),h.alloc(+z)}h.isBuffer=function(R){return!!(R!=null&&R._isBuffer)},h.compare=function(R,M){if(!h.isBuffer(R)||!h.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(R===M)return 0;for(var V=R.length,oe=M.length,ye=0,Ie=Math.min(V,oe);ye<Ie;++ye)if(R[ye]!==M[ye]){V=R[ye],oe=M[ye];break}return V<oe?-1:oe<V?1:0},h.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(R,M){if(!r(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return h.alloc(0);var V;if(M===void 0)for(M=0,V=0;V<R.length;++V)M+=R[V].length;var oe=h.allocUnsafe(M),ye=0;for(V=0;V<R.length;++V){var Ie=R[V];if(!h.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(oe,ye),ye+=Ie.length}return oe};function N(z,R){if(h.isBuffer(z))return z.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(z)||z instanceof ArrayBuffer))return z.byteLength;typeof z!="string"&&(z=""+z);var M=z.length;if(M===0)return 0;for(var V=!1;;)switch(R){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return Nn(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Un(z).length;default:if(V)return Nn(z).length;R=(""+R).toLowerCase(),V=!0}}h.byteLength=N;function H(z,R,M){var V=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,R>>>=0,M<=R))return"";for(z||(z="utf8");;)switch(z){case"hex":return Ae(this,R,M);case"utf8":case"utf-8":return pe(this,R,M);case"ascii":return Ge(this,R,M);case"latin1":case"binary":return ge(this,R,M);case"base64":return re(this,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qe(this,R,M);default:if(V)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),V=!0}}h.prototype._isBuffer=!0;function $(z,R,M){var V=z[R];z[R]=z[M],z[M]=V}h.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<R;M+=2)$(this,M,M+1);return this},h.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<R;M+=4)$(this,M,M+3),$(this,M+1,M+2);return this},h.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<R;M+=8)$(this,M,M+7),$(this,M+1,M+6),$(this,M+2,M+5),$(this,M+3,M+4);return this},h.prototype.toString=function(){var R=this.length|0;return R===0?"":arguments.length===0?pe(this,0,R):H.apply(this,arguments)},h.prototype.equals=function(R){if(!h.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:h.compare(this,R)===0},h.prototype.inspect=function(){var R="",M=e.INSPECT_MAX_BYTES;return this.length>0&&(R=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(R+=" ... ")),"<Buffer "+R+">"},h.prototype.compare=function(R,M,V,oe,ye){if(!h.isBuffer(R))throw new TypeError("Argument must be a Buffer");if(M===void 0&&(M=0),V===void 0&&(V=R?R.length:0),oe===void 0&&(oe=0),ye===void 0&&(ye=this.length),M<0||V>R.length||oe<0||ye>this.length)throw new RangeError("out of range index");if(oe>=ye&&M>=V)return 0;if(oe>=ye)return-1;if(M>=V)return 1;if(M>>>=0,V>>>=0,oe>>>=0,ye>>>=0,this===R)return 0;for(var Ie=ye-oe,Ke=V-M,cn=Math.min(Ie,Ke),Je=this.slice(oe,ye),Be=R.slice(M,V),wn=0;wn<cn;++wn)if(Je[wn]!==Be[wn]){Ie=Je[wn],Ke=Be[wn];break}return Ie<Ke?-1:Ke<Ie?1:0};function Q(z,R,M,V,oe){if(z.length===0)return-1;if(typeof M=="string"?(V=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,isNaN(M)&&(M=oe?0:z.length-1),M<0&&(M=z.length+M),M>=z.length){if(oe)return-1;M=z.length-1}else if(M<0)if(oe)M=0;else return-1;if(typeof R=="string"&&(R=h.from(R,V)),h.isBuffer(R))return R.length===0?-1:P(z,R,M,V,oe);if(typeof R=="number")return R=R&255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(z,R,M):Uint8Array.prototype.lastIndexOf.call(z,R,M):P(z,[R],M,V,oe);throw new TypeError("val must be string, number or Buffer")}function P(z,R,M,V,oe){var ye=1,Ie=z.length,Ke=R.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(z.length<2||R.length<2)return-1;ye=2,Ie/=2,Ke/=2,M/=2}function cn(vt,Er){return ye===1?vt[Er]:vt.readUInt16BE(Er*ye)}var Je;if(oe){var Be=-1;for(Je=M;Je<Ie;Je++)if(cn(z,Je)===cn(R,Be===-1?0:Je-Be)){if(Be===-1&&(Be=Je),Je-Be+1===Ke)return Be*ye}else Be!==-1&&(Je-=Je-Be),Be=-1}else for(M+Ke>Ie&&(M=Ie-Ke),Je=M;Je>=0;Je--){for(var wn=!0,_t=0;_t<Ke;_t++)if(cn(z,Je+_t)!==cn(R,_t)){wn=!1;break}if(wn)return Je}return-1}h.prototype.includes=function(R,M,V){return this.indexOf(R,M,V)!==-1},h.prototype.indexOf=function(R,M,V){return Q(this,R,M,V,!0)},h.prototype.lastIndexOf=function(R,M,V){return Q(this,R,M,V,!1)};function W(z,R,M,V){M=Number(M)||0;var oe=z.length-M;V?(V=Number(V),V>oe&&(V=oe)):V=oe;var ye=R.length;if(ye%2!==0)throw new TypeError("Invalid hex string");V>ye/2&&(V=ye/2);for(var Ie=0;Ie<V;++Ie){var Ke=parseInt(R.substr(Ie*2,2),16);if(isNaN(Ke))return Ie;z[M+Ie]=Ke}return Ie}function K(z,R,M,V){return vn(Nn(R,z.length-M),z,M,V)}function he(z,R,M,V){return vn(On(R),z,M,V)}function le(z,R,M,V){return he(z,R,M,V)}function Se(z,R,M,V){return vn(Un(R),z,M,V)}function Ce(z,R,M,V){return vn(tn(R,z.length-M),z,M,V)}h.prototype.write=function(R,M,V,oe){if(M===void 0)oe="utf8",V=this.length,M=0;else if(V===void 0&&typeof M=="string")oe=M,V=this.length,M=0;else if(isFinite(M))M=M|0,isFinite(V)?(V=V|0,oe===void 0&&(oe="utf8")):(oe=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-M;if((V===void 0||V>ye)&&(V=ye),R.length>0&&(V<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var Ie=!1;;)switch(oe){case"hex":return W(this,R,M,V);case"utf8":case"utf-8":return K(this,R,M,V);case"ascii":return he(this,R,M,V);case"latin1":case"binary":return le(this,R,M,V);case"base64":return Se(this,R,M,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,R,M,V);default:if(Ie)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),Ie=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(z,R,M){return R===0&&M===z.length?n.fromByteArray(z):n.fromByteArray(z.slice(R,M))}function pe(z,R,M){M=Math.min(z.length,M);for(var V=[],oe=R;oe<M;){var ye=z[oe],Ie=null,Ke=ye>239?4:ye>223?3:ye>191?2:1;if(oe+Ke<=M){var cn,Je,Be,wn;switch(Ke){case 1:ye<128&&(Ie=ye);break;case 2:cn=z[oe+1],(cn&192)===128&&(wn=(ye&31)<<6|cn&63,wn>127&&(Ie=wn));break;case 3:cn=z[oe+1],Je=z[oe+2],(cn&192)===128&&(Je&192)===128&&(wn=(ye&15)<<12|(cn&63)<<6|Je&63,wn>2047&&(wn<55296||wn>57343)&&(Ie=wn));break;case 4:cn=z[oe+1],Je=z[oe+2],Be=z[oe+3],(cn&192)===128&&(Je&192)===128&&(Be&192)===128&&(wn=(ye&15)<<18|(cn&63)<<12|(Je&63)<<6|Be&63,wn>65535&&wn<1114112&&(Ie=wn))}}Ie===null?(Ie=65533,Ke=1):Ie>65535&&(Ie-=65536,V.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),V.push(Ie),oe+=Ke}return De(V)}var de=4096;function De(z){var R=z.length;if(R<=de)return String.fromCharCode.apply(String,z);for(var M="",V=0;V<R;)M+=String.fromCharCode.apply(String,z.slice(V,V+=de));return M}function Ge(z,R,M){var V="";M=Math.min(z.length,M);for(var oe=R;oe<M;++oe)V+=String.fromCharCode(z[oe]&127);return V}function ge(z,R,M){var V="";M=Math.min(z.length,M);for(var oe=R;oe<M;++oe)V+=String.fromCharCode(z[oe]);return V}function Ae(z,R,M){var V=z.length;(!R||R<0)&&(R=0),(!M||M<0||M>V)&&(M=V);for(var oe="",ye=R;ye<M;++ye)oe+=kn(z[ye]);return oe}function qe(z,R,M){for(var V=z.slice(R,M),oe="",ye=0;ye<V.length;ye+=2)oe+=String.fromCharCode(V[ye]+V[ye+1]*256);return oe}h.prototype.slice=function(R,M){var V=this.length;R=~~R,M=M===void 0?V:~~M,R<0?(R+=V,R<0&&(R=0)):R>V&&(R=V),M<0?(M+=V,M<0&&(M=0)):M>V&&(M=V),M<R&&(M=R);var oe;if(h.TYPED_ARRAY_SUPPORT)oe=this.subarray(R,M),oe.__proto__=h.prototype;else{var ye=M-R;oe=new h(ye,void 0);for(var Ie=0;Ie<ye;++Ie)oe[Ie]=this[Ie+R]}return oe};function J(z,R,M){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+R>M)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(R,M,V){R=R|0,M=M|0,V||J(R,M,this.length);for(var oe=this[R],ye=1,Ie=0;++Ie<M&&(ye*=256);)oe+=this[R+Ie]*ye;return oe},h.prototype.readUIntBE=function(R,M,V){R=R|0,M=M|0,V||J(R,M,this.length);for(var oe=this[R+--M],ye=1;M>0&&(ye*=256);)oe+=this[R+--M]*ye;return oe},h.prototype.readUInt8=function(R,M){return M||J(R,1,this.length),this[R]},h.prototype.readUInt16LE=function(R,M){return M||J(R,2,this.length),this[R]|this[R+1]<<8},h.prototype.readUInt16BE=function(R,M){return M||J(R,2,this.length),this[R]<<8|this[R+1]},h.prototype.readUInt32LE=function(R,M){return M||J(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},h.prototype.readUInt32BE=function(R,M){return M||J(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},h.prototype.readIntLE=function(R,M,V){R=R|0,M=M|0,V||J(R,M,this.length);for(var oe=this[R],ye=1,Ie=0;++Ie<M&&(ye*=256);)oe+=this[R+Ie]*ye;return ye*=128,oe>=ye&&(oe-=Math.pow(2,8*M)),oe},h.prototype.readIntBE=function(R,M,V){R=R|0,M=M|0,V||J(R,M,this.length);for(var oe=M,ye=1,Ie=this[R+--oe];oe>0&&(ye*=256);)Ie+=this[R+--oe]*ye;return ye*=128,Ie>=ye&&(Ie-=Math.pow(2,8*M)),Ie},h.prototype.readInt8=function(R,M){return M||J(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},h.prototype.readInt16LE=function(R,M){M||J(R,2,this.length);var V=this[R]|this[R+1]<<8;return V&32768?V|4294901760:V},h.prototype.readInt16BE=function(R,M){M||J(R,2,this.length);var V=this[R+1]|this[R]<<8;return V&32768?V|4294901760:V},h.prototype.readInt32LE=function(R,M){return M||J(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},h.prototype.readInt32BE=function(R,M){return M||J(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},h.prototype.readFloatLE=function(R,M){return M||J(R,4,this.length),t.read(this,R,!0,23,4)},h.prototype.readFloatBE=function(R,M){return M||J(R,4,this.length),t.read(this,R,!1,23,4)},h.prototype.readDoubleLE=function(R,M){return M||J(R,8,this.length),t.read(this,R,!0,52,8)},h.prototype.readDoubleBE=function(R,M){return M||J(R,8,this.length),t.read(this,R,!1,52,8)};function X(z,R,M,V,oe,ye){if(!h.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>oe||R<ye)throw new RangeError('"value" argument is out of bounds');if(M+V>z.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(R,M,V,oe){if(R=+R,M=M|0,V=V|0,!oe){var ye=Math.pow(2,8*V)-1;X(this,R,M,V,ye,0)}var Ie=1,Ke=0;for(this[M]=R&255;++Ke<V&&(Ie*=256);)this[M+Ke]=R/Ie&255;return M+V},h.prototype.writeUIntBE=function(R,M,V,oe){if(R=+R,M=M|0,V=V|0,!oe){var ye=Math.pow(2,8*V)-1;X(this,R,M,V,ye,0)}var Ie=V-1,Ke=1;for(this[M+Ie]=R&255;--Ie>=0&&(Ke*=256);)this[M+Ie]=R/Ke&255;return M+V},h.prototype.writeUInt8=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,1,255,0),h.TYPED_ARRAY_SUPPORT||(R=Math.floor(R)),this[M]=R&255,M+1};function me(z,R,M,V){R<0&&(R=65535+R+1);for(var oe=0,ye=Math.min(z.length-M,2);oe<ye;++oe)z[M+oe]=(R&255<<8*(V?oe:1-oe))>>>(V?oe:1-oe)*8}h.prototype.writeUInt16LE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8):me(this,R,M,!0),M+2},h.prototype.writeUInt16BE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[M]=R>>>8,this[M+1]=R&255):me(this,R,M,!1),M+2};function Ye(z,R,M,V){R<0&&(R=4294967295+R+1);for(var oe=0,ye=Math.min(z.length-M,4);oe<ye;++oe)z[M+oe]=R>>>(V?oe:3-oe)*8&255}h.prototype.writeUInt32LE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[M+3]=R>>>24,this[M+2]=R>>>16,this[M+1]=R>>>8,this[M]=R&255):Ye(this,R,M,!0),M+4},h.prototype.writeUInt32BE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255):Ye(this,R,M,!1),M+4},h.prototype.writeIntLE=function(R,M,V,oe){if(R=+R,M=M|0,!oe){var ye=Math.pow(2,8*V-1);X(this,R,M,V,ye-1,-ye)}var Ie=0,Ke=1,cn=0;for(this[M]=R&255;++Ie<V&&(Ke*=256);)R<0&&cn===0&&this[M+Ie-1]!==0&&(cn=1),this[M+Ie]=(R/Ke>>0)-cn&255;return M+V},h.prototype.writeIntBE=function(R,M,V,oe){if(R=+R,M=M|0,!oe){var ye=Math.pow(2,8*V-1);X(this,R,M,V,ye-1,-ye)}var Ie=V-1,Ke=1,cn=0;for(this[M+Ie]=R&255;--Ie>=0&&(Ke*=256);)R<0&&cn===0&&this[M+Ie+1]!==0&&(cn=1),this[M+Ie]=(R/Ke>>0)-cn&255;return M+V},h.prototype.writeInt8=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,1,127,-128),h.TYPED_ARRAY_SUPPORT||(R=Math.floor(R)),R<0&&(R=255+R+1),this[M]=R&255,M+1},h.prototype.writeInt16LE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8):me(this,R,M,!0),M+2},h.prototype.writeInt16BE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[M]=R>>>8,this[M+1]=R&255):me(this,R,M,!1),M+2},h.prototype.writeInt32LE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[M]=R&255,this[M+1]=R>>>8,this[M+2]=R>>>16,this[M+3]=R>>>24):Ye(this,R,M,!0),M+4},h.prototype.writeInt32BE=function(R,M,V){return R=+R,M=M|0,V||X(this,R,M,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),h.TYPED_ARRAY_SUPPORT?(this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255):Ye(this,R,M,!1),M+4};function $e(z,R,M,V,oe,ye){if(M+V>z.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ne(z,R,M,V,oe){return oe||$e(z,R,M,4),t.write(z,R,M,V,23,4),M+4}h.prototype.writeFloatLE=function(R,M,V){return Ne(this,R,M,!0,V)},h.prototype.writeFloatBE=function(R,M,V){return Ne(this,R,M,!1,V)};function xe(z,R,M,V,oe){return oe||$e(z,R,M,8),t.write(z,R,M,V,52,8),M+8}h.prototype.writeDoubleLE=function(R,M,V){return xe(this,R,M,!0,V)},h.prototype.writeDoubleBE=function(R,M,V){return xe(this,R,M,!1,V)},h.prototype.copy=function(R,M,V,oe){if(V||(V=0),!oe&&oe!==0&&(oe=this.length),M>=R.length&&(M=R.length),M||(M=0),oe>0&&oe<V&&(oe=V),oe===V||R.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("sourceStart out of bounds");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),R.length-M<oe-V&&(oe=R.length-M+V);var ye=oe-V,Ie;if(this===R&&V<M&&M<oe)for(Ie=ye-1;Ie>=0;--Ie)R[Ie+M]=this[Ie+V];else if(ye<1e3||!h.TYPED_ARRAY_SUPPORT)for(Ie=0;Ie<ye;++Ie)R[Ie+M]=this[Ie+V];else Uint8Array.prototype.set.call(R,this.subarray(V,V+ye),M);return ye},h.prototype.fill=function(R,M,V,oe){if(typeof R=="string"){if(typeof M=="string"?(oe=M,M=0,V=this.length):typeof V=="string"&&(oe=V,V=this.length),R.length===1){var ye=R.charCodeAt(0);ye<256&&(R=ye)}if(oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!h.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe)}else typeof R=="number"&&(R=R&255);if(M<0||this.length<M||this.length<V)throw new RangeError("Out of range index");if(V<=M)return this;M=M>>>0,V=V===void 0?this.length:V>>>0,R||(R=0);var Ie;if(typeof R=="number")for(Ie=M;Ie<V;++Ie)this[Ie]=R;else{var Ke=h.isBuffer(R)?R:Nn(new h(R,oe).toString()),cn=Ke.length;for(Ie=0;Ie<V-M;++Ie)this[Ie+M]=Ke[Ie%cn]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function Xe(z){if(z=gn(z).replace(He,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function gn(z){return z.trim?z.trim():z.replace(/^\s+|\s+$/g,"")}function kn(z){return z<16?"0"+z.toString(16):z.toString(16)}function Nn(z,R){R=R||1/0;for(var M,V=z.length,oe=null,ye=[],Ie=0;Ie<V;++Ie){if(M=z.charCodeAt(Ie),M>55295&&M<57344){if(!oe){if(M>56319){(R-=3)>-1&&ye.push(239,191,189);continue}else if(Ie+1===V){(R-=3)>-1&&ye.push(239,191,189);continue}oe=M;continue}if(M<56320){(R-=3)>-1&&ye.push(239,191,189),oe=M;continue}M=(oe-55296<<10|M-56320)+65536}else oe&&(R-=3)>-1&&ye.push(239,191,189);if(oe=null,M<128){if((R-=1)<0)break;ye.push(M)}else if(M<2048){if((R-=2)<0)break;ye.push(M>>6|192,M&63|128)}else if(M<65536){if((R-=3)<0)break;ye.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((R-=4)<0)break;ye.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return ye}function On(z){for(var R=[],M=0;M<z.length;++M)R.push(z.charCodeAt(M)&255);return R}function tn(z,R){for(var M,V,oe,ye=[],Ie=0;Ie<z.length&&!((R-=2)<0);++Ie)M=z.charCodeAt(Ie),V=M>>8,oe=M%256,ye.push(oe),ye.push(V);return ye}function Un(z){return n.toByteArray(Xe(z))}function vn(z,R,M,V){for(var oe=0;oe<V&&!(oe+M>=R.length||oe>=z.length);++oe)R[oe+M]=z[oe];return oe}function ln(z){return z!==z}})(Ll);function rc(){this.head=null,this.tail=null,this.length=0}rc.prototype.push=function(e){var n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length};rc.prototype.unshift=function(e){var n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length};rc.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}};rc.prototype.clear=function(){this.head=this.tail=null,this.length=0};rc.prototype.join=function(e){if(this.length===0)return"";for(var n=this.head,t=""+n.data;n=n.next;)t+=e+n.data;return t};rc.prototype.concat=function(e){if(this.length===0)return Ll.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var n=Ll.Buffer.allocUnsafe(e>>>0),t=this.head,r=0;t;)t.data.copy(n,r),r+=t.data.length,t=t.next;return n};var rw={exports:{}};(function(e,n){var t=Ll,r=t.Buffer;function i(d,h){for(var f in d)h[f]=d[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(i(t,n),n.Buffer=o);function o(d,h,f){return r(d,h,f)}i(r,o),o.from=function(d,h,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return r(d,h,f)},o.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=r(d);return h!==void 0?typeof f=="string"?m.fill(h,f):m.fill(h):m.fill(0),m},o.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r(d)},o.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(d)}})(rw,rw.exports);var z3=rw.exports.Buffer,wO=z3.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ece(e){if(!e)return"utf8";for(var n;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(n)return;e=(""+e).toLowerCase(),n=!0}}function nce(e){var n=ece(e);if(typeof n!="string"&&(z3.isEncoding===wO||!wO(e)))throw new Error("Unknown encoding: "+e);return n||e}var xD=Nf;function Nf(e){this.encoding=nce(e);var n;switch(this.encoding){case"utf16le":this.text=oce,this.end=lce,n=4;break;case"utf8":this.fillLast=ice,n=4;break;case"base64":this.text=uce,this.end=cce,n=3;break;default:this.write=dce,this.end=hce;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=z3.allocUnsafe(n)}Nf.prototype.write=function(e){if(e.length===0)return"";var n,t;if(this.lastNeed){if(n=this.fillLast(e),n===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?n?n+this.text(e,t):this.text(e,t):n||""};Nf.prototype.end=sce;Nf.prototype.text=ace;Nf.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function b1(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function tce(e,n,t){var r=n.length-1;if(r<t)return 0;var i=b1(n[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<t||i===-2?0:(i=b1(n[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<t||i===-2?0:(i=b1(n[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function rce(e,n,t){if((n[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&n.length>1){if((n[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&n.length>2&&(n[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function ice(e){var n=this.lastTotal-this.lastNeed,t=rce(this,e);if(t!==void 0)return t;if(this.lastNeed<=e.length)return e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,n,0,e.length),this.lastNeed-=e.length}function ace(e,n){var t=tce(this,e,n);if(!this.lastNeed)return e.toString("utf8",n);this.lastTotal=t;var r=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",n,r)}function sce(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+"\uFFFD":n}function oce(e,n){if((e.length-n)%2===0){var t=e.toString("utf16le",n);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",n,e.length-1)}function lce(e){var n=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,t)}return n}function uce(e,n){var t=(e.length-n)%3;return t===0?e.toString("base64",n):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",n,e.length-t))}function cce(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function dce(e){return e.toString(this.encoding)}function hce(e){return e&&e.length?this.write(e):""}ar.ReadableState=SD;var St=zs.debuglog("stream");zs.inherits(ar,Yd);function pce(e,n,t){if(typeof e.prependListener=="function")return e.prependListener(n,t);!e._events||!e._events[n]?e.on(n,t):Array.isArray(e._events[n])?e._events[n].unshift(t):e._events[n]=[t,e._events[n]]}function fce(e,n){return e.listeners(n).length}function SD(e,n){e=e||{},this.objectMode=!!e.objectMode,n instanceof Sa&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new rc,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new xD(e.encoding),this.encoding=e.encoding)}function ar(e){if(!(this instanceof ar))return new ar(e);this._readableState=new SD(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Yd.call(this)}ar.prototype.push=function(e,n){var t=this._readableState;return!t.objectMode&&typeof e=="string"&&(n=n||t.defaultEncoding,n!==t.encoding&&(e=Buffer.from(e,n),n="")),ID(this,t,e,n,!1)};ar.prototype.unshift=function(e){var n=this._readableState;return ID(this,n,e,"",!0)};ar.prototype.isPaused=function(){return this._readableState.flowing===!1};function ID(e,n,t,r,i){var o=gce(n,t);if(o)e.emit("error",o);else if(t===null)n.reading=!1,_ce(e,n);else if(n.objectMode||t&&t.length>0)if(n.ended&&!i){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(n.endEmitted&&i){var h=new Error("stream.unshift() after end event");e.emit("error",h)}else{var f;n.decoder&&!i&&!r&&(t=n.decoder.write(t),f=!n.objectMode&&t.length===0),i||(n.reading=!1),f||(n.flowing&&n.length===0&&!n.sync?(e.emit("data",t),e.read(0)):(n.length+=n.objectMode?1:t.length,i?n.buffer.unshift(t):n.buffer.push(t),n.needReadable&&pg(e))),bce(e,n)}else i||(n.reading=!1);return vce(n)}function vce(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ar.prototype.setEncoding=function(e){return this._readableState.decoder=new xD(e),this._readableState.encoding=e,this};var CO=8388608;function mce(e){return e>=CO?e=CO:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function xO(e,n){return e<=0||n.length===0&&n.ended?0:n.objectMode?1:e!==e?n.flowing&&n.length?n.buffer.head.data.length:n.length:(e>n.highWaterMark&&(n.highWaterMark=mce(e)),e<=n.length?e:n.ended?n.length:(n.needReadable=!0,0))}ar.prototype.read=function(e){St("read",e),e=parseInt(e,10);var n=this._readableState,t=e;if(e!==0&&(n.emittedReadable=!1),e===0&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return St("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?y1(this):pg(this),null;if(e=xO(e,n),e===0&&n.ended)return n.length===0&&y1(this),null;var r=n.needReadable;St("need readable",r),(n.length===0||n.length-e<n.highWaterMark)&&(r=!0,St("length less than watermark",r)),n.ended||n.reading?(r=!1,St("reading or ended",r)):r&&(St("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=xO(t,n)));var i;return e>0?i=kD(e,n):i=null,i===null?(n.needReadable=!0,e=0):n.length-=e,n.length===0&&(n.ended||(n.needReadable=!0),t!==e&&n.ended&&y1(this)),i!==null&&this.emit("data",i),i};function gce(e,n){var t=null;return!Buffer.isBuffer(n)&&typeof n!="string"&&n!==null&&n!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function _ce(e,n){if(!n.ended){if(n.decoder){var t=n.decoder.end();t&&t.length&&(n.buffer.push(t),n.length+=n.objectMode?1:t.length)}n.ended=!0,pg(e)}}function pg(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(St("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?Qa.nextTick(SO,e):SO(e))}function SO(e){St("emit readable"),e.emit("readable"),V3(e)}function bce(e,n){n.readingMore||(n.readingMore=!0,Qa.nextTick(yce,e,n))}function yce(e,n){for(var t=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(St("maybeReadMore read 0"),e.read(0),t!==n.length);)t=n.length;n.readingMore=!1}ar.prototype._read=function(e){this.emit("error",new Error("not implemented"))};ar.prototype.pipe=function(e,n){var t=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1,St("pipe count=%d opts=%j",r.pipesCount,n);var i=!n||n.end!==!1,o=i?h:_;r.endEmitted?Qa.nextTick(o):t.once("end",o),e.on("unpipe",d);function d(T){St("onunpipe"),T===t&&_()}function h(){St("onend"),e.end()}var f=Ece(t);e.on("drain",f);var m=!1;function _(){St("cleanup"),e.removeListener("close",I),e.removeListener("finish",k),e.removeListener("drain",f),e.removeListener("error",C),e.removeListener("unpipe",d),t.removeListener("end",h),t.removeListener("end",_),t.removeListener("data",w),m=!0,r.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&f()}var y=!1;t.on("data",w);function w(T){St("ondata"),y=!1;var N=e.write(T);N===!1&&!y&&((r.pipesCount===1&&r.pipes===e||r.pipesCount>1&&TD(r.pipes,e)!==-1)&&!m&&(St("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,y=!0),t.pause())}function C(T){St("onerror",T),U(),e.removeListener("error",C),fce(e,"error")===0&&e.emit("error",T)}pce(e,"error",C);function I(){e.removeListener("finish",k),U()}e.once("close",I);function k(){St("onfinish"),e.removeListener("close",I),U()}e.once("finish",k);function U(){St("unpipe"),t.unpipe(e)}return e.emit("pipe",t),r.flowing||(St("pipe resume"),t.resume()),e};function Ece(e){return function(){var n=e._readableState;St("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&e.listeners("data").length&&(n.flowing=!0,V3(e))}}ar.prototype.unpipe=function(e){var n=this._readableState;if(n.pipesCount===0)return this;if(n.pipesCount===1)return e&&e!==n.pipes?this:(e||(e=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=n.pipes,r=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var i=0;i<r;i++)t[i].emit("unpipe",this);return this}var o=TD(n.pipes,e);return o===-1?this:(n.pipes.splice(o,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),e.emit("unpipe",this),this)};ar.prototype.on=function(e,n){var t=Yd.prototype.on.call(this,e,n);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&pg(this):Qa.nextTick(wce,this))}return t};ar.prototype.addListener=ar.prototype.on;function wce(e){St("readable nexttick read 0"),e.read(0)}ar.prototype.resume=function(){var e=this._readableState;return e.flowing||(St("resume"),e.flowing=!0,Cce(this,e)),this};function Cce(e,n){n.resumeScheduled||(n.resumeScheduled=!0,Qa.nextTick(xce,e,n))}function xce(e,n){n.reading||(St("resume read 0"),e.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,e.emit("resume"),V3(e),n.flowing&&!n.reading&&e.read(0)}ar.prototype.pause=function(){return St("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(St("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function V3(e){var n=e._readableState;for(St("flow",n.flowing);n.flowing&&e.read()!==null;);}ar.prototype.wrap=function(e){var n=this._readableState,t=!1,r=this;e.on("end",function(){if(St("wrapped end"),n.decoder&&!n.ended){var d=n.decoder.end();d&&d.length&&r.push(d)}r.push(null)}),e.on("data",function(d){if(St("wrapped data"),n.decoder&&(d=n.decoder.write(d)),!(n.objectMode&&d==null)&&!(!n.objectMode&&(!d||!d.length))){var h=r.push(d);h||(t=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(d){return function(){return e[d].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return Nce(o,function(d){e.on(d,r.emit.bind(r,d))}),r._read=function(d){St("wrapped _read",d),t&&(t=!1,e.resume())},r};ar._fromList=kD;function kD(e,n){if(n.length===0)return null;var t;return n.objectMode?t=n.buffer.shift():!e||e>=n.length?(n.decoder?t=n.buffer.join(""):n.buffer.length===1?t=n.buffer.head.data:t=n.buffer.concat(n.length),n.buffer.clear()):t=Sce(e,n.buffer,n.decoder),t}function Sce(e,n,t){var r;return e<n.head.data.length?(r=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):e===n.head.data.length?r=n.shift():r=t?Ice(e,n):kce(e,n),r}function Ice(e,n){var t=n.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var o=t.data,d=e>o.length?o.length:e;if(d===o.length?i+=o:i+=o.slice(0,e),e-=d,e===0){d===o.length?(++r,t.next?n.head=t.next:n.head=n.tail=null):(n.head=t,t.data=o.slice(d));break}++r}return n.length-=r,i}function kce(e,n){var t=Buffer.allocUnsafe(e),r=n.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,d=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,d),e-=d,e===0){d===o.length?(++i,r.next?n.head=r.next:n.head=n.tail=null):(n.head=r,r.data=o.slice(d));break}++i}return n.length-=i,t}function y1(e){var n=e._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,Qa.nextTick(Tce,n,e))}function Tce(e,n){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,n.readable=!1,n.emit("end"))}function Nce(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function TD(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}ri.WritableState=K3;zs.inherits(ri,Tf.exports.EventEmitter);function Oce(){}function Ace(e,n,t){this.chunk=e,this.encoding=n,this.callback=t,this.next=null}function K3(e,n){Object.defineProperty(this,"buffer",{get:zs.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,n instanceof Sa&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){$ce(n,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new RD(this)}K3.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t};function ri(e){if(!(this instanceof ri)&&!(this instanceof Sa))return new ri(e);this._writableState=new K3(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),Tf.exports.EventEmitter.call(this)}ri.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Rce(e,n){var t=new Error("write after end");e.emit("error",t),Qa.nextTick(n,t)}function Mce(e,n,t,r){var i=!0,o=!1;return t===null?o=new TypeError("May not write null values to stream"):!Ll.Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Qa.nextTick(r,o),i=!1),i}ri.prototype.write=function(e,n,t){var r=this._writableState,i=!1;return typeof n=="function"&&(t=n,n=null),Ll.Buffer.isBuffer(e)?n="buffer":n||(n=r.defaultEncoding),typeof t!="function"&&(t=Oce),r.ended?Rce(this,t):Mce(this,r,e,t)&&(r.pendingcb++,i=Uce(this,r,e,n,t)),i};ri.prototype.cork=function(){var e=this._writableState;e.corked++};ri.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&ND(this,e))};ri.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};function Dce(e,n,t){return!e.objectMode&&e.decodeStrings!==!1&&typeof n=="string"&&(n=Ll.Buffer.from(n,t)),n}function Uce(e,n,t,r,i){t=Dce(n,t,r),Ll.Buffer.isBuffer(t)&&(r="buffer");var o=n.objectMode?1:t.length;n.length+=o;var d=n.length<n.highWaterMark;if(d||(n.needDrain=!0),n.writing||n.corked){var h=n.lastBufferedRequest;n.lastBufferedRequest=new Ace(t,r,i),h?h.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else iw(e,n,!1,o,t,r,i);return d}function iw(e,n,t,r,i,o,d){n.writelen=r,n.writecb=d,n.writing=!0,n.sync=!0,t?e._writev(i,n.onwrite):e._write(i,o,n.onwrite),n.sync=!1}function Lce(e,n,t,r,i){--n.pendingcb,t?Qa.nextTick(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function Pce(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function $ce(e,n){var t=e._writableState,r=t.sync,i=t.writecb;if(Pce(t),n)Lce(e,t,r,n,i);else{var o=OD(t);!o&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&ND(e,t),r?Qa.nextTick(IO,e,t,o,i):IO(e,t,o,i)}}function IO(e,n,t,r){t||Fce(e,n),n.pendingcb--,r(),AD(e,n)}function Fce(e,n){n.length===0&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}function ND(e,n){n.bufferProcessing=!0;var t=n.bufferedRequest;if(e._writev&&t&&t.next){var r=n.bufferedRequestCount,i=new Array(r),o=n.corkedRequestsFree;o.entry=t;for(var d=0;t;)i[d]=t,t=t.next,d+=1;iw(e,n,!0,n.length,i,"",o.finish),n.pendingcb++,n.lastBufferedRequest=null,o.next?(n.corkedRequestsFree=o.next,o.next=null):n.corkedRequestsFree=new RD(n)}else{for(;t;){var h=t.chunk,f=t.encoding,m=t.callback,_=n.objectMode?1:h.length;if(iw(e,n,!1,_,h,f,m),t=t.next,n.writing)break}t===null&&(n.lastBufferedRequest=null)}n.bufferedRequestCount=0,n.bufferedRequest=t,n.bufferProcessing=!1}ri.prototype._write=function(e,n,t){t(new Error("not implemented"))};ri.prototype._writev=null;ri.prototype.end=function(e,n,t){var r=this._writableState;typeof e=="function"?(t=e,e=null,n=null):typeof n=="function"&&(t=n,n=null),e!=null&&this.write(e,n),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&Hce(this,r,t)};function OD(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function kO(e,n){n.prefinished||(n.prefinished=!0,e.emit("prefinish"))}function AD(e,n){var t=OD(n);return t&&(n.pendingcb===0?(kO(e,n),n.finished=!0,e.emit("finish")):kO(e,n)),t}function Hce(e,n,t){n.ending=!0,AD(e,n),t&&(n.finished?Qa.nextTick(t):e.once("finish",t)),n.ended=!0,e.writable=!1}function RD(e){var n=this;this.next=null,this.entry=null,this.finish=function(t){var r=n.entry;for(n.entry=null;r;){var i=r.callback;e.pendingcb--,i(t),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=n:e.corkedRequestsFree=n}}zs.inherits(Sa,ar);var TO=Object.keys(ri.prototype);for(var E1=0;E1<TO.length;E1++){var w1=TO[E1];Sa.prototype[w1]||(Sa.prototype[w1]=ri.prototype[w1])}function Sa(e){if(!(this instanceof Sa))return new Sa(e);ar.call(this,e),ri.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",qce)}function qce(){this.allowHalfOpen||this._writableState.ended||Qa.nextTick(Bce,this)}function Bce(e){e.end()}zs.inherits(fs,Sa);function Gce(e){this.afterTransform=function(n,t){return jce(e,n,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function jce(e,n,t){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,t!=null&&e.push(t),i(n);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function fs(e){if(!(this instanceof fs))return new fs(e);Sa.call(this,e),this._transformState=new Gce(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){NO(n,t)}):NO(n)})}fs.prototype.push=function(e,n){return this._transformState.needTransform=!1,Sa.prototype.push.call(this,e,n)};fs.prototype._transform=function(e,n,t){throw new Error("Not implemented")};fs.prototype._write=function(e,n,t){var r=this._transformState;if(r.writecb=t,r.writechunk=e,r.writeencoding=n,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};fs.prototype._read=function(e){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};function NO(e,n){if(n)return e.emit("error",n);var t=e._writableState,r=e._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}zs.inherits(Pd,fs);function Pd(e){if(!(this instanceof Pd))return new Pd(e);fs.call(this,e)}Pd.prototype._transform=function(e,n,t){t(null,e)};zs.inherits(vs,Yd);vs.Readable=ar;vs.Writable=ri;vs.Duplex=Sa;vs.Transform=fs;vs.PassThrough=Pd;vs.Stream=vs;function vs(){Yd.call(this)}vs.prototype.pipe=function(e,n){var t=this;function r(_){e.writable&&e.write(_)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}e.on("drain",i),!e._isStdio&&(!n||n.end!==!1)&&(t.on("end",d),t.on("close",h));var o=!1;function d(){o||(o=!0,e.end())}function h(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function f(_){if(m(),Yd.listenerCount(this,"error")===0)throw _}t.on("error",f),e.on("error",f);function m(){t.removeListener("data",r),e.removeListener("drain",i),t.removeListener("end",d),t.removeListener("close",h),t.removeListener("error",f),e.removeListener("error",f),t.removeListener("end",m),t.removeListener("close",m),e.removeListener("close",m)}return t.on("end",m),t.on("close",m),e.on("close",m),e.emit("pipe",t),e};var zce=Object.freeze({__proto__:null,default:vs,Readable:ar,Writable:ri,Duplex:Sa,Transform:fs,PassThrough:Pd,Stream:vs}),Vce=Aue(zce);/** @license React v17.0.2
 * react-dom-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Lue,bo=S,Kce=Vce;function hr(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W3=60106,Rm=60107,Q3=60108,Y3=60114,Mm=60109,X3=60110,J3=60112,Dm=60113,Z3=60120,eC=60115,nC=60116,MD=60121,DD=60117,UD=60119,LD=60129,PD=60131;if(typeof Symbol=="function"&&Symbol.for){var di=Symbol.for;W3=di("react.portal"),Rm=di("react.fragment"),Q3=di("react.strict_mode"),Y3=di("react.profiler"),Mm=di("react.provider"),X3=di("react.context"),J3=di("react.forward_ref"),Dm=di("react.suspense"),Z3=di("react.suspense_list"),eC=di("react.memo"),nC=di("react.lazy"),MD=di("react.block"),DD=di("react.fundamental"),UD=di("react.scope"),LD=di("react.debug_trace_mode"),PD=di("react.legacy_hidden")}function Hp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rm:return"Fragment";case W3:return"Portal";case Y3:return"Profiler";case Q3:return"StrictMode";case Dm:return"Suspense";case Z3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X3:return(e.displayName||"Context")+".Consumer";case Mm:return(e._context.displayName||"Context")+".Provider";case J3:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case eC:return Hp(e.type);case MD:return Hp(e._render);case nC:n=e._payload,e=e._init;try{return Hp(e(n))}catch{}}return null}var Wce=bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$D={};function mf(e,n){for(var t=e._threadCount|0;t<=n;t++)e[t]=e._currentValue2,e._threadCount=t+1}function Qce(e,n,t,r){if(r&&(r=e.contextType,typeof r=="object"&&r!==null))return mf(r,t),r[t];if(e=e.contextTypes){t={};for(var i in e)t[i]=n[i];n=t}else n=$D;return n}for(var mi=new Uint16Array(16),Ev=0;15>Ev;Ev++)mi[Ev]=Ev+1;mi[15]=0;var Yce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OO=Object.prototype.hasOwnProperty,AO={},RO={};function FD(e){return OO.call(RO,e)?!0:OO.call(AO,e)?!1:Yce.test(e)?RO[e]=!0:(AO[e]=!0,!1)}function Xce(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jce(e,n,t,r){if(n===null||typeof n>"u"||Xce(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Pi(e,n,t,r,i,o,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=d}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new Pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];ii[n]=new Pi(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new Pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new Pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new Pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new Pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new Pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new Pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new Pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var tC=/[\-:]([a-z])/g;function rC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(tC,rC);ii[n]=new Pi(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(tC,rC);ii[n]=new Pi(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(tC,rC);ii[n]=new Pi(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new Pi(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new Pi(e,1,!1,e.toLowerCase(),null,!0,!0)});var Zce=/["'&<>]/;function Su(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var n=Zce.exec(e);if(n){var t="",r,i=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==r&&(t+=e.substring(i,r)),i=r+1,t+=n}e=i!==r?t+e.substring(i,r):t}return e}function ede(e,n){var t=ii.hasOwnProperty(e)?ii[e]:null,r;return(r=e!=="style")&&(r=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),r||Jce(e,n,t,!1)?"":t!==null?(e=t.attributeName,r=t.type,r===3||r===4&&n===!0?e+'=""':(t.sanitizeURL&&(n=""+n),e+'="'+(Su(n)+'"'))):FD(e)?e+'="'+(Su(n)+'"'):""}function nde(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tde=typeof Object.is=="function"?Object.is:nde,Gs=null,zv=null,qt=null,wp=!1,Um=!1,gl=null,fg=0;function Iu(){if(Gs===null)throw Error(hr(321));return Gs}function MO(){if(0<fg)throw Error(hr(312));return{memoizedState:null,queue:null,next:null}}function iC(){return qt===null?zv===null?(wp=!1,zv=qt=MO()):(wp=!0,qt=zv):qt.next===null?(wp=!1,qt=qt.next=MO()):(wp=!0,qt=qt.next),qt}function HD(e,n,t,r){for(;Um;)Um=!1,fg+=1,qt=null,t=e(n,r);return qD(),t}function qD(){Gs=null,Um=!1,zv=null,fg=0,qt=gl=null}function BD(e,n){return typeof n=="function"?n(e):n}function DO(e,n,t){if(Gs=Iu(),qt=iC(),wp){var r=qt.queue;if(n=r.dispatch,gl!==null&&(t=gl.get(r),t!==void 0)){gl.delete(r),r=qt.memoizedState;do r=e(r,t.action),t=t.next;while(t!==null);return qt.memoizedState=r,[r,n]}return[qt.memoizedState,n]}return e=e===BD?typeof n=="function"?n():n:t!==void 0?t(n):n,qt.memoizedState=e,e=qt.queue={last:null,dispatch:null},e=e.dispatch=rde.bind(null,Gs,e),[qt.memoizedState,e]}function UO(e,n){if(Gs=Iu(),qt=iC(),n=n===void 0?null:n,qt!==null){var t=qt.memoizedState;if(t!==null&&n!==null){var r=t[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<n.length;i++)if(!tde(n[i],r[i])){r=!1;break e}r=!0}if(r)return t[0]}}return e=e(),qt.memoizedState=[e,n],e}function rde(e,n,t){if(!(25>fg))throw Error(hr(301));if(e===Gs)if(Um=!0,e={action:t,next:null},gl===null&&(gl=new Map),t=gl.get(n),t===void 0)gl.set(n,e);else{for(n=t;n.next!==null;)n=n.next;n.next=e}}function C1(){}var Ru=null,ide={readContext:function(e){var n=Ru.threadID;return mf(e,n),e[n]},useContext:function(e){Iu();var n=Ru.threadID;return mf(e,n),e[n]},useMemo:UO,useReducer:DO,useRef:function(e){Gs=Iu(),qt=iC();var n=qt.memoizedState;return n===null?(e={current:e},qt.memoizedState=e):n},useState:function(e){return DO(BD,e)},useLayoutEffect:function(){},useCallback:function(e,n){return UO(function(){return e},n)},useImperativeHandle:C1,useEffect:C1,useDebugValue:C1,useDeferredValue:function(e){return Iu(),e},useTransition:function(){return Iu(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(Ru.identifierPrefix||"")+"R:"+(Ru.uniqueID++).toString(36)},useMutableSource:function(e,n){return Iu(),n(e._source)}},ade={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function sde(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var GD={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ode=ls({menuitem:!0},GD),qp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lde=["Webkit","ms","Moz","O"];Object.keys(qp).forEach(function(e){lde.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qp[n]=qp[e]})});var ude=/([A-Z])/g,cde=/^ms-/,ol=bo.Children.toArray,x1=Wce.ReactCurrentDispatcher,dde={listing:!0,pre:!0,textarea:!0},hde=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,LO={},S1={};function pde(e){if(e==null)return e;var n="";return bo.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}var fde=Object.prototype.hasOwnProperty,vde={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function PO(e,n){if(e===void 0)throw Error(hr(152,Hp(n)||"Component"))}function mde(e,n,t){function r(d,h){var f=h.prototype&&h.prototype.isReactComponent,m=Qce(h,n,t,f),_=[],y=!1,w={isMounted:function(){return!1},enqueueForceUpdate:function(){if(_===null)return null},enqueueReplaceState:function(H,$){y=!0,_=[$]},enqueueSetState:function(H,$){if(_===null)return null;_.push($)}};if(f){if(f=new h(d.props,m,w),typeof h.getDerivedStateFromProps=="function"){var C=h.getDerivedStateFromProps.call(null,d.props,f.state);C!=null&&(f.state=ls({},f.state,C))}}else if(Gs={},f=h(d.props,m,w),f=HD(h,d.props,f,m),f==null||f.render==null){e=f,PO(e,h);return}if(f.props=d.props,f.context=m,f.updater=w,w=f.state,w===void 0&&(f.state=w=null),typeof f.UNSAFE_componentWillMount=="function"||typeof f.componentWillMount=="function")if(typeof f.componentWillMount=="function"&&typeof h.getDerivedStateFromProps!="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&typeof h.getDerivedStateFromProps!="function"&&f.UNSAFE_componentWillMount(),_.length){w=_;var I=y;if(_=null,y=!1,I&&w.length===1)f.state=w[0];else{C=I?w[0]:f.state;var k=!0;for(I=I?1:0;I<w.length;I++){var U=w[I];U=typeof U=="function"?U.call(f,C,d.props,m):U,U!=null&&(k?(k=!1,C=ls({},C,U)):ls(C,U))}f.state=C}}else _=null;if(e=f.render(),PO(e,h),typeof f.getChildContext=="function"&&(d=h.childContextTypes,typeof d=="object")){var T=f.getChildContext();for(var N in T)if(!(N in d))throw Error(hr(108,Hp(h)||"Unknown",N))}T&&(n=ls({},n,T))}for(;bo.isValidElement(e);){var i=e,o=i.type;if(typeof o!="function")break;r(i,o)}return{child:e,context:n}}var aC=function(){function e(t,r,i){bo.isValidElement(t)?t.type!==Rm?t=[t]:(t=t.props.children,t=bo.isValidElement(t)?[t]:ol(t)):t=ol(t),t={type:null,domNamespace:ade.html,children:t,childIndex:0,context:$D,footer:""};var o=mi[0];if(o===0){var d=mi;o=d.length;var h=2*o;if(!(65536>=h))throw Error(hr(304));var f=new Uint16Array(h);for(f.set(d),mi=f,mi[0]=o+1,d=o;d<h-1;d++)mi[d]=d+1;mi[h-1]=0}else mi[0]=mi[o];this.threadID=o,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=r,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=i&&i.identifierPrefix||""}var n=e.prototype;return n.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;mi[t]=mi[0],mi[0]=t}},n.pushProvider=function(t){var r=++this.contextIndex,i=t.type._context,o=this.threadID;mf(i,o);var d=i[o];this.contextStack[r]=i,this.contextValueStack[r]=d,i[o]=t.props.value},n.popProvider=function(){var t=this.contextIndex,r=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,r[this.threadID]=i},n.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},n.read=function(t){if(this.exhausted)return null;var r=Ru;Ru=this;var i=x1.current;x1.current=ide;try{for(var o=[""],d=!1;o[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var h=this.threadID;mi[h]=mi[0],mi[0]=h;break}var f=this.stack[this.stack.length-1];if(d||f.childIndex>=f.children.length){var m=f.footer;if(m!==""&&(this.previousWasTextNode=!1),this.stack.pop(),f.type==="select")this.currentSelectValue=null;else if(f.type!=null&&f.type.type!=null&&f.type.type.$$typeof===Mm)this.popProvider(f.type);else if(f.type===Dm){this.suspenseDepth--;var _=o.pop();if(d){d=!1;var y=f.fallbackFrame;if(!y)throw Error(hr(303));this.stack.push(y),o[this.suspenseDepth]+="<!--$!-->";continue}else o[this.suspenseDepth]+=_}o[this.suspenseDepth]+=m}else{var w=f.children[f.childIndex++],C="";try{C+=this.render(w,f.context,f.domNamespace)}catch(I){throw I!=null&&typeof I.then=="function"?Error(hr(294)):I}finally{}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=C}}return o[0]}finally{x1.current=i,Ru=r,qD()}},n.render=function(t,r,i){if(typeof t=="string"||typeof t=="number")return i=""+t,i===""?"":this.makeStaticMarkup?Su(i):this.previousWasTextNode?"<!-- -->"+Su(i):(this.previousWasTextNode=!0,Su(i));if(r=mde(t,r,this.threadID),t=r.child,r=r.context,t===null||t===!1)return"";if(!bo.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw i=t.$$typeof,Error(i===W3?hr(257):hr(258,i.toString()));return t=ol(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}var o=t.type;if(typeof o=="string")return this.renderDOM(t,r,i);switch(o){case PD:case LD:case Q3:case Y3:case Z3:case Rm:return t=ol(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Dm:throw Error(hr(294));case UD:throw Error(hr(343))}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case J3:Gs={};var d=o.render(t.props,t.ref);return d=HD(o.render,t.props,d,t.ref),d=ol(d),this.stack.push({type:null,domNamespace:i,children:d,childIndex:0,context:r,footer:""}),"";case eC:return t=[bo.createElement(o.type,ls({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),"";case Mm:return o=ol(t.props.children),i={type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""},this.pushProvider(t),this.stack.push(i),"";case X3:o=t.type,d=t.props;var h=this.threadID;return mf(o,h),o=ol(d.children(o[h])),this.stack.push({type:t,domNamespace:i,children:o,childIndex:0,context:r,footer:""}),"";case DD:throw Error(hr(338));case nC:return o=t.type,d=o._init,o=d(o._payload),t=[bo.createElement(o,ls({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:r,footer:""}),""}throw Error(hr(130,o==null?o:typeof o,""))},n.renderDOM=function(t,r,i){var o=t.type.toLowerCase();if(!LO.hasOwnProperty(o)){if(!hde.test(o))throw Error(hr(65,o));LO[o]=!0}var d=t.props;if(o==="input")d=ls({type:void 0},d,{defaultChecked:void 0,defaultValue:void 0,value:d.value!=null?d.value:d.defaultValue,checked:d.checked!=null?d.checked:d.defaultChecked});else if(o==="textarea"){var h=d.value;if(h==null){h=d.defaultValue;var f=d.children;if(f!=null){if(h!=null)throw Error(hr(92));if(Array.isArray(f)){if(!(1>=f.length))throw Error(hr(93));f=f[0]}h=""+f}h==null&&(h="")}d=ls({},d,{value:void 0,children:""+h})}else if(o==="select")this.currentSelectValue=d.value!=null?d.value:d.defaultValue,d=ls({},d,{value:void 0});else if(o==="option"){f=this.currentSelectValue;var m=pde(d.children);if(f!=null){var _=d.value!=null?d.value+"":m;if(h=!1,Array.isArray(f)){for(var y=0;y<f.length;y++)if(""+f[y]===_){h=!0;break}}else h=""+f===_;d=ls({selected:void 0,children:void 0},d,{selected:h,children:m})}}if(h=d){if(ode[o]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(hr(137,o));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(hr(60));if(!(typeof h.dangerouslySetInnerHTML=="object"&&"__html"in h.dangerouslySetInnerHTML))throw Error(hr(61))}if(h.style!=null&&typeof h.style!="object")throw Error(hr(62))}h=d,f=this.makeStaticMarkup,m=this.stack.length===1,_="<"+t.type;e:if(o.indexOf("-")===-1)y=typeof h.is=="string";else switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":y=!1;break e;default:y=!0}for($ in h)if(fde.call(h,$)){var w=h[$];if(w!=null){if($==="style"){var C=void 0,I="",k="";for(C in w)if(w.hasOwnProperty(C)){var U=C.indexOf("--")===0,T=w[C];if(T!=null){if(U)var N=C;else if(N=C,S1.hasOwnProperty(N))N=S1[N];else{var H=N.replace(ude,"-$1").toLowerCase().replace(cde,"-ms-");N=S1[N]=H}I+=k+N+":",k=C,U=T==null||typeof T=="boolean"||T===""?"":U||typeof T!="number"||T===0||qp.hasOwnProperty(k)&&qp[k]?(""+T).trim():T+"px",I+=U,k=";"}}w=I||null}C=null,y?vde.hasOwnProperty($)||(C=$,C=FD(C)&&w!=null?C+'="'+(Su(w)+'"'):""):C=ede($,w),C&&(_+=" "+C)}}f||m&&(_+=' data-reactroot=""');var $=_;h="",GD.hasOwnProperty(o)?$+="/>":($+=">",h="</"+t.type+">");e:{if(f=d.dangerouslySetInnerHTML,f!=null){if(f.__html!=null){f=f.__html;break e}}else if(f=d.children,typeof f=="string"||typeof f=="number"){f=Su(f);break e}f=null}return f!=null?(d=[],dde.hasOwnProperty(o)&&f.charAt(0)===`
`&&($+=`
`),$+=f):d=ol(d.children),t=t.type,i=i==null||i==="http://www.w3.org/1999/xhtml"?sde(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:o,children:d,childIndex:0,context:r,footer:h}),this.previousWasTextNode=!1,$},e}();function gde(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var jD=function(e){function n(r,i,o){var d=e.call(this,{})||this;return d.partialRenderer=new aC(r,i,o),d}gde(n,e);var t=n.prototype;return t._destroy=function(r,i){this.partialRenderer.destroy(),i(r)},t._read=function(r){try{this.push(this.partialRenderer.read(r))}catch(i){this.destroy(i)}},n}(Kce.Readable);Qd.renderToNodeStream=function(e,n){return new jD(e,!1,n)};Qd.renderToStaticMarkup=function(e,n){e=new aC(e,!0,n);try{return e.read(1/0)}finally{e.destroy()}};Qd.renderToStaticNodeStream=function(e,n){return new jD(e,!0,n)};Qd.renderToString=function(e,n){e=new aC(e,!1,n);try{return e.read(1/0)}finally{e.destroy()}};Qd.version="17.0.2";fD.exports=Qd;var $O=fD.exports,hp="sendbird-message-input-text-field",_de=76,As=function(){},bde=function(n){return function(t){t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""}},FO={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},vg=S.forwardRef(function(e,n){var t=e.className,r=e.isEdit,i=e.isMentionEnabled,o=e.disabled,d=e.message,h=e.placeholder,f=e.maxLength,m=e.onFileUpload,_=e.onSendMessage,y=e.onUpdateMessage,w=e.onCancelEdit,C=e.onStartTyping,I=e.channelUrl,k=e.mentionSelectedUser,U=e.onUserMentioned,T=e.onMentionStringChange,N=e.onMentionedUserIdsUpdated,H=e.onKeyUp,$=e.onKeyDown,Q=F.exports.useContext(_s),P=Q.stringSet,W=F.exports.useRef(null),K=F.exports.useState(!1),he=mo(K,2),le=he[0],Se=he[1],Ce=F.exports.useState([]),re=mo(Ce,2),pe=re[0],de=re[1],De=F.exports.useState(nr({},FO)),Ge=mo(De,2),ge=Ge[0],Ae=Ge[1],qe=F.exports.useMemo(function(){return function(){try{var $e=n.current,Ne=window.document.body.offsetHeight*.6;$e&&$e.scrollHeight>=_de?Ne<$e.scrollHeight?($e.style.height="auto",$e.style.height="".concat(Ne,"px")):($e.style.height="auto",$e.style.height="".concat($e.scrollHeight,"px")):$e.style.height=""}catch{}}},[]);F.exports.useEffect(function(){r||(Se(!1),document.getElementById(hp).innerHTML="")},[I]),F.exports.useEffect(function(){if(r&&d!==null&&d!==void 0&&d.messageId){var $e,Ne,xe,He=n.current;if(i&&(d==null||($e=d.mentionedUsers)===null||$e===void 0?void 0:$e.length)>0&&(d==null||(Ne=d.mentionedMessageTemplate)===null||Ne===void 0?void 0:Ne.length)>0){var Xe,gn=d.mentionedUsers,kn=gn===void 0?[]:gn;He.innerHTML=d==null||(Xe=d.mentionedMessageTemplate)===null||Xe===void 0?void 0:Xe.split(" ").map(function(Nn){return ase(Nn,kn).map(function(On){var tn=On.type,Un=On.value,vn=On.userId;if(tn===vo.mention&&kn.some(function(z){return(z==null?void 0:z.userId)===vn})){var ln;return $O.renderToString(S.createElement(vO,{userId:vn},"".concat(Yc).concat(((ln=kn.find(function(z){return(z==null?void 0:z.userId)===vn}))===null||ln===void 0?void 0:ln.nickname)||Un||P.MENTION_NAME__NO_NAME)))}return Un}).join("")}).join(" ")}else He.innerHTML=d==null?void 0:d.message,de([]);Se((He==null||(xe=He.innerText)===null||xe===void 0?void 0:xe.length)>0),qe()}},[r,d]);var J=F.exports.useCallback(function(){var $e=n.current;if(i){var Ne=Ou($e.getElementsByClassName("sendbird-mention-user-label")).map(function(xe){var He;return xe==null||(He=xe.dataset)===null||He===void 0?void 0:He.userid});(!sse(pe,Ne)||Ne.length===0)&&(N(Ne),de(Ne))}Se($e.innerText.length>0)},[ge,i]);F.exports.useEffect(function(){if(i&&k){var $e=ge.targetString,Ne=ge.startNodeIndex,xe=ge.startOffsetIndex,He=ge.endNodeIndex,Xe=ge.endOffsetIndex;if($e&&Ne!==null&&xe!==null){var gn,kn,Nn,On,tn=n.current,Un=Ou(tn==null?void 0:tn.childNodes),vn=(gn=document)===null||gn===void 0?void 0:gn.createTextNode((kn=Un[Ne])===null||kn===void 0?void 0:kn.textContent.slice(0,xe)),ln=(Nn=document)===null||Nn===void 0?void 0:Nn.createTextNode("\xA0".concat((On=Un[He])===null||On===void 0?void 0:On.textContent.slice(Xe))),z=$O.renderToString(S.createElement(vO,{userId:k==null?void 0:k.userId},"".concat(Yc).concat((k==null?void 0:k.nickname)||P.MENTION_NAME__NO_NAME))),R=document.createElement("div");R.innerHTML=z;var M=[].concat(Ou(Un.slice(0,Ne)),[vn,R.childNodes[0],ln],Ou(Un.slice(He+1)));if(tn.innerHTML="",M.forEach(function(ye){tn.appendChild(ye)}),U(k),window.getSelection||document.getSelection){var V=window.getSelection()||document.getSelection();V.removeAllRanges();var oe=new Range;oe.selectNodeContents(tn),oe.setStart(tn.childNodes[Ne+2],1),oe.setEnd(tn.childNodes[Ne+2],1),oe.collapse(!1),V.addRange(oe),tn.focus()}Ae(nr({},FO)),qe(),J()}}},[k,i]);var X=F.exports.useCallback(function(){var $e,Ne,xe,He,Xe=(($e=window)===null||$e===void 0||(Ne=$e.getSelection)===null||Ne===void 0?void 0:Ne.call($e))||((xe=document)===null||xe===void 0||(He=xe.getSelection)===null||He===void 0?void 0:He.call(xe)),gn=n.current;if(Xe.anchorNode===gn&&T(""),i&&Xe&&Xe.anchorNode===Xe.focusNode&&Xe.anchorOffset===Xe.focusOffset)for(var kn="",Nn=null,On=null,tn=0;tn<gn.childNodes.length;tn+=1){var Un=gn.childNodes[tn];if(Un.nodeType===Xc.TextNode){var vn=Un===Xe.anchorNode?(Un==null?void 0:Un.textContent.slice(0,Xe.anchorOffset))||"":(Un==null?void 0:Un.textContent)||"";if(kn.length>0)kn+=vn;else{for(var ln=vn.lastIndexOf(Yc),z=ln-1;z>-1&&vn[z]===Yc;z-=1)ln=z;ln>-1&&(kn=vn,Nn=tn,On=ln)}}else kn="",Nn=null,On=null;if(Un===Xe.anchorNode){var R=kn?kn.slice(On):"";Ae({targetString:R,startNodeIndex:Nn,startOffsetIndex:On,endNodeIndex:tn,endOffsetIndex:Xe.anchorOffset}),T(R);return}}},[i]),me=function(){var Ne=n.current;if(!r&&Ne!==null&&Ne!==void 0&&Ne.innerText){var xe="",He="";Ne.childNodes.forEach(function(gn){if(gn.nodeType===Xc.ElementNode&&gn.nodeName===yv.Span){var kn=gn.innerText,Nn=gn.dataset,On=Nn===void 0?{}:Nn,tn=On.userid,Un=tn===void 0?"":tn;xe+=kn,He+="".concat(Yc,"{").concat(Un,"}")}else if(gn.nodeType===Xc.ElementNode&&gn.nodeName===yv.Br)xe+=`
`,He+=`
`;else{var vn=gn.textContent,ln=vn===void 0?"":vn;xe+=ln,He+=ln}});var Xe={message:xe,mentionTemplate:He};_(Xe),document.getElementById(hp).innerHTML="",Se(!1),qe()}},Ye=function(){var Ne=n.current,xe=d==null?void 0:d.messageId;if(r&&xe){var He="",Xe="";Ne.childNodes.forEach(function(kn){if(kn.nodeType===Xc.ElementNode&&kn.nodeName===yv.Span){var Nn=kn.innerText,On=kn.dataset,tn=On===void 0?{}:On,Un=tn.userid,vn=Un===void 0?"":Un;He+=Nn,Xe+="".concat(Yc,"{").concat(vn,"}")}else if(kn.nodeType===Xc.ElementNode&&kn.nodeName===yv.Span)He+=`
`,Xe+=`
`;else{var ln=kn.textContent,z=ln===void 0?"":ln;He+=z,Xe+=z}});var gn={messageId:xe,message:He,mentionTemplate:Xe};y(gn),document.getElementById(hp).innerHTML=""}};return S.createElement("form",{className:BE([t,r?"sendbird-message-input__edit":"",o?"sendbird-message-input-form__disabled":""])},S.createElement("div",{className:BE(["sendbird-message-input",o?"sendbird-message-input__disabled":""])},S.createElement("div",{id:"".concat(hp).concat(r?d==null?void 0:d.messageId:""),className:"sendbird-message-input--textarea",contentEditable:!o,role:"textbox","aria-label":"Text Input",disabled:o,ref:n,maxLength:f,onKeyDown:function(Ne){var xe=$(Ne);if(xe)Ne.preventDefault();else{var He,Xe,gn,kn,Nn,On,tn,Un;!Ne.shiftKey&&Ne.key===gO.Enter&&(Ne==null||(He=Ne.nativeEvent)===null||He===void 0?void 0:He.isComposing)!==!0&&(Ne.preventDefault(),me()),Ne.key===gO.Backspace&&(n==null||(Xe=n.current)===null||Xe===void 0||(gn=Xe.childNodes)===null||gn===void 0?void 0:gn.length)===2&&!(n!=null&&(kn=n.current)!==null&&kn!==void 0&&(Nn=kn.childNodes)!==null&&Nn!==void 0&&(On=Nn[0])!==null&&On!==void 0&&On.textContent)&&((tn=n.current.childNodes)===null||tn===void 0||(Un=tn[1])===null||Un===void 0?void 0:Un.nodeType)===Xc.ElementNode&&n.current.removeChild(n.current.childNodes[1])}},onKeyUp:function(Ne){var xe=H(Ne);xe?Ne.preventDefault():X()},onClick:function(){X()},onInput:function(){var Ne,xe,He,Xe;qe(),C(),Se(((Ne=document)===null||Ne===void 0||(xe=Ne.getElementById)===null||xe===void 0||(He=xe.call(Ne,hp))===null||He===void 0||(Xe=He.innerText)===null||Xe===void 0?void 0:Xe.length)>0),J()},onPaste:function(Ne){Ne.preventDefault(),document.execCommand("insertHTML",!1,Ne==null?void 0:Ne.clipboardData.getData("text"))}}),!le&&S.createElement(Gn,{className:"sendbird-message-input--placeholder",type:Bn.BODY_1,color:Dn.ONBACKGROUND_3},h||P.MESSAGE_INPUT__PLACE_HOLDER),!r&&le&&S.createElement(Ml,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return me()}},S.createElement(rt,{type:Jn.SEND,fillColor:pt.PRIMARY,width:"20px",height:"20px"})),!r&&!le&&S.createElement(Ml,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){W.current.click()}},S.createElement(rt,{type:Jn.ATTACH,fillColor:pt.CONTENT_INVERSE,width:"20px",height:"20px"}),S.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:W,onChange:bde(m)}))),r&&S.createElement("div",{className:"sendbird-message-input--edit-action"},S.createElement(vf,{className:"sendbird-message-input--edit-action__cancel",type:Ld.SECONDARY,size:uO.SMALL,onClick:w},P.BUTTON__CANCEL),S.createElement(vf,{className:"sendbird-message-input--edit-action__save",type:Ld.PRIMARY,size:uO.SMALL,onClick:function(){return Ye()}},P.BUTTON__SAVE)))});vg.propTypes={className:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),placeholder:ce.exports.oneOfType([ce.exports.string,ce.exports.bool]),isEdit:ce.exports.bool,isMentionEnabled:ce.exports.bool,message:ce.exports.shape({messageId:ce.exports.oneOfType([ce.exports.string,ce.exports.number]),message:ce.exports.string,mentionedMessageTemplate:ce.exports.string,mentionedUsers:ce.exports.arrayOf(ce.exports.shape({}))}),disabled:ce.exports.bool,maxLength:ce.exports.number,onFileUpload:ce.exports.func,onSendMessage:ce.exports.func,onUpdateMessage:ce.exports.func,onStartTyping:ce.exports.func,onCancelEdit:ce.exports.func,channelUrl:ce.exports.string,mentionSelectedUser:ce.exports.shape({userId:ce.exports.string,nickname:ce.exports.string}),onUserMentioned:ce.exports.func,onMentionStringChange:ce.exports.func,onMentionedUserIdsUpdated:ce.exports.func,onKeyUp:ce.exports.func,onKeyDown:ce.exports.func};vg.defaultProps={className:"",channelUrl:"",onSendMessage:As,onUpdateMessage:As,message:null,isEdit:!1,isMentionEnabled:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:As,onCancelEdit:As,onStartTyping:As,mentionSelectedUser:null,onUserMentioned:As,onMentionStringChange:As,onMentionedUserIdsUpdated:As,onKeyUp:As,onKeyDown:As};var yde=/https?:\/\//;function Lm(e){var n=e.className,t=e.src,r=e.type,i=e.color,o=e.children,d=yde.test(t)?t:"http://".concat(t);return S.createElement("a",{className:[].concat(Ou(Array.isArray(n)?n:[n]),["sendbird-link-label",i?sD(i):""]).join(" "),href:d,target:"_blank",rel:"noopener noreferrer"},S.createElement(Gn,{className:"sendbird-link-label__label",type:r,color:i},o))}Lm.propTypes={className:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),src:ce.exports.string.isRequired,type:ce.exports.oneOf(Object.keys(Bn)).isRequired,color:ce.exports.oneOf(Object.keys(Dn)).isRequired,children:ce.exports.oneOfType([ce.exports.string,ce.exports.element,ce.exports.arrayOf(ce.exports.string),ce.exports.arrayOf(ce.exports.element)]).isRequired};Lm.defaultProps={className:""};var zD=S.createContext({opened:"",setOpened:Bv});zD.Consumer;zD.Provider;var HO;(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(HO||(HO={}));ce.exports.string.isRequired,ce.exports.string.isRequired,ce.exports.string,ce.exports.string,ce.exports.string,ce.exports.string,ce.exports.func,ce.exports.string,ce.exports.string,ce.exports.bool,ce.exports.bool,ce.exports.func,ce.exports.func,ce.exports.shape({}),ce.exports.shape({logLevel:ce.exports.oneOfType([ce.exports.string,ce.exports.arrayOf(ce.exports.string)]),isREMUnitEnabled:ce.exports.bool}),ce.exports.bool,ce.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),ce.exports.bool,ce.exports.bool,ce.exports.objectOf(ce.exports.string),ce.exports.objectOf(ce.exports.string),ce.exports.shape({compressionRate:ce.exports.number,resizingWidth:ce.exports.oneOfType([ce.exports.number,ce.exports.string]),resizingHeight:ce.exports.oneOfType([ce.exports.number,ce.exports.string])}),ce.exports.bool,ce.exports.bool,ce.exports.bool,ce.exports.bool;var qO=function(n){return Wd(n.createdAt,"p")},Ede=function(n,t){return typeof t!="number"||typeof t=="number"&&t>n},Qu=function e(n){n===void 0&&(n=0);var t=10,r=n;if(!(r>t))try{var i=document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");i.scrollTop=i.scrollHeight}catch{setTimeout(function(){e(r+1)},500*r)}},BO=function(n,t){var r,i,o,d;if(!(n&&t&&(n==null?void 0:n.messageType)&&n.messageType!=="admin"&&(t==null?void 0:t.messageType)&&t.messageType!=="admin"&&(n==null?void 0:n.sender)&&(t==null?void 0:t.sender)&&(n==null?void 0:n.createdAt)&&(t==null?void 0:t.createdAt)&&((r=n==null?void 0:n.sender)===null||r===void 0?void 0:r.userId)&&((i=t==null?void 0:t.sender)===null||i===void 0?void 0:i.userId)))return!1;var h=n,f=t;return(h==null?void 0:h.sendingStatus)===(f==null?void 0:f.sendingStatus)&&((o=h==null?void 0:h.sender)===null||o===void 0?void 0:o.userId)===((d=f==null?void 0:f.sender)===null||d===void 0?void 0:d.userId)&&qO(n)===qO(t)},wde=function(n,t,r){return[BO(n,t),BO(t,r)]},Cde=function(n){return Math.abs(n)>999999?"".concat((Math.abs(n)/1e6).toFixed(1),"M"):Math.abs(n)>999?"".concat((Math.abs(n)/1e3).toFixed(1),"K"):"".concat(n)},xde=function(n,t){var r=n==null?void 0:n.operators;return!(r.map(function(i){return i.userId}).indexOf(t)<0)},Sde=function(n,t){var r=n==null?void 0:n.isFrozen;return r&&!xde(n,t)},Ide=function(n,t){return n.indexOf(t)>-1},I1=function(n,t,r){var i=function o(d){var h=d.hasNext;h?d.next().then(function(f){r(f),o(d)}).catch(function(f){t.warning("OpenChannel | FetchUserList failed",f)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),i(n)},wv=function(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},VD="SET_CURRENT_CHANNEL",aw="SET_CHANNEL_INVALID",KD="RESET_MESSAGES",WD="EXIT_CURRENT_CHANNEL",QD="GET_PREV_MESSAGES_START",sC="GET_PREV_MESSAGES_SUCESS",Pm="GET_PREV_MESSAGES_FAIL",$d="SENDING_MESSAGE_FAILED",Pl="SENDING_MESSAGE_SUCCEEDED",gf="SENDING_MESSAGE_START",YD="RESENDING_MESSAGE_START",XD="FETCH_PARTICIPANT_LIST",JD="FETCH_BANNED_USER_LIST",sw="FETCH_MUTED_USER_LIST",ZD="TRIM_MESSAGE_LIST",eU="ON_MESSAGE_RECEIVED",mg="ON_MESSAGE_UPDATED",gg="ON_MESSAGE_DELETED",nU="ON_MESSAGE_DELETED_BY_REQ_ID",tU="ON_OPERATOR_UPDATED",rU="ON_USER_ENTERED",iU="ON_USER_EXITED",oC="ON_USER_MUTED",aU="ON_USER_UNMUTED",sU="ON_USER_BANNED",oU="ON_USER_UNBANNED",lU="ON_CHANNEL_FROZEN",uU="ON_CHANNEL_UNFROZEN",cU="ON_CHANNEL_CHANGED",dU="ON_CHANNEL_DELETED",hU="ON_META_DATA_CREATED",pU="ON_META_DATA_UPDATED",fU="ON_META_DATA_DELETED",vU="ON_META_COUNTERS_CREATED",mU="ON_META_COUNTERS_UPDATED",gU="ON_META_COUNTERS_DELETED",_U="ON_MENTION_RECEIVED";function kde(e,n){var t,r,i;switch(n.type){case KD:return nn(nn({},e),{allMessages:[]});case WD:return((t=n.payload)===null||t===void 0?void 0:t.url)===((r=e.currentOpenChannel)===null||r===void 0?void 0:r.url)?nn(nn({},e),{currentOpenChannel:null}):e;case VD:{var o=n.payload,d=o.operators;return!e.isInvalid&&e.currentOpenChannel&&e.currentOpenChannel.url&&e.currentOpenChannel.url===o.url?e:nn(nn({},e),{currentOpenChannel:o,isInvalid:!1,operators:d,participants:d,bannedParticipantIds:[],mutedParticipantIds:[]})}case aw:return nn(nn({},e),{isInvalid:!0});case QD:return nn(nn({},e),{loading:!0});case sC:case Pm:{var h=n.type===Pm,f=n.payload,m=f.currentOpenChannel,_=m===void 0?{}:m,y=f.messages,w=y===void 0?[]:y,C=f.hasMore,I=f.lastMessageTimestamp,k=_.url,U=h?[]:w,T=h?!1:C,N=h?0:I,H=e.currentOpenChannel,$=H.url;if(k!==$)return e;var Q=e.allMessages.filter(function(vn){return!U.find(function(ln){var z=ln.messageId;return oo(z,vn.messageId)})});return nn(nn({},e),{loading:!1,initialized:!0,hasMore:T,lastMessageTimestamp:N,allMessages:Mn(Mn([],U,!0),Q,!0)})}case gf:{var P=n.payload,W=P.message,K=P.channel;return(K==null?void 0:K.url)!==e.currentOpenChannel.url||e.allMessages.some(function(vn){return vn.reqId===W.reqId})?e:nn(nn({},e),{allMessages:Mn(Mn([],e.allMessages,!0),[W],!1)})}case Pl:{var he=n.payload,le=e.allMessages.map(function(vn){return oo(vn.reqId,he.reqId)?he:vn});return nn(nn({},e),{allMessages:le})}case $d:{var Se=n.payload;return Se.sendingStatus="failed",e.allMessages.some(function(vn){return(vn==null?void 0:vn.reqId)===(Se==null?void 0:Se.reqId)})?nn(nn({},e),{allMessages:e.allMessages.map(function(vn){return oo(vn.reqId,Se.reqId)?Se:vn})}):nn(nn({},e),{allMessages:Mn(Mn([],e.allMessages.filter(function(vn){return!oo(vn.reqId,Se)}),!0),[Se],!1)})}case ZD:{var Ce=e.allMessages,re=(i=n.payload)===null||i===void 0?void 0:i.messageLimit;if(re&&re>0&&(Ce==null?void 0:Ce.length)>re){var pe=Ce.length-re;return nn(nn({},e),{allMessages:Ce.slice(pe)})}return e}case YD:{var de=n.payload.channel,De=n.payload.message;return de.url!==e.currentOpenChannel.url?e:nn(nn({},e),{allMessages:e.allMessages.map(function(vn){return oo(vn.reqId,De.reqId)?De:vn})})}case XD:{var de=n.payload.channel,Ge=n.payload.users;return de.url!==e.currentOpenChannel.url?e:nn(nn({},e),{participants:Mn(Mn([],e.participants,!0),Ge,!0)})}case JD:{var de=n.payload.channel,ge=n.payload.users;return de.url!==e.currentOpenChannel.url||!ge.every(function(ln){return typeof ln.userId=="string"})?e:nn(nn({},e),{bannedParticipantIds:Mn(Mn([],e.bannedParticipantIds,!0),ge.map(function(ln){return ln.userId}),!0)})}case sw:{var de=n.payload.channel,Ae=n.payload.users;return de.url!==e.currentOpenChannel.url||!Ae.every(function(ln){return typeof ln.userId=="string"})?e:nn(nn({},e),{mutedParticipantIds:Mn(Mn([],e.mutedParticipantIds,!0),Ae.map(function(ln){return ln.userId}),!0)})}case eU:{var de=n.payload.channel,qe=n.payload.message,_=e.currentOpenChannel;return!oo(de.url,_.url)||!(e.allMessages.map(function(z){return z.messageId}).indexOf(qe.messageId)<0)?e:nn(nn({},e),{allMessages:Mn(Mn([],e.allMessages,!0),[qe],!1)})}case mg:{var de=n.payload.channel,J=n.payload.message,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:nn(nn({},e),{allMessages:e.allMessages.map(function(ln){return ln.isIdentical(J)?J:ln})})}case gg:{var de=n.payload.channel,me=n.payload.messageId,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:nn(nn({},e),{allMessages:e.allMessages.filter(function(z){return!oo(z.messageId,me)})})}case nU:return nn(nn({},e),{allMessages:e.allMessages.filter(function(vn){return!oo(vn.reqId,n.payload)})});case tU:{var de=n.payload.channel,Ye=n.payload.operators,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:nn(nn({},e),{currentOpenChannel:de,operators:Ye})}case rU:{var de=n.payload.channel,$e=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:nn(nn({},e),{participants:Mn(Mn([],e.participants,!0),[$e],!1)})}case iU:{var de=n.payload.channel,Ne=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url?e:nn(nn({},e),{participants:e.participants.filter(function(z){return!oo(z.userId,Ne.userId)})})}case oC:{var de=n.payload.channel,xe=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url||e.mutedParticipantIds.indexOf(xe.userId)>=0?e:nn(nn({},e),{mutedParticipantIds:Mn(Mn([],e.mutedParticipantIds,!0),[xe.userId],!1)})}case aU:{var de=n.payload.channel,He=n.payload.user,X=e.currentOpenChannel;return!X||X.url&&X.url!==de.url||e.mutedParticipantIds.indexOf(He.userId)<0?e:nn(nn({},e),{mutedParticipantIds:e.mutedParticipantIds.filter(function(z){return z!==He.userId})})}case sU:{var de=n.payload.channel,Xe=n.payload.user,gn=n.payload.currentUser,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(de==null?void 0:de.url)&&(Xe==null?void 0:Xe.userId)===(gn==null?void 0:gn.userId)?nn(nn({},e),{currentOpenChannel:null}):(X==null?void 0:X.url)===(de==null?void 0:de.url)?nn(nn({},e),{bannedParticipantIds:Mn(Mn([],e.bannedParticipantIds,!0),[Xe.userId],!1)}):e}case oU:{var de=n.payload.channel,kn=n.payload.user,X=e.currentOpenChannel;return(X==null?void 0:X.url)===(de==null?void 0:de.url)?nn(nn({},e),{bannedParticipantIds:e.bannedParticipantIds.filter(function(z){return z!==kn.userId})}):e}case lU:{var Nn=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==Nn.url?e:nn(nn({},e),{frozen:!0})}case uU:{var On=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==On.url?e:nn(nn({},e),{frozen:!1})}case cU:{var tn=n.payload,X=e.currentOpenChannel;return!X||X.url&&X.url!==tn.url?e:nn(nn({},e),{currentOpenChannel:tn})}case dU:{var Un=n.payload,X=e==null?void 0:e.currentOpenChannel;return(X==null?void 0:X.url)===Un?nn(nn({},e),{currentOpenChannel:null}):e}case hU:return e;case pU:return e;case fU:return e;case vU:return e;case mU:return e;case gU:return e;case _U:return e;default:return e}}var Tde={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function Nde(e,n){var t=e.channelUrl,r=e.sdkInit,i=e.fetchingParticipants,o=e.userId,d=e.currentOpenChannel,h=n.sdk,f=n.logger,m=n.messagesDispatcher;F.exports.useEffect(function(){var _;t&&r&&(h==null?void 0:h.openChannel)&&(d&&(d==null?void 0:d.exit)&&((_=d.exit)===null||_===void 0||_.call(d).then(function(){f.info("OpenChannel | useSetChannel: Exit from the previous open channel",d==null?void 0:d.url),m({type:WD,payload:d})})),f.info("OpenChannel | useSetChannel: Fetching channel",t),h.openChannel.getChannel(t).then(function(y){f.info("OpenChannel | useSetChannel: Succeeded to fetch channel",y),m({type:VD,payload:y}),y.enter().then(function(){if(y.isOperator(o)){var w=y.createBannedUserListQuery(),C=y.createMutedUserListQuery();I1(w,f,function(k){m({type:JD,payload:{channel:y,users:k}})}),I1(C,f,function(k){m({type:sw,payload:{channel:y,users:k}})})}else y.getMyMutedInfo().then(function(k){k!=null&&k.isMuted&&m({type:sw,payload:{channel:y,users:[h==null?void 0:h.currentUser]}})});if(i){var I=y.createParticipantListQuery({limit:y.participantCount});I1(I,f,function(k){m({type:XD,payload:{channel:y,users:k}})})}}).catch(function(w){f.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:t,error:w}),m({type:aw,payload:null})})}).catch(function(y){f.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:t,error:y}),m({type:aw,payload:null})}))},[t,r,i])}function Ode(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=n.sdk,o=n.logger,d=n.messagesDispatcher;F.exports.useEffect(function(){var h,f,m=qu();if(t&&t.url&&((h=i==null?void 0:i.openChannel)===null||h===void 0?void 0:h.addOpenChannelHandler)){o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",m);var _={onMessageReceived:function(C,I){var k=r(),U=C==null?void 0:C.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:U,message:I}),d({type:eU,payload:{channel:C,message:I}}),k)try{setTimeout(function(){Qu()})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:k,message:I}),d({type:mg,payload:{channel:C,message:I}})},onMessageDeleted:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:k,messageId:I}),d({type:gg,payload:{channel:C,messageId:I}})},onOperatorUpdated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:k,operators:I}),d({type:tU,payload:{channel:C,operators:I}})},onUserEntered:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:k,user:I}),d({type:rU,payload:{channel:C,user:I}})},onUserExited:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:k,user:I}),d({type:iU,payload:{channel:C,user:I}})},onUserMuted:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:k,user:I}),d({type:oC,payload:{channel:C,user:I}})},onUserUnmuted:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:k,user:I}),d({type:aU,payload:{channel:C,user:I}})},onUserBanned:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:k,user:I}),d({type:sU,payload:{channel:C,user:I,currentUser:i==null?void 0:i.currentUser}})},onUserUnbanned:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:k,user:I}),d({type:oU,payload:{channel:C,user:I}})},onChannelFrozen:function(C){o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",C),d({type:lU,payload:C})},onChannelUnfrozen:function(C){o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",C),d({type:uU,payload:C})},onChannelChanged:function(C){o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",C),d({type:cU,payload:C})},onMetaDataCreated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:k,metaData:I}),d({type:hU,payload:{channel:C,metaData:I}})},onMetaDataUpdated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:k,metaData:I}),d({type:pU,payload:{channel:C,metaData:I}})},onMetaDataDeleted:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:k,metaDataKeys:I}),d({type:fU,payload:{channel:C,metaDataKeys:I}})},onMetaCounterCreated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:k,metaCounter:I}),d({type:vU,payload:{channel:C,metaCounter:I}})},onMetaCounterUpdated:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:k,metaCounter:I}),d({type:mU,payload:{channel:C,metaCounter:I}})},onMetaCounterDeleted:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:k,metaCounterKeys:I}),d({type:gU,payload:{channel:C,metaCounterKeys:I}})},onMentionReceived:function(C,I){var k=C==null?void 0:C.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:k,message:I}),d({type:_U,payload:{channel:C,message:I}})},onChannelDeleted:function(C,I){I===ut.OPEN&&(t==null?void 0:t.url)===C&&d({type:dU,payload:C})}},y=new yie(_);(f=i==null?void 0:i.openChannel)===null||f===void 0||f.addOpenChannelHandler(m,y)}return function(){var w;!((w=i==null?void 0:i.openChannel)===null||w===void 0)&&w.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",m),i.openChannel.removeOpenChannelHandler(m))}},[t])}function Ade(e,n){var t=e.currentOpenChannel,r=e.userFilledMessageListParams,i=n.logger,o=n.messagesDispatcher;F.exports.useEffect(function(){if(i.info("OpenChannel | useInitialMessagesFetch: Setup started",t),o({type:KD,payload:null}),t&&t.getMessagesByTimestamp){var d={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(function(h){d[h]=r[h]}),i.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),i.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:d}),o({type:QD,payload:null}),t.getMessagesByTimestamp(new Date().getTime(),d).then(function(h){i.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",h);var f=h&&h.length>0,m=f?h[0].createdAt:null;o({type:sC,payload:{currentOpenChannel:t,messages:h,hasMore:f,lastMessageTimestamp:m}}),setTimeout(function(){Qu()})}).catch(function(h){i.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",h),o({type:Pm,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r])}function Rde(e,n){var t=e.currentOpenChannel,r=e.lastMessageTimestamp,i=e.fetchMore,o=n.sdk,d=n.logger,h=n.messagesDispatcher,f=n.hasMore,m=n.userFilledMessageListParams;return F.exports.useCallback(function(_){if(i&&f){d.info("OpenChannel | useScrollCallback: start");var y={prevResultSize:30,includeReactions:!1,nextResultSize:0};m&&(Object.keys(m).forEach(function(w){y[w]=m[w]}),d.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",m)),d.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:y}),t.getMessagesByTimestamp(r||new Date().getTime(),y).then(function(w){d.info("OpenChannel | useScrollCallback: Fetching messages succeeded",w);var C=w&&w.length>0,I=C?w[0].createdAt:null;h({type:sC,payload:{currentOpenChannel:t,messages:w,hasMore:C,lastMessageTimestamp:I}}),setTimeout(function(){_()})}).catch(function(w){d.error("OpenChannel | useScrollCallback: Fetching messages failed",w),h({type:Pm,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r,i,o])}function Mde(e,n){var t=e.conversationScrollRef,r=n.logger;return F.exports.useCallback(function(){var i=!0;if(t&&(t==null?void 0:t.current))try{var o=t.current;i=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(d){r.error("OpenChannel | useCheckScrollBottom",d)}return i},[t])}function Dde(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=e.checkScrollBottom,o=e.messageInputRef,d=n.sdk,h=n.logger,f=n.messagesDispatcher;return F.exports.useCallback(function(){if(d){var m=o.current.innerText,_=function(U){var T=typeof U=="string"?U.trim():U.toString(10).trim(),N={message:T};return N},y=r&&typeof r=="function";y&&h.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);var w=r?r(m):_(m);h.info("OpenChannel | useSendMessageCallback: Sending message has started",w);var C=i(),I=null;t.sendUserMessage(w).onPending(function(k){f({type:gf,payload:{message:k,channel:t}}),I=k}).onSucceeded(function(k){h.info("OpenChannel | useSendMessageCallback: Sending message succeeded",k),f({type:Pl,payload:k}),C&&setTimeout(function(){Qu()})}).onFailed(function(k){h.warning("OpenChannel | useSendMessageCallback: Sending message failed",k),f({type:$d,payload:I}),(k==null?void 0:k.code)===900041&&f({type:oC,payload:{channel:t,user:d.currentUser}})})}},[t,r,i,o])}function Ude(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,i=e.imageCompression,o=i===void 0?{}:i,d=e.onBeforeSendFileMessage,h=n.sdk,f=n.logger,m=n.messagesDispatcher;return F.exports.useCallback(function(_){if(h){var y=o.compressionRate,w=o.resizingWidth,C=o.resizingHeight,I=d&&typeof d=="function",k=_.type==="image/jpg"||_.type==="image/png"||_.type==="image/jpeg",U=y>0&&y<1,T=wv(w)||wv(C),N=k&&(U||T),H=function(K){var he={};return he.file=K,he};if(N)try{var $=document.createElement("img");$.src=URL.createObjectURL(_),$.onload=function(){URL.revokeObjectURL($.src);var W=document.createElement("canvas"),K=$.naturalWidth||$.width,he=$.naturalHeight||$.height,le=wv(w)||K,Se=wv(C)||he;_.type==="image/png"&&!T&&(le*=y,Se*=y),W.width=le,W.height=Se;var Ce=W.getContext("2d");Ce.drawImage($,0,0,le,Se),Ce.canvas.toBlob(function(re){var pe=new File([re],_.name,{type:_.type});I&&f.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",d);var de=d?d(pe):H(pe);f.info("OpenChannel | useFileUploadCallback: Uploading file message start",de);var De=r();t.sendFileMessage(de).onPending(function(Ge){m({type:gf,payload:{message:nn(nn({},Ge),{url:URL.createObjectURL(_),requestState:"pending"}),channel:t}})}).onSucceeded(function(Ge){f.info("OpenChannel | useFileUploadCallback: Sending message succeeded",Ge),m({type:Pl,payload:Ge}),De&&setTimeout(function(){Qu()})}).onFailed(function(Ge,ge){f.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:ge,error:Ge}),ge.localUrl=URL.createObjectURL(_),ge.file=_,m({type:$d,payload:ge})})},_.type,y)}}catch(W){f.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",W)}else{I&&f.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",d);var Q=d?d(_):H(_);f.info("OpenChannel | useFileUploadCallback: Uploading file message start",Q);var P=r();t.sendFileMessage(Q).onPending(function(W){m({type:gf,payload:{message:nn(nn({},W),{url:URL.createObjectURL(_),requestState:"pending"}),channel:t}})}).onSucceeded(function(W){f.info("OpenChannel | useFileUploadCallback: Sending message succeeded",W),m({type:Pl,payload:W}),P&&setTimeout(function(){Qu()})}).onFailed(function(W,K){f.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:K,error:W}),K.localUrl=URL.createObjectURL(_),K.file=_,m({type:$d,payload:K})})}}},[t,d,r,o])}function Lde(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,i=n.logger,o=n.messagesDispatcher;return F.exports.useCallback(function(d,h,f){var m=function(w){var C={message:w};return C};r&&typeof r=="function"&&i.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var _=r?r(h):m(h);t.updateUserMessage(d,_).then(function(y){f&&f(),i.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:y,params:_}),o({type:mg,payload:{channel:t,message:y}})})},[t,r])}function Pde(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return F.exports.useCallback(function(o,d){r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);var h=o.sendingStatus;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",h),h==="failed"||h==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),i({type:nU,payload:o.reqId}),d&&d();else{if(!(o.messageType==="file"||o.messageType==="user"))return;var f=o;t.deleteMessage(f).then(function(){r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",h),d&&d(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),i({type:gg,payload:{channel:t,messageId:o.messageId}})}).catch(function(m){r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",m)})}},[t])}function $de(e,n){var t=e.currentOpenChannel,r=n.logger,i=n.messagesDispatcher;return F.exports.useCallback(function(o){r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);var d=o,h=d.messageType,f=d.file;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",i({type:YD,payload:{channel:t,message:o}}),h==="user"&&o.messageType==="user"&&t.resendUserMessage(o).then(function(m){r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",m),i({type:Pl,payload:m})}).catch(function(m){r.warning("OpenChannel | useResendMessageCallback: Resending message failed",m),o.requestState="failed",i({type:$d,payload:o})}),h==="file"&&o.messageType==="file"&&t.resendFileMessage(o,f).then(function(m){r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",m),i({type:Pl,payload:m})}).catch(function(m){r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",m),o.requestState="failed",i({type:$d,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[t])}var Fde=5e3;function Hde(e,n){var t=e.messagesLength,r=e.messageLimit,i=n.messagesDispatcher,o=n.logger,d=F.exports.useState(!1),h=d[0],f=d[1];F.exports.useEffect(function(){h||(typeof t=="number"&&t>r&&(o.info("Trimming MessageList"),i({type:ZD,payload:{messageLimit:r}})),f(!0),setTimeout(function(){f(!1)},Fde))},[t,r])}var bU=S.createContext(void 0),qde=function(n){var t,r,i,o,d,h,f=n.channelUrl,m=n.children,_=n.isMessageGroupingEnabled,y=_===void 0?!0:_,w=n.queries,C=n.onBeforeSendUserMessage,I=n.messageLimit,k=n.onBeforeSendFileMessage,U=n.onChatHeaderActionClick,T=!1,N=Kd(),H=(r=(t=N==null?void 0:N.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,$=(o=(i=N==null?void 0:N.stores)===null||i===void 0?void 0:i.sdkStore)===null||o===void 0?void 0:o.initialized,Q=(h=(d=N==null?void 0:N.stores)===null||d===void 0?void 0:d.userStore)===null||h===void 0?void 0:h.user,P=N==null?void 0:N.config,W=P.userId,K=P.isOnline,he=P.logger,le=P.pubSub,Se=P.imageCompression,Ce=F.exports.useReducer(kde,Tde),re=Ce[0],pe=Ce[1],de=re.allMessages,De=re.loading,Ge=re.initialized,ge=re.currentOpenChannel,Ae=re.isInvalid,qe=re.hasMore,J=re.lastMessageTimestamp,X=re.operators,me=re.bannedParticipantIds,Ye=re.mutedParticipantIds,$e=F.exports.useRef(null),Ne=F.exports.useRef(null),xe=w==null?void 0:w.messageListParams,He=!Ge||!K||Sde(ge,W)||Ide(Ye,W),Xe=F.exports.useMemo(function(){return me.indexOf(Q.userId)>=0},[f,me,Q]),gn=F.exports.useMemo(function(){return Ye.indexOf(Q.userId)>=0},[f,Ye,Q]),kn=F.exports.useMemo(function(){return X.map(function(M){return M.userId}).indexOf(Q.userId)>=0},[f,X,Q]);Nde({channelUrl:f,sdkInit:$,fetchingParticipants:T,userId:W,currentOpenChannel:ge},{sdk:H,logger:he,messagesDispatcher:pe});var Nn=Mde({conversationScrollRef:Ne},{logger:he});Ode({currentOpenChannel:ge,checkScrollBottom:Nn},{sdk:H,logger:he,messagesDispatcher:pe}),Ade({currentOpenChannel:ge,userFilledMessageListParams:xe},{logger:he,messagesDispatcher:pe});var On=Ede(de==null?void 0:de.length,I),tn=Rde({currentOpenChannel:ge,lastMessageTimestamp:J,fetchMore:On},{sdk:H,logger:he,messagesDispatcher:pe,hasMore:qe,userFilledMessageListParams:xe}),Un=Dde({currentOpenChannel:ge,onBeforeSendUserMessage:C,checkScrollBottom:Nn,messageInputRef:$e},{sdk:H,logger:he,messagesDispatcher:pe}),vn=Ude({currentOpenChannel:ge,onBeforeSendFileMessage:k,checkScrollBottom:Nn,imageCompression:Se},{sdk:H,logger:he,messagesDispatcher:pe}),ln=Lde({currentOpenChannel:ge,onBeforeSendUserMessage:C},{logger:he,messagesDispatcher:pe}),z=Pde({currentOpenChannel:ge},{logger:he,messagesDispatcher:pe}),R=$de({currentOpenChannel:ge},{logger:he,messagesDispatcher:pe});return Hde({messagesLength:de==null?void 0:de.length,messageLimit:I},{messagesDispatcher:pe,logger:he}),F.exports.useEffect(function(){var M=new Map;if(!(!le||!le.subscribe))return M.set(Tm,le.subscribe(Tm,function(V){var oe=V.channel,ye=V.message;Qu(),oe&&f===(oe==null?void 0:oe.url)&&pe({type:Pl,payload:ye})})),M.set(km,le.subscribe(km,function(V){var oe=V.channel,ye=V.message;oe&&f===(oe==null?void 0:oe.url)&&pe({type:gf,payload:{message:ye,channel:oe}})})),M.set(Nm,le.subscribe(Nm,function(V){var oe=V.channel,ye=V.message;Qu(),oe&&f===(oe==null?void 0:oe.url)&&pe({type:Pl,payload:{message:ye,channel:oe}})})),M.set(YE,le.subscribe(YE,function(V){var oe=V.channel,ye=V.message,Ie=V.fromSelector;Ie&&oe&&f===(oe==null?void 0:oe.url)&&pe({type:mg,payload:{channel:oe,message:ye}})})),M.set(XE,le.subscribe(XE,function(V){var oe=V.channel,ye=V.messageId;oe&&f===(oe==null?void 0:oe.url)&&pe({type:gg,payload:ye})})),function(){M&&M.forEach(function(V){try{V.remove()}catch{}})}},[f,$]),S.createElement(bU.Provider,{value:{channelUrl:f,children:m,isMessageGroupingEnabled:y,queries:w,onBeforeSendUserMessage:C,messageLimit:I,onBeforeSendFileMessage:k,onChatHeaderActionClick:U,allMessages:de,loading:De,initialized:Ge,currentOpenChannel:ge,isInvalid:Ae,hasMore:qe,lastMessageTimestamp:J,operators:X,bannedParticipantIds:me,mutedParticipantIds:Ye,messageInputRef:$e,conversationScrollRef:Ne,disabled:He,amIBanned:Xe,amIMuted:gn,amIOperator:kn,checkScrollBottom:Nn,fetchMore:On,onScroll:tn,handleSendMessage:Un,handleFileUpload:vn,updateMessage:ln,deleteMessage:z,resendMessage:R}},S.createElement(F3,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},m))},Of=function(){return S.useContext(bU)},Bde=function(n,t){var r=Of(),i=r.currentOpenChannel,o=r.disabled,d=r.handleSendMessage,h=r.handleFileUpload,f=i;if(!!f){var m=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:"sendbird-openchannel-footer"},S.createElement(vg,{ref:t,disabled:o,onSendMessage:d,onFileUpload:h,placeholder:o&&m.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},Gde=S.forwardRef(Bde),jde=function(){var n=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:"sendbird-frozen-channel-notification"},S.createElement(Gn,{className:"sendbird-frozen-channel-notification__text",type:Bn.CAPTION_2},n.CHANNEL_FROZEN))};function zde(){var e=F.exports.useContext(_s).stringSet,n=Of(),t=n.currentOpenChannel,r=n.onChatHeaderActionClick,i=n.amIOperator,o=t==null?void 0:t.name,d="".concat(Cde(t==null?void 0:t.participantCount)," ").concat(e.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS),h=t==null?void 0:t.coverUrl;return S.createElement("div",{className:"sendbird-openchannel-conversation-header"},S.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},h?S.createElement(tc,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:h,alt:"channel cover image",width:"32px",height:"32px"}):S.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},S.createElement(rt,{type:Jn.CHANNELS,fillColor:pt.CONTENT,width:"18px",height:"18px"})),S.createElement(Gn,{className:"sendbird-openchannel-conversation-header__left__title",type:Bn.H_2,color:Dn.ONBACKGROUND_1},o||e.NO_TITLE),S.createElement(Gn,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Bn.BODY_2,color:Dn.ONBACKGROUND_2},d||e.NO_TITLE)),S.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},S.createElement(Ml,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:r},S.createElement(rt,{type:i?Jn.INFO:Jn.MEMBERS,fillColor:pt.PRIMARY,width:"24px",height:"24px"}))))}var yU=function(n){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},lC={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},Af=function(n){return n.sender||n._sender},EU=function(n){return n===lC.SUCCEEDED},_g=function(n){return n===lC.PENDING},Rf=function(n){return n===lC.FAILED},uC=function(n,t){return Af(n).userId===t},cC=function(n){var t,r=n.message;return(r==null?void 0:r.messageType)==="user"&&((t=r==null?void 0:r.message)===null||t===void 0?void 0:t.length)>0},Fd=function(n){var t=n.message,r=n.status,i=n.userId;return uC(t,i)&&Rf(r)&&(t==null?void 0:t.isResendable())},dC=function(n){var t=n.message,r=n.status,i=n.userId;return uC(t,i)&&EU(r)},Hd=function(n){var t=n.message,r=n.userId;return uC(t,r)},bg=function(n){var t=n.message,r=n.status,i=n.userId;return t.messageType==="user"?Hd({message:t,status:r,userId:i})||dC({message:t,status:r,userId:i})||cC({message:t,status:r,userId:i})||Fd({message:t,status:r,userId:i}):Hd({message:t,status:r,userId:i})||Fd({message:t,status:r,userId:i})};function Vde(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.resendMessage,d=e.disabled,h=e.showEdit,f=e.showRemove,m=e.chainTop;if(!t||t.messageType!=="user")return null;var _=Sf(),y=_.stringSet,w=_.dateLocale,C=F.exports.useContext(If),I=C.disableUserProfile,k=C.renderUserProfile,U=F.exports.useRef(null),T=F.exports.useRef(null),N=F.exports.useRef(null),H=F.exports.useState({}),$=H[0],Q=H[1],P=t==null?void 0:t.sendingStatus,W=_g(P),K=Rf(P),he=Af(t),le=F.exports.useMemo(function(){return function(){var Se=t.message.split(/\r/),Ce=Se.map(function(re){return re!==""?re:S.createElement("br",null)});return t.updatedAt>0&&Ce.push(S.createElement(Gn,{key:qu(),type:Bn.BODY_1,color:Dn.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," ".concat(y.MESSAGE_EDITED," "))),Ce}},[t,t.updatedAt]);return F.exports.useEffect(function(){var Se;((Se=U==null?void 0:U.current)===null||Se===void 0?void 0:Se.clientHeight)>36?Q({top:"8px "}):Q({top:"2px"})},[window.innerWidth]),S.createElement("div",{className:Mn(Mn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:U},S.createElement("div",{className:"sendbird-openchannel-user-message__left"},!m&&S.createElement(Ul,{menuTrigger:function(Ce){return S.createElement(tc,{className:"sendbird-openchannel-user-message__left__avatar",src:he.profileUrl||"",ref:T,width:"28px",height:"28px",onClick:function(){I||Ce()}})},menuItems:function(Ce){return S.createElement(Dl,{parentRef:T,parentContainRef:T,closeDropdown:Ce,style:{paddingTop:0,paddingBottom:0}},k?k({user:he,close:Ce}):S.createElement(cg,{user:he,onSuccess:Ce,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-user-message__right"},!m&&S.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},S.createElement(Gn,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Bn.CAPTION_2,color:r?Dn.SECONDARY_3:Dn.ONBACKGROUND_2},he&&(he.friendName||he.nickname||he.userId)),S.createElement(Gn,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Bn.CAPTION_3,color:Dn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&Wd(t==null?void 0:t.createdAt,"p",{locale:w}))),S.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},S.createElement(Gn,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Bn.BODY_1,color:Dn.ONBACKGROUND_1},le())),(W||K)&&S.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},W&&S.createElement(kf,{width:"16px",height:"16px"},S.createElement(rt,{className:"sendbird-openchannel-user-message__right__tail__pending",type:Jn.SPINNER,fillColor:pt.PRIMARY,width:"16px",height:"16px"})),K&&S.createElement(rt,{className:"sendbird-openchannel-user-message__right__tail__failed",type:Jn.ERROR,fillColor:pt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:N,style:$},S.createElement(Ul,{menuTrigger:function(Ce){return bg({message:t,userId:i,status:P})&&S.createElement(Ml,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){Ce()}},S.createElement(rt,{type:Jn.MORE,fillColor:pt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Ce){return S.createElement(Dl,{parentRef:N,parentContainRef:N,closeDropdown:Ce,openLeft:!0},cC({message:t,userId:i,status:P})&&S.createElement(Ga,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){yU(t.message),Ce()}},y.CONTEXT_MENU_DROPDOWN__COPY),dC({message:t,userId:i,status:P})&&S.createElement(Ga,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){d||(h(!0),Ce())}},y.CONTEXT_MENU_DROPDOWN__EDIT),Fd({message:t,userId:i,status:P})&&S.createElement(Ga,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){o(t),Ce()}},y.CONTEXT_MENU_DROPDOWN__RESEND),Hd({message:t,userId:i,status:P})&&S.createElement(Ga,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){d||(f(!0),Ce())}},y.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function Kde(e){var n=e.className,t=e.message;return S.createElement("div",{className:Mn(Mn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},S.createElement(Gn,{className:"sendbird-openchannel-admin-message__text",type:Bn.CAPTION_2,color:Dn.ONBACKGROUND_2},t.message||""))}var Wde=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Qde=function(n){return function(t){return n.test(t)}},Yde=function(n){var t=n.ogMetaData;if(!t)return!1;var r=t.url;return!!r};function Xde(e){var n=e.message,t=e.isOperator,r=e.className,i=e.disabled,o=e.showEdit,d=e.showRemove,h=e.resendMessage,f=e.chainTop,m=e.userId;if(!n||n.messageType!=="user")return null;var _=n==null?void 0:n.sendingStatus,y=n.ogMetaData,w=y.defaultImage,C=Sf(),I=C.stringSet,k=C.dateLocale,U=F.exports.useContext(If),T=U.disableUserProfile,N=U.renderUserProfile,H=F.exports.useState({}),$=H[0],Q=H[1],P=F.exports.useRef(null),W=F.exports.useRef(null),K=F.exports.useRef(null),he=Qde(Wde),le=_g(_),Se=Rf(_),Ce=Af(n),re=F.exports.useMemo(function(){return function(){var de="sendbird-openchannel-og-message--word",De=n.message.split(" "),Ge=De.map(function(ge){return he(ge)?S.createElement(Lm,{key:qu(),className:[de,"sendbird-openchannel-og-message--word--link"],src:ge,type:Bn.BODY_1,color:Dn.PRIMARY},ge):S.createElement(Gn,{key:qu(),className:de,type:Bn.BODY_1,color:Dn.ONBACKGROUND_1},ge)});return n.updatedAt>0&&Ge.push(S.createElement(Gn,{key:qu(),className:de,type:Bn.BODY_1,color:Dn.ONBACKGROUND_2},I.MESSAGE_EDITED)),Ge}},[n,n.updatedAt]),pe=function(){if(Yde(n)){var De=y.url;window.open(De)}};return F.exports.useEffect(function(){var de;((de=P==null?void 0:P.current)===null||de===void 0?void 0:de.clientHeight)>36?Q({top:"8px "}):Q({top:"2px"})},[window.innerWidth]),S.createElement("div",{className:Mn(Mn([],Array.isArray(r)?r:[r],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:P},S.createElement("div",{className:"sendbird-openchannel-og-message__top"},S.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!f&&S.createElement(Ul,{menuTrigger:function(De){return S.createElement(tc,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Ce.profileUrl||"",ref:K,width:"28px",height:"28px",onClick:function(){T||De()}})},menuItems:function(De){return S.createElement(Dl,{parentRef:K,parentContainRef:K,closeDropdown:De,style:{paddingTop:0,paddingBottom:0}},N?N({user:Ce,close:De}):S.createElement(cg,{user:Ce,onSuccess:De,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!f&&S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},S.createElement(Gn,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Bn.CAPTION_2,color:t?Dn.SECONDARY_3:Dn.ONBACKGROUND_2},Ce&&(Ce.friendName||Ce.nickname||Ce.userId)),S.createElement(Gn,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Bn.CAPTION_3,color:Dn.ONBACKGROUND_3},(n==null?void 0:n.createdAt)&&Wd(n==null?void 0:n.createdAt,"p",{locale:k}))),S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},S.createElement(Gn,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Bn.BODY_1,color:Dn.ONBACKGROUND_1},re()))),S.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:W,style:$},S.createElement(Ul,{menuTrigger:function(De){return bg({message:n,userId:m,status:_})&&S.createElement(Ml,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){De()}},S.createElement(rt,{type:Jn.MORE,fillColor:pt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(De){return S.createElement(Dl,{parentRef:W,parentContainRef:W,closeDropdown:De,openLeft:!0},cC({message:n,userId:m,status:_})&&S.createElement(Ga,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){yU(n.message),De()}},I.CONTEXT_MENU_DROPDOWN__COPY),dC({message:n,userId:m,status:_})&&S.createElement(Ga,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){i||(o(!0),De())}},I.CONTEXT_MENU_DROPDOWN__EDIT),Fd({message:n,userId:m,status:_})&&S.createElement(Ga,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){h(n),De()}},I.CONTEXT_MENU_DROPDOWN__RESEND),Hd({message:n,userId:m,status:_})&&S.createElement(Ga,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){i||(d(!0),De())}},I.CONTEXT_MENU_DROPDOWN__DELETE))}}))),S.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},y.url&&S.createElement(Gn,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Bn.CAPTION_3,color:Dn.ONBACKGROUND_2},y.url),y.title&&S.createElement(Lm,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:y.url,type:Bn.SUBTITLE_2,color:Dn.PRIMARY},y.title),y.description&&S.createElement(Gn,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Bn.BODY_2,color:Dn.ONBACKGROUND_1},y.description),y.url&&S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:pe,onKeyDown:pe,tabIndex:0},w&&S.createElement(Ra,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:w.url||"",alt:w.alt||"",height:"189px",defaultComponent:S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},S.createElement(rt,{type:Jn.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(le||Se)&&S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},le&&S.createElement(kf,{width:"16px",height:"16px"},S.createElement(rt,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:Jn.SPINNER,fillColor:pt.PRIMARY,width:"16px",height:"16px"})),Se&&S.createElement(rt,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:Jn.ERROR,fillColor:pt.ERROR,width:"16px",height:"16px"}))))}var wd={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},GO={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Jde=function(n){return GO.IMAGE.indexOf(n)>=0?wd.IMAGE:GO.VIDEO.indexOf(n)>=0?wd.VIDEO:wd.UNSUPPORTED};function Zde(e){var n,t=e.className,r=e.message,i=e.isOperator,o=e.disabled,d=e.userId,h=e.chainTop,f=e.onClick,m=e.showRemove,_=e.resendMessage,y=r.type,w=r.url,C=r.thumbnails,I=r.localUrl,k=r==null?void 0:r.sendingStatus,U=C&&C.length>0&&C[0].url||null,T=Sf(),N=T.stringSet,H=T.dateLocale,$=F.exports.useContext(If),Q=$.disableUserProfile,P=$.renderUserProfile,W=F.exports.useState(360),K=W[0],he=W[1],le=F.exports.useRef(null),Se=F.exports.useRef(null),Ce=F.exports.useRef(null),re=F.exports.useMemo(function(){return function(ge){return function(Ae){var qe=Ae.style;return S.createElement("div",{style:qe},S.createElement(rt,{type:ge,fillColor:pt.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),pe=EU(k),de=_g(k),De=Rf(k),Ge=Af(r);return F.exports.useEffect(function(){var ge,Ae=((ge=le==null?void 0:le.current)===null||ge===void 0?void 0:ge.clientWidth)-80;he(Ae>360?360:Ae)},[]),S.createElement("div",{className:Mn(Mn([],Array.isArray(t)?t:[t],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:le},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!h&&S.createElement(Ul,{menuTrigger:function(Ae){return S.createElement(tc,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:Ge.profileUrl||"",ref:Ce,width:"28px",height:"28px",onClick:function(){Q||Ae()}})},menuItems:function(Ae){return S.createElement(Dl,{parentRef:Ce,parentContainRef:Ce,closeDropdown:Ae,style:{paddingTop:0,paddingBottom:0}},P?P({user:Ge,close:Ae}):S.createElement(cg,{user:Ge,onSuccess:Ae,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!h&&S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},S.createElement(Gn,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Bn.CAPTION_2,color:i?Dn.SECONDARY_3:Dn.ONBACKGROUND_2},Ge&&(Ge.friendName||Ge.nickname||Ge.userId)),S.createElement(Gn,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Bn.CAPTION_3,color:Dn.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&Wd(r.createdAt,"p",{locale:H}))),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){pe&&f(!0)},onKeyDown:function(){pe&&f(!0)},tabIndex:0},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(n={},n[wd.VIDEO]=w||I?S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},U?S.createElement(Ra,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:U,width:K,height:"270px",alt:"image",placeHolder:re(Jn.PLAY)}):S.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},S.createElement("source",{src:w||I,type:y})),S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:Jn.PLAY,fillColor:pt.ON_BACKGROUND_2,width:"56px",height:"56px"})):S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:Jn.PHOTO,fillColor:pt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[wd.IMAGE]=w||I?S.createElement(Ra,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:U||w||I,alt:"image",width:K,height:"270px",placeHolder:re(Jn.PHOTO)}):S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:Jn.PHOTO,fillColor:pt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[wd.UNSUPPORTED]=S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:Jn.PHOTO,fillColor:pt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n)[Jde(y)])),(de||De)&&S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},de&&S.createElement(kf,{width:"16px",height:"16px"},S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:Jn.SPINNER,fillColor:pt.PRIMARY,width:"16px",height:"16px"})),De&&S.createElement(rt,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:Jn.ERROR,fillColor:pt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:Se},S.createElement(Ul,{menuTrigger:function(Ae){return bg({message:r,userId:d,status:k})&&S.createElement(Ml,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:Ae},S.createElement(rt,{type:Jn.MORE,fillColor:pt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Ae){return S.createElement(Dl,{parentRef:Se,parentContainRef:Se,closeDropdown:Ae,openLeft:!0},Fd({message:r,userId:d,status:k})&&S.createElement(Ga,{onClick:function(){_(r),Ae()}},N.CONTEXT_MENU_DROPDOWN__RESEND),Hd({message:r,userId:d,status:k})&&S.createElement(Ga,{onClick:function(){o||(m(!0),Ae())}},N.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var jO=function(n){var t=/(\.mp3)$/i,r=/(\.gif)$/i;return t.test(n)?Jn.FILE_AUDIO:r.test(n)?Jn.GIF:Jn.FILE_DOCUMENT},ehe=function(n,t){if(n==null)return"";if(n.length<=t)return n;var r="...",i=r.length,o=t-i,d=Math.ceil(o/2),h=Math.floor(o/2);return n.substr(0,d)+r+n.substr(n.length-h)};function nhe(e){var n=e.className,t=e.message,r=e.isOperator,i=e.userId,o=e.disabled,d=e.chainTop,h=e.showRemove,f=e.resendMessage,m=t==null?void 0:t.sendingStatus,_=Sf(),y=_.dateLocale,w=_.stringSet,C=F.exports.useRef(null),I=F.exports.useRef(null),k=F.exports.useContext(If),U=k.disableUserProfile,T=k.renderUserProfile,N=function(){window.open(t.url)},H=_g(m),$=Rf(m),Q=Af(t);return S.createElement("div",{className:Mn(Mn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-file-message"],!1).join(" ")},S.createElement("div",{className:"sendbird-openchannel-file-message__left"},!d&&S.createElement(Ul,{menuTrigger:function(W){return S.createElement(tc,{className:"sendbird-openchannel-file-message__left__avatar",src:Q.profileUrl||"",ref:I,width:"28px",height:"28px",onClick:function(){U||W()}})},menuItems:function(W){return S.createElement(Dl,{parentRef:I,parentContainRef:I,closeDropdown:W,style:{paddingTop:0,paddingBottom:0}},T?T({user:Q,close:W}):S.createElement(cg,{user:Q,onSuccess:W,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-file-message__right"},!d&&S.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},S.createElement(Gn,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Bn.CAPTION_2,color:r?Dn.SECONDARY_3:Dn.ONBACKGROUND_2},Q&&(Q.friendName||Q.nickname||Q.userId)),S.createElement(Gn,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Bn.CAPTION_3,color:Dn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&Wd(t.createdAt,"p",{locale:y}))),S.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},jO(t.url)&&S.createElement(rt,{className:"sendbird-openchannel-file-message__right__body__icon",type:jO(t.url),fillColor:pt.PRIMARY,width:"48px",height:"48px"}),S.createElement(kue,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:N},S.createElement(Gn,{type:Bn.BODY_1,color:Dn.ONBACKGROUND_1},ehe(t.name||t.url,40)))),(H||$)&&S.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},H&&S.createElement(kf,{width:"16px",height:"16px"},S.createElement(rt,{className:"sendbird-openchannel-file-message__right__tail__pending",type:Jn.SPINNER,fillColor:pt.PRIMARY,width:"16px",height:"16px"})),$&&S.createElement(rt,{className:"sendbird-openchannel-file-message__right__tail__failed",type:Jn.ERROR,fillColor:pt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:C},S.createElement(Ul,{menuTrigger:function(W){return bg({message:t,userId:i,status:m})&&S.createElement(Ml,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:W},S.createElement(rt,{type:Jn.MORE,width:"24px",height:"24px"}))},menuItems:function(W){return S.createElement(Dl,{parentRef:C,parentContainRef:C,closeDropdown:W,openLeft:!0},Fd({message:t,userId:i,status:m})&&S.createElement(Ga,{onClick:function(){o||(f(t),W())}},w.CONTEXT_MENU_DROPDOWN__RESEND),Hd({message:t,userId:i,status:m})&&S.createElement(Ga,{onClick:function(){o||(h(!0),W())}},w.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var the=function(n){var t=n.profileUrl,r=n.nickname,i=n.name,o=n.type,d=n.url,h=n.isByMe,f=h===void 0?!0:h,m=n.disableDelete,_=m===void 0?!1:m,y=n.onClose,w=n.onDelete,C=F.exports.useContext(_s).stringSet;return S.createElement("div",{className:"sendbird-fileviewer"},S.createElement("div",{className:"sendbird-fileviewer__header"},S.createElement("div",{className:"sendbird-fileviewer__header__left"},S.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},S.createElement(tc,{height:"32px",width:"32px",src:t})),S.createElement(Gn,{className:"sendbird-fileviewer__header__left__filename",type:Bn.H_2,color:Dn.ONBACKGROUND_1},i),S.createElement(Gn,{className:"sendbird-fileviewer__header__left__sender-name",type:Bn.BODY_1,color:Dn.ONBACKGROUND_2},r)),S.createElement("div",{className:"sendbird-fileviewer__header__right"},V6(o)&&S.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},S.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:d,target:"_blank"},S.createElement(rt,{type:Jn.DOWNLOAD,fillColor:pt.ON_BACKGROUND_1,height:"24px",width:"24px"})),w&&f&&S.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},S.createElement(rt,{className:_?"disabled":"",type:Jn.DELETE,fillColor:_?pt.GRAY:pt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(k){_||w==null||w(k)}}))),S.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},S.createElement(rt,{type:Jn.CLOSE,fillColor:pt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(k){return y==null?void 0:y(k)}})))),S.createElement("div",{className:"sendbird-fileviewer__content"},K5(o)&&S.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},S.createElement("source",{src:d,type:o})),V5(o)&&S.createElement("img",{src:d,alt:i,className:"sendbird-fileviewer__content__img"}),!V6(o)&&S.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},S.createElement(Gn,{type:Bn.H_1,color:Dn.ONBACKGROUND_1},(C==null?void 0:C.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function rhe(e){var n,t,r,i=e.message,o=e.isByMe,d=o===void 0?!1:o,h=e.onClose,f=e.onDelete;return Bd.exports.createPortal(S.createElement(the,{profileUrl:(n=i==null?void 0:i.sender)===null||n===void 0?void 0:n.profileUrl,nickname:(t=i==null?void 0:i.sender)===null||t===void 0?void 0:t.nickname,name:i==null?void 0:i.name,type:i==null?void 0:i.type,url:i==null?void 0:i.url,isByMe:d,disableDelete:((r=i==null?void 0:i.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:h,onDelete:f}),document.getElementById(cD))}function ihe(e){var n=e.onCloseModal,t=e.onDeleteMessage,r=F.exports.useContext(_s).stringSet;return S.createElement(Wle,{onCancel:n,onSubmit:t,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}var hC={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},ahe=function(n){return hC.IMAGE.indexOf(n)>=0},she=function(n){return hC.VIDEO.indexOf(n)>=0};nn({},hC);var Pa={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},zO={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},ohe=function(n){var t,r;return((t=n==null?void 0:n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?Pa.OG:Pa.USER:!((r=n==null?void 0:n.isAdminMessage)===null||r===void 0)&&r.call(n)?Pa.ADMIN:(n==null?void 0:n.messageType)==="file"?ahe(n.type)||she(n.type)?Pa.THUMBNAIL:Pa.FILE:Pa.UNKNOWN};function lhe(e){var n,t,r=e.message,i=e.chainTop,o=e.chainBottom,d=e.hasSeparator,h=e.renderMessage,f=Of(),m=f.currentOpenChannel,_=f.deleteMessage,y=f.updateMessage,w=f.resendMessage,C=Sf().dateLocale,I=m==null?void 0:m.isFrozen,k=Kd(),U=(t=k==null?void 0:k.config)===null||t===void 0?void 0:t.userId,T=null;(r==null?void 0:r.messageType)!=="admin"&&(T=r==null?void 0:r.sender);var N=F.exports.useMemo(function(){return function(pe){return S.createElement(S.Fragment,null,h?h(pe):null)}},[r,h]),H=F.exports.useState(!1),$=H[0],Q=H[1],P=F.exports.useState(!1),W=P[0],K=P[1],he=F.exports.useState(!1),le=he[0],Se=he[1],Ce=F.exports.useRef(null),re=!1;return T&&(r==null?void 0:r.messageType)!=="admin"&&(re=U===T.userId||(r==null?void 0:r.sendingStatus)===zO.PENDING||(r==null?void 0:r.sendingStatus)===zO.FAILED),h&&N?S.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},S.createElement(N,{message:r,chainTop:i,chainBottom:o})):(r==null?void 0:r.messageType)==="user"&&$?S.createElement(vg,{isEdit:!0,disabled:I,ref:Ce,message:r,name:r==null?void 0:r.messageId,onUpdateMessage:function(de){var De=de.messageId,Ge=de.message;y(De,Ge),Q(!1)},onCancelEdit:function(){Q(!1)}}):S.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},d&&(r==null?void 0:r.createdAt)&&S.createElement(Oue,null,S.createElement(Gn,{type:Bn.CAPTION_2,color:Dn.ONBACKGROUND_2},Wd(r==null?void 0:r.createdAt,"MMMM dd, yyyy",{locale:C}))),(n={},n[Pa.ADMIN]=function(){if((r==null?void 0:r.messageType)==="admin")return S.createElement(Kde,{message:r})}(),n[Pa.FILE]=function(){var pe;if((r==null?void 0:r.messageType)==="file")return S.createElement(nhe,{message:r,isOperator:m==null?void 0:m.isOperator((pe=r==null?void 0:r.sender)===null||pe===void 0?void 0:pe.userId),disabled:I,userId:U,showRemove:K,resendMessage:w,chainTop:i,chainBottom:o})}(),n[Pa.OG]=function(){var pe;if((r==null?void 0:r.messageType)==="user")return S.createElement(Xde,{message:r,isOperator:m==null?void 0:m.isOperator((pe=r==null?void 0:r.sender)===null||pe===void 0?void 0:pe.userId),userId:U,showEdit:Q,disabled:I,showRemove:K,resendMessage:w,chainTop:i,chainBottom:o})}(),n[Pa.THUMBNAIL]=function(){var pe;if((r==null?void 0:r.messageType)==="file")return S.createElement(Zde,{message:r,isOperator:m==null?void 0:m.isOperator((pe=r==null?void 0:r.sender)===null||pe===void 0?void 0:pe.userId),disabled:I,userId:U,showRemove:K,resendMessage:w,onClick:Se,chainTop:i,chainBottom:o})}(),n[Pa.USER]=function(){var pe;if((r==null?void 0:r.messageType)==="user")return S.createElement(Vde,{message:r,isOperator:m==null?void 0:m.isOperator((pe=r==null?void 0:r.sender)===null||pe===void 0?void 0:pe.userId),userId:U,disabled:I,showEdit:Q,showRemove:K,resendMessage:w,chainTop:i,chainBottom:o})}(),n[Pa.UNKNOWN]=function(){}(),n)[ohe(r)],W&&S.createElement(ihe,{onCloseModal:function(){return K(!1)},onDeleteMessage:function(){(r==null?void 0:r.messageType)!=="admin"&&_(r)}}),le&&(r==null?void 0:r.messageType)==="file"&&S.createElement(rhe,{onClose:function(){return Se(!1)},message:r,onDelete:function(){return _(r)},isByMe:re}))}function uhe(e,n){var t,r=Of(),i=r.isMessageGroupingEnabled,o=i===void 0?!0:i,d=r.allMessages,h=r.hasMore,f=r.onScroll,m=n||F.exports.useRef(null),_=F.exports.useState(!1),y=_[0],w=_[1],C=function(T){var N=T.target,H=N.scrollTop,$=N.scrollHeight,Q=N.clientHeight;if($>H+Q+1?w(!0):w(!1),!!h&&H===0){var P=m.current.querySelectorAll(".sendbird-msg--scroll-ref"),W=P&&P[0];f(function(){try{W.scrollIntoView()}catch{}})}},I=function(){m&&m.current&&(m.current.scrollTo(0,m.current.scrollHeight),w(!1))},k=F.exports.useMemo(function(){return d.length>0},[d.length]);return S.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),S.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",k?"":"no-messages"].join(" "),onScroll:C,ref:m},k?d.map(function(U,T){var N=d[T-1],H=d[T-1],$=N&&N.createdAt,Q=U==null?void 0:U.createdAt,P=!($&&Iue(Q,$)),W=o?wde(N,U,H):[!1,!1],K=W[0],he=W[1];return S.createElement(lhe,{key:(U==null?void 0:U.messageId)||(U==null?void 0:U.reqId),message:U,chainTop:K,chainBottom:he,hasSeparator:P,renderMessage:e==null?void 0:e.renderMessage})}):((t=e==null?void 0:e.renderPlaceHolderEmptyList)===null||t===void 0?void 0:t.call(e))||S.createElement(Gv,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:vr.NO_MESSAGES}))),y&&S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:I,onKeyDown:I,tabIndex:0,role:"button"},S.createElement(rt,{width:"24px",height:"24px",type:Jn.CHEVRON_DOWN,fillColor:pt.CONTENT})))}var che=S.forwardRef(uhe),Cv="sendbird-openchannel-conversation",dhe=function(n){var t=n.renderMessage,r=n.renderHeader,i=n.renderInput,o=n.renderPlaceHolderEmptyList,d=n.renderPlaceHolderError,h=n.renderPlaceHolderLoading,f=Of(),m=f.currentOpenChannel,_=f.amIBanned,y=f.loading,w=f.isInvalid,C=f.messageInputRef;return!m||!(m!=null&&m.url)||_?(d==null?void 0:d())||S.createElement("div",{className:Cv},S.createElement(Gv,{type:vr.NO_CHANNELS})):y?(h==null?void 0:h())||S.createElement("div",{className:Cv},S.createElement(Gv,{type:vr.LOADING})):w?(d==null?void 0:d())||S.createElement("div",{className:Cv},S.createElement(Gv,{type:vr.WRONG})):S.createElement("div",{className:Cv},(r==null?void 0:r())||S.createElement(zde,null),(m==null?void 0:m.isFrozen)&&S.createElement(jde,null),S.createElement(che,{renderMessage:t,renderPlaceHolderEmptyList:o}),(i==null?void 0:i())||S.createElement(Gde,{ref:C}))},hhe=function(n){return S.createElement(qde,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile},S.createElement(dhe,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}))};let xv;const phe=new Uint8Array(16);function fhe(){if(!xv&&(xv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xv(phe)}var vhe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mhe(e){return typeof e=="string"&&vhe.test(e)}const Wr=[];for(let e=0;e<256;++e)Wr.push((e+256).toString(16).slice(1));function wU(e,n=0){return(Wr[e[n+0]]+Wr[e[n+1]]+Wr[e[n+2]]+Wr[e[n+3]]+"-"+Wr[e[n+4]]+Wr[e[n+5]]+"-"+Wr[e[n+6]]+Wr[e[n+7]]+"-"+Wr[e[n+8]]+Wr[e[n+9]]+"-"+Wr[e[n+10]]+Wr[e[n+11]]+Wr[e[n+12]]+Wr[e[n+13]]+Wr[e[n+14]]+Wr[e[n+15]]).toLowerCase()}function ghe(e){if(!mhe(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}function _he(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}const bhe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yhe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function CU(e,n,t){function r(i,o,d,h){var f;if(typeof i=="string"&&(i=_he(i)),typeof o=="string"&&(o=ghe(o)),((f=o)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=t(m),m[6]=m[6]&15|n,m[8]=m[8]&63|128,d){h=h||0;for(let _=0;_<16;++_)d[h+_]=m[_];return d}return wU(m)}try{r.name=e}catch{}return r.DNS=bhe,r.URL=yhe,r}function Ehe(e){if(typeof e=="string"){const n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return whe(Che(xhe(e),e.length*8))}function whe(e){const n=[],t=e.length*32,r="0123456789abcdef";for(let i=0;i<t;i+=8){const o=e[i>>5]>>>i%32&255,d=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);n.push(d)}return n}function xU(e){return(e+64>>>9<<4)+14+1}function Che(e,n){e[n>>5]|=128<<n%32,e[xU(n)-1]=n;let t=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let d=0;d<e.length;d+=16){const h=t,f=r,m=i,_=o;t=hi(t,r,i,o,e[d],7,-680876936),o=hi(o,t,r,i,e[d+1],12,-389564586),i=hi(i,o,t,r,e[d+2],17,606105819),r=hi(r,i,o,t,e[d+3],22,-1044525330),t=hi(t,r,i,o,e[d+4],7,-176418897),o=hi(o,t,r,i,e[d+5],12,1200080426),i=hi(i,o,t,r,e[d+6],17,-1473231341),r=hi(r,i,o,t,e[d+7],22,-45705983),t=hi(t,r,i,o,e[d+8],7,1770035416),o=hi(o,t,r,i,e[d+9],12,-1958414417),i=hi(i,o,t,r,e[d+10],17,-42063),r=hi(r,i,o,t,e[d+11],22,-1990404162),t=hi(t,r,i,o,e[d+12],7,1804603682),o=hi(o,t,r,i,e[d+13],12,-40341101),i=hi(i,o,t,r,e[d+14],17,-1502002290),r=hi(r,i,o,t,e[d+15],22,1236535329),t=pi(t,r,i,o,e[d+1],5,-165796510),o=pi(o,t,r,i,e[d+6],9,-1069501632),i=pi(i,o,t,r,e[d+11],14,643717713),r=pi(r,i,o,t,e[d],20,-373897302),t=pi(t,r,i,o,e[d+5],5,-701558691),o=pi(o,t,r,i,e[d+10],9,38016083),i=pi(i,o,t,r,e[d+15],14,-660478335),r=pi(r,i,o,t,e[d+4],20,-405537848),t=pi(t,r,i,o,e[d+9],5,568446438),o=pi(o,t,r,i,e[d+14],9,-1019803690),i=pi(i,o,t,r,e[d+3],14,-187363961),r=pi(r,i,o,t,e[d+8],20,1163531501),t=pi(t,r,i,o,e[d+13],5,-1444681467),o=pi(o,t,r,i,e[d+2],9,-51403784),i=pi(i,o,t,r,e[d+7],14,1735328473),r=pi(r,i,o,t,e[d+12],20,-1926607734),t=fi(t,r,i,o,e[d+5],4,-378558),o=fi(o,t,r,i,e[d+8],11,-2022574463),i=fi(i,o,t,r,e[d+11],16,1839030562),r=fi(r,i,o,t,e[d+14],23,-35309556),t=fi(t,r,i,o,e[d+1],4,-1530992060),o=fi(o,t,r,i,e[d+4],11,1272893353),i=fi(i,o,t,r,e[d+7],16,-155497632),r=fi(r,i,o,t,e[d+10],23,-1094730640),t=fi(t,r,i,o,e[d+13],4,681279174),o=fi(o,t,r,i,e[d],11,-358537222),i=fi(i,o,t,r,e[d+3],16,-722521979),r=fi(r,i,o,t,e[d+6],23,76029189),t=fi(t,r,i,o,e[d+9],4,-640364487),o=fi(o,t,r,i,e[d+12],11,-421815835),i=fi(i,o,t,r,e[d+15],16,530742520),r=fi(r,i,o,t,e[d+2],23,-995338651),t=vi(t,r,i,o,e[d],6,-198630844),o=vi(o,t,r,i,e[d+7],10,1126891415),i=vi(i,o,t,r,e[d+14],15,-1416354905),r=vi(r,i,o,t,e[d+5],21,-57434055),t=vi(t,r,i,o,e[d+12],6,1700485571),o=vi(o,t,r,i,e[d+3],10,-1894986606),i=vi(i,o,t,r,e[d+10],15,-1051523),r=vi(r,i,o,t,e[d+1],21,-2054922799),t=vi(t,r,i,o,e[d+8],6,1873313359),o=vi(o,t,r,i,e[d+15],10,-30611744),i=vi(i,o,t,r,e[d+6],15,-1560198380),r=vi(r,i,o,t,e[d+13],21,1309151649),t=vi(t,r,i,o,e[d+4],6,-145523070),o=vi(o,t,r,i,e[d+11],10,-1120210379),i=vi(i,o,t,r,e[d+2],15,718787259),r=vi(r,i,o,t,e[d+9],21,-343485551),t=_l(t,h),r=_l(r,f),i=_l(i,m),o=_l(o,_)}return[t,r,i,o]}function xhe(e){if(e.length===0)return[];const n=e.length*8,t=new Uint32Array(xU(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function _l(e,n){const t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function She(e,n){return e<<n|e>>>32-n}function yg(e,n,t,r,i,o){return _l(She(_l(_l(n,e),_l(r,o)),i),t)}function hi(e,n,t,r,i,o,d){return yg(n&t|~n&r,e,n,i,o,d)}function pi(e,n,t,r,i,o,d){return yg(n&r|t&~r,e,n,i,o,d)}function fi(e,n,t,r,i,o,d){return yg(n^t^r,e,n,i,o,d)}function vi(e,n,t,r,i,o,d){return yg(t^(n|~r),e,n,i,o,d)}CU("v3",48,Ehe);const Ihe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var VO={randomUUID:Ihe};function khe(e,n,t){if(VO.randomUUID&&!n&&!e)return VO.randomUUID();e=e||{};const r=e.random||(e.rng||fhe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return wU(r)}function The(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function k1(e,n){return e<<n|e>>>32-n}function Nhe(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const d=unescape(encodeURIComponent(e));e=[];for(let h=0;h<d.length;++h)e.push(d.charCodeAt(h))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let d=0;d<i;++d){const h=new Uint32Array(16);for(let f=0;f<16;++f)h[f]=e[d*64+f*4]<<24|e[d*64+f*4+1]<<16|e[d*64+f*4+2]<<8|e[d*64+f*4+3];o[d]=h}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let d=0;d<i;++d){const h=new Uint32Array(80);for(let C=0;C<16;++C)h[C]=o[d][C];for(let C=16;C<80;++C)h[C]=k1(h[C-3]^h[C-8]^h[C-14]^h[C-16],1);let f=t[0],m=t[1],_=t[2],y=t[3],w=t[4];for(let C=0;C<80;++C){const I=Math.floor(C/20),k=k1(f,5)+The(I,m,_,y)+w+n[I]+h[C]>>>0;w=y,y=_,_=k1(m,30)>>>0,m=f,f=k}t[0]=t[0]+f>>>0,t[1]=t[1]+m>>>0,t[2]=t[2]+_>>>0,t[3]=t[3]+y>>>0,t[4]=t[4]+w>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}CU("v5",80,Nhe);var Ohe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;Ei(Ohe);var KO,WO;function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ow.apply(this,arguments)}var Xd=function(n){return F.exports.createElement("svg",ow({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},n),KO||(KO=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-user_svg__a"},F.exports.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-user_svg__b"},F.exports.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),WO||(WO=F.exports.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},F.exports.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},F.exports.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},QO;function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lw.apply(this,arguments)}var Do=function(n){return F.exports.createElement("svg",lw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),QO||(QO=F.exports.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function pC(e){var n=e.key,t=e.userId,r=e.disabled,i=r===void 0?!1:r,o=e.nickname,d=o===void 0?"":o,h=e.profileUrl,f=h===void 0?"":h,m=e.hideProfile,_=m===void 0?!1:m,y=e.onRemove,w=y===void 0?function(){}:y,C=f?S.createElement("img",{src:f,className:"profile-image"}):S.createElement(Xd,{fill:"#ccc",className:"profile-image"});return S.createElement("div",{className:"event-host",key:n},_?null:C,S.createElement("div",{className:"nickname"},d),S.createElement("div",{className:"remove-button",onClick:function(){i||w(t)}},S.createElement(Do,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var YO;function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},uw.apply(this,arguments)}var Ahe=function(n){return F.exports.createElement("svg",uw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),YO||(YO=F.exports.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function SU(e){var n=e.message,t=e.count,r=e.maxLength,i=e.error,o=i===void 0?!1:i;return S.createElement("div",{className:"event-host-status"},S.createElement("div",{className:"message ".concat(o?"error":"")},n),S.createElement("div",{className:"count"},S.createElement("span",{className:"value ".concat(o?"error":"")},t)," / ",r," users"),S.createElement(Ahe,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var XO;function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cw.apply(this,arguments)}var Rhe=function(n){return F.exports.createElement("svg",cw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),XO||(XO=F.exports.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function Mhe(e){var n=e.userId,t=e.nickname,r=t===void 0?"":t,i=e.profileUrl,o=i===void 0?"":i,d=e.onClick,h=d===void 0?function(){}:d,f=o?S.createElement("img",{src:o,className:"profile-image"}):S.createElement(Xd,{fill:"#fff",className:"profile-image"});return S.createElement("div",{className:"searched-user",onClick:function(){return h()}},f,S.createElement("div",{className:"info"},S.createElement("div",{className:"nickname"},r),S.createElement("div",{className:"user-id"},n)))}function Dhe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?IU:r,o=e.renderCustomEventHostView,d=o===void 0?pC:o,h=e.onUpdateHost,f=h===void 0?function(){}:h,m=F.exports.useState([]),_=m[0],y=m[1],w=F.exports.useState(0),C=w[0],I=w[1],k=F.exports.useState(!1),U=k[0],T=k[1],N=F.exports.useState(!1),H=N[0],$=N[1],Q=F.exports.useState(t),P=Q[0],W=Q[1],K=F.exports.useState("nickname"),he=K[0],le=K[1],Se=F.exports.useState(""),Ce=Se[0],re=Se[1],pe=F.exports.useState(""),de=pe[0],De=pe[1],Ge=F.exports.useState(!1),ge=Ge[0],Ae=Ge[1],qe=Kd();F.exports.useEffect(function(){W(t)},[t]),F.exports.useEffect(function(){P.length>i?(Ae(!0),De("The number of users allowed has exceeded.")):(Ae(!1),De(""))},[P]);var J=function(X,me){var Ye=q3.getSdk(qe);if(Ye&&me){var $e=null;switch(X){case"nickname":{$e=Ye.createApplicationUserListQuery({nicknameStartsWithFilter:me});break}case"user ID":{$e=Ye.createApplicationUserListQuery({userIdsFilter:[me]});break}}if($e){var Ne=C+1;I(Ne),T(!0),$(!1),$e.next().then(function(xe){Ne>=C&&(y(xe),T(!1),$(!1),I(Ne))}).catch(function(xe){Ne>=C&&(T(!1),$(!0),I(Ne))})}}};return S.createElement("div",{className:"event-host-form"},S.createElement("div",{className:"input"},S.createElement("div",{className:"search-type-panel"},S.createElement("select",{className:"search-type",value:he,onChange:function(X){var me=X.target.value;switch(le(me),me){case"user ID":De("Only an exact match can be found.");break;default:De("")}Ae(!1),J(me,Ce)}},S.createElement("option",{value:"nickname"},"Nickname"),S.createElement("option",{value:"user ID"},"User ID"))),S.createElement("div",{className:"form"},P.map(function(X){return d({key:X.userId,userId:X.userId,disabled:t.map(function(me){return me.userId}).includes(X.userId),nickname:X.nickname,profileUrl:X.profileUrl,onRemove:function(me){var Ye=P.filter(function($e){return $e.userId!==me});W(Ye),f(Ye.map(function($e){return $e.userId}))}})}),S.createElement("input",{type:"text",placeholder:"Enter ".concat(he),className:"host-form",value:Ce,onChange:function(X){var me=X.target.value;re(me),J(he,me)}}))),S.createElement(SU,{message:de,error:ge,count:P.length,maxLength:i}),Ce?S.createElement("div",{className:"search-result"},_.length>0?S.createElement("div",{className:"users"},_.map(function(X){return S.createElement(Mhe,{key:X.userId,userId:X.userId,nickname:X.nickname,profileUrl:X.profileUrl,onClick:function(){if(!P.map(function(Ye){return Ye.userId}).includes(X.userId)){var me=ta(ta([],P,!0),[X],!1);W(me),f(me.map(function(Ye){return Ye.userId}))}re(""),y([]),$(!1),T(!1)}})})):S.createElement("div",{className:"status"},U?S.createElement(Rhe,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!U&&!H&&_.length===0?S.createElement("div",{className:"no-result"},"No matches found with ",Ce):null,H?S.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Uhe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,i=r===void 0?IU:r,o=e.renderCustomEventHostView,d=o===void 0?pC:o,h=e.onUpdateHost,f=h===void 0?function(){}:h,m=F.exports.useState([]),_=m[0],y=m[1],w=F.exports.useState(""),C=w[0],I=w[1],k=F.exports.useState(""),U=k[0],T=k[1],N=F.exports.useState(!1),H=N[0],$=N[1];return F.exports.useEffect(function(){y(t.map(function(Q){return Q.userId}))},[t]),F.exports.useEffect(function(){_.length>i?($(!0),T("The number of users allowed has exceeded.")):($(!1),T("If the ACL attributes are turned on, you can access user list information from the SDK."))},[_]),S.createElement("div",{className:"event-host-form"},S.createElement("div",{className:"input"},S.createElement("div",{className:"form"},_.map(function(Q){return d({key:Q,userId:Q,disabled:t.map(function(P){return P.userId}).includes(Q),nickname:Q,hideProfile:!0,onRemove:function(P){var W=_.filter(function(K){return K!==P});y(W),f(W)}})}),S.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:C,onChange:function(Q){var P,W=Q.target.value,K=W.split(",");I((P=K.pop())!==null&&P!==void 0?P:"");var he=K.filter(function(Se,Ce){return Se.length>0&&!_.includes(Se)&&K.indexOf(Se)===Ce});if(he.length>0){var le=ta(ta([],_,!0),he,!0);y(le),f(le)}}}))),S.createElement(SU,{message:U,error:H,count:_.length,maxLength:i}))}var JO,ZO;function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dw.apply(this,arguments)}var Lhe=function(n){return F.exports.createElement("svg",dw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),JO||(JO=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-live_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-live_svg__b"},F.exports.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),ZO||(ZO=F.exports.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},F.exports.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},F.exports.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},IU=10;function Phe(e){var n=this,t,r,i=e.showUserIdsForHostSelectionView,o=i===void 0?!0:i,d=e.disableAcl,h=d===void 0?!1:d,f=e.renderCustomEventHostView,m=f===void 0?pC:f,_=e.onClose,y=_===void 0?function(){}:_,w=F.exports.useState(""),C=w[0],I=w[1],k=F.exports.useState(""),U=k[0],T=k[1],N=F.exports.useRef(null),H=F.exports.useRef(null),$=F.exports.useContext(js).stringSet,Q=Kd(),P=q3.getSdk(Q),W=F.exports.useState([]),K=W[0],he=W[1];F.exports.useEffect(function(){o&&P!=null&&P.currentUser&&he([P.currentUser])},[P==null?void 0:P.currentUser]);var le=F.exports.useState(K.map(function(re){return re.userId})),Se=le[0],Ce=le[1];return S.createElement("div",{className:"create-event-view"},S.createElement("div",{className:"close",onClick:function(){return y()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},$.LIVE_EVENT_CREATE_HEADER_TITLE),S.createElement("div",{className:"section-title"},$.LIVE_EVENT_CREATE_EVENT_TITLE),S.createElement("div",null,S.createElement("input",{type:"text",placeholder:$.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:C,onChange:function(re){I(re.target.value)}})),S.createElement("div",{className:"section-title"},$.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),S.createElement("div",{className:"cover-image-box"},S.createElement("div",{className:"cover-image-container",ref:N},U?S.createElement("img",{src:U,alt:"Cover image",className:"cover-image"}):S.createElement(Lhe,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),S.createElement("input",{type:"file",className:"cover-image-file",ref:H,accept:"image/*",onChange:function(){var re,pe=H.current,de=(re=pe==null?void 0:pe.files)!==null&&re!==void 0?re:[];if(de.length===1){var De=new FileReader;De.onload=function(){N.current&&T(De.result)},De.readAsDataURL(de[0])}}}),S.createElement("div",{className:"cover-image-upload",onClick:function(){H.current.click()}},$.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),S.createElement("div",{className:"cover-image-remove",onClick:function(){H.current&&(H.current.value=""),T("")}},!((r=(t=H.current)===null||t===void 0?void 0:t.files)===null||r===void 0)&&r.length?$.REMOVE_IMAGE:"")),S.createElement("div",{className:"section-title"},$.LIST_USERS_FOR_HOST_HEADER_TITLE),h?S.createElement(Uhe,{initialHostUsers:K,renderCustomEventHostView:m,onUpdateHost:function(re){return Ce(re)}}):S.createElement(Dhe,{initialHostUsers:K,renderCustomEventHostView:m,onUpdateHost:function(re){return Ce(re)}}),S.createElement("div",{className:"button-box"},S.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return y()}}),S.createElement("input",{type:"button",className:"major-button",value:$.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return Mi(n,void 0,void 0,function(){var re,pe,de,De,Ge,ge;return Di(this,function(Ae){switch(Ae.label){case 0:return re=(ge=(Ge=H==null?void 0:H.current)===null||Ge===void 0?void 0:Ge.files)===null||ge===void 0?void 0:ge[0],pe=null,re&&(de=re.slice(0,re.size,re.type),pe=new File([de],"".concat(khe(),".").concat(re.type.split("/").pop()),{type:re.type})),[4,Zt.exports.SendbirdLive.createLiveEvent({userIdsForHost:ta([],Se,!0),title:C,coverFile:pe!=null?pe:void 0})];case 1:return De=Ae.sent(),[4,De.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return Ae.sent(),y(De),[2]}})})}})))}var $he=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: #333 !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;Ei($he);var eA;function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hw.apply(this,arguments)}var Fhe=function(n){return F.exports.createElement("svg",hw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),eA||(eA=F.exports.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},nA,tA;function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pw.apply(this,arguments)}var Hhe=function(n){return F.exports.createElement("svg",pw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),nA||(nA=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-camera-filled_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-camera-filled_svg__b"},F.exports.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),tA||(tA=F.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},F.exports.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},F.exports.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},rA,iA;function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fw.apply(this,arguments)}var qhe=function(n){return F.exports.createElement("svg",fw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),rA||(rA=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},F.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),iA||(iA=F.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},F.exports.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},F.exports.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},aA,sA;function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vw.apply(this,arguments)}var Bhe=function(n){return F.exports.createElement("svg",vw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),aA||(aA=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-mic-filled_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-mic-filled_svg__b"},F.exports.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),sA||(sA=F.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},F.exports.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},F.exports.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},oA,lA;function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mw.apply(this,arguments)}var Ghe=function(n){return F.exports.createElement("svg",mw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),oA||(oA=F.exports.createElement("defs",null,F.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},F.exports.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),F.exports.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},F.exports.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),lA||(lA=F.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},F.exports.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},F.exports.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},jhe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 4px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;Ei(jhe);function zhe(e){var n=this,t=e.liveEvent,r=e.onStart,i=e.onEnd,o=e.onSettings,d=F.exports.useState(t.state===Zt.exports.LiveEventState.ONGOING),h=d[0],f=d[1],m=F.exports.useState(0),_=m[0],y=m[1],w=F.exports.useState(!0),C=w[0],I=w[1],k=F.exports.useState(!0),U=k[0],T=k[1];Uu("");var N=F.exports.useContext(js).stringSet;F.exports.useEffect(function(){var K=setInterval(function(){y(t.duration)},1e3);return function(){return clearInterval(K)}},[]);var H=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(K){switch(K.label){case 0:return[4,t.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return K.sent(),f(!0),r(t),[2]}})})},$=function(K){K?t.startVideo():t.stopVideo(),T(K)},Q=function(K){K?t.unmuteAudioInput():t.muteAudioInput(),I(K)};function P(K){return K.toString().padStart(2,"0")}function W(K){var he=Math.floor(K/1e3),le=Math.floor(he/60),Se=Math.floor(le/60);return he=he%60,le=le%60,"".concat(P(Se),":").concat(P(le),":").concat(P(he))}return S.createElement("div",{className:"control-bar"},S.createElement("div",{className:"control-bar__left-buttons"},S.createElement("div",{className:"control-bar__settings"},S.createElement(Fhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return o(t)}})),S.createElement("div",{className:"control-bar__video"},U?S.createElement(Hhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return $(!1)}}):S.createElement(qhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return $(!0)}})),S.createElement("div",{className:"control-bar__audio__wrapper"},S.createElement("div",{className:"control-bar__audio"},C?S.createElement(Bhe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return Q(!1)}}):S.createElement(Ghe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return Q(!0)}})),S.createElement("div",{className:"control-bar__volume"}))),S.createElement("div",{className:"control-bar__right-buttons"},h&&S.createElement("div",{className:"participant-icon--red"}),h&&S.createElement("div",{className:"control-bar__duration"},W(_)),h?S.createElement("div",{className:"control-bar__end-live",onClick:function(){i(t)}},N.LIVE_EVENT_END_DIALOG_OPTION_END):S.createElement("div",{className:"control-bar__start-live",onClick:H},N.START_LIVE_EVENT_HEADER_BUTTON)))}var Vhe=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;Ei(Vhe);function Khe(e){var n=e.onExit,t=n===void 0?function(){}:n,r=e.onClose,i=r===void 0?function(){}:r,o=F.exports.useContext(js).stringSet;return S.createElement("div",{className:"confirm-end-dialog"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),S.createElement("div",{className:"close",onClick:function(){return i()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"minor-button",onClick:function(){return i()}},"Cancel"),S.createElement("div",{className:"minor-button",onClick:function(){return t(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),S.createElement("div",{className:"major-button",onClick:function(){return t(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}function Yu(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function $i(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function Vv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vv=function(t){return typeof t}:Vv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function Vs(e){$i(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||Vv(e)==="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Whe(e,n){$i(2,arguments);var t=Vs(e).getTime(),r=Yu(n);return new Date(t+r)}var Qhe={};function Eg(){return Qhe}function Yhe(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}function Kv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kv=function(t){return typeof t}:Kv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function Xhe(e){return $i(1,arguments),e instanceof Date||Kv(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jhe(e){if($i(1,arguments),!Xhe(e)&&typeof e!="number")return!1;var n=Vs(e);return!isNaN(Number(n))}function Zhe(e,n){$i(2,arguments);var t=Yu(n);return Whe(e,-t)}var epe=864e5;function npe(e){$i(1,arguments);var n=Vs(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),i=t-r;return Math.floor(i/epe)+1}function $m(e){$i(1,arguments);var n=1,t=Vs(e),r=t.getUTCDay(),i=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function kU(e){$i(1,arguments);var n=Vs(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=$m(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var d=$m(o);return n.getTime()>=i.getTime()?t+1:n.getTime()>=d.getTime()?t:t-1}function tpe(e){$i(1,arguments);var n=kU(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=$m(t);return r}var rpe=6048e5;function ipe(e){$i(1,arguments);var n=Vs(e),t=$m(n).getTime()-tpe(n).getTime();return Math.round(t/rpe)+1}function Fm(e,n){var t,r,i,o,d,h,f,m;$i(1,arguments);var _=Eg(),y=Yu((t=(r=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&i!==void 0?i:_.weekStartsOn)!==null&&r!==void 0?r:(f=_.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&t!==void 0?t:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Vs(e),C=w.getUTCDay(),I=(C<y?7:0)+C-y;return w.setUTCDate(w.getUTCDate()-I),w.setUTCHours(0,0,0,0),w}function TU(e,n){var t,r,i,o,d,h,f,m;$i(1,arguments);var _=Vs(e),y=_.getUTCFullYear(),w=Eg(),C=Yu((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(y+1,0,C),I.setUTCHours(0,0,0,0);var k=Fm(I,n),U=new Date(0);U.setUTCFullYear(y,0,C),U.setUTCHours(0,0,0,0);var T=Fm(U,n);return _.getTime()>=k.getTime()?y+1:_.getTime()>=T.getTime()?y:y-1}function ape(e,n){var t,r,i,o,d,h,f,m;$i(1,arguments);var _=Eg(),y=Yu((t=(r=(i=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:_.firstWeekContainsDate)!==null&&r!==void 0?r:(f=_.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1),w=TU(e,n),C=new Date(0);C.setUTCFullYear(w,0,y),C.setUTCHours(0,0,0,0);var I=Fm(C,n);return I}var spe=6048e5;function ope(e,n){$i(1,arguments);var t=Vs(e),r=Fm(t,n).getTime()-ape(t,n).getTime();return Math.round(r/spe)+1}function xt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var ll={y:function(n,t){var r=n.getUTCFullYear(),i=r>0?r:1-r;return xt(t==="yy"?i%100:i,t.length)},M:function(n,t){var r=n.getUTCMonth();return t==="M"?String(r+1):xt(r+1,2)},d:function(n,t){return xt(n.getUTCDate(),t.length)},a:function(n,t){var r=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,t){return xt(n.getUTCHours()%12||12,t.length)},H:function(n,t){return xt(n.getUTCHours(),t.length)},m:function(n,t){return xt(n.getUTCMinutes(),t.length)},s:function(n,t){return xt(n.getUTCSeconds(),t.length)},S:function(n,t){var r=t.length,i=n.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return xt(o,t.length)}},Zc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lpe={G:function(n,t,r){var i=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(n,t,r){if(t==="yo"){var i=n.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return ll.y(n,t)},Y:function(n,t,r,i){var o=TU(n,i),d=o>0?o:1-o;if(t==="YY"){var h=d%100;return xt(h,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):xt(d,t.length)},R:function(n,t){var r=kU(n);return xt(r,t.length)},u:function(n,t){var r=n.getUTCFullYear();return xt(r,t.length)},Q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return xt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return xt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,r){var i=n.getUTCMonth();switch(t){case"M":case"MM":return ll.M(n,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,r){var i=n.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return xt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,r,i){var o=ope(n,i);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):xt(o,t.length)},I:function(n,t,r){var i=ipe(n);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},d:function(n,t,r){return t==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):ll.d(n,t)},D:function(n,t,r){var i=npe(n);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):xt(i,t.length)},E:function(n,t,r){var i=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,r,i){var o=n.getUTCDay(),d=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return xt(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(n,t,r,i){var o=n.getUTCDay(),d=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return xt(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(n,t,r){var i=n.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return xt(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,r){var i=n.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,t,r){var i=n.getUTCHours(),o;switch(i===12?o=Zc.noon:i===0?o=Zc.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,t,r){var i=n.getUTCHours(),o;switch(i>=17?o=Zc.evening:i>=12?o=Zc.afternoon:i>=4?o=Zc.morning:o=Zc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,t,r){if(t==="ho"){var i=n.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ll.h(n,t)},H:function(n,t,r){return t==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):ll.H(n,t)},K:function(n,t,r){var i=n.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):xt(i,t.length)},k:function(n,t,r){var i=n.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):xt(i,t.length)},m:function(n,t,r){return t==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):ll.m(n,t)},s:function(n,t,r){return t==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):ll.s(n,t)},S:function(n,t){return ll.S(n,t)},X:function(n,t,r,i){var o=i._originalDate||n,d=o.getTimezoneOffset();if(d===0)return"Z";switch(t){case"X":return cA(d);case"XXXX":case"XX":return Eu(d);case"XXXXX":case"XXX":default:return Eu(d,":")}},x:function(n,t,r,i){var o=i._originalDate||n,d=o.getTimezoneOffset();switch(t){case"x":return cA(d);case"xxxx":case"xx":return Eu(d);case"xxxxx":case"xxx":default:return Eu(d,":")}},O:function(n,t,r,i){var o=i._originalDate||n,d=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uA(d,":");case"OOOO":default:return"GMT"+Eu(d,":")}},z:function(n,t,r,i){var o=i._originalDate||n,d=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uA(d,":");case"zzzz":default:return"GMT"+Eu(d,":")}},t:function(n,t,r,i){var o=i._originalDate||n,d=Math.floor(o.getTime()/1e3);return xt(d,t.length)},T:function(n,t,r,i){var o=i._originalDate||n,d=o.getTime();return xt(d,t.length)}};function uA(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var d=n||"";return t+String(i)+d+xt(o,2)}function cA(e,n){if(e%60===0){var t=e>0?"-":"+";return t+xt(Math.abs(e)/60,2)}return Eu(e,n)}function Eu(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e),o=xt(Math.floor(i/60),2),d=xt(i%60,2);return r+o+t+d}var upe=lpe,dA=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NU=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cpe=function(n,t){var r=n.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return dA(n,t);var d;switch(i){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",dA(i,t)).replace("{{time}}",NU(o,t))},dpe={p:NU,P:cpe},hpe=dpe,ppe=["D","DD"],fpe=["YY","YYYY"];function vpe(e){return ppe.indexOf(e)!==-1}function mpe(e){return fpe.indexOf(e)!==-1}function hA(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var gpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_pe=function(n,t,r){var i,o=gpe[n];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function T1(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth,r=e.formats[t]||e.formats[e.defaultWidth];return r}}var bpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ype={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Epe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wpe={date:T1({formats:bpe,defaultWidth:"full"}),time:T1({formats:ype,defaultWidth:"full"}),dateTime:T1({formats:Epe,defaultWidth:"full"})},Cpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xpe=function(n,t,r,i){return Cpe[n]};function pp(e){return function(n,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,d=t!=null&&t.width?String(t.width):o;i=e.formattingValues[d]||e.formattingValues[o]}else{var h=e.defaultWidth,f=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[f]||e.values[h]}var m=e.argumentCallback?e.argumentCallback(n):n;return i[m]}}var Spe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ipe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Npe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ope={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ape=function(n,t){var r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Rpe={ordinalNumber:Ape,era:pp({values:Spe,defaultWidth:"wide"}),quarter:pp({values:Ipe,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:pp({values:kpe,defaultWidth:"wide"}),day:pp({values:Tpe,defaultWidth:"wide"}),dayPeriod:pp({values:Npe,defaultWidth:"wide",formattingValues:Ope,defaultFormattingWidth:"wide"})};function fp(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(i);if(!o)return null;var d=o[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(h)?Dpe(h,function(y){return y.test(d)}):Mpe(h,function(y){return y.test(d)}),m;m=e.valueCallback?e.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;var _=n.slice(d.length);return{value:m,rest:_}}}function Mpe(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function Dpe(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}function Upe(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.match(e.matchPattern);if(!r)return null;var i=r[0],o=n.match(e.parsePattern);if(!o)return null;var d=e.valueCallback?e.valueCallback(o[0]):o[0];d=t.valueCallback?t.valueCallback(d):d;var h=n.slice(i.length);return{value:d,rest:h}}}var Lpe=/^(\d+)(th|st|nd|rd)?/i,Ppe=/\d+/i,$pe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fpe={any:[/^b/i,/^(a|c)/i]},Hpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qpe={any:[/1/i,/2/i,/3/i,/4/i]},Bpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wpe={ordinalNumber:Upe({matchPattern:Lpe,parsePattern:Ppe,valueCallback:function(n){return parseInt(n,10)}}),era:fp({matchPatterns:$pe,defaultMatchWidth:"wide",parsePatterns:Fpe,defaultParseWidth:"any"}),quarter:fp({matchPatterns:Hpe,defaultMatchWidth:"wide",parsePatterns:qpe,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:fp({matchPatterns:Bpe,defaultMatchWidth:"wide",parsePatterns:Gpe,defaultParseWidth:"any"}),day:fp({matchPatterns:jpe,defaultMatchWidth:"wide",parsePatterns:zpe,defaultParseWidth:"any"}),dayPeriod:fp({matchPatterns:Vpe,defaultMatchWidth:"any",parsePatterns:Kpe,defaultParseWidth:"any"})},Qpe={code:"en-US",formatDistance:_pe,formatLong:wpe,formatRelative:xpe,localize:Rpe,match:Wpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ype=Qpe,Xpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zpe=/^'([^]*?)'?$/,efe=/''/g,nfe=/[a-zA-Z]/;function pA(e,n,t){var r,i,o,d,h,f,m,_,y,w,C,I,k,U,T,N,H,$;$i(2,arguments);var Q=String(n),P=Eg(),W=(r=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:P.locale)!==null&&r!==void 0?r:Ype,K=Yu((o=(d=(h=(f=t==null?void 0:t.firstWeekContainsDate)!==null&&f!==void 0?f:t==null||(m=t.locale)===null||m===void 0||(_=m.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&h!==void 0?h:P.firstWeekContainsDate)!==null&&d!==void 0?d:(y=P.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var he=Yu((C=(I=(k=(U=t==null?void 0:t.weekStartsOn)!==null&&U!==void 0?U:t==null||(T=t.locale)===null||T===void 0||(N=T.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&k!==void 0?k:P.weekStartsOn)!==null&&I!==void 0?I:(H=P.locale)===null||H===void 0||($=H.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&C!==void 0?C:0);if(!(he>=0&&he<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!W.localize)throw new RangeError("locale must contain localize property");if(!W.formatLong)throw new RangeError("locale must contain formatLong property");var le=Vs(e);if(!Jhe(le))throw new RangeError("Invalid time value");var Se=Yhe(le),Ce=Zhe(le,Se),re={firstWeekContainsDate:K,weekStartsOn:he,locale:W,_originalDate:le},pe=Q.match(Jpe).map(function(de){var De=de[0];if(De==="p"||De==="P"){var Ge=hpe[De];return Ge(de,W.formatLong)}return de}).join("").match(Xpe).map(function(de){if(de==="''")return"'";var De=de[0];if(De==="'")return tfe(de);var Ge=upe[De];if(Ge)return!(t!=null&&t.useAdditionalWeekYearTokens)&&mpe(de)&&hA(de,n,String(e)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&vpe(de)&&hA(de,n,String(e)),Ge(Ce,de,W.localize,re);if(De.match(nfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+De+"`");return de}).join("");return pe}function tfe(e){var n=e.match(Zpe);return n?n[1].replace(efe,"'"):e}var fA;function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gw.apply(this,arguments)}var vA=function(n){return F.exports.createElement("svg",gw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),fA||(fA=F.exports.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},mA;function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_w.apply(this,arguments)}var rfe=function(n){return F.exports.createElement("svg",_w({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),mA||(mA=F.exports.createElement("g",{fillRule:"evenodd"},F.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),F.exports.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),F.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),F.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},gA;function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bw.apply(this,arguments)}var ife=function(n){return F.exports.createElement("svg",bw({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),gA||(gA=F.exports.createElement("g",{fillRule:"evenodd"},F.exports.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),F.exports.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),F.exports.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),F.exports.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},_A;function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yw.apply(this,arguments)}var OU=function(n){return F.exports.createElement("svg",yw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),_A||(_A=F.exports.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},bA;function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ew.apply(this,arguments)}var AU=function(n){return F.exports.createElement("svg",Ew({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),bA||(bA=F.exports.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},yA;function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ww.apply(this,arguments)}var afe=function(n){return F.exports.createElement("svg",ww({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),yA||(yA=F.exports.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},sfe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;Ei(sfe);function ofe(e){var n=e.liveEvent,t=e.onHostsClick,r=t===void 0?function(){}:t,i=e.onParticipantsClick,o=i===void 0?function(){}:i,d=e.onClose,h=d===void 0?function(){}:d,f=n.openChannel,m=F.exports.useState(""),_=m[0],y=m[1],w=F.exports.useState(f.isFrozen),C=w[0],I=w[1],k=F.exports.useState(n.userIdsForHost.length),U=k[0],T=k[1],N=F.exports.useState("".concat(f.participantCount)),H=N[0],$=N[1];return F.exports.useEffect(function(){y(f.name||"Untitled")},[f.name]),F.exports.useEffect(function(){T(f.operators.length)},[n.userIdsForHost.length]),F.exports.useEffect(function(){f.participantCount>1e3?$("".concat(Math.floor(f.participantCount/1e3),"k")):$("".concat(f.participantCount))},[f.participantCount]),F.exports.useEffect(function(){I(n.openChannel.isFrozen)},[f.isFrozen]),S.createElement("div",{className:"event-detail-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},"Live event information"),S.createElement("div",{className:"close",onClick:function(){return h()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"event-summary"},S.createElement("div",{className:"profile"},n.host?S.createElement("img",{src:n.host.profileURL}):S.createElement(Xd,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),S.createElement("div",{className:"title"},_)),S.createElement("div",{className:"event-menu button",onClick:function(){return r()}},S.createElement(OU,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Hosts"),S.createElement("div",{className:"count"},U),S.createElement(vA,{width:24,height:24,viewBox:"-10 -10 80 80"})),S.createElement("div",{className:"event-menu button",onClick:function(){return o()}},S.createElement(AU,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Participants"),S.createElement("div",{className:"count"},H),S.createElement(vA,{width:24,height:24,viewBox:"-10 -10 80 80"})),S.createElement("div",{className:"event-menu"},S.createElement(afe,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Freeze channel"),S.createElement("div",{className:"toggle"},C?S.createElement(rfe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):S.createElement(ife,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),S.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Live event ID"),S.createElement("div",{className:"value"},n.liveEventId)),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Created on"),S.createElement("div",{className:"value"},pA(n.createdAt,"PPp"))),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Created by"),S.createElement("div",{className:"value"},n.createdBy)),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Started on"),S.createElement("div",{className:"value"},n.startedAt?pA(n.startedAt,"PPp"):"")),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Started by"),S.createElement("div",{className:"value"},n.startedBy?n.startedBy:"")))}var lfe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;Ei(lfe);function ufe(e){var n=e.nickname,t=n===void 0?"":n,r=e.profileUrl,i=r===void 0?"":r,o=i?S.createElement("img",{src:i,className:"profile-image"}):S.createElement(Xd,{fill:"#fff",className:"profile-image"});return S.createElement("div",{className:"user-view"},o,S.createElement("div",{className:"nickname"},t))}function EA(e){var n=e.title,t=e.count,r=e.query,i=e.onClose,o=i===void 0?function(){}:i,d=F.exports.useRef(null),h=F.exports.useState([]),f=h[0],m=h[1],_=F.exports.useState(!0),y=_[0],w=_[1];F.exports.useEffect(function(){r().then(function(I){var k=I.result,U=I.hasNext;m(ta([],k,!0)),w(U)})},[]);var C=function(){if(d.current){var I=d.current,k=I.scrollTop,U=I.scrollHeight,T=I.clientHeight;k+T===U&&y&&r().then(function(N){var H=N.result,$=N.hasNext;m(ta(ta([],f,!0),H,!0)),w($)})}};return S.createElement("div",{className:"user-list-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},n," ",S.createElement("span",{className:"count"},t)),S.createElement("div",{className:"close",onClick:function(){return o()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"list",ref:d,onScroll:C},f.map(function(I){return S.createElement(ufe,{key:I.userId,userId:I.userId,nickname:I.nickname,profileUrl:I.profileUrl})})))}var cfe=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;Ei(cfe);var rs;(function(e){e[e.CHAT=0]="CHAT",e[e.EVENT_INFO=1]="EVENT_INFO",e[e.HOST_LIST=2]="HOST_LIST",e[e.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(rs||(rs={}));function RU(e){var n=this,t=e.liveEvent,r=e.initialViewStack,i=r===void 0?[rs.CHAT]:r,o=t.openChannel,d=Kd(),h=q3.getSdk(d),f=F.exports.useState(ta([],i,!0)),m=f[0],_=f[1],y=F.exports.useState(i[i.length-1]),w=y[0],C=y[1],I=function(U){_(ta(ta([],m,!0),[U],!1))},k=function(){m.length>1&&_(m.slice(0,-1))};return F.exports.useEffect(function(){t.openChannel,_(ta([],i,!0))},[t]),F.exports.useEffect(function(){C(m[m.length-1])},[m]),S.createElement("div",{className:"sendbirdlive-right__wrapper"},w===rs.CHAT?S.createElement(hhe,{channelUrl:t.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var U;((U=t.host)===null||U===void 0?void 0:U.userId)===(h==null?void 0:h.currentUser.userId)?I(rs.EVENT_INFO):I(rs.PARTICIPANT_LIST)}}):null,w===rs.EVENT_INFO?S.createElement(ofe,{liveEvent:t,onHostsClick:function(){return I(rs.HOST_LIST)},onParticipantsClick:function(){return I(rs.PARTICIPANT_LIST)},onClose:function(){return k()}}):null,w===rs.HOST_LIST?S.createElement(EA,{title:"Hosts",count:o.operators.length,query:function(){return Mi(n,void 0,void 0,function(){return Di(this,function(U){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return k()}}):null,w===rs.PARTICIPANT_LIST?S.createElement(EA,{title:"Participants",count:o.participantCount,query:function(){return Mi(n,void 0,void 0,function(){var U,T,N,H;return Di(this,function($){switch($.label){case 0:return U=o.createParticipantListQuery({}),U?[4,U.next()]:[3,2];case 1:return N=$.sent(),[3,3];case 2:N=[],$.label=3;case 3:return T=N,H=U==null?void 0:U.hasNext,[2,{result:T,hasNext:H}]}})})},onClose:function(){return k()}}):null)}var dfe=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;Ei(dfe);function hfe(e){var n=e.liveEvent,t=e.onClose;return S.createElement("div",{className:"settings"},S.createElement("div",{className:"close",onClick:function(){return t()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},"Settings"),S.createElement("div",{className:"settings__select-container"},S.createElement("div",{className:"settings__select-label"},"Camera"),S.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Zt.exports.SendbirdLive.getAvailableVideoInputDevices().find(function(d){return d.deviceId===i});o&&n.selectVideoInput(o)}},Zt.exports.SendbirdLive.getAvailableVideoInputDevices().map(function(r){return S.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))),S.createElement("div",{className:"settings__select-container"},S.createElement("div",{className:"settings__select-label"},"Microphone"),S.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(r){var i=r.target.value,o=Zt.exports.SendbirdLive.getAvailableAudioInputDevices().find(function(d){return d.deviceId===i});o&&n.selectAudioInput(o)}},Zt.exports.SendbirdLive.getAvailableAudioInputDevices().map(function(r){return S.createElement("option",{key:r.deviceId,value:r.deviceId},r.label)}))))}function pfe(e){var n=this,t=e.liveEvent;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount,e.eventEndViewDisplayTime,e.allowExitWithoutEnding,e.showEventSummaryView;var r=e.onClose,i=F.exports.useContext(js).stringSet,o=F.exports.useRef(null),d=F.exports.useState(t.title),h=d[0],f=d[1],m=F.exports.useState(t.coverUrl),_=m[0],y=m[1],w=F.exports.useState(t.state),C=w[0],I=w[1],k=F.exports.useState(t.participantCount||0),U=k[0],T=k[1],N=Uu("","dark-background"),H=N[0],$=N[1],Q=N[2],P=Uu(""),W=P[0],K=P[1],he=P[2],le=function(Ce){switch(Ce){case"created":return i.EVENT_STATUS_CREATED;case"ready":return i.EVENT_STATUS_READY;case"ongoing":return i.EVENT_STATUS_ONGOING;case"ended":return i.EVENT_STATUS_ENDED}};F.exports.useEffect(function(){var Ce=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(re){switch(re.label){case 0:return t.state!==Zt.exports.LiveEventState.CREATED?[3,2]:[4,t.setEventReady()];case 1:re.sent(),re.label=2;case 2:return t.state===Zt.exports.LiveEventState.ONGOING&&!t.isHostStreaming?[4,t.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:re.sent(),t.setVideoViewForLiveEvent(o.current,t.host.hostId),re.label=4;case 4:return o.current.autoplay=!0,o.current.muted=!0,[2]}})})};Ce()},[t]),F.exports.useEffect(function(){var Ce=[t.on("participantEntered",function(re,pe){T(t.participantCount)}),t.on("participantExited",function(){T(t.participantCount)}),t.on("liveEventUpdated",function(){f(t.title),y(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){Ce.map(function(re){return re()})}},[t]);function Se(Ce){var re=Math.floor(Ce/1e3),pe=Math.floor(re/60);return pe=pe%60,"".concat(pe<0?0:pe)}return S.createElement("div",{className:"host-view"},S.createElement("div",{className:"host-view__main"},S.createElement("div",{className:"video-wrapper"},S.createElement("video",{className:"host-view__video",ref:o})),S.createElement("div",{className:"host-view__info"},S.createElement("div",{className:"host-view__profile"},t.coverUrl?S.createElement("img",{src:_,alt:"cover image",className:"host-view__profile__cover-image"}):S.createElement(Xd,{viewBox:"-4 -4 20 20",width:56,height:56})),S.createElement("div",{className:"host-view__info__wrapper"},S.createElement("div",{className:"host-view__title__wrapper"},S.createElement("div",{className:"event-state--".concat(C)},le(C)),S.createElement("div",{className:"host-view__title"},h||i.CREATE_EVENT_DEFAULT_TITLE)),S.createElement("div",{className:"host-view__detail"},U!=null?U:0," watching now ",C===Zt.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Se(t.duration)," mins ago"):""),S.createElement("div",{className:"host-view__host-name"},t.host?t.host.nickname:"No Host"))),S.createElement(zhe,{liveEvent:t,onStart:function(Ce){Ce.setVideoViewForLiveEvent(o.current,Ce.host.hostId),I(C)},onEnd:function(){$()},onSettings:function(){K()}}),S.createElement(H,null,S.createElement(Khe,{onExit:function(Ce){return Mi(n,void 0,void 0,function(){return Di(this,function(re){switch(re.label){case 0:return Ce?[4,t.endEvent()]:[3,2];case 1:return re.sent(),[3,4];case 2:return[4,t.exitAsHost()];case 3:re.sent(),re.label=4;case 4:return Q(),r(t),[2]}})})},onClose:function(){Q()}})),S.createElement(W,null,S.createElement(hfe,{liveEvent:t,onClose:function(){he()}}))),S.createElement(RU,{liveEvent:t}))}var ffe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;Ei(ffe);var vfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;Ei(vfe);var mfe=function(e){var n=e.message;return S.createElement("div",{className:"toast-container"},n&&S.createElement("div",{className:"toast"},n))},gfe=function(){var e=F.exports.useState(void 0),n=e[0],t=e[1],r=F.exports.useState(void 0),i=r[0],o=r[1],d=function(m,_){_===void 0&&(_=1e6),t(m);var y=setTimeout(function(){h()},_);o(y)},h=function(){clearTimeout(i),o(void 0),t(void 0)},f=function(){return S.createElement(mfe,{message:n})};return[f,d,h]},_fe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;Ei(_fe);function bfe(e){var n=e.onClose;return S.createElement("div",{className:"ended-modal"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},"Host has ended this live event."),S.createElement("div",{className:"close",onClick:n},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"major-button",onClick:n},"End live")))}function yfe(e){var n=this,t=e.liveEvent,r=e.onClose;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount;var i=e.eventEndViewDisplayTime,o=F.exports.useRef(null),d=gfe(),h=d[0],f=d[1],m=F.exports.useState(t.host),_=m[0],y=m[1],w=F.exports.useState(t.title),C=w[0],I=w[1],k=F.exports.useState(t.coverUrl),U=k[0],T=k[1],N=F.exports.useState(t.state),H=N[0],$=N[1],Q=F.exports.useState(t.participantCount||0),P=Q[0],W=Q[1],K=Uu("",""),he=K[0],le=K[1],Se=K[2],Ce=F.exports.useState(),re=Ce[0],pe=Ce[1],de=F.exports.useContext(js).stringSet,De=function(J){switch(J){case"created":return de.EVENT_STATUS_CREATED;case"ready":return de.EVENT_STATUS_READY;case"ongoing":return de.EVENT_STATUS_ONGOING;case"ended":return de.EVENT_STATUS_ENDED}},Ge=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(J){return o.current.autoplay=!0,_&&t.setVideoViewForLiveEvent(o.current,_.hostId),[2]})})},ge=function(){le();var J=setTimeout(function(){Ae()},i!=null?i:3e3);pe(J)},Ae=function(){return Mi(n,void 0,void 0,function(){return Di(this,function(J){return clearTimeout(re),pe(void 0),Se(),r(t),[2]})})};F.exports.useEffect(function(){Ge()},[_,H]),F.exports.useEffect(function(){t.state===Zt.exports.LiveEventState.CREATED&&f("Live event will begin soon.");var J=[t.on("liveEventStarted",function(){$(t.state)}),t.on("liveEventEnded",function(){$(t.state),ge()}),t.on("hostEntered",function(){f("Host Entered"),y(t.host)}),t.on("hostConnected",function(X,me){f("Host Connected"),y(X.host)}),t.on("hostDisconnected",function(){f("Host Disconnected"),y(t.host)}),t.on("hostExited",function(){f("Host Exited"),y(t.host)}),t.on("hostMutedAudio",function(){f("Host is muted"),y(t.host)}),t.on("hostUnmutedAudio",function(){f("Host is unmuted"),y(t.host)}),t.on("participantEntered",function(){W(t.participantCount)}),t.on("participantExited",function(){W(t.participantCount)}),t.on("liveEventUpdated",function(){I(t.title),T(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){J.map(function(X){return X()})}},[t]);function qe(J){var X=Math.floor(J/1e3),me=Math.floor(X/60);return me=me%60,"".concat(me<0?0:me)}return S.createElement("div",{className:"participant-view"},S.createElement("div",{className:"participant-view__main"},S.createElement(h,null),S.createElement("div",{className:"video-wrapper"},S.createElement("video",{className:"participant-view__video",ref:o})),S.createElement("div",{className:"participant-view__info"},S.createElement("div",{className:"participant-view__profile"},U?S.createElement("img",{src:U,alt:"cover image",className:"participant-view__profile__cover-image"}):S.createElement(Xd,{viewBox:"-4 -4 20 20",width:56,height:56})),S.createElement("div",{className:"participant-view__info__wrapper"},S.createElement("div",{className:"participant-view__title__wrapper"},S.createElement("div",{className:"event-state--".concat(H)},De(H)),S.createElement("div",{className:"participant-view__title"},C||de.CREATE_EVENT_DEFAULT_TITLE)),S.createElement("div",{className:"participant-view__detail"},P!=null?P:0," watching now ",H===Zt.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(qe(t.duration)," mins ago"):""),S.createElement("div",{className:"participant-view__host-name"},_?_.nickname||" ":"No Host")))),S.createElement(RU,{liveEvent:t}),S.createElement(he,null,S.createElement(bfe,{onClose:Ae})))}var Efe=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;Ei(Efe);function wfe(e){var n=this,t=e.liveEventId,r=e.onClose,i=F.exports.useContext(js).stringSet,o=function(){return Mi(n,void 0,void 0,function(){var h;return Di(this,function(f){switch(f.label){case 0:return[4,Zt.exports.SendbirdLive.getLiveEvent(t)];case 1:return h=f.sent(),[4,h.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return f.sent(),r(h,!0),[2]}})})},d=function(){return Mi(n,void 0,void 0,function(){var h;return Di(this,function(f){switch(f.label){case 0:return[4,Zt.exports.SendbirdLive.getLiveEvent(t)];case 1:return h=f.sent(),[4,h.enter()];case 2:return f.sent(),r(h,!1),[2]}})})};return S.createElement("div",{className:"enter-view"},S.createElement("div",{className:"close",onClick:function(){return r()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),S.createElement("div",{className:"enter-view__item",onClick:o},S.createElement("div",{className:"enter-view__item__icon"},S.createElement(OU,{viewBox:"0 0 64 64",width:28,height:28})),S.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),S.createElement("div",{className:"enter-view__item",onClick:d},S.createElement("div",{className:"enter-view__item__icon"},S.createElement(AU,{viewBox:"0 0 64 64",width:28,height:28})),S.createElement("div",{className:"enter-view__item__text"},i.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var Cfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;Ei(Cfe);function xfe(e){var n=e.liveEvent,t=e.onClose,r=F.exports.useContext(js).stringSet,i=F.exports.useMemo(function(){return n&&n.state===Zt.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(n),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[n]);return S.createElement("div",{className:"enter-error-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},i),S.createElement("div",{className:"close",onClick:function(){return t()}},S.createElement(Do,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"major-button",onClick:function(){return t()}},"OK")))}function Sfe(e){var n=this,t=e.userId,r=e.appId,i=e.nickname,o=e.accessToken,d=e.customApiHost,h=e.customWebSocketHost,f=e.theme,m=e.colorSet,_=e.stringSet,y=e.customize,w=F.exports.useState(!1),C=w[0],I=w[1],k=F.exports.useState(""),U=k[0],T=k[1],N=F.exports.useState(),H=N[0],$=N[1],Q=Uu(""),P=Q[0],W=Q[1],K=Q[2],he=Uu(""),le=he[0],Se=he[1],Ce=he[2],re=Uu(""),pe=re[0],de=re[1],De=re[2],Ge=kl(kl({},y==null?void 0:y.liveEventList),{onClickCreate:function(){W()},onClickElem:function(Ae){return Mi(n,void 0,void 0,function(){var qe;return Di(this,function(J){switch(J.label){case 0:return J.trys.push([0,8,,9]),[4,Zt.exports.SendbirdLive.getLiveEvent(Ae.liveEventId)];case 1:return qe=J.sent(),qe.state===Zt.exports.LiveEventState.ENDED?(de(),[2]):qe.isHost&&!qe.host?qe.state!==Zt.exports.LiveEventState.CREATED?[3,3]:[4,qe.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return J.sent(),I(!0),$(qe),[3,4];case 3:T(Ae.liveEventId),Se(),J.label=4;case 4:return[3,7];case 5:return[4,qe.enter()];case 6:J.sent(),$(qe),J.label=7;case 7:return[3,9];case 8:return J.sent(),de(),[3,9];case 9:return[2]}})})}}),ge=function(Ae){var qe=Ae.onClose;return H?C?S.createElement(pfe,{liveEvent:H,onClose:qe}):S.createElement(yfe,{liveEvent:H,onClose:qe}):S.createElement("div",{className:"sendbirdlive-app__no-event"},S.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),S.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),S.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:W},"Create"))};return S.createElement(hoe,{userId:t,appId:r,nickname:i,accessToken:o,customApiHost:d,customWebSocketHost:h,theme:f,colorSet:m,stringSet:_},S.createElement("div",{className:"sendbirdlive-app__wrapper"},S.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!C&&S.createElement(goe,kl({},Ge))),S.createElement(pe,null,S.createElement(xfe,{liveEvent:H,onClose:De})),S.createElement(le,null,S.createElement(wfe,{liveEventId:U,onClose:function(Ae,qe){$(Ae),Ae&&qe&&I(!0),Ce()}})),S.createElement(P,null,S.createElement(Phe,{onClose:function(Ae){$(Ae),Ae!=null&&Ae.isHost&&I(!0),K()}})),S.createElement(ge,{onClose:function(){I(!1),$(void 0)}})))}function Ife(){const[e,n]=F.exports.useState(""),[t,r]=F.exports.useState(""),[i,o]=F.exports.useState(""),[d,h]=F.exports.useState(!1),f=new URLSearchParams(Eee().search);return F.exports.useEffect(()=>{let m={};const _=f.get("q");if(_)try{m=JSON.parse(atob(_)),m.app_id&&n(m.app_id),m.user_id&&r(m.user_id),m.access_token&&o(m.access_token),h(!0)}catch{console.error("incorrect auth query")}},[]),ma("div",{className:"App",children:d?ma(Sfe,{appId:e,userId:t,nickname:t,accessToken:i||null}):ZN("div",{className:"login-panel",children:[ma("img",{src:"./logo.png",className:"logo"}),ZN("div",{className:"login-form",children:[ma("div",{className:"section",children:"Application ID"}),ma("input",{type:"text",className:"input",placeholder:"Application ID",value:e,onChange:m=>n(m.target.value)}),ma("div",{className:"section",children:"User ID"}),ma("input",{type:"text",className:"input",placeholder:"User ID",value:t,onChange:m=>r(m.target.value)}),ma("div",{className:"section",children:"Access token (optional)"}),ma("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:i,onChange:m=>o(m.target.value)}),ma("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>h(!0)})]}),ma("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}N1.createRoot(document.getElementById("root")).render(ma(S.StrictMode,{children:ma(Ife,{})}));
