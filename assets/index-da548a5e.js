(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Gre(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jD={exports:{}},u1={},KD={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=Symbol.for("react.element"),jre=Symbol.for("react.portal"),Kre=Symbol.for("react.fragment"),Wre=Symbol.for("react.strict_mode"),Qre=Symbol.for("react.profiler"),Yre=Symbol.for("react.provider"),Xre=Symbol.for("react.context"),Zre=Symbol.for("react.forward_ref"),Jre=Symbol.for("react.suspense"),eie=Symbol.for("react.memo"),nie=Symbol.for("react.lazy"),CO=Symbol.iterator;function tie(n){return n===null||typeof n!="object"?null:(n=CO&&n[CO]||n["@@iterator"],typeof n=="function"?n:null)}var WD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QD=Object.assign,YD={};function X0(n,t,e){this.props=n,this.context=t,this.refs=YD,this.updater=e||WD}X0.prototype.isReactComponent={};X0.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};X0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function XD(){}XD.prototype=X0.prototype;function hS(n,t,e){this.props=n,this.context=t,this.refs=YD,this.updater=e||WD}var pS=hS.prototype=new XD;pS.constructor=hS;QD(pS,X0.prototype);pS.isPureReactComponent=!0;var NO=Array.isArray,ZD=Object.prototype.hasOwnProperty,fS={current:null},JD={key:!0,ref:!0,__self:!0,__source:!0};function eL(n,t,e){var r,a={},l=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(l=""+t.key),t)ZD.call(t,r)&&!JD.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(h===1)a.children=e;else if(1<h){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];a.children=f}if(n&&n.defaultProps)for(r in h=n.defaultProps,h)a[r]===void 0&&(a[r]=h[r]);return{$$typeof:Z_,type:n,key:l,ref:u,props:a,_owner:fS.current}}function rie(n,t){return{$$typeof:Z_,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function _S(n){return typeof n=="object"&&n!==null&&n.$$typeof===Z_}function iie(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var IO=/\/+/g;function B3(n,t){return typeof n=="object"&&n!==null&&n.key!=null?iie(""+n.key):t.toString(36)}function $g(n,t,e,r,a){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var u=!1;if(n===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case Z_:case jre:u=!0}}if(u)return u=n,a=a(u),n=r===""?"."+B3(u,0):r,NO(a)?(e="",n!=null&&(e=n.replace(IO,"$&/")+"/"),$g(a,t,e,"",function(m){return m})):a!=null&&(_S(a)&&(a=rie(a,e+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(IO,"$&/")+"/")+n)),t.push(a)),1;if(u=0,r=r===""?".":r+":",NO(n))for(var h=0;h<n.length;h++){l=n[h];var f=r+B3(l,h);u+=$g(l,t,e,f,a)}else if(f=tie(n),typeof f=="function")for(n=f.call(n),h=0;!(l=n.next()).done;)l=l.value,f=r+B3(l,h++),u+=$g(l,t,e,f,a);else if(l==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function eg(n,t,e){if(n==null)return n;var r=[],a=0;return $g(n,r,"","",function(l){return t.call(e,l,a++)}),r}function aie(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Za={current:null},qg={transition:null},sie={ReactCurrentDispatcher:Za,ReactCurrentBatchConfig:qg,ReactCurrentOwner:fS};sr.Children={map:eg,forEach:function(n,t,e){eg(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return eg(n,function(){t++}),t},toArray:function(n){return eg(n,function(t){return t})||[]},only:function(n){if(!_S(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};sr.Component=X0;sr.Fragment=Kre;sr.Profiler=Qre;sr.PureComponent=hS;sr.StrictMode=Wre;sr.Suspense=Jre;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sie;sr.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=QD({},n.props),a=n.key,l=n.ref,u=n._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,u=fS.current),t.key!==void 0&&(a=""+t.key),n.type&&n.type.defaultProps)var h=n.type.defaultProps;for(f in t)ZD.call(t,f)&&!JD.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=e;else if(1<f){h=Array(f);for(var m=0;m<f;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:Z_,type:n.type,key:a,ref:l,props:r,_owner:u}};sr.createContext=function(n){return n={$$typeof:Xre,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Yre,_context:n},n.Consumer=n};sr.createElement=eL;sr.createFactory=function(n){var t=eL.bind(null,n);return t.type=n,t};sr.createRef=function(){return{current:null}};sr.forwardRef=function(n){return{$$typeof:Zre,render:n}};sr.isValidElement=_S;sr.lazy=function(n){return{$$typeof:nie,_payload:{_status:-1,_result:n},_init:aie}};sr.memo=function(n,t){return{$$typeof:eie,type:n,compare:t===void 0?null:t}};sr.startTransition=function(n){var t=qg.transition;qg.transition={};try{n()}finally{qg.transition=t}};sr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sr.useCallback=function(n,t){return Za.current.useCallback(n,t)};sr.useContext=function(n){return Za.current.useContext(n)};sr.useDebugValue=function(){};sr.useDeferredValue=function(n){return Za.current.useDeferredValue(n)};sr.useEffect=function(n,t){return Za.current.useEffect(n,t)};sr.useId=function(){return Za.current.useId()};sr.useImperativeHandle=function(n,t,e){return Za.current.useImperativeHandle(n,t,e)};sr.useInsertionEffect=function(n,t){return Za.current.useInsertionEffect(n,t)};sr.useLayoutEffect=function(n,t){return Za.current.useLayoutEffect(n,t)};sr.useMemo=function(n,t){return Za.current.useMemo(n,t)};sr.useReducer=function(n,t,e){return Za.current.useReducer(n,t,e)};sr.useRef=function(n){return Za.current.useRef(n)};sr.useState=function(n){return Za.current.useState(n)};sr.useSyncExternalStore=function(n,t,e){return Za.current.useSyncExternalStore(n,t,e)};sr.useTransition=function(){return Za.current.useTransition()};sr.version="18.2.0";KD.exports=sr;var Q=KD.exports;const M=Gre(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oie=Q,lie=Symbol.for("react.element"),cie=Symbol.for("react.fragment"),uie=Object.prototype.hasOwnProperty,die=oie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hie={key:!0,ref:!0,__self:!0,__source:!0};function nL(n,t,e){var r,a={},l=null,u=null;e!==void 0&&(l=""+e),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)uie.call(t,r)&&!hie.hasOwnProperty(r)&&(a[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:lie,type:n,key:l,ref:u,props:a,_owner:die.current}}u1.Fragment=cie;u1.jsx=nL;u1.jsxs=nL;jD.exports=u1;var qa=jD.exports,cx={},tL={exports:{}},Bs={},rL={exports:{}},iL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(oe,le){var ve=oe.length;oe.push(le);e:for(;0<ve;){var De=ve-1>>>1,pe=oe[De];if(0<a(pe,le))oe[De]=le,oe[ve]=pe,ve=De;else break e}}function e(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var le=oe[0],ve=oe.pop();if(ve!==le){oe[0]=ve;e:for(var De=0,pe=oe.length,he=pe>>>1;De<he;){var G=2*(De+1)-1,ee=oe[G],$=G+1,ie=oe[$];if(0>a(ee,ve))$<pe&&0>a(ie,ee)?(oe[De]=ie,oe[$]=ve,De=$):(oe[De]=ee,oe[G]=ve,De=G);else if($<pe&&0>a(ie,ve))oe[De]=ie,oe[$]=ve,De=$;else break e}}return le}function a(oe,le){var ve=oe.sortIndex-le.sortIndex;return ve!==0?ve:oe.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,x=null,E=3,w=!1,T=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(oe){for(var le=e(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=oe)r(m),le.sortIndex=le.expirationTime,t(f,le);else break;le=e(m)}}function D(oe){if(A=!1,I(oe),!T)if(e(f)!==null)T=!0,W(U);else{var le=e(m);le!==null&&_e(D,le.startTime-oe)}}function U(oe,le){T=!1,A&&(A=!1,C(L),L=-1),w=!0;var ve=E;try{for(I(le),x=e(f);x!==null&&(!(x.expirationTime>le)||oe&&!ae());){var De=x.callback;if(typeof De=="function"){x.callback=null,E=x.priorityLevel;var pe=De(x.expirationTime<=le);le=n.unstable_now(),typeof pe=="function"?x.callback=pe:x===e(f)&&r(f),I(le)}else r(f);x=e(f)}if(x!==null)var he=!0;else{var G=e(m);G!==null&&_e(D,G.startTime-le),he=!1}return he}finally{x=null,E=ve,w=!1}}var O=!1,N=null,L=-1,K=5,z=-1;function ae(){return!(n.unstable_now()-z<K)}function fe(){if(N!==null){var oe=n.unstable_now();z=oe;var le=!0;try{le=N(!0,oe)}finally{le?B():(O=!1,N=null)}}else O=!1}var B;if(typeof k=="function")B=function(){k(fe)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ce=J.port2;J.port1.onmessage=fe,B=function(){ce.postMessage(null)}}else B=function(){P(fe,0)};function W(oe){N=oe,O||(O=!0,B())}function _e(oe,le){L=P(function(){oe(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,W(U))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ve=E;E=le;try{return oe()}finally{E=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,le){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ve=E;E=oe;try{return le()}finally{E=ve}},n.unstable_scheduleCallback=function(oe,le,ve){var De=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?De+ve:De):ve=De,oe){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ve+pe,oe={id:g++,callback:le,priorityLevel:oe,startTime:ve,expirationTime:pe,sortIndex:-1},ve>De?(oe.sortIndex=ve,t(m,oe),e(f)===null&&oe===e(m)&&(A?(C(L),L=-1):A=!0,_e(D,ve-De))):(oe.sortIndex=pe,t(f,oe),T||w||(T=!0,W(U))),oe},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(oe){var le=E;return function(){var ve=E;E=le;try{return oe.apply(this,arguments)}finally{E=ve}}}})(iL);rL.exports=iL;var pie=rL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL=Q,Fs=pie;function Ln(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sL=new Set,w_={};function ah(n,t){L0(n,t),L0(n+"Capture",t)}function L0(n,t){for(w_[n]=t,n=0;n<t.length;n++)sL.add(t[n])}var vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ux=Object.prototype.hasOwnProperty,fie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AO={},OO={};function _ie(n){return ux.call(OO,n)?!0:ux.call(AO,n)?!1:fie.test(n)?OO[n]=!0:(AO[n]=!0,!1)}function mie(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vie(n,t,e,r){if(t===null||typeof t>"u"||mie(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ja(n,t,e,r,a,l,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ma[n]=new Ja(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ma[t]=new Ja(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ma[n]=new Ja(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ma[n]=new Ja(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ma[n]=new Ja(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ma[n]=new Ja(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ma[n]=new Ja(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ma[n]=new Ja(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ma[n]=new Ja(n,5,!1,n.toLowerCase(),null,!1,!1)});var mS=/[\-:]([a-z])/g;function vS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(mS,vS);ma[t]=new Ja(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(mS,vS);ma[t]=new Ja(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(mS,vS);ma[t]=new Ja(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ma[n]=new Ja(n,1,!1,n.toLowerCase(),null,!1,!1)});ma.xlinkHref=new Ja("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ma[n]=new Ja(n,1,!1,n.toLowerCase(),null,!0,!0)});function gS(n,t,e,r){var a=ma.hasOwnProperty(t)?ma[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vie(t,e,a,r)&&(e=null),r||a===null?_ie(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):a.mustUseProperty?n[a.propertyName]=e===null?a.type===3?!1:"":e:(t=a.attributeName,r=a.attributeNamespace,e===null?n.removeAttribute(t):(a=a.type,e=a===3||a===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var wc=aL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ng=Symbol.for("react.element"),u0=Symbol.for("react.portal"),d0=Symbol.for("react.fragment"),bS=Symbol.for("react.strict_mode"),dx=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),lL=Symbol.for("react.context"),yS=Symbol.for("react.forward_ref"),hx=Symbol.for("react.suspense"),px=Symbol.for("react.suspense_list"),ES=Symbol.for("react.memo"),nu=Symbol.for("react.lazy"),cL=Symbol.for("react.offscreen"),RO=Symbol.iterator;function pf(n){return n===null||typeof n!="object"?null:(n=RO&&n[RO]||n["@@iterator"],typeof n=="function"?n:null)}var di=Object.assign,V3;function Mf(n){if(V3===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V3=t&&t[1]||""}return`
`+V3+n}var z3=!1;function $3(n,t){if(!n||z3)return"";z3=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(n,[],t)}else{try{t.call()}catch(m){r=m}n.call(t.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=r.stack.split(`
`),u=a.length-1,h=l.length-1;1<=u&&0<=h&&a[u]!==l[h];)h--;for(;1<=u&&0<=h;u--,h--)if(a[u]!==l[h]){if(u!==1||h!==1)do if(u--,h--,0>h||a[u]!==l[h]){var f=`
`+a[u].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=u&&0<=h);break}}}finally{z3=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Mf(n):""}function gie(n){switch(n.tag){case 5:return Mf(n.type);case 16:return Mf("Lazy");case 13:return Mf("Suspense");case 19:return Mf("SuspenseList");case 0:case 2:case 15:return n=$3(n.type,!1),n;case 11:return n=$3(n.type.render,!1),n;case 1:return n=$3(n.type,!0),n;default:return""}}function fx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case d0:return"Fragment";case u0:return"Portal";case dx:return"Profiler";case bS:return"StrictMode";case hx:return"Suspense";case px:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case lL:return(n.displayName||"Context")+".Consumer";case oL:return(n._context.displayName||"Context")+".Provider";case yS:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ES:return t=n.displayName||null,t!==null?t:fx(n.type)||"Memo";case nu:t=n._payload,n=n._init;try{return fx(n(t))}catch{}}return null}function bie(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fx(t);case 8:return t===bS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function uL(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yie(n){var t=uL(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var a=e.get,l=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){r=""+u,l.call(this,u)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function tg(n){n._valueTracker||(n._valueTracker=yie(n))}function dL(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=uL(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function vb(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _x(n,t){var e=t.checked;return di({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function MO(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Cu(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hL(n,t){t=t.checked,t!=null&&gS(n,"checked",t,!1)}function mx(n,t){hL(n,t);var e=Cu(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?vx(n,t.type,e):t.hasOwnProperty("defaultValue")&&vx(n,t.type,Cu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function DO(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function vx(n,t,e){(t!=="number"||vb(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Df=Array.isArray;function C0(n,t,e,r){if(n=n.options,t){t={};for(var a=0;a<e.length;a++)t["$"+e[a]]=!0;for(e=0;e<n.length;e++)a=t.hasOwnProperty("$"+n[e].value),n[e].selected!==a&&(n[e].selected=a),a&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Cu(e),t=null,a=0;a<n.length;a++){if(n[a].value===e){n[a].selected=!0,r&&(n[a].defaultSelected=!0);return}t!==null||n[a].disabled||(t=n[a])}t!==null&&(t.selected=!0)}}function gx(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ln(91));return di({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function LO(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Ln(92));if(Df(e)){if(1<e.length)throw Error(Ln(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Cu(e)}}function pL(n,t){var e=Cu(t.value),r=Cu(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function UO(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function fL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bx(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?fL(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rg,_L=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,a){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,a)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(rg=rg||document.createElement("div"),rg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function x_(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Gf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eie=["Webkit","ms","Moz","O"];Object.keys(Gf).forEach(function(n){Eie.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Gf[t]=Gf[n]})});function mL(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Gf.hasOwnProperty(n)&&Gf[n]?(""+t).trim():t+"px"}function vL(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,a=mL(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,a):n[e]=a}}var wie=di({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yx(n,t){if(t){if(wie[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ln(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ln(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ln(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ln(62))}}function Ex(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=null;function wS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xx=null,N0=null,I0=null;function PO(n){if(n=nm(n)){if(typeof xx!="function")throw Error(Ln(280));var t=n.stateNode;t&&(t=_1(t),xx(n.stateNode,n.type,t))}}function gL(n){N0?I0?I0.push(n):I0=[n]:N0=n}function bL(){if(N0){var n=N0,t=I0;if(I0=N0=null,PO(n),t)for(n=0;n<t.length;n++)PO(t[n])}}function yL(n,t){return n(t)}function EL(){}var q3=!1;function wL(n,t,e){if(q3)return n(t,e);q3=!0;try{return yL(n,t,e)}finally{q3=!1,(N0!==null||I0!==null)&&(EL(),bL())}}function S_(n,t){var e=n.stateNode;if(e===null)return null;var r=_1(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Ln(231,t,typeof e));return e}var Sx=!1;if(vc)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{Sx=!1}function xie(n,t,e,r,a,l,u,h,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(e,m)}catch(g){this.onError(g)}}var jf=!1,gb=null,bb=!1,Tx=null,Sie={onError:function(n){jf=!0,gb=n}};function Tie(n,t,e,r,a,l,u,h,f){jf=!1,gb=null,xie.apply(Sie,arguments)}function kie(n,t,e,r,a,l,u,h,f){if(Tie.apply(this,arguments),jf){if(jf){var m=gb;jf=!1,gb=null}else throw Error(Ln(198));bb||(bb=!0,Tx=m)}}function sh(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function xL(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function FO(n){if(sh(n)!==n)throw Error(Ln(188))}function Cie(n){var t=n.alternate;if(!t){if(t=sh(n),t===null)throw Error(Ln(188));return t!==n?null:n}for(var e=n,r=t;;){var a=e.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){e=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===e)return FO(a),n;if(l===r)return FO(a),t;l=l.sibling}throw Error(Ln(188))}if(e.return!==r.return)e=a,r=l;else{for(var u=!1,h=a.child;h;){if(h===e){u=!0,e=a,r=l;break}if(h===r){u=!0,r=a,e=l;break}h=h.sibling}if(!u){for(h=l.child;h;){if(h===e){u=!0,e=l,r=a;break}if(h===r){u=!0,r=l,e=a;break}h=h.sibling}if(!u)throw Error(Ln(189))}}if(e.alternate!==r)throw Error(Ln(190))}if(e.tag!==3)throw Error(Ln(188));return e.stateNode.current===e?n:t}function SL(n){return n=Cie(n),n!==null?TL(n):null}function TL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=TL(n);if(t!==null)return t;n=n.sibling}return null}var kL=Fs.unstable_scheduleCallback,HO=Fs.unstable_cancelCallback,Nie=Fs.unstable_shouldYield,Iie=Fs.unstable_requestPaint,Ti=Fs.unstable_now,Aie=Fs.unstable_getCurrentPriorityLevel,xS=Fs.unstable_ImmediatePriority,CL=Fs.unstable_UserBlockingPriority,yb=Fs.unstable_NormalPriority,Oie=Fs.unstable_LowPriority,NL=Fs.unstable_IdlePriority,d1=null,wl=null;function Rie(n){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(d1,n,void 0,(n.current.flags&128)===128)}catch{}}var Vo=Math.clz32?Math.clz32:Lie,Mie=Math.log,Die=Math.LN2;function Lie(n){return n>>>=0,n===0?32:31-(Mie(n)/Die|0)|0}var ig=64,ag=4194304;function Lf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Eb(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,a=n.suspendedLanes,l=n.pingedLanes,u=e&268435455;if(u!==0){var h=u&~a;h!==0?r=Lf(h):(l&=u,l!==0&&(r=Lf(l)))}else u=e&~a,u!==0?r=Lf(u):l!==0&&(r=Lf(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Vo(t),a=1<<e,r|=n[e],t&=~a;return r}function Uie(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pie(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,a=n.expirationTimes,l=n.pendingLanes;0<l;){var u=31-Vo(l),h=1<<u,f=a[u];f===-1?(!(h&e)||h&r)&&(a[u]=Uie(h,t)):f<=t&&(n.expiredLanes|=h),l&=~h}}function kx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function IL(){var n=ig;return ig<<=1,!(ig&4194240)&&(ig=64),n}function G3(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function J_(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Vo(t),n[t]=e}function Fie(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var a=31-Vo(e),l=1<<a;t[a]=0,r[a]=-1,n[a]=-1,e&=~l}}function SS(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Vo(e),a=1<<r;a&t|n[r]&t&&(n[r]|=t),e&=~a}}var Mr=0;function AL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var OL,TS,RL,ML,DL,Cx=!1,sg=[],hu=null,pu=null,fu=null,T_=new Map,k_=new Map,ru=[],Hie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BO(n,t){switch(n){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":T_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":k_.delete(t.pointerId)}}function _f(n,t,e,r,a,l){return n===null||n.nativeEvent!==l?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=nm(t),t!==null&&TS(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),n)}function Bie(n,t,e,r,a){switch(t){case"focusin":return hu=_f(hu,n,t,e,r,a),!0;case"dragenter":return pu=_f(pu,n,t,e,r,a),!0;case"mouseover":return fu=_f(fu,n,t,e,r,a),!0;case"pointerover":var l=a.pointerId;return T_.set(l,_f(T_.get(l)||null,n,t,e,r,a)),!0;case"gotpointercapture":return l=a.pointerId,k_.set(l,_f(k_.get(l)||null,n,t,e,r,a)),!0}return!1}function LL(n){var t=Rd(n.target);if(t!==null){var e=sh(t);if(e!==null){if(t=e.tag,t===13){if(t=xL(e),t!==null){n.blockedOn=t,DL(n.priority,function(){RL(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gg(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Nx(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);wx=r,e.target.dispatchEvent(r),wx=null}else return t=nm(e),t!==null&&TS(t),n.blockedOn=e,!1;t.shift()}return!0}function VO(n,t,e){Gg(n)&&e.delete(t)}function Vie(){Cx=!1,hu!==null&&Gg(hu)&&(hu=null),pu!==null&&Gg(pu)&&(pu=null),fu!==null&&Gg(fu)&&(fu=null),T_.forEach(VO),k_.forEach(VO)}function mf(n,t){n.blockedOn===t&&(n.blockedOn=null,Cx||(Cx=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,Vie)))}function C_(n){function t(a){return mf(a,n)}if(0<sg.length){mf(sg[0],n);for(var e=1;e<sg.length;e++){var r=sg[e];r.blockedOn===n&&(r.blockedOn=null)}}for(hu!==null&&mf(hu,n),pu!==null&&mf(pu,n),fu!==null&&mf(fu,n),T_.forEach(t),k_.forEach(t),e=0;e<ru.length;e++)r=ru[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ru.length&&(e=ru[0],e.blockedOn===null);)LL(e),e.blockedOn===null&&ru.shift()}var A0=wc.ReactCurrentBatchConfig,wb=!0;function zie(n,t,e,r){var a=Mr,l=A0.transition;A0.transition=null;try{Mr=1,kS(n,t,e,r)}finally{Mr=a,A0.transition=l}}function $ie(n,t,e,r){var a=Mr,l=A0.transition;A0.transition=null;try{Mr=4,kS(n,t,e,r)}finally{Mr=a,A0.transition=l}}function kS(n,t,e,r){if(wb){var a=Nx(n,t,e,r);if(a===null)nw(n,t,r,xb,e),BO(n,r);else if(Bie(a,n,t,e,r))r.stopPropagation();else if(BO(n,r),t&4&&-1<Hie.indexOf(n)){for(;a!==null;){var l=nm(a);if(l!==null&&OL(l),l=Nx(n,t,e,r),l===null&&nw(n,t,r,xb,e),l===a)break;a=l}a!==null&&r.stopPropagation()}else nw(n,t,r,null,e)}}var xb=null;function Nx(n,t,e,r){if(xb=null,n=wS(r),n=Rd(n),n!==null)if(t=sh(n),t===null)n=null;else if(e=t.tag,e===13){if(n=xL(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return xb=n,null}function UL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aie()){case xS:return 1;case CL:return 4;case yb:case Oie:return 16;case NL:return 536870912;default:return 16}default:return 16}}var su=null,CS=null,jg=null;function PL(){if(jg)return jg;var n,t=CS,e=t.length,r,a="value"in su?su.value:su.textContent,l=a.length;for(n=0;n<e&&t[n]===a[n];n++);var u=e-n;for(r=1;r<=u&&t[e-r]===a[l-r];r++);return jg=a.slice(n,1<r?1-r:void 0)}function Kg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function og(){return!0}function zO(){return!1}function Vs(n){function t(e,r,a,l,u){this._reactName=e,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var h in n)n.hasOwnProperty(h)&&(e=n[h],this[h]=e?e(l):l[h]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?og:zO,this.isPropagationStopped=zO,this}return di(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),t}var Z0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NS=Vs(Z0),em=di({},Z0,{view:0,detail:0}),qie=Vs(em),j3,K3,vf,h1=di({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vf&&(vf&&n.type==="mousemove"?(j3=n.screenX-vf.screenX,K3=n.screenY-vf.screenY):K3=j3=0,vf=n),j3)},movementY:function(n){return"movementY"in n?n.movementY:K3}}),$O=Vs(h1),Gie=di({},h1,{dataTransfer:0}),jie=Vs(Gie),Kie=di({},em,{relatedTarget:0}),W3=Vs(Kie),Wie=di({},Z0,{animationName:0,elapsedTime:0,pseudoElement:0}),Qie=Vs(Wie),Yie=di({},Z0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xie=Vs(Yie),Zie=di({},Z0,{data:0}),qO=Vs(Zie),Jie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tae(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=nae[n])?!!t[n]:!1}function IS(){return tae}var rae=di({},em,{key:function(n){if(n.key){var t=Jie[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Kg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eae[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IS,charCode:function(n){return n.type==="keypress"?Kg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iae=Vs(rae),aae=di({},h1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GO=Vs(aae),sae=di({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IS}),oae=Vs(sae),lae=di({},Z0,{propertyName:0,elapsedTime:0,pseudoElement:0}),cae=Vs(lae),uae=di({},h1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dae=Vs(uae),hae=[9,13,27,32],AS=vc&&"CompositionEvent"in window,Kf=null;vc&&"documentMode"in document&&(Kf=document.documentMode);var pae=vc&&"TextEvent"in window&&!Kf,FL=vc&&(!AS||Kf&&8<Kf&&11>=Kf),jO=String.fromCharCode(32),KO=!1;function HL(n,t){switch(n){case"keyup":return hae.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var h0=!1;function fae(n,t){switch(n){case"compositionend":return BL(t);case"keypress":return t.which!==32?null:(KO=!0,jO);case"textInput":return n=t.data,n===jO&&KO?null:n;default:return null}}function _ae(n,t){if(h0)return n==="compositionend"||!AS&&HL(n,t)?(n=PL(),jg=CS=su=null,h0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FL&&t.locale!=="ko"?null:t.data;default:return null}}var mae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WO(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!mae[n.type]:t==="textarea"}function VL(n,t,e,r){gL(r),t=Sb(t,"onChange"),0<t.length&&(e=new NS("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var Wf=null,N_=null;function vae(n){ZL(n,0)}function p1(n){var t=_0(n);if(dL(t))return n}function gae(n,t){if(n==="change")return t}var zL=!1;if(vc){var Q3;if(vc){var Y3="oninput"in document;if(!Y3){var QO=document.createElement("div");QO.setAttribute("oninput","return;"),Y3=typeof QO.oninput=="function"}Q3=Y3}else Q3=!1;zL=Q3&&(!document.documentMode||9<document.documentMode)}function YO(){Wf&&(Wf.detachEvent("onpropertychange",$L),N_=Wf=null)}function $L(n){if(n.propertyName==="value"&&p1(N_)){var t=[];VL(t,N_,n,wS(n)),wL(vae,t)}}function bae(n,t,e){n==="focusin"?(YO(),Wf=t,N_=e,Wf.attachEvent("onpropertychange",$L)):n==="focusout"&&YO()}function yae(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return p1(N_)}function Eae(n,t){if(n==="click")return p1(t)}function wae(n,t){if(n==="input"||n==="change")return p1(t)}function xae(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var $o=typeof Object.is=="function"?Object.is:xae;function I_(n,t){if($o(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var a=e[r];if(!ux.call(t,a)||!$o(n[a],t[a]))return!1}return!0}function XO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZO(n,t){var e=XO(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=XO(e)}}function qL(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?qL(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function GL(){for(var n=window,t=vb();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=vb(n.document)}return t}function OS(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Sae(n){var t=GL(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&qL(e.ownerDocument.documentElement,e)){if(r!==null&&OS(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var a=e.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!n.extend&&l>r&&(a=r,r=l,l=a),a=ZO(e,l);var u=ZO(e,r);a&&u&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==u.node||n.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),n.removeAllRanges(),l>r?(n.addRange(t),n.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Tae=vc&&"documentMode"in document&&11>=document.documentMode,p0=null,Ix=null,Qf=null,Ax=!1;function JO(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Ax||p0==null||p0!==vb(r)||(r=p0,"selectionStart"in r&&OS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qf&&I_(Qf,r)||(Qf=r,r=Sb(Ix,"onSelect"),0<r.length&&(t=new NS("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=p0)))}function lg(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var f0={animationend:lg("Animation","AnimationEnd"),animationiteration:lg("Animation","AnimationIteration"),animationstart:lg("Animation","AnimationStart"),transitionend:lg("Transition","TransitionEnd")},X3={},jL={};vc&&(jL=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function f1(n){if(X3[n])return X3[n];if(!f0[n])return n;var t=f0[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in jL)return X3[n]=t[e];return n}var KL=f1("animationend"),WL=f1("animationiteration"),QL=f1("animationstart"),YL=f1("transitionend"),XL=new Map,e8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mu(n,t){XL.set(n,t),ah(t,[n])}for(var Z3=0;Z3<e8.length;Z3++){var J3=e8[Z3],kae=J3.toLowerCase(),Cae=J3[0].toUpperCase()+J3.slice(1);Mu(kae,"on"+Cae)}Mu(KL,"onAnimationEnd");Mu(WL,"onAnimationIteration");Mu(QL,"onAnimationStart");Mu("dblclick","onDoubleClick");Mu("focusin","onFocus");Mu("focusout","onBlur");Mu(YL,"onTransitionEnd");L0("onMouseEnter",["mouseout","mouseover"]);L0("onMouseLeave",["mouseout","mouseover"]);L0("onPointerEnter",["pointerout","pointerover"]);L0("onPointerLeave",["pointerout","pointerover"]);ah("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ah("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ah("onBeforeInput",["compositionend","keypress","textInput","paste"]);ah("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function n8(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,kie(r,t,void 0,n),n.currentTarget=null}function ZL(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],f=h.instance,m=h.currentTarget;if(h=h.listener,f!==l&&a.isPropagationStopped())break e;n8(a,h,m),l=f}else for(u=0;u<r.length;u++){if(h=r[u],f=h.instance,m=h.currentTarget,h=h.listener,f!==l&&a.isPropagationStopped())break e;n8(a,h,m),l=f}}}if(bb)throw n=Tx,bb=!1,Tx=null,n}function Yr(n,t){var e=t[Lx];e===void 0&&(e=t[Lx]=new Set);var r=n+"__bubble";e.has(r)||(JL(t,n,2,!1),e.add(r))}function ew(n,t,e){var r=0;t&&(r|=4),JL(e,n,r,t)}var cg="_reactListening"+Math.random().toString(36).slice(2);function A_(n){if(!n[cg]){n[cg]=!0,sL.forEach(function(e){e!=="selectionchange"&&(Nae.has(e)||ew(e,!1,n),ew(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[cg]||(t[cg]=!0,ew("selectionchange",!1,t))}}function JL(n,t,e,r){switch(UL(t)){case 1:var a=zie;break;case 4:a=$ie;break;default:a=kS}e=a.bind(null,t,e,n),a=void 0,!Sx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?n.addEventListener(t,e,{capture:!0,passive:a}):n.addEventListener(t,e,!0):a!==void 0?n.addEventListener(t,e,{passive:a}):n.addEventListener(t,e,!1)}function nw(n,t,e,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;u=u.return}for(;h!==null;){if(u=Rd(h),u===null)return;if(f=u.tag,f===5||f===6){r=l=u;continue e}h=h.parentNode}}r=r.return}wL(function(){var m=l,g=wS(e),x=[];e:{var E=XL.get(n);if(E!==void 0){var w=NS,T=n;switch(n){case"keypress":if(Kg(e)===0)break e;case"keydown":case"keyup":w=iae;break;case"focusin":T="focus",w=W3;break;case"focusout":T="blur",w=W3;break;case"beforeblur":case"afterblur":w=W3;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=$O;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=jie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=oae;break;case KL:case WL:case QL:w=Qie;break;case YL:w=cae;break;case"scroll":w=qie;break;case"wheel":w=dae;break;case"copy":case"cut":case"paste":w=Xie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=GO}var A=(t&4)!==0,P=!A&&n==="scroll",C=A?E!==null?E+"Capture":null:E;A=[];for(var k=m,I;k!==null;){I=k;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,C!==null&&(D=S_(k,C),D!=null&&A.push(O_(k,D,I)))),P)break;k=k.return}0<A.length&&(E=new w(E,T,null,e,g),x.push({event:E,listeners:A}))}}if(!(t&7)){e:{if(E=n==="mouseover"||n==="pointerover",w=n==="mouseout"||n==="pointerout",E&&e!==wx&&(T=e.relatedTarget||e.fromElement)&&(Rd(T)||T[gc]))break e;if((w||E)&&(E=g.window===g?g:(E=g.ownerDocument)?E.defaultView||E.parentWindow:window,w?(T=e.relatedTarget||e.toElement,w=m,T=T?Rd(T):null,T!==null&&(P=sh(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=m),w!==T)){if(A=$O,D="onMouseLeave",C="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(A=GO,D="onPointerLeave",C="onPointerEnter",k="pointer"),P=w==null?E:_0(w),I=T==null?E:_0(T),E=new A(D,k+"leave",w,e,g),E.target=P,E.relatedTarget=I,D=null,Rd(g)===m&&(A=new A(C,k+"enter",T,e,g),A.target=I,A.relatedTarget=P,D=A),P=D,w&&T)n:{for(A=w,C=T,k=0,I=A;I;I=e0(I))k++;for(I=0,D=C;D;D=e0(D))I++;for(;0<k-I;)A=e0(A),k--;for(;0<I-k;)C=e0(C),I--;for(;k--;){if(A===C||C!==null&&A===C.alternate)break n;A=e0(A),C=e0(C)}A=null}else A=null;w!==null&&t8(x,E,w,A,!1),T!==null&&P!==null&&t8(x,P,T,A,!0)}}e:{if(E=m?_0(m):window,w=E.nodeName&&E.nodeName.toLowerCase(),w==="select"||w==="input"&&E.type==="file")var U=gae;else if(WO(E))if(zL)U=wae;else{U=yae;var O=bae}else(w=E.nodeName)&&w.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(U=Eae);if(U&&(U=U(n,m))){VL(x,U,e,g);break e}O&&O(n,E,m),n==="focusout"&&(O=E._wrapperState)&&O.controlled&&E.type==="number"&&vx(E,"number",E.value)}switch(O=m?_0(m):window,n){case"focusin":(WO(O)||O.contentEditable==="true")&&(p0=O,Ix=m,Qf=null);break;case"focusout":Qf=Ix=p0=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,JO(x,e,g);break;case"selectionchange":if(Tae)break;case"keydown":case"keyup":JO(x,e,g)}var N;if(AS)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else h0?HL(n,e)&&(L="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(L="onCompositionStart");L&&(FL&&e.locale!=="ko"&&(h0||L!=="onCompositionStart"?L==="onCompositionEnd"&&h0&&(N=PL()):(su=g,CS="value"in su?su.value:su.textContent,h0=!0)),O=Sb(m,L),0<O.length&&(L=new qO(L,n,null,e,g),x.push({event:L,listeners:O}),N?L.data=N:(N=BL(e),N!==null&&(L.data=N)))),(N=pae?fae(n,e):_ae(n,e))&&(m=Sb(m,"onBeforeInput"),0<m.length&&(g=new qO("onBeforeInput","beforeinput",null,e,g),x.push({event:g,listeners:m}),g.data=N))}ZL(x,t)})}function O_(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Sb(n,t){for(var e=t+"Capture",r=[];n!==null;){var a=n,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=S_(n,e),l!=null&&r.unshift(O_(n,l,a)),l=S_(n,t),l!=null&&r.push(O_(n,l,a))),n=n.return}return r}function e0(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t8(n,t,e,r,a){for(var l=t._reactName,u=[];e!==null&&e!==r;){var h=e,f=h.alternate,m=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&m!==null&&(h=m,a?(f=S_(e,l),f!=null&&u.unshift(O_(e,f,h))):a||(f=S_(e,l),f!=null&&u.push(O_(e,f,h)))),e=e.return}u.length!==0&&n.push({event:t,listeners:u})}var Iae=/\r\n?/g,Aae=/\u0000|\uFFFD/g;function r8(n){return(typeof n=="string"?n:""+n).replace(Iae,`
`).replace(Aae,"")}function ug(n,t,e){if(t=r8(t),r8(n)!==t&&e)throw Error(Ln(425))}function Tb(){}var Ox=null,Rx=null;function Mx(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dx=typeof setTimeout=="function"?setTimeout:void 0,Oae=typeof clearTimeout=="function"?clearTimeout:void 0,i8=typeof Promise=="function"?Promise:void 0,Rae=typeof queueMicrotask=="function"?queueMicrotask:typeof i8<"u"?function(n){return i8.resolve(null).then(n).catch(Mae)}:Dx;function Mae(n){setTimeout(function(){throw n})}function tw(n,t){var e=t,r=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(r===0){n.removeChild(a),C_(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=a}while(e);C_(t)}function _u(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function a8(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var J0=Math.random().toString(36).slice(2),_l="__reactFiber$"+J0,R_="__reactProps$"+J0,gc="__reactContainer$"+J0,Lx="__reactEvents$"+J0,Dae="__reactListeners$"+J0,Lae="__reactHandles$"+J0;function Rd(n){var t=n[_l];if(t)return t;for(var e=n.parentNode;e;){if(t=e[gc]||e[_l]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=a8(n);n!==null;){if(e=n[_l])return e;n=a8(n)}return t}n=e,e=n.parentNode}return null}function nm(n){return n=n[_l]||n[gc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ln(33))}function _1(n){return n[R_]||null}var Ux=[],m0=-1;function Du(n){return{current:n}}function Zr(n){0>m0||(n.current=Ux[m0],Ux[m0]=null,m0--)}function Kr(n,t){m0++,Ux[m0]=n.current,n.current=t}var Nu={},Ua=Du(Nu),ps=Du(!1),Wd=Nu;function U0(n,t){var e=n.type.contextTypes;if(!e)return Nu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in e)a[l]=t[l];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=a),a}function fs(n){return n=n.childContextTypes,n!=null}function kb(){Zr(ps),Zr(Ua)}function s8(n,t,e){if(Ua.current!==Nu)throw Error(Ln(168));Kr(Ua,t),Kr(ps,e)}function eU(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ln(108,bie(n)||"Unknown",a));return di({},e,r)}function Cb(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nu,Wd=Ua.current,Kr(Ua,n),Kr(ps,ps.current),!0}function o8(n,t,e){var r=n.stateNode;if(!r)throw Error(Ln(169));e?(n=eU(n,t,Wd),r.__reactInternalMemoizedMergedChildContext=n,Zr(ps),Zr(Ua),Kr(Ua,n)):Zr(ps),Kr(ps,e)}var rc=null,m1=!1,rw=!1;function nU(n){rc===null?rc=[n]:rc.push(n)}function Uae(n){m1=!0,nU(n)}function Lu(){if(!rw&&rc!==null){rw=!0;var n=0,t=Mr;try{var e=rc;for(Mr=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}rc=null,m1=!1}catch(a){throw rc!==null&&(rc=rc.slice(n+1)),kL(xS,Lu),a}finally{Mr=t,rw=!1}}return null}var v0=[],g0=0,Nb=null,Ib=0,ro=[],io=0,Qd=null,cc=1,uc="";function wd(n,t){v0[g0++]=Ib,v0[g0++]=Nb,Nb=n,Ib=t}function tU(n,t,e){ro[io++]=cc,ro[io++]=uc,ro[io++]=Qd,Qd=n;var r=cc;n=uc;var a=32-Vo(r)-1;r&=~(1<<a),e+=1;var l=32-Vo(t)+a;if(30<l){var u=a-a%5;l=(r&(1<<u)-1).toString(32),r>>=u,a-=u,cc=1<<32-Vo(t)+a|e<<a|r,uc=l+n}else cc=1<<l|e<<a|r,uc=n}function RS(n){n.return!==null&&(wd(n,1),tU(n,1,0))}function MS(n){for(;n===Nb;)Nb=v0[--g0],v0[g0]=null,Ib=v0[--g0],v0[g0]=null;for(;n===Qd;)Qd=ro[--io],ro[io]=null,uc=ro[--io],ro[io]=null,cc=ro[--io],ro[io]=null}var Ps=null,Us=null,ai=!1,Ho=null;function rU(n,t){var e=lo(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function l8(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Ps=n,Us=_u(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Ps=n,Us=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Qd!==null?{id:cc,overflow:uc}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=lo(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Ps=n,Us=null,!0):!1;default:return!1}}function Px(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Fx(n){if(ai){var t=Us;if(t){var e=t;if(!l8(n,t)){if(Px(n))throw Error(Ln(418));t=_u(e.nextSibling);var r=Ps;t&&l8(n,t)?rU(r,e):(n.flags=n.flags&-4097|2,ai=!1,Ps=n)}}else{if(Px(n))throw Error(Ln(418));n.flags=n.flags&-4097|2,ai=!1,Ps=n}}}function c8(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ps=n}function dg(n){if(n!==Ps)return!1;if(!ai)return c8(n),ai=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Mx(n.type,n.memoizedProps)),t&&(t=Us)){if(Px(n))throw iU(),Error(Ln(418));for(;t;)rU(n,t),t=_u(t.nextSibling)}if(c8(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ln(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Us=_u(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Us=null}}else Us=Ps?_u(n.stateNode.nextSibling):null;return!0}function iU(){for(var n=Us;n;)n=_u(n.nextSibling)}function P0(){Us=Ps=null,ai=!1}function DS(n){Ho===null?Ho=[n]:Ho.push(n)}var Pae=wc.ReactCurrentBatchConfig;function Uo(n,t){if(n&&n.defaultProps){t=di({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var Ab=Du(null),Ob=null,b0=null,LS=null;function US(){LS=b0=Ob=null}function PS(n){var t=Ab.current;Zr(Ab),n._currentValue=t}function Hx(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function O0(n,t){Ob=n,LS=b0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(ds=!0),n.firstContext=null)}function fo(n){var t=n._currentValue;if(LS!==n)if(n={context:n,memoizedValue:t,next:null},b0===null){if(Ob===null)throw Error(Ln(308));b0=n,Ob.dependencies={lanes:0,firstContext:n}}else b0=b0.next=n;return t}var Md=null;function FS(n){Md===null?Md=[n]:Md.push(n)}function aU(n,t,e,r){var a=t.interleaved;return a===null?(e.next=e,FS(t)):(e.next=a.next,a.next=e),t.interleaved=e,bc(n,r)}function bc(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var tu=!1;function HS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sU(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pc(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function mu(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,fr&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,bc(n,e)}return a=r.interleaved,a===null?(t.next=t,FS(r)):(t.next=a.next,a.next=t),r.interleaved=t,bc(n,e)}function Wg(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,SS(n,e)}}function u8(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var a=null,l=null;if(e=e.firstBaseUpdate,e!==null){do{var u={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};l===null?a=l=u:l=l.next=u,e=e.next}while(e!==null);l===null?a=l=t:l=l.next=t}else a=l=t;e={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Rb(n,t,e,r){var a=n.updateQueue;tu=!1;var l=a.firstBaseUpdate,u=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var f=h,m=f.next;f.next=null,u===null?l=m:u.next=m,u=f;var g=n.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=m:h.next=m,g.lastBaseUpdate=f))}if(l!==null){var x=a.baseState;u=0,g=m=f=null,h=l;do{var E=h.lane,w=h.eventTime;if((r&E)===E){g!==null&&(g=g.next={eventTime:w,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=n,A=h;switch(E=t,w=e,A.tag){case 1:if(T=A.payload,typeof T=="function"){x=T.call(w,x,E);break e}x=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=A.payload,E=typeof T=="function"?T.call(w,x,E):T,E==null)break e;x=di({},x,E);break e;case 2:tu=!0}}h.callback!==null&&h.lane!==0&&(n.flags|=64,E=a.effects,E===null?a.effects=[h]:E.push(h))}else w={eventTime:w,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(m=g=w,f=x):g=g.next=w,u|=E;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;E=h,h=E.next,E.next=null,a.lastBaseUpdate=E,a.shared.pending=null}}while(1);if(g===null&&(f=x),a.baseState=f,a.firstBaseUpdate=m,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Xd|=u,n.lanes=u,n.memoizedState=x}}function d8(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],a=r.callback;if(a!==null){if(r.callback=null,r=e,typeof a!="function")throw Error(Ln(191,a));a.call(r)}}}var oU=new aL.Component().refs;function Bx(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:di({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var v1={isMounted:function(n){return(n=n._reactInternals)?sh(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Qa(),a=gu(n),l=pc(r,a);l.payload=t,e!=null&&(l.callback=e),t=mu(n,l,a),t!==null&&(zo(t,n,a,r),Wg(t,n,a))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Qa(),a=gu(n),l=pc(r,a);l.tag=1,l.payload=t,e!=null&&(l.callback=e),t=mu(n,l,a),t!==null&&(zo(t,n,a,r),Wg(t,n,a))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Qa(),r=gu(n),a=pc(e,r);a.tag=2,t!=null&&(a.callback=t),t=mu(n,a,r),t!==null&&(zo(t,n,r,e),Wg(t,n,r))}};function h8(n,t,e,r,a,l,u){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,l,u):t.prototype&&t.prototype.isPureReactComponent?!I_(e,r)||!I_(a,l):!0}function lU(n,t,e){var r=!1,a=Nu,l=t.contextType;return typeof l=="object"&&l!==null?l=fo(l):(a=fs(t)?Wd:Ua.current,r=t.contextTypes,l=(r=r!=null)?U0(n,a):Nu),t=new t(e,l),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=v1,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=l),t}function p8(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&v1.enqueueReplaceState(t,t.state,null)}function Vx(n,t,e,r){var a=n.stateNode;a.props=e,a.state=n.memoizedState,a.refs=oU,HS(n);var l=t.contextType;typeof l=="object"&&l!==null?a.context=fo(l):(l=fs(t)?Wd:Ua.current,a.context=U0(n,l)),a.state=n.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Bx(n,t,l,e),a.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&v1.enqueueReplaceState(a,a.state,null),Rb(n,e,a,r),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function gf(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ln(309));var r=e.stateNode}if(!r)throw Error(Ln(147,n));var a=r,l=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(u){var h=a.refs;h===oU&&(h=a.refs={}),u===null?delete h[l]:h[l]=u},t._stringRef=l,t)}if(typeof n!="string")throw Error(Ln(284));if(!e._owner)throw Error(Ln(290,n))}return n}function hg(n,t){throw n=Object.prototype.toString.call(t),Error(Ln(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function f8(n){var t=n._init;return t(n._payload)}function cU(n){function t(C,k){if(n){var I=C.deletions;I===null?(C.deletions=[k],C.flags|=16):I.push(k)}}function e(C,k){if(!n)return null;for(;k!==null;)t(C,k),k=k.sibling;return null}function r(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function a(C,k){return C=bu(C,k),C.index=0,C.sibling=null,C}function l(C,k,I){return C.index=I,n?(I=C.alternate,I!==null?(I=I.index,I<k?(C.flags|=2,k):I):(C.flags|=2,k)):(C.flags|=1048576,k)}function u(C){return n&&C.alternate===null&&(C.flags|=2),C}function h(C,k,I,D){return k===null||k.tag!==6?(k=uw(I,C.mode,D),k.return=C,k):(k=a(k,I),k.return=C,k)}function f(C,k,I,D){var U=I.type;return U===d0?g(C,k,I.props.children,D,I.key):k!==null&&(k.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===nu&&f8(U)===k.type)?(D=a(k,I.props),D.ref=gf(C,k,I),D.return=C,D):(D=eb(I.type,I.key,I.props,null,C.mode,D),D.ref=gf(C,k,I),D.return=C,D)}function m(C,k,I,D){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=dw(I,C.mode,D),k.return=C,k):(k=a(k,I.children||[]),k.return=C,k)}function g(C,k,I,D,U){return k===null||k.tag!==7?(k=Vd(I,C.mode,D,U),k.return=C,k):(k=a(k,I),k.return=C,k)}function x(C,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return k=uw(""+k,C.mode,I),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ng:return I=eb(k.type,k.key,k.props,null,C.mode,I),I.ref=gf(C,null,k),I.return=C,I;case u0:return k=dw(k,C.mode,I),k.return=C,k;case nu:var D=k._init;return x(C,D(k._payload),I)}if(Df(k)||pf(k))return k=Vd(k,C.mode,I,null),k.return=C,k;hg(C,k)}return null}function E(C,k,I,D){var U=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:h(C,k,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ng:return I.key===U?f(C,k,I,D):null;case u0:return I.key===U?m(C,k,I,D):null;case nu:return U=I._init,E(C,k,U(I._payload),D)}if(Df(I)||pf(I))return U!==null?null:g(C,k,I,D,null);hg(C,I)}return null}function w(C,k,I,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(I)||null,h(k,C,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ng:return C=C.get(D.key===null?I:D.key)||null,f(k,C,D,U);case u0:return C=C.get(D.key===null?I:D.key)||null,m(k,C,D,U);case nu:var O=D._init;return w(C,k,I,O(D._payload),U)}if(Df(D)||pf(D))return C=C.get(I)||null,g(k,C,D,U,null);hg(k,D)}return null}function T(C,k,I,D){for(var U=null,O=null,N=k,L=k=0,K=null;N!==null&&L<I.length;L++){N.index>L?(K=N,N=null):K=N.sibling;var z=E(C,N,I[L],D);if(z===null){N===null&&(N=K);break}n&&N&&z.alternate===null&&t(C,N),k=l(z,k,L),O===null?U=z:O.sibling=z,O=z,N=K}if(L===I.length)return e(C,N),ai&&wd(C,L),U;if(N===null){for(;L<I.length;L++)N=x(C,I[L],D),N!==null&&(k=l(N,k,L),O===null?U=N:O.sibling=N,O=N);return ai&&wd(C,L),U}for(N=r(C,N);L<I.length;L++)K=w(N,C,L,I[L],D),K!==null&&(n&&K.alternate!==null&&N.delete(K.key===null?L:K.key),k=l(K,k,L),O===null?U=K:O.sibling=K,O=K);return n&&N.forEach(function(ae){return t(C,ae)}),ai&&wd(C,L),U}function A(C,k,I,D){var U=pf(I);if(typeof U!="function")throw Error(Ln(150));if(I=U.call(I),I==null)throw Error(Ln(151));for(var O=U=null,N=k,L=k=0,K=null,z=I.next();N!==null&&!z.done;L++,z=I.next()){N.index>L?(K=N,N=null):K=N.sibling;var ae=E(C,N,z.value,D);if(ae===null){N===null&&(N=K);break}n&&N&&ae.alternate===null&&t(C,N),k=l(ae,k,L),O===null?U=ae:O.sibling=ae,O=ae,N=K}if(z.done)return e(C,N),ai&&wd(C,L),U;if(N===null){for(;!z.done;L++,z=I.next())z=x(C,z.value,D),z!==null&&(k=l(z,k,L),O===null?U=z:O.sibling=z,O=z);return ai&&wd(C,L),U}for(N=r(C,N);!z.done;L++,z=I.next())z=w(N,C,L,z.value,D),z!==null&&(n&&z.alternate!==null&&N.delete(z.key===null?L:z.key),k=l(z,k,L),O===null?U=z:O.sibling=z,O=z);return n&&N.forEach(function(fe){return t(C,fe)}),ai&&wd(C,L),U}function P(C,k,I,D){if(typeof I=="object"&&I!==null&&I.type===d0&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ng:e:{for(var U=I.key,O=k;O!==null;){if(O.key===U){if(U=I.type,U===d0){if(O.tag===7){e(C,O.sibling),k=a(O,I.props.children),k.return=C,C=k;break e}}else if(O.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===nu&&f8(U)===O.type){e(C,O.sibling),k=a(O,I.props),k.ref=gf(C,O,I),k.return=C,C=k;break e}e(C,O);break}else t(C,O);O=O.sibling}I.type===d0?(k=Vd(I.props.children,C.mode,D,I.key),k.return=C,C=k):(D=eb(I.type,I.key,I.props,null,C.mode,D),D.ref=gf(C,k,I),D.return=C,C=D)}return u(C);case u0:e:{for(O=I.key;k!==null;){if(k.key===O)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){e(C,k.sibling),k=a(k,I.children||[]),k.return=C,C=k;break e}else{e(C,k);break}else t(C,k);k=k.sibling}k=dw(I,C.mode,D),k.return=C,C=k}return u(C);case nu:return O=I._init,P(C,k,O(I._payload),D)}if(Df(I))return T(C,k,I,D);if(pf(I))return A(C,k,I,D);hg(C,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,k!==null&&k.tag===6?(e(C,k.sibling),k=a(k,I),k.return=C,C=k):(e(C,k),k=uw(I,C.mode,D),k.return=C,C=k),u(C)):e(C,k)}return P}var F0=cU(!0),uU=cU(!1),tm={},xl=Du(tm),M_=Du(tm),D_=Du(tm);function Dd(n){if(n===tm)throw Error(Ln(174));return n}function BS(n,t){switch(Kr(D_,t),Kr(M_,n),Kr(xl,tm),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bx(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=bx(t,n)}Zr(xl),Kr(xl,t)}function H0(){Zr(xl),Zr(M_),Zr(D_)}function dU(n){Dd(D_.current);var t=Dd(xl.current),e=bx(t,n.type);t!==e&&(Kr(M_,n),Kr(xl,e))}function VS(n){M_.current===n&&(Zr(xl),Zr(M_))}var oi=Du(0);function Mb(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iw=[];function zS(){for(var n=0;n<iw.length;n++)iw[n]._workInProgressVersionPrimary=null;iw.length=0}var Qg=wc.ReactCurrentDispatcher,aw=wc.ReactCurrentBatchConfig,Yd=0,ui=null,Vi=null,Wi=null,Db=!1,Yf=!1,L_=0,Fae=0;function ka(){throw Error(Ln(321))}function $S(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!$o(n[e],t[e]))return!1;return!0}function qS(n,t,e,r,a,l){if(Yd=l,ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qg.current=n===null||n.memoizedState===null?zae:$ae,n=e(r,a),Yf){l=0;do{if(Yf=!1,L_=0,25<=l)throw Error(Ln(301));l+=1,Wi=Vi=null,t.updateQueue=null,Qg.current=qae,n=e(r,a)}while(Yf)}if(Qg.current=Lb,t=Vi!==null&&Vi.next!==null,Yd=0,Wi=Vi=ui=null,Db=!1,t)throw Error(Ln(300));return n}function GS(){var n=L_!==0;return L_=0,n}function ul(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wi===null?ui.memoizedState=Wi=n:Wi=Wi.next=n,Wi}function _o(){if(Vi===null){var n=ui.alternate;n=n!==null?n.memoizedState:null}else n=Vi.next;var t=Wi===null?ui.memoizedState:Wi.next;if(t!==null)Wi=t,Vi=n;else{if(n===null)throw Error(Ln(310));Vi=n,n={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},Wi===null?ui.memoizedState=Wi=n:Wi=Wi.next=n}return Wi}function U_(n,t){return typeof t=="function"?t(n):t}function sw(n){var t=_o(),e=t.queue;if(e===null)throw Error(Ln(311));e.lastRenderedReducer=n;var r=Vi,a=r.baseQueue,l=e.pending;if(l!==null){if(a!==null){var u=a.next;a.next=l.next,l.next=u}r.baseQueue=a=l,e.pending=null}if(a!==null){l=a.next,r=r.baseState;var h=u=null,f=null,m=l;do{var g=m.lane;if((Yd&g)===g)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var x={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(h=f=x,u=r):f=f.next=x,ui.lanes|=g,Xd|=g}m=m.next}while(m!==null&&m!==l);f===null?u=r:f.next=h,$o(r,t.memoizedState)||(ds=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=f,e.lastRenderedState=r}if(n=e.interleaved,n!==null){a=n;do l=a.lane,ui.lanes|=l,Xd|=l,a=a.next;while(a!==n)}else a===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function ow(n){var t=_o(),e=t.queue;if(e===null)throw Error(Ln(311));e.lastRenderedReducer=n;var r=e.dispatch,a=e.pending,l=t.memoizedState;if(a!==null){e.pending=null;var u=a=a.next;do l=n(l,u.action),u=u.next;while(u!==a);$o(l,t.memoizedState)||(ds=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),e.lastRenderedState=l}return[l,r]}function hU(){}function pU(n,t){var e=ui,r=_o(),a=t(),l=!$o(r.memoizedState,a);if(l&&(r.memoizedState=a,ds=!0),r=r.queue,jS(mU.bind(null,e,r,n),[n]),r.getSnapshot!==t||l||Wi!==null&&Wi.memoizedState.tag&1){if(e.flags|=2048,P_(9,_U.bind(null,e,r,a,t),void 0,null),Zi===null)throw Error(Ln(349));Yd&30||fU(e,t,a)}return a}function fU(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function _U(n,t,e,r){t.value=e,t.getSnapshot=r,vU(t)&&gU(n)}function mU(n,t,e){return e(function(){vU(t)&&gU(n)})}function vU(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!$o(n,e)}catch{return!0}}function gU(n){var t=bc(n,1);t!==null&&zo(t,n,1,-1)}function _8(n){var t=ul();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U_,lastRenderedState:n},t.queue=n,n=n.dispatch=Vae.bind(null,ui,n),[t.memoizedState,n]}function P_(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function bU(){return _o().memoizedState}function Yg(n,t,e,r){var a=ul();ui.flags|=n,a.memoizedState=P_(1|t,e,void 0,r===void 0?null:r)}function g1(n,t,e,r){var a=_o();r=r===void 0?null:r;var l=void 0;if(Vi!==null){var u=Vi.memoizedState;if(l=u.destroy,r!==null&&$S(r,u.deps)){a.memoizedState=P_(t,e,l,r);return}}ui.flags|=n,a.memoizedState=P_(1|t,e,l,r)}function m8(n,t){return Yg(8390656,8,n,t)}function jS(n,t){return g1(2048,8,n,t)}function yU(n,t){return g1(4,2,n,t)}function EU(n,t){return g1(4,4,n,t)}function wU(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function xU(n,t,e){return e=e!=null?e.concat([n]):null,g1(4,4,wU.bind(null,t,n),e)}function KS(){}function SU(n,t){var e=_o();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&$S(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function TU(n,t){var e=_o();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&$S(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function kU(n,t,e){return Yd&21?($o(e,t)||(e=IL(),ui.lanes|=e,Xd|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,ds=!0),n.memoizedState=e)}function Hae(n,t){var e=Mr;Mr=e!==0&&4>e?e:4,n(!0);var r=aw.transition;aw.transition={};try{n(!1),t()}finally{Mr=e,aw.transition=r}}function CU(){return _o().memoizedState}function Bae(n,t,e){var r=gu(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},NU(n))IU(t,e);else if(e=aU(n,t,e,r),e!==null){var a=Qa();zo(e,n,r,a),AU(e,t,r)}}function Vae(n,t,e){var r=gu(n),a={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(NU(n))IU(t,a);else{var l=n.alternate;if(n.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var u=t.lastRenderedState,h=l(u,e);if(a.hasEagerState=!0,a.eagerState=h,$o(h,u)){var f=t.interleaved;f===null?(a.next=a,FS(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}e=aU(n,t,a,r),e!==null&&(a=Qa(),zo(e,n,r,a),AU(e,t,r))}}function NU(n){var t=n.alternate;return n===ui||t!==null&&t===ui}function IU(n,t){Yf=Db=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function AU(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,SS(n,e)}}var Lb={readContext:fo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},zae={readContext:fo,useCallback:function(n,t){return ul().memoizedState=[n,t===void 0?null:t],n},useContext:fo,useEffect:m8,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,Yg(4194308,4,wU.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Yg(4194308,4,n,t)},useInsertionEffect:function(n,t){return Yg(4,2,n,t)},useMemo:function(n,t){var e=ul();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=ul();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=Bae.bind(null,ui,n),[r.memoizedState,n]},useRef:function(n){var t=ul();return n={current:n},t.memoizedState=n},useState:_8,useDebugValue:KS,useDeferredValue:function(n){return ul().memoizedState=n},useTransition:function(){var n=_8(!1),t=n[0];return n=Hae.bind(null,n[1]),ul().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=ui,a=ul();if(ai){if(e===void 0)throw Error(Ln(407));e=e()}else{if(e=t(),Zi===null)throw Error(Ln(349));Yd&30||fU(r,t,e)}a.memoizedState=e;var l={value:e,getSnapshot:t};return a.queue=l,m8(mU.bind(null,r,l,n),[n]),r.flags|=2048,P_(9,_U.bind(null,r,l,e,t),void 0,null),e},useId:function(){var n=ul(),t=Zi.identifierPrefix;if(ai){var e=uc,r=cc;e=(r&~(1<<32-Vo(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=L_++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=Fae++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},$ae={readContext:fo,useCallback:SU,useContext:fo,useEffect:jS,useImperativeHandle:xU,useInsertionEffect:yU,useLayoutEffect:EU,useMemo:TU,useReducer:sw,useRef:bU,useState:function(){return sw(U_)},useDebugValue:KS,useDeferredValue:function(n){var t=_o();return kU(t,Vi.memoizedState,n)},useTransition:function(){var n=sw(U_)[0],t=_o().memoizedState;return[n,t]},useMutableSource:hU,useSyncExternalStore:pU,useId:CU,unstable_isNewReconciler:!1},qae={readContext:fo,useCallback:SU,useContext:fo,useEffect:jS,useImperativeHandle:xU,useInsertionEffect:yU,useLayoutEffect:EU,useMemo:TU,useReducer:ow,useRef:bU,useState:function(){return ow(U_)},useDebugValue:KS,useDeferredValue:function(n){var t=_o();return Vi===null?t.memoizedState=n:kU(t,Vi.memoizedState,n)},useTransition:function(){var n=ow(U_)[0],t=_o().memoizedState;return[n,t]},useMutableSource:hU,useSyncExternalStore:pU,useId:CU,unstable_isNewReconciler:!1};function B0(n,t){try{var e="",r=t;do e+=gie(r),r=r.return;while(r);var a=e}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:t,stack:a,digest:null}}function lw(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function zx(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Gae=typeof WeakMap=="function"?WeakMap:Map;function OU(n,t,e){e=pc(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Pb||(Pb=!0,Zx=r),zx(n,t)},e}function RU(n,t,e){e=pc(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;e.payload=function(){return r(a)},e.callback=function(){zx(n,t)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){zx(n,t),typeof r!="function"&&(vu===null?vu=new Set([this]):vu.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),e}function v8(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new Gae;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(e)||(a.add(e),n=ase.bind(null,n,t,e),t.then(n,n))}function g8(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function b8(n,t,e,r,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=pc(-1,1),t.tag=2,mu(e,t,1))),e.lanes|=1),n)}var jae=wc.ReactCurrentOwner,ds=!1;function Ga(n,t,e,r){t.child=n===null?uU(t,null,e,r):F0(t,n.child,e,r)}function y8(n,t,e,r,a){e=e.render;var l=t.ref;return O0(t,a),r=qS(n,t,e,r,l,a),e=GS(),n!==null&&!ds?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,yc(n,t,a)):(ai&&e&&RS(t),t.flags|=1,Ga(n,t,r,a),t.child)}function E8(n,t,e,r,a){if(n===null){var l=e.type;return typeof l=="function"&&!nT(l)&&l.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=l,MU(n,t,l,r,a)):(n=eb(e.type,null,r,t,t.mode,a),n.ref=t.ref,n.return=t,t.child=n)}if(l=n.child,!(n.lanes&a)){var u=l.memoizedProps;if(e=e.compare,e=e!==null?e:I_,e(u,r)&&n.ref===t.ref)return yc(n,t,a)}return t.flags|=1,n=bu(l,r),n.ref=t.ref,n.return=t,t.child=n}function MU(n,t,e,r,a){if(n!==null){var l=n.memoizedProps;if(I_(l,r)&&n.ref===t.ref)if(ds=!1,t.pendingProps=r=l,(n.lanes&a)!==0)n.flags&131072&&(ds=!0);else return t.lanes=n.lanes,yc(n,t,a)}return $x(n,t,e,r,a)}function DU(n,t,e){var r=t.pendingProps,a=r.children,l=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(E0,As),As|=e;else{if(!(e&1073741824))return n=l!==null?l.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Kr(E0,As),As|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:e,Kr(E0,As),As|=r}else l!==null?(r=l.baseLanes|e,t.memoizedState=null):r=e,Kr(E0,As),As|=r;return Ga(n,t,a,e),t.child}function LU(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function $x(n,t,e,r,a){var l=fs(e)?Wd:Ua.current;return l=U0(t,l),O0(t,a),e=qS(n,t,e,r,l,a),r=GS(),n!==null&&!ds?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,yc(n,t,a)):(ai&&r&&RS(t),t.flags|=1,Ga(n,t,e,a),t.child)}function w8(n,t,e,r,a){if(fs(e)){var l=!0;Cb(t)}else l=!1;if(O0(t,a),t.stateNode===null)Xg(n,t),lU(t,e,r),Vx(t,e,r,a),r=!0;else if(n===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var f=u.context,m=e.contextType;typeof m=="object"&&m!==null?m=fo(m):(m=fs(e)?Wd:Ua.current,m=U0(t,m));var g=e.getDerivedStateFromProps,x=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";x||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||f!==m)&&p8(t,u,r,m),tu=!1;var E=t.memoizedState;u.state=E,Rb(t,r,u,a),f=t.memoizedState,h!==r||E!==f||ps.current||tu?(typeof g=="function"&&(Bx(t,e,g,r),f=t.memoizedState),(h=tu||h8(t,e,h,r,E,f,m))?(x||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=m,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,sU(n,t),h=t.memoizedProps,m=t.type===t.elementType?h:Uo(t.type,h),u.props=m,x=t.pendingProps,E=u.context,f=e.contextType,typeof f=="object"&&f!==null?f=fo(f):(f=fs(e)?Wd:Ua.current,f=U0(t,f));var w=e.getDerivedStateFromProps;(g=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==x||E!==f)&&p8(t,u,r,f),tu=!1,E=t.memoizedState,u.state=E,Rb(t,r,u,a);var T=t.memoizedState;h!==x||E!==T||ps.current||tu?(typeof w=="function"&&(Bx(t,e,w,r),T=t.memoizedState),(m=tu||h8(t,e,m,r,E,T,f)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&E===n.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&E===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),u.props=r,u.state=T,u.context=f,r=m):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&E===n.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&E===n.memoizedState||(t.flags|=1024),r=!1)}return qx(n,t,e,r,l,a)}function qx(n,t,e,r,a,l){LU(n,t);var u=(t.flags&128)!==0;if(!r&&!u)return a&&o8(t,e,!1),yc(n,t,l);r=t.stateNode,jae.current=t;var h=u&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&u?(t.child=F0(t,n.child,null,l),t.child=F0(t,null,h,l)):Ga(n,t,h,l),t.memoizedState=r.state,a&&o8(t,e,!0),t.child}function UU(n){var t=n.stateNode;t.pendingContext?s8(n,t.pendingContext,t.pendingContext!==t.context):t.context&&s8(n,t.context,!1),BS(n,t.containerInfo)}function x8(n,t,e,r,a){return P0(),DS(a),t.flags|=256,Ga(n,t,e,r),t.child}var Gx={dehydrated:null,treeContext:null,retryLane:0};function jx(n){return{baseLanes:n,cachePool:null,transitions:null}}function PU(n,t,e){var r=t.pendingProps,a=oi.current,l=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=n!==null&&n.memoizedState===null?!1:(a&2)!==0),h?(l=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Kr(oi,a&1),n===null)return Fx(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,n=r.fallback,l?(r=t.mode,l=t.child,u={mode:"hidden",children:u},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=E1(u,r,0,null),n=Vd(n,r,e,null),l.return=t,n.return=t,l.sibling=n,t.child=l,t.child.memoizedState=jx(e),t.memoizedState=Gx,n):WS(t,u));if(a=n.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return Kae(n,t,u,r,h,a,e);if(l){l=r.fallback,u=t.mode,a=n.child,h=a.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=bu(a,f),r.subtreeFlags=a.subtreeFlags&14680064),h!==null?l=bu(h,l):(l=Vd(l,u,e,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,u=n.child.memoizedState,u=u===null?jx(e):{baseLanes:u.baseLanes|e,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=n.childLanes&~e,t.memoizedState=Gx,r}return l=n.child,n=l.sibling,r=bu(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function WS(n,t){return t=E1({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function pg(n,t,e,r){return r!==null&&DS(r),F0(t,n.child,null,e),n=WS(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function Kae(n,t,e,r,a,l,u){if(e)return t.flags&256?(t.flags&=-257,r=lw(Error(Ln(422))),pg(n,t,u,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=E1({mode:"visible",children:r.children},a,0,null),l=Vd(l,a,u,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&F0(t,n.child,null,u),t.child.memoizedState=jx(u),t.memoizedState=Gx,l);if(!(t.mode&1))return pg(n,t,u,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var h=r.dgst;return r=h,l=Error(Ln(419)),r=lw(l,r,void 0),pg(n,t,u,r)}if(h=(u&n.childLanes)!==0,ds||h){if(r=Zi,r!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|u)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,bc(n,a),zo(r,n,a,-1))}return eT(),r=lw(Error(Ln(421))),pg(n,t,u,r)}return a.data==="$?"?(t.flags|=128,t.child=n.child,t=sse.bind(null,n),a._reactRetry=t,null):(n=l.treeContext,Us=_u(a.nextSibling),Ps=t,ai=!0,Ho=null,n!==null&&(ro[io++]=cc,ro[io++]=uc,ro[io++]=Qd,cc=n.id,uc=n.overflow,Qd=t),t=WS(t,r.children),t.flags|=4096,t)}function S8(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),Hx(n.return,t,e)}function cw(n,t,e,r,a){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=e,l.tailMode=a)}function FU(n,t,e){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Ga(n,t,r.children,e),r=oi.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&S8(n,e,t);else if(n.tag===19)S8(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Kr(oi,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(e=t.child,a=null;e!==null;)n=e.alternate,n!==null&&Mb(n)===null&&(a=e),e=e.sibling;e=a,e===null?(a=t.child,t.child=null):(a=e.sibling,e.sibling=null),cw(t,!1,a,e,l);break;case"backwards":for(e=null,a=t.child,t.child=null;a!==null;){if(n=a.alternate,n!==null&&Mb(n)===null){t.child=a;break}n=a.sibling,a.sibling=e,e=a,a=n}cw(t,!0,e,null,l);break;case"together":cw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xg(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function yc(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Xd|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Ln(153));if(t.child!==null){for(n=t.child,e=bu(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=bu(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Wae(n,t,e){switch(t.tag){case 3:UU(t),P0();break;case 5:dU(t);break;case 1:fs(t.type)&&Cb(t);break;case 4:BS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Kr(Ab,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Kr(oi,oi.current&1),t.flags|=128,null):e&t.child.childLanes?PU(n,t,e):(Kr(oi,oi.current&1),n=yc(n,t,e),n!==null?n.sibling:null);Kr(oi,oi.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return FU(n,t,e);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kr(oi,oi.current),r)break;return null;case 22:case 23:return t.lanes=0,DU(n,t,e)}return yc(n,t,e)}var HU,Kx,BU,VU;HU=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Kx=function(){};BU=function(n,t,e,r){var a=n.memoizedProps;if(a!==r){n=t.stateNode,Dd(xl.current);var l=null;switch(e){case"input":a=_x(n,a),r=_x(n,r),l=[];break;case"select":a=di({},a,{value:void 0}),r=di({},r,{value:void 0}),l=[];break;case"textarea":a=gx(n,a),r=gx(n,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Tb)}yx(e,r);var u;e=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var h=a[m];for(u in h)h.hasOwnProperty(u)&&(e||(e={}),e[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(w_.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var f=r[m];if(h=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&f!==h&&(f!=null||h!=null))if(m==="style")if(h){for(u in h)!h.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(e||(e={}),e[u]="");for(u in f)f.hasOwnProperty(u)&&h[u]!==f[u]&&(e||(e={}),e[u]=f[u])}else e||(l||(l=[]),l.push(m,e)),e=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(l=l||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(w_.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Yr("scroll",n),l||h===f||(l=[])):(l=l||[]).push(m,f))}e&&(l=l||[]).push("style",e);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};VU=function(n,t,e,r){e!==r&&(t.flags|=4)};function bf(n,t){if(!ai)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ca(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function Qae(n,t,e){var r=t.pendingProps;switch(MS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ca(t),null;case 1:return fs(t.type)&&kb(),Ca(t),null;case 3:return r=t.stateNode,H0(),Zr(ps),Zr(Ua),zS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(dg(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ho!==null&&(n4(Ho),Ho=null))),Kx(n,t),Ca(t),null;case 5:VS(t);var a=Dd(D_.current);if(e=t.type,n!==null&&t.stateNode!=null)BU(n,t,e,r,a),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ln(166));return Ca(t),null}if(n=Dd(xl.current),dg(t)){r=t.stateNode,e=t.type;var l=t.memoizedProps;switch(r[_l]=t,r[R_]=l,n=(t.mode&1)!==0,e){case"dialog":Yr("cancel",r),Yr("close",r);break;case"iframe":case"object":case"embed":Yr("load",r);break;case"video":case"audio":for(a=0;a<Uf.length;a++)Yr(Uf[a],r);break;case"source":Yr("error",r);break;case"img":case"image":case"link":Yr("error",r),Yr("load",r);break;case"details":Yr("toggle",r);break;case"input":MO(r,l),Yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Yr("invalid",r);break;case"textarea":LO(r,l),Yr("invalid",r)}yx(e,l),a=null;for(var u in l)if(l.hasOwnProperty(u)){var h=l[u];u==="children"?typeof h=="string"?r.textContent!==h&&(l.suppressHydrationWarning!==!0&&ug(r.textContent,h,n),a=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(l.suppressHydrationWarning!==!0&&ug(r.textContent,h,n),a=["children",""+h]):w_.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&Yr("scroll",r)}switch(e){case"input":tg(r),DO(r,l,!0);break;case"textarea":tg(r),UO(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Tb)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fL(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=u.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=u.createElement(e,{is:r.is}):(n=u.createElement(e),e==="select"&&(u=n,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):n=u.createElementNS(n,e),n[_l]=t,n[R_]=r,HU(n,t,!1,!1),t.stateNode=n;e:{switch(u=Ex(e,r),e){case"dialog":Yr("cancel",n),Yr("close",n),a=r;break;case"iframe":case"object":case"embed":Yr("load",n),a=r;break;case"video":case"audio":for(a=0;a<Uf.length;a++)Yr(Uf[a],n);a=r;break;case"source":Yr("error",n),a=r;break;case"img":case"image":case"link":Yr("error",n),Yr("load",n),a=r;break;case"details":Yr("toggle",n),a=r;break;case"input":MO(n,r),a=_x(n,r),Yr("invalid",n);break;case"option":a=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},a=di({},r,{value:void 0}),Yr("invalid",n);break;case"textarea":LO(n,r),a=gx(n,r),Yr("invalid",n);break;default:a=r}yx(e,a),h=a;for(l in h)if(h.hasOwnProperty(l)){var f=h[l];l==="style"?vL(n,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&_L(n,f)):l==="children"?typeof f=="string"?(e!=="textarea"||f!=="")&&x_(n,f):typeof f=="number"&&x_(n,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(w_.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Yr("scroll",n):f!=null&&gS(n,l,f,u))}switch(e){case"input":tg(n),DO(n,r,!1);break;case"textarea":tg(n),UO(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Cu(r.value));break;case"select":n.multiple=!!r.multiple,l=r.value,l!=null?C0(n,!!r.multiple,l,!1):r.defaultValue!=null&&C0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Tb)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ca(t),null;case 6:if(n&&t.stateNode!=null)VU(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ln(166));if(e=Dd(D_.current),Dd(xl.current),dg(t)){if(r=t.stateNode,e=t.memoizedProps,r[_l]=t,(l=r.nodeValue!==e)&&(n=Ps,n!==null))switch(n.tag){case 3:ug(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ug(r.nodeValue,e,(n.mode&1)!==0)}l&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[_l]=t,t.stateNode=r}return Ca(t),null;case 13:if(Zr(oi),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ai&&Us!==null&&t.mode&1&&!(t.flags&128))iU(),P0(),t.flags|=98560,l=!1;else if(l=dg(t),r!==null&&r.dehydrated!==null){if(n===null){if(!l)throw Error(Ln(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Ln(317));l[_l]=t}else P0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ca(t),l=!1}else Ho!==null&&(n4(Ho),Ho=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||oi.current&1?$i===0&&($i=3):eT())),t.updateQueue!==null&&(t.flags|=4),Ca(t),null);case 4:return H0(),Kx(n,t),n===null&&A_(t.stateNode.containerInfo),Ca(t),null;case 10:return PS(t.type._context),Ca(t),null;case 17:return fs(t.type)&&kb(),Ca(t),null;case 19:if(Zr(oi),l=t.memoizedState,l===null)return Ca(t),null;if(r=(t.flags&128)!==0,u=l.rendering,u===null)if(r)bf(l,!1);else{if($i!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(u=Mb(n),u!==null){for(t.flags|=128,bf(l,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)l=e,n=r,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=n,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,n=u.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Kr(oi,oi.current&1|2),t.child}n=n.sibling}l.tail!==null&&Ti()>V0&&(t.flags|=128,r=!0,bf(l,!1),t.lanes=4194304)}else{if(!r)if(n=Mb(u),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),bf(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!ai)return Ca(t),null}else 2*Ti()-l.renderingStartTime>V0&&e!==1073741824&&(t.flags|=128,r=!0,bf(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ti(),t.sibling=null,e=oi.current,Kr(oi,r?e&1|2:e&1),t):(Ca(t),null);case 22:case 23:return JS(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?As&1073741824&&(Ca(t),t.subtreeFlags&6&&(t.flags|=8192)):Ca(t),null;case 24:return null;case 25:return null}throw Error(Ln(156,t.tag))}function Yae(n,t){switch(MS(t),t.tag){case 1:return fs(t.type)&&kb(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return H0(),Zr(ps),Zr(Ua),zS(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return VS(t),null;case 13:if(Zr(oi),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Ln(340));P0()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Zr(oi),null;case 4:return H0(),null;case 10:return PS(t.type._context),null;case 22:case 23:return JS(),null;case 24:return null;default:return null}}var fg=!1,Ma=!1,Xae=typeof WeakSet=="function"?WeakSet:Set,ot=null;function y0(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){mi(n,t,r)}else e.current=null}function Wx(n,t,e){try{e()}catch(r){mi(n,t,r)}}var T8=!1;function Zae(n,t){if(Ox=wb,n=GL(),OS(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{e.nodeType,l.nodeType}catch{e=null;break e}var u=0,h=-1,f=-1,m=0,g=0,x=n,E=null;n:for(;;){for(var w;x!==e||a!==0&&x.nodeType!==3||(h=u+a),x!==l||r!==0&&x.nodeType!==3||(f=u+r),x.nodeType===3&&(u+=x.nodeValue.length),(w=x.firstChild)!==null;)E=x,x=w;for(;;){if(x===n)break n;if(E===e&&++m===a&&(h=u),E===l&&++g===r&&(f=u),(w=x.nextSibling)!==null)break;x=E,E=x.parentNode}x=w}e=h===-1||f===-1?null:{start:h,end:f}}else e=null}e=e||{start:0,end:0}}else e=null;for(Rx={focusedElem:n,selectionRange:e},wb=!1,ot=t;ot!==null;)if(t=ot,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,ot=n;else for(;ot!==null;){t=ot;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var A=T.memoizedProps,P=T.memoizedState,C=t.stateNode,k=C.getSnapshotBeforeUpdate(t.elementType===t.type?A:Uo(t.type,A),P);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ln(163))}}catch(D){mi(t,t.return,D)}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}return T=T8,T8=!1,T}function Xf(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var l=a.destroy;a.destroy=void 0,l!==void 0&&Wx(t,e,l)}a=a.next}while(a!==r)}}function b1(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function Qx(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function zU(n){var t=n.alternate;t!==null&&(n.alternate=null,zU(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[_l],delete t[R_],delete t[Lx],delete t[Dae],delete t[Lae])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $U(n){return n.tag===5||n.tag===3||n.tag===4}function k8(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$U(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Tb));else if(r!==4&&(n=n.child,n!==null))for(Yx(n,t,e),n=n.sibling;n!==null;)Yx(n,t,e),n=n.sibling}function Xx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Xx(n,t,e),n=n.sibling;n!==null;)Xx(n,t,e),n=n.sibling}var da=null,Po=!1;function Wc(n,t,e){for(e=e.child;e!==null;)qU(n,t,e),e=e.sibling}function qU(n,t,e){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(d1,e)}catch{}switch(e.tag){case 5:Ma||y0(e,t);case 6:var r=da,a=Po;da=null,Wc(n,t,e),da=r,Po=a,da!==null&&(Po?(n=da,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):da.removeChild(e.stateNode));break;case 18:da!==null&&(Po?(n=da,e=e.stateNode,n.nodeType===8?tw(n.parentNode,e):n.nodeType===1&&tw(n,e),C_(n)):tw(da,e.stateNode));break;case 4:r=da,a=Po,da=e.stateNode.containerInfo,Po=!0,Wc(n,t,e),da=r,Po=a;break;case 0:case 11:case 14:case 15:if(!Ma&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&Wx(e,t,u),a=a.next}while(a!==r)}Wc(n,t,e);break;case 1:if(!Ma&&(y0(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(h){mi(e,t,h)}Wc(n,t,e);break;case 21:Wc(n,t,e);break;case 22:e.mode&1?(Ma=(r=Ma)||e.memoizedState!==null,Wc(n,t,e),Ma=r):Wc(n,t,e);break;default:Wc(n,t,e)}}function C8(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Xae),t.forEach(function(r){var a=ose.bind(null,n,r);e.has(r)||(e.add(r),r.then(a,a))})}}function No(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var a=e[r];try{var l=n,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:da=h.stateNode,Po=!1;break e;case 3:da=h.stateNode.containerInfo,Po=!0;break e;case 4:da=h.stateNode.containerInfo,Po=!0;break e}h=h.return}if(da===null)throw Error(Ln(160));qU(l,u,a),da=null,Po=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(m){mi(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GU(t,n),t=t.sibling}function GU(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(No(t,n),sl(n),r&4){try{Xf(3,n,n.return),b1(3,n)}catch(A){mi(n,n.return,A)}try{Xf(5,n,n.return)}catch(A){mi(n,n.return,A)}}break;case 1:No(t,n),sl(n),r&512&&e!==null&&y0(e,e.return);break;case 5:if(No(t,n),sl(n),r&512&&e!==null&&y0(e,e.return),n.flags&32){var a=n.stateNode;try{x_(a,"")}catch(A){mi(n,n.return,A)}}if(r&4&&(a=n.stateNode,a!=null)){var l=n.memoizedProps,u=e!==null?e.memoizedProps:l,h=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{h==="input"&&l.type==="radio"&&l.name!=null&&hL(a,l),Ex(h,u);var m=Ex(h,l);for(u=0;u<f.length;u+=2){var g=f[u],x=f[u+1];g==="style"?vL(a,x):g==="dangerouslySetInnerHTML"?_L(a,x):g==="children"?x_(a,x):gS(a,g,x,m)}switch(h){case"input":mx(a,l);break;case"textarea":pL(a,l);break;case"select":var E=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?C0(a,!!l.multiple,w,!1):E!==!!l.multiple&&(l.defaultValue!=null?C0(a,!!l.multiple,l.defaultValue,!0):C0(a,!!l.multiple,l.multiple?[]:"",!1))}a[R_]=l}catch(A){mi(n,n.return,A)}}break;case 6:if(No(t,n),sl(n),r&4){if(n.stateNode===null)throw Error(Ln(162));a=n.stateNode,l=n.memoizedProps;try{a.nodeValue=l}catch(A){mi(n,n.return,A)}}break;case 3:if(No(t,n),sl(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{C_(t.containerInfo)}catch(A){mi(n,n.return,A)}break;case 4:No(t,n),sl(n);break;case 13:No(t,n),sl(n),a=n.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(XS=Ti())),r&4&&C8(n);break;case 22:if(g=e!==null&&e.memoizedState!==null,n.mode&1?(Ma=(m=Ma)||g,No(t,n),Ma=m):No(t,n),sl(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!g&&n.mode&1)for(ot=n,g=n.child;g!==null;){for(x=ot=g;ot!==null;){switch(E=ot,w=E.child,E.tag){case 0:case 11:case 14:case 15:Xf(4,E,E.return);break;case 1:y0(E,E.return);var T=E.stateNode;if(typeof T.componentWillUnmount=="function"){r=E,e=E.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(A){mi(r,e,A)}}break;case 5:y0(E,E.return);break;case 22:if(E.memoizedState!==null){I8(x);continue}}w!==null?(w.return=E,ot=w):I8(x)}g=g.sibling}e:for(g=null,x=n;;){if(x.tag===5){if(g===null){g=x;try{a=x.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(h=x.stateNode,f=x.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=mL("display",u))}catch(A){mi(n,n.return,A)}}}else if(x.tag===6){if(g===null)try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(A){mi(n,n.return,A)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===n)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;g===x&&(g=null),x=x.return}g===x&&(g=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:No(t,n),sl(n),r&4&&C8(n);break;case 21:break;default:No(t,n),sl(n)}}function sl(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if($U(e)){var r=e;break e}e=e.return}throw Error(Ln(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(x_(a,""),r.flags&=-33);var l=k8(n);Xx(n,l,a);break;case 3:case 4:var u=r.stateNode.containerInfo,h=k8(n);Yx(n,h,u);break;default:throw Error(Ln(161))}}catch(f){mi(n,n.return,f)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Jae(n,t,e){ot=n,jU(n)}function jU(n,t,e){for(var r=(n.mode&1)!==0;ot!==null;){var a=ot,l=a.child;if(a.tag===22&&r){var u=a.memoizedState!==null||fg;if(!u){var h=a.alternate,f=h!==null&&h.memoizedState!==null||Ma;h=fg;var m=Ma;if(fg=u,(Ma=f)&&!m)for(ot=a;ot!==null;)u=ot,f=u.child,u.tag===22&&u.memoizedState!==null?A8(a):f!==null?(f.return=u,ot=f):A8(a);for(;l!==null;)ot=l,jU(l),l=l.sibling;ot=a,fg=h,Ma=m}N8(n)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ot=l):N8(n)}}function N8(n){for(;ot!==null;){var t=ot;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ma||b1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ma)if(e===null)r.componentDidMount();else{var a=t.elementType===t.type?e.memoizedProps:Uo(t.type,e.memoizedProps);r.componentDidUpdate(a,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&d8(t,l,r);break;case 3:var u=t.updateQueue;if(u!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}d8(t,u,e)}break;case 5:var h=t.stateNode;if(e===null&&t.flags&4){e=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&e.focus();break;case"img":f.src&&(e.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var x=g.dehydrated;x!==null&&C_(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ln(163))}Ma||t.flags&512&&Qx(t)}catch(E){mi(t,t.return,E)}}if(t===n){ot=null;break}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function I8(n){for(;ot!==null;){var t=ot;if(t===n){ot=null;break}var e=t.sibling;if(e!==null){e.return=t.return,ot=e;break}ot=t.return}}function A8(n){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{b1(4,t)}catch(f){mi(t,e,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(f){mi(t,a,f)}}var l=t.return;try{Qx(t)}catch(f){mi(t,l,f)}break;case 5:var u=t.return;try{Qx(t)}catch(f){mi(t,u,f)}}}catch(f){mi(t,t.return,f)}if(t===n){ot=null;break}var h=t.sibling;if(h!==null){h.return=t.return,ot=h;break}ot=t.return}}var ese=Math.ceil,Ub=wc.ReactCurrentDispatcher,QS=wc.ReactCurrentOwner,ho=wc.ReactCurrentBatchConfig,fr=0,Zi=null,Oi=null,_a=0,As=0,E0=Du(0),$i=0,F_=null,Xd=0,y1=0,YS=0,Zf=null,cs=null,XS=0,V0=1/0,Zl=null,Pb=!1,Zx=null,vu=null,_g=!1,ou=null,Fb=0,Jf=0,Jx=null,Zg=-1,Jg=0;function Qa(){return fr&6?Ti():Zg!==-1?Zg:Zg=Ti()}function gu(n){return n.mode&1?fr&2&&_a!==0?_a&-_a:Pae.transition!==null?(Jg===0&&(Jg=IL()),Jg):(n=Mr,n!==0||(n=window.event,n=n===void 0?16:UL(n.type)),n):1}function zo(n,t,e,r){if(50<Jf)throw Jf=0,Jx=null,Error(Ln(185));J_(n,e,r),(!(fr&2)||n!==Zi)&&(n===Zi&&(!(fr&2)&&(y1|=e),$i===4&&iu(n,_a)),_s(n,r),e===1&&fr===0&&!(t.mode&1)&&(V0=Ti()+500,m1&&Lu()))}function _s(n,t){var e=n.callbackNode;Pie(n,t);var r=Eb(n,n===Zi?_a:0);if(r===0)e!==null&&HO(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&HO(e),t===1)n.tag===0?Uae(O8.bind(null,n)):nU(O8.bind(null,n)),Rae(function(){!(fr&6)&&Lu()}),e=null;else{switch(AL(r)){case 1:e=xS;break;case 4:e=CL;break;case 16:e=yb;break;case 536870912:e=NL;break;default:e=yb}e=eP(e,KU.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function KU(n,t){if(Zg=-1,Jg=0,fr&6)throw Error(Ln(327));var e=n.callbackNode;if(R0()&&n.callbackNode!==e)return null;var r=Eb(n,n===Zi?_a:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=Hb(n,r);else{t=r;var a=fr;fr|=2;var l=QU();(Zi!==n||_a!==t)&&(Zl=null,V0=Ti()+500,Bd(n,t));do try{rse();break}catch(h){WU(n,h)}while(1);US(),Ub.current=l,fr=a,Oi!==null?t=0:(Zi=null,_a=0,t=$i)}if(t!==0){if(t===2&&(a=kx(n),a!==0&&(r=a,t=e4(n,a))),t===1)throw e=F_,Bd(n,0),iu(n,r),_s(n,Ti()),e;if(t===6)iu(n,r);else{if(a=n.current.alternate,!(r&30)&&!nse(a)&&(t=Hb(n,r),t===2&&(l=kx(n),l!==0&&(r=l,t=e4(n,l))),t===1))throw e=F_,Bd(n,0),iu(n,r),_s(n,Ti()),e;switch(n.finishedWork=a,n.finishedLanes=r,t){case 0:case 1:throw Error(Ln(345));case 2:xd(n,cs,Zl);break;case 3:if(iu(n,r),(r&130023424)===r&&(t=XS+500-Ti(),10<t)){if(Eb(n,0)!==0)break;if(a=n.suspendedLanes,(a&r)!==r){Qa(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=Dx(xd.bind(null,n,cs,Zl),t);break}xd(n,cs,Zl);break;case 4:if(iu(n,r),(r&4194240)===r)break;for(t=n.eventTimes,a=-1;0<r;){var u=31-Vo(r);l=1<<u,u=t[u],u>a&&(a=u),r&=~l}if(r=a,r=Ti()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ese(r/1960))-r,10<r){n.timeoutHandle=Dx(xd.bind(null,n,cs,Zl),r);break}xd(n,cs,Zl);break;case 5:xd(n,cs,Zl);break;default:throw Error(Ln(329))}}}return _s(n,Ti()),n.callbackNode===e?KU.bind(null,n):null}function e4(n,t){var e=Zf;return n.current.memoizedState.isDehydrated&&(Bd(n,t).flags|=256),n=Hb(n,t),n!==2&&(t=cs,cs=e,t!==null&&n4(t)),n}function n4(n){cs===null?cs=n:cs.push.apply(cs,n)}function nse(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var a=e[r],l=a.getSnapshot;a=a.value;try{if(!$o(l(),a))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function iu(n,t){for(t&=~YS,t&=~y1,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Vo(t),r=1<<e;n[e]=-1,t&=~r}}function O8(n){if(fr&6)throw Error(Ln(327));R0();var t=Eb(n,0);if(!(t&1))return _s(n,Ti()),null;var e=Hb(n,t);if(n.tag!==0&&e===2){var r=kx(n);r!==0&&(t=r,e=e4(n,r))}if(e===1)throw e=F_,Bd(n,0),iu(n,t),_s(n,Ti()),e;if(e===6)throw Error(Ln(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,xd(n,cs,Zl),_s(n,Ti()),null}function ZS(n,t){var e=fr;fr|=1;try{return n(t)}finally{fr=e,fr===0&&(V0=Ti()+500,m1&&Lu())}}function Zd(n){ou!==null&&ou.tag===0&&!(fr&6)&&R0();var t=fr;fr|=1;var e=ho.transition,r=Mr;try{if(ho.transition=null,Mr=1,n)return n()}finally{Mr=r,ho.transition=e,fr=t,!(fr&6)&&Lu()}}function JS(){As=E0.current,Zr(E0)}function Bd(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Oae(e)),Oi!==null)for(e=Oi.return;e!==null;){var r=e;switch(MS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kb();break;case 3:H0(),Zr(ps),Zr(Ua),zS();break;case 5:VS(r);break;case 4:H0();break;case 13:Zr(oi);break;case 19:Zr(oi);break;case 10:PS(r.type._context);break;case 22:case 23:JS()}e=e.return}if(Zi=n,Oi=n=bu(n.current,null),_a=As=t,$i=0,F_=null,YS=y1=Xd=0,cs=Zf=null,Md!==null){for(t=0;t<Md.length;t++)if(e=Md[t],r=e.interleaved,r!==null){e.interleaved=null;var a=r.next,l=e.pending;if(l!==null){var u=l.next;l.next=a,r.next=u}e.pending=r}Md=null}return n}function WU(n,t){do{var e=Oi;try{if(US(),Qg.current=Lb,Db){for(var r=ui.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Db=!1}if(Yd=0,Wi=Vi=ui=null,Yf=!1,L_=0,QS.current=null,e===null||e.return===null){$i=1,F_=t,Oi=null;break}e:{var l=n,u=e.return,h=e,f=t;if(t=_a,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,g=h,x=g.tag;if(!(g.mode&1)&&(x===0||x===11||x===15)){var E=g.alternate;E?(g.updateQueue=E.updateQueue,g.memoizedState=E.memoizedState,g.lanes=E.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=g8(u);if(w!==null){w.flags&=-257,b8(w,u,h,l,t),w.mode&1&&v8(l,m,t),t=w,f=m;var T=t.updateQueue;if(T===null){var A=new Set;A.add(f),t.updateQueue=A}else T.add(f);break e}else{if(!(t&1)){v8(l,m,t),eT();break e}f=Error(Ln(426))}}else if(ai&&h.mode&1){var P=g8(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),b8(P,u,h,l,t),DS(B0(f,h));break e}}l=f=B0(f,h),$i!==4&&($i=2),Zf===null?Zf=[l]:Zf.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var C=OU(l,f,t);u8(l,C);break e;case 1:h=f;var k=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof k.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vu===null||!vu.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var D=RU(l,h,t);u8(l,D);break e}}l=l.return}while(l!==null)}XU(e)}catch(U){t=U,Oi===e&&e!==null&&(Oi=e=e.return);continue}break}while(1)}function QU(){var n=Ub.current;return Ub.current=Lb,n===null?Lb:n}function eT(){($i===0||$i===3||$i===2)&&($i=4),Zi===null||!(Xd&268435455)&&!(y1&268435455)||iu(Zi,_a)}function Hb(n,t){var e=fr;fr|=2;var r=QU();(Zi!==n||_a!==t)&&(Zl=null,Bd(n,t));do try{tse();break}catch(a){WU(n,a)}while(1);if(US(),fr=e,Ub.current=r,Oi!==null)throw Error(Ln(261));return Zi=null,_a=0,$i}function tse(){for(;Oi!==null;)YU(Oi)}function rse(){for(;Oi!==null&&!Nie();)YU(Oi)}function YU(n){var t=JU(n.alternate,n,As);n.memoizedProps=n.pendingProps,t===null?XU(n):Oi=t,QS.current=null}function XU(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=Yae(e,t),e!==null){e.flags&=32767,Oi=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{$i=6,Oi=null;return}}else if(e=Qae(e,t,As),e!==null){Oi=e;return}if(t=t.sibling,t!==null){Oi=t;return}Oi=t=n}while(t!==null);$i===0&&($i=5)}function xd(n,t,e){var r=Mr,a=ho.transition;try{ho.transition=null,Mr=1,ise(n,t,e,r)}finally{ho.transition=a,Mr=r}return null}function ise(n,t,e,r){do R0();while(ou!==null);if(fr&6)throw Error(Ln(327));e=n.finishedWork;var a=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Ln(177));n.callbackNode=null,n.callbackPriority=0;var l=e.lanes|e.childLanes;if(Fie(n,l),n===Zi&&(Oi=Zi=null,_a=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||_g||(_g=!0,eP(yb,function(){return R0(),null})),l=(e.flags&15990)!==0,e.subtreeFlags&15990||l){l=ho.transition,ho.transition=null;var u=Mr;Mr=1;var h=fr;fr|=4,QS.current=null,Zae(n,e),GU(e,n),Sae(Rx),wb=!!Ox,Rx=Ox=null,n.current=e,Jae(e),Iie(),fr=h,Mr=u,ho.transition=l}else n.current=e;if(_g&&(_g=!1,ou=n,Fb=a),l=n.pendingLanes,l===0&&(vu=null),Rie(e.stateNode),_s(n,Ti()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)a=t[e],r(a.value,{componentStack:a.stack,digest:a.digest});if(Pb)throw Pb=!1,n=Zx,Zx=null,n;return Fb&1&&n.tag!==0&&R0(),l=n.pendingLanes,l&1?n===Jx?Jf++:(Jf=0,Jx=n):Jf=0,Lu(),null}function R0(){if(ou!==null){var n=AL(Fb),t=ho.transition,e=Mr;try{if(ho.transition=null,Mr=16>n?16:n,ou===null)var r=!1;else{if(n=ou,ou=null,Fb=0,fr&6)throw Error(Ln(331));var a=fr;for(fr|=4,ot=n.current;ot!==null;){var l=ot,u=l.child;if(ot.flags&16){var h=l.deletions;if(h!==null){for(var f=0;f<h.length;f++){var m=h[f];for(ot=m;ot!==null;){var g=ot;switch(g.tag){case 0:case 11:case 15:Xf(8,g,l)}var x=g.child;if(x!==null)x.return=g,ot=x;else for(;ot!==null;){g=ot;var E=g.sibling,w=g.return;if(zU(g),g===m){ot=null;break}if(E!==null){E.return=w,ot=E;break}ot=w}}}var T=l.alternate;if(T!==null){var A=T.child;if(A!==null){T.child=null;do{var P=A.sibling;A.sibling=null,A=P}while(A!==null)}}ot=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,ot=u;else e:for(;ot!==null;){if(l=ot,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Xf(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,ot=C;break e}ot=l.return}}var k=n.current;for(ot=k;ot!==null;){u=ot;var I=u.child;if(u.subtreeFlags&2064&&I!==null)I.return=u,ot=I;else e:for(u=k;ot!==null;){if(h=ot,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:b1(9,h)}}catch(U){mi(h,h.return,U)}if(h===u){ot=null;break e}var D=h.sibling;if(D!==null){D.return=h.return,ot=D;break e}ot=h.return}}if(fr=a,Lu(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(d1,n)}catch{}r=!0}return r}finally{Mr=e,ho.transition=t}}return!1}function R8(n,t,e){t=B0(e,t),t=OU(n,t,1),n=mu(n,t,1),t=Qa(),n!==null&&(J_(n,1,t),_s(n,t))}function mi(n,t,e){if(n.tag===3)R8(n,n,e);else for(;t!==null;){if(t.tag===3){R8(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vu===null||!vu.has(r))){n=B0(e,n),n=RU(t,n,1),t=mu(t,n,1),n=Qa(),t!==null&&(J_(t,1,n),_s(t,n));break}}t=t.return}}function ase(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Qa(),n.pingedLanes|=n.suspendedLanes&e,Zi===n&&(_a&e)===e&&($i===4||$i===3&&(_a&130023424)===_a&&500>Ti()-XS?Bd(n,0):YS|=e),_s(n,t)}function ZU(n,t){t===0&&(n.mode&1?(t=ag,ag<<=1,!(ag&130023424)&&(ag=4194304)):t=1);var e=Qa();n=bc(n,t),n!==null&&(J_(n,t,e),_s(n,e))}function sse(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),ZU(n,e)}function ose(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,a=n.memoizedState;a!==null&&(e=a.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ln(314))}r!==null&&r.delete(t),ZU(n,e)}var JU;JU=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||ps.current)ds=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return ds=!1,Wae(n,t,e);ds=!!(n.flags&131072)}else ds=!1,ai&&t.flags&1048576&&tU(t,Ib,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xg(n,t),n=t.pendingProps;var a=U0(t,Ua.current);O0(t,e),a=qS(null,t,r,n,a,e);var l=GS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(r)?(l=!0,Cb(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,HS(t),a.updater=v1,t.stateNode=a,a._reactInternals=t,Vx(t,r,n,e),t=qx(null,t,r,!0,l,e)):(t.tag=0,ai&&l&&RS(t),Ga(null,t,a,e),t=t.child),t;case 16:r=t.elementType;e:{switch(Xg(n,t),n=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=cse(r),n=Uo(r,n),a){case 0:t=$x(null,t,r,n,e);break e;case 1:t=w8(null,t,r,n,e);break e;case 11:t=y8(null,t,r,n,e);break e;case 14:t=E8(null,t,r,Uo(r.type,n),e);break e}throw Error(Ln(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Uo(r,a),$x(n,t,r,a,e);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Uo(r,a),w8(n,t,r,a,e);case 3:e:{if(UU(t),n===null)throw Error(Ln(387));r=t.pendingProps,l=t.memoizedState,a=l.element,sU(n,t),Rb(t,r,null,e);var u=t.memoizedState;if(r=u.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=B0(Error(Ln(423)),t),t=x8(n,t,r,e,a);break e}else if(r!==a){a=B0(Error(Ln(424)),t),t=x8(n,t,r,e,a);break e}else for(Us=_u(t.stateNode.containerInfo.firstChild),Ps=t,ai=!0,Ho=null,e=uU(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(P0(),r===a){t=yc(n,t,e);break e}Ga(n,t,r,e)}t=t.child}return t;case 5:return dU(t),n===null&&Fx(t),r=t.type,a=t.pendingProps,l=n!==null?n.memoizedProps:null,u=a.children,Mx(r,a)?u=null:l!==null&&Mx(r,l)&&(t.flags|=32),LU(n,t),Ga(n,t,u,e),t.child;case 6:return n===null&&Fx(t),null;case 13:return PU(n,t,e);case 4:return BS(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=F0(t,null,r,e):Ga(n,t,r,e),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Uo(r,a),y8(n,t,r,a,e);case 7:return Ga(n,t,t.pendingProps,e),t.child;case 8:return Ga(n,t,t.pendingProps.children,e),t.child;case 12:return Ga(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,u=a.value,Kr(Ab,r._currentValue),r._currentValue=u,l!==null)if($o(l.value,u)){if(l.children===a.children&&!ps.current){t=yc(n,t,e);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var h=l.dependencies;if(h!==null){u=l.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(l.tag===1){f=pc(-1,e&-e),f.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?f.next=f:(f.next=g.next,g.next=f),m.pending=f}}l.lanes|=e,f=l.alternate,f!==null&&(f.lanes|=e),Hx(l.return,e,t),h.lanes|=e;break}f=f.next}}else if(l.tag===10)u=l.type===t.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(Ln(341));u.lanes|=e,h=u.alternate,h!==null&&(h.lanes|=e),Hx(u,e,t),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}Ga(n,t,a.children,e),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,O0(t,e),a=fo(a),r=r(a),t.flags|=1,Ga(n,t,r,e),t.child;case 14:return r=t.type,a=Uo(r,t.pendingProps),a=Uo(r.type,a),E8(n,t,r,a,e);case 15:return MU(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Uo(r,a),Xg(n,t),t.tag=1,fs(r)?(n=!0,Cb(t)):n=!1,O0(t,e),lU(t,r,a),Vx(t,r,a,e),qx(null,t,r,!0,n,e);case 19:return FU(n,t,e);case 22:return DU(n,t,e)}throw Error(Ln(156,t.tag))};function eP(n,t){return kL(n,t)}function lse(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(n,t,e,r){return new lse(n,t,e,r)}function nT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cse(n){if(typeof n=="function")return nT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yS)return 11;if(n===ES)return 14}return 2}function bu(n,t){var e=n.alternate;return e===null?(e=lo(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function eb(n,t,e,r,a,l){var u=2;if(r=n,typeof n=="function")nT(n)&&(u=1);else if(typeof n=="string")u=5;else e:switch(n){case d0:return Vd(e.children,a,l,t);case bS:u=8,a|=8;break;case dx:return n=lo(12,e,t,a|2),n.elementType=dx,n.lanes=l,n;case hx:return n=lo(13,e,t,a),n.elementType=hx,n.lanes=l,n;case px:return n=lo(19,e,t,a),n.elementType=px,n.lanes=l,n;case cL:return E1(e,a,l,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oL:u=10;break e;case lL:u=9;break e;case yS:u=11;break e;case ES:u=14;break e;case nu:u=16,r=null;break e}throw Error(Ln(130,n==null?n:typeof n,""))}return t=lo(u,e,t,a),t.elementType=n,t.type=r,t.lanes=l,t}function Vd(n,t,e,r){return n=lo(7,n,r,t),n.lanes=e,n}function E1(n,t,e,r){return n=lo(22,n,r,t),n.elementType=cL,n.lanes=e,n.stateNode={isHidden:!1},n}function uw(n,t,e){return n=lo(6,n,null,t),n.lanes=e,n}function dw(n,t,e){return t=lo(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function use(n,t,e,r,a){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G3(0),this.expirationTimes=G3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G3(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tT(n,t,e,r,a,l,u,h,f){return n=new use(n,t,e,h,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=lo(3,null,null,t),n.current=l,l.stateNode=n,l.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},HS(l),n}function dse(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u0,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function nP(n){if(!n)return Nu;n=n._reactInternals;e:{if(sh(n)!==n||n.tag!==1)throw Error(Ln(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ln(171))}if(n.tag===1){var e=n.type;if(fs(e))return eU(n,e,t)}return t}function tP(n,t,e,r,a,l,u,h,f){return n=tT(e,r,!0,n,a,l,u,h,f),n.context=nP(null),e=n.current,r=Qa(),a=gu(e),l=pc(r,a),l.callback=t??null,mu(e,l,a),n.current.lanes=a,J_(n,a,r),_s(n,r),n}function w1(n,t,e,r){var a=t.current,l=Qa(),u=gu(a);return e=nP(e),t.context===null?t.context=e:t.pendingContext=e,t=pc(l,u),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=mu(a,t,u),n!==null&&(zo(n,a,u,l),Wg(n,a,u)),u}function Bb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function M8(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function rT(n,t){M8(n,t),(n=n.alternate)&&M8(n,t)}function hse(){return null}var rP=typeof reportError=="function"?reportError:function(n){console.error(n)};function iT(n){this._internalRoot=n}x1.prototype.render=iT.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Ln(409));w1(n,t,null,null)};x1.prototype.unmount=iT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Zd(function(){w1(null,n,null,null)}),t[gc]=null}};function x1(n){this._internalRoot=n}x1.prototype.unstable_scheduleHydration=function(n){if(n){var t=ML();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ru.length&&t!==0&&t<ru[e].priority;e++);ru.splice(e,0,n),e===0&&LL(n)}};function aT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function S1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function D8(){}function pse(n,t,e,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var m=Bb(u);l.call(m)}}var u=tP(t,r,n,0,null,!1,!1,"",D8);return n._reactRootContainer=u,n[gc]=u.current,A_(n.nodeType===8?n.parentNode:n),Zd(),u}for(;a=n.lastChild;)n.removeChild(a);if(typeof r=="function"){var h=r;r=function(){var m=Bb(f);h.call(m)}}var f=tT(n,0,!1,null,null,!1,!1,"",D8);return n._reactRootContainer=f,n[gc]=f.current,A_(n.nodeType===8?n.parentNode:n),Zd(function(){w1(t,f,e,r)}),f}function T1(n,t,e,r,a){var l=e._reactRootContainer;if(l){var u=l;if(typeof a=="function"){var h=a;a=function(){var f=Bb(u);h.call(f)}}w1(t,u,n,a)}else u=pse(e,t,n,a,r);return Bb(u)}OL=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Lf(t.pendingLanes);e!==0&&(SS(t,e|1),_s(t,Ti()),!(fr&6)&&(V0=Ti()+500,Lu()))}break;case 13:Zd(function(){var r=bc(n,1);if(r!==null){var a=Qa();zo(r,n,1,a)}}),rT(n,1)}};TS=function(n){if(n.tag===13){var t=bc(n,134217728);if(t!==null){var e=Qa();zo(t,n,134217728,e)}rT(n,134217728)}};RL=function(n){if(n.tag===13){var t=gu(n),e=bc(n,t);if(e!==null){var r=Qa();zo(e,n,t,r)}rT(n,t)}};ML=function(){return Mr};DL=function(n,t){var e=Mr;try{return Mr=n,t()}finally{Mr=e}};xx=function(n,t,e){switch(t){case"input":if(mx(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var a=_1(r);if(!a)throw Error(Ln(90));dL(r),mx(r,a)}}}break;case"textarea":pL(n,e);break;case"select":t=e.value,t!=null&&C0(n,!!e.multiple,t,!1)}};yL=ZS;EL=Zd;var fse={usingClientEntryPoint:!1,Events:[nm,_0,_1,gL,bL,ZS]},yf={findFiberByHostInstance:Rd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_se={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=SL(n),n===null?null:n.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||hse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{d1=mg.inject(_se),wl=mg}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fse;Bs.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aT(t))throw Error(Ln(200));return dse(n,t,null,e)};Bs.createRoot=function(n,t){if(!aT(n))throw Error(Ln(299));var e=!1,r="",a=rP;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tT(n,1,!1,null,null,e,!1,r,a),n[gc]=t.current,A_(n.nodeType===8?n.parentNode:n),new iT(t)};Bs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Ln(188)):(n=Object.keys(n).join(","),Error(Ln(268,n)));return n=SL(t),n=n===null?null:n.stateNode,n};Bs.flushSync=function(n){return Zd(n)};Bs.hydrate=function(n,t,e){if(!S1(t))throw Error(Ln(200));return T1(null,n,t,!0,e)};Bs.hydrateRoot=function(n,t,e){if(!aT(n))throw Error(Ln(405));var r=e!=null&&e.hydratedSources||null,a=!1,l="",u=rP;if(e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),t=tP(t,null,n,1,e??null,a,!1,l,u),n[gc]=t.current,A_(n),r)for(n=0;n<r.length;n++)e=r[n],a=e._getVersion,a=a(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,a]:t.mutableSourceEagerHydrationData.push(e,a);return new x1(t)};Bs.render=function(n,t,e){if(!S1(t))throw Error(Ln(200));return T1(null,n,t,!1,e)};Bs.unmountComponentAtNode=function(n){if(!S1(n))throw Error(Ln(40));return n._reactRootContainer?(Zd(function(){T1(null,null,n,!1,function(){n._reactRootContainer=null,n[gc]=null})}),!0):!1};Bs.unstable_batchedUpdates=ZS;Bs.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!S1(e))throw Error(Ln(200));if(n==null||n._reactInternals===void 0)throw Error(Ln(38));return T1(n,t,e,!1,r)};Bs.version="18.2.0-next-9e3b772b8-20220608";function iP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iP)}catch(n){console.error(n)}}iP(),tL.exports=Bs;var rm=tL.exports,L8=rm;cx.createRoot=L8.createRoot,cx.hydrateRoot=L8.hydrateRoot;function hw(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.addEventListener&&n.addEventListener.apply(n,t)}function pw(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.removeEventListener&&n.removeEventListener.apply(n,t)}var aP=typeof window<"u",U8=function(n){var t=window.history,e=t[n];t[n]=function(r){var a=e.apply(this,arguments),l=new Event(n.toLowerCase());return l.state=r,window.dispatchEvent(l),a}};aP&&(U8("pushState"),U8("replaceState"));var mse=function(){return{trigger:"load",length:1}},vg=function(n){var t=window.history,e=t.state,r=t.length,a=window.location,l=a.hash,u=a.host,h=a.hostname,f=a.href,m=a.origin,g=a.pathname,x=a.port,E=a.protocol,w=a.search;return{trigger:n,state:e,length:r,hash:l,host:u,hostname:h,href:f,origin:m,pathname:g,port:x,protocol:E,search:w}},vse=function(){var n=Q.useState(vg("load")),t=n[0],e=n[1];return Q.useEffect(function(){var r=function(){return e(vg("popstate"))},a=function(){return e(vg("pushstate"))},l=function(){return e(vg("replacestate"))};return hw(window,"popstate",r),hw(window,"pushstate",a),hw(window,"replacestate",l),function(){pw(window,"popstate",r),pw(window,"pushstate",a),pw(window,"replacestate",l)}},[]),t},gse=typeof Event=="function";const bse=aP&&gse?vse:mse;function yse(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if(r!=="default"&&!(r in n)){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(n)}var yu=function(){return yu=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},yu.apply(this,arguments)};function va(n,t,e,r){function a(l){return l instanceof e?l:new e(function(u){u(l)})}return new(e||(e=Promise))(function(l,u){function h(g){try{m(r.next(g))}catch(x){u(x)}}function f(g){try{m(r.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):a(g.value).then(h,f)}m((r=r.apply(n,t||[])).next())})}function ga(n,t){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(g){return f([m,g])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,a=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){e=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){e.label=m[1];break}if(m[0]===6&&e.label<l[1]){e.label=l[1],l=m;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(m);break}l[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(n,e)}catch(g){m=[6,g],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function hs(n,t,e){if(e||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return n.concat(l||Array.prototype.slice.call(t))}var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={exports:{}};(function(n,t){(function(e,r){r(t)})(c0,function(e){function r(s,o){return o.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(c){if(c!=="default"&&!(c in s)){var d=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(s,c,d.get?d:{enumerable:!0,get:function(){return i[c]}})}})}),Object.freeze(s)}function a(s,o){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);o&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),i.push.apply(i,c)}return i}function l(s){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?a(Object(i),!0).forEach(function(c){w(s,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(i,c))})}return s}function u(){u=function(){return s};var s={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(wn,yn,Bn){wn[yn]=Bn.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",_=d.asyncIterator||"@@asyncIterator",v=d.toStringTag||"@@toStringTag";function b(wn,yn,Bn){return Object.defineProperty(wn,yn,{value:Bn,enumerable:!0,configurable:!0,writable:!0}),wn[yn]}try{b({},"")}catch{b=function(yn,Bn,wt){return yn[Bn]=wt}}function y(wn,yn,Bn,wt){var ft=yn&&yn.prototype instanceof V?yn:V,$t=Object.create(ft.prototype),Ur=new Qe(wt||[]);return c($t,"_invoke",{value:ye(wn,Bn,Ur)}),$t}function S(wn,yn,Bn){try{return{type:"normal",arg:wn.call(yn,Bn)}}catch(wt){return{type:"throw",arg:wt}}}s.wrap=y;var R={};function V(){}function q(){}function ne(){}var Z={};b(Z,p,function(){return this});var se=Object.getPrototypeOf,xe=se&&se(se(Sn([])));xe&&xe!==o&&i.call(xe,p)&&(Z=xe);var Ce=ne.prototype=V.prototype=Object.create(Z);function Le(wn){["next","throw","return"].forEach(function(yn){b(wn,yn,function(Bn){return this._invoke(yn,Bn)})})}function Fe(wn,yn){function Bn(ft,$t,Ur,Ta){var pr=S(wn[ft],wn,$t);if(pr.type!=="throw"){var Co=pr.arg,Wl=Co.value;return Wl&&typeof Wl=="object"&&i.call(Wl,"__await")?yn.resolve(Wl.__await).then(function(al){Bn("next",al,Ur,Ta)},function(al){Bn("throw",al,Ur,Ta)}):yn.resolve(Wl).then(function(al){Co.value=al,Ur(Co)},function(al){return Bn("throw",al,Ur,Ta)})}Ta(pr.arg)}var wt;c(this,"_invoke",{value:function(ft,$t){function Ur(){return new yn(function(Ta,pr){Bn(ft,$t,Ta,pr)})}return wt=wt?wt.then(Ur,Ur):Ur()}})}function ye(wn,yn,Bn){var wt="suspendedStart";return function(ft,$t){if(wt==="executing")throw new Error("Generator is already running");if(wt==="completed"){if(ft==="throw")throw $t;return bt()}for(Bn.method=ft,Bn.arg=$t;;){var Ur=Bn.delegate;if(Ur){var Ta=be(Ur,Bn);if(Ta){if(Ta===R)continue;return Ta}}if(Bn.method==="next")Bn.sent=Bn._sent=Bn.arg;else if(Bn.method==="throw"){if(wt==="suspendedStart")throw wt="completed",Bn.arg;Bn.dispatchException(Bn.arg)}else Bn.method==="return"&&Bn.abrupt("return",Bn.arg);wt="executing";var pr=S(wn,yn,Bn);if(pr.type==="normal"){if(wt=Bn.done?"completed":"suspendedYield",pr.arg===R)continue;return{value:pr.arg,done:Bn.done}}pr.type==="throw"&&(wt="completed",Bn.method="throw",Bn.arg=pr.arg)}}}function be(wn,yn){var Bn=yn.method,wt=wn.iterator[Bn];if(wt===void 0)return yn.delegate=null,Bn==="throw"&&wn.iterator.return&&(yn.method="return",yn.arg=void 0,be(wn,yn),yn.method==="throw")||Bn!=="return"&&(yn.method="throw",yn.arg=new TypeError("The iterator does not provide a '"+Bn+"' method")),R;var ft=S(wt,wn.iterator,yn.arg);if(ft.type==="throw")return yn.method="throw",yn.arg=ft.arg,yn.delegate=null,R;var $t=ft.arg;return $t?$t.done?(yn[wn.resultName]=$t.value,yn.next=wn.nextLoc,yn.method!=="return"&&(yn.method="next",yn.arg=void 0),yn.delegate=null,R):$t:(yn.method="throw",yn.arg=new TypeError("iterator result is not an object"),yn.delegate=null,R)}function nn(wn){var yn={tryLoc:wn[0]};1 in wn&&(yn.catchLoc=wn[1]),2 in wn&&(yn.finallyLoc=wn[2],yn.afterLoc=wn[3]),this.tryEntries.push(yn)}function Ze(wn){var yn=wn.completion||{};yn.type="normal",delete yn.arg,wn.completion=yn}function Qe(wn){this.tryEntries=[{tryLoc:"root"}],wn.forEach(nn,this),this.reset(!0)}function Sn(wn){if(wn){var yn=wn[p];if(yn)return yn.call(wn);if(typeof wn.next=="function")return wn;if(!isNaN(wn.length)){var Bn=-1,wt=function ft(){for(;++Bn<wn.length;)if(i.call(wn,Bn))return ft.value=wn[Bn],ft.done=!1,ft;return ft.value=void 0,ft.done=!0,ft};return wt.next=wt}}return{next:bt}}function bt(){return{value:void 0,done:!0}}return q.prototype=ne,c(Ce,"constructor",{value:ne,configurable:!0}),c(ne,"constructor",{value:q,configurable:!0}),q.displayName=b(ne,v,"GeneratorFunction"),s.isGeneratorFunction=function(wn){var yn=typeof wn=="function"&&wn.constructor;return!!yn&&(yn===q||(yn.displayName||yn.name)==="GeneratorFunction")},s.mark=function(wn){return Object.setPrototypeOf?Object.setPrototypeOf(wn,ne):(wn.__proto__=ne,b(wn,v,"GeneratorFunction")),wn.prototype=Object.create(Ce),wn},s.awrap=function(wn){return{__await:wn}},Le(Fe.prototype),b(Fe.prototype,_,function(){return this}),s.AsyncIterator=Fe,s.async=function(wn,yn,Bn,wt,ft){ft===void 0&&(ft=Promise);var $t=new Fe(y(wn,yn,Bn,wt),ft);return s.isGeneratorFunction(yn)?$t:$t.next().then(function(Ur){return Ur.done?Ur.value:$t.next()})},Le(Ce),b(Ce,v,"Generator"),b(Ce,p,function(){return this}),b(Ce,"toString",function(){return"[object Generator]"}),s.keys=function(wn){var yn=Object(wn),Bn=[];for(var wt in yn)Bn.push(wt);return Bn.reverse(),function ft(){for(;Bn.length;){var $t=Bn.pop();if($t in yn)return ft.value=$t,ft.done=!1,ft}return ft.done=!0,ft}},s.values=Sn,Qe.prototype={constructor:Qe,reset:function(wn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ze),!wn)for(var yn in this)yn.charAt(0)==="t"&&i.call(this,yn)&&!isNaN(+yn.slice(1))&&(this[yn]=void 0)},stop:function(){this.done=!0;var wn=this.tryEntries[0].completion;if(wn.type==="throw")throw wn.arg;return this.rval},dispatchException:function(wn){if(this.done)throw wn;var yn=this;function Bn(pr,Co){return $t.type="throw",$t.arg=wn,yn.next=pr,Co&&(yn.method="next",yn.arg=void 0),!!Co}for(var wt=this.tryEntries.length-1;wt>=0;--wt){var ft=this.tryEntries[wt],$t=ft.completion;if(ft.tryLoc==="root")return Bn("end");if(ft.tryLoc<=this.prev){var Ur=i.call(ft,"catchLoc"),Ta=i.call(ft,"finallyLoc");if(Ur&&Ta){if(this.prev<ft.catchLoc)return Bn(ft.catchLoc,!0);if(this.prev<ft.finallyLoc)return Bn(ft.finallyLoc)}else if(Ur){if(this.prev<ft.catchLoc)return Bn(ft.catchLoc,!0)}else{if(!Ta)throw new Error("try statement without catch or finally");if(this.prev<ft.finallyLoc)return Bn(ft.finallyLoc)}}}},abrupt:function(wn,yn){for(var Bn=this.tryEntries.length-1;Bn>=0;--Bn){var wt=this.tryEntries[Bn];if(wt.tryLoc<=this.prev&&i.call(wt,"finallyLoc")&&this.prev<wt.finallyLoc){var ft=wt;break}}ft&&(wn==="break"||wn==="continue")&&ft.tryLoc<=yn&&yn<=ft.finallyLoc&&(ft=null);var $t=ft?ft.completion:{};return $t.type=wn,$t.arg=yn,ft?(this.method="next",this.next=ft.finallyLoc,R):this.complete($t)},complete:function(wn,yn){if(wn.type==="throw")throw wn.arg;return wn.type==="break"||wn.type==="continue"?this.next=wn.arg:wn.type==="return"?(this.rval=this.arg=wn.arg,this.method="return",this.next="end"):wn.type==="normal"&&yn&&(this.next=yn),R},finish:function(wn){for(var yn=this.tryEntries.length-1;yn>=0;--yn){var Bn=this.tryEntries[yn];if(Bn.finallyLoc===wn)return this.complete(Bn.completion,Bn.afterLoc),Ze(Bn),R}},catch:function(wn){for(var yn=this.tryEntries.length-1;yn>=0;--yn){var Bn=this.tryEntries[yn];if(Bn.tryLoc===wn){var wt=Bn.completion;if(wt.type==="throw"){var ft=wt.arg;Ze(Bn)}return ft}}throw new Error("illegal catch attempt")},delegateYield:function(wn,yn,Bn){return this.delegate={iterator:Sn(wn),resultName:yn,nextLoc:Bn},this.method==="next"&&(this.arg=void 0),R}},s}function h(s){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},h(s)}function f(s,o,i,c,d,p,_){try{var v=s[p](_),b=v.value}catch(y){return void i(y)}v.done?o(b):Promise.resolve(b).then(c,d)}function m(s){return function(){var o=this,i=arguments;return new Promise(function(c,d){var p=s.apply(o,i);function _(b){f(p,c,d,_,v,"next",b)}function v(b){f(p,c,d,_,v,"throw",b)}_(void 0)})}}function g(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function x(s,o){for(var i=0;i<o.length;i++){var c=o[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,ae(c.key),c)}}function E(s,o,i){return o&&x(s.prototype,o),i&&x(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function w(s,o,i){return(o=ae(o))in s?Object.defineProperty(s,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[o]=i,s}function T(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&P(s,o)}function A(s){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},A(s)}function P(s,o){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},P(s,o)}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(s,o,i){return k=C()?Reflect.construct.bind():function(c,d,p){var _=[null];_.push.apply(_,d);var v=new(Function.bind.apply(c,_));return p&&P(v,p.prototype),v},k.apply(null,arguments)}function I(s){var o=typeof Map=="function"?new Map:void 0;return I=function(i){if(i===null||!function(d){return Function.toString.call(d).indexOf("[native code]")!==-1}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(i))return o.get(i);o.set(i,c)}function c(){return k(i,arguments,A(this).constructor)}return c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),P(c,i)},I(s)}function D(s,o){if(s==null)return{};var i,c,d=function(_,v){if(_==null)return{};var b,y,S={},R=Object.keys(_);for(y=0;y<R.length;y++)b=R[y],v.indexOf(b)>=0||(S[b]=_[b]);return S}(s,o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(s);for(c=0;c<p.length;c++)i=p[c],o.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(s,i)&&(d[i]=s[i])}return d}function U(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function O(s){var o=C();return function(){var i,c=A(s);if(o){var d=A(this).constructor;i=Reflect.construct(c,arguments,d)}else i=c.apply(this,arguments);return function(p,_){if(_&&(typeof _=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(p)}(this,i)}}function N(s){return function(o){if(Array.isArray(o))return K(o)}(s)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(s)||L(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(s,o){if(s){if(typeof s=="string")return K(s,o);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?K(s,o):void 0}}function K(s,o){(o==null||o>s.length)&&(o=s.length);for(var i=0,c=new Array(o);i<o;i++)c[i]=s[i];return c}function z(s,o){var i=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=L(s))||o&&s&&typeof s.length=="number"){i&&(s=i);var c=0,d=function(){};return{s:d,n:function(){return c>=s.length?{done:!0}:{done:!1,value:s[c++]}},e:function(b){throw b},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,_=!0,v=!1;return{s:function(){i=i.call(s)},n:function(){var b=i.next();return _=b.done,b},e:function(b){v=!0,p=b},f:function(){try{_||i.return==null||i.return()}finally{if(v)throw p}}}}function ae(s){var o=function(i,c){if(typeof i!="object"||i===null)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var p=d.call(i,c||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(s,"string");return typeof o=="symbol"?o:String(o)}var fe,B=new Uint8Array(16);function J(){if(!fe&&!(fe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fe(B)}var ce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function W(s){return typeof s=="string"&&ce.test(s)}for(var _e=[],oe=0;oe<256;++oe)_e.push((oe+256).toString(16).substr(1));function le(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(_e[s[o+0]]+_e[s[o+1]]+_e[s[o+2]]+_e[s[o+3]]+"-"+_e[s[o+4]]+_e[s[o+5]]+"-"+_e[s[o+6]]+_e[s[o+7]]+"-"+_e[s[o+8]]+_e[s[o+9]]+"-"+_e[s[o+10]]+_e[s[o+11]]+_e[s[o+12]]+_e[s[o+13]]+_e[s[o+14]]+_e[s[o+15]]).toLowerCase();if(!W(i))throw TypeError("Stringified UUID is invalid");return i}var ve="6ba7b810-9dad-11d1-80b4-00c04fd430c8",De="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function pe(s,o,i){function c(d,p,_,v){if(typeof d=="string"&&(d=function(S){S=unescape(encodeURIComponent(S));for(var R=[],V=0;V<S.length;++V)R.push(S.charCodeAt(V));return R}(d)),typeof p=="string"&&(p=function(S){if(!W(S))throw TypeError("Invalid UUID");var R,V=new Uint8Array(16);return V[0]=(R=parseInt(S.slice(0,8),16))>>>24,V[1]=R>>>16&255,V[2]=R>>>8&255,V[3]=255&R,V[4]=(R=parseInt(S.slice(9,13),16))>>>8,V[5]=255&R,V[6]=(R=parseInt(S.slice(14,18),16))>>>8,V[7]=255&R,V[8]=(R=parseInt(S.slice(19,23),16))>>>8,V[9]=255&R,V[10]=(R=parseInt(S.slice(24,36),16))/1099511627776&255,V[11]=R/4294967296&255,V[12]=R>>>24&255,V[13]=R>>>16&255,V[14]=R>>>8&255,V[15]=255&R,V}(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+d.length);if(b.set(p),b.set(d,p.length),(b=i(b))[6]=15&b[6]|o,b[8]=63&b[8]|128,_){v=v||0;for(var y=0;y<16;++y)_[v+y]=b[y];return _}return le(b)}try{c.name=s}catch{}return c.DNS=ve,c.URL=De,c}function he(s){return 14+(s+64>>>9<<4)+1}function G(s,o){var i=(65535&s)+(65535&o);return(s>>16)+(o>>16)+(i>>16)<<16|65535&i}function ee(s,o,i,c,d,p){return G((_=G(G(o,s),G(c,p)))<<(v=d)|_>>>32-v,i);var _,v}function $(s,o,i,c,d,p,_){return ee(o&i|~o&c,s,o,d,p,_)}function ie(s,o,i,c,d,p,_){return ee(o&c|i&~c,s,o,d,p,_)}function Oe(s,o,i,c,d,p,_){return ee(o^i^c,s,o,d,p,_)}function qe(s,o,i,c,d,p,_){return ee(i^(o|~c),s,o,d,p,_)}function Re(s,o,i){var c=(s=s||{}).random||(s.rng||J)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,o){i=i||0;for(var d=0;d<16;++d)o[i+d]=c[d];return o}return le(c)}function Se(s,o,i,c){switch(s){case 0:return o&i^~o&c;case 1:case 3:return o^i^c;case 2:return o&i^o&c^i&c}}function je(s,o){return s<<o|s>>>32-o}pe("v3",48,function(s){if(typeof s=="string"){var o=unescape(encodeURIComponent(s));s=new Uint8Array(o.length);for(var i=0;i<o.length;++i)s[i]=o.charCodeAt(i)}return function(c){for(var d=[],p=32*c.length,_="0123456789abcdef",v=0;v<p;v+=8){var b=c[v>>5]>>>v%32&255,y=parseInt(_.charAt(b>>>4&15)+_.charAt(15&b),16);d.push(y)}return d}(function(c,d){c[d>>5]|=128<<d%32,c[he(d)-1]=d;for(var p=1732584193,_=-271733879,v=-1732584194,b=271733878,y=0;y<c.length;y+=16){var S=p,R=_,V=v,q=b;p=$(p,_,v,b,c[y],7,-680876936),b=$(b,p,_,v,c[y+1],12,-389564586),v=$(v,b,p,_,c[y+2],17,606105819),_=$(_,v,b,p,c[y+3],22,-1044525330),p=$(p,_,v,b,c[y+4],7,-176418897),b=$(b,p,_,v,c[y+5],12,1200080426),v=$(v,b,p,_,c[y+6],17,-1473231341),_=$(_,v,b,p,c[y+7],22,-45705983),p=$(p,_,v,b,c[y+8],7,1770035416),b=$(b,p,_,v,c[y+9],12,-1958414417),v=$(v,b,p,_,c[y+10],17,-42063),_=$(_,v,b,p,c[y+11],22,-1990404162),p=$(p,_,v,b,c[y+12],7,1804603682),b=$(b,p,_,v,c[y+13],12,-40341101),v=$(v,b,p,_,c[y+14],17,-1502002290),p=ie(p,_=$(_,v,b,p,c[y+15],22,1236535329),v,b,c[y+1],5,-165796510),b=ie(b,p,_,v,c[y+6],9,-1069501632),v=ie(v,b,p,_,c[y+11],14,643717713),_=ie(_,v,b,p,c[y],20,-373897302),p=ie(p,_,v,b,c[y+5],5,-701558691),b=ie(b,p,_,v,c[y+10],9,38016083),v=ie(v,b,p,_,c[y+15],14,-660478335),_=ie(_,v,b,p,c[y+4],20,-405537848),p=ie(p,_,v,b,c[y+9],5,568446438),b=ie(b,p,_,v,c[y+14],9,-1019803690),v=ie(v,b,p,_,c[y+3],14,-187363961),_=ie(_,v,b,p,c[y+8],20,1163531501),p=ie(p,_,v,b,c[y+13],5,-1444681467),b=ie(b,p,_,v,c[y+2],9,-51403784),v=ie(v,b,p,_,c[y+7],14,1735328473),p=Oe(p,_=ie(_,v,b,p,c[y+12],20,-1926607734),v,b,c[y+5],4,-378558),b=Oe(b,p,_,v,c[y+8],11,-2022574463),v=Oe(v,b,p,_,c[y+11],16,1839030562),_=Oe(_,v,b,p,c[y+14],23,-35309556),p=Oe(p,_,v,b,c[y+1],4,-1530992060),b=Oe(b,p,_,v,c[y+4],11,1272893353),v=Oe(v,b,p,_,c[y+7],16,-155497632),_=Oe(_,v,b,p,c[y+10],23,-1094730640),p=Oe(p,_,v,b,c[y+13],4,681279174),b=Oe(b,p,_,v,c[y],11,-358537222),v=Oe(v,b,p,_,c[y+3],16,-722521979),_=Oe(_,v,b,p,c[y+6],23,76029189),p=Oe(p,_,v,b,c[y+9],4,-640364487),b=Oe(b,p,_,v,c[y+12],11,-421815835),v=Oe(v,b,p,_,c[y+15],16,530742520),p=qe(p,_=Oe(_,v,b,p,c[y+2],23,-995338651),v,b,c[y],6,-198630844),b=qe(b,p,_,v,c[y+7],10,1126891415),v=qe(v,b,p,_,c[y+14],15,-1416354905),_=qe(_,v,b,p,c[y+5],21,-57434055),p=qe(p,_,v,b,c[y+12],6,1700485571),b=qe(b,p,_,v,c[y+3],10,-1894986606),v=qe(v,b,p,_,c[y+10],15,-1051523),_=qe(_,v,b,p,c[y+1],21,-2054922799),p=qe(p,_,v,b,c[y+8],6,1873313359),b=qe(b,p,_,v,c[y+15],10,-30611744),v=qe(v,b,p,_,c[y+6],15,-1560198380),_=qe(_,v,b,p,c[y+13],21,1309151649),p=qe(p,_,v,b,c[y+4],6,-145523070),b=qe(b,p,_,v,c[y+11],10,-1120210379),v=qe(v,b,p,_,c[y+2],15,718787259),_=qe(_,v,b,p,c[y+9],21,-343485551),p=G(p,S),_=G(_,R),v=G(v,V),b=G(b,q)}return[p,_,v,b]}(function(c){if(c.length===0)return[];for(var d=8*c.length,p=new Uint32Array(he(d)),_=0;_<d;_+=8)p[_>>5]|=(255&c[_/8])<<_%32;return p}(s),8*s.length))}),pe("v5",80,function(s){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var c=unescape(encodeURIComponent(s));s=[];for(var d=0;d<c.length;++d)s.push(c.charCodeAt(d))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var p=s.length/4+2,_=Math.ceil(p/16),v=new Array(_),b=0;b<_;++b){for(var y=new Uint32Array(16),S=0;S<16;++S)y[S]=s[64*b+4*S]<<24|s[64*b+4*S+1]<<16|s[64*b+4*S+2]<<8|s[64*b+4*S+3];v[b]=y}v[_-1][14]=8*(s.length-1)/Math.pow(2,32),v[_-1][14]=Math.floor(v[_-1][14]),v[_-1][15]=8*(s.length-1)&4294967295;for(var R=0;R<_;++R){for(var V=new Uint32Array(80),q=0;q<16;++q)V[q]=v[R][q];for(var ne=16;ne<80;++ne)V[ne]=je(V[ne-3]^V[ne-8]^V[ne-14]^V[ne-16],1);for(var Z=i[0],se=i[1],xe=i[2],Ce=i[3],Le=i[4],Fe=0;Fe<80;++Fe){var ye=Math.floor(Fe/20),be=je(Z,5)+Se(ye,se,xe,Ce)+Le+o[ye]+V[Fe]>>>0;Le=Ce,Ce=xe,xe=je(se,30)>>>0,se=Z,Z=be}i[0]=i[0]+Z>>>0,i[1]=i[1]+se>>>0,i[2]=i[2]+xe>>>0,i[3]=i[3]+Ce>>>0,i[4]=i[4]+Le>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]});var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof c0<"u"?c0:typeof self<"u"?self:{},We=function(s){try{return!!s()}catch{return!0}},rn=!We(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}),un=rn,pn=Function.prototype,vn=pn.call,Hn=un&&pn.bind.bind(vn,vn),Tn=un?Hn:function(s){return function(){return vn.apply(s,arguments)}},j=Tn,te=j({}.toString),En=j("".slice),Nn=function(s){return En(te(s),8,-1)},Zn=We,Gn=Nn,$n=Object,Vn=Tn("".split),mt=Zn(function(){return!$n("z").propertyIsEnumerable(0)})?function(s){return Gn(s)=="String"?Vn(s,""):$n(s)}:$n,qn=function(s){return s==null},In=qn,Ot=TypeError,lt=function(s){if(In(s))throw Ot("Can't call method on "+s);return s},Yn=mt,Fn=lt,fn=function(s){return Yn(Fn(s))},ct=function(s){return s&&s.Math==Math&&s},jn=ct(typeof globalThis=="object"&&globalThis)||ct(typeof window=="object"&&window)||ct(typeof self=="object"&&self)||ct(typeof Be=="object"&&Be)||function(){return this}()||Function("return this")(),Tt={exports:{}},Ct=jn,br=Object.defineProperty,Wr=function(s,o){try{br(Ct,s,{value:o,configurable:!0,writable:!0})}catch{Ct[s]=o}return o},Vr=Wr,ts="__core-js_shared__",ki=jn[ts]||Vr(ts,{}),Pa=ki;(Tt.exports=function(s,o){return Pa[s]||(Pa[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var zr,ue,de=lt,Te=Object,Ae=function(s){return Te(de(s))},Ve=Ae,ge=Tn({}.hasOwnProperty),Pe=Object.hasOwn||function(s,o){return ge(Ve(s),o)},Ge=Tn,He=0,sn=Math.random(),Xe=Ge(1 .toString),an=function(s){return"Symbol("+(s===void 0?"":s)+")_"+Xe(++He+sn,36)},On=typeof navigator<"u"&&String(navigator.userAgent)||"",rt=jn,Ye=On,ke=rt.process,Ie=rt.Deno,tn=ke&&ke.versions||Ie&&Ie.version,Kn=tn&&tn.v8;Kn&&(ue=(zr=Kn.split("."))[0]>0&&zr[0]<4?1:+(zr[0]+zr[1])),!ue&&Ye&&(!(zr=Ye.match(/Edge\/(\d+)/))||zr[1]>=74)&&(zr=Ye.match(/Chrome\/(\d+)/))&&(ue=+zr[1]);var ln=ue,Un=ln,on=We,Xn=!!Object.getOwnPropertySymbols&&!on(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&Un&&Un<41}),Gt=Xn&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Dn=jn,Et=Tt.exports,At=Pe,mr=an,Ci=Xn,Dr=Gt,ir=Dn.Symbol,pi=Et("wks"),Mi=Dr?ir.for||ir:ir&&ir.withoutSetter||mr,Pt=function(s){return At(pi,s)||(pi[s]=Ci&&At(ir,s)?ir[s]:Mi("Symbol."+s)),pi[s]},Ni=typeof document=="object"&&document.all,Di={all:Ni,IS_HTMLDDA:Ni===void 0&&Ni!==void 0},vi=Di.all,er=Di.IS_HTMLDDA?function(s){return typeof s=="function"||s===vi}:function(s){return typeof s=="function"},gs=er,Rl=Di.all,si=Di.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:gs(s)||s===Rl}:function(s){return typeof s=="object"?s!==null:gs(s)},Ml=si,Dl=String,Sr=TypeError,fi=function(s){if(Ml(s))return s;throw Sr(Dl(s)+" is not an object")},kc={},_i=!We(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ll=_i&&We(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Li={},bo=si,Ul=jn.document,ei=bo(Ul)&&bo(Ul.createElement),qs=function(s){return ei?Ul.createElement(s):{}},Cc=qs,Ft=!_i&&!We(function(){return Object.defineProperty(Cc("div"),"a",{get:function(){return 7}}).a!=7}),vt=rn,en=Function.prototype.call,ze=vt?en.bind(en):function(){return en.apply(en,arguments)},Wn=jn,it=er,zt=function(s,o){return arguments.length<2?(i=Wn[s],it(i)?i:void 0):Wn[s]&&Wn[s][o];var i},kt=Tn({}.isPrototypeOf),Fa=zt,Nc=er,_h=kt,wH=Object,J1=Gt?function(s){return typeof s=="symbol"}:function(s){var o=Fa("Symbol");return Nc(o)&&_h(o.prototype,wH(s))},xH=String,sp=function(s){try{return xH(s)}catch{return"Object"}},SH=er,TH=sp,kH=TypeError,Wo=function(s){if(SH(s))return s;throw kH(TH(s)+" is not a function")},CH=Wo,NH=qn,op=function(s,o){var i=s[o];return NH(i)?void 0:CH(i)},ey=ze,ny=er,ty=si,IH=TypeError,AH=ze,PT=si,FT=J1,OH=op,RH=function(s,o){var i,c;if(o==="string"&&ny(i=s.toString)&&!ty(c=ey(i,s))||ny(i=s.valueOf)&&!ty(c=ey(i,s))||o!=="string"&&ny(i=s.toString)&&!ty(c=ey(i,s)))return c;throw IH("Can't convert object to primitive value")},MH=TypeError,DH=Pt("toPrimitive"),HT=function(s,o){if(!PT(s)||FT(s))return s;var i,c=OH(s,DH);if(c){if(o===void 0&&(o="default"),i=AH(c,s,o),!PT(i)||FT(i))return i;throw MH("Can't convert object to primitive value")}return o===void 0&&(o="number"),RH(s,o)},LH=HT,UH=J1,ry=function(s){var o=LH(s,"string");return UH(o)?o:o+""},PH=_i,FH=Ft,HH=Ll,dm=fi,BT=ry,BH=TypeError,iy=Object.defineProperty,VH=Object.getOwnPropertyDescriptor,ay="enumerable",sy="configurable",oy="writable";Li.f=PH?HH?function(s,o,i){if(dm(s),o=BT(o),dm(i),typeof s=="function"&&o==="prototype"&&"value"in i&&oy in i&&!i[oy]){var c=VH(s,o);c&&c[oy]&&(s[o]=i.value,i={configurable:sy in i?i[sy]:c[sy],enumerable:ay in i?i[ay]:c[ay],writable:!1})}return iy(s,o,i)}:iy:function(s,o,i){if(dm(s),o=BT(o),dm(i),FH)try{return iy(s,o,i)}catch{}if("get"in i||"set"in i)throw BH("Accessors not supported");return"value"in i&&(s[o]=i.value),s};var zH=Math.ceil,$H=Math.floor,qH=Math.trunc||function(s){var o=+s;return(o>0?$H:zH)(o)},GH=qH,mh=function(s){var o=+s;return o!=o||o===0?0:GH(o)},jH=mh,KH=Math.max,WH=Math.min,hm=function(s,o){var i=jH(s);return i<0?KH(i+o,0):WH(i,o)},QH=mh,YH=Math.min,pm=function(s){return s>0?YH(QH(s),9007199254740991):0},XH=pm,Ic=function(s){return XH(s.length)},ZH=fn,JH=hm,eB=Ic,VT=function(s){return function(o,i,c){var d,p=ZH(o),_=eB(p),v=JH(c,_);if(s&&i!=i){for(;_>v;)if((d=p[v++])!=d)return!0}else for(;_>v;v++)if((s||v in p)&&p[v]===i)return s||v||0;return!s&&-1}},ly={includes:VT(!0),indexOf:VT(!1)},fm={},cy=Pe,nB=fn,tB=ly.indexOf,rB=fm,zT=Tn([].push),$T=function(s,o){var i,c=nB(s),d=0,p=[];for(i in c)!cy(rB,i)&&cy(c,i)&&zT(p,i);for(;o.length>d;)cy(c,i=o[d++])&&(~tB(p,i)||zT(p,i));return p},uy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],iB=$T,aB=uy,dy=Object.keys||function(s){return iB(s,aB)},sB=_i,oB=Ll,lB=Li,cB=fi,uB=fn,dB=dy;kc.f=sB&&!oB?Object.defineProperties:function(s,o){cB(s);for(var i,c=uB(o),d=dB(o),p=d.length,_=0;p>_;)lB.f(s,i=d[_++],c[i]);return s};var _m,qT=zt("document","documentElement"),hB=Tt.exports,pB=an,GT=hB("keys"),hy=function(s){return GT[s]||(GT[s]=pB(s))},fB=fi,_B=kc,jT=uy,mB=fm,vB=qT,gB=qs,py="prototype",fy="script",KT=hy("IE_PROTO"),_y=function(){},WT=function(s){return"<"+fy+">"+s+"</"+fy+">"},QT=function(s){s.write(WT("")),s.close();var o=s.parentWindow.Object;return s=null,o},mm=function(){try{_m=new ActiveXObject("htmlfile")}catch{}var s,o,i;mm=typeof document<"u"?document.domain&&_m?QT(_m):(o=gB("iframe"),i="java"+fy+":",o.style.display="none",vB.appendChild(o),o.src=String(i),(s=o.contentWindow.document).open(),s.write(WT("document.F=Object")),s.close(),s.F):QT(_m);for(var c=jT.length;c--;)delete mm[py][jT[c]];return mm()};mB[KT]=!0;var vm=Object.create||function(s,o){var i;return s!==null?(_y[py]=fB(s),i=new _y,_y[py]=null,i[KT]=s):i=mm(),o===void 0?i:_B.f(i,o)},bB=Pt,yB=vm,EB=Li.f,my=bB("unscopables"),vy=Array.prototype;vy[my]==null&&EB(vy,my,{configurable:!0,value:yB(null)});var gm,lp,bm,ym=function(s){vy[my][s]=!0},cp={},wB=er,YT=jn.WeakMap,xB=wB(YT)&&/native code/.test(String(YT)),Em=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}},SB=Li,TB=Em,vh=_i?function(s,o,i){return SB.f(s,o,TB(1,i))}:function(s,o,i){return s[o]=i,s},kB=xB,XT=jn,CB=si,NB=vh,gy=Pe,by=ki,IB=hy,AB=fm,ZT="Object already initialized",yy=XT.TypeError,OB=XT.WeakMap;if(kB||by.state){var Qo=by.state||(by.state=new OB);Qo.get=Qo.get,Qo.has=Qo.has,Qo.set=Qo.set,gm=function(s,o){if(Qo.has(s))throw yy(ZT);return o.facade=s,Qo.set(s,o),o},lp=function(s){return Qo.get(s)||{}},bm=function(s){return Qo.has(s)}}else{var gh=IB("state");AB[gh]=!0,gm=function(s,o){if(gy(s,gh))throw yy(ZT);return o.facade=s,NB(s,gh,o),o},lp=function(s){return gy(s,gh)?s[gh]:{}},bm=function(s){return gy(s,gh)}}var Ac={set:gm,get:lp,has:bm,enforce:function(s){return bm(s)?lp(s):gm(s,{})},getterFor:function(s){return function(o){var i;if(!CB(o)||(i=lp(o)).type!==s)throw yy("Incompatible receiver, "+s+" required");return i}}},up={},Ey={},JT={}.propertyIsEnumerable,ek=Object.getOwnPropertyDescriptor,RB=ek&&!JT.call({1:2},1);Ey.f=RB?function(s){var o=ek(this,s);return!!o&&o.enumerable}:JT;var MB=_i,DB=ze,LB=Ey,UB=Em,PB=fn,FB=ry,HB=Pe,BB=Ft,nk=Object.getOwnPropertyDescriptor;up.f=MB?nk:function(s,o){if(s=PB(s),o=FB(o),BB)try{return nk(s,o)}catch{}if(HB(s,o))return UB(!DB(LB.f,s,o),s[o])};var wy={exports:{}},xy=_i,VB=Pe,tk=Function.prototype,zB=xy&&Object.getOwnPropertyDescriptor,Sy=VB(tk,"name"),wm={EXISTS:Sy,PROPER:Sy&&(function(){}).name==="something",CONFIGURABLE:Sy&&(!xy||xy&&zB(tk,"name").configurable)},$B=er,Ty=ki,qB=Tn(Function.toString);$B(Ty.inspectSource)||(Ty.inspectSource=function(s){return qB(s)});var ky=Ty.inspectSource,Cy=Tn,GB=We,jB=er,xm=Pe,Ny=_i,KB=wm.CONFIGURABLE,WB=ky,QB=Ac.enforce,YB=Ac.get,rk=String,Sm=Object.defineProperty,XB=Cy("".slice),ZB=Cy("".replace),JB=Cy([].join),eV=Ny&&!GB(function(){return Sm(function(){},"length",{value:8}).length!==8}),nV=String(String).split("String"),tV=wy.exports=function(s,o,i){XB(rk(o),0,7)==="Symbol("&&(o="["+ZB(rk(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(o="get "+o),i&&i.setter&&(o="set "+o),(!xm(s,"name")||KB&&s.name!==o)&&(Ny?Sm(s,"name",{value:o,configurable:!0}):s.name=o),eV&&i&&xm(i,"arity")&&s.length!==i.arity&&Sm(s,"length",{value:i.arity});try{i&&xm(i,"constructor")&&i.constructor?Ny&&Sm(s,"prototype",{writable:!1}):s.prototype&&(s.prototype=void 0)}catch{}var c=QB(s);return xm(c,"source")||(c.source=JB(nV,typeof o=="string"?o:"")),s};Function.prototype.toString=tV(function(){return jB(this)&&YB(this).source||WB(this)},"toString");var rV=er,iV=Li,aV=wy.exports,sV=Wr,Yo=function(s,o,i,c){c||(c={});var d=c.enumerable,p=c.name!==void 0?c.name:o;if(rV(i)&&aV(i,p,c),c.global)d?s[o]=i:sV(o,i);else{try{c.unsafe?s[o]&&(d=!0):delete s[o]}catch{}d?s[o]=i:iV.f(s,o,{value:i,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return s},dp={},oV=$T,lV=uy.concat("length","prototype");dp.f=Object.getOwnPropertyNames||function(s){return oV(s,lV)};var Iy={};Iy.f=Object.getOwnPropertySymbols;var Hu,ik,ak,cV=zt,uV=dp,dV=Iy,hV=fi,pV=Tn([].concat),fV=cV("Reflect","ownKeys")||function(s){var o=uV.f(hV(s)),i=dV.f;return i?pV(o,i(s)):o},sk=Pe,_V=fV,mV=up,vV=Li,gV=We,bV=er,yV=/#|\.prototype\./,hp=function(s,o){var i=wV[EV(s)];return i==SV||i!=xV&&(bV(o)?gV(o):!!o)},EV=hp.normalize=function(s){return String(s).replace(yV,".").toLowerCase()},wV=hp.data={},xV=hp.NATIVE="N",SV=hp.POLYFILL="P",Tm=hp,Ay=jn,TV=up.f,kV=vh,CV=Yo,NV=Wr,IV=function(s,o,i){for(var c=_V(o),d=vV.f,p=mV.f,_=0;_<c.length;_++){var v=c[_];sk(s,v)||i&&sk(i,v)||d(s,v,p(o,v))}},AV=Tm,Pr=function(s,o){var i,c,d,p,_,v=s.target,b=s.global,y=s.stat;if(i=b?Ay:y?Ay[v]||NV(v,{}):(Ay[v]||{}).prototype)for(c in o){if(p=o[c],d=s.dontCallGetSet?(_=TV(i,c))&&_.value:i[c],!AV(b?c:v+(y?".":"#")+c,s.forced)&&d!==void 0){if(typeof p==typeof d)continue;IV(p,d)}(s.sham||d&&d.sham)&&kV(p,"sham",!0),CV(i,c,p,s)}},OV=!We(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),RV=Pe,MV=er,DV=Ae,LV=OV,ok=hy("IE_PROTO"),Oy=Object,UV=Oy.prototype,lk=LV?Oy.getPrototypeOf:function(s){var o=DV(s);if(RV(o,ok))return o[ok];var i=o.constructor;return MV(i)&&o instanceof i?i.prototype:o instanceof Oy?UV:null},PV=We,FV=er,HV=si,ck=lk,BV=Yo,Ry=Pt("iterator"),uk=!1;[].keys&&("next"in(ak=[].keys())?(ik=ck(ck(ak)))!==Object.prototype&&(Hu=ik):uk=!0);var VV=!HV(Hu)||PV(function(){var s={};return Hu[Ry].call(s)!==s});VV&&(Hu={}),FV(Hu[Ry])||BV(Hu,Ry,function(){return this});var My={IteratorPrototype:Hu,BUGGY_SAFARI_ITERATORS:uk},zV=Li.f,$V=Pe,dk=Pt("toStringTag"),km=function(s,o,i){s&&!i&&(s=s.prototype),s&&!$V(s,dk)&&zV(s,dk,{configurable:!0,value:o})},qV=My.IteratorPrototype,GV=vm,jV=Em,KV=km,WV=cp,QV=function(){return this},YV=Tn,XV=Wo,ZV=er,JV=String,ez=TypeError,nz=function(s,o,i){try{return YV(XV(Object.getOwnPropertyDescriptor(s,o)[i]))}catch{}},tz=fi,rz=function(s){if(typeof s=="object"||ZV(s))return s;throw ez("Can't set "+JV(s)+" as a prototype")},Dy=Object.setPrototypeOf||("__proto__"in{}?function(){var s,o=!1,i={};try{(s=nz(Object.prototype,"__proto__","set"))(i,[]),o=i instanceof Array}catch{}return function(c,d){return tz(c),rz(d),o?s(c,d):c.__proto__=d,c}}():void 0),iz=Pr,az=ze,sz=er,oz=function(s,o,i,c){var d=o+" Iterator";return s.prototype=GV(qV,{next:jV(+!c,i)}),KV(s,d,!1),WV[d]=QV,s},hk=lk,pk=Dy,lz=km,cz=vh,Ly=Yo,uz=cp,dz=wm.PROPER,hz=wm.CONFIGURABLE,fk=My.IteratorPrototype,Cm=My.BUGGY_SAFARI_ITERATORS,pp=Pt("iterator"),_k="keys",fp="values",mk="entries",pz=function(){return this},Uy=function(s,o,i,c,d,p,_){oz(i,o,c);var v,b,y,S=function(xe){if(xe===d&&Z)return Z;if(!Cm&&xe in q)return q[xe];switch(xe){case _k:case fp:case mk:return function(){return new i(this,xe)}}return function(){return new i(this)}},R=o+" Iterator",V=!1,q=s.prototype,ne=q[pp]||q["@@iterator"]||d&&q[d],Z=!Cm&&ne||S(d),se=o=="Array"&&q.entries||ne;if(se&&(v=hk(se.call(new s)))!==Object.prototype&&v.next&&(hk(v)!==fk&&(pk?pk(v,fk):sz(v[pp])||Ly(v,pp,pz)),lz(v,R,!0)),dz&&d==fp&&ne&&ne.name!==fp&&(hz?cz(q,"name",fp):(V=!0,Z=function(){return az(ne,this)})),d)if(b={values:S(fp),keys:p?Z:S(_k),entries:S(mk)},_)for(y in b)(Cm||V||!(y in q))&&Ly(q,y,b[y]);else iz({target:o,proto:!0,forced:Cm||V},b);return q[pp]!==Z&&Ly(q,pp,Z,{name:d}),uz[o]=Z,b},Py=function(s,o){return{value:s,done:o}},fz=fn,Fy=ym,vk=cp,gk=Ac,_z=Li.f,mz=Uy,bk=Py,vz=_i,yk="Array Iterator",gz=gk.set,bz=gk.getterFor(yk),yz=mz(Array,"Array",function(s,o){gz(this,{type:yk,target:fz(s),index:0,kind:o})},function(){var s=bz(this),o=s.target,i=s.kind,c=s.index++;return!o||c>=o.length?(s.target=void 0,bk(void 0,!0)):bk(i=="keys"?c:i=="values"?o[c]:[c,o[c]],!1)},"values"),Ek=vk.Arguments=vk.Array;if(Fy("keys"),Fy("values"),Fy("entries"),vz&&Ek.name!=="values")try{_z(Ek,"name",{value:"values"})}catch{}var wk={};wk[Pt("toStringTag")]="z";var Hy=String(wk)==="[object z]",Ez=Hy,wz=er,Nm=Nn,xz=Pt("toStringTag"),Sz=Object,Tz=Nm(function(){return arguments}())=="Arguments",Im=Ez?Nm:function(s){var o,i,c;return s===void 0?"Undefined":s===null?"Null":typeof(i=function(d,p){try{return d[p]}catch{}}(o=Sz(s),xz))=="string"?i:Tz?Nm(o):(c=Nm(o))=="Object"&&wz(o.callee)?"Arguments":c},kz=Im,Cz=Hy?{}.toString:function(){return"[object "+kz(this)+"]"};Hy||Yo(Object.prototype,"toString",Cz,{unsafe:!0});var _p=typeof process<"u"&&Nn(process)=="process",xk=wy.exports,Nz=Li,Sk=function(s,o,i){return i.get&&xk(i.get,o,{getter:!0}),i.set&&xk(i.set,o,{setter:!0}),Nz.f(s,o,i)},Iz=zt,Az=Sk,Oz=_i,Tk=Pt("species"),kk=function(s){var o=Iz(s);Oz&&o&&!o[Tk]&&Az(o,Tk,{configurable:!0,get:function(){return this}})},Rz=kt,Mz=TypeError,By=function(s,o){if(Rz(o,s))return s;throw Mz("Incorrect invocation")},Dz=Tn,Lz=We,Ck=er,Uz=Im,Pz=ky,Nk=function(){},Fz=[],Ik=zt("Reflect","construct"),Vy=/^\s*(?:class|function)\b/,Hz=Dz(Vy.exec),Bz=!Vy.exec(Nk),mp=function(s){if(!Ck(s))return!1;try{return Ik(Nk,Fz,s),!0}catch{return!1}},Ak=function(s){if(!Ck(s))return!1;switch(Uz(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bz||!!Hz(Vy,Pz(s))}catch{return!0}};Ak.sham=!0;var vp,bh,Ok,zy,$y=!Ik||Lz(function(){var s;return mp(mp.call)||!mp(Object)||!mp(function(){s=!0})||s})?Ak:mp,Vz=$y,zz=sp,$z=TypeError,Rk=fi,qz=function(s){if(Vz(s))return s;throw $z(zz(s)+" is not a constructor")},Gz=qn,jz=Pt("species"),Kz=rn,Mk=Function.prototype,Dk=Mk.apply,Lk=Mk.call,Uk=typeof Reflect=="object"&&Reflect.apply||(Kz?Lk.bind(Dk):function(){return Lk.apply(Dk,arguments)}),Wz=Nn,Qz=Tn,Am=function(s){if(Wz(s)==="Function")return Qz(s)},Yz=Wo,Xz=rn,Zz=Am(Am.bind),gp=function(s,o){return Yz(s),o===void 0?s:Xz?Zz(s,o):function(){return s.apply(o,arguments)}},Pk=Tn([].slice),Jz=TypeError,Fk=/(?:ipad|iphone|ipod).*applewebkit/i.test(On),bs=jn,e$=Uk,n$=gp,Hk=er,t$=Pe,Bk=We,Vk=qT,r$=Pk,zk=qs,i$=function(s,o){if(s<o)throw Jz("Not enough arguments");return s},a$=Fk,s$=_p,qy=bs.setImmediate,Gy=bs.clearImmediate,o$=bs.process,jy=bs.Dispatch,l$=bs.Function,$k=bs.MessageChannel,c$=bs.String,Ky=0,bp={},qk="onreadystatechange";Bk(function(){vp=bs.location});var Wy=function(s){if(t$(bp,s)){var o=bp[s];delete bp[s],o()}},Qy=function(s){return function(){Wy(s)}},Gk=function(s){Wy(s.data)},jk=function(s){bs.postMessage(c$(s),vp.protocol+"//"+vp.host)};qy&&Gy||(qy=function(s){i$(arguments.length,1);var o=Hk(s)?s:l$(s),i=r$(arguments,1);return bp[++Ky]=function(){e$(o,void 0,i)},bh(Ky),Ky},Gy=function(s){delete bp[s]},s$?bh=function(s){o$.nextTick(Qy(s))}:jy&&jy.now?bh=function(s){jy.now(Qy(s))}:$k&&!a$?(zy=(Ok=new $k).port2,Ok.port1.onmessage=Gk,bh=n$(zy.postMessage,zy)):bs.addEventListener&&Hk(bs.postMessage)&&!bs.importScripts&&vp&&vp.protocol!=="file:"&&!Bk(jk)?(bh=jk,bs.addEventListener("message",Gk,!1)):bh=qk in zk("script")?function(s){Vk.appendChild(zk("script"))[qk]=function(){Vk.removeChild(this),Wy(s)}}:function(s){setTimeout(Qy(s),0)});var Kk={set:qy,clear:Gy},Wk=function(){this.head=null,this.tail=null};Wk.prototype={add:function(s){var o={item:s,next:null},i=this.tail;i?i.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}};var yh,Yy,Xy,Zy,Qk,Yk=Wk,u$=/ipad|iphone|ipod/i.test(On)&&typeof Pebble<"u",d$=/web0s(?!.*chrome)/i.test(On),Bu=jn,Xk=gp,h$=up.f,Jy=Kk.set,p$=Yk,f$=Fk,_$=u$,m$=d$,e2=_p,Zk=Bu.MutationObserver||Bu.WebKitMutationObserver,Jk=Bu.document,eC=Bu.process,Om=Bu.Promise,nC=h$(Bu,"queueMicrotask"),n2=nC&&nC.value;if(!n2){var Rm=new p$,Mm=function(){var s,o;for(e2&&(s=eC.domain)&&s.exit();o=Rm.get();)try{o()}catch(i){throw Rm.head&&yh(),i}s&&s.enter()};f$||e2||m$||!Zk||!Jk?!_$&&Om&&Om.resolve?((Zy=Om.resolve(void 0)).constructor=Om,Qk=Xk(Zy.then,Zy),yh=function(){Qk(Mm)}):e2?yh=function(){eC.nextTick(Mm)}:(Jy=Xk(Jy,Bu),yh=function(){Jy(Mm)}):(Yy=!0,Xy=Jk.createTextNode(""),new Zk(Mm).observe(Xy,{characterData:!0}),yh=function(){Xy.data=Yy=!Yy}),n2=function(s){Rm.head||yh(),Rm.add(s)}}var v$=n2,Dm=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}},Lm=jn.Promise,tC=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",g$=!tC&&!_p&&typeof window=="object"&&typeof document=="object",b$=jn,yp=Lm,y$=er,E$=Tm,w$=ky,x$=Pt,S$=g$,T$=tC,t2=ln;yp&&yp.prototype;var k$=x$("species"),rC=!1,iC=y$(b$.PromiseRejectionEvent),C$=E$("Promise",function(){var s=w$(yp),o=s!==String(yp);if(!o&&t2===66)return!0;if(!t2||t2<51||!/native code/.test(s)){var i=new yp(function(d){d(1)}),c=function(d){d(function(){},function(){})};if((i.constructor={})[k$]=c,!(rC=i.then(function(){})instanceof c))return!0}return!o&&(S$||T$)&&!iC}),Vu={CONSTRUCTOR:C$,REJECTION_EVENT:iC,SUBCLASSING:rC},zu={},aC=Wo,N$=TypeError,I$=function(s){var o,i;this.promise=new s(function(c,d){if(o!==void 0||i!==void 0)throw N$("Bad Promise constructor");o=c,i=d}),this.resolve=aC(o),this.reject=aC(i)};zu.f=function(s){return new I$(s)};var r2,sC,oC,A$=Pr,Um=_p,Oc=jn,Eh=ze,lC=Yo,cC=Dy,O$=km,R$=kk,M$=Wo,Pm=er,D$=si,L$=By,U$=function(s,o){var i,c=Rk(s).constructor;return c===void 0||Gz(i=Rk(c)[jz])?o:qz(i)},uC=Kk.set,i2=v$,P$=function(s,o){try{arguments.length==1?console.error(s):console.error(s,o)}catch{}},F$=Dm,H$=Yk,dC=Ac,Fm=Lm,hC=zu,Hm="Promise",pC=Vu.CONSTRUCTOR,B$=Vu.REJECTION_EVENT,V$=Vu.SUBCLASSING,a2=dC.getterFor(Hm),z$=dC.set,wh=Fm&&Fm.prototype,xh=Fm,Bm=wh,fC=Oc.TypeError,s2=Oc.document,o2=Oc.process,l2=hC.f,$$=l2,q$=!!(s2&&s2.createEvent&&Oc.dispatchEvent),_C="unhandledrejection",mC=function(s){var o;return!(!D$(s)||!Pm(o=s.then))&&o},vC=function(s,o){var i,c,d,p=o.value,_=o.state==1,v=_?s.ok:s.fail,b=s.resolve,y=s.reject,S=s.domain;try{v?(_||(o.rejection===2&&j$(o),o.rejection=1),v===!0?i=p:(S&&S.enter(),i=v(p),S&&(S.exit(),d=!0)),i===s.promise?y(fC("Promise-chain cycle")):(c=mC(i))?Eh(c,i,b,y):b(i)):y(p)}catch(R){S&&!d&&S.exit(),y(R)}},gC=function(s,o){s.notified||(s.notified=!0,i2(function(){for(var i,c=s.reactions;i=c.get();)vC(i,s);s.notified=!1,o&&!s.rejection&&G$(s)}))},bC=function(s,o,i){var c,d;q$?((c=s2.createEvent("Event")).promise=o,c.reason=i,c.initEvent(s,!1,!0),Oc.dispatchEvent(c)):c={promise:o,reason:i},!B$&&(d=Oc["on"+s])?d(c):s===_C&&P$("Unhandled promise rejection",i)},G$=function(s){Eh(uC,Oc,function(){var o,i=s.facade,c=s.value;if(yC(s)&&(o=F$(function(){Um?o2.emit("unhandledRejection",c,i):bC(_C,i,c)}),s.rejection=Um||yC(s)?2:1,o.error))throw o.value})},yC=function(s){return s.rejection!==1&&!s.parent},j$=function(s){Eh(uC,Oc,function(){var o=s.facade;Um?o2.emit("rejectionHandled",o):bC("rejectionhandled",o,s.value)})},Sh=function(s,o,i){return function(c){s(o,c,i)}},Th=function(s,o,i){s.done||(s.done=!0,i&&(s=i),s.value=o,s.state=2,gC(s,!0))},c2=function(s,o,i){if(!s.done){s.done=!0,i&&(s=i);try{if(s.facade===o)throw fC("Promise can't be resolved itself");var c=mC(o);c?i2(function(){var d={done:!1};try{Eh(c,o,Sh(c2,d,s),Sh(Th,d,s))}catch(p){Th(d,p,s)}}):(s.value=o,s.state=1,gC(s,!1))}catch(d){Th({done:!1},d,s)}}};if(pC&&(Bm=(xh=function(s){L$(this,Bm),M$(s),Eh(r2,this);var o=a2(this);try{s(Sh(c2,o),Sh(Th,o))}catch(i){Th(o,i)}}).prototype,(r2=function(s){z$(this,{type:Hm,done:!1,notified:!1,parent:!1,reactions:new H$,rejection:!1,state:0,value:void 0})}).prototype=lC(Bm,"then",function(s,o){var i=a2(this),c=l2(U$(this,xh));return i.parent=!0,c.ok=!Pm(s)||s,c.fail=Pm(o)&&o,c.domain=Um?o2.domain:void 0,i.state==0?i.reactions.add(c):i2(function(){vC(c,i)}),c.promise}),sC=function(){var s=new r2,o=a2(s);this.promise=s,this.resolve=Sh(c2,o),this.reject=Sh(Th,o)},hC.f=l2=function(s){return s===xh||s===void 0?new sC(s):$$(s)},Pm(Fm)&&wh!==Object.prototype)){oC=wh.then,V$||lC(wh,"then",function(s,o){var i=this;return new xh(function(c,d){Eh(oC,i,c,d)}).then(s,o)},{unsafe:!0});try{delete wh.constructor}catch{}cC&&cC(wh,Bm)}A$({global:!0,constructor:!0,wrap:!0,forced:pC},{Promise:xh}),O$(xh,Hm,!1),R$(Hm);var K$=cp,W$=Pt("iterator"),Q$=Array.prototype,Y$=Im,EC=op,X$=qn,Z$=cp,J$=Pt("iterator"),wC=function(s){if(!X$(s))return EC(s,J$)||EC(s,"@@iterator")||Z$[Y$(s)]},eq=ze,nq=Wo,tq=fi,rq=sp,iq=wC,aq=TypeError,sq=ze,xC=fi,oq=op,lq=gp,cq=ze,uq=fi,dq=sp,hq=function(s){return s!==void 0&&(K$.Array===s||Q$[W$]===s)},pq=Ic,SC=kt,fq=function(s,o){var i=arguments.length<2?iq(s):o;if(nq(i))return tq(eq(i,s));throw aq(rq(s)+" is not iterable")},_q=wC,TC=function(s,o,i){var c,d;xC(s);try{if(!(c=oq(s,"return"))){if(o==="throw")throw i;return i}c=sq(c,s)}catch(p){d=!0,c=p}if(o==="throw")throw i;if(d)throw c;return xC(c),i},mq=TypeError,Vm=function(s,o){this.stopped=s,this.result=o},kC=Vm.prototype,Ep=function(s,o,i){var c,d,p,_,v,b,y,S=i&&i.that,R=!(!i||!i.AS_ENTRIES),V=!(!i||!i.IS_RECORD),q=!(!i||!i.IS_ITERATOR),ne=!(!i||!i.INTERRUPTED),Z=lq(o,S),se=function(Ce){return c&&TC(c,"normal",Ce),new Vm(!0,Ce)},xe=function(Ce){return R?(uq(Ce),ne?Z(Ce[0],Ce[1],se):Z(Ce[0],Ce[1])):ne?Z(Ce,se):Z(Ce)};if(V)c=s.iterator;else if(q)c=s;else{if(!(d=_q(s)))throw mq(dq(s)+" is not iterable");if(hq(d)){for(p=0,_=pq(s);_>p;p++)if((v=xe(s[p]))&&SC(kC,v))return v;return new Vm(!1)}c=fq(s,d)}for(b=V?s.next:c.next;!(y=cq(b,c)).done;){try{v=xe(y.value)}catch(Ce){TC(c,"throw",Ce)}if(typeof v=="object"&&v&&SC(kC,v))return v}return new Vm(!1)},CC=Pt("iterator"),NC=!1;try{var vq=0,IC={next:function(){return{done:!!vq++}},return:function(){NC=!0}};IC[CC]=function(){return this},Array.from(IC,function(){throw 2})}catch{}var AC=function(s,o){if(!o&&!NC)return!1;var i=!1;try{var c={};c[CC]=function(){return{next:function(){return{done:i=!0}}}},s(c)}catch{}return i},gq=Lm,u2=Vu.CONSTRUCTOR||!AC(function(s){gq.all(s).then(void 0,function(){})}),bq=ze,yq=Wo,Eq=zu,wq=Dm,xq=Ep;Pr({target:"Promise",stat:!0,forced:u2},{all:function(s){var o=this,i=Eq.f(o),c=i.resolve,d=i.reject,p=wq(function(){var _=yq(o.resolve),v=[],b=0,y=1;xq(s,function(S){var R=b++,V=!1;y++,bq(_,o,S).then(function(q){V||(V=!0,v[R]=q,--y||c(v))},d)}),--y||c(v)});return p.error&&d(p.value),i.promise}});var Sq=Pr,Tq=Vu.CONSTRUCTOR,d2=Lm,kq=zt,Cq=er,Nq=Yo,OC=d2&&d2.prototype;if(Sq({target:"Promise",proto:!0,forced:Tq,real:!0},{catch:function(s){return this.then(void 0,s)}}),Cq(d2)){var RC=kq("Promise").prototype.catch;OC.catch!==RC&&Nq(OC,"catch",RC,{unsafe:!0})}var Iq=ze,Aq=Wo,Oq=zu,Rq=Dm,Mq=Ep;Pr({target:"Promise",stat:!0,forced:u2},{race:function(s){var o=this,i=Oq.f(o),c=i.reject,d=Rq(function(){var p=Aq(o.resolve);Mq(s,function(_){Iq(p,o,_).then(i.resolve,c)})});return d.error&&c(d.value),i.promise}});var Dq=ze,Lq=zu;Pr({target:"Promise",stat:!0,forced:Vu.CONSTRUCTOR},{reject:function(s){var o=Lq.f(this);return Dq(o.reject,void 0,s),o.promise}});var Uq=fi,Pq=si,Fq=zu,Hq=Pr,Bq=Vu.CONSTRUCTOR,Vq=function(s,o){if(Uq(s),Pq(o)&&o.constructor===s)return o;var i=Fq.f(s);return(0,i.resolve)(o),i.promise};zt("Promise"),Hq({target:"Promise",stat:!0,forced:Bq},{resolve:function(s){return Vq(this,s)}});var zq=Im,$q=String,yo=function(s){if(zq(s)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $q(s)},h2=Tn,qq=mh,Gq=yo,jq=lt,Kq=h2("".charAt),MC=h2("".charCodeAt),Wq=h2("".slice),DC=function(s){return function(o,i){var c,d,p=Gq(jq(o)),_=qq(i),v=p.length;return _<0||_>=v?s?"":void 0:(c=MC(p,_))<55296||c>56319||_+1===v||(d=MC(p,_+1))<56320||d>57343?s?Kq(p,_):c:s?Wq(p,_,_+2):d-56320+(c-55296<<10)+65536}},LC={codeAt:DC(!1),charAt:DC(!0)},Qq=LC.charAt,Yq=yo,UC=Ac,Xq=Uy,PC=Py,FC="String Iterator",Zq=UC.set,Jq=UC.getterFor(FC);Xq(String,"String",function(s){Zq(this,{type:FC,string:Yq(s),index:0})},function(){var s,o=Jq(this),i=o.string,c=o.index;return c>=i.length?PC(void 0,!0):(s=Qq(i,c),o.index+=s.length,PC(s,!1))});var HC={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},p2=qs("span").classList,BC=p2&&p2.constructor&&p2.constructor.prototype,VC=BC===Object.prototype?void 0:BC,zC=jn,$C=HC,eG=VC,wp=yz,f2=vh,qC=Pt,_2=qC("iterator"),GC=qC("toStringTag"),m2=wp.values,jC=function(s,o){if(s){if(s[_2]!==m2)try{f2(s,_2,m2)}catch{s[_2]=m2}if(s[GC]||f2(s,GC,o),$C[o]){for(var i in wp)if(s[i]!==wp[i])try{f2(s,i,wp[i])}catch{s[i]=wp[i]}}}};for(var v2 in $C)jC(zC[v2]&&zC[v2].prototype,v2);jC(eG,"DOMTokenList");var nG=Nn,zm=Array.isArray||function(s){return nG(s)=="Array"},KC=zm,tG=$y,rG=si,iG=Pt("species"),WC=Array,aG=function(s){var o;return KC(s)&&(o=s.constructor,(tG(o)&&(o===WC||KC(o.prototype))||rG(o)&&(o=o[iG])===null)&&(o=void 0)),o===void 0?WC:o},g2=function(s,o){return new(aG(s))(o===0?0:o)},sG=gp,oG=mt,lG=Ae,cG=Ic,uG=g2,QC=Tn([].push),Rc=function(s){var o=s==1,i=s==2,c=s==3,d=s==4,p=s==6,_=s==7,v=s==5||p;return function(b,y,S,R){for(var V,q,ne=lG(b),Z=oG(ne),se=sG(y,S),xe=cG(Z),Ce=0,Le=R||uG,Fe=o?Le(b,xe):i||_?Le(b,0):void 0;xe>Ce;Ce++)if((v||Ce in Z)&&(q=se(V=Z[Ce],Ce,ne),s))if(o)Fe[Ce]=q;else if(q)switch(s){case 3:return!0;case 5:return V;case 6:return Ce;case 2:QC(Fe,V)}else switch(s){case 4:return!1;case 7:QC(Fe,V)}return p?-1:c||d?d:Fe}},xp={forEach:Rc(0),map:Rc(1),filter:Rc(2),some:Rc(3),every:Rc(4),find:Rc(5),findIndex:Rc(6),filterReject:Rc(7)},dG=We,hG=ln,pG=Pt("species"),Sp=function(s){return hG>=51||!dG(function(){var o=[];return(o.constructor={})[pG]=function(){return{foo:1}},o[s](Boolean).foo!==1})},fG=xp.map;Pr({target:"Array",proto:!0,forced:!Sp("map")},{map:function(s){return fG(this,s,arguments.length>1?arguments[1]:void 0)}});var $m=E(function s(){g(this,s)}),b2=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.call(this)}return E(i,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),i}($m),Lr=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.call(this)}return E(i,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),i}(b2),nt=function(s){return s.CREATE="create",s.UPDATE="update",s.GET="get",s.DELETE="delete",s.QUERY="query",s.READY="ready",s.START="start",s.ENTER_HOST="enter_host",s.GET_HOSTS="get_hosts",s.EXIT_HOST="exit_host",s.HOST_ALIVE="host_alive",s.AUDIO="audio",s.VIDEO="video",s.HOST_CREATE_STREAM="host_create_stream",s.HOST_PUT_STREAM="host_put_stream",s.HOST_DELETE_STREAM="host_delete_stream",s.HOST_CONNECTED="host_connected",s.ENTER="enter",s.EXIT="exit",s.ALIVE="alive",s.GET_PARTICIPANTS="get_participants",s.CREATE_STREAM="create_stream",s.PUT_STREAM="put_stream",s.DELETE_STREAM="delete_stream",s.CREATE_RTMP_STREAM="create_rtmp_stream",s.DELETE_RTMP_STREAM="delete_rtmp_stream",s.CONNECTED="connected",s.ATTACH="attach",s.CUSTOM_ITEMS_GET="custom_items_get",s.CUSTOM_ITEMS_UPDATE="custom_items_update",s.CUSTOM_ITEMS_DELETE="custom_items_delete",s.LIVE_EVENT_READY="live_event_ready",s.LIVE_EVENT_STARTED="live_event_started",s.LIVE_EVENT_ENDED="live_event_ended",s.LIVE_EVENT_UPDATED="live_event_updated",s.HOST_ENTERED="host_entered",s.HOST_EXITED="host_exited",s.HOST_DISCONNECTED="host_disconnected",s.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",s.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",s.PARTICIPANT_ENTERED="participant_entered",s.PARTICIPANT_EXITED="participant_exited",s.CUSTOM_ITEMS_UPDATED="custom_items_updated",s.CUSTOM_ITEMS_DELETED="custom_items_deleted",s}({}),_G=function(s){return s.SINGLE_HOST="single_host",s.MULTIPLE_HOST="multiple_host",s}({}),Fr=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i)}(function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this)).payload=d.parseData(c),d}return E(i)}($m));function Eo(s){return{liveEventId:s.live_event_id,createdAt:s.created_at,setReadyAt:s.set_ready_at,startedAt:s.started_at,endedAt:s.ended_at,state:s.state,isHostStreaming:s.is_host_streaming,createdBy:s.created_by,setReadyBy:s.set_ready_by,startedBy:s.started_by,endedBy:s.ended_by,duration:s.duration,host:s.host?wo(s.host):void 0,participantCount:s.participant_count,peakParticipantCount:s.peak_participant_count,cumulativeParticipantCount:s.cumulative_participant_count,userIdsForHost:s.user_ids_for_host,customItems:s.custom_items,title:s.title,coverUrl:s.cover_url}}function wo(s){return{hostId:s.host_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,connectedAt:s.connected_at,disconnectedAt:s.disconnected_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,isAudioOn:s.is_audio_on,isVideoOn:s.is_video_on,liveEventId:s.live_event_id,streamType:s.stream_type,rtmpStream:s.rtmp_stream?mG(s.rtmp_stream):void 0}}function mG(s){return{rtmpStreamId:s.rtmp_stream_id,rtmpHostUrl:s.rtmp_host_url,streamKey:s.stream_key,createdAt:s.created_at}}function Tp(s){return{id:s.rtcstream_id}}function kp(s){return{participantId:s.participant_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,liveEventId:s.live_event_id}}var vG=xp.filter;Pr({target:"Array",proto:!0,forced:!Sp("filter")},{filter:function(s){return vG(this,s,arguments.length>1?arguments[1]:void 0)}});var gG=Ae,YC=dy;Pr({target:"Object",stat:!0,forced:We(function(){YC(1)})},{keys:function(s){return YC(gG(s))}});var bG=TypeError,XC=function(s){if(s>9007199254740991)throw bG("Maximum allowed index exceeded");return s},yG=ry,EG=Li,wG=Em,qm=function(s,o,i){var c=yG(o);c in s?EG.f(s,c,wG(0,i)):s[c]=i},xG=Pr,SG=We,TG=zm,kG=si,CG=Ae,NG=Ic,ZC=XC,JC=qm,IG=g2,AG=Sp,OG=ln,e5=Pt("isConcatSpreadable"),RG=OG>=51||!SG(function(){var s=[];return s[e5]=!1,s.concat()[0]!==s}),MG=function(s){if(!kG(s))return!1;var o=s[e5];return o!==void 0?!!o:TG(s)};xG({target:"Array",proto:!0,arity:1,forced:!RG||!AG("concat")},{concat:function(s){var o,i,c,d,p,_=CG(this),v=IG(_,0),b=0;for(o=-1,c=arguments.length;o<c;o++)if(MG(p=o===-1?_:arguments[o]))for(d=NG(p),ZC(b+d),i=0;i<d;i++,b++)i in p&&JC(v,b,p[i]);else ZC(b+1),JC(v,b++,p);return v.length=b,v}});var DG=fi,n5=function(){var s=DG(this),o="";return s.hasIndices&&(o+="d"),s.global&&(o+="g"),s.ignoreCase&&(o+="i"),s.multiline&&(o+="m"),s.dotAll&&(o+="s"),s.unicode&&(o+="u"),s.unicodeSets&&(o+="v"),s.sticky&&(o+="y"),o},LG=ze,UG=Pe,PG=kt,FG=n5,t5=RegExp.prototype,HG=wm.PROPER,BG=Yo,VG=fi,r5=yo,zG=We,$G=function(s){var o=s.flags;return o!==void 0||"flags"in t5||UG(s,"flags")||!PG(t5,s)?o:LG(FG,s)},y2="toString",i5=RegExp.prototype[y2],qG=zG(function(){return i5.call({source:"a",flags:"b"})!="/a/b"}),GG=HG&&i5.name!=y2;function jG(s){return Object.keys(s).filter(function(o){return s[o]!=null}).map(function(o){return"".concat(encodeURIComponent(o),"=").concat(function(i){return Array.isArray(i)?i.map(function(c){return encodeURIComponent(c.toString())}).join(","):encodeURIComponent(i.toString())}(s[o]))}).join("&")}(qG||GG)&&BG(RegExp.prototype,y2,function(){var s=VG(this);return"/"+r5(s.source)+"/"+r5($G(s))},{unsafe:!0});var KG=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.QUERY),_.params=_._normalizeParams(c),_.prevToken=d,_.nextToken=p,_}return E(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(c){var d=c.hostType,p=c.liveEventState,_=c.createdAtRange,v=c.participantCountRange,b=c.durationRange,y=c.liveEventIds,S=c.createdByUserIds,R=c.limit;return{hostType:d,liveEventState:p,createdAtRange:_,participantCountRange:v,durationRange:b,liveEventIds:y,createdByUserIds:S,limit:R!=null?Math.min(Math.max(1,R),100):void 0}}},{key:"_createQuery",value:function(){var c,d,p,_,v,b;return jG({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(c=this.params.createdAtRange)===null||c===void 0?void 0:c[0],created_at_end_date:(d=this.params.createdAtRange)===null||d===void 0?void 0:d[0],participant_count_gte:(p=this.params.participantCountRange)===null||p===void 0?void 0:p[0],participant_count_lte:(_=this.params.participantCountRange)===null||_===void 0?void 0:_[1],duration_range_gte:(v=this.params.durationRange)===null||v===void 0?void 0:v[0],duration_range_lte:(b=this.params.durationRange)===null||b===void 0?void 0:b[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),i}(Lr),WG=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){var d;return{liveEvents:(d=c.live_events)===null||d===void 0?void 0:d.map(Eo),prev:c.prev,next:c.next}}}]),i}(Fr),QG=We,E2=function(s,o){var i=[][s];return!!i&&QG(function(){i.call(null,o||function(){return 1},1)})},YG=Pr,XG=ly.indexOf,ZG=E2,w2=Am([].indexOf),a5=!!w2&&1/w2([1],1,-0)<0;YG({target:"Array",proto:!0,forced:a5||!ZG("indexOf")},{indexOf:function(s){var o=arguments.length>1?arguments[1]:void 0;return a5?w2(this,s,o)||0:XG(this,s,o)}});var JG=_i,ej=zm,nj=TypeError,tj=Object.getOwnPropertyDescriptor,rj=JG&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}()?function(s,o){if(ej(s)&&!tj(s,"length").writable)throw nj("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},s5=sp,ij=TypeError,aj=Pr,sj=Ae,oj=hm,lj=mh,cj=Ic,uj=rj,dj=XC,hj=g2,pj=qm,x2=function(s,o){if(!delete s[o])throw ij("Cannot delete property "+s5(o)+" of "+s5(s))},fj=Sp("splice"),_j=Math.max,mj=Math.min;aj({target:"Array",proto:!0,forced:!fj},{splice:function(s,o){var i,c,d,p,_,v,b=sj(this),y=cj(b),S=oj(s,y),R=arguments.length;for(R===0?i=c=0:R===1?(i=0,c=y-S):(i=R-2,c=mj(_j(lj(o),0),y-S)),dj(y+i-c),d=hj(b,c),p=0;p<c;p++)(_=S+p)in b&&pj(d,p,b[_]);if(d.length=c,i<c){for(p=S;p<y-c;p++)v=p+i,(_=p+c)in b?b[v]=b[_]:x2(b,v);for(p=y;p>y-c+i;p--)x2(b,p-1)}else if(i>c)for(p=y-c;p>S;p--)v=p+i-1,(_=p+c-1)in b?b[v]=b[_]:x2(b,v);for(p=0;p<i;p++)b[p+S]=arguments[p+2];return uj(b,y-c+i),d}});var Ha=function(s){return s.VERBOSE="VERBOSE",s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.NONE="NONE",s}({}),vj=function(){function s(){g(this,s),this._listeners=[]}return E(s,[{key:"verbose",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[Ha.VERBOSE].concat(i))}},{key:"debug",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[Ha.DEBUG].concat(i))}},{key:"info",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[Ha.INFO].concat(i))}},{key:"warning",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[Ha.WARNING].concat(i))}},{key:"error",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[Ha.ERROR].concat(i))}},{key:"_log",value:function(o){for(var i=arguments.length,c=new Array(i>1?i-1:0),d=1;d<i;d++)c[d-1]=arguments[d];var p,_=z(this._listeners);try{for(_.s();!(p=_.n()).done;){var v=p.value;v._permit.apply(v,[o].concat(c))}}catch(b){_.e(b)}finally{_.f()}}},{key:"addListener",value:function(o){this._listeners.push(o)}},{key:"removeListener",value:function(o){var i=this._listeners.indexOf(o);i!==-1&&this._listeners.splice(i,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),s}(),tt=new vj,gj=function(){function s(d,p,_){g(this,s),this.isLoading=!1,this.params=d,this.sender=p,this.prevToken=null,this.nextToken=null,this.liveEventManager=_}var o,i,c;return E(s,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(c=m(u().mark(function d(){return u().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return p.stop()}},d,this)})),function(){return c.apply(this,arguments)})},{key:"prev",value:(i=m(u().mark(function d(){return u().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return p.stop()}},d,this)})),function(){return i.apply(this,arguments)})},{key:"_sendQueryCommand",value:(o=m(u().mark(function d(p,_){var v,b,y,S=this;return u().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!p||!_){R.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,v=new KG(this.params,p,_),R.next=6,this.sender.send(v);case 6:return b=R.sent,y=b.payload,this.prevToken=y.prev,this.nextToken=y.next,this.isLoading=!1,R.prev=11,R.abrupt("return",Promise.all(y.liveEvents.map(function(V){return S.liveEventManager.deserializeLiveEvent(V)})));case 15:return R.prev=15,R.t0=R.catch(11),tt.error(R.t0),R.abrupt("return",y.liveEvents);case 19:case"end":return R.stop()}},d,this,[[11,15]])})),function(d,p){return o.apply(this,arguments)})}]),s}(),bj=Pr,yj=xp.find,Ej=ym,S2="find",o5=!0;S2 in[]&&Array(1)[S2](function(){o5=!1}),bj({target:"Array",proto:!0,forced:o5},{find:function(s){return yj(this,s,arguments.length>1?arguments[1]:void 0)}}),Ej(S2);var wj=Pr,xj=xp.findIndex,Sj=ym,T2="findIndex",l5=!0;T2 in[]&&Array(1)[T2](function(){l5=!1}),wj({target:"Array",proto:!0,forced:l5},{findIndex:function(s){return xj(this,s,arguments.length>1?arguments[1]:void 0)}}),Sj(T2);var k2={exports:{}},c5={},u5=hm,Tj=Ic,kj=qm,Cj=Array,Nj=Math.max,Ij=Nn,Aj=fn,d5=dp.f,Oj=function(s,o,i){for(var c=Tj(s),d=u5(o,c),p=u5(i===void 0?c:i,c),_=Cj(Nj(p-d,0)),v=0;d<p;d++,v++)kj(_,v,s[d]);return _.length=v,_},h5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c5.f=function(s){return h5&&Ij(s)=="Window"?function(o){try{return d5(o)}catch{return Oj(h5)}}(s):d5(Aj(s))};var Rj=We(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),Mj=We,Dj=si,Lj=Nn,p5=Rj,Gm=Object.isExtensible,Uj=Mj(function(){Gm(1)})||p5?function(s){return!!Dj(s)&&(!p5||Lj(s)!="ArrayBuffer")&&(!Gm||Gm(s))}:Gm,Pj=!We(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fj=Pr,Hj=Tn,Bj=fm,Vj=si,C2=Pe,zj=Li.f,f5=dp,$j=c5,N2=Uj,qj=Pj,_5=!1,Pl=an("meta"),Gj=0,I2=function(s){zj(s,Pl,{value:{objectID:"O"+Gj++,weakData:{}}})},jj=k2.exports={enable:function(){jj.enable=function(){},_5=!0;var s=f5.f,o=Hj([].splice),i={};i[Pl]=1,s(i).length&&(f5.f=function(c){for(var d=s(c),p=0,_=d.length;p<_;p++)if(d[p]===Pl){o(d,p,1);break}return d},Fj({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:$j.f}))},fastKey:function(s,o){if(!Vj(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!C2(s,Pl)){if(!N2(s))return"F";if(!o)return"E";I2(s)}return s[Pl].objectID},getWeakData:function(s,o){if(!C2(s,Pl)){if(!N2(s))return!0;if(!o)return!1;I2(s)}return s[Pl].weakData},onFreeze:function(s){return qj&&_5&&N2(s)&&!C2(s,Pl)&&I2(s),s}};Bj[Pl]=!0;var Kj=er,Wj=si,m5=Dy,v5=function(s,o,i){var c,d;return m5&&Kj(c=o.constructor)&&c!==i&&Wj(d=c.prototype)&&d!==i.prototype&&m5(s,d),s},Qj=Pr,Yj=jn,Xj=Tn,g5=Tm,Zj=Yo,Jj=k2.exports,eK=Ep,nK=By,tK=er,rK=qn,A2=si,O2=We,iK=AC,aK=km,sK=v5,oK=Yo,lK=vm,cK=Sk,b5=function(s,o,i){for(var c in o)oK(s,c,o[c],i);return s},uK=gp,dK=By,hK=qn,pK=Ep,fK=Uy,y5=Py,_K=kk,Cp=_i,E5=k2.exports.fastKey,w5=Ac.set,R2=Ac.getterFor,mK={getConstructor:function(s,o,i,c){var d=s(function(y,S){dK(y,p),w5(y,{type:o,index:lK(null),first:void 0,last:void 0,size:0}),Cp||(y.size=0),hK(S)||pK(S,y[c],{that:y,AS_ENTRIES:i})}),p=d.prototype,_=R2(o),v=function(y,S,R){var V,q,ne=_(y),Z=b(y,S);return Z?Z.value=R:(ne.last=Z={index:q=E5(S,!0),key:S,value:R,previous:V=ne.last,next:void 0,removed:!1},ne.first||(ne.first=Z),V&&(V.next=Z),Cp?ne.size++:y.size++,q!=="F"&&(ne.index[q]=Z)),y},b=function(y,S){var R,V=_(y),q=E5(S);if(q!=="F")return V.index[q];for(R=V.first;R;R=R.next)if(R.key==S)return R};return b5(p,{clear:function(){for(var y=_(this),S=y.index,R=y.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete S[R.index],R=R.next;y.first=y.last=void 0,Cp?y.size=0:this.size=0},delete:function(y){var S=this,R=_(S),V=b(S,y);if(V){var q=V.next,ne=V.previous;delete R.index[V.index],V.removed=!0,ne&&(ne.next=q),q&&(q.previous=ne),R.first==V&&(R.first=q),R.last==V&&(R.last=ne),Cp?R.size--:S.size--}return!!V},forEach:function(y){for(var S,R=_(this),V=uK(y,arguments.length>1?arguments[1]:void 0);S=S?S.next:R.first;)for(V(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(y){return!!b(this,y)}}),b5(p,i?{get:function(y){var S=b(this,y);return S&&S.value},set:function(y,S){return v(this,y===0?0:y,S)}}:{add:function(y){return v(this,y=y===0?0:y,y)}}),Cp&&cK(p,"size",{configurable:!0,get:function(){return _(this).size}}),d},setStrong:function(s,o,i){var c=o+" Iterator",d=R2(o),p=R2(c);fK(s,o,function(_,v){w5(this,{type:c,target:_,state:d(_),kind:v,last:void 0})},function(){for(var _=p(this),v=_.kind,b=_.last;b&&b.removed;)b=b.previous;return _.target&&(_.last=b=b?b.next:_.state.first)?y5(v=="keys"?b.key:v=="values"?b.value:[b.key,b.value],!1):(_.target=void 0,y5(void 0,!0))},i?"entries":"values",!i,!0),_K(o)}};(function(s,o,i){var c=s.indexOf("Map")!==-1,d=s.indexOf("Weak")!==-1,p=c?"set":"add",_=Yj[s],v=_&&_.prototype,b=_,y={},S=function(se){var xe=Xj(v[se]);Zj(v,se,se=="add"?function(Ce){return xe(this,Ce===0?0:Ce),this}:se=="delete"?function(Ce){return!(d&&!A2(Ce))&&xe(this,Ce===0?0:Ce)}:se=="get"?function(Ce){return d&&!A2(Ce)?void 0:xe(this,Ce===0?0:Ce)}:se=="has"?function(Ce){return!(d&&!A2(Ce))&&xe(this,Ce===0?0:Ce)}:function(Ce,Le){return xe(this,Ce===0?0:Ce,Le),this})};if(g5(s,!tK(_)||!(d||v.forEach&&!O2(function(){new _().entries().next()}))))b=i.getConstructor(o,s,c,p),Jj.enable();else if(g5(s,!0)){var R=new b,V=R[p](d?{}:-0,1)!=R,q=O2(function(){R.has(1)}),ne=iK(function(se){new _(se)}),Z=!d&&O2(function(){for(var se=new _,xe=5;xe--;)se[p](xe,xe);return!se.has(-0)});ne||((b=o(function(se,xe){nK(se,v);var Ce=sK(new _,se,b);return rK(xe)||eK(xe,Ce[p],{that:Ce,AS_ENTRIES:c}),Ce})).prototype=v,v.constructor=b),(q||Z)&&(S("delete"),S("has"),c&&S("get")),(Z||V)&&S(p),d&&v.clear&&delete v.clear}y[s]=b,Qj({global:!0,constructor:!0,forced:b!=_},y),aK(b,s),d||i.setStrong(b,s,c)})("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},mK);var x5=_i,vK=Tn,gK=ze,bK=We,M2=dy,yK=Iy,EK=Ey,wK=Ae,xK=mt,kh=Object.assign,S5=Object.defineProperty,SK=vK([].concat),TK=!kh||bK(function(){if(x5&&kh({b:1},kh(S5({},"a",{enumerable:!0,get:function(){S5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},o={},i=Symbol(),c="abcdefghijklmnopqrst";return s[i]=7,c.split("").forEach(function(d){o[d]=d}),kh({},s)[i]!=7||M2(kh({},o)).join("")!=c})?function(s,o){for(var i=wK(s),c=arguments.length,d=1,p=yK.f,_=EK.f;c>d;)for(var v,b=xK(arguments[d++]),y=p?SK(M2(b),p(b)):M2(b),S=y.length,R=0;S>R;)v=y[R++],x5&&!gK(_,b,v)||(i[v]=b[v]);return i}:kh,T5=TK;Pr({target:"Object",stat:!0,arity:2,forced:Object.assign!==T5},{assign:T5});var kK=ly.includes,CK=ym;Pr({target:"Array",proto:!0,forced:We(function(){return!Array(1).includes()})},{includes:function(s){return kK(this,s,arguments.length>1?arguments[1]:void 0)}}),CK("includes");var NK=si,IK=Nn,AK=Pt("match"),OK=function(s){var o;return NK(s)&&((o=s[AK])!==void 0?!!o:IK(s)=="RegExp")},RK=TypeError,MK=Pt("match"),DK=Pr,LK=function(s){if(OK(s))throw RK("The method doesn't accept regular expressions");return s},UK=lt,k5=yo,PK=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[MK]=!1,"/./"[s](o)}catch{}}return!1},FK=Tn("".indexOf);DK({target:"String",proto:!0,forced:!PK("includes")},{includes:function(s){return!!~FK(k5(UK(this)),k5(LK(s)),arguments.length>1?arguments[1]:void 0)}});var Ch=function(s){return s.HOST="host",s.PARTICIPANT="participant",s}({}),C5=function(s){return s.CREATED="created",s.READY="ready",s.ONGOING="ongoing",s.PAUSED="paused",s.ENDED="ended",s}({}),N5=function(s){return s.ENTERED="entered",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.EXITED="exited",s}({}),HK=function(s){return s.ENTERED="entered",s.EXITED="exited",s}({}),BK=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),(_=o.call(this)).appId=c,_.userId=d,_.accessToken=p,_}return E(i,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),i}(b2),Hr=function(s){return s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.OPTION="OPTION",s.PUT="PUT",s}({}),VK=function(s){T(i,s);var o=O(i);function i(c,d,p,_,v,b){var y;return g(this,i),w(U(y=o.call(this)),"type",nt.CREATE),y.hostType=c,y.hostIds=Array.isArray(d)?d:[d],y.title=p===null?"":p,y.coverUrl=_===null?"":_,y.coverFile=v===null?"":v,y.customItems=b,y}return E(i,[{key:"getData",value:function(){var c=function(p,_,v,b){v!==void 0&&d.set(_,v)},d=new FormData;return c(0,"host_type",this.hostType),c(0,"user_ids_for_host",String(this.hostIds.map(function(p){return encodeURIComponent(p)}))),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),c(0,"customItems",JSON.stringify(this.customItems)),d}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),zK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),$K=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.GET),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.GET}}]),i}(Lr),qK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),GK=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.ENTER_HOST),w(U(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=c,p.mediaOption=d,p}return E(i,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),jK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{host:wo(c.host)}}}]),i}(Fr),KK=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.READY),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),WK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),QK=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.START),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),YK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),XK=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.EXIT_HOST),p.liveEventId=c,p.hostId=d,p}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),ZK=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{host:wo(c.host)}}}]),i}(Fr),JK=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.DELETE),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),eW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),nW=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.ENTER),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),tW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{participant:kp(c.participant)}}}]),i}(Fr),rW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.EXIT),p.liveEventId=c,p.participantId=d,p}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),iW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{participant:kp(c.participant)}}}]),i}(Fr),aW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.CONNECTED),_.liveEventId=c,_.participantId=d,_.endpointId=p,_}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),sW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{endpoint:Tp(c.rtcstream)}}}]),i}(Fr),oW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.HOST_CONNECTED),_.liveEventId=c,_.hostId=d,_.endpointId=p,_}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),lW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{endpoint:Tp(c.rtcstream)}}}]),i}(Fr),cW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.DELETE_STREAM),_.liveEventId=c,_.participantId=d,_.endpointId=p,_}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),uW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{}}}]),i}(Fr),dW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.HOST_DELETE_STREAM),_.liveEventId=c,_.hostId=d,_.endpointId=p,_}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),hW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{}}}]),i}(Fr),pW=function(s){T(i,s);var o=O(i);function i(c,d,p,_){var v;return g(this,i),w(U(v=o.call(this)),"type",nt.ATTACH),v.liveEventId=c,v.participantId=d,v.endpointId=p,v.attachTo=_,v}return E(i,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),fW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{endpoint:Tp(c.rtcstream)}}}]),i}(Fr),rs=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this)).type=c.type,d.version=c.version,d.messageId=c.message_id,d.payload=d.parseData(c.payload),d}return E(i)}($m),I5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:Eo(c.live_event)}}}]),i}(rs),A5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:Eo(c.live_event)}}}]),i}(rs),O5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:Eo(c.live_event)}}}]),i}(rs),R5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),M5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),D5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),D2=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),L2=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),L5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:kp(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),i}(rs),U5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:kp(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),i}(rs),_W=function(s){T(i,s);var o=O(i);function i(c,d,p,_,v){var b;return g(this,i),w(U(b=o.call(this)),"type",nt.CREATE_STREAM),b.liveEventId=c,b.participantId=d,b.sdp=p,b.audioAttr=_,b.videoAttr=v,b}return E(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),mW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Tp(c.rtcstream)}}}]),i}(Fr),vW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{hosts:c.hosts.map(wo)}}}]),i}(Fr),gW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.HOST_ALIVE),p.liveEventId=c,p.hostId=d,p}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),bW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{}}}]),i}(Fr),yW=function(s){T(i,s);var o=O(i);function i(c,d,p,_,v){var b;return g(this,i),w(U(b=o.call(this)),"type",nt.HOST_CREATE_STREAM),b.liveEventId=c,b.hostId=d,b.sdp=p,b.audioAttr=_,b.videoAttr=v,b}return E(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),EW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Tp(c.rtcstream)}}}]),i}(Fr),wW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.ALIVE),p.liveEventId=c,p.participantId=d,p}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),xW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{}}}]),i}(Fr),SW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{participant:kp(c.participant)}}}]),i}(Fr),TW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.AUDIO),_.liveEventId=c,_.hostId=d,_.on=p,_}return E(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),kW=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this)),"type",nt.VIDEO),_.liveEventId=c,_.hostId=d,_.on=p,_}return E(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),P5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:wo(c.host)}}}]),i}(rs),CW=function(s){T(i,s);var o=O(i);function i(c,d,p,_,v){var b;return g(this,i),w(U(b=o.call(this)),"type",nt.UPDATE),b.liveEventId=c,b.hostIds=d===null?"":Array.isArray(d)?d:[d],b.title=p===null?"":p,b.coverUrl=_===null?"":_,b.coverFile=v===null?"":v,b}return E(i,[{key:"getData",value:function(){var c=function(p,_,v,b){v!==void 0&&d.set(_,v)},d=new FormData;return c(0,"user_ids_for_host",String(this.hostIds)),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),d}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.PUT}}]),i}(Lr),NW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEvent:Eo(c.live_event)}}}]),i}(Fr),F5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:Eo(c.live_event)}}}]),i}(rs),IW=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.CUSTOM_ITEMS_GET),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.GET}}]),i}(Lr),AW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items}}}]),i}(Fr),OW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.CUSTOM_ITEMS_UPDATE),p.liveEventId=c,p.customItems=d,p}return E(i,[{key:"getData",value:function(){return{custom_items:this.customItems,mode:"upsert"}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.PUT}}]),i}(Lr),RW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,updatedKeys:c.updated_keys,updatedAt:c.updated_at}}}]),i}(Fr),MW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.CUSTOM_ITEMS_DELETE),p.liveEventId=c,p.keys=d,p}return E(i,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),DW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,deletedKeys:c.deleted_keys,deletedAt:c.deleted_at}}}]),i}(Fr),H5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,updatedAt:c.updated_at,customItems:c.custom_items,updatedKeys:c.updated_keys}}}]),i}(rs),B5=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,deletedAt:c.deleted_at,customItems:c.custom_items,deletedKeys:c.deleted_keys}}}]),i}(rs),LW=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.CUSTOM_ITEMS_DELETE),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),UW=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this)),"type",nt.CREATE_RTMP_STREAM),d.liveEventId=c,d}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Lr),PW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{host:wo(c.host)}}}]),i}(Fr),FW=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"type",nt.DELETE_RTMP_STREAM),p.liveEventId=c,p.rtmpStreamId=d,p}return E(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams/").concat(this.rtmpStreamId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Lr),HW=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"parseData",value:function(c){return{}}}]),i}(Fr),BW=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this)).statsLog=c,d}return E(i,[{key:"getData",value:function(){return{log_group:"sdk_webrtc_statistics_v1.1",log_data:this.statsLog}}},{key:"getPath",value:function(){return"/v1/sdk/logs"}},{key:"getMethod",value:function(){return"POST"}}]),i}(b2),yr=function(){function s(){g(this,s)}return E(s,null,[{key:"createAuth",value:function(o,i,c){return new BK(o,i,c)}},{key:"createLiveEvent",value:function(o,i,c,d,p,_){return new VK(o,i,c,d,p,_)}},{key:"updateLiveEvent",value:function(o,i,c,d,p){return new CW(o,i,c,d,p)}},{key:"createGetLiveEvent",value:function(o){return new $K(o)}},{key:"createEnterHost",value:function(o,i){return new GK(o,i)}},{key:"createReady",value:function(o){return new KK(o)}},{key:"createStart",value:function(o){return new QK(o)}},{key:"createExitHost",value:function(o,i){return new XK(o,i)}},{key:"createEndLiveEvent",value:function(o){return new JK(o)}},{key:"createEnter",value:function(o){return new nW(o)}},{key:"createExit",value:function(o,i){return new rW(o,i)}},{key:"createConnected",value:function(o,i,c){return new aW(o,i,c)}},{key:"createHostConnected",value:function(o,i,c){return new oW(o,i,c)}},{key:"createStream",value:function(o,i,c,d,p){return new _W(o,i,c,d,p)}},{key:"createHostCreateStream",value:function(o,i,c,d,p){return new yW(o,i,c,d,p)}},{key:"createDeleteStream",value:function(o,i,c){return new cW(o,i,c)}},{key:"createHostDeleteStream",value:function(o,i,c){return new dW(o,i,c)}},{key:"createRTMPStream",value:function(o){return new UW(o)}},{key:"deleteRTMPStream",value:function(o,i){return new FW(o,i)}},{key:"createAttach",value:function(o,i,c,d){return new pW(o,i,c,d)}},{key:"createAudio",value:function(o,i,c){return new TW(o,i,c)}},{key:"createVideo",value:function(o,i,c){return new kW(o,i,c)}},{key:"createAlive",value:function(o,i){return new wW(o,i)}},{key:"createHostAlive",value:function(o,i){return new gW(o,i)}},{key:"createGetCustomItems",value:function(o){return new IW(o)}},{key:"createUpdateCustomItems",value:function(o,i){return new OW(o,i)}},{key:"createDeleteCustomItems",value:function(o,i){return new MW(o,i)}},{key:"createDeleteAllCustomItems",value:function(o){return new LW(o)}},{key:"createStatsLogCommand",value:function(o){return new BW(o)}},{key:"parseResponse",value:function(o,i){try{switch(o.type){case nt.CREATE:return new zK(i);case nt.GET:return new qK(i);case nt.DELETE:return new eW(i);case nt.QUERY:return new WG(i);case nt.READY:return new WK(i);case nt.START:return new YK(i);case nt.ENTER_HOST:return new jK(i);case nt.GET_HOSTS:return new vW(i);case nt.EXIT_HOST:return new ZK(i);case nt.HOST_ALIVE:return new bW(i);case nt.AUDIO:return new D2(i);case nt.VIDEO:return new L2(i);case nt.HOST_CREATE_STREAM:return new EW(i);case nt.HOST_DELETE_STREAM:return new hW(i);case nt.HOST_CONNECTED:return new lW(i);case nt.ENTER:return new tW(i);case nt.EXIT:return new iW(i);case nt.ALIVE:return new xW(i);case nt.GET_PARTICIPANTS:return new SW(i);case nt.CREATE_STREAM:return new mW(i);case nt.DELETE_STREAM:return new uW(i);case nt.CONNECTED:return new sW(i);case nt.ATTACH:return new fW(i);case nt.UPDATE:return new NW(i);case nt.CUSTOM_ITEMS_GET:return new AW(i);case nt.CUSTOM_ITEMS_UPDATE:return new RW(i);case nt.CUSTOM_ITEMS_DELETE:return new DW(i);case nt.CREATE_RTMP_STREAM:return new PW(i);case nt.DELETE_RTMP_STREAM:return new HW(i)}}catch{return}}},{key:"parse",value:function(o){if(o.call_type==="live")try{switch(o.type){case nt.LIVE_EVENT_READY:return new I5(o);case nt.LIVE_EVENT_STARTED:return new A5(o);case nt.LIVE_EVENT_ENDED:return new O5(o);case nt.LIVE_EVENT_UPDATED:return new F5(o);case nt.HOST_ENTERED:return new R5(o);case nt.HOST_EXITED:return new M5(o);case nt.HOST_CONNECTED:return new D5(o);case nt.HOST_DISCONNECTED:return new P5(o);case nt.HOST_AUDIO_STATUS_CHANGED:return new D2(o);case nt.HOST_VIDEO_STATUS_CHANGED:return new L2(o);case nt.PARTICIPANT_ENTERED:return new L5(o);case nt.PARTICIPANT_EXITED:return new U5(o);case nt.CUSTOM_ITEMS_UPDATED:return new H5(o);case nt.CUSTOM_ITEMS_DELETED:return new B5(o)}}catch{return}}}]),s}(),VW=xp.forEach,zW=E2("forEach")?[].forEach:function(s){return VW(this,s,arguments.length>1?arguments[1]:void 0)},V5=jn,z5=HC,$W=VC,U2=zW,qW=vh,$5=function(s){if(s&&s.forEach!==U2)try{qW(s,"forEach",U2)}catch{s.forEach=U2}};for(var P2 in z5)z5[P2]&&$5(V5[P2]&&V5[P2].prototype);$5($W);var GW=Pr,q5=zm,jW=$y,KW=si,G5=hm,WW=Ic,QW=fn,YW=qm,XW=Pt,ZW=Pk,JW=Sp("slice"),eQ=XW("species"),F2=Array,nQ=Math.max;GW({target:"Array",proto:!0,forced:!JW},{slice:function(s,o){var i,c,d,p=QW(this),_=WW(p),v=G5(s,_),b=G5(o===void 0?_:o,_);if(q5(p)&&(i=p.constructor,(jW(i)&&(i===F2||q5(i.prototype))||KW(i)&&(i=i[eQ])===null)&&(i=void 0),i===F2||i===void 0))return ZW(p,v,b);for(c=new(i===void 0?F2:i)(nQ(b-v,0)),d=0;v<b;v++,d++)v in p&&YW(c,d,p[v]);return c.length=d,c}});var j5,H2,xo=function(){function s(){g(this,s),w(this,"_listeners",{}),w(this,"on",this.addEventListener),w(this,"off",this.removeEventListener)}return E(s,[{key:"addEventListener",value:function(o,i){var c=this;return o in this._listeners||(this._listeners[o]=[]),this._listeners[o].push(i),function(){return c.removeEventListener(o,i)}}},{key:"once",value:function(o,i){var c=this;return this.on(o,function d(){i.apply(void 0,arguments),c.removeEventListener(o,d)})}},{key:"removeEventListener",value:function(o,i){if(o in this._listeners){for(var c=this._listeners[o],d=0,p=c.length;d<p;d++)if(c[d]===i)return void c.splice(d,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(o){if(o in this._listeners){for(var i=this._listeners[o].slice(),c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];for(var _=0,v=i.length;_<v;_++){var b;(b=i[_]).call.apply(b,[this].concat(d))}}}}]),s}(),B2=We,V2=jn.RegExp,z2=B2(function(){var s=V2("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),tQ=z2||B2(function(){return!V2("a","y").sticky}),rQ=z2||B2(function(){var s=V2("^r","gy");return s.lastIndex=2,s.exec("str")!=null}),iQ={BROKEN_CARET:rQ,MISSED_STICKY:tQ,UNSUPPORTED_Y:z2},aQ=We,sQ=jn.RegExp,oQ=aQ(function(){var s=sQ(".","s");return!(s.dotAll&&s.exec(`
`)&&s.flags==="s")}),lQ=We,cQ=jn.RegExp,uQ=lQ(function(){var s=cQ("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"}),Nh=ze,jm=Tn,dQ=yo,hQ=n5,pQ=iQ,fQ=Tt.exports,_Q=vm,mQ=Ac.get,vQ=oQ,gQ=uQ,bQ=fQ("native-string-replace",String.prototype.replace),Km=RegExp.prototype.exec,$2=Km,yQ=jm("".charAt),wQ=jm("".indexOf),xQ=jm("".replace),q2=jm("".slice),G2=(H2=/b*/g,Nh(Km,j5=/a/,"a"),Nh(Km,H2,"a"),j5.lastIndex!==0||H2.lastIndex!==0),K5=pQ.BROKEN_CARET,j2=/()??/.exec("")[1]!==void 0;(G2||j2||K5||vQ||gQ)&&($2=function(s){var o,i,c,d,p,_,v,b=this,y=mQ(b),S=dQ(s),R=y.raw;if(R)return R.lastIndex=b.lastIndex,o=Nh($2,R,S),b.lastIndex=R.lastIndex,o;var V=y.groups,q=K5&&b.sticky,ne=Nh(hQ,b),Z=b.source,se=0,xe=S;if(q&&(ne=xQ(ne,"y",""),wQ(ne,"g")===-1&&(ne+="g"),xe=q2(S,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&yQ(S,b.lastIndex-1)!==`
`)&&(Z="(?: "+Z+")",xe=" "+xe,se++),i=new RegExp("^(?:"+Z+")",ne)),j2&&(i=new RegExp("^"+Z+"$(?!\\s)",ne)),G2&&(c=b.lastIndex),d=Nh(Km,q?i:b,xe),q?d?(d.input=q2(d.input,se),d[0]=q2(d[0],se),d.index=b.lastIndex,b.lastIndex+=d[0].length):b.lastIndex=0:G2&&d&&(b.lastIndex=b.global?d.index+d[0].length:c),j2&&d&&d.length>1&&Nh(bQ,d[0],i,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d&&V)for(d.groups=_=_Q(null),p=0;p<V.length;p++)_[(v=V[p])[0]]=d[v[1]];return d});var Wm=$2;Pr({target:"RegExp",proto:!0,forced:/./.exec!==Wm},{exec:Wm});var W5=Am,Q5=Yo,SQ=Wm,Y5=We,X5=Pt,TQ=vh,kQ=X5("species"),K2=RegExp.prototype,Z5=function(s,o,i,c){var d=X5(s),p=!Y5(function(){var y={};return y[d]=function(){return 7},""[s](y)!=7}),_=p&&!Y5(function(){var y=!1,S=/a/;return s==="split"&&((S={}).constructor={},S.constructor[kQ]=function(){return S},S.flags="",S[d]=/./[d]),S.exec=function(){return y=!0,null},S[d](""),!y});if(!p||!_||i){var v=W5(/./[d]),b=o(d,""[s],function(y,S,R,V,q){var ne=W5(y),Z=S.exec;return Z===SQ||Z===K2.exec?p&&!q?{done:!0,value:v(S,R,V)}:{done:!0,value:ne(R,S,V)}:{done:!1}});Q5(String.prototype,s,b[0]),Q5(K2,d,b[1])}c&&TQ(K2[d],"sham",!0)},CQ=LC.charAt,J5=function(s,o,i){return o+(i?CQ(s,o).length:1)},W2=Tn,NQ=Ae,IQ=Math.floor,Q2=W2("".charAt),AQ=W2("".replace),Y2=W2("".slice),OQ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,RQ=/\$([$&'`]|\d{1,2})/g,eN=ze,MQ=fi,DQ=er,LQ=Nn,UQ=Wm,PQ=TypeError,nN=function(s,o){var i=s.exec;if(DQ(i)){var c=eN(i,s,o);return c!==null&&MQ(c),c}if(LQ(s)==="RegExp")return eN(UQ,s,o);throw PQ("RegExp#exec called on incompatible receiver")},FQ=Uk,tN=ze,Qm=Tn,HQ=Z5,BQ=We,VQ=fi,zQ=er,$Q=qn,qQ=mh,GQ=pm,Ih=yo,jQ=lt,KQ=J5,WQ=op,QQ=function(s,o,i,c,d,p){var _=i+s.length,v=c.length,b=RQ;return d!==void 0&&(d=NQ(d),b=OQ),AQ(p,b,function(y,S){var R;switch(Q2(S,0)){case"$":return"$";case"&":return s;case"`":return Y2(o,0,i);case"'":return Y2(o,_);case"<":R=d[Y2(S,1,-1)];break;default:var V=+S;if(V===0)return y;if(V>v){var q=IQ(V/10);return q===0?y:q<=v?c[q-1]===void 0?Q2(S,1):c[q-1]+Q2(S,1):y}R=c[V-1]}return R===void 0?"":R})},YQ=nN,X2=Pt("replace"),XQ=Math.max,ZQ=Math.min,JQ=Qm([].concat),Z2=Qm([].push),rN=Qm("".indexOf),iN=Qm("".slice),eY=function(s){return s===void 0?s:String(s)},nY="a".replace(/./,"$0")==="$0",aN=!!/./[X2]&&/./[X2]("a","$0")==="",tY=!BQ(function(){var s=/./;return s.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(s,"$<a>")!=="7"});HQ("replace",function(s,o,i){var c=aN?"$":"$0";return[function(d,p){var _=jQ(this),v=$Q(d)?void 0:WQ(d,X2);return v?tN(v,d,_,p):tN(o,Ih(_),d,p)},function(d,p){var _=VQ(this),v=Ih(d);if(typeof p=="string"&&rN(p,c)===-1&&rN(p,"$<")===-1){var b=i(o,_,v,p);if(b.done)return b.value}var y=zQ(p);y||(p=Ih(p));var S=_.global;if(S){var R=_.unicode;_.lastIndex=0}for(var V=[];;){var q=YQ(_,v);if(q===null||(Z2(V,q),!S))break;Ih(q[0])===""&&(_.lastIndex=KQ(v,GQ(_.lastIndex),R))}for(var ne="",Z=0,se=0;se<V.length;se++){for(var xe=Ih((q=V[se])[0]),Ce=XQ(ZQ(qQ(q.index),v.length),0),Le=[],Fe=1;Fe<q.length;Fe++)Z2(Le,eY(q[Fe]));var ye=q.groups;if(y){var be=JQ([xe],Le,Ce,v);ye!==void 0&&Z2(be,ye);var nn=Ih(FQ(p,void 0,be))}else nn=QQ(xe,v,Ce,Le,ye,p);Ce>=Z&&(ne+=iN(v,Z,Ce)+nn,Z=Ce+xe.length)}return ne+iN(v,Z)}]},!tY||!nY||aN);var rY=jn,iY=Tn(1 .valueOf),sN=`	
\v\f\r \u2028\u2029\uFEFF`,aY=lt,sY=yo,J2=sN,oN=Tn("".replace),oY=RegExp("^["+J2+"]+"),lY=RegExp("(^|[^"+J2+"])["+J2+"]+$"),eE=function(s){return function(o){var i=sY(aY(o));return 1&s&&(i=oN(i,oY,"")),2&s&&(i=oN(i,lY,"$1")),i}},lN={start:eE(1),end:eE(2),trim:eE(3)},cY=Pr,uY=_i,cN=jn,uN=rY,dN=Tn,dY=Tm,hN=Pe,hY=v5,pY=kt,fY=J1,pN=HT,_Y=We,mY=dp.f,vY=up.f,gY=Li.f,bY=iY,yY=lN.trim,Ym="Number",Ah=cN[Ym];uN[Ym];var nE=Ah.prototype,EY=cN.TypeError,wY=dN("".slice),Xm=dN("".charCodeAt),xY=function(s){var o,i,c,d,p,_,v,b,y=pN(s,"number");if(fY(y))throw EY("Cannot convert a Symbol value to a number");if(typeof y=="string"&&y.length>2){if(y=yY(y),(o=Xm(y,0))===43||o===45){if((i=Xm(y,2))===88||i===120)return NaN}else if(o===48){switch(Xm(y,1)){case 66:case 98:c=2,d=49;break;case 79:case 111:c=8,d=55;break;default:return+y}for(_=(p=wY(y,2)).length,v=0;v<_;v++)if((b=Xm(p,v))<48||b>d)return NaN;return parseInt(p,c)}}return+y},tE=dY(Ym,!Ah(" 0o1")||!Ah("0b1")||Ah("+0x1")),Zm=function(s){var o,i=arguments.length<1?0:Ah(function(c){var d=pN(c,"number");return typeof d=="bigint"?d:xY(d)}(s));return pY(nE,o=this)&&_Y(function(){bY(o)})?hY(Object(i),this,Zm):i};Zm.prototype=nE,tE&&(nE.constructor=Zm),cY({global:!0,constructor:!0,wrap:!0,forced:tE},{Number:Zm}),tE&&function(s,o){for(var i,c=uY?mY(o):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),d=0;c.length>d;d++)hN(o,i=c[d])&&!hN(s,i)&&gY(s,i,vY(o,i))}(uN[Ym],Ah);var rE=function(s){Object.keys(s).forEach(function(o){var i;((i=s[o])===void 0||Number.isNaN(i)||i===""||Array.isArray(i)&&i.length===0)&&delete s[o]})},SY=function(){var s=m(u().mark(function o(i){var c,d,p,_,v,b,y,S,R,V,q,ne,Z;return u().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(i){se.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return se.next=4,i.getStats();case 4:c=se.sent,p=c.entries(),_=0;case 7:if(!(_<c.size)){se.next=18;break}if(v=p.next(),b=v.value){se.next=11;break}return se.abrupt("continue",15);case 11:if((y=b[1]).type!=="candidate-pair"||y.state!=="succeeded"){se.next=15;break}return d=y.localCandidateId,se.abrupt("break",18);case 15:_++,se.next=7;break;case 18:if(!(_<c.size)){se.next=28;break}if(S=p.next(),R=S.value){se.next=22;break}return se.abrupt("continue",25);case 22:if((V=R[1]).type!=="local-candidate"||V.id!==d){se.next=25;break}return se.abrupt("return",{connectionType:(q=V.candidateType)!==null&&q!==void 0?q:"",protocol:(ne=V.protocol)!==null&&ne!==void 0?ne:"",relayProtocol:(Z=V.relayProtocol)!==null&&Z!==void 0?Z:""});case 25:_++,se.next=18;break;case 28:return se.abrupt("return",null);case 29:case"end":return se.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),TY=function(){var s=m(u().mark(function o(i){var c,d,p,_,v,b,y;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return c={},d={},p={},_={},v=new Map,b=new Map,i.forEach(function(R){R.type==="codec"&&v.set(R.id,R),R.type==="candidate-pair"&&R.state==="succeeded"&&(y=R.localCandidateId,c.webrtc_timestamp=R.time),R.type==="media-source"&&b.set(R.kind,R)}),i.forEach(function(R){if(R.type==="local-candidate"&&R.id===y&&(d.network_type=R.networkType,d.protocol=R.protocol,d.candidate_type=R.candidateType),R.kind==="audio"||R.mediaType==="audio"){var V;if(R.type==="outbound-rtp"&&(p.codec=(V=v.get(R.codecId))===null||V===void 0?void 0:V.mimeType,p.total_packets_sent=R.packetsSent,p.retransmitted_packets_sent=R.retransmittedPacketsSent),R.type==="remote-inbound-rtp"&&(p.rtt=1e3*R.roundTripTime),R.type==="inbound-rtp"){var q=R.packetsLost/(R.packetsLost+R.packetsReceived)*100;p.total_packets_received=R.packetsReceived,p.total_packets_lost_rate=q,p.total_packets_lost=R.packetsLost,p.jitter=1e3*R.jitter}R.type==="track"&&R.remoteSource&&(p.jitter_buffer_delay=R.jitterBufferDelay,p.jitter_buffer_emitted_count=R.jitterBufferDelayEmittedCount)}if(R.kind==="video"||R.mediaType==="video"){var ne,Z,se,xe;if(_.video_source_width=(ne=b.get("video"))===null||ne===void 0?void 0:ne.width,_.video_source_height=(Z=b.get("video"))===null||Z===void 0?void 0:Z.height,_.video_source_frames_per_second=(se=b.get("video"))===null||se===void 0?void 0:se.framesPerSecond,R.type==="outbound-rtp"&&(_.codec=(xe=v.get(R.codecId))===null||xe===void 0?void 0:xe.mimeType,_.fir_count=R.firCount,_.pli_count=R.pliCount,_.nack_count=R.nackCount,_.qp_sum=R.qpSum,_.total_packets_sent=R.packetsSent,_.retransmitted_packets_sent=R.retransmittedBytesSent,_.quality_limitation_reason=R.qualityLimitationReason,_.quality_limitation_resolution_changes=R.qualityLimitationResolutionChanges),R.type==="remote-inbound-rtp"&&(_.rtt=1e3*R.roundTripTime,_.total_remote_packets_lost=R.packetsLost,_.total_remote_packets_lost_rate=_.total_remote_packets_lost/_.total_packets_sent*100),R.type==="inbound-rtp"){_.header_bytes_received=R.headerBytesReceived,_.key_frames_decoded=R.keyFramesDecoded,_.total_decode_time=R.totalDecodeTime,_.total_inter_frame_delay=R.totalInterFrameDelay,_.total_squared_inter_frame_delay=R.totalSquaredInterFrameDelay;var Ce=R.packetsLost/(R.packetsLost+R.packetsReceived)*100;_.total_packets_lost=R.packetsLost,_.total_packets_received=R.packetsReceived,_.total_packets_lost_rate=Ce}R.type==="track"&&(R.remoteSource?(_.jitter_buffer_delay=R.jitterBufferDelay,_.jitter_buffer_emitted_count=R.jitterBufferDelayEmittedCount,_.received_frame_width=R.frameWidth,_.received_frame_height=R.frameHeight,_.frames_received=R.framesReceived,_.frames_decoded=R.framesDecoded,_.frames_dropped=R.framesDropped,_.freeze_count=R.freezeCount,_.pause_count=R.pauseCount,_.total_freezes_duration=R.totalFreezesDuration,_.total_pauses_duration=R.totalPausesDuration,_.total_frames_duration=R.totalFramesDuration,_.sum_of_squared_frames_duration=R.sumOfSquaredFramesDuration):(_.sent_frame_width=R.frameWidth,_.sent_frame_height=R.frameHeight))}}),rE(d),rE(p),rE(_),c.transport_info=d,c.audio=p,c.video=_,S.abrupt("return",c);case 15:case"end":return S.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),kY=function(){var s=m(u().mark(function o(i){var c;return u().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i){d.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return d.next=4,i.getStats();case 4:return c=d.sent,d.abrupt("return",TY(c));case 6:case"end":return d.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),fN=function(s){var o=l(l({},s),{},{transport_info:l({},s.transport_info),audio:l({},s.audio)});return s.video&&(o.video=l({},s.video)),o},_N=function(s,o){var i=fN(s),c=i.audio,d=i.video;return c.packets_lost=c.total_packets_lost,c.packets_received=c.total_packets_received,c.packets_sent=c.total_packets_sent,o&&(c.packets_lost-=o.audio.total_packets_lost,c.packets_received-=o.audio.total_packets_received,c.packets_sent-=o.audio.total_packets_sent),c.packets_lost_rate=c.packets_lost/(c.packets_lost+c.packets_received)*100,d.packets_lost=d.total_packets_lost,d.packets_received=d.total_packets_received,d.packets_sent=d.total_packets_sent,d.remote_packets_lost=d.total_remote_packets_lost,o&&(d.packets_lost-=o.video.total_packets_lost,d.packets_received-=o.video.total_packets_received,d.packets_sent-=o.video.total_packets_sent,d.remote_packets_lost-=o.video.total_remote_packets_lost),d.packets_lost_rate=d.packets_lost/(d.packets_lost+d.packets_received)*100,d.remote_packets_lost_rate=d.remote_packets_lost/d.packets_sent*100,i},mN=function(s,o){return(s??0)+(o??0)},vN=function(s,o,i){return(s??0)*i+(o??0)*(1-i)},gN=function(){function s(o){g(this,s),this._context=o}return E(s,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(o){this._state&&this._state.type===o.type||(this._state&&this._state.destroy(),this._state=o,this._state.context=this._context,this._state.start())}}]),s}(),bN=function(){function s(o){g(this,s),this._stateMutator=o}return E(s,[{key:"context",set:function(o){this._context=o}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),s}(),yN=function(){function s(o,i){g(this,s),this._context=o,this._stateMutator=i,this._context=o,this._stateMutator=i}return E(s,[{key:"state",get:function(){return this._stateMutator.state}}]),s}(),Mc=function(s){T(i,s);var o=O(i);function i(c){return g(this,i),o.call(this,c)}return E(i)}(bN),Er=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ANSWERING="answering",s.CONNECTED="connected",s.RECONNECTING="reconnecting",s.ICE_RESTART_OFFERING="iceRestartOffering",s.ICE_RESTART_ANSWERING="iceRestartAnswering",s.CLOSED="closed",s}({}),CY=function(s){T(c,s);var o,i=O(c);function c(d,p){var _;return g(this,c),w(U(_=i.call(this,d)),"type",Er.ANSWERING),_._offerCommand=p,_}return E(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=m(u().mark(function d(p){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(v){});case 4:case"end":return _.stop()}},d,this)})),function(d){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Mc),NY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",Er.CLOSED),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(Mc),IY=function(s){T(c,s);var o,i=O(c);function c(d,p){var _;return g(this,c),w(U(_=i.call(this,d)),"type",Er.CONNECTED),_._isReconnected=p,_}return E(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=m(u().mark(function d(p){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return _.stop()}},d,this)})),function(d){return o.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Mc),AY=function(s){T(c,s);var o,i=O(c);function c(d,p){var _;return g(this,c),w(U(_=i.call(this,d)),"type",Er.ICE_RESTART_ANSWERING),_._offerCommand=p,_}return E(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=m(u().mark(function d(p){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(v){});case 3:case"end":return _.stop()}},d,this)})),function(d){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Mc),OY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",Er.ICE_RESTART_OFFERING),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Mc),RY=function(s){T(c,s);var o,i=O(c);function c(){var d;g(this,c);for(var p=arguments.length,_=new Array(p),v=0;v<p;v++)_[v]=arguments[v];return w(U(d=i.call.apply(i,[this].concat(_))),"type",Er.IDLE),d}return E(c,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(o=m(u().mark(function d(p){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return _.stop()}},d,this)})),function(d){return o.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Mc),MY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",Er.OFFERING),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Mc),DY=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this,c)),"type",Er.RECONNECTING),p._offerCommand=d,p}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(c){this._stateMutator.toIceRestartAnswering(c)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Mc),LY=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new RY(this))}},{key:"toOffering",value:function(){this._changeState(new MY(this))}},{key:"toAnswering",value:function(c){this._changeState(new CY(this,c))}},{key:"toConnected",value:function(c){this._changeState(new IY(this,c))}},{key:"toReconnecting",value:function(c){this._changeState(new DY(this,c))}},{key:"toIceRestartOffering",value:function(){this._changeState(new OY(this))}},{key:"toIceRestartAnswering",value:function(c){this._changeState(new AY(this,c))}},{key:"toClosed",value:function(){this._changeState(new NY(this))}}]),i}(gN),UY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this,c,new LY(c)))._stateMutator.toIdle(),d}return E(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(c){tt.verbose("[".concat(this.state.type,"] onOfferReceived"));var d=this.state;switch(d.type){case Er.IDLE:case Er.ANSWERING:case Er.CONNECTED:case Er.RECONNECTING:case Er.ICE_RESTART_ANSWERING:d.onOfferReceived(c);break;default:tt.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(c){tt.verbose("[".concat(this.state.type,"] onAnswerReceived"));var d=this.state;switch(d.type){case Er.OFFERING:case Er.ICE_RESTART_OFFERING:d.onAnswerReceived(c);break;default:tt.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){tt.verbose("[".concat(this.state.type,"] onClose"));var c=this.state;switch(c.type){case Er.IDLE:case Er.OFFERING:case Er.ANSWERING:case Er.CONNECTED:case Er.RECONNECTING:case Er.ICE_RESTART_OFFERING:case Er.ICE_RESTART_ANSWERING:c.onClose();break;default:tt.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){tt.verbose("[".concat(this.state.type,"] createOffer"));var c=this.state;c.type===Er.IDLE?c.createOffer():tt.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){tt.verbose("[".concat(this.state.type,"] onIceConnected"));var c=this.state;switch(c.type){case Er.OFFERING:case Er.ANSWERING:case Er.RECONNECTING:case Er.ICE_RESTART_OFFERING:case Er.ICE_RESTART_ANSWERING:c.onIceConnected();break;default:tt.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){tt.verbose("[".concat(this.state.type,"] onIceDisconnected"));var c=this.state;c.type===Er.CONNECTED?c.onIceDisconnected():tt.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){tt.verbose("[".concat(this.state.type,"] onIceFailed"));var c=this.state;switch(c.type){case Er.CONNECTED:case Er.RECONNECTING:c.onIceFailed();break;default:tt.error("[".concat(this.state.type,"] onIceFailed"))}}}]),i}(yN),PY=function(s){return s.RELAY="relay",s.ALL="all",s}({}),FY=function(s){T(_,s);var o,i,c,d,p=O(_);function _(v,b,y,S,R,V,q,ne){var Z;return g(this,_),(Z=p.call(this))._ctx=v,Z.id=b,Z._signalingClient=y,Z._localStream=S,Z._isInitiator=R,Z._turnCredential=V,Z._mediaDirections=q,Z._isDisposable=ne,Z._stateMachine=new UY({dispatchEvent:Z._dispatchEvent.bind(U(Z)),isInitiator:Z._isInitiator,setRemoteDescription:Z._setRemoteDescription.bind(U(Z)),sendAnswer:Z._sendAnswer.bind(U(Z)),sendOffer:Z._sendOffer.bind(U(Z)),createRTCConnection:Z._createRTCConnection.bind(U(Z)),prepareSessionDescription:Z._prepareSessionDescription.bind(U(Z)),isDisposable:Z._isDisposable}),S&&S.on("streamChanged",function(se){return Z.onLocalStream(se)}),Z}return E(_,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(v){switch(v.type){case iE.CANDIDATE:return void this._receiveCandidate(v);case iE.OFFER:this._stateMachine.onOfferReceived(v);break;case iE.ANSWER:this._stateMachine.onAnswerReceived(v);break;default:tt.error(new Error("unhandled call event ".concat(v)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(v){if(this._rtcConnection){var b,y=z(v.getTracks());try{for(y.s();!(b=y.n()).done;){var S=b.value;this._replaceTrack(S)}}catch(R){y.e(R)}finally{y.f()}}}},{key:"getCandidateInfo",value:(d=m(u().mark(function v(){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",SY(this.rtcConnection));case 1:case"end":return b.stop()}},v,this)})),function(){return d.apply(this,arguments)})},{key:"getStatsLog",value:(c=m(u().mark(function v(){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",kY(this.rtcConnection));case 1:case"end":return b.stop()}},v,this)})),function(){return c.apply(this,arguments)})},{key:"_replaceTrack",value:function(v){var b,y=z(this._rtcConnection.getSenders());try{for(y.s();!(b=y.n()).done;){var S=b.value;S.track&&S.track.kind===v.kind&&S.replaceTrack(v)}}catch(R){y.e(R)}finally{y.f()}}},{key:"_createRTCConnection",value:function(){var v,b=this;this._turnCredential&&(v={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||PY.ALL});var y=new RTCPeerConnection(v);y.onnegotiationneeded=function(){b._sendOffer(!1)},y.onicecandidate=function(S){var R,V;S.candidate&&((R=(V=b._signalingClient).sendCandidate)===null||R===void 0||R.call(V,S.candidate))},y.onconnectionstatechange=function(){return b._handleConnectionStateChange(y)},y.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(y)},y.ontrack=function(S){return b._onRemoteTrack(S)},this._rtcConnection=y}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var v=this._mediaDirections,b=v.audio,y=v.video,S={sendrecv:[],sendonly:[],recvonly:[],none:[]};S[b].push("audio"),S[y].push("video"),S.sendrecv.length&&this._addTracks(S.sendrecv),S.sendonly.length&&this._addSendOnlyTransceivers(S.sendonly),S.recvonly.length&&this._addReceiveOnlyTransceivers(S.recvonly)}},{key:"_addTracks",value:function(v){var b=this;tt.debug("_addTracks()");var y=this._localStream.localStream;y.getTracks().forEach(function(S){v.includes(S.kind)&&b._rtcConnection.addTrack(S,y)})}},{key:"_addReceiveOnlyTransceivers",value:function(v){var b=this;v.forEach(function(y){b._rtcConnection.addTransceiver(y,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(v){var b=this,y=this._localStream.localStream;v.forEach(function(S){y.getTracks().forEach(function(R){R.kind===S&&b._rtcConnection.addTransceiver(R,{direction:"sendonly",streams:[y]})})})}},{key:"_setRemoteDescription",value:function(v,b){var y=b.replace(/a=extmap:0 ulpfec\r\n/,""),S=new RTCSessionDescription({type:v,sdp:y});return this._rtcConnection.setRemoteDescription(S)}},{key:"_sendOffer",value:(i=m(u().mark(function v(b){var y,S;return u().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return y={iceRestart:b||!1},R.next=3,this._rtcConnection.createOffer(y);case 3:return S=R.sent,R.next=6,this._rtcConnection.setLocalDescription(S);case 6:return R.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return R.stop()}},v,this)})),function(v){return i.apply(this,arguments)})},{key:"_sendAnswer",value:(o=m(u().mark(function v(){var b;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this._rtcConnection.createAnswer();case 2:return(b=y.sent).sdp=b.sdp.replace("actpass","active"),y.next=6,this._rtcConnection.setLocalDescription(b);case 6:return y.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return y.stop()}},v,this)})),function(){return o.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(v){switch(tt.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(v.iceConnectionState)),v.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(v){tt.verbose("[".concat(this._state.type,"] connectionState ").concat(v.connectionState)),v.connectionState==="failed"&&this._dispatchEvent("iceFailed")}},{key:"_receiveCandidate",value:function(v){var b=v.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:b.sdpMLineIndex,sdpMid:b.sdpMid,candidate:b.sdp}).catch(function(y){tt.error(y)})}},{key:"_onRemoteTrack",value:function(v){this._remoteStream=v.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),_}(xo),iE=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),aE=E(function s(){var o=this;g(this,s),this.promise=new Promise(function(i,c){o.resolve=i,o.reject=c})}),sE=function(){var s=m(u().mark(function o(i,c,d){var p,_,v,b,y,S,R,V,q=arguments;return u().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return p=q.length>3&&q[3]!==void 0?q[3]:{count:0,deferred:new aE},_=p.deferred,v=p.count,ne.prev=2,ne.next=5,c();case 5:y=ne.sent,v>0&&((b=d.onRecover)===null||b===void 0||b.call(d)),_.resolve(y),ne.next=19;break;case 10:if(ne.prev=10,ne.t0=ne.catch(2),(S=d.onError)===null||S===void 0||S.call(d,ne.t0),!((R=i.calcTimeout(v+1))>=0)){ne.next=18;break}return(V=d.onRetrial)===null||V===void 0||V.call(d,v+1,ne.t0),setTimeout(function(){sE(i,c,d,{count:v+1,deferred:_})},R),ne.abrupt("return",_.promise);case 18:_.reject(ne.t0);case 19:return ne.abrupt("return",_.promise);case 20:case"end":return ne.stop()}},o,null,[[2,10]])}));return function(o,i,c){return s.apply(this,arguments)}}(),HY=function(){function s(){g(this,s)}return E(s,[{key:"calcTimeout",value:function(o){switch(o){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),s}(),EN=function(){function s(o,i,c){g(this,s),this.interval=o,this.noise=i,this.maxRetrial=c}return E(s,[{key:"calcTimeout",value:function(o){return o>this.maxRetrial?-1:this.interval+(Math.random()-.5)*this.noise*2}}]),s}(),wN=function(){function s(o){g(this,s),this._requests=new Map,this.timeoutTime=o}return E(s,[{key:"has",value:function(o){return this._requests.has(o)}},{key:"get",value:function(o){return this._requests.get(o)}},{key:"register",value:function(o){if(!o)throw new Error("invalid request id");if(this._requests.has(o))throw new Error("duplicate requests");var i=new aE;return this._requests.set(o,{deferred:i,timer:this._createTimeoutTimer(o)}),i}},{key:"unregister",value:function(o){if(!this._requests.has(o))return null;var i=this._requests.get(o),c=i.timer,d=i.deferred;return clearTimeout(c),this._requests.delete(o),d}},{key:"_createTimeoutTimer",value:function(o){var i=this;return setTimeout(function(){i.unregister(o).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(o){var i,c=z(this._requests.keys());try{for(c.s();!(i=c.n()).done;){var d=i.value,p=this._requests.get(d);clearTimeout(p.timer),p.deferred.reject(o)}}catch(_){c.e(_)}finally{c.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),s}(),BY=function(){function s(d,p,_,v){g(this,s),w(this,"_timeoutTime",6e4),this._ctx=d,this._participantId=p,this._mediaDirections=_,this._endpointId=v,this._requestMap=new wN(this._timeoutTime)}var o,i,c;return E(s,[{key:"sendOfferSdp",value:(c=m(u().mark(function d(p){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this._endpointId){_.next=5;break}return _.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(p);case 3:_.next=7;break;case 5:return _.next=7,this._sendOfferAndUnregisterPutEndpointRequest(p);case 7:case"end":return _.stop()}},d,this)})),function(d){return c.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(i=m(u().mark(function d(p){var _,v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(p);case 4:return v=b.sent,_&&_.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},d,this,[[1,9]])})),function(d){return i.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(o=m(u().mark(function d(p){var _,v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),b.prev=1,b.next=4,this._sendPutEndpoint(p);case 4:return v=b.sent,_&&_.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},d,this,[[1,9]])})),function(d){return o.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(d){return this._ctx.sendCreateEndpoint(d)}},{key:"_sendPutEndpoint",value:function(d){return this._ctx.sendPutEndpoint(d)}}]),s}(),Dc=function(s){T(i,s);var o=O(i);function i(c){return g(this,i),o.call(this,c)}return E(i)}(bN),hr=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ESTABLISHED="established",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.RECONNECTING="reconnecting",s.RELEASING="releasing",s.CLOSED="closed",s}({}),VY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",hr.CLOSED),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(Dc),zY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,c)),"type",hr.CONNECTED),d}return E(i,[{key:"_onStart",value:function(){var c=this._context.reconnectCount>0;this._context.dispatchEvent("connected",c)}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!0)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),$Y=function(s){T(i,s);var o=O(i);function i(c,d,p){var _;return g(this,i),w(U(_=o.call(this,c)),"type",hr.ESTABLISHED),_._sdp=d,_._hasPendingAttach=p,_}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),qY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",hr.IDLE),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("idle"),this._stateMutator.toOffering()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),GY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,c)),"type",hr.OFFERING),d}return E(i,[{key:"_onStart",value:function(){this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){this._context.createSession(),this._context.requestCreateOrPutEndpoint()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onEndpointRequestSucceeded",value:function(c){this._stateMutator.toEstablished(c,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),jY=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this,c)),"type",hr.DISCONNECTED),p.shouldDispatchEvent=d,p}return E(i,[{key:"_onStart",value:function(){this.shouldDispatchEvent&&this._context.dispatchEvent("disconnected"),this._stateMutator.toReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),KY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,c)),"type",hr.RECONNECTING),d}return E(i,[{key:"_onStart",value:function(){var c=this;this._context.reconnectCount+=1,setTimeout(function(){c._stateMutator.toOffering()},5e3+1e3*Math.random()),this._context.endpoint.onReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),WY=function(s){T(i,s);var o=O(i);function i(){var c;g(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return w(U(c=o.call.apply(o,[this].concat(p))),"type",hr.RELEASING),c}return E(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Dc),QY=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"Endpoint"}},{key:"toIdle",value:function(){this._changeState(new qY(this))}},{key:"toOffering",value:function(){this._changeState(new GY(this))}},{key:"toEstablished",value:function(c,d){this._changeState(new $Y(this,c,d))}},{key:"toConnected",value:function(){this._changeState(new zY(this))}},{key:"toDisconnected",value:function(c){this._changeState(new jY(this,c))}},{key:"toReconnecting",value:function(){this._changeState(new KY(this))}},{key:"toReleasing",value:function(){this._changeState(new WY(this))}},{key:"toClosed",value:function(){this._changeState(new VY(this))}}]),i}(gN),YY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this,c,new QY(c)))._stateMutator.toIdle(),d}return E(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(c){tt.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var d=this.state;switch(d.type){case hr.OFFERING:d.onEndpointRequestSucceeded(c);break;case hr.RELEASING:d.onEndpointRequestSucceeded();break;default:tt.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){tt.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var c=this.state;switch(c.type){case hr.OFFERING:case hr.RELEASING:c.onEndpointRequestFailed();break;default:tt.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){tt.verbose("[".concat(this.state.type,"] onICEFailed"));var c=this.state;switch(c.type){case hr.OFFERING:case hr.ESTABLISHED:case hr.CONNECTED:c.onICEFailed();break;default:tt.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){tt.verbose("[".concat(this.state.type,"] onPCConnected"));var c=this.state;c.type===hr.ESTABLISHED?c.onPCConnected():tt.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){tt.verbose("[".concat(this.state.type,"] onAttach"));var c=this.state;switch(c.type){case hr.OFFERING:case hr.ESTABLISHED:case hr.CONNECTED:c.onAttach();break;default:tt.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){tt.verbose("[".concat(this.state.type,"] onRelease"));var c=this.state;switch(c.type){case hr.IDLE:case hr.OFFERING:case hr.ESTABLISHED:case hr.CONNECTED:case hr.DISCONNECTED:case hr.RECONNECTING:c.onRelease();break;default:tt.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){tt.verbose("[".concat(this.state.type,"] onReleased"));var c=this.state;c.type===hr.RELEASING?c.onReleased():tt.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){tt.verbose("[".concat(this.state.type,"] onExit"));var c=this.state;switch(c.type){case hr.RELEASING:case hr.IDLE:case hr.CONNECTED:case hr.ESTABLISHED:case hr.OFFERING:case hr.DISCONNECTED:case hr.RECONNECTING:c.onExit();break;default:tt.error("[".concat(this.state.type,"] onExit"))}}}]),i}(yN),oE=function(s){T(i,s);var o=O(i);function i(){return g(this,i),o.apply(this,arguments)}return E(i)}(function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this)).payload=c.payload||{},d}return E(i)}($m)),lE=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),XY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,{payload:c})),"type",lE.ANSWER),d}return E(i)}(oE),ZY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,{payload:c})),"type",lE.CANDIDATE),d}return E(i)}(oE),JY=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),w(U(d=o.call(this,{payload:c})),"type",lE.OFFER),d}return E(i)}(oE),eX=function(){function s(){g(this,s)}return E(s,null,[{key:"createOffer",value:function(o,i){return new JY({peerConnectionId:o,sdp:i})}},{key:"createAnswer",value:function(o,i){return new XY({peerConnectionId:o,sdp:i})}},{key:"createCandidate",value:function(o,i){return new ZY({peerConnectionId:o,candidate:i})}}]),s}(),nX=ze,tX=fi,rX=qn,iX=pm,cE=yo,aX=lt,sX=op,oX=J5,xN=nN;Z5("match",function(s,o,i){return[function(c){var d=aX(this),p=rX(c)?void 0:sX(c,s);return p?nX(p,c,d):new RegExp(c)[s](cE(d))},function(c){var d=tX(this),p=cE(c),_=i(o,d,p);if(_.done)return _.value;if(!d.global)return xN(d,p);var v=d.unicode;d.lastIndex=0;for(var b,y=[],S=0;(b=xN(d,p))!==null;){var R=cE(b[0]);y[S]=R,R===""&&(d.lastIndex=oX(p,iX(d.lastIndex),v)),S++}return S===0?null:y}]});var SN=jn,lX=We,cX=Tn,uX=yo,dX=lN.trim,TN=sN,Np=SN.parseInt,kN=SN.Symbol,CN=kN&&kN.iterator,NN=/^[+-]?0x/i,hX=cX(NN.exec),IN=Np(TN+"08")!==8||Np(TN+"0x16")!==22||CN&&!lX(function(){Np(Object(CN))})?function(s,o){var i=dX(uX(s));return Np(i,o>>>0||(hX(NN,i)?16:10))}:Np;Pr({global:!0,forced:parseInt!=IN},{parseInt:IN});var Jm=function(s,o,i){var c=s.match(o);return c&&c.length>=i&&parseInt(c[i],10)},pX=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var o=window.navigator;if(o.mozGetUserMedia)s.browser="firefox",s.version=Jm(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=Jm(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.mediaDevices&&o.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=Jm(o.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=Jm(o.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s},fX=function(){function s(o,i,c){g(this,s),w(this,"_count",0),this._ctx=o,this._endpoint=i,this._sendStatsLogCommand=c}return E(s,[{key:"_interval",get:function(){return this._endpoint.type==="master"?3e3:15e3}},{key:"_insertInfo",value:function(){var o=this._endpoint;Object.assign(this._accumulated,{app_id:this._ctx.appId,browser_type:pX(),endpoint_id:o.id,live_event_id:this._ctx.liveEventId,device_timestamp:new Date().getTime(),user_id:this._ctx.userId,live_event_user_id:this._ctx.currentLiveUserId,attached_to:o.attachedTo,role:o.type==="master"?Ch.HOST:Ch.PARTICIPANT})}},{key:"insertStatsLog",value:function(o){var i=this._accumulated;this._count+=1;var c,d=_N(o,i);this._accumulated=function(p,_,v){var b=fN(p);if(v<=1||!_)return b;var y=1/v,S=1/(v-1);function R(ne){return ne==="audio"?function(Z){b.audio[Z]=mN(b.audio[Z],_.audio[Z])}:function(Z){b.video[Z]=mN(b.video[Z],_.video[Z])}}function V(ne){return ne==="audio"?function(Z){b.audio[Z]=vN(b.audio[Z],_.audio[Z],["rtt","mos"].includes(Z)?S:y)}:function(Z){b.video[Z]=vN(b.video[Z],_.video[Z],["rtt","mos"].includes(Z)?S:y)}}function q(ne){return ne==="audio"?function(Z){b.audio[Z]=_.audio[Z]}:function(Z){b.video[Z]=_.video[Z]}}return q("audio")("codec"),V("audio")("rtt"),V("audio")("jitter"),R("audio")("packets_lost"),V("audio")("packets_lost_rate"),q("video")("codec"),V("video")("rtt"),R("video")("packets_lost"),V("video")("packets_lost_rate"),R("video")("remote_packets_lost"),V("video")("remote_packets_lost_rate"),V("video")("video_source_width"),V("video")("video_source_height"),V("video")("video_source_frames_per_second"),V("video")("received_frame_width"),V("video")("received_frame_height"),V("video")("sent_frame_width"),V("video")("sent_frame_height"),b}(d,this._accumulated,this._count),this._count%(this._interval/1e3)==0&&(this._insertInfo(),(c=this._sendStatsLogCommand)===null||c===void 0||c.call(this,this._accumulated),delete this._accumulated,this._count=0)}},{key:"getAccumulatedStats",value:function(){return this._accumulated}}]),s}(),uE=E(function s(o){g(this,s),Object.assign(this,o)}),_X=function(s){T(i,s);var o=O(i);function i(c){var d;return g(this,i),(d=o.call(this))._type=c,d._prevStats=null,d._prevMetrics=null,d._startDispatchInterval(),d}return E(i,[{key:"insertStatsLog",value:function(c){var d,p,_=this._prevStats;c?(d=_N(c,_),p=this._createMetricsFromStats(d)):p=new uE({packetsLostRate:void 0,rtt:void 0,jitter:void 0}),this._prevStats=d,this._prevMetrics=p}},{key:"_createMetricsFromStats",value:function(c){switch(this._type){case"master":return new uE({packetsLostRate:c.video.remote_packets_lost_rate,rtt:c.video.rtt});case"viewer":return new uE({packetsLostRate:c.audio.packets_lost_rate,jitter:c.audio.jitter});default:throw new Error("inappropriate endpoint type is injected.")}}},{key:"onReconnecting",value:function(){this.insertStatsLog(void 0)}},{key:"onEnded",value:function(){this._stopDispatchInterval()}},{key:"_startDispatchInterval",value:function(){var c=this;this._dispatchIntervalId=setInterval(function(){c._dispatchIfExist()},3e3)}},{key:"_stopDispatchInterval",value:function(){this._dispatchIntervalId&&(clearInterval(this._dispatchIntervalId),delete this._dispatchIntervalId)}},{key:"_dispatchIfExist",value:function(){var c=this._prevMetrics;c&&this._dispatchEvent("updated",c)}}]),i}(xo),mX=function(){function s(o,i){var c=this;g(this,s),this._ctx=o,this._endpoint=i,this._collector=new fX(o,i,function(d){var p=yr.createStatsLogCommand(d);return c._ctx.sender.send(p)}),this._connectionQuality=new _X(this._endpoint.type)}return E(s,[{key:"startGetWebRtcStats",value:function(o){var i=this;this._statsIntervalId||(this._statsIntervalId=setInterval(function(){o.getStatsLog().then(function(c){i._collector.insertStatsLog(c),i._connectionQuality.insertStatsLog(c)})},1e3))}},{key:"stopGetWebRtcStats",value:function(){this._statsIntervalId&&(clearInterval(this._statsIntervalId),delete this._statsIntervalId)}},{key:"getAccumulatedStats",value:function(){return this._collector.getAccumulatedStats()}},{key:"setConnectionQualityListener",value:function(o){this.removeConnectionQualityListener(),this._connectionQuality.on("updated",function(i){o(i)})}},{key:"removeConnectionQualityListener",value:function(){this._connectionQuality.removeAllEventListeners()}},{key:"onReconnecting",value:function(){this._connectionQuality.onReconnecting()}},{key:"onEnded",value:function(){this._connectionQuality.onEnded()}}]),s}(),AN=function(s){T(i,s);var o=O(i);function i(c,d,p,_){var v;return g(this,i),w(U(v=o.call(this)),"tmpId",Re()),w(U(v),"_createSession",function(){switch(tt.debug("_createSession()"),v.type){case"master":v._createMasterSession();break;case"viewer":v._createViewerSession();break;default:tt.error("Not supported endpoint type : ",v.type)}}),w(U(v),"_closePeerConnection",function(){var b,y;tt.debug("_closePeerConnection()"),v._stopGetWebRtcStats(),(b=v._pc)===null||b===void 0||b.removeAllEventListeners(),(y=v._pc)===null||y===void 0||y.close(),v._pc=null}),w(U(v),"_requestCreateOrPutEndpoint",function(){tt.debug("_requestCreateOrPutEndpoint()");var b,y=v._pc;b=v.id?y.signalingClient.registerPutEndpointRequest():y.signalingClient.registerCreateEndpointRequest(),y.createOffer(),b.promise.then(function(S){v.id=S.payload.endpoint.id,v._stateMachine.onEndpointRequestSucceeded(S.payload.sdp)}).catch(function(S){tt.error("Endpoint request failed",S),v._stateMachine.onEndpointRequestFailed()})}),w(U(v),"_requestAttach",function(){sE(new EN(5e3,1e3,8),function(){return v._sendAttach(v.attachedTo)},{onError:function(b){tt.error("Fail attach endpoint endpointId = ".concat(v.id,", to = ").concat(v.attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){v._dispatchEvent("attached",v.attachedTo)})}),w(U(v),"_requestRelease",function(){tt.debug("_requestRelease()"),v._sendReleaseEndpoint().then(function(){v._stateMachine.onReleased()}).catch(function(b){tt.error("Release request failed",b),v._stateMachine.onReleased()})}),w(U(v),"_setRemoteDescription",function(b){tt.debug("_setRemoteDescription()");var y=v._pc,S=eX.createAnswer(void 0,b);y.onEvent(S),y.once("connected",function(){v._stateMachine.onPCConnected(),v._sendConnected(),v._startGetWebRtcStats()}),y.once("iceFailed",function(){v._stateMachine.onICEFailed()})}),v._ctx=c,v._localStream=d,v._participantId=_,v.type=p,v._stateMachine=new YY({endpoint:U(v),dispatchEvent:v._dispatchEvent.bind(U(v)),createSession:v._createSession,requestCreateOrPutEndpoint:v._requestCreateOrPutEndpoint,setRemoteDescription:v._setRemoteDescription,closePeerConnection:v._closePeerConnection,requestAttach:v._requestAttach,requestRelease:v._requestRelease,trialCount:0,reconnectCount:0}),v._logManager=new mX(v._ctx,U(v)),v}return E(i,[{key:"remoteStream",get:function(){var c;return(c=this._pc)===null||c===void 0?void 0:c.remoteStream}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"getAccumulatedStats",value:function(){return this._logManager.getAccumulatedStats()}},{key:"setConnectionQualityListener",value:function(c){this._logManager.setConnectionQualityListener(c)}},{key:"removeConnectionQualityListener",value:function(){this._logManager.removeConnectionQualityListener()}},{key:"attach",value:function(c){tt.debug("attach()"),this.attachedTo=c,this._stateMachine.onAttach()}},{key:"release",value:function(){tt.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){tt.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){tt.debug("_createMasterSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._masterSessionDirection,this._localStream)}},{key:"_createViewerSession",value:function(){tt.debug("_createViewerSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._viewerSessionDirection,void 0)}},{key:"_createPeerConnection",value:function(c,d){var p=this;tt.debug("_createPeerConnection()");var _=new BY(this._ctx,this._participantId,c,this.id);this._pc=new FY(this._ctx,void 0,_,d,!0,void 0,c,!0),this._pc.on("remoteStream",function(v){p._dispatchEvent("remoteStream",v)}),this._dispatchEvent("pcChanged",this._pc)}},{key:"_startGetWebRtcStats",value:function(){this._logManager.startGetWebRtcStats(this._pc)}},{key:"_stopGetWebRtcStats",value:function(){this._logManager.stopGetWebRtcStats(),this._logManager.onEnded()}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(c){return this._ctx.sendAttach(this,c)}},{key:"onReconnecting",value:function(){this._logManager.onReconnecting()}}]),i}(xo),vX=ze,gX=Wo,bX=zu,yX=Dm,EX=Ep;Pr({target:"Promise",stat:!0,forced:u2},{allSettled:function(s){var o=this,i=bX.f(o),c=i.resolve,d=i.reject,p=yX(function(){var _=gX(o.resolve),v=[],b=0,y=1;EX(s,function(S){var R=b++,V=!1;y++,vX(_,o,S).then(function(q){V||(V=!0,v[R]={status:"fulfilled",value:q},--y||c(v))},function(q){V||(V=!0,v[R]={status:"rejected",reason:q},--y||c(v))})}),--y||c(v)});return p.error&&d(p.value),i.promise}});var Oh=function(s){return s.TOP_LEFT="top_left",s.TOP_RIGHT="top_right",s.BOTTOM_LEFT="bottom_left",s.BOTTOM_RIGHT="bottom_right",s.HIDDEN="hidden",s}({}),wX=function(s){T(c,s);var o,i=O(c);function c(){return g(this,c),i.call(this)}return E(c,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(o=m(u().mark(function d(){var p,_=this;return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:p=v.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){_._releaseStream(),_._dispatchEvent("streamStopped")},v.next=19;break;case 8:v.prev=8,v.t0=v.catch(0),v.t1=v.t0.name,v.next=v.t1==="InvalidStateError"?13:v.t1==="NotAllowedError"?14:v.t1==="NotFoundError"?15:v.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return v.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return v.stop()}},d,this,[[0,8]])})),function(){return o.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var d,p=z(this._stream.getTracks());try{for(p.s();!(d=p.n()).done;)d.value.stop()}catch(_){p.e(_)}finally{p.f()}delete this._stream}}}]),c}(xo),Rh=null;function xX(s,o){var i=[];Rh||(Rh=new(window.AudioContext||window.webkitAudioContext));var c=Rh.createGain();if(c.gain.value=1,s){var d=new MediaStream;d.addTrack(s),i.push(Rh.createMediaStreamSource(d).connect(c))}if(o){var p=new MediaStream;p.addTrack(o),i.push(Rh.createMediaStreamSource(p).connect(c))}for(var _=Rh.createMediaStreamDestination(),v=0,b=i;v<b.length;v++)b[v].connect(_);return _.stream.getAudioTracks()[0]}var SX=function(s){T(v,s);var o,i,c,d,p,_=O(v);function v(b){var y,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0},R=arguments.length>2?arguments[2]:void 0;return g(this,v),w(U(y=_.call(this)),"isCustomStreaming",!1),w(U(y),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),y._deviceManager=b,y._mediaConstraints=S,y._screenShareOptions=R,y._screenShare=new wX,y._screenShare.on("streamStopped",function(){y._releaseMergedStream(),y._dispatchEvent("screenShareStreamStopped")}),y}return E(v,[{key:"mediaConstraints",set:function(b){this._mediaConstraints=b}},{key:"screenShareOptions",set:function(b){var y=this;this._screenShareOptions=b,this._screenShare.isSharing&&b!=null&&b.frameRate&&(this._releaseMergedStream(!1),this._mergeOverlayingScreenShareStream().then(function(){y._dispatchEvent("streamChanged",y.localStream)}))}},{key:"hasPermission",get:function(){var b;return(b=this._mediaAccess)===null||b===void 0?void 0:b.hasPermission}},{key:"localStream",get:function(){return this.isCustomStreaming?this._customStream:this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"customStream",get:function(){return this._customStream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(p=m(u().mark(function b(){return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return this._checkScreenSharePrerequisites(),y.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return y.stop()}},b,this)})),function(){return p.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"startOverlayingScreenStream",value:(d=m(u().mark(function b(y){return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y&&(this._screenShareOptions=y),this._checkScreenSharePrerequisites(),S.next=4,this._screenShare.startStream();case 4:return S.next=6,this._mergeOverlayingScreenShareStream();case 6:this._dispatchEvent("streamChanged",this.localStream);case 7:case"end":return S.stop()}},b,this)})),function(b){return d.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(c=m(u().mark(function b(y){return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,this._streamProcessor=y,S.next=4,this._applyStreamProcessor();case 4:this.isCustomStreaming=!0,this._dispatchEvent("streamChanged",this.localStream),S.next=11;break;case 8:S.prev=8,S.t0=S.catch(0),tt.error("failed to use custom stream",S.t0);case 11:case"end":return S.stop()}},b,this,[[0,8]])})),function(b){return c.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this.isCustomStreaming&&(this._releaseCustomStream(!1),this.isCustomStreaming=!1,this._dispatchEvent("streamChanged",this.localStream))}},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(b){var y=this;this._mediaAccess=this._deviceManager.useMedia(b);var S=[];this._mediaAccess.on("streamChanged",function(){y._screenShare.isSharing&&S.push(y._mergeOverlayingScreenShareStream()),y.isCustomStreaming&&S.push(y._applyStreamProcessor()),S.length>0?Promise.allSettled(S).then(function(){return y._dispatchEvent("streamChanged",y.localStream)}):y._dispatchEvent("streamChanged",y.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return y._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(this._screenShare.isSharing){var b=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&b.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),b.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=b}}},{key:"_mergeOverlayingScreenShareStream",value:(i=m(u().mark(function b(){var y,S,R,V,q,ne,Z,se,xe,Ce,Le,Fe,ye,be=this;return u().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(this._screenShare.isSharing){nn.next=2;break}return nn.abrupt("return");case 2:return S=!1,R=document.createElement("canvas"),(V=document.createElement("video")).srcObject=this.screenStream,V.muted=!0,nn.next=9,V.play();case 9:return(q=document.createElement("video")).srcObject=this.getLocalMediaStream(),q.muted=!0,nn.next=14,q.play();case 14:ne=V.videoWidth,Z=V.videoHeight,R.width=ne,R.height=Z,se=R.getContext("2d"),xe=setInterval(function(){var Ze;if(!S){S=!0;var Qe=V.videoWidth,Sn=V.videoHeight,bt=q.videoWidth,wn=q.videoHeight;(Z<Sn||ne<Qe)&&(ne=Qe,Z=Sn,R.width=Qe,R.height=Sn,se.fillRect(0,0,ne,Z)),V.width=Qe,V.height=Sn,se.drawImage(V,0,0,Qe,Sn);var yn=be.enumToPosition((Ze=be._screenShareOptions)===null||Ze===void 0?void 0:Ze.cameraOverlayPosition,bt,wn,R.width,R.height),Bn=yn.dx,wt=yn.dy,ft=yn.dw,$t=yn.dh;se.drawImage(q,Bn,wt,ft,$t),S=!1}},(y=this._screenShareOptions)!==null&&y!==void 0&&y.frameRate?1e3/this._screenShareOptions.frameRate:1e3/24),Ce=R.captureStream(),this.mergeInterval=xe,this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&(Le=this._mediaAccess.stream.getAudioTracks()[0]),this.screenStream&&this.screenStream.getAudioTracks().length>0&&(Fe=this.screenStream.getAudioTracks()[0]),ye=xX(Le,Fe),Ce.addTrack(ye),this._mergedStream=Ce;case 27:case"end":return nn.stop()}},b,this)})),function(){return i.apply(this,arguments)})},{key:"_applyStreamProcessor",value:(o=m(u().mark(function b(){var y;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if((y=this._mediaAccess)===null||y===void 0||!y.stream){S.next=4;break}return S.next=3,this._streamProcessor(this._mediaAccess.stream);case 3:this._customStream=S.sent;case 4:case"end":return S.stop()}},b,this)})),function(){return o.apply(this,arguments)})},{key:"_releaseMergedStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this.mergeInterval&&(clearInterval(this.mergeInterval),delete this.mergeInterval),b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"_releaseCustomStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._customStream&&(delete this._customStream,delete this._streamProcessor,b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"enumToPosition",value:function(b,y,S,R,V){var q=y/S,ne=.2*V,Z=.2*R*(1/q),se=Math.min(ne,Z),xe=se*q,Ce=Math.min(.05*R,.05*V),Le=R-xe-Ce,Fe=V-se-Ce;switch(b){case Oh.HIDDEN:return{dx:0,dy:0,dw:0,dh:0};case Oh.TOP_LEFT:return{dx:Ce,dy:Ce,dw:xe,dh:se};case Oh.TOP_RIGHT:return{dx:Le,dy:Ce,dw:xe,dh:se};case Oh.BOTTOM_LEFT:return{dx:Ce,dy:Fe,dw:xe,dh:se};case Oh.BOTTOM_RIGHT:default:return{dx:Le,dy:Fe,dw:xe,dh:se}}}}]),v}(xo),dE=function(){function s(_,v,b,y,S){g(this,s),this._liveEvent=_,this._sender=b,this._deviceManager=v,this._mediaOption=y,this._screenShareOptions=S}var o,i,c,d,p;return E(s,[{key:"mediaView",get:function(){return this._mediaView},set:function(_){this._mediaView!==_&&(this._mediaView&&(this._mediaView=null),_?this.isHostStream?this._mediaView=this._updateMediaViewStream(_,this.localStream):this._mediaView=this._updateMediaViewStream(_,this.remoteStream):delete this._mediaView)}},{key:"localStream",get:function(){var _;return(_=this._localStream)===null||_===void 0?void 0:_.localStream}},{key:"remoteStream",get:function(){var _;return(_=this._endpoint)===null||_===void 0?void 0:_.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var _=this;this._localStream=new SX(this._deviceManager,{audio:!0,video:!0},this._screenShareOptions),this._localStream.on("streamChanged",function(){_._onLocalStream()}),this._mediaOption.streamProcessor&&this._localStream.startUsingExternalVideo(this._mediaOption.streamProcessor)}},{key:"_createEndpoint",value:function(){var _=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new AN({appId:this._liveEvent.appId,liveEventId:this._liveEvent.liveEventId,userId:this._liveEvent.userId,currentLiveUserId:this._liveEvent.currentLiveUser.liveUserId,masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var v=new AN({appId:this._liveEvent.appId,liveEventId:this._liveEvent.liveEventId,userId:this._liveEvent.userId,currentLiveUserId:this._liveEvent.currentLiveUser.liveUserId,masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return v.on("remoteStream",function(b){_._onStream()}),v.on("connected",function(b){b&&_._onEndpointReconnected()}),v}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(_){_&&(this._endpoint.release(),this._endpoint.removeAllEventListeners()),this._teardown()}},{key:"attach",value:function(_){this._endpoint.attach(_)}},{key:"toggleAudio",value:function(_){var v,b,y;(v=this.localStream.getAudioTracks())===null||v===void 0||v.forEach(function(S){S.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(y=b.getAudioTracks())===null||y===void 0||y.forEach(function(S){S.enabled=_}),this._mediaOption.turnAudioOn=_}},{key:"toggleVideo",value:function(_){var v,b,y;(v=this.localStream.getVideoTracks())===null||v===void 0||v.forEach(function(S){S.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(y=b.getVideoTracks())===null||y===void 0||y.forEach(function(S){S.enabled=_}),this._mediaOption.turnVideoOn=_}},{key:"startUsingExternalVideo",value:(p=m(u().mark(function _(v){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._localStream.startUsingExternalVideo(v);case 2:case"end":return b.stop()}},_,this)})),function(_){return p.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this._localStream.stopUsingExternalVideo()}},{key:"startScreenShare",value:(d=m(u().mark(function _(v){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this._screenShareOptions=v,b.next=3,this._localStream.startOverlayingScreenStream(v);case 3:case"end":return b.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._localStream.stopScreenShare()}},{key:"setScreenShareOptions",value:function(_){this._screenShareOptions=_,this._localStream&&(this._localStream.screenShareOptions=_)}},{key:"chooseMediaDevice",value:function(_,v){this._deviceManager.selectDevice(_,v)}},{key:"setConnectionQualityListener",value:function(_){var v=this;this._endpoint.setConnectionQualityListener(function(b){return _(v._liveEvent.host.hostId,b)})}},{key:"removeConnectionQualityListener",value:function(){this._endpoint.removeConnectionQualityListener()}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var _=this.remoteStream;this._mediaView&&this._updateMediaViewStream(this._mediaView,_)}},{key:"_onEndpointReconnected",value:function(){var _=this._endpoint;_.type==="viewer"&&_.attachedTo&&this.attach(_.attachedTo)}},{key:"_updateMediaViewStream",value:function(_,v){return v&&(_.srcObject=v),_}},{key:"_sendConnected",value:(c=m(u().mark(function _(v){var b;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return b=this.isHostStream?yr.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,v.id):yr.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,v.id),y.abrupt("return",this._sender.send(b));case 2:case"end":return y.stop()}},_,this)})),function(_){return c.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(_){var v;return v=this.isHostStream?yr.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,_.id):yr.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id),this._sender.sendWithRetry(v)}},{key:"_sendAttach",value:function(_,v){var b=yr.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id,v);return this._sender.sendWithRetry(b)}},{key:"_sendCreateEndpoint",value:(i=m(u().mark(function _(v){var b,y;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!this.isHostStream){S.next=5;break}return b=yr.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,v.sdp,"sendonly","sendonly"),S.abrupt("return",this._sender.send(b));case 5:return y=yr.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,v.sdp,"recvonly","recvonly"),S.abrupt("return",this._sender.send(y));case 7:case"end":return S.stop()}},_,this)})),function(_){return i.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(o=m(u().mark(function _(v){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,this._sendReleaseEndpoint(this._endpoint);case 3:b.next=8;break;case 5:b.prev=5,b.t0=b.catch(0),tt.error("failed to remove endpoint");case 8:return b.abrupt("return",this._sendCreateEndpoint(v));case 9:case"end":return b.stop()}},_,this,[[0,5]])})),function(_){return o.apply(this,arguments)})},{key:"_teardown",value:function(){var _,v;(_=this._endpoint)===null||_===void 0||_.exit(),(v=this._endpoint)===null||v===void 0||v.removeAllEventListeners(),this._endpoint=null}}]),s}(),wa=function(s){return s[s.ERR_REQUEST_FAILED=1800200]="ERR_REQUEST_FAILED",s[s.ERR_WEBSOCKET_CONNECTION_NOT_OPENED=1800201]="ERR_WEBSOCKET_CONNECTION_NOT_OPENED",s[s.ERR_WEBSOCKET_CONNECTION_FAILED=1800202]="ERR_WEBSOCKET_CONNECTION_FAILED",s[s.ERR_NO_RESPONSE_DUE_TO_TIMEOUT=1800203]="ERR_NO_RESPONSE_DUE_TO_TIMEOUT",s[s.ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST=1800204]="ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST",s[s.ERR_WRONG_RESPONSE=1800205]="ERR_WRONG_RESPONSE",s[s.ERR_QUERY_IN_PROGRESS=1800206]="ERR_QUERY_IN_PROGRESS",s[s.INTERNAL_SERVER_ERROR=1800207]="INTERNAL_SERVER_ERROR",s[s.ERR_MALFORMED_DATA=1800208]="ERR_MALFORMED_DATA",s[s.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",s[s.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",s[s.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",s[s.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",s[s.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",s[s.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",s[s.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",s[s.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",s[s.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",s}({}),TX=function(){function s(){g(this,s)}return E(s,null,[{key:"getErrorMessage",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.invalidParameter;var c=i.methodName,d=c===void 0?"":c;switch(o){case wa.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case wa.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(d,", ").concat(d,", ").concat(d," methods for a live event that is not in the 'ongoing' or 'ready' state.");case wa.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case wa.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case wa.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case wa.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case wa.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case wa.QUERY_IN_PROGRESS:return"The last query is in progress.";case wa.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),s}(),kX=["message","error"],Lc=function(s){T(i,s);var o=O(i);function i(c){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=p.message,v=p.error,b=D(p,kX);g(this,i);var y=_||TX.getErrorMessage(c,b);return(d=o.call(this,y)).code=c,d._error=v,d}return E(i)}(I(Error)),hE=function(s){T(Fe,s);var o,i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le=O(Fe);function Fe(ye){var be,nn=ye.appId,Ze=ye.deviceManager,Qe=ye.sender,Sn=ye.sb,bt=ye.userId,wn=ye.info;return g(this,Fe),w(U(be=Le.call(this)),"_customItemsUpdatedAt",0),w(U(be),"_connectionQualityListener",function(yn,Bn){var wt,ft;(wt=(ft=be)._internalConnectionQualityListener)===null||wt===void 0||wt.call(ft,yn,Bn)}),be._appId=nn,be._deviceManager=Ze,be._sender=Qe,be._sb=Sn,be._userId=bt,be._streams=new Map,be._customItems=null,wn&&Object.assign(U(be),wn),be._unsubscriber=be._sender.on("command",function(yn){be._onEvent(yn)}),be}return E(Fe,[{key:"appId",get:function(){return this._appId}},{key:"userId",get:function(){return this._userId}},{key:"customItems",get:function(){return l({},this._customItems)},set:function(ye){this._customItems=ye}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?Ch.HOST:Ch.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===Ch.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!(this==null||!this.currentLiveUser.isHost)}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(ye){this._duration=ye}},{key:"fetchOpenChannel",value:(Ce=m(u().mark(function ye(){var be,nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return be=Ze.sent,nn=this._sb.openChannel.buildOpenChannelFromSerializedData(be),this.openChannel=nn,Ze.abrupt("return",nn);case 6:case"end":return Ze.stop()}},ye,this)})),function(){return Ce.apply(this,arguments)})},{key:"_getOpenChannel",value:(xe=m(u().mark(function ye(){return u().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!this.openChannel){be.next=2;break}return be.abrupt("return",this.openChannel);case 2:return be.abrupt("return",this.fetchOpenChannel());case 3:case"end":return be.stop()}},ye,this)})),function(){return xe.apply(this,arguments)})},{key:"enterAsHost",value:(se=m(u().mark(function ye(be){var nn,Ze,Qe,Sn;return u().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.next=2,this._getOpenChannel();case 2:return nn=bt.sent,bt.next=5,nn.enter();case 5:return bt.prev=5,bt.next=8,this._sender.send(yr.createEnterHost(this.liveEventId,be));case 8:Ze=bt.sent,Qe=Ze.payload.host,be&&(Sn=new dE(this,this._deviceManager,this._sender,be,this._screenShareOptions),this._streams.set(Qe.hostId,Sn)),this.upsert({host:Qe}),this.upsert({currentLiveUser:Qe}),bt.next=20;break;case 15:return bt.prev=15,bt.t0=bt.catch(5),bt.next=19,nn.exit();case 19:throw bt.t0;case 20:this._startToSendAlive();case 21:case"end":return bt.stop()}},ye,this,[[5,15]])})),function(ye){return se.apply(this,arguments)})},{key:"setEventReady",value:(Z=m(u().mark(function ye(){var be,nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isHost){Ze.next=2;break}throw new Error("host only action");case 2:return Ze.next=4,this._sender.send(yr.createReady(this.liveEventId));case 4:be=Ze.sent,nn=be.payload.liveEvent,this.upsert(nn);case 7:case"end":return Ze.stop()}},ye,this)})),function(){return Z.apply(this,arguments)})},{key:"startEvent",value:(ne=m(u().mark(function ye(be){var nn,Ze;return u().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(this.isHost){Qe.next=2;break}throw new Error("host only action");case 2:return Qe.next=4,this._sender.send(yr.createStart(this.liveEventId));case 4:nn=Qe.sent,Ze=nn.payload.liveEvent,this.upsert(Ze),!this.isHostStreaming&&this.isActiveHost&&this.startStreaming(be),typeof(be==null?void 0:be.turnAudioOn)=="boolean"&&this._toggleAudio(be.turnAudioOn),typeof(be==null?void 0:be.turnVideoOn)=="boolean"&&this._toggleVideo(be.turnVideoOn);case 10:case"end":return Qe.stop()}},ye,this)})),function(ye){return ne.apply(this,arguments)})},{key:"startStreaming",value:function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var be=this._streams.get(this.host.hostId);be||(be=new dE(this,this._deviceManager,this._sender,ye,this._screenShareOptions),this._streams.set(this.host.hostId,be)),be.openStream(),be.setConnectionQualityListener(this._connectionQualityListener)}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var ye=this._streams.get(this.host.hostId);ye&&(this._streams.delete(this.host.hostId),ye.closeStream(!0))}},{key:"createRTMPStream",value:(q=m(u().mark(function ye(){var be,nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isHost){Ze.next=2;break}throw new Lc(wa.ACTION_NOT_ALLOWED_FOR_PARTICIPANT);case 2:return Ze.next=4,this._sender.send(yr.createRTMPStream(this.liveEventId));case 4:return be=Ze.sent,nn=be.payload.host,this.upsert({host:nn}),Ze.abrupt("return",nn.rtmpStream);case 8:case"end":return Ze.stop()}},ye,this)})),function(){return q.apply(this,arguments)})},{key:"deleteRTMPStream",value:(V=m(u().mark(function ye(){var be;return u().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(this.isHost){nn.next=2;break}throw new Error("host only action");case 2:if((be=this.host)!==null&&be!==void 0&&be.rtmpStream){nn.next=4;break}throw new Error("no rtmp stream");case 4:return nn.next=6,this._sender.send(yr.deleteRTMPStream(this.liveEventId,this.host.rtmpStream.rtmpStreamId));case 6:nn.sent,this.upsert({host:null});case 8:case"end":return nn.stop()}},ye,this)})),function(){return V.apply(this,arguments)})},{key:"exitAsHost",value:(R=m(u().mark(function ye(){var be,nn,Ze;return u().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(this.isActiveHost){Qe.next=2;break}throw new Error("current host only action");case 2:return be=this.host.hostId,Qe.next=5,this._sender.send(yr.createExitHost(this.liveEventId,be));case 5:nn=Qe.sent,Ze=nn.payload.host,this.upsert({host:Ze}),this.teardown();case 9:case"end":return Qe.stop()}},ye,this)})),function(){return R.apply(this,arguments)})},{key:"endEvent",value:(S=m(u().mark(function ye(){var be,nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,this._sender.send(yr.createEndLiveEvent(this.liveEventId));case 2:be=Ze.sent,nn=be.payload.liveEvent,this.upsert(nn),this.teardown();case 6:case"end":return Ze.stop()}},ye,this)})),function(){return S.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(ye){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(ye),this._sender.send(yr.createAudio(this.liveEventId,this.host.hostId,ye))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(ye){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(ye),this._sender.send(yr.createVideo(this.liveEventId,this.host.hostId,ye))}},{key:"selectAudioInput",value:function(ye){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",ye)}},{key:"selectVideoInput",value:function(ye){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("videoinput",ye)}},{key:"enter",value:(y=m(u().mark(function ye(){var be,nn,Ze;return u().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.next=2,this._getOpenChannel();case 2:return be=Qe.sent,Qe.next=5,be.enter();case 5:return Qe.prev=5,Qe.next=8,this._sender.send(yr.createEnter(this.liveEventId));case 8:nn=Qe.sent,Ze=nn.payload.participant,this.upsert({currentLiveUser:Ze}),this._tryOpen(),Qe.next=19;break;case 14:return Qe.prev=14,Qe.t0=Qe.catch(5),Qe.next=18,be.exit();case 18:throw Qe.t0;case 19:this._startToSendAlive();case 20:case"end":return Qe.stop()}},ye,this,[[5,14]])})),function(){return y.apply(this,arguments)})},{key:"exit",value:(b=m(u().mark(function ye(){return u().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,this._sender.send(yr.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:be.sent.payload.participant,this.teardown();case 5:case"end":return be.stop()}},ye,this)})),function(){return b.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(ye,be){var nn=this._streams.get(be);nn&&(nn.mediaView=ye)}},{key:"updateLiveEventInfo",value:(v=m(u().mark(function ye(be){var nn,Ze,Qe;return u().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return nn=yr.updateLiveEvent(this.liveEventId,be.userIdsForHost,be.title,be.coverUrl,be.coverFile),Sn.next=3,this._sender.send(nn);case 3:Ze=Sn.sent,Qe=Ze.payload.liveEvent,this.upsert(Qe);case 6:case"end":return Sn.stop()}},ye,this)})),function(ye){return v.apply(this,arguments)})},{key:"fetchCustomItems",value:(_=m(u().mark(function ye(){var be,nn,Ze;return u().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return be=yr.createGetCustomItems(this.liveEventId),Qe.prev=1,Qe.next=4,this._sender.send(be);case 4:return nn=Qe.sent,Ze=nn.payload,this._setCustomItems(Ze.customItems),Qe.abrupt("return",Ze);case 10:throw Qe.prev=10,Qe.t0=Qe.catch(1),tt.error("failed to update customItems"),Qe.t0;case 14:case"end":return Qe.stop()}},ye,this,[[1,10]])})),function(){return _.apply(this,arguments)})},{key:"updateCustomItems",value:(p=m(u().mark(function ye(be){var nn,Ze,Qe;return u().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(!Object.keys(be).some(function(bt){return typeof be[bt]!="string"})){Sn.next=2;break}throw new Error("invalid parameter");case 2:return nn=yr.createUpdateCustomItems(this.liveEventId,be),Sn.prev=3,Sn.next=6,this._sender.send(nn);case 6:return Ze=Sn.sent,Qe=Ze.payload,this._setCustomItems(Qe.customItems,Qe.updatedAt),Sn.abrupt("return",Qe);case 12:throw Sn.prev=12,Sn.t0=Sn.catch(3),tt.error("failed to update customItems"),Sn.t0;case 16:case"end":return Sn.stop()}},ye,this,[[3,12]])})),function(ye){return p.apply(this,arguments)})},{key:"deleteCustomItems",value:(d=m(u().mark(function ye(be){var nn,Ze,Qe;return u().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(!be.some(function(bt){return typeof bt!="string"})){Sn.next=2;break}throw new Error("invalid parameter");case 2:return nn=yr.createDeleteCustomItems(this.liveEventId,be),Sn.prev=3,Sn.next=6,this._sender.send(nn);case 6:return Ze=Sn.sent,Qe=Ze.payload,this._setCustomItems(Qe.customItems,Qe.deletedAt),Sn.abrupt("return",Qe);case 12:throw Sn.prev=12,Sn.t0=Sn.catch(3),tt.error("failed to delete customItems"),Sn.t0;case 16:case"end":return Sn.stop()}},ye,this,[[3,12]])})),function(ye){return d.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(c=m(u().mark(function ye(){var be,nn,Ze;return u().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return be=yr.createDeleteAllCustomItems(this.liveEventId),Qe.prev=1,Qe.next=4,this._sender.send(be);case 4:return nn=Qe.sent,Ze=nn.payload,this._setCustomItems(Ze.customItems,Ze.deletedAt),Qe.abrupt("return",Ze);case 10:throw Qe.prev=10,Qe.t0=Qe.catch(1),tt.error("failed to delete all customItems"),Qe.t0;case 14:case"end":return Qe.stop()}},ye,this,[[1,10]])})),function(){return c.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(i=m(u().mark(function ye(be){var nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isActiveHost){Ze.next=2;break}throw new Error("current host only action");case 2:if(nn=this._streams.get(this.host.hostId)){Ze.next=5;break}throw new Error("no current stream");case 5:return Ze.next=7,nn.startUsingExternalVideo(be);case 7:case"end":return Ze.stop()}},ye,this)})),function(ye){return i.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var ye=this._streams.get(this.host.hostId);if(!ye)throw new Error("no current stream");ye.stopUsingExternalVideo()}},{key:"startScreenShare",value:(o=m(u().mark(function ye(be){var nn;return u().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isActiveHost){Ze.next=2;break}throw new Error("current host only action");case 2:if(nn=this._streams.get(this.host.hostId)){Ze.next=5;break}throw new Error("no current stream");case 5:return Ze.next=7,nn.startScreenShare(be);case 7:case"end":return Ze.stop()}},ye,this)})),function(ye){return o.apply(this,arguments)})},{key:"stopScreenShare",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var ye=this._streams.get(this.host.hostId);if(!ye)throw new Error("no current stream");ye.stopScreenShare()}},{key:"setScreenShareOptions",value:function(ye){this._screenShareOptions=ye;var be=this._streams.get(this.host.hostId);be&&be.setScreenShareOptions(ye)}},{key:"setConnectionQualityListener",value:function(ye){this._internalConnectionQualityListener=ye}},{key:"removeConnectionQualityListener",value:function(){this._internalConnectionQualityListener=void 0}},{key:"upsert",value:function(ye){Object.assign(this,ye),ye.currentLiveUser&&(ye.currentLiveUser.hostId?(this.currentLiveUser.isHost=!0,this.currentLiveUser.liveUserId=this.currentLiveUser.hostId):(this.currentLiveUser.isHost=!1,this.currentLiveUser.liveUserId=this.currentLiveUser.participantId))}},{key:"teardown",value:function(){var ye;(ye=this.openChannel)===null||ye===void 0||ye.exit();var be,nn=z(this._streams.values());try{for(nn.s();!(be=nn.n()).done;)be.value.closeStream()}catch(Ze){nn.e(Ze)}finally{nn.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(ye,be){return(be===void 0||be>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=be,this._customItems=ye||{},!0)}},{key:"_onEvent",value:function(ye){if(this.liveEventId===ye.payload.liveEventId)if(ye instanceof I5)this._onReady(ye);else if(ye instanceof A5)this._onStarted(ye);else if(ye instanceof O5)this._onEnded(ye);else if(ye instanceof F5)this._onUpdated(ye);else if(ye instanceof R5)this._onHostEntered(ye);else if(ye instanceof M5)this._onHostExited(ye);else if(ye instanceof D5)this._onHostConnected(ye);else if(ye instanceof P5)this._onHostDisconnected(ye);else if(ye instanceof D2)this._onHostAudioStatusChanged(ye);else if(ye instanceof L2)this._onHostVideoStatusChanged(ye);else if(ye instanceof L5)this._onParticipantEntered(ye);else if(ye instanceof U5)this._onParticipantExited(ye);else if(ye instanceof H5)this._onUpdateCustomItems(ye);else{if(!(ye instanceof B5))throw new Error("unknown event is received");this._onDeleteCustomItems(ye)}}},{key:"_onReady",value:function(ye){var be=ye.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(ye){var be=ye.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(ye){var be=ye.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(ye){var be=ye.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(ye){var be=ye.payload.host;this.upsert({host:be}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(ye){var be=ye.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,be)}},{key:"_onHostConnected",value:function(ye){var be=ye.payload.host;this.upsert({host:be}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(ye){var be=ye.payload.host;this.upsert({host:be}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(ye){var be=ye.payload.host;this.upsert({host:be}),be.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),be.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(ye){var be=ye.payload.host;this.upsert({host:be}),be.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),be.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(ye){var be=ye.payload,nn=be.participant,Ze=be.participantCount,Qe=be.peakParticipantCount,Sn=be.cumulativeParticipantCount;this.upsert({participantCount:Ze,peakParticipantCount:Qe,cumulativeParticipantCount:Sn}),this._dispatchEvent("participantEntered",this,nn)}},{key:"_onParticipantExited",value:function(ye){var be=ye.payload,nn=be.participant,Ze=be.participantCount,Qe=be.peakParticipantCount,Sn=be.cumulativeParticipantCount;this.upsert({participantCount:Ze,peakParticipantCount:Qe,cumulativeParticipantCount:Sn}),this._dispatchEvent("participantExited",this,nn)}},{key:"_onUpdateCustomItems",value:function(ye){var be=ye.payload,nn=be.customItems,Ze=be.updatedAt;be.updatedKeys,this._setCustomItems(nn,Ze)&&this._dispatchEvent("customItemsUpdated",nn,Ze)}},{key:"_onDeleteCustomItems",value:function(ye){var be=ye.payload,nn=be.customItems,Ze=be.deletedAt;be.deletedKeys,this._setCustomItems(nn,Ze)&&this._dispatchEvent("customItemsDeleted",nn,Ze)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new Lc(wa.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(this.host&&this.currentLiveUser&&this.host.state===N5.CONNECTED&&this.state===C5.ONGOING){var ye,be=this.host.hostId;this._streams.has(be)?ye=this._streams.get(be):(ye=new dE(this,this._deviceManager,this._sender),this._streams.set(be,ye)),ye.openStream(),ye.setConnectionQualityListener(this._connectionQualityListener),ye.attach(be)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var ye=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var be=yr.createHostAlive(ye.liveEventId,ye.host.hostId);ye._sender.send(be)},3e3):this._aliveIntervalId=setInterval(function(){var be=yr.createAlive(ye.liveEventId,ye.currentLiveUser.participantId);ye._sender.send(be)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),Fe}(xo),pE=function(s,o){return pE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d])},pE(s,o)};function me(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=s}pE(s,o),s.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Me=function(){return Me=Object.assign||function(s){for(var o,i=1,c=arguments.length;i<c;i++)for(var d in o=arguments[i])Object.prototype.hasOwnProperty.call(o,d)&&(s[d]=o[d]);return s},Me.apply(this,arguments)};function X(s,o,i,c){return new(i||(i=Promise))(function(d,p){function _(y){try{b(c.next(y))}catch(S){p(S)}}function v(y){try{b(c.throw(y))}catch(S){p(S)}}function b(y){var S;y.done?d(y.value):(S=y.value,S instanceof i?S:new i(function(R){R(S)})).then(_,v)}b((c=c.apply(s,o||[])).next())})}function Y(s,o){var i,c,d,p,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(b){return function(y){return function(S){if(i)throw new TypeError("Generator is already executing.");for(;p&&(p=0,S[0]&&(_=0)),_;)try{if(i=1,c&&(d=2&S[0]?c.return:S[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,S[1])).done)return d;switch(c=0,d&&(S=[2&S[0],d.value]),S[0]){case 0:case 1:d=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,c=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(!((d=(d=_.trys).length>0&&d[d.length-1])||S[0]!==6&&S[0]!==2)){_=0;continue}if(S[0]===3&&(!d||S[1]>d[0]&&S[1]<d[3])){_.label=S[1];break}if(S[0]===6&&_.label<d[1]){_.label=d[1],d=S;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(S);break}d[2]&&_.ops.pop(),_.trys.pop();continue}S=o.call(s,_)}catch(R){S=[6,R],c=0}finally{i=d=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([b,y])}}}function gt(s){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&s[o],c=0;if(i)return i.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(s,o){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var c,d,p=i.call(s),_=[];try{for(;(o===void 0||o-- >0)&&!(c=p.next()).done;)_.push(c.value)}catch(v){d={error:v}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(d)throw d.error}}return _}function Kt(s,o,i){if(i||arguments.length===2)for(var c,d=0,p=o.length;d<p;d++)!c&&d in o||(c||(c=Array.prototype.slice.call(o,0,d)),c[d]=o[d]);return s.concat(c||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;var ht,ON="4.9.7",Uc=function(){function s(){}return Object.defineProperty(s,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_VERSION",{get:function(){return ON},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_MAJOR_VERSION",{get:function(){return s.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(s,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),s}();(function(s){s[s.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",s[s.NON_AUTHORIZED=400108]="NON_AUTHORIZED",s[s.INVALID_TOKEN=400111]="INVALID_TOKEN",s[s.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",s[s.USER_AUTH_DEACTIVATED=400300]="USER_AUTH_DEACTIVATED",s[s.USER_AUTH_DELETED_OR_NOT_FOUND=400301]="USER_AUTH_DELETED_OR_NOT_FOUND",s[s.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",s[s.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",s[s.SESSION_REVOKED=400310]="SESSION_REVOKED",s[s.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",s[s.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",s[s.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",s[s.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",s[s.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",s[s.LOST_INSTANCE=700100]="LOST_INSTANCE",s[s.CONNECTION_RENEW=700102]="CONNECTION_RENEW",s[s.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",s[s.INVALID_COMMAND=700700]="INVALID_COMMAND",s[s.UNKNOWN_ERROR=77e4]="UNKNOWN_ERROR",s[s.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",s[s.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",s[s.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",s[s.INVALID_PARAMETER=800110]="INVALID_PARAMETER",s[s.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",s[s.NETWORK_ERROR=800120]="NETWORK_ERROR",s[s.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",s[s.MALFORMED_DATA=800130]="MALFORMED_DATA",s[s.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",s[s.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",s[s.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",s[s.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",s[s.ACK_TIMEOUT=800180]="ACK_TIMEOUT",s[s.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",s[s.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",s[s.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",s[s.REQUEST_FAILED=800220]="REQUEST_FAILED",s[s.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",s[s.REQUEST_CANCELED=800240]="REQUEST_CANCELED",s[s.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",s[s.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",s[s.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",s[s.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",s[s.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",s[s.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",s[s.DATABASE_ERROR=800700]="DATABASE_ERROR"})(ht||(ht={}));var xa,fE,gi,_E,Ip,Pc=function(s){return!(s instanceof Ke&&!s.shouldThrowOutside)},Ke=function(s){function o(i){var c=i.code,d=c===void 0?0:c,p=i.message,_=p===void 0?"":p,v=s.call(this,_)||this;return v.shouldThrowOutside=!1,v.name="SendbirdError",v.code=d,Object.setPrototypeOf(v,o.prototype),v}return me(o,s),Object.defineProperty(o.prototype,"isInvalidTokenError",{get:function(){return this.code===ht.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===ht.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===ht.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionRevokedError",{get:function(){return this.code===ht.SESSION_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isUserAuthDeactivedError",{get:function(){return this.code===ht.USER_AUTH_DEACTIVATED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isUserAuthDeletedOrNotFoundError",{get:function(){return this.code===ht.USER_AUTH_DELETED_OR_NOT_FOUND},enumerable:!1,configurable:!0}),Object.defineProperty(o,"debugModeRequired",{get:function(){return new o({code:ht.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"lostInstance",{get:function(){return new o({code:ht.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidCommand",{get:function(){return new o({code:ht.INVALID_COMMAND,message:"Cannot send invalid command."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"unknown",{get:function(){return new o({code:ht.UNKNOWN_ERROR,message:"Unknown error occurred."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRenew",{get:function(){return new o({code:ht.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidConnectionStateTransition",{get:function(){return new o({code:ht.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRequired",{get:function(){return new o({code:ht.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionCanceled",{get:function(){return new o({code:ht.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidParameters",{get:function(){return new o({code:ht.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"notSupportedError",{get:function(){return new o({code:ht.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"networkError",{get:function(){return new o({code:ht.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"markAsReadAllRateLimitExceeded",{get:function(){return new o({code:ht.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"queryInProgress",{get:function(){return new o({code:ht.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"noAckTimeout",{get:function(){return new o({code:ht.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loginTimeout",{get:function(){return new o({code:ht.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionClosed",{get:function(){return new o({code:ht.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestFailed",{get:function(){return new o({code:ht.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"fileUploadCanceled",{get:function(){return new o({code:ht.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestCanceled",{get:function(){return new o({code:ht.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRefreshFailed",{get:function(){return new o({code:ht.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRequestFailed",{get:function(){return new o({code:ht.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"databaseError",{get:function(){return new o({code:ht.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"fileSizeLimitExceededError",{get:function(){return new o({code:ht.FILE_SIZE_LIMIT_EXCEEDED,message:"File size exceeds the file size limit."})},enumerable:!1,configurable:!0}),o.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},o}(Error),CX=[ht.CONNECTION_REQUIRED,ht.NETWORK_ERROR,ht.ACK_TIMEOUT,ht.WEBSOCKET_CONNECTION_CLOSED,ht.WEBSOCKET_CONNECTION_FAILED,ht.FILE_UPLOAD_CANCEL_FAILED,ht.REQUEST_CANCELED,ht.INTERNAL_SERVER_ERROR,ht.RATE_LIMIT_EXCEEDED,ht.UNKNOWN_SERVER_ERROR],NX=[ht.WEBSOCKET_CONNECTION_CLOSED,ht.WEBSOCKET_CONNECTION_FAILED,ht.CONNECTION_REQUIRED],RN=function(s,o){if(s!==o){var i=Me({},s),c=Me({},o);return!(i.hasOwnProperty("messageId")&&c.hasOwnProperty("messageId")&&i.messageId!==c.messageId||i.hasOwnProperty("reqId")&&c.hasOwnProperty("reqId")&&i.reqId!==c.reqId||(i.hasOwnProperty("messageId")&&delete i.messageId,i.hasOwnProperty("reqId")&&delete i.reqId,c.hasOwnProperty("messageId")&&delete c.messageId,c.hasOwnProperty("reqId")&&delete c.reqId,JSON.stringify(i)!==JSON.stringify(c)))}return!0},$e=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||(typeof s!="string"?typeof s=="object"?Nr(s,o):IX(s,o):typeof o===s)},Nr=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Object.values(s).includes(o)},IX=function(s,o){return o instanceof s},nr=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Array.isArray(o)&&o.every(function(c){return $e(s,c)})},ev=function(s){return s>0&&NX.indexOf(s)>=0},is=function(s,o){if(o===void 0&&(o=!1),o&&s==null)return!0;var i=typeof s=="object"&&s!==null&&s.hasOwnProperty("name")&&typeof s.name=="string"&&s.hasOwnProperty("uri")&&typeof s.uri=="string"&&s.hasOwnProperty("type")&&typeof s.type=="string";if(!i){if(typeof Blob<"u")return s instanceof Blob;if(typeof File<"u")return s instanceof File}return i},MN=function(){function s(o){var i=o===void 0?{}:o,c=i.useMemberInfoInMessage,d=c===void 0||c,p=i.typingIndicatorInvalidateTime,_=p===void 0?1e4:p,v=i.typingIndicatorThrottle,b=v===void 0?1e3:v,y=i.websocketResponseTimeout,S=y===void 0?1e4:y,R=i.websocketPayloadDecompression,V=R===void 0||R,q=i.sessionTokenRefreshTimeout,ne=q===void 0?60:q;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=d,this._typingIndicatorInvalidateTime=_,this._typingIndicatorThrottle=b,this._websocketResponseTimeout=S,this._sessionTokenRefreshTimeout=ne,this.websocketPayloadDecompression=V}return Object.defineProperty(s.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(o){$e("boolean",o)&&(this._useMemberInfoInMessage=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(o){$e("number",o)&&(this._typingIndicatorInvalidateTime=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(o){$e("number",o)&&o>=1e3&&o<=9e3&&(this._typingIndicatorThrottle=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(o){$e("number",o)&&o>=5e3&&o<=3e4&&(this._websocketResponseTimeout=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(o){$e("number",o)&&(o<60?o=60:o>1800&&(o=1800),this._sessionTokenRefreshTimeout=o)},enumerable:!1,configurable:!0}),s}(),DN={encrypt:function(s){return s},decrypt:function(s){return s}},LN=function(){function s(o){var i=o.store;this._preference=new Map,this._store=i}return s.prototype._savePreferenceKeys=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Kt([],Mt(this._preference.keys()),!1)})];case 1:return o.sent(),[2]}})})},s.prototype.init=function(o,i){var c;return i===void 0&&(i=1),X(this,void 0,void 0,function(){var d,p,_,v,b,y,S,R,V,q;return Y(this,function(ne){switch(ne.label){case 0:return this._version=i,this._keysAddress=o,d="".concat(o,".metadata.version"),[4,this._store.get(d)];case 1:return p=ne.sent(),[4,this._store.get(o)];case 2:return _=(c=ne.sent())!==null&&c!==void 0?c:[],!p||p.version<this._version?[4,this._resetPreferenceData(_,d)]:[3,4];case 3:return ne.sent(),[3,11];case 4:ne.trys.push([4,9,10,11]),v=gt(_),b=v.next(),ne.label=5;case 5:return b.done?[3,8]:(y=b.value,[4,this._store.get(y)]);case 6:(S=ne.sent())&&this._preference.set(y,S),ne.label=7;case 7:return b=v.next(),[3,5];case 8:return[3,11];case 9:return R=ne.sent(),V={error:R},[3,11];case 10:try{b&&!b.done&&(q=v.return)&&q.call(v)}finally{if(V)throw V.error}return[7];case 11:return[2]}})})},s.prototype._resetPreferenceData=function(o,i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this._preference=new Map,[4,this._store.removeMany(o)];case 1:return c.sent(),[4,this._store.set({key:i,value:{version:this._version}})];case 2:return c.sent(),[2]}})})},s.prototype.get=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2,this._preference.get(o)]})})},s.prototype.set=function(o,i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=!this._preference.has(o),[4,this._store.set({key:o,value:i})];case 1:return d.sent(),this._preference.set(o,i),c?[4,this._savePreferenceKeys()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},s.prototype.remove=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this._store.remove(o)];case 1:return i.sent(),this._preference.delete(o),[4,this._savePreferenceKeys()];case 2:return i.sent(),[2]}})})},s.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,this._store.removeMany(Kt([],Mt(this._preference.keys()),!1))];case 1:return o.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return o.sent(),[2]}})})},s}(),AX=function(){function s(o){var i=o.encryption,c=o.store,d=o.localCacheEnabled,p=o.localCacheConfig;this.store=c,this.preference=new LN({store:c}),this.encryption=i??DN,this.localCacheEnabled=d,this.localCacheConfig=p}return s.prototype.replaceStore=function(o){this.store=o,this.preference=new LN({store:o})},s}();(function(s){s.SUCCESS="success",s.PENDING="pending",s.ERROR="error"})(xa||(xa={})),function(s){s.DEFAULT="default",s.ALL="all",s.MENTION_ONLY="mention_only",s.OFF="off"}(fE||(fE={})),function(s){s.FCM="gcm",s.APNS="apns",s.UNKNOWN="unknown"}(gi||(gi={})),function(s){s.ALTERNATIVE="alternative",s.DEFAULT="default"}(_E||(_E={})),function(s){s.CUSTOM="custom",s.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(Ip||(Ip={}));var or,nv,UN,Qr,ys,tv,Sa,Es,Fc,Br,PN=function(){function s(o){var i=o===void 0?{}:o,c=i.maxSize,d=c===void 0?256:c,p=i.clearOrder,_=p===void 0?Ip.MESSAGE_COLLECTION_ACCESSED_AT:p,v=i.customClearOrderComparator;this._clearOrderComparatorUseMessageCollectionAccessedAt=function(b,y){return b.channel.messageCollectionLastAccessedAt===y.channel.messageCollectionLastAccessedAt?b.channel.lastMessage&&!y.channel.lastMessage?1:!b.channel.lastMessage&&y.channel.lastMessage?-1:b.channel.lastMessage||y.channel.lastMessage?b.channel.lastMessage.createdAt-y.channel.lastMessage.createdAt:0:b.channel.messageCollectionLastAccessedAt>y.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(d,64),v?(this._clearOrder=_,this._customClearOrderComparator=v):this._clearOrder=Ip.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(s.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clearOrderComparator",{get:function(){var o;return this._clearOrder===Ip.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(o=this._customClearOrderComparator)!==null&&o!==void 0?o:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),s}(),OX=function(){function s(){}return Object.defineProperty(s.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),s.prototype.clear=function(){this.authToken=void 0,this.sessionKey=void 0},s}(),Mh=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(o==="x"?i:3&i|8).toString(16)})},FN=function(){function s(o){var i=o.container;this._container={},this._container=i,this.key=Mh()}return s.prototype._register=function(o,i,c){var d;return o in this._container||(this._container[o]=new Map),(d=this._container[o])===null||d===void 0||d.set(this.key,{occurence:i,handler:c}),this},s.prototype.on=function(o,i){return this._register(o,-1,i)},s.prototype.once=function(o,i){return this._register(o,1,i)},s.prototype.close=function(){var o;for(var i in this._container)(o=this._container[i])===null||o===void 0||o.delete(this.key)},s}(),Dh=function(){function s(){this._container={}}return s.prototype.on=function(o,i){return new FN({container:this._container}).on(o,i)},s.prototype.once=function(o,i){return new FN({container:this._container}).once(o,i)},s.prototype.dispatch=function(o,i){var c,d,p=this._container[o];if(p){var _=[];try{for(var v=gt(p.keys()),b=v.next();!b.done;b=v.next()){var y=b.value,S=p.get(y);S.handler(i),S.occurence>0&&(S.occurence--,S.occurence===0&&_.push(y))}}catch(R){c={error:R}}finally{try{b&&!b.done&&(d=v.return)&&d.call(v)}finally{if(c)throw c.error}}_.forEach(function(R){return p.delete(R)})}},s}(),RX=function(){function s(){this._dispatcher=new Dh}return s.prototype.on=function(o){return this._dispatcher.on("event",o)},s.prototype.once=function(o){return this._dispatcher.once("event",o)},s.prototype.dispatch=function(o){this._dispatcher.dispatch("event",o)},s}(),bi=function(){},at=function(s){var o={};return s&&Object.keys(s).forEach(function(i){s[i]===void 0||Number.isNaN(s[i])||s[i]===null||(o[i]=s[i])}),o},pt=function(s){if(s!=null){if(typeof s=="object"){if(Array.isArray(s)){var o=Kt([],Mt(s),!1);for(var i in o)o[i]=pt(o[i]);return o}for(var c in s)s[c]===null&&delete s[c];return s}return s}};(function(s){s.BASE="base",s.GROUP="group",s.OPEN="open",s.FEED="feed"})(or||(or={})),function(s){s.OPERATOR="operator",s.NONE="none"}(nv||(nv={})),function(s){s.MUTED="muted",s.UNMUTED="unmuted"}(UN||(UN={})),function(s){s.BASE="base",s.USER="user",s.FILE="file",s.ADMIN="admin"}(Qr||(Qr={})),function(s){s.ALL="",s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(ys||(ys={})),function(s){s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(tv||(tv={})),function(s){s.USERS="users",s.CHANNEL="channel"}(Sa||(Sa={})),function(s){s.ALL="all",s.NONE="none",s.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Es||(Es={})),function(s){s.DEFAULT="default",s.SUPPRESS="suppress"}(Fc||(Fc={})),function(s){s.PENDING="pending",s.SCHEDULED="scheduled",s.SUCCEEDED="succeeded",s.FAILED="failed",s.CANCELED="canceled"}(Br||(Br={}));var An,Gs="v3",lr="/".concat(Gs,"/users"),MX="/".concat(Gs,"/storage/file"),HN="/".concat(Gs,"/group_channels"),$u="/".concat(Gs,"/open_channels"),DX="/".concat(Gs,"/sdk/open_channels"),LX="/".concat(Gs,"/search"),mE="/".concat(Gs,"/report"),UX="/".concat(Gs,"/emojis"),BN="/".concat(Gs,"/emoji_categories"),So="/".concat(Gs,"/polls"),PX="/".concat(Gs,"/sdk/ui_kit/configuration"),FX="/".concat(Gs,"/sdk/statistics"),vr=function(s){switch(s){case or.FEED:case or.GROUP:return HN;case or.OPEN:return $u;default:return null}},VN=function(s){switch(s){case or.GROUP:return"".concat(mE,"/group_channels");case or.OPEN:return"".concat(mE,"/open_channels");default:return null}},Lh=function(s,o,i){var c,d;switch(s){case Sa.CHANNEL:return!0;case Sa.USERS:if(o)try{for(var p=gt(o),_=p.next();!_.done;_=p.next())if(_.value===i)return!0}catch(v){c={error:v}}finally{try{_&&!_.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}return!1},vE=function(s,o,i){var c,d,p,_,v=Lh((c=s.mentionType)!==null&&c!==void 0?c:null,(d=s.mentionedUserIds)!==null&&d!==void 0?d:[],i),b=Lh((p=o.mentionType)!==null&&p!==void 0?p:null,(_=o.mentionedUserIds)!==null&&_!==void 0?_:[],i);return!v&&b?1:v&&!b?-1:0},zN=function(s,o,i){var c,d=o||new FormData;for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)){var _=s[p],v=i?"".concat(i,"[").concat(p,"]"):p;is(_)?d.append(v,_,(c=_.name)!==null&&c!==void 0?c:"filename"):typeof _!="object"||_===null||Array.isArray(_)||_ instanceof Blob?d.append(v,String(_)):d=zN(_,d,v)}return d};(function(s){s.GET="GET",s.POST="POST",s.PUT="PUT",s.DELETE="DELETE"})(An||(An={}));var qu,Rn=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.params={},i.requireAuth=!0,i.headers={},i.requestId=Mh(),i}return me(o,s),o.prototype.encodeParams=function(i){var c=this;return i==null||i===""?encodeURIComponent(""):Array.isArray(i)?i.map(function(d){return c.encodeParams(d)}).join(","):encodeURIComponent(typeof i=="object"?JSON.stringify(i):String(i))},Object.defineProperty(o.prototype,"query",{get:function(){var i=this,c=at(this.params);return"?".concat(Object.keys(c).map(function(d){return"".concat(encodeURIComponent(d),"=").concat(i.encodeParams(c[d]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"payload",{get:function(){var i=at(this.params);return Object.keys(i).some(function(c){return is(i[c])})?zN(i):JSON.stringify(i)},enumerable:!1,configurable:!0}),o}(bi),Pn=function(s){function o(i,c){var d=s.call(this)||this;return d._iid=i,d._payload=c,d}return me(o,s),Object.defineProperty(o.prototype,"payload",{get:function(){return Me({},this._payload)},enumerable:!1,configurable:!0}),o.prototype.as=function(i){return new i(this._iid,this.payload)},o}(bi),HX=function(s){function o(i){var c=s.call(this)||this;return c.requestId=i,c}return me(o,s),o}(bi),Ap=function(s){function o(i){var c=i.expires_in,d=i.reason,p=d===void 0?ht.SESSION_KEY_EXPIRED:d,_=s.call(this)||this;switch(_.expiresIn=c??0,p){case ht.SESSION_KEY_EXPIRED:case ht.SESSION_TOKEN_EXPIRED:case ht.SESSION_REVOKED:case ht.USER_AUTH_DEACTIVATED:case ht.USER_AUTH_DELETED_OR_NOT_FOUND:_.error=new Ke({code:p})}return _}return me(o,s),Object.defineProperty(o.prototype,"invalidateSessionToken",{get:function(){var i;return!!(!((i=this.error)===null||i===void 0)&&i.isSessionTokenExpiredError)},enumerable:!1,configurable:!0}),o}(bi),gE=function(s){function o(i){var c=s.call(this)||this;return c.statLog=i,c}return me(o,s),o}(bi);(function(s){s.FEATURE_LOCALCACHE="feature:local_cache",s.WEBSOCKET_CONNECT="ws:connect",s.API_RESULT="api:result"})(qu||(qu={}));var bE,Op,yE,Uh=function(){function s(o){var i=o.type,c=o.data,d=o.ts,p=d===void 0?Date.now():d;this.type=i,this.createdAt=p,this.data=c}return s.payloadify=function(o){return at({stat_type:o.type,ts:o.createdAt,data:at(o.data)})},s}(),EE=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},$N=function(){return!(typeof navigator>"u"||!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent))};(function(s){s.CHAT="chat",s.CALLS="calls",s.DESK="desk",s.LIVE="live",s.UIKIT_CHAT="uikit-chat",s.UIKIT_LIVE="uikit-live"})(bE||(bE={})),function(s){s.ANDROID="android",s.IOS="ios",s.JS="js",s.UNREAL="unreal",s.UNITY="unity",s.REACT_NATIVE="react-native",s.FLUTTER="flutter"}(Op||(Op={})),function(s){s.ANDROID="android",s.IOS="ios",s.WEB="web",s.MOBILE_WEB="mobile_web",s.WINDOWS="windows"}(yE||(yE={}));var rv=function(){function s(){}return s.sendbirdSdkUserAgentWithExtension=function(o){var i=EE()?Op.REACT_NATIVE:Op.JS,c={main_sdk_info:"chat/".concat(i,"/").concat(Uc.SDK_VERSION),device_os_platform:$N()?"mobile-web":"web",os_version:Uc.OS_VERSION};if(o){var d=o.sendbirdExtensions,p=o.deviceOS,_=o.customData,v=_===void 0?{}:_;p.version&&(c.os_version=p.version),p.platform&&(c.device_os_platform=p.platform),d.length>0&&(c.extension_sdk_info=d.map(function(b){var y=b.product,S=b.platform,R=b.version;return"".concat(y,"/").concat(S,"/").concat(R)}).join(",")),Object.keys(c).forEach(function(b){return delete v[b]}),Object.keys(v).length>0&&(c=Me(Me({},c),v))}return Object.entries(c).map(function(b){var y=Mt(b,2),S=y[0],R=y[1];return"".concat(S,"=").concat(R)}).join("&")},s.userAgentWithExtension=function(o){var i=EE()?"reactnative":"JS",c=o.sb_syncmanager?"s".concat(o.sb_syncmanager):"",d=o.sb_uikit?"u".concat(o.sb_uikit):"",p=o["device-os-platform"]?"o".concat(o["device-os-platform"]):$N()?"omobile-web":"oweb";return"".concat(i,"/c").concat(Uc.SDK_VERSION,"/").concat(c,"/").concat(d,"/").concat(p)},s}(),BX=function(){function s(o,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=o,this._auth=c,this._sdkState=d,this._dispatcher=p,this._dispatcher.on(function(S){S instanceof HX&&y.cancel(S.requestId)}),this._logger=_,this._shouldImportFetchCompat=b}return s.prototype._createHeader=function(o,i){var c=this._sdkState,d=c.appId,p=c.appVersion,_=c.sendbirdRuntimeEnvironment,v=Me(Me({},o.headers),{SendBird:"JS,".concat(Uc.OS_VERSION,",").concat(Uc.SDK_VERSION,",").concat(d).concat(p?",".concat(p):""),"SB-User-Agent":rv.userAgentWithExtension(this._sdkState.extensions),"Request-Sent-Timestamp":Date.now().toString(),"SB-SDK-User-Agent":rv.sendbirdSdkUserAgentWithExtension(_)});return i||(v["Content-Type"]="application/json; charset=utf-8"),o.requireAuth&&this._auth.hasSession&&(v["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(v["App-Id"]=d,v["Access-Token"]=this._auth.authToken),v},s.prototype._statLogApiResult=function(o,i,c){this._dispatcher.dispatch(new gE(new Uh({type:qu.API_RESULT,data:{endpoint:o.path,method:o.method,success:!c,latency:Date.now()-i,error_code:c==null?void 0:c.code,error_description:c==null?void 0:c.message}})))},s.prototype.send=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se;return Y(this,function(xe){switch(xe.label){case 0:i=o.path,c=o.method,d=![An.GET,An.DELETE].includes(c),p=this._sdkState.api,_="".concat(p.host).concat(i).concat(d?"":o.query),v=d?o.payload:null,b=this._createHeader(o,v instanceof FormData?v:void 0),y=new AbortController,S=y.signal,this._abortControl.set(o.requestId,y),R=Date.now(),xe.label=1;case 1:return xe.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof c0<"u"&&c0||{fetch:null}).fetch=null),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return Pre})];case 2:xe.sent(),xe.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return qre})];case 4:xe.sent(),xe.label=5;case 5:return[4,fetch(_,{method:c,body:v,headers:b,signal:S})];case 6:return[4,(V=xe.sent()).json()];case 7:if(q=xe.sent(),V.ok||V.redirected)return this._logger.debug("receive api response",o.requestId),this._statLogApiResult(o,R),[2,new Pn(this._iid,q)];throw q?(((ne=new Ke(q)).isSessionKeyExpiredError||ne.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Ap({reason:ne.code})),this._statLogApiResult(o,R,ne),ne):(ne=Ke.requestFailed,this._statLogApiResult(o,R,ne),ne);case 8:throw Z=xe.sent(),this._statLogApiResult(o,R,Z),Z instanceof Ke?(this._logger.debug("fail api request",Z),Z):Z.name==="AbortError"?Ke.requestCanceled:(se=Ke.networkError,this._logger.debug("fail api request",se),se);case 9:return[2]}})})},s.prototype.cancel=function(o){this._abortControl.has(o)&&(this._abortControl.get(o).abort(),this._abortControl.delete(o))},s.prototype.cancelAll=function(){var o,i;try{for(var c=gt(this._abortControl.values()),d=c.next();!d.done;d=c.next())d.value.abort()}catch(p){o={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}this._abortControl.clear()},s}(),$r=function(s){function o(i,c,d,p){p===void 0&&(p="");var _,v=this;return(v=s.call(this)||this)._iid=i,v.code=c,v.payload=d,v.requestId=(_=d.req_id)!==null&&_!==void 0?_:p,v}return me(o,s),o.createFromRawMessage=function(i,c){var d=c.substring(0,4),p={};try{p=JSON.parse(c.substring(4))}catch{d="NOOP"}finally{return new o(i,d,p)}},o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o.prototype.as=function(i){return new i(this._iid,this.code,this.payload)},o}(bi),Rt=function(){};function Ph(s){let o=s.length;for(;--o>=0;)s[o]=0}const wE=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),iv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),VX=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),qN=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fl=new Array(576);Ph(Fl);const Rp=new Array(60);Ph(Rp);const Mp=new Array(512);Ph(Mp);const Dp=new Array(256);Ph(Dp);const xE=new Array(29);Ph(xE);const av=new Array(30);function SE(s,o,i,c,d){this.static_tree=s,this.extra_bits=o,this.extra_base=i,this.elems=c,this.max_length=d,this.has_stree=s&&s.length}let GN,jN,KN;function TE(s,o){this.dyn_tree=s,this.max_code=0,this.stat_desc=o}Ph(av);const WN=s=>s<256?Mp[s]:Mp[256+(s>>>7)],Lp=(s,o)=>{s.pending_buf[s.pending++]=255&o,s.pending_buf[s.pending++]=o>>>8&255},as=(s,o,i)=>{s.bi_valid>16-i?(s.bi_buf|=o<<s.bi_valid&65535,Lp(s,s.bi_buf),s.bi_buf=o>>16-s.bi_valid,s.bi_valid+=i-16):(s.bi_buf|=o<<s.bi_valid&65535,s.bi_valid+=i)},Xo=(s,o,i)=>{as(s,i[2*o],i[2*o+1])},QN=(s,o)=>{let i=0;do i|=1&s,s>>>=1,i<<=1;while(--o>0);return i>>>1},YN=(s,o,i)=>{const c=new Array(16);let d,p,_=0;for(d=1;d<=15;d++)_=_+i[d-1]<<1,c[d]=_;for(p=0;p<=o;p++){let v=s[2*p+1];v!==0&&(s[2*p]=QN(c[v]++,v))}},XN=s=>{let o;for(o=0;o<286;o++)s.dyn_ltree[2*o]=0;for(o=0;o<30;o++)s.dyn_dtree[2*o]=0;for(o=0;o<19;o++)s.bl_tree[2*o]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},ZN=s=>{s.bi_valid>8?Lp(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},JN=(s,o,i,c)=>{const d=2*o,p=2*i;return s[d]<s[p]||s[d]===s[p]&&c[o]<=c[i]},kE=(s,o,i)=>{const c=s.heap[i];let d=i<<1;for(;d<=s.heap_len&&(d<s.heap_len&&JN(o,s.heap[d+1],s.heap[d],s.depth)&&d++,!JN(o,c,s.heap[d],s.depth));)s.heap[i]=s.heap[d],i=d,d<<=1;s.heap[i]=c},eI=(s,o,i)=>{let c,d,p,_,v=0;if(s.sym_next!==0)do c=255&s.pending_buf[s.sym_buf+v++],c+=(255&s.pending_buf[s.sym_buf+v++])<<8,d=s.pending_buf[s.sym_buf+v++],c===0?Xo(s,d,o):(p=Dp[d],Xo(s,p+256+1,o),_=wE[p],_!==0&&(d-=xE[p],as(s,d,_)),c--,p=WN(c),Xo(s,p,i),_=iv[p],_!==0&&(c-=av[p],as(s,c,_)));while(v<s.sym_next);Xo(s,256,o)},CE=(s,o)=>{const i=o.dyn_tree,c=o.stat_desc.static_tree,d=o.stat_desc.has_stree,p=o.stat_desc.elems;let _,v,b,y=-1;for(s.heap_len=0,s.heap_max=573,_=0;_<p;_++)i[2*_]!==0?(s.heap[++s.heap_len]=y=_,s.depth[_]=0):i[2*_+1]=0;for(;s.heap_len<2;)b=s.heap[++s.heap_len]=y<2?++y:0,i[2*b]=1,s.depth[b]=0,s.opt_len--,d&&(s.static_len-=c[2*b+1]);for(o.max_code=y,_=s.heap_len>>1;_>=1;_--)kE(s,i,_);b=p;do _=s.heap[1],s.heap[1]=s.heap[s.heap_len--],kE(s,i,1),v=s.heap[1],s.heap[--s.heap_max]=_,s.heap[--s.heap_max]=v,i[2*b]=i[2*_]+i[2*v],s.depth[b]=(s.depth[_]>=s.depth[v]?s.depth[_]:s.depth[v])+1,i[2*_+1]=i[2*v+1]=b,s.heap[1]=b++,kE(s,i,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],((S,R)=>{const V=R.dyn_tree,q=R.max_code,ne=R.stat_desc.static_tree,Z=R.stat_desc.has_stree,se=R.stat_desc.extra_bits,xe=R.stat_desc.extra_base,Ce=R.stat_desc.max_length;let Le,Fe,ye,be,nn,Ze,Qe=0;for(be=0;be<=15;be++)S.bl_count[be]=0;for(V[2*S.heap[S.heap_max]+1]=0,Le=S.heap_max+1;Le<573;Le++)Fe=S.heap[Le],be=V[2*V[2*Fe+1]+1]+1,be>Ce&&(be=Ce,Qe++),V[2*Fe+1]=be,Fe>q||(S.bl_count[be]++,nn=0,Fe>=xe&&(nn=se[Fe-xe]),Ze=V[2*Fe],S.opt_len+=Ze*(be+nn),Z&&(S.static_len+=Ze*(ne[2*Fe+1]+nn)));if(Qe!==0){do{for(be=Ce-1;S.bl_count[be]===0;)be--;S.bl_count[be]--,S.bl_count[be+1]+=2,S.bl_count[Ce]--,Qe-=2}while(Qe>0);for(be=Ce;be!==0;be--)for(Fe=S.bl_count[be];Fe!==0;)ye=S.heap[--Le],ye>q||(V[2*ye+1]!==be&&(S.opt_len+=(be-V[2*ye+1])*V[2*ye],V[2*ye+1]=be),Fe--)}})(s,o),YN(i,y,s.bl_count)},nI=(s,o,i)=>{let c,d,p=-1,_=o[1],v=0,b=7,y=4;for(_===0&&(b=138,y=3),o[2*(i+1)+1]=65535,c=0;c<=i;c++)d=_,_=o[2*(c+1)+1],++v<b&&d===_||(v<y?s.bl_tree[2*d]+=v:d!==0?(d!==p&&s.bl_tree[2*d]++,s.bl_tree[32]++):v<=10?s.bl_tree[34]++:s.bl_tree[36]++,v=0,p=d,_===0?(b=138,y=3):d===_?(b=6,y=3):(b=7,y=4))},tI=(s,o,i)=>{let c,d,p=-1,_=o[1],v=0,b=7,y=4;for(_===0&&(b=138,y=3),c=0;c<=i;c++)if(d=_,_=o[2*(c+1)+1],!(++v<b&&d===_)){if(v<y)do Xo(s,d,s.bl_tree);while(--v!=0);else d!==0?(d!==p&&(Xo(s,d,s.bl_tree),v--),Xo(s,16,s.bl_tree),as(s,v-3,2)):v<=10?(Xo(s,17,s.bl_tree),as(s,v-3,3)):(Xo(s,18,s.bl_tree),as(s,v-11,7));v=0,p=d,_===0?(b=138,y=3):d===_?(b=6,y=3):(b=7,y=4)}};let rI=!1;const iI=(s,o,i,c)=>{as(s,0+(c?1:0),3),ZN(s),Lp(s,i),Lp(s,~i),i&&s.pending_buf.set(s.window.subarray(o,o+i),s.pending),s.pending+=i};var zX={_tr_init:s=>{rI||((()=>{let o,i,c,d,p;const _=new Array(16);for(c=0,d=0;d<28;d++)for(xE[d]=c,o=0;o<1<<wE[d];o++)Dp[c++]=d;for(Dp[c-1]=d,p=0,d=0;d<16;d++)for(av[d]=p,o=0;o<1<<iv[d];o++)Mp[p++]=d;for(p>>=7;d<30;d++)for(av[d]=p<<7,o=0;o<1<<iv[d]-7;o++)Mp[256+p++]=d;for(i=0;i<=15;i++)_[i]=0;for(o=0;o<=143;)Fl[2*o+1]=8,o++,_[8]++;for(;o<=255;)Fl[2*o+1]=9,o++,_[9]++;for(;o<=279;)Fl[2*o+1]=7,o++,_[7]++;for(;o<=287;)Fl[2*o+1]=8,o++,_[8]++;for(YN(Fl,287,_),o=0;o<30;o++)Rp[2*o+1]=5,Rp[2*o]=QN(o,5);GN=new SE(Fl,wE,257,286,15),jN=new SE(Rp,iv,0,30,15),KN=new SE(new Array(0),VX,0,19,7)})(),rI=!0),s.l_desc=new TE(s.dyn_ltree,GN),s.d_desc=new TE(s.dyn_dtree,jN),s.bl_desc=new TE(s.bl_tree,KN),s.bi_buf=0,s.bi_valid=0,XN(s)},_tr_stored_block:iI,_tr_flush_block:(s,o,i,c)=>{let d,p,_=0;s.level>0?(s.strm.data_type===2&&(s.strm.data_type=(v=>{let b,y=4093624447;for(b=0;b<=31;b++,y>>>=1)if(1&y&&v.dyn_ltree[2*b]!==0)return 0;if(v.dyn_ltree[18]!==0||v.dyn_ltree[20]!==0||v.dyn_ltree[26]!==0)return 1;for(b=32;b<256;b++)if(v.dyn_ltree[2*b]!==0)return 1;return 0})(s)),CE(s,s.l_desc),CE(s,s.d_desc),_=(v=>{let b;for(nI(v,v.dyn_ltree,v.l_desc.max_code),nI(v,v.dyn_dtree,v.d_desc.max_code),CE(v,v.bl_desc),b=18;b>=3&&v.bl_tree[2*qN[b]+1]===0;b--);return v.opt_len+=3*(b+1)+5+5+4,b})(s),d=s.opt_len+3+7>>>3,p=s.static_len+3+7>>>3,p<=d&&(d=p)):d=p=i+5,i+4<=d&&o!==-1?iI(s,o,i,c):s.strategy===4||p===d?(as(s,2+(c?1:0),3),eI(s,Fl,Rp)):(as(s,4+(c?1:0),3),((v,b,y,S)=>{let R;for(as(v,b-257,5),as(v,y-1,5),as(v,S-4,4),R=0;R<S;R++)as(v,v.bl_tree[2*qN[R]+1],3);tI(v,v.dyn_ltree,b-1),tI(v,v.dyn_dtree,y-1)})(s,s.l_desc.max_code+1,s.d_desc.max_code+1,_+1),eI(s,s.dyn_ltree,s.dyn_dtree)),XN(s),c&&ZN(s)},_tr_tally:(s,o,i)=>(s.pending_buf[s.sym_buf+s.sym_next++]=o,s.pending_buf[s.sym_buf+s.sym_next++]=o>>8,s.pending_buf[s.sym_buf+s.sym_next++]=i,o===0?s.dyn_ltree[2*i]++:(s.matches++,o--,s.dyn_ltree[2*(Dp[i]+256+1)]++,s.dyn_dtree[2*WN(o)]++),s.sym_next===s.sym_end),_tr_align:s=>{as(s,2,3),Xo(s,256,Fl),(o=>{o.bi_valid===16?(Lp(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=255&o.bi_buf,o.bi_buf>>=8,o.bi_valid-=8)})(s)}},Up=(s,o,i,c)=>{let d=65535&s|0,p=s>>>16&65535|0,_=0;for(;i!==0;){_=i>2e3?2e3:i,i-=_;do d=d+o[c++]|0,p=p+d|0;while(--_);d%=65521,p%=65521}return d|p<<16|0};const $X=new Uint32Array((()=>{let s,o=[];for(var i=0;i<256;i++){s=i;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[i]=s}return o})());var qi=(s,o,i,c)=>{const d=$X,p=c+i;s^=-1;for(let _=c;_<p;_++)s=s>>>8^d[255&(s^o[_])];return-1^s},Gu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ju={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qX,_tr_stored_block:NE,_tr_flush_block:GX,_tr_tally:Hc,_tr_align:jX}=zX,{Z_NO_FLUSH:Bc,Z_PARTIAL_FLUSH:KX,Z_FULL_FLUSH:WX,Z_FINISH:js,Z_BLOCK:aI,Z_OK:ea,Z_STREAM_END:sI,Z_STREAM_ERROR:Zo,Z_DATA_ERROR:QX,Z_BUF_ERROR:IE,Z_DEFAULT_COMPRESSION:YX,Z_FILTERED:XX,Z_HUFFMAN_ONLY:sv,Z_RLE:ZX,Z_FIXED:JX,Z_DEFAULT_STRATEGY:eZ,Z_UNKNOWN:nZ,Z_DEFLATED:ov}=ju,Ku=258,Jo=262,Fh=42,Wu=113,Pp=666,Qu=(s,o)=>(s.msg=Gu[o],o),oI=s=>2*s-(s>4?9:0),Vc=s=>{let o=s.length;for(;--o>=0;)s[o]=0},tZ=s=>{let o,i,c,d=s.w_size;o=s.hash_size,c=o;do i=s.head[--c],s.head[c]=i>=d?i-d:0;while(--o);o=d,c=o;do i=s.prev[--c],s.prev[c]=i>=d?i-d:0;while(--o)};let zc=(s,o,i)=>(o<<s.hash_shift^i)&s.hash_mask;const ws=s=>{const o=s.state;let i=o.pending;i>s.avail_out&&(i=s.avail_out),i!==0&&(s.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+i),s.next_out),s.next_out+=i,o.pending_out+=i,s.total_out+=i,s.avail_out-=i,o.pending-=i,o.pending===0&&(o.pending_out=0))},xs=(s,o)=>{GX(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,o),s.block_start=s.strstart,ws(s.strm)},wr=(s,o)=>{s.pending_buf[s.pending++]=o},Fp=(s,o)=>{s.pending_buf[s.pending++]=o>>>8&255,s.pending_buf[s.pending++]=255&o},AE=(s,o,i,c)=>{let d=s.avail_in;return d>c&&(d=c),d===0?0:(s.avail_in-=d,o.set(s.input.subarray(s.next_in,s.next_in+d),i),s.state.wrap===1?s.adler=Up(s.adler,o,d,i):s.state.wrap===2&&(s.adler=qi(s.adler,o,d,i)),s.next_in+=d,s.total_in+=d,d)},lI=(s,o)=>{let i,c,d=s.max_chain_length,p=s.strstart,_=s.prev_length,v=s.nice_match;const b=s.strstart>s.w_size-Jo?s.strstart-(s.w_size-Jo):0,y=s.window,S=s.w_mask,R=s.prev,V=s.strstart+Ku;let q=y[p+_-1],ne=y[p+_];s.prev_length>=s.good_match&&(d>>=2),v>s.lookahead&&(v=s.lookahead);do if(i=o,y[i+_]===ne&&y[i+_-1]===q&&y[i]===y[p]&&y[++i]===y[p+1]){p+=2,i++;do;while(y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&p<V);if(c=Ku-(V-p),p=V-Ku,c>_){if(s.match_start=o,_=c,c>=v)break;q=y[p+_-1],ne=y[p+_]}}while((o=R[o&S])>b&&--d!=0);return _<=s.lookahead?_:s.lookahead},Hh=s=>{const o=s.w_size;let i,c,d;do{if(c=s.window_size-s.lookahead-s.strstart,s.strstart>=o+(o-Jo)&&(s.window.set(s.window.subarray(o,o+o-c),0),s.match_start-=o,s.strstart-=o,s.block_start-=o,s.insert>s.strstart&&(s.insert=s.strstart),tZ(s),c+=o),s.strm.avail_in===0)break;if(i=AE(s.strm,s.window,s.strstart+s.lookahead,c),s.lookahead+=i,s.lookahead+s.insert>=3)for(d=s.strstart-s.insert,s.ins_h=s.window[d],s.ins_h=zc(s,s.ins_h,s.window[d+1]);s.insert&&(s.ins_h=zc(s,s.ins_h,s.window[d+3-1]),s.prev[d&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=d,d++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<Jo&&s.strm.avail_in!==0)},cI=(s,o)=>{let i,c,d,p=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,_=0,v=s.strm.avail_in;do{if(i=65535,d=s.bi_valid+42>>3,s.strm.avail_out<d||(d=s.strm.avail_out-d,c=s.strstart-s.block_start,i>c+s.strm.avail_in&&(i=c+s.strm.avail_in),i>d&&(i=d),i<p&&(i===0&&o!==js||o===Bc||i!==c+s.strm.avail_in)))break;_=o===js&&i===c+s.strm.avail_in?1:0,NE(s,0,0,_),s.pending_buf[s.pending-4]=i,s.pending_buf[s.pending-3]=i>>8,s.pending_buf[s.pending-2]=~i,s.pending_buf[s.pending-1]=~i>>8,ws(s.strm),c&&(c>i&&(c=i),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+c),s.strm.next_out),s.strm.next_out+=c,s.strm.avail_out-=c,s.strm.total_out+=c,s.block_start+=c,i-=c),i&&(AE(s.strm,s.strm.output,s.strm.next_out,i),s.strm.next_out+=i,s.strm.avail_out-=i,s.strm.total_out+=i)}while(_===0);return v-=s.strm.avail_in,v&&(v>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=v&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-v,s.strm.next_in),s.strstart),s.strstart+=v,s.insert+=v>s.w_size-s.insert?s.w_size-s.insert:v),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),_?4:o!==Bc&&o!==js&&s.strm.avail_in===0&&s.strstart===s.block_start?2:(d=s.window_size-s.strstart,s.strm.avail_in>d&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,d+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),d>s.strm.avail_in&&(d=s.strm.avail_in),d&&(AE(s.strm,s.window,s.strstart,d),s.strstart+=d,s.insert+=d>s.w_size-s.insert?s.w_size-s.insert:d),s.high_water<s.strstart&&(s.high_water=s.strstart),d=s.bi_valid+42>>3,d=s.pending_buf_size-d>65535?65535:s.pending_buf_size-d,p=d>s.w_size?s.w_size:d,c=s.strstart-s.block_start,(c>=p||(c||o===js)&&o!==Bc&&s.strm.avail_in===0&&c<=d)&&(i=c>d?d:c,_=o===js&&s.strm.avail_in===0&&i===c?1:0,NE(s,s.block_start,i,_),s.block_start+=i,ws(s.strm)),_?3:1)},OE=(s,o)=>{let i,c;for(;;){if(s.lookahead<Jo){if(Hh(s),s.lookahead<Jo&&o===Bc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=zc(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),i!==0&&s.strstart-i<=s.w_size-Jo&&(s.match_length=lI(s,i)),s.match_length>=3)if(c=Hc(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do s.strstart++,s.ins_h=zc(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!=0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=zc(s,s.ins_h,s.window[s.strstart+1]);else c=Hc(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(c&&(xs(s,!1),s.strm.avail_out===0))return 1}return s.insert=s.strstart<2?s.strstart:2,o===js?(xs(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(xs(s,!1),s.strm.avail_out===0)?1:2},Bh=(s,o)=>{let i,c,d;for(;;){if(s.lookahead<Jo){if(Hh(s),s.lookahead<Jo&&o===Bc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=zc(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,i!==0&&s.prev_length<s.max_lazy_match&&s.strstart-i<=s.w_size-Jo&&(s.match_length=lI(s,i),s.match_length<=5&&(s.strategy===XX||s.match_length===3&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){d=s.strstart+s.lookahead-3,c=Hc(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=d&&(s.ins_h=zc(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!=0);if(s.match_available=0,s.match_length=2,s.strstart++,c&&(xs(s,!1),s.strm.avail_out===0))return 1}else if(s.match_available){if(c=Hc(s,0,s.window[s.strstart-1]),c&&xs(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(c=Hc(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,o===js?(xs(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(xs(s,!1),s.strm.avail_out===0)?1:2};function el(s,o,i,c,d){this.good_length=s,this.max_lazy=o,this.nice_length=i,this.max_chain=c,this.func=d}const Hp=[new el(0,0,0,0,cI),new el(4,4,8,4,OE),new el(4,5,16,8,OE),new el(4,6,32,32,OE),new el(4,4,16,16,Bh),new el(8,16,32,32,Bh),new el(8,16,128,128,Bh),new el(8,32,128,256,Bh),new el(32,128,258,1024,Bh),new el(32,258,258,4096,Bh)];function rZ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ov,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Vc(this.dyn_ltree),Vc(this.dyn_dtree),Vc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Vc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Vc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bp=s=>{if(!s)return 1;const o=s.state;return!o||o.strm!==s||o.status!==Fh&&o.status!==57&&o.status!==69&&o.status!==73&&o.status!==91&&o.status!==103&&o.status!==Wu&&o.status!==Pp?1:0},uI=s=>{if(Bp(s))return Qu(s,Zo);s.total_in=s.total_out=0,s.data_type=nZ;const o=s.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?57:o.wrap?Fh:Wu,s.adler=o.wrap===2?0:1,o.last_flush=-2,qX(o),ea},dI=s=>{const o=uI(s);var i;return o===ea&&((i=s.state).window_size=2*i.w_size,Vc(i.head),i.max_lazy_match=Hp[i.level].max_lazy,i.good_match=Hp[i.level].good_length,i.nice_match=Hp[i.level].nice_length,i.max_chain_length=Hp[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),o},hI=(s,o,i,c,d,p)=>{if(!s)return Zo;let _=1;if(o===YX&&(o=6),c<0?(_=0,c=-c):c>15&&(_=2,c-=16),d<1||d>9||i!==ov||c<8||c>15||o<0||o>9||p<0||p>JX||c===8&&_!==1)return Qu(s,Zo);c===8&&(c=9);const v=new rZ;return s.state=v,v.strm=s,v.status=Fh,v.wrap=_,v.gzhead=null,v.w_bits=c,v.w_size=1<<v.w_bits,v.w_mask=v.w_size-1,v.hash_bits=d+7,v.hash_size=1<<v.hash_bits,v.hash_mask=v.hash_size-1,v.hash_shift=~~((v.hash_bits+3-1)/3),v.window=new Uint8Array(2*v.w_size),v.head=new Uint16Array(v.hash_size),v.prev=new Uint16Array(v.w_size),v.lit_bufsize=1<<d+6,v.pending_buf_size=4*v.lit_bufsize,v.pending_buf=new Uint8Array(v.pending_buf_size),v.sym_buf=v.lit_bufsize,v.sym_end=3*(v.lit_bufsize-1),v.level=o,v.strategy=p,v.method=i,dI(s)};var Vp={deflateInit:(s,o)=>hI(s,o,ov,15,8,eZ),deflateInit2:hI,deflateReset:dI,deflateResetKeep:uI,deflateSetHeader:(s,o)=>Bp(s)||s.state.wrap!==2?Zo:(s.state.gzhead=o,ea),deflate:(s,o)=>{if(Bp(s)||o>aI||o<0)return s?Qu(s,Zo):Zo;const i=s.state;if(!s.output||s.avail_in!==0&&!s.input||i.status===Pp&&o!==js)return Qu(s,s.avail_out===0?IE:Zo);const c=i.last_flush;if(i.last_flush=o,i.pending!==0){if(ws(s),s.avail_out===0)return i.last_flush=-1,ea}else if(s.avail_in===0&&oI(o)<=oI(c)&&o!==js)return Qu(s,IE);if(i.status===Pp&&s.avail_in!==0)return Qu(s,IE);if(i.status===Fh&&i.wrap===0&&(i.status=Wu),i.status===Fh){let d=ov+(i.w_bits-8<<4)<<8,p=-1;if(p=i.strategy>=sv||i.level<2?0:i.level<6?1:i.level===6?2:3,d|=p<<6,i.strstart!==0&&(d|=32),d+=31-d%31,Fp(i,d),i.strstart!==0&&(Fp(i,s.adler>>>16),Fp(i,65535&s.adler)),s.adler=1,i.status=Wu,ws(s),i.pending!==0)return i.last_flush=-1,ea}if(i.status===57){if(s.adler=0,wr(i,31),wr(i,139),wr(i,8),i.gzhead)wr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),wr(i,255&i.gzhead.time),wr(i,i.gzhead.time>>8&255),wr(i,i.gzhead.time>>16&255),wr(i,i.gzhead.time>>24&255),wr(i,i.level===9?2:i.strategy>=sv||i.level<2?4:0),wr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(wr(i,255&i.gzhead.extra.length),wr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(s.adler=qi(s.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(wr(i,0),wr(i,0),wr(i,0),wr(i,0),wr(i,0),wr(i,i.level===9?2:i.strategy>=sv||i.level<2?4:0),wr(i,3),i.status=Wu,ws(s),i.pending!==0)return i.last_flush=-1,ea}if(i.status===69){if(i.gzhead.extra){let d=i.pending,p=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+p>i.pending_buf_size;){let v=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+v),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>d&&(s.adler=qi(s.adler,i.pending_buf,i.pending-d,d)),i.gzindex+=v,ws(s),i.pending!==0)return i.last_flush=-1,ea;d=0,p-=v}let _=new Uint8Array(i.gzhead.extra);i.pending_buf.set(_.subarray(i.gzindex,i.gzindex+p),i.pending),i.pending+=p,i.gzhead.hcrc&&i.pending>d&&(s.adler=qi(s.adler,i.pending_buf,i.pending-d,d)),i.gzindex=0}i.status=73}if(i.status===73){if(i.gzhead.name){let d,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=qi(s.adler,i.pending_buf,i.pending-p,p)),ws(s),i.pending!==0)return i.last_flush=-1,ea;p=0}d=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,wr(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=qi(s.adler,i.pending_buf,i.pending-p,p)),i.gzindex=0}i.status=91}if(i.status===91){if(i.gzhead.comment){let d,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=qi(s.adler,i.pending_buf,i.pending-p,p)),ws(s),i.pending!==0)return i.last_flush=-1,ea;p=0}d=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,wr(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=qi(s.adler,i.pending_buf,i.pending-p,p))}i.status=103}if(i.status===103){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(ws(s),i.pending!==0))return i.last_flush=-1,ea;wr(i,255&s.adler),wr(i,s.adler>>8&255),s.adler=0}if(i.status=Wu,ws(s),i.pending!==0)return i.last_flush=-1,ea}if(s.avail_in!==0||i.lookahead!==0||o!==Bc&&i.status!==Pp){let d=i.level===0?cI(i,o):i.strategy===sv?((p,_)=>{let v;for(;;){if(p.lookahead===0&&(Hh(p),p.lookahead===0)){if(_===Bc)return 1;break}if(p.match_length=0,v=Hc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,v&&(xs(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===js?(xs(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(xs(p,!1),p.strm.avail_out===0)?1:2})(i,o):i.strategy===ZX?((p,_)=>{let v,b,y,S;const R=p.window;for(;;){if(p.lookahead<=Ku){if(Hh(p),p.lookahead<=Ku&&_===Bc)return 1;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=3&&p.strstart>0&&(y=p.strstart-1,b=R[y],b===R[++y]&&b===R[++y]&&b===R[++y])){S=p.strstart+Ku;do;while(b===R[++y]&&b===R[++y]&&b===R[++y]&&b===R[++y]&&b===R[++y]&&b===R[++y]&&b===R[++y]&&b===R[++y]&&y<S);p.match_length=Ku-(S-y),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=3?(v=Hc(p,1,p.match_length-3),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(v=Hc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),v&&(xs(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===js?(xs(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(xs(p,!1),p.strm.avail_out===0)?1:2})(i,o):Hp[i.level].func(i,o);if(d!==3&&d!==4||(i.status=Pp),d===1||d===3)return s.avail_out===0&&(i.last_flush=-1),ea;if(d===2&&(o===KX?jX(i):o!==aI&&(NE(i,0,0,!1),o===WX&&(Vc(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ws(s),s.avail_out===0))return i.last_flush=-1,ea}return o!==js?ea:i.wrap<=0?sI:(i.wrap===2?(wr(i,255&s.adler),wr(i,s.adler>>8&255),wr(i,s.adler>>16&255),wr(i,s.adler>>24&255),wr(i,255&s.total_in),wr(i,s.total_in>>8&255),wr(i,s.total_in>>16&255),wr(i,s.total_in>>24&255)):(Fp(i,s.adler>>>16),Fp(i,65535&s.adler)),ws(s),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?ea:sI)},deflateEnd:s=>{if(Bp(s))return Zo;const o=s.state.status;return s.state=null,o===Wu?Qu(s,QX):ea},deflateSetDictionary:(s,o)=>{let i=o.length;if(Bp(s))return Zo;const c=s.state,d=c.wrap;if(d===2||d===1&&c.status!==Fh||c.lookahead)return Zo;if(d===1&&(s.adler=Up(s.adler,o,i,0)),c.wrap=0,i>=c.w_size){d===0&&(Vc(c.head),c.strstart=0,c.block_start=0,c.insert=0);let b=new Uint8Array(c.w_size);b.set(o.subarray(i-c.w_size,i),0),o=b,i=c.w_size}const p=s.avail_in,_=s.next_in,v=s.input;for(s.avail_in=i,s.next_in=0,s.input=o,Hh(c);c.lookahead>=3;){let b=c.strstart,y=c.lookahead-2;do c.ins_h=zc(c,c.ins_h,c.window[b+3-1]),c.prev[b&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=b,b++;while(--y);c.strstart=b,c.lookahead=2,Hh(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,s.next_in=_,s.input=v,s.avail_in=p,c.wrap=d,ea},deflateInfo:"pako deflate (from Nodeca project)"};const iZ=(s,o)=>Object.prototype.hasOwnProperty.call(s,o);var lv={assign:function(s){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const i=o.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const c in i)iZ(i,c)&&(s[c]=i[c])}}return s},flattenChunks:s=>{let o=0;for(let c=0,d=s.length;c<d;c++)o+=s[c].length;const i=new Uint8Array(o);for(let c=0,d=0,p=s.length;c<p;c++){let _=s[c];i.set(_,d),d+=_.length}return i}};let pI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pI=!1}const zp=new Uint8Array(256);for(let s=0;s<256;s++)zp[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;zp[254]=zp[254]=1;var $p={string2buf:s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let o,i,c,d,p,_=s.length,v=0;for(d=0;d<_;d++)i=s.charCodeAt(d),(64512&i)==55296&&d+1<_&&(c=s.charCodeAt(d+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),d++)),v+=i<128?1:i<2048?2:i<65536?3:4;for(o=new Uint8Array(v),p=0,d=0;p<v;d++)i=s.charCodeAt(d),(64512&i)==55296&&d+1<_&&(c=s.charCodeAt(d+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),d++)),i<128?o[p++]=i:i<2048?(o[p++]=192|i>>>6,o[p++]=128|63&i):i<65536?(o[p++]=224|i>>>12,o[p++]=128|i>>>6&63,o[p++]=128|63&i):(o[p++]=240|i>>>18,o[p++]=128|i>>>12&63,o[p++]=128|i>>>6&63,o[p++]=128|63&i);return o},buf2string:(s,o)=>{const i=o||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,o));let c,d;const p=new Array(2*i);for(d=0,c=0;c<i;){let _=s[c++];if(_<128){p[d++]=_;continue}let v=zp[_];if(v>4)p[d++]=65533,c+=v-1;else{for(_&=v===2?31:v===3?15:7;v>1&&c<i;)_=_<<6|63&s[c++],v--;v>1?p[d++]=65533:_<65536?p[d++]=_:(_-=65536,p[d++]=55296|_>>10&1023,p[d++]=56320|1023&_)}}return((_,v)=>{if(v<65534&&_.subarray&&pI)return String.fromCharCode.apply(null,_.length===v?_:_.subarray(0,v));let b="";for(let y=0;y<v;y++)b+=String.fromCharCode(_[y]);return b})(p,d)},utf8border:(s,o)=>{(o=o||s.length)>s.length&&(o=s.length);let i=o-1;for(;i>=0&&(192&s[i])==128;)i--;return i<0||i===0?o:i+zp[s[i]]>o?i:o}},fI=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const _I=Object.prototype.toString,{Z_NO_FLUSH:aZ,Z_SYNC_FLUSH:sZ,Z_FULL_FLUSH:oZ,Z_FINISH:lZ,Z_OK:cv,Z_STREAM_END:cZ,Z_DEFAULT_COMPRESSION:uZ,Z_DEFAULT_STRATEGY:dZ,Z_DEFLATED:hZ}=ju;function qp(s){this.options=lv.assign({level:uZ,method:hZ,chunkSize:16384,windowBits:15,memLevel:8,strategy:dZ},s||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fI,this.strm.avail_out=0;let i=Vp.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(i!==cv)throw new Error(Gu[i]);if(o.header&&Vp.deflateSetHeader(this.strm,o.header),o.dictionary){let c;if(c=typeof o.dictionary=="string"?$p.string2buf(o.dictionary):_I.call(o.dictionary)==="[object ArrayBuffer]"?new Uint8Array(o.dictionary):o.dictionary,i=Vp.deflateSetDictionary(this.strm,c),i!==cv)throw new Error(Gu[i]);this._dict_set=!0}}function RE(s,o){const i=new qp(o);if(i.push(s,!0),i.err)throw i.msg||Gu[i.err];return i.result}qp.prototype.push=function(s,o){const i=this.strm,c=this.options.chunkSize;let d,p;if(this.ended)return!1;for(p=o===~~o?o:o===!0?lZ:aZ,typeof s=="string"?i.input=$p.string2buf(s):_I.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;)if(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),(p===sZ||p===oZ)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(d=Vp.deflate(i,p),d===cZ)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),d=Vp.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===cv;if(i.avail_out!==0){if(p>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(i.avail_in===0)break}else this.onData(i.output)}return!0},qp.prototype.onData=function(s){this.chunks.push(s)},qp.prototype.onEnd=function(s){s===cv&&(this.result=lv.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var pZ={Deflate:qp,deflate:RE,deflateRaw:function(s,o){return(o=o||{}).raw=!0,RE(s,o)},gzip:function(s,o){return(o=o||{}).gzip=!0,RE(s,o)},constants:ju};const uv=16209;var fZ=function(s,o){let i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le,Fe,ye,be,nn,Ze,Qe;const Sn=s.state;i=s.next_in,Ze=s.input,c=i+(s.avail_in-5),d=s.next_out,Qe=s.output,p=d-(o-s.avail_out),_=d+(s.avail_out-257),v=Sn.dmax,b=Sn.wsize,y=Sn.whave,S=Sn.wnext,R=Sn.window,V=Sn.hold,q=Sn.bits,ne=Sn.lencode,Z=Sn.distcode,se=(1<<Sn.lenbits)-1,xe=(1<<Sn.distbits)-1;e:do{q<15&&(V+=Ze[i++]<<q,q+=8,V+=Ze[i++]<<q,q+=8),Ce=ne[V&se];n:for(;;){if(Le=Ce>>>24,V>>>=Le,q-=Le,Le=Ce>>>16&255,Le===0)Qe[d++]=65535&Ce;else{if(!(16&Le)){if(!(64&Le)){Ce=ne[(65535&Ce)+(V&(1<<Le)-1)];continue n}if(32&Le){Sn.mode=16191;break e}s.msg="invalid literal/length code",Sn.mode=uv;break e}Fe=65535&Ce,Le&=15,Le&&(q<Le&&(V+=Ze[i++]<<q,q+=8),Fe+=V&(1<<Le)-1,V>>>=Le,q-=Le),q<15&&(V+=Ze[i++]<<q,q+=8,V+=Ze[i++]<<q,q+=8),Ce=Z[V&xe];t:for(;;){if(Le=Ce>>>24,V>>>=Le,q-=Le,Le=Ce>>>16&255,!(16&Le)){if(!(64&Le)){Ce=Z[(65535&Ce)+(V&(1<<Le)-1)];continue t}s.msg="invalid distance code",Sn.mode=uv;break e}if(ye=65535&Ce,Le&=15,q<Le&&(V+=Ze[i++]<<q,q+=8,q<Le&&(V+=Ze[i++]<<q,q+=8)),ye+=V&(1<<Le)-1,ye>v){s.msg="invalid distance too far back",Sn.mode=uv;break e}if(V>>>=Le,q-=Le,Le=d-p,ye>Le){if(Le=ye-Le,Le>y&&Sn.sane){s.msg="invalid distance too far back",Sn.mode=uv;break e}if(be=0,nn=R,S===0){if(be+=b-Le,Le<Fe){Fe-=Le;do Qe[d++]=R[be++];while(--Le);be=d-ye,nn=Qe}}else if(S<Le){if(be+=b+S-Le,Le-=S,Le<Fe){Fe-=Le;do Qe[d++]=R[be++];while(--Le);if(be=0,S<Fe){Le=S,Fe-=Le;do Qe[d++]=R[be++];while(--Le);be=d-ye,nn=Qe}}}else if(be+=S-Le,Le<Fe){Fe-=Le;do Qe[d++]=R[be++];while(--Le);be=d-ye,nn=Qe}for(;Fe>2;)Qe[d++]=nn[be++],Qe[d++]=nn[be++],Qe[d++]=nn[be++],Fe-=3;Fe&&(Qe[d++]=nn[be++],Fe>1&&(Qe[d++]=nn[be++]))}else{be=d-ye;do Qe[d++]=Qe[be++],Qe[d++]=Qe[be++],Qe[d++]=Qe[be++],Fe-=3;while(Fe>2);Fe&&(Qe[d++]=Qe[be++],Fe>1&&(Qe[d++]=Qe[be++]))}break}}break}}while(i<c&&d<_);Fe=q>>3,i-=Fe,q-=Fe<<3,V&=(1<<q)-1,s.next_in=i,s.next_out=d,s.avail_in=i<c?c-i+5:5-(i-c),s.avail_out=d<_?_-d+257:257-(d-_),Sn.hold=V,Sn.bits=q};const _Z=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mZ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vZ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gZ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Gp=(s,o,i,c,d,p,_,v)=>{const b=v.bits;let y,S,R,V,q,ne,Z=0,se=0,xe=0,Ce=0,Le=0,Fe=0,ye=0,be=0,nn=0,Ze=0,Qe=null;const Sn=new Uint16Array(16),bt=new Uint16Array(16);let wn,yn,Bn,wt=null;for(Z=0;Z<=15;Z++)Sn[Z]=0;for(se=0;se<c;se++)Sn[o[i+se]]++;for(Le=b,Ce=15;Ce>=1&&Sn[Ce]===0;Ce--);if(Le>Ce&&(Le=Ce),Ce===0)return d[p++]=20971520,d[p++]=20971520,v.bits=1,0;for(xe=1;xe<Ce&&Sn[xe]===0;xe++);for(Le<xe&&(Le=xe),be=1,Z=1;Z<=15;Z++)if(be<<=1,be-=Sn[Z],be<0)return-1;if(be>0&&(s===0||Ce!==1))return-1;for(bt[1]=0,Z=1;Z<15;Z++)bt[Z+1]=bt[Z]+Sn[Z];for(se=0;se<c;se++)o[i+se]!==0&&(_[bt[o[i+se]]++]=se);if(s===0?(Qe=wt=_,ne=20):s===1?(Qe=_Z,wt=mZ,ne=257):(Qe=vZ,wt=gZ,ne=0),Ze=0,se=0,Z=xe,q=p,Fe=Le,ye=0,R=-1,nn=1<<Le,V=nn-1,s===1&&nn>852||s===2&&nn>592)return 1;for(;;){wn=Z-ye,_[se]+1<ne?(yn=0,Bn=_[se]):_[se]>=ne?(yn=wt[_[se]-ne],Bn=Qe[_[se]-ne]):(yn=96,Bn=0),y=1<<Z-ye,S=1<<Fe,xe=S;do S-=y,d[q+(Ze>>ye)+S]=wn<<24|yn<<16|Bn|0;while(S!==0);for(y=1<<Z-1;Ze&y;)y>>=1;if(y!==0?(Ze&=y-1,Ze+=y):Ze=0,se++,--Sn[Z]==0){if(Z===Ce)break;Z=o[i+_[se]]}if(Z>Le&&(Ze&V)!==R){for(ye===0&&(ye=Le),q+=xe,Fe=Z-ye,be=1<<Fe;Fe+ye<Ce&&(be-=Sn[Fe+ye],!(be<=0));)Fe++,be<<=1;if(nn+=1<<Fe,s===1&&nn>852||s===2&&nn>592)return 1;R=Ze&V,d[R]=Le<<24|Fe<<16|q-p|0}}return Ze!==0&&(d[q+Ze]=Z-ye<<24|64<<16|0),v.bits=Le,0};const{Z_FINISH:mI,Z_BLOCK:bZ,Z_TREES:dv,Z_OK:Yu,Z_STREAM_END:yZ,Z_NEED_DICT:EZ,Z_STREAM_ERROR:Ks,Z_DATA_ERROR:vI,Z_MEM_ERROR:gI,Z_BUF_ERROR:wZ,Z_DEFLATED:bI}=ju,hv=16180,pv=16190,Hl=16191,ME=16192,DE=16194,fv=16199,_v=16200,LE=16206,ni=16209,yI=s=>(s>>>24&255)+(s>>>8&65280)+((65280&s)<<8)+((255&s)<<24);function xZ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xu=s=>{if(!s)return 1;const o=s.state;return!o||o.strm!==s||o.mode<hv||o.mode>16211?1:0},EI=s=>{if(Xu(s))return Ks;const o=s.state;return s.total_in=s.total_out=o.total=0,s.msg="",o.wrap&&(s.adler=1&o.wrap),o.mode=hv,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(852),o.distcode=o.distdyn=new Int32Array(592),o.sane=1,o.back=-1,Yu},wI=s=>{if(Xu(s))return Ks;const o=s.state;return o.wsize=0,o.whave=0,o.wnext=0,EI(s)},xI=(s,o)=>{let i;if(Xu(s))return Ks;const c=s.state;return o<0?(i=0,o=-o):(i=5+(o>>4),o<48&&(o&=15)),o&&(o<8||o>15)?Ks:(c.window!==null&&c.wbits!==o&&(c.window=null),c.wrap=i,c.wbits=o,wI(s))},SI=(s,o)=>{if(!s)return Ks;const i=new xZ;s.state=i,i.strm=s,i.window=null,i.mode=hv;const c=xI(s,o);return c!==Yu&&(s.state=null),c};let UE,PE,TI=!0;const SZ=s=>{if(TI){UE=new Int32Array(512),PE=new Int32Array(32);let o=0;for(;o<144;)s.lens[o++]=8;for(;o<256;)s.lens[o++]=9;for(;o<280;)s.lens[o++]=7;for(;o<288;)s.lens[o++]=8;for(Gp(1,s.lens,0,288,UE,0,s.work,{bits:9}),o=0;o<32;)s.lens[o++]=5;Gp(2,s.lens,0,32,PE,0,s.work,{bits:5}),TI=!1}s.lencode=UE,s.lenbits=9,s.distcode=PE,s.distbits=5},kI=(s,o,i,c)=>{let d;const p=s.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),c>=p.wsize?(p.window.set(o.subarray(i-p.wsize,i),0),p.wnext=0,p.whave=p.wsize):(d=p.wsize-p.wnext,d>c&&(d=c),p.window.set(o.subarray(i-c,i-c+d),p.wnext),(c-=d)?(p.window.set(o.subarray(i-c,i),0),p.wnext=c,p.whave=p.wsize):(p.wnext+=d,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=d))),0};var Bl={inflateReset:wI,inflateReset2:xI,inflateResetKeep:EI,inflateInit:s=>SI(s,15),inflateInit2:SI,inflate:(s,o)=>{let i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le,Fe,ye,be,nn,Ze=0;const Qe=new Uint8Array(4);let Sn,bt;const wn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xu(s)||!s.output||!s.input&&s.avail_in!==0)return Ks;i=s.state,i.mode===Hl&&(i.mode=ME),_=s.next_out,d=s.output,b=s.avail_out,p=s.next_in,c=s.input,v=s.avail_in,y=i.hold,S=i.bits,R=v,V=b,nn=Yu;e:for(;;)switch(i.mode){case hv:if(i.wrap===0){i.mode=ME;break}for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(2&i.wrap&&y===35615){i.wbits===0&&(i.wbits=15),i.check=0,Qe[0]=255&y,Qe[1]=y>>>8&255,i.check=qi(i.check,Qe,2,0),y=0,S=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){s.msg="incorrect header check",i.mode=ni;break}if((15&y)!==bI){s.msg="unknown compression method",i.mode=ni;break}if(y>>>=4,S-=4,be=8+(15&y),i.wbits===0&&(i.wbits=be),be>15||be>i.wbits){s.msg="invalid window size",i.mode=ni;break}i.dmax=1<<i.wbits,i.flags=0,s.adler=i.check=1,i.mode=512&y?16189:Hl,y=0,S=0;break;case 16181:for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(i.flags=y,(255&i.flags)!==bI){s.msg="unknown compression method",i.mode=ni;break}if(57344&i.flags){s.msg="unknown header flags set",i.mode=ni;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&4&i.wrap&&(Qe[0]=255&y,Qe[1]=y>>>8&255,i.check=qi(i.check,Qe,2,0)),y=0,S=0,i.mode=16182;case 16182:for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.head&&(i.head.time=y),512&i.flags&&4&i.wrap&&(Qe[0]=255&y,Qe[1]=y>>>8&255,Qe[2]=y>>>16&255,Qe[3]=y>>>24&255,i.check=qi(i.check,Qe,4,0)),y=0,S=0,i.mode=16183;case 16183:for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&4&i.wrap&&(Qe[0]=255&y,Qe[1]=y>>>8&255,i.check=qi(i.check,Qe,2,0)),y=0,S=0,i.mode=16184;case 16184:if(1024&i.flags){for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&4&i.wrap&&(Qe[0]=255&y,Qe[1]=y>>>8&255,i.check=qi(i.check,Qe,2,0)),y=0,S=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(q=i.length,q>v&&(q=v),q&&(i.head&&(be=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(c.subarray(p,p+q),be)),512&i.flags&&4&i.wrap&&(i.check=qi(i.check,c,q,p)),v-=q,p+=q,i.length-=q),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(v===0)break e;q=0;do be=c[p+q++],i.head&&be&&i.length<65536&&(i.head.name+=String.fromCharCode(be));while(be&&q<v);if(512&i.flags&&4&i.wrap&&(i.check=qi(i.check,c,q,p)),v-=q,p+=q,be)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(v===0)break e;q=0;do be=c[p+q++],i.head&&be&&i.length<65536&&(i.head.comment+=String.fromCharCode(be));while(be&&q<v);if(512&i.flags&&4&i.wrap&&(i.check=qi(i.check,c,q,p)),v-=q,p+=q,be)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(4&i.wrap&&y!==(65535&i.check)){s.msg="header crc mismatch",i.mode=ni;break}y=0,S=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),s.adler=i.check=0,i.mode=Hl;break;case 16189:for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}s.adler=i.check=yI(y),y=0,S=0,i.mode=pv;case pv:if(i.havedict===0)return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,EZ;s.adler=i.check=1,i.mode=Hl;case Hl:if(o===bZ||o===dv)break e;case ME:if(i.last){y>>>=7&S,S-=7&S,i.mode=LE;break}for(;S<3;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}switch(i.last=1&y,y>>>=1,S-=1,3&y){case 0:i.mode=16193;break;case 1:if(SZ(i),i.mode=fv,o===dv){y>>>=2,S-=2;break e}break;case 2:i.mode=16196;break;case 3:s.msg="invalid block type",i.mode=ni}y>>>=2,S-=2;break;case 16193:for(y>>>=7&S,S-=7&S;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if((65535&y)!=(y>>>16^65535)){s.msg="invalid stored block lengths",i.mode=ni;break}if(i.length=65535&y,y=0,S=0,i.mode=DE,o===dv)break e;case DE:i.mode=16195;case 16195:if(q=i.length,q){if(q>v&&(q=v),q>b&&(q=b),q===0)break e;d.set(c.subarray(p,p+q),_),v-=q,p+=q,b-=q,_+=q,i.length-=q;break}i.mode=Hl;break;case 16196:for(;S<14;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(i.nlen=257+(31&y),y>>>=5,S-=5,i.ndist=1+(31&y),y>>>=5,S-=5,i.ncode=4+(15&y),y>>>=4,S-=4,i.nlen>286||i.ndist>30){s.msg="too many length or distance symbols",i.mode=ni;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;S<3;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.lens[wn[i.have++]]=7&y,y>>>=3,S-=3}for(;i.have<19;)i.lens[wn[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Sn={bits:i.lenbits},nn=Gp(0,i.lens,0,19,i.lencode,0,i.work,Sn),i.lenbits=Sn.bits,nn){s.msg="invalid code lengths set",i.mode=ni;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;Ze=i.lencode[y&(1<<i.lenbits)-1],se=Ze>>>24,xe=Ze>>>16&255,Ce=65535&Ze,!(se<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(Ce<16)y>>>=se,S-=se,i.lens[i.have++]=Ce;else{if(Ce===16){for(bt=se+2;S<bt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(y>>>=se,S-=se,i.have===0){s.msg="invalid bit length repeat",i.mode=ni;break}be=i.lens[i.have-1],q=3+(3&y),y>>>=2,S-=2}else if(Ce===17){for(bt=se+3;S<bt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=se,S-=se,be=0,q=3+(7&y),y>>>=3,S-=3}else{for(bt=se+7;S<bt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=se,S-=se,be=0,q=11+(127&y),y>>>=7,S-=7}if(i.have+q>i.nlen+i.ndist){s.msg="invalid bit length repeat",i.mode=ni;break}for(;q--;)i.lens[i.have++]=be}}if(i.mode===ni)break;if(i.lens[256]===0){s.msg="invalid code -- missing end-of-block",i.mode=ni;break}if(i.lenbits=9,Sn={bits:i.lenbits},nn=Gp(1,i.lens,0,i.nlen,i.lencode,0,i.work,Sn),i.lenbits=Sn.bits,nn){s.msg="invalid literal/lengths set",i.mode=ni;break}if(i.distbits=6,i.distcode=i.distdyn,Sn={bits:i.distbits},nn=Gp(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Sn),i.distbits=Sn.bits,nn){s.msg="invalid distances set",i.mode=ni;break}if(i.mode=fv,o===dv)break e;case fv:i.mode=_v;case _v:if(v>=6&&b>=258){s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,fZ(s,V),_=s.next_out,d=s.output,b=s.avail_out,p=s.next_in,c=s.input,v=s.avail_in,y=i.hold,S=i.bits,i.mode===Hl&&(i.back=-1);break}for(i.back=0;Ze=i.lencode[y&(1<<i.lenbits)-1],se=Ze>>>24,xe=Ze>>>16&255,Ce=65535&Ze,!(se<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(xe&&!(240&xe)){for(Le=se,Fe=xe,ye=Ce;Ze=i.lencode[ye+((y&(1<<Le+Fe)-1)>>Le)],se=Ze>>>24,xe=Ze>>>16&255,Ce=65535&Ze,!(Le+se<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=Le,S-=Le,i.back+=Le}if(y>>>=se,S-=se,i.back+=se,i.length=Ce,xe===0){i.mode=16205;break}if(32&xe){i.back=-1,i.mode=Hl;break}if(64&xe){s.msg="invalid literal/length code",i.mode=ni;break}i.extra=15&xe,i.mode=16201;case 16201:if(i.extra){for(bt=i.extra;S<bt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;Ze=i.distcode[y&(1<<i.distbits)-1],se=Ze>>>24,xe=Ze>>>16&255,Ce=65535&Ze,!(se<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(!(240&xe)){for(Le=se,Fe=xe,ye=Ce;Ze=i.distcode[ye+((y&(1<<Le+Fe)-1)>>Le)],se=Ze>>>24,xe=Ze>>>16&255,Ce=65535&Ze,!(Le+se<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=Le,S-=Le,i.back+=Le}if(y>>>=se,S-=se,i.back+=se,64&xe){s.msg="invalid distance code",i.mode=ni;break}i.offset=Ce,i.extra=15&xe,i.mode=16203;case 16203:if(i.extra){for(bt=i.extra;S<bt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){s.msg="invalid distance too far back",i.mode=ni;break}i.mode=16204;case 16204:if(b===0)break e;if(q=V-b,i.offset>q){if(q=i.offset-q,q>i.whave&&i.sane){s.msg="invalid distance too far back",i.mode=ni;break}q>i.wnext?(q-=i.wnext,ne=i.wsize-q):ne=i.wnext-q,q>i.length&&(q=i.length),Z=i.window}else Z=d,ne=_-i.offset,q=i.length;q>b&&(q=b),b-=q,i.length-=q;do d[_++]=Z[ne++];while(--q);i.length===0&&(i.mode=_v);break;case 16205:if(b===0)break e;d[_++]=i.length,b--,i.mode=_v;break;case LE:if(i.wrap){for(;S<32;){if(v===0)break e;v--,y|=c[p++]<<S,S+=8}if(V-=b,s.total_out+=V,i.total+=V,4&i.wrap&&V&&(s.adler=i.check=i.flags?qi(i.check,d,V,_-V):Up(i.check,d,V,_-V)),V=b,4&i.wrap&&(i.flags?y:yI(y))!==i.check){s.msg="incorrect data check",i.mode=ni;break}y=0,S=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(4&i.wrap&&y!==(4294967295&i.total)){s.msg="incorrect length check",i.mode=ni;break}y=0,S=0}i.mode=16208;case 16208:nn=yZ;break e;case ni:nn=vI;break e;case 16210:return gI;default:return Ks}return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,(i.wsize||V!==s.avail_out&&i.mode<ni&&(i.mode<LE||o!==mI))&&kI(s,s.output,s.next_out,V-s.avail_out),R-=s.avail_in,V-=s.avail_out,s.total_in+=R,s.total_out+=V,i.total+=V,4&i.wrap&&V&&(s.adler=i.check=i.flags?qi(i.check,d,V,s.next_out-V):Up(i.check,d,V,s.next_out-V)),s.data_type=i.bits+(i.last?64:0)+(i.mode===Hl?128:0)+(i.mode===fv||i.mode===DE?256:0),(R===0&&V===0||o===mI)&&nn===Yu&&(nn=wZ),nn},inflateEnd:s=>{if(Xu(s))return Ks;let o=s.state;return o.window&&(o.window=null),s.state=null,Yu},inflateGetHeader:(s,o)=>{if(Xu(s))return Ks;const i=s.state;return 2&i.wrap?(i.head=o,o.done=!1,Yu):Ks},inflateSetDictionary:(s,o)=>{const i=o.length;let c,d,p;return Xu(s)?Ks:(c=s.state,c.wrap!==0&&c.mode!==pv?Ks:c.mode===pv&&(d=1,d=Up(d,o,i,0),d!==c.check)?vI:(p=kI(s,o,i,i),p?(c.mode=16210,gI):(c.havedict=1,Yu)))},inflateInfo:"pako inflate (from Nodeca project)"},TZ=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const CI=Object.prototype.toString,{Z_NO_FLUSH:kZ,Z_FINISH:CZ,Z_OK:jp,Z_STREAM_END:FE,Z_NEED_DICT:HE,Z_STREAM_ERROR:NZ,Z_DATA_ERROR:NI,Z_MEM_ERROR:IZ}=ju;function Kp(s){this.options=lv.assign({chunkSize:65536,windowBits:15,to:""},s||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||s&&s.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fI,this.strm.avail_out=0;let i=Bl.inflateInit2(this.strm,o.windowBits);if(i!==jp)throw new Error(Gu[i]);if(this.header=new TZ,Bl.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=$p.string2buf(o.dictionary):CI.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(i=Bl.inflateSetDictionary(this.strm,o.dictionary),i!==jp)))throw new Error(Gu[i])}function BE(s,o){const i=new Kp(o);if(i.push(s),i.err)throw i.msg||Gu[i.err];return i.result}Kp.prototype.push=function(s,o){const i=this.strm,c=this.options.chunkSize,d=this.options.dictionary;let p,_,v;if(this.ended)return!1;for(_=o===~~o?o:o===!0?CZ:kZ,CI.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),p=Bl.inflate(i,_),p===HE&&d&&(p=Bl.inflateSetDictionary(i,d),p===jp?p=Bl.inflate(i,_):p===NI&&(p=HE));i.avail_in>0&&p===FE&&i.state.wrap>0&&s[i.next_in]!==0;)Bl.inflateReset(i),p=Bl.inflate(i,_);switch(p){case NZ:case NI:case HE:case IZ:return this.onEnd(p),this.ended=!0,!1}if(v=i.avail_out,i.next_out&&(i.avail_out===0||p===FE))if(this.options.to==="string"){let b=$p.utf8border(i.output,i.next_out),y=i.next_out-b,S=$p.buf2string(i.output,b);i.next_out=y,i.avail_out=c-y,y&&i.output.set(i.output.subarray(b,b+y),0),this.onData(S)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(p!==jp||v!==0){if(p===FE)return p=Bl.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(i.avail_in===0)break}}return!0},Kp.prototype.onData=function(s){this.chunks.push(s)},Kp.prototype.onEnd=function(s){s===jp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=lv.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var AZ={Inflate:Kp,inflate:BE,inflateRaw:function(s,o){return(o=o||{}).raw=!0,BE(s,o)},ungzip:BE,constants:ju};const{Deflate:OZ,deflate:RZ,deflateRaw:MZ,gzip:DZ}=pZ,{Inflate:LZ,inflate:UZ,inflateRaw:PZ,ungzip:FZ}=AZ;var nl,HZ={Deflate:OZ,deflate:RZ,deflateRaw:MZ,gzip:DZ,Inflate:LZ,inflate:UZ,inflateRaw:PZ,ungzip:FZ,constants:ju};(function(s){s.CONNECTING="CONNECTING",s.OPEN="OPEN",s.CLOSED="CLOSED"})(nl||(nl={}));var gr,BZ=function(s){function o(i,c){var d=c.sdkState,p=c.dispatcher,_=c.logger,v=s.call(this)||this;return v.lastActive=0,v._iid=i,v._sdkState=d,v._dispatcher=p,v._logger=_,v}return me(o,s),Object.defineProperty(o.prototype,"isOpen",{get:function(){return this.connectionState===nl.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return nl.CONNECTING;case 1:return nl.OPEN}return nl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ws",{get:function(){var i;return(i=this._ws)!==null&&i!==void 0?i:null},enumerable:!1,configurable:!0}),o.prototype._handleMessage=function(i){var c=this;i.split(`
`).forEach(function(d){if(d){var p=$r.createFromRawMessage(c._iid,d);if(c._logger.debug("receive websocket event",p),p.code==="LOGI")c.dispatch("message",p);else if(p.code==="PONG")c.dispatch("pong");else if(p.code==="EXPR"){if(p.payload){var _=new Ap(p.payload);_.expiresIn>=0&&c._dispatcher.dispatch(_)}}else p.code==="NOOP"||c.dispatch("message",p)}})},o.prototype.connect=function(i){var c=this;this._ws=new WebSocket(i),this._ws.onopen=function(){c._logger.debug("websocket open"),c.dispatch("open")},this._ws.onmessage=function(d){return X(c,void 0,void 0,function(){var p,_,v=this;return Y(this,function(b){return!((_=this._sdkState.websocket)===null||_===void 0)&&_.compression?d.data instanceof Blob?((p=new FileReader).readAsArrayBuffer(d.data),p.onloadend=function(){return X(v,void 0,void 0,function(){var y;return Y(this,function(S){switch(S.label){case 0:return[4,(R=p.result,X(void 0,void 0,void 0,function(){var V;return Y(this,function(q){return V=HZ.ungzip(R),[2,String.fromCharCode.apply(null,V)]})}))];case 1:return y=S.sent(),this._handleMessage(y),[2]}var R})})}):typeof d.data=="string"&&this._handleMessage(d.data):this._handleMessage(d.data),[2]})})},this._ws.onerror=function(){c._logger.debug("websocket error"),c.dispatch("error",Ke.networkError)},this._ws.onclose=function(){c._logger.debug("websocket close"),c.dispatch("close")},this.lastActive=Date.now()},o.prototype.disconnect=function(){var i=this;return new Promise(function(c){i._logger.debug("websocket disconnect"),i._ws&&i.connectionState!==nl.CLOSED?(i._ws.onopen=Rt,i._ws.onmessage=Rt,i._ws.onerror=Rt,i._ws.onclose=function(){i.dispatch("close"),c()},i._ws.close(),i._ws=void 0):c()})},o.prototype.send=function(i){if(!this._ws)throw Ke.connectionClosed;i.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",i),this._ws.send(i.convertToMessage())},o.prototype.error=function(i){this._logger.debug("websocket error",i),this.dispatch("error",i)},o}(Dh),Ws=function(s){function o(i){var c,d=i.code,p=i.ackRequired,_=i.payload,v=_===void 0?{}:_,b=this;return(b=s.call(this)||this).code=d,b.payload=v,b.requestId=(c=b.payload.req_id)!==null&&c!==void 0?c:Mh(),b.ackRequired=p,b.payload.req_id=b.requestId,b}return me(o,s),o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o}(bi),II=function(s){function o(i){var c=i.all,d=i.feed,p=i.custom_types,_=i.ts,v=s.call(this)||this;return v.all=c,v.feed=d,v.customTypes=p,v.ts=_,v}return me(o,s),o}(bi),Ba=function(){var s=this;this.promise=new Promise(function(o,i){s.resolve=o,s.reject=i})},VZ=function(){function s(o,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._ackStateMap=new Map,this._sdkState=d,this._dispatcher=p,this._logger=_,this.apiClient=new BX(o,{auth:c,sdkState:d,dispatcher:p,logger:_,useFetchCompat:b}),this.websocketClient=new BZ(o,{sdkState:d,dispatcher:p,logger:_}),this.websocketClient.on("message",function(S){if(S.payload.unread_cnt&&y._dispatcher.dispatch(new II(S.payload.unread_cnt)),S.requestId){if(y._ackStateMap.has(S.requestId)){var R=y._ackStateMap.get(S.requestId);S.code!=="EROR"?R.resolve(S):R.reject(new Ke({code:S.payload.code,message:S.payload.message}))}}else y._dispatcher.dispatch(S)}).on("close",function(){y._ackStateMap.forEach(function(S){S.reject(Ke.connectionClosed)}),y._ackStateMap.clear()})}return s.prototype._sendApiRequest=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this.apiClient.send(o)];case 1:return[2,i.sent()]}})})},s.prototype._sendWebsocketRequest=function(o){return X(this,void 0,void 0,function(){var i,c,d,p=this;return Y(this,function(_){if(!this._sdkState.websocket)throw Ke.connectionRequired;if(i=new Ba,o.ackRequired){d=function(v,b){p._ackStateMap.has(o.requestId)&&(p._ackStateMap.delete(o.requestId),c&&(clearTimeout(c),c=null),v?(p._logger.debug("fail websocket request",v),i.reject(v)):(p._logger.debug("receive websocket ack",o.requestId),i.resolve(b)))};try{c=setTimeout(function(){return d(Ke.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(o.requestId,{resolve:function(v){return d(void 0,v)},reject:function(v){return d(v)}}),this.websocketClient.send(o)}catch(v){d(v)}}else try{this.websocketClient.send(o),i.resolve()}catch(v){i.reject(v)}return[2,i.promise]})})},s.prototype.send=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return o instanceof Rn?[4,this._sendApiRequest(o)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return o instanceof Ws?[4,this._sendWebsocketRequest(o)]:[3,4];case 4:throw Ke.invalidParameters}})})},s.prototype.cancel=function(o){this.apiClient.cancel(o)},s.prototype.cancelAll=function(){this.apiClient.cancelAll()},s}();(function(s){s[s.NONE=0]="NONE",s[s.INITIALIZED=1]="INITIALIZED",s[s.CONNECTING=2]="CONNECTING",s[s.CONNECTED=3]="CONNECTED",s[s.RECONNECTING=4]="RECONNECTING",s[s.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",s[s.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",s[s.LOGOUT=7]="LOGOUT"})(gr||(gr={}));var Zu=function(s){function o(i){var c=i.stateType,d=s.call(this)||this;return d.stateType=c,d}return me(o,s),o}(bi),zZ=function(){function s(o,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._currentConnectionStateType=gr.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new VZ(o,{auth:c,sdkState:d,dispatcher:p,logger:_,useFetchCompat:b}),this._auth=c,this._logger=_,this._dispatcher=p,this._dispatcher.on(function(S){if(S instanceof Zu){var R=S.stateType;switch(y._currentConnectionStateType=R,R){case gr.CONNECTED:var V=y._lazyCallQueue;y._lazyCallQueue=[],V.forEach(function(q){return X(y,void 0,void 0,function(){var ne,Z,se,xe,Ce;return Y(this,function(Le){switch(Le.label){case 0:ne=q.command,Z=q.deferred,se=q.timeout,clearTimeout(se),Le.label=1;case 1:return Le.trys.push([1,3,,4]),[4,this.send(ne)];case 2:return xe=Le.sent(),Z.resolve(xe),[3,4];case 3:return Ce=Le.sent(),Z.reject(Ce),[3,4];case 4:return[2]}})})});break;case gr.INITIALIZED:case gr.INTERNAL_DISCONNECTED:case gr.EXTERNAL_DISCONNECTED:case gr.LOGOUT:V=y._lazyCallQueue,y._lazyCallQueue=[],V.forEach(function(q){return X(y,void 0,void 0,function(){var ne,Z;return Y(this,function(se){return ne=q.deferred,Z=q.timeout,clearTimeout(Z),this._auth&&this._auth.hasSession?ne.reject(Ke.connectionClosed):ne.reject(Ke.connectionRequired),[2]})})})}}})}return Object.defineProperty(s.prototype,"isReady",{get:function(){return this._currentConnectionStateType===gr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===gr.CONNECTING||this._currentConnectionStateType===gr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.send=function(o){return X(this,void 0,void 0,function(){var i,c,d=this;return Y(this,function(p){switch(p.label){case 0:return o instanceof Ws?this.isReady?(this._logger.debug("send websocket request",o),[4,this.commandRouter.send(o)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",o),i=new Ba,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return d.timeout(o.requestId)},1e4)}),[2,i.promise];throw this._logger.debug("fail websocket request"),Ke.connectionRequired;case 3:case 7:return[3,9];case 4:return o instanceof Rn?this._auth.hasSession?(this._logger.debug("send api request",o),[4,this.commandRouter.send(o)]):[3,6]:[3,8];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",o),i=new Ba,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return d.timeout(o.requestId)},1e4)}),[2,i.promise];throw c=Ke.connectionRequired,this._logger.debug("fail api request",c),c;case 8:throw Ke.invalidCommand;case 9:return[2]}})})},s.prototype.forceSend=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this._logger.debug("send forced request",o),o instanceof Ws||o instanceof Rn?[4,this.commandRouter.send(o)]:[3,2];case 1:return[2,i.sent()];case 2:throw Ke.invalidCommand}})})},s.prototype.timeout=function(o){this._logger.debug("timeout request",o);var i=this._lazyCallQueue.findIndex(function(c){return c.command.requestId===o});i>-1&&(this._lazyCallQueue[i].deferred.reject(Ke.connectionRequired),this._lazyCallQueue.splice(i,1))},s.prototype.cancel=function(o){this._logger.debug("cancel api request",o),this.commandRouter.cancel(o)},s.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},s}(),VE="sendbird@devicetokens",zE=function(){function s(o){var i=o.type,c=o.token;this.type=i,this.token=c}return s.payloadify=function(o){return at(pt({type:o.type,token:o.token}))},s}(),$Z=function(s){function o(i){var c=i.userId,d=i.authToken,p=i.expiringSession,_=p===void 0||p,v=s.call(this)||this;return v.path="".concat(lr,"/").concat(c,"/session_key"),v.method=An.POST,v.params={token:d,expiring_session:!!_},v.requireAuth=!1,v}return me(o,s),o}(Rn),qZ=function(s){function o(i){var c=i.authToken,d=i.expiringSession,p=d===void 0||d,_=i.requestId,v=_===void 0?"":_;return s.call(this,{code:"LOGI",payload:{token:c,expiring_session:p?1:0,req_id:v},ackRequired:!0})||this}return me(o,s),o}(Ws),GZ=function(s){function o(i,c){var d=s.call(this,i,c)||this,p=c.key;return d.key=p,d}return me(o,s),o}(Pn),jZ=function(s){function o(i,c,d){var p,_=this;return(_=s.call(this,i,"LOGI",d)||this).error=null,_.newKey=null,_.newKey=(p=d.new_key)!==null&&p!==void 0?p:null,_.error=d.error?new Ke(d.error):null,_}return me(o,s),o}($r),AI=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return me(o,s),o}(bi),Qs=function(s){return X(void 0,void 0,void 0,function(){return Y(this,function(o){return[2,new Promise(function(i){return setTimeout(i,s)})]})})},OI=function(){function s(){}return s.prototype.calcTimeout=function(){return 0},s}(),$E=function(s,o,i){return i===void 0&&(i=new OI),X(void 0,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:c=0,d=null,p=function(S){return d=S??new Error("Halted")},_=function(){c=0},y.label=1;case 1:if(!(o===-1||c<o))return[3,9];y.label=2;case 2:return y.trys.push([2,4,,8]),[4,s(p,_)];case 3:if(v=y.sent(),d)throw d;return[2,v];case 4:if(b=y.sent(),d)return[3,6];if(++c===o)throw b;return[4,Qs(i.calcTimeout(c))];case 5:return y.sent(),[3,7];case 6:throw d;case 7:return[3,8];case 8:return[3,1];case 9:throw"It should not happen."}})})},Bt=function(s){return X(void 0,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s()];case 1:return i.sent(),[3,3];case 2:if(!((o=i.sent())instanceof Ke))throw o;return o.throwOutside(),[3,3];case 3:return[2]}})})},Ss=function(s){return X(void 0,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,s()];case 1:case 2:return o.sent(),[3,3];case 3:return[2]}})})},qE=new WeakMap,KZ=function(s){function o(i){var c=i.auth,d=i.cacheContext,p=i.sdkState,_=i.dispatcher,v=i.requestQueue,b=i.logger,y=s.call(this)||this;return y._currentConnectionStateType=gr.INITIALIZED,y._isRefreshingAuthToken=!1,y._isRefreshingSessionKey=!1,y.currentUser=null,y.auth=c,y._cacheContext=d,y._sdkState=p,y._dispatcher=_,y._requestQueue=v,y._logger=b,y._deviceTokens=[],y._dispatcher.on(function(S){var R;if(S instanceof Zu){var V=S.stateType;y._currentConnectionStateType=V}else S instanceof Ap&&y.handler&&(S.invalidateSessionToken&&(y.auth.authToken=void 0),S.error&&(S.error.isSessionKeyExpiredError||S.error.isSessionTokenExpiredError)&&(y._logger.debug("session expired"),!((R=y.handler)===null||R===void 0)&&R.onSessionExpired&&y.handler.onSessionExpired(),y.refresh()))}),y}return me(o,s),Object.defineProperty(o.prototype,"ekey",{get:function(){return qE.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),o.prototype.indexOfDeviceToken=function(i,c){return this._deviceTokens.findIndex(function(d){return d.type===i&&d.token===c})},o.prototype.hasDeviceToken=function(i,c){return this.indexOfDeviceToken(i,c)>=0},o.prototype.createRefreshWebsocketCommand=function(i,c){return new qZ({authToken:i,expiringSession:!0,requestId:c})},o.prototype._refreshSessionKeyByWebSocket=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return c=this.createRefreshWebsocketCommand(i),[4,this._requestQueue.forceSend(c)];case 1:if(d=b.sent(),p=d.as(jZ),_=p.newKey,v=p.error)throw v;return this.auth.sessionKey=_??this.auth.sessionKey,[2]}})})},o.prototype._refreshSessionKeyByApi=function(i){return X(this,void 0,void 0,function(){var c,d=this;return Y(this,function(p){switch(p.label){case 0:return c=new $Z({userId:this._sdkState.userId,authToken:i,expiringSession:!0}),[4,$E(function(_){return X(d,void 0,void 0,function(){var v,b,y;return Y(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(c)];case 1:return v=S.sent(),b=v.as(GZ).key,this.auth.sessionKey=b,[3,3];case 2:if(y=S.sent(),!this._isSessionRelatedError(y))throw y;return _(y),[3,3];case 3:return[2]}})})},3)];case 1:return p.sent(),[2]}})})},o.prototype._refreshSessionKey=function(i,c){return c===void 0&&(c=!0),X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:if(this._currentConnectionStateType!==gr.CONNECTED)return[3,10];v.label=1;case 1:return v.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(i)];case 2:return v.sent(),this.complete(),[2];case 3:return d=v.sent(),this._isSessionRelatedError(d)&&c?[4,this._receiveNewAuthToken()]:[3,9];case 4:return(_=v.sent())?(this.auth.authToken=_,[4,this._refreshSessionKey(this.auth.authToken,!1)]):[3,6];case 5:return v.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:v.sent(),this.close(),v.label=8;case 8:return[2];case 9:return[3,10];case 10:return v.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(i)];case 11:return v.sent(),this.complete(),[3,22];case 12:return p=v.sent(),this._isSessionRelatedError(p)?c?[4,this._receiveNewAuthToken()]:[3,18]:[3,20];case 13:return(_=v.sent())?(this.auth.authToken=_,[4,this._refreshSessionKeyByApi(this.auth.authToken)]):[3,15];case 14:return v.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:v.sent(),this.close(),v.label=17;case 17:return[3,19];case 18:throw p;case 19:return[3,21];case 20:throw p;case 21:return[3,22];case 22:return[2]}})})},o.prototype._receiveNewAuthToken=function(){var i=this,c=new Ba;return Bt(function(){return X(i,void 0,void 0,function(){var d,p,_,v,b=this;return Y(this,function(y){return this._isRefreshingAuthToken=!0,this.auth.clear(),this.handler.onSessionTokenRequired?(d=null,p=function(){d&&(clearTimeout(d),d=null)},_=function(S){p(),b._isRefreshingAuthToken&&(b._isRefreshingAuthToken=!1,b.dispatch("refresh-authtoken"),c.resolve(S))},v=function(S){p(),b._isRefreshingAuthToken&&(b._isRefreshingAuthToken=!1,c.reject(S))},d=setTimeout(function(){return v()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(_,v)):c.resolve(null),[2]})})}),c.promise},o.prototype._isSessionRelatedError=function(i){return i instanceof Ke&&(i.isSessionKeyExpiredError||i.isSessionTokenExpiredError||i.isSessionRevokedError)},Object.defineProperty(o.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),o.prototype.login=function(i){var c;return X(this,void 0,void 0,function(){var d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return d=i.key,p=i.ekey,_=i.userProfile,v=i.deviceTokenLastDeletedAt,b=v===void 0?0:v,this.auth.sessionKey=d,qE.set(this,p),this._deviceTokenCacheEnabled=(c=_==null?void 0:_.appInfo)===null||c===void 0?void 0:c.deviceTokenCache,y=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,y.get(VE)]:[3,5];case 1:return!(S=R.sent())||S.lastDeletedAt<b?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=b,[4,this.saveDeviceToken()]):[3,3];case 2:return R.sent(),[3,4];case 3:this._deviceTokens=S.tokens.map(function(V){return new zE(zE.payloadify(V))}),this._deviceTokenLastDeletedAt=S.lastDeletedAt,R.label=4;case 4:return[3,7];case 5:return[4,y.remove(VE)];case 6:R.sent(),R.label=7;case 7:return[2]}})})},o.prototype.complete=function(){var i=this;this.dispatch("refresh"),Bt(function(){return X(i,void 0,void 0,function(){var c;return Y(this,function(d){return this._logger.debug("session refreshed"),!((c=this.handler)===null||c===void 0)&&c.onSessionRefreshed&&this.handler.onSessionRefreshed(),[2]})})})},o.prototype.error=function(i){var c=this;Bt(function(){return X(c,void 0,void 0,function(){var d;return Y(this,function(p){return!((d=this.handler)===null||d===void 0)&&d.onSessionError&&this.handler.onSessionError(i),[2]})})})},o.prototype.close=function(){var i=this;this.dispatch("close"),Bt(function(){return X(i,void 0,void 0,function(){var c;return Y(this,function(d){return this._logger.debug("session closed"),!((c=this.handler)===null||c===void 0)&&c.onSessionClosed&&this.handler.onSessionClosed(),[2]})})})},o.prototype.refresh=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];d.label=1;case 1:return d.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(i=d.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=i,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return d.sent(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw d.sent(),c=Ke.sessionTokenRequestFailed,this._dispatcher.dispatch(new AI),this.error(c),this._isRefreshingSessionKey=!1,c;case 7:return d.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return d.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw d.sent(),c=Ke.sessionTokenRefreshFailed,this._dispatcher.dispatch(new AI),this.error(c),this._isRefreshingSessionKey=!1,c;case 10:return[2]}})})},o.prototype.setDeviceToken=function(i,c){return!!(this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(i,c)<0)&&(this._deviceTokens.push(new zE({type:i,token:c})),!0)},o.prototype.unsetDeviceToken=function(i,c){if(this._deviceTokenCacheEnabled){var d=this.indexOfDeviceToken(i,c);d>=0&&this._deviceTokens.splice(d,1)}},o.prototype.unsetDeviceTokens=function(i){this._deviceTokenCacheEnabled&&(this._deviceTokens=i?this._deviceTokens.filter(function(c){return c.type!==i}):[])},o.prototype.setDeviceTokenDeletedAt=function(i){i>0&&(this._deviceTokenLastDeletedAt=i)},o.prototype.saveDeviceToken=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(VE,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.currentUser=null,this.auth.clear(),this.close(),qE.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return i.sent(),[2]}})})},o}(Dh),Ju=function(){function s(){this.type=gr.NONE,this.name="none"}return s.prototype.run=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2]})})},s.prototype.onConnect=function(o,i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2]})})},s.prototype.onReconnect=function(o,i){return i.resetReconnectCount,X(this,void 0,void 0,function(){return Y(this,function(c){return[2]})})},s.prototype.onDisconnect=function(o,i){return i.error,i.autoReconnect,X(this,void 0,void 0,function(){return Y(this,function(c){return[2]})})},s.prototype.onDisconnectWebSocket=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2]})})},s.prototype.onLogout=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2]})})},s}(),ed=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=gr.LOGOUT,i.name="logout",i}return me(o,s),o.prototype.run=function(i){return X(this,void 0,void 0,function(){var c,d,p=this;return Y(this,function(_){switch(_.label){case 0:return c=Date.now(),d=i.sdkState.userId,[4,i.logout()];case 1:return _.sent(),[4,i.changeState(new GE,c)];case 2:return _.sent(),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(v){return i.connectionHandlers.forEach(function(b){b.onDisconnected&&b.onDisconnected(d)}),[2]})})}),[2]}})})},o}(Ju),mv=function(s){function o(){var i=s.call(this)||this;return i.type=gr.EXTERNAL_DISCONNECTED,i.name="externaldisconnected",i}return me(o,s),o.prototype.run=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,i.disconnect()];case 1:return c.sent(),[2]}})})},o.prototype.onConnect=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new bv({authToken:c}),d)];case 2:return p.sent(),[2]}})})},o.prototype.onReconnect=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new gv,c)];case 1:return d.sent(),[2]}})})},o.prototype.onLogout=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new ed,c)];case 1:return d.sent(),[2]}})})},o}(Ju),vv=function(s){function o(i){var c=i.autoReconnect,d=s.call(this)||this;return d.type=gr.INTERNAL_DISCONNECTED,d.name="internaldisconnected",d._autoReconnect=!1,d._autoReconnect=c,d}return me(o,s),o.prototype.run=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return d.sent(),this._autoReconnect?[4,i.changeState(new gv,c)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},o.prototype.onConnect=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new bv({authToken:c}),d)];case 2:return p.sent(),[2]}})})},o.prototype.onReconnect=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new gv,c)];case 1:return d.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new mv,c)];case 1:return d.sent(),[2]}})})},o.prototype.onLogout=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new ed,c)];case 1:return d.sent(),[2]}})})},o}(Ju),gv=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=gr.RECONNECTING,i.name="reconnecting",i._callbacks=[],i}return me(o,s),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=void 0)},o.prototype._flushCallbacks=function(i){this._haltConnect=void 0,this._resetConnect=void 0,this._callbacks.forEach(function(c){return c(i)})},o.prototype.run=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y=this;return Y(this,function(S){switch(S.label){case 0:c=Date.now(),d=new Ba,this._callbacks.push(function(R){return R?d.reject(R):d.resolve()}),Bt(function(){return X(y,void 0,void 0,function(){return Y(this,function(R){return i.connectionHandlers.forEach(function(V){V.onReconnectStarted&&V.onReconnectStarted()}),[2]})})}),S.label=1;case 1:return S.trys.push([1,4,,9]),p=i.sdkState.websocket,_=p.reconnectMaxRetry,v=p.reconnectRetryStrategy,[4,$E(function(R,V){return X(y,void 0,void 0,function(){var q;return Y(this,function(ne){switch(ne.label){case 0:this._haltConnect=R,this._resetConnect=V,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,i.connect()];case 2:return ne.sent(),[3,4];case 3:if(q=ne.sent(),i.clearLoginTimer(),q instanceof Ke&&q.code===ht.CONNECTION_CANCELED)return R(q),[2];throw q;case 4:return[2]}})})},_,v)];case 2:return S.sent(),[4,i.changeState(new RI,c)];case 3:return S.sent(),Bt(function(){return X(y,void 0,void 0,function(){return Y(this,function(R){return this._flushCallbacks(),i.connectionHandlers.forEach(function(V){V.onReconnectSucceeded&&V.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return b=S.sent(),Pc(b)?[3,7]:b instanceof Ke?b.code===ht.CONNECTION_CANCELED?[3,6]:[4,i.changeState(new vv({autoReconnect:!1}),c)]:[3,6];case 5:S.sent(),S.label=6;case 6:return Bt(function(){return X(y,void 0,void 0,function(){return Y(this,function(R){return this._flushCallbacks(b),i.connectionHandlers.forEach(function(V){V.onReconnectFailed&&V.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw b;case 8:return[3,9];case 9:return[2,d.promise]}})})},o.prototype.onConnect=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){return d=new Ba,this._halt(Ke.connectionCanceled),i.cancelConnectForRetry(),this._callbacks.push(function(){var _=Date.now();i.changeState(new bv({authToken:c}),_).then(function(){d.resolve()}).catch(function(v){d.reject(v)})}),[2,d.promise]})})},o.prototype.onReconnect=function(i,c){var d=c.resetReconnectCount,p=d!==void 0&&d;return X(this,void 0,void 0,function(){var _;return Y(this,function(v){return _=new Ba,this._resetConnect&&p&&this._resetConnect(),this._callbacks.push(function(b){return b?_.reject(b):_.resolve()}),[2,_.promise]})})},o.prototype.onDisconnect=function(i,c){c.error;var d=c.autoReconnect,p=d===void 0||d;return X(this,void 0,void 0,function(){var _;return Y(this,function(v){switch(v.label){case 0:return _=Date.now(),this._halt(Ke.connectionCanceled),[4,i.changeState(new vv({autoReconnect:p}),_)];case 1:return v.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(Ke.connectionCanceled),[4,i.changeState(new mv,c)];case 1:return d.sent(),[2]}})})},o.prototype.onLogout=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(Ke.connectionCanceled),[4,i.changeState(new ed,c)];case 1:return d.sent(),[2]}})})},o}(Ju),RI=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=gr.CONNECTED,i.name="connected",i}return me(o,s),o.prototype.onReconnect=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return d.sent(),[4,i.changeState(new gv,c)];case 2:return d.sent(),[2]}})})},o.prototype.onDisconnect=function(i,c){var d=c.autoReconnect;return X(this,void 0,void 0,function(){var p;return Y(this,function(_){switch(_.label){case 0:return p=Date.now(),[4,i.changeState(new vv({autoReconnect:d}),p)];case 1:return _.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new mv,c)];case 1:return d.sent(),[2]}})})},o.prototype.onLogout=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new ed,c)];case 1:return d.sent(),[2]}})})},o}(Ju),bv=function(s){function o(i){var c=i.authToken,d=s.call(this)||this;return d.type=gr.CONNECTING,d.name="connecting",d._authToken="",d._callbacks=[],d._authToken=c,d}return me(o,s),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=void 0)},o.prototype._flushCallbacks=function(i){this._haltConnect=void 0,this._callbacks.forEach(function(c){return c(i)})},o.prototype.run=function(i){return X(this,void 0,void 0,function(){var c,d,p,_=this;return Y(this,function(v){switch(v.label){case 0:c=Date.now(),d=new Ba,this._callbacks.push(function(b){return b?d.reject(b):d.resolve()}),v.label=1;case 1:return v.trys.push([1,4,,10]),[4,$E(function(b){return X(_,void 0,void 0,function(){var y;return Y(this,function(S){switch(S.label){case 0:this._haltConnect=b,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,i.connect(this._authToken)];case 2:return S.sent(),[3,4];case 3:if(y=S.sent(),i.clearLoginTimer(),y instanceof Ke&&y.code===ht.CONNECTION_CANCELED)return b(y),[2];throw y;case 4:return[2]}})})},i.sdkState.websocket.connectMaxRetry)];case 2:return v.sent(),[4,i.changeState(new RI,c)];case 3:return v.sent(),Bt(function(){return X(_,void 0,void 0,function(){return Y(this,function(b){return this._flushCallbacks(),i.connectionHandlers.forEach(function(y){y.onConnected&&y.onConnected(i.sdkState.userId)}),[2]})})}),[3,10];case 4:return p=v.sent(),Pc(p)?[3,8]:[4,i.disconnect()];case 5:return v.sent(),p instanceof Ke?p.code===ht.CONNECTION_CANCELED?[3,7]:[4,i.changeState(new GE,c)]:[3,7];case 6:v.sent(),v.label=7;case 7:return Bt(function(){return X(_,void 0,void 0,function(){return Y(this,function(b){return this._flushCallbacks(p),[2]})})}),[3,9];case 8:throw p;case 9:return[3,10];case 10:return[2,d.promise]}})})},o.prototype.onConnect=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=new Ba,this._callbacks.push(function(p){return p?c.reject(p):c.resolve()}),[2,c.promise]})})},o.prototype.onDisconnect=function(i,c){var d=c.error,p=d===void 0?null:d,_=c.autoReconnect,v=_!==void 0&&_;return X(this,void 0,void 0,function(){var b;return Y(this,function(y){switch(y.label){case 0:return b=Date.now(),this._halt(p??Ke.connectionCanceled),i.hasSession?[4,i.changeState(new vv({autoReconnect:v}),b)]:[3,2];case 1:return y.sent(),[3,4];case 2:return[4,i.changeState(new ed,b)];case 3:y.sent(),y.label=4;case 4:return[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(Ke.connectionCanceled),i.hasSession?[4,i.changeState(new mv,c)]:[3,2];case 1:return d.sent(),[3,4];case 2:return[4,i.changeState(new ed,c)];case 3:d.sent(),d.label=4;case 4:return[2]}})})},o.prototype.onLogout=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(Ke.connectionCanceled),[4,i.changeState(new ed,c)];case 1:return d.sent(),[2]}})})},o}(Ju),GE=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=gr.INITIALIZED,i.name="initialized",i}return me(o,s),o.prototype.onConnect=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.changeState(new bv({authToken:c}),d)];case 1:return p.sent(),[2]}})})},o}(Ju),WZ=function(s){function o(){return s.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return me(o,s),o}(Ws),QZ=function(){function s(o){var i=o.pingDelegate,c=o.sdkState,d=o.logger;this.pingDelegate=i,this.sdkState=c,this._logger=d}return Object.defineProperty(s.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),s.prototype.ping=function(){var o,i=this;if(!this.sdkState.websocket)throw Ke.connectionRequired;var c=new WZ;try{var d=(o=this.sdkState.websocket.pongTimeout)!==null&&o!==void 0?o:5e3;this._pingTimeoutTimer=setTimeout(function(){i._logger.debug("pinger.ping() timeout"),i.pingDelegate.error()},d),this.pingDelegate.send(c),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0),this.pingDelegate.error()}return c},s.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},s.prototype.refreshTimer=function(){var o,i=this;if(!this.sdkState.websocket)throw Ke.connectionRequired;this._logger.debug("pinger.refreshTimer()");var c=(o=this.sdkState.websocket.pingInterval)!==null&&o!==void 0?o:15e3;this.stop(),this._pingTimer=setInterval(function(){i.ping()},c)},s.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},s.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=void 0),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},s}(),MI=function(){function s(o){var i,c,d,p;this.isEnabled=(i=o.enabled)!==null&&i!==void 0&&i,this.feedChannels=(c=o.feed_channels)!==null&&c!==void 0?c:{},this.templateListToken=(d=o.template_list_token)!==null&&d!==void 0?d:null,this.settingsUpdatedAt=(p=o.settings_updated_at)!==null&&p!==void 0?p:0}return s.payloadify=function(o){return at(pt({enabled:o.isEnabled,feed_channels:o.feedChannels,template_list_token:o.templateListToken,settings_updated_at:o.settingsUpdatedAt}))},s}(),DI=function(){function s(o){var i;this.lastUpdatedAt=(i=o.last_updated_at)!==null&&i!==void 0?i:0}return s.payloadify=function(o){return at(pt({last_updated_at:o.lastUpdatedAt}))},s}(),LI=1048576,UI=function(){function s(o){var i,c,d,p,_;o===void 0&&(o={}),this.emojiHash=o.emoji_hash||"",this.uploadSizeLimit=o.file_upload_size_limit?o.file_upload_size_limit*LI:Number.MAX_SAFE_INTEGER,this.useReaction=!!o.use_reaction,this.applicationAttributes=(i=o.application_attributes)!==null&&i!==void 0?i:[],this.premiumFeatureList=(c=o.premium_feature_list)!==null&&c!==void 0?c:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.multipleFilesMessageFileCountLimit=(d=o.multiple_file_send_max_size)!==null&&d!==void 0?d:5,this.allowSdkStatsUpload=(p=o.allow_sdk_log_ingestion)===null||p===void 0||p,this.uikitConfigInfo=new DI((_=o.uikit_config)!==null&&_!==void 0?_:{}),this.notificationInfo=o.notifications?new MI(o.notifications):null}return s.payloadify=function(o){return at(pt({emoji_hash:o.emojiHash,file_upload_size_limit:o.uploadSizeLimit/LI,application_attributes:o.applicationAttributes,premium_feature_list:o.premiumFeatureList,use_reaction:o.useReaction,allow_sdk_log_ingestion:o.allowSdkStatsUpload,uikit_config:o.uikitConfigInfo?DI.payloadify(o.uikitConfigInfo):null,notifications:o.notificationInfo?MI.payloadify(o.notificationInfo):null}))},s}(),Ts=function(){function s(o){this._iid="",this._iid=o}return s.payloadify=function(o){return{}},s}(),YZ=function(s){function o(i){var c=i.userId,d=i.metadata,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(lr,"/").concat(c,"/metadata"),p.params={metadata:d},p}return me(o,s),o}(Rn),XZ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.metaData=c,d}return me(o,s),o}(Pn),ZZ=function(s){function o(i){var c=i.userId,d=i.metadata,p=i.upsert,_=s.call(this)||this;return _.method=An.PUT,_.path="".concat(lr,"/").concat(c,"/metadata"),_.params={metadata:d,upsert:p},_}return me(o,s),o}(Rn),JZ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.metadata=c,d}return me(o,s),o}(Pn),eJ=function(s){function o(i){var c=i.userId,d=i.metadataKey,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(c,"/metadata/").concat(d),p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var nJ=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.DELETE,d.path="".concat(lr,"/").concat(c,"/metadata"),d}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var Vh,yv=function(s,o){var i=JSON.parse(JSON.stringify(s));return i._iid&&delete i._iid,o&&o(i),i},Wp=function(s,o){var i=JSON.parse(JSON.stringify(s));return o&&o(i),i},Mn=function(s){return{do:function(o){s||o()},throw:function(o){if(!s)throw o}}};(function(s){s.ONLINE="online",s.OFFLINE="offline",s.NON_AVAILABLE="nonavailable"})(Vh||(Vh={}));var To,Ut=function(s){function o(i,c){var d,p,_,v,b,y,S,R,V,q,ne,Z,se=this;return(se=s.call(this,i)||this).userId=(p=(d=c.guest_id)!==null&&d!==void 0?d:c.user_id)!==null&&p!==void 0?p:"",se.nickname=(v=(_=c.nickname)!==null&&_!==void 0?_:c.name)!==null&&v!==void 0?v:"",se.plainProfileUrl=(y=(b=c.profile_url)!==null&&b!==void 0?b:c.image)!==null&&y!==void 0?y:"",se.requireAuth=(S=c.require_auth_for_profile_image)!==null&&S!==void 0&&S,se.metaData=(R=c.metadata)!==null&&R!==void 0?R:{},se.connectionStatus=Vh.NON_AVAILABLE,Nr(Vh,c.is_online)?se.connectionStatus=c.is_online:$e("boolean",c.is_online)&&(se.connectionStatus=c.is_online?Vh.ONLINE:Vh.OFFLINE),se.isActive=(V=c.is_active)===null||V===void 0||V,se.lastSeenAt=(q=c.last_seen_at)!==null&&q!==void 0?q:null,se.preferredLanguages=c.preferred_languages?Kt([],Mt(c.preferred_languages),!1):null,se.friendDiscoveryKey=(ne=c.friend_discovery_key)!==null&&ne!==void 0?ne:null,se.friendName=(Z=c.friend_name)!==null&&Z!==void 0?Z:null,se}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{user_id:i.userId,nickname:i.nickname,profile_url:i.plainProfileUrl,require_auth_for_profile_image:i.requireAuth,metadata:i.metaData,is_online:i.connectionStatus,is_active:i.isActive,last_seen_at:i.lastSeenAt,preferred_languages:i.preferredLanguages,friend_discovery_key:i.friendDiscoveryKey,friend_name:i.friendName})))},Object.defineProperty(o.prototype,"profileUrl",{get:function(){var i=Je.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),o.prototype.serialize=function(){return yv(this)},o.prototype._isValidMetaData=function(i){return!Array.isArray(i)&&Object.keys(i).length>0&&Object.keys(i).map(function(c){return i[c]}).every(function(c){return $e("string",c)})},o.prototype._applyMetaData=function(i,c){var d=this;c===void 0&&(c=!1),Object.keys(i).forEach(function(p){c?delete d.metaData[p]:d.metaData[p]=i[p]})},o.prototype.createMetaData=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return Mn(this._isValidMetaData(i)).throw(Ke.invalidParameters),c=Je.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new YZ({userId:d.userId,metadata:i}),[4,p.send(_)];case 1:return v=y.sent(),b=v.as(XZ).metaData,this._applyMetaData(b),[2,this.metaData]}})})},o.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),X(this,void 0,void 0,function(){var d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return Mn(this._isValidMetaData(i)).throw(Ke.invalidParameters),d=Je.of(this._iid),p=d.sdkState,_=d.requestQueue,v=new ZZ({userId:p.userId,metadata:i,upsert:c}),[4,_.send(v)];case 1:return b=S.sent(),y=b.as(JZ).metadata,this._applyMetaData(y),[2,this.metaData]}})})},o.prototype.deleteMetaData=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new eJ({userId:d.userId,metadataKey:i}),[4,p.send(_)];case 1:return b.sent(),this._applyMetaData(((v={})[i]=!0,v),!0),[2,this.metaData]}})})},o.prototype.deleteAllMetaData=function(){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new nJ({userId:c.userId}),[4,d.send(p)];case 1:return _.sent(),this.metaData={},[2]}})})},o}(Ts),PI=function(s){function o(i){var c=i.userProfile,d=s.call(this)||this;return d.userProfile=c,d}return me(o,s),o}(bi),jE=function(){function s(o,i){var c,d,p,_,v,b,y,S,R,V,q,ne,Z,se;this._iid=o,this.appInfo=new UI(i),this.user=new Ut(o,i),this.connectedAt=(c=i.login_ts)!==null&&c!==void 0?c:0,this.firstConnectedAt=0,this.pingInterval=(d=i.ping_interval)!==null&&d!==void 0?d:15e3,this.pongTimeout=(p=i.pong_timeout)!==null&&p!==void 0?p:5e3,this.reconnectInterval=(v=(_=i.reconnect)===null||_===void 0?void 0:_.interval)!==null&&v!==void 0?v:3e3,this.reconnectMaxInterval=(y=(b=i.reconnect)===null||b===void 0?void 0:b.max_interval)!==null&&y!==void 0?y:6e4,this.reconnectRetryCount=(R=(S=i.reconnect)===null||S===void 0?void 0:S.retry_cnt)!==null&&R!==void 0?R:5,this.reconnectIntervalMultiple=(q=(V=i.reconnect)===null||V===void 0?void 0:V.mul)!==null&&q!==void 0?q:2,this.maxUnreadCountOnSuperGroup=(ne=i.max_unread_cnt_on_super_group)!==null&&ne!==void 0?ne:100,this.profileImageEncryption=!!i.profile_image_encryption,this.concurrentCallLimit=(Z=i.concurrent_call_limit)!==null&&Z!==void 0?Z:5,this.backOffDelay=(se=i.back_off_delay)!==null&&se!==void 0?se:100}return s.payloadify=function(o){return at(pt(Me(Me(Me({},Ut.payloadify(o.user)),UI.payloadify(o.appInfo)),{login_ts:o.connectedAt,ping_interval:o.pingInterval,pong_timeout:o.pongTimeout,reconnect:{interval:o.reconnectInterval,max_interval:o.reconnectMaxInterval,retry_cnt:o.reconnectRetryCount,mul:o.reconnectIntervalMultiple},max_unread_cnt_on_super_group:o.maxUnreadCountOnSuperGroup,profile_image_encryption:o.profileImageEncryption,concurrent_call_limit:o.concurrentCallLimit,back_off_delay:o.backOffDelay})))},s.prototype.apply=function(){var o=this.reconnectInterval,i=this.reconnectMaxInterval,c=this.reconnectIntervalMultiple,d=Je.of(this._iid);d.sdkState.websocket&&(d.sdkState.websocket.pingInterval=1e3*this.pingInterval,d.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,d.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,d.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return p>0?1e3*Math.min(o*Math.pow(c,p-1),i):10}}),d.appInfo=this.appInfo,d.sessionManager.currentUser=this.user,d.connectedAt=this.connectedAt,this.firstConnectedAt||(d.firstConnectedAt=this.connectedAt),d.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,d.concurrentCallLimit=this.concurrentCallLimit,d.backOffDelay=this.backOffDelay,d.dispatcher.dispatch(new PI({userProfile:this}))},s}(),KE=function(s){function o(i,c,d){var p,_,v,b=this;return(b=s.call(this,i,c,d)||this).error=null,b.userProfile=new jE(i,d),b.deviceTokenLastDeletedAt=(p=d.device_token_last_deleted_at)!==null&&p!==void 0?p:0,b.key=(_=d.key)!==null&&_!==void 0?_:"",b.ekey=(v=d.ekey)!==null&&v!==void 0?v:"",b.error=d.error?new Ke(d):null,b}return me(o,s),o.asError=function(i){return new o("","LOGI",Me({user_id:"",error:!0},i))},o.prototype.applyTo=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return this.error?[3,4]:(c=Je.of(i))?[4,c.sessionManager.login(this)]:[3,2];case 1:return d.sent(),this.userProfile.apply(),[3,3];case 2:throw Ke.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},o}($r),FI=function(s){function o(i){var c=i.request,d=c===void 0||c,p=i.features,_=p===void 0?{}:p,v=i.options,b=v===void 0?{}:v,y=s.call(this)||this;return y.request=d,y.features=Me({localCache:!0},_),y.options=Me({ingestion:!0},b),y}return me(o,s),o}(bi),tJ=function(s){function o(i,c){var d,p=c.sdkState,_=c.cacheContext,v=c.connectionHandlers,b=c.sessionManager,y=c.websocketClient,S=c.dispatcher,R=c.logger,V=c.entryState,q=V===void 0?new GE:V,ne=this;return(ne=s.call(this)||this)._stateUpdatedAt=0,ne._connectingAt=0,ne._connectionRequestQueue=[],ne._iid=i,ne.sdkState=p,ne.cacheContext=_,ne.connectionHandlers=v,ne._sessionManager=b,ne._websocketClient=y,ne._dispatcher=S,ne._logger=R,ne._currentState=q,!((d=ne.sdkState.websocket)===null||d===void 0)&&d.pingerDisabled||(ne._pinger=new QZ({pingDelegate:{send:function(Z){return ne._websocketClient.send(Z)},error:function(Z){return ne._websocketClient.error(Z)}},sdkState:ne.sdkState,logger:R})),ne._websocketClient.on("open",function(){ne._tryResolveConnectionRequest()}).on("message",function(Z){Z.code==="LOGI"&&(ne.clearLoginTimer(),ne._dispatcher.dispatch(Z.as(KE)))}).on("ping-refresh",function(){var Z;return(Z=ne._pinger)===null||Z===void 0?void 0:Z.refreshTimer()}).on("pong",function(){var Z;return(Z=ne._pinger)===null||Z===void 0?void 0:Z.pong()}).on("error",function(){var Z;return(Z=ne._pinger)===null||Z===void 0?void 0:Z.stop()}).on("close",function(){ne._logiProcessingTimer=setTimeout(function(){ne._logiProcessingTimer=void 0,ne._unresolvedLogi||ne._rejectConnectionRequest(Ke.networkError)},500)}),ne._dispatcher.on(function(Z){Z instanceof KE&&(ne._unresolvedLogi=Z,ne._tryResolveConnectionRequest())}),ne}return me(o,s),Object.defineProperty(o.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),o.prototype.changeState=function(i,c){return X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return c>=this._stateUpdatedAt?(this._currentState=i,this._stateUpdatedAt=c,this._dispatcher.dispatch(new Zu({stateType:i.type})),this._logger.debug("connection state changes to ".concat(i.name)),[4,this._currentState.run(this)]):[3,2];case 1:return d.sent(),[2,!0];case 2:return[2,!1]}})})},o.prototype._tryResolveConnectionRequest=function(){var i;return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return c=this._unresolvedLogi,this._websocketClient.isOpen&&c?(this._unresolvedLogi=void 0,c.error?[3,2]:[4,c.applyTo(this._iid)]):[3,3];case 1:return p.sent(),d=c.userProfile,this._enableStatLog({request:d.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:d.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:d.appInfo.allowSdkStatsUpload}}),this._statLogConnection(),(i=this._pinger)===null||i===void 0||i.start(),this._connectionRequestQueue.forEach(function(_){return _.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=void 0,(c.error.isSessionKeyExpiredError||c.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Ap({reason:c.error.code})),this._rejectConnectionRequest(c.error),p.label=3;case 3:return[2]}})})},o.prototype._rejectConnectionRequest=function(i){var c;if((c=this._pinger)===null||c===void 0||c.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var d=this._connectionRequestQueue;this._connectionRequestQueue=[],d.forEach(function(p){return p.reject(i)}),this._statLogConnection(i)}},o.prototype._url=function(i){var c,d;i===void 0&&(i="");var p=this.sdkState,_=p.appId,v=p.appVersion,b=p.userId,y=p.extensions,S=p.sendbirdRuntimeEnvironment,R=this.cacheContext.localCacheEnabled,V=this._sessionManager.auth,q=(c=this.sdkState.websocket)===null||c===void 0?void 0:c.compression,ne=!!((d=this.sdkState.extensions)!==null&&d!==void 0?d:{}).sb_uikit,Z=rv.userAgentWithExtension(y);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Uc.OS_VERSION),"&sv=").concat(encodeURIComponent(Uc.SDK_VERSION),"&ai=").concat(_).concat(v?"&av=".concat(v):"").concat(V.hasSession?"&key=".concat(encodeURIComponent(V.sessionKey)):"&user_id=".concat(encodeURIComponent(b),"&access_token=").concat(encodeURIComponent(i)),"&pmce=").concat(q?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(Z,"&SB-SDK-User-Agent=").concat(encodeURIComponent(rv.sendbirdSdkUserAgentWithExtension(S)),"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash","multiple_file_send_max_size","notifications"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(R?1:0,"&include_poll_details=1").concat(ne?"&uikit_config=1":"")},o.prototype._enableStatLog=function(i){var c=i.request,d=i.features,p=i.options,_=p===void 0?{}:p;this._dispatcher.dispatch(new FI({request:c,features:d,options:_}))},o.prototype._statLogConnection=function(i){var c;this._dispatcher.dispatch(new gE(new Uh({type:qu.WEBSOCKET_CONNECT,data:{host_url:(c=this.sdkState.websocket)===null||c===void 0?void 0:c.host,success:!i,latency:Date.now()-this._connectingAt,error_code:i==null?void 0:i.code,error_description:i==null?void 0:i.message}})))},o.prototype.connect=function(i){var c;return i===void 0&&(i=""),X(this,void 0,void 0,function(){var d,p,_=this;return Y(this,function(v){return this._logiProcessingTimer&&(clearTimeout(this._logiProcessingTimer),this._logiProcessingTimer=void 0,this._rejectConnectionRequest(Ke.connectionCanceled)),d=this._url(i),p=new Ba,this._connectionRequestQueue.push(p),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){_._loginTimer=void 0,_._rejectConnectionRequest(Ke.loginTimeout)},(c=this.sdkState.websocket)===null||c===void 0?void 0:c.responseTimeout),i&&(this._sessionManager.auth.authToken=i),this._websocketClient.connect(d)),[2,p.promise]})})},o.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(KE.asError(Ke.connectionRenew))},o.prototype.disconnect=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return i.sent(),[2]}})})},o.prototype.logout=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.sdkState.userId=void 0,this._unresolvedLogi=void 0,[4,this._sessionManager.clear()];case 1:return i.sent(),[4,this.disconnect()];case 2:return i.sent(),[2]}})})},o.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=void 0)},o}(Dh),rJ=function(){function s(o,i){var c=i.sdkState,d=i.cacheContext,p=i.connectionHandlers,_=i.sessionManager,v=i.websocketClient,b=i.dispatcher,y=i.logger,S=i.disableWebSocketCloseEventHandling,R=S!==void 0&&S;this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=y,this._disableWebSocketCloseEventHandling=R,this._context=new tJ(o,{sdkState:c,cacheContext:d,connectionHandlers:p,sessionManager:_,websocketClient:v,dispatcher:b,logger:y}),this._sdkState=c,this._sessionManager=_,this._websocketClient=v}return s.prototype._registerEventDispatcher=function(){var o=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){o.isConnected||(o._logger.debug("try reconnect by session token refresh"),o.reconnect())}).on("refresh",function(){o.isConnecting||o.isConnected||(o._logger.debug("try reconnect by session key refresh"),o.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){o._sdkState.appState!=="foreground"||o._externalCalledWebSocketClose||o._sessionManager.isRefreshingAuthToken||(o._logger.debug("try reconnect by websocket connection closed"),o.reconnect())}))},s.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=void 0),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=void 0)},Object.defineProperty(s.prototype,"isConnected",{get:function(){return this._context.currentState.type===gr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isConnecting",{get:function(){var o=this._context.currentState;return o.type===gr.CONNECTING||o.type===gr.RECONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),s.prototype.connect=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return i=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,i.onConnect(this._context,o)];case 1:return c.sent(),this._registerEventDispatcher(),[2]}})})},s.prototype.reconnect=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,o.onReconnect(this._context,{})];case 1:return i.sent(),[2]}})})},s.prototype.resetAndReconnect=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,o.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return i.sent(),[2]}})})},s.prototype.background=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,o.onDisconnect(this._context,{autoReconnect:!1})];case 1:return i.sent(),[2]}})})},s.prototype.disconnect=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:o,autoReconnect:!0})];case 1:return i.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,o.onDisconnectWebSocket(this._context)];case 1:return i.sent(),[2]}})})},s.prototype.logout=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._clearEventDispatcher(),[4,o.onLogout(this._context)];case 1:return i.sent(),[2]}})})},s}(),Ev=function(s){function o(i){var c,d,p,_,v=i.type,b=i.data,y=i.ts,S=y===void 0?Date.now():y,R=s.call(this,{type:v,data:b,ts:S})||this;return R.date=new Date(S),R.key="".concat((c=R.date,d=c.getFullYear(),p=String(c.getMonth()+1).padStart(2,"0"),_=String(c.getDate()).padStart(2,"0"),"".concat(d).concat(p).concat(_)),"_").concat(v),R}return me(o,s),o}(Uh),iJ=function(s){function o(i){var c=i.deviceId,d=i.statLogs,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(FX),p.params={device_id:c,log_entries:d.map(function(_){return Uh.payloadify(_)})},p}return me(o,s),o}(Rn),HI=function(s,o){var i,c;if(s!==null&&o!==null){var d=Object.keys(s),p=Object.keys(o),_=Kt([],Mt(new Set(Kt(Kt([],Mt(d),!1),Mt(p),!1))),!1),v={};try{for(var b=gt(_),y=b.next();!y.done;y=b.next()){var S=y.value,R=typeof s[S],V=typeof o[S];R==="undefined"?v[S]=o[S]:V==="undefined"?v[S]=s[S]:R!==V?v[S]=o[S]:R==="object"&&s[S]&&o[S]?v[S]=HI(s[S],o[S]):v[S]=o[S]}}catch(q){i={error:q}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}return v}return o};(function(s){s[s.PENDING=0]="PENDING",s[s.COLLECT_ONLY=1]="COLLECT_ONLY",s[s.ENABLED=2]="ENABLED",s[s.DISABLED=3]="DISABLED"})(To||(To={}));var Vl,aJ=function(s){function o(i){var c=i.cacheContext,d=i.requestQueue,p=i.dispatcher,_=i.baseLimit,v=_===void 0?100:_,b=i.maxLimit,y=b===void 0?1e3:b,S=i.minLimit,R=S===void 0?10:S,V=s.call(this)||this;return V.queue=[],V.enabledState=To.PENDING,V.isFlushing=!1,V.generation=1,V.lastFlushedAt=0,V._collectRequestStat=!0,V._collectFeatureLocalCacheStat=!0,V.deviceId=Mh(),V.cacheContext=c,V.requestQueue=d,V.dispatcher=p,V.baseLimit=v,V.limit=v,V.maxLimit=y,V.minLimit=R,V}return me(o,s),Object.defineProperty(o.prototype,"isEnabled",{get:function(){return this.enabledState===To.ENABLED},enumerable:!1,configurable:!0}),o.prototype._arrangeStat=function(){var i=[];this._collectRequestStat&&i.push.apply(i,Kt([],Mt(this.queue.filter(function(c){return c.type===qu.API_RESULT||c.type===qu.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&i.push.apply(i,Kt([],Mt(this.queue.filter(function(c){return c.type===qu.FEATURE_LOCALCACHE})),!1)),this.queue=i},o.prototype._save=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.enabledState!==To.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(c){return Uh.payloadify(c)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:i.sent(),this.dispatch("save",Kt([],Mt(this.queue),!1)),i.label=2;case 2:return[2]}})})},o.prototype._flush=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_;return Y(this,function(v){switch(v.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,v.label=1;case 1:return v.trys.push([1,5,9,10]),this._arrangeStat(),i=this.queue.filter(function(b){if(b instanceof Ev){var y=new Date,S=Mt([b.date.getFullYear(),y.getFullYear()],2),R=S[0],V=S[1];if(R<V)return!0;if(R===V){var q=Mt([b.date.getMonth(),y.getMonth()],2),ne=q[0],Z=q[1];if(ne<Z)return!0;if(ne===Z){var se=Mt([b.date.getDate(),y.getDate()],2);return se[0]<se[1]}}}return!1}),c=this.queue.filter(function(b){return!(b instanceof Ev)}),(d=Kt(Kt([],Mt(i),!1),Mt(c),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(p=new iJ({deviceId:this.deviceId,statLogs:d}),[4,this.requestQueue.send(p)]):[3,4];case 2:return v.sent(),this.dispatch("flush",d),this.queue=Kt(Kt([],Mt(i),!1),Mt(c),!1).slice(d.length),[4,this._save()];case 3:v.sent(),v.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(_=v.sent())instanceof Ke?_.code!==ht.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return v.sent(),this.enabledState=To.DISABLED,[3,8];case 7:_.code===ht.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=To.COLLECT_ONLY),v.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},o.prototype.init=function(i){return X(this,void 0,void 0,function(){var c,d,p=this;return Y(this,function(_){switch(_.label){case 0:return this.key=i,[4,this.cacheContext.preference.get(this.key)];case 1:return(c=_.sent())?(this.deviceId=c.deviceId,this.queue=c.statLogs.map(function(v){return new Uh({type:v.stat_type,ts:v.ts,data:v.data})}),this.generation=c.generation,this.lastFlushedAt=c.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(d=Math.min(Math.floor(18e4*Math.random()),100),[4,Qs(d)]):[3,4]):[3,4];case 2:return _.sent(),[4,this._flush()];case 3:_.sent(),_.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(v){if(v instanceof gE){var b=v.statLog;p.put(b)}else if(v instanceof FI){var y=v.request,S=v.features,R=v.options;p._collectRequestStat=y,p._collectFeatureLocalCacheStat=S==null?void 0:S.localCache,p._arrangeStat(),p._collectRequestStat||p._collectFeatureLocalCacheStat?p.enabledState=R.ingestion?To.ENABLED:To.COLLECT_ONLY:p.enabledState=To.DISABLED,p.isEnabled?p.queue.length>=p.limit&&p._flush():p.clear()}})),[2]}})})},o.prototype.put=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return this.enabledState===To.DISABLED?[3,3]:(i instanceof Ev?this._collectFeatureLocalCacheStat&&(c=Mt(this.queue.filter(function(_){return _ instanceof Ev&&_.key===i.key}),1),(d=c[0])?d.data=HI(d.data,i.data):this.queue.push(i)):this._collectRequestStat&&this.queue.push(i),[4,this._save()]);case 1:return p.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:p.sent(),p.label=3;case 3:return[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return i.sent(),[2]}})})},o.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=void 0)},o}(Dh);(function(s){s[s.NONE=0]="NONE",s[s.VERBOSE=1]="VERBOSE",s[s.DEBUG=2]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=4]="WARN",s[s.ERROR=5]="ERROR"})(Vl||(Vl={}));var zh,sJ=function(){function s(){this.level=Vl.WARN}return s.prototype.verbose=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Vl.VERBOSE&&console.log.apply(console,Kt(["[verbose]"],Mt(o),!1))},s.prototype.debug=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Vl.DEBUG&&console.log.apply(console,Kt(["[debug]"],Mt(o),!1))},s.prototype.info=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Vl.INFO&&console.log.apply(console,Kt(["[info]"],Mt(o),!1))},s.prototype.warn=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Vl.WARN&&console.warn.apply(console,Kt(["[warn]"],Mt(o),!1))},s.prototype.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Vl.ERROR&&console.error.apply(console,Kt(["[error]"],Mt(o),!1))},s}(),nd={},Je=function(){function s(o,i){var c,d,p,_,v,b,y,S,R,V;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!nd[o]){nd[o]=this;var q=(c=i.options)!==null&&c!==void 0?c:new MN,ne=this.sdkState={appId:i.appId,appVersion:(d=i.appVersion)!==null&&d!==void 0?d:"",appState:"foreground",userId:void 0,extensions:{},api:{host:(p=i.apiHost)!==null&&p!==void 0?p:"https://api-".concat(i.appId,".sendbird.com")},websocket:{host:(_=i.websocketHost)!==null&&_!==void 0?_:"wss://ws-".concat(i.appId,".sendbird.com"),pingerDisabled:!!i.noPingpong,pingInterval:void 0,pongTimeout:void 0,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new OI,responseTimeout:q.websocketResponseTimeout},sessionTokenRefreshTimeout:q.sessionTokenRefreshTimeout};this.appInfo=void 0,this.subscribedUnreadMessageCount={all:0,feed:0,customTypes:{},ts:0};var Z=this.logger=new sJ;this.logger.level=(v=i.logLevel)!==null&&v!==void 0?v:Vl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var se=this.cacheContext=new AX({encryption:i.encryption,store:i.store,localCacheEnabled:(b=i.localCacheEnabled)!==null&&b!==void 0&&b,localCacheConfig:(y=i.localCacheConfig)!==null&&y!==void 0?y:new PN});this.debugMode=(S=i.debugMode)!==null&&S!==void 0&&S,this.maxSuperGroupChannelUnreadCount=Uc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=q.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=q.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=q.typingIndicatorThrottle,this.concurrentCallLimit=void 0,this.backOffDelay=void 0;var xe=this.dispatcher=new RX,Ce=new OX;this.requestQueue=new zZ(o,{auth:Ce,sdkState:ne,dispatcher:xe,logger:Z,useFetchCompat:i.useFetchCompat}),this.sessionManager=new KZ({auth:Ce,cacheContext:se,sdkState:ne,dispatcher:xe,requestQueue:this.requestQueue,logger:Z}),this.connectionManager=new rJ(o,{sdkState:ne,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:xe,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(R=i.disableWebSocketCloseEventHandling)!==null&&R!==void 0&&R,logger:Z}),this.statLogCollector=new aJ({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:xe}),this.appStateToggleEnabled=(V=i.appStateToggleEnabled)===null||V===void 0||V}return nd[o]}return s.of=function(o){if(nd[o])return nd[o];throw Ke.lostInstance},s.clear=function(o){nd[o]&&delete nd[o]},s.prototype.hasExtension=function(o){return this.sdkState.extensions&&this.sdkState.extensions[o]},s}(),WE=function(){function s(){}return s.prototype.init=function(o,i){var c=i.sdkState,d=i.dispatcher,p=i.sessionManager,_=i.requestQueue,v=i.logger;i.onlineDetector;var b=i.cacheContext;this._iid=o,this._cacheContext=b,this._sdkState=c,this._dispatcher=d,this._sessionManager=p,this._requestQueue=_,this._logger=v},s}();(function(s){s.OPEN="open",s.CLOSED="closed"})(zh||(zh={}));var Tr,QE=function(s){switch(s){case"open":return zh.OPEN;case"closed":return zh.CLOSED;default:return null}},BI=function(s){return!s||!!s.text&&$e("string",s.text)},wv=function(s){function o(i,c){var d,p,_,v,b,y,S,R=this;return(R=s.call(this,i)||this).pollId=0,R.id=0,R.text=null,R.voteCount=0,R.createdBy=null,R.createdAt=0,R.updatedAt=0,R._lastVotedAt=0,R.pollId=(d=c.poll_id)!==null&&d!==void 0?d:0,R.id=(p=c.id)!==null&&p!==void 0?p:0,R.text=(_=c.text)!==null&&_!==void 0?_:null,R.voteCount=(v=c.vote_count)!==null&&v!==void 0?v:0,R.createdBy=(b=c.created_by)!==null&&b!==void 0?b:null,R.createdAt=(y=c.created_at)!==null&&y!==void 0?y:0,R.updatedAt=(S=c.updated_at)!==null&&S!==void 0?S:0,R}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{vote_count:i.voteCount,poll_id:i.pollId,text:i.text,created_at:i.createdAt,id:i.id,created_by:i.createdBy,updated_at:i.updatedAt})))},o}(Ts),Ys=function(s){function o(i,c){var d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe=this;return(xe=s.call(this,i)||this).id=0,xe.title=null,xe.createdAt=0,xe.updatedAt=0,xe.closeAt=-1,xe.status=zh.CLOSED,xe.messageId=0,xe.data=null,xe.voterCount=-1,xe.options=[],xe.createdBy=null,xe.allowUserSuggestion=!1,xe.allowMultipleVotes=!1,xe.votedPollOptionIds=[],xe.id=(d=c.id)!==null&&d!==void 0?d:0,xe.title=(p=c.title)!==null&&p!==void 0?p:null,xe.createdAt=(_=c.created_at)!==null&&_!==void 0?_:0,xe.updatedAt=(v=c.updated_at)!==null&&v!==void 0?v:0,xe.closeAt=(b=c.close_at)!==null&&b!==void 0?b:-1,xe.status=(y=QE(c.status))!==null&&y!==void 0?y:zh.CLOSED,xe.messageId=(S=c.message_id)!==null&&S!==void 0?S:0,xe.data=(R=c.data)!==null&&R!==void 0?R:null,xe.voterCount=(V=c.voter_count)!==null&&V!==void 0?V:-1,xe.options=c.options?c.options.map(function(Ce){return new wv(xe._iid,Ce)}):[],xe.createdBy=(q=c.created_by)!==null&&q!==void 0?q:null,xe.allowUserSuggestion=(ne=c.allow_user_suggestion)!==null&&ne!==void 0&&ne,xe.allowMultipleVotes=(Z=c.allow_multiple_votes)!==null&&Z!==void 0&&Z,xe.votedPollOptionIds=(se=c.voted_option_ids)!==null&&se!==void 0?se:[],xe}return me(o,s),o.prototype._applyPollUpdatePayload=function(i){var c,d,p,_,v,b,y,S,R=this;this.title=(c=i.title)!==null&&c!==void 0?c:this.title,this.updatedAt=(d=i.updated_at)!==null&&d!==void 0?d:this.updatedAt,this.closeAt=(p=i.close_at)!==null&&p!==void 0?p:this.closeAt,this.status=(_=QE(i.status))!==null&&_!==void 0?_:this.status,this.data=(v=i.data)!==null&&v!==void 0?v:this.data,this.voterCount=(b=i.voter_count)!==null&&b!==void 0?b:this.voterCount,i.options&&(this.options=i.options.map(function(V){return new wv(R._iid,V)}),this.votedPollOptionIds=i.options.filter(function(V){return V.vote_count>0}).map(function(V){return V.id})),this.allowUserSuggestion=(y=i.allow_user_suggestion)!==null&&y!==void 0?y:this.allowUserSuggestion,this.allowMultipleVotes=(S=i.allow_multiple_votes)!==null&&S!==void 0?S:this.allowMultipleVotes},o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{id:i.id,title:i.title,created_at:i.createdAt,updated_at:i.updatedAt,close_at:i.closeAt,status:i.status,message_id:i.messageId,data:i.data,voter_count:i.voterCount,options:i.options.map(function(c){return wv.payloadify(c)}),created_by:i.createdBy,allow_user_suggestion:i.allowUserSuggestion,allow_multiple_votes:i.allowMultipleVotes,voted_option_ids:i.votedPollOptionIds})))},o.prototype.applyPollUpdateEvent=function(i){var c=i._payload.poll;return!(!c||this.id!==c.id||c.updated_at<this.updatedAt||(this._applyPollUpdatePayload(c),0))},o.prototype.applyPollVoteEvent=function(i){if(this.id!==i.pollId)return!1;var c=this.options,d=c.map(function(v){return v.id}),p=i._payload,_=Math.floor(p.ts/1e3);return p.updated_vote_counts.forEach(function(v){var b=d.indexOf(v.option_id);if(b>-1){var y=c[b];_>=y._lastVotedAt&&(y.voteCount=v.vote_count,y._lastVotedAt=_)}}),p.req_id&&p.voted_option_ids&&(this.votedPollOptionIds=p.voted_option_ids),typeof p.voter_count=="number"&&(this.voterCount=p.voter_count),!0},o.prototype.serialize=function(){return yv(this)},o}(Ts);(function(s){s.UNKNOWN="UNKNOWN",s.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",s.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",s.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",s.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",s.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",s.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",s.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",s.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",s.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",s.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",s.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",s.EVENT_CHANNEL_BANNED="EVENT_CHANNEL_BANNED",s.EVENT_CHANNEL_UNBANNED="EVENT_CHANNEL_UNBANNED",s.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",s.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",s.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",s.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",s.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",s.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",s.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",s.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",s.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",s.EVENT_CHANNEL_METADATA_CREATED="EVENT_CHANNEL_METADATA_CREATED",s.EVENT_CHANNEL_METADATA_UPDATED="EVENT_CHANNEL_METADATA_UPDATED",s.EVENT_CHANNEL_METADATA_DELETED="EVENT_CHANNEL_METADATA_DELETED",s.EVENT_CHANNEL_METACOUNTER_CREATED="EVENT_CHANNEL_METACOUNTER_CREATED",s.EVENT_CHANNEL_METACOUNTER_UPDATED="EVENT_CHANNEL_METACOUNTER_UPDATED",s.EVENT_CHANNEL_METACOUNTER_DELETED="EVENT_CHANNEL_METACOUNTER_DELETED",s.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",s.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",s.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",s.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",s.REQUEST_CHANNEL="REQUEST_CHANNEL",s.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",s.REFRESH_CHANNEL="REFRESH_CHANNEL",s.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",s.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",s.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS",s.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",s.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",s.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",s.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",s.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",s.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",s.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",s.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",s.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",s.REQUEST_MESSAGE="REQUEST_MESSAGE",s.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",s.EVENT_POLL_VOTED="EVENT_POLL_VOTED",s.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",s.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",s.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",s.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",s.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",s.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",s.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",s.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",s.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",s.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",s.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(Tr||(Tr={})),Me({},Tr);var Qp,Ui=function(s){function o(i){var c=i.messages,d=i.source,p=i.isWebSocketEventComing,_=p!==void 0&&p,v=s.call(this)||this;return v.messages=c,v.source=d,v.isWebSocketEventComing=_,v}return me(o,s),o}(bi),VI=function(s){function o(i){var c=i.messageIds,d=i.source,p=i.isWebSocketEventComing,_=p!==void 0&&p,v=s.call(this)||this;return v.messageIds=c,v.source=d,v.isWebSocketEventComing=_,v}return me(o,s),o}(bi),oJ=function(s){function o(i){var c=i.reqId,d=i.source,p=s.call(this)||this;return p.reqId=c,p.source=d,p}return me(o,s),o}(bi),zI=function(s){function o(i){var c=i.polls,d=i.source,p=s.call(this)||this;return p.polls=c,p.source=d,p}return me(o,s),o}(bi),$I=function(s){function o(i){var c=i.event,d=i.source,p=s.call(this)||this;return p.event=c,p.source=d,p}return me(o,s),o}(bi),YE=function(s){function o(i){var c=i.event,d=i.source,p=s.call(this)||this;return p.event=c,p.source=d,p}return me(o,s),o}(bi),$h=function(){function s(o,i){var c;this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=o,this.limit=(c=i.limit)!==null&&c!==void 0?c:20}return Object.defineProperty(s.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),s.prototype._validate=function(){return $e("number",this.limit)&&this.limit>0},s}(),td=function(s){function o(i,c,d,p){var _=s.call(this,i,p)||this;return _.channelUrl=c,_.channelType=d,_}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&$e("string",this.channelUrl)&&Nr(or,this.channelType)},o}($h),lJ=function(s){this.pollId=0,this.messageId=0,this.pollId=s.poll_id,this.messageId=s.message_id,this._payload=s},cJ=function(s){function o(i){var c=i.title,d=i.optionTexts,p=i.data,_=i.allowUserSuggestion,v=i.allowMultipleVotes,b=i.closeAt,y=s.call(this)||this;return y.method=An.POST,y.path=So,y.params={title:c,options:d,data:p,allow_user_suggestion:_,allow_multiple_votes:v,close_at:b},y}return me(o,s),o}(Rn),uJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),dJ=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=s.call(this)||this;return _.method=An.GET,_.path="".concat(So,"/").concat(encodeURIComponent(p)),_.params={channel_url:c,channel_type:d},_}return me(o,s),o}(Rn),hJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),pJ=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.pollOptionId,v=s.call(this)||this;return v.method=An.GET,v.path="".concat(So,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_)),v.params={channel_url:c,channel_type:d},v}return me(o,s),o}(Rn),fJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.pollOption=new wv(i,c),d}return me(o,s),o}(Pn),_J=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=i.token,v=s.call(this)||this;return v.method=An.GET,v.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/polls/changelogs"),v.params=at({change_ts:p,token:_}),v}return me(o,s),o}(Rn),mJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.updatedPolls=c.updated.map(function(p){return function(_,v){return new Ys(_,v)}(i,p)}),d.deletedPollIds=c.deleted.map(function(p){return p}),d.hasMore=c.has_more,d.nextToken=c.next,d}return me(o,s),o}(Pn),vJ={title:"",optionTexts:[],data:void 0,allowUserSuggestion:void 0,allowMultipleVotes:void 0,closeAt:-1},qI=function(s){return $e("string",s.title)&&(o=s.optionTexts,nr("string",o)&&o.every(function(i){return i.trim()!==""}))&&BI(s.data)&&$e("boolean",s.allowUserSuggestion,!0)&&$e("boolean",s.allowMultipleVotes,!0)&&$e("number",s.closeAt,!0);var o},gJ={channelUrl:"",channelType:or.BASE,pollId:0,pollOptionId:0},GI=function(s){return $e("string",s.channelUrl)&&s.channelUrl!==""&&Nr(or,s.channelType)&&$e("number",s.pollId)&&s.pollId>0&&$e("number",s.pollOptionId)&&s.pollOptionId>0},bJ={channelUrl:"",channelType:or.BASE,pollId:0},jI=function(s){return $e("string",s.channelUrl)&&s.channelUrl!==""&&Nr(or,s.channelType)&&$e("number",s.pollId)},KI={},XE=function(){function s(o,i){var c=i.sdkState,d=i.dispatcher,p=i.sessionManager,_=i.requestQueue,v=i.logger;this._iid=o,this._sdkState=c,this._sessionManager=p,this._requestQueue=_,this._dispatcher=d,this._logger=v,KI[o]=this}return s.of=function(o){return KI[o]},s.prototype.buildPollFromSerializedData=function(o){var i=Wp(o);return new Ys(this._iid,Ys.payloadify(i))},s.prototype.get=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return Mn(jI(o)).throw(Ke.invalidParameters),i=new dJ(Me({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(hJ).poll]}})})},s.prototype.create=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return Mn(qI(o)).throw(Ke.invalidParameters),i=new cJ(Me({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(uJ).poll]}})})},s.prototype.getOption=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return Mn(GI(o)).throw(Ke.invalidParameters),i=new pJ(Me({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(fJ).pollOption]}})})},s.prototype.getPollChangeLogs=function(o,i,c,d){return d===void 0&&(d=Tr.SYNC_POLL_CHANGELOGS),X(this,void 0,void 0,function(){var p,_,v,b,y,S,R;return Y(this,function(V){switch(V.label){case 0:return p=new _J(pt({channelType:i,channelUrl:o,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null})),[4,this._requestQueue.send(p)];case 1:return _=V.sent(),v=_.as(mJ),b=v.updatedPolls,y=v.deletedPollIds,S=v.hasMore,R=v.nextToken,b.length>0&&this._dispatcher.dispatch(new zI({polls:b,source:d})),[2,{updatedPolls:b,deletedPollIds:y,hasMore:S,token:R}]}})})},s}(),yJ=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.token,_=i.limit,v=s.call(this)||this;return v.method=An.GET,v.path=So,v.params={channel_url:c,channel_type:d,token:p,limit:_},v}return me(o,s),o}(Rn),EJ=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this).polls=((d=c.polls)!==null&&d!==void 0?d:[]).map(function(_){return new Ys(i,_)}),p.token=c.next,p}return me(o,s),o}(Pn),WI=function(s){function o(i,c){return s.call(this,i,c.channelUrl,c.channelType,c)||this}return me(o,s),o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new yJ(Me(Me({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(EJ),_=p.polls,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),wJ=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.pollOptionId,v=i.token,b=i.limit,y=s.call(this)||this;return y.method=An.GET,y.path="".concat(So,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_),"/voters"),y.params={channel_url:c,channel_type:d,token:v,limit:b},y}return me(o,s),o}(Rn),xJ=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this).voters=((d=c.voters)!==null&&d!==void 0?d:[]).map(function(_){return new Ut(i,_)}),p.token=c.next,p}return me(o,s),o}(Pn),QI=function(s){function o(i,c){var d=s.call(this,i,c.channelUrl,c.channelType,c)||this;return d.pollId=c.pollId,d.pollOptionId=c.pollOptionId,d}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&$e("number",this.pollId)&&$e("number",this.pollOptionId)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new wJ(Me(Me({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(xJ),_=p.voters,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),YI=function(s){function o(i){var c=s.call(this)||this;if(c.method=An.POST,c.path="".concat(MX),c.params=at({file:i.file,channel_url:i.channelUrl}),i.thumbnailSizes)for(var d=0;d<i.thumbnailSizes.length;d++){var p=i.thumbnailSizes[d],_=p.maxWidth,v=p.maxHeight;c.params["thumbnail".concat(d+1)]="".concat(_,",").concat(v)}return c.requestId=i.requestId,c}return me(o,s),o}(Rn),XI=function(s){function o(i,c){var d,p,_,v=this;return(v=s.call(this,i,c)||this).url=c.url,v.fileSize=(d=c.file_size)!==null&&d!==void 0?d:0,v.thumbnailSizes=(p=c.thumbnails)!==null&&p!==void 0?p:[],v.requireAuth=(_=c.require_auth)!==null&&_!==void 0&&_,v}return me(o,s),o}(Pn),ZE=function(s){function o(i,c){var d,p,_,v=this;return(v=s.call(this,i)||this).replyCount=0,v.lastRepliedAt=0,v.updatedAt=0,v.replyCount=(d=c.reply_count)!==null&&d!==void 0?d:0,v.mostRepliedUsers=c.most_replies&&nr("object",c.most_replies)?c.most_replies.map(function(b){return new Ut(v._iid,b)}):[],v.lastRepliedAt=(p=c.last_replied_at)!==null&&p!==void 0?p:0,v.updatedAt=(_=c.updated_at)!==null&&_!==void 0?_:0,v}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{reply_count:i.replyCount,most_replies:Array.isArray(i.mostRepliedUsers)?i.mostRepliedUsers.map(function(c){return Ut.payloadify(c)}):[],last_replied_at:i.lastRepliedAt,updated_at:i.updatedAt})))},o}(Ts);(function(s){s.ADD="add",s.DELETE="delete"})(Qp||(Qp={}));var ZI,$c,JE=function(s){this.messageId=0,this.operation=null,this.updatedAt=0;var o=$e("string",s.msg_id)?parseInt(s.msg_id):s.msg_id,i=s.user_id,c=s.operation?s.operation.toLowerCase():null,d=s.reaction,p=s.updated_at;o&&$e("string",i)&&$e("string",c)&&Nr(Qp,c)&&$e("string",d)&&d&&$e("number",p)&&(this.messageId=o,this.userId=i,this.key=d,this.operation=c,this.updatedAt=p)},xv=function(){function s(o){var i,c,d,p=o.key,_=(d=Kt([],Mt(o.user_ids),!1))!==null&&d!==void 0?d:[],v=o.updated_at;$e("string",p)&&p&&nr("string",_)&&_.length>0&&$e("number",v)&&(this.key=p,this.userIds=_,this.updatedAt=v);var b={};try{for(var y=gt(this.userIds),S=y.next();!S.done;S=y.next())b[S.value]=this.updatedAt}catch(R){i={error:R}}finally{try{S&&!S.done&&(c=y.return)&&c.call(y)}finally{if(i)throw i.error}}this._version=b}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),s.payloadify=function(o){return at(pt({key:o.key,user_ids:o.userIds,updated_at:o.updatedAt}))},s.prototype.applyEvent=function(o){if(o.key===this.key&&this.updatedAt<=o.updatedAt){if(!this._version[o.userId]||this._version[o.userId]<=o.updatedAt){var i=this.userIds.indexOf(o.userId);switch(o.operation){case Qp.ADD:i<0&&this.userIds.push(o.userId);break;case Qp.DELETE:i>=0&&this.userIds.splice(i,1)}this._version[o.userId]=o.updatedAt}this.updatedAt=Math.max(this.updatedAt,o.updatedAt)}},s}(),ks=function(){function s(o){this.key=o.key,this.value=nr("string",o.value)?Kt([],Mt(o.value),!1):[]}return s.payloadify=function(o){var i;return at(pt({key:o.key,value:(i=o.value)!==null&&i!==void 0?i:[]}))},s}(),JI=function(){function s(o){this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=o.url,o.secure_url&&(this.secureUrl=o.secure_url),o.type&&(this.type=o.type),o.width&&(this.width=o.width),o.height&&(this.height=o.height),o.alt&&(this.alt=o.alt)}return s.payloadify=function(o){var i,c;return at(pt({url:o.url,secure_url:o.secureUrl,type:o.type,width:(i=o.width)!==null&&i!==void 0?i:0,height:(c=o.height)!==null&&c!==void 0?c:0,alt:o.alt}))},s}(),eA=function(){function s(o){this.title=null,this.url=null,this.description=null,this.defaultImage=null,o["og:title"]&&(this.title=o["og:title"]),o["og:url"]&&(this.url=o["og:url"]),o["og:description"]&&(this.description=o["og:description"]),o["og:image"]&&(this.defaultImage=new JI(o["og:image"]))}return s.payloadify=function(o){return at(pt({"og:title":o.title,"og:url":o.url,"og:description":o.description,"og:image":o.defaultImage?JI.payloadify(o.defaultImage):null}))},s}(),tl=function(){function s(o){var i,c;this.volume=0,this.name=(i=o.name)!==null&&i!==void 0?i:"default",this.volume=(c=o.volume)!==null&&c!==void 0?c:1}return s.prototype.serialize=function(){return{name:this.name,volume:this.volume}},s.payloadify=function(o){return at(pt({name:o.name,volume:o.volume}))},s}(),qh=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this).isBlockedByMe=!1,p.role=Nr(nv,c.role)?c.role:nv.NONE,p.isBlockedByMe=(d=c.is_blocked_by_me)!==null&&d!==void 0&&d,p}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{role:i.role,is_blocked_by_me:i.isBlockedByMe})))},o}(Ut);(function(s){s.PENDING="pending",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled"})(ZI||(ZI={})),function(s){s.PENDING="pending",s.IN_QUEUE="in_queue",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled",s.REMOVED="removed"}($c||($c={}));var yi,nA=function(s){switch(s){case Qr.BASE:return"";case Qr.USER:return"MESG";case Qr.FILE:return"FILE";case Qr.ADMIN:return"ADMM"}},zl=function(s){function o(i,c){var d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le,Fe=this;(Fe=s.call(this,i)||this).channelType=or.BASE,Fe.parentMessage=null,Fe.silent=!1,Fe.isOperatorMessage=!1,Fe.messageType=Qr.BASE,Fe.mentionType=null,Fe.threadInfo=null,Fe.reactions=[],Fe.metaArrays=[],Fe.appleCriticalAlertOptions=null,Fe.createdAt=0,Fe.updatedAt=0,Fe.scheduledInfo=null,Fe.extendedMessage={},Fe._isContinuousMessages=!1,Fe._scheduledStatus=null,Fe.messageId=(p=(d=c.msg_id)!==null&&d!==void 0?d:c.message_id)!==null&&p!==void 0?p:0,Fe.channelUrl=c.channel_url,Fe.channelType=Nr(or,c.channel_type)?c.channel_type:or.GROUP,c.channel&&(c.channel.channel_url&&(Fe.channelUrl=c.channel.channel_url),c.channel.channel_type&&(Fe.channelType=c.channel.channel_type)),Fe.parentMessageId=(_=typeof c.parent_message_id=="string"?parseInt(c.parent_message_id):c.parent_message_id)!==null&&_!==void 0?_:0,Fe.data=(v=c.data)!==null&&v!==void 0?v:"",Fe.customType=(b=c.custom_type)!==null&&b!==void 0?b:"",Fe.mentionType=Nr(Sa,c.mention_type)?c.mention_type:null,Fe.mentionedUsers=c.mentioned_users?c.mentioned_users.map(function(Qe){return new Ut(Fe._iid,Qe)}):null,Fe.mentionedUserIds=(y=c.mentioned_user_ids)!==null&&y!==void 0?y:null,Fe.mentionedUsers&&!Fe.mentionedUserIds&&(Fe.mentionedUserIds=Fe.mentionedUsers.map(function(Qe){return Qe.userId})),Fe.mentionedMessageTemplate=(S=c.mentioned_message_template)!==null&&S!==void 0?S:"",Fe.threadInfo=c.thread_info?new ZE(Fe._iid,c.thread_info):null,Fe.reactions=c.reactions?c.reactions.map(function(Qe){return new xv(Qe)}):[];var ye=(R=c.metaarray)!==null&&R!==void 0?R:{},be=(V=c.metaarray_key_order)!==null&&V!==void 0?V:Object.keys(ye).sort(function(Qe,Sn){return Qe.localeCompare(Sn)});Fe.metaArrays=[];for(var nn=0;nn<be.length;nn++){var Ze=be[nn];Fe.metaArrays.push(new ks({key:Ze,value:ye[Ze]||[]}))}return c.sorted_metaarray&&(Fe.metaArrays=c.sorted_metaarray.map(function(Qe){return new ks(Qe)})),Fe.ogMetaData=c.og_tag?new eA(c.og_tag):null,Fe.silent=(q=c.silent)!==null&&q!==void 0&&q,Fe.isOperatorMessage=(ne=c.is_op_msg)!==null&&ne!==void 0&&ne,Fe.appleCriticalAlertOptions=c.apple_critical_alert_options?new tl(c.apple_critical_alert_options):null,Fe.createdAt=(se=(Z=c.created_at)!==null&&Z!==void 0?Z:c.ts)!==null&&se!==void 0?se:0,Fe.updatedAt=(xe=c.updated_at)!==null&&xe!==void 0?xe:0,typeof c.scheduled_message_id=="number"&&typeof c.scheduled_at=="number"&&c.scheduled_status&&(Fe.scheduledInfo={scheduledMessageId:c.scheduled_message_id,scheduledAt:c.scheduled_at},Fe._scheduledStatus=c.scheduled_status),Fe.extendedMessage=(Ce=c.extended_message)!==null&&Ce!==void 0?Ce:{},Fe._isContinuousMessages=(Le=c.is_continuous_messages)!==null&&Le!==void 0&&Le,Fe}return me(o,s),o.payloadify=function(i){var c,d,p,_;return at(pt(Me(Me({},s.payloadify.call(this,i)),{channel_url:i.channelUrl,channel_type:i.channelType,message_id:i.messageId,type:nA(i.messageType),parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(c=i.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return Ut.payloadify(v)}),mentioned_message_template:i.mentionedMessageTemplate,thread_info:i.threadInfo?ZE.payloadify(i.threadInfo):null,reactions:i.reactions.map(function(v){return xv.payloadify(v)}),sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(v){return ks.payloadify(v)}),og_tag:i.ogMetaData?eA.payloadify(i.ogMetaData):null,silent:i.silent,is_op_msg:i.isOperatorMessage,apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,created_at:i.createdAt,updated_at:i.updatedAt,scheduled_message_id:(p=i.scheduledInfo)===null||p===void 0?void 0:p.scheduledMessageId,scheduled_at:(_=i.scheduledInfo)===null||_===void 0?void 0:_.scheduledAt,scheduled_status:i._scheduledStatus,extended_message:i.extendedMessage})))},o._getParentMessageInfoPayload=function(i){return at(pt({type:nA(i.messageType),ts:i.createdAt,user:i.sender?qh.payloadify(i.sender):null,message:i.message,file:{url:i.plainUrl,name:i.name,type:i.type,require_auth:i.requireAuth}}))},o.prototype.isIdentical=function(i){return this.messageId===i.messageId},o.prototype.isEqual=function(i){return RN(this,i)},o.prototype.isUserMessage=function(){return this.messageType===Qr.USER},o.prototype.isFileMessage=function(){return this.messageType===Qr.FILE&&!Object.prototype.hasOwnProperty.call(this,"fileInfoList")},o.prototype.isMultipleFilesMessage=function(){return this.messageType===Qr.FILE&&Object.prototype.hasOwnProperty.call(this,"fileInfoList")},o.prototype.isAdminMessage=function(){return this.messageType===Qr.ADMIN},o.prototype.serialize=function(){return yv(this)},o.prototype.getMetaArraysByKeys=function(i){return this.metaArrays.filter(function(c){return i.includes(c.key)})},o.prototype.applyThreadInfoUpdateEvent=function(i){return this.messageId===i.targetMessageId&&(this.threadInfo=i.threadInfo),!1},o.prototype.applyReactionEvent=function(i){if(this.messageId===i.messageId){for(var c=!1,d=0;d<this.reactions.length;d++)if(this.reactions[d].key===i.key){this.reactions[d].applyEvent(i),this.reactions[d].isEmpty&&this.reactions.splice(d,1),c=!0;break}c||i.operation!=="add"||this.reactions.push(new xv(xv.payloadify({key:i.key,userIds:[i.userId],updatedAt:i.updatedAt})))}},o.prototype.applyParentMessage=function(i){if(!this.parentMessage)return this.parentMessage=i,!0;if(this.parentMessageId===i.messageId){var c=this.parentMessage.updatedAt;if(i.updatedAt>=c)return this.parentMessage=i,!0}return!1},o}(Ts),rd=function(s){function o(i,c){var d,p,_,v,b=this;if((b=s.call(this,i,c)||this).reqId="",b.replyToChannel=!1,b.errorCode=0,b.sender=c.user?new qh(b._iid,c.user):c.sender_id,b.reqId=(p=(d=c.req_id)!==null&&d!==void 0?d:c.request_id)!==null&&p!==void 0?p:"",b.replyToChannel=(_=c.is_reply_to_channel)!==null&&_!==void 0&&_,c.request_state&&Nr(Br,c.request_state)&&(b.sendingStatus=c.request_state),!b.sendingStatus)if(b.messageId>0)b.sendingStatus=Br.SUCCEEDED;else if(b.scheduledInfo)switch(c.scheduled_status&&(b._scheduledStatus=c.scheduled_status),c.scheduled_status){case $c.SENT:case $c.IN_QUEUE:b.sendingStatus=Br.SUCCEEDED;break;case $c.PENDING:b.sendingStatus=Br.SCHEDULED;break;case $c.FAILED:case $c.REMOVED:b.sendingStatus=Br.FAILED;break;case $c.CANCELED:b.sendingStatus=Br.CANCELED}else b.sendingStatus=Br.PENDING;return b.errorCode=(v=c.error_code)!==null&&v!==void 0?v:0,b}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{user:qh.payloadify(i.sender),req_id:i.reqId,is_reply_to_channel:i.replyToChannel,request_state:i.sendingStatus,error_code:i.errorCode})))},Object.defineProperty(o.prototype,"isResendable",{get:function(){return this.sendingStatus===Br.FAILED&&function(i){return i>0&&CX.indexOf(i)>=0}(this.errorCode)},enumerable:!1,configurable:!0}),o.prototype.isIdentical=function(i){return this.messageId>0&&i.messageId>0?this.messageId===i.messageId:this.reqId===i.reqId},o}(zl),Yp=function(){function s(o){var i,c;this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=o.url,this.width=o.width,this.height=o.height,this.realWidth=(i=o.real_width)!==null&&i!==void 0?i:o.width,this.realHeight=(c=o.real_height)!==null&&c!==void 0?c:o.height}return s.payloadify=function(o){return at(pt({url:"",width:o.maxWidth,height:o.maxHeight,real_width:0,real_height:0}))},Object.defineProperty(s.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),s}(),Xp={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ys.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Sv=function(s){return $e("number",s.prevResultSize)&&$e("number",s.nextResultSize)&&$e("boolean",s.isInclusive)&&$e("boolean",s.reverse)&&$e("string",s.messageTypeFilter)&&Nr(ys,s.messageTypeFilter)&&nr("string",s.customTypesFilter,!0)&&nr("string",s.senderUserIdsFilter,!0)&&$e("boolean",s.includeMetaArray)&&$e("boolean",s.includeReactions)&&$e("boolean",s.includeParentMessageInfo)},Zp=function(s){function o(i,c){var d,p,_,v,b=this;if((b=s.call(this,i,c)||this).translations={},b.message=(d=c.message)!==null&&d!==void 0?d:"",b.messageType=Qr.ADMIN,b.translations=(p=c.translations)!==null&&p!==void 0?p:{},c.parent_message_info){var y=c.parent_message_info;b.parentMessage=$l(i,at(pt(Me(Me({},y),{message_id:b.parentMessageId,channel_url:b.channelUrl,channel_type:b.channelType,file:y.file,url:(_=y.file)===null||_===void 0?void 0:_.url,require_auth:(v=y.file)===null||v===void 0?void 0:v.require_auth}))))}return b}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o.prototype.getThreadedMessagesByTimestamp=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Xp),c),Mn(this.messageId>0&&$e("number",i)&&Sv(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},o}(zl),tA=function(){function s(o){var i,c;this.detail={},this.type=(i=o.type)!==null&&i!==void 0?i:"",this.vendor=(c=o.vendor)!==null&&c!==void 0?c:"",o.detail&&$e("object",o.detail)&&!Array.isArray(o.detail)&&(this.detail=o.detail)}return s.payloadify=function(o){return at(pt({type:o.type,vendor:o.vendor,detail:o.detail}))},s}(),Va=function(s){function o(i,c){var d,p,_,v,b,y,S,R=this;if((R=s.call(this,i,c)||this).message="",R.messageParams=null,R.translations={},R.translationTargetLanguages=[],R.messageSurvivalSeconds=-1,R.plugins=[],R._poll=null,R.message=c.message,R.messageType=Qr.USER,R.translations=(_=c.translations)!==null&&_!==void 0?_:{},R.translationTargetLanguages=(v=c.target_langs)!==null&&v!==void 0?v:[],Object.keys(R.translations).length===0&&R.translationTargetLanguages.length>0)try{for(var V=gt(R.translationTargetLanguages),q=V.next();!q.done;q=V.next()){var ne=q.value;R.translations[ne]=""}}catch(se){d={error:se}}finally{try{q&&!q.done&&(p=V.return)&&p.call(V)}finally{if(d)throw d.error}}if(R.messageSurvivalSeconds=(b=c.message_survival_seconds)!==null&&b!==void 0?b:-1,R.plugins=c.plugins?c.plugins.map(function(se){return new tA(se)}):[],R._poll=c.poll?new Ys(R._iid,c.poll):null,c.parent_message_info){var Z=c.parent_message_info;R.parentMessage=$l(i,at(pt(Me(Me({},Z),{created_at:Z.ts,message_id:R.parentMessageId,channel_url:R.channelUrl,channel_type:R.channelType,file:Z.file,url:(y=Z.file)===null||y===void 0?void 0:y.url,require_auth:(S=Z.file)===null||S===void 0?void 0:S.require_auth}))))}return R}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,message_survival_seconds:i.messageSurvivalSeconds,plugins:i.plugins.map(function(c){return tA.payloadify(c)}),poll:i._poll?Ys.payloadify(i._poll):null,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o.prototype.getThreadedMessagesByTimestamp=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Xp),c),Mn(this.messageId>0&&$e("number",i)&&Sv(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},o.prototype.applyPoll=function(i){return!(this._poll&&this._poll.id===i.id&&this._poll.updatedAt>i.updatedAt||(this._poll=i,0))},Object.defineProperty(o.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),o}(rd),rA=function(s){function o(i,c){var d,p,_,v,b,y=this;(y=s.call(this,i)||this).plainUrl="",y.fileName=null,y.mimeType=null,y.fileSize=0,y.thumbnails=[],y._requireAuth=!1,y.plainUrl=(d=c.url)!==null&&d!==void 0?d:"",y.fileName=(p=c.file_name)!==null&&p!==void 0?p:null,y.mimeType=(_=c.file_type)!==null&&_!==void 0?_:null,y.fileSize=(v=c.file_size)!==null&&v!==void 0?v:0,y._requireAuth=(b=c.require_auth)!==null&&b!==void 0&&b;var S=Je.of(y._iid).sessionManager;return y.thumbnails=c.thumbnails?c.thumbnails.map(function(R){return new Yp(Me(Me({},R),{url:"".concat(R.url.split("?auth=")[0]).concat(y._requireAuth?"?auth=".concat(S.ekey):"")}))}):[],y}return me(o,s),o.payloadify=function(i){var c;return at(pt({url:i.plainUrl,file_name:i.fileName,file_type:i.mimeType,file_size:i.fileSize,thumbnails:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(d){return{url:d.url,width:d.width,height:d.height,real_width:d.realWidth,real_height:d.realHeight}}),require_auth:i._requireAuth}))},Object.defineProperty(o.prototype,"url",{get:function(){var i=Je.of(this._iid).sessionManager;return this._requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),o}(Ts),Xs=function(s){function o(i,c){var d,p,_,v,b,y=this;if((y=s.call(this,i,c)||this).messageParams=null,y.fileInfoList=[],y.messageSurvivalSeconds=-1,y.messageType=Qr.FILE,y.fileInfoList=(p=(d=c.files)===null||d===void 0?void 0:d.map(function(R){return new rA(i,R)}))!==null&&p!==void 0?p:[],y.messageSurvivalSeconds=(_=c.message_survival_seconds)!==null&&_!==void 0?_:-1,c.parent_message_info){var S=c.parent_message_info;y.parentMessage=$l(i,at(pt(Me(Me({},S),{created_at:S.ts,message_id:y.parentMessageId,channel_url:y.channelUrl,channel_type:y.channelType,file:S.file,url:(v=S.file)===null||v===void 0?void 0:v.url,require_auth:(b=S.file)===null||b===void 0?void 0:b.require_auth}))))}return y}return me(o,s),o.prototype.getThreadedMessagesByTimestamp=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Xp),c),Mn(this.messageId>0&&$e("number",i)&&Sv(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{files:i.fileInfoList&&i.fileInfoList&&Array.isArray(i.fileInfoList)?i.fileInfoList.map(function(c){return rA.payloadify(c)}):null,message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o._isMultipleFilesMessagePayload=function(i){var c=i.files;return Array.isArray(c)&&c.length>=2},o._isMultipleFilesMessageSerializedData=function(i){var c=i.fileInfoList;return Array.isArray(c)},o}(rd),$l=function(s,o){switch(o.type){case"MESG":return new Va(s,o);case"FILE":return Xs._isMultipleFilesMessagePayload(o)?new Xs(s,o):new Ei(s,o);case"ADMM":case"BRDM":return new Zp(s,o)}throw Ke.unknown},Ei=function(s){function o(i,c){var d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce=this;(Ce=s.call(this,i,c)||this).messageParams=null,Ce.plainUrl="",Ce.requireAuth=!1,Ce.thumbnails=[],Ce.messageSurvivalSeconds=-1,Ce.messageType=Qr.FILE;var Le=c.file;Ce.plainUrl=((p=(d=Le==null?void 0:Le.url)!==null&&d!==void 0?d:c.url)!==null&&p!==void 0?p:"").split("?auth=")[0],Ce.name=(v=(_=Le==null?void 0:Le.name)!==null&&_!==void 0?_:c.name)!==null&&v!==void 0?v:"File",Ce.size=(y=(b=Le==null?void 0:Le.size)!==null&&b!==void 0?b:c.size)!==null&&y!==void 0?y:0,Ce.data=(R=(S=Le==null?void 0:Le.data)!==null&&S!==void 0?S:c.custom)!==null&&R!==void 0?R:"",Ce.type=Le?(V=Le.type)!==null&&V!==void 0?V:"":(q=c.type)!==null&&q!==void 0?q:"";var Fe=Je.of(Ce._iid).sessionManager;if(Ce.requireAuth=(ne=c.require_auth)!==null&&ne!==void 0&&ne,Ce.thumbnails=c.thumbnails?c.thumbnails.map(function(be){return new Yp(Me(Me({},be),{url:"".concat(be.url.split("?auth=")[0]).concat(Ce.requireAuth?"?auth=".concat(Fe.ekey):"")}))}):[],Ce.messageSurvivalSeconds=(Z=c.message_survival_seconds)!==null&&Z!==void 0?Z:-1,c.parent_message_info){var ye=c.parent_message_info;Ce.parentMessage=$l(i,at(pt(Me(Me({},ye),{created_at:ye.ts,message_id:Ce.parentMessageId,channel_url:Ce.channelUrl,channel_type:Ce.channelType,file:ye.file,url:(se=ye.file)===null||se===void 0?void 0:se.url,require_auth:(xe=ye.file)===null||xe===void 0?void 0:xe.require_auth}))))}return Ce}return me(o,s),o.payloadify=function(i){var c;return at(pt(Me(Me({},s.payloadify.call(this,i)),{url:i.plainUrl,require_auth:i.requireAuth,file:{name:i.name,size:i.size,type:i.type,data:i.data},thumbnails:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(d){return{url:d.url,width:d.width,height:d.height,real_width:d.realWidth,real_height:d.realHeight}}),message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},Object.defineProperty(o.prototype,"url",{get:function(){var i=Je.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),o.prototype.getThreadedMessagesByTimestamp=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Xp),c),Mn(this.messageId>0&&$e("number",i)&&Sv(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},o}(rd),SJ=function(s){function o(i){var c,d,p,_=[];return i.mentionType===Sa.USERS&&(i.mentionedUserIds?_=i.mentionedUserIds:i.mentionedUsers&&(_=i.mentionedUsers.map(function(v){return v.userId}))),s.call(this,{code:"FILE",ackRequired:!0,payload:at(pt({channel_url:i.channelUrl,files:i.files?aA(i.files):null,url:i.url,name:(c=i.fileName)!==null&&c!==void 0?c:"",type:(d=i.mimeType)!==null&&d!==void 0?d:"",size:(p=i.fileSize)!==null&&p!==void 0?p:0,custom:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes,require_auth:i.requireAuth,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:_,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Fc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId?i.parentMessageId:null,req_id:i.reqId,pin_message:i.isPinnedMessage}))})||this}return me(o,s),o}(Ws),TJ=function(s){function o(i){var c,d,p=this;p=s.call(this)||this;var _=[];return i.mentionType===Sa.USERS&&(i.mentionedUserIds?_=i.mentionedUserIds:i.mentionedUsers&&(_=i.mentionedUsers.map(function(v){return v.userId}))),p.method=An.POST,p.path="".concat(vr(i.channelType),"/").concat(encodeURIComponent(i.channelUrl),"/messages"),p.params=at(pt({message_type:Qr.FILE,user_id:i.userId,files:i.files?aA(i.files):null,url:i.fileUrl,mention_type:i.mentionType,mentioned_user_ids:_,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,data:i.data,custom_type:i.customType,thumbnails:(c=i.thumbnailSizes)===null||c===void 0?void 0:c.map(function(v){return Yp.payloadify(v)}),require_auth:i.requireAuth,sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(v){return ks.payloadify(v)}),push_option:i.pushNotificationDeliveryOption,parent_message_id:i.parentMessageId?i.parentMessageId:null,apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,reply_to_channel:i.isReplyToChannel,req_id:i.reqId,pin_message:i.isPinnedMessage})),p}return me(o,s),o}(Rn),iA=function(s){function o(i,c,d){var p,_,v,b,y=this;(y=s.call(this,i,"FILE",d)||this).message=d.files&&d.files.length>=2?new Xs(i,d):new Ei(i,d);var S=Je.of(i).sdkState;return y.isMentioned=Lh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(R){return R.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=d.force_update_last_message)!==null&&b!==void 0&&b,y}return me(o,s),o}($r),kJ=function(s){function o(i,c){var d,p,_,v,b=this;(b=s.call(this,i,c)||this).message=c.files&&c.files.length>=2?new Xs(i,c):new Ei(i,c);var y=Je.of(i).sdkState;return b.isMentioned=Lh(b.message.mentionType,(_=(d=b.message.mentionedUserIds)!==null&&d!==void 0?d:(p=b.message.mentionedUsers)===null||p===void 0?void 0:p.map(function(S){return S.userId}))!==null&&_!==void 0?_:[],y.userId),b.forceUpdateLastMessage=(v=c.force_update_last_message)!==null&&v!==void 0&&v,b}return me(o,s),o}(Pn);function aA(s){return s.map(function(o){var i,c;return at(pt({url:o.fileUrl,file_name:o.fileName,file_type:o.mimeType,file_size:o.fileSize,thumbnails:(i=o.thumbnailSizes)===null||i===void 0?void 0:i.map(function(d){return Yp.payloadify(d)}),require_auth:(c=o._uploadedMetaData)===null||c===void 0?void 0:c.requireAuth}))})}(function(s){s[s.PENDING=0]="PENDING",s[s.UPLOADING=1]="UPLOADING",s[s.UPLOADED=2]="UPLOADED",s[s.SENDING=3]="SENDING",s[s.FAILED=4]="FAILED"})(yi||(yi={}));var e3,CJ=function(){function s(o,i){var c=i.sdkState,d=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,v=i.cacheContext,b=this;this._queueMap=new Map,this._iid=o,this._sdkState=c,this._requestQueue=p,this._cacheContext=v,this._dispatcher=d,this._dispatcher.on(function(y){y instanceof Zu&&(b._connectionState=y.stateType)}),this._onlineDetector=_}return Object.defineProperty(s.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===gr.CONNECTED||this._connectionState===gr.CONNECTING||this._connectionState===gr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype._sendFileMessage=function(o,i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return c=this._createSendFileMessageRequestParams(o,i),this._shouldSendThroughWebSocket?(d=new SJ(c),[4,this._requestQueue.send(d)]):[3,2];case 1:return[2,p.sent().as(iA).message];case 2:return d=new TJ(Me(Me({},c),{userId:this._sdkState.userId})),[4,this._requestQueue.send(d)];case 3:return[2,p.sent().as(kJ).message]}})})},s.prototype._createSendFileMessageRequestParams=function(o,i){var c=Me(Me({},i.params),{channelUrl:o.url,channelType:o.channelType,reqId:i.requestId,url:""});if(i.multipleFileUploadInfo){var d=i.params;c.files=d.fileInfoList}else d=i.params,c.url=d.fileUrl,c.requireAuth=d.requireAuth;return c},s.prototype._resolveMessageQueue=function(o){var i;return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R,V,q,ne,Z;return Y(this,function(se){switch(se.label){case 0:if(!(c=this._queueMap.get(o.url)))return[3,21];if(c.isResolving)return[3,20];c.isResolving=!0,d=[],p=!0,se.label=1;case 1:se.trys.push([1,15,16,17]),_=gt(c.messageQueue),v=_.next(),se.label=2;case 2:if(v.done)return[3,14];switch((b=v.value).state){case yi.PENDING:case yi.UPLOADING:return[3,3];case yi.UPLOADED:return[3,4];case yi.FAILED:return[3,12]}return[3,13];case 3:return p=!1,d.push(b),[3,13];case 4:if(!p)return[3,10];se.label=5;case 5:return se.trys.push([5,8,,9]),b.state=yi.SENDING,[4,this._sendFileMessage(o,b)];case 6:return y=se.sent(),b.deferred.resolve(y),[4,Qs(100)];case 7:return se.sent(),[3,9];case 8:return S=se.sent(),b.deferred.reject(S),[3,9];case 9:return[3,11];case 10:d.push(b),se.label=11;case 11:return[3,13];case 12:return R=(i=b.error)!==null&&i!==void 0?i:Ke.unknown,b.deferred.reject(R.code===ht.REQUEST_CANCELED?Ke.fileUploadCanceled:R),[3,13];case 13:return v=_.next(),[3,2];case 14:return[3,17];case 15:return V=se.sent(),ne={error:V},[3,17];case 16:try{v&&!v.done&&(Z=_.return)&&Z.call(_)}finally{if(ne)throw ne.error}return[7];case 17:return q=c.isResolveRequestPending,c.messageQueue=d,c.isResolving=!1,c.isResolveRequestPending=!1,q?[4,this._resolveMessageQueue(o)]:[3,19];case 18:se.sent(),se.label=19;case 19:return[3,21];case 20:c.isResolveRequestPending=!0,se.label=21;case 21:return[2]}})})},s.prototype._uploadNextPendingItem=function(o){var i;return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R;return Y(this,function(V){switch(V.label){case 0:return(c=this._queueMap.get(o.url))&&(d=c.messageQueue.find(function(q){return q.state===yi.PENDING}))?d.multipleFileUploadInfo?(p=d.multipleFileUploadInfo,_=p.uploadIndex,v=p.uploadCount,b=p.requestHandler,R=d.params,y=R.fileInfoList[_],!is(y.file)||!((i=y._uploadedMetaData)===null||i===void 0)&&i.isUploaded?[3,2]:[4,this._tryUploadNextItemAndUpdateItemState(o,c,d)]):[3,4]:[3,9];case 1:return V.sent(),[3,3];case 2:d.state=_<v-1?yi.PENDING:yi.UPLOADED,V.label=3;case 3:return S=_,b==null||b._triggerOnFileUploaded(d.requestId,S,y,d.error),d.multipleFileUploadInfo.uploadIndex++,[3,7];case 4:return R=d.params,is(R.file)?[4,this._tryUploadNextItemAndUpdateItemState(o,c,d)]:[3,6];case 5:return V.sent(),[3,7];case 6:R.thumbnailSizes=[],d.state=yi.UPLOADED,V.label=7;case 7:return this._uploadNextPendingItem(o),[4,this._resolveMessageQueue(o)];case 8:V.sent(),V.label=9;case 9:return[2]}})})},s.prototype._tryUploadNextItemAndUpdateItemState=function(o,i,c){return X(this,void 0,void 0,function(){var d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return[4,this._onlineDetector.isOnline()];case 1:if(d=S.sent(),!Je.of(this._iid).sessionManager.currentUser||!d)return c.error=Ke.connectionRequired,c.state=yi.FAILED,[2];if(!(i.uploadQueue.length<6))return[3,9];c.state=yi.UPLOADING,i.uploadQueue.push(c),S.label=2;case 2:return S.trys.push([2,7,,8]),c.multipleFileUploadInfo?(p=c.multipleFileUploadInfo,_=p.uploadIndex,v=p.uploadCount,b=c.params,[4,this._uploadNextFileForMultipleFilesItemAndUpdateParams(o,c,b)]):[3,4];case 3:return S.sent(),c.state=_<v-1?yi.PENDING:yi.UPLOADED,[3,6];case 4:return b=c.params,[4,this._uploadNextFileForSingleFileItemAndUpdateParams(o,c,b)];case 5:S.sent(),c.state=yi.UPLOADED,S.label=6;case 6:return[3,8];case 7:return y=S.sent(),c.error=y.code===ht.REQUEST_FAILED?new Ke({code:ht.NETWORK_ERROR,message:"Failed to upload a file."}):y,c.state=yi.FAILED,[3,8];case 8:this._dequeueUploadItem(i,c),S.label=9;case 9:return[2]}})})},s.prototype._dequeueUploadItem=function(o,i){var c=o.uploadQueue.findIndex(function(d){return d.requestId===i.requestId});c>=0&&o.uploadQueue.splice(c,1)},s.prototype._uploadNextFileForSingleFileItemAndUpdateParams=function(o,i,c){var d,p,_;return X(this,void 0,void 0,function(){var v,b,y,S,R,V,q,ne,Z,se;return Y(this,function(xe){switch(xe.label){case 0:return v=new YI({file:c.file,channelUrl:o.url,thumbnailSizes:c.thumbnailSizes,requestId:i.requestId}),[4,this._requestQueue.send(v)];case 1:return b=xe.sent(),y=b.as(XI),S=y.url,R=y.fileSize,V=R===void 0?c.fileSize:R,q=y.thumbnailSizes,ne=q===void 0?c.thumbnailSizes:q,Z=y.requireAuth,se=Z!==void 0&&Z,c.fileName=(d=c.fileName)!==null&&d!==void 0?d:c.file.name,c.mimeType=(p=c.mimeType)!==null&&p!==void 0?p:c.file.type,c.fileSize=(_=c.fileSize)!==null&&_!==void 0?_:c.file.size,c.fileUrl=S,c.fileSize=V,c.thumbnailSizes=ne,c.requireAuth=se,[2]}})})},s.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams=function(o,i,c){var d,p,_;return X(this,void 0,void 0,function(){var v,b,y,S,R,V,q,ne,Z,se,xe,Ce;return Y(this,function(Le){switch(Le.label){case 0:return v=i.multipleFileUploadInfo.uploadIndex,b=c.fileInfoList[v],y=new YI({file:b.file,channelUrl:o.url,thumbnailSizes:b.thumbnailSizes,requestId:i.requestId}),[4,this._requestQueue.send(y)];case 1:return S=Le.sent(),R=S.as(XI),V=R.url,q=R.fileSize,ne=q===void 0?b.fileSize:q,Z=R.thumbnailSizes,se=Z===void 0?b.thumbnailSizes:Z,xe=R.requireAuth,Ce=xe!==void 0&&xe,b.fileName=(d=b.fileName)!==null&&d!==void 0?d:b.file.name,b.mimeType=(p=b.mimeType)!==null&&p!==void 0?p:b.file.type,b.fileSize=(_=b.fileSize)!==null&&_!==void 0?_:b.file.size,b.file=void 0,b.fileUrl=V,b.fileSize=ne,b.thumbnailSizes=se,b._uploadedMetaData=Me(Me({},b._uploadedMetaData),{requireAuth:Ce,isUploaded:!0}),[2]}})})},s.prototype.request=function(o,i,c,d){return X(this,void 0,void 0,function(){var p,_,v,b,y;return Y(this,function(S){return this._queueMap.has(o.url)||(p={messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1},this._queueMap.set(o.url,p)),_=this._queueMap.get(o.url),v=new Ba,b={requestId:i,params:c,state:yi.PENDING,deferred:v},function(R){return"fileInfoList"in R}(c)&&(y={uploadIndex:0,uploadCount:c.fileInfoList.length,requestHandler:d},b.multipleFileUploadInfo=y),_.messageQueue.push(b),this._uploadNextPendingItem(o),[2,v.promise]})})},s.prototype.cancel=function(o,i){var c,d,p=this._queueMap.get(o.url);if(p){var _=i?[p.messageQueue.find(function(S){return S.requestId===i})]:Kt([],Mt(p.messageQueue),!1);try{for(var v=gt(_),b=v.next();!b.done;b=v.next()){var y=b.value;if(y)switch(y.state){case yi.PENDING:y.state=yi.FAILED,y.error=Ke.requestCanceled,this._resolveMessageQueue(o);break;case yi.UPLOADING:this._requestQueue.cancel(y.requestId)}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(d=v.return)&&d.call(v)}finally{if(c)throw c.error}}}},s}(),Jp={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ys.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,replyType:Es.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},sA=function(s){return $e("number",s.prevResultSize)&&$e("number",s.nextResultSize)&&$e("boolean",s.isInclusive)&&$e("boolean",s.reverse)&&$e("string",s.messageTypeFilter)&&Nr(ys,s.messageTypeFilter)&&nr("string",s.customTypesFilter,!0)&&nr("string",s.senderUserIdsFilter,!0)&&Nr(Es,s.replyType)&&$e("boolean",s.includeMetaArray)&&$e("boolean",s.includeReactions)&&$e("boolean",s.includeParentMessageInfo)&&$e("boolean",s.includeThreadInfo)&&$e("boolean",s.showSubchannelMessagesOnly)},n3={replyType:Es.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},oA=function(s){return Nr(Es,s.replyType)&&$e("boolean",s.includeReactions)&&$e("boolean",s.includeMetaArray)&&$e("boolean",s.includeParentMessageInfo)&&$e("boolean",s.includeThreadInfo)},NJ=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.includeMetaArray,v=i.includeReactions,b=i.includeThreadInfo,y=i.includeParentMessageInfo,S=s.call(this)||this;return S.method=An.GET,S.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages/").concat(encodeURIComponent(p)),S.params={is_sdk:!0,with_sorted_meta_array:_,include_reactions:v,include_thread_info:b,include_parent_message_info:y,include_poll_details:!0},S}return me(o,s),o}(Rn),IJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.message=c?$l(i,Me({},c)):null,d}return me(o,s),o}(Pn),Tv=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=i.token,v=i.prevResultSize,b=i.nextResultSize,y=i.isInclusive,S=i.reverse,R=i.messageTypeFilter,V=i.customTypesFilter,q=i.senderUserIdsFilter,ne=i.replyType,Z=i.includeMetaArray,se=i.includeReactions,xe=i.parentMessageId,Ce=i.includeThreadInfo,Le=i.includeParentMessageInfo,Fe=i.showSubchannelMessagesOnly,ye=i.checkingContinuousMessages,be=s.call(this)||this;return be.method=An.GET,be.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages"),be.params=at(pt({is_sdk:!0,prev_limit:v,next_limit:b,include:y,reverse:S,message_ts:p,message_id:_,message_type:R??null,custom_types:V,sender_ids:q,include_reply_type:ne,with_sorted_meta_array:Z,include_reactions:se,parent_message_id:xe,include_thread_info:Ce,include_parent_message_info:Le,show_subchannel_message_only:Fe,include_poll_details:!0,checking_continuous_messages:ye})),be}return me(o,s),o}(Rn),kv=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.messages=c.messages.map(function(p){return $l(i,p)}),d}return me(o,s),o}(Pn),AJ=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=i.token,v=i.replyType,b=i.includeMetaArray,y=i.includeReactions,S=i.includeThreadInfo,R=i.includeParentMessageInfo,V=s.call(this)||this;return V.method=An.GET,V.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages/changelogs"),V.params={change_ts:p,token:_,with_sorted_meta_array:b,include_reactions:y,include_thread_info:S,include_reply_type:v,include_parent_message_info:R,include_poll_details:!0},V}return me(o,s),o}(Rn),OJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.updatedMessages=c.updated.map(function(p){return $l(i,p)}),d.deletedMessagesInfo=c.deleted.map(function(p){return{messageId:p.message_id,deletedAt:p.deleted_at}}),d.hasMore=c.has_more,d.nextToken=c.next,d}return me(o,s),o}(Pn),RJ=function(s){function o(i){var c=i.channelUrl,d=i.scheduledMessageId,p=s.call(this)||this;return p.method=An.GET,p.path="".concat(HN,"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(d)),p.params={},p}return me(o,s),o}(Rn),MJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.message=c?$l(i,Me({},c)):null,d}return me(o,s),o}(Pn);(function(s){s.MUTED="muted",s.BANNED="banned"})(e3||(e3={}));var id,lA=function(){function s(o){var i,c,d,p;this.restrictionType=null,Nr(e3,o.restriction_type)&&(this.restrictionType=o.restriction_type),this.description=(i=o.description)!==null&&i!==void 0?i:null,this.endAt=(d=(c=o.end_at)!==null&&c!==void 0?c:o.muted_end_at)!==null&&d!==void 0?d:-1,this.remainingDuration=(p=o.remaining_duration)!==null&&p!==void 0?p:-1}return s.payloadify=function(o){return at(pt({restriction_type:o.restrictionType,description:o.description,end_at:o.endAt,remaining_duration:o.remainingDuration}))},s}(),Gh=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.restrictionInfo=new lA(c),d}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),lA.payloadify(i.restrictionInfo))))},o}(Ut),DJ=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this).isMuted=!1,p.isMuted=(d=c.is_muted)!==null&&d!==void 0&&d,p}return me(o,s),o}(Ut),Cv=function(){function s(){this._onPending=Rt,this._onFailed=Rt,this._onSucceeded=Rt}return s.prototype._trigger=function(o){switch(o==null?void 0:o.sendingStatus){case Br.PENDING:o.errorCode===0&&this._onPending(o);break;case Br.SCHEDULED:case Br.SUCCEEDED:this._onSucceeded(o)}},s.prototype._triggerFailed=function(o,i){switch(i==null?void 0:i.sendingStatus){case Br.FAILED:case Br.CANCELED:this._onFailed(o,i.scheduledInfo?null:i)}},s.prototype.onPending=function(o){return this._onPending=o,this},s.prototype.onFailed=function(o){return this._onFailed=o,this},s.prototype.onSucceeded=function(o){return this._onSucceeded=o,this},s}(),Nv={data:void 0,customType:void 0,mentionType:Sa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1},t3=function(s){return $e("string",s.data,!0)&&$e("string",s.customType,!0)&&Nr(Sa,s.mentionType)&&nr("string",s.mentionedUserIds,!0)&&nr(Ut,s.mentionedUsers,!0)&&$e("string",s.mentionedMessageTemplate,!0)&&nr(ks,s.metaArrays,!0)&&$e("number",s.parentMessageId,!0)&&$e("boolean",s.isReplyToChannel)&&Nr(Fc,s.pushNotificationDeliveryOption,!0)&&$e(tl,s.appleCriticalAlertOptions,!0)&&$e("boolean",s.isPinnedMessage,!0)},cA=function(s){return{isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,pollId:s.pollId}},uA=Me(Me({},Nv),{message:"",translationTargetLanguages:void 0,pollId:void 0});(function(s){s.FILE="file",s.BLOB="blob",s.BLOB_LIKE_OBJECT="blobLikeObject",s.URL="url"})(id||(id={}));var ef,Iv=function(s){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&s instanceof Blob},r3=function(s){return s===id.BLOB||s===id.FILE},dA=function(s){return{file:s.file,fileKey:s.fileKey,fileType:s.fileType,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption}},hA=Me(Me({},Nv),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1}),pA=function(s){return t3(s)&&(is(s.file)||$e("string",s.fileUrl))&&$e("string",s.fileName,!0)&&$e("string",s.mimeType,!0)&&$e("number",s.fileSize,!0)&&(s.thumbnailSizes===null||s.thumbnailSizes===void 0||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every(function(o){return $e("object",o)&&o.maxWidth>0&&o.maxHeight>0}))},fA={data:void 0,customType:void 0,mentionType:Sa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},_A=function(s){return $e("string",s.data,!0)&&$e("string",s.customType,!0)&&Nr(Sa,s.mentionType)&&nr("string",s.mentionedUserIds,!0)&&nr(Ut,s.mentionedUsers,!0)&&$e("string",s.mentionedMessageTemplate,!0)&&nr(ks,s.metaArrays,!0)&&Nr(Fc,s.pushNotificationDeliveryOption,!0)&&$e(tl,s.appleCriticalAlertOptions,!0)},LJ=Me(Me({},fA),{message:void 0,translationTargetLanguages:void 0,pollId:void 0}),UJ=Me({},fA),PJ=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.token,_=i.limit,v=s.call(this)||this;return v.method=An.GET,v.path="".concat(vr(d),"/").concat(encodeURIComponent(c),"/operators"),v.params={token:p,limit:_},v}return me(o,s),o}(Rn),FJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.operators=c.operators.map(function(p){return new Ut(i,p)}),d.token=c.next,d}return me(o,s),o}(Pn),HJ=function(s){function o(i,c,d,p){return s.call(this,i,c,d,p)||this}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:(i=[],this._hasNext?(this._isLoading=!0,c=Je.of(this._iid).requestQueue,d=new PJ(Me(Me({},this),{channelUrl:this.channelUrl,token:this._token})),[4,c.send(d)]):[3,2]):[3,5];case 1:return p=y.sent(),_=p.as(FJ),v=_.operators,b=_.token,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,v];case 2:return[2,i];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),BJ=function(s){function o(i,c,d,p){var _,v,b,y,S,R,V,q,ne,Z,se=this;return(se=s.call(this,i,c,d,p)||this).reverse=!1,se.messageTypeFilter=ys.ALL,se.customTypesFilter=null,se.senderUserIdsFilter=null,se.replyType=Es.NONE,se.includeMetaArray=!1,se.includeReactions=!1,se.includeParentMessageInfo=!1,se.includeThreadInfo=!1,se.showSubchannelMessagesOnly=!1,se._edge=Number.MAX_SAFE_INTEGER,se.reverse=(_=p.reverse)!==null&&_!==void 0&&_,se.messageTypeFilter=(v=p.messageTypeFilter)!==null&&v!==void 0?v:ys.ALL,se.customTypesFilter=(b=p.customTypesFilter)!==null&&b!==void 0?b:null,se.senderUserIdsFilter=(y=p.senderUserIdsFilter)!==null&&y!==void 0?y:null,se.replyType=(S=p.replyType)!==null&&S!==void 0?S:Es.NONE,se.includeMetaArray=(R=p.includeMetaArray)!==null&&R!==void 0&&R,se.includeReactions=(V=p.includeReactions)!==null&&V!==void 0&&V,se.includeParentMessageInfo=(q=p.includeParentMessageInfo)!==null&&q!==void 0&&q,se.includeThreadInfo=(ne=p.includeThreadInfo)!==null&&ne!==void 0&&ne,se.showSubchannelMessagesOnly=(Z=p.showSubchannelMessagesOnly)!==null&&Z!==void 0&&Z,se}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&$e("boolean",this.reverse)&&Nr(ys,this.messageTypeFilter)&&Nr(Es,this.replyType)&&nr("string",this.customTypesFilter,!0)&&nr("string",this.senderUserIdsFilter,!0)&&$e("boolean",this.includeMetaArray)&&$e("boolean",this.includeReactions)&&$e("boolean",this.includeParentMessageInfo)&&$e("boolean",this.includeThreadInfo)&&$e("boolean",this.showSubchannelMessagesOnly)},o.prototype.load=function(){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,ra.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,pt({prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly}))]):[3,2]:[3,5];case 1:return i=c.sent(),this._edge=Math.min.apply(Math,Kt([Number.MAX_SAFE_INTEGER],Mt(i.map(function(d){return d.createdAt})),!1)),this._hasNext=i.length>=this.limit,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),VJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.limit,v=i.token;return(c=s.call(this)||this).method=An.GET,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/mute"),c.params={limit:_,token:v},c}return me(o,s),o}(Rn),zJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;d.mutedUsers=[];var p=c.next,_=c.muted_list;return d.token=p,_&&_.length>0&&(d.mutedUsers=_.map(function(v){return new Gh(i,v)})),d}return me(o,s),o}(Pn),$J=function(s){function o(i,c,d,p){return s.call(this,i,c,d,p)||this}return me(o,s),o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new VJ(Me(Me({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(zJ),_=p.mutedUsers,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),qJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.limit,v=i.token;return(c=s.call(this)||this).method=An.GET,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/ban"),c.params=at({limit:_,token:v}),c}return me(o,s),o}(Rn),GJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;d.bannedUsers=[];var p=c.next,_=c.banned_list;return d.token=p,_&&_.length>0&&(d.bannedUsers=_.map(function(v){return new Gh(i,v.user)})),d}return me(o,s),o}(Pn),jJ=function(s){function o(i,c,d,p){return s.call(this,i,c,d,p)||this}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new qJ(Me(Me({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(GJ),_=p.bannedUsers,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td);(function(s){s.SPAM="spam",s.HARASSING="harassing",s.SUSPICIOUS="suspicious",s.INAPPROPRIATE="inappropriate"})(ef||(ef={}));var KJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(c=s.call(this)||this).method=An.POST,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/operators"),c.params={operator_ids:_},c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var WJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/operators"),c.params={operator_ids:_},c}return me(o,s),o}(Rn);(function(s){me(function(o,i){return s.call(this,o,i)||this},s)})(Pn);var QJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=An.GET,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/mute/").concat(_),c}return me(o,s),o}(Rn),YJ=function(s){function o(i,c){var d=s.call(this,i,c)||this;d.isMuted=!1,d.startAt=0,d.endAt=0;var p=c.is_muted,_=c.start_at,v=c.end_at,b=c.remaining_duration,y=c.description;return d.isMuted=p,d.startAt=_,d.endAt=v,d.remainingDuration=b,d.description=y,d}return me(o,s),o}(Pn),mA=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.keys;return(c=s.call(this)||this).method=An.GET,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={keys:_,include_ts:!0},c}return me(o,s),o}(Rn),vA=function(s){function o(i,c){var d=s.call(this,i,c)||this,p=c.metadata,_=c.ts;return d.metadata=p,d.ts=_,d}return me(o,s),o}(Pn),XJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metadata;return(c=s.call(this)||this).method=An.POST,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={metadata:_,include_ts:!0},c}return me(o,s),o}(Rn),ZJ=function(s){function o(i,c){var d,p,_=this;return(_=s.call(this,i,c)||this).metaData=(d=c.metadata)!==null&&d!==void 0?d:{},_.ts=(p=c.ts)!==null&&p!==void 0?p:null,_}return me(o,s),o}(Pn),JJ=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metadata,v=i.upsert;return(c=s.call(this)||this).method=An.PUT,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={metadata:_,include_ts:!0,upsert:v!=null&&v},c}return me(o,s),o}(Rn),eee=function(s){function o(i,c){var d=s.call(this,i,c)||this,p=c.metadata,_=c.ts;return d.metadata=p,d.ts=_,d}return me(o,s),o}(Pn),nee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return d.data&&(p.created=d.data.created,p.updated=d.data.updated,p.deleted=d.data.deleted),p}return me(o,s),o}($r),tee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.key;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metadata/").concat(_),c.params={include_ts:!0},c}return me(o,s),o}(Rn),ree=function(s){function o(i,c){var d=s.call(this,i,c)||this,p=c.ts;return d.ts=p,d}return me(o,s),o}(Pn),iee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={include_ts:!0},c}return me(o,s),o}(Rn),aee=function(s){function o(i,c){var d=s.call(this,i,c)||this,p=c.ts;return d.ts=p,d}return me(o,s),o}(Pn),gA=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.keys;return(c=s.call(this)||this).method=An.GET,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={keys:_},c}return me(o,s),o}(Rn),bA=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return me(o,s),o}(Pn),see=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metaCounter;return(c=s.call(this)||this).method=An.POST,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={metacounter:_},c}return me(o,s),o}(Rn),oee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return me(o,s),o}(Pn),i3=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metaCounter,v=i.upsert,b=v!==void 0&&v,y=i.mode,S=y===void 0?"set":y;return(c=s.call(this)||this).method=An.PUT,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={metacounter:_,upsert:b,mode:S},c}return me(o,s),o}(Rn),a3=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return me(o,s),o}(Pn),lee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return d.data&&(p.created=d.data.created,p.updated=d.data.updated,p.deleted=d.data.deleted),p}return me(o,s),o}($r),cee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.key;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metacounter/").concat(_),c.params={},c}return me(o,s),o}(Rn);(function(s){me(function(o,i){return s.call(this,o,i)||this},s)})(Pn);var uee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={},c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var dee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId,v=i.seconds,b=i.description;return(c=s.call(this)||this).method=An.POST,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/mute"),c.params={user_id:_,seconds:v,description:b},c}return me(o,s),o}(Rn);(function(s){me(function(o,i){return s.call(this,o,i)||this},s)})(Pn);var hee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Gh(i,d.data),p}return me(o,s),o}($r),pee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/mute/").concat(encodeURIComponent(_)),c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var fee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Gh(i,d.data),p}return me(o,s),o}($r),_ee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId,v=i.seconds,b=i.description;return(c=s.call(this)||this).method=An.POST,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/ban"),c.params=at({user_id:_,seconds:v,description:b}),c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var mee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Gh(i,d.data),d.data.member_count&&(p.memberCount=d.data.member_count),d.data.joined_member_count&&(p.joinedMemberCount=d.data.joined_member_count),p}return me(o,s),o}($r),vee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/ban/").concat(encodeURIComponent(_)),c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var gee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Gh(i,d.data),p}return me(o,s),o}($r),yA=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.freezing;return(c=s.call(this)||this).method=An.PUT,c.path="".concat(vr(p),"/").concat(encodeURIComponent(d),"/freeze"),c.params={freeze:_},c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var bee=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.freeze=d.data.freeze,p}return me(o,s),o}($r),yee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,v=i.userId,b=i.description;return(c=s.call(this)||this).method=An.POST,c.path="".concat(VN(p),"/").concat(encodeURIComponent(d)),c.params={report_category:_,reporting_user_id:v,report_description:b},c}return me(o,s),o}(Rn),Eee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,v=i.userId,b=i.offendingUserId,y=i.description;return(c=s.call(this)||this).method=An.POST,c.path="".concat(mE,"/users/").concat(b),c.params={channel_url:d,channel_type:p===or.OPEN?"open_channels":"group_channels",report_category:_,reporting_user_id:v,report_description:y},c}return me(o,s),o}(Rn),wee=function(s){function o(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,v=i.userId,b=i.offendingUserId,y=i.messageId,S=i.description;return(c=s.call(this)||this).method=An.POST,c.path="".concat(VN(p),"/").concat(encodeURIComponent(d),"/messages/").concat(y),c.params={report_category:_,reporting_user_id:v,report_description:S,offending_user_id:b},c}return me(o,s),o}(Rn),xee=function(s){function o(i){var c=[];return i.mentionType===Sa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(d){return d.userId}))),s.call(this,{code:"MESG",ackRequired:!0,payload:at(pt({channel_url:i.channelUrl,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Fc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId?i.parentMessageId:null,req_id:i.reqId,poll_id:i.pollId,pin_message:i.isPinnedMessage}))})||this}return me(o,s),o}(Ws),EA=function(s){function o(i,c,d){var p,_,v,b,y=this;(y=s.call(this,i,"MESG",d)||this).message=new Va(i,d);var S=Je.of(i).sdkState;return y.isMentioned=Lh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(R){return R.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=d.force_update_last_message)!==null&&b!==void 0&&b,y}return me(o,s),o}($r),wA=function(s){function o(i){var c=null;return i.mentionType===Sa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(d){return d.userId}))),s.call(this,{code:"MEDI",ackRequired:!0,payload:at(pt({channel_url:i.channelUrl,msg_id:i.messageId,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,poll_id:i.pollId}))})||this}return me(o,s),o}(Ws),s3=function(s){function o(i,c,d){var p,_,v,b,y,S=this;(S=s.call(this,i,"MEDI",d)||this).message=new Va(i,d);var R=Je.of(i).sdkState;return S.mentionCountChange=vE({mentionType:(p=d.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(_=d.old_values)===null||_===void 0?void 0:_.mentioned_user_ids)!==null&&v!==void 0?v:[]},pt({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),R.userId),S}return me(o,s),o}($r),xA=function(s){function o(i){var c=null;return i.mentionType===Sa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(d){return d.userId}))),s.call(this,{code:"FEDI",ackRequired:!0,payload:at(pt({channel_url:i.channelUrl,msg_id:i.messageId,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,apple_critical_alert_options:i.appleCriticalAlertOptions}))})||this}return me(o,s),o}(Ws),o3=function(s){function o(i,c,d){var p,_,v,b,y,S=this;(S=s.call(this,i,"FEDI",d)||this).message=new Ei(i,d);var R=Je.of(i).sdkState;return S.mentionCountChange=vE({mentionType:(p=d.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(_=d.old_values)===null||_===void 0?void 0:_.mentioned_user_ids)!==null&&v!==void 0?v:[]},pt({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),R.userId),S}return me(o,s),o}($r),See=function(s){function o(i){var c=s.call(this)||this;return c.method=An.DELETE,c.path="".concat(vr(i.channelType),"/").concat(i.channelUrl,"/messages/").concat(i.messageId),c}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var Tee=function(s){function o(i,c,d){var p=s.call(this,i,"DELM",d)||this;return p.channelUrl=d.channel_url,p.channelType=d.channel_type,p.messageId=Number(d.msg_id),p}return me(o,s),o}($r),kee=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.reactionKey,v=s.call(this)||this;return v.method=An.POST,v.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages/").concat(p,"/reactions"),v.params={reaction:_},v}return me(o,s),o}(Rn),Cee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.reactionEvent=new JE(c),d}return me(o,s),o}(Pn),Nee=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.reactionKey,v=s.call(this)||this;return v.method=An.DELETE,v.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages/").concat(p,"/reactions"),v.params={reaction:_},v}return me(o,s),o}(Rn),Iee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.reactionEvent=new JE(Me({},c)),d}return me(o,s),o}(Pn),Aee=function(s){function o(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.translationTargetLanguages,v=s.call(this)||this;return v.method=An.POST,v.path="".concat(vr(c),"/").concat(encodeURIComponent(d),"/messages/").concat(encodeURIComponent(p),"/translation"),v.params={target_langs:_},v}return me(o,s),o}(Rn),Oee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.message=new Va(i,c),d}return me(o,s),o}(Pn),Ree=function(s){function o(i){var c,d=this;d=s.call(this)||this;var p=[];i.mentionType===Sa.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,v=i.channelUrl;return d.method=An.POST,d.path="".concat(vr(_),"/").concat(encodeURIComponent(v),"/scheduled_messages"),d.params=at(pt({req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:tv.USER,message:i.message,custom_type:i.customType,data:i.data,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return ks.payloadify(b)}),apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption})),d}return me(o,s),o}(Rn),Mee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.message=new Va(i,c),d}return me(o,s),o}(Pn),Dee=function(s){function o(i){var c,d=this;d=s.call(this)||this;var p=[];i.mentionType===Sa.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,v=i.channelUrl;return d.method=An.POST,d.path="".concat(vr(_),"/").concat(encodeURIComponent(v),"/scheduled_messages"),d.params=pt({req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:tv.FILE,url:i.fileUrl,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(b){return Yp.payloadify(b)}):[],custom_type:i.customType,data:i.data,require_auth:i.requireAuth,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return ks.payloadify(b)}),apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,push_option:i.pushNotificationDeliveryOption}),d}return me(o,s),o}(Rn),Lee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.message=new Ei(i,c),d}return me(o,s),o}(Pn),Uee=function(s){function o(i){var c=i.pollId,d=i.title,p=i.data,_=i.allowUserSuggestion,v=i.allowMultipleVotes,b=i.closeAt,y=s.call(this)||this;return y.method=An.PUT,y.path="".concat(So,"/").concat(encodeURIComponent(c)),y.params={title:d,data:p,allow_user_suggestion:_,allow_multiple_votes:v,close_at:b},y}return me(o,s),o}(Rn),Pee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),Fee=function(s){function o(i){var c=i.pollId,d=s.call(this)||this;return d.method=An.DELETE,d.path="".concat(So,"/").concat(encodeURIComponent(c)),d}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var Hee=function(s){function o(i){var c=i.pollId,d=s.call(this)||this;return d.method=An.PUT,d.path="".concat(So,"/").concat(encodeURIComponent(c),"/close"),d}return me(o,s),o}(Rn),Bee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),Vee=function(s){function o(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.optionText,v=s.call(this)||this;return v.method=An.POST,v.path="".concat(So,"/").concat(encodeURIComponent(p),"/options"),v.params={channel_url:c,channel_type:d,text:_},v}return me(o,s),o}(Rn),zee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),$ee=function(s){function o(i){var c=i.pollId,d=i.pollOptionId,p=i.optionText,_=s.call(this)||this;return _.method=An.PUT,_.path="".concat(So,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(d)),_.params={text:p},_}return me(o,s),o}(Rn),qee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.poll=new Ys(i,c),d}return me(o,s),o}(Pn),Gee=function(s){function o(i){var c=i.pollId,d=i.pollOptionId,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(So,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(d)),p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var kr,jee=function(s){function o(i){var c=i.reqId,d=i.channelType,p=i.channelUrl,_=i.pollId,v=i.pollOptionIds;return s.call(this,{code:"VOTE",ackRequired:!0,payload:at({req_id:c,channel_type:d===or.OPEN?"open_channels":"group_channels",channel_url:p,poll_id:_,option_ids:v})})||this}return me(o,s),o}(Ws),SA=function(s){function o(i,c,d){var p=s.call(this,i,"VOTE",d)||this;return p.event=new lJ(d),p.channelUrl=d.channel_url,p.channelType=d.channel_type,p}return me(o,s),o}($r),TA="Message",Kee=Me(Me({},Nv),{fileInfoList:[]}),Wee=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i._onFileUploaded=Rt,i}return me(o,s),o.prototype._triggerOnFileUploaded=function(i,c,d,p){this._onFileUploaded(i,c,d,p)},o.prototype.onFileUploaded=function(i){return this._onFileUploaded=i,this},o.prototype.onPending=function(i){return s.prototype.onPending.call(this,i),this},o.prototype.onFailed=function(i){return s.prototype.onFailed.call(this,i),this},o.prototype.onSucceeded=function(i){return s.prototype.onSucceeded.call(this,i),this},o}(Cv),kA=function(s){function o(i,c){var d,p,_,v,b,y,S=this;return(S=s.call(this,i)||this)._name="",S._createdAt=0,S.channelType=or.BASE,S.coverUrl="",S.customType="",S.data="",S.isFrozen=!1,S.isEphemeral=!1,S.creator=null,S._messageCollectionLastAccessedAt=0,S._url=c.channel_url,S._name=(d=c.name)!==null&&d!==void 0?d:"",S._createdAt=1e3*c.created_at,S.coverUrl=(p=c.cover_url)!==null&&p!==void 0?p:"",S.customType=(_=c.custom_type)!==null&&_!==void 0?_:"",S.data=(v=c.data)!==null&&v!==void 0?v:"",S.isFrozen=(b=c.freeze)!==null&&b!==void 0&&b,S.isEphemeral=(y=c.is_ephemeral)!==null&&y!==void 0&&y,S.creator=c.created_by?new Ut(S._iid,c.created_by):null,c.metadata&&Object.keys(c.metadata).length>0&&c.ts&&(S._cachedMetaData=new Map,Object.keys(c.metadata).forEach(function(R){S._cachedMetaData.set(R,{value:c.metadata[R],isRemoved:!1,updatedAt:c.ts})})),S}return me(o,s),Object.defineProperty(o.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(i){this._name=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"createdAt",{get:function(){return this._createdAt},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return Me(Me({},this),{url:this._url,name:this._name,createdAt:this._createdAt})},o.payloadify=function(i){return at(pt(Me(Me({},s.payloadify.call(this,i)),{channel_url:i.url,name:i.name,cover_url:i.coverUrl,custom_type:i.customType,data:i.data,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,created_by:i.creator?Ut.payloadify(i.creator):null,created_at:i.createdAt/1e3})))},o.prototype.isGroupChannel=function(){return this.channelType===or.GROUP},o.prototype.isOpenChannel=function(){return this.channelType===or.OPEN},o.prototype.isFeedChannel=function(){return this.channelType===or.FEED},Object.defineProperty(o.prototype,"cachedMetaData",{get:function(){var i={};return this._cachedMetaData&&this._cachedMetaData.forEach(function(c,d){c.isRemoved||(i[d]=c.value)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),o.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},o.prototype._update=function(i){var c=at(i);Object.assign(this,c)},o.prototype._upsertCachedMetaData=function(i,c){var d=this;Object.keys(i).forEach(function(p){d._cachedMetaData||(d._cachedMetaData=new Map);var _=d._cachedMetaData.get(p);(!_||_.updatedAt<=c)&&d._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:c})})},o.prototype._updateCachedMetaData=function(i,c){var d=this;this._cachedMetaData?this._cachedMetaData.forEach(function(p,_){var v;p.updatedAt<=c&&d._cachedMetaData.set(_,{value:(v=i[_])!==null&&v!==void 0?v:p.value,isRemoved:!i[_],updatedAt:c})}):(this._cachedMetaData=new Map,Object.keys(i).forEach(function(p){d._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:c})}))},o.prototype._removeFromCachedMetaData=function(i,c){var d=this;this._cachedMetaData&&i.forEach(function(p){var _=d._cachedMetaData.get(p);_&&_.updatedAt<c&&(_.isRemoved=!0,_.updatedAt=c)})},o.prototype._runIfHandleableWithGroupChannel=function(i){this.isGroupChannel()?i(this):this.isFeedChannel()&&i(this.groupChannel)},o.prototype._generateRequestId=function(){return"rq-".concat(Mh())},o.prototype.isIdentical=function(i){return i&&this.url===i.url},o.prototype.isEqual=function(i){return RN(this,i)},o.prototype.createOperatorListQuery=function(i){return i===void 0&&(i={}),new HJ(this._iid,this.url,this.channelType,i)},o.prototype.createMutedUserListQuery=function(i){return i===void 0&&(i={}),new $J(this._iid,this.url,this.channelType,i)},o.prototype.createBannedUserListQuery=function(i){return i===void 0&&(i={}),new jJ(this._iid,this.url,this.channelType,i)},o.prototype.createPreviousMessageListQuery=function(i){return i===void 0&&(i={}),new BJ(this._iid,this.url,this.channelType,i)},o.prototype.addOperators=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn(nr("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new KJ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},o.prototype.removeOperators=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn(nr("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new WJ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},o.prototype.getMyMutedInfo=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S,R,V;return Y(this,function(q){switch(q.label){case 0:return i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new QJ({channelUrl:this.url,channelType:this.channelType,userId:c.userId}),[4,d.send(p)];case 1:return _=q.sent(),v=_.as(YJ),b=v.isMuted,y=v.startAt,S=v.endAt,R=v.remainingDuration,V=v.description,[2,{isMuted:b,startAt:y,endAt:S,remainingDuration:R,description:V}]}})})},o.prototype.getMetaData=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return Mn(nr("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new mA({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(d)];case 1:return p=y.sent(),_=p.as(vA),v=_.metadata,b=_.ts,this._upsertCachedMetaData(v,b),[2,v]}})})},o.prototype.getAllMetaData=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return i=Je.of(this._iid).requestQueue,c=new mA({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(vA),_=p.metadata,v=p.ts,this._updateCachedMetaData(_,v),[2,_]}})})},o.prototype.createMetaData=function(i){return X(this,void 0,void 0,function(){var c,d,p,_;return Y(this,function(v){switch(v.label){case 0:return c=Je.of(this._iid).requestQueue,d=new XJ({channelUrl:this.url,channelType:this.channelType,metadata:i}),[4,c.send(d)];case 1:return p=v.sent(),_=p.as(ZJ).metaData,this._upsertCachedMetaData(_,0),[2,_]}})})},o.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),X(this,void 0,void 0,function(){var d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return d=Je.of(this._iid).requestQueue,p=new JJ({channelUrl:this.url,channelType:this.channelType,metadata:i,upsert:c}),[4,d.send(p)];case 1:return _=S.sent(),v=_.as(eee),b=v.metadata,y=v.ts,this._upsertCachedMetaData(b,y),[2,b]}})})},o.prototype.deleteMetaData=function(i){return X(this,void 0,void 0,function(){var c,d,p,_;return Y(this,function(v){switch(v.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new tee({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(d)];case 1:return p=v.sent(),_=p.as(ree).ts,this._removeFromCachedMetaData([i],_),[2]}})})},o.prototype.deleteAllMetaData=function(){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return i=Je.of(this._iid).requestQueue,c=new iee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return d=_.sent(),p=d.as(aee).ts,this._removeFromCachedMetaData(Kt([],Mt(this._cachedMetaData.keys()),!1),p),[2]}})})},o.prototype.getMetaCounters=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn(nr("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new gA({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(d)];case 1:return[2,p.sent().as(bA).metaCounter]}})})},o.prototype.getAllMetaCounters=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new gA({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return[2,d.sent().as(bA).metaCounter]}})})},o.prototype.createMetaCounters=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return c=Je.of(this._iid).requestQueue,d=new see({channelUrl:this.url,channelType:this.channelType,metaCounter:i}),[4,c.send(d)];case 1:return[2,p.sent().as(oee).metaCounter]}})})},o.prototype.updateMetaCounters=function(i,c){return c===void 0&&(c=!1),X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return d=Je.of(this._iid).requestQueue,p=new i3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:c}),[4,d.send(p)];case 1:return[2,_.sent().as(a3).metaCounter]}})})},o.prototype.increaseMetaCounters=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return c=Je.of(this._iid).requestQueue,d=new i3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"increase"}),[4,c.send(d)];case 1:return[2,p.sent().as(a3).metaCounter]}})})},o.prototype.decreaseMetaCounters=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return c=Je.of(this._iid).requestQueue,d=new i3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"decrease"}),[4,c.send(d)];case 1:return[2,p.sent().as(a3).metaCounter]}})})},o.prototype.deleteMetaCounter=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new cee({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},o.prototype.deleteAllMetaCounters=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new uee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return d.sent(),[2]}})})},o.prototype.muteUser=function(i,c,d){return X(this,void 0,void 0,function(){return Y(this,function(p){return[2,this.muteUserWithUserId(i.userId,c,d)]})})},o.prototype.muteUserWithUserId=function(i,c,d){return X(this,void 0,void 0,function(){var p,_;return Y(this,function(v){switch(v.label){case 0:return Mn($e("string",i)&&$e("number",c,!0)&&$e("string",d,!0)).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new dee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:d}),[4,p.send(_)];case 1:return v.sent(),[2]}})})},o.prototype.unmuteUser=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this.unmuteUserWithUserId(i.userId)]})})},o.prototype.unmuteUserWithUserId=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new pee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},o.prototype.banUser=function(i,c,d){return X(this,void 0,void 0,function(){return Y(this,function(p){return[2,this.banUserWithUserId(i.userId,c,d)]})})},o.prototype.banUserWithUserId=function(i,c,d){return X(this,void 0,void 0,function(){var p,_;return Y(this,function(v){switch(v.label){case 0:return Mn($e("string",i)&&$e("number",c,!0)&&$e("string",d,!0)).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new _ee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:d}),[4,p.send(_)];case 1:return v.sent(),[2]}})})},o.prototype.unbanUser=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this.unbanUserWithUserId(i.userId)]})})},o.prototype.unbanUserWithUserId=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),c=Je.of(this._iid).requestQueue,d=new vee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},o.prototype.freeze=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new yA({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,i.send(c)];case 1:return d.sent(),this.isFrozen=!0,[2]}})})},o.prototype.unfreeze=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new yA({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,i.send(c)];case 1:return d.sent(),this.isFrozen=!1,[2]}})})},o.prototype.getMessagesByMessageId=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Jp),c),Mn($e("number",i)&&sA(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getMessagesByMessageId(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},o.prototype.getMessagesByTimestamp=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},Jp),c),Mn($e("number",i)&&sA(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},o.prototype.getMessageChangeLogsSinceTimestamp=function(i,c){return c===void 0&&(c={}),X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},n3),c),Mn($e("number",i)&&oA(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},o.prototype.getMessageChangeLogsSinceToken=function(i,c){return c===void 0&&(c={}),X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=Me(Me({},n3),c),Mn($e("string",i)&&oA(d)).throw(Ke.invalidParameters),[4,ra.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},o.prototype._createPendingSendableMessagePayload=function(i,c,d){var p,_=Je.of(this._iid).sessionManager;return at(pt({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,sorted_metaarray:i.metaArrays?i.metaArrays.map(function(v){return ks.payloadify(v)}):null,apple_critical_alert_options:i.appleCriticalAlertOptions?tl.payloadify(i.appleCriticalAlertOptions):null,created_at:d,user:_.currentUser?qh.payloadify(_.currentUser):null,req_id:c,request_state:Br.PENDING,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(p=i.mentionedUsers)===null||p===void 0?void 0:p.map(function(v){return Ut.payloadify(v)})}))},o.prototype._createPendingUserMessage=function(i,c,d){var p,_,v={};if(i.translationTargetLanguages)try{for(var b=gt(i.translationTargetLanguages),y=b.next();!y.done;y=b.next())v[y.value]=""}catch(V){p={error:V}}finally{try{y&&!y.done&&(_=b.return)&&_.call(b)}finally{if(p)throw p.error}}var S=at(Me(Me({},this._createPendingSendableMessagePayload(i,c,d)),{type:Qr.USER,message:i.message,translations:v})),R=new Va(this._iid,S);return R.messageParams=i,R},o.prototype._createPendingScheduledUserMessage=function(i,c,d){var p=this._createPendingUserMessage(i,c,d);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},o.prototype._createPendingFileMessage=function(i,c,d){var p,_,v,b,y,S,R=at(Me(Me({},this._createPendingSendableMessagePayload(i,c,d)),{type:Qr.FILE,url:i.fileUrl,file:{name:(p=i.fileName)!==null&&p!==void 0?p:(_=i.file)===null||_===void 0?void 0:_.name,size:(v=i.fileSize)!==null&&v!==void 0?v:(b=i.file)===null||b===void 0?void 0:b.size,type:(y=i.mimeType)!==null&&y!==void 0?y:(S=i.file)===null||S===void 0?void 0:S.type,data:i.data},thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(q){return{url:"",width:q.maxWidth,height:q.maxHeight}}):[]})),V=new Ei(this._iid,R);return V.messageParams=i,V},o.prototype._createPendingMultipleFilesMessage=function(i,c,d){var p=at(Me(Me({},this._createPendingSendableMessagePayload(i,c,d)),{type:Qr.FILE})),_=new Xs(this._iid,p);return _.messageParams=i,_},o.prototype._createPendingScheduledFileMessage=function(i,c,d){var p=this._createPendingFileMessage(i,c,d);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},o.prototype._markMessageAsFailed=function(i,c,d){d===void 0&&(d=!1),i.errorCode=c.code,c.code===ht.REQUEST_CANCELED||c.code===ht.FILE_UPLOAD_CANCEL_FAILED?i.sendingStatus=Br.CANCELED:d||(i.sendingStatus=Br.FAILED)},o.prototype.sendUserMessage=function(i){var c=Me(Me({},uA),i);return Mn(function(d){return t3(d)&&$e("string",d.message)&&nr("string",d.translationTargetLanguages,!0)&&$e("number",d.pollId,!0)}(c)).throw(Ke.invalidParameters),this._sendUserMessage(c)},o.prototype._sendUserMessage=function(i,c,d){var p=this;d===void 0&&(d=!1);var _=Je.of(this._iid),v=_.dispatcher,b=_.requestQueue,y=c??this._generateRequestId(),S=Date.now(),R=new Cv;return y||(y=this._generateRequestId()),Qs(2).then(function(){var V=p._createPendingUserMessage(i,y,S);v.dispatch(new Ui({messages:[V],source:d?Tr.LOCAL_MESSAGE_RESEND_STARTED:Tr.EVENT_MESSAGE_SENT_PENDING})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(ne){return[2,R._trigger(V)]})})});var q=new xee(Me(Me({},i),{channelUrl:p.url,channelType:p.channelType,reqId:y}));b.send(q).then(function(ne){var Z=ne.as(EA).message;v.dispatch(new Ui({messages:[Z],source:Tr.EVENT_MESSAGE_SENT_SUCCESS})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(se){return[2,R._trigger(Z)]})})})}).catch(function(ne){if(Pc(ne))throw ne;Qs(2).then(function(){var Z=p._createPendingUserMessage(i,y,S),se=Je.of(p._iid).cacheContext.localCacheEnabled&&ev(ne.code);p._markMessageAsFailed(Z,ne,se),v.dispatch(new Ui({messages:[Z],source:Z.sendingStatus===Br.PENDING?Tr.REQUEST_RESEND_MESSAGE:Tr.EVENT_MESSAGE_SENT_FAILED})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(xe){return[2,R._triggerFailed(ne,Z)]})})})})})}),R},o.prototype._autoResendUserMessage=function(i){return Mn(i instanceof Va&&!!i.messageParams).throw(Ke.invalidParameters),this._sendUserMessage(i.messageParams,i.reqId)},o.prototype.resendUserMessage=function(i){var c;return X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){return Mn(i instanceof Va&&!i.scheduledInfo).throw(Ke.invalidParameters),d=new Ba,p=(c=i.messageParams)!==null&&c!==void 0?c:function(v){var b;return at(pt({data:v.data,customType:v.customType,mentionType:v.mentionType,mentionedUsers:v.mentionedUsers,mentionedUserIds:v.mentionedUserIds,mentionedMessageTemplate:v.mentionedMessageTemplate,metaArrays:v.metaArrays,pollId:(b=v.poll)===null||b===void 0?void 0:b.id,parentMessageId:v.parentMessageId,appleCriticalAlertOptions:v.appleCriticalAlertOptions,message:v.message,translationTargetLanguages:Object.keys(v.translations)}))}(i),this._sendUserMessage(p,i.reqId,!0).onFailed(function(v){return d.reject(v)}).onSucceeded(function(v){return d.resolve(v)}),[2,d.promise]})})},o.prototype.updateUserMessage=function(i,c){return X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:return d=Me(Me({},LJ),c),Mn($e("number",i)&&function(b){return _A(b)&&$e("string",b.message,!0)&&nr("string",b.translationTargetLanguages,!0)&&$e("number",b.pollId,!0)}(d)).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new wA(Me({channelType:this.channelType,channelUrl:this.url,messageId:i},d)),[4,p.send(_)];case 1:return[2,v.sent().as(s3).message]}})})},o.prototype.copyUserMessage=function(i,c){var d,p,_;return X(this,void 0,void 0,function(){var v,b;return Y(this,function(y){return Mn(i instanceof o&&c instanceof Va&&c.sendingStatus===Br.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw(Ke.invalidParameters),Mn(!c.poll).throw(Ke.notSupportedError),v=new Ba,b=(d=c.messageParams)!==null&&d!==void 0?d:pt(Me(Me({},c),{mentionType:c.mentionType,mentionedUserIds:(p=c.mentionedUserIds)!==null&&p!==void 0?p:(_=c.mentionedUsers)===null||_===void 0?void 0:_.map(function(S){return S.userId}),translationTargetLanguages:Object.keys(c.translations),pushNotificationDeliveryOption:Fc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1})),i._sendUserMessage(b).onSucceeded(function(S){v.resolve(S)}).onFailed(function(S){return v.reject(S)}),[2,v.promise]})})},o.prototype.translateUserMessage=function(i,c){return X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(i instanceof Va&&i.messageId>0&&nr("string",c)).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new Aee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,translationTargetLanguages:c}),[4,d.send(p)];case 1:return[2,_.sent().as(Oee).message]}})})},o.prototype._createScheduledUserMessage=function(i,c){var d=this,p=Je.of(this._iid).requestQueue,_=Date.now(),v=this._generateRequestId();Qs(2).then(function(){var y=d._createPendingScheduledUserMessage(i,v,_);Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(S){return[2,c._trigger(y)]})})})});var b=new Ree(Me({reqId:v,channelType:this.channelType,channelUrl:this.url},i));p.send(b).then(function(y){var S=y.as(Mee).message;Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(R){return[2,c._trigger(S)]})})})}).catch(function(y){if(Pc(y))throw y;Qs(2).then(function(){var S=d._createPendingScheduledUserMessage(i,v,_);d._markMessageAsFailed(S,y),Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(R){return[2,c._trigger(S)]})})})})})},o.prototype.sendFileMessage=function(i){var c=Me(Me({},hA),i);return Mn(pA(c)).throw(Ke.invalidParameters),this._sendFileMessage(c)},o.prototype.sendMultipleFilesMessage=function(i){var c,d=Me(Me({},Kee),i),p=Je.of(this._iid);Mn(function(v,b){return b===void 0&&(b=5),t3(v)&&Array.isArray(v.fileInfoList)&&v.fileInfoList.length>=2&&v.fileInfoList.length<=b&&v.fileInfoList.every(function(y){return function(S){return(is(S.file)||$e("string",S.fileUrl))&&$e("string",S.fileName,!0)&&$e("string",S.mimeType,!0)&&$e("number",S.fileSize,!0)&&(S.thumbnailSizes===void 0||Array.isArray(S.thumbnailSizes)&&S.thumbnailSizes.every(function(R){return R.maxWidth>0&&R.maxHeight>0}))}(y)})}(d,(c=p.appInfo)===null||c===void 0?void 0:c.multipleFilesMessageFileCountLimit)).throw(Ke.invalidParameters);var _=!!i.fileInfoList.find(function(v){var b=p.appInfo.uploadSizeLimit;return v.file instanceof Blob&&v.file.size>b||v.fileSize>b});return Mn(!_).throw(Ke.fileSizeLimitExceededError),this._sendMultipleFilesMessage(d)},o.prototype._sendFileMessage=function(i,c,d){var p=this;d===void 0&&(d=!1);var _=Je.of(this._iid).dispatcher,v=ra.of(this._iid).fileMessageQueue,b=c??this._generateRequestId(),y=Date.now(),S=new Cv;return b||(b=this._generateRequestId()),Qs(2).then(function(){var R=p._createPendingFileMessage(i,b,y);_.dispatch(new Ui({messages:[R],source:d?Tr.LOCAL_MESSAGE_RESEND_STARTED:Tr.EVENT_MESSAGE_SENT_PENDING})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(V){return[2,S._trigger(R)]})})}),v.request(p,b,i).then(function(V){_.dispatch(new Ui({messages:[V],source:Tr.EVENT_MESSAGE_SENT_SUCCESS})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(q){return[2,S._trigger(V)]})})})}).catch(function(V){if(Pc(V))throw V;Qs(2).then(function(){var q=p._createPendingFileMessage(i,b,y),ne=Je.of(p._iid).cacheContext.localCacheEnabled&&ev(V.code);p._markMessageAsFailed(q,V,ne),_.dispatch(new Ui({messages:[q],source:q.sendingStatus===Br.PENDING?Tr.REQUEST_RESEND_MESSAGE:V.code===ht.FILE_UPLOAD_CANCEL_FAILED?Tr.LOCAL_MESSAGE_CANCELED:Tr.EVENT_MESSAGE_SENT_FAILED})),Bt(function(){return X(p,void 0,void 0,function(){return Y(this,function(Z){return[2,S._triggerFailed(V,q)]})})})})})}),S},o.prototype._autoResendFileMessage=function(i){Mn(i instanceof Ei&&!!i.messageParams).throw(Ke.invalidParameters);var c=Je.of(this._iid).logger;return c.debug("autoResendFileMessage pending",i),this._sendFileMessage(i.messageParams,i.reqId).onFailed(function(d){c.debug("autoResendFileMessage failed",d)}).onSucceeded(function(d){c.debug("autoResendFileMessage success",d)})},o.prototype._sendMultipleFilesMessage=function(i,c){var d=this,p=Je.of(this._iid).dispatcher,_=ra.of(this._iid).fileMessageQueue,v=c??this._generateRequestId(),b=Date.now(),y=new Wee;return v||(v=this._generateRequestId()),Qs(2).then(function(){var S=d._createPendingMultipleFilesMessage(i,v,b);p.dispatch(new Ui({messages:[S],source:Tr.EVENT_MESSAGE_SENT_PENDING})),Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(R){return[2,y._trigger(S)]})})}),_.request(d,v,i,y).then(function(R){p.dispatch(new Ui({messages:[R],source:Tr.EVENT_MESSAGE_SENT_SUCCESS})),Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(V){return[2,y._trigger(R)]})})})}).catch(function(R){if(Pc(R))throw R;Qs(2).then(function(){var V=d._createPendingMultipleFilesMessage(i,v,b);d._markMessageAsFailed(V,R),p.dispatch(new Ui({messages:[V],source:Tr.EVENT_MESSAGE_SENT_FAILED})),Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(q){return[2,y._triggerFailed(R,V)]})})})})})}),y},o.prototype._createScheduledFileMessage=function(i,c,d,p){var _=this,v=Je.of(this._iid).requestQueue,b=new Dee(Me(Me({reqId:d,channelType:this.channelType,channelUrl:this.url},i),{fileUrl:i.fileUrl,requireAuth:i.requireAuth}));v.send(b).then(function(y){var S=y.as(Lee).message;Bt(function(){return X(_,void 0,void 0,function(){return Y(this,function(R){return[2,c._trigger(S)]})})})}).catch(function(y){if(Pc(y))throw y;Qs(2).then(function(){var S=_._createPendingScheduledFileMessage(i,d,p);_._markMessageAsFailed(S,y),Bt(function(){return X(_,void 0,void 0,function(){return Y(this,function(R){return[2,c._triggerFailed(y,S)]})})})})})},o.prototype.sendFileMessages=function(i){var c,d;Mn(i.every(function(y){return pA(Me(Me({},hA),y))})).throw(Ke.invalidParameters);var p=new Cv;try{for(var _=gt(i),v=_.next();!v.done;v=_.next()){var b=v.value;this.sendFileMessage(b).onPending(function(y){return p._trigger(y)}).onFailed(function(y,S){return p._triggerFailed(y,S)}).onSucceeded(function(y){return p._trigger(y)})}}catch(y){c={error:y}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}return p},o.prototype.resendFileMessage=function(i,c){var d;return X(this,void 0,void 0,function(){var p,_,v;return Y(this,function(b){return p=!!i.url||is(c)||is((d=i.messageParams)===null||d===void 0?void 0:d.file),Mn(i instanceof Ei&&p&&!i.scheduledInfo).throw(Ke.invalidParameters),_=new Ba,v=function(y,S){var R;return y.messageParams?(!y.url&&is(S)&&(y.messageParams.file=S),y.messageParams):at(pt({data:y.data,customType:y.customType,mentionType:y.mentionType,mentionedUsers:y.mentionedUsers,mentionedUserIds:y.mentionedUserIds,metaArrays:y.metaArrays,parentMessageId:y.parentMessageId,appleCriticalAlertOptions:y.appleCriticalAlertOptions,file:S,fileUrl:y.url,fileName:y.name,fileSize:y.size,mimeType:y.type,thumbnailSizes:(R=y.thumbnails)===null||R===void 0?void 0:R.map(function(V){return{maxWidth:V.width,maxHeight:V.height}})}))}(i,c),this._sendFileMessage(v,i.reqId,!0).onFailed(function(y){return _.reject(y)}).onSucceeded(function(y){return _.resolve(y)}),[2,_.promise]})})},o.prototype.updateFileMessage=function(i,c){return X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:return d=Me(Me({},UJ),c),Mn($e("number",i)&&function(b){return _A(b)}(d)).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new xA(Me({channelType:this.channelType,channelUrl:this.url,messageId:i},d)),[4,p.send(_)];case 1:return[2,v.sent().as(o3).message]}})})},o.prototype.cancelUploadingFileMessage=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return Mn($e("string",i)).throw(Ke.invalidParameters),ra.of(this._iid).fileMessageQueue.cancel(this,i),[2,!0]})})},o.prototype.copyFileMessage=function(i,c){var d,p,_;return X(this,void 0,void 0,function(){var v,b;return Y(this,function(y){return Mn(i instanceof o&&c instanceof Ei&&c.sendingStatus===Br.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw(Ke.invalidParameters),v=new Ba,b=pt(Me(Me({},c),{fileUrl:c.url,fileName:c.name,fileSize:c.size,mimeType:c.type,mentionType:c.mentionType,mentionedUserIds:(d=c.mentionedUserIds)!==null&&d!==void 0?d:(p=c.mentionedUsers)===null||p===void 0?void 0:p.map(function(S){return S.userId}),pushNotificationDeliveryOption:Fc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:(_=c.thumbnails)===null||_===void 0?void 0:_.map(function(S){return{maxWidth:S.width,maxHeight:S.height}}),requireAuth:c.requireAuth,isPinnedMessage:!1})),i._sendFileMessage(b).onSucceeded(function(S){return v.resolve(S)}).onFailed(function(S){return v.reject(S)}),[2,v.promise]})})},o.prototype.deleteMessage=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){switch(p.label){case 0:return Mn(i instanceof zl).throw(Ke.invalidParameters),i.messageId>0?(c=Je.of(this._iid).requestQueue,d=new See({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId}),[4,c.send(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},o.prototype.addReaction=function(i,c){return X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(i instanceof zl&&i.messageId>0&&$e("string",c)).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new kee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,d.send(p)];case 1:return[2,_.sent().as(Cee).reactionEvent]}})})},o.prototype.deleteReaction=function(i,c){return X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(i instanceof zl&&i.messageId>0&&$e("string",c)).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new Nee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,d.send(p)];case 1:return[2,_.sent().as(Iee).reactionEvent]}})})},o.prototype._updateUserMessageMetaArray=function(i,c,d,p){return X(this,void 0,void 0,function(){var _,v,b,y,S,R;return Y(this,function(V){switch(V.label){case 0:return _=Je.of(this._iid),v=_.dispatcher,b=_.requestQueue,y=new wA({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:d,upsert:p}}),[4,b.send(y)];case 1:return S=V.sent(),R=S.as(s3).message,v.dispatch(new Ui({messages:[R],source:Tr.EVENT_MESSAGE_UPDATED})),[2,R]}})})},o.prototype._updateFileMessageMetaArray=function(i,c,d,p){return X(this,void 0,void 0,function(){var _,v,b,y,S,R;return Y(this,function(V){switch(V.label){case 0:return _=Je.of(this._iid),v=_.dispatcher,b=_.requestQueue,y=new xA({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:d,upsert:p}}),[4,b.send(y)];case 1:return S=V.sent(),R=S.as(o3).message,v.dispatch(new Ui({messages:[R],source:Tr.EVENT_MESSAGE_UPDATED})),[2,R]}})})},o.prototype.createMessageMetaArrayKeys=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){return Mn(i instanceof zl&&i.messageId>0&&nr("string",c)).throw(Ke.invalidParameters),d=c.map(function(_){return new ks({key:_})}),i instanceof Ei?[2,this._updateFileMessageMetaArray(i.messageId,d,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"add",!0)]})})},o.prototype.deleteMessageMetaArrayKeys=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){return Mn(i instanceof zl&&i.messageId>0&&nr("string",c)).throw(Ke.invalidParameters),d=c.map(function(_){return new ks({key:_})}),i instanceof Ei?[2,this._updateFileMessageMetaArray(i.messageId,d,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"remove",!0)]})})},o.prototype.addMessageMetaArrayValues=function(i,c){return X(this,void 0,void 0,function(){return Y(this,function(d){return Mn(i instanceof zl&&i.messageId>0&&c.every(function(p){return p instanceof ks})).throw(Ke.invalidParameters),i instanceof Ei?[2,this._updateFileMessageMetaArray(i.messageId,c,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"add",!0)]})})},o.prototype.removeMessageMetaArrayValues=function(i,c){return X(this,void 0,void 0,function(){return Y(this,function(d){return Mn(i instanceof zl&&i.messageId>0&&c.every(function(p){return p instanceof ks})).throw(Ke.invalidParameters),i instanceof Ei?[2,this._updateFileMessageMetaArray(i.messageId,c,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"remove",!0)]})})},o.prototype.report=function(i,c){return X(this,void 0,void 0,function(){var d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return Mn(Nr(ef,i)&&$e("string",c)).throw(Ke.invalidParameters),d=Je.of(this._iid),p=d.sdkState,_=d.requestQueue,v=new yee({channelUrl:this.url,channelType:this.channelType,userId:p.userId,category:i,description:c}),[4,_.send(v)];case 1:return b.sent(),[2]}})})},o.prototype.reportUser=function(i,c,d){return X(this,void 0,void 0,function(){var p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return Mn(i instanceof Ut&&Nr(ef,c)&&$e("string",d)).throw(Ke.invalidParameters),p=Je.of(this._iid),_=p.sdkState,v=p.requestQueue,b=new Eee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.userId,category:c,description:d}),[4,v.send(b)];case 1:return y.sent(),[2]}})})},o.prototype.reportMessage=function(i,c,d){return X(this,void 0,void 0,function(){var p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return Mn(i instanceof rd&&Nr(ef,c)&&$e("string",d)).throw(Ke.invalidParameters),p=Je.of(this._iid),_=p.sdkState,v=p.requestQueue,b=new wee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.sender.userId,messageId:i.messageId,category:c,description:d}),[4,v.send(b)];case 1:return y.sent(),[2]}})})},o.prototype.updatePoll=function(i,c){return X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return Mn($e("number",i)&&function(v){return $e("string",v.title,!0)&&BI(v.data)&&$e("boolean",v.allowUserSuggestion,!0)&&$e("boolean",v.allowMultipleVotes,!0)&&$e("number",v.closeAt,!0)}(c)).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new Uee(Me({pollId:i},c)),[4,d.send(p)];case 1:return[2,_.sent().as(Pee).poll]}})})},o.prototype.deletePoll=function(i){return X(this,void 0,void 0,function(){var c,d,p;return Y(this,function(_){switch(_.label){case 0:return c=$e("number",i),Mn(c).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new Fee({pollId:i}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},o.prototype.closePoll=function(i){return X(this,void 0,void 0,function(){var c,d,p;return Y(this,function(_){switch(_.label){case 0:return c=$e("number",i),Mn(c).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new Hee({pollId:i}),[4,d.send(p)];case 1:return[2,_.sent().as(Bee).poll]}})})},o.prototype.addPollOption=function(i,c){return X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:return d=$e("number",i)&&$e("string",c)&&c.trim()!=="",Mn(d).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new Vee({channelUrl:this.url,channelType:this.channelType,pollId:i,optionText:c}),[4,p.send(_)];case 1:return[2,v.sent().as(zee).poll]}})})},o.prototype.updatePollOption=function(i,c,d){return X(this,void 0,void 0,function(){var p,_,v;return Y(this,function(b){switch(b.label){case 0:return p=$e("number",i)&&$e("number",c)&&$e("string",d)&&d.trim()!=="",Mn(p).throw(Ke.invalidParameters),_=Je.of(this._iid).requestQueue,v=new $ee({pollId:i,pollOptionId:c,optionText:d}),[4,_.send(v)];case 1:return[2,b.sent().as(qee).poll]}})})},o.prototype.deletePollOption=function(i,c){return X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:return d=$e("number",i)&&$e("number",c),Mn(d).throw(Ke.invalidParameters),p=Je.of(this._iid).requestQueue,_=new Gee({pollId:i,pollOptionId:c}),[4,p.send(_)];case 1:return v.sent(),[2]}})})},o.prototype.votePoll=function(i,c){return X(this,void 0,void 0,function(){var d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return d=$e("number",i)&&nr("number",c),Mn(d).throw(Ke.invalidParameters),p=Je.of(this._iid),_=p.requestQueue,v=p.dispatcher,b=new jee({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionIds:c}),[4,_.send(b)];case 1:return y=R.sent(),S=y.as(SA).event,v.dispatch(new YE({event:S,source:Tr.EVENT_POLL_VOTED})),[2,S]}})})},o.prototype.getPollChangeLogsSinceTimestamp=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return Mn($e("number",i)).throw(Ke.invalidParameters),[4,XE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},o.prototype.getPollChangeLogsSinceToken=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return Mn($e("string",i,!0)),[4,XE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},o.prototype.createPollListQuery=function(i){return i===void 0&&(i=10),new WI(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:i})},o.prototype.createPollVoterListQuery=function(i,c,d){return d===void 0&&(d=20),new QI(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionId:c,limit:d})},o}(Ts),Qee=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return me(o,s),o}(function(){this.onConnected=Rt,this.onReconnectStarted=Rt,this.onReconnectSucceeded=Rt,this.onReconnectFailed=Rt,this.onDisconnected=Rt}),Yee=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return me(o,s),o}(function(){this.onSessionExpired=Rt,this.onSessionTokenRequired=function(s){return s(null)},this.onSessionError=Rt,this.onSessionRefreshed=Rt,this.onSessionClosed=Rt}),Xee=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return me(o,s),o}(function(){this.onFriendsDiscovered=Rt,this.onTotalUnreadMessageCountChanged=Rt,this.onTotalUnreadMessageCountUpdated=Rt}),Zee=function(s){function o(i){var c=i.limit,d=i.token,p=i.userIdsFilter,_=i.metaDataKeyFilter,v=i.metaDataValuesFilter,b=i.nicknameStartsWithFilter,y=s.call(this)||this;return y.method=An.GET,y.path=lr,y.params=at({limit:c,token:d,user_ids:p,metadatakey:_,metadatavalues_in:v,nickname_startswith:b}),y}return me(o,s),o}(Rn),Jee=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Ut(i,p)}),d.next=c.next,d}return me(o,s),o}(Pn),ene=function(s){function o(i,c){var d,p,_,v=this;return(v=s.call(this,i,c)||this).userIdsFilter=null,v.metaDataKeyFilter=null,v.metaDataValuesFilter=null,v.nicknameStartsWithFilter=null,v.userIdsFilter=(d=c.userIdsFilter)!==null&&d!==void 0?d:null,v.metaDataKeyFilter=(p=c.metaDataKeyFilter)!==null&&p!==void 0?p:null,v.metaDataValuesFilter=(_=c.metaDataValuesFilter)!==null&&_!==void 0?_:null,v.nicknameStartsWithFilter=c.nicknameStartsWithFilter||null,v}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&nr("string",this.userIdsFilter,!0)&&$e("string",this.metaDataKeyFilter,!0)&&nr("string",this.metaDataValuesFilter,!0)&&$e("string",this.metaDataKeyFilter,!0)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new Zee(pt(Me(Me({},this),{token:this._token}))),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(Jee),_=p.users,v=p.next,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}($h),nne=function(s){function o(i){var c=i.userId,d=i.limit,p=i.token,_=i.userIdsFilter,v=s.call(this)||this;return v.method=An.GET,v.path="".concat(lr,"/").concat(c,"/block"),v.params=at({limit:d,token:p,user_ids:_}),v}return me(o,s),o}(Rn),tne=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Ut(i,p)}),d.next=c.next,d}return me(o,s),o}(Pn),rne=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this).userIdsFilter=null,p.userIdsFilter=(d=c.userIdsFilter)!==null&&d!==void 0?d:null,p}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&nr("string",this.userIdsFilter,!0)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new nne(pt(Me(Me({},this),{userId:c.userId,token:this._token}))),[4,d.send(p)]):[3,2]:[3,5];case 1:return _=S.sent(),v=_.as(tne),b=v.users,y=v.next,this._token=y,this._hasNext=!!y,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}($h),ine=function(s){function o(i){var c=i.userId,d=i.limit,p=i.token,_=s.call(this)||this;return _.method=An.GET,_.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friends"),_.params={limit:d,token:p},_}return me(o,s),o}(Rn),ane=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.hasMore=c.has_more,d.users=c.users.map(function(p){return new Ut(i,p)}),d.next=c.next,d}return me(o,s),o}(Pn),sne=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new ine(Me(Me({},this),{userId:c.userId,token:this._token})),[4,d.send(p)]):[3,2]:[3,5];case 1:return _=R.sent(),v=_.as(ane),b=v.users,y=v.hasMore,S=v.next,this._token=S,this._hasNext=y,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}($h),Av={},Ov=function(){function s(o){var i=o.dbname,c=o.itemSizeLimit,d=c===void 0?1048576:c,p=o.cacheLimit,_=p===void 0?256:p,v=o.blockHashBase,b=v===void 0?2:v,y=o.blockHashMultiplier,S=y===void 0?10:y,R=o.blockHashConstant,V=R===void 0?11:R,q=o.transactionApplyDelay,ne=q===void 0?200:q,Z=o.disableLogger,se=Z!==void 0&&Z;return Av[i]||(this.itemSizeLimit=d,this.cacheLimit=_,this.blockHashBase=b,this.blockHashMultiplier=S,this.blockHashConstant=V,this.transactionApplyDelay=ne,this.disableLogger=se,Av[i]=this),Av[i]}return s.get=function(o){return Av[o]},s}();(function(s){s[s.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",s[s.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",s[s.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",s[s.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",s[s.STORE_IS_FULL=61001003]="STORE_IS_FULL",s[s.STORE_NOT_INITIALIZED=61001004]="STORE_NOT_INITIALIZED",s[s.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",s[s.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",s[s.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",s[s.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",s[s.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",s[s.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",s[s.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",s[s.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",s[s.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",s[s.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",s[s.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",s[s.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",s[s.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",s[s.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",s[s.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",s[s.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",s[s.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",s[s.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",s[s.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",s[s.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(kr||(kr={}));var ad,Xt=function(s){function o(i){var c=i.code,d=c===void 0?kr.UNKNOWN_ERROR:c,p=i.message,_=p===void 0?"Unknown error occurred.":p,v=s.call(this,_)||this;return v.code=d,Object.setPrototypeOf(v,o.prototype),v}return me(o,s),Object.defineProperty(o,"storeNotDefined",{get:function(){return new o({code:kr.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailable",{get:function(){return new o({code:kr.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailableInPrivateBrowsing",{get:function(){return new o({code:kr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeIsFull",{get:function(){return new o({code:kr.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotInitialized",{get:function(){return new o({code:kr.STORE_NOT_INITIALIZED,message:"Store is not initialized."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeKeyTypeIsInvalid",{get:function(){return new o({code:kr.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenIntegrity",{get:function(){return new o({code:kr.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenBlob",{get:function(){return new o({code:kr.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeEncryptionInvalid",{get:function(){return new o({code:kr.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeItemSizeExceeded",{get:function(){return new o({code:kr.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeReadFailed",{get:function(){return new o({code:kr.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeWriteFailed",{get:function(){return new o({code:kr.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"databaseSchemaNotOnUpgrade",{get:function(){return new o({code:kr.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionNotReady",{get:function(){return new o({code:kr.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotMatch",{get:function(){return new o({code:kr.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionQueryNotValid",{get:function(){return new o({code:kr.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionInsertDuplicate",{get:function(){return new o({code:kr.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotFound",{get:function(){return new o({code:kr.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotGiven",{get:function(){return new o({code:kr.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionWriteFailed",{get:function(){return new o({code:kr.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionItemSizeExceeded",{get:function(){return new o({code:kr.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTableIsRequired",{get:function(){return new o({code:kr.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTypesNotMatch",{get:function(){return new o({code:kr.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"compareTypesNotMatch",{get:function(){return new o({code:kr.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularReferenceFound",{get:function(){return new o({code:kr.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),o}(Error);(function(s){s.INIT="init",s.READY="ready",s.CLOSED="closed"})(ad||(ad={}));var CA,za=function(s,o){if(o===void 0&&(o=new WeakMap),typeof s=="object"&&s!==null){if(o.has(s))throw Xt.circularReferenceFound;o.set(s,!0);var i=void 0;if(Array.isArray(s))i=s.map(function(d){return za(d,o)});else if(s instanceof RegExp)i=s;else if(s instanceof Date)i=s;else for(var c in i={},s)i[c]=za(s[c],o);return o.delete(s),i}return s},ql=function(s,o){if(o==null)return 1;if(s==null)return-1;if(typeof s!=typeof o)throw Xt.compareTypesNotMatch;var i=0;switch(typeof s){case"boolean":case"number":i=s-o;break;case"string":i=s.localeCompare(o)}return i},NA=function(s,o){for(var i=0,c=0;c<s.length;c++)i=s.charCodeAt(c)+(i<<6)+(i<<16)-i;return(i>>>0)%o},Rv=function(s){return new Promise(function(o){setTimeout(function(){return o()},s)})},sd=function(s,o){if(!o)return!1;if(typeof s!="function"){for(var i in s)if(["/and","&&"].includes(i)){if(s[i].some(function(b){return!sd(b,o)}))return!1}else if(["/or","||"].includes(i)){if(s[i].every(function(b){return!sd(b,o)}))return!1}else if(i==="/where"){if(!(0,s[i])(o))return!1}else{var c=i;if(typeof s[c]=="object"){var d=s[c];for(var p in d)switch(p){case"/eq":case"=":if((_=o[c])!==(v=d[p]))return!1;break;case"/neq":case"!=":if((_=o[c])===(v=d[p]))return!1;break;case"/gt":case">":var _=o[c],v=d[p];if(!(ql(_,v)>0))return!1;break;case"/gte":case">=":if(_=o[c],v=d[p],!(ql(_,v)>=0))return!1;break;case"/lt":case"<":if(_=o[c],v=d[p],!(ql(_,v)<0))return!1;break;case"/lte":case"<=":if(_=o[c],v=d[p],!(ql(_,v)<=0))return!1;break;case"/in":if(_=o[c],!(v=d[p]).includes(_))return!1;break;case"/nin":if(_=o[c],(v=d[p]).includes(_))return!1;break;case"/contain":if(_=o[c],v=d[p],!_.includes(v))return!1;break;case"/regex":if(_=o[c],!(v=d[p]).test(_))return!1;break;case"/where":if(_=o[c],!(0,d[p])(_))return!1}}else if(typeof s[c]=="function"){if(!s[c](o[c]))return!1}else if(s[c]!==o[c])return!1}return!0}return s(o)},nf=function(){},IA=function(){return Promise.resolve()},one=function(s){return s},AA=function(s,o){o()};(function(s){s[s.FORWARD=0]="FORWARD",s[s.BACKWARD=1]="BACKWARD"})(CA||(CA={}));var od,na,rl,lne=function(){function s(o){var i=o.initialPrevValue,c=i===void 0?null:i,d=o.initialNextValue,p=d===void 0?null:d,_=o.iterator,v=o.map,b=v===void 0?one:v,y=o.backward,S=y===void 0?IA:y,R=o.forward,V=R===void 0?IA:R,q=o.complete,ne=q===void 0?nf:q;this._prevValue=c,this._nextValue=p,this._error=null,this._map=b,this._backward=S,this._forward=V,this._iterator=_,this._complete=ne}return Object.defineProperty(s.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),s.prototype.prev=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:if(!this.hasPrevious)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),o=this._prevValue,i=this,[4,this._backward()];case 2:return i._prevValue=d.sent()||null,this._nextValue=o,[3,4];case 3:return c=d.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},s.prototype.next=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:if(!this.hasNext)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),o=this._nextValue,i=this,[4,this._forward()];case 2:return i._nextValue=d.sent()||null,this._prevValue=o,[3,4];case 3:return c=d.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},s.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},s}(),l3=function(){function s(o){var i=o.condition,c=i===void 0?{}:i,d=o.backward,p=d!==void 0&&d,_=o.blockManager,v=o.indexer;this.condition=c,this.backward=p,this._blockManager=_,this._indexer=v}return s.prototype.findOptimizedStartPosition=function(){var o=this,i=["=","/eq",">",">=","/gt","/gte"],c=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var d=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var _=this._indexer.fields[p],v=1;if(_[0]==="-"&&(_=_.slice(1),v=-1),this.condition[_]){if(typeof this.condition[_]=="object"){var b=v>0?c:i;for(var y in this.condition[_])if(b.includes(y)){for(var S=d;S>=0;S--)if(v*ql(this._indexer.origin[S].columnValues[p],this.condition[_][y])<=0){d=S;break}}}else for(S=d;S>=0;S--)if(v*ql(this._indexer.origin[S].columnValues[p],this.condition[_])<=0){d=S;break}}}return Math.min(d+1,this._indexer.origin.length-1)}var R=0;if(typeof this.condition!="function"){var V=function(ne){var Z=q._indexer.fields[ne],se=1;if(Z[0]==="-"&&(Z=Z.slice(1),se=-1),q.condition[Z]){if(typeof q.condition[Z]=="object")Object.keys(q.condition[Z]).forEach(function(Ce){if((se>0?i:c).includes(Ce)){for(var Le=R;Le<o._indexer.origin.length;Le++)if(se*ql(o._indexer.origin[Le].columnValues[ne],o.condition[Z][Ce])>=0){R=Le;break}}});else for(var xe=R;xe<q._indexer.origin.length;xe++)if(se*ql(q._indexer.origin[xe].columnValues[ne],q.condition[Z])>=0){R=xe;break}}},q=this;for(p=0;p<this._indexer.fields.length;p++)V(p)}return Math.max(R-1,0)},s.prototype.each=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y=this;return Y(this,function(S){switch(S.label){case 0:if(i=this.findOptimizedStartPosition(),c=0,this.backward&&this._indexer.origin[i]&&(c=this._indexer.origin[i].keys.length-1),d=function(){if(y._indexer.origin[i]){if(!y._indexer.origin[i].keys[++c]){if(!y._indexer.origin[++i])return!1;c=0}return!0}return!1},p=function(){if(y._indexer.origin[i]){if(!y._indexer.origin[i].keys[--c]){if(!y._indexer.origin[--i])return!1;c=y._indexer.origin[i].keys.length-1}return!0}return!1},_=null,!this._indexer.origin[i])return[3,4];v=this.backward?p:d,S.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])];case 2:if((b=S.sent())&&sd(this.condition,b))return _=b,[3,4];S.label=3;case 3:if(v())return[3,1];S.label=4;case 4:return[4,new Promise(function(R){var V=new lne({initialNextValue:za(_),iterator:o,forward:function(){return X(y,void 0,void 0,function(){var q,ne;return Y(this,function(Z){switch(Z.label){case 0:q=this.backward?p:d,Z.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return(ne=Z.sent())&&sd(this.condition,ne)?[2,za(ne)]:[3,1];case 3:return[2,null]}})})},backward:function(){return X(y,void 0,void 0,function(){var q,ne;return Y(this,function(Z){switch(Z.label){case 0:q=this.backward?d:p,Z.label=1;case 1:return q()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return(ne=Z.sent())&&sd(this.condition,ne)?[2,za(ne)]:[3,1];case 3:return[2,null]}})})},complete:R});o(V)})];case 5:return[2,S.sent()]}})})},s}(),cne=function(){function s(o){var i=o.condition,c=i===void 0?{}:i,d=o.backward,p=d!==void 0&&d,_=o.mutex,v=o.blockManager,b=o.indexer;this._mutex=_,this._iterator=new l3({condition:c,backward:p,blockManager:v,indexer:b})}return s.prototype.fetch=function(o){return o===void 0&&(o={}),X(this,void 0,void 0,function(){var i,c,d,p,_=this;return Y(this,function(v){switch(v.label){case 0:if(i=Math.max(o.offset||0,0),(c=typeof o.limit=="number"?o.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(c<0)throw Xt.collectionQueryNotValid;v.label=1;case 1:return v.trys.push([1,4,,5]),d=[],[4,this._mutex.lock()];case 2:return v.sent(),[4,this._iterator.each(function(b){return X(_,void 0,void 0,function(){return Y(this,function(y){return b.error?b.stop():b.hasNext?i===0?(d.push(b.nextValue),0<c&&c<=d.length?b.stop():b.next()):(i--,b.next()):b.stop(),[2]})})})];case 3:return v.sent(),this._mutex.unlock(),[2,d];case 4:throw p=v.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},s.prototype.count=function(){return X(this,void 0,void 0,function(){var o,i,c=this;return Y(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),o=0,[4,this._mutex.lock()];case 1:return d.sent(),[4,this._iterator.each(function(p){return X(c,void 0,void 0,function(){return Y(this,function(_){return p.error?p.stop():p.hasNext?(o++,p.next()):p.stop(),[2]})})})];case 2:return d.sent(),this._mutex.unlock(),[2,o];case 3:throw i=d.sent(),this._mutex.unlock(),i;case 4:return[2]}})})},s}(),c3=function(s){return"".concat("nest","@").concat(s)},ld=function(s,o){return"".concat(c3(s),"/").concat(o)},u3=function(s,o){return"".concat(ld(s,o),".metadata")},d3=function(s,o){return"".concat(ld(s,o),"/block.")},OA=function(s,o){return"".concat(ld(s,o),"/blob.")},une=function(){function s(o){var i=o.dbname,c=o.collectionName,d=o.store;this.dbname=i,this.collectionName=c,this.store=d}return s.prototype.get=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return[4,this.store.get(o)];case 1:return(i=R.sent())?(c=i.data,d=i.type,typeof fetch>"u"?[3,4]:[4,fetch(c)]):[3,5];case 2:return[4,R.sent().blob()];case 3:return[2,R.sent()];case 4:for(p=[],_=atob(c.split(",")[1]),v=0;v<_.length;v+=512){for(b=_.slice(v,v+512),y=new Array(b.length),S=0;S<b.length;S++)y[S]=b.charCodeAt(S);p.push(new Uint8Array(y))}return[2,new Blob(p,{type:d})];case 5:return[2,null]}})})},s.prototype.save=function(o,i){return i===void 0&&(i="".concat(Date.now())),X(this,void 0,void 0,function(){var c,d,p,_,v=this;return Y(this,function(b){switch(b.label){case 0:return[4,new Promise(function(y){var S=function(V,q,ne,Z){return Z===void 0&&(Z=0),"".concat(OA(V,q)).concat(ne,".").concat(Z)}(v.dbname,v.collectionName,i),R=new FileReader;R.onload=function(){y({blobId:S,data:R.result,type:o.type})},R.readAsDataURL(o)})];case 1:return c=b.sent(),d=c.blobId,p=c.data,_=c.type,[4,this.store.set({key:d,value:{data:p,type:_}})];case 2:return b.sent(),[2,d]}})})},s.prototype.remove=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this.store.remove(o)];case 1:return i.sent(),[2]}})})},s.prototype.clear=function(){return X(this,void 0,void 0,function(){var o,i,c=this;return Y(this,function(d){switch(d.label){case 0:return o=OA(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return i=d.sent(),[4,Promise.all(i.filter(function(p){return p.startsWith(o)}).map(function(p){return X(c,void 0,void 0,function(){return Y(this,function(_){switch(_.label){case 0:return[4,this.store.remove(p)];case 1:return[2,_.sent()]}})})}))];case 2:return d.sent(),[2]}})})},s}();(function(s){s[s.COMMIT=0]="COMMIT",s[s.WRITE=1]="WRITE",s[s.ERROR=2]="ERROR"})(od||(od={})),function(s){s.PENDING="pending",s.PERSISTENT="persistent",s.VOLATILE="volatile"}(na||(na={})),function(s){s[s.NO_CACHE=0]="NO_CACHE",s[s.DEFAULT=1]="DEFAULT",s[s.PERSISTENT=2]="PERSISTENT"}(rl||(rl={}));var tf,ta,RA=[na.PENDING,na.VOLATILE],Mv={},Zs=function(){function s(o){var i=o.dbname,c=o.limit,d=c===void 0?256:c;return Mv[i]||(this.dbname=i,this._items=[],this._limit=d,Mv[i]=this),Mv[i]}return s.get=function(o){return Mv[o]},Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.find=function(o,i,c){return c===void 0&&(c=rl.DEFAULT),X(this,void 0,void 0,function(){var d,p;return Y(this,function(_){switch(_.label){case 0:return(d=this.get(i))?[3,2]:[4,o.get(i)];case 1:return(p=_.sent())&&(d={key:i,value:p,state:c===rl.PERSISTENT?na.PERSISTENT:na.VOLATILE},this.put(d)),[3,3];case 2:c===rl.PERSISTENT&&(d.state=na.PERSISTENT),_.label=3;case 3:return[2,d]}})})},s.prototype.get=function(o,i){i===void 0&&(i=rl.DEFAULT);var c=this._items.map(function(p){return p.key}).indexOf(o);if(c>-1){var d=this._items[c];return i===rl.PERSISTENT&&(d.state=na.PERSISTENT),i!==rl.NO_CACHE&&this.put(d),d}return null},s.prototype.put=function(o){var i,c;if(this._limit>0){var d=this._items.map(function(R){return R.key}).indexOf(o.key);if(d>-1)RA.includes(this._items[d].state)&&RA.includes(o.state)?(this._items.splice(d,1),this._items.push(o)):(this._items[d].state=o.state,this._items[d].value=o.value);else{this._items.push(o);var p=this._items.filter(function(R){return R.state===na.VOLATILE}),_=p.length-this._limit;if(_>0){var v=[];try{for(var b=gt(this._items),y=b.next();!y.done;y=b.next()){var S=y.value;S.state===na.VOLATILE&&_>0?_--:v.push(S)}}catch(R){i={error:R}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}this._items=v}}}},s.prototype.remove=function(o){var i=this._items.map(function(c){return c.key}).indexOf(o);i>-1&&this._items.splice(i,1)},s.prototype.clearByCondition=function(o){this._items=this._items.filter(function(i){return!o(i)})},s.prototype.clear=function(o){o===void 0&&(o=!1),this._items=o?[]:this._items.filter(function(i){return i.state!==na.VOLATILE})},s}(),dne=function(){function s(o){var i=o.dbname,c=o.collectionName,d=o.store;this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=i,this.collectionName=c,this.metadataKey=function(p,_){return"".concat(ld(p,_),"/trans.metadata")}(i,c),this.recordsetKey=function(p,_){return"".concat(ld(p,_),"/trans.recordset")}(i,c),this._store=d}return Object.defineProperty(s.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),s.prototype._getReducedRecordset=function(o){return o===void 0&&(o=[]),X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(i=c.sent()||[]).push.apply(i,Kt([],Mt(o),!1)),[2,this._reduceRecordSet(i)]}})})},s.prototype._reduceRecordSet=function(o){for(var i=[],c={},d=o.length-1;d>=0;d--){for(var p=o[d],_=[],v=p.requests.length-1;v>=0;v--){var b=p.requests[v],y=b.data;c[y.key]||(_.unshift(b),c[y.key]=!0)}_.length>0&&(p.requests=_,i.unshift(p))}return i},s.prototype._applyRecord=function(o,i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R;return Y(this,function(V){switch(V.label){case 0:c=Zs.get(this.dbname),d=i.generation,p=i.requests,_=null,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(q){return Me(Me({},q.data),{generation:d})}))];case 2:for(v=V.sent(),b=0;b<p.length;b++)v[b]instanceof Error&&(_||(_=v[b]),y=p[b].data,c.put(Me(Me({},y),{state:na.PERSISTENT})));return[3,4];case 3:return S=V.sent(),_=S,[3,4];case 4:return _?[3,6]:(R=o.filter(function(q){return q.generation!==d}),[4,this._store.set({key:this.recordsetKey,value:R})]);case 5:return V.sent(),this._onWrite.forEach(function(q){q(p.map(function(ne){return ne.data}))}),[3,7];case 6:this._onError.forEach(function(q){_&&q(_)}),V.label=7;case 7:return[2]}})})},s.prototype.init=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return o=this,[4,this._store.get(this.metadataKey)];case 1:return o._metadata=y.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:i=y.sent(),y.label=3;case 3:y.trys.push([3,8,9,10]),c=gt(i),d=c.next(),y.label=4;case 4:return d.done?[3,7]:(p=d.value,[4,this._applyRecord(i,p)]);case 5:y.sent(),y.label=6;case 6:return d=c.next(),[3,4];case 7:return[3,10];case 8:return _=y.sent(),v={error:_},[3,10];case 9:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 10:return[2]}})})},s.prototype.on=function(o,i,c){switch(o){case od.COMMIT:this._onCommit.set(i,c);break;case od.WRITE:this._onWrite.set(i,c);break;case od.ERROR:this._onError.set(i,c)}},s.prototype.requestWrite=function(o,i){this._requests.push({data:o,options:i}),Zs.get(this.dbname).put(Me({state:na.PENDING},o))},s.prototype.requestMultipleWrite=function(o,i){var c,d,p=Zs.get(this.dbname);try{for(var _=gt(o),v=_.next();!v.done;v=_.next()){var b=v.value;this._requests.push({data:b,options:i}),p.put(Me({state:na.PENDING},b))}}catch(y){c={error:y}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}},s.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){return Zs.get(this.dbname).clearByCondition(function(i){return i.state===na.PENDING}),this._requests=[],[2]})})},s.prototype.commit=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b,y,S,R,V,q=this;return Y(this,function(ne){switch(ne.label){case 0:if(!((o=this._requests).length>0))return[3,4];for(i=[],c={},b=o.length-1;b>=0;b--)d=o[b],S=d.data,c[S.key]||(c[S.key]=!0,i.unshift(d));return p={generation:this.generation,requests:i},[4,this._getReducedRecordset([p])];case 1:return _=ne.sent(),[4,this._store.set({key:this.recordsetKey,value:_})];case 2:return ne.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata})];case 3:for(ne.sent(),v=Zs.get(this.dbname),b=0;b<i.length;b++)y=i[b],S=y.data,R=y.options,v.put(Me(Me({},S),{state:R&&R.persistent?na.PERSISTENT:na.VOLATILE}));this._requests=[],this._onCommit.forEach(function(Z){Z(o.map(function(se){return se.data}))}),V=Ov.get(this.dbname),setTimeout(function(){try{q._applyRecord(_,p)}catch(Z){q._onError.forEach(function(se){return se(Z)})}},V.transactionApplyDelay),ne.label=4;case 4:return[2]}})})},s}(),Dv=function(){function s(o){var i=o.blockId,c=o.keyName,d=o.items,p=d===void 0?[]:d,_=o.limit;this.blockId=i,this.keyName=c,this.limit=_,this._items=Kt([],Mt(p),!1)}return s.createFromCacheItem=function(o){return o?new s(o.value):null},Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},s.prototype.getItemByKey=function(o){var i=this,c=this._items.find(function(d){var p=d[i.keyName];return o===p});return c??null},s.prototype.has=function(o){var i=this;return this._items.map(function(c){return c[i.keyName]}).includes(o)},s.prototype.add=function(o){var i=this,c=this._items.map(function(d){return d[i.keyName]}).indexOf(o[this.keyName]);return c<0?this._items.length<this.limit&&(this._items.push(o),!0):(this._items[c]=o,!0)},s.prototype.remove=function(o){for(var i in this._items)if(this._items[i][this.keyName]===o)return this._items.splice(parseInt(i),1),!0;return!1},s.prototype.clear=function(){this._items=[]},s}(),hne=function(){function s(o){var i=o.dbname,c=o.collectionName,d=o.metadata,p=o.hashFunction,_=p===void 0?NA:p,v=o.transaction,b=o.store;this.dbname=i,this.collectionName=c,this.hashFunction=_,this.metadata=d,this._transaction=v,this._store=b}return Object.defineProperty(s.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),s.prototype.createBlockId=function(o,i){return i===void 0&&(i=this.metadata.blockLevel),c=this.dbname,d=this.collectionName,p=i,_="".concat(function(v,b,y){var S=y.base*Math.pow(y.multiplier,b)+y.constant;return(y.hashFunction||NA)(v,S)}(o,i,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(d3(c,d)).concat(p,".").concat(_);var c,d,p,_},s.prototype._findBlock=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_;return Y(this,function(v){switch(v.label){case 0:i=Zs.get(this.dbname),c=this.metadata.blockLevel,v.label=1;case 1:return c>0?(d=this.createBlockId(o,c),[4,i.find(this._store,d)]):[3,4];case 2:if((p=v.sent())&&((_=Dv.createFromCacheItem(p))!=null&&_.getItemByKey(o)))return[2,_];v.label=3;case 3:return c--,[3,1];case 4:return[2,null]}})})},s.prototype.getFromBlock=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this._findBlock(o)];case 1:return[2,(i=c.sent())?i.getItemByKey(o):null]}})})},s.prototype.putToBlock=function(o,i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return c=Ov.get(this.dbname),d=this.createBlockId(o),p=Math.floor(this._store.itemSizeLimit/c.itemSizeLimit),[4,Zs.get(this.dbname).find(this._store,d)];case 1:return _=b.sent(),(v=_?Dv.createFromCacheItem(_):new Dv({blockId:d,keyName:this.keyName,items:[],limit:p}))!=null&&v.add(i)?(this._transaction.requestWrite({key:v.blockId,value:v.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.removeFromBlock=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this._findBlock(o)];case 1:return(i=c.sent())&&i.remove(o)?(this._transaction.requestWrite({key:i.blockId,value:i.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.clearAllBlocks=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:return o=d3(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return i=d.sent(),c=i.filter(function(p){return p.startsWith(o)}),[4,this._store.removeMany(c)];case 2:return d.sent(),[4,this._transaction.clear()];case 3:return d.sent(),Zs.get(this.dbname).clearByCondition(function(p){return p.key.startsWith(o)}),[2]}})})},s}(),jh={},qc=function(){function s(o){var i=o.dbname,c=o.collectionName,d=o.keyName,p=o.fields,_=o.transaction,v=o.store,b=this;this._origin=[],this._table=[];var y=function(S,R,V){return"".concat(ld(S,R),"/index.").concat(V)}(i,c,p.join(">"));return jh[y]||(this.dbname=i,this.collectionName=c,this.keyName=d,this.fields=p,this.indexerKey=y,this._transaction=_,this._store=v,this._transaction.on(od.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(od.ERROR,this.indexerKey,function(){return b.abort()})),jh[y]}return s.createKey=function(o){return o.join(">")},s.parseKey=function(o){return o.split(">")},s.clearIndexerMap=function(){for(var o in jh)delete jh[o]},s.prototype._addItem=function(o){var i=o[this.keyName],c=this.getColumnValues(o),d=Mt(this.indexOf(c),2),p=d[0];return d[1]?!this._table[p].keys.includes(i)&&(this._table[p].keys.push(i),!0):(this._table.splice(p,0,{columnValues:c,keys:[i]}),!0)},s.prototype._removeItem=function(o){var i=o[this.keyName],c=this.getColumnValues(o),d=Mt(this.indexOf(c),2),p=d[0];if(d[1]){var _=this._table[p].keys.indexOf(i);if(_>-1)return this._table[p].keys.splice(_,1),this._table[p].keys.length===0&&this._table.splice(p,1),!0}return!1},Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),s.prototype.getColumnValues=function(o){var i,c,d,p,_=[];try{for(var v=gt(this.fields),b=v.next();!b.done;b=v.next()){var y=b.value;if(y[0]==="-"&&(y=y.slice(1)),d=o[y],p=typeof d,d!==null&&p!=="undefined"&&p!=="boolean"&&p!=="number"&&p!=="string")throw Xt.indexTypesNotMatch;_.push(o[y])}}catch(S){i={error:S}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(i)throw i.error}}return _},s.prototype.diff=function(o,i){for(var c in this.fields){var d=this.fields[c][0]==="-"?-1:1,p=ql(o[c],i[c]);if(p!==0)return d*p}return 0},s.prototype.indexOf=function(o){if(this._table.length>0){for(var i=0,c=this._table.length-1;i<=c;){var d=Math.floor((i+c)/2),p=this.diff(o,this._table[d].columnValues);if(p>0)i=d+1;else{if(!(p<0))return[d,!0];c=d-1}}return[i,!1]}return[0,!1]},s.prototype.ensure=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe;return Y(this,function(Ce){switch(Ce.label){case 0:return[4,(o=Zs.get(this.dbname)).find(this._store,this.indexerKey,rl.PERSISTENT)];case 1:return(i=Ce.sent())?[3,11]:(c=d3(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:d=Ce.sent(),Ce.label=3;case 3:Ce.trys.push([3,8,9,10]),p=gt(d),_=p.next(),Ce.label=4;case 4:return _.done?[3,7]:(v=_.value).startsWith(c)?[4,o.find(this._store,v,rl.NO_CACHE)]:[3,6];case 5:if(b=Ce.sent(),y=Dv.createFromCacheItem(b))try{for(se=void 0,S=gt(y.items),R=S.next();!R.done;R=S.next())V=R.value,this._addItem(V)}catch(Le){se={error:Le}}finally{try{R&&!R.done&&(xe=S.return)&&xe.call(S)}finally{if(se)throw se.error}}Ce.label=6;case 6:return _=p.next(),[3,4];case 7:return[3,10];case 8:return q=Ce.sent(),ne={error:q},[3,10];case 9:try{_&&!_.done&&(Z=p.return)&&Z.call(p)}finally{if(ne)throw ne.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=i.value,this._table=za(this._origin),Ce.label=12;case 12:return jh[this.indexerKey]=this,[2]}})})},s.prototype.drop=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return Zs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return o.sent(),delete jh[this.indexerKey],[2]}})})},s.prototype.addItem=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return this._addItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.removeItem=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return this._removeItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.commit=function(){this._origin=this._table,this._table=za(this._origin)},s.prototype.abort=function(){this._table=za(this._origin)},s}(),Lv=function(){return typeof document<"u"&&typeof navigator<"u"&&navigator.product!=="ReactNative"},MA=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(o==="x"?i:3&i|8).toString(16)})};(function(s){s[s.PROCESSING=0]="PROCESSING",s[s.DONE=1]="DONE"})(tf||(tf={})),function(s){s.NEWNODE="newnode",s.REMOVENODE="removenode",s.CLAIM_HOST="claimhost",s.SYNC_HOST="synchost",s.REQUEST_LOCK="requestlock",s.ACQUIRE_LOCK="acquirelock",s.RELEASE_LOCK="releaselock"}(ta||(ta={}));var ko,h3={},p3=function(){function s(o,i){i===void 0&&(i={});var c=this;return this._state=tf.PROCESSING,this._queue=[],this._activationQueue=[],h3[o]&&!i.forceCreate||(this.nodeId=MA(),this.key=o,Lv()&&(i.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&c.claimHost()}),window.addEventListener("message",function(d){var p,_,v=d.data,b=v.nodeId,y=v.requestId,S=v.key,R=v.op,V=v.data;if(b!==c.nodeId&&S===c.key)switch(R){case ta.NEWNODE:c._sendSync();break;case ta.CLAIM_HOST:c._sendSync(),c._hostId=b;break;case ta.SYNC_HOST:if(!c.isInSync){c._activationTimeout&&clearTimeout(c._activationTimeout);var q=V,ne=q.currentItemRequestId,Z=q.queue,se=function(Fe){c._queue.findIndex(function(ye){return ye.requestId===Fe.requestId})<0&&c._requestLock({nodeId:Fe.nodeId,requestId:Fe.requestId,key:c.key,op:ta.REQUEST_LOCK,ts:Fe.ts})};try{for(var xe=gt(Z),Ce=xe.next();!Ce.done;Ce=xe.next())se(Ce.value)}catch(Fe){p={error:Fe}}finally{try{Ce&&!Ce.done&&(_=xe.return)&&_.call(xe)}finally{if(p)throw p.error}}c._currentItem=c._queue.find(function(Fe){return Fe.requestId===ne}),c._completeSync()}break;case ta.REMOVENODE:c._queue=c._queue.filter(function(Fe){return Fe.nodeId!==v.nodeId}),c._currentItem&&c._currentItem.nodeId===v.nodeId&&(c._currentItem=void 0,c._acquire(c._queue[0]));break;case ta.REQUEST_LOCK:c._requestLock(v);break;case ta.ACQUIRE_LOCK:var Le=c._queue.find(function(Fe){return Fe.requestId===y});c._acquire(Le);break;case ta.RELEASE_LOCK:c._release(y)}}),window.addEventListener("beforeunload",function(){c._send(ta.REMOVENODE)})),h3[o]=this),h3[o]}return Object.defineProperty(s.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isInSync",{get:function(){return this._state==tf.DONE},enumerable:!1,configurable:!0}),s.prototype._send=function(o,i){var c;i===void 0&&(i={});var d={nodeId:this.nodeId,requestId:(c=i==null?void 0:i.requestId)!==null&&c!==void 0?c:MA(),key:this.key,op:o,data:i.data,ts:Date.now()};return Lv()&&window.postMessage(d,"*"),d},s.prototype._acquire=function(o){o?(this._currentItem=o,this._currentItem.onAcquired&&this._currentItem.onAcquired(o.requestId)):this._currentItem=void 0},s.prototype._release=function(o){if(this._currentItem&&this._currentItem.requestId===o){var i=this._currentItem;this._currentItem=void 0,i.nodeId===this.nodeId&&this._send(ta.RELEASE_LOCK,{requestId:i.requestId});var c=this._queue.findIndex(function(d){return d.requestId===o});c>-1&&this._queue.splice(c,1),i.onReleased&&i.onReleased(o)}},s.prototype._requestLock=function(o){var i=this;return new Promise(function(c){var d={nodeId:o.nodeId,requestId:o.requestId,ts:o.ts,onAcquired:function(v){i.isHost&&i._send(ta.ACQUIRE_LOCK,{requestId:v}),c()},onReleased:function(){i._acquire(i._queue[0])}},p=!1;for(var _ in i._queue)if(i._queue[_].ts>d.ts){i._queue.splice(parseInt(_),0,d),p=!0;break}p||i._queue.push(d),i._currentItem||i._acquire(i._queue[0])})},s.prototype._sendSync=function(){var o;this.isHost&&this._send(ta.SYNC_HOST,{data:{currentItemRequestId:(o=this._currentItem)===null||o===void 0?void 0:o.requestId,queue:this._queue.map(function(i){return{nodeId:i.nodeId,requestId:i.requestId,ts:i.ts}})}})},s.prototype._waitUntilSyncCompleted=function(){return X(this,void 0,void 0,function(){var o=this;return Y(this,function(i){return this.isHost&&!this.isInSync?[2,new Promise(function(c){o._activationQueue.push(c)})]:[2]})})},s.prototype._waitSync=function(){var o=this;this.isInSync||(this._activationTimeout=setTimeout(function(){o._completeSync()},8))},s.prototype._completeSync=function(){this.isInSync||(this._state=tf.DONE,this._activationQueue.forEach(function(o){return o()}),this._activationQueue=[])},s.prototype.registerNode=function(){this._send(ta.NEWNODE),this._waitSync()},s.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ta.CLAIM_HOST),this._waitSync()},s.prototype.lock=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return i.sent(),o=this._send(ta.REQUEST_LOCK),[4,this._requestLock(o)];case 2:return i.sent(),[2]}})})},s.prototype.unlock=function(){var o;!((o=this._currentItem)===null||o===void 0)&&o.requestId&&this._release(this._currentItem.requestId)},s}(),f3=function(){function s(o){var i=o.dbname,c=o.collectionName,d=o.keyName,p=o.keyHash,_=o.indexes,v=o.store,b=this;this._state=ad.INIT,this._indexers=[],this.dbname=i,this.name=c,this.keyName=d,this.indexes=Kt([[d]],Mt(_.filter(function(y){return qc.createKey(y)!==b.keyName})),!1),this._keyHash=p,this._store=v,this._mutex=new p3(function(y,S){return"".concat(ld(y,S),".lock")}(i,c)),this._blobContainer=new une({dbname:i,collectionName:c,store:v}),this._transaction=new dne({dbname:i,collectionName:c,store:v})}return s.metadataOf=function(o,i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:return d=u3(o,i),[4,c.get(d)];case 1:return[2,p.sent()]}})})},Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isReady",{get:function(){return this._state===ad.READY},enumerable:!1,configurable:!0}),s.prototype.init=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b,y,S,R,V,q,ne,Z=this;return Y(this,function(se){switch(se.label){case 0:return[4,this._mutex.lock()];case 1:se.sent(),se.label=2;case 2:return se.trys.push([2,9,,10]),o=Ov.get(this.dbname),[4,s.metadataOf(this.dbname,this.name,this._store)];case 3:return i=se.sent(),this._metadata=i||{keyName:this.keyName,blockLevel:1,blockHashBase:o.blockHashBase,blockHashMultiplier:o.blockHashMultiplier,blockHashConstant:o.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:se.sent(),this._blockManager=new hne({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),c=Kt([],Mt(this.indexes),!1),d=[],p=c.map(function(xe){return qc.createKey(xe)}),_=i?i.indexes.map(function(xe){return qc.createKey(xe)}):[];try{for(v=gt(_),b=v.next();!b.done;b=v.next())y=b.value,p.includes(y)||d.push(qc.parseKey(y))}catch(xe){q={error:xe}}finally{try{b&&!b.done&&(ne=v.return)&&ne.call(v)}finally{if(q)throw q.error}}return(S=[]).push.apply(S,Kt([],Mt(c.map(function(xe){var Ce=new qc({dbname:Z.dbname,collectionName:Z.name,keyName:Z.keyName,fields:xe,transaction:Z._transaction,store:Z._store});return Z._indexers.push(Ce),Ce.ensure()})),!1)),S.push.apply(S,Kt([],Mt(d.map(function(xe){return new qc({dbname:Z.dbname,collectionName:Z.name,keyName:Z.keyName,fields:xe,transaction:Z._transaction,store:Z._store}).drop()})),!1)),[4,Promise.all(S)];case 5:return se.sent(),[4,this._transaction.commit()];case 6:return se.sent(),p.sort().join(",")===_.sort().join(",")?[3,8]:(R=u3(this.dbname,this.name),this._metadata.indexes=c,[4,this._store.set({key:R,value:this._metadata})]);case 7:se.sent(),se.label=8;case 8:return this._state=ad.READY,this._mutex.unlock(),[3,10];case 9:throw V=se.sent(),this._mutex.unlock(),V;case 10:return[2]}})})},s.prototype.close=function(){this._state=ad.CLOSED},s.prototype._hasPropertyOfKeyName=function(o){var i=o[this.keyName];return typeof i=="string"&&!!i},s.prototype._getIndexerBy=function(o){var i,c;o===void 0&&(o=null),o||(o=[this.keyName]);var d=qc.createKey(o);try{for(var p=gt(this._indexers),_=p.next();!_.done;_=p.next()){var v=_.value;if(d===qc.createKey(v.fields))return v}}catch(b){i={error:b}}finally{try{_&&!_.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}throw Xt.indexTableIsRequired},s.prototype._upgradeBlockLevel=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return o=u3(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:o,value:this._metadata})];case 1:return i.sent(),[2]}})})},s.prototype._requestInsert=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return b.sent()?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return b.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return b.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:b.sent(),b.label=5;case 5:b.trys.push([5,10,11,12]),c=gt(this._indexers),d=c.next(),b.label=6;case 6:return d.done?[3,9]:[4,d.value.addItem(o)];case 7:b.sent(),b.label=8;case 8:return d=c.next(),[3,6];case 9:return[3,12];case 10:return p=b.sent(),_={error:p},[3,12];case 11:try{d&&!d.done&&(v=c.return)&&v.call(c)}finally{if(_)throw _.error}return[7];case 12:return[3,14];case 13:throw Xt.collectionInsertDuplicate;case 14:return[2]}})})},s.prototype._requestUpsert=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S,R,V,q,ne;return Y(this,function(Z){switch(Z.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=Z.sent())?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return Z.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return Z.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:Z.sent(),Z.label=5;case 5:Z.trys.push([5,10,11,12]),d=gt(this._indexers),p=d.next(),Z.label=6;case 6:return p.done?[3,9]:[4,(y=p.value).addItem(o)];case 7:Z.sent(),Z.label=8;case 8:return p=d.next(),[3,6];case 9:return[3,12];case 10:return _=Z.sent(),R={error:_},[3,12];case 11:try{p&&!p.done&&(V=d.return)&&V.call(d)}finally{if(R)throw R.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(i,o)];case 14:Z.sent(),Z.label=15;case 15:Z.trys.push([15,21,22,23]),v=gt(this._indexers),b=v.next(),Z.label=16;case 16:return b.done?[3,20]:(y=b.value).diff(y.getColumnValues(c),y.getColumnValues(o))===0?[3,19]:[4,y.removeItem(c)];case 17:return Z.sent(),[4,y.addItem(o)];case 18:Z.sent(),Z.label=19;case 19:return b=v.next(),[3,16];case 20:return[3,23];case 21:return S=Z.sent(),q={error:S},[3,23];case 22:try{b&&!b.done&&(ne=v.return)&&ne.call(v)}finally{if(q)throw q.error}return[7];case 23:return[2]}})})},s.prototype._requestUpdate=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=S.sent())?[4,this._blockManager.putToBlock(i,o)]:[3,11];case 2:S.sent(),S.label=3;case 3:S.trys.push([3,9,10,11]),d=gt(this._indexers),p=d.next(),S.label=4;case 4:return p.done?[3,8]:(_=p.value).diff(_.getColumnValues(c),_.getColumnValues(o))===0?[3,7]:[4,_.removeItem(c)];case 5:return S.sent(),[4,_.addItem(o)];case 6:S.sent(),S.label=7;case 7:return p=d.next(),[3,4];case 8:return[3,11];case 9:return v=S.sent(),b={error:v},[3,11];case 10:try{p&&!p.done&&(y=d.return)&&y.call(d)}finally{if(b)throw b.error}return[7];case 11:return[2]}})})},s.prototype._requestRemove=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return[4,this._blockManager.getFromBlock(o)];case 1:return(i=b.sent())?[4,this._blockManager.removeFromBlock(o)]:[3,10];case 2:b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),c=gt(this._indexers),d=c.next(),b.label=4;case 4:return d.done?[3,7]:[4,d.value.removeItem(i)];case 5:b.sent(),b.label=6;case 6:return d=c.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),_={error:p},[3,10];case 9:try{d&&!d.done&&(v=c.return)&&v.call(c)}finally{if(_)throw _.error}return[7];case 10:return[2]}})})},s.prototype._requestClear=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:_.sent(),_.label=2;case 2:_.trys.push([2,7,8,9]),o=gt(this._indexers),i=o.next(),_.label=3;case 3:return i.done?[3,6]:[4,i.value.clear()];case 4:_.sent(),_.label=5;case 5:return i=o.next(),[3,3];case 6:return[3,9];case 7:return c=_.sent(),d={error:c},[3,9];case 8:try{i&&!i.done&&(p=o.return)&&p.call(o)}finally{if(d)throw d.error}return[7];case 9:return[2]}})})},s.prototype.getByKey=function(o){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(o)];case 3:return i=d.sent(),this._mutex.unlock(),[2,za(i)];case 4:throw c=d.sent(),this._mutex.unlock(),c;case 5:return[3,7];case 6:throw Xt.collectionNotReady;case 7:return[2]}})})},s.prototype.query=function(o){if(o===void 0&&(o={}),this.isReady)return new cne({condition:o.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(o.index),backward:!!o.backward});throw Xt.collectionNotReady},s.prototype.insertOne=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Xt.collectionKeyNotGiven;return[4,this._requestInsert(za(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Xt.collectionNotReady;case 9:return[2]}})})},s.prototype.insertMany=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y=this;return Y(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:if(S.trys.push([2,12,,14]),o.some(function(R){return!y._hasPropertyOfKeyName(R)}))throw Xt.collectionKeyNotGiven;S.label=3;case 3:S.trys.push([3,8,9,10]),i=gt(o),c=i.next(),S.label=4;case 4:return c.done?[3,7]:(d=c.value,[4,this._requestInsert(za(d))]);case 5:S.sent(),S.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return S.sent(),this._mutex.unlock(),[2,o];case 12:return _=S.sent(),[4,this._transaction.clear()];case 13:throw S.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Xt.collectionNotReady;case 16:return[2]}})})},s.prototype.upsertOne=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Xt.collectionKeyNotGiven;return[4,this._requestUpsert(za(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Xt.collectionNotReady;case 9:return[2]}})})},s.prototype.upsertMany=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y=this;return Y(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:if(S.trys.push([2,12,,14]),o.some(function(R){return!y._hasPropertyOfKeyName(R)}))throw Xt.collectionKeyNotGiven;S.label=3;case 3:S.trys.push([3,8,9,10]),i=gt(o),c=i.next(),S.label=4;case 4:return c.done?[3,7]:(d=c.value,[4,this._requestUpsert(za(d))]);case 5:S.sent(),S.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return S.sent(),this._mutex.unlock(),[2,o];case 12:return _=S.sent(),[4,this._transaction.clear()];case 13:throw S.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Xt.collectionNotReady;case 16:return[2]}})})},s.prototype.update=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Xt.collectionKeyNotGiven;return[4,this._requestUpdate(za(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Xt.collectionNotReady;case 9:return[2]}})})},s.prototype.updateIf=function(o,i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe=this;return Y(this,function(Ce){switch(Ce.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:Ce.sent(),Ce.label=2;case 2:return Ce.trys.push([2,13,,15]),c=o.where,d=c===void 0?{}:c,p=o.index,_=p===void 0?null:p,v=o.backward,b=v!==void 0&&v,y=[],[4,new l3({condition:d,blockManager:this._blockManager,backward:b,indexer:this._getIndexerBy(_)}).each(function(Le){return X(xe,void 0,void 0,function(){var Fe,ye;return Y(this,function(be){if(Le.error)throw Le.stop(),Le.error;if(Le.hasNext){if(Fe=Le.nextValue,sd(d,Fe)&&i.set){if(typeof i.set!="function")for(ye in i.set)Fe[ye]=i.set[ye];else i.set(Fe);y.push(Fe)}Le.next()}else Le.stop();return[2]})})})];case 3:Ce.sent(),Ce.label=4;case 4:Ce.trys.push([4,9,10,11]),S=gt(y),R=S.next(),Ce.label=5;case 5:return R.done?[3,8]:(V=R.value,[4,this._requestUpdate(za(V))]);case 6:Ce.sent(),Ce.label=7;case 7:return R=S.next(),[3,5];case 8:return[3,11];case 9:return q=Ce.sent(),Z={error:q},[3,11];case 10:try{R&&!R.done&&(se=S.return)&&se.call(S)}finally{if(Z)throw Z.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Ce.sent(),this._mutex.unlock(),[2,y];case 13:return ne=Ce.sent(),[4,this._transaction.clear()];case 14:throw Ce.sent(),this._mutex.unlock(),ne;case 15:return[3,17];case 16:throw this._transaction.clear(),Xt.collectionNotReady;case 17:return[2]}})})},s.prototype.remove=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this._requestRemove(o)];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[3,7];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Xt.collectionNotReady;case 9:return[2]}})})},s.prototype.removeIf=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S,R,V,q,ne,Z,se=this;return Y(this,function(xe){switch(xe.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:xe.sent(),xe.label=2;case 2:return xe.trys.push([2,13,,14]),i=o.where,c=i===void 0?{}:i,d=o.index,p=d===void 0?null:d,_=o.backward,v=_!==void 0&&_,b=[],[4,new l3({condition:c,blockManager:this._blockManager,backward:v,indexer:this._getIndexerBy(p)}).each(function(Ce){return X(se,void 0,void 0,function(){var Le,Fe;return Y(this,function(ye){if(Ce.error)throw Ce.stop(),Ce.error;return Ce.hasNext?(Le=Ce.nextValue,sd(c,Le)&&(Fe=Le[this.keyName],b.push(Fe)),Ce.next()):Ce.stop(),[2]})})})];case 3:xe.sent(),xe.label=4;case 4:xe.trys.push([4,9,10,11]),y=gt(b),S=y.next(),xe.label=5;case 5:return S.done?[3,8]:(R=S.value,[4,this._requestRemove(R)]);case 6:xe.sent(),xe.label=7;case 7:return S=y.next(),[3,5];case 8:return[3,11];case 9:return V=xe.sent(),ne={error:V},[3,11];case 10:try{S&&!S.done&&(Z=y.return)&&Z.call(y)}finally{if(ne)throw ne.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return xe.sent(),this._mutex.unlock(),[2,b];case 13:throw q=xe.sent(),this._mutex.unlock(),q;case 14:return[3,16];case 15:throw this._transaction.clear(),Xt.collectionNotReady;case 16:return[2]}})})},s.prototype.clear=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return i.sent(),[4,this._transaction.commit()];case 4:return i.sent(),this._mutex.unlock(),[3,7];case 5:return o=i.sent(),[4,this._transaction.clear()];case 6:throw i.sent(),this._mutex.unlock(),o;case 7:return[3,9];case 8:throw Xt.collectionNotReady;case 9:return[2]}})})},s.prototype.getBlob=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.get(o)];case 1:return[2,i.sent()]}})})},s.prototype.saveBlob=function(o,i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,this._blobContainer.save(o,i)];case 1:return[2,c.sent()]}})})},s.prototype.removeBlob=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.remove(o)];case 1:return i.sent(),[2]}})})},s.prototype.removeAllBlobs=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,this._blobContainer.clear()];case 1:return o.sent(),[2]}})})},s}(),_3="[NESTDB]",Uv=!0,cd=function(){function s(){}return s.off=function(){Uv=!1},s.log=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Uv&&console.log.apply(console,Kt(["".concat(_3,"[LOG]")],Mt(o),!1))},s.warning=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Uv&&console.warn.apply(console,Kt(["".concat(_3,"[WARNING]")],Mt(o),!1))},s.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Uv&&console.error.apply(console,Kt(["".concat(_3,"[ERROR]")],Mt(o),!1))},s}(),pne=[{},{a:700400,n:"error"}],Pv=function(){function s(o){var i,c,d;this.encryption=(i=o.encryption)!==null&&i!==void 0?i:DN,this.itemSizeLimit=(c=o.itemSizeLimit)!==null&&c!==void 0?c:4194304,this.metadataBuffer=(d=o.metadataBuffer)!==null&&d!==void 0?d:256}return Object.defineProperty(s.prototype,"_encryptionCheckKey",{get:function(){return"".concat(this.dbname,".encrypt")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_reservedKeys",{get:function(){return[this._encryptionCheckKey]},enumerable:!1,configurable:!0}),s.prototype._getRawKey=function(o,i){return i===void 0&&(i=""),"".concat(o).concat(i)},s.prototype._generateShardPostfixArray=function(o){return o===void 0&&(o=1),Kt([],Mt(Array(o).keys()),!1)},s.prototype._shardify=function(o){var i=this,c=o.key,d=o.value,p=JSON.stringify(this.encryption.encrypt(d)),_=Math.ceil(p.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(_).map(function(v){var b={key:i._getRawKey(c,".".concat(v)),data:p.substring(v*i.adjustedItemSizeLimit,(v+1)*i.adjustedItemSizeLimit)};return v===0&&(b.metadata={shards:_}),b})},s.prototype._resetIfEncryptionChanged=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b,y,S=this;return Y(this,function(R){switch(R.label){case 0:return[4,this.get(this._encryptionCheckKey)];case 1:if(o=R.sent(),i={encrypted:pne.map(function(V){var q;return(q=S.encryption)===null||q===void 0?void 0:q.encrypt(V)})},!(o&&o.encrypted&&Array.isArray(o.encrypted)))return[3,5];for(p in c=o.encrypted,d=[],c)d.push(p);_=0,R.label=2;case 2:return _<d.length?(p=d[_])in c?(v=p,b=JSON.stringify(o.encrypted[v]),y=JSON.stringify(i.encrypted[v]),b===y?[3,4]:(cd.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this.clear()])):[3,4]:[3,5];case 3:return R.sent(),[3,5];case 4:return _++,[3,2];case 5:return[4,this.set({key:this._encryptionCheckKey,value:i})];case 6:return R.sent(),[2]}})})},Object.defineProperty(s.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),s.prototype.usage=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return o=0,[4,this._getAllRawKeys()];case 1:i=S.sent(),S.label=2;case 2:S.trys.push([2,7,8,9]),c=gt(i),d=c.next(),S.label=3;case 3:return d.done?[3,6]:(p=d.value,[4,this._getRaw(p)]);case 4:(_=S.sent())&&(o+=JSON.stringify(_).length),S.label=5;case 5:return d=c.next(),[3,3];case 6:return[3,9];case 7:return v=S.sent(),b={error:v},[3,9];case 8:try{d&&!d.done&&(y=c.return)&&y.call(c)}finally{if(b)throw b.error}return[7];case 9:return[2,o]}})})},s.prototype.getAllKeys=function(){return X(this,void 0,void 0,function(){var o=this;return Y(this,function(i){switch(i.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,i.sent().filter(function(c){return c.endsWith(".0")}).map(function(c){return c.replace(/\.0$/,"")}).filter(function(c){return!o._reservedKeys.includes(c)})]}})})},s.prototype.get=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b=this;return Y(this,function(y){switch(y.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:if(!(c=y.sent()))return[3,7];y.label=2;case 2:return y.trys.push([2,6,,7]),d=c.data,(p=c.metadata)!=null&&p.shards&&p.shards>1?[4,Promise.all(this._generateShardPostfixArray(p==null?void 0:p.shards).map(function(S){return X(b,void 0,void 0,function(){var R,V;return Y(this,function(q){switch(q.label){case 0:return S>0?(R=this._getRawKey(o,".".concat(S)),[4,this._getRaw(R)]):[3,2];case 1:if(!(V=q.sent()))throw Xt.storeBrokenIntegrity;return[2,V.data];case 2:return[2,d]}})})}))]:[3,4];case 3:return v=y.sent(),[3,5];case 4:v=[d],y.label=5;case 5:return _=v,[2,this.encryption.decrypt(JSON.parse(_.join("")))];case 6:return y.sent(),[2,null];case 7:return[2,null]}})})},s.prototype.set=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return i=this._shardify(o),[4,this._setRaw(i)];case 1:return c.sent(),[2,Me({},o.value)]}})})},s.prototype.setMany=function(o){return X(this,void 0,void 0,function(){var i,c=this;return Y(this,function(d){switch(d.label){case 0:return i=[],[4,this._setRaw(i.concat.apply(i,Kt([],Mt(o.map(function(p){return c._shardify(p)})),!1)))];case 1:return d.sent(),[2,o.map(function(p){return p.value})]}})})},s.prototype.remove=function(o){return X(this,void 0,void 0,function(){var i,c,d,p=this;return Y(this,function(_){switch(_.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:return(c=_.sent())?(d=c.metadata,[4,this._removeRaw(this._generateShardPostfixArray(d==null?void 0:d.shards).map(function(v){return p._getRawKey(o,".".concat(v))}))]):[3,3];case 2:return _.sent(),[2,!0];case 3:return[2,!1]}})})},s.prototype.removeMany=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S,R=this;return Y(this,function(V){switch(V.label){case 0:i=[],c=function(q){var ne,Z,se;return Y(this,function(xe){switch(xe.label){case 0:return ne=d._getRawKey(q,".0"),[4,d._getRaw(ne)];case 1:return(Z=xe.sent())&&(se=Z.metadata,i.push.apply(i,Kt([],Mt(d._generateShardPostfixArray(se==null?void 0:se.shards).map(function(Ce){return R._getRawKey(q,".".concat(Ce))})),!1))),[2]}})},d=this,V.label=1;case 1:V.trys.push([1,6,7,8]),p=gt(o),_=p.next(),V.label=2;case 2:return _.done?[3,5]:(v=_.value,[5,c(v)]);case 3:V.sent(),V.label=4;case 4:return _=p.next(),[3,2];case 5:return[3,8];case 6:return b=V.sent(),y={error:b},[3,8];case 7:try{_&&!_.done&&(S=p.return)&&S.call(p)}finally{if(y)throw y.error}return[7];case 8:return i.length>0?[4,this._removeRaw(i)]:[3,10];case 9:V.sent(),V.label=10;case 10:return[2,o]}})})},s}(),$a={},Kh=function(s){function o(i){i===void 0&&(i={});var c,d=this;d=s.call(this,Me(Me({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:4194304}))||this;var p=i.delay,_=p===void 0?1:p;return d.delay=_,d.observer={},d}return me(o,s),Object.defineProperty(o.prototype,"rawData",{get:function(){return $a[this.dbname]},set:function(i){$a[this.dbname]=i},enumerable:!1,configurable:!0}),o.prototype._getAllRawKeys=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){if($a[this.dbname])return[2,Object.keys($a[this.dbname])];throw Xt.storeNotAvailable})})},o.prototype._getRaw=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return $a[this.dbname]?[4,Rv(this.delay)]:[3,2];case 1:return c.sent(),[2,$a[this.dbname][i]?Me({key:i},$a[this.dbname][i]):null];case 2:throw Xt.storeNotAvailable}})})},o.prototype._setRaw=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return $a[this.dbname]?[4,Rv(this.delay)]:[3,2];case 1:R.sent();try{for(c=gt(i),d=c.next();!d.done;d=c.next())p=d.value,_=p.key,v=p.data,b=p.metadata,$a[this.dbname][_]=Object.freeze({data:v,metadata:b})}catch(V){y={error:V}}finally{try{d&&!d.done&&(S=c.return)&&S.call(c)}finally{if(y)throw y.error}}return[3,3];case 2:throw Xt.storeNotAvailable;case 3:return[2]}})})},o.prototype._removeRaw=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return $a[this.dbname]?[4,Rv(this.delay)]:[3,2];case 1:b.sent();try{for(c=gt(i),d=c.next();!d.done;d=c.next())p=d.value,$a[this.dbname][p]&&delete $a[this.dbname][p]}catch(y){_={error:y}}finally{try{d&&!d.done&&(v=c.return)&&v.call(c)}finally{if(_)throw _.error}}return[3,3];case 2:throw Xt.storeNotAvailable;case 3:return[2]}})})},o.prototype.observe=function(i,c,d){var p=this;this.observer[i]||(this.observer[i]={}),c.forEach(function(_){return p.observer[i][_]=d})},o.prototype.checkAvailability=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2]})})},o.prototype.init=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this.dbname=i,$a[this.dbname]||($a[this.dbname]={}),[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.set=function(i){return X(this,void 0,void 0,function(){var c,d;return Y(this,function(p){if((c=this.observer[i.key])&&typeof c.set=="function"&&(d=c.set()))throw d;return[2,s.prototype.set.call(this,i)]})})},o.prototype.setMany=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y;return Y(this,function(S){try{for(c=gt(i),d=c.next();!d.done;d=c.next())if(p=d.value,(_=this.observer[p.key])&&typeof _.set=="function"&&(v=_.set()))throw v}catch(R){b={error:R}}finally{try{d&&!d.done&&(y=c.return)&&y.call(c)}finally{if(b)throw b.error}}return[2,s.prototype.setMany.call(this,i)]})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,Rv(this.delay)];case 1:return i.sent(),$a[this.dbname]={},[2]}})})},o}(Pv),DA="NestDBStore";(function(s){s[s.UNINITIALIZED=0]="UNINITIALIZED",s[s.OPENING=1]="OPENING",s[s.OPEN=2]="OPEN",s[s.CLOSED=3]="CLOSED"})(ko||(ko={}));var Gl,fne=function(s){function o(i){i===void 0&&(i={});var c,d=this;return(d=s.call(this,Me(Me({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:104857600}))||this)._storeName=DA,d._state=ko.UNINITIALIZED,d._openJobQueue=[],d._window=typeof window<"u"?window:void 0,d._indexedDb=d._window?d._window.indexedDB||d._window.mozIndexedDB||d._window.webkitIndexedDB||d._window.msIndexedDB:void 0,d}return me(o,s),Object.defineProperty(o.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.prototype._openDatabase=function(i){var c=this;return new Promise(function(d,p){if(c._indexedDb){c._state=ko.OPENING;var _=c._indexedDb.open(i);_.addEventListener("upgradeneeded",function(v){v.target.result.createObjectStore(DA,{keyPath:"key"})}),_.addEventListener("success",function(v){c._state=ko.OPEN,c._database=v.target.result,c._openJobQueue.forEach(function(b){return b()}),c._openJobQueue=[],c._database.onclose=function(){c._database=void 0,c._state=ko.OPENING,setTimeout(function(){c._openDatabase(i)},5)},d(c._database)}),_.addEventListener("error",function(v){c._state=ko.UNINITIALIZED,p(v.target.error)})}else p(Xt.storeNotAvailable)})},o.prototype._getObjectStore=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return this._database?[2,this._database.transaction(this._storeName,i).objectStore(this._storeName)]:[3,1];case 1:switch(this._state){case ko.UNINITIALIZED:case ko.OPEN:return[3,2];case ko.OPENING:case ko.CLOSED:return[3,3]}return[3,4];case 2:throw Xt.storeNotInitialized;case 3:return[2,new Promise(function(p){c._openJobQueue.push(function(){return p(c._getObjectStore(i))})})];case 4:return[4,this._getObjectStore(i)];case 5:return[2,d.sent()]}})})},o.prototype._getAllRawKeys=function(){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return i=c.sent(),[4,new Promise(function(d,p){var _=i.getAllKeys();_.addEventListener("success",function(v){d(v.target.result)}),_.addEventListener("error",function(v){return p(v.target.error)})})];case 2:return[2,c.sent()]}})})},o.prototype._getRaw=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return c=d.sent(),[4,new Promise(function(p,_){var v=c.get(i);v.addEventListener("success",function(b){var y;p((y=b==null?void 0:b.target)===null||y===void 0?void 0:y.result)}),v.addEventListener("error",function(b){return _(b.target.error)})})];case 2:return[2,d.sent()]}})})},o.prototype._setRaw=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return c=d.sent(),[4,Promise.all(i.map(function(p){return new Promise(function(_,v){var b=c.put(p);b.addEventListener("success",function(y){_(y.target.result)}),b.addEventListener("error",function(){v("Failed to write.")})})}))];case 2:return d.sent(),[2]}})})},o.prototype._removeRaw=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return c=d.sent(),[4,Promise.all(i.map(function(p){return new Promise(function(_,v){var b=c.delete(p);b.addEventListener("success",function(){return _(p)}),b.addEventListener("error",function(y){return v(y.target.error)})})}))];case 2:return d.sent(),[2]}})})},o.prototype._triggerDatabaseClose=function(){this._database&&this._database.onclose&&this._database.onclose(new Event("dummy"))},o.prototype.checkAvailability=function(){return X(this,void 0,void 0,function(){var i,c=this;return Y(this,function(d){switch(d.label){case 0:if(!((i=typeof window<"u"?window:null)!=null&&i.indexedDB||i!=null&&i.mozIndexedDB||i!=null&&i.webkitIndexedDB||i!=null&&i.msIndexedDB))return[3,6];if(this._indexedDb=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,!this._window||!Lv())return[3,4];if(!(Lv()&&navigator.userAgent&&navigator.userAgent.includes("Edge/")))return[3,1];if(!this._window.indexedDB&&(i.PointerEvent||i.MSPointerEvent))throw Xt.storeNotAvailableInPrivateBrowsing;return[3,3];case 1:return[4,new Promise(function(p,_){if(c._indexedDb)try{var v=c._indexedDb.open("_testMozilla");v.onerror=function(){return _(Xt.storeNotAvailableInPrivateBrowsing)},v.onsuccess=function(){return p()}}catch{_(Xt.storeNotAvailableInPrivateBrowsing)}else _(Xt.storeNotAvailable)})];case 2:d.sent(),d.label=3;case 3:return[3,5];case 4:throw Xt.storeNotAvailable;case 5:return[3,7];case 6:throw Xt.storeNotAvailable;case 7:return[2]}})})},o.prototype.init=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this.checkAvailability()];case 1:return c.sent(),[4,this._openDatabase(i)];case 2:return c.sent(),[4,this._resetIfEncryptionChanged()];case 3:return c.sent(),[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return i=c.sent(),[4,new Promise(function(d,p){var _=i.clear();_.addEventListener("success",function(){return d()}),_.addEventListener("error",function(v){return p(v.target.error)})})];case 2:return[2,c.sent()]}})})},o}(Pv),_ne=function(s){function o(i){var c=this,d=i.AsyncStorage,p=i.itemSizeLimit,_=p===void 0?6291456:p,v=function(b,y){var S={};for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&y.indexOf(R)<0&&(S[R]=b[R]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var V=0;for(R=Object.getOwnPropertySymbols(b);V<R.length;V++)y.indexOf(R[V])<0&&Object.prototype.propertyIsEnumerable.call(b,R[V])&&(S[R[V]]=b[R[V]])}return S}(i,["AsyncStorage","itemSizeLimit"]);return(c=s.call(this,Me(Me({},v),{itemSizeLimit:_}))||this)._asyncStorage=d,c}return me(o,s),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return X(this,void 0,void 0,function(){var i=this;return Y(this,function(c){switch(c.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,c.sent().filter(function(d){return i._isBelonging(d)}).map(function(d){return d.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(i))];case 1:return[2,(c=d.sent())?JSON.parse(c):null]}})})},o.prototype._setRaw=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:c=[];try{for(d=gt(i),p=d.next();!p.done;p=d.next())_=p.value,v=_.key,_.data.length<=this.adjustedItemSizeLimit&&c.push([this._getActualKey(v),JSON.stringify(_)])}catch(R){b={error:R}}finally{try{p&&!p.done&&(y=d.return)&&y.call(d)}finally{if(b)throw b.error}}return[4,this._asyncStorage.multiSet(c)];case 1:return S.sent(),[2]}})})},o.prototype._removeRaw=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return[4,this._asyncStorage.multiRemove(i.map(function(p){return c._getActualKey(p)}))];case 1:return d.sent(),[2]}})})},o.prototype.checkAvailability=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){if(!this._asyncStorage)throw Xt.storeNotAvailable;return[2]})})},o.prototype.init=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})},o}(Pv);(function(s){function o(i){var c,d=this;return(d=s.call(this,Me(Me({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:6291456}))||this)._mmkv=i.MMKV,d}me(o,s),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return X(this,void 0,void 0,function(){var i=this;return Y(this,function(c){switch(c.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,c.sent().filter(function(d){return i._isBelonging(d)}).map(function(d){return d.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return[4,this._mmkv.getString(this._getActualKey(i))];case 1:return[2,(c=d.sent())?JSON.parse(c):null]}})})},o.prototype._setRaw=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){try{for(c=gt(i),d=c.next();!d.done;d=c.next())p=d.value,_=p.key,p.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(_),JSON.stringify(p))}catch(S){v={error:S}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}}return[2]})})},o.prototype._removeRaw=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){try{for(c=gt(i),d=c.next();!d.done;d=c.next())p=d.value,this._mmkv.delete(this._getActualKey(p))}catch(y){_={error:y}}finally{try{d&&!d.done&&(v=c.return)&&v.call(c)}finally{if(_)throw _.error}}return[2]})})},o.prototype.checkAvailability=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){if(!this._mmkv)throw Xt.storeNotAvailable;return[2]})})},o.prototype.init=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})}})(Pv),function(s){s.INIT="INIT",s.OPENING="OPENING",s.OPENED="OPENED",s.CLOSED="CLOSED"}(Gl||(Gl={}));var Gi,mne=function(){function s(o){var i=o.name,c=o.version,d=o.store,p=o.config;this.name=i,this._version=c,this._state=Gl.INIT,this._config=p||new Ov({dbname:i}),this._store=d,this._event={success:nf,error:nf,storeReplaced:nf,upgrade:AA},this._collections=new Map,this._globalMutex=new p3("".concat(this.name,".lock")),this._config.disableLogger&&cd.off(),new Zs({dbname:i,limit:this._config.cacheLimit})}return Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),s.prototype.estimateUsage=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,(i=this._store,X(void 0,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,i.usage()];case 1:return[2,c.sent()]}})}))];case 1:return[2,o.sent()]}var i})})},s.prototype.commitSchema=function(o){return X(this,void 0,void 0,function(){var i=this;return Y(this,function(c){switch(c.label){case 0:return this._state!==Gl.OPENING?[3,2]:[4,Promise.all(o.map(function(d){return X(i,void 0,void 0,function(){var p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return p=d.collectionName,_=d.keyName,v=d.index,b=v===void 0?[]:v,this._collections.has(p)||this._collections.set(p,new f3({dbname:this.name,collectionName:p,keyName:_,indexes:b,store:this._store})),(y=this._collections.get(p))?[4,y.init()]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})})}))];case 1:return c.sent(),[3,3];case 2:throw Xt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},s.prototype.open=function(){var o;return X(this,void 0,void 0,function(){var i,c,d,p,_=this;return Y(this,function(v){switch(v.label){case 0:return[4,this._globalMutex.lock()];case 1:if(v.sent(),this._state===Gl.OPENED)return[3,12];this._state=Gl.OPENING,v.label=2;case 2:return v.trys.push([2,5,,12]),[4,this._store.init(this.name)];case 3:return v.sent(),b=this.name,i="".concat(c3(b),".metadata"),c={version:0,collectionNames:[]},[4,this._store.get(i)];case 4:return d=(o=v.sent())!==null&&o!==void 0?o:c,[2,new Promise(function(y,S){var R=function(q){d.version<_._version?_._event.upgrade(d.version,function(ne){return X(_,void 0,void 0,function(){var Z;return Y(this,function(se){switch(se.label){case 0:if(ne)return[3,5];d.version++,d.collectionNames=Array.from(this._collections.keys()),se.label=1;case 1:return se.trys.push([1,3,,4]),[4,this._store.set({key:i,value:d})];case 2:return se.sent(),q({continued:!0}),[3,4];case 3:return Z=se.sent(),q({continued:!1,err:Z}),[3,4];case 4:return[3,6];case 5:q({continued:!1,err:ne}),se.label=6;case 6:return[2]}})})}):q({continued:!1})},V=function(q){var ne=q.continued,Z=ne!==void 0&&ne,se=q.err,xe=se===void 0?null:se;if(Z)setTimeout(function(){return R(V)},10);else if(xe)cd.error(xe.message),_._globalMutex.unlock(),_._event.error(xe),S(xe);else{var Ce=[];d.collectionNames.forEach(function(Le){var Fe=_._collections.get(Le);Fe&&Fe.state===ad.READY||Ce.push(X(_,void 0,void 0,function(){var ye,be;return Y(this,function(nn){switch(nn.label){case 0:return[4,f3.metadataOf(this.name,Le,this._store)];case 1:return(ye=nn.sent())?(be=new f3({dbname:this.name,collectionName:Le,keyName:ye.keyName,indexes:ye.indexes,store:this._store}),this._collections.set(Le,be),[4,be.init()]):[3,3];case 2:nn.sent(),nn.label=3;case 3:return[2]}})}))}),Promise.all(Ce).then(function(){_._state=Gl.OPENED,_._globalMutex.unlock(),_._event.success(),y()}).catch(function(Le){cd.error(Le.message),_._globalMutex.unlock(),_._event.error(Le),S(Le)})}};R(V)})];case 5:switch((p=v.sent()).code){case kr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case kr.STORE_NOT_AVAILABLE:return[3,8]}return[3,10];case 6:return cd.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."),this._store=new Kh({}),this._globalMutex.unlock(),this._event.error(p),this._event.storeReplaced(this._store),[4,this.open()];case 7:return v.sent(),[3,11];case 8:return cd.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Kh({}),this._globalMutex.unlock(),this._event.error(p),this._event.storeReplaced(this._store),[4,this.open()];case 9:return v.sent(),[3,11];case 10:throw cd.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 11:return[3,12];case 12:return[2]}var b})})},s.prototype.close=function(){this._collections.forEach(function(o){return o.close()}),this._state=Gl.CLOSED},s.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(i){return i.clear()}))];case 1:return o.sent(),[2]}})})},s.prototype.reset=function(){return X(this,void 0,void 0,function(){var o,i=this;return Y(this,function(c){switch(c.label){case 0:return this.close(),(o=Zs.get(this.name))&&o.clearByCondition(function(d){return d.key.startsWith(c3(i.name))}),[4,this._store.clear()];case 1:return c.sent(),[2]}})})},s.prototype.on=function(o,i){this._event[o]=i},s.prototype.off=function(o){typeof this._event[o]=="function"&&(this._event[o]=o==="upgrade"?AA:nf)},s.prototype.collection=function(o){var i=this._collections.get(o);if(i)return i;throw Xt.collectionNotReady},s}(),Fv=function(){function s(){this.messageTypeFilter=ys.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Es.NONE}return s.prototype.clone=function(){var o=new s,i=JSON.parse(JSON.stringify(this));return Object.keys(i).forEach(function(c){o[c]=i[c]}),o},s.prototype.match=function(o){switch(this.messageTypeFilter){case ys.USER:if(o.messageType!==Qr.USER)return!1;break;case ys.FILE:if(o.messageType!==Qr.FILE)return!1;break;case ys.ADMIN:if(o.messageType!==Qr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(o.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(o instanceof rd)||!this.senderUserIdsFilter.includes(o.sender.userId)))return!1;switch(this.replyType){case Es.NONE:if(o.parentMessageId>0)return!1;break;case Es.ONLY_REPLY_TO_CHANNEL:if(o instanceof rd&&o.parentMessageId>0&&!o.replyToChannel)return!1}return!0},s}();(function(s){s.CHANNEL_LATEST="channel_latest",s.NEWEST_CHILD_MESSAGE="newest_child_message"})(Gi||(Gi={}));var rf,jl=function(s){switch(s){case Gi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Gi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}};Me(Me({},uA),{scheduledAt:void 0}),Me(Me({},Nv),{scheduledAt:0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1});var LA="UnsentMessage",Hv={},Wh=function(s){function o(i){var c=s.call(this,i)||this;return c._mutex=new p3("unsendmessagecache.lock"),Hv[i]=c,c}return me(o,s),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Je.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),o.of=function(i,c){return c===void 0&&(c=!1),Hv[i]&&!c||(Hv[i]=new o(i)),Hv[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb,c=i==null?void 0:i.collection(LA);if(!c)throw Ke.databaseError;return c},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){if(i.messageId>0)throw Ke.invalidParameters;var c,d=Me({},i.serialize());return i instanceof Va?(i.messageParams&&(d.messageParams=cA(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(d.scheduledInfo.scheduledMessageParams=(c=i.scheduledInfo.scheduledMessageParams,Me(Me({},cA(c)),{scheduledAt:c.scheduledAt})))):i instanceof Ei?(i.messageParams&&(d.messageParams=dA(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(d.scheduledInfo.scheduledMessageParams=function(p){return Me(Me({},dA(p)),{scheduledAt:p.scheduledAt})}(i.scheduledInfo.scheduledMessageParams))):i instanceof Xs&&i.messageParams&&(d.messageParams=function(p){return at({fileInfoList:p.fileInfoList,isReplyToChannel:p.isReplyToChannel,pushNotificationDeliveryOption:p.pushNotificationDeliveryOption})}(i.messageParams)),d},o.prototype._deserialize=function(i){return i=Me(Me({},i),{messageId:parseInt(i.messageId)}),ra.of(this._iid).buildMessageFromSerializedData(i)},o.prototype._deserializeWithMessageCreateParams=function(i){var c,d,p;return X(this,void 0,void 0,function(){var _,v,b,y,S,R,V=this;return Y(this,function(q){switch(q.label){case 0:return _=ra.of(this._iid),v=this._deserialize(i),i.messageParams?v instanceof Va?(y=i.messageParams,v.messageParams=_.buildUserMessageCreateParamsFromSerializedData(y,v),[3,6]):[3,1]:[3,6];case 1:return v instanceof Ei?(y=i.messageParams).fileKey&&typeof y.fileKey=="string"&&r3((c=y.fileType)!==null&&c!==void 0?c:"")?(b=y,[4,this.collection.getBlob(y.fileKey)]):[3,3]:[3,4];case 2:b.file=(d=q.sent())!==null&&d!==void 0?d:void 0,q.label=3;case 3:return v.messageParams=_.buildFileMessageCreateParamsFromSerializedData(y,v),[3,6];case 4:return v instanceof Xs&&(y=i.messageParams)&&y.fileInfoList?(v.messageParams=_.buildMultipleFilesMessageCreateParamsFromSerializedData(y,v),[4,Promise.all(v.messageParams.fileInfoList.map(function(ne){return X(V,void 0,void 0,function(){var Z,se,xe,Ce,Le;return Y(this,function(Fe){switch(Fe.label){case 0:return typeof((se=ne._uploadedMetaData)===null||se===void 0?void 0:se.fileKey)=="string"&&r3((Ce=(xe=ne._uploadedMetaData)===null||xe===void 0?void 0:xe.fileType)!==null&&Ce!==void 0?Ce:"")?(Z=ne,[4,this.collection.getBlob(ne._uploadedMetaData.fileKey)]):[3,2];case 1:Z.file=(Le=Fe.sent())!==null&&Le!==void 0?Le:void 0,Fe.label=2;case 2:return[2]}})})}))]):[3,6];case 5:q.sent(),q.label=6;case 6:return v.scheduledInfo&&i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams?v instanceof Va?(S=i.scheduledInfo.scheduledMessageParams,v.scheduledInfo.scheduledMessageParams=_.buildScheduledUserMessageCreateParamsFromSerializedData(S,v),[3,10]):[3,7]:[3,10];case 7:return v instanceof Ei?(S=i.scheduledInfo.scheduledMessageParams).fileKey&&typeof S.fileKey=="string"&&typeof S.fileType=="string"&&r3(S.fileType)?(R=S,[4,this.collection.getBlob(S.fileKey)]):[3,9]:[3,10];case 8:R.file=(p=q.sent())!==null&&p!==void 0?p:void 0,q.label=9;case 9:v.scheduledInfo.scheduledMessageParams=_.buildScheduledFileMessageCreateParamsFromSerializedData(S,v),q.label=10;case 10:return[2,v]}})})},o.prototype._getFileInfoBlobKey=function(i,c){return"".concat(i,".").concat(c)},o.prototype.get=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=d.sent())return[2,this._deserializeWithMessageCreateParams(c)];d.label=2;case 2:return[2,void 0]}})})},o.prototype.fetch=function(i){var c=i.channelUrl,d=i.filter,p=d===void 0?new Fv:d,_=i.order,v=_===void 0?Gi.CHANNEL_LATEST:_,b=i.sendingStatus,y=i.backward,S=y!==void 0&&y,R=i.parentMessageId;return X(this,void 0,void 0,function(){var V,q,ne,Z,se=this;return Y(this,function(xe){switch(xe.label){case 0:return this.localCacheEnabled?(V=jl(v),q={"/where":function(Ce){return!!(v!==Gi.NEWEST_CHILD_MESSAGE||R&&Ce.parentMessageId!==0&&Ce.parentMessageId===R)&&p.match(se._deserialize(Ce))}},c&&(q.channelUrl=c),b&&(q.sendingStatus=b),ne={where:q,index:V,backward:S},[4,this.collection.query(ne)]):[3,3];case 1:return[4,xe.sent().fetch({})];case 2:return Z=xe.sent(),[2,Promise.all(Z.map(function(Ce){return X(se,void 0,void 0,function(){return Y(this,function(Le){switch(Le.label){case 0:return[4,this._deserializeWithMessageCreateParams(Ce)];case 1:return[2,Le.sent()]}})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new Fv),X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return[4,this.fetch({filter:c,order:Gi.NEWEST_CHILD_MESSAGE,channelUrl:i.channelUrl,backward:!1,parentMessageId:i.messageId})];case 1:return[2,d.sent()]}})})},o.prototype.upsert=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return X(c,void 0,void 0,function(){var _;return Y(this,function(v){switch(v.label){case 0:return p instanceof Ei||p instanceof Xs?[4,this._mutex.lock()]:[3,4];case 1:return v.sent(),[4,this.saveBlob(p)];case 2:return v.sent(),[4,this._mutex.unlock()];case 3:v.sent(),v.label=4;case 4:return _=this._serialize(p),[4,this.collection.upsertOne(_)];case 5:return v.sent(),[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},o.prototype.upsertChildMessages=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return X(c,void 0,void 0,function(){var _;return Y(this,function(v){switch(v.label){case 0:return _=[],p.threadInfo&&p.threadInfo.replyCount>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=v.sent(),v.label=2;case 2:return _.length>0?(_.forEach(function(b){return b.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:v.sent(),v.label=4;case 4:return[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:if(!this.localCacheEnabled)return[3,8];y.label=1;case 1:y.trys.push([1,6,7,8]),c=gt(i),d=c.next(),y.label=2;case 2:return d.done?[3,5]:(p=d.value,[4,this.collection.remove(p)]);case 3:y.sent(),y.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return _=y.sent(),v={error:_},[3,8];case 7:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i}})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.saveBlob=function(i){return X(this,void 0,void 0,function(){var c,d,p,_=this;return Y(this,function(v){switch(v.label){case 0:return i instanceof Ei?i.messageParams&&(p=i.messageParams).file&&Iv(p.file)?[4,this.collection.saveBlob(p.file,i.reqId)]:[3,2]:[3,5];case 1:d=v.sent(),p.fileKey=d,p.fileType=id.BLOB,v.label=2;case 2:return i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(c=i.scheduledInfo.scheduledMessageParams).file&&Iv(c.file)?[4,this.collection.saveBlob(c.file,i.reqId)]:[3,4];case 3:d=v.sent(),c.fileKey=d,c.fileType=id.BLOB,v.label=4;case 4:return[3,7];case 5:return i instanceof Xs&&(p=i.messageParams)&&p.fileInfoList&&Array.isArray(p.fileInfoList)?[4,Promise.all(p.fileInfoList.map(function(b,y){return X(_,void 0,void 0,function(){var S;return Y(this,function(R){switch(R.label){case 0:return b.file&&Iv(b.file)?[4,this.collection.saveBlob(b.file,this._getFileInfoBlobKey(i.reqId,y))]:[3,2];case 1:S=R.sent(),b._uploadedMetaData||(b._uploadedMetaData={}),b._uploadedMetaData.fileKey=S,b._uploadedMetaData.fileType=id.BLOB,R.label=2;case 2:return[2]}})})}))]:[3,7];case 6:v.sent(),v.label=7;case 7:return[2]}})})},o}(Ts),Bv={},Vv=function(s){function o(i){var c=s.call(this,i)||this;return Bv[i]=c,c}return me(o,s),Object.defineProperty(o.prototype,"_sdkState",{get:function(){return Je.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Je.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return Wh.of(this._iid)},enumerable:!1,configurable:!0}),o.of=function(i,c){return c===void 0&&(c=!1),Bv[i]&&!c||(Bv[i]=new o(i)),Bv[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return Mn(!!i).throw(Ke.databaseError),i.collection(TA)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){return Me(Me({},i.serialize()),{messageId:"".concat(i.messageId)})},o.prototype._deserialize=function(i){return i=Me(Me({},i),{messageId:parseInt(i.messageId)}),ra.of(this._iid).buildMessageFromSerializedData(i)},o.prototype.get=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=d.sent())return[2,this._deserialize(c)];d.label=2;case 2:return[2,void 0]}})})},o.prototype.fetch=function(i){var c=i.channelUrl,d=i.token,p=i.limit,_=p===void 0?100:p,v=i.filter,b=v===void 0?new Fv:v,y=i.order,S=y===void 0?Gi.CHANNEL_LATEST:y,R=i.backward,V=R!==void 0&&R,q=i.parentMessageId,ne=i.isPollOnly,Z=ne!==void 0&&ne,se=i.exactMatch,xe=se!==void 0&&se,Ce=i.inclusive,Le=Ce===void 0||Ce;return X(this,void 0,void 0,function(){var Fe,ye,be,nn=this;return Y(this,function(Ze){switch(Ze.label){case 0:return this.localCacheEnabled?(Fe=jl(S),ye={where:{channelUrl:c,"/where":function(Qe){if(d)switch(S){case Gi.CHANNEL_LATEST:if(xe&&Qe.createdAt!==d)return!1;if(V){if(Le&&Qe.createdAt<d||!Le&&Qe.createdAt<=d)return!1}else if(Le&&Qe.createdAt>d||!Le&&Qe.createdAt>=d)return!1;break;case Gi.NEWEST_CHILD_MESSAGE:if(!q||Qe.parentMessageId===0||Qe.parentMessageId!==q)return!1}return!(Z&&!Qe._poll)&&b.match(nn._deserialize(Qe))}},index:Fe,backward:V},[4,this.collection.query(ye)]):[3,3];case 1:return[4,Ze.sent().fetch({limit:_??void 0})];case 2:return be=Ze.sent(),[2,Promise.all(be.map(function(Qe){return X(nn,void 0,void 0,function(){return Y(this,function(Sn){return[2,this._deserialize(Qe)]})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new Fv),X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return[4,this.fetch({channelUrl:i.channelUrl,token:Date.now(),limit:null,backward:!1,filter:c,order:Gi.NEWEST_CHILD_MESSAGE,parentMessageId:i.messageId})];case 1:return[2,d.sent()]}})})},o.prototype.upsert=function(i){return X(this,void 0,void 0,function(){var c,d=this;return Y(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(i)]:[3,5];case 1:return p.sent(),c=i.map(function(_){return d._serialize(_)}),[4,this.collection.upsertMany(c)];case 2:return p.sent(),[4,this.upsertChildMessages(i)];case 3:return p.sent(),[4,this._unsentMessageCache.upsertChildMessages(i)];case 4:p.sent(),p.label=5;case 5:return[2]}})})},o.prototype.upsertChildMessages=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return X(c,void 0,void 0,function(){var _,v;return Y(this,function(b){switch(b.label){case 0:return _=[],!((v=p.threadInfo)===null||v===void 0)&&v.replyCount&&p.threadInfo.replyCount>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=b.sent(),b.label=2;case 2:return _.length>0?(_.forEach(function(y){return y.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:if(!this.localCacheEnabled)return[3,8];y.label=1;case 1:y.trys.push([1,6,7,8]),c=gt(i),d=c.next(),y.label=2;case 2:return d.done?[3,5]:(p=d.value,[4,this.collection.remove("".concat(p))]);case 3:y.sent(),y.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return _=y.sent(),v={error:_},[3,8];case 7:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i},index:jl(Gi.CHANNEL_LATEST)})]:[3,6];case 1:return d.sent(),[4,(c=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 2:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 3:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 4:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 5:d.sent(),d.label=6;case 6:return[2]}})})},o.prototype.removeUnderOffset=function(i,c){return X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i,createdAt:{"<":c}},index:jl(Gi.CHANNEL_LATEST)})]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.countBetween=function(i,c,d){return X(this,void 0,void 0,function(){var p,_=this;return Y(this,function(v){switch(v.label){case 0:return this.localCacheEnabled?(p=jl(Gi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:i,"/where":function(b){var y=_._deserialize(b);return d.includes(y.createdAt)&&c.match(y)}},index:p}).count()]):[3,2];case 1:return[2,v.sent()];case 2:return[2,0]}})})},o.prototype.saveBlobs=function(i){return X(this,void 0,void 0,function(){var c=this;return Y(this,function(d){switch(d.label){case 0:return[4,Promise.all(i.map(function(p){return X(c,void 0,void 0,function(){var _,v;return Y(this,function(b){switch(b.label){case 0:return p instanceof Ei&&p.messageParams&&(_=p.messageParams).file&&Iv(_.file)?[4,this.collection.saveBlob(_.file,p.reqId)]:[3,2];case 1:v=b.sent(),_.fileKey=v,b.label=2;case 2:return[2]}})})}))];case 1:return d.sent(),[2]}})})},o.prototype._getGroupChannelPreferenceSize=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return c=0,[4,(d=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 1:return p=y.sent(),[4,d.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 2:return _=y.sent(),[4,d.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 3:return v=y.sent(),[4,d.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 4:return b=y.sent(),p&&(c+=JSON.stringify(p).length),_&&(c+=JSON.stringify(_).length),v&&(c+=JSON.stringify(v).length),b&&(c+=JSON.stringify(b).length),[2,c]}})})},o}(Ts),af={},UA=function(s){function o(i){var c=s.call(this,i)||this;return c._observers=new Map,c._dispatcherContext=c._dispatcher.on(function(d){return X(c,void 0,void 0,function(){var p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le=this;return Y(this,function(Fe){switch(Fe.label){case 0:return d instanceof Ui?(p=d.messages,xe=d.source,y=d.isWebSocketEventComing,_=p.filter(function(ye){return ye.messageId>0}),v=p.filter(function(ye){return ye.messageId===0}),_.length>0?[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._messageCache.upsert(_)];case 1:return ye.sent(),[4,this._unsentMessageCache.remove(_.map(function(be){return be instanceof rd?be.reqId:null}).filter(function(be){return be!==null}))];case 2:return ye.sent(),[2]}})})})]:[3,2]):[3,5];case 1:Fe.sent(),y||this._broadcastUpdateEvent(_,xe),Fe.label=2;case 2:return v.length>0?[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._unsentMessageCache.upsert(v)];case 1:return ye.sent(),[2]}})})})]:[3,4];case 3:Fe.sent(),y||this._broadcastUpdateEvent(v,xe),Fe.label=4;case 4:return[3,21];case 5:return d instanceof VI?(b=d.messageIds,xe=d.source,y=d.isWebSocketEventComing,[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._messageCache.remove(b)];case 1:return ye.sent(),[2]}})})})]):[3,7];case 6:return Fe.sent(),y||this._broadcastRemoveEvent(b,xe),[3,21];case 7:return d instanceof oJ?(S=d.reqId,xe=d.source,[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._unsentMessageCache.remove([S])];case 1:return ye.sent(),[2]}})})})]):[3,9];case 8:return Fe.sent(),this._broadcastRemoveUnsentEvent(S,xe),[3,21];case 9:return d instanceof zI?(R=d.polls,xe=d.source,this._cacheContext.localCacheEnabled?(V=R.map(function(ye){return ye.messageId}),[4,Promise.all(V.map(function(ye){return Le._messageCache.get(ye)}))]):[3,12]):[3,13];case 10:return(q=Fe.sent().filter(function(ye){return ye})).length>0&&R.forEach(function(ye){var be=q.find(function(nn){return nn.messageId===ye.messageId});be&&be.applyPoll(ye)}),[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._messageCache.upsert(q)];case 1:return[2,ye.sent()]}})})})];case 11:Fe.sent(),Fe.label=12;case 12:return this._broadcastPollChangeLogEvent(R,xe),[3,21];case 13:return d instanceof $I?(ne=d.event,xe=d.source,[4,this._messageCache.get(ne.messageId)]):[3,17];case 14:return(Z=Fe.sent())&&Z.isUserMessage()&&Z.poll&&Z.poll.applyPollUpdateEvent(ne)?[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._messageCache.upsert([Z])];case 1:return[2,ye.sent()]}})})})]:[3,16];case 15:Fe.sent(),Fe.label=16;case 16:return this._broadcastPollUpdateEvent(ne,xe),[3,21];case 17:return d instanceof YE?(se=d.event,xe=d.source,[4,this._messageCache.get(se.messageId)]):[3,21];case 18:return(Ce=Fe.sent())&&Ce.isUserMessage()&&Ce.poll&&Ce.poll.applyPollVoteEvent(se)?[4,Ss(function(){return X(Le,void 0,void 0,function(){return Y(this,function(ye){switch(ye.label){case 0:return[4,this._messageCache.upsert([Ce])];case 1:return[2,ye.sent()]}})})})]:[3,20];case 19:Fe.sent(),Fe.label=20;case 20:this._broadcastPollVoteEvent(se,xe),Fe.label=21;case 21:return[2]}})})}),c}return me(o,s),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Je.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_dispatcher",{get:function(){return Je.of(this._iid).dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_messageCache",{get:function(){return Vv.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return Wh.of(this._iid)},enumerable:!1,configurable:!0}),o.of=function(i,c){var d;return c===void 0&&(c=!1),af[i]&&!c||(af[i]&&((d=af[i]._dispatcherContext)===null||d===void 0||d.close()),af[i]=new o(i)),af[i]},o.prototype._broadcastUpdateEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onUpdate&&b.onUpdate(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype._broadcastPollChangeLogEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onPollChangeLogUpdate&&b.onPollChangeLogUpdate(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype._broadcastPollUpdateEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onPollUpdate&&b.onPollUpdate(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype._broadcastPollVoteEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onPollVote&&b.onPollVote(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype._broadcastRemoveEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onRemove&&b.onRemove(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype._broadcastRemoveUnsentEvent=function(i,c){var d,p;try{for(var _=gt(this._observers.values()),v=_.next();!v.done;v=_.next()){var b=v.value;b.onRemoveUnsent&&b.onRemoveUnsent(i,c)}}catch(y){d={error:y}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}},o.prototype.subscribe=function(i,c){this._observers.set(i,c)},o.prototype.unsubscribe=function(i){this._observers.delete(i)},o.prototype.unsubscribeAll=function(){this._observers.clear()},o}(Ts),PA={},ra=function(){function s(o,i){var c=i.sdkState,d=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,v=i.cacheContext;this._iid=o,this._sdkState=c,this._requestQueue=p,this._dispatcher=d,this._cacheContext=v,Vv.of(o),Wh.of(o),UA.of(o),this.fileMessageQueue=new CJ(o,{sdkState:c,dispatcher:d,requestQueue:p,onlineDetector:_,cacheContext:v}),PA[o]=this}return s.of=function(o){return PA[o]},s.prototype.buildMessageFromSerializedData=function(o){var i=Wp(o);switch(i.messageType){case Qr.USER:return new Va(this._iid,Va.payloadify(i));case Qr.FILE:return Xs._isMultipleFilesMessageSerializedData(i)?new Xs(this._iid,Xs.payloadify(i)):new Ei(this._iid,Ei.payloadify(i));case Qr.ADMIN:return new Zp(this._iid,Zp.payloadify(i))}throw Ke.invalidParameters},s.prototype.buildUserMessageCreateParamsFromSerializedData=function(o,i){return at(pt({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,message:i.message,translationTargetLanguages:Object.keys(i.translations),pollId:o.pollId}))},s.prototype.buildFileMessageCreateParamsFromSerializedData=function(o,i){var c;return at(pt({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,file:o.file,fileKey:o.fileKey,fileUrl:i.plainUrl,fileName:i.name,fileSize:i.size,mimeType:i.type,thumbnailSizes:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(d){return{maxWidth:d.width,maxHeight:d.height}}),fileType:o.fileType,requireAuth:i.requireAuth}))},s.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData=function(o,i){return at({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,fileInfoList:o.fileInfoList})},s.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(o,i){return Me(Me({},this.buildUserMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},s.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(o,i){return Me(Me({},this.buildFileMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},s.prototype.buildSenderFromSerializedData=function(o){var i=Wp(o);return new qh(this._iid,qh.payloadify(i))},s.prototype.getMessage=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return i=new NJ(o),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(IJ).message]}})})},s.prototype.getScheduledMessage=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:return i=new RJ(o),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(MJ).message]}})})},s.prototype.getMessagesByMessageId=function(o,i,c,d,p){return p===void 0&&(p=Tr.REQUEST_MESSAGE),X(this,void 0,void 0,function(){var _,v,b;return Y(this,function(y){switch(y.label){case 0:return _=new Tv(Me(Me({channelType:i,channelUrl:o,token:String(c)},Jp),d)),[4,this._requestQueue.send(_)];case 1:return v=y.sent(),b=v.as(kv).messages,this._dispatcher.dispatch(new Ui({messages:b,source:p})),[2,b]}})})},s.prototype.getMessagesByTimestamp=function(o,i,c,d,p){return p===void 0&&(p=Tr.REQUEST_MESSAGE),X(this,void 0,void 0,function(){var _,v,b;return Y(this,function(y){switch(y.label){case 0:return _=new Tv(Me(Me({channelType:i,channelUrl:o,timestamp:c},Jp),d)),[4,this._requestQueue.send(_)];case 1:return v=y.sent(),b=v.as(kv).messages,this._dispatcher.dispatch(new Ui({messages:b,source:p})),[2,b]}})})},s.prototype._getMessagesByTimestampForCollection=function(o,i,c,d,p,_){return p===void 0&&(p=Tr.REQUEST_MESSAGE),X(this,void 0,void 0,function(){var v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return v=new Tv(Me(Me(Me({channelType:i,channelUrl:o,timestamp:c},Jp),d),{checkingContinuousMessages:_})),[4,this._requestQueue.send(v)];case 1:return b=R.sent(),y=b.payload,S=b.as(kv).messages,this._dispatcher.dispatch(new Ui({messages:S,source:p})),[2,{messages:S,isContinuousMessages:y}]}})})},s.prototype.getThreadedMessagesByTimestamp=function(o,i,c,d){return d===void 0&&(d=Tr.REQUEST_THREADED_MESSAGE),X(this,void 0,void 0,function(){var p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return p=new Tv(Me(Me(Me({channelUrl:o.channelUrl,channelType:o.channelType,timestamp:i},Xp),c),{replyType:Es.ALL,parentMessageId:o.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return _=y.sent(),v=_.as(kv).messages,(b=v.slice(1)).forEach(function(S){S.parentMessage=o}),this._dispatcher.dispatch(new Ui({messages:b,source:d})),[2,{parentMessage:v[0],threadedMessages:b}]}})})},s.prototype.getMessageChangelogs=function(o,i,c,d,p){return p===void 0&&(p=Tr.REQUEST_MESSAGE_CHANGELOGS),X(this,void 0,void 0,function(){var _,v,b,y,S,R,V,q;return Y(this,function(ne){switch(ne.label){case 0:return _=new AJ(at(pt(Me(Me({channelType:i,channelUrl:o,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null},n3),d)))),[4,this._requestQueue.send(_)];case 1:return v=ne.sent(),b=v.as(OJ),y=b.updatedMessages,S=b.deletedMessagesInfo,R=b.hasMore,V=b.nextToken,q=S.map(function(Z){return Z.messageId}),y.length>0&&this._dispatcher.dispatch(new Ui({messages:y,source:p})),q.length>0&&this._dispatcher.dispatch(new VI({messageIds:q,source:p})),[2,{updatedMessages:y,deletedMessageIds:q,hasMore:R,token:V}]}})})},s}(),vne=function(s){function o(i,c){var d=s.call(this,i)||this;d.targetMessageId=0;var p=c.thread_info,_=c.parent_message_id,v=c.channel_url,b=c.channel_type;return p&&$e("object",p)&&$e("number",_)&&$e("string",v)&&$e("string",b)&&(d.threadInfo=new ZE(i,p),d.targetMessageId=_,d.channelUrl=v,d.channelType=b),d}return me(o,s),o}(Ts),gne={channelUrl:"",channelType:or.BASE,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},bne=function(s){function o(i){var c=i.channelCustomType,d=i.keyword,p=i.limit,_=i.reverse,v=i.exactMatch,b=i.channelUrl,y=i.order,S=i.messageTimestampFrom,R=i.messageTimestampTo,V=i.advancedQuery,q=i.targetFields,ne=i.nextToken,Z=s.call(this)||this;return Z.method=An.GET,Z.path="".concat(LX,"/messages"),Z.params={custom_type:c,query:d,limit:p,reverse:_,exact_match:v,channel_url:b,message_ts_from:S,message_ts_to:R,sort_field:y,advanced_query:V,target_fields:q,after:ne},Z}return me(o,s),o}(Rn),yne=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.messages=c.results.map(function(p){return $l(i,p)}),d.hasNext=c.has_next,d.nextToken=c.end_cursor,d.totalCount=c.total_count,d}return me(o,s),o}(Pn);(function(s){s.SCORE="score",s.TIMESTAMP="ts"})(rf||(rf={}));var ia,Ene=function(s){function o(i,c){var d,p,_,v,b,y,S,R,V,q=this;return(q=s.call(this,i,c)||this).keyword="",q.reverse=!1,q.exactMatch=!1,q.channelUrl="",q.channelCustomType="",q.messageTimestampFrom=null,q.messageTimestampTo=null,q.order=rf.SCORE,q.advancedQuery=!1,q.targetFields=null,q._nextToken="",q.totalCount=-1,q.keyword=c.keyword,q.reverse=(d=c.reverse)!==null&&d!==void 0&&d,q.exactMatch=(p=c.exactMatch)!==null&&p!==void 0&&p,q.channelUrl=(_=c.channelUrl)!==null&&_!==void 0?_:"",q.channelCustomType=(v=c.channelCustomType)!==null&&v!==void 0?v:"",q.messageTimestampFrom=(b=c.messageTimestampFrom)!==null&&b!==void 0?b:null,q.messageTimestampTo=(y=c.messageTimestampTo)!==null&&y!==void 0?y:null,q.order=(S=c.order)!==null&&S!==void 0?S:rf.SCORE,q.advancedQuery=(R=c.advancedQuery)!==null&&R!==void 0&&R,q.targetFields=(V=c.targetFields)!==null&&V!==void 0?V:null,q}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&$e("string",this.keyword)&&this.keyword.length>0&&$e("boolean",this.reverse)&&$e("boolean",this.exactMatch)&&$e("string",this.channelUrl)&&$e("string",this.channelCustomType)&&($e("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&($e("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Nr(rf,this.order)&&$e("boolean",this.advancedQuery)&&nr("string",this.targetFields,!0)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new bne(pt(Me(Me({},this),{nextToken:this._nextToken?this._nextToken:null}))),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=S.sent(),p=d.as(yne),_=p.messages,v=p.hasNext,b=p.nextToken,y=p.totalCount,this._nextToken=b,this._hasNext=v,this._isLoading=!1,this.totalCount=y,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}($h),wne={channelUrl:"",scheduledMessageId:0},xne=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="message",i}return me(o,s),o.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new ra(i,{sdkState:d,dispatcher:p,requestQueue:v,onlineDetector:y,cacheContext:S})},o.prototype.buildMessageFromSerializedData=function(i){return this._manager.buildMessageFromSerializedData(i)},o.prototype.buildSenderFromSerializedData=function(i){return this._manager.buildSenderFromSerializedData(i)},o.prototype.getMessage=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=Me(Me({},gne),i),Mn(function(p){return $e("string",p.channelUrl)&&Nr(or,p.channelType)&&$e("number",p.messageId)&&$e("boolean",p.includeReactions,!0)&&$e("boolean",p.includeMetaArray,!0)&&$e("boolean",p.includeParentMessageInfo,!0)&&$e("boolean",p.includeThreadInfo,!0)}(c)).throw(Ke.invalidParameters),[2,this._manager.getMessage(c)]})})},o.prototype.getScheduledMessage=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=Me(Me({},wne),i),Mn(function(p){return $e("string",p.channelUrl)&&p.channelUrl!==""&&$e("number",p.scheduledMessageId)&&p.scheduledMessageId>0}(c)).throw(Ke.invalidParameters),[2,this._manager.getScheduledMessage(c)]})})},o}(WE),Sne=function(s,o){this.pollId=0,this.messageId=0,this.pollId=o.poll.id,this.messageId=o.poll.message_id,this._iid=s,this._payload=o};(function(s){s[s.NONE=0]="NONE",s[s.CHANNEL_ENTER=10102]="CHANNEL_ENTER",s[s.CHANNEL_EXIT=10103]="CHANNEL_EXIT",s[s.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",s[s.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",s[s.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",s[s.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",s[s.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",s[s.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",s[s.TYPING_START=10900]="TYPING_START",s[s.TYPING_END=10901]="TYPING_END",s[s.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",s[s.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",s[s.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",s[s.CHANNEL_INVITE=10020]="CHANNEL_INVITE",s[s.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",s[s.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",s[s.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",s[s.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",s[s.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",s[s.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",s[s.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",s[s.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",s[s.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(ia||(ia={}));var Tne=function(){function s(o){var i;this.channelUrl=o.channel_url,this.channelType=o.channel_type,this.category=o.cat,this.data=(i=o.data)!==null&&i!==void 0?i:{},this.ts=o.ts}return Object.defineProperty(s.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===or.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===or.OPEN},enumerable:!1,configurable:!0}),s}(),zv=function(s){function o(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.event=new Tne(d),p}return me(o,s),o}($r),kne=function(s){function o(i,c,d){var p=s.call(this,i,c,d)||this,_=d.data.operators,v=_===void 0?[]:_;return p.operators=v.map(function(b){return new Ut(p._iid,b)}),p}return me(o,s),o}(zv),Cne=function(){function s(o){var i=o.top,c=i===void 0?Number.MAX_SAFE_INTEGER:i,d=o.bottom,p=d===void 0?0:d;this.top=c,this.bottom=p}return s.prototype.includes=function(){for(var o=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return i.every(function(d){return o.top<=d&&d<=o.bottom})},s.prototype.overlap=function(o){return this.includes(o.top)||this.includes(o.bottom)},s.prototype.intersect=function(){for(var o=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return i.some(function(d){return o.top<=d&&d<=o.bottom})},s.prototype.extends=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.top=Math.min.apply(Math,Kt([this.top],Mt(o),!1)),this.bottom=Math.max.apply(Math,Kt([this.bottom],Mt(o),!1))},s}(),Nne=function(s){function o(i,c){var d=s.call(this,i)||this;return d._logger=c.logger,d._sdkState=c.sdkState,d._sessionManager=c.sessionManager,d._requestQueue=c.requestQueue,d._dispatcher=c.dispatcher,d._cacheContext=c.cacheContext,d._channelType=c.channelType,d}return me(o,s),Object.defineProperty(o.prototype,"_messageCache",{get:function(){return Vv.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return Wh.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_messageBroadcast",{get:function(){return UA.of(this._iid)},enumerable:!1,configurable:!0}),o.prototype.subscribeMessageEvent=function(i,c){this._messageBroadcast.subscribe(i,c)},o.prototype.unsubscribeMessageEvent=function(i){this._messageBroadcast.unsubscribe(i)},o.prototype.getMessageFromCache=function(i){var c;return X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return[4,this._messageCache.get(i)];case 1:return[2,(c=d.sent())!==null&&c!==void 0?c:null]}})})},o.prototype.getExactlyMatchingMessagesForTokenFromCache=function(i,c,d){return X(this,void 0,void 0,function(){return Y(this,function(p){switch(p.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,filter:d,exactMatch:!0})];case 1:return[2,p.sent()]}})})},o.prototype.getMessagesFromCache=function(i,c,d,p,_,v){return _===void 0&&(_=100),v===void 0&&(v=!0),X(this,void 0,void 0,function(){return Y(this,function(b){switch(b.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,limit:_,filter:p,backward:d==="next",inclusive:v})];case 1:return[2,b.sent()]}})})},o.prototype.getPollMessagesFromCache=function(i,c,d,p){return X(this,void 0,void 0,function(){return Y(this,function(_){switch(_.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,limit:p,filter:d,backward:!1,isPollOnly:!0})];case 1:return[2,_.sent()]}})})},o.prototype.getCachedMessageCountBetween=function(i,c,d,p){return X(this,void 0,void 0,function(){return Y(this,function(_){switch(_.label){case 0:return[4,this._messageCache.countBetween(i,c,new Cne({top:d,bottom:p}))];case 1:return[2,_.sent()]}})})},o.prototype.getUnsentMessagesFromCache=function(i,c){return X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:i,filter:c})];case 1:return[2,d.sent()]}})})},o.prototype.removeFailedMessageFromCache=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,this._unsentMessageCache.remove([i])];case 1:return c.sent(),[2]}})})},o}(Ts),Ine=function(s){function o(i,c,d){var p,_,v,b,y=this;(y=s.call(this,i,"ADMM",d)||this).message=new Zp(i,d);var S=Je.of(i).sdkState;return y.isMentioned=Lh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(_=y.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(R){return R.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=d.force_update_last_message)!==null&&b!==void 0&&b,y}return me(o,s),o}($r),Ane=function(s){function o(i,c,d){var p,_,v,b,y,S=this;(S=s.call(this,i,"AEDI",d)||this).message=new Zp(i,d);var R=Je.of(i).sdkState;return S.mentionCountChange=vE({mentionType:(p=d.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(_=d.old_values)===null||_===void 0?void 0:_.mentioned_user_ids)!==null&&v!==void 0?v:[]},pt({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),R.userId),S}return me(o,s),o}($r),One=function(s){function o(i,c,d){var p=s.call(this,i,"MRCT",d)||this;return p.channelUrl=d.channel_url,p.channelType=d.channel_type,p.event=new JE(d),p}return me(o,s),o}($r),Rne=function(s){function o(i,c,d){var p=s.call(this,i,"MTHD",d)||this;return p.event=new vne(i,d),p}return me(o,s),o}($r),Mne=function(s){function o(i,c,d){var p=s.call(this,i,"MCNT",d)||this;return p.groupChannelMemberCounts=d.group_channels.map(function(_){return{channelUrl:_.channel_url,memberCount:_.member_count,joinedMemberCount:_.joined_member_count,updatedAt:_.ts}}),p.openChannelMemberCounts=d.open_channels.map(function(_){return{channelUrl:_.channel_url,participantCount:_.participant_count,updatedAt:_.ts}}),p}return me(o,s),o}($r),Dne=function(s){function o(i,c,d){var p=s.call(this,i,"PEDI",d)||this;return p.event=new Sne(i,d),p.status=QE(d.poll.status)||d.poll.status,p.channelUrl=d.channel_url,p.channelType=d.channel_type,p}return me(o,s),o}($r),Lne=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i._channels=new Map,i._enteredChannelUrls=[],i}return me(o,s),Object.defineProperty(o.prototype,"enteredChannels",{get:function(){var i=this;return this._enteredChannelUrls.map(function(c){return i._channels.get(c)}).filter(function(c){return!!c})},enumerable:!1,configurable:!0}),o.prototype.isEnteredChannel=function(i){return this._enteredChannelUrls.includes(i)},o.prototype.enter=function(i){this._enteredChannelUrls.indexOf(i)<0&&this._enteredChannelUrls.push(i)},o.prototype.exit=function(i){var c=this._enteredChannelUrls.indexOf(i);c>=0&&this._enteredChannelUrls.splice(c,1)},o.prototype.exitAll=function(){this._enteredChannelUrls=[]},o.prototype.get=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this._channels.get(i)]})})},o.prototype.upsert=function(i){return X(this,void 0,void 0,function(){var c,d=this;return Y(this,function(p){return c=[],i.forEach(function(_){if(d._channels.has(_.url)){var v=d._channels.get(_.url);Object.assign(v,_),c.push(v)}else d._channels.set(_.url,_),c.push(_)}),[2,c]})})},o.prototype.remove=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return this._channels.delete(i),this.exit(i),[2]})})},o.prototype.clear=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},o}(Ts),FA={channelUrl:void 0,name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,isEphemeral:void 0},Une=function(s){function o(i){var c=i.channelUrl,d=i.isInternalCall,p=s.call(this)||this;return p.method=An.GET,p.path="".concat(d?DX:$u,"/").concat(encodeURIComponent(c)),p}return me(o,s),o}(Rn),HA=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.channel=new Qh(i,c),d}return me(o,s),o}(Pn),Pne=function(s){function o(i){var c=this,d=i.channelUrl,p=i.coverUrlOrImage,_=i.name,v=i.data,b=i.customType,y=i.operatorUserIds,S=i.isEphemeral;return(c=s.call(this)||this).method=An.POST,c.path=$u,c.params=at(pt({channel_url:d,cover_url:$e("string",p)?p:null,cover_file:is(p)?p:null,name:_,data:v,custom_type:b,operators:y,is_ephemeral:S})),c}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.channel=new Qh(o,i),c},s)})(Pn);var Fne=function(s){function o(i){var c=i.channelUrl;return s.call(this,{code:"ENTR",payload:{channel_url:c},ackRequired:!0})||this}return me(o,s),o}(Ws),BA=function(s){function o(i,c,d){var p,_,v=this;return v=s.call(this,i,"SYEV",d)||this,d.data&&(v.participantCount=(p=d.data.participant_count)!==null&&p!==void 0?p:0,v.user=new Ut(i,d.data),v.ts=(_=d.data.edge_ts)!==null&&_!==void 0?_:0),v}return me(o,s),o}(zv),Hne=function(s){function o(i){var c=i.channelUrl;return s.call(this,{code:"EXIT",payload:{channel_url:c},ackRequired:!0})||this}return me(o,s),o}(Ws),VA=function(s){function o(i,c,d){var p,_,v=this;return v=s.call(this,i,"EXIT",d)||this,d.data&&(v.participantCount=(p=d.data.participant_count)!==null&&p!==void 0?p:0,v.user=new Ut(i,d.data),v.ts=(_=d.data.edge_ts)!==null&&_!==void 0?_:0),v}return me(o,s),o}(zv),m3={},ud=function(s){function o(i,c){var d=s.call(this,i,Me(Me({},c),{channelType:or.OPEN}))||this;return d.subscribeChannelEvent=Rt,d.unsubscribeChannelEvent=Rt,d.refreshChannel=function(){return X(d,void 0,void 0,function(){return Y(this,function(p){return[2,void 0]})})},d._openChannelCache=new Lne(i),d._openChannelHandlers=new Map,d._dispatcher.on(function(p){var _,v;if(p instanceof $r)d._handleEvent(p);else if(p instanceof Zu&&p.stateType===gr.CONNECTED){var b=d._openChannelCache.enteredChannels;try{for(var y=gt(b),S=y.next();!S.done;S=y.next())S.value.enter()}catch(R){_={error:R}}finally{try{S&&!S.done&&(v=y.return)&&v.call(y)}finally{if(_)throw _.error}}}}),m3[i]||(m3[i]=d),d}return me(o,s),o.of=function(i){return m3[i]},o.prototype.buildOpenChannelFromSerializedData=function(i){var c=Wp(i);return new Qh(this._iid,Qh.payloadify(c))},o.prototype.getChannelFromCache=function(i){var c;return X(this,void 0,void 0,function(){return Y(this,function(d){switch(d.label){case 0:return[4,this._openChannelCache.get(i)];case 1:return[2,(c=d.sent())!==null&&c!==void 0?c:null]}})})},o.prototype.upsertChannelsToCache=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,this._openChannelCache.upsert(i)];case 1:return[2,c.sent()]}})})},o.prototype.removeChannelsFromCache=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:y.trys.push([0,5,6,7]),c=gt(i),d=c.next(),y.label=1;case 1:return d.done?[3,4]:(p=d.value,[4,this._openChannelCache.remove(p)]);case 2:y.sent(),y.label=3;case 3:return d=c.next(),[3,1];case 4:return[3,7];case 5:return _=y.sent(),v={error:_},[3,7];case 6:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 7:return[2]}})})},o.prototype.setEnteredToCache=function(i){this._openChannelCache.enter(i.url)},o.prototype.setExitedToCache=function(i){this._openChannelCache.exit(i.url)},o.prototype._handleEvent=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R,V,q,ne,Z,se,xe,Ce,Le,Fe,ye,be,nn,Ze,Qe,Sn,bt,wn,yn,Bn,wt,ft,$t,Ur,Ta,pr,Co,Wl,al,wO,Wv,k3,Jh,xO,SO,Qv,C3,N3,I3,A3,O3,R3,M3,cf,D3,Yv,TO,md,Xv,uf,df,hf,Zv,Jv,L3,U3,P3,F3,H3,kO,Fi=this;return Y(this,function(ar){switch(ar.label){case 0:switch(ar.trys.push([0,57,,58]),i.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,30];case"SYEV":return[3,33]}return[3,56];case 1:return _=null,i.code==="MESG"?_=i.as(EA):i.code==="FILE"?_=i.as(iA):i.code!=="ADMM"&&i.code!="BRDM"||(_=i.as(Ine)),_?(c=_.message,d=_.isMentioned,c.channelType!==or.OPEN?[3,3]:[4,this.getChannel(c.channelUrl,!0)]):[3,3];case 2:p=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())cr=kn.value,this._openChannelCache.isEnteredChannel(p.url)&&(cr.onMessageReceived&&cr.onMessageReceived(p,c),d&&cr.onMentionReceived&&cr.onMentionReceived(p,c))}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=3;case 3:return[3,56];case 4:return _=null,i.code==="MEDI"?_=i.as(s3):i.code==="FEDI"?_=i.as(o3):i.code==="AEDI"&&(_=i.as(Ane)),_?(v=_.message,b=_.mentionCountChange,v.channelType!==or.OPEN?[3,6]:[4,this.getChannel(v.channelUrl,!0)]):[3,6];case 5:y=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())cr=kn.value,this._openChannelCache.isEnteredChannel(y.url)&&(cr.onMessageUpdated&&cr.onMessageUpdated(y,v),b>0&&cr.onMentionReceived&&cr.onMentionReceived(y,v))}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=6;case 6:return[3,56];case 7:return S=i.as(Tee),$t=S.channelUrl,Ur=S.channelType,R=S.messageId,Ur!==or.OPEN?[3,9]:[4,this.getChannel($t,!0)];case 8:V=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())cr=kn.value,this._openChannelCache.isEnteredChannel(V.url)&&cr.onMessageDeleted&&cr.onMessageDeleted(V,R)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=9;case 9:return[3,56];case 10:return q=i.as(One),$t=q.channelUrl,Ur=q.channelType,ne=q.event,Ur!==or.OPEN?[3,12]:[4,this.getChannel($t,!0)];case 11:Z=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())cr=kn.value,this._openChannelCache.isEnteredChannel(Z.url)&&cr.onReactionUpdated&&cr.onReactionUpdated(Z,ne)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=12;case 12:return[3,56];case 13:return(se=i.as(Rne).event).channelType!==or.OPEN?[3,15]:[4,this.getChannel(se.channelUrl,!0)];case 14:xe=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())cr=kn.value,this._openChannelCache.isEnteredChannel(xe.url)&&cr.onThreadInfoUpdated&&cr.onThreadInfoUpdated(xe,se)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=15;case 15:return[3,56];case 16:Ce=i.as(Mne).openChannelMemberCounts,Le=[],ar.label=17;case 17:ar.trys.push([17,22,23,24]),Fe=gt(Ce),ye=Fe.next(),ar.label=18;case 18:return ye.done?[3,21]:(be=ye.value,$t=be.channelUrl,Jh=be.participantCount,nn=be.updatedAt,[4,this.getChannelFromCache($t)]);case 19:(Ze=ar.sent())&&Ze._updateParticipantCount(Jh,nn)&&Le.push(Ze),ar.label=20;case 20:return ye=Fe.next(),[3,18];case 21:return[3,24];case 22:return Qe=ar.sent(),H3={error:Qe},[3,24];case 23:try{ye&&!ye.done&&(kO=Fe.return)&&kO.call(Fe)}finally{if(H3)throw H3.error}return[7];case 24:return Le.length>0?[4,this.upsertChannelsToCache(Le)]:[3,26];case 25:Sn=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())(cr=kn.value).onChannelMemberCountChanged&&cr.onChannelMemberCountChanged(Sn)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=26;case 26:return[3,56];case 27:return bt=i.as(Dne),wn=bt.event,yn=bt.status,$t=bt.channelUrl,Ur=bt.channelType,$t&&Ur===or.OPEN?[4,this.getChannel($t,!0)]:[3,29];case 28:Bn=ar.sent(),this._dispatcher.dispatch(new $I({event:wn,source:Tr.EVENT_POLL_UPDATED})),Bt(yn==="removed"?function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())(cr=kn.value).onPollDeleted&&cr.onPollDeleted(Bn,wn.pollId)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}:function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())(cr=kn.value).onPollUpdated&&cr.onPollUpdated(Bn,wn)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=29;case 29:return[3,56];case 30:return wt=i.as(SA),ft=wt.event,$t=wt.channelUrl,Ur=wt.channelType,$t&&Ur===or.OPEN?[4,this.getChannel($t,!0)]:[3,32];case 31:Ta=ar.sent(),this._dispatcher.dispatch(new YE({event:ft,source:Tr.EVENT_POLL_VOTED})),Bt(function(){return X(Fi,void 0,void 0,function(){var _t,kn,cr,ur,qr;return Y(this,function(Kc){try{for(_t=gt(this._openChannelHandlers.values()),kn=_t.next();!kn.done;kn=_t.next())(cr=kn.value).onPollVoted&&cr.onPollVoted(Ta,ft)}catch(sa){ur={error:sa}}finally{try{kn&&!kn.done&&(qr=_t.return)&&qr.call(_t)}finally{if(ur)throw ur.error}}return[2]})})}),ar.label=32;case 32:return[3,56];case 33:if(!(pr=i.as(zv).event).isOpenChannelEvent)return[3,55];switch(pr.category){case ia.CHANNEL_ENTER:return[3,34];case ia.CHANNEL_EXIT:return[3,36];case ia.CHANNEL_OPERATOR_UPDATE:return[3,38];case ia.USER_CHANNEL_MUTE:case ia.USER_CHANNEL_UNMUTE:return[3,40];case ia.USER_CHANNEL_BAN:case ia.USER_CHANNEL_UNBAN:return[3,42];case ia.CHANNEL_FREEZE:case ia.CHANNEL_UNFREEZE:return[3,44];case ia.CHANNEL_DELETED:return[3,46];case ia.CHANNEL_PROP_CHANGED:return[3,49];case ia.CHANNEL_META_DATA_CHANGED:return[3,51];case ia.CHANNEL_META_COUNTERS_CHANGED:return[3,53]}return[3,55];case 34:return[4,this.getChannel(pr.channelUrl,!0)];case 35:return Co=ar.sent(),Wl=i.as(BA),Jh=Wl.participantCount,al=Wl.user,wO=Co._updateParticipantCount(Jh,pr.ts),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){kn.onUserEntered&&kn.onUserEntered(Co,al),wO&&kn.onChannelParticipantCountChanged&&kn.onChannelParticipantCountChanged(Co)}),[2]})})}),[3,55];case 36:return[4,this.getChannel(pr.channelUrl,!0)];case 37:return Wv=ar.sent(),k3=i.as(VA),Jh=k3.participantCount,xO=k3.user,SO=Wv._updateParticipantCount(Jh,pr.ts),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){kn.onUserExited&&kn.onUserExited(Wv,xO),SO&&kn.onChannelParticipantCountChanged&&kn.onChannelParticipantCountChanged(Wv)}),[2]})})}),[3,55];case 38:return[4,this.getChannel(pr.channelUrl,!0)];case 39:return Qv=ar.sent(),C3=i.as(kne).operators,Qv.operators=C3,this.upsertChannelsToCache([Qv]),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){kn.onOperatorUpdated&&kn.onOperatorUpdated(Qv,C3)}),[2]})})}),[3,55];case 40:return[4,this.getChannel(pr.channelUrl,!0)];case 41:return N3=ar.sent(),I3=pr.category===ia.USER_CHANNEL_MUTE,A3=i.as(I3?hee:fee).user,Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){I3?kn.onUserMuted&&kn.onUserMuted(N3,A3):kn.onUserUnmuted&&kn.onUserUnmuted(N3,A3)}),[2]})})}),[3,55];case 42:return[4,this.getChannel(pr.channelUrl,!0)];case 43:return O3=ar.sent(),R3=pr.category===ia.USER_CHANNEL_BAN,M3=i.as(R3?mee:gee).user,Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){R3?kn.onUserBanned&&kn.onUserBanned(O3,M3):kn.onUserUnbanned&&kn.onUserUnbanned(O3,M3)}),[2]})})}),[3,55];case 44:return[4,this.getChannel(pr.channelUrl,!0)];case 45:return cf=ar.sent(),D3=i.as(bee).freeze,cf.isFrozen=D3,this.upsertChannelsToCache([cf]),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){D3?kn.onChannelFrozen&&kn.onChannelFrozen(cf):kn.onChannelUnfrozen&&kn.onChannelUnfrozen(cf)}),[2]})})}),[3,55];case 46:return[4,this.getChannel(pr.channelUrl,!0)];case 47:return Yv=ar.sent(),[4,this.removeChannelsFromCache([Yv.url])];case 48:return ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){kn.onChannelDeleted&&kn.onChannelDeleted(Yv.url,Yv.channelType)}),[2]})})}),[3,55];case 49:return[4,this.getChannelWithoutCache(pr.channelUrl,!0)];case 50:return TO=ar.sent(),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){kn.onChannelChanged&&kn.onChannelChanged(TO)}),[2]})})}),[3,55];case 51:return[4,this.getChannel(pr.channelUrl,!0)];case 52:return md=ar.sent(),Xv=i.as(nee),uf=Xv.created,df=Xv.updated,hf=Xv.deleted,uf&&md._upsertCachedMetaData(uf,pr.ts),df&&md._upsertCachedMetaData(df,pr.ts),hf&&md._removeFromCachedMetaData(hf,pr.ts),Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){uf&&kn.onMetaDataCreated&&kn.onMetaDataCreated(md,uf),df&&kn.onMetaDataUpdated&&kn.onMetaDataUpdated(md,df),hf&&kn.onMetaDataDeleted&&kn.onMetaDataDeleted(md,hf)}),[2]})})}),[3,55];case 53:return[4,this.getChannel(pr.channelUrl,!0)];case 54:return Zv=ar.sent(),Jv=i.as(lee),L3=Jv.created,U3=Jv.updated,P3=Jv.deleted,Bt(function(){return X(Fi,void 0,void 0,function(){return Y(this,function(_t){return this._openChannelHandlers.forEach(function(kn){L3&&kn.onMetaCounterCreated&&kn.onMetaCounterCreated(Zv,L3),U3&&kn.onMetaCounterUpdated&&kn.onMetaCounterUpdated(Zv,U3),P3&&kn.onMetaCounterDeleted&&kn.onMetaCounterDeleted(Zv,P3)}),[2]})})}),[3,55];case 55:return[3,56];case 56:return[3,58];case 57:if(F3=ar.sent(),Pc(F3))throw F3;return[3,58];case 58:return[2]}})})},o.prototype.addHandler=function(i,c){this._openChannelHandlers.set(i,c)},o.prototype.removeHandler=function(i){this._openChannelHandlers.delete(i)},o.prototype.clearHandler=function(){this._openChannelHandlers.clear()},o.prototype.getChannel=function(i,c){return X(this,void 0,void 0,function(){var d;return Y(this,function(p){switch(p.label){case 0:Mn($e("string",i)).throw(Ke.invalidParameters),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.getChannelFromCache(i)];case 2:return(d=p.sent())?[2,d]:[3,4];case 3:return p.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(i)];case 5:return[2,p.sent()]}})})},o.prototype.getChannelWithoutCache=function(i,c){return c===void 0&&(c=!1),X(this,void 0,void 0,function(){var d,p,_;return Y(this,function(v){switch(v.label){case 0:return Mn($e("string",i)).throw(Ke.invalidParameters),d=new Une({channelUrl:i,isInternalCall:c}),[4,this._requestQueue.send(d)];case 1:return p=v.sent(),_=p.as(HA).channel,[4,this.upsertChannelsToCache([_])];case 2:return[2,v.sent()[0]]}})})},o.prototype.createChannel=function(i){return X(this,void 0,void 0,function(){var c,d,p,_;return Y(this,function(v){switch(v.label){case 0:return c=Me(Me({},FA),i),Mn(function(b){return nr("string",b.operatorUserIds,!0)&&($e("string",b.coverUrlOrImage,!0)||is(b.coverUrlOrImage,!0))&&$e("string",b.name,!0)&&$e("string",b.data,!0)&&$e("string",b.customType,!0)&&($e("string",b.channelUrl)&&/^\w+$/.test(b.channelUrl)||b.channelUrl===null||b.channelUrl===void 0)&&$e("boolean",b.isEphemeral,!0)}(c)).throw(Ke.invalidParameters),d=new Pne(c),[4,this._requestQueue.send(d)];case 1:return p=v.sent(),_=p.as(HA).channel,this.upsertChannelsToCache([_]),[2,_]}})})},o}(Nne),zA={name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0},Bne=function(s){function o(i){var c=this,d=i.channelUrl,p=i.token,_=i.limit;return(c=s.call(this)||this).method=An.GET,c.path="".concat($u,"/").concat(encodeURIComponent(d),"/participants"),c.params={token:p,limit:_},c}return me(o,s),o}(Rn),Vne=function(s){function o(i,c){var d=s.call(this,i,c)||this;d.participants=[];var p=c.next,_=c.participants;return d.token=p,d.participants=_.map(function(v){return new DJ(i,v)}),d}return me(o,s),o}(Pn),zne=function(s){function o(i,c,d){return s.call(this,i,c,or.OPEN,d)||this}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new Bne(Me(Me({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(Vne),_=p.participants,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Ke.queryInProgress;case 4:return[3,6];case 5:throw Ke.invalidParameters;case 6:return[2]}})})},o}(td),$ne=function(s){function o(i){var c=this,d=i.channelUrl,p=i.coverUrlOrImage,_=i.name,v=i.data,b=i.customType,y=i.operatorUserIds;return(c=s.call(this)||this).method=An.PUT,c.path="".concat($u,"/").concat(encodeURIComponent(d)),c.params=at(pt({cover_url:$e("string",p)?p:null,cover_file:is(p)?p:null,name:_,data:v,custom_type:b,operators:y})),c}return me(o,s),o}(Rn),qne=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.channel=new Qh(i,c),d}return me(o,s),o}(Pn),Gne=function(s){function o(i){var c=this,d=i.channelUrl;return(c=s.call(this)||this).method=An.DELETE,c.path="".concat($u,"/").concat(encodeURIComponent(d)),c}return me(o,s),o}(Rn);(function(s){me(function(o,i){return s.call(this,o,i)||this},s)})(Pn);var Qh=function(s){function o(i,c){var d,p=this;return(p=s.call(this,i,c)||this)._lastParticipantCountUpdated=0,p.participantCount=0,p.operators=[],p.channelType=or.OPEN,p.participantCount=(d=c.participant_count)!==null&&d!==void 0?d:0,p.operators=Array.isArray(c.operators)?c.operators.map(function(_){return new Ut(i,_)}):[],p}return me(o,s),o.payloadify=function(i){return at(pt(Me(Me({},kA.payloadify(i)),{participant_count:i.participantCount,operators:i.operators.map(function(c){return Ut.payloadify(c)})})))},o.prototype.serialize=function(){return yv(this)},o.prototype.isOperator=function(i){return i instanceof Ut?this.isOperator(i.userId):this.operators.some(function(c){return c.userId===i})},o.prototype._updateParticipantCount=function(i,c){return c>this._lastParticipantCountUpdated&&(this.participantCount=i,this._lastParticipantCountUpdated=c,!0)},o.prototype.createParticipantListQuery=function(i){return new zne(this._iid,this.url,i)},o.prototype.refresh=function(){return X(this,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,ud.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,i.sent()]}})})},o.prototype.enter=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return i=Je.of(this._iid).requestQueue,c=new Fne({channelUrl:this.url}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(BA),_=p.participantCount,v=p.ts,this._updateParticipantCount(_,v),ud.of(this._iid).setEnteredToCache(this),[2]}})})},o.prototype.exit=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return i=Je.of(this._iid).requestQueue,c=new Hne({channelUrl:this.url}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(VA),_=p.participantCount,v=p.ts,this._updateParticipantCount(_,v),ud.of(this._iid).setExitedToCache(this),ra.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},o.prototype.updateChannel=function(i){return X(this,void 0,void 0,function(){var c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return c=Me(Me({},zA),i),Mn(function(y){return nr("string",y.operatorUserIds,!0)&&($e("string",y.coverUrlOrImage)||is(y.coverUrlOrImage)||y.coverUrlOrImage===null)&&$e("string",y.name,!0)&&$e("string",y.data,!0)&&$e("string",y.customType,!0)}(c)).throw(Ke.invalidParameters),d=Je.of(this._iid).requestQueue,p=new $ne(Me({channelUrl:this.url},c)),[4,d.send(p)];case 1:return _=b.sent(),v=_.as(qne).channel,this._update(v),[4,ud.of(this._iid).upsertChannelsToCache([v])];case 2:return b.sent(),[2,this]}})})},o.prototype.updateChannelWithOperatorUserIds=function(i,c,d,p,_){return X(this,void 0,void 0,function(){var v;return Y(this,function(b){return v=Me(Me({},zA),{name:i,coverUrlOrImage:c,data:d,operatorUserIds:p,customType:_}),[2,this.updateChannel(v)]})})},o.prototype.delete=function(){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new Gne({channelUrl:this.url}),[4,i.send(c)];case 1:return d.sent(),[4,ud.of(this._iid).removeChannelsFromCache([this.url])];case 2:return d.sent(),[2]}})})},o.prototype.sendUserMessage=function(i){return Mn(!i.isPinnedMessage).throw(Ke.notSupportedError),s.prototype.sendUserMessage.call(this,i)},o.prototype.sendFileMessage=function(i){return Mn(!i.isPinnedMessage).throw(Ke.notSupportedError),s.prototype.sendFileMessage.call(this,i)},o}(kA),jne=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return me(o,s),o}(function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.onUserEntered=Rt,i.onUserExited=Rt,i.onChannelParticipantCountChanged=Rt,i.onPollUpdated=Rt,i.onPollVoted=Rt,i.onPollDeleted=Rt,i}return me(o,s),o}(function(){this.onUserMuted=Rt,this.onUserUnmuted=Rt,this.onUserBanned=Rt,this.onUserUnbanned=Rt,this.onChannelChanged=Rt,this.onChannelDeleted=Rt,this.onChannelFrozen=Rt,this.onChannelUnfrozen=Rt,this.onOperatorUpdated=Rt,this.onChannelMemberCountChanged=Rt,this.onMetaDataCreated=Rt,this.onMetaDataUpdated=Rt,this.onMetaDataDeleted=Rt,this.onMetaCounterCreated=Rt,this.onMetaCounterUpdated=Rt,this.onMetaCounterDeleted=Rt,this.onMessageReceived=Rt,this.onMessageUpdated=Rt,this.onMessageDeleted=Rt,this.onMentionReceived=Rt,this.onReactionUpdated=Rt,this.onThreadInfoUpdated=Rt})),Kne=function(s){function o(i){var c=this,d=i.token,p=i.limit,_=i.nameKeyword,v=i.urlKeyword,b=i.customTypes,y=i.includeFrozen,S=i.includeMetaData;return(c=s.call(this)||this).method=An.GET,c.path=$u,c.params=at({token:d,limit:p,name_contains:_,url_contains:v,custom_types:b,show_frozen:y,show_metadata:S}),c}return me(o,s),o}(Rn),Wne=function(s){function o(i,c){var d=s.call(this,i,c)||this;d.channels=[];var p=c.next,_=c.channels,v=c.ts;return d.token=p,_&&_.length>0&&(d.channels=_.map(function(b){return new Qh(i,b)})),d.ts=typeof v=="number"?v:null,d}return me(o,s),o}(Pn),Qne=function(s){function o(i,c){var d,p,_,v,b,y=this;return(y=s.call(this,i,c)||this).includeFrozen=!0,y.includeMetaData=!0,y.nameKeyword=null,y.urlKeyword=null,y.customTypes=null,y.includeFrozen=(d=c.includeFrozen)===null||d===void 0||d,y.includeMetaData=(p=c.includeMetaData)===null||p===void 0||p,y.nameKeyword=(_=c.nameKeyword)!==null&&_!==void 0?_:null,y.urlKeyword=(v=c.urlKeyword)!==null&&v!==void 0?v:null,y.customTypes=(b=c.customTypes)!==null&&b!==void 0?b:null,y}return me(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&$e("boolean",this.includeFrozen)&&$e("boolean",this.includeMetaData)&&$e("string",this.nameKeyword,!0)&&$e("string",this.urlKeyword,!0)&&nr("string",this.customTypes,!0)},o.prototype.next=function(){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,i=Je.of(this._iid).requestQueue,c=new Kne(pt(Me(Me({},this),{token:this._token}))),[4,i.send(c)]):[3,3]:[3,6];case 1:return d=b.sent(),p=d.as(Wne),_=p.channels,v=p.token,this._token=v,this._hasNext=!!v,[4,ud.of(this._iid).upsertChannelsToCache(_)];case 2:return b.sent(),this._isLoading=!1,[2,_];case 3:return[2,[]];case 4:throw Ke.queryInProgress;case 5:return[3,7];case 6:throw Ke.invalidParameters;case 7:return[2]}})})},o}($h),Yne=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="openChannel",i}return me(o,s),o.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new ud(i,{sdkState:d,dispatcher:p,requestQueue:v,logger:b,cacheContext:S,sessionManager:_})},o.prototype.createOpenChannelListQuery=function(i){return i===void 0&&(i={}),new Qne(this._iid,i)},o.prototype.addOpenChannelHandler=function(i,c){this._manager.addHandler(i,c)},o.prototype.removeOpenChannelHandler=function(i){this._manager.removeHandler(i)},o.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},o.prototype.buildOpenChannelFromSerializedData=function(i){return this._manager.buildOpenChannelFromSerializedData(i)},o.prototype.getChannel=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this._manager.getChannel(i)]})})},o.prototype.getChannelWithoutCache=function(i){return X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this._manager.getChannelWithoutCache(i)]})})},o.prototype.createChannel=function(i){return i===void 0&&(i={}),X(this,void 0,void 0,function(){return Y(this,function(c){return[2,this._manager.createChannel(i)]})})},o.prototype.createChannelWithOperatorUserIds=function(i,c,d,p,_){return X(this,void 0,void 0,function(){var v;return Y(this,function(b){return(v=Me({},FA)).name=i,v.coverUrlOrImage=c,v.data=d,v.operatorUserIds=p,v.customType=_,[2,this._manager.createChannel(v)]})})},o}(WE),$A="LIVE_EVENT_MANAGER",Xne=function(){function s(d){var p=this;g(this,s),this._liveEvents=[],this._ctx=d,this._ctx.sb.openChannel.addOpenChannelHandler($A,new jne({onUserBanned:function(_,v){if(v.userId===p._ctx.sb.currentUser.userId){var b=p._liveEvents.find(function(y){var S;return((S=y.openChannel)===null||S===void 0?void 0:S.url)===_.url});b&&b.onDisconnected()}}}))}var o,i,c;return E(s,[{key:"createLiveEvent",value:(c=m(u().mark(function d(p){var _,v,b,y;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _=yr.createLiveEvent(_G.SINGLE_HOST,p.userIdsForHost?[].concat(N(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile,p.customItems),S.next=3,this._ctx.commandRouter.send(_);case 3:return v=S.sent,b=v.payload.liveEvent,y=new hE({appId:this._ctx.appId,deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:b}),S.prev=6,S.next=9,y.fetchOpenChannel();case 9:S.next=14;break;case 11:S.prev=11,S.t0=S.catch(6),tt.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(y),S.abrupt("return",y);case 16:case"end":return S.stop()}},d,this,[[6,11]])})),function(d){return c.apply(this,arguments)})},{key:"getLiveEvent",value:(i=m(u().mark(function d(p){var _,v,b;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return _=yr.createGetLiveEvent(p),y.next=3,this._ctx.commandRouter.send(_);case 3:return v=y.sent,b=v.payload.liveEvent,y.abrupt("return",this.deserializeLiveEvent(b));case 6:case"end":return y.stop()}},d,this)})),function(d){return i.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(o=m(u().mark(function d(p){var _,v,b;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(_=this._liveEvents.findIndex(function(S){return S.liveEventId===p.liveEventId}),!(_>-1)){y.next=15;break}return(v=this._liveEvents[_]).upsert(p),y.prev=4,y.next=7,v.fetchOpenChannel();case 7:y.next=12;break;case 9:y.prev=9,y.t0=y.catch(4),tt.error("failed to fetch initial open channel");case 12:return y.abrupt("return",v);case 15:return b=new hE({appId:this._ctx.appId,deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:p}),y.prev=16,y.next=19,b.fetchOpenChannel();case 19:y.next=24;break;case 21:y.prev=21,y.t1=y.catch(16),tt.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(b),y.abrupt("return",b);case 26:case"end":return y.stop()}},d,this,[[4,9],[16,21]])})),function(d){return o.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler($A);var d,p=z(this._liveEvents);try{for(p.s();!(d=p.n()).done;)d.value.teardown()}catch(_){p.e(_)}finally{p.f()}}}]),s}(),Zne=Wo,Jne=Ae,ete=mt,nte=Ic,tte=TypeError,qA=function(s){return function(o,i,c,d){Zne(i);var p=Jne(o),_=ete(p),v=nte(p),b=s?v-1:0,y=s?-1:1;if(c<2)for(;;){if(b in _){d=_[b],b+=y;break}if(b+=y,s?b<0:v<=b)throw tte("Reduce of empty array with no initial value")}for(;s?b>=0:v>b;b+=y)b in _&&(d=i(d,_[b],b,p));return d}},rte={left:qA(!1),right:qA(!0)}.left;Pr({target:"Array",proto:!0,forced:!_p&&ln>79&&ln<83||!E2("reduce")},{reduce:function(s){var o=arguments.length;return rte(this,s,o,o>1?arguments[1]:void 0)}});var Kl=function(){function s(o,i){g(this,s),this.key=o,this.value=i}return E(s,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(o){return this.value.width===o.value.width&&this.value.height===o.value.height}}]),s}();w(Kl,"_720P",new Kl("_720P",{width:1280,height:720})),w(Kl,"_540P",new Kl("_540P",{width:960,height:540})),w(Kl,"_480P",new Kl("_480P",{width:848,height:480})),w(Kl,"_360P",new Kl("_360P",{width:640,height:360}));var v3,Gc,dd,sf,$v,qv,GA=Kl._720P,ite=function(s){T(i,s);var o=O(i);function i(c,d){var p;return g(this,i),w(U(p=o.call(this)),"hasPermission",!1),p._streamManger=c,p.constraints=d,p}return E(i,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var c;this.removeAllEventListeners(),(c=this.onDisposed)===null||c===void 0||c.call(this)}},{key:"streamChanged",value:function(c){this._dispatchEvent("streamChanged",c)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),i}(xo),jA=function(s,o){o.audio&&s.getAudioTracks().length===0&&s.addTrack(function(){v3||(v3=new(window.AudioContext||window.webkitAudioContext));var i=v3;Gc=i.createOscillator();var c=i.createMediaStreamDestination(),d=i.createGain();return d.gain.setValueAtTime(0,i.currentTime),Gc.connect(d),d.connect(c),Gc.start(),$v=c.stream.getAudioTracks()[0],c.stream.getAudioTracks()[0]}()),o.video&&s.getVideoTracks().length===0&&s.addTrack(function(i){var c=i.width,d=i.height,p=i.frameRate;dd||(dd=document.createElement("canvas")),dd.width=c,dd.height=d,dd.getContext("2d").fillRect(0,0,c,d),sf||(sf=setInterval(function(){dd.getContext("2d").fillRect(0,0,c,d)},1e3));var _=dd.captureStream(p);return qv=_.getVideoTracks()[0],_.getVideoTracks()[0]}(l(l({},GA.value),{},{frameRate:24})))};function KA(){$v&&$v.stop(),qv&&qv.stop(),$v=null,qv=null,sf&&(clearInterval(sf),sf=null),Gc&&(Gc.onended=function(){Gc.disconnect(),Gc=null},Gc.stop())}function g3(s){if(s){var o,i=z(s.getTracks());try{for(i.s();!(o=i.n()).done;)o.value.stop()}catch(c){i.e(c)}finally{i.f()}}}var Gv=function(s,o,i){var c=s.match(o);return c&&c.length>=i&&parseInt(c[i],10)},WA=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var o=window.navigator;if(o.mozGetUserMedia)s.browser="firefox",s.version=Gv(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=Gv(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.mediaDevices&&o.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=Gv(o.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=Gv(o.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s}().browser==="safari",ate=function(){function s(c){g(this,s),this._deviceManager=c,this._updateQueued=!1}var o,i;return E(s,[{key:"_getUserMedia",value:(i=m(u().mark(function c(d){var p,_,v,b;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=3,navigator.mediaDevices.getUserMedia(d);case 3:return p=y.sent,KA(),y.abrupt("return",p);case 8:return y.prev=8,y.t0=y.catch(0),tt.warning("Failed to first 'getUserMedia()' call Error[".concat(y.t0,"]")),_=new MediaStream,y.prev=12,y.next=15,navigator.mediaDevices.getUserMedia({audio:d.audio});case 15:v=y.sent,_.addTrack(v.getAudioTracks()[0]),y.next=22;break;case 19:y.prev=19,y.t1=y.catch(12),tt.warning("Failed to get local audio stream Error[".concat(y.t1,"]"));case 22:return y.prev=22,y.next=25,navigator.mediaDevices.getUserMedia({video:d.video});case 25:b=y.sent,_.addTrack(b.getVideoTracks()[0]),y.next=32;break;case 29:y.prev=29,y.t2=y.catch(22),tt.warning("Failed to get local video stream Error[".concat(y.t2,"]"));case 32:return y.abrupt("return",_);case 33:case"end":return y.stop()}},c,null,[[0,8],[12,19],[22,29]])})),function(c){return i.apply(this,arguments)})},{key:"updateStream",value:(o=m(u().mark(function c(){var d,p,_,v,b,y,S,R,V,q;return u().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(!this._updateAt){ne.next=3;break}return this._updateQueued=!0,ne.abrupt("return");case 3:if(d=this._deviceManager.mediaAccesses.some(function(Z){return Z.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(Z){return Z.constraints.video}),d||p){ne.next=9;break}return g3(this.stream),KA(),ne.abrupt("return");case 9:return this._updateAt=Date.now(),(_=this.stream)||(v=new MediaStream,jA(v,{audio:d,video:p}),this.stream=v),WA&&g3(_),ne.next=15,this._deviceManager.getMediaConstraints({usingAudio:d,usingVideo:p});case 15:return b=ne.sent,ne.next=18,this._getUserMedia(b);case 18:if((y=ne.sent).getVideoTracks().length>0){S=z(this._deviceManager.mediaAccesses);try{for(S.s();!(R=S.n()).done;)R.value.hasPermission=!0}catch(Z){S.e(Z)}finally{S.f()}}jA(y,{audio:d,video:p}),WA||g3(_),this.stream=y,V=z(this._deviceManager.mediaAccesses);try{for(V.s();!(q=V.n()).done;)q.value.streamChanged(this.stream)}catch(Z){V.e(Z)}finally{V.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:d,video:p},!0);case 27:case"end":return ne.stop()}},c,this)})),function(){return o.apply(this,arguments)})}]),s}();function QA(s,o){return(s==null?void 0:s.deviceId)===(o==null?void 0:o.deviceId)&&(s==null?void 0:s.label)===(o==null?void 0:o.label)&&(s==null?void 0:s.groupId)===(o==null?void 0:o.groupId)}var jc,YA,XA,ste=function(){function s(){var p=this;g(this,s),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new ate(this),navigator.mediaDevices.ondevicechange=function(){return p._onDeviceChanged()}}var o,i,c,d;return E(s,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(p){return p.constraints.audio}),video:this.mediaAccesses.some(function(p){return p.constraints.video})})}},{key:"addSendBirdCallListener",value:function(p,_){this._sendbirdCallListeners.set(p,_)}},{key:"removeSendBirdCallListener",value:function(p){this._sendbirdCallListeners.delete(p)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"updateStream",value:(d=m(u().mark(function p(){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",this._streamManager.updateStream());case 1:case"end":return _.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(p){var _=this;this.mediaAccesses.push(p),p.onDisposed=function(){return _.stopMedia(p)}}},{key:"useMedia",value:function(p){if(p.audio||p.video){var _=new ite(this._streamManager,p);return this._registerMediaAccess(_),this.updateStream(),_}tt.error(new Error("you should set true for at least 1 media type."))}},{key:"stopMedia",value:function(p){this.mediaAccesses.splice(this.mediaAccesses.indexOf(p),1),this.updateStream()}},{key:"fetchMediaDevices",value:(c=m(u().mark(function p(){var _;return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,navigator.mediaDevices.enumerateDevices();case 2:return _=v.sent,v.abrupt("return",_.reduce(function(b,y){return b[y.kind].push(y),b},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return v.stop()}},p)})),function(){return c.apply(this,arguments)})},{key:"getMediaConstraints",value:(i=m(u().mark(function p(_){var v,b,y,S,R,V,q,ne;return u().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return v=_.usingAudio,b=_.usingVideo,y={audio:!1,video:!1},Z.next=4,this.fetchMediaDevices();case 4:return S=Z.sent,R=S.audioinput,V=S.videoinput,v&&R.length&&(q=this.getCurrentAudioInputDevice(),y.audio={deviceId:q==null?void 0:q.deviceId}),b&&V.length&&(ne=this.getCurrentVideoInputDevice(),y.video=l(l({deviceId:ne==null?void 0:ne.deviceId},GA.value),{},{frameRate:24})),Z.abrupt("return",y);case 10:case"end":return Z.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(p,_){var v,b=this._availableMediaDevices[p],y=this._currentMediaDevices[p],S=b.find(function(R){return R.deviceId===(_==null?void 0:_.deviceId)});return S||(tt.warning("Selected device is unavailable. fallback to default device."),S=((v=S)!==null&&v!==void 0?v:b.length>0)?b[0]:null),this._currentMediaDevices[p]=S,!QA(y,S)}},{key:"_onAudioOutputChanged",value:function(){var p,_=z(this.mediaAccesses);try{for(_.s();!(p=_.n()).done;){var v=p.value;v.constraints.audio&&v.audioOutputChanged()}}catch(b){_.e(b)}finally{_.f()}}},{key:"selectDevice",value:function(p,_){_.kind===p?this._updateCurrentMediaDevice(p,_)&&(p!=="audioinput"&&p!=="videoinput"||this.updateStream(),p==="audiooutput"&&this._onAudioOutputChanged()):tt.error(new Error("Tried to select invalid device of type"))}},{key:"_updateAvailableDevices",value:function(p,_){var v,b,y,S=this._currentMediaDevices[p],R=!function(xe,Ce){if(xe.length!==Ce.length)return!1;for(var Le=0;Le<Ce.length;Le++)if(!QA(xe[Le],Ce[Le]))return!1;return!0}(this._availableMediaDevices[p],_);if(!R)return!1;var V;this._availableMediaDevices[p]=_,V=this._updateCurrentMediaDevice(p,S);var q,ne=z(this._sendbirdCallListeners.values());try{for(ne.s();!(q=ne.n()).done;){var Z=q.value,se=this._currentMediaDevices[p];switch(p){case"audioinput":(v=Z.onAudioInputDeviceChanged)===null||v===void 0||v.call(Z,se,_);break;case"audiooutput":(b=Z.onAudioOutputDeviceChanged)===null||b===void 0||b.call(Z,se,_);break;case"videoinput":(y=Z.onVideoInputDeviceChanged)===null||y===void 0||y.call(Z,se,_)}}}catch(xe){ne.e(xe)}finally{ne.f()}return V}},{key:"refreshMediaDevices",value:(o=m(u().mark(function p(_){var v,b,y,S,R,V,q,ne,Z,se=arguments;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(v=_.audio,b=_.video,y=se.length>1&&se[1]!==void 0&&se[1],v||b){xe.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return xe.next=6,this.fetchMediaDevices();case 6:S=xe.sent,R=S.audioinput,V=S.audiooutput,q=S.videoinput,ne=!1,Z=!1,v&&(ne=this._updateAvailableDevices("audioinput",R),Z=this._updateAvailableDevices("audiooutput",V)),b&&(ne=this._updateAvailableDevices("videoinput",q)||ne),!y&&ne&&this.updateStream(),Z&&this._onAudioOutputChanged();case 16:case"end":return xe.stop()}},p,this)})),function(p){return o.apply(this,arguments)})}]),s}(),ZA="1.0.0-beta.11",JA=ZA,ote=function(){function s(o){g(this,s),this._parse=o}return E(s,[{key:"parseToJson",value:function(o){try{return JSON.parse(o)}catch{return{}}}},{key:"validate",value:function(o){var i=o.cmd,c=o.request_id,d=o.call_type;return!!(c||i||d)}},{key:"parseCommand",value:function(o){return o.error?{isValid:!0,error:{requestId:o.request_id,message:o.message,code:o.code}}:{isValid:!0,command:this._parse(o)}}},{key:"parse",value:function(o){var i=this.parseToJson(o);return this.validate(i)?this.parseCommand(i):{isValid:!1}}}]),s}(),lte=function(s){T(i,s);var o=O(i);function i(c){var d,p;return g(this,i),(p=o.call(this))._ctx=c,p._ws=null,p._retryTimer=null,p._closed=!0,p._sessionKey=null,p._requestMap=new wN(p._getTimeoutTime()),p._messageParser=new ote(p._ctx.parse),p._hostUrl=(d=p._ctx.websocketHost)!==null&&d!==void 0?d:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",p._ctx.appId),p}return E(i,[{key:"connect",value:function(){var c=this;return new Promise(function(d,p){var _;c._sessionKey||p(new Error("tried to connect to websocket server without auth")),((_=c._ws)===null||_===void 0?void 0:_.readyState)===0&&p(new Error("websocket is reconnecting already")),c._disconnect(),c._ws=c._createWebSocket(),c._closed=!1,c._ws.onopen=function(){c._onOpen(),d(null)},c._ws.onmessage=function(v){var b=c._messageParser.parse(v.data),y=b.isValid,S=b.error,R=b.command;y&&(S?c._processError(S):c.processCommand(R))},c._ws.onerror=function(v){return c._onError(v)},c._ws.onclose=function(){c._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(c){var d=c.requestId,p=c.code,_=c.message,v=this._requestMap.unregister(d);v&&(tt.debug(d,c.message),v.reject(new Lc(p,{message:_})))}},{key:"processCommand",value:function(c){this._dispatchEvent("command",c)}},{key:"setSessionKey",value:function(c){this._sessionKey=c}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(c){}},{key:"_onClose",value:function(){this.startToReconnect()}},{key:"_createWebSocket",value:function(){var c="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+c)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(JA)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){var c=this;this._removeRetryTimer(),sE(new EN(5e3,1e3,void 0),function(){return c.connect()},{onError:function(d){tt.error("Fail reconnect WebSocket ErrorCode = ".concat(d.code))}})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),i}(xo),cte=function(){function s(i){var c;g(this,s),this._ctx=i,this._fetch=function(){var d;return(d=window).fetch.apply(d,arguments)},this._sessionKey=null,this._hostUrl=(c=this._ctx.apiHost)!==null&&c!==void 0?c:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var o;return E(s,[{key:"setSessionKey",value:function(i){this._sessionKey=i}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(o=m(u().mark(function i(c){var d,p,_,v,b,y;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c.getApiOption){S.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(c)));case 2:if(!(d=c.getApiOption()).auth||this._sessionKey){S.next=5;break}throw new Error("tried to call private api without auth");case 5:return p=l({},d.headers),d.body instanceof FormData||(p["Content-Type"]="application/json"),p.SendBird="JS,".concat(this._getOsVersion(),",").concat(JA),p["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(p["SBCall-Session-Token"]=this._sessionKey),S.next=12,this._fetch("".concat(this._getHost()).concat(d.path),{method:d.method,body:d.body instanceof FormData?d.body:JSON.stringify(d.body),headers:p});case 12:return _=S.sent,S.next=15,_.text();case 15:v=S.sent,b=null,S.prev=17,b=JSON.parse(v),S.next=24;break;case 21:throw S.prev=21,S.t0=S.catch(17),new Lc(wa.ERR_MALFORMED_DATA);case 24:if(_.ok){S.next=34;break}if(!b.error){S.next=29;break}throw new Lc(b.code,{message:b.message});case 29:if(_.status!==500){S.next=31;break}throw new Lc(wa.INTERNAL_SERVER_ERROR);case 31:if(!(_.status>=300&&_.status<400)){S.next=33;break}throw new Lc(wa.ERR_MALFORMED_DATA);case 33:throw new Lc(wa.ERR_REQUEST_FAILED);case 34:if(S.prev=34,!(y=this._ctx.parseResponse(c,b))){S.next=38;break}return S.abrupt("return",y);case 38:S.next=43;break;case 40:return S.prev=40,S.t1=S.catch(34),S.abrupt("return",b);case 43:return S.abrupt("return",b);case 44:case"end":return S.stop()}},i,this,[[17,21],[34,40]])})),function(i){return o.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),ute=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="poll",i}return me(o,s),o.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new XE(i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S})},o.prototype.create=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=Me(Me({},vJ),i),Mn(qI(c)).throw(Ke.invalidParameters),[2,this._manager.create(c)]})})},o.prototype.get=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=Me(Me({},bJ),i),Mn(jI(c)).throw(Ke.invalidParameters),[2,this._manager.get(c)]})})},o.prototype.getOption=function(i){return X(this,void 0,void 0,function(){var c;return Y(this,function(d){return c=Me(Me({},gJ),i),Mn(GI(c)).throw(Ke.invalidParameters),[2,this._manager.getOption(c)]})})},o.prototype.buildPollFromSerializedData=function(i){return this._manager.buildPollFromSerializedData(i)},o}(WE);(function(s){s.LATEST_LAST_MESSAGE="latest_last_message",s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(jc||(jc={})),function(s){s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(YA||(YA={})),function(s){s.CREATED_AT="created_at",s.SCHEDULED_AT="scheduled_at"}(XA||(XA={}));var b3,y3=function(s){switch(s){case jc.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case jc.CHRONOLOGICAL:return["-createdAt","syncIndex"];case jc.CHANNEL_NAME_ALPHABETICAL:return["name"];default:return["-lastMessageUpdatedAt","-createdAt","syncIndex"]}},dte=function(s){function o(i){var c=i.message,d=s.call(this)||this;return d.message=c,d}return me(o,s),o}(bi),eO={},hte=function(){function s(o,i){var c=i.localCacheEnabled,d=i.dispatcher,p=i.sdkState,_=i.logger,v=this;this._iid=o,eO[o]=this,this._localCacheEnabled=c,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=d,this._logger=_,this._sdkState=p,this._localCacheEnabled&&d.on(function(b){if(b instanceof Zu)switch(b.stateType){case gr.CONNECTED:v._isProcessingAutoResend||v.processAutoResendRegisteredPendingMessages().then(function(){return v._processNextAutoResend()});break;case gr.INTERNAL_DISCONNECTED:case gr.EXTERNAL_DISCONNECTED:v._isProcessingAutoResend=!1}})}return s.of=function(o){return eO[o]},s.prototype.processNonAutoResendRegisteredPendingMessages=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_;return Y(this,function(v){switch(v.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=v.sent();try{for(i=gt(o),c=i.next();!c.done;c=i.next())(d=c.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",d.reqId),d.sendingStatus=Br.FAILED,d.errorCode=ht.ACK_TIMEOUT,this._dispatcher.dispatch(new Ui({messages:[d],source:Tr.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{c&&!c.done&&(_=i.return)&&_.call(i)}finally{if(p)throw p.error}}return[2]}})})},s.prototype.processAutoResendRegisteredPendingMessages=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=y.sent();try{for(i=gt(o),c=i.next();!c.done;c=i.next())(d=c.value).errorCode&&ev(d.errorCode)&&(p=new Date().getTime(),_=d.createdAt+2592e5,p<=_?this._autoResendQueue.map(function(S){return S.reqId}).indexOf(d.reqId)<0&&this._autoResendQueue.push(d):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(_).toLocaleString()),d.sendingStatus=Br.FAILED,this._dispatcher.dispatch(new Ui({messages:[d],source:Tr.LOCAL_MESSAGE_FAILED}))))}catch(S){v={error:S}}finally{try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}}return[2]}})})},s.prototype.completeCurrentAndProcessNextAutoResend=function(o){if(this._localCacheEnabled&&(o.sendingStatus===Br.SUCCEEDED||o.sendingStatus===Br.FAILED&&!ev(o.errorCode))){var i=this.indexOf(o);i>=0&&this._autoResendQueue.splice(i,1),i===0&&this._processNextAutoResend()}},s.prototype._fetchAllCachedPendingMessages=function(){return X(this,void 0,void 0,function(){var o,i;return Y(this,function(c){switch(c.label){case 0:return(o=Wh.of(this._iid))?[4,o.fetch({sendingStatus:Br.PENDING,backward:!0})]:[3,2];case 1:return i=c.sent(),[3,3];case 2:i=[],c.label=3;case 3:return[2,i]}})})},s.prototype.indexOf=function(o){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId):-1},s.prototype._isNotInQueue=function(o){return this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId)===-1},s.prototype._processNextAutoResend=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),o=this._autoResendQueue[0],this._dispatcher.dispatch(new dte({message:o})),this._logger.debug("processing auto-resend for message request id: ",o.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(c){this._logger.warn("process auto-resend error: ",c),this._isProcessingAutoResend=!1}return[2]})})},s}();(function(s){s[s.USER_BLOCK=20001]="USER_BLOCK",s[s.USER_UNBLOCK=2e4]="USER_UNBLOCK",s[s.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(b3||(b3={}));var nO=function(){function s(o){this.category=o.cat,this.data=o.data}return s.getDataAsUserBlockEvent=function(o,i){var c=i.data,d=c.blocker,p=c.blockee;return{blocker:new Ut(o,d),blockee:new Ut(o,p)}},s.getDataAsFriendDiscoveredEvent=function(o,i){var c=i.data.friend_discoveries;return{friendDiscoveries:Array.isArray(c)?c.map(function(d){return new Ut(o,d)}):[]}},s}(),pte=function(s){function o(i,c){var d=c.userId,p=s.call(this)||this;return p._iid=i,p.userId=d,p}return me(o,s),o}(bi),fte=function(s){function o(){return s.call(this)||this}return me(o,s),o}(bi),_te=function(s){function o(i,c,d){var p=s.call(this,i,"USEV",d)||this;return p.event=new nO(d),p}return me(o,s),o}($r),tO=function(s){this.key=s.key,this.url=s.url},rO=function(s){this.id=s.id,this.name=s.name,this.url=s.url,this.emojis=s.emojis?s.emojis.map(function(o){return new tO(o)}):[]},mte=function(s){this.emojiHash=s.emoji_hash||"",this.emojiCategories=s.emoji_categories?s.emoji_categories.map(function(o){return new rO(o)}):[]},vte={profileImage:void 0,profileUrl:void 0,nickname:void 0},iO=function(s){return{v2:s.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[y3(jc.LATEST_LAST_MESSAGE),y3(jc.CHRONOLOGICAL),y3(jc.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:TA,keyName:"messageId",index:[jl(Gi.CHANNEL_LATEST),jl(Gi.NEWEST_CHILD_MESSAGE)]},{collectionName:LA,keyName:"reqId",index:[jl(Gi.CHANNEL_LATEST),jl(Gi.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]),v3:s.commitSchema([{collectionName:"FeedChannel",keyName:"url",index:[["-lastMessageUpdatedAt","-createdAt","syncIndex"]]}])}},aO=function(s,o){return function(i,c){switch(i){case 1:s.clear().then(function(){o.clear().then(function(){iO(s).v2.then(function(){return c()}).catch(function(d){return c(d)})}).catch(function(d){return c(d)})}).catch(function(d){return c(d)});break;case 2:iO(s).v3.then(function(){return c()}).catch(function(d){return c(d)});break;default:c()}}},gte=function(){return typeof document<"u"?document.visibilityState:"visible"},bte=function(s){function o(i){var c=i.getVisibilityState,d=c===void 0?gte:c,p=i.initialState,_=p===void 0?"visible":p,v=i.isEnabled,b=v===void 0||v,y=i.pauseCheckDelay,S=y===void 0?3e4:y,R=s.call(this)||this;return R._pauseCheckDelay=3e4,R._currentState="visible",R._getVisibilityState=d,R._pauseCheckDelay=S,R._currentState=_,R._isEnabled=b,R._boundToggleState=R._toggleState.bind(R),R}return me(o,s),Object.defineProperty(o.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),o.prototype._toggleState=function(){var i=this,c=this._getVisibilityState();c!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){i._pauseDelayTimer=void 0,i.dispatch("pause")},this._pauseCheckDelay)),this._currentState=c},o.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},o.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},o}(Dh),yte=function(){function s(o){var i=o.logger,c=o.connectionDelegate,d=c===void 0?null:c,p=this;this._onlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.reconnect()},this._offlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.disconnect()},this.unsubscribes=[],this._onlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("online",_),function(){return window.removeEventListener("online",_,!1)}},this._offlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("offline",_),function(){return window.removeEventListener("offline",_,!1)}},this.logger=i,d&&(this.connectionDelegate=d)}return Object.defineProperty(s.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),s.prototype.setOnlineListener=function(o){o&&typeof o=="function"&&(this._onlineListener=o)},s.prototype.setOfflineListener=function(o){o&&typeof o=="function"&&(this._offlineListener=o)},s.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},s.prototype.stop=function(){var o=this;this.unsubscribes.forEach(function(i){try{i==null||i()}catch(c){o.logger.warn(c.message)}}),this.unsubscribes=[]},s.prototype.isOnline=function(){return X(this,void 0,void 0,function(){return Y(this,function(o){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(i){fetch("https://www.google.com",{method:An.GET,mode:"no-cors"}).then(function(){return i(!0)}).catch(function(){return i(!1)})})]})})},s}(),sO=function(s){function o(i){var c=i.userId,d=i.nickname,p=i.profileUrl,_=i.profileImage,v=i.preferredLanguages,b=s.call(this)||this;return b.method=An.PUT,b.path="".concat(lr,"/").concat(encodeURIComponent(c)),b.params=at(pt({nickname:d,profile_url:p,profile_file:_,preferred_languages:v})),b}return me(o,s),o}(Rn),oO=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.user=new Ut(i,Me({},c)),d}return me(o,s),o}(Pn),Ete=function(s){function o(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/apns"),p.params={apns_device_token:d,always_push:!0},p}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Ut(o,i.user),c},s)})(Pn);var wte=function(s){function o(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/gcm"),p.params={gcm_reg_token:d,always_push:!0},p}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Ut(o,i.user),c},s)})(Pn);var xte=function(s){function o(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/apns/").concat(encodeURIComponent(d)),p}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.user=new Ut(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Pn);var Ste=function(s){function o(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/gcm/").concat(encodeURIComponent(d)),p}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.user=new Ut(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Pn);var Tte=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.DELETE,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/apns"),d}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Ut(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Pn);var kte=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.DELETE,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/gcm"),d}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Ut(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Pn);var Cte=function(s){function o(i){var c=i.userId,d=i.type,p=i.token,_=i.ts,v=s.call(this)||this;return v.method=An.GET,v.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/").concat(encodeURIComponent(d),"/device_tokens"),v.params={created_ts:_,token:p},v}return me(o,s),o}(Rn),Nte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.pushTokens={type:c.type?gi[c.type.toLowerCase()]:gi.UNKNOWN,deviceTokens:c.device_tokens,hasMore:c.has_more,token:c.token},d}return me(o,s),o}(Pn),Ite=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),d}return me(o,s),o}(Rn),Ate=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.autoAccept=c.auto_accept,d}return me(o,s),o}(Pn),Ote=function(s){function o(i){var c=i.userId,d=i.willAutoAccept,p=s.call(this)||this;return p.method=An.PUT,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),p.params={auto_accept:d},p}return me(o,s),o}(Rn),Rte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.autoAccept=c.auto_accept,d}return me(o,s),o}(Pn),Mte=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),d}return me(o,s),o}(Rn),Dte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},d}return me(o,s),o}(Pn),Lte=function(s){function o(i){var c=i.userId,d=i.doNotDisturbOn,p=i.startHour,_=i.startMin,v=i.endHour,b=i.endMin,y=i.timezone,S=s.call(this)||this;return S.method=An.PUT,S.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),S.params={do_not_disturb:d,start_hour:p,start_min:_,end_hour:v,end_min:b,timezone:y},S}return me(o,s),o}(Rn),Ute=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},d}return me(o,s),o}(Pn),Pte=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),d}return me(o,s),o}(Rn),Fte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(d.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(d.snoozePeriod.endTs=c.snooze_end_ts),d}return me(o,s),o}(Pn),Hte=function(s){function o(i){var c=i.userId,d=i.snoozeOn,p=i.startTs,_=i.endTs,v=s.call(this)||this;return v.method=An.PUT,v.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),v.params={snooze_enabled:d,snooze_start_ts:p,snooze_end_ts:_},v}return me(o,s),o}(Rn),Bte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(d.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(d.snoozePeriod.endTs=c.snooze_end_ts),d}return me(o,s),o}(Pn),Vte=function(s){function o(i){var c=i.userId,d=i.blockedUserId,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/block"),p.params={target_id:d},p}return me(o,s),o}(Rn);(function(s){me(function(o,i){var c=s.call(this,o,i)||this;return c.user=new Ut(o,i),c},s)})(Pn);var zte=function(s){function o(i){var c=i.userId,d=i.unblockedUserId,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/block/").concat(encodeURIComponent(d)),p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var $te=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),d}return me(o,s),o}(Rn),qte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.pushTriggerOption=c.push_trigger_option,d}return me(o,s),o}(Pn),Gte=function(s){function o(i){var c=i.userId,d=i.pushTriggerOption,p=s.call(this)||this;return p.method=An.PUT,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push_preference"),p.params={push_trigger_option:d},p}return me(o,s),o}(Rn),jte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.pushTriggerOption=c.push_trigger_option,d}return me(o,s),o}(Pn),Kte=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/template"),d}return me(o,s),o}(Rn),Wte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.name=c.name,d}return me(o,s),o}(Pn),Qte=function(s){function o(i){var c=i.userId,d=i.templateName,p=s.call(this)||this;return p.method=An.PUT,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/push/template"),p.params={name:d},p}return me(o,s),o}(Rn),Yte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.name=c.name,d}return me(o,s),o}(Pn),Xte=function(s){function o(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=An.GET,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friends/changelogs"),p.params={token:d},p}return me(o,s),o}(Rn),Zte=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.changelogs={addedUsers:c.added.map(function(p){return new Ut(i,p)}),updatedUsers:c.updated.map(function(p){return new Ut(i,p)}),deletedUserIds:c.deleted,hasMore:c.has_more,token:c.next},d}return me(o,s),o}(Pn),Jte=function(s){function o(i){var c=i.userId,d=i.discoveries,p=s.call(this)||this;return p.method=An.PUT,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discoveries:d.map(function(_){return{friend_discovery_key:_.friendDiscoveryKey,friend_name:_.friendName}})},p}return me(o,s),o}(Rn),ere=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.friendDiscoveryRequestId=c.friend_discovery_request_id,d}return me(o,s),o}(Pn),nre=function(s){function o(i){var c=i.userId,d=i.discoveryKeys,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discovery_keys:d},p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var tre=function(s){function o(i){var c=i.userId,d=i.userIds,p=s.call(this)||this;return p.method=An.POST,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:d},p}return me(o,s),o}(Rn),rre=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Ut(i,p)}),d}return me(o,s),o}(Pn),ire=function(s){function o(i){var c=i.userId,d=i.userIds,p=s.call(this)||this;return p.method=An.DELETE,p.path="".concat(lr,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:d},p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var are=function(s){function o(i){var c=i.userId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(lr,"/").concat(c,"/allow_friend_discovery"),d.params={},d}return me(o,s),o}(Rn),sre=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.allowFriendDiscovery=c.allow_friend_discovery,d}return me(o,s),o}(Pn),ore=function(s){function o(i){var c=i.userId,d=i.allowFriendDiscovery,p=s.call(this)||this;return p.method=An.PUT,p.path="".concat(lr,"/").concat(c,"/allow_friend_discovery"),p.params={allow_friend_discovery:d},p}return me(o,s),o}(Rn);(function(s){me(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var of,lre=function(s){function o(){var i=s.call(this)||this;return i.method=An.GET,i.path=BN,i}return me(o,s),o}(Rn),cre=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.emojiContainer=new mte(c),d}return me(o,s),o}(Pn),ure=function(s){function o(i){var c=i.categoryId,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(BN,"/").concat(c),d}return me(o,s),o}(Rn),dre=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.emojiCategory=new rO(c),d}return me(o,s),o}(Pn),hre=function(s){function o(i){var c=i.key,d=s.call(this)||this;return d.method=An.GET,d.path="".concat(UX,"/").concat(c),d}return me(o,s),o}(Rn),pre=function(s){function o(i,c){var d=s.call(this,i,c)||this;return d.emoji=new tO(c),d}return me(o,s),o}(Pn),fre=function(s){function o(){var i=s.call(this)||this;return i.method=An.GET,i.path="".concat(PX),i}return me(o,s),o}(Rn),_re=function(s){function o(i,c){var d,p=this,_=c??{};return(p=s.call(this,i,c)||this).uikitConfiguration={string:JSON.stringify(_),json:_},p.updatedAt=(d=c==null?void 0:c.updated_at)!==null&&d!==void 0?d:0,p}return me(o,s),o}(Pn),mre=function(){function s(o,i,c){var d=this;this._storeInitialized=!1,this._iid=o,this.options=i;var p=Je.of(o),_=p.sdkState,v=p.cacheContext,b=p.dispatcher,y=p.sessionManager,S=p.requestQueue,R=p.logger,V=p.userEventHandlers,q=p.appStateToggleEnabled;this._onlineDetector=new yte({logger:R,connectionDelegate:{reconnect:function(){var Z=Je.of(o),se=Z.sdkState,xe=Z.connectionManager,Ce=Z.sessionManager;Ce.auth.hasSession?se.appState==="foreground"&&xe.resetAndReconnect():xe.connect(Ce.auth.authToken)},disconnect:function(){Je.of(o).connectionManager.disconnect()}}});var ne=new hte(o,{localCacheEnabled:v.localCacheEnabled,dispatcher:b,sdkState:_,logger:R});c.forEach(function(Z){Z.init(o,{sdkState:_,cacheContext:v,dispatcher:b,sessionManager:y,requestQueue:S,logger:R,onlineDetector:d._onlineDetector}),d[Z.name]=Z}),this._appStateChangeDetector=new bte({isEnabled:q}),this._appStateChangeDetector.on("resume",function(){R.debug("the page resumes from freeze"),d.setForegroundState()}).on("pause",function(){R.debug("the page freezes"),d.setBackgroundState()}),b.on(function(Z){var se;if(Z instanceof Zu)Z.stateType===gr.CONNECTED&&ne.processNonAutoResendRegisteredPendingMessages();else if(Z instanceof $r){if(Z.code==="USEV"){var xe=Z.as(_te).event;if(xe.category===b3.FRIEND_DISCOVERED){var Ce=nO.getDataAsFriendDiscoveredEvent(o,xe).friendDiscoveries;Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(nn){return[2,V.forEach(function(Ze){Ze.onFriendsDiscovered&&Ze.onFriendsDiscovered(Ce)})]})})})}}}else if(Z instanceof II){var Le=Je.of(d._iid).subscribedUnreadMessageCount,Fe=!1,ye=Z.ts;if(typeof ye=="number"&&ye>Le.ts){if(Le.all!==Z.all&&(Fe=!0),Le.all=Z.all>=0?Z.all:0,Z.customTypes)for(var be in Z.customTypes)Le.customTypes[be]!==Z.customTypes[be]&&(Fe=!0),Le.customTypes[be]=Z.customTypes[be];Fe=Fe&&Le.ts>0,Le.ts=ye}Fe&&Bt(function(){return X(d,void 0,void 0,function(){return Y(this,function(nn){return[2,V.forEach(function(Ze){Ze.onTotalUnreadMessageCountChanged&&Ze.onTotalUnreadMessageCountChanged({groupChannelCount:Le.all,feedChannelCount:Le.feed,customTypeUnreadCount:Le.customTypes}),Ze.onTotalUnreadMessageCountUpdated&&Ze.onTotalUnreadMessageCountUpdated(Le.all,Le.customTypes)})]})})})}else Z instanceof PI?(v.preference.set(d._getUserProfileCacheKey(_.userId),jE.payloadify(Z.userProfile)),!((se=Z.userProfile.appInfo.notificationInfo)===null||se===void 0)&&se.isEnabled&&v.preference.set(function(nn){return"sendbird@".concat(nn,"/changelog_include_chat_notifications")}(d.appId),{value:!0})):Z instanceof Ap&&Z.error&&(Z.error.isSessionRevokedError||Z.error.isUserAuthDeactivedError||Z.error.isUserAuthDeletedOrNotFoundError)&&(R.debug("session revoked."),d.disconnect())})}return s.init=function(o){var i=o.appId,c=o.appVersion,d=o.modules,p=d===void 0?[]:d,_=o.options,v=_===void 0?new MN:_,b=o.debugMode,y=b!==void 0&&b,S=o.customApiHost,R=o.customWebSocketHost,V=o.newInstance,q=V!==void 0&&V,ne=o.logLevel,Z=o.localCacheEnabled,se=Z!==void 0&&Z,xe=o.localCacheConfig,Ce=xe===void 0?new PN:xe,Le=o.localCacheEncryption,Fe=o.useAsyncStorageStore,ye=Fe===void 0?null:Fe,be=o.appStateToggleEnabled,nn=be===void 0||be;if(!of||q){var Ze="su-".concat(Mh()),Qe=Le??{encrypt:function(yn){return yn},decrypt:function(yn){return yn}},Sn=new Kh({encryption:Qe});y||(Sn=EE()?ye?new _ne({AsyncStorage:ye,encryption:Qe}):new Kh({encryption:Qe}):new fne({encryption:Qe})),new Je(Ze,{appId:i,appVersion:c,options:v,apiHost:S??"https://api-".concat(i,".sendbird.com"),websocketHost:R??"wss://ws-".concat(i,".sendbird.com"),store:Sn,encryption:Qe,logLevel:ne,localCacheEnabled:se,localCacheConfig:Ce,debugMode:y,appStateToggleEnabled:nn});var bt=[new xne,new ute],wn=new s(Ze,v,Kt(Kt([],Mt(p),!1),Mt(bt),!1));return of||(of=wn),wn}return of},Object.defineProperty(s,"instance",{get:function(){return of},enumerable:!1,configurable:!0}),Object.defineProperty(s,"version",{get:function(){return ON},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appId",{get:function(){return Je.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appInfo",{get:function(){var o=Je.of(this._iid).appInfo;return o??null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appVersion",{get:function(){var o;return(o=Je.of(this._iid).sdkState.appVersion)!==null&&o!==void 0?o:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"debugMode",{get:function(){return!!Je.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"logLevel",{get:function(){return Je.of(this._iid).logger.level},set:function(o){Je.of(this._iid).logger.level=o},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isCacheEnabled",{get:function(){return Je.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localCacheConfig",{get:function(){var o=Je.of(this._iid).cacheContext;return o.localCacheEnabled?o.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ekey",{get:function(){return Je.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentUser",{get:function(){var o;return(o=Je.of(this._iid).sessionManager.currentUser)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectionState",{get:function(){var o=Je.of(this._iid).connectionManager;return o.isConnected?nl.OPEN:o.isConnecting?nl.CONNECTING:nl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastConnectedAt",{get:function(){var o=Je.of(this._iid),i=o.connectedAt;return o.connectionManager.isConnected?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fcmPushToken",{get:function(){var o;return(o=this._fcmPushToken)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"apnsPushToken",{get:function(){var o;return(o=this._apnsPushToken)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),s.prototype._getNestDBVersion=function(){return 3},s.prototype._getCurrentPreferenceVersion=function(){return 1},s.prototype._getPreferenceCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".pref")},s.prototype._getUserProfileCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".profile")},s.prototype.getMemoryStoreForDebugging=function(){var o=Je.of(this._iid),i=o.debugMode,c=o.cacheContext;if(i)return c.store instanceof Kh?c.store:null;throw Ke.debugModeRequired},s.prototype.addExtension=function(o,i){var c=Je.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(o)>-1&&c.extensions&&(c.extensions[o]=i)},s.prototype.addSendbirdExtensions=function(o,i,c){var d,p,_=Je.of(this._iid),v=_.logger,b=_.sdkState,y=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$");if(o.length===0)return v.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(o.find(function(Z){return!y.test(Z.version)}))return v.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(c)try{for(var S=gt(Object.entries(c)),R=S.next();!R.done;R=S.next()){var V=Mt(R.value,2),q=V[0],ne=V[1];if(/&|=/.test(q)||/&|=/.test(ne))return v.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(Z){d={error:Z}}finally{try{R&&!R.done&&(p=S.return)&&p.call(S)}finally{if(d)throw d.error}}return b.sendbirdRuntimeEnvironment={sendbirdExtensions:o,deviceOS:i,customData:c},!0},s.prototype.setOnlineListener=function(o){this._onlineDetector.setOnlineListener(o)},s.prototype.setOfflineListener=function(o){this._onlineDetector.setOfflineListener(o)},s.prototype._safeInitializeStore=function(o){return X(this,void 0,void 0,function(){var i;return Y(this,function(c){switch(c.label){case 0:i=Je.of(this._iid).cacheContext,c.label=1;case 1:return c.trys.push([1,3,,5]),[4,i.store.init(o)];case 2:return c.sent(),this._storeInitialized=!0,[3,5];case 3:return c.sent(),i.replaceStore(new Kh),[4,this._safeInitializeStore(o)];case 4:return c.sent(),[3,5];case 5:return[2]}})})},s.prototype.initializeCache=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return i=Je.of(this._iid),c=i.sdkState,d=i.cacheContext,p=i.connectionManager,_=i.dispatcher,v=i.logger,c.userId&&c.userId===o?[3,10]:[4,p.logout()];case 1:if(R.sent(),b="sendbird@".concat(c.appId,"/").concat(o,".db"),!d.localCacheEnabled)return[3,8];R.label=2;case 2:return R.trys.push([2,5,,7]),d.nestdb&&d.nestdb.state!==Gl.CLOSED&&d.nestdb.name===b?[3,4]:((y=d.nestdb=new mne({name:"sendbird@".concat(c.appId,"/").concat(o,".db"),version:this._getNestDBVersion(),store:d.store})).on("upgrade",aO(y,d.store)),y.on("storeReplaced",function(V){d.replaceStore(V),d.localCacheEnabled=!1,y.on("upgrade",aO(y,d.store))}),[4,y.open()]);case 3:R.sent(),this._storeInitialized=!0,_.dispatch(new pte(this._iid,{userId:o})),R.label=4;case 4:return c.userId=o,[3,7];case 5:return S=R.sent(),v.warn("Nest DB Open Failed. ",S),[4,this._safeInitializeStore(b)];case 6:throw R.sent(),c.userId=o,Ke.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(b)];case 9:R.sent(),c.userId=o,R.label=10;case 10:return[2]}})})},s.prototype.getCacheDataSize=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return(o=Je.of(this._iid).cacheContext).localCacheEnabled&&o.nestdb?[4,o.nestdb.estimateUsage()]:[3,2];case 1:return[2,i.sent()];case 2:return[2,0]}})})},s.prototype.clearCachedData=function(){return X(this,void 0,void 0,function(){var o;return Y(this,function(i){switch(i.label){case 0:return(o=Je.of(this._iid).cacheContext).localCacheEnabled&&o.nestdb?[4,o.nestdb.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this._storeInitialized?[4,o.preference.clear()]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}})})},s.prototype.clearCachedMessages=function(o){return X(this,void 0,void 0,function(){var i,c,d=this;return Y(this,function(p){switch(p.label){case 0:return Mn(nr("string",o)).throw(Ke.invalidParameters),i=Vv.of(this._iid),c=Wh.of(this._iid),i&&c?[4,Promise.all(o.map(function(_){return X(d,void 0,void 0,function(){return Y(this,function(v){switch(v.label){case 0:return[4,i.removeMessagesOfChannel(_)];case 1:return v.sent(),[4,c.removeMessagesOfChannel(_)];case 2:return v.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.connect=function(o,i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y;return Y(this,function(S){switch(S.label){case 0:Mn($e("string",o)&&$e("string",i,!0)).throw(Ke.invalidParameters),c=Je.of(this._iid),d=c.sdkState,p=c.cacheContext,_=c.connectionManager,v=c.statLogCollector,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.initializeCache(o)];case 2:return S.sent(),Je.of(this._iid).dispatcher.dispatch(new fte),[3,4];case 3:return S.sent(),b=Je.of(this._iid).logger,p.localCacheEnabled=!1,b.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,p.preference.init(this._getPreferenceCacheKey(o),this._getCurrentPreferenceVersion())];case 5:return S.sent(),[4,p.preference.get(this._getUserProfileCacheKey(o))];case 6:return(y=S.sent())&&new jE(this._iid,y).apply(),[4,v.init("sendbird@".concat(d.appId,"/").concat(o,".statlog"))];case 7:S.sent(),S.label=8;case 8:return S.trys.push([8,,10,11]),[4,_.connect(i)];case 9:return S.sent(),[3,11];case 10:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 11:return[2,this.currentUser]}})})},s.prototype.reconnect=function(){var o=Je.of(this._iid),i=o.connectionManager,c=o.sdkState,d=o.sessionManager.auth.hasSession;return d&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),i.resetAndReconnect().then(function(){c.appState="foreground"}).catch(function(){})),d},s.prototype.disconnect=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:return o=Je.of(this._iid),i=o.connectionManager,c=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.logout()];case 1:return d.sent(),[4,this.clearCachedData()];case 2:return d.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:return o=Je.of(this._iid),i=o.connectionManager,c=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.disconnectWebSocket()];case 1:return d.sent(),[2]}})})},s.prototype.setBackgroundState=function(){var o=Je.of(this._iid),i=o.connectionManager,c=o.sdkState,d=o.logger;c.appState==="foreground"&&(c.appState="background",d.debug("going background state"),i.background())},s.prototype.setForegroundState=function(){var o=Je.of(this._iid),i=o.connectionManager,c=o.sdkState,d=o.logger;c.appState==="background"&&(c.appState="foreground",d.debug("going foreground state"),i.resetAndReconnect())},s.prototype.setSessionHandler=function(o){Mn(o instanceof Yee).throw(Ke.invalidParameters),Je.of(this._iid).sessionManager.handler=o},s.prototype.addUserEventHandler=function(o,i){Mn($e("string",o)&&i instanceof Xee).throw(Ke.invalidParameters),Je.of(this._iid).userEventHandlers.set(o,i)},s.prototype.removeUserEventHandler=function(o){Je.of(this._iid).userEventHandlers.delete(o)},s.prototype.removeAllUserEventHandler=function(){Je.of(this._iid).userEventHandlers.clear()},s.prototype.addConnectionHandler=function(o,i){Mn($e("string",o)&&i instanceof Qee).throw(Ke.invalidParameters),Je.of(this._iid).connectionHandlers.set(o,i)},s.prototype.removeConnectionHandler=function(o){Je.of(this._iid).connectionHandlers.delete(o)},s.prototype.removeAllConnectionHandler=function(){Je.of(this._iid).connectionHandlers.clear()},s.prototype.createApplicationUserListQuery=function(o){return o===void 0&&(o={}),new ene(this._iid,o)},s.prototype.createBlockedUserListQuery=function(o){return o===void 0&&(o={}),new rne(this._iid,o)},s.prototype.createFriendListQuery=function(o){return o===void 0&&(o={}),new sne(this._iid,o)},s.prototype.createMessageSearchQuery=function(o){return new Ene(this._iid,o)},s.prototype.createPollListQuery=function(o){return new WI(this._iid,Me({},o))},s.prototype.createPollVoterListQuery=function(o){return new QI(this._iid,Me({},o))},s.prototype.buildUserFromSerializedData=function(o){var i=Wp(o);return new Ut(this._iid,Ut.payloadify(i))},s.prototype.updateCurrentUserInfo=function(o){return o===void 0&&(o={}),X(this,void 0,void 0,function(){var i,c,d,p,_,v,b;return Y(this,function(y){switch(y.label){case 0:return i=Me(Me({},vte),o),Mn(function(S){return is(S.profileImage,!0)&&$e("string",S.profileUrl,!0)&&$e("string",S.nickname,!0)}(i)).throw(Ke.invalidParameters),this.currentUser?(c=Je.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new sO(Me({userId:d.userId},i)),[4,p.send(_)]):[3,2];case 1:return v=y.sent(),b=v.as(oO).user,this.currentUser&&(i.nickname&&(this.currentUser.nickname=b.nickname),(i.profileUrl||i.profileImage)&&(this.currentUser.plainProfileUrl=b.profileUrl)),[2,b];case 2:throw Ke.connectionRequired}})})},s.prototype.updateCurrentUserInfoWithPreferredLanguages=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return Mn(nr("string",o)).throw(Ke.invalidParameters),this.currentUser?(i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new sO({userId:c.userId,preferredLanguages:o}),[4,d.send(p)]):[3,2];case 1:return _=b.sent(),v=_.as(oO).user,this.currentUser&&(this.currentUser.preferredLanguages=v.preferredLanguages),[2,v];case 2:throw Ke.connectionRequired}})})},s.prototype.registerFCMPushTokenForCurrentUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v=this;return Y(this,function(b){switch(b.label){case 0:if(Mn($e("string",o)).throw(Ke.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Je.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,c.hasDeviceToken(gi.FCM,o)?[2,xa.SUCCESS]:(_=new wte({userId:d.userId,token:o}),[4,p.send(_)]);case 2:return b.sent(),[4,Ss(function(){return X(v,void 0,void 0,function(){return Y(this,function(y){switch(y.label){case 0:return c.setDeviceToken(gi.FCM,o),[4,c.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 3:return b.sent(),this._fcmPushToken="",[2,xa.SUCCESS];case 4:return b.sent(),[2,xa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,xa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenForCurrentUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b=this;return Y(this,function(y){switch(y.label){case 0:if(Mn($e("string",o)).throw(Ke.invalidParameters),!this.currentUser)return[3,6];y.label=1;case 1:return y.trys.push([1,4,,5]),i=Je.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,_=new Ste({userId:d.userId,token:o}),[4,p.send(_)];case 2:return v=y.sent().lastDeletedAt,[4,Ss(function(){return X(b,void 0,void 0,function(){return Y(this,function(S){switch(S.label){case 0:return c.unsetDeviceToken(gi.FCM,o),c.setDeviceTokenDeletedAt(v),[4,c.saveDeviceToken()];case 1:return S.sent(),[2]}})})})];case 3:return y.sent(),this._fcmPushToken="",[2,xa.SUCCESS];case 4:return y.sent(),[2,xa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,xa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v=this;return Y(this,function(b){switch(b.label){case 0:return this.currentUser?(o=Je.of(this._iid),i=o.sessionManager,c=o.sdkState,d=o.requestQueue,p=new kte({userId:c.userId}),[4,d.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,Ss(function(){return X(v,void 0,void 0,function(){return Y(this,function(y){switch(y.label){case 0:return i.unsetDeviceTokens(gi.FCM),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.registerAPNSPushTokenForCurrentUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v=this;return Y(this,function(b){switch(b.label){case 0:if(Mn($e("string",o)).throw(Ke.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Je.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,c.hasDeviceToken(gi.APNS,o)?[2,xa.SUCCESS]:(_=new Ete({userId:d.userId,token:o}),[4,p.send(_)]);case 2:return b.sent(),[4,Ss(function(){return X(v,void 0,void 0,function(){return Y(this,function(y){switch(y.label){case 0:return c.setDeviceToken(gi.APNS,o),[4,c.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 3:return b.sent(),this._apnsPushToken="",[2,xa.SUCCESS];case 4:return b.sent(),[2,xa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,xa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenForCurrentUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p,_,v,b=this;return Y(this,function(y){switch(y.label){case 0:if(Mn($e("string",o)).throw(Ke.invalidParameters),!this.currentUser)return[3,6];y.label=1;case 1:return y.trys.push([1,4,,5]),i=Je.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,_=new xte({userId:d.userId,token:o}),[4,p.send(_)];case 2:return v=y.sent().lastDeletedAt,[4,Ss(function(){return X(b,void 0,void 0,function(){return Y(this,function(S){switch(S.label){case 0:return c.unsetDeviceToken(gi.APNS,o),c.setDeviceTokenDeletedAt(v),[4,c.saveDeviceToken()];case 1:return S.sent(),[2]}})})})];case 3:return y.sent(),this._apnsPushToken="",[2,xa.SUCCESS];case 4:return y.sent(),[2,xa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,xa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return X(this,void 0,void 0,function(){var o,i,c,d,p,_,v=this;return Y(this,function(b){switch(b.label){case 0:return this.currentUser?(o=Je.of(this._iid),i=o.sessionManager,c=o.sdkState,d=o.requestQueue,p=new Tte({userId:c.userId}),[4,d.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,Ss(function(){return X(v,void 0,void 0,function(){return Y(this,function(y){switch(y.label){case 0:return i.unsetDeviceTokens(gi.APNS),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.getChannelInvitationPreference=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new Ite({userId:i.userId}),[4,c.send(d)];case 1:return[2,{autoAccept:p.sent().as(Ate).autoAccept}]}})})},s.prototype.setChannelInvitationPreference=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn($e("boolean",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Ote({userId:c.userId,willAutoAccept:o}),[4,d.send(p)];case 1:return[2,{autoAccept:_.sent().as(Rte).autoAccept}]}})})},s.prototype.getDoNotDisturb=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new Mte({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(Dte).preference]}})})},s.prototype.setDoNotDisturb=function(o,i,c,d,p,_){return i===void 0&&(i=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),_===void 0&&(_=""),X(this,void 0,void 0,function(){var v,b,y,S;return Y(this,function(R){switch(R.label){case 0:return Mn($e("boolean",o)&&$e("number",i)&&$e("number",c)&&$e("number",d)&&$e("number",p)&&$e("string",_)).throw(Ke.invalidParameters),v=Je.of(this._iid),b=v.sdkState,y=v.requestQueue,S=new Lte({userId:b.userId,doNotDisturbOn:o,startHour:i,startMin:c,endHour:d,endMin:p,timezone:_}),[4,y.send(S)];case 1:return[2,R.sent().as(Ute).preference]}})})},s.prototype.getSnoozePeriod=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new Pte({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(Fte).snoozePeriod]}})})},s.prototype.setSnoozePeriod=function(o,i,c){return i===void 0&&(i=0),c===void 0&&(c=0),X(this,void 0,void 0,function(){var d,p,_,v;return Y(this,function(b){switch(b.label){case 0:return Mn($e("boolean",o)&&$e("number",i)&&$e("number",c)).throw(Ke.invalidParameters),d=Je.of(this._iid),p=d.sdkState,_=d.requestQueue,v=new Hte({userId:p.userId,snoozeOn:o,startTs:i,endTs:c}),[4,_.send(v)];case 1:return[2,b.sent().as(Bte).snoozePeriod]}})})},s.prototype.getMyPushTokensByToken=function(o,i){return X(this,void 0,void 0,function(){var c,d,p,_,v,b,y,S,R,V,q,ne;return Y(this,function(Z){switch(Z.label){case 0:return Mn($e("string",o)&&Nr(gi,i)).throw(Ke.invalidParameters),c=Je.of(this._iid),d=c.sdkState,p=c.requestQueue,_=c.sessionManager,v=new Cte({userId:d.userId,type:i,token:o}),[4,p.send(v)];case 1:b=Z.sent(),y=b.as(Nte).pushTokens;try{for(S=gt(y.deviceTokens),R=S.next();!R.done;R=S.next())V=R.value,_.setDeviceToken(y.type,V)}catch(se){q={error:se}}finally{try{R&&!R.done&&(ne=S.return)&&ne.call(S)}finally{if(q)throw q.error}}return[4,_.saveDeviceToken()];case 2:return Z.sent(),[2,y]}})})},s.prototype.getPushTriggerOption=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new $te({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(qte).pushTriggerOption]}})})},s.prototype.setPushTriggerOption=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(Nr(fE,o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Gte({userId:c.userId,pushTriggerOption:o}),[4,d.send(p)];case 1:return[2,_.sent().as(jte).pushTriggerOption]}})})},s.prototype.getPushTemplate=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new Kte({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(Wte).name]}})})},s.prototype.setPushTemplate=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(Nr(_E,o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Qte({userId:c.userId,templateName:o}),[4,d.send(p)];case 1:return[2,_.sent().as(Yte).name]}})})},s.prototype.blockUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(o instanceof Ut||$e("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Vte({userId:c.userId,blockedUserId:o instanceof Ut?o.userId:o}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.blockUserWithUserId=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2,this.blockUser(o)]})})},s.prototype.unblockUser=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(o instanceof Ut||$e("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new zte({userId:c.userId,unblockedUserId:o instanceof Ut?o.userId:o}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.unblockUserWithUserId=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2,this.unblockUser(o)]})})},s.prototype.getFriendChangeLogsByToken=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn($e("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Xte({userId:c.userId,token:o}),[4,d.send(p)];case 1:return[2,_.sent().as(Zte).changelogs]}})})},s.prototype.getAllowFriendDiscovery=function(){return X(this,void 0,void 0,function(){var o,i,c,d;return Y(this,function(p){switch(p.label){case 0:return o=Je.of(this._iid),i=o.sdkState,c=o.requestQueue,d=new are({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(sre).allowFriendDiscovery]}})})},s.prototype.setAllowFriendDiscovery=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn($e("boolean",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new ore({userId:c.userId,allowFriendDiscovery:o}),[4,d.send(p)];case 1:return _.sent(),[2,o]}})})},s.prototype.uploadFriendDiscoveries=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new Jte({userId:c.userId,discoveries:o}),[4,d.send(p)];case 1:return[2,_.sent().as(ere).friendDiscoveryRequestId]}})})},s.prototype.deleteFriendDiscovery=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2,this.deleteFriendDiscoveries([o])]})})},s.prototype.deleteFriendDiscoveries=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(nr("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new nre({userId:c.userId,discoveryKeys:o}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.addFriends=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(nr("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new tre({userId:c.userId,userIds:o}),[4,d.send(p)];case 1:return[2,_.sent().as(rre).users]}})})},s.prototype.deleteFriend=function(o){return X(this,void 0,void 0,function(){return Y(this,function(i){return[2,this.deleteFriends([o])]})})},s.prototype.deleteFriends=function(o){return X(this,void 0,void 0,function(){var i,c,d,p;return Y(this,function(_){switch(_.label){case 0:return Mn(nr("string",o)).throw(Ke.invalidParameters),i=Je.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new ire({userId:c.userId,userIds:o}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.getAllEmoji=function(){return X(this,void 0,void 0,function(){var o,i;return Y(this,function(c){switch(c.label){case 0:return o=Je.of(this._iid).requestQueue,i=new lre,[4,o.send(i)];case 1:return[2,c.sent().as(cre).emojiContainer]}})})},s.prototype.getEmojiCategory=function(o){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new ure({categoryId:o}),[4,i.send(c)];case 1:return[2,d.sent().as(dre).emojiCategory]}})})},s.prototype.getEmoji=function(o){return X(this,void 0,void 0,function(){var i,c;return Y(this,function(d){switch(d.label){case 0:return i=Je.of(this._iid).requestQueue,c=new hre({key:o}),[4,i.send(c)];case 1:return[2,d.sent().as(pre).emoji]}})})},s.prototype.getUIKitConfiguration=function(){return X(this,void 0,void 0,function(){var o,i,c;return Y(this,function(d){switch(d.label){case 0:return o=Je.of(this._iid),Mn(o.hasExtension("sb_uikit")).throw(Ke.notSupportedError),i=o.requestQueue,c=new fre,[4,i.send(c)];case 1:return[2,d.sent().as(_re).uikitConfiguration]}})})},s}(),vre=function(s){T(p,s);var o,i,c,d=O(p);function p(_){var v;return g(this,p),(v=d.call(this))._ctx=_,v.wsClient=new lte(l(l({},_),{},{parse:function(b){return yr.parse(b)}})),v.apiClient=new cte(l(l({},_),{},{parseResponse:function(b,y){return yr.parseResponse(b,y)}})),v._unsubscriber=v.wsClient.on("command",function(b){v._dispatchEvent("command",b)}),v}return E(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"reconnectWs",value:function(){return this.wsClient.startToReconnect()}},{key:"sendAPI",value:function(_){return this.apiClient.send(_)}},{key:"send",value:(c=m(u().mark(function _(v){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(v));case 1:case"end":return b.stop()}},_,this)})),function(_){return c.apply(this,arguments)})},{key:"sendWithRetry",value:(i=m(u().mark(function _(v){var b,y,S,R,V,q,ne=this,Z=arguments;return u().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return b=Z.length>1&&Z[1]!==void 0?Z[1]:new HY,y=Z.length>2&&Z[2]!==void 0?Z[2]:{count:0,deferred:new aE},S=y.deferred,R=y.count,se.prev=3,se.next=6,this.send(v);case 6:V=se.sent,S.resolve(V),se.next=14;break;case 10:se.prev=10,se.t0=se.catch(3),(q=b.calcTimeout(R))>0?setTimeout(function(){ne.sendWithRetry(v,b,{count:R+1,deferred:S})},q):S.reject(se.t0);case 14:return se.abrupt("return",S.promise);case 15:case"end":return se.stop()}},_,this,[[3,10]])})),function(_){return i.apply(this,arguments)})},{key:"_setSessionKey",value:function(_){this.apiClient.setSessionKey(_),this.wsClient.setSessionKey(_)}},{key:"authenticate",value:(o=m(u().mark(function _(v){var b,y,S,R,V;return u().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return b=v.userId,y=v.accessToken,q.prev=1,S={product:bE.LIVE,version:ZA,platform:Op.JS},this._ctx.sb.addSendbirdExtensions([S],{platform:yE.WEB}),q.next=6,this._ctx.sb.connect(b,y);case 6:return R=yr.createAuth(this._ctx.appId,b,y),q.next=9,this.send(R);case 9:V=q.sent,this._setSessionKey(V.sbcall_session_token),this._ctx.liveEventManager.userId=V.user.user_id,q.next=18;break;case 14:throw q.prev=14,q.t0=q.catch(1),tt.error("failed to authenticate user ".concat(b)),q.t0;case 18:case"end":return q.stop()}},_,this,[[1,14]])})),function(_){return o.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(xo),gre=mh,bre=yo,yre=lt,Ere=RangeError,lO=Tn,wre=pm,cO=yo,xre=function(s){var o=bre(yre(this)),i="",c=gre(s);if(c<0||c==1/0)throw Ere("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(o+=o))1&c&&(i+=o);return i},Sre=lt,Tre=lO(xre),kre=lO("".slice),Cre=Math.ceil,uO=function(s){return function(o,i,c){var d,p,_=cO(Sre(o)),v=wre(i),b=_.length,y=c===void 0?" ":cO(c);return v<=b||y==""?_:((p=Tre(y,Cre((d=v-b)/y.length))).length>d&&(p=kre(p,0,d)),s?_+p:p+_)}},Nre={start:uO(!1),end:uO(!0)},Ire=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(On),Are=Nre.start;Pr({target:"String",proto:!0,forced:Ire},{padStart:function(s){return Are(this,s,arguments.length>1?arguments[1]:void 0)}});var dO,E3={VERBOSE:{level:-1,name:Ha.VERBOSE,public:!1},DEBUG:{level:1,name:Ha.DEBUG,public:!1},INFO:{level:2,name:Ha.INFO,public:!0},WARNING:{level:3,name:Ha.WARNING,public:!0},ERROR:{level:4,name:Ha.ERROR,public:!0},NONE:{level:100,name:Ha.NONE,public:!0}},Ore=function(s){T(i,s);var o=O(i);function i(c){return g(this,i),o.call(this,c)}return E(i,[{key:"_getLogType",value:function(c){switch(c){case Ha.ERROR:return"error";case Ha.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(c){var d=c.getFullYear().toString().padStart(2,"0"),p=(c.getMonth()+1).toString().padStart(2,"0"),_=c.getDate().toString().padStart(2,"0"),v=c.getHours().toString().padStart(2,"0"),b=c.getMinutes().toString().padStart(2,"0"),y=c.getSeconds().toString().padStart(2,"0"),S=c.getMilliseconds().toString().padStart(2,"0");return"[".concat(d,".").concat(p,".").concat(_," ").concat(v,":").concat(b,":").concat(y,":").concat(S,"]")}},{key:"_permit",value:function(c){var d=this._getLogType(c),p=new Date;if(this._enabledFor(c)&&console&&console[d]){for(var _,v="".concat(this._getTimeString(p)," [").concat(c,"]"),b=arguments.length,y=new Array(b>1?b-1:0),S=1;S<b;S++)y[S-1]=arguments[S];(_=console)[d].apply(_,[v].concat(y))}}}]),i}(function(){function s(o){g(this,s),this.level=o||Ha.NONE}return E(s,[{key:"setLoggerLevel",value:function(o){var i;return(i=E3[o])!==null&&i!==void 0&&i.public&&(this.level=o),this.level}},{key:"_enabledFor",value:function(o){try{return E3[this.level].level<=E3[o].level}catch{return!1}}}]),s}()),hd="active",Yh="passive",pd="hidden",fd="frozen",w3="terminated",hO=function(){return typeof window<"u"&&h(window.safari)==="object"&&window.safari.pushNotification},Rre=[[hd,Yh,pd,w3],[hd,Yh,pd,fd],[pd,Yh,hd],[fd,pd],[fd,hd],[fd,Yh]].map(function(s){return s.reduce(function(o,i,c){return o[i]=c,o},{})}),jv=function(){return typeof document>"u"?Yh:document.visibilityState===pd?pd:document.hasFocus()?hd:Yh},Mre=function(s){T(i,s);var o=O(i);function i(){var c;return g(this,i),(c=o.call(this))._state=jv(),c._handleEvents=c._handleEvents.bind(U(c)),["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in window?"pagehide":"unload"].forEach(function(d){return addEventListener(d,c._handleEvents,!0)}),hO()&&addEventListener("beforeunload",function(d){c._safariBeforeUnloadTimeout=setTimeout(function(){d.defaultPrevented||d.returnValue.length>0||c._dispatchChangesIfNeeded(d,pd)},0)}),c}return E(i,[{key:"state",get:function(){return this._state}},{key:"pageWasDiscarded",get:function(){return typeof document<"u"&&(document.wasDiscarded||!1)}},{key:"_dispatchChangesIfNeeded",value:function(c,d){if(d!==this._state)for(var p=function(y,S){for(var R,V=0;R=Rre[V];++V){var q=R[y],ne=R[S];if(q>=0&&ne>=0&&ne>q)return Object.keys(R).slice(q,ne+1)}return[]}(this._state,d),_=0;_<p.length-1;++_){var v=p[_],b=p[_+1];this._state=b,this._dispatchEvent("statechange",{oldState:v,newState:b,originalEvent:c})}}},{key:"_handleEvents",value:function(c){switch(hO()&&clearTimeout(this._safariBeforeUnloadTimeout),c.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(c,jv());break;case"focus":this._dispatchChangesIfNeeded(c,hd);break;case"blur":this._state===hd&&this._dispatchChangesIfNeeded(c,jv());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(c,c.persisted?fd:w3);break;case"visibilitychange":this._state!==fd&&this._state!==w3&&this._dispatchChangesIfNeeded(c,jv());break;case"freeze":this._dispatchChangesIfNeeded(c,fd)}}}]),i}(xo),Dre=function(s){T(i,s);var o=O(i);function i(){var c;return g(this,i),(c=o.call(this))._currentState="active",c._lifecycle=new Mre,c}return E(i,[{key:"_onStateChanged",value:function(c){c.newState!=="hidden"?this._currentState==="hidden"&&this._dispatchEvent("resume"):this._currentState!=="hidden"&&this._dispatchEvent("pause"),this._currentState=c.newState}},{key:"start",value:function(){var c=this;this._lifecycle.addEventListener("statechange",function(d){return c._onStateChanged(d)})}},{key:"stop",value:function(){var c=this;this._lifecycle.removeEventListener("statechange",function(d){return c._onStateChanged(d)})}}]),i}(xo),Lre=function(){function s(){g(this,s),w(this,"_ctx",{})}var o,i,c,d;return E(s,[{key:"init",value:function(p){var _=p.appId,v=p.chatInstance;this._ctx.sb=v||mre.init({appId:_,modules:[new Yne]}),this._visibilityDetector=new Dre,this._consoleLogListener=new Ore(Ha.NONE),tt.addListener(this._consoleLogListener),this._ctx.appId=_,this._ctx.clientId=Re(),this._ctx.commandRouter=new vre(this._ctx),this._ctx.deviceManager=new ste,this._ctx.liveEventManager=new Xne(this._ctx)}},{key:"setLoggerLevel",value:function(p){return this._consoleLogListener.setLoggerLevel(p)}},{key:"authenticate",value:(d=m(u().mark(function p(_,v){var b=this;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this._ctx.commandRouter.authenticate({userId:_,accessToken:v});case 2:return y.next=4,this._ctx.commandRouter.connectWs();case 4:this._visibilityDetector.start(),this._visibilityDetector.on("resume",function(){b._ctx.commandRouter.reconnectWs(),b._ctx.deviceManager.updateStream()});case 6:case"end":return y.stop()}},p,this)})),function(p,_){return d.apply(this,arguments)})},{key:"deauthenticate",value:(c=m(u().mark(function p(){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),this._visibilityDetector.stop(),this._visibilityDetector.removeAllEventListeners(),tt.removeAllListener();case 7:case"end":return _.stop()}},p,this)})),function(){return c.apply(this,arguments)})},{key:"createLiveEvent",value:(i=m(u().mark(function p(_){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.createLiveEvent(_));case 1:case"end":return v.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"getLiveEvent",value:(o=m(u().mark(function p(_){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.getLiveEvent(_));case 1:case"end":return v.stop()}},p,this)})),function(p){return o.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(p){return new gj(p,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(p){return this._ctx.deviceManager.useMedia(p)}},{key:"updateMediaDevices",value:function(p){return this._ctx.deviceManager.refreshMediaDevices(p)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(p){return this._ctx.deviceManager.selectDevice("audioinput",p)}},{key:"setAudioInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("AUDIO_DEVICE_CHANGED",{onAudioInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED")}}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(p){return this._ctx.deviceManager.selectDevice("videoinput",p)}},{key:"setVideoInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("VIDEO_DEVICE_CHANGED",{onVideoInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED")}}}]),s}(),Ure=new Lre,pO={};dO=function(){function s(R,V){if(!(R instanceof V))throw new TypeError("Cannot call a class as a function")}function o(R,V){for(var q=0;q<V.length;q++){var ne=V[q];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,ne.key,ne)}}function i(R,V,q){return V&&o(R.prototype,V),q&&o(R,q),Object.defineProperty(R,"prototype",{writable:!1}),R}function c(R){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},c(R)}function d(R,V){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,ne){return q.__proto__=ne,q},d(R,V)}function p(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,V,q){var ne=function(se,xe){for(;!Object.prototype.hasOwnProperty.call(se,xe)&&(se=c(se))!==null;);return se}(R,V);if(ne){var Z=Object.getOwnPropertyDescriptor(ne,V);return Z.get?Z.get.call(arguments.length<3?R:q):Z.value}},_.apply(this,arguments)}var v=function(){function R(){s(this,R),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(R,[{key:"addEventListener",value:function(V,q,ne){V in this.listeners||(this.listeners[V]=[]),this.listeners[V].push({callback:q,options:ne})}},{key:"removeEventListener",value:function(V,q){if(V in this.listeners){for(var ne=this.listeners[V],Z=0,se=ne.length;Z<se;Z++)if(ne[Z].callback===q)return void ne.splice(Z,1)}}},{key:"dispatchEvent",value:function(V){if(V.type in this.listeners){for(var q=this.listeners[V.type].slice(),ne=0,Z=q.length;ne<Z;ne++){var se=q[ne];try{se.callback.call(this,V)}catch(xe){Promise.resolve().then(function(){throw xe})}se.options&&se.options.once&&this.removeEventListener(V.type,se.callback)}return!V.defaultPrevented}}}]),R}(),b=function(R){(function(ne,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),Z&&d(ne,Z)})(q,R);var V=function(ne){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var se,xe=c(ne);if(Z){var Ce=c(this).constructor;se=Reflect.construct(xe,arguments,Ce)}else se=xe.apply(this,arguments);return function(Le,Fe){if(Fe&&(typeof Fe=="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(Le)}(this,se)}}(q);function q(){var ne;return s(this,q),(ne=V.call(this)).listeners||v.call(p(ne)),Object.defineProperty(p(ne),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(p(ne),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(p(ne),"reason",{value:void 0,writable:!0,configurable:!0}),ne}return i(q,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(ne){ne.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,ne)),_(c(q.prototype),"dispatchEvent",this).call(this,ne)}}]),q}(v),y=function(){function R(){s(this,R),Object.defineProperty(this,"signal",{value:new b,writable:!0,configurable:!0})}return i(R,[{key:"abort",value:function(V){var q;try{q=new Event("abort")}catch{typeof document<"u"?document.createEvent?(q=document.createEvent("Event")).initEvent("abort",!1,!1):(q=document.createEventObject()).type="abort":q={type:"abort",bubbles:!1,cancelable:!1}}var ne=V;if(ne===void 0)if(typeof document>"u")(ne=new Error("This operation was aborted")).name="AbortError";else try{ne=new DOMException("signal is aborted without reason")}catch{(ne=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=ne,this.signal.dispatchEvent(q)}},{key:"toString",value:function(){return"[object AbortController]"}}]),R}();function S(R){return R.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof R.Request=="function"&&!R.Request.prototype.hasOwnProperty("signal")||!R.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(y.prototype[Symbol.toStringTag]="AbortController",b.prototype[Symbol.toStringTag]="AbortSignal"),function(R){if(S(R))if(R.fetch){var V=function(Z){typeof Z=="function"&&(Z={fetch:Z});var se=Z,xe=se.fetch,Ce=se.Request,Le=Ce===void 0?xe.Request:Ce,Fe=se.AbortController,ye=se.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,be=ye!==void 0&&ye;if(!S({fetch:xe,Request:Le,AbortController:Fe,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:be}))return{fetch:xe,Request:nn};var nn=Le;(nn&&!nn.prototype.hasOwnProperty("signal")||be)&&((nn=function(Qe,Sn){var bt;Sn&&Sn.signal&&(bt=Sn.signal,delete Sn.signal);var wn=new Le(Qe,Sn);return bt&&Object.defineProperty(wn,"signal",{writable:!1,enumerable:!1,configurable:!0,value:bt}),wn}).prototype=Le.prototype);var Ze=xe;return{fetch:function(Qe,Sn){var bt=nn&&nn.prototype.isPrototypeOf(Qe)?Qe.signal:Sn?Sn.signal:void 0;if(bt){var wn;try{wn=new DOMException("Aborted","AbortError")}catch{(wn=new Error("Aborted")).name="AbortError"}if(bt.aborted)return Promise.reject(wn);var yn=new Promise(function(Bn,wt){bt.addEventListener("abort",function(){return wt(wn)},{once:!0})});return Sn&&Sn.signal&&delete Sn.signal,Promise.race([yn,Ze(Qe,Sn)])}return Ze(Qe,Sn)},Request:nn}}(R),q=V.fetch,ne=V.Request;R.fetch=q,R.Request=ne,Object.defineProperty(R,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:y}),Object.defineProperty(R,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:b})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:Be)},dO();var Pre=r({__proto__:null,default:pO},[pO]),fO={},aa=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||Be!==void 0&&Be||{},_O="URLSearchParams"in aa,mO="Symbol"in aa&&"iterator"in Symbol,lf="FileReader"in aa&&"Blob"in aa&&function(){try{return new Blob,!0}catch{return!1}}(),vO="FormData"in aa,Kv="ArrayBuffer"in aa;if(Kv)var Fre=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Hre=ArrayBuffer.isView||function(s){return s&&Fre.indexOf(Object.prototype.toString.call(s))>-1};function Xh(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(s)||s==="")throw new TypeError('Invalid character in header field name: "'+s+'"');return s.toLowerCase()}function x3(s){return typeof s!="string"&&(s=String(s)),s}function S3(s){var o={next:function(){var i=s.shift();return{done:i===void 0,value:i}}};return mO&&(o[Symbol.iterator]=function(){return o}),o}function Pi(s){this.map={},s instanceof Pi?s.forEach(function(o,i){this.append(i,o)},this):Array.isArray(s)?s.forEach(function(o){if(o.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+o.length);this.append(o[0],o[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(o){this.append(o,s[o])},this)}function T3(s){if(!s._noBody)return s.bodyUsed?Promise.reject(new TypeError("Already read")):void(s.bodyUsed=!0)}function gO(s){return new Promise(function(o,i){s.onload=function(){o(s.result)},s.onerror=function(){i(s.error)}})}function Bre(s){var o=new FileReader,i=gO(o);return o.readAsArrayBuffer(s),i}function bO(s){if(s.slice)return s.slice(0);var o=new Uint8Array(s.byteLength);return o.set(new Uint8Array(s)),o.buffer}function yO(){return this.bodyUsed=!1,this._initBody=function(s){var o;this.bodyUsed=this.bodyUsed,this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:lf&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:vO&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:_O&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():Kv&&lf&&(o=s)&&DataView.prototype.isPrototypeOf(o)?(this._bodyArrayBuffer=bO(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Kv&&(ArrayBuffer.prototype.isPrototypeOf(s)||Hre(s))?this._bodyArrayBuffer=bO(s):this._bodyText=s=Object.prototype.toString.call(s):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_O&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},lf&&(this.blob=function(){var s=T3(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return T3(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(lf)return this.blob().then(Bre);throw new Error("could not read as ArrayBuffer")},this.text=function(){var s,o,i,c,d,p=T3(this);if(p)return p;if(this._bodyBlob)return s=this._bodyBlob,i=gO(o=new FileReader),d=(c=/charset=([A-Za-z0-9_-]+)/.exec(s.type))?c[1]:"utf-8",o.readAsText(s,d),i;if(this._bodyArrayBuffer)return Promise.resolve(function(_){for(var v=new Uint8Array(_),b=new Array(v.length),y=0;y<v.length;y++)b[y]=String.fromCharCode(v[y]);return b.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},vO&&(this.formData=function(){return this.text().then(zre)}),this.json=function(){return this.text().then(JSON.parse)},this}Pi.prototype.append=function(s,o){s=Xh(s),o=x3(o);var i=this.map[s];this.map[s]=i?i+", "+o:o},Pi.prototype.delete=function(s){delete this.map[Xh(s)]},Pi.prototype.get=function(s){return s=Xh(s),this.has(s)?this.map[s]:null},Pi.prototype.has=function(s){return this.map.hasOwnProperty(Xh(s))},Pi.prototype.set=function(s,o){this.map[Xh(s)]=x3(o)},Pi.prototype.forEach=function(s,o){for(var i in this.map)this.map.hasOwnProperty(i)&&s.call(o,this.map[i],i,this)},Pi.prototype.keys=function(){var s=[];return this.forEach(function(o,i){s.push(i)}),S3(s)},Pi.prototype.values=function(){var s=[];return this.forEach(function(o){s.push(o)}),S3(s)},Pi.prototype.entries=function(){var s=[];return this.forEach(function(o,i){s.push([i,o])}),S3(s)},mO&&(Pi.prototype[Symbol.iterator]=Pi.prototype.entries);var Vre=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _d(s,o){if(!(this instanceof _d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,c,d=(o=o||{}).body;if(s instanceof _d){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,o.headers||(this.headers=new Pi(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,d||s._bodyInit==null||(d=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=o.credentials||this.credentials||"same-origin",!o.headers&&this.headers||(this.headers=new Pi(o.headers)),this.method=(c=(i=o.method||this.method||"GET").toUpperCase(),Vre.indexOf(c)>-1?c:i),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||function(){if("AbortController"in aa)return new AbortController().signal}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(d),!(this.method!=="GET"&&this.method!=="HEAD"||o.cache!=="no-store"&&o.cache!=="no-cache")){var p=/([?&])_=[^&]*/;p.test(this.url)?this.url=this.url.replace(p,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function zre(s){var o=new FormData;return s.trim().split("&").forEach(function(i){if(i){var c=i.split("="),d=c.shift().replace(/\+/g," "),p=c.join("=").replace(/\+/g," ");o.append(decodeURIComponent(d),decodeURIComponent(p))}}),o}function il(s,o){if(!(this instanceof il))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(o||(o={}),this.type="default",this.status=o.status===void 0?200:o.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=o.statusText===void 0?"":""+o.statusText,this.headers=new Pi(o.headers),this.url=o.url||"",this._initBody(s)}_d.prototype.clone=function(){return new _d(this,{body:this._bodyInit})},yO.call(_d.prototype),yO.call(il.prototype),il.prototype.clone=function(){return new il(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Pi(this.headers),url:this.url})},il.error=function(){var s=new il(null,{status:200,statusText:""});return s.status=0,s.type="error",s};var $re=[301,302,303,307,308];il.redirect=function(s,o){if($re.indexOf(o)===-1)throw new RangeError("Invalid status code");return new il(null,{status:o,headers:{location:s}})};var Zh=aa.DOMException;try{new Zh}catch{(Zh=function(o,i){this.message=o,this.name=i;var c=Error(o);this.stack=c.stack}).prototype=Object.create(Error.prototype),Zh.prototype.constructor=Zh}function EO(s,o){return new Promise(function(i,c){var d=new _d(s,o);if(d.signal&&d.signal.aborted)return c(new Zh("Aborted","AbortError"));var p=new XMLHttpRequest;function _(){p.abort()}if(p.onload=function(){var b,y,S={status:p.status,statusText:p.statusText,headers:(b=p.getAllResponseHeaders()||"",y=new Pi,b.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var q=V.split(":"),ne=q.shift().trim();if(ne){var Z=q.join(":").trim();try{y.append(ne,Z)}catch(se){console.warn("Response "+se.message)}}}),y)};S.url="responseURL"in p?p.responseURL:S.headers.get("X-Request-URL");var R="response"in p?p.response:p.responseText;setTimeout(function(){i(new il(R,S))},0)},p.onerror=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},p.ontimeout=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},p.onabort=function(){setTimeout(function(){c(new Zh("Aborted","AbortError"))},0)},p.open(d.method,function(b){try{return b===""&&aa.location.href?aa.location.href:b}catch{return b}}(d.url),!0),d.credentials==="include"?p.withCredentials=!0:d.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&(lf?p.responseType="blob":Kv&&(p.responseType="arraybuffer")),o&&typeof o.headers=="object"&&!(o.headers instanceof Pi||aa.Headers&&o.headers instanceof aa.Headers)){var v=[];Object.getOwnPropertyNames(o.headers).forEach(function(b){v.push(Xh(b)),p.setRequestHeader(b,x3(o.headers[b]))}),d.headers.forEach(function(b,y){v.indexOf(y)===-1&&p.setRequestHeader(y,b)})}else d.headers.forEach(function(b,y){p.setRequestHeader(y,b)});d.signal&&(d.signal.addEventListener("abort",_),p.onreadystatechange=function(){p.readyState===4&&d.signal.removeEventListener("abort",_)}),p.send(d._bodyInit===void 0?null:d._bodyInit)})}EO.polyfill=!0,aa.fetch||(aa.fetch=EO,aa.Headers=Pi,aa.Request=_d,aa.Response=il);var qre=r({__proto__:null,default:fO},[fO]);e.CameraOverlayPosition=Oh,e.ErrorCode=wa,e.HostState=N5,e.LiveEvent=hE,e.LiveEventRole=Ch,e.LiveEventState=C5,e.ParticipantState=HK,e.SendbirdLive=Ure,Object.defineProperty(e,"__esModule",{value:!0})})})(jr,jr.exports);var Ese="sendbird-modal-root";function ba(n,t){t===void 0&&(t={});var e=t.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var wse=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;ba(wse);var xse=function(n){var t=n.children,e=n.isOpen,r=e===void 0?!1:e;n.close;var a=n.modalRoot,l=a===void 0?Ese:a,u=n.className,h=u===void 0?"":u,f=n.modalClassName,m=f===void 0?"":f;if(!r)return null;var g=document.getElementById(l);return rm.createPortal(M.createElement("div",{className:"sendbird-modal__wrapper ".concat(h)},M.createElement("div",{className:"sendbird-modal__mask"}),M.createElement("div",{className:"sendbird-modal__container ".concat(m)},t)),g)},Eu=function(n,t){var e=Q.useState(!1),r=e[0],a=e[1],l=Q.useCallback(function(){return a(!0)},[a]),u=Q.useCallback(function(){return a(!1)},[a]),h=function(f){var m=f.children;return M.createElement(xse,{isOpen:r,close:u,className:n,modalClassName:t},m)};return[h,l,u]};function P8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function gn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(e),!0).forEach(function(r){lu(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):P8(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function lu(n,t,e){return t=Tse(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function z0(){return z0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},z0.apply(this,arguments)}function Sse(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Tse(n){var t=Sse(n,"string");return typeof t=="symbol"?t:String(t)}const sP=M.createContext({});/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function os(){return os=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},os.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function F8(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},r=Array.isArray(n)?n:[n],a=Array.apply(null,Array(r.length)).map(function(m){return null});function l(m){var g=typeof m=="string",x=g&&m.trim().charAt(0)==="<";return g&&!x}function u(m,g){e.onError(m,r[g],g)}function h(m,g){var x=e.onSuccess(m,r[g],g);m=x===!1?"":x||m,a[g]=m,a.indexOf(null)===-1&&e.onComplete(a)}var f=document.createElement("a");r.forEach(function(m,g){f.setAttribute("href",m),f.href=String(f.href);var x=!!(document.all&&!window.atob),E=x&&f.host.split(":")[0]!==location.host.split(":")[0];if(E){var w=f.protocol===location.protocol;if(w){var T=new XDomainRequest;T.open("GET",m),T.timeout=0,T.onprogress=Function.prototype,T.ontimeout=Function.prototype,T.onload=function(){var P=T.responseText;l(P)?h(P,g):u(T,g)},T.onerror=function(P){u(T,g)},setTimeout(function(){T.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(m,")")),u(null,g)}else{var A=new XMLHttpRequest;A.open("GET",m),e.mimeType&&A.overrideMimeType&&A.overrideMimeType(e.mimeType),e.onBeforeSend(A,m,g),A.onreadystatechange=function(){if(A.readyState===4){var P=A.responseText;A.status<400&&l(P)||A.status===0&&l(P)?h(P,g):u(A,g)}},A.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function H8(n){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},e={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:n.skipDisabled!==!1,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.apply(null,e.rootElement.querySelectorAll(e.include)).filter(function(m){return!kse(m,e.exclude)}),a=Array.apply(null,Array(r.length)).map(function(m){return null});function l(){var m=a.indexOf(null)===-1;if(m){a.reduce(function(x,E,w){return E===""&&x.push(w),x},[]).reverse().forEach(function(x){return[r,a].forEach(function(E){return E.splice(x,1)})});var g=a.join("");e.onComplete(g,a,r)}}function u(m,g,x,E){var w=e.onSuccess(m,x,E);m=w!==void 0&&!w?"":w||m,f(m,x,E,function(T,A){a[g]===null&&(A.forEach(function(P){return e.onError(P.xhr,x,P.url)}),!e.filter||e.filter.test(T)?a[g]=T:a[g]="",l())})}function h(m,g){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],E={};return E.rules=(m.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(w){return x.indexOf(w)===-1}),E.urls=E.rules.map(function(w){return w.replace(t.cssImports,"$1")}),E.absoluteUrls=E.urls.map(function(w){return fw(w,g)}),E.absoluteRules=E.rules.map(function(w,T){var A=E.urls[T],P=fw(E.absoluteUrls[T],g);return w.replace(A,P)}),E}function f(m,g,x,E){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],A=h(m,x,T);A.rules.length?F8(A.absoluteUrls,{onBeforeSend:function(C,k,I){e.onBeforeSend(C,g,k)},onSuccess:function(C,k,I){var D=e.onSuccess(C,g,k);C=D===!1?"":D||C;var U=h(C,k,T);return U.rules.forEach(function(O,N){C=C.replace(O,U.absoluteRules[N])}),C},onError:function(C,k,I){w.push({xhr:C,url:k}),T.push(A.rules[I]),f(m,g,x,E,w,T)},onComplete:function(C){C.forEach(function(k,I){m=m.replace(A.rules[I],k)}),f(m,g,x,E,w,T)}}):E(m,w)}r.length?r.forEach(function(m,g){var x=m.getAttribute("href"),E=m.getAttribute("rel"),w=m.nodeName.toLowerCase()==="link"&&x&&E&&E.toLowerCase().indexOf("stylesheet")!==-1,T=e.skipDisabled===!1?!1:m.disabled,A=m.nodeName.toLowerCase()==="style";if(w&&!T){var P=x.indexOf("data:text/css")!==-1;if(P){var C=decodeURIComponent(x.substring(x.indexOf(",")+1));e.useCSSOM&&(C=Array.apply(null,m.sheet.cssRules).map(function(I){return I.cssText}).join("")),u(C,g,m,location.href)}else F8(x,{mimeType:"text/css",onBeforeSend:function(D,U,O){e.onBeforeSend(D,m,U)},onSuccess:function(D,U,O){var N=fw(x);u(D,g,m,N)},onError:function(D,U,O){a[g]="",e.onError(D,m,U),l()}})}else if(A&&!T){var k=m.textContent;e.useCSSOM&&(k=Array.apply(null,m.sheet.cssRules).map(function(I){return I.cssText}).join("")),u(k,g,m,location.href)}else a[g]="",l()}):e.onComplete("",[])}function fw(n,t){var e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,a.href=n,a.href}function kse(n,t){var e=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return e.call(n,t)}var oP=lP;function lP(n,t,e){n instanceof RegExp&&(n=B8(n,e)),t instanceof RegExp&&(t=B8(t,e));var r=cP(n,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+n.length,r[1]),post:e.slice(r[1]+t.length)}}function B8(n,t){var e=t.match(n);return e?e[0]:null}lP.range=cP;function cP(n,t,e){var r,a,l,u,h,f=e.indexOf(n),m=e.indexOf(t,f+1),g=f;if(f>=0&&m>0){if(n===t)return[f,m];for(r=[],l=e.length;g>=0&&!h;)g==f?(r.push(g),f=e.indexOf(n,g+1)):r.length==1?h=[r.pop(),m]:(a=r.pop(),a<l&&(l=a,u=m),m=e.indexOf(t,g+1)),g=f<m&&f>=0?f:m;r.length&&(h=[l,u])}return h}function sT(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,removeComments:!1},r=os({},e,t),a=[];function l(B){throw new Error("CSS parse error: ".concat(B))}function u(B){var J=B.exec(n);if(J)return n=n.slice(J[0].length),J}function h(){return u(/^{\s*/)}function f(){return u(/^}/)}function m(){u(/^\s*/)}function g(){if(m(),!(n[0]!=="/"||n[1]!=="*")){for(var B=2;n[B]&&(n[B]!=="*"||n[B+1]!=="/");)B++;if(!n[B])return l("end of comment is missing");var J=n.slice(2,B);return n=n.slice(B+2),{type:"comment",comment:J}}}function x(){for(var B=[],J;J=g();)B.push(J);return r.removeComments?[]:B}function E(){for(m();n[0]==="}";)l("extra closing bracket");var B=u(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(B){var J=B[0].trim(),ce,W=/\/\*/.test(J);W&&(J=J.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var _e=/["']\w*,\w*["']/.test(J);_e&&(J=J.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(le){return le.replace(/,/g,"")}));var oe=/,/.test(J);return oe?ce=J.split(/\s*(?![^(]*\)),\s*/):ce=[J],_e&&(ce=ce.map(function(le){return le.replace(/\u200C/g,",")})),ce}}function w(){if(n[0]==="@")return z();u(/^([;\s]*)+/);var B=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,J=u(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(J){if(J=J[0].trim(),!u(/^:\s*/))return l("property missing ':'");var ce=u(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),W={type:"declaration",property:J.replace(B,""),value:ce?ce[0].replace(B,"").trim():""};return u(/^[;\s]*/),W}}function T(){if(!h())return l("missing '{'");for(var B,J=x();B=w();)J.push(B),J=J.concat(x());return f()?J:l("missing '}'")}function A(){m();for(var B=[],J;J=u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)B.push(J[1]),u(/^,\s*/);if(B.length)return{type:"keyframe",values:B,declarations:T()}}function P(){var B=u(/^@([-\w]+)?keyframes\s*/);if(B){var J=B[1];if(B=u(/^([-\w]+)\s*/),!B)return l("@keyframes missing name");var ce=B[1];if(!h())return l("@keyframes missing '{'");for(var W,_e=x();W=A();)_e.push(W),_e=_e.concat(x());return f()?{type:"keyframes",name:ce,vendor:J,keyframes:_e}:l("@keyframes missing '}'")}}function C(){var B=u(/^@page */);if(B){var J=E()||[];return{type:"page",selectors:J,declarations:T()}}}function k(){var B=u(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(B){var J="".concat(B[1],"-").concat(B[2])+(B[3]?"-".concat(B[3]):"");return{type:"page-margin-box",name:J,declarations:T()}}}function I(){var B=u(/^@font-face\s*/);if(B)return{type:"font-face",declarations:T()}}function D(){var B=u(/^@supports *([^{]+)/);if(B)return{type:"supports",supports:B[1].trim(),rules:fe()}}function U(){var B=u(/^@host\s*/);if(B)return{type:"host",rules:fe()}}function O(){var B=u(/^@media([^{]+)*/);if(B)return{type:"media",media:(B[1]||"").trim(),rules:fe()}}function N(){var B=u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(B)return{type:"custom-media",name:B[1].trim(),media:B[2].trim()}}function L(){var B=u(/^@([-\w]+)?document *([^{]+)/);if(B)return{type:"document",document:B[2].trim(),vendor:B[1]?B[1].trim():null,rules:fe()}}function K(){var B=u(/^@(import|charset|namespace)\s*([^;]+);/);if(B)return{type:B[1],name:B[2].trim()}}function z(){if(m(),n[0]==="@"){var B=K()||I()||O()||P()||D()||L()||N()||U()||C()||k();if(B&&!r.preserveStatic){var J=!1;if(B.declarations)J=B.declarations.some(function(W){return/var\(/.test(W.value)});else{var ce=B.keyframes||B.rules||[];J=ce.some(function(W){return(W.declarations||[]).some(function(_e){return/var\(/.test(_e.value)})})}return J?B:{}}return B}}function ae(){if(!r.preserveStatic){var B=oP("{","}",n);if(B){var J=/:(?:root|host)(?![.:#(])/.test(B.pre)&&/--\S*\s*:/.test(B.body),ce=/var\(/.test(B.body);if(!J&&!ce)return n=n.slice(B.end+1),{}}}var W=E()||[],_e=r.preserveStatic?T():T().filter(function(oe){var le=W.some(function(De){return/:(?:root|host)(?![.:#(])/.test(De)})&&/^--\S/.test(oe.property),ve=/var\(/.test(oe.value);return le||ve});return W.length||l("selector missing"),{type:"rule",selectors:W,declarations:_e}}function fe(B){if(!B&&!h())return l("missing '{'");for(var J,ce=x();n.length&&(B||n[0]!=="}")&&(J=z()||ae());)J.type&&ce.push(J),ce=ce.concat(x());return!B&&!f()?l("missing '}'"):ce}return{type:"stylesheet",stylesheet:{rules:fe(!0),errors:a}}}function V8(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={parseHost:!1,store:{},onWarning:function(){}},r=os({},e,t),a=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof n=="string"&&(n=sT(n,r)),n.stylesheet.rules.forEach(function(l){l.type!=="rule"||!l.selectors.some(function(u){return a.test(u)})||l.declarations.forEach(function(u,h){var f=u.property,m=u.value;f&&f.indexOf("--")===0&&(r.store[f]=m)})}),r.store}function uP(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,r={charset:function(u){return"@charset "+u.name+";"},comment:function(u){return u.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+u.comment+"*/":""},"custom-media":function(u){return"@custom-media "+u.name+" "+u.media+";"},declaration:function(u){return u.property+":"+u.value+";"},document:function(u){return"@"+(u.vendor||"")+"document "+u.document+"{"+a(u.rules)+"}"},"font-face":function(u){return"@font-face{"+a(u.declarations)+"}"},host:function(u){return"@host{"+a(u.rules)+"}"},import:function(u){return"@import "+u.name+";"},keyframe:function(u){return u.values.join(",")+"{"+a(u.declarations)+"}"},keyframes:function(u){return"@"+(u.vendor||"")+"keyframes "+u.name+"{"+a(u.keyframes)+"}"},media:function(u){return"@media "+u.media+"{"+a(u.rules)+"}"},namespace:function(u){return"@namespace "+u.name+";"},page:function(u){return"@page "+(u.selectors.length?u.selectors.join(", "):"")+"{"+a(u.declarations)+"}"},"page-margin-box":function(u){return"@"+u.name+"{"+a(u.declarations)+"}"},rule:function(u){var h=u.declarations;if(h.length)return u.selectors.join(",")+"{"+a(h)+"}"},supports:function(u){return"@supports "+u.supports+"{"+a(u.rules)+"}"}};function a(l){for(var u="",h=0;h<l.length;h++){var f=l[h];e&&e(f);var m=r[f.type](f);m&&(u+=m,m.length&&f.selectors&&(u+=t))}return u}return a(n.stylesheet.rules)}function dP(n,t){n.rules.forEach(function(e){if(e.rules){dP(e,t);return}if(e.keyframes){e.keyframes.forEach(function(r){r.type==="keyframe"&&t(r.declarations,e)});return}e.declarations&&t(e.declarations,n)})}var Cse="--",Nse="var";function Ise(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=os({},e,t);return typeof n=="string"&&(n=sT(n,r)),dP(n.stylesheet,function(a,l){for(var u=0;u<a.length;u++){var h=a[u],f=h.type,m=h.property,g=h.value;if(f==="declaration"){if(!r.preserveVars&&m&&m.indexOf(Cse)===0){a.splice(u,1),u--;continue}if(g.indexOf(Nse+"(")!==-1){var x=Pf(g,r);x!==h.value&&(x=Ase(x),r.preserveVars?(a.splice(u,0,{type:f,property:m,value:x}),u++):h.value=x)}}}}),uP(n)}function Ase(n){var t=/calc\(([^)]+)\)/g;return(n.match(t)||[]).forEach(function(e){var r="calc".concat(e.split("calc").join(""));n=n.replace(e,r)}),n}function Pf(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(n.indexOf("var(")===-1)return n;var r=oP("(",")",n);function a(u){var h=u.split(",")[0].replace(/[\s\n\t]/g,""),f=(u.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],m=Object.prototype.hasOwnProperty.call(t.variables,h)?String(t.variables[h]):void 0,g=m||(f?String(f):void 0),x=e||u;return m||t.onWarning('variable "'.concat(h,'" is undefined')),g&&g!=="undefined"&&g.length>0?Pf(g,t,x):"var(".concat(x,")")}if(r)if(r.pre.slice(-3)==="var"){var l=r.body.trim().length===0;return l?(t.onWarning("var() must contain a non-whitespace string"),n):r.pre.slice(0,-3)+a(r.body)+Pf(r.post,t)}else return r.pre+"(".concat(Pf(r.body,t),")")+Pf(r.post,t);else return n.indexOf("var(")!==-1&&t.onWarning('missing closing ")" in the value "'.concat(n,'"')),n}var k1=typeof window<"u",z8=k1&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),Cd={group:0,job:0},gg={rootElement:k1?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},hl={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},wi={dom:{},job:{},user:{}},nb=!1,Ds=null,Ff=0,t4=null,r4=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function oc(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="cssVars(): ",e=os({},gg,n);function r(g,x,E,w){!e.silent&&window.console&&console.error("".concat(t).concat(g,`
`),x),e.onError(g,x,E,w)}function a(g){!e.silent&&window.console&&console.warn("".concat(t).concat(g)),e.onWarning(g)}function l(g){e.onFinally(!!g,z8,_w()-e.__benchmark)}if(k1){if(e.watch){e.watch=gg.watch,Ose(e),oc(e);return}else e.watch===!1&&Ds&&(Ds.disconnect(),Ds=null);if(!e.__benchmark){if(nb===e.rootElement){Rse(n);return}var u=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(e.__benchmark=_w(),e.exclude=[Ds?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",e.exclude].filter(function(g){return g}).join(","),e.variables=Lse(e.variables),u.forEach(function(g){var x=g.nodeName.toLowerCase()==="style"&&g.__cssVars.text,E=x&&g.textContent!==g.__cssVars.text;x&&E&&(g.sheet&&(g.sheet.disabled=!1),g.setAttribute("data-cssvars",""))}),!Ds){var h=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars="out"]'));h.forEach(function(g){var x=g.getAttribute("data-cssvars-group"),E=x?e.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(x,'"]')):null;E||g.parentNode.removeChild(g)}),Ff&&u.length<Ff&&(Ff=u.length,wi.dom={})}}if(document.readyState!=="loading")if(z8&&e.onlyLegacy){var f=!1;if(e.updateDOM){var m=e.rootElement.host||(e.rootElement===document?document.documentElement:e.rootElement);Object.keys(e.variables).forEach(function(g){var x=e.variables[g];f=f||x!==getComputedStyle(m).getPropertyValue(g),m.style.setProperty(g,x)})}l(f)}else!r4&&(e.shadowDOM||e.rootElement.shadowRoot||e.rootElement.host)?H8({rootElement:gg.rootElement,include:gg.include,exclude:e.exclude,skipDisabled:!1,onSuccess:function(x,E,w){var T=(E.sheet||{}).disabled&&!E.__cssVars;return T?!1:(x=x.replace(hl.cssComments,"").replace(hl.cssMediaQueries,""),x=(x.match(hl.cssVarDeclRules)||[]).join(""),x||!1)},onComplete:function(x,E,w){V8(x,{store:wi.dom,onWarning:a}),r4=!0,oc(e)}}):(nb=e.rootElement,H8({rootElement:e.rootElement,include:e.include,exclude:e.exclude,skipDisabled:!1,onBeforeSend:e.onBeforeSend,onError:function(x,E,w){var T=x.responseURL||hP(w,location.href),A=x.statusText?"(".concat(x.statusText,")"):"Unspecified Error"+(x.status===0?" (possibly CORS related)":""),P="CSS XHR Error: ".concat(T," ").concat(x.status," ").concat(A);r(P,E,x,T)},onSuccess:function(x,E,w){var T=(E.sheet||{}).disabled&&!E.__cssVars;if(T)return!1;var A=E.nodeName.toLowerCase()==="link",P=E.nodeName.toLowerCase()==="style"&&x!==E.textContent,C=e.onSuccess(x,E,w);return x=C!==void 0&&!C?"":C||x,e.updateURLs&&(A||P)&&(x=Dse(x,w)),x},onComplete:function(x,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],T=os({},wi.dom,wi.user),A=!1;if(wi.job={},w.forEach(function(N,L){var K=E[L];if(N.__cssVars=N.__cssVars||{},N.__cssVars.text=K,hl.cssVars.test(K))try{var z=sT(K,{preserveStatic:e.preserveStatic,removeComments:!0});V8(z,{parseHost:!!e.rootElement.host,store:wi.dom,onWarning:a}),N.__cssVars.tree=z}catch(ae){r(ae.message,N)}}),os(wi.job,wi.dom),e.updateDOM?(os(wi.user,e.variables),os(wi.job,wi.user)):(os(wi.job,wi.user,e.variables),os(T,e.variables)),A=Cd.job>0&&!!(Object.keys(wi.job).length>Object.keys(T).length||Object.keys(T).length&&Object.keys(wi.job).some(function(N){return wi.job[N]!==T[N]})),A)i4(e.rootElement),oc(e);else{var P=[],C=[],k=!1;if(e.updateDOM&&Cd.job++,w.forEach(function(N,L){var K=!N.__cssVars.tree;if(N.__cssVars.tree)try{Ise(N.__cssVars.tree,os({},e,{variables:wi.job,onWarning:a}));var z=uP(N.__cssVars.tree);if(e.updateDOM){var ae=E[L],fe=hl.cssVarFunc.test(ae);if(N.getAttribute("data-cssvars")||N.setAttribute("data-cssvars","src"),z.length&&fe){var B=N.getAttribute("data-cssvars-group")||++Cd.group,J=z.replace(/\s/g,""),ce=e.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(B,'"]'))||document.createElement("style");k=k||hl.cssKeyframes.test(z),e.preserveStatic&&N.sheet&&(N.sheet.disabled=!0),ce.hasAttribute("data-cssvars")||ce.setAttribute("data-cssvars","out"),J===N.textContent.replace(/\s/g,"")?(K=!0,ce&&ce.parentNode&&(N.removeAttribute("data-cssvars-group"),ce.parentNode.removeChild(ce))):J!==ce.textContent.replace(/\s/g,"")&&([N,ce].forEach(function(W){W.setAttribute("data-cssvars-job",Cd.job),W.setAttribute("data-cssvars-group",B)}),ce.textContent=z,P.push(z),C.push(ce),ce.parentNode||N.parentNode.insertBefore(ce,N.nextSibling))}}else N.textContent.replace(/\s/g,"")!==z&&P.push(z)}catch(W){r(W.message,N)}K&&N.setAttribute("data-cssvars","skip"),N.hasAttribute("data-cssvars-job")||N.setAttribute("data-cssvars-job",Cd.job)}),Ff=e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,e.shadowDOM){for(var I=[].concat(e.rootElement).concat([].slice.call(e.rootElement.querySelectorAll("*"))),D=0,U;U=I[D];++D)if(U.shadowRoot&&U.shadowRoot.querySelector("style")){var O=os({},e,{rootElement:U.shadowRoot});oc(O)}}e.updateDOM&&k&&Mse(e.rootElement),nb=!1,e.onComplete(P.join(""),C,JSON.parse(JSON.stringify(wi.job)),_w()-e.__benchmark),l(C.length)}}}));else document.addEventListener("DOMContentLoaded",function g(x){oc(n),document.removeEventListener("DOMContentLoaded",g)})}}oc.reset=function(){Cd.job=0,Cd.group=0,nb=!1,Ds&&(Ds.disconnect(),Ds=null),Ff=0,t4=null,r4=!1;for(var n in wi)wi[n]={}};function Ose(n){function t(f){var m=e(f)&&f.hasAttribute("disabled"),g=(f.sheet||{}).disabled;return m||g}function e(f){var m=f.nodeName.toLowerCase()==="link"&&(f.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return m}function r(f){return f.nodeName.toLowerCase()==="style"}function a(f){var m=!1;if(f.type==="attributes"&&e(f.target)&&!t(f.target)){var g=f.attributeName==="disabled",x=f.attributeName==="href",E=f.target.getAttribute("data-cssvars")==="skip",w=f.target.getAttribute("data-cssvars")==="src";g?m=!E&&!w:x&&(E?f.target.setAttribute("data-cssvars",""):w&&i4(n.rootElement,!0),m=!0)}return m}function l(f){var m=!1;if(f.type==="childList"){var g=r(f.target),x=f.target.getAttribute("data-cssvars")==="out";m=g&&!x}return m}function u(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.addedNodes).some(function(g){var x=g.nodeType===1,E=x&&g.hasAttribute("data-cssvars"),w=r(g)&&hl.cssVars.test(g.textContent),T=!E&&(e(g)||w);return T&&!t(g)})),m}function h(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.removedNodes).some(function(g){var x=g.nodeType===1,E=x&&g.getAttribute("data-cssvars")==="out",w=x&&g.getAttribute("data-cssvars")==="src",T=w;if(w||E){var A=g.getAttribute("data-cssvars-group"),P=n.rootElement.querySelector('[data-cssvars-group="'.concat(A,'"]'));w&&i4(n.rootElement,!0),P&&P.parentNode.removeChild(P)}return T})),m}window.MutationObserver&&(Ds&&(Ds.disconnect(),Ds=null),Ds=new MutationObserver(function(f){var m=f.some(function(g){return a(g)||l(g)||u(g)||h(g)});m&&oc(n)}),Ds.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Rse(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(t4),t4=setTimeout(function(){n.__benchmark=null,oc(n)},t)}function Mse(n){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(E){return getComputedStyle(document.body)[E]})[0];if(t){for(var e=[].slice.call(n.querySelectorAll("*")),r=[],a="__CSSVARSPONYFILL-KEYFRAMES__",l=0,u=e.length;l<u;l++){var h=e[l],f=getComputedStyle(h)[t];f!=="none"&&(h.style[t]+=a,r.push(h))}document.body.offsetHeight;for(var m=0,g=r.length;m<g;m++){var x=r[m].style;x[t]=x[t].replace(a,"")}}}function Dse(n,t){var e=n.replace(hl.cssComments,"").match(hl.cssUrls)||[];return e.forEach(function(r){var a=r.replace(hl.cssUrls,"$1"),l=hP(a,t);n=n.replace(r,r.replace(a,l))}),n}function Lse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=/^-{2}/;return Object.keys(n).reduce(function(e,r){var a=t.test(r)?r:"--".concat(r.replace(/^-+/,""));return e[a]=n[r],e},{})}function hP(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t,a.href=n,a.href}function _w(){return k1&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function i4(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=[].slice.call(n.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));e.forEach(function(r){return r.setAttribute("data-cssvars","")}),t&&(wi.dom={})}var Vb=Symbol("@ts-pattern/matcher"),$8="@ts-pattern/anonymous-select-key",q8=function(n){return!!(n&&typeof n=="object")},mw=function(n){return n&&!!n[Vb]},Use=function n(t,e,r){if(q8(t)){if(mw(t)){var a=t[Vb]().match(e),l=a.matched,u=a.selections;return l&&u&&Object.keys(u).forEach(function(f){return r(f,u[f])}),l}if(!q8(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every(function(f,m){return n(f,e[m],r)});if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(function(f){return n(t.get(f),e.get(f),r)});if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){var h=Array.from(t.values())[0];return mw(h)?Array.from(e.values()).every(function(f){return n(h,f,r)}):e.has(h)}return Array.from(t.values()).every(function(f){return e.has(f)})}return Object.keys(t).every(function(f){var m,g=t[f];return(f in e||mw(m=g)&&m[Vb]().matcherType==="optional")&&n(g,e[f],r)})}return Object.is(e,t)};function oh(n){var t;return(t={})[Vb]=function(){return{match:function(e){return{matched:!!n(e)}}}},t}oh(function(n){return!0});oh(function(n){return typeof n=="string"});oh(function(n){return typeof n=="number"});oh(function(n){return typeof n=="boolean"});oh(function(n){return typeof n=="bigint"});oh(function(n){return typeof n=="symbol"});oh(function(n){return n==null});function oT(n){return new Pse(n,[])}var Pse=function(){function n(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var t=n.prototype;return t.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],a=[e[0]],l=[];return e.length===3&&typeof e[1]=="function"?(a.push(e[0]),l.push(e[1])):e.length>2&&a.push.apply(a,e.slice(1,e.length-1)),new n(this.value,this.cases.concat([{match:function(u){var h={},f=!!(a.some(function(m){return Use(m,u,function(g,x){h[g]=x})})&&l.every(function(m){return m(u)}));return{matched:f,value:f&&Object.keys(h).length?$8 in h?h[$8]:h:u}},handler:r}]))},t.when=function(e,r){return new n(this.value,this.cases.concat([{match:function(a){return{matched:!!e(a),value:a}},handler:r}]))},t.otherwise=function(e){return new n(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,r=void 0,a=0;a<this.cases.length;a++){var l=this.cases[a],u=l.match(this.value);if(u.matched){e=u.value,r=l.handler;break}}if(!r){var h;try{h=JSON.stringify(this.value)}catch{h=this.value}throw new Error("Pattern matching error: no pattern matches value "+h)}return r(e,this.value)},n}();const e_={INIT_USER:"INIT_USER",RESET_USER:"RESET_USER",UPDATE_USER_INFO:"UPDATE_USER_INFO"};var a4=function(n,t){return a4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},a4(n,t)};function re(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}a4(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var we=function(){return we=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},we.apply(this,arguments)};function Fse(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e}function H(n,t,e,r){return new(e||(e=Promise))(function(a,l){function u(m){try{f(r.next(m))}catch(g){l(g)}}function h(m){try{f(r.throw(m))}catch(g){l(g)}}function f(m){var g;m.done?a(m.value):(g=m.value,g instanceof e?g:new e(function(x){x(g)})).then(u,h)}f((r=r.apply(n,t||[])).next())})}function F(n,t){var e,r,a,l,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(f){return function(m){return function(g){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(u=0)),u;)try{if(e=1,r&&(a=2&g[0]?r.return:g[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,g[1])).done)return a;switch(r=0,a&&(g=[2&g[0],a.value]),g[0]){case 0:case 1:a=g;break;case 4:return u.label++,{value:g[1],done:!1};case 5:u.label++,r=g[1],g=[0];continue;case 7:g=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!((a=a.length>0&&a[a.length-1])||g[0]!==6&&g[0]!==2)){u=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){u.label=g[1];break}if(g[0]===6&&u.label<a[1]){u.label=a[1],a=g;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(g);break}a[2]&&u.ops.pop(),u.trys.pop();continue}g=t.call(n,u)}catch(x){g=[6,x],r=0}finally{e=a=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([f,m])}}}function Cn(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qn(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r,a,l=e.call(n),u=[];try{for(;(t===void 0||t-- >0)&&!(r=l.next()).done;)u.push(r.value)}catch(h){a={error:h}}finally{try{r&&!r.done&&(e=l.return)&&e.call(l)}finally{if(a)throw a.error}}return u}function et(n,t,e){if(e||arguments.length===2)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return n.concat(r||Array.prototype.slice.call(t))}var Nt,pP="4.8.1",zd=function(){function n(){}return Object.defineProperty(n,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_VERSION",{get:function(){return pP},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_MAJOR_VERSION",{get:function(){return n.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(n,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),n}();(function(n){n[n.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",n[n.NON_AUTHORIZED=400108]="NON_AUTHORIZED",n[n.INVALID_TOKEN=400111]="INVALID_TOKEN",n[n.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",n[n.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",n[n.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",n[n.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",n[n.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",n[n.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",n[n.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",n[n.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",n[n.LOST_INSTANCE=700100]="LOST_INSTANCE",n[n.CONNECTION_RENEW=700102]="CONNECTION_RENEW",n[n.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",n[n.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",n[n.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",n[n.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",n[n.INVALID_PARAMETER=800110]="INVALID_PARAMETER",n[n.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",n[n.NETWORK_ERROR=800120]="NETWORK_ERROR",n[n.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",n[n.MALFORMED_DATA=800130]="MALFORMED_DATA",n[n.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",n[n.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",n[n.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",n[n.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",n[n.ACK_TIMEOUT=800180]="ACK_TIMEOUT",n[n.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",n[n.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",n[n.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",n[n.REQUEST_FAILED=800220]="REQUEST_FAILED",n[n.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",n[n.REQUEST_CANCELED=800240]="REQUEST_CANCELED",n[n.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",n[n.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",n[n.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",n[n.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",n[n.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",n[n.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",n[n.DATABASE_ERROR=800700]="DATABASE_ERROR"})(Nt||(Nt={}));var Ra,Ld,Si,s4,n_,El=function(n){return!(n instanceof Ue&&!n.shouldThrowOutside)},Ue=function(n){function t(e){var r=e.code,a=r===void 0?0:r,l=e.message,u=n.call(this,l)||this;return u.shouldThrowOutside=!1,u.name="SendbirdError",u.code=a,Object.setPrototypeOf(u,t.prototype),u}return re(t,n),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===Nt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Nt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Nt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:Nt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:Nt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:Nt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:Nt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:Nt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:Nt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:Nt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:Nt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:Nt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:Nt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:Nt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:Nt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:Nt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:Nt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:Nt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:Nt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:Nt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:Nt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:Nt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:Nt.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),Hse=[Nt.CONNECTION_REQUIRED,Nt.NETWORK_ERROR,Nt.ACK_TIMEOUT,Nt.WEBSOCKET_CONNECTION_CLOSED,Nt.WEBSOCKET_CONNECTION_FAILED,Nt.FILE_UPLOAD_CANCEL_FAILED,Nt.REQUEST_CANCELED,Nt.INTERNAL_SERVER_ERROR,Nt.RATE_LIMIT_EXCEEDED,Nt.UNKNOWN_SERVER_ERROR],Bse=[Nt.WEBSOCKET_CONNECTION_CLOSED,Nt.WEBSOCKET_CONNECTION_FAILED,Nt.CONNECTION_REQUIRED],fP=function(n,t){if(n!==t){var e=we({},n),r=we({},t);return(!e.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||e.messageId===r.messageId)&&(!e.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||e.reqId===r.reqId)&&(e.hasOwnProperty("messageId")&&delete e.messageId,e.hasOwnProperty("reqId")&&delete e.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(e)===JSON.stringify(r))}return!0},Ee=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||(typeof n!="string"?typeof n=="object"?yt(n,t):Vse(n,t):typeof t===n)},yt=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Object.values(n).includes(t)},Vse=function(n,t){return t instanceof n},St=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Array.isArray(t)&&t.every(function(r){return Ee(n,r)})},zse=function(n){return n>0&&Hse.indexOf(n)>=0},zb=function(n){return n>0&&Bse.indexOf(n)>=0},Ri=function(n,t){if(t===void 0&&(t=!1),t&&n===null)return!0;var e=Ee("object",n)&&n!==null&&n.hasOwnProperty("name")&&typeof n.name=="string"&&n.hasOwnProperty("uri")&&typeof n.uri=="string"&&n.hasOwnProperty("type")&&typeof n.type=="string";if(!e){if(typeof Blob<"u")return n instanceof Blob;if(typeof File<"u")return n instanceof File}return e},$se=function(n,t){if(n===t)return!0;if(n==null||t==null||n.length!==t.length)return!1;for(var e=et([],Qn(n),!1).sort(),r=et([],Qn(t),!1).sort(),a=0;a<e.length;++a)if(e[a]!==r[a])return!1;return!0},_P=function(){function n(t){var e=t===void 0?{}:t,r=e.useMemberInfoInMessage,a=r===void 0||r,l=e.typingIndicatorInvalidateTime,u=l===void 0?1e4:l,h=e.typingIndicatorThrottle,f=h===void 0?1e3:h,m=e.websocketResponseTimeout,g=m===void 0?1e4:m,x=e.websocketPayloadDecompression,E=x===void 0||x,w=e.sessionTokenRefreshTimeout,T=w===void 0?60:w;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=a,this._typingIndicatorInvalidateTime=u,this._typingIndicatorThrottle=f,this._websocketResponseTimeout=g,this._sessionTokenRefreshTimeout=T,this.websocketPayloadDecompression=E}return Object.defineProperty(n.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(t){Ee("boolean",t)&&(this._useMemberInfoInMessage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(t){Ee("number",t)&&(this._typingIndicatorInvalidateTime=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(t){Ee("number",t)&&t>=1e3&&t<=9e3&&(this._typingIndicatorThrottle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(t){Ee("number",t)&&t>=5e3&&t<=3e4&&(this._websocketResponseTimeout=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(t){Ee("number",t)&&(t<60?t=60:t>1800&&(t=1800),this._sessionTokenRefreshTimeout=t)},enumerable:!1,configurable:!0}),n}(),mP={encrypt:function(n){return n},decrypt:function(n){return n}},qse=function(){function n(t){var e=t.store;this._preference=new Map,this._store=e}return n.prototype._savePreferenceKeys=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._store.set({key:this._keysAddress,value:et([],Qn(this._preference.keys()),!1),generation:1})];case 1:return t.sent(),[2]}})})},n.prototype.init=function(t,e){var r;return e===void 0&&(e=1),H(this,void 0,void 0,function(){var a,l,u,h,f,m,g,x,E,w;return F(this,function(T){switch(T.label){case 0:return this._version=e,this._keysAddress=t,a="".concat(t,".metadata.version"),[4,this._store.get(a)];case 1:return l=T.sent(),[4,this._store.get(t)];case 2:return u=(r=T.sent())!==null&&r!==void 0?r:[],!l||l.version<this._version?[4,this._resetPreferenceData(u,a)]:[3,4];case 3:return T.sent(),[3,11];case 4:T.trys.push([4,9,10,11]),h=Cn(u),f=h.next(),T.label=5;case 5:return f.done?[3,8]:(m=f.value,[4,this._store.get(m)]);case 6:(g=T.sent())&&this._preference.set(m,g),T.label=7;case 7:return f=h.next(),[3,5];case 8:return[3,11];case 9:return x=T.sent(),E={error:x},[3,11];case 10:try{f&&!f.done&&(w=h.return)&&w.call(h)}finally{if(E)throw E.error}return[7];case 11:return[2]}})})},n.prototype._resetPreferenceData=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this._preference=new Map,[4,this._store.removeMany(t)];case 1:return r.sent(),[4,this._store.set({key:e,value:{version:this._version},generation:1})];case 2:return r.sent(),[2]}})})},n.prototype.get=function(t){var e;return H(this,void 0,void 0,function(){return F(this,function(r){return[2,(e=this._preference.get(t))!==null&&e!==void 0?e:null]})})},n.prototype.set=function(t,e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=!this._preference.has(t),[4,this._store.set({key:t,value:e,generation:1})];case 1:return a.sent(),this._preference.set(t,e),r?[4,this._savePreferenceKeys()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._store.remove(t)];case 1:return e.sent(),this._preference.delete(t),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._store.removeMany(et([],Qn(this._preference.keys()),!1))];case 1:return t.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},n}(),Gse=function(n){var t=n.encryption,e=t===void 0?null:t,r=n.store,a=r===void 0?null:r,l=n.localCacheEnabled,u=l===void 0||l,h=n.localCacheConfig,f=h===void 0?null:h;this.nestdb=null,this.store=a,this.preference=new qse({store:a}),this.encryption=e??mP,this.localCacheEnabled=u,this.localCacheConfig=f};(function(n){n.SUCCESS="success",n.PENDING="pending",n.ERROR="error"})(Ra||(Ra={})),function(n){n.DEFAULT="default",n.ALL="all",n.MENTION_ONLY="mention_only",n.OFF="off"}(Ld||(Ld={})),function(n){n.FCM="gcm",n.APNS="apns",n.UNKNOWN="unknown"}(Si||(Si={})),function(n){n.ALTERNATIVE="alternative",n.DEFAULT="default"}(s4||(s4={})),function(n){n.CUSTOM="custom",n.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(n_||(n_={}));var dn,jse=function(){function n(t){var e=t.channel,r=t.cachedMessageCount;this._channel=null,this._cachedMessageCount=0,this._channel=e,this._cachedMessageCount=r}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),n}(),vP=function(){function n(t){var e=t===void 0?{}:t,r=e.maxSize,a=r===void 0?256:r,l=e.clearOrder,u=l===void 0?n_.MESSAGE_COLLECTION_ACCESSED_AT:l,h=e.customClearOrderComparator,f=h===void 0?null:h;this._customClearOrderComparator=null,this._clearOrderComparatorUseMessageCollectionAccessedAt=function(m,g){return m.channel.messageCollectionLastAccessedAt===g.channel.messageCollectionLastAccessedAt?m.channel.lastMessage&&!g.channel.lastMessage?1:!m.channel.lastMessage&&g.channel.lastMessage?-1:m.channel.lastMessage.createdAt-g.channel.lastMessage.createdAt:m.channel.messageCollectionLastAccessedAt>g.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(a,64),f?(this._clearOrder=u,this._customClearOrderComparator=f):this._clearOrder=n_.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrderComparator",{get:function(){var t;return this._clearOrder===n_.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(t=this._customClearOrderComparator)!==null&&t!==void 0?t:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),n}(),Kse=function(){function n(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(n.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.authToken=null,this.sessionKey=null},n}(),Uu=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})},G8=function(){function n(t){var e=t.container;this._container={},this._container=e,this.key=Uu()}return n.prototype._register=function(t,e,r){return t in this._container||(this._container[t]=new Map),this._container[t].set(this.key,{occurence:e,handler:r}),this},n.prototype.on=function(t,e){return this._register(t,-1,e)},n.prototype.once=function(t,e){return this._register(t,1,e)},n.prototype.close=function(){for(var t in this._container)this._container[t].delete(this.key)},n}(),lh=function(){function n(){this._container={}}return n.prototype.on=function(t,e){return new G8({container:this._container}).on(t,e)},n.prototype.once=function(t,e){return new G8({container:this._container}).once(t,e)},n.prototype.dispatch=function(t,e){var r,a,l=this._container[t];if(l){var u=[];try{for(var h=Cn(l.keys()),f=h.next();!f.done;f=h.next()){var m=f.value,g=l.get(m);g.handler(e),g.occurence>0&&(g.occurence--,g.occurence===0&&u.push(m))}}catch(x){r={error:x}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}u.forEach(function(x){return l.delete(x)})}},n}(),Wse=function(){function n(){this._dispatcher=new lh}return n.prototype.on=function(t){return this._dispatcher.on("event",t)},n.prototype.once=function(t){return this._dispatcher.once("event",t)},n.prototype.dispatch=function(t){this._dispatcher.dispatch("event",t)},n}(),hi=function(){},st=function(n){var t={};return n&&Object.keys(n).forEach(function(e){n[e]===void 0||Number.isNaN(n[e])||n[e]===null||(t[e]=n[e])}),t};(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE"})(dn||(dn={}));var Sl,hn=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.params={},e.requireAuth=!0,e.headers={},e.requestId=Uu(),e}return re(t,n),t.prototype.stringifyParams=function(e){return typeof e!="object"||Array.isArray(e)?String(e):e?JSON.stringify(e):""},t.prototype.encodeParams=function(e){var r=this;return e==null||e===""?encodeURIComponent(""):Array.isArray(e)?e.map(function(a){return r.encodeParams(a)}).join(","):encodeURIComponent(typeof e=="object"?JSON.stringify(e):String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,r=st(this.params);return"?".concat(Object.keys(r).map(function(a){return"".concat(encodeURIComponent(a),"=").concat(e.encodeParams(r[a]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=this,r=st(this.params);if(Object.keys(r).some(function(l){return Ri(r[l])})){var a=new FormData;return Object.keys(r).forEach(function(l){var u,h=r[l];if(Ri(h)){var f=h;a.append(l,f,(u=f.name)!==null&&u!==void 0?u:"filename")}else a.append(l,e.stringifyParams(h))}),a}return JSON.stringify(r)},enumerable:!1,configurable:!0}),t}(hi),mn=function(n){function t(e,r){var a=n.call(this)||this;return a._iid=e,a._payload=r,a}return re(t,n),Object.defineProperty(t.prototype,"payload",{get:function(){return we({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(hi),Qse=function(n){function t(e){var r=n.call(this)||this;return r.requestId=e,r}return re(t,n),t}(hi),C1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(hi),lT=function(n){function t(e){var r=n.call(this)||this;return r.statLog=e,r}return re(t,n),t}(hi);(function(n){n.FEATURE_LOCALCACHE="feature:local_cache",n.WEBSOCKET_CONNECT="ws:connect",n.API_RESULT="api:result"})(Sl||(Sl={}));var $0=function(){function n(t){var e=t.type,r=t.data,a=t.ts,l=a===void 0?Date.now():a;this.type=e,this.createdAt=l,this.data=r}return n.payloadify=function(t){return st({stat_type:t.type,ts:t.createdAt,data:st(t.data)})},n}(),gP=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},Yse=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=t,this._auth=r,this._sdkState=a,this._dispatcher=l,this._dispatcher.on(function(g){g instanceof Qse&&m.cancel(g.requestId)}),this._logger=u,this._shouldImportFetchCompat=f}return Object.defineProperty(n.prototype,"_userAgentWithExtension",{get:function(){var t=this._sdkState.extensions,e=gP()?"reactnative":"JS",r=t.sb_syncmanager?"s".concat(t.sb_syncmanager):"",a=t.sb_uikit?"u".concat(t.sb_uikit):"",l=t["device-os-platform"]?"o".concat(t["device-os-platform"]):"";return"".concat(e,"/c").concat(zd.SDK_VERSION,"/").concat(r,"/").concat(a,"/").concat(l)},enumerable:!1,configurable:!0}),n.prototype._createHeader=function(t,e){e===void 0&&(e=null);var r=this._sdkState,a=r.appId,l=r.appVersion,u=we(we({},t.headers),{SendBird:"JS,".concat(zd.OS_VERSION,",").concat(zd.SDK_VERSION,",").concat(a).concat(l?",".concat(l):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return e||(u["Content-Type"]="application/json; charset=utf-8"),t.requireAuth&&this._auth.hasSession&&(u["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(u["App-Id"]=a,u["Access-Token"]=this._auth.authToken),u},n.prototype._statLogApiResult=function(t,e,r){this._dispatcher.dispatch(new lT(new $0({type:Sl.API_RESULT,data:{endpoint:t.path,method:t.method,success:!r,latency:Date.now()-e,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},n.prototype.send=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P;return F(this,function(C){switch(C.label){case 0:e=t.path,r=t.method,a=![dn.GET,dn.DELETE].includes(r),l=this._sdkState.api,u="".concat(l.host).concat(e).concat(a?"":t.query),h=a?t.payload:null,f=this._createHeader(t,h instanceof FormData?h:null),m=new AbortController,g=m.signal,this._abortControl.set(t.requestId,m),x=Date.now(),C.label=1;case 1:return C.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{fetch:null}).fetch=void 0),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return oye})];case 2:C.sent(),C.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return fye})];case 4:C.sent(),C.label=5;case 5:return[4,fetch(u,{method:r,body:h,headers:f,signal:g})];case 6:return[4,(E=C.sent()).json()];case 7:if(w=C.sent(),E.ok||E.redirected)return this._logger.debug("receive api response",t.requestId),this._statLogApiResult(t,x,null),[2,new mn(this._iid,w)];throw w?(T=new Ue(w),!t.requireAuth&&T.isSessionKeyExpiredError&&this._dispatcher.dispatch(new C1),this._statLogApiResult(t,x,T),T):(T=Ue.requestFailed,this._statLogApiResult(t,x,T),T);case 8:throw A=C.sent(),this._statLogApiResult(t,x,A),A instanceof Ue?(this._logger.debug("fail api request",A),A):A.name==="AbortError"?Ue.requestCanceled:(P=Ue.networkError,this._logger.debug("fail api request",P),P);case 9:return[2]}})})},n.prototype.cancel=function(t){this._abortControl.has(t)&&(this._abortControl.get(t).abort(),this._abortControl.delete(t))},n.prototype.cancelAll=function(){var t,e;try{for(var r=Cn(this._abortControl.values()),a=r.next();!a.done;a=r.next())a.value.abort()}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this._abortControl.clear()},n}(),_r=function(n){function t(e,r,a,l){l===void 0&&(l="");var u=n.call(this)||this;return u._iid=e,u.code=r,u.payload=a,u.requestId=a?a.req_id:l,u}return re(t,n),t.createFromRawMessage=function(e,r){var a=r.substring(0,4),l=null;try{l=JSON.parse(r.substring(4))}catch{a="NOOP"}finally{return new t(e,a,l)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(hi),xt=function(){};function ep(n){let t=n.length;for(;--t>=0;)n[t]=0}const cT=256,bP=286,t_=30,r_=15,o4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Xse=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jl=new Array(576);ep(Jl);const i_=new Array(60);ep(i_);const H_=new Array(512);ep(H_);const a_=new Array(256);ep(a_);const uT=new Array(29);ep(uT);const $b=new Array(t_);function vw(n,t,e,r,a){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=a,this.has_stree=n&&n.length}let K8,W8,Q8;function gw(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}ep($b);const yP=n=>n<256?H_[n]:H_[256+(n>>>7)],B_=(n,t)=>{n.pending_buf[n.pending++]=255&t,n.pending_buf[n.pending++]=t>>>8&255},us=(n,t,e)=>{n.bi_valid>16-e?(n.bi_buf|=t<<n.bi_valid&65535,B_(n,n.bi_buf),n.bi_buf=t>>16-n.bi_valid,n.bi_valid+=e-16):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},ml=(n,t,e)=>{us(n,e[2*t],e[2*t+1])},EP=(n,t)=>{let e=0;do e|=1&n,n>>>=1,e<<=1;while(--t>0);return e>>>1},wP=(n,t,e)=>{const r=new Array(16);let a,l,u=0;for(a=1;a<=r_;a++)u=u+e[a-1]<<1,r[a]=u;for(l=0;l<=t;l++){let h=n[2*l+1];h!==0&&(n[2*l]=EP(r[h]++,h))}},xP=n=>{let t;for(t=0;t<bP;t++)n.dyn_ltree[2*t]=0;for(t=0;t<t_;t++)n.dyn_dtree[2*t]=0;for(t=0;t<19;t++)n.bl_tree[2*t]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},SP=n=>{n.bi_valid>8?B_(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},Y8=(n,t,e,r)=>{const a=2*t,l=2*e;return n[a]<n[l]||n[a]===n[l]&&r[t]<=r[e]},bw=(n,t,e)=>{const r=n.heap[e];let a=e<<1;for(;a<=n.heap_len&&(a<n.heap_len&&Y8(t,n.heap[a+1],n.heap[a],n.depth)&&a++,!Y8(t,r,n.heap[a],n.depth));)n.heap[e]=n.heap[a],e=a,a<<=1;n.heap[e]=r},X8=(n,t,e)=>{let r,a,l,u,h=0;if(n.sym_next!==0)do r=255&n.pending_buf[n.sym_buf+h++],r+=(255&n.pending_buf[n.sym_buf+h++])<<8,a=n.pending_buf[n.sym_buf+h++],r===0?ml(n,a,t):(l=a_[a],ml(n,l+cT+1,t),u=o4[l],u!==0&&(a-=uT[l],us(n,a,u)),r--,l=yP(r),ml(n,l,e),u=tb[l],u!==0&&(r-=$b[l],us(n,r,u)));while(h<n.sym_next);ml(n,256,t)},yw=(n,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems;let u,h,f,m=-1;for(n.heap_len=0,n.heap_max=573,u=0;u<l;u++)e[2*u]!==0?(n.heap[++n.heap_len]=m=u,n.depth[u]=0):e[2*u+1]=0;for(;n.heap_len<2;)f=n.heap[++n.heap_len]=m<2?++m:0,e[2*f]=1,n.depth[f]=0,n.opt_len--,a&&(n.static_len-=r[2*f+1]);for(t.max_code=m,u=n.heap_len>>1;u>=1;u--)bw(n,e,u);f=l;do u=n.heap[1],n.heap[1]=n.heap[n.heap_len--],bw(n,e,1),h=n.heap[1],n.heap[--n.heap_max]=u,n.heap[--n.heap_max]=h,e[2*f]=e[2*u]+e[2*h],n.depth[f]=(n.depth[u]>=n.depth[h]?n.depth[u]:n.depth[h])+1,e[2*u+1]=e[2*h+1]=f,n.heap[1]=f++,bw(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((g,x)=>{const E=x.dyn_tree,w=x.max_code,T=x.stat_desc.static_tree,A=x.stat_desc.has_stree,P=x.stat_desc.extra_bits,C=x.stat_desc.extra_base,k=x.stat_desc.max_length;let I,D,U,O,N,L,K=0;for(O=0;O<=r_;O++)g.bl_count[O]=0;for(E[2*g.heap[g.heap_max]+1]=0,I=g.heap_max+1;I<573;I++)D=g.heap[I],O=E[2*E[2*D+1]+1]+1,O>k&&(O=k,K++),E[2*D+1]=O,D>w||(g.bl_count[O]++,N=0,D>=C&&(N=P[D-C]),L=E[2*D],g.opt_len+=L*(O+N),A&&(g.static_len+=L*(T[2*D+1]+N)));if(K!==0){do{for(O=k-1;g.bl_count[O]===0;)O--;g.bl_count[O]--,g.bl_count[O+1]+=2,g.bl_count[k]--,K-=2}while(K>0);for(O=k;O!==0;O--)for(D=g.bl_count[O];D!==0;)U=g.heap[--I],U>w||(E[2*U+1]!==O&&(g.opt_len+=(O-E[2*U+1])*E[2*U],E[2*U+1]=O),D--)}})(n,t),wP(e,m,n.bl_count)},Z8=(n,t,e)=>{let r,a,l=-1,u=t[1],h=0,f=7,m=4;for(u===0&&(f=138,m=3),t[2*(e+1)+1]=65535,r=0;r<=e;r++)a=u,u=t[2*(r+1)+1],++h<f&&a===u||(h<m?n.bl_tree[2*a]+=h:a!==0?(a!==l&&n.bl_tree[2*a]++,n.bl_tree[32]++):h<=10?n.bl_tree[34]++:n.bl_tree[36]++,h=0,l=a,u===0?(f=138,m=3):a===u?(f=6,m=3):(f=7,m=4))},J8=(n,t,e)=>{let r,a,l=-1,u=t[1],h=0,f=7,m=4;for(u===0&&(f=138,m=3),r=0;r<=e;r++)if(a=u,u=t[2*(r+1)+1],!(++h<f&&a===u)){if(h<m)do ml(n,a,n.bl_tree);while(--h!=0);else a!==0?(a!==l&&(ml(n,a,n.bl_tree),h--),ml(n,16,n.bl_tree),us(n,h-3,2)):h<=10?(ml(n,17,n.bl_tree),us(n,h-3,3)):(ml(n,18,n.bl_tree),us(n,h-11,7));h=0,l=a,u===0?(f=138,m=3):a===u?(f=6,m=3):(f=7,m=4)}};let eR=!1;const TP=(n,t,e,r)=>{us(n,0+(r?1:0),3),SP(n),B_(n,e),B_(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e};var Zse=(n,t,e,r)=>{let a,l,u=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=(h=>{let f,m=4093624447;for(f=0;f<=31;f++,m>>>=1)if(1&m&&h.dyn_ltree[2*f]!==0)return 0;if(h.dyn_ltree[18]!==0||h.dyn_ltree[20]!==0||h.dyn_ltree[26]!==0)return 1;for(f=32;f<cT;f++)if(h.dyn_ltree[2*f]!==0)return 1;return 0})(n)),yw(n,n.l_desc),yw(n,n.d_desc),u=(h=>{let f;for(Z8(h,h.dyn_ltree,h.l_desc.max_code),Z8(h,h.dyn_dtree,h.d_desc.max_code),yw(h,h.bl_desc),f=18;f>=3&&h.bl_tree[2*j8[f]+1]===0;f--);return h.opt_len+=3*(f+1)+5+5+4,f})(n),a=n.opt_len+3+7>>>3,l=n.static_len+3+7>>>3,l<=a&&(a=l)):a=l=e+5,e+4<=a&&t!==-1?TP(n,t,e,r):n.strategy===4||l===a?(us(n,2+(r?1:0),3),X8(n,Jl,i_)):(us(n,4+(r?1:0),3),((h,f,m,g)=>{let x;for(us(h,f-257,5),us(h,m-1,5),us(h,g-4,4),x=0;x<g;x++)us(h,h.bl_tree[2*j8[x]+1],3);J8(h,h.dyn_ltree,f-1),J8(h,h.dyn_dtree,m-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,u+1),X8(n,n.dyn_ltree,n.dyn_dtree)),xP(n),r&&SP(n)},Jse={_tr_init:n=>{eR||((()=>{let t,e,r,a,l;const u=new Array(16);for(r=0,a=0;a<28;a++)for(uT[a]=r,t=0;t<1<<o4[a];t++)a_[r++]=a;for(a_[r-1]=a,l=0,a=0;a<16;a++)for($b[a]=l,t=0;t<1<<tb[a];t++)H_[l++]=a;for(l>>=7;a<t_;a++)for($b[a]=l<<7,t=0;t<1<<tb[a]-7;t++)H_[256+l++]=a;for(e=0;e<=r_;e++)u[e]=0;for(t=0;t<=143;)Jl[2*t+1]=8,t++,u[8]++;for(;t<=255;)Jl[2*t+1]=9,t++,u[9]++;for(;t<=279;)Jl[2*t+1]=7,t++,u[7]++;for(;t<=287;)Jl[2*t+1]=8,t++,u[8]++;for(wP(Jl,287,u),t=0;t<t_;t++)i_[2*t+1]=5,i_[2*t]=EP(t,5);K8=new vw(Jl,o4,257,bP,r_),W8=new vw(i_,tb,0,t_,r_),Q8=new vw(new Array(0),Xse,0,19,7)})(),eR=!0),n.l_desc=new gw(n.dyn_ltree,K8),n.d_desc=new gw(n.dyn_dtree,W8),n.bl_desc=new gw(n.bl_tree,Q8),n.bi_buf=0,n.bi_valid=0,xP(n)},_tr_stored_block:TP,_tr_flush_block:Zse,_tr_tally:(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[2*e]++:(n.matches++,t--,n.dyn_ltree[2*(a_[e]+cT+1)]++,n.dyn_dtree[2*yP(t)]++),n.sym_next===n.sym_end),_tr_align:n=>{us(n,2,3),ml(n,256,Jl),(t=>{t.bi_valid===16?(B_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(n)}},s_=(n,t,e,r)=>{let a=65535&n|0,l=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do a=a+t[r++]|0,l=l+a|0;while(--u);a%=65521,l%=65521}return a|l<<16|0};const eoe=new Uint32Array((()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t})());var Ki=(n,t,e,r)=>{const a=eoe,l=r+e;n^=-1;for(let u=r;u<l;u++)n=n>>>8^a[255&(n^t[u])];return-1^n},Jd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ch={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:noe,_tr_stored_block:l4,_tr_flush_block:toe,_tr_tally:wu,_tr_align:roe}=Jse,{Z_NO_FLUSH:xu,Z_PARTIAL_FLUSH:ioe,Z_FULL_FLUSH:aoe,Z_FINISH:so,Z_BLOCK:nR,Z_OK:la,Z_STREAM_END:tR,Z_STREAM_ERROR:dl,Z_DATA_ERROR:soe,Z_BUF_ERROR:Ew,Z_DEFAULT_COMPRESSION:ooe,Z_FILTERED:loe,Z_HUFFMAN_ONLY:bg,Z_RLE:coe,Z_FIXED:uoe,Z_DEFAULT_STRATEGY:doe,Z_UNKNOWN:hoe,Z_DEFLATED:qb}=ch,Ud=258,Tl=262,M0=42,Nd=113,Hf=666,Id=(n,t)=>(n.msg=Jd[t],t),rR=n=>2*n-(n>4?9:0),au=n=>{let t=n.length;for(;--t>=0;)n[t]=0},poe=n=>{let t,e,r,a=n.w_size;t=n.hash_size,r=t;do e=n.head[--r],n.head[r]=e>=a?e-a:0;while(--t);t=a,r=t;do e=n.prev[--r],n.prev[r]=e>=a?e-a:0;while(--t)};let Su=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask;const Is=n=>{const t=n.state;let e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Rs=(n,t)=>{toe(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Is(n.strm)},xr=(n,t)=>{n.pending_buf[n.pending++]=t},Ef=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=255&t},c4=(n,t,e,r)=>{let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,t.set(n.input.subarray(n.next_in,n.next_in+a),e),n.state.wrap===1?n.adler=s_(n.adler,t,a,e):n.state.wrap===2&&(n.adler=Ki(n.adler,t,a,e)),n.next_in+=a,n.total_in+=a,a)},kP=(n,t)=>{let e,r,a=n.max_chain_length,l=n.strstart,u=n.prev_length,h=n.nice_match;const f=n.strstart>n.w_size-Tl?n.strstart-(n.w_size-Tl):0,m=n.window,g=n.w_mask,x=n.prev,E=n.strstart+Ud;let w=m[l+u-1],T=m[l+u];n.prev_length>=n.good_match&&(a>>=2),h>n.lookahead&&(h=n.lookahead);do if(e=t,m[e+u]===T&&m[e+u-1]===w&&m[e]===m[l]&&m[++e]===m[l+1]){l+=2,e++;do;while(m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&m[++l]===m[++e]&&l<E);if(r=Ud-(E-l),l=E-Ud,r>u){if(n.match_start=t,u=r,r>=h)break;w=m[l+u-1],T=m[l+u]}}while((t=x[t&g])>f&&--a!=0);return u<=n.lookahead?u:n.lookahead},w0=n=>{const t=n.w_size;let e,r,a;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-Tl)&&(n.window.set(n.window.subarray(t,t+t-r),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),poe(n),r+=t),n.strm.avail_in===0)break;if(e=c4(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=e,n.lookahead+n.insert>=3)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=Su(n,n.ins_h,n.window[a+1]);n.insert&&(n.ins_h=Su(n,n.ins_h,n.window[a+3-1]),n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<Tl&&n.strm.avail_in!==0)},CP=(n,t)=>{let e,r,a,l=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,u=0,h=n.strm.avail_in;do{if(e=65535,a=n.bi_valid+42>>3,n.strm.avail_out<a||(a=n.strm.avail_out-a,r=n.strstart-n.block_start,e>r+n.strm.avail_in&&(e=r+n.strm.avail_in),e>a&&(e=a),e<l&&(e===0&&t!==so||t===xu||e!==r+n.strm.avail_in)))break;u=t===so&&e===r+n.strm.avail_in?1:0,l4(n,0,0,u),n.pending_buf[n.pending-4]=e,n.pending_buf[n.pending-3]=e>>8,n.pending_buf[n.pending-2]=~e,n.pending_buf[n.pending-1]=~e>>8,Is(n.strm),r&&(r>e&&(r=e),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,e-=r),e&&(c4(n.strm,n.strm.output,n.strm.next_out,e),n.strm.next_out+=e,n.strm.avail_out-=e,n.strm.total_out+=e)}while(u===0);return h-=n.strm.avail_in,h&&(h>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=h&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-h,n.strm.next_in),n.strstart),n.strstart+=h,n.insert+=h>n.w_size-n.insert?n.w_size-n.insert:h),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),u?4:t!==xu&&t!==so&&n.strm.avail_in===0&&n.strstart===n.block_start?2:(a=n.window_size-n.strstart,n.strm.avail_in>a&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,a+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),a>n.strm.avail_in&&(a=n.strm.avail_in),a&&(c4(n.strm,n.window,n.strstart,a),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.high_water<n.strstart&&(n.high_water=n.strstart),a=n.bi_valid+42>>3,a=n.pending_buf_size-a>65535?65535:n.pending_buf_size-a,l=a>n.w_size?n.w_size:a,r=n.strstart-n.block_start,(r>=l||(r||t===so)&&t!==xu&&n.strm.avail_in===0&&r<=a)&&(e=r>a?a:r,u=t===so&&n.strm.avail_in===0&&e===r?1:0,l4(n,n.block_start,e,u),n.block_start+=e,Is(n.strm)),u?3:1)},ww=(n,t)=>{let e,r;for(;;){if(n.lookahead<Tl){if(w0(n),n.lookahead<Tl&&t===xu)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=Su(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-Tl&&(n.match_length=kP(n,e)),n.match_length>=3)if(r=wu(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do n.strstart++,n.ins_h=Su(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Su(n,n.ins_h,n.window[n.strstart+1]);else r=wu(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Rs(n,!1),n.strm.avail_out===0))return 1}return n.insert=n.strstart<2?n.strstart:2,t===so?(Rs(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Rs(n,!1),n.strm.avail_out===0)?1:2},n0=(n,t)=>{let e,r,a;for(;;){if(n.lookahead<Tl){if(w0(n),n.lookahead<Tl&&t===xu)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=Su(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-Tl&&(n.match_length=kP(n,e),n.match_length<=5&&(n.strategy===loe||n.match_length===3&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){a=n.strstart+n.lookahead-3,r=wu(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=a&&(n.ins_h=Su(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Rs(n,!1),n.strm.avail_out===0))return 1}else if(n.match_available){if(r=wu(n,0,n.window[n.strstart-1]),r&&Rs(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=wu(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,t===so?(Rs(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Rs(n,!1),n.strm.avail_out===0)?1:2};function ol(n,t,e,r,a){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=a}const Bf=[new ol(0,0,0,0,CP),new ol(4,4,8,4,ww),new ol(4,5,16,8,ww),new ol(4,6,32,32,ww),new ol(4,4,16,16,n0),new ol(8,16,32,32,n0),new ol(8,16,128,128,n0),new ol(8,32,128,256,n0),new ol(32,128,258,1024,n0),new ol(32,258,258,4096,n0)];function foe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),au(this.dyn_ltree),au(this.dyn_dtree),au(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),au(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),au(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vf=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.status!==M0&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==Nd&&t.status!==Hf?1:0},NP=n=>{if(Vf(n))return Id(n,dl);n.total_in=n.total_out=0,n.data_type=hoe;const t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?M0:Nd,n.adler=t.wrap===2?0:1,t.last_flush=-2,noe(t),la},IP=n=>{const t=NP(n);var e;return t===la&&((e=n.state).window_size=2*e.w_size,au(e.head),e.max_lazy_match=Bf[e.level].max_lazy,e.good_match=Bf[e.level].good_length,e.nice_match=Bf[e.level].nice_length,e.max_chain_length=Bf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},iR=(n,t,e,r,a,l)=>{if(!n)return dl;let u=1;if(t===ooe&&(t=6),r<0?(u=0,r=-r):r>15&&(u=2,r-=16),a<1||a>9||e!==qb||r<8||r>15||t<0||t>9||l<0||l>uoe||r===8&&u!==1)return Id(n,dl);r===8&&(r=9);const h=new foe;return n.state=h,h.strm=n,h.status=M0,h.wrap=u,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=3*(h.lit_bufsize-1),h.level=t,h.strategy=l,h.method=e,IP(n)};var o_={deflateInit:(n,t)=>iR(n,t,qb,15,8,doe),deflateInit2:iR,deflateReset:IP,deflateResetKeep:NP,deflateSetHeader:(n,t)=>Vf(n)||n.state.wrap!==2?dl:(n.state.gzhead=t,la),deflate:(n,t)=>{if(Vf(n)||t>nR||t<0)return n?Id(n,dl):dl;const e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===Hf&&t!==so)return Id(n,n.avail_out===0?Ew:dl);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Is(n),n.avail_out===0)return e.last_flush=-1,la}else if(n.avail_in===0&&rR(t)<=rR(r)&&t!==so)return Id(n,Ew);if(e.status===Hf&&n.avail_in!==0)return Id(n,Ew);if(e.status===M0&&e.wrap===0&&(e.status=Nd),e.status===M0){let a=qb+(e.w_bits-8<<4)<<8,l=-1;if(l=e.strategy>=bg||e.level<2?0:e.level<6?1:e.level===6?2:3,a|=l<<6,e.strstart!==0&&(a|=32),a+=31-a%31,Ef(e,a),e.strstart!==0&&(Ef(e,n.adler>>>16),Ef(e,65535&n.adler)),n.adler=1,e.status=Nd,Is(n),e.pending!==0)return e.last_flush=-1,la}if(e.status===57){if(n.adler=0,xr(e,31),xr(e,139),xr(e,8),e.gzhead)xr(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),xr(e,255&e.gzhead.time),xr(e,e.gzhead.time>>8&255),xr(e,e.gzhead.time>>16&255),xr(e,e.gzhead.time>>24&255),xr(e,e.level===9?2:e.strategy>=bg||e.level<2?4:0),xr(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(xr(e,255&e.gzhead.extra.length),xr(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=Ki(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(xr(e,0),xr(e,0),xr(e,0),xr(e,0),xr(e,0),xr(e,e.level===9?2:e.strategy>=bg||e.level<2?4:0),xr(e,3),e.status=Nd,Is(n),e.pending!==0)return e.last_flush=-1,la}if(e.status===69){if(e.gzhead.extra){let a=e.pending,l=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+l>e.pending_buf_size;){let h=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+h),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=h,Is(n),e.pending!==0)return e.last_flush=-1,la;a=0,l-=h}let u=new Uint8Array(e.gzhead.extra);e.pending_buf.set(u.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending+=l,e.gzhead.hcrc&&e.pending>a&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=73}if(e.status===73){if(e.gzhead.name){let a,l=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>l&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-l,l)),Is(n),e.pending!==0)return e.last_flush=-1,la;l=0}a=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,xr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>l&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-l,l)),e.gzindex=0}e.status=91}if(e.status===91){if(e.gzhead.comment){let a,l=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>l&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-l,l)),Is(n),e.pending!==0)return e.last_flush=-1,la;l=0}a=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,xr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>l&&(n.adler=Ki(n.adler,e.pending_buf,e.pending-l,l))}e.status=103}if(e.status===103){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Is(n),e.pending!==0))return e.last_flush=-1,la;xr(e,255&n.adler),xr(e,n.adler>>8&255),n.adler=0}if(e.status=Nd,Is(n),e.pending!==0)return e.last_flush=-1,la}if(n.avail_in!==0||e.lookahead!==0||t!==xu&&e.status!==Hf){let a=e.level===0?CP(e,t):e.strategy===bg?((l,u)=>{let h;for(;;){if(l.lookahead===0&&(w0(l),l.lookahead===0)){if(u===xu)return 1;break}if(l.match_length=0,h=wu(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,h&&(Rs(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,u===so?(Rs(l,!0),l.strm.avail_out===0?3:4):l.sym_next&&(Rs(l,!1),l.strm.avail_out===0)?1:2})(e,t):e.strategy===coe?((l,u)=>{let h,f,m,g;const x=l.window;for(;;){if(l.lookahead<=Ud){if(w0(l),l.lookahead<=Ud&&u===xu)return 1;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=3&&l.strstart>0&&(m=l.strstart-1,f=x[m],f===x[++m]&&f===x[++m]&&f===x[++m])){g=l.strstart+Ud;do;while(f===x[++m]&&f===x[++m]&&f===x[++m]&&f===x[++m]&&f===x[++m]&&f===x[++m]&&f===x[++m]&&f===x[++m]&&m<g);l.match_length=Ud-(g-m),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=3?(h=wu(l,1,l.match_length-3),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(h=wu(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),h&&(Rs(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,u===so?(Rs(l,!0),l.strm.avail_out===0?3:4):l.sym_next&&(Rs(l,!1),l.strm.avail_out===0)?1:2})(e,t):Bf[e.level].func(e,t);if(a!==3&&a!==4||(e.status=Hf),a===1||a===3)return n.avail_out===0&&(e.last_flush=-1),la;if(a===2&&(t===ioe?roe(e):t!==nR&&(l4(e,0,0,!1),t===aoe&&(au(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Is(n),n.avail_out===0))return e.last_flush=-1,la}return t!==so?la:e.wrap<=0?tR:(e.wrap===2?(xr(e,255&n.adler),xr(e,n.adler>>8&255),xr(e,n.adler>>16&255),xr(e,n.adler>>24&255),xr(e,255&n.total_in),xr(e,n.total_in>>8&255),xr(e,n.total_in>>16&255),xr(e,n.total_in>>24&255)):(Ef(e,n.adler>>>16),Ef(e,65535&n.adler)),Is(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?la:tR)},deflateEnd:n=>{if(Vf(n))return dl;const t=n.state.status;return n.state=null,t===Nd?Id(n,soe):la},deflateSetDictionary:(n,t)=>{let e=t.length;if(Vf(n))return dl;const r=n.state,a=r.wrap;if(a===2||a===1&&r.status!==M0||r.lookahead)return dl;if(a===1&&(n.adler=s_(n.adler,t,e,0)),r.wrap=0,e>=r.w_size){a===0&&(au(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(e-r.w_size,e),0),t=f,e=r.w_size}const l=n.avail_in,u=n.next_in,h=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,w0(r);r.lookahead>=3;){let f=r.strstart,m=r.lookahead-2;do r.ins_h=Su(r,r.ins_h,r.window[f+3-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--m);r.strstart=f,r.lookahead=2,w0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=u,n.input=h,n.avail_in=l,r.wrap=a,la},deflateInfo:"pako deflate (from Nodeca project)"};const _oe=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var N1={assign:function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)_oe(e,r)&&(n[r]=e[r])}}return n},flattenChunks:n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,l=n.length;r<l;r++){let u=n[r];e.set(u,a),a+=u.length}return e}};let AP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{AP=!1}const V_=new Uint8Array(256);for(let n=0;n<256;n++)V_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;V_[254]=V_[254]=1;var z_={string2buf:n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,l,u=n.length,h=0;for(a=0;a<u;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<u&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),l=0,a=0;l<h;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<u&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[l++]=e:e<2048?(t[l++]=192|e>>>6,t[l++]=128|63&e):e<65536?(t[l++]=224|e>>>12,t[l++]=128|e>>>6&63,t[l++]=128|63&e):(t[l++]=240|e>>>18,t[l++]=128|e>>>12&63,t[l++]=128|e>>>6&63,t[l++]=128|63&e);return t},buf2string:(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const l=new Array(2*e);for(a=0,r=0;r<e;){let u=n[r++];if(u<128){l[a++]=u;continue}let h=V_[u];if(h>4)l[a++]=65533,r+=h-1;else{for(u&=h===2?31:h===3?15:7;h>1&&r<e;)u=u<<6|63&n[r++],h--;h>1?l[a++]=65533:u<65536?l[a++]=u:(u-=65536,l[a++]=55296|u>>10&1023,l[a++]=56320|1023&u)}}return((u,h)=>{if(h<65534&&u.subarray&&AP)return String.fromCharCode.apply(null,u.length===h?u:u.subarray(0,h));let f="";for(let m=0;m<h;m++)f+=String.fromCharCode(u[m]);return f})(l,a)},utf8border:(n,t)=>{(t=t||n.length)>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(192&n[e])==128;)e--;return e<0||e===0?t:e+V_[n[e]]>t?e:t}},OP=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const RP=Object.prototype.toString,{Z_NO_FLUSH:moe,Z_SYNC_FLUSH:voe,Z_FULL_FLUSH:goe,Z_FINISH:boe,Z_OK:Gb,Z_STREAM_END:yoe,Z_DEFAULT_COMPRESSION:Eoe,Z_DEFAULT_STRATEGY:woe,Z_DEFLATED:xoe}=ch;function l_(n){this.options=N1.assign({level:Eoe,method:xoe,chunkSize:16384,windowBits:15,memLevel:8,strategy:woe},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new OP,this.strm.avail_out=0;let e=o_.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Gb)throw new Error(Jd[e]);if(t.header&&o_.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?z_.string2buf(t.dictionary):RP.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,e=o_.deflateSetDictionary(this.strm,r),e!==Gb)throw new Error(Jd[e]);this._dict_set=!0}}function xw(n,t){const e=new l_(t);if(e.push(n,!0),e.err)throw e.msg||Jd[e.err];return e.result}l_.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize;let a,l;if(this.ended)return!1;for(l=t===~~t?t:t===!0?boe:moe,typeof n=="string"?e.input=z_.string2buf(n):RP.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;)if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(l===voe||l===goe)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(a=o_.deflate(e,l),a===yoe)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=o_.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Gb;if(e.avail_out!==0){if(l>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(e.avail_in===0)break}else this.onData(e.output)}return!0},l_.prototype.onData=function(n){this.chunks.push(n)},l_.prototype.onEnd=function(n){n===Gb&&(this.result=N1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Soe={Deflate:l_,deflate:xw,deflateRaw:function(n,t){return(t=t||{}).raw=!0,xw(n,t)},gzip:function(n,t){return(t=t||{}).gzip=!0,xw(n,t)},constants:ch};const yg=16209;var Toe=function(n,t){let e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N,L,K;const z=n.state;e=n.next_in,L=n.input,r=e+(n.avail_in-5),a=n.next_out,K=n.output,l=a-(t-n.avail_out),u=a+(n.avail_out-257),h=z.dmax,f=z.wsize,m=z.whave,g=z.wnext,x=z.window,E=z.hold,w=z.bits,T=z.lencode,A=z.distcode,P=(1<<z.lenbits)-1,C=(1<<z.distbits)-1;e:do{w<15&&(E+=L[e++]<<w,w+=8,E+=L[e++]<<w,w+=8),k=T[E&P];n:for(;;){if(I=k>>>24,E>>>=I,w-=I,I=k>>>16&255,I===0)K[a++]=65535&k;else{if(!(16&I)){if(!(64&I)){k=T[(65535&k)+(E&(1<<I)-1)];continue n}if(32&I){z.mode=16191;break e}n.msg="invalid literal/length code",z.mode=yg;break e}D=65535&k,I&=15,I&&(w<I&&(E+=L[e++]<<w,w+=8),D+=E&(1<<I)-1,E>>>=I,w-=I),w<15&&(E+=L[e++]<<w,w+=8,E+=L[e++]<<w,w+=8),k=A[E&C];t:for(;;){if(I=k>>>24,E>>>=I,w-=I,I=k>>>16&255,!(16&I)){if(!(64&I)){k=A[(65535&k)+(E&(1<<I)-1)];continue t}n.msg="invalid distance code",z.mode=yg;break e}if(U=65535&k,I&=15,w<I&&(E+=L[e++]<<w,w+=8,w<I&&(E+=L[e++]<<w,w+=8)),U+=E&(1<<I)-1,U>h){n.msg="invalid distance too far back",z.mode=yg;break e}if(E>>>=I,w-=I,I=a-l,U>I){if(I=U-I,I>m&&z.sane){n.msg="invalid distance too far back",z.mode=yg;break e}if(O=0,N=x,g===0){if(O+=f-I,I<D){D-=I;do K[a++]=x[O++];while(--I);O=a-U,N=K}}else if(g<I){if(O+=f+g-I,I-=g,I<D){D-=I;do K[a++]=x[O++];while(--I);if(O=0,g<D){I=g,D-=I;do K[a++]=x[O++];while(--I);O=a-U,N=K}}}else if(O+=g-I,I<D){D-=I;do K[a++]=x[O++];while(--I);O=a-U,N=K}for(;D>2;)K[a++]=N[O++],K[a++]=N[O++],K[a++]=N[O++],D-=3;D&&(K[a++]=N[O++],D>1&&(K[a++]=N[O++]))}else{O=a-U;do K[a++]=K[O++],K[a++]=K[O++],K[a++]=K[O++],D-=3;while(D>2);D&&(K[a++]=K[O++],D>1&&(K[a++]=K[O++]))}break}}break}}while(e<r&&a<u);D=w>>3,e-=D,w-=D<<3,E&=(1<<w)-1,n.next_in=e,n.next_out=a,n.avail_in=e<r?r-e+5:5-(e-r),n.avail_out=a<u?u-a+257:257-(a-u),z.hold=E,z.bits=w};const Eg=15,koe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Coe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Noe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ioe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var c_=(n,t,e,r,a,l,u,h)=>{const f=h.bits;let m,g,x,E,w,T,A=0,P=0,C=0,k=0,I=0,D=0,U=0,O=0,N=0,L=0,K=null;const z=new Uint16Array(16),ae=new Uint16Array(16);let fe,B,J,ce=null;for(A=0;A<=Eg;A++)z[A]=0;for(P=0;P<r;P++)z[t[e+P]]++;for(I=f,k=Eg;k>=1&&z[k]===0;k--);if(I>k&&(I=k),k===0)return a[l++]=20971520,a[l++]=20971520,h.bits=1,0;for(C=1;C<k&&z[C]===0;C++);for(I<C&&(I=C),O=1,A=1;A<=Eg;A++)if(O<<=1,O-=z[A],O<0)return-1;if(O>0&&(n===0||k!==1))return-1;for(ae[1]=0,A=1;A<Eg;A++)ae[A+1]=ae[A]+z[A];for(P=0;P<r;P++)t[e+P]!==0&&(u[ae[t[e+P]]++]=P);if(n===0?(K=ce=u,T=20):n===1?(K=koe,ce=Coe,T=257):(K=Noe,ce=Ioe,T=0),L=0,P=0,A=C,w=l,D=I,U=0,x=-1,N=1<<I,E=N-1,n===1&&N>852||n===2&&N>592)return 1;for(;;){fe=A-U,u[P]+1<T?(B=0,J=u[P]):u[P]>=T?(B=ce[u[P]-T],J=K[u[P]-T]):(B=96,J=0),m=1<<A-U,g=1<<D,C=g;do g-=m,a[w+(L>>U)+g]=fe<<24|B<<16|J|0;while(g!==0);for(m=1<<A-1;L&m;)m>>=1;if(m!==0?(L&=m-1,L+=m):L=0,P++,--z[A]==0){if(A===k)break;A=t[e+u[P]]}if(A>I&&(L&E)!==x){for(U===0&&(U=I),w+=C,D=A-U,O=1<<D;D+U<k&&(O-=z[D+U],!(O<=0));)D++,O<<=1;if(N+=1<<D,n===1&&N>852||n===2&&N>592)return 1;x=L&E,a[x]=I<<24|D<<16|w-l|0}}return L!==0&&(a[w+L]=A-U<<24|64<<16|0),h.bits=I,0};const{Z_FINISH:aR,Z_BLOCK:Aoe,Z_TREES:wg,Z_OK:Ad,Z_STREAM_END:Ooe,Z_NEED_DICT:Roe,Z_STREAM_ERROR:to,Z_DATA_ERROR:sR,Z_MEM_ERROR:oR,Z_BUF_ERROR:Moe,Z_DEFLATED:lR}=ch,I1=16180,xg=16190,Ql=16191,Sw=16192,Tw=16194,Sg=16199,Tg=16200,kw=16206,ti=16209,cR=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function Doe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pd=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<I1||t.mode>16211?1:0},MP=n=>{if(Pd(n))return to;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=1&t.wrap),t.mode=I1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ad},DP=n=>{if(Pd(n))return to;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,MP(n)},LP=(n,t)=>{let e;if(Pd(n))return to;const r=n.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?to:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,DP(n))},uR=(n,t)=>{if(!n)return to;const e=new Doe;n.state=e,e.strm=n,e.window=null,e.mode=I1;const r=LP(n,t);return r!==Ad&&(n.state=null),r};let Cw,Nw,dR=!0;const Loe=n=>{if(dR){Cw=new Int32Array(512),Nw=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(c_(1,n.lens,0,288,Cw,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;c_(2,n.lens,0,32,Nw,0,n.work,{bits:5}),dR=!1}n.lencode=Cw,n.lenbits=9,n.distcode=Nw,n.distbits=5},hR=(n,t,e,r)=>{let a;const l=n.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(t.subarray(e-l.wsize,e),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>r&&(a=r),l.window.set(t.subarray(e-r,e-r+a),l.wnext),(r-=a)?(l.window.set(t.subarray(e-r,e),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0};var ic={inflateReset:DP,inflateReset2:LP,inflateResetKeep:MP,inflateInit:n=>uR(n,15),inflateInit2:uR,inflate:(n,t)=>{let e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N,L=0;const K=new Uint8Array(4);let z,ae;const fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pd(n)||!n.output||!n.input&&n.avail_in!==0)return to;e=n.state,e.mode===Ql&&(e.mode=Sw),u=n.next_out,a=n.output,f=n.avail_out,l=n.next_in,r=n.input,h=n.avail_in,m=e.hold,g=e.bits,x=h,E=f,N=Ad;e:for(;;)switch(e.mode){case I1:if(e.wrap===0){e.mode=Sw;break}for(;g<16;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(2&e.wrap&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,K[0]=255&m,K[1]=m>>>8&255,e.check=Ki(e.check,K,2,0),m=0,g=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&m)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=ti;break}if((15&m)!==lR){n.msg="unknown compression method",e.mode=ti;break}if(m>>>=4,g-=4,O=8+(15&m),e.wbits===0&&(e.wbits=O),O>15||O>e.wbits){n.msg="invalid window size",e.mode=ti;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=512&m?16189:Ql,m=0,g=0;break;case 16181:for(;g<16;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(e.flags=m,(255&e.flags)!==lR){n.msg="unknown compression method",e.mode=ti;break}if(57344&e.flags){n.msg="unknown header flags set",e.mode=ti;break}e.head&&(e.head.text=m>>8&1),512&e.flags&&4&e.wrap&&(K[0]=255&m,K[1]=m>>>8&255,e.check=Ki(e.check,K,2,0)),m=0,g=0,e.mode=16182;case 16182:for(;g<32;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.head&&(e.head.time=m),512&e.flags&&4&e.wrap&&(K[0]=255&m,K[1]=m>>>8&255,K[2]=m>>>16&255,K[3]=m>>>24&255,e.check=Ki(e.check,K,4,0)),m=0,g=0,e.mode=16183;case 16183:for(;g<16;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.head&&(e.head.xflags=255&m,e.head.os=m>>8),512&e.flags&&4&e.wrap&&(K[0]=255&m,K[1]=m>>>8&255,e.check=Ki(e.check,K,2,0)),m=0,g=0,e.mode=16184;case 16184:if(1024&e.flags){for(;g<16;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.length=m,e.head&&(e.head.extra_len=m),512&e.flags&&4&e.wrap&&(K[0]=255&m,K[1]=m>>>8&255,e.check=Ki(e.check,K,2,0)),m=0,g=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(w=e.length,w>h&&(w=h),w&&(e.head&&(O=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(l,l+w),O)),512&e.flags&&4&e.wrap&&(e.check=Ki(e.check,r,w,l)),h-=w,l+=w,e.length-=w),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(h===0)break e;w=0;do O=r[l+w++],e.head&&O&&e.length<65536&&(e.head.name+=String.fromCharCode(O));while(O&&w<h);if(512&e.flags&&4&e.wrap&&(e.check=Ki(e.check,r,w,l)),h-=w,l+=w,O)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(h===0)break e;w=0;do O=r[l+w++],e.head&&O&&e.length<65536&&(e.head.comment+=String.fromCharCode(O));while(O&&w<h);if(512&e.flags&&4&e.wrap&&(e.check=Ki(e.check,r,w,l)),h-=w,l+=w,O)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;g<16;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(4&e.wrap&&m!==(65535&e.check)){n.msg="header crc mismatch",e.mode=ti;break}m=0,g=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ql;break;case 16189:for(;g<32;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}n.adler=e.check=cR(m),m=0,g=0,e.mode=xg;case xg:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=m,e.bits=g,Roe;n.adler=e.check=1,e.mode=Ql;case Ql:if(t===Aoe||t===wg)break e;case Sw:if(e.last){m>>>=7&g,g-=7&g,e.mode=kw;break}for(;g<3;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}switch(e.last=1&m,m>>>=1,g-=1,3&m){case 0:e.mode=16193;break;case 1:if(Loe(e),e.mode=Sg,t===wg){m>>>=2,g-=2;break e}break;case 2:e.mode=16196;break;case 3:n.msg="invalid block type",e.mode=ti}m>>>=2,g-=2;break;case 16193:for(m>>>=7&g,g-=7&g;g<32;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=ti;break}if(e.length=65535&m,m=0,g=0,e.mode=Tw,t===wg)break e;case Tw:e.mode=16195;case 16195:if(w=e.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break e;a.set(r.subarray(l,l+w),u),h-=w,l+=w,f-=w,u+=w,e.length-=w;break}e.mode=Ql;break;case 16196:for(;g<14;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(e.nlen=257+(31&m),m>>>=5,g-=5,e.ndist=1+(31&m),m>>>=5,g-=5,e.ncode=4+(15&m),m>>>=4,g-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=ti;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;g<3;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.lens[fe[e.have++]]=7&m,m>>>=3,g-=3}for(;e.have<19;)e.lens[fe[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,z={bits:e.lenbits},N=c_(0,e.lens,0,19,e.lencode,0,e.work,z),e.lenbits=z.bits,N){n.msg="invalid code lengths set",e.mode=ti;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;L=e.lencode[m&(1<<e.lenbits)-1],P=L>>>24,C=L>>>16&255,k=65535&L,!(P<=g);){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(k<16)m>>>=P,g-=P,e.lens[e.have++]=k;else{if(k===16){for(ae=P+2;g<ae;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(m>>>=P,g-=P,e.have===0){n.msg="invalid bit length repeat",e.mode=ti;break}O=e.lens[e.have-1],w=3+(3&m),m>>>=2,g-=2}else if(k===17){for(ae=P+3;g<ae;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}m>>>=P,g-=P,O=0,w=3+(7&m),m>>>=3,g-=3}else{for(ae=P+7;g<ae;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}m>>>=P,g-=P,O=0,w=11+(127&m),m>>>=7,g-=7}if(e.have+w>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=ti;break}for(;w--;)e.lens[e.have++]=O}}if(e.mode===ti)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=ti;break}if(e.lenbits=9,z={bits:e.lenbits},N=c_(1,e.lens,0,e.nlen,e.lencode,0,e.work,z),e.lenbits=z.bits,N){n.msg="invalid literal/lengths set",e.mode=ti;break}if(e.distbits=6,e.distcode=e.distdyn,z={bits:e.distbits},N=c_(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,z),e.distbits=z.bits,N){n.msg="invalid distances set",e.mode=ti;break}if(e.mode=Sg,t===wg)break e;case Sg:e.mode=Tg;case Tg:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=m,e.bits=g,Toe(n,E),u=n.next_out,a=n.output,f=n.avail_out,l=n.next_in,r=n.input,h=n.avail_in,m=e.hold,g=e.bits,e.mode===Ql&&(e.back=-1);break}for(e.back=0;L=e.lencode[m&(1<<e.lenbits)-1],P=L>>>24,C=L>>>16&255,k=65535&L,!(P<=g);){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(C&&!(240&C)){for(I=P,D=C,U=k;L=e.lencode[U+((m&(1<<I+D)-1)>>I)],P=L>>>24,C=L>>>16&255,k=65535&L,!(I+P<=g);){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}m>>>=I,g-=I,e.back+=I}if(m>>>=P,g-=P,e.back+=P,e.length=k,C===0){e.mode=16205;break}if(32&C){e.back=-1,e.mode=Ql;break}if(64&C){n.msg="invalid literal/length code",e.mode=ti;break}e.extra=15&C,e.mode=16201;case 16201:if(e.extra){for(ae=e.extra;g<ae;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,g-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;L=e.distcode[m&(1<<e.distbits)-1],P=L>>>24,C=L>>>16&255,k=65535&L,!(P<=g);){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(!(240&C)){for(I=P,D=C,U=k;L=e.distcode[U+((m&(1<<I+D)-1)>>I)],P=L>>>24,C=L>>>16&255,k=65535&L,!(I+P<=g);){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}m>>>=I,g-=I,e.back+=I}if(m>>>=P,g-=P,e.back+=P,64&C){n.msg="invalid distance code",e.mode=ti;break}e.offset=k,e.extra=15&C,e.mode=16203;case 16203:if(e.extra){for(ae=e.extra;g<ae;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,g-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=ti;break}e.mode=16204;case 16204:if(f===0)break e;if(w=E-f,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=ti;break}w>e.wnext?(w-=e.wnext,T=e.wsize-w):T=e.wnext-w,w>e.length&&(w=e.length),A=e.window}else A=a,T=u-e.offset,w=e.length;w>f&&(w=f),f-=w,e.length-=w;do a[u++]=A[T++];while(--w);e.length===0&&(e.mode=Tg);break;case 16205:if(f===0)break e;a[u++]=e.length,f--,e.mode=Tg;break;case kw:if(e.wrap){for(;g<32;){if(h===0)break e;h--,m|=r[l++]<<g,g+=8}if(E-=f,n.total_out+=E,e.total+=E,4&e.wrap&&E&&(n.adler=e.check=e.flags?Ki(e.check,a,E,u-E):s_(e.check,a,E,u-E)),E=f,4&e.wrap&&(e.flags?m:cR(m))!==e.check){n.msg="incorrect data check",e.mode=ti;break}m=0,g=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;g<32;){if(h===0)break e;h--,m+=r[l++]<<g,g+=8}if(4&e.wrap&&m!==(4294967295&e.total)){n.msg="incorrect length check",e.mode=ti;break}m=0,g=0}e.mode=16208;case 16208:N=Ooe;break e;case ti:N=sR;break e;case 16210:return oR;default:return to}return n.next_out=u,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=m,e.bits=g,(e.wsize||E!==n.avail_out&&e.mode<ti&&(e.mode<kw||t!==aR))&&hR(n,n.output,n.next_out,E-n.avail_out),x-=n.avail_in,E-=n.avail_out,n.total_in+=x,n.total_out+=E,e.total+=E,4&e.wrap&&E&&(n.adler=e.check=e.flags?Ki(e.check,a,E,n.next_out-E):s_(e.check,a,E,n.next_out-E)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ql?128:0)+(e.mode===Sg||e.mode===Tw?256:0),(x===0&&E===0||t===aR)&&N===Ad&&(N=Moe),N},inflateEnd:n=>{if(Pd(n))return to;let t=n.state;return t.window&&(t.window=null),n.state=null,Ad},inflateGetHeader:(n,t)=>{if(Pd(n))return to;const e=n.state;return 2&e.wrap?(e.head=t,t.done=!1,Ad):to},inflateSetDictionary:(n,t)=>{const e=t.length;let r,a,l;return Pd(n)?to:(r=n.state,r.wrap!==0&&r.mode!==xg?to:r.mode===xg&&(a=1,a=s_(a,t,e,0),a!==r.check)?sR:(l=hR(n,t,e,e),l?(r.mode=16210,oR):(r.havedict=1,Ad)))},inflateInfo:"pako inflate (from Nodeca project)"},Uoe=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const UP=Object.prototype.toString,{Z_NO_FLUSH:Poe,Z_FINISH:Foe,Z_OK:u_,Z_STREAM_END:Iw,Z_NEED_DICT:Aw,Z_STREAM_ERROR:Hoe,Z_DATA_ERROR:pR,Z_MEM_ERROR:Boe}=ch;function d_(n){this.options=N1.assign({chunkSize:65536,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new OP,this.strm.avail_out=0;let e=ic.inflateInit2(this.strm,t.windowBits);if(e!==u_)throw new Error(Jd[e]);if(this.header=new Uoe,ic.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=z_.string2buf(t.dictionary):UP.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ic.inflateSetDictionary(this.strm,t.dictionary),e!==u_)))throw new Error(Jd[e])}function Ow(n,t){const e=new d_(t);if(e.push(n),e.err)throw e.msg||Jd[e.err];return e.result}d_.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let l,u,h;if(this.ended)return!1;for(u=t===~~t?t:t===!0?Foe:Poe,UP.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),l=ic.inflate(e,u),l===Aw&&a&&(l=ic.inflateSetDictionary(e,a),l===u_?l=ic.inflate(e,u):l===pR&&(l=Aw));e.avail_in>0&&l===Iw&&e.state.wrap>0&&n[e.next_in]!==0;)ic.inflateReset(e),l=ic.inflate(e,u);switch(l){case Hoe:case pR:case Aw:case Boe:return this.onEnd(l),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||l===Iw))if(this.options.to==="string"){let f=z_.utf8border(e.output,e.next_out),m=e.next_out-f,g=z_.buf2string(e.output,f);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(f,f+m),0),this.onData(g)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(l!==u_||h!==0){if(l===Iw)return l=ic.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},d_.prototype.onData=function(n){this.chunks.push(n)},d_.prototype.onEnd=function(n){n===u_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=N1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Voe={Inflate:d_,inflate:Ow,inflateRaw:function(n,t){return(t=t||{}).raw=!0,Ow(n,t)},ungzip:Ow,constants:ch};const{Deflate:zoe,deflate:$oe,deflateRaw:qoe,gzip:Goe}=Soe,{Inflate:joe,inflate:Koe,inflateRaw:Woe,ungzip:Qoe}=Voe;var vl,Yoe={Deflate:zoe,deflate:$oe,deflateRaw:qoe,gzip:Goe,Inflate:joe,inflate:Koe,inflateRaw:Woe,ungzip:Qoe,constants:ch};(function(n){n.CONNECTING="CONNECTING",n.OPEN="OPEN",n.CLOSED="CLOSED"})(vl||(vl={}));var Qt,Xoe=function(n){function t(e,r){var a=r.sdkState,l=r.dispatcher,u=r.logger,h=n.call(this)||this;return h.lastActive=0,h._iid=e,h._sdkState=a,h._dispatcher=l,h._logger=u,h}return re(t,n),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===vl.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return vl.CONNECTING;case 1:return vl.OPEN}return vl.CLOSED},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var r=this;e.split(`
`).forEach(function(a){if(a){var l=_r.createFromRawMessage(r._iid,a);r._logger.debug("receive websocket event",l),l.code==="LOGI"?r.dispatch("message",l):l.code==="PONG"?r.dispatch("pong"):l.code==="EXPR"?l.payload&&l.payload.expires_in>=0&&r._dispatcher.dispatch(new C1):l.code==="NOOP"||r.dispatch("message",l)}})},t.prototype.connect=function(e){var r=this;this._ws=new WebSocket(e),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(a){return H(r,void 0,void 0,function(){var l,u,h=this;return F(this,function(f){return!((u=this._sdkState.websocket)===null||u===void 0)&&u.compression?a.data instanceof Blob?((l=new FileReader).readAsArrayBuffer(a.data),l.onloadend=function(){return H(h,void 0,void 0,function(){var m;return F(this,function(g){switch(g.label){case 0:return[4,(x=l.result,H(void 0,void 0,void 0,function(){var E;return F(this,function(w){return E=Yoe.ungzip(x),[2,String.fromCharCode.apply(null,E)]})}))];case 1:return m=g.sent(),this._handleMessage(m),[2]}var x})})}):typeof a.data=="string"&&this._handleMessage(a.data):this._handleMessage(a.data),[2]})})},this._ws.onerror=function(){r._logger.debug("websocket error"),r.dispatch("error",Ue.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r.dispatch("close")},this.lastActive=Date.now()},t.prototype.disconnect=function(){var e=this;return new Promise(function(r){e._logger.debug("websocket disconnect"),e._ws&&e.connectionState!==vl.CLOSED?(e._ws.onopen=xt,e._ws.onmessage=xt,e._ws.onerror=xt,e._ws.onclose=function(){e.dispatch("close"),r()},e._ws.close(),e._ws=null):r()})},t.prototype.send=function(e){if(!this._ws)throw Ue.connectionClosed;e.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(lh),es=function(n){function t(e){var r,a=e.code,l=e.ackRequired,u=e.payload,h=u===void 0?null:u,f=this;return(f=n.call(this)||this).code=a,f.payload=h,f.requestId=(r=f.payload.req_id)!==null&&r!==void 0?r:Uu(),f.ackRequired=l,f.payload.req_id=f.requestId,f}return re(t,n),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t}(hi),PP=function(n){function t(e){var r=e.all,a=e.custom_types,l=e.ts,u=n.call(this)||this;return u.all=r,u.customTypes=a,u.ts=l,u}return re(t,n),t}(hi),Wa=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},Zoe=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._ackStateMap=new Map,this._sdkState=a,this._dispatcher=l,this._logger=u,this.apiClient=new Yse(t,{auth:r,sdkState:a,dispatcher:l,logger:u,useFetchCompat:f}),this.websocketClient=new Xoe(t,{sdkState:a,dispatcher:l,logger:u}),this.websocketClient.on("message",function(g){if(g.payload.unread_cnt&&m._dispatcher.dispatch(new PP(g.payload.unread_cnt)),g.requestId){if(m._ackStateMap.has(g.requestId)){var x=m._ackStateMap.get(g.requestId);g.code!=="EROR"?x.resolve(g):x.reject(new Ue({code:g.payload.code,message:g.payload.message}))}}else m._dispatcher.dispatch(g)}).on("close",function(){m._ackStateMap.forEach(function(g){g.reject(Ue.connectionClosed)}),m._ackStateMap.clear()})}return n.prototype._sendApiRequest=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.apiClient.send(t)];case 1:return[2,e.sent()]}})})},n.prototype._sendWebsocketRequest=function(t){return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(u){if(e=new Wa,t.ackRequired){r=null,a=function(h,f){h===void 0&&(h=null),f===void 0&&(f=null),l._ackStateMap.has(t.requestId)&&(l._ackStateMap.delete(t.requestId),r&&(clearTimeout(r),r=null),h?(l._logger.debug("fail websocket request",h),e.reject(h)):(l._logger.debug("receive websocket ack",t.requestId),e.resolve(f)))};try{r=setTimeout(function(){return a(Ue.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(t.requestId,{resolve:function(h){return a(null,h)},reject:function(h){return a(h)}}),this.websocketClient.send(t)}catch(h){a(h)}}else try{this.websocketClient.send(t),e.resolve(null)}catch(h){e.reject(h)}return[2,e.promise]})})},n.prototype.send=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return t instanceof hn?[4,this._sendApiRequest(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return t instanceof es?[4,this._sendWebsocketRequest(t)]:[3,4];case 4:throw Ue.invalidParameters}})})},n.prototype.cancel=function(t){this.apiClient.cancel(t)},n.prototype.cancelAll=function(){this.apiClient.cancelAll()},n}();(function(n){n[n.NONE=0]="NONE",n[n.INITIALIZED=1]="INITIALIZED",n[n.CONNECTING=2]="CONNECTING",n[n.CONNECTED=3]="CONNECTED",n[n.RECONNECTING=4]="RECONNECTING",n[n.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",n[n.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",n[n.LOGOUT=7]="LOGOUT"})(Qt||(Qt={}));var vs=function(n){function t(e){var r=e.stateType,a=n.call(this)||this;return a.stateType=r,a}return re(t,n),t}(hi),Joe=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._currentConnectionStateType=Qt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Zoe(t,{auth:r,sdkState:a,dispatcher:l,logger:u,useFetchCompat:f}),this._auth=r,this._logger=u,this._dispatcher=l,this._dispatcher.on(function(g){if(g instanceof vs){var x=g.stateType;switch(m._currentConnectionStateType=x,x){case Qt.CONNECTED:var E=m._lazyCallQueue;m._lazyCallQueue=[],E.forEach(function(w){return H(m,void 0,void 0,function(){var T,A,P,C,k;return F(this,function(I){switch(I.label){case 0:T=w.command,A=w.deferred,P=w.timeout,clearTimeout(P),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,this.send(T)];case 2:return C=I.sent(),A.resolve(C),[3,4];case 3:return k=I.sent(),A.reject(k),[3,4];case 4:return[2]}})})});break;case Qt.INITIALIZED:case Qt.INTERNAL_DISCONNECTED:case Qt.EXTERNAL_DISCONNECTED:case Qt.LOGOUT:E=m._lazyCallQueue,m._lazyCallQueue=[],E.forEach(function(w){return H(m,void 0,void 0,function(){var T,A;return F(this,function(P){return T=w.deferred,A=w.timeout,clearTimeout(A),this._auth&&this._auth.hasSession?T.reject(Ue.connectionClosed):T.reject(Ue.connectionRequired),[2]})})})}}})}return Object.defineProperty(n.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Qt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Qt.CONNECTING||this._currentConnectionStateType===Qt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.send=function(t){return H(this,void 0,void 0,function(){var e,r,a=this;return F(this,function(l){switch(l.label){case 0:return t instanceof es?this.isReady?(this._logger.debug("send websocket request",t),[4,this.commandRouter.send(t)]):[3,2]:[3,4];case 1:case 5:return[2,l.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",t),e=new Wa,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw this._logger.debug("fail websocket request"),Ue.connectionRequired;case 3:return[3,7];case 4:return t instanceof hn?this._auth.hasSession?(this._logger.debug("send api request",t),[4,this.commandRouter.send(t)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",t),e=new Wa,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw r=Ue.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},n.prototype.forceSend=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this._logger.debug("send forced request",t),[4,this.commandRouter.send(t)];case 1:return[2,e.sent()]}})})},n.prototype.timeout=function(t){this._logger.debug("timeout request",t);var e=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===t});e>-1&&(this._lazyCallQueue[e].deferred.reject(Ue.connectionRequired),this._lazyCallQueue.splice(e,1))},n.prototype.cancel=function(t){this._logger.debug("cancel api request",t),this.commandRouter.cancel(t)},n.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},n}(),Rw="sendbird@devicetokens",Mw=function(){function n(t){var e=t.type,r=t.token;this.type=e,this.token=r}return n.payloadify=function(t){return{type:t.type,token:t.token}},n}(),zs="v3",Ht="/".concat(zs,"/users"),ele="/".concat(zs,"/storage/file"),ya="/".concat(zs,"/group_channels"),nle="/".concat(zs,"/sdk/group_channels"),uh="/".concat(zs,"/open_channels"),tle="/".concat(zs,"/sdk/open_channels"),rle="/".concat(zs,"/search"),u4="/".concat(zs,"/report"),ile="/".concat(zs,"/emojis"),FP="/".concat(zs,"/emoji_categories"),Go="/".concat(zs,"/polls"),HP="/".concat(zs,"/scheduled_messages"),ale="/".concat(zs,"/sdk/statistics"),sle=function(n){function t(e){var r=e.userId,a=e.authToken,l=e.expiringSession,u=l===void 0||l,h=n.call(this)||this;return h.path="".concat(Ht,"/").concat(r,"/session_key"),h.method=dn.POST,h.params={token:a,expiring_session:!!u},h.requireAuth=!1,h}return re(t,n),t}(hn),ole=function(n){function t(e){var r=e.authToken,a=e.expiringSession,l=a===void 0||a,u=e.requestId,h=u===void 0?null:u;return n.call(this,{code:"LOGI",payload:{token:r,expiring_session:l?1:0,req_id:h},ackRequired:!0})||this}return re(t,n),t}(es),lle=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.key;return a.key=l,a}return re(t,n),t}(mn),cle=function(n){function t(e,r,a){var l=n.call(this,e,"LOGI",a)||this;return l.error=null,l.newKey=a.new_key,l.error=a.error?new Ue(a.error):null,l}return re(t,n),t}(_r),fR=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(hi),Fo=function(n){return H(void 0,void 0,void 0,function(){return F(this,function(t){return[2,new Promise(function(e){return setTimeout(e,n)})]})})},BP=function(){function n(){}return n.prototype.calcTimeout=function(){return 0},n}(),A1=function(n,t,e){return e===void 0&&(e=new BP),H(void 0,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:r=0,a=null,l=function(g){return g===void 0&&(g=null),a=g??new Error("Halted")},u=function(){r=0},m.label=1;case 1:if(!(t===-1||r<t))return[3,9];m.label=2;case 2:return m.trys.push([2,4,,8]),[4,n(l,u)];case 3:if(h=m.sent(),a)throw a;return[2,h];case 4:if(f=m.sent(),a)return[3,6];if(++r===t)throw f;return[4,Fo(e.calcTimeout(r))];case 5:return m.sent(),[3,7];case 6:throw a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},zn=function(n){return H(void 0,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n()];case 1:return e.sent(),[3,3];case 2:if(!((t=e.sent())instanceof Ue))throw t;return t.throwOutside(),[3,3];case 3:return[2]}})})},li=function(n){return H(void 0,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}})})},Dw=new WeakMap,ule=function(n){function t(e){var r=e.auth,a=e.cacheContext,l=e.sdkState,u=e.dispatcher,h=e.requestQueue,f=e.logger,m=n.call(this)||this;return m._currentConnectionStateType=Qt.INITIALIZED,m._isRefreshingAuthToken=!1,m._isRefreshingSessionKey=!1,m.auth=r,m._cacheContext=a,m._sdkState=l,m._dispatcher=u,m._requestQueue=h,m._logger=f,m._deviceTokens=[],m._dispatcher.on(function(g){if(g instanceof vs){var x=g.stateType;m._currentConnectionStateType=x}else g instanceof C1&&m.handler&&(m._logger.debug("session expired"),m.handler.onSessionExpired(),m.refresh())}),m}return re(t,n),Object.defineProperty(t.prototype,"ekey",{get:function(){return Dw.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,r){return this._deviceTokens.findIndex(function(a){return a.type===e&&a.token===r})},t.prototype.hasDeviceToken=function(e,r){return this.indexOfDeviceToken(e,r)>=0},t.prototype.createRefreshWebsocketCommand=function(e,r){return r===void 0&&(r=null),new ole({authToken:e,expiringSession:!0,requestId:r})},t.prototype._refreshSessionKeyByWebSocket=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 1:if(a=f.sent(),l=a.as(cle),u=l.newKey,h=l.error)throw h;return this.auth.sessionKey=u??this.auth.sessionKey,[2]}})})},t.prototype._refreshSessionKeyByApi=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){switch(l.label){case 0:return r=new sle({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,A1(function(u){return H(a,void 0,void 0,function(){var h,f,m;return F(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(r)];case 1:return h=g.sent(),f=h.as(lle).key,this.auth.sessionKey=f,[3,3];case 2:if(m=g.sent(),!this._isSessionRelatedError(m))throw m;return u(m),[3,3];case 3:return[2]}})})},3)];case 1:return l.sent(),[2]}})})},t.prototype._refreshSessionKey=function(e,r){return r===void 0&&(r=!0),H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:if(this._currentConnectionStateType!==Qt.CONNECTED)return[3,10];f.label=1;case 1:return f.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return f.sent(),this.complete(),[2];case 3:return a=f.sent(),this._isSessionRelatedError(a)?r?(l=this.auth,[4,this._receiveNewAuthToken()]):[3,9]:[3,9];case 4:return l.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return f.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:f.sent(),this.close(),f.label=8;case 8:return[2];case 9:return[3,10];case 10:return f.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(e)];case 11:return f.sent(),this.complete(),[3,22];case 12:return u=f.sent(),this._isSessionRelatedError(u)?r?(h=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return h.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return f.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:f.sent(),this.close(),f.label=17;case 17:return[3,19];case 18:throw u;case 19:return[3,21];case 20:throw u;case 21:return[3,22];case 22:return[2]}})})},t.prototype._receiveNewAuthToken=function(){var e=this,r=new Wa;return zn(function(){return H(e,void 0,void 0,function(){var a,l,u=this;return F(this,function(h){return this._isRefreshingAuthToken=!0,this.auth.clear(),a=null,l=function(){a&&(clearTimeout(a),a=null)},a=setTimeout(function(){u._isRefreshingAuthToken=!1,r.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(f){l(),u._isRefreshingAuthToken&&(u._isRefreshingAuthToken=!1,u.dispatch("refresh-authtoken"),r.resolve(f))},function(f){l(),u._isRefreshingAuthToken=!1,r.reject(f)}),[2]})})}),r.promise},t.prototype._isSessionRelatedError=function(e){return e instanceof Ue&&(e.isSessionKeyExpiredError||e.isSessionTokenExpiredError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),t.prototype.login=function(e){var r;return H(this,void 0,void 0,function(){var a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return a=e.key,l=e.ekey,u=e.userProfile,h=e.deviceTokenLastDeletedAt,f=h===void 0?0:h,this.auth.sessionKey=a,Dw.set(this,l),this._deviceTokenCacheEnabled=(r=u==null?void 0:u.appInfo)===null||r===void 0?void 0:r.deviceTokenCache,m=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,m.get(Rw)]:[3,5];case 1:return!(g=x.sent())||g.lastDeletedAt<f?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=f,[4,this.saveDeviceToken()]):[3,3];case 2:return x.sent(),[3,4];case 3:this._deviceTokens=g.tokens.map(function(E){return new Mw(Mw.payloadify(E))}),this._deviceTokenLastDeletedAt=g.lastDeletedAt,x.label=4;case 4:return[3,7];case 5:return[4,m.remove(Rw)];case 6:x.sent(),x.label=7;case 7:return[2]}})})},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),zn(function(){return H(e,void 0,void 0,function(){return F(this,function(r){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},t.prototype.error=function(e){var r=this;zn(function(){return H(r,void 0,void 0,function(){return F(this,function(a){return this.handler.onSessionError(e),[2]})})})},t.prototype.close=function(){var e=this;this.dispatch("close"),zn(function(){return H(e,void 0,void 0,function(){return F(this,function(r){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(e=a.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=e,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return a.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw a.sent(),r=Ue.sessionTokenRequestFailed,this._dispatcher.dispatch(new fR),this.error(r),this._isRefreshingSessionKey=!1,r;case 7:return a.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return a.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw a.sent(),r=Ue.sessionTokenRefreshFailed,this._dispatcher.dispatch(new fR),this.error(r),this._isRefreshingSessionKey=!1,r;case 10:return[2]}})})},t.prototype.setDeviceToken=function(e,r){return this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,r)<0?(this._deviceTokens.push(new Mw({type:e,token:r})),!0):!1},t.prototype.unsetDeviceToken=function(e,r){if(this._deviceTokenCacheEnabled){var a=this.indexOfDeviceToken(e,r);a>=0&&this._deviceTokens.splice(a,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter(function(r){return r.type!==e}):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(Rw,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.currentUser=null,this.auth.clear(),Dw.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),[2]}})})},t}(lh),dh=function(){function n(){this.type=Qt.NONE,this.name="none"}return n.prototype.run=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n.prototype.onConnect=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onReconnect=function(t,e){return e.resetReconnectCount,H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onDisconnect=function(t,e){return e.error,e.autoReconnect,H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onDisconnectWebSocket=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n.prototype.onLogout=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n}(),$d=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Qt.LOGOUT,e.name="logout",e}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(u){switch(u.label){case 0:return r=Date.now(),a=e.sdkState.userId,[4,e.logout()];case 1:return u.sent(),[4,e.changeState(new dT,r)];case 2:return u.sent(),zn(function(){return H(l,void 0,void 0,function(){return F(this,function(h){return e.connectionHandlers.forEach(function(f){f.onDisconnected(a)}),[2]})})}),[2]}})})},t}(dh),O1=function(n){function t(){var e=n.call(this)||this;return e.type=Qt.EXTERNAL_DISCONNECTED,e.name="externaldisconnected",e}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,e.disconnect()];case 1:return r.sent(),[2]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return l.sent(),[4,e.changeState(new R1({authToken:r}),a)];case 2:return l.sent(),[2]}})})},t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Kb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new $d,r)];case 1:return a.sent(),[2]}})})},t}(dh),jb=function(n){function t(e){var r=e.autoReconnect,a=n.call(this)||this;return a.type=Qt.INTERNAL_DISCONNECTED,a.name="internaldisconnected",a._autoReconnect=!1,a._autoReconnect=r,a}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),this._autoReconnect?[4,e.changeState(new Kb,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return l.sent(),[4,e.changeState(new R1({authToken:r}),a)];case 2:return l.sent(),[2]}})})},t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Kb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new O1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new $d,r)];case 1:return a.sent(),[2]}})})},t}(dh),Kb=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Qt.RECONNECTING,e.name="reconnecting",e._haltConnect=null,e._resetConnect=null,e._callbacks=[],e}return re(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m=this;return F(this,function(g){switch(g.label){case 0:r=Date.now(),a=new Wa,this._callbacks.push(function(x){return x?a.reject(x):a.resolve()}),zn(function(){return H(m,void 0,void 0,function(){return F(this,function(x){return e.connectionHandlers.forEach(function(E){E.onReconnectStarted()}),[2]})})}),g.label=1;case 1:return g.trys.push([1,4,,9]),l=e.sdkState.websocket,u=l.reconnectMaxRetry,h=l.reconnectRetryStrategy,[4,A1(function(x,E){return H(m,void 0,void 0,function(){var w;return F(this,function(T){switch(T.label){case 0:this._haltConnect=x,this._resetConnect=E,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,e.connect()];case 2:return T.sent(),[3,4];case 3:if(w=T.sent(),e.clearLoginTimer(),w instanceof Ue&&w.code===Nt.CONNECTION_CANCELED)return x(w),[2];throw w;case 4:return[2]}})})},u,h)];case 2:return g.sent(),[4,e.changeState(new VP,r)];case 3:return g.sent(),zn(function(){return H(m,void 0,void 0,function(){return F(this,function(x){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(E){E.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return f=g.sent(),El(f)?[3,7]:f instanceof Ue?f.code===Nt.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new jb({autoReconnect:!1}),r)]:[3,6];case 5:g.sent(),g.label=6;case 6:return zn(function(){return H(m,void 0,void 0,function(){return F(this,function(x){return this._flushCallbacks(f),e.connectionHandlers.forEach(function(E){E.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw f;case 8:return[3,9];case 9:return[2,a.promise]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return a=new Wa,this._halt(Ue.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push(function(){var u=Date.now();e.changeState(new R1({authToken:r}),u).then(function(){a.resolve()}).catch(function(h){a.reject(h)})}),[2,a.promise]})})},t.prototype.onReconnect=function(e,r){var a=r.resetReconnectCount,l=a!==void 0&&a;return H(this,void 0,void 0,function(){var u;return F(this,function(h){return u=new Wa,this._resetConnect&&l&&this._resetConnect(),this._callbacks.push(function(f){return f?u.reject(f):u.resolve()}),[2,u.promise]})})},t.prototype.onDisconnect=function(e,r){r.error;var a=r.autoReconnect,l=a===void 0||a;return H(this,void 0,void 0,function(){var u;return F(this,function(h){switch(h.label){case 0:return u=Date.now(),this._halt(Ue.connectionCanceled),[4,e.changeState(new jb({autoReconnect:l}),u)];case 1:return h.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Ue.connectionCanceled),[4,e.changeState(new O1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Ue.connectionCanceled),[4,e.changeState(new $d,r)];case 1:return a.sent(),[2]}})})},t}(dh),VP=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Qt.CONNECTED,e.name="connected",e}return re(t,n),t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new Kb,r)];case 2:return a.sent(),[2]}})})},t.prototype.onDisconnect=function(e,r){var a=r.autoReconnect;return H(this,void 0,void 0,function(){var l;return F(this,function(u){switch(u.label){case 0:return l=Date.now(),[4,e.changeState(new jb({autoReconnect:a}),l)];case 1:return u.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new O1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new $d,r)];case 1:return a.sent(),[2]}})})},t}(dh),R1=function(n){function t(e){var r=e.authToken,a=n.call(this)||this;return a.type=Qt.CONNECTING,a.name="connecting",a._authToken="",a._haltConnect=null,a._callbacks=[],a._authToken=r,a}return re(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l,u=this;return F(this,function(h){switch(h.label){case 0:r=Date.now(),a=new Wa,this._callbacks.push(function(f){return f?a.reject(f):a.resolve()}),h.label=1;case 1:return h.trys.push([1,4,,10]),[4,A1(function(f){return H(u,void 0,void 0,function(){var m;return F(this,function(g){switch(g.label){case 0:this._haltConnect=f,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return g.sent(),[3,4];case 3:if(m=g.sent(),e.clearLoginTimer(),m instanceof Ue&&m.code===Nt.CONNECTION_CANCELED)return f(m),[2];throw m;case 4:return[2]}})})},e.sdkState.websocket.connectMaxRetry)];case 2:return h.sent(),[4,e.changeState(new VP,r)];case 3:return h.sent(),zn(function(){return H(u,void 0,void 0,function(){return F(this,function(f){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(m){m.onConnected(e.sdkState.userId)}),[2]})})}),[3,10];case 4:return l=h.sent(),El(l)?[3,8]:[4,e.disconnect()];case 5:return h.sent(),l instanceof Ue?l.code===Nt.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new dT,r)]:[3,7];case 6:h.sent(),h.label=7;case 7:return zn(function(){return H(u,void 0,void 0,function(){return F(this,function(f){return this._flushCallbacks(l),[2]})})}),[3,9];case 8:throw l;case 9:return[3,10];case 10:return[2,a.promise]}})})},t.prototype.onConnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=new Wa,this._callbacks.push(function(l){return l?r.reject(l):r.resolve()}),[2,r.promise]})})},t.prototype.onDisconnect=function(e,r){var a=r.error,l=a===void 0?null:a,u=r.autoReconnect;return H(this,void 0,void 0,function(){var h;return F(this,function(f){switch(f.label){case 0:return h=Date.now(),this._halt(l??Ue.connectionCanceled),e.hasSession?[4,e.changeState(new jb({autoReconnect:u}),h)]:[3,2];case 1:return f.sent(),[3,4];case 2:return[4,e.changeState(new $d,h)];case 3:f.sent(),f.label=4;case 4:return[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Ue.connectionCanceled),e.hasSession?[4,e.changeState(new O1,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new $d,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Ue.connectionCanceled),[4,e.changeState(new $d,r)];case 1:return a.sent(),[2]}})})},t}(dh),dT=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Qt.INITIALIZED,e.name="initialized",e}return re(t,n),t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.changeState(new R1({authToken:r}),a)];case 1:return l.sent(),[2]}})})},t}(dh),dle=function(n){function t(){return n.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return re(t,n),t}(es),hle=function(){function n(t){var e=t.pingDelegate,r=t.sdkState,a=t.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=e,this.sdkState=r,this._logger=a}return Object.defineProperty(n.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),n.prototype.ping=function(){var t,e=this,r=new dle;try{var a=(t=this.sdkState.websocket.pongTimeout)!==null&&t!==void 0?t:5e3;this._pingTimeoutTimer=setTimeout(function(){e._logger.debug("pinger.ping() timeout"),e.pingDelegate.error(null)},a),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(l){this._logger.debug("pinger.ping() error",l),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},n.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n.prototype.refreshTimer=function(){var t,e=this;this._logger.debug("pinger.refreshTimer()");var r=(t=this.sdkState.websocket.pingInterval)!==null&&t!==void 0?t:15e3;this.stop(),this._pingTimer=setInterval(function(){e.ping()},r)},n.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},n.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n}(),_R=1048576,mR=function(){function n(t){var e,r,a;t===void 0&&(t={}),this.emojiHash=t.emoji_hash||"",this.uploadSizeLimit=t.file_upload_size_limit?t.file_upload_size_limit*_R:Number.MAX_SAFE_INTEGER,this.useReaction=!!t.use_reaction,this.applicationAttributes=(e=t.application_attributes)!==null&&e!==void 0?e:[],this.premiumFeatureList=(r=t.premium_feature_list)!==null&&r!==void 0?r:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.allowSdkStatsUpload=(a=t.allow_sdk_log_ingestion)===null||a===void 0||a}return n.payloadify=function(t){return{emoji_hash:t.emojiHash,file_upload_size_limit:t.uploadSizeLimit/_R,application_attributes:t.applicationAttributes,premium_feature_list:t.premiumFeatureList,use_reaction:t.useReaction,allow_sdk_log_ingestion:t.allowSdkStatsUpload}},n}(),$s=function(){function n(t){this._iid="",this._iid=t}return n.payloadify=function(t){return t?{}:null},n}(),ple=function(n){function t(e){var r=e.userId,a=e.metadata,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(Ht,"/").concat(r,"/metadata"),l.params={metadata:a},l}return re(t,n),t}(hn),fle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaData=r,a}return re(t,n),t}(mn),_le=function(n){function t(e){var r=e.userId,a=e.metadata,l=e.upsert,u=n.call(this)||this;return u.method=dn.PUT,u.path="".concat(Ht,"/").concat(r,"/metadata"),u.params={metadata:a,upsert:l},u}return re(t,n),t}(hn),mle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metadata=r,a}return re(t,n),t}(mn),vle=function(n){function t(e){var r=e.userId,a=e.metadataKey,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(r,"/metadata/").concat(a),l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var gle=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.DELETE,a.path="".concat(Ht,"/").concat(r,"/metadata"),a}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var x0,np=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return e._iid&&delete e._iid,t&&t(e),e},Tu=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return t&&t(e),e},_n=function(n){return{do:function(t){n||t()},throw:function(t){if(!n)throw t}}};(function(n){n.ONLINE="online",n.OFFLINE="offline",n.NON_AVAILABLE="nonavailable"})(x0||(x0={}));var Do,It=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P=this;return(P=n.call(this,e)||this).userId=(l=(a=r.guest_id)!==null&&a!==void 0?a:r.user_id)!==null&&l!==void 0?l:"",P.nickname=(h=(u=r.nickname)!==null&&u!==void 0?u:r.name)!==null&&h!==void 0?h:"",P.plainProfileUrl=(m=(f=r.profile_url)!==null&&f!==void 0?f:r.image)!==null&&m!==void 0?m:"",P.requireAuth=(g=r.require_auth_for_profile_image)!==null&&g!==void 0&&g,P.metaData=(x=r.metadata)!==null&&x!==void 0?x:{},P.connectionStatus=x0.NON_AVAILABLE,yt(x0,r.is_online)?P.connectionStatus=r.is_online:Ee("boolean",r.is_online)&&(P.connectionStatus=r.is_online?x0.ONLINE:x0.OFFLINE),P.isActive=(E=r.is_active)===null||E===void 0||E,P.lastSeenAt=(w=r.last_seen_at)!==null&&w!==void 0?w:null,P.preferredLanguages=r.preferred_languages?et([],Qn(r.preferred_languages),!1):null,P.friendDiscoveryKey=(T=r.friend_discovery_key)!==null&&T!==void 0?T:null,P.friendName=(A=r.friend_name)!==null&&A!==void 0?A:null,P}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{user_id:e.userId,nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth,metadata:e.metaData,is_online:e.connectionStatus,is_active:e.isActive,last_seen_at:e.lastSeenAt,preferred_languages:e.preferredLanguages,friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})):null},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=Ne.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return np(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(r){return e[r]}).every(function(r){return Ee("string",r)})},t.prototype._applyMetaData=function(e,r){var a=this;r===void 0&&(r=!1),Object.keys(e).forEach(function(l){r?delete a.metaData[l]:a.metaData[l]=e[l]})},t.prototype.createMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(this._isValidMetaData(e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new ple({userId:a.userId,metadata:e}),[4,l.send(u)];case 1:return h=m.sent(),f=h.as(fle).metaData,this._applyMetaData(f),[2,this.metaData]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return _n(this._isValidMetaData(e)).throw(Ue.invalidParameters),a=Ne.of(this._iid),l=a.sdkState,u=a.requestQueue,h=new _le({userId:l.userId,metadata:e,upsert:r}),[4,u.send(h)];case 1:return f=g.sent(),m=f.as(mle).metadata,this._applyMetaData(m),[2,this.metaData]}})})},t.prototype.deleteMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new vle({userId:a.userId,metadataKey:e}),[4,l.send(u)];case 1:return f.sent(),this._applyMetaData(((h={})[e]=!0,h),!0),[2,this.metaData]}})})},t.prototype.deleteAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new gle({userId:r.userId}),[4,a.send(l)];case 1:return u.sent(),this.metaData={},[2]}})})},t}($s),zP=function(n){function t(e){var r=e.userProfile,a=n.call(this)||this;return a.userProfile=r,a}return re(t,n),t}(hi),d4=function(){function n(t,e){var r,a,l,u,h,f,m,g,x,E,w,T,A,P;this._iid=t,this.appInfo=new mR(e),this.user=new It(t,e),this.connectedAt=(r=e.login_ts)!==null&&r!==void 0?r:0,this.firstConnectedAt=0,this.pingInterval=(a=e.ping_interval)!==null&&a!==void 0?a:15e3,this.pongTimeout=(l=e.pong_timeout)!==null&&l!==void 0?l:5e3,this.reconnectInterval=(h=(u=e.reconnect)===null||u===void 0?void 0:u.interval)!==null&&h!==void 0?h:3e3,this.reconnectMaxInterval=(m=(f=e.reconnect)===null||f===void 0?void 0:f.max_interval)!==null&&m!==void 0?m:6e4,this.reconnectRetryCount=(x=(g=e.reconnect)===null||g===void 0?void 0:g.retry_cnt)!==null&&x!==void 0?x:5,this.reconnectIntervalMultiple=(w=(E=e.reconnect)===null||E===void 0?void 0:E.mul)!==null&&w!==void 0?w:2,this.maxUnreadCountOnSuperGroup=(T=e.max_unread_cnt_on_super_group)!==null&&T!==void 0?T:100,this.profileImageEncryption=!!e.profile_image_encryption,this.concurrentCallLimit=(A=e.concurrent_call_limit)!==null&&A!==void 0?A:5,this.backOffDelay=(P=e.back_off_delay)!==null&&P!==void 0?P:100}return n.payloadify=function(t){return we(we(we({},It.payloadify(t.user)),mR.payloadify(t.appInfo)),{login_ts:t.connectedAt,ping_interval:t.pingInterval,pong_timeout:t.pongTimeout,reconnect:{interval:t.reconnectInterval,max_interval:t.reconnectMaxInterval,retry_cnt:t.reconnectRetryCount,mul:t.reconnectIntervalMultiple},max_unread_cnt_on_super_group:t.maxUnreadCountOnSuperGroup,profile_image_encryption:t.profileImageEncryption,concurrent_call_limit:t.concurrentCallLimit,back_off_delay:t.backOffDelay})},n.prototype.apply=function(){var t=this.reconnectInterval,e=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,a=Ne.of(this._iid);a.sdkState.websocket.pingInterval=1e3*this.pingInterval,a.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,a.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,a.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(l){return l>0?1e3*Math.min(t*Math.pow(r,l-1),e):10}},a.appInfo=this.appInfo,a.sessionManager.currentUser=this.user,a.connectedAt=this.connectedAt,this.firstConnectedAt||(a.firstConnectedAt=this.connectedAt),a.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,a.concurrentCallLimit=this.concurrentCallLimit,a.backOffDelay=this.backOffDelay,a.dispatcher.dispatch(new zP({userProfile:this}))},n}(),kg=function(n){function t(e,r,a){var l,u=this;return(u=n.call(this,e,r,a)||this).error=null,u.userProfile=new d4(e,a),u.deviceTokenLastDeletedAt=a.device_token_last_deleted_at,u.key=a.key,u.ekey=(l=a.ekey)!==null&&l!==void 0?l:"",u.error=a.error?new Ue(a):null,u}return re(t,n),t.asError=function(e){return new t(null,"LOGI",we({user_id:null,error:!0},e))},t.prototype.applyTo=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.error?[3,4]:(r=Ne.of(e))?[4,r.sessionManager.login(this)]:[3,2];case 1:return a.sent(),this.userProfile.apply(),[3,3];case 2:throw Ue.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},t}(_r),$P=function(n){function t(e){var r=e.request,a=r===void 0||r,l=e.features,u=l===void 0?{}:l,h=e.options,f=h===void 0?{}:h,m=n.call(this)||this;return m.request=a,m.features=we({localCache:!0},u),m.options=we({ingestion:!0},f),m}return re(t,n),t}(hi),ble=function(n){function t(e,r){var a=r.sdkState,l=r.cacheContext,u=r.connectionHandlers,h=r.sessionManager,f=r.websocketClient,m=r.dispatcher,g=r.logger,x=r.entryState,E=x===void 0?new dT:x,w=n.call(this)||this;return w._currentState=null,w._loginTimer=null,w._unresolvedLogi=null,w._stateUpdatedAt=0,w._connectingAt=0,w._connectionRequestQueue=[],w._iid=e,w.sdkState=a,w.cacheContext=l,w.connectionHandlers=u,w._sessionManager=h,w._websocketClient=f,w._dispatcher=m,w._logger=g,w._currentState=E,w.sdkState.websocket.pingerDisabled||(w._pinger=new hle({pingDelegate:{send:function(T){return w._websocketClient.send(T)},error:function(T){return w._websocketClient.error(T)}},sdkState:w.sdkState,logger:g})),w._websocketClient.on("open",function(){w._tryResolveConnectionRequest()}).on("message",function(T){T.code==="LOGI"&&(w.clearLoginTimer(),w._dispatcher.dispatch(T.as(kg)))}).on("ping-refresh",function(){var T;return(T=w._pinger)===null||T===void 0?void 0:T.refreshTimer()}).on("pong",function(){var T;return(T=w._pinger)===null||T===void 0?void 0:T.pong()}).on("error",function(){var T;return(T=w._pinger)===null||T===void 0?void 0:T.stop()}).on("close",function(){return w._rejectConnectionRequest(Ue.networkError)}),w._dispatcher.on(function(T){T instanceof kg&&(w._unresolvedLogi=T,w._tryResolveConnectionRequest())}),w}return re(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return r>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=r,this._dispatcher.dispatch(new vs({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return a.sent(),[2,!0];case 2:return[2,!1]}})})},t.prototype._tryResolveConnectionRequest=function(){var e;return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return r=this._unresolvedLogi,this._websocketClient.isOpen&&r?(this._unresolvedLogi=null,r.error?[3,2]:[4,r.applyTo(this._iid)]):[3,3];case 1:return l.sent(),a=r.userProfile,this._enableStatLog({request:a.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:a.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:a.appInfo.allowSdkStatsUpload}}),this._statLogConnection(null),(e=this._pinger)===null||e===void 0||e.start(),this._connectionRequestQueue.forEach(function(u){return u.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(r.error.isSessionKeyExpiredError||r.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new C1),this._rejectConnectionRequest(r.error),l.label=3;case 3:return[2]}})})},t.prototype._rejectConnectionRequest=function(e){var r;if((r=this._pinger)===null||r===void 0||r.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var a=this._connectionRequestQueue;this._connectionRequestQueue=[],a.forEach(function(l){return l.reject(e)}),this._statLogConnection(e)}},t.prototype._url=function(e){var r;e===void 0&&(e="");var a=this.sdkState,l=a.appId,u=a.appVersion,h=a.userId,f=a.extensions,m=this.cacheContext.localCacheEnabled,g=this._sessionManager.auth,x=(r=this.sdkState.websocket)===null||r===void 0?void 0:r.compression,E=f.sb_syncmanager?"s".concat(f.sb_syncmanager):"",w=f.sb_uikit?"u".concat(f.sb_uikit):"",T="JS/c".concat(zd.SDK_VERSION,"/").concat(E,"/").concat(w);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(zd.OS_VERSION),"&sv=").concat(encodeURIComponent(zd.SDK_VERSION),"&ai=").concat(l).concat(u?"&av=".concat(u):"").concat(g.hasSession?"&key=".concat(encodeURIComponent(g.sessionKey)):"&user_id=".concat(encodeURIComponent(h),"&access_token=").concat(encodeURIComponent(e)),"&pmce=").concat(x?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(T,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(m?1:0,"&include_poll_details=1")},t.prototype._enableStatLog=function(e){var r=e.request,a=e.features,l=e.options,u=l===void 0?{}:l;this._dispatcher.dispatch(new $P({request:r,features:a,options:u}))},t.prototype._statLogConnection=function(e){this._dispatcher.dispatch(new lT(new $0({type:Sl.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!e,latency:Date.now()-this._connectingAt,error_code:e==null?void 0:e.code,error_description:e==null?void 0:e.message}})))},t.prototype.connect=function(e){return e===void 0&&(e=""),H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(u){return r=this._url(e),a=new Wa,this._connectionRequestQueue.push(a),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){l._loginTimer=null,l._dispatcher.dispatch(kg.asError(Ue.loginTimeout))},this.sdkState.websocket.responseTimeout),e&&(this._sessionManager.auth.authToken=e),this._websocketClient.connect(r)),[2,a.promise]})})},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(kg.asError(Ue.connectionRenew))},t.prototype.disconnect=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}})})},t.prototype.logout=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return e.sent(),[4,this.disconnect()];case 2:return e.sent(),[2]}})})},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},t}(lh),yle=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,l=e.connectionHandlers,u=e.sessionManager,h=e.websocketClient,f=e.dispatcher,m=e.logger,g=e.disableWebSocketCloseEventHandling,x=g!==void 0&&g;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=m,this._disableWebSocketCloseEventHandling=x,this._context=new ble(t,{sdkState:r,cacheContext:a,connectionHandlers:l,sessionManager:u,websocketClient:h,dispatcher:f,logger:m}),this._sdkState=r,this._sessionManager=u,this._websocketClient=h}return n.prototype._registerEventDispatcher=function(){var t=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){t.isConnected||(t._logger.debug("try reconnect by session token refresh"),t.reconnect())}).on("refresh",function(){t.isConnecting||t.isConnected||(t._logger.debug("try reconnect by session key refresh"),t.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){t._sdkState.appState!=="foreground"||t._externalCalledWebSocketClose||t._sessionManager.isRefreshingAuthToken||(t._logger.debug("try reconnect by websocket connection closed"),t.reconnect())}))},n.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._context.currentState.type===Qt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isConnecting",{get:function(){var t=this._context.currentState;return t.type===Qt.CONNECTING||t.type===Qt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onConnect(this._context,t)];case 1:return r.sent(),this._registerEventDispatcher(),[2]}})})},n.prototype.reconnect=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{})];case 1:return e.sent(),[2]}})})},n.prototype.resetAndReconnect=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}})})},n.prototype.background=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnect(this._context,{autoReconnect:!1})];case 1:return e.sent(),[2]}})})},n.prototype.disconnect=function(t){return t===void 0&&(t=null),H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:t,autoReconnect:!0})];case 1:return e.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnectWebSocket(this._context)];case 1:return e.sent(),[2]}})})},n.prototype.logout=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._clearEventDispatcher(),[4,t.onLogout(this._context)];case 1:return e.sent(),[2]}})})},n}(),Fd=function(n){function t(e){var r,a,l,u,h=e.type,f=e.data,m=e.ts,g=m===void 0?Date.now():m,x=n.call(this,{type:h,data:f,ts:g})||this;return x.date=new Date(g),x.key="".concat((r=x.date,a=r.getFullYear(),l=String(r.getMonth()+1).padStart(2,"0"),u=String(r.getDate()).padStart(2,"0"),"".concat(a).concat(l).concat(u)),"_").concat(h),x}return re(t,n),t}($0),Ele=function(n){function t(e){var r=e.deviceId,a=e.statLogs,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(ale),l.params={device_id:r,log_entries:a.map(function(u){return $0.payloadify(u)})},l}return re(t,n),t}(hn),qP=function(n,t){var e,r;if(n!==null&&t!==null){var a=Object.keys(n),l=Object.keys(t),u=et([],Qn(new Set(et(et([],Qn(a),!1),Qn(l),!1))),!1),h={};try{for(var f=Cn(u),m=f.next();!m.done;m=f.next()){var g=m.value,x=typeof n[g],E=typeof t[g];x==="undefined"?h[g]=t[g]:E==="undefined"?h[g]=n[g]:x!==E?h[g]=t[g]:x==="object"&&n[g]&&t[g]?h[g]=qP(n[g],t[g]):h[g]=t[g]}}catch(w){e={error:w}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return h}return t};(function(n){n[n.PENDING=0]="PENDING",n[n.COLLECT_ONLY=1]="COLLECT_ONLY",n[n.ENABLED=2]="ENABLED",n[n.DISABLED=3]="DISABLED"})(Do||(Do={}));var ac,wle=function(n){function t(e){var r=e.cacheContext,a=e.requestQueue,l=e.dispatcher,u=e.baseLimit,h=u===void 0?100:u,f=e.maxLimit,m=f===void 0?1e3:f,g=e.minLimit,x=g===void 0?10:g,E=n.call(this)||this;return E.queue=[],E.enabledState=Do.PENDING,E.isFlushing=!1,E.generation=1,E.lastFlushedAt=0,E.commandEventContext=null,E._collectRequestStat=!0,E._collectFeatureLocalCacheStat=!0,E.deviceId=Uu(),E.cacheContext=r,E.requestQueue=a,E.dispatcher=l,E.baseLimit=h,E.limit=h,E.maxLimit=m,E.minLimit=x,E}return re(t,n),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.enabledState===Do.ENABLED},enumerable:!1,configurable:!0}),t.prototype._arrangeStat=function(){var e=[];this._collectRequestStat&&e.push.apply(e,et([],Qn(this.queue.filter(function(r){return r.type===Sl.API_RESULT||r.type===Sl.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&e.push.apply(e,et([],Qn(this.queue.filter(function(r){return r.type===Sl.FEATURE_LOCALCACHE})),!1)),this.queue=e},t.prototype._save=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.enabledState!==Do.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(r){return $0.payloadify(r)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:e.sent(),this.dispatch("save",et([],Qn(this.queue),!1)),e.label=2;case 2:return[2]}})})},t.prototype._flush=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,h.label=1;case 1:return h.trys.push([1,5,9,10]),this._arrangeStat(),e=this.queue.filter(function(f){if(f instanceof Fd){var m=new Date,g=Qn([f.date.getFullYear(),m.getFullYear()],2),x=g[0],E=g[1];if(x<E)return!0;if(x===E){var w=Qn([f.date.getMonth(),m.getMonth()],2),T=w[0],A=w[1];if(T<A)return!0;if(T===A){var P=Qn([f.date.getDate(),m.getDate()],2);return P[0]<P[1]}}}return!1}),r=this.queue.filter(function(f){return!(f instanceof Fd)}),(a=et(et([],Qn(e),!1),Qn(r),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(l=new Ele({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(l)]):[3,4];case 2:return h.sent(),this.dispatch("flush",a),this.queue=et(et([],Qn(e),!1),Qn(r),!1).slice(a.length),[4,this._save()];case 3:h.sent(),h.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(u=h.sent())instanceof Ue?u.code!==Nt.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return h.sent(),this.enabledState=Do.DISABLED,[3,8];case 7:u.code===Nt.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Do.COLLECT_ONLY),h.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(u){switch(u.label){case 0:return this.key=e,[4,this.cacheContext.preference.get(this.key)];case 1:return(r=u.sent())?(this.deviceId=r.deviceId,this.queue=r.statLogs.map(function(h){return new $0({type:h.stat_type,ts:h.ts,data:h.data})}),this.generation=r.generation,this.lastFlushedAt=r.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(a=Math.min(Math.floor(18e4*Math.random()),100),[4,Fo(a)]):[3,4]):[3,4];case 2:return u.sent(),[4,this._flush()];case 3:u.sent(),u.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(h){if(h instanceof lT){var f=h.statLog;l.put(f)}else if(h instanceof $P){var m=h.request,g=h.features,x=h.options;l._collectRequestStat=m,l._collectFeatureLocalCacheStat=g==null?void 0:g.localCache,l._arrangeStat(),l._collectRequestStat||l._collectFeatureLocalCacheStat?l.enabledState=x.ingestion?Do.ENABLED:Do.COLLECT_ONLY:l.enabledState=Do.DISABLED,l.isEnabled?l.queue.length>=l.limit&&l._flush():l.clear()}})),[2]}})})},t.prototype.put=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return this.enabledState===Do.DISABLED?[3,3]:(e instanceof Fd?this._collectFeatureLocalCacheStat&&(r=Qn(this.queue.filter(function(u){return u instanceof Fd&&u.key===e.key}),1),(a=r[0])?a.data=qP(a.data,e.data):this.queue.push(e)):this._collectRequestStat&&this.queue.push(e),[4,this._save()]);case 1:return l.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}})})},t.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=null)},t}(lh);(function(n){n[n.NONE=0]="NONE",n[n.VERBOSE=1]="VERBOSE",n[n.DEBUG=2]="DEBUG",n[n.INFO=3]="INFO",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR"})(ac||(ac={}));var Jr,Xi,q0,Ji,La,Iu,Rr,rr,co,cu,xle=function(){function n(){this.level=ac.WARN}return n.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=ac.VERBOSE&&console.log.apply(console,et(["[verbose]"],Qn(t),!1))},n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=ac.DEBUG&&console.log.apply(console,et(["[debug]"],Qn(t),!1))},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=ac.INFO&&console.log.apply(console,et(["[info]"],Qn(t),!1))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=ac.WARN&&console.warn.apply(console,et(["[warn]"],Qn(t),!1))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=ac.ERROR&&console.error.apply(console,et(["[error]"],Qn(t),!1))},n}(),vd={},Ne=function(){function n(t,e){var r,a,l,u,h,f,m,g,x,E;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!vd[t]){vd[t]=this;var w=(r=e.options)!==null&&r!==void 0?r:new _P,T=this.sdkState={appId:e.appId,appVersion:(a=e.appVersion)!==null&&a!==void 0?a:"",appState:"foreground",userId:null,extensions:{},api:{host:(l=e.apiHost)!==null&&l!==void 0?l:"https://api-".concat(e.appId,".sendbird.com")},websocket:{host:(u=e.websocketHost)!==null&&u!==void 0?u:"wss://ws-".concat(e.appId,".sendbird.com"),pingerDisabled:!!e.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new BP,responseTimeout:w.websocketResponseTimeout},sessionTokenRefreshTimeout:w.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var A=this.logger=new xle;this.logger.level=(h=e.logLevel)!==null&&h!==void 0?h:ac.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var P=this.cacheContext=new Gse({encryption:e.encryption,store:e.store,localCacheEnabled:(f=e.localCacheEnabled)!==null&&f!==void 0&&f,localCacheConfig:(m=e.localCacheConfig)!==null&&m!==void 0?m:new vP});this.debugMode=(g=e.debugMode)!==null&&g!==void 0&&g,this.maxSuperGroupChannelUnreadCount=zd.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=w.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=w.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=w.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var C=this.dispatcher=new Wse,k=new Kse;this.requestQueue=new Joe(t,{auth:k,sdkState:T,dispatcher:C,logger:A,useFetchCompat:e.useFetchCompat}),this.sessionManager=new ule({auth:k,cacheContext:P,sdkState:T,dispatcher:C,requestQueue:this.requestQueue,logger:A}),this.connectionManager=new yle(t,{sdkState:T,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:C,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(x=e.disableWebSocketCloseEventHandling)!==null&&x!==void 0&&x,logger:A}),this.statLogCollector=new wle({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:C}),this.appStateToggleEnabled=(E=e.appStateToggleEnabled)===null||E===void 0||E}return vd[t]}return n.of=function(t){if(vd[t])return vd[t];throw Ue.lostInstance},n.clear=function(t){vd[t]&&delete vd[t]},n}(),M1=function(){function n(){}return n.prototype.init=function(t,e){var r=e.sdkState,a=e.dispatcher,l=e.sessionManager,u=e.requestQueue,h=e.logger;e.onlineDetector;var f=e.cacheContext,m=f===void 0?null:f;this._iid=t,this._cacheContext=m,this._sdkState=r,this._dispatcher=a,this._sessionManager=l,this._requestQueue=u,this._logger=h},n}();(function(n){n.BASE="base",n.USER="user",n.FILE="file",n.ADMIN="admin"})(Jr||(Jr={})),function(n){n.ALL="",n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(Xi||(Xi={})),function(n){n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(q0||(q0={})),function(n){n.USERS="users",n.CHANNEL="channel"}(Ji||(Ji={})),function(n){n.ALL="all",n.NONE="none",n.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(La||(La={})),function(n){n.DEFAULT="default",n.SUPPRESS="suppress"}(Iu||(Iu={})),function(n){n.PENDING="pending",n.SCHEDULED="scheduled",n.SUCCEEDED="succeeded",n.FAILED="failed",n.CANCELED="canceled"}(Rr||(Rr={})),function(n){n.BASE="base",n.GROUP="group",n.OPEN="open"}(rr||(rr={})),function(n){n.OPERATOR="operator",n.NONE="none"}(co||(co={})),function(n){n.OPEN="open",n.CLOSED="closed"}(cu||(cu={}));var dt,GP="removed",h4=function(n){switch(n){case cu.OPEN:return cu.OPEN;case cu.CLOSED:return cu.CLOSED}},jP=function(n){return!n||n.text&&Ee("string",n.text)},Sle=function(n){return St("string",n)&&n.every(function(t){return t.trim()!==""})},rb=function(n){function t(e,r){var a,l,u,h,f,m,g,x=this;return(x=n.call(this,e)||this).pollId=0,x.id=0,x.text=null,x.voteCount=0,x.createdBy=null,x.createdAt=0,x.updatedAt=0,x._lastVotedAt=0,x.pollId=(a=r.poll_id)!==null&&a!==void 0?a:0,x.id=(l=r.id)!==null&&l!==void 0?l:0,x.text=(u=r.text)!==null&&u!==void 0?u:null,x.voteCount=(h=r.vote_count)!==null&&h!==void 0?h:0,x.createdBy=(f=r.created_by)!==null&&f!==void 0?f:null,x.createdAt=(m=r.created_at)!==null&&m!==void 0?m:0,x.updatedAt=(g=r.updated_at)!==null&&g!==void 0?g:0,x}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{vote_count:e.voteCount,poll_id:e.pollId,text:e.text,created_at:e.createdAt,id:e.id,created_by:e.createdBy,updated_at:e.updatedAt})):null},t}($s),mo=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C=this;return(C=n.call(this,e)||this).id=0,C.title=null,C.createdAt=0,C.updatedAt=0,C.closeAt=-1,C.status=cu.CLOSED,C.messageId=0,C.data=null,C.voterCount=-1,C.options=[],C.createdBy=null,C.allowUserSuggestion=!1,C.allowMultipleVotes=!1,C.votedPollOptionIds=[],C.id=(a=r.id)!==null&&a!==void 0?a:0,C.title=(l=r.title)!==null&&l!==void 0?l:null,C.createdAt=(u=r.created_at)!==null&&u!==void 0?u:0,C.updatedAt=(h=r.updated_at)!==null&&h!==void 0?h:0,C.closeAt=(f=r.close_at)!==null&&f!==void 0?f:-1,C.status=(m=h4(r.status))!==null&&m!==void 0?m:cu.CLOSED,C.messageId=(g=r.message_id)!==null&&g!==void 0?g:0,C.data=(x=r.data)!==null&&x!==void 0?x:null,C.voterCount=(E=r.voter_count)!==null&&E!==void 0?E:-1,C.options=r.options?r.options.map(function(k){return new rb(C._iid,k)}):[],C.createdBy=(w=r.created_by)!==null&&w!==void 0?w:null,C.allowUserSuggestion=(T=r.allow_user_suggestion)!==null&&T!==void 0&&T,C.allowMultipleVotes=(A=r.allow_multiple_votes)!==null&&A!==void 0&&A,C.votedPollOptionIds=(P=r.voted_option_ids)!==null&&P!==void 0?P:[],C}return re(t,n),t.prototype._applyPollUpdatePayload=function(e){var r,a,l,u,h,f,m,g,x=this;this.title=(r=e.title)!==null&&r!==void 0?r:this.title,this.updatedAt=(a=e.updated_at)!==null&&a!==void 0?a:this.updatedAt,this.closeAt=(l=e.close_at)!==null&&l!==void 0?l:this.closeAt,this.status=(u=h4(e.status))!==null&&u!==void 0?u:this.status,this.data=(h=e.data)!==null&&h!==void 0?h:this.data,this.voterCount=(f=e.voter_count)!==null&&f!==void 0?f:this.voterCount,e.options&&(this.options=e.options.map(function(E){return new rb(x._iid,E)}),this.votedPollOptionIds=e.options.filter(function(E){return E.vote_count>0}).map(function(E){return E.id})),this.allowUserSuggestion=(m=e.allow_user_suggestion)!==null&&m!==void 0?m:this.allowUserSuggestion,this.allowMultipleVotes=(g=e.allow_multiple_votes)!==null&&g!==void 0?g:this.allowMultipleVotes},t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{id:e.id,title:e.title,created_at:e.createdAt,updated_at:e.updatedAt,close_at:e.closeAt,status:e.status,message_id:e.messageId,data:e.data,voter_count:e.voterCount,options:e.options.map(function(r){return rb.payloadify(r)}),created_by:e.createdBy,allow_user_suggestion:e.allowUserSuggestion,allow_multiple_votes:e.allowMultipleVotes,voted_option_ids:e.votedPollOptionIds})):null},t.prototype.applyPollUpdateEvent=function(e){var r=e._payload.poll;return!(!r||this.id!==r.id||r.updated_at<this.updatedAt)&&(this._applyPollUpdatePayload(r),!0)},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var r=this.options,a=r.map(function(h){return h.id}),l=e._payload,u=Math.floor(l.ts/1e3);return l.updated_vote_counts.forEach(function(h){var f=a.indexOf(h.option_id);if(f>-1){var m=r[f];u>=m._lastVotedAt&&(m.voteCount=h.vote_count,m._lastVotedAt=u)}}),l.req_id&&l.voted_option_ids&&(this.votedPollOptionIds=l.voted_option_ids),!0},t.prototype.serialize=function(){return np(this)},t}($s),Yt=function(n){switch(n){case rr.GROUP:return ya;case rr.OPEN:return uh;default:return null}},KP=function(n){switch(n){case rr.GROUP:return"".concat(u4,"/group_channels");case rr.OPEN:return"".concat(u4,"/open_channels");default:return null}},G0=function(n,t,e){var r,a;switch(n){case Ji.CHANNEL:return!0;case Ji.USERS:if(t)try{for(var l=Cn(t),u=l.next();!u.done;u=l.next())if(u.value===e)return!0}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}}return!1},hT=function(n,t,e){var r=G0(n.mentionType,n.mentionedUserIds,e),a=G0(t.mentionType,t.mentionedUserIds,e);return!r&&a?1:r&&!a?-1:0};(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",n.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",n.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",n.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",n.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",n.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",n.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",n.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",n.REQUEST_MESSAGE="REQUEST_MESSAGE",n.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",n.EVENT_POLL_VOTED="EVENT_POLL_VOTED",n.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",n.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",n.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",n.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",n.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",n.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",n.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",n.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",n.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",n.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",n.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(dt||(dt={}));var gd=function(n){return n.startsWith("EVENT_")||n===dt.SYNC_MESSAGE_FILL||n===dt.SYNC_MESSAGE_CHANGELOGS||n===dt.SYNC_POLL_CHANGELOGS},ri=function(n){function t(e){var r=e.messages,a=e.source,l=n.call(this)||this;return l.messages=r,l.source=a,l}return re(t,n),t}(hi),pT=function(n){function t(e){var r=e.messageIds,a=e.source,l=n.call(this)||this;return l.messageIds=r,l.source=a,l}return re(t,n),t}(hi),WP=function(n){function t(e){var r=e.reqId,a=e.source,l=n.call(this)||this;return l.reqId=r,l.source=a,l}return re(t,n),t}(hi),QP=function(n){function t(e){var r=e.polls,a=e.source,l=n.call(this)||this;return l.polls=r,l.source=a,l}return re(t,n),t}(hi),fT=function(n){function t(e){var r=e.event,a=e.source,l=n.call(this)||this;return l.event=r,l.source=a,l}return re(t,n),t}(hi),D1=function(n){function t(e){var r=e.event,a=e.source,l=n.call(this)||this;return l.event=null,l.source=null,l.event=r,l.source=a,l}return re(t,n),t}(hi),xc=function(){function n(t,e){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=t,this.limit=(r=e.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),n.prototype._validate=function(){return Ee("number",this.limit)&&this.limit>0},n}(),Sc=function(n){function t(e,r,a,l){var u=n.call(this,e,l)||this;return u.channelUrl=r,u.channelType=a,u}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("string",this.channelUrl)&&yt(rr,this.channelType)},t}(xc),$_,YP=function(n){function t(e){var r=n.call(this)||this;if(r.method=dn.POST,r.path="".concat(ele),r.params=st({file:e.file,channel_url:e.channelUrl}),e.thumbnailSizes)for(var a=0;a<e.thumbnailSizes.length;a++){var l=e.thumbnailSizes[a],u=l.maxWidth,h=l.maxHeight;r.params["thumbnail".concat(a+1)]="".concat(u,",").concat(h)}return r.requestId=e.requestId,r}return re(t,n),t}(hn),XP=function(n){function t(e,r){var a,l,u,h=this;return(h=n.call(this,e,r)||this).url=r.url,h.fileSize=(a=r.file_size)!==null&&a!==void 0?a:0,h.thumbnailSizes=(l=r.thumbnails)!==null&&l!==void 0?l:[],h.requireAuth=(u=r.require_auth)!==null&&u!==void 0&&u,h}return re(t,n),t}(mn),p4=function(n){function t(e,r){var a,l,u,h=this;return(h=n.call(this,e)||this).replyCount=0,h.mostRepliedUsers=null,h.lastRepliedAt=0,h.updatedAt=0,h.replyCount=(a=r.reply_count)!==null&&a!==void 0?a:0,h.mostRepliedUsers=r.hasOwnProperty("most_replies")&&St("object",r.most_replies)?r.most_replies.map(function(f){return new It(h._iid,f)}):[],h.lastRepliedAt=(l=r.last_replied_at)!==null&&l!==void 0?l:0,h.updatedAt=(u=r.updated_at)!==null&&u!==void 0?u:0,h}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{reply_count:e.replyCount,most_replies:Array.isArray(e.mostRepliedUsers)?e.mostRepliedUsers.map(function(r){return It.payloadify(r)}):[],last_replied_at:e.lastRepliedAt,updated_at:e.updatedAt})):null},t}($s);(function(n){n.ADD="add",n.DELETE="delete"})($_||($_={}));var uu,Ms,_T=function(n){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var t=Ee("string",n.msg_id)?parseInt(n.msg_id):n.msg_id,e=n.user_id,r=n.operation?n.operation.toLowerCase():null,a=n.reaction,l=n.updated_at;t&&Ee("string",e)&&Ee("string",r)&&yt($_,r)&&Ee("string",a)&&a&&Ee("number",l)&&(this.messageId=t,this.userId=e,this.key=a,this.operation=r,this.updatedAt=l)},Cg=function(){function n(t){var e,r,a,l=t.key,u=(a=et([],Qn(t.user_ids),!1))!==null&&a!==void 0?a:[],h=t.updated_at;Ee("string",l)&&l&&St("string",u)&&u.length>0&&Ee("number",h)&&(this.key=l,this.userIds=u,this.updatedAt=h);var f={};try{for(var m=Cn(this.userIds),g=m.next();!g.done;g=m.next())f[g.value]=this.updatedAt}catch(x){e={error:x}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}this._version=f}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?st({key:t.key,user_ids:t.userIds,updated_at:t.updatedAt}):null},n.prototype.applyEvent=function(t){if(t.key===this.key&&this.updatedAt<=t.updatedAt){if(!this._version[t.userId]||this._version[t.userId]<=t.updatedAt){var e=this.userIds.indexOf(t.userId);switch(t.operation){case $_.ADD:e<0&&this.userIds.push(t.userId);break;case $_.DELETE:e>=0&&this.userIds.splice(e,1)}this._version[t.userId]=t.updatedAt}this.updatedAt=Math.max(this.updatedAt,t.updatedAt)}},n}(),Ka=function(){function n(t){this.key=t.key,this.value=St("string",t.value)?et([],Qn(t.value),!1):[]}return n.payloadify=function(t){var e;return t?st({key:t.key,value:(e=t.value)!==null&&e!==void 0?e:[]}):null},n}(),vR=function(){function n(t){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=t.url,t.hasOwnProperty("secure_url")&&(this.secureUrl=t.secure_url),t.hasOwnProperty("type")&&(this.type=t.type),t.hasOwnProperty("width")&&(this.width=t.width),t.hasOwnProperty("height")&&(this.height=t.height),t.hasOwnProperty("alt")&&(this.alt=t.alt)}return n.payloadify=function(t){var e,r;return t?st({url:t.url,secure_url:t.secureUrl,type:t.type,width:(e=t.width)!==null&&e!==void 0?e:0,height:(r=t.height)!==null&&r!==void 0?r:0,alt:t.alt}):null},n}(),gR=function(){function n(t){this.title=null,this.url=null,this.description=null,this.defaultImage=null,t.hasOwnProperty("og:title")&&(this.title=t["og:title"]),t.hasOwnProperty("og:url")&&(this.url=t["og:url"]),t.hasOwnProperty("og:description")&&(this.description=t["og:description"]),t.hasOwnProperty("og:image")&&(this.defaultImage=new vR(t["og:image"]))}return n.payloadify=function(t){return t?st({"og:title":t.title,"og:url":t.url,"og:description":t.description,"og:image":t.defaultImage?vR.payloadify(t.defaultImage):null}):null},n}(),kl=function(){function n(t){var e,r;this.name=null,this.volume=0,this.name=(e=t.name)!==null&&e!==void 0?e:"default",this.volume=(r=t.volume)!==null&&r!==void 0?r:1}return n.prototype.serialize=function(){return{name:this.name,volume:this.volume}},n.payloadify=function(t){return t?st({name:t.name,volume:t.volume}):null},n}();(function(n){n.PENDING="pending",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled"})(uu||(uu={})),function(n){n.PENDING="pending",n.IN_QUEUE="in_queue",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled",n.REMOVED="removed"}(Ms||(Ms={}));var ca,Tle=function(n){switch(n){case Jr.BASE:return"";case Jr.USER:return"MESG";case Jr.FILE:return"FILE";case Jr.ADMIN:return"ADMM"}},ec=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I=this;(I=n.call(this,e)||this).channelUrl=null,I.channelType=rr.BASE,I.messageId=0,I.parentMessageId=null,I.parentMessage=null,I.silent=!1,I.isOperatorMessage=!1,I.messageType=Jr.BASE,I.data=null,I.customType=null,I.mentionType=null,I.mentionedUsers=[],I.mentionedUserIds=[],I.mentionedMessageTemplate=null,I.threadInfo=null,I.reactions=[],I.metaArrays=[],I.ogMetaData=null,I.appleCriticalAlertOptions=null,I.createdAt=0,I.updatedAt=0,I.scheduledInfo=null,I.extendedMessage={},I._isContinuousMessages=!1,I._scheduledStatus=null,I.messageId=(l=(a=r.msg_id)!==null&&a!==void 0?a:r.message_id)!==null&&l!==void 0?l:0,I.channelUrl=r.channel_url,I.channelType=yt(rr,r.channel_type)?r.channel_type:rr.GROUP,r.channel&&(r.channel.channel_url&&(I.channelUrl=r.channel.channel_url),r.channel.channel_type&&(I.channelType=r.channel.channel_type)),I.parentMessageId=(u=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&u!==void 0?u:0,I.data=(h=r.data)!==null&&h!==void 0?h:"",I.customType=(f=r.custom_type)!==null&&f!==void 0?f:"",I.mentionType=yt(Ji,r.mention_type)?r.mention_type:null;var D=r.mentioned_users;I.mentionedUsers=D?D.map(function(z){return new It(I._iid,z)}):null;var U=r.mentioned_user_ids;I.mentionedUserIds=U??null,I.mentionedUsers&&!I.mentionedUserIds&&(I.mentionedUserIds=I.mentionedUsers.map(function(z){return z.userId})),I.mentionedMessageTemplate=(m=r.mentioned_message_template)!==null&&m!==void 0?m:"",I.threadInfo=r.thread_info?new p4(I._iid,r.thread_info):null,I.reactions=r.reactions?r.reactions.map(function(z){return new Cg(z)}):[];for(var O=(g=r.metaarray)!==null&&g!==void 0?g:{},N=(x=r.metaarray_key_order)!==null&&x!==void 0?x:Object.keys(O).sort(function(z,ae){return z.localeCompare(ae)}),L=0;L<N.length;L++){var K=N[L];I.metaArrays.push(new Ka({key:K,value:O[K]||[]}))}return r.sorted_metaarray&&(I.metaArrays=r.sorted_metaarray.map(function(z){return new Ka(z)})),I.ogMetaData=r.og_tag?new gR(r.og_tag):null,I.silent=(E=r.silent)!==null&&E!==void 0&&E,I.isOperatorMessage=(w=r.is_op_msg)!==null&&w!==void 0&&w,I.appleCriticalAlertOptions=r.apple_critical_alert_options?new kl(r.apple_critical_alert_options):null,I.createdAt=(A=(T=r.created_at)!==null&&T!==void 0?T:r.ts)!==null&&A!==void 0?A:0,I.updatedAt=(P=r.updated_at)!==null&&P!==void 0?P:0,typeof r.scheduled_message_id=="number"&&typeof r.scheduled_at=="number"&&r.scheduled_status&&(I.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},I._scheduledStatus=r.scheduled_status),I.extendedMessage=(C=r.extended_message)!==null&&C!==void 0?C:{},I._isContinuousMessages=(k=r.is_continuous_messages)!==null&&k!==void 0&&k,I}return re(t,n),t.payloadify=function(e){var r,a,l,u;return e?st(we(we({},n.payloadify.call(this,e)),{channel_url:e.channelUrl,channel_type:e.channelType,message_id:e.messageId,type:Tle(e.messageType),parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(r=e.mentionedUsers)===null||r===void 0?void 0:r.map(function(h){return It.payloadify(h)}),mentioned_message_template:e.mentionedMessageTemplate,thread_info:e.threadInfo?p4.payloadify(e.threadInfo):null,reactions:e.reactions.map(function(h){return Cg.payloadify(h)}),sorted_metaarray:(a=e.metaArrays)===null||a===void 0?void 0:a.map(function(h){return Ka.payloadify(h)}),og_tag:gR.payloadify(e.ogMetaData),silent:e.silent,is_op_msg:e.isOperatorMessage,apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),created_at:e.createdAt,updated_at:e.updatedAt,scheduled_message_id:(l=e.scheduledInfo)===null||l===void 0?void 0:l.scheduledMessageId,scheduled_at:(u=e.scheduledInfo)===null||u===void 0?void 0:u.scheduledAt,scheduled_status:e._scheduledStatus,extended_message:e.extendedMessage})):null},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.isEqual=function(e){return fP(this,e)},t.prototype.isUserMessage=function(){return this.messageType===Jr.USER},t.prototype.isFileMessage=function(){return this.messageType===Jr.FILE},t.prototype.isAdminMessage=function(){return this.messageType===Jr.ADMIN},t.prototype.serialize=function(){return np(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter(function(r){return e.includes(r.key)})},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(this.threadInfo=e.threadInfo),!1},t.prototype.applyReactionEvent=function(e){if(this.messageId===e.messageId){for(var r=!1,a=0;a<this.reactions.length;a++)if(this.reactions[a].key===e.key){this.reactions[a].applyEvent(e),this.reactions[a].isEmpty&&this.reactions.splice(a,1),r=!0;break}r||e.operation!=="add"||this.reactions.push(new Cg(Cg.payloadify({key:e.key,userIds:[e.userId],updatedAt:e.updatedAt})))}},t.prototype.applyParentMessage=function(e){if(this.parentMessageId===e.messageId){var r=this.parentMessage.updatedAt;if(e.updatedAt>=r)return this.parentMessage=e,!0}return!1},t}($s),q_=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.role=null,a.isBlockedByMe=!1,a.role=yt(co,r.role)?r.role:co.NONE,r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),a}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{role:e.role,is_blocked_by_me:e.isBlockedByMe})):null},t}(It),Ai=function(n){function t(e,r){var a,l,u,h,f=this;if((f=n.call(this,e,r)||this).sender=null,f.reqId="",f.replyToChannel=!1,f.sendingStatus=null,f.errorCode=0,f.sender=r.user?new q_(f._iid,r.user):r.sender_id,f.reqId=(l=(a=r.req_id)!==null&&a!==void 0?a:r.request_id)!==null&&l!==void 0?l:"",f.replyToChannel=(u=r.is_reply_to_channel)!==null&&u!==void 0&&u,r.request_state&&yt(Rr,r.request_state)&&(f.sendingStatus=r.request_state),!f.sendingStatus)if(f.messageId>0)f.sendingStatus=Rr.SUCCEEDED;else if(f.scheduledInfo)switch(f._scheduledStatus=r.scheduled_status,r.scheduled_status){case Ms.SENT:case Ms.IN_QUEUE:f.sendingStatus=Rr.SUCCEEDED;break;case Ms.PENDING:f.sendingStatus=Rr.SCHEDULED;break;case Ms.FAILED:case Ms.REMOVED:f.sendingStatus=Rr.FAILED;break;case Ms.CANCELED:f.sendingStatus=Rr.CANCELED}else f.sendingStatus=Rr.PENDING;return f.errorCode=(h=r.error_code)!==null&&h!==void 0?h:0,f}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{user:q_.payloadify(e.sender),req_id:e.reqId,is_reply_to_channel:e.replyToChannel,request_state:e.sendingStatus,error_code:e.errorCode})):null},Object.defineProperty(t.prototype,"isResendable",{get:function(){return this.sendingStatus===Rr.FAILED&&zse(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}(ec),L1=function(){function n(t){var e,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=t.url,this.width=t.width,this.height=t.height,this.realWidth=(e=t.real_width)!==null&&e!==void 0?e:t.width,this.realHeight=(r=t.real_height)!==null&&r!==void 0?r:t.height}return n.payloadify=function(t){return t?st({url:"",width:t.maxWidth,height:t.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(n.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),n}(),U1={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Xi.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},mT=function(n){return Ee("number",n.prevResultSize)&&Ee("number",n.nextResultSize)&&Ee("boolean",n.isInclusive)&&Ee("boolean",n.reverse)&&Ee("string",n.messageTypeFilter)&&yt(Xi,n.messageTypeFilter)&&St("string",n.customTypesFilter,!0)&&St("string",n.senderUserIdsFilter,!0)&&Ee("boolean",n.includeMetaArray)&&Ee("boolean",n.includeReactions)&&Ee("boolean",n.includeParentMessageInfo)},j0=function(n){function t(e,r){var a,l,u,h,f=this;if((f=n.call(this,e,r)||this).message=null,f.translations={},f.message=(a=r.message)!==null&&a!==void 0?a:"",f.messageType=Jr.ADMIN,f.translations=(l=r.translations)!==null&&l!==void 0?l:{},r.parent_message_info){var m=r.parent_message_info,g=we(we({},m),{message_id:f.parentMessageId,channel_url:f.channelUrl,channel_type:f.channelType,file:m.file,url:(u=m.file)===null||u===void 0?void 0:u.url,require_auth:(h=m.file)===null||h===void 0?void 0:h.require_auth});f.parentMessage=Ya(e,g)}return f}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,parent_message_info:G_(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},U1),r),_n(this.messageId>0&&Ee("number",e)&&mT(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t}(ec),bR=function(){function n(t){var e,r;this.type=null,this.vendor=null,this.detail={},this.type=(e=t.type)!==null&&e!==void 0?e:"",this.vendor=(r=t.vendor)!==null&&r!==void 0?r:"",t.hasOwnProperty("detail")&&Ee("object",t.detail)&&!Array.isArray(t.detail)&&(this.detail=t.detail)}return n.payloadify=function(t){return t?st({type:t.type,vendor:t.vendor,detail:t.detail}):null},n}(),Yi=function(n){function t(e,r){var a,l,u,h,f,m,g,x=this;if((x=n.call(this,e,r)||this).message="",x.messageParams=null,x.translations={},x.translationTargetLanguages=[],x.messageSurvivalSeconds=-1,x.plugins=[],x._poll=null,x.message=r.message,x.messageType=Jr.USER,x.translations=(u=r.translations)!==null&&u!==void 0?u:{},x.translationTargetLanguages=(h=r.target_langs)!==null&&h!==void 0?h:[],Object.keys(x.translations).length===0&&x.translationTargetLanguages.length>0)try{for(var E=Cn(x.translationTargetLanguages),w=E.next();!w.done;w=E.next()){var T=w.value;x.translations[T]=""}}catch(C){a={error:C}}finally{try{w&&!w.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}if(x.messageSurvivalSeconds=(f=r.message_survival_seconds)!==null&&f!==void 0?f:-1,x.plugins=r.plugins?r.plugins.map(function(C){return new bR(C)}):[],x._poll=r.poll?new mo(x._iid,r.poll):null,r.parent_message_info){var A=r.parent_message_info,P=we(we({},A),{created_at:A.ts,message_id:x.parentMessageId,channel_url:x.channelUrl,channel_type:x.channelType,file:A.file,url:(m=A.file)===null||m===void 0?void 0:m.url,require_auth:(g=A.file)===null||g===void 0?void 0:g.require_auth});x.parentMessage=Ya(e,st(P))}return x}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,message_survival_seconds:e.messageSurvivalSeconds,plugins:e.plugins.map(function(r){return bR.payloadify(r)}),poll:mo.payloadify(e._poll),parent_message_info:G_(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},U1),r),_n(this.messageId>0&&Ee("number",e)&&mT(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt)&&(this._poll=e,!0)},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(Ai),G_=function(n){if(n)switch(n.messageType){case Jr.USER:return Yi.payloadify(n);case Jr.FILE:return ii.payloadify(n);case Jr.ADMIN:return j0.payloadify(n)}return null},Ya=function(n,t){switch(t.type){case"MESG":return new Yi(n,t);case"FILE":return new ii(n,t);case"ADMM":case"BRDM":return new j0(n,t)}return null},ii=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I=this;(I=n.call(this,e,r)||this).messageParams=null,I.plainUrl="",I.requireAuth=!1,I.name=null,I.size=0,I.type=null,I.thumbnails=[],I.messageSurvivalSeconds=-1,I.messageType=Jr.FILE;var D=(a=r.file)!==null&&a!==void 0?a:null;I.plainUrl=((u=(l=D==null?void 0:D.url)!==null&&l!==void 0?l:r.url)!==null&&u!==void 0?u:"").split("?auth=")[0],I.name=(f=(h=D==null?void 0:D.name)!==null&&h!==void 0?h:r.name)!==null&&f!==void 0?f:"File",I.size=(g=(m=D==null?void 0:D.size)!==null&&m!==void 0?m:r.size)!==null&&g!==void 0?g:0,I.data=(E=(x=D==null?void 0:D.data)!==null&&x!==void 0?x:r.custom)!==null&&E!==void 0?E:"",I.type=D?(w=D.type)!==null&&w!==void 0?w:"":(T=r.type)!==null&&T!==void 0?T:"";var U=Ne.of(I._iid).sessionManager;if(I.requireAuth=(A=r.require_auth)!==null&&A!==void 0&&A,I.thumbnails=r.thumbnails?r.thumbnails.map(function(L){return new L1(we(we({},L),{url:"".concat(L.url.split("?auth=")[0]).concat(I.requireAuth?"?auth=".concat(U.ekey):"")}))}):[],I.messageSurvivalSeconds=(P=r.message_survival_seconds)!==null&&P!==void 0?P:-1,r.parent_message_info){var O=r.parent_message_info,N=we(we({},O),{message_id:I.parentMessageId,channel_url:I.channelUrl,channel_type:I.channelType,file:O.file,url:(C=O.file)===null||C===void 0?void 0:C.url,require_auth:(k=O.file)===null||k===void 0?void 0:k.require_auth});I.parentMessage=Ya(e,N)}return I}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{url:e.plainUrl,require_auth:e.requireAuth,file:{name:e.name,size:e.size,type:e.type,data:e.data},thumbnails:e.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:G_(e.parentMessage)})):null},Object.defineProperty(t.prototype,"url",{get:function(){var e=Ne.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},U1),r),_n(this.messageId>0&&Ee("number",e)&&mT(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t}(Ai),kle=function(n){function t(e){var r,a,l,u=[];return e.mentionType===Ji.USERS&&(e.mentionedUserIds?u=e.mentionedUserIds:e.mentionedUsers&&(u=e.mentionedUsers.map(function(h){return h.userId}))),n.call(this,{code:"FILE",ackRequired:!0,payload:st({channel_url:e.channelUrl,url:e.url,name:(r=e.fileName)!==null&&r!==void 0?r:"",type:(a=e.mimeType)!==null&&a!==void 0?a:"",size:(l=e.fileSize)!==null&&l!==void 0?l:0,custom:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes,require_auth:e.requireAuth,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:u,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Iu.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,pin_message:e.isPinnedMessage})})||this}return re(t,n),t}(es),Cle=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];return e.mentionType===Ji.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(u){return u.userId}))),a.method=dn.POST,a.path="".concat(Yt(e.channelType),"/").concat(encodeURIComponent(e.channelUrl),"/messages"),a.params=st({message_type:Jr.FILE,user_id:e.userId,url:e.fileUrl,mention_type:e.mentionType,mentioned_user_ids:l,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,data:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes.map(function(u){return L1.payloadify(u)}),require_auth:e.requireAuth,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(u){return Ka.payloadify(u)}),push_option:e.pushNotificationDeliveryOption,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),reply_to_channel:e.isReplyToChannel,req_id:e.reqId,pin_message:e.isPinnedMessage}),a}return re(t,n),t}(hn),vT=function(n){function t(e,r,a){var l,u,h,f=this;(f=n.call(this,e,"FILE",a)||this).message=new ii(e,a);var m=Ne.of(e).sdkState;return f.isMentioned=G0(f.message.mentionType,(l=f.message.mentionedUserIds)!==null&&l!==void 0?l:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(g){return g.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return re(t,n),t}(_r),Nle=function(n){function t(e,r){var a,l,u=this;(u=n.call(this,e,r)||this).message=new ii(e,r);var h=Ne.of(e).sdkState;return u.isMentioned=G0(u.message.mentionType,(a=u.message.mentionedUserIds)!==null&&a!==void 0?a:u.message.mentionedUsers.map(function(f){return f.userId}),h.userId),u.forceUpdateLastMessage=(l=r.force_update_last_message)!==null&&l!==void 0&&l,u}return re(t,n),t}(mn);(function(n){n[n.PENDING=0]="PENDING",n[n.UPLOADING=1]="UPLOADING",n[n.UPLOADED=2]="UPLOADED",n[n.SENDING=3]="SENDING",n[n.FAILED=4]="FAILED"})(ca||(ca={}));var h_,Ile=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.requestQueue,u=e.onlineDetector,h=e.cacheContext,f=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=t,this._sdkState=r,this._requestQueue=l,this._cacheContext=h,this._dispatcher=a,this._dispatcher.on(function(m){m instanceof vs&&(f._connectionState=m.stateType)}),this._onlineDetector=u}return Object.defineProperty(n.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Qt.CONNECTED||this._connectionState===Qt.CONNECTING||this._connectionState===Qt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype._sendFileMessage=function(t,e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return this._shouldSendThroughWebSocket?(r=new kle(we(we({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return a=l.sent(),[2,a.as(vT).message];case 2:return r=new Cle(we(we({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,userId:this._sdkState.userId,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)];case 3:return a=l.sent(),[2,a.as(Nle).message]}})})},n.prototype._resolveMessageQueue=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w;return F(this,function(T){switch(T.label){case 0:if(!(e=this._queueMap.get(t.url)))return[3,21];if(e.isResolving)return[3,20];e.isResolving=!0,r=[],a=!0,T.label=1;case 1:T.trys.push([1,15,16,17]),l=Cn(e.messageQueue),u=l.next(),T.label=2;case 2:if(u.done)return[3,14];switch(h=u.value,h.state){case ca.PENDING:case ca.UPLOADING:return[3,3];case ca.UPLOADED:return[3,4];case ca.FAILED:return[3,12]}return[3,13];case 3:return a=!1,r.push(h),[3,13];case 4:if(!a)return[3,10];T.label=5;case 5:return T.trys.push([5,8,,9]),h.state=ca.SENDING,[4,this._sendFileMessage(t,h)];case 6:return f=T.sent(),h.deferred.resolve(f),[4,Fo(100)];case 7:return T.sent(),[3,9];case 8:return m=T.sent(),h.deferred.reject(m),[3,9];case 9:return[3,11];case 10:r.push(h),T.label=11;case 11:return[3,13];case 12:return h.deferred.reject(h.error.code===Nt.REQUEST_CANCELED?Ue.fileUploadCanceled:h.error),[3,13];case 13:return u=l.next(),[3,2];case 14:return[3,17];case 15:return g=T.sent(),E={error:g},[3,17];case 16:try{u&&!u.done&&(w=l.return)&&w.call(l)}finally{if(E)throw E.error}return[7];case 17:return x=e.isResolveRequestPending,e.messageQueue=r,e.isResolving=!1,e.isResolveRequestPending=!1,x?[4,this._resolveMessageQueue(t)]:[3,19];case 18:T.sent(),T.label=19;case 19:return[3,21];case 20:e.isResolveRequestPending=!0,T.label=21;case 21:return[2]}})})},n.prototype._uploadNextPendingItem=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A;return F(this,function(P){switch(P.label){case 0:return e=this._queueMap.get(t.url),(r=e.messageQueue.find(function(C){return C.state===ca.PENDING}))?Ri(r.params.file)?e.uploadQueue.length<6?(r.state=ca.UPLOADING,e.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!P.sent())return[3,8];P.label=2;case 2:return P.trys.push([2,4,5,7]),a=new YP({file:r.params.file,channelUrl:t.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(a)];case 3:return l=P.sent(),u=l.as(XP),h=u.url,f=u.fileSize,m=f===void 0?r.params.fileSize:f,g=u.thumbnailSizes,x=g===void 0?r.params.thumbnailSizes:g,E=u.requireAuth,w=E!==void 0&&E,r.params.fileUrl=h,r.params.fileSize=m,r.params.thumbnailSizes=x,r.params.requireAuth=w,r.requireAuth=w,r.state=ca.UPLOADED,[3,7];case 4:return(T=P.sent()).code===Nt.REQUEST_FAILED?r.error=new Ue({code:Nt.NETWORK_ERROR,message:"Failed to upload a file."}):r.error=T,r.state=ca.FAILED,[3,7];case 5:return(A=e.uploadQueue.findIndex(function(C){return C.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 6:return P.sent(),[7];case 7:return[3,10];case 8:return r.state=ca.FAILED,r.error=Ue.connectionRequired,(A=e.uploadQueue.findIndex(function(C){return C.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 9:P.sent(),P.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=ca.UPLOADED,[4,this._resolveMessageQueue(t)];case 12:P.sent(),P.label=13;case 13:return[2]}})})},n.prototype.request=function(t,e,r){var a,l,u;return H(this,void 0,void 0,function(){var h;return F(this,function(f){return h=new Wa,Ri(r.file)&&(r.fileName=(a=r.fileName)!==null&&a!==void 0?a:r.file.name,r.mimeType=(l=r.mimeType)!==null&&l!==void 0?l:r.file.type,r.fileSize=(u=r.fileSize)!==null&&u!==void 0?u:r.file.size),this._queueMap.has(t.url)||this._queueMap.set(t.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(t.url).messageQueue.push({requestId:e,params:r,state:ca.PENDING,deferred:h,requireAuth:r.requireAuth}),this._uploadNextPendingItem(t),[2,h.promise]})})},n.prototype.cancel=function(t,e){var r,a;e===void 0&&(e=null);var l=this._queueMap.get(t.url);if(l){var u=e?[l.messageQueue.find(function(g){return g.requestId===e})]:et([],Qn(l.messageQueue),!1);try{for(var h=Cn(u),f=h.next();!f.done;f=h.next()){var m=f.value;if(m)switch(m.state){case ca.PENDING:m.state=ca.FAILED,m.error=Ue.requestCanceled,this._resolveMessageQueue(t);break;case ca.UPLOADING:this._requestQueue.cancel(m.requestId)}}}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},n}(),p_={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Xi.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:La.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},yR=function(n){return Ee("number",n.prevResultSize)&&Ee("number",n.nextResultSize)&&Ee("boolean",n.isInclusive)&&Ee("boolean",n.reverse)&&Ee("string",n.messageTypeFilter)&&yt(Xi,n.messageTypeFilter)&&St("string",n.customTypesFilter,!0)&&St("string",n.senderUserIdsFilter,!0)&&yt(La,n.replyType)&&Ee("boolean",n.includeMetaArray)&&Ee("boolean",n.includeReactions)&&Ee("boolean",n.includeParentMessageInfo)&&Ee("boolean",n.includeThreadInfo)&&Ee("boolean",n.showSubchannelMessagesOnly)},f4={replyType:La.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},ER=function(n){return yt(La,n.replyType)&&Ee("boolean",n.includeReactions)&&Ee("boolean",n.includeMetaArray)&&Ee("boolean",n.includeParentMessageInfo)&&Ee("boolean",n.includeThreadInfo)},Ale=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=e.includeMetaArray,h=e.includeReactions,f=e.includeThreadInfo,m=e.includeParentMessageInfo,g=n.call(this)||this;return g.method=dn.GET,g.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(l)),g.params={is_sdk:!0,with_sorted_meta_array:u,include_reactions:h,include_thread_info:f,include_parent_message_info:m,include_poll_details:!0},g}return re(t,n),t}(hn),Ole=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ya(e,we({},r)):null,a}return re(t,n),t}(mn),Ng=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,u=l===void 0?null:l,h=e.token,f=h===void 0?null:h,m=e.prevResultSize,g=e.nextResultSize,x=e.isInclusive,E=e.reverse,w=e.messageTypeFilter,T=e.customTypesFilter,A=e.senderUserIdsFilter,P=e.replyType,C=e.includeMetaArray,k=e.includeReactions,I=e.parentMessageId,D=e.includeThreadInfo,U=e.includeParentMessageInfo,O=e.showSubchannelMessagesOnly,N=e.checkingContinuousMessages,L=n.call(this)||this;return L.method=dn.GET,L.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages"),L.params=st({is_sdk:!0,prev_limit:m,next_limit:g,include:x,reverse:E,message_ts:u,message_id:f,message_type:w??null,custom_types:T,sender_ids:A,include_reply_type:P,with_sorted_meta_array:C,include_reactions:k,parent_message_id:I,include_thread_info:D,include_parent_message_info:U,show_subchannel_message_only:O,include_poll_details:!0,checking_continuous_messages:N}),L}return re(t,n),t}(hn),Ig=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.messages.map(function(l){return Ya(e,l)}),a}return re(t,n),t}(mn),Rle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,u=e.token,h=e.replyType,f=e.includeMetaArray,m=e.includeReactions,g=e.includeThreadInfo,x=e.includeParentMessageInfo,E=n.call(this)||this;return E.method=dn.GET,E.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/changelogs"),E.params={change_ts:l,token:u,with_sorted_meta_array:f,include_reactions:m,include_thread_info:g,include_reply_type:h,include_parent_message_info:x,include_poll_details:!0},E}return re(t,n),t}(hn),Mle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedMessages=r.updated.map(function(l){return Ya(e,l)}),a.deletedMessagesInfo=r.deleted.map(function(l){return{messageId:l.message_id,deletedAt:l.deleted_at}}),a.hasMore=r.has_more,a.nextToken=r.next,a}return re(t,n),t}(mn),Dle=function(n){function t(e){var r=e.channelUrl,a=e.scheduledMessageId,l=n.call(this)||this;return l.method=dn.GET,l.path="".concat(ya,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(a)),l.params={},l}return re(t,n),t}(hn),Lle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ya(e,we({},r)):null,a}return re(t,n),t}(mn),wR={},zi=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.requestQueue,u=e.onlineDetector,h=e.cacheContext;this._iid=t,this._sdkState=r,this._requestQueue=l,this._dispatcher=a,this._cacheContext=h,this.fileMessageQueue=new Ile(t,{sdkState:r,dispatcher:a,requestQueue:l,onlineDetector:u,cacheContext:h}),wR[t]=this}return n.of=function(t){return wR[t]},n.prototype.buildMessageFromSerializedData=function(t){var e=Tu(t);switch(e.messageType){case Jr.USER:return new Yi(this._iid,Yi.payloadify(e));case Jr.FILE:return new ii(this._iid,ii.payloadify(e));case Jr.ADMIN:return new j0(this._iid,j0.payloadify(e))}return null},n.prototype.buildUserMessageCreateParamsFromSerializedData=function(t,e){return st({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,message:e.message,translationTargetLanguages:Object.keys(e.translations),pollId:t.pollId})},n.prototype.buildFileMessageCreateParamsFromSerializedData=function(t,e){return st({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,file:t.file,fileKey:t.fileKey,fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:e.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:t.fileType,requireAuth:e.requireAuth})},n.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(t,e){return we(we({},this.buildUserMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(t,e){return we(we({},this.buildFileMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildSenderFromSerializedData=function(t){var e=Tu(t);return new q_(this._iid,q_.payloadify(e))},n.prototype.getMessage=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=new Ale(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Ole).message]}})})},n.prototype.getScheduledMessage=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=new Dle(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Lle).message]}})})},n.prototype.getMessagesByMessageId=function(t,e,r,a,l){return l===void 0&&(l=dt.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var u,h,f;return F(this,function(m){switch(m.label){case 0:return u=new Ng(we(we({channelType:e,channelUrl:t,token:String(r)},p_),a)),[4,this._requestQueue.send(u)];case 1:return h=m.sent(),f=h.as(Ig).messages,this._dispatcher.dispatch(new ri({messages:f,source:l})),[2,f]}})})},n.prototype.getMessagesByTimestamp=function(t,e,r,a,l){return l===void 0&&(l=dt.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var u,h,f;return F(this,function(m){switch(m.label){case 0:return u=new Ng(we(we({channelType:e,channelUrl:t,timestamp:r},p_),a)),[4,this._requestQueue.send(u)];case 1:return h=m.sent(),f=h.as(Ig).messages,this._dispatcher.dispatch(new ri({messages:f,source:l})),[2,f]}})})},n.prototype._getMessagesByTimestampForCollection=function(t,e,r,a,l,u){return l===void 0&&(l=dt.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var h,f,m,g;return F(this,function(x){switch(x.label){case 0:return h=new Ng(we(we(we({channelType:e,channelUrl:t,timestamp:r},p_),a),{checkingContinuousMessages:u})),[4,this._requestQueue.send(h)];case 1:return f=x.sent(),m=f.payload,g=f.as(Ig).messages,this._dispatcher.dispatch(new ri({messages:g,source:l})),[2,{messages:g,isContinuousMessages:m}]}})})},n.prototype.getThreadedMessagesByTimestamp=function(t,e,r,a){return a===void 0&&(a=dt.REQUEST_THREADED_MESSAGE),H(this,void 0,void 0,function(){var l,u,h,f;return F(this,function(m){switch(m.label){case 0:return l=new Ng(we(we(we({channelUrl:t.channelUrl,channelType:t.channelType,timestamp:e},U1),r),{replyType:La.ALL,parentMessageId:t.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(l)];case 1:return u=m.sent(),h=u.as(Ig).messages,(f=h.slice(1)).forEach(function(g){g.parentMessage=t}),this._dispatcher.dispatch(new ri({messages:f,source:a})),[2,{parentMessage:h[0],threadedMessages:f}]}})})},n.prototype.getMessageChangelogs=function(t,e,r,a,l){return l===void 0&&(l=dt.REQUEST_MESSAGE_CHANGELOGS),H(this,void 0,void 0,function(){var u,h,f,m,g,x,E,w;return F(this,function(T){switch(T.label){case 0:return u=new Rle(st(we(we({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},f4),a))),[4,this._requestQueue.send(u)];case 1:return h=T.sent(),f=h.as(Mle),m=f.updatedMessages,g=f.deletedMessagesInfo,x=f.hasMore,E=f.nextToken,w=g.map(function(A){return A.messageId}),m.length>0&&this._dispatcher.dispatch(new ri({messages:m,source:l})),w.length>0&&this._dispatcher.dispatch(new pT({messageIds:w,source:l})),[2,{updatedMessages:m,deletedMessageIds:w,hasMore:x,token:E}]}})})},n}(),sc=function(){function n(){this._onPending=xt,this._onFailed=xt,this._onSucceeded=xt}return n.prototype._trigger=function(t,e){switch(e.sendingStatus){case Rr.PENDING:e.errorCode===0&&this._onPending(e);break;case Rr.FAILED:case Rr.CANCELED:this._onFailed(t,e.scheduledInfo?null:e);break;case Rr.SCHEDULED:case Rr.SUCCEEDED:this._onSucceeded(e)}},n.prototype.onPending=function(t){return this._onPending=t,this},n.prototype.onFailed=function(t){return this._onFailed=t,this},n.prototype.onSucceeded=function(t){return this._onSucceeded=t,this},n}(),Ule=function(n){function t(e,r){var a=n.call(this,e)||this;a.threadInfo=null,a.targetMessageId=0,a.channelUrl=null,a.channelType=null;var l=r.thread_info,u=r.parent_message_id,h=r.channel_url,f=r.channel_type;return l&&Ee("object",l)&&Ee("number",u)&&Ee("string",h)&&Ee("string",f)&&(a.threadInfo=new p4(e,l),a.targetMessageId=u,a.channelUrl=h,a.channelType=f),a}return re(t,n),t}($s),Ple={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Fle=function(n){function t(e){var r=e.channelCustomType,a=e.keyword,l=e.limit,u=e.reverse,h=e.exactMatch,f=e.channelUrl,m=e.order,g=e.messageTimestampFrom,x=e.messageTimestampTo,E=e.advancedQuery,w=e.targetFields,T=e.nextToken,A=n.call(this)||this;return A.method=dn.GET,A.path="".concat(rle,"/messages"),A.params={custom_type:r,query:a,limit:l,reverse:u,exact_match:h,channel_url:f,message_ts_from:g,message_ts_to:x,sort_field:m,advanced_query:E,target_fields:w,after:T},A}return re(t,n),t}(hn),Hle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.results.map(function(l){return Ya(e,l)}),a.hasNext=r.has_next,a.nextToken=r.end_cursor,a.totalCount=r.total_count,a}return re(t,n),t}(mn);(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(h_||(h_={}));var Ble=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w=this;return(w=n.call(this,e,r)||this).keyword="",w.reverse=!1,w.exactMatch=!1,w.channelUrl="",w.channelCustomType="",w.messageTimestampFrom=null,w.messageTimestampTo=null,w.order=h_.SCORE,w.advancedQuery=!1,w.targetFields=null,w._nextToken="",w.totalCount=-1,w.keyword=r.keyword,w.reverse=(a=r.reverse)!==null&&a!==void 0&&a,w.exactMatch=(l=r.exactMatch)!==null&&l!==void 0&&l,w.channelUrl=(u=r.channelUrl)!==null&&u!==void 0?u:"",w.channelCustomType=(h=r.channelCustomType)!==null&&h!==void 0?h:"",w.messageTimestampFrom=(f=r.messageTimestampFrom)!==null&&f!==void 0?f:null,w.messageTimestampTo=(m=r.messageTimestampTo)!==null&&m!==void 0?m:null,w.order=(g=r.order)!==null&&g!==void 0?g:h_.SCORE,w.advancedQuery=(x=r.advancedQuery)!==null&&x!==void 0&&x,w.targetFields=(E=r.targetFields)!==null&&E!==void 0?E:null,w}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("string",this.keyword)&&this.keyword.length>0&&Ee("boolean",this.reverse)&&Ee("boolean",this.exactMatch)&&Ee("string",this.channelUrl)&&Ee("string",this.channelCustomType)&&(Ee("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(Ee("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&yt(h_,this.order)&&Ee("boolean",this.advancedQuery)&&St("string",this.targetFields,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new Fle(we(we({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=g.sent(),l=a.as(Hle),u=l.messages,h=l.hasNext,f=l.nextToken,m=l.totalCount,this._nextToken=f,this._hasNext=h,this._isLoading=!1,this.totalCount=m,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),Vle=function(n){function t(e,r,a,l){var u,h,f,m,g,x,E,w,T,A,P=this;return(P=n.call(this,e,r,a,l)||this).reverse=!1,P.messageTypeFilter=Xi.ALL,P.customTypesFilter=null,P.senderUserIdsFilter=null,P.replyType=La.NONE,P.includeMetaArray=!1,P.includeReactions=!1,P.includeParentMessageInfo=!1,P.includeThreadInfo=!1,P.showSubchannelMessagesOnly=!1,P._edge=Number.MAX_SAFE_INTEGER,P.reverse=(u=l.reverse)!==null&&u!==void 0&&u,P.messageTypeFilter=(h=l.messageTypeFilter)!==null&&h!==void 0?h:Xi.ALL,P.customTypesFilter=(f=l.customTypesFilter)!==null&&f!==void 0?f:null,P.senderUserIdsFilter=(m=l.senderUserIdsFilter)!==null&&m!==void 0?m:null,P.replyType=(g=l.replyType)!==null&&g!==void 0?g:La.NONE,P.includeMetaArray=(x=l.includeMetaArray)!==null&&x!==void 0&&x,P.includeReactions=(E=l.includeReactions)!==null&&E!==void 0&&E,P.includeParentMessageInfo=(w=l.includeParentMessageInfo)!==null&&w!==void 0&&w,P.includeThreadInfo=(T=l.includeThreadInfo)!==null&&T!==void 0&&T,P.showSubchannelMessagesOnly=(A=l.showSubchannelMessagesOnly)!==null&&A!==void 0&&A,P}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("boolean",this.reverse)&&yt(Xi,this.messageTypeFilter)&&yt(La,this.replyType)&&St("string",this.customTypesFilter,!0)&&St("string",this.senderUserIdsFilter,!0)&&Ee("boolean",this.includeMetaArray)&&Ee("boolean",this.includeReactions)&&Ee("boolean",this.includeParentMessageInfo)&&Ee("boolean",this.includeThreadInfo)&&Ee("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,zi.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return e=r.sent(),this._edge=Math.min.apply(Math,et([Number.MAX_SAFE_INTEGER],Qn(e.map(function(a){return a.createdAt})),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),zle={channelUrl:null,scheduledMessageId:0},$le=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="message",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:g}),this._manager=new zi(e,{sdkState:a,dispatcher:l,requestQueue:h,onlineDetector:m,cacheContext:g})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},Ple),e),_n(function(l){return Ee("string",l.channelUrl)&&Ee("string",l.channelType)&&yt(rr,l.channelType)&&Ee("number",l.messageId)&&Ee("boolean",l.includeMetaArray)&&Ee("boolean",l.includeParentMessageInfo)&&Ee("boolean",l.includeThreadInfo)}(r)).throw(Ue.invalidParameters),[2,this._manager.getMessage(r)]})})},t.prototype.getScheduledMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},zle),e),_n(function(l){return Ee("string",l.channelUrl)&&Ee("number",l.scheduledMessageId)}(r)).throw(Ue.invalidParameters),[2,this._manager.getScheduledMessage(r)]})})},t}(M1),qle=function(n){function t(e){var r=e.title,a=e.optionTexts,l=e.data,u=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=dn.POST,m.path=Go,m.params={title:r,options:a,data:l,allow_user_suggestion:u,allow_multiple_votes:h,close_at:f},m}return re(t,n),t}(hn),Gle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),jle=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,u=n.call(this)||this;return u.method=dn.GET,u.path="".concat(Go,"/").concat(encodeURIComponent(l)),u.params={channel_url:r,channel_type:a},u}return re(t,n),t}(hn),Kle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),Wle=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,u=e.pollOptionId,h=n.call(this)||this;return h.method=dn.GET,h.path="".concat(Go,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(u)),h.params={channel_url:r,channel_type:a},h}return re(t,n),t}(hn),Qle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pollOption=new rb(e,r),a}return re(t,n),t}(mn),Yle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,u=e.token,h=n.call(this)||this;return h.method=dn.GET,h.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/polls/changelogs"),h.params=st({change_ts:l,token:u}),h}return re(t,n),t}(hn),Xle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedPolls=r.updated.map(function(l){return function(u,h){return h?new mo(u,h):null}(e,l)}),a.deletedPollIds=r.deleted.map(function(l){return l}),a.hasMore=r.has_more,a.nextToken=r.next,a}return re(t,n),t}(mn),Zle={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},ZP=function(n){return Ee("string",n.title)&&Sle(n.optionTexts)&&jP(n.data)&&Ee("boolean",n.allowUserSuggestion,!0)&&Ee("boolean",n.allowMultipleVotes,!0)&&Ee("number",n.closeAt,!0)},Jle={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},JP=function(n){return Ee("string",n.channelUrl)&&yt(rr,n.channelType)&&Ee("number",n.pollId)&&Ee("number",n.pollOptionId)},ece={channelUrl:null,channelType:null,pollId:null},e9=function(n){return Ee("string",n.channelUrl)&&n.channelUrl!==""&&yt(rr,n.channelType)&&Ee("number",n.pollId)},xR={},Wb=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.sessionManager,u=e.requestQueue,h=e.logger;this._iid=t,this._sdkState=r,this._sessionManager=l,this._requestQueue=u,this._dispatcher=a,this._logger=h,xR[t]=this}return n.of=function(t){return xR[t]},n.prototype.buildPollFromSerializedData=function(t){var e=Tu(t);return new mo(this._iid,mo.payloadify(e))},n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return _n(e9(t)).throw(Ue.invalidParameters),e=new jle(we({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Kle).poll]}})})},n.prototype.create=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return _n(ZP(t)).throw(Ue.invalidParameters),e=t.data,r=new qle(we(we({},t),{data:e})),[4,this._requestQueue.send(r)];case 1:return a=l.sent(),[2,a.as(Gle).poll]}})})},n.prototype.getOption=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return _n(JP(t)).throw(Ue.invalidParameters),e=new Wle(we({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Qle).pollOption]}})})},n.prototype.getPollChangeLogs=function(t,e,r,a){return a===void 0&&(a=dt.SYNC_POLL_CHANGELOGS),H(this,void 0,void 0,function(){var l,u,h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:return l=new Yle(st({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null})),[4,this._requestQueue.send(l)];case 1:return u=E.sent(),h=u.as(Xle),f=h.updatedPolls,m=h.deletedPollIds,g=h.hasMore,x=h.nextToken,f.length>0&&this._dispatcher.dispatch(new QP({polls:f,source:a})),[2,{updatedPolls:f,deletedPollIds:m,hasMore:g,token:x}]}})})},n}(),nce=function(n,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=n,this._payload=t},tce=function(n){this.pollId=0,this.messageId=0,this.pollId=n.poll_id,this.messageId=n.message_id,this._payload=n},rce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.token,u=e.limit,h=n.call(this)||this;return h.method=dn.GET,h.path=Go,h.params={channel_url:r,channel_type:a,token:l,limit:u},h}return re(t,n),t}(hn),ice=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).polls=((a=r.polls)!==null&&a!==void 0?a:[]).map(function(u){return new mo(e,u)}),l.token=r.next,l}return re(t,n),t}(mn),n9=function(n){function t(e,r){return n.call(this,e,r.channelUrl,r.channelType,r)||this}return re(t,n),t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new rce(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(ice),u=l.polls,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),ace=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,u=e.pollOptionId,h=e.token,f=e.limit,m=n.call(this)||this;return m.method=dn.GET,m.path="".concat(Go,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(u),"/voters"),m.params={channel_url:r,channel_type:a,token:h,limit:f},m}return re(t,n),t}(hn),sce=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).voters=((a=r.voters)!==null&&a!==void 0?a:[]).map(function(u){return new It(e,u)}),l.token=r.next,l}return re(t,n),t}(mn),t9=function(n){function t(e,r){var a=n.call(this,e,r.channelUrl,r.channelType,r)||this;return a.pollId=r.pollId,a.pollOptionId=r.pollOptionId,a}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("number",this.pollId)&&Ee("number",this.pollOptionId)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new ace(we(we({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(sce),u=l.voters,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),oce=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="poll",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:g}),this._manager=new Wb(e,{sdkState:a,dispatcher:l,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:g})},t.prototype.create=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},Zle),e),_n(ZP(r)).throw(Ue.invalidParameters),[2,this._manager.create(r)]})})},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},ece),e),_n(e9(r)).throw(Ue.invalidParameters),[2,this._manager.get(r)]})})},t.prototype.getOption=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},Jle),e),_n(JP(r)).throw(Ue.invalidParameters),[2,this._manager.getOption(r)]})})},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(M1),K0,r9=100,i9="GroupChannel",lce="url",Qb=100,a9="Message",cce="messageId",uce="Poll",dce="pollId",gT={data:null,customType:null,mentionType:Ji.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},bT=function(n){return Ee("string",n.data,!0)&&Ee("string",n.customType,!0)&&yt(Ji,n.mentionType)&&St("string",n.mentionedUserIds,!0)&&St(It,n.mentionedUsers,!0)&&Ee("string",n.mentionedMessageTemplate,!0)&&St(Ka,n.metaArrays,!0)&&Ee("number",n.parentMessageId,!0)&&Ee("boolean",n.isReplyToChannel)&&yt(Iu,n.pushNotificationDeliveryOption,!0)&&Ee(kl,n.appleCriticalAlertOptions,!0)&&Ee("boolean",n.isPinnedMessage,!0)},SR=function(n){return n?{isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,pollId:n.pollId}:null},s9=we(we({},gT),{message:null,translationTargetLanguages:null,pollId:null}),o9=function(n){return bT(n)&&Ee("string",n.message)&&St("string",n.translationTargetLanguages,!0)&&Ee("number",n.pollId,!0)};(function(n){n.FILE="file",n.BLOB="blob",n.BLOB_LIKE_OBJECT="blobLikeObject",n.URL="url"})(K0||(K0={}));var _4,m4=function(n){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&n instanceof Blob},TR=function(n){return n===K0.BLOB||n===K0.FILE},kR=function(n){return n?{file:n.file,fileKey:n.fileKey,fileType:n.fileType,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}:null},CR=we(we({},gT),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),NR=function(n){return bT(n)&&(Ri(n.file)||Ee("string",n.fileUrl))&&Ee("string",n.fileName,!0)&&Ee("string",n.mimeType,!0)&&Ee("number",n.fileSize,!0)&&(n.thumbnailSizes===null||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(t){return Ee("object",t)&&t.maxWidth>0&&t.maxHeight>0}))};(function(n){n.MUTED="muted",n.BANNED="banned"})(_4||(_4={}));var f_,IR=function(){function n(t){var e,r,a,l;this.restrictionType=null,this.description=null,this.endAt=-1,this.remainingDuration=-1,yt(_4,t.restriction_type)&&(this.restrictionType=t.restriction_type),this.description=(e=t.description)!==null&&e!==void 0?e:null,this.endAt=(a=(r=t.end_at)!==null&&r!==void 0?r:t.muted_end_at)!==null&&a!==void 0?a:-1,this.remainingDuration=(l=t.remaining_duration)!==null&&l!==void 0?l:-1}return n.payloadify=function(t){return t?st({restriction_type:t.restrictionType,description:t.description,end_at:t.endAt,remaining_duration:t.remainingDuration}):null},n}(),hh=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.restrictionInfo=null,a.restrictionInfo=new IR(r),a}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),IR.payloadify(e.restrictionInfo))):null},t}(It),yT={data:null,customType:null,mentionType:Ji.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},ET=function(n){return Ee("string",n.data,!0)&&Ee("string",n.customType,!0)&&yt(Ji,n.mentionType)&&St("string",n.mentionedUserIds,!0)&&St(It,n.mentionedUsers,!0)&&Ee("string",n.mentionedMessageTemplate,!0)&&St(Ka,n.metaArrays,!0)&&yt(Iu,n.pushNotificationDeliveryOption,!0)&&Ee(kl,n.appleCriticalAlertOptions,!0)},l9=we(we({},yT),{message:null,translationTargetLanguages:null,pollId:null}),c9=function(n){return ET(n)&&Ee("string",n.message,!0)&&St("string",n.translationTargetLanguages,!0)&&Ee("number",n.pollId,!0)},hce=we({},yT),pce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.token,u=e.limit,h=n.call(this)||this;return h.method=dn.GET,h.path="".concat(Yt(a),"/").concat(encodeURIComponent(r),"/operators"),h.params={token:l,limit:u},h}return re(t,n),t}(hn),fce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.operators=r.operators.map(function(l){return new It(e,l)}),a.token=r.next,a}return re(t,n),t}(mn),_ce=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Ne.of(this._iid).requestQueue,a=new pce(we(we({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(a)]):[3,2]):[3,5];case 1:return l=m.sent(),u=l.as(fce),h=u.operators,f=u.token,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,e];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),mce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.limit,h=e.token;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/mute"),r.params={limit:u,token:h},r}return re(t,n),t}(hn),vce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.mutedUsers=[];var l=r.next,u=r.muted_list;return a.token=l,u&&u.length>0&&(a.mutedUsers=u.map(function(h){return new hh(e,h)})),a}return re(t,n),t}(mn),gce=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new mce(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(vce),u=l.mutedUsers,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),bce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.limit,h=e.token;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/ban"),r.params=st({limit:u,token:h}),r}return re(t,n),t}(hn),yce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.bannedUsers=[];var l=r.next,u=r.banned_list;return a.token=l,u&&u.length>0&&(a.bannedUsers=u.map(function(h){return new hh(e,h.user)})),a}return re(t,n),t}(mn),Ece=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new bce(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(yce),u=l.bannedUsers,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc);(function(n){n.SPAM="spam",n.HARASSING="harassing",n.SUSPICIOUS="suspicious",n.INAPPROPRIATE="inappropriate"})(f_||(f_={}));var wce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.operatorUserIds;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:u},r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var xce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.operatorUserIds;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:u},r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var Sce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.userId;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/mute/").concat(u),r}return re(t,n),t}(hn),Tce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.isMuted=!1,a.startAt=null,a.endAt=null,a.remainingDuration=null,a.description=null;var l=r.is_muted,u=r.start_at,h=r.end_at,f=r.remaining_duration,m=r.description;return a.isMuted=l,a.startAt=u,a.endAt=h,a.remainingDuration=f,a.description=m,a}return re(t,n),t}(mn),AR=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.keys;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={keys:u,include_ts:!0},r}return re(t,n),t}(hn),OR=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var l=r.metadata,u=r.ts;return a.metadata=l,a.ts=u??null,a}return re(t,n),t}(mn),kce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.metadata;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:u,include_ts:!0},r}return re(t,n),t}(hn),Cce=function(n){function t(e,r){var a,l,u=this;return(u=n.call(this,e,r)||this).metaData=(a=r.metadata)!==null&&a!==void 0?a:{},u.ts=(l=r.ts)!==null&&l!==void 0?l:null,u}return re(t,n),t}(mn),Nce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.metadata,h=e.upsert;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:u,include_ts:!0,upsert:h!=null&&h},r}return re(t,n),t}(hn),Ice=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var l=r.metadata,u=r.ts;return a.metadata=l,a.ts=u??null,a}return re(t,n),t}(mn),u9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.created=null,l.updated=null,l.deleted=null,a.data&&(l.created=a.data.created,l.updated=a.data.updated,l.deleted=a.data.deleted),l}return re(t,n),t}(_r),Ace=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.key;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metadata/").concat(u),r.params={include_ts:!0},r}return re(t,n),t}(hn),Oce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var l=r.ts;return a.ts=l??null,a}return re(t,n),t}(mn),Rce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={include_ts:!0},r}return re(t,n),t}(hn),Mce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var l=r.ts;return a.ts=l??null,a}return re(t,n),t}(mn),RR=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.keys;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={keys:u},r}return re(t,n),t}(hn),MR=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(mn),Dce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.metaCounter;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:u},r}return re(t,n),t}(hn),Lce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(mn),Lw=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.metaCounter,h=e.upsert,f=h!==void 0&&h,m=e.mode,g=m===void 0?"set":m;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:u,upsert:f,mode:g},r}return re(t,n),t}(hn),Uw=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(mn),d9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.created=null,l.updated=null,l.deleted=null,a.data&&(l.created=a.data.created,l.updated=a.data.updated,l.deleted=a.data.deleted),l}return re(t,n),t}(_r),Uce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.key;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metacounter/").concat(u),r.params=null,r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var Pce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params=null,r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var Fce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/mute"),r.params={user_id:u,seconds:h,description:f},r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var h9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new hh(e,a.data),l}return re(t,n),t}(_r),Hce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.userId;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/mute/").concat(encodeURIComponent(u)),r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var p9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new hh(e,a.data),l}return re(t,n),t}(_r),Bce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/ban"),r.params=st({user_id:u,seconds:h,description:f}),r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var f9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.memberCount=null,l.joinedMemberCount=null,l.user=new hh(e,a.data),a.data.member_count&&(l.memberCount=a.data.member_count),a.data.joined_member_count&&(l.joinedMemberCount=a.data.joined_member_count),l}return re(t,n),t}(_r),Vce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.userId;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/ban/").concat(encodeURIComponent(u)),r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var _9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new hh(e,a.data),l}return re(t,n),t}(_r),DR=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.freezing;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(Yt(l),"/").concat(encodeURIComponent(a),"/freeze"),r.params={freeze:u},r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var m9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.freeze=a.data.freeze,l}return re(t,n),t}(_r),zce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.category,h=e.userId,f=e.description;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(KP(l),"/").concat(encodeURIComponent(a)),r.params={report_category:u,reporting_user_id:h,report_description:f},r}return re(t,n),t}(hn),$ce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.category,h=e.userId,f=e.offendingUserId,m=e.description;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(u4,"/users/").concat(f),r.params={channel_url:a,channel_type:l===rr.OPEN?"open_channels":"group_channels",report_category:u,reporting_user_id:h,report_description:m},r}return re(t,n),t}(hn),qce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,u=e.category,h=e.userId,f=e.offendingUserId,m=e.messageId,g=e.description;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(KP(l),"/").concat(encodeURIComponent(a),"/messages/").concat(m),r.params={report_category:u,reporting_user_id:h,report_description:g,offending_user_id:f},r}return re(t,n),t}(hn),Gce=function(n){function t(e){var r=[];return e.mentionType===Ji.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"MESG",ackRequired:!0,payload:st({channel_url:e.channelUrl,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Iu.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage})})||this}return re(t,n),t}(es),wT=function(n){function t(e,r,a){var l,u,h,f=this;(f=n.call(this,e,"MESG",a)||this).message=new Yi(e,a);var m=Ne.of(e).sdkState;return f.isMentioned=G0(f.message.mentionType,(l=f.message.mentionedUserIds)!==null&&l!==void 0?l:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(g){return g.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return re(t,n),t}(_r),LR=function(n){function t(e){var r,a=null;return e.mentionType===Ji.USERS&&(e.mentionedUserIds?a=e.mentionedUserIds:e.mentionedUsers&&(a=e.mentionedUsers.map(function(l){return l.userId}))),n.call(this,{code:"MEDI",ackRequired:!0,payload:st({channel_url:e.channelUrl,msg_id:e.messageId,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:a,mentioned_message_template:e.mentionedMessageTemplate,apple_critical_alert_options:(r=e.appleCriticalAlertOptions)===null||r===void 0?void 0:r.serialize(),poll_id:e.pollId})})||this}return re(t,n),t}(es),Yb=function(n){function t(e,r,a){var l,u,h,f,m,g,x=this;(x=n.call(this,e,"MEDI",a)||this).message=new Yi(e,a);var E=Ne.of(e).sdkState;return x.mentionCountChange=hT({mentionType:(u=(l=a.old_values)===null||l===void 0?void 0:l.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:x.message.mentionType,mentionedUserIds:(m=x.message.mentionedUserIds)!==null&&m!==void 0?m:(g=x.message.mentionedUsers)===null||g===void 0?void 0:g.map(function(w){return w.userId})},E.userId),x}return re(t,n),t}(_r),UR=function(n){function t(e){var r=null;return e.mentionType===Ji.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"FEDI",ackRequired:!0,payload:st({channel_url:e.channelUrl,msg_id:e.messageId,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,apple_critical_alert_options:e.appleCriticalAlertOptions})})||this}return re(t,n),t}(es),Xb=function(n){function t(e,r,a){var l,u,h,f,m,g,x=this;(x=n.call(this,e,"FEDI",a)||this).message=new ii(e,a);var E=Ne.of(e).sdkState;return x.mentionCountChange=hT({mentionType:(u=(l=a.old_values)===null||l===void 0?void 0:l.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:x.message.mentionType,mentionedUserIds:(m=x.message.mentionedUserIds)!==null&&m!==void 0?m:(g=x.message.mentionedUsers)===null||g===void 0?void 0:g.map(function(w){return w.userId})},E.userId),x}return re(t,n),t}(_r),jce=function(n){function t(e){var r=n.call(this)||this;return r.method=dn.DELETE,r.path="".concat(Yt(e.channelType),"/").concat(e.channelUrl,"/messages/").concat(e.messageId),r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var v9=function(n){function t(e,r,a){var l=n.call(this,e,"DELM",a)||this;return l.channelUrl=a.channel_url,l.channelType=a.channel_type,l.messageId=Number(a.msg_id),l}return re(t,n),t}(_r),Kce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=e.reactionKey,h=n.call(this)||this;return h.method=dn.POST,h.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/reactions"),h.params={reaction:u},h}return re(t,n),t}(hn),Wce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new _T(r),a}return re(t,n),t}(mn),Qce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=e.reactionKey,h=n.call(this)||this;return h.method=dn.DELETE,h.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/reactions"),h.params={reaction:u},h}return re(t,n),t}(hn),Yce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new _T(we({},r)),a}return re(t,n),t}(mn),Xce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=e.translationTargetLanguages,h=n.call(this)||this;return h.method=dn.POST,h.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(l),"/translation"),h.params={target_langs:u},h}return re(t,n),t}(hn),Zce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Yi(e,r),a}return re(t,n),t}(mn),Jce=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===Ji.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(f){return f.userId})));var u=e.channelType,h=e.channelUrl;return a.method=dn.POST,a.path="".concat(Yt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:q0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return Ka.payloadify(f)}),apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption},a}return re(t,n),t}(hn),g9=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Yi(e,r),a}return re(t,n),t}(mn),eue=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===Ji.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(f){return f.userId})));var u=e.channelType,h=e.channelUrl;return a.method=dn.POST,a.path="".concat(Yt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:q0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(f){return L1.payloadify(f)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return Ka.payloadify(f)}),apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption},a}return re(t,n),t}(hn),nue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ii(e,r),a}return re(t,n),t}(mn),tue=function(n){function t(e){var r=e.pollId,a=e.title,l=e.data,u=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=dn.PUT,m.path="".concat(Go,"/").concat(encodeURIComponent(r)),m.params={title:a,data:l,allow_user_suggestion:u,allow_multiple_votes:h,close_at:f},m}return re(t,n),t}(hn),rue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),iue=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=dn.DELETE,a.path="".concat(Go,"/").concat(encodeURIComponent(r)),a}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var aue=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=dn.PUT,a.path="".concat(Go,"/").concat(encodeURIComponent(r),"/close"),a}return re(t,n),t}(hn),sue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),oue=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,u=e.optionText,h=n.call(this)||this;return h.method=dn.POST,h.path="".concat(Go,"/").concat(encodeURIComponent(l),"/options"),h.params={channel_url:r,channel_type:a,text:u},h}return re(t,n),t}(hn),lue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),cue=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,l=e.optionText,u=n.call(this)||this;return u.method=dn.PUT,u.path="".concat(Go,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),u.params={text:l},u}return re(t,n),t}(hn),uue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new mo(e,r),a}return re(t,n),t}(mn),due=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Go,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var hue=function(n){function t(e){var r=e.reqId,a=e.channelType,l=e.channelUrl,u=e.pollId,h=e.pollOptionIds;return n.call(this,{code:"VOTE",ackRequired:!0,payload:st({req_id:r,channel_type:a===rr.OPEN?"open_channels":"group_channels",channel_url:l,poll_id:u,option_ids:h})})||this}return re(t,n),t}(es),xT=function(n){function t(e,r,a){var l=n.call(this,e,"VOTE",a)||this;return l.event=null,l.channelUrl=null,l.channelType=null,l.event=new tce(a),l.channelUrl=a.channel_url,l.channelType=a.channel_type,l}return re(t,n),t}(_r),pue=2,v4=function(n){function t(e,r){var a,l,u,h,f=this;return(f=n.call(this,e)||this).url="",f.channelType=rr.BASE,f.name="",f.coverUrl="",f.customType="",f.data="",f.isFrozen=!1,f.isEphemeral=!1,f.creator=null,f.createdAt=0,f._messageCollectionLastAccessedAt=0,f.url=r.channel_url,f.name=(a=r.name)!==null&&a!==void 0?a:"",f.coverUrl=(l=r.cover_url)!==null&&l!==void 0?l:"",f.customType=(u=r.custom_type)!==null&&u!==void 0?u:"",f.data=(h=r.data)!==null&&h!==void 0?h:"",f.isFrozen=!!Ee("boolean",r.freeze)&&r.freeze,f.isEphemeral=!!Ee("boolean",r.is_ephemeral)&&r.is_ephemeral,f.creator=r.created_by?new It(f._iid,r.created_by):null,f.createdAt=1e3*r.created_at,f._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(m){f._cachedMetaData.set(m,{value:r.metadata[m],isRemoved:!1,updatedAt:r.ts})}),f}return re(t,n),t.payloadify=function(e){return st(we(we({},n.payloadify.call(this,e)),{channel_url:e.url,name:e.name,cover_url:e.coverUrl,custom_type:e.customType,data:e.data,freeze:e.isFrozen,is_ephemeral:e.isEphemeral,created_by:It.payloadify(e.creator),created_at:e.createdAt/1e3}))},t.prototype.isGroupChannel=function(){return this.channelType===rr.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===rr.OPEN},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData.forEach(function(r,a){r.isRemoved||(e[a]=r.value)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._upsertCachedMetaData=function(e,r){var a=this;Object.keys(e).forEach(function(l){var u=a._cachedMetaData.get(l);(!u||u.updatedAt<=r)&&a._cachedMetaData.set(l,{value:e[l],isRemoved:!1,updatedAt:r})})},t.prototype._removeFromCachedMetaData=function(e,r){var a=this;e.forEach(function(l){var u=a._cachedMetaData.get(l);u&&u.updatedAt<r&&(u.isRemoved=!1,u.updatedAt=r)})},t.prototype._generateRequestId=function(){return"rq-".concat(Uu())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return fP(this,e)},t.prototype.createOperatorListQuery=function(e){return e===void 0&&(e={}),new _ce(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return e===void 0&&(e={}),new gce(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return e===void 0&&(e={}),new Ece(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return e===void 0&&(e={}),new Vle(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(St("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new wce({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.removeOperators=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(St("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new xce({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.getMyMutedInfo=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E;return F(this,function(w){switch(w.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Sce({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,a.send(l)];case 1:return u=w.sent(),h=u.as(Tce),f=h.isMuted,m=h.startAt,g=h.endAt,x=h.remainingDuration,E=h.description,[2,{isMuted:f,startAt:m,endAt:g,remainingDuration:x,description:E}]}})})},t.prototype.getMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(St("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new AR({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return l=m.sent(),u=l.as(OR),h=u.metadata,f=u.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},t.prototype.getAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new AR({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(OR),u=l.metadata,h=l.ts,this._upsertCachedMetaData(u,h),[2,u]}})})},t.prototype.createMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,u;return F(this,function(h){switch(h.label){case 0:return r=Ne.of(this._iid).requestQueue,a=new kce({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,r.send(a)];case 1:return l=h.sent(),u=l.as(Cce).metaData,this._upsertCachedMetaData(u,0),[2,u]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return a=Ne.of(this._iid).requestQueue,l=new Nce({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:r}),[4,a.send(l)];case 1:return u=g.sent(),h=u.as(Ice),f=h.metadata,m=h.ts,this._upsertCachedMetaData(f,m),[2,f]}})})},t.prototype.deleteMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new Ace({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return l=h.sent(),u=l.as(Oce).ts,this._removeFromCachedMetaData([e],u),[2]}})})},t.prototype.deleteAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Rce({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a=u.sent(),l=a.as(Mce).ts,this._removeFromCachedMetaData(et([],Qn(this._cachedMetaData.keys()),!1),l),[2]}})})},t.prototype.getMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(St("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new RR({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(MR).metaCounter]}})})},t.prototype.getAllMetaCounters=function(){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new RR({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(MR).metaCounter]}})})},t.prototype.createMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return r=Ne.of(this._iid).requestQueue,a=new Dce({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(Lce).metaCounter]}})})},t.prototype.updateMetaCounters=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return a=Ne.of(this._iid).requestQueue,l=new Lw({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:r}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(Uw).metaCounter]}})})},t.prototype.increaseMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return r=Ne.of(this._iid).requestQueue,a=new Lw({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(Uw).metaCounter]}})})},t.prototype.decreaseMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return r=Ne.of(this._iid).requestQueue,a=new Lw({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(Uw).metaCounter]}})})},t.prototype.deleteMetaCounter=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new Uce({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.deleteAllMetaCounters=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Pce({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.muteUser=function(e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){return[2,this.muteUserWithUserId(e.userId,r,a)]})})},t.prototype.muteUserWithUserId=function(e,r,a){return H(this,void 0,void 0,function(){var l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("string",e)&&Ee("number",r,!0)&&Ee("string",a,!0)).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new Fce({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,l.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.unmuteUser=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this.unmuteUserWithUserId(e.userId)]})})},t.prototype.unmuteUserWithUserId=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new Hce({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.banUser=function(e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){return[2,this.banUserWithUserId(e.userId,r,a)]})})},t.prototype.banUserWithUserId=function(e,r,a){return H(this,void 0,void 0,function(){var l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("string",e)&&Ee("number",r,!0)&&Ee("string",a,!0)).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new Bce({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,l.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.unbanUser=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this.unbanUserWithUserId(e.userId)]})})},t.prototype.unbanUserWithUserId=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new Vce({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.freeze=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new DR({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!0,[2]}})})},t.prototype.unfreeze=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new DR({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!1,[2]}})})},t.prototype.getMessagesByMessageId=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},p_),r),_n(Ee("number",e)&&yR(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},p_),r),_n(Ee("number",e)&&yR(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},f4),r),_n(Ee("number",e)&&ER(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessageChangeLogsSinceToken=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},f4),r),_n(Ee("string",e)&&ER(a)).throw(Ue.invalidParameters),[4,zi.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype._createPendingSendableMessagePayload=function(e,r,a){var l=Ne.of(this._iid).sessionManager;return st({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map(function(u){return Ka.payloadify(u)}):null,apple_critical_alert_options:e.appleCriticalAlertOptions?kl.payloadify(e.appleCriticalAlertOptions):null,created_at:a,user:q_.payloadify(l.currentUser),req_id:r,request_state:Rr.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:e.mentionedUsers})},t.prototype._createPendingUserMessage=function(e,r,a){var l,u,h={};if(e.translationTargetLanguages)try{for(var f=Cn(e.translationTargetLanguages),m=f.next();!m.done;m=f.next())h[m.value]=""}catch(E){l={error:E}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(l)throw l.error}}var g=st(we(we({},this._createPendingSendableMessagePayload(e,r,a)),{type:Jr.USER,message:e.message,translations:h})),x=new Yi(this._iid,g);return x.messageParams=e,x},t.prototype._createPendingScheduledUserMessage=function(e,r,a){var l=this._createPendingUserMessage(e,r,a);return l.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},l},t.prototype._createPendingFileMessage=function(e,r,a){var l=st(we(we({},this._createPendingSendableMessagePayload(e,r,a)),{type:Jr.FILE,url:e.fileUrl,file:{name:e.fileName,size:e.fileSize,type:e.mimeType,data:e.data},thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(h){return{url:"",width:h.maxWidth,height:h.maxHeight}}):[]})),u=new ii(this._iid,l);return u.messageParams=e,u},t.prototype._createPendingScheduledFileMessage=function(e,r,a){var l=this._createPendingFileMessage(e,r,a);return l.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},l},t.prototype._markMessageAsFailed=function(e,r,a){a===void 0&&(a=!1),e.errorCode=r.code,r.code===Nt.REQUEST_CANCELED?e.sendingStatus=Rr.CANCELED:a||(e.sendingStatus=Rr.FAILED)},t.prototype.sendUserMessage=function(e){var r=we(we({},s9),e);return _n(o9(r)).throw(Ue.invalidParameters),this._sendUserMessage(r)},t.prototype._sendUserMessage=function(e,r){var a=this;r===void 0&&(r=null);var l=Ne.of(this._iid),u=l.dispatcher,h=l.requestQueue,f=r,m=Date.now(),g=new sc;f||(f=this._generateRequestId(),Fo(2).then(function(){var E=a._createPendingUserMessage(e,f,m);u.dispatch(new ri({messages:[E],source:dt.EVENT_MESSAGE_SENT_PENDING})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(w){return[2,g._trigger(null,E)]})})})}));var x=new Gce(we(we({},e),{channelUrl:this.url,channelType:this.channelType,reqId:f}));return h.send(x).then(function(E){var w=E.as(wT).message;u.dispatch(new ri({messages:[w],source:dt.EVENT_MESSAGE_SENT_SUCCESS})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(T){return[2,g._trigger(null,w)]})})})}).catch(function(E){if(El(E))throw E;Fo(2).then(function(){var w=a._createPendingUserMessage(e,f,m),T=Ne.of(a._iid).cacheContext.localCacheEnabled&&zb(E.code);a._markMessageAsFailed(w,E,T),u.dispatch(new ri({messages:[w],source:w.sendingStatus===Rr.PENDING?dt.REQUEST_RESEND_MESSAGE:dt.EVENT_MESSAGE_SENT_FAILED})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(A){return[2,g._trigger(E,w)]})})})})}),g},t.prototype._autoResendUserMessage=function(e){return _n(e instanceof Yi).throw(Ue.invalidParameters),this._sendUserMessage(e.messageParams,e.reqId)},t.prototype.resendUserMessage=function(e){var r;return H(this,void 0,void 0,function(){var a,l;return F(this,function(u){return _n(e instanceof Yi&&!e.scheduledInfo).throw(Ue.invalidParameters),a=new Wa,l=(r=e.messageParams)!==null&&r!==void 0?r:function(h){var f;return st({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate,metaArrays:h.metaArrays,pollId:(f=h.poll)===null||f===void 0?void 0:f.id,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,message:h.message,translationTargetLanguages:Object.keys(h.translations)})}(e),this._sendUserMessage(l,e.reqId).onFailed(function(h){return a.reject(h)}).onSucceeded(function(h){return a.resolve(h)}),[2,a.promise]})})},t.prototype.updateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return a=we(we({},l9),r),_n(Ee("number",e)&&c9(a)).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new LR(we({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,l.send(u)];case 1:return h=f.sent(),[2,h.as(Yb).message]}})})},t.prototype.copyUserMessage=function(e,r){var a,l,u;return H(this,void 0,void 0,function(){var h,f;return F(this,function(m){return _n(e instanceof t&&r instanceof Yi&&r.sendingStatus===Rr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Ue.invalidParameters),_n(!r.poll).throw(Ue.notSupportedError),h=new Wa,f=(a=r.messageParams)!==null&&a!==void 0?a:we(we({},r),{mentionType:r.mentionType,mentionedUserIds:(l=r.mentionedUserIds)!==null&&l!==void 0?l:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(g){return g.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Iu.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),e._sendUserMessage(f).onSucceeded(function(g){h.resolve(g)}).onFailed(function(g){return h.reject(g)}),[2,h.promise]})})},t.prototype.translateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof Yi&&e.messageId>0&&St("string",r)).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new Xce({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:r}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(Zce).message]}})})},t.prototype._createScheduledUserMessage=function(e,r){var a=this,l=Ne.of(this._iid).requestQueue,u=Date.now(),h=this._generateRequestId();Fo(2).then(function(){var m=a._createPendingScheduledUserMessage(e,h,u);zn(function(){return H(a,void 0,void 0,function(){return F(this,function(g){return[2,r._trigger(null,m)]})})})});var f=new Jce(we({reqId:h,channelType:this.channelType,channelUrl:this.url},e));l.send(f).then(function(m){var g=m.as(g9).message;zn(function(){return H(a,void 0,void 0,function(){return F(this,function(x){return[2,r._trigger(null,g)]})})})}).catch(function(m){if(El(m))throw m;Fo(2).then(function(){var g=a._createPendingScheduledUserMessage(e,h,u);a._markMessageAsFailed(g,m),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(x){return[2,r._trigger(m,g)]})})})})})},t.prototype.sendFileMessage=function(e){var r=we(we({},CR),e);return _n(NR(r)).throw(Ue.invalidParameters),this._sendFileMessage(r)},t.prototype._sendFileMessage=function(e,r){var a=this;r===void 0&&(r=null);var l=Ne.of(this._iid).dispatcher,u=zi.of(this._iid).fileMessageQueue,h=r,f=Date.now(),m=new sc;return h||(h=this._generateRequestId(),Fo(2).then(function(){var g=a._createPendingFileMessage(e,h,f);l.dispatch(new ri({messages:[g],source:dt.EVENT_MESSAGE_SENT_PENDING})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(x){return[2,m._trigger(null,g)]})})})})),u.request(this,h,e).then(function(g){l.dispatch(new ri({messages:[g],source:dt.EVENT_MESSAGE_SENT_SUCCESS})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(x){return[2,m._trigger(null,g)]})})})}).catch(function(g){if(El(g))throw g;Fo(2).then(function(){var x=a._createPendingFileMessage(e,h,f),E=Ne.of(a._iid).cacheContext.localCacheEnabled&&zb(g.code);a._markMessageAsFailed(x,g,E),l.dispatch(new ri({messages:[x],source:x.sendingStatus===Rr.PENDING?dt.REQUEST_RESEND_MESSAGE:dt.EVENT_MESSAGE_SENT_FAILED})),zn(function(){return H(a,void 0,void 0,function(){return F(this,function(w){return[2,m._trigger(g,x)]})})})})}),m},t.prototype._autoResendFileMessage=function(e){_n(e instanceof ii).throw(Ue.invalidParameters);var r=Ne.of(this._iid).logger;return r.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,e.reqId).onFailed(function(a){r.debug("autoResendFileMessage failed",a)}).onSucceeded(function(a){r.debug("autoResendFileMessage success",a)})},t.prototype._createScheduledFileMessage=function(e,r,a,l){var u=this,h=Ne.of(this._iid).requestQueue,f=new eue(we(we({reqId:a,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));h.send(f).then(function(m){var g=m.as(nue).message;zn(function(){return H(u,void 0,void 0,function(){return F(this,function(x){return[2,r._trigger(null,g)]})})})}).catch(function(m){if(El(m))throw m;Fo(2).then(function(){var g=u._createPendingScheduledFileMessage(e,a,l);u._markMessageAsFailed(g,m),zn(function(){return H(u,void 0,void 0,function(){return F(this,function(x){return[2,r._trigger(m,g)]})})})})})},t.prototype.sendFileMessages=function(e){var r,a;_n(e.every(function(m){return NR(we(we({},CR),m))})).throw(Ue.invalidParameters);var l=new sc;try{for(var u=Cn(e),h=u.next();!h.done;h=u.next()){var f=h.value;this.sendFileMessage(f).onPending(function(m){return l._trigger(null,m)}).onFailed(function(m,g){return l._trigger(m,g)}).onSucceeded(function(m){return l._trigger(null,m)})}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return l},t.prototype.resendFileMessage=function(e,r){var a;return H(this,void 0,void 0,function(){var l,u,h;return F(this,function(f){return l=!!e.url||Ri(r)||Ri((a=e.messageParams)===null||a===void 0?void 0:a.file),_n(e instanceof ii&&l&&!e.scheduledInfo).throw(Ue.invalidParameters),u=new Wa,h=function(m,g){var x;return g===void 0&&(g=null),m.messageParams?(!m.url&&Ri(g)&&(m.messageParams.file=g),m.messageParams):st({data:m.data,customType:m.customType,mentionType:m.mentionType,mentionedUsers:m.mentionedUsers,mentionedUserIds:m.mentionedUserIds,metaArrays:m.metaArrays,parentMessageId:m.parentMessageId,appleCriticalAlertOptions:m.appleCriticalAlertOptions,file:g??((x=m.messageParams)===null||x===void 0?void 0:x.file),fileUrl:m.url,fileName:m.name,fileSize:m.size,mimeType:m.type,thumbnailSizes:m.thumbnails.map(function(E){return{maxWidth:E.width,maxHeight:E.height}})})}(e,r),this._sendFileMessage(h,e.reqId).onFailed(function(m){return u.reject(m)}).onSucceeded(function(m){return u.resolve(m)}),[2,u.promise]})})},t.prototype.updateFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return a=we(we({},hce),r),_n(Ee("number",e)&&function(m){return ET(m)}(a)).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new UR(we({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,l.send(u)];case 1:return h=f.sent(),[2,h.as(Xb).message]}})})},t.prototype.cancelUploadingFileMessage=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(Ee("string",e)).throw(Ue.invalidParameters),zi.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]})})},t.prototype.copyFileMessage=function(e,r){var a,l;return H(this,void 0,void 0,function(){var u,h;return F(this,function(f){return _n(e instanceof t&&r instanceof ii&&r.sendingStatus===Rr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Ue.invalidParameters),u=new Wa,h=we(we({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(a=r.mentionedUserIds)!==null&&a!==void 0?a:(l=r.mentionedUsers)===null||l===void 0?void 0:l.map(function(m){return m.userId}),pushNotificationDeliveryOption:Iu.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(m){return{maxWidth:m.width,maxHeight:m.height}}),requireAuth:r.requireAuth,isPinnedMessage:!1}),e._sendFileMessage(h).onSucceeded(function(m){return u.resolve(m)}).onFailed(function(m){return u.reject(m)}),[2,u.promise]})})},t.prototype.deleteMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(e instanceof ec).throw(Ue.invalidParameters),e.messageId>0?(r=Ne.of(this._iid).requestQueue,a=new jce({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId}),[4,r.send(a)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},t.prototype.addReaction=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof ec&&e.messageId>0&&Ee("string",r)).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new Kce({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(Wce).reactionEvent]}})})},t.prototype.deleteReaction=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof ec&&e.messageId>0&&Ee("string",r)).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new Qce({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(Yce).reactionEvent]}})})},t.prototype._updateUserMessageMetaArray=function(e,r,a,l){return H(this,void 0,void 0,function(){var u,h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:return u=Ne.of(this._iid),h=u.dispatcher,f=u.requestQueue,m=new LR({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:l}}),[4,f.send(m)];case 1:return g=E.sent(),x=g.as(Yb).message,h.dispatch(new ri({messages:[x],source:dt.EVENT_MESSAGE_UPDATED})),[2,x]}})})},t.prototype._updateFileMessageMetaArray=function(e,r,a,l){return H(this,void 0,void 0,function(){var u,h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:return u=Ne.of(this._iid),h=u.dispatcher,f=u.requestQueue,m=new UR({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:l}}),[4,f.send(m)];case 1:return g=E.sent(),x=g.as(Xb).message,h.dispatch(new ri({messages:[x],source:dt.EVENT_MESSAGE_UPDATED})),[2,x]}})})},t.prototype.createMessageMetaArrayKeys=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return _n(e instanceof ec&&e.messageId>0&&St("string",r)).throw(Ue.invalidParameters),a=r.map(function(u){return new Ka({key:u})}),e instanceof ii?[2,this._updateFileMessageMetaArray(e.messageId,a,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"add",!0)]})})},t.prototype.deleteMessageMetaArrayKeys=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return _n(e instanceof ec&&e.messageId>0&&St("string",r)).throw(Ue.invalidParameters),a=r.map(function(u){return new Ka({key:u})}),e instanceof ii?[2,this._updateFileMessageMetaArray(e.messageId,a,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"remove",!0)]})})},t.prototype.addMessageMetaArrayValues=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){return _n(e instanceof ec&&e.messageId>0&&r.every(function(l){return l instanceof Ka})).throw(Ue.invalidParameters),e instanceof ii?[2,this._updateFileMessageMetaArray(e.messageId,r,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"add",!0)]})})},t.prototype.removeMessageMetaArrayValues=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){return _n(e instanceof ec&&e.messageId>0&&r.every(function(l){return l instanceof Ka})).throw(Ue.invalidParameters),e instanceof ii?[2,this._updateFileMessageMetaArray(e.messageId,r,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"remove",!0)]})})},t.prototype.report=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return _n(yt(f_,e)&&Ee("string",r)).throw(Ue.invalidParameters),a=Ne.of(this._iid),l=a.sdkState,u=a.requestQueue,h=new zce({channelUrl:this.url,channelType:this.channelType,userId:l.userId,category:e,description:r}),[4,u.send(h)];case 1:return f.sent(),[2]}})})},t.prototype.reportUser=function(e,r,a){return H(this,void 0,void 0,function(){var l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(e instanceof It&&yt(f_,r)&&Ee("string",a)).throw(Ue.invalidParameters),l=Ne.of(this._iid),u=l.sdkState,h=l.requestQueue,f=new $ce({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:e.userId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.reportMessage=function(e,r,a){return H(this,void 0,void 0,function(){var l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(e instanceof Ai&&yt(f_,r)&&Ee("string",a)).throw(Ue.invalidParameters),l=Ne.of(this._iid),u=l.sdkState,h=l.requestQueue,f=new qce({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.updatePoll=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("number",e)&&function(f){return Ee("string",f.title,!0)&&jP(f.data)&&Ee("boolean",f.allowUserSuggestion,!0)&&Ee("boolean",f.allowMultipleVotes,!0)&&Ee("number",f.closeAt,!0)}(r)).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new tue(we({pollId:e},r)),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(rue).poll]}})})},t.prototype.deletePoll=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return r=Ee("number",e),_n(r).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new iue({pollId:e}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},t.prototype.closePoll=function(e){return H(this,void 0,void 0,function(){var r,a,l,u;return F(this,function(h){switch(h.label){case 0:return r=Ee("number",e),_n(r).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new aue({pollId:e}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(sue).poll]}})})},t.prototype.addPollOption=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return a=Ee("number",e)&&Ee("string",r)&&r.trim()!=="",_n(a).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new oue({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:r}),[4,l.send(u)];case 1:return h=f.sent(),[2,h.as(lue).poll]}})})},t.prototype.updatePollOption=function(e,r,a){return H(this,void 0,void 0,function(){var l,u,h,f;return F(this,function(m){switch(m.label){case 0:return l=Ee("number",e)&&Ee("number",r)&&Ee("string",a)&&a.trim()!=="",_n(l).throw(Ue.invalidParameters),u=Ne.of(this._iid).requestQueue,h=new cue({pollId:e,pollOptionId:r,optionText:a}),[4,u.send(h)];case 1:return f=m.sent(),[2,f.as(uue).poll]}})})},t.prototype.deletePollOption=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return a=Ee("number",e)&&Ee("number",r),_n(a).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new due({pollId:e,pollOptionId:r}),[4,l.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.votePoll=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return a=Ee("number",e)&&St("number",r),_n(a).throw(Ue.invalidParameters),l=Ne.of(this._iid),u=l.requestQueue,h=l.dispatcher,f=new hue({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:r}),[4,u.send(f)];case 1:return m=x.sent(),g=m.as(xT).event,h.dispatch(new D1({event:g,source:dt.EVENT_POLL_VOTED})),[2,g]}})})},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(Ee("number",e)).throw(Ue.invalidParameters),[4,Wb.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.getPollChangeLogsSinceToken=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(Ee("string",e,!0)),[4,Wb.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.createPollListQuery=function(e){return e===void 0&&(e=10),new n9(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,r,a){return a===void 0&&(a=20),new t9(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:r,limit:a})},t}($s),ci,__,g4;(function(n){n.LATEST_LAST_MESSAGE="latest_last_message",n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(ci||(ci={})),function(n){n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(__||(__={})),function(n){n.CREATED_AT="created_at",n.SCHEDULED_AT="scheduled_at"}(g4||(g4={}));var Qi,ib=function(n){switch(n){case ci.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case ci.CHRONOLOGICAL:return["-createdAt","syncIndex"];case ci.CHANNEL_NAME_ALPHABETICAL:return["name"]}},W0=function(){function n(){this.messageTypeFilter=Xi.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=La.NONE}return n.prototype.clone=function(){var t=new n,e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t){switch(this.messageTypeFilter){case Xi.USER:if(t.messageType!==Jr.USER)return!1;break;case Xi.FILE:if(t.messageType!==Jr.FILE)return!1;break;case Xi.ADMIN:if(t.messageType!==Jr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(t instanceof Ai)||!this.senderUserIdsFilter.includes(t.sender.userId)))return!1;switch(this.replyType){case La.NONE:if(t.parentMessageId>0)return!1;break;case La.ONLY_REPLY_TO_CHANNEL:if(t instanceof Ai&&t.parentMessageId>0&&!t.replyToChannel)return!1}return!0},n}();(function(n){n.CHANNEL_LATEST="channel_latest",n.NEWEST_CHILD_MESSAGE="newest_child_message"})(Qi||(Qi={}));var dc=function(n){switch(n){case Qi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Qi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},fc=typeof document<"u"&&typeof navigator<"u";fc&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var fue=fc&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");fc&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),fc&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),fc&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var m_,ua,_ue=fc&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),PR=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})};(function(n){n[n.PROCESSING=0]="PROCESSING",n[n.DONE=1]="DONE"})(m_||(m_={})),function(n){n.NEWNODE="newnode",n.REMOVENODE="removenode",n.CLAIM_HOST="claimhost",n.SYNC_HOST="synchost",n.REQUEST_LOCK="requestlock",n.ACQUIRE_LOCK="acquirelock",n.RELEASE_LOCK="releaselock"}(ua||(ua={}));var j_,Pw={},ST=function(){function n(t,e){e===void 0&&(e={});var r=this;return this._state=m_.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],Pw[t]&&!e.forceCreate||(this.nodeId=PR(),this.key=t,fc&&(e.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(a){var l,u,h=a.data,f=h.nodeId,m=h.requestId,g=h.key,x=h.op,E=h.data;if(f!==r.nodeId&&g===r.key)switch(x){case ua.NEWNODE:r._sendSync();break;case ua.CLAIM_HOST:r._sendSync(),r._hostId=f;break;case ua.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var w=E,T=w.currentItemRequestId,A=w.queue,P=function(D){var U=r._queue.findIndex(function(O){return O.requestId===D.requestId});U<0&&r._requestLock({nodeId:D.nodeId,requestId:D.requestId,key:r.key,op:ua.REQUEST_LOCK,ts:D.ts})};try{for(var C=Cn(A),k=C.next();!k.done;k=C.next())P(k.value)}catch(D){l={error:D}}finally{try{k&&!k.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}r._currentItem=r._queue.find(function(D){return D.requestId===T}),r._completeSync()}break;case ua.REMOVENODE:r._queue=r._queue.filter(function(D){return D.nodeId!==h.nodeId}),r._currentItem&&r._currentItem.nodeId===h.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case ua.REQUEST_LOCK:r._requestLock(h);break;case ua.ACQUIRE_LOCK:var I=r._queue.find(function(D){return D.requestId===m});r._acquire(I);break;case ua.RELEASE_LOCK:r._release(m)}}),window.addEventListener("beforeunload",function(){r._send(ua.REMOVENODE)})),Pw[t]=this),Pw[t]}return Object.defineProperty(n.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInSync",{get:function(){return this._state==m_.DONE},enumerable:!1,configurable:!0}),n.prototype._send=function(t,e){var r,a;e===void 0&&(e={});var l={nodeId:this.nodeId,requestId:(r=e==null?void 0:e.requestId)!==null&&r!==void 0?r:PR(),key:this.key,op:t,data:(a=e.data)!==null&&a!==void 0?a:null,ts:Date.now()};return fc&&window.postMessage(l,"*"),l},n.prototype._acquire=function(t){t===void 0&&(t=null),t?(this._currentItem=t,this._currentItem.onAcquired(t.requestId)):this._currentItem=null},n.prototype._release=function(t){if(this._currentItem&&this._currentItem.requestId===t){var e=this._currentItem;this._currentItem=null,e.nodeId===this.nodeId&&this._send(ua.RELEASE_LOCK,{requestId:e.requestId});var r=this._queue.findIndex(function(a){return a.requestId===t});r>-1&&this._queue.splice(r,1),e.onReleased(t)}},n.prototype._requestLock=function(t){var e=this;return new Promise(function(r){var a={nodeId:t.nodeId,requestId:t.requestId,ts:t.ts,onAcquired:function(h){e.isHost&&e._send(ua.ACQUIRE_LOCK,{requestId:h}),r()},onReleased:function(){e._acquire(e._queue[0])}},l=!1;for(var u in e._queue)if(e._queue[u].ts>a.ts){e._queue.splice(parseInt(u),0,a),l=!0;break}l||e._queue.push(a),e._currentItem||e._acquire(e._queue[0])})},n.prototype._sendSync=function(){var t;this.isHost&&this._send(ua.SYNC_HOST,{data:{currentItemRequestId:(t=this._currentItem)===null||t===void 0?void 0:t.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},n.prototype._waitUntilSyncCompleted=function(){return H(this,void 0,void 0,function(){var t=this;return F(this,function(e){return this.isHost&&!this.isInSync?[2,new Promise(function(r){t._activationQueue.push(r)})]:[2]})})},n.prototype._waitSync=function(){var t=this;this.isInSync||(this._activationTimeout=setTimeout(function(){t._completeSync()},8))},n.prototype._completeSync=function(){this.isInSync||(this._state=m_.DONE,this._activationQueue.forEach(function(t){return t()}),this._activationQueue=[])},n.prototype.registerNode=function(){this._send(ua.NEWNODE),this._waitSync()},n.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ua.CLAIM_HOST),this._waitSync()},n.prototype.lock=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return e.sent(),t=this._send(ua.REQUEST_LOCK),[4,this._requestLock(t)];case 2:return e.sent(),[2]}})})},n.prototype.unlock=function(){var t;this._release((t=this._currentItem)===null||t===void 0?void 0:t.requestId)},n}(),mue=we(we({},s9),{scheduledAt:null}),vue=function(n){return o9(n)&&Ee("number",n.scheduledAt,!0)},gue=we(we({},gT),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),bue=function(n){return bT(n)&&Ee("number",n.scheduledAt)&&(Ri(n.file)||Ee("string",n.fileUrl))&&Ee("string",n.fileName,!0)&&Ee("string",n.mimeType,!0)&&Ee("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes.every(function(t){return Ee("object",t)&&t.maxWidth>0&&t.maxHeight>0}))},b9="UnsentMessage",yue="reqId",FR={},TT=function(n){function t(e,r){var a=r.sdkState,l=r.cacheContext,u=n.call(this,e)||this;return u._sdkState=a,u._cacheContext=l,FR[e]=u,u._mutex=new ST("unsendmessagecache.lock"),u}return re(t,n),t.of=function(e){return FR[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e&&e.collection(b9)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw Ue.invalidParameters;var r,a=we({},e.serialize());return e instanceof Yi?(e.messageParams&&(a.messageParams=SR(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=(r=e.scheduledInfo.scheduledMessageParams,we(we({},SR(r)),{scheduledAt:r.scheduledAt})))):e instanceof ii&&(e.messageParams&&(a.messageParams=kR(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=function(l){return we(we({},kR(l)),{scheduledAt:l.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))),a},t.prototype._deserialize=function(e){return e?(e=we(we({},e),{messageId:parseInt(e.messageId)}),zi.of(this._iid).buildMessageFromSerializedData(e)):null},t.prototype._deserializeWithMessageCreateParams=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return r=zi.of(this._iid),a=this._deserialize(e),e.messageParams?a instanceof Yi?(l=e.messageParams,a.messageParams=r.buildUserMessageCreateParamsFromSerializedData(l,a),[3,4]):[3,1]:[3,4];case 1:return a instanceof ii?(l=e.messageParams).fileKey&&typeof l.fileKey=="string"&&TR(l.fileType)?(u=l,[4,this.collection.getBlob(l.fileKey)]):[3,3]:[3,4];case 2:u.file=m.sent(),m.label=3;case 3:a.messageParams=r.buildFileMessageCreateParamsFromSerializedData(l,a),m.label=4;case 4:return a.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?a instanceof Yi?(h=e.scheduledInfo.scheduledMessageParams,a.scheduledInfo.scheduledMessageParams=r.buildScheduledUserMessageCreateParamsFromSerializedData(h,a),[3,8]):[3,5]:[3,8];case 5:return a instanceof ii?(h=e.scheduledInfo.scheduledMessageParams).fileKey&&typeof h.fileKey=="string"&&TR(h.fileType)?(f=h,[4,this.collection.getBlob(h.fileKey)]):[3,7]:[3,8];case 6:f.file=m.sent(),m.label=7;case 7:a.scheduledInfo.scheduledMessageParams=r.buildScheduledFileMessageCreateParamsFromSerializedData(h,a),m.label=8;case 8:return[2,a]}})})},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserializeWithMessageCreateParams(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=r===void 0?null:r,l=e.filter,u=l===void 0?new W0:l,h=e.order,f=h===void 0?Qi.CHANNEL_LATEST:h,m=e.sendingStatus,g=m===void 0?null:m,x=e.backward,E=x!==void 0&&x,w=e.parentMessageId,T=w===void 0?null:w;return H(this,void 0,void 0,function(){var A,P,C,k,I=this;return F(this,function(D){switch(D.label){case 0:return this.localCacheEnabled?(A=dc(f),P={"/where":function(U){return!!(f!==Qi.NEWEST_CHILD_MESSAGE||T&&U.parentMessageId!==0&&U.parentMessageId===T)&&u.match(I._deserialize(U))}},a&&(P.channelUrl=a),g&&(P.sendingStatus=g),C={where:P,index:A,backward:E},[4,this.collection.query(C)]):[3,3];case 1:return[4,D.sent().fetch({})];case 2:return k=D.sent(),[2,Promise.all(k.map(function(U){return H(I,void 0,void 0,function(){return F(this,function(O){switch(O.label){case 0:return[4,this._deserializeWithMessageCreateParams(U)];case 1:return[2,O.sent()]}})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new W0),H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this.fetch({filter:r,order:Qi.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var u;return F(this,function(h){switch(h.label){case 0:return l instanceof ii?[4,this._mutex.lock()]:[3,4];case 1:return h.sent(),[4,this.saveBlob(l)];case 2:return h.sent(),[4,this._mutex.unlock()];case 3:h.sent(),h.label=4;case 4:return u=this._serialize(l),[4,this.collection.upsertOne(u)];case 5:return h.sent(),[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.upsertChildMessages=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var u,h;return F(this,function(f){switch(f.label){case 0:return u=[],((h=l.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(l)]:[3,2];case 1:u=f.sent(),f.label=2;case 2:return u.length>0?(u.forEach(function(m){return m.applyParentMessage(l)}),[4,this.upsert(u)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=Cn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(l=a.value,[4,this.collection.remove(l)]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return u=m.sent(),h={error:u},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.saveBlob=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return e instanceof ii?e.messageParams&&(r=e.messageParams).file&&m4(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,2]:[3,4];case 1:l=u.sent(),r.fileKey=l,r.fileType=K0.BLOB,u.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a=e.scheduledInfo.scheduledMessageParams).file&&m4(a.file)?[4,this.collection.saveBlob(a.file,e.reqId)]:[3,4];case 3:l=u.sent(),a.fileKey=l,a.fileType=K0.BLOB,u.label=4;case 4:return[2]}})})},t}($s),HR={},y9=function(n){function t(e,r){var a=r.sdkState,l=r.cacheContext,u=r.unsentMessageCache,h=n.call(this,e)||this;return h._sdkState=a,h._cacheContext=l,h._unsentMessageCache=u,HR[e]=h,h}return re(t,n),t.of=function(e){return HR[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(a9):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return we(we({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=we(we({},e),{messageId:parseInt(e.messageId)}),zi.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserialize(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=e.token,l=e.limit,u=l===void 0?Qb:l,h=e.filter,f=h===void 0?new W0:h,m=e.order,g=m===void 0?Qi.CHANNEL_LATEST:m,x=e.backward,E=x!==void 0&&x,w=e.parentMessageId,T=w===void 0?null:w,A=e.isPollOnly,P=A!==void 0&&A;return H(this,void 0,void 0,function(){var C,k,I,D=this;return F(this,function(U){switch(U.label){case 0:return this.localCacheEnabled?(C=dc(g),k={where:{channelUrl:r,"/where":function(O){if(a)switch(g){case Qi.CHANNEL_LATEST:if(!E&&O.createdAt>a||E&&O.createdAt<a)return!1;break;case Qi.NEWEST_CHILD_MESSAGE:if(!T||O.parentMessageId===0||O.parentMessageId!==T)return!1}return!(P&&!O._poll)&&f.match(D._deserialize(O))}},index:C,backward:E},[4,this.collection.query(k)]):[3,3];case 1:return[4,U.sent().fetch({limit:u})];case 2:return I=U.sent(),[2,Promise.all(I.map(function(O){return H(D,void 0,void 0,function(){return F(this,function(N){return[2,this._deserialize(O)]})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new W0),H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:Qi.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,5];case 1:return l.sent(),r=e.map(function(u){return a._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:return l.sent(),[4,this.upsertChildMessages(e)];case 3:return l.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 4:l.sent(),l.label=5;case 5:return[2]}})})},t.prototype.upsertChildMessages=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var u,h;return F(this,function(f){switch(f.label){case 0:return u=[],((h=l.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(l)]:[3,2];case 1:u=f.sent(),f.label=2;case 2:return u.length>0?(u.forEach(function(m){return m.applyParentMessage(l)}),[4,this.upsert(u)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=Cn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(l=a.value,[4,this.collection.remove("".concat(l))]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return u=m.sent(),h={error:u},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:dc(Qi.CHANNEL_LATEST)})]:[3,6];case 1:return a.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:a.sent(),a.label=6;case 6:return[2]}})})},t.prototype.removeUnderOffset=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":r}},index:dc(Qi.CHANNEL_LATEST)})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.countBetween=function(e,r,a){return H(this,void 0,void 0,function(){var l,u=this;return F(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?(l=dc(Qi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(f){var m=u._deserialize(f);return a.includes(m.createdAt)&&r.match(m)}},index:l}).count()]):[3,2];case 1:return[2,h.sent()];case 2:return[2,0]}})})},t.prototype.saveBlobs=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var u,h;return F(this,function(f){switch(f.label){case 0:return l instanceof ii&&l.messageParams&&(u=l.messageParams).file&&m4(u.file)?[4,this.collection.saveBlob(u.file,l.reqId)]:[3,2];case 1:h=f.sent(),u.fileKey=h,f.label=2;case 2:return[2]}})})}))];case 1:return a.sent(),[2]}})})},t.prototype._getGroupChannelPreferenceSize=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return r=0,[4,(a=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return l=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return u=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return h=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return f=m.sent(),l&&(r+=JSON.stringify(l).length),u&&(r+=JSON.stringify(u).length),h&&(r+=JSON.stringify(h).length),f&&(r+=JSON.stringify(f).length),[2,r]}})})},t}($s),E9=function(n){function t(e){var r=e.message,a=n.call(this)||this;return a.message=r,a}return re(t,n),t}(hi),BR={},zf=function(){function n(t,e){var r=e.localCacheEnabled,a=e.dispatcher,l=e.sdkState,u=e.logger,h=this;this._iid=t,BR[t]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=a,this._logger=u,this._sdkState=l,this._localCacheEnabled&&a.on(function(f){if(f instanceof vs)switch(f.stateType){case Qt.CONNECTED:h._isProcessingAutoResend||h.processAutoResendRegisteredPendingMessages().then(function(){return h._processNextAutoResend()});break;case Qt.INTERNAL_DISCONNECTED:case Qt.EXTERNAL_DISCONNECTED:h._isProcessingAutoResend=!1}})}return n.of=function(t){return BR[t]},n.prototype.processNonAutoResendRegisteredPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=h.sent();try{for(e=Cn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",a.reqId),a.sendingStatus=Rr.FAILED,a.errorCode=Nt.ACK_TIMEOUT,this._dispatcher.dispatch(new ri({messages:[a],source:dt.LOCAL_MESSAGE_FAILED})))}catch(f){l={error:f}}finally{try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}}return[2]}})})},n.prototype.processAutoResendRegisteredPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=m.sent();try{for(e=Cn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode&&zb(a.errorCode)&&(l=new Date().getTime(),u=a.createdAt+2592e5,l<=u?this._autoResendQueue.map(function(g){return g.reqId}).indexOf(a.reqId)<0&&this._autoResendQueue.push(a):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(u).toLocaleString()),a.sendingStatus=Rr.FAILED,this._dispatcher.dispatch(new ri({messages:[a],source:dt.LOCAL_MESSAGE_FAILED}))))}catch(g){h={error:g}}finally{try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}}return[2]}})})},n.prototype.completeCurrentAndProcessNextAutoResend=function(t){if(this._localCacheEnabled&&(t.sendingStatus===Rr.SUCCEEDED||t.sendingStatus===Rr.FAILED&&!zb(t.errorCode))){var e=this.indexOf(t);e>=0&&this._autoResendQueue.splice(e,1),e===0&&this._processNextAutoResend()}},n.prototype._fetchAllCachedPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return(t=TT.of(this._iid))?[4,t.fetch({sendingStatus:Rr.PENDING,backward:!0})]:[3,2];case 1:return e=r.sent(),[3,3];case 2:e=[],r.label=3;case 3:return[2,e]}})})},n.prototype.indexOf=function(t){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId):-1},n.prototype._isNotInQueue=function(t){return this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId)===-1},n.prototype._processNextAutoResend=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),t=this._autoResendQueue[0],this._dispatcher.dispatch(new E9({message:t})),this._logger.debug("processing auto-resend for message request id: ",t.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},n}();(function(n){n[n.USER_BLOCK=20001]="USER_BLOCK",n[n.USER_UNBLOCK=2e4]="USER_UNBLOCK",n[n.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(j_||(j_={}));var Jn,Zb=function(){function n(t){this.category=t.cat,this.data=t.data}return n.getDataAsUserBlockEvent=function(t,e){var r=e.data,a=r.blocker,l=r.blockee;return{blocker:new It(t,a),blockee:new It(t,l)}},n.getDataAsFriendDiscoveredEvent=function(t,e){var r=e.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(a){return new It(t,a)}):[]}},n}(),w9=function(n){function t(e,r){var a=r.userId,l=n.call(this)||this;return l._iid=e,l.userId=a,l}return re(t,n),t}(hi);(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",n.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",n.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",n.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",n.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",n.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",n.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",n.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",n.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",n.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",n.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",n.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",n.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",n.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",n.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",n.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",n.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",n.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",n.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",n.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",n.REQUEST_CHANNEL="REQUEST_CHANNEL",n.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",n.REFRESH_CHANNEL="REFRESH_CHANNEL",n.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",n.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",n.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(Jn||(Jn={}));var Cr,ab=function(n){return n.startsWith("EVENT_")||n===Jn.SYNC_CHANNEL_CHANGELOGS||n===Jn.REFRESH_CHANNEL},Dt=function(n){function t(e){var r=e.channels,a=e.source,l=e.data,u=l===void 0?null:l,h=n.call(this)||this;return h.channels=r,h.source=a,h.data=u,h}return re(t,n),t}(hi),Sd=function(n){function t(e){var r=e.channelUrls,a=e.source,l=n.call(this)||this;return l.channelUrls=r,l.source=a,l}return re(t,n),t}(hi),x9=function(n){function t(){return n.call(this)||this}return re(t,n),t}(hi),S9=function(n){function t(e,r,a){var l=n.call(this,e,"USEV",a)||this;return l.event=new Zb(a),l}return re(t,n),t}(_r),Ag={},P1=function(){function n(t){var e=t.dbname,r=t.itemSizeLimit,a=r===void 0?1048576:r,l=t.cacheLimit,u=l===void 0?256:l,h=t.blockHashBase,f=h===void 0?2:h,m=t.blockHashMultiplier,g=m===void 0?10:m,x=t.blockHashConstant,E=x===void 0?11:x,w=t.transactionApplyDelay,T=w===void 0?200:w,A=t.disableLogger,P=A!==void 0&&A;return Ag[e]||(this.itemSizeLimit=a,this.cacheLimit=u,this.blockHashBase=f,this.blockHashMultiplier=g,this.blockHashConstant=E,this.transactionApplyDelay=T,this.disableLogger=P,Ag[e]=this),Ag[e]}return n.get=function(t){return Ag[t]},n}();(function(n){n[n.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",n[n.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",n[n.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",n[n.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",n[n.STORE_IS_FULL=61001003]="STORE_IS_FULL",n[n.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",n[n.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",n[n.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",n[n.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",n[n.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",n[n.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",n[n.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",n[n.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",n[n.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",n[n.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",n[n.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",n[n.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",n[n.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",n[n.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",n[n.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",n[n.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",n[n.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",n[n.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",n[n.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",n[n.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Cr||(Cr={}));var S0,Or=function(n){function t(e){var r=e.code,a=r===void 0?Cr.UNKNOWN_ERROR:r,l=e.message,u=l===void 0?"Unknown error occurred.":l,h=n.call(this,u)||this;return h.code=a,Object.setPrototypeOf(h,t.prototype),h}return re(t,n),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:Cr.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:Cr.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:Cr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:Cr.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:Cr.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:Cr.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:Cr.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:Cr.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:Cr.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:Cr.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:Cr.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:Cr.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:Cr.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:Cr.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:Cr.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:Cr.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:Cr.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:Cr.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:Cr.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:Cr.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:Cr.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:Cr.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:Cr.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:Cr.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);(function(n){n.INIT="init",n.READY="ready",n.CLOSED="closed"})(S0||(S0={}));var VR,ja=function(n,t){if(t===void 0&&(t=new WeakMap),typeof n=="object"&&n!==null){if(t.has(n))throw Or.circularReferenceFound;t.set(n,!0);var e=null;if(Array.isArray(n))e=n.map(function(a){return ja(a,t)});else if(n instanceof RegExp)e=n;else if(n instanceof Date)e=n;else for(var r in e={},n)e[r]=ja(n[r],t);return t.delete(n),e}return n},hc=function(n,t){if(t==null)return 1;if(n==null)return-1;if(typeof n!=typeof t)throw Or.compareTypesNotMatch;var e=0;switch(typeof n){case"boolean":case"number":e=n-t;break;case"string":e=n.localeCompare(t)}return e},zR=function(n,t){for(var e=0,r=0;r<n.length;r++)e=n.charCodeAt(r)+(e<<6)+(e<<16)-e;return(e>>>0)%t},Og=function(n){return new Promise(function(t){setTimeout(function(){return t()},n)})},qd=function(n,t){if(!t)return!1;if(typeof n!="function"){for(var e in n)if(["/and","&&"].includes(e)){if(n[e].some(function(f){return!qd(f,t)}))return!1}else if(["/or","||"].includes(e)){if(n[e].every(function(f){return!qd(f,t)}))return!1}else if(e==="/where"){if(!(0,n[e])(t))return!1}else{var r=e;if(typeof n[r]=="object"){var a=n[r];for(var l in a)switch(l){case"/eq":case"=":if((u=t[r])!==(h=a[l]))return!1;break;case"/neq":case"!=":if((u=t[r])===(h=a[l]))return!1;break;case"/gt":case">":var u=t[r],h=a[l];if(!(hc(u,h)>0))return!1;break;case"/gte":case">=":if(u=t[r],h=a[l],!(hc(u,h)>=0))return!1;break;case"/lt":case"<":if(u=t[r],h=a[l],!(hc(u,h)<0))return!1;break;case"/lte":case"<=":if(u=t[r],h=a[l],!(hc(u,h)<=0))return!1;break;case"/in":if(u=t[r],!(h=a[l]).includes(u))return!1;break;case"/nin":if(u=t[r],(h=a[l]).includes(u))return!1;break;case"/contain":if(u=t[r],h=a[l],!u.includes(h))return!1;break;case"/regex":if(u=t[r],!(h=a[l]).test(u))return!1;break;case"/where":if(u=t[r],!(0,a[l])(u))return!1}}else if(typeof n[r]=="function"){if(!n[r](t[r]))return!1}else if(n[r]!==t[r])return!1}return!0}return n(t)},sb=function(){},$R=function(){return Promise.resolve()},Eue=function(n){return n},qR=function(n,t){t(null)};(function(n){n[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD"})(VR||(VR={}));var Gd,pa,pl,wue=function(){function n(t){var e=t.initialPrevValue,r=e===void 0?null:e,a=t.initialNextValue,l=a===void 0?null:a,u=t.iterator,h=t.map,f=h===void 0?Eue:h,m=t.backward,g=m===void 0?$R:m,x=t.forward,E=x===void 0?$R:x,w=t.complete,T=w===void 0?sb:w;this._prevValue=r,this._nextValue=l,this._error=null,this._map=f,this._backward=g,this._forward=E,this._iterator=u,this._complete=T}return Object.defineProperty(n.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),n.prototype.prev=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:if(!this.hasPrevious)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._prevValue,e=this,[4,this._backward()];case 2:return e._prevValue=a.sent()||null,this._nextValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.next=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:if(!this.hasNext)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._nextValue,e=this,[4,this._forward()];case 2:return e._nextValue=a.sent()||null,this._prevValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},n}(),b4=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,l=a!==void 0&&a,u=t.blockManager,h=t.indexer;this.condition=r,this.backward=l,this._blockManager=u,this._indexer=h}return n.prototype.findOptimizedStartPosition=function(){var t=this,e=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var a=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var l in this._indexer.fields){var u=this._indexer.fields[l],h=1;if(u[0]==="-"&&(u=u.slice(1),h=-1),this.condition[u]){if(typeof this.condition[u]=="object"){var f=h>0?r:e;for(var m in this.condition[u])if(f.includes(m)){for(var g=a;g>=0;g--)if(h*hc(this._indexer.origin[g].columnValues[l],this.condition[u][m])<=0){a=g;break}}}else for(g=a;g>=0;g--)if(h*hc(this._indexer.origin[g].columnValues[l],this.condition[u])<=0){a=g;break}}}return Math.min(a+1,this._indexer.origin.length-1)}var x=0;if(typeof this.condition!="function")for(var E=function(A){var P=w._indexer.fields[A],C=1;if(P[0]==="-"&&(P=P.slice(1),C=-1),w.condition[P]){if(typeof w.condition[P]=="object")Object.keys(w.condition[P]).forEach(function(I){if((C>0?e:r).includes(I)){for(var D=x;D<t._indexer.origin.length;D++)if(C*hc(t._indexer.origin[D].columnValues[A],t.condition[P][I])>=0){x=D;break}}});else for(var k=x;k<w._indexer.origin.length;k++)if(C*hc(w._indexer.origin[k].columnValues[A],w.condition[P])>=0){x=k;break}}},w=this,l=0;l<this._indexer.fields.length;l++)E(l);return Math.max(x-1,0)},n.prototype.each=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m=this;return F(this,function(g){switch(g.label){case 0:if(e=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[e]&&(r=this._indexer.origin[e].keys.length-1),a=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[++r]){if(!m._indexer.origin[++e])return!1;r=0}return!0}return!1},l=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[--r]){if(!m._indexer.origin[--e])return!1;r=m._indexer.origin[e].keys.length-1}return!0}return!1},u=null,!this._indexer.origin[e])return[3,4];h=this.backward?l:a,g.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])];case 2:if(f=g.sent(),qd(this.condition,f))return u=f,[3,4];g.label=3;case 3:if(h())return[3,1];g.label=4;case 4:return[4,new Promise(function(x){var E=new wue({initialNextValue:ja(u),iterator:t,forward:function(){return H(m,void 0,void 0,function(){var w,T;return F(this,function(A){switch(A.label){case 0:w=this.backward?l:a,A.label=1;case 1:return w()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return T=A.sent(),qd(this.condition,T)?[2,ja(T)]:[3,1];case 3:return[2,null]}})})},backward:function(){return H(m,void 0,void 0,function(){var w,T;return F(this,function(A){switch(A.label){case 0:w=this.backward?a:l,A.label=1;case 1:return w()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return T=A.sent(),qd(this.condition,T)?[2,ja(T)]:[3,1];case 3:return[2,null]}})})},complete:x});t(E)})];case 5:return[2,g.sent()]}})})},n}(),xue=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,l=a!==void 0&&a,u=t.mutex,h=t.blockManager,f=t.indexer;this._mutex=u,this._iterator=new b4({condition:r,backward:l,blockManager:h,indexer:f})}return n.prototype.fetch=function(t){return t===void 0&&(t={}),H(this,void 0,void 0,function(){var e,r,a,l,u=this;return F(this,function(h){switch(h.label){case 0:if(e=Math.max(t.offset||0,0),(r=typeof t.limit=="number"?t.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw Or.collectionQueryNotValid;h.label=1;case 1:return h.trys.push([1,4,,5]),a=[],[4,this._mutex.lock()];case 2:return h.sent(),[4,this._iterator.each(function(f){return H(u,void 0,void 0,function(){return F(this,function(m){return f.error?f.stop():f.hasNext?e===0?(a.push(f.nextValue),0<r&&r<=a.length?f.stop():f.next()):(e--,f.next()):f.stop(),[2]})})})];case 3:return h.sent(),this._mutex.unlock(),[2,a];case 4:throw l=h.sent(),this._mutex.unlock(),l;case 5:return[2]}})})},n.prototype.count=function(){return H(this,void 0,void 0,function(){var t,e,r=this;return F(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t=0,[4,this._mutex.lock()];case 1:return a.sent(),[4,this._iterator.each(function(l){return H(r,void 0,void 0,function(){return F(this,function(u){return l.error?l.stop():l.hasNext?(t++,l.next()):l.stop(),[2]})})})];case 2:return a.sent(),this._mutex.unlock(),[2,t];case 3:throw e=a.sent(),this._mutex.unlock(),e;case 4:return[2]}})})},n}(),y4=function(n){return"".concat("nest","@").concat(n)},eh=function(n,t){return"".concat(y4(n),"/").concat(t)},Fw=function(n,t){return"".concat(eh(n,t),".metadata")},E4=function(n,t){return"".concat(eh(n,t),"/block.")},GR=function(n,t){return"".concat(eh(n,t),"/blob.")},Sue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this.dbname=e,this.collectionName=r,this.store=a}return n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return[4,this.store.get(t)];case 1:return(e=x.sent())?(r=e.data,a=e.type,typeof fetch>"u"?[3,4]:[4,fetch(r)]):[3,5];case 2:return[4,x.sent().blob()];case 3:return[2,x.sent()];case 4:for(l=[],u=atob(r.split(",")[1]),h=0;h<u.length;h+=512){for(f=u.slice(h,h+512),m=new Array(f.length),g=0;g<f.length;g++)m[g]=f.charCodeAt(g);l.push(new Uint8Array(m))}return[2,new Blob(l,{type:a})];case 5:return[2,null]}})})},n.prototype.save=function(t,e){return e===void 0&&(e="".concat(Date.now())),H(this,void 0,void 0,function(){var r,a,l,u,h=this;return F(this,function(f){switch(f.label){case 0:return[4,new Promise(function(m){var g=function(E,w,T,A){return A===void 0&&(A=0),"".concat(GR(E,w)).concat(T,".").concat(A)}(h.dbname,h.collectionName,e),x=new FileReader;x.onload=function(){m({blobId:g,data:x.result,type:t.type})},x.readAsDataURL(t)})];case 1:return r=f.sent(),a=r.blobId,l=r.data,u=r.type,[4,this.store.set({key:a,value:{data:l,type:u},generation:1})];case 2:return f.sent(),[2,a]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.store.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){var t,e,r=this;return F(this,function(a){switch(a.label){case 0:return t=GR(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return e=a.sent(),[4,Promise.all(e.filter(function(l){return l.startsWith(t)}).map(function(l){return H(r,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return[4,this.store.remove(l)];case 1:return[2,u.sent()]}})})}))];case 2:return a.sent(),[2]}})})},n}();(function(n){n[n.COMMIT=0]="COMMIT",n[n.WRITE=1]="WRITE",n[n.ERROR=2]="ERROR"})(Gd||(Gd={})),function(n){n.PENDING="pending",n.PERSISTENT="persistent",n.VOLATILE="volatile"}(pa||(pa={})),function(n){n[n.NO_CACHE=0]="NO_CACHE",n[n.DEFAULT=1]="DEFAULT",n[n.PERSISTENT=2]="PERSISTENT"}(pl||(pl={}));var jR=[pa.PENDING,pa.VOLATILE],Rg={},oo=function(){function n(t){var e=t.dbname,r=t.limit,a=r===void 0?256:r;return Rg[e]||(this.dbname=e,this._items=[],this._limit=a,Rg[e]=this),Rg[e]}return n.get=function(t){return Rg[t]},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.find=function(t,e,r){return r===void 0&&(r=pl.DEFAULT),H(this,void 0,void 0,function(){var a,l;return F(this,function(u){switch(u.label){case 0:return(a=this.get(e))?[3,2]:[4,t.get(e)];case 1:return(l=u.sent())&&(a={key:e,value:l,generation:1,state:r===pl.PERSISTENT?pa.PERSISTENT:pa.VOLATILE},this.put(a)),[3,3];case 2:r===pl.PERSISTENT&&(a.state=pa.PERSISTENT),u.label=3;case 3:return[2,a]}})})},n.prototype.get=function(t,e){e===void 0&&(e=pl.DEFAULT);var r=this._items.map(function(l){return l.key}).indexOf(t);if(r>-1){var a=this._items[r];return e===pl.PERSISTENT&&(a.state=pa.PERSISTENT),e!==pl.NO_CACHE&&this.put(a),a}return null},n.prototype.put=function(t){var e,r;if(this._limit>0){var a=this._items.map(function(x){return x.key}).indexOf(t.key);if(a>-1)jR.includes(this._items[a].state)&&jR.includes(t.state)?(this._items.splice(a,1),this._items.push(t)):(this._items[a].state=t.state,this._items[a].generation=t.generation,this._items[a].value=t.value);else{this._items.push(t);var l=this._items.filter(function(x){return x.state===pa.VOLATILE}),u=l.length-this._limit;if(u>0){var h=[];try{for(var f=Cn(this._items),m=f.next();!m.done;m=f.next()){var g=m.value;g.state===pa.VOLATILE&&u>0?u--:h.push(g)}}catch(x){e={error:x}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}this._items=h}}}},n.prototype.remove=function(t){var e=this._items.map(function(r){return r.key}).indexOf(t);e>-1&&this._items.splice(e,1)},n.prototype.clearByCondition=function(t){this._items=this._items.filter(function(e){return!t(e)})},n.prototype.clear=function(t){t===void 0&&(t=!1),this._items=t?[]:this._items.filter(function(e){return e.state!==pa.VOLATILE})},n}(),Tue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=e,this.collectionName=r,this.metadataKey=function(l,u){return"".concat(eh(l,u),"/trans.metadata")}(e,r),this.recordsetKey=function(l,u){return"".concat(eh(l,u),"/trans.recordset")}(e,r),this._store=a}return Object.defineProperty(n.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),n.prototype._getReducedRecordset=function(t){return t===void 0&&(t=[]),H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(e=r.sent()||[]).push.apply(e,et([],Qn(t),!1)),[2,this._reduceRecordSet(e)]}})})},n.prototype._reduceRecordSet=function(t){for(var e=[],r={},a=t.length-1;a>=0;a--){for(var l=t[a],u=[],h=l.requests.length-1;h>=0;h--){var f=l.requests[h],m=f.data;r[m.key]||(u.unshift(f),r[m.key]=!0)}u.length>0&&(l.requests=u,e.unshift(l))}return e},n.prototype._applyRecord=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:r=oo.get(this.dbname),a=e.generation,l=e.requests,u=null,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this._store.setMany(l.map(function(w){return we(we({},w.data),{generation:a})}))];case 2:for(h=E.sent(),f=0;f<l.length;f++)h[f]instanceof Error&&(u||(u=h[f]),m=l[f].data,r.put(we(we({},m),{generation:a,state:pa.PERSISTENT})));return[3,4];case 3:return g=E.sent(),u=g,[3,4];case 4:return u?[3,6]:(x=t.filter(function(w){return w.generation!==a}),[4,this._store.set({key:this.recordsetKey,value:x,generation:a})]);case 5:return E.sent(),this._onWrite.forEach(function(w){w(l.map(function(T){return T.data}))}),[3,7];case 6:this._onError.forEach(function(w){return w(u)}),E.label=7;case 7:return[2]}})})},n.prototype.init=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return t=this,[4,this._store.get(this.metadataKey)];case 1:return t._metadata=m.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:e=m.sent(),m.label=3;case 3:m.trys.push([3,8,9,10]),r=Cn(e),a=r.next(),m.label=4;case 4:return a.done?[3,7]:(l=a.value,[4,this._applyRecord(e,l)]);case 5:m.sent(),m.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return u=m.sent(),h={error:u},[3,10];case 9:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 10:return[2]}})})},n.prototype.on=function(t,e,r){switch(t){case Gd.COMMIT:this._onCommit.set(e,r);break;case Gd.WRITE:this._onWrite.set(e,r);break;case Gd.ERROR:this._onError.set(e,r)}},n.prototype.requestWrite=function(t,e){e===void 0&&(e=null),this._requests.push({data:t,options:e}),oo.get(this.dbname).put(we({state:pa.PENDING,generation:this.generation},t))},n.prototype.requestMultipleWrite=function(t,e){var r,a;e===void 0&&(e=null);var l=oo.get(this.dbname);try{for(var u=Cn(t),h=u.next();!h.done;h=u.next()){var f=h.value;this._requests.push({data:f,options:e}),l.put(we({state:pa.PENDING,generation:this.generation},f))}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return oo.get(this.dbname).clearByCondition(function(e){return e.state===pa.PENDING}),this._requests=[],[2]})})},n.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f,m,g,x,E,w=this;return F(this,function(T){switch(T.label){case 0:if(!((t=this._requests).length>0))return[3,4];for(e=[],r={},f=t.length-1;f>=0;f--)a=t[f],g=a.data,r[g.key]||(r[g.key]=!0,e.unshift(a));return l={generation:this.generation,requests:e},[4,this._getReducedRecordset([l])];case 1:return u=T.sent(),[4,this._store.set({key:this.recordsetKey,value:u,generation:this.generation})];case 2:return T.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(T.sent(),h=oo.get(this.dbname),f=0;f<e.length;f++)m=e[f],g=m.data,x=m.options,h.put(we(we({},g),{generation:l.generation,state:x&&x.persistent?pa.PERSISTENT:pa.VOLATILE}));this._requests=[],this._onCommit.forEach(function(A){A(t.map(function(P){return P.data}))}),E=P1.get(this.dbname),setTimeout(function(){try{w._applyRecord(u,l)}catch(A){w._onError.forEach(function(P){return P(A)})}},E.transactionApplyDelay),T.label=4;case 4:return[2]}})})},n}(),ob=function(){function n(t){var e=t.blockId,r=t.keyName,a=t.items,l=a===void 0?[]:a,u=t.limit;this.blockId=e,this.keyName=r,this.limit=u,this._items=et([],Qn(l),!1)}return n.createFromCacheItem=function(t){return t?new n(t.value):null},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},n.prototype.getItemByKey=function(t){var e=this;return this._items.find(function(r){var a=r[e.keyName];return t===a})},n.prototype.has=function(t){var e=this;return this._items.map(function(r){return r[e.keyName]}).includes(t)},n.prototype.add=function(t){var e=this,r=this._items.map(function(a){return a[e.keyName]}).indexOf(t[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(t),!0):(this._items[r]=t,!0)},n.prototype.remove=function(t){for(var e in this._items)if(this._items[e][this.keyName]===t)return this._items.splice(parseInt(e),1),!0;return!1},n.prototype.clear=function(){this._items=[]},n}(),kue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.metadata,l=t.hashFunction,u=l===void 0?zR:l,h=t.transaction,f=t.store;this.dbname=e,this.collectionName=r,this.hashFunction=u,this.metadata=a,this._transaction=h,this._store=f}return Object.defineProperty(n.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),n.prototype.createBlockId=function(t,e){return e===void 0&&(e=this.metadata.blockLevel),r=this.dbname,a=this.collectionName,l=e,u="".concat(function(h,f,m){var g=m.base*Math.pow(m.multiplier,f)+m.constant;return(m.hashFunction||zR)(h,g)}(t,e,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(E4(r,a)).concat(l,".").concat(u);var r,a,l,u},n.prototype._findBlock=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:e=oo.get(this.dbname),r=this.metadata.blockLevel,h.label=1;case 1:return r>0?(a=this.createBlockId(t,r),[4,e.find(this._store,a)]):[3,4];case 2:if((l=h.sent())&&(u=ob.createFromCacheItem(l),u.getItemByKey(t)))return[2,u];h.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},n.prototype.getFromBlock=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return[2,(e=r.sent())?e.getItemByKey(t):null]}})})},n.prototype.putToBlock=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return r=P1.get(this.dbname),a=this.createBlockId(t),l=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,oo.get(this.dbname).find(this._store,a)];case 1:return u=f.sent(),(h=u?ob.createFromCacheItem(u):new ob({blockId:a,keyName:this.keyName,items:[],limit:l})).add(e)?(this._transaction.requestWrite({key:h.blockId,value:h.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.removeFromBlock=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return(e=r.sent())&&e.remove(t)?(this._transaction.requestWrite({key:e.blockId,value:e.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.clearAllBlocks=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=E4(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return e=a.sent(),r=e.filter(function(l){return l.startsWith(t)}),[4,this._store.removeMany(r)];case 2:return a.sent(),[4,this._transaction.clear()];case 3:return a.sent(),oo.get(this.dbname).clearByCondition(function(l){return l.key.startsWith(t)}),[2]}})})},n}(),t0={},Qc=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,l=t.fields,u=t.transaction,h=t.store,f=this;this._origin=[],this._table=[];var m=function(g,x,E){return"".concat(eh(g,x),"/index.").concat(E)}(e,r,l.join(">"));return t0[m]||(this.dbname=e,this.collectionName=r,this.keyName=a,this.fields=l,this.indexerKey=m,this._transaction=u,this._store=h,this._transaction.on(Gd.COMMIT,this.indexerKey,function(){return f.commit()}),this._transaction.on(Gd.ERROR,this.indexerKey,function(){return f.abort()})),t0[m]}return n.createKey=function(t){return t.join(">")},n.parseKey=function(t){return t.split(">")},n.clearIndexerMap=function(){for(var t in t0)delete t0[t]},n.prototype._addItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Qn(this.indexOf(r),2),l=a[0];return a[1]?!this._table[l].keys.includes(e)&&(this._table[l].keys.push(e),!0):(this._table.splice(l,0,{columnValues:r,keys:[e]}),!0)},n.prototype._removeItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Qn(this.indexOf(r),2),l=a[0];if(a[1]){var u=this._table[l].keys.indexOf(e);if(u>-1)return this._table[l].keys.splice(u,1),this._table[l].keys.length===0&&this._table.splice(l,1),!0}return!1},Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),n.prototype.getColumnValues=function(t){var e,r,a,l,u=[];try{for(var h=Cn(this.fields),f=h.next();!f.done;f=h.next()){var m=f.value;if(m[0]==="-"&&(m=m.slice(1)),a=t[m],l=void 0,l=typeof a,a!==null&&l!=="undefined"&&l!=="boolean"&&l!=="number"&&l!=="string")throw Or.indexTypesNotMatch;u.push(t[m])}}catch(g){e={error:g}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return u},n.prototype.diff=function(t,e){for(var r in this.fields){var a=this.fields[r][0]==="-"?-1:1,l=hc(t[r],e[r]);if(l!==0)return a*l}return 0},n.prototype.indexOf=function(t){if(this._table.length>0){for(var e=0,r=this._table.length-1;e<=r;){var a=Math.floor((e+r)/2),l=this.diff(t,this._table[a].columnValues);if(l>0)e=a+1;else{if(!(l<0))return[a,!0];r=a-1}}return[e,!1]}return[0,!1]},n.prototype.ensure=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C;return F(this,function(k){switch(k.label){case 0:return[4,(t=oo.get(this.dbname)).find(this._store,this.indexerKey,pl.PERSISTENT)];case 1:return(e=k.sent())?[3,11]:(r=E4(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:a=k.sent(),k.label=3;case 3:k.trys.push([3,8,9,10]),l=Cn(a),u=l.next(),k.label=4;case 4:return u.done?[3,7]:(h=u.value).startsWith(r)?[4,t.find(this._store,h,pl.NO_CACHE)]:[3,6];case 5:f=k.sent(),m=ob.createFromCacheItem(f);try{for(P=void 0,g=Cn(m.items),x=g.next();!x.done;x=g.next())E=x.value,this._addItem(E)}catch(I){P={error:I}}finally{try{x&&!x.done&&(C=g.return)&&C.call(g)}finally{if(P)throw P.error}}k.label=6;case 6:return u=l.next(),[3,4];case 7:return[3,10];case 8:return w=k.sent(),T={error:w},[3,10];case 9:try{u&&!u.done&&(A=l.return)&&A.call(l)}finally{if(T)throw T.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=e.value,this._table=ja(this._origin),k.label=12;case 12:return t0[this.indexerKey]=this,[2]}})})},n.prototype.drop=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return oo.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return t.sent(),delete t0[this.indexerKey],[2]}})})},n.prototype.addItem=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return this._addItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.removeItem=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return this._removeItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.commit=function(){this._origin=this._table,this._table=ja(this._origin)},n.prototype.abort=function(){this._table=ja(this._origin)},n}(),Hw=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,l=t.keyHash,u=t.indexes,h=t.store,f=this;this._state=S0.INIT,this._metadata=null,this._indexers=[],this.dbname=e,this.name=r,this.keyName=a,this.indexes=et([[a]],Qn(u.filter(function(m){return Qc.createKey(m)!==f.keyName})),!1),this._keyHash=l,this._store=h,this._mutex=new ST(function(m,g){return"".concat(eh(m,g),".lock")}(e,r)),this._blobContainer=new Sue({dbname:e,collectionName:r,store:h}),this._transaction=new Tue({dbname:e,collectionName:r,store:h})}return n.metadataOf=function(t,e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Fw(t,e),[4,r.get(a)];case 1:return[2,l.sent()]}})})},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReady",{get:function(){return this._state===S0.READY},enumerable:!1,configurable:!0}),n.prototype.init=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f,m,g,x,E,w,T,A=this;return F(this,function(P){switch(P.label){case 0:return[4,this._mutex.lock()];case 1:P.sent(),P.label=2;case 2:return P.trys.push([2,9,,10]),t=P1.get(this.dbname),[4,n.metadataOf(this.dbname,this.name,this._store)];case 3:return e=P.sent(),this._metadata=e||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:P.sent(),this._blockManager=new kue({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=et([],Qn(this.indexes),!1),a=[],l=r.map(function(C){return Qc.createKey(C)}),u=e?e.indexes.map(function(C){return Qc.createKey(C)}):[];try{for(h=Cn(u),f=h.next();!f.done;f=h.next())m=f.value,l.includes(m)||a.push(Qc.parseKey(m))}catch(C){w={error:C}}finally{try{f&&!f.done&&(T=h.return)&&T.call(h)}finally{if(w)throw w.error}}return(g=[]).push.apply(g,et([],Qn(r.map(function(C){var k=new Qc({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:C,transaction:A._transaction,store:A._store});return A._indexers.push(k),k.ensure()})),!1)),g.push.apply(g,et([],Qn(a.map(function(C){return new Qc({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:C,transaction:A._transaction,store:A._store}).drop()})),!1)),[4,Promise.all(g)];case 5:return P.sent(),[4,this._transaction.commit()];case 6:return P.sent(),l.sort().join(",")===u.sort().join(",")?[3,8]:(x=Fw(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:x,value:this._metadata,generation:1})]);case 7:P.sent(),P.label=8;case 8:return this._state=S0.READY,this._mutex.unlock(),[3,10];case 9:throw E=P.sent(),this._mutex.unlock(),E;case 10:return[2]}})})},n.prototype.close=function(){this._state=S0.CLOSED},n.prototype._hasPropertyOfKeyName=function(t){var e=t[this.keyName];return typeof e=="string"&&!!e},n.prototype._getIndexerBy=function(t){var e,r;t===void 0&&(t=null),t||(t=[this.keyName]);var a=Qc.createKey(t);try{for(var l=Cn(this._indexers),u=l.next();!u.done;u=l.next()){var h=u.value;if(a===Qc.createKey(h.fields))return h}}catch(f){e={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return null},n.prototype._upgradeBlockLevel=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=Fw(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:t,value:this._metadata,generation:1})];case 1:return e.sent(),[2]}})})},n.prototype._requestInsert=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return f.sent()?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return f.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return f.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:f.sent(),f.label=5;case 5:f.trys.push([5,10,11,12]),r=Cn(this._indexers),a=r.next(),f.label=6;case 6:return a.done?[3,9]:[4,a.value.addItem(t)];case 7:f.sent(),f.label=8;case 8:return a=r.next(),[3,6];case 9:return[3,12];case 10:return l=f.sent(),u={error:l},[3,12];case 11:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw Or.collectionInsertDuplicate;case 14:return[2]}})})},n.prototype._requestUpsert=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T;return F(this,function(A){switch(A.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=A.sent())?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return A.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return A.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:A.sent(),A.label=5;case 5:A.trys.push([5,10,11,12]),a=Cn(this._indexers),l=a.next(),A.label=6;case 6:return l.done?[3,9]:[4,(m=l.value).addItem(t)];case 7:A.sent(),A.label=8;case 8:return l=a.next(),[3,6];case 9:return[3,12];case 10:return u=A.sent(),x={error:u},[3,12];case 11:try{l&&!l.done&&(E=a.return)&&E.call(a)}finally{if(x)throw x.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(e,t)];case 14:A.sent(),A.label=15;case 15:A.trys.push([15,21,22,23]),h=Cn(this._indexers),f=h.next(),A.label=16;case 16:return f.done?[3,20]:(m=f.value).diff(m.getColumnValues(r),m.getColumnValues(t))===0?[3,19]:[4,m.removeItem(r)];case 17:return A.sent(),[4,m.addItem(t)];case 18:A.sent(),A.label=19;case 19:return f=h.next(),[3,16];case 20:return[3,23];case 21:return g=A.sent(),w={error:g},[3,23];case 22:try{f&&!f.done&&(T=h.return)&&T.call(h)}finally{if(w)throw w.error}return[7];case 23:return[2]}})})},n.prototype._requestUpdate=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=g.sent())?[4,this._blockManager.putToBlock(e,t)]:[3,11];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,9,10,11]),a=Cn(this._indexers),l=a.next(),g.label=4;case 4:return l.done?[3,8]:(u=l.value).diff(u.getColumnValues(r),u.getColumnValues(t))===0?[3,7]:[4,u.removeItem(r)];case 5:return g.sent(),[4,u.addItem(t)];case 6:g.sent(),g.label=7;case 7:return l=a.next(),[3,4];case 8:return[3,11];case 9:return h=g.sent(),f={error:h},[3,11];case 10:try{l&&!l.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}return[7];case 11:return[2]}})})},n.prototype._requestRemove=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return[4,this._blockManager.getFromBlock(t)];case 1:return(e=f.sent())?[4,this._blockManager.removeFromBlock(t)]:[3,10];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=Cn(this._indexers),a=r.next(),f.label=4;case 4:return a.done?[3,7]:[4,a.value.removeItem(e)];case 5:f.sent(),f.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return l=f.sent(),u={error:l},[3,10];case 9:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}return[7];case 10:return[2]}})})},n.prototype._requestClear=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),t=Cn(this._indexers),e=t.next(),u.label=3;case 3:return e.done?[3,6]:[4,e.value.clear()];case 4:u.sent(),u.label=5;case 5:return e=t.next(),[3,3];case 6:return[3,9];case 7:return r=u.sent(),a={error:r},[3,9];case 8:try{e&&!e.done&&(l=t.return)&&l.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2]}})})},n.prototype.getByKey=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(t)];case 3:return e=a.sent(),this._mutex.unlock(),[2,ja(e)];case 4:throw r=a.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw Or.collectionNotReady;case 7:return[2]}})})},n.prototype.query=function(t){return t===void 0&&(t={}),this.isReady?new xue({condition:t.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(t.index),backward:!!t.backward}):null},n.prototype.insertOne=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Or.collectionKeyNotGiven;return[4,this._requestInsert(ja(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Or.collectionNotReady;case 9:return[2]}})})},n.prototype.insertMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m=this;return F(this,function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:g.sent(),g.label=2;case 2:if(g.trys.push([2,12,,14]),t.some(function(x){return!m._hasPropertyOfKeyName(x)}))throw Or.collectionKeyNotGiven;g.label=3;case 3:g.trys.push([3,8,9,10]),e=Cn(t),r=e.next(),g.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestInsert(ja(a))]);case 5:g.sent(),g.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return l=g.sent(),h={error:l},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return g.sent(),this._mutex.unlock(),[2,t];case 12:return u=g.sent(),[4,this._transaction.clear()];case 13:throw g.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw Or.collectionNotReady;case 16:return[2]}})})},n.prototype.upsertOne=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Or.collectionKeyNotGiven;return[4,this._requestUpsert(ja(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Or.collectionNotReady;case 9:return[2]}})})},n.prototype.upsertMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m=this;return F(this,function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:g.sent(),g.label=2;case 2:if(g.trys.push([2,12,,14]),t.some(function(x){return!m._hasPropertyOfKeyName(x)}))throw Or.collectionKeyNotGiven;g.label=3;case 3:g.trys.push([3,8,9,10]),e=Cn(t),r=e.next(),g.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestUpsert(ja(a))]);case 5:g.sent(),g.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return l=g.sent(),h={error:l},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return g.sent(),this._mutex.unlock(),[2,t];case 12:return u=g.sent(),[4,this._transaction.clear()];case 13:throw g.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw Or.collectionNotReady;case 16:return[2]}})})},n.prototype.update=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Or.collectionKeyNotGiven;return[4,this._requestUpdate(ja(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Or.collectionNotReady;case 9:return[2]}})})},n.prototype.updateIf=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g,x,E,w,T,A,P,C=this;return F(this,function(k){switch(k.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:k.sent(),k.label=2;case 2:return k.trys.push([2,13,,15]),r=t.where,a=r===void 0?{}:r,l=t.index,u=l===void 0?null:l,h=t.backward,f=h!==void 0&&h,m=[],[4,new b4({condition:a,blockManager:this._blockManager,backward:f,indexer:this._getIndexerBy(u)}).each(function(I){return H(C,void 0,void 0,function(){var D,U;return F(this,function(O){if(I.error)throw I.stop(),I.error;if(I.hasNext){if(D=I.nextValue,qd(a,D)&&e.set){if(typeof e.set!="function")for(U in e.set)D[U]=e.set[U];else e.set(D);m.push(D)}I.next()}else I.stop();return[2]})})})];case 3:k.sent(),k.label=4;case 4:k.trys.push([4,9,10,11]),g=Cn(m),x=g.next(),k.label=5;case 5:return x.done?[3,8]:(E=x.value,[4,this._requestUpdate(ja(E))]);case 6:k.sent(),k.label=7;case 7:return x=g.next(),[3,5];case 8:return[3,11];case 9:return w=k.sent(),A={error:w},[3,11];case 10:try{x&&!x.done&&(P=g.return)&&P.call(g)}finally{if(A)throw A.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return k.sent(),this._mutex.unlock(),[2,m];case 13:return T=k.sent(),[4,this._transaction.clear()];case 14:throw k.sent(),this._mutex.unlock(),T;case 15:return[3,17];case 16:throw this._transaction.clear(),Or.collectionNotReady;case 17:return[2]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(t)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Or.collectionNotReady;case 9:return[2]}})})},n.prototype.removeIf=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P=this;return F(this,function(C){switch(C.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:C.sent(),C.label=2;case 2:return C.trys.push([2,13,,14]),e=t.where,r=e===void 0?{}:e,a=t.index,l=a===void 0?null:a,u=t.backward,h=u!==void 0&&u,f=[],[4,new b4({condition:r,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(l)}).each(function(k){return H(P,void 0,void 0,function(){var I,D;return F(this,function(U){if(k.error)throw k.stop(),k.error;return k.hasNext?(I=k.nextValue,qd(r,I)&&(D=I[this.keyName],f.push(D)),k.next()):k.stop(),[2]})})})];case 3:C.sent(),C.label=4;case 4:C.trys.push([4,9,10,11]),m=Cn(f),g=m.next(),C.label=5;case 5:return g.done?[3,8]:(x=g.value,[4,this._requestRemove(x)]);case 6:C.sent(),C.label=7;case 7:return g=m.next(),[3,5];case 8:return[3,11];case 9:return E=C.sent(),T={error:E},[3,11];case 10:try{g&&!g.done&&(A=m.return)&&A.call(m)}finally{if(T)throw T.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return C.sent(),this._mutex.unlock(),[2,f];case 13:throw w=C.sent(),this._mutex.unlock(),w;case 14:return[3,16];case 15:throw this._transaction.clear(),Or.collectionNotReady;case 16:return[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return e.sent(),[4,this._transaction.commit()];case 4:return e.sent(),this._mutex.unlock(),[3,7];case 5:return t=e.sent(),[4,this._transaction.clear()];case 6:throw e.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Or.collectionNotReady;case 9:return[2]}})})},n.prototype.getBlob=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.saveBlob=function(t,e){return e===void 0&&(e=null),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.removeBlob=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeAllBlobs=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.clear()];case 1:return t.sent(),[2]}})})},n}(),F1=function(){function n(t){var e,r,a;this.encryption=(e=t.encryption)!==null&&e!==void 0?e:mP,this.itemSizeLimit=(r=t.itemSizeLimit)!==null&&r!==void 0?r:4194304,this.metadataBuffer=(a=t.metadataBuffer)!==null&&a!==void 0?a:256}return n.prototype._getRawKey=function(t,e){return e===void 0&&(e=""),"".concat(t).concat(e)},n.prototype._generateShardPostfixArray=function(t){return t===void 0&&(t=1),et([],Qn(Array(t).keys()),!1)},n.prototype._shardify=function(t){var e=this,r=t.key,a=t.value,l=JSON.stringify(this.encryption.encrypt(a)),u=Math.ceil(l.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(u).map(function(h){var f={key:e._getRawKey(r,".".concat(h)),data:l.substring(h*e.adjustedItemSizeLimit,(h+1)*e.adjustedItemSizeLimit)};return h===0&&(f.metadata={shards:u}),f})},Object.defineProperty(n.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),n.prototype.usage=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return t=0,[4,this._getAllRawKeys()];case 1:e=g.sent(),g.label=2;case 2:g.trys.push([2,7,8,9]),r=Cn(e),a=r.next(),g.label=3;case 3:return a.done?[3,6]:(l=a.value,[4,this._getRaw(l)]);case 4:(u=g.sent())&&(t+=JSON.stringify(u).length),g.label=5;case 5:return a=r.next(),[3,3];case 6:return[3,9];case 7:return h=g.sent(),f={error:h},[3,9];case 8:try{a&&!a.done&&(m=r.return)&&m.call(r)}finally{if(f)throw f.error}return[7];case 9:return[2,t]}})})},n.prototype.getAllKeys=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,t.sent().filter(function(e){return e.endsWith(".0")}).map(function(e){return e.replace(/\.0$/,"")})]}})})},n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f=this;return F(this,function(m){switch(m.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:if(!(r=m.sent()))return[3,7];m.label=2;case 2:return m.trys.push([2,6,,7]),a=r.data,((l=r.metadata)==null?void 0:l.shards)>1?[4,Promise.all(this._generateShardPostfixArray(l==null?void 0:l.shards).map(function(g){return H(f,void 0,void 0,function(){var x,E;return F(this,function(w){switch(w.label){case 0:return g>0?(x=this._getRawKey(t,".".concat(g)),[4,this._getRaw(x)]):[3,2];case 1:if(!(E=w.sent()))throw Or.storeBrokenIntegrity;return[2,E.data];case 2:return[2,a]}})})}))]:[3,4];case 3:return h=m.sent(),[3,5];case 4:h=[a],m.label=5;case 5:return u=h,[2,this.encryption.decrypt(JSON.parse(u.join("")))];case 6:return m.sent(),[2,null];case 7:return[2,null]}})})},n.prototype.set=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return e=this._shardify(t),[4,this._setRaw(e)];case 1:return r.sent(),[2,we({},t.value)]}})})},n.prototype.setMany=function(t){return H(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,this._setRaw([].concat.apply([],et([],Qn(t.map(function(a){return e._shardify(a)})),!1)))];case 1:return r.sent(),[2,t.map(function(a){return a.value})]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(u){switch(u.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:return(r=u.sent())?(a=r.metadata,[4,this._removeRaw(this._generateShardPostfixArray(a==null?void 0:a.shards).map(function(h){return l._getRawKey(t,".".concat(h))}))]):[3,3];case 2:return u.sent(),[2,!0];case 3:return[2,!1]}})})},n.prototype.removeMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x=this;return F(this,function(E){switch(E.label){case 0:e=[],r=function(w){var T,A,P;return F(this,function(C){switch(C.label){case 0:return T=a._getRawKey(w,".0"),[4,a._getRaw(T)];case 1:return(A=C.sent())&&(P=A.metadata,e.push.apply(e,et([],Qn(a._generateShardPostfixArray(P==null?void 0:P.shards).map(function(k){return x._getRawKey(w,".".concat(k))})),!1))),[2]}})},a=this,E.label=1;case 1:E.trys.push([1,6,7,8]),l=Cn(t),u=l.next(),E.label=2;case 2:return u.done?[3,5]:(h=u.value,[5,r(h)]);case 3:E.sent(),E.label=4;case 4:return u=l.next(),[3,2];case 5:return[3,8];case 6:return f=E.sent(),m={error:f},[3,8];case 7:try{u&&!u.done&&(g=l.return)&&g.call(l)}finally{if(m)throw m.error}return[7];case 8:return e.length>0?[4,this._removeRaw(e)]:[3,10];case 9:E.sent(),E.label=10;case 10:return[2,t]}})})},n}(),ss={},T0=function(n){function t(e){e===void 0&&(e={});var r,a=this;a=n.call(this,we(we({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:4194304}))||this;var l=e.delay,u=l===void 0?1:l;return a.delay=u,a.observer={},a}return re(t,n),Object.defineProperty(t.prototype,"rawData",{get:function(){return ss[this.dbname]},set:function(e){ss[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){return F(this,function(e){if(ss[this.dbname])return[2,Object.keys(ss[this.dbname])];throw Or.storeNotAvailable})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return ss[this.dbname]?[4,Og(this.delay)]:[3,2];case 1:return r.sent(),[2,ss[this.dbname][e]?we({key:e},ss[this.dbname][e]):null];case 2:throw Or.storeNotAvailable}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return ss[this.dbname]?[4,Og(this.delay)]:[3,2];case 1:x.sent();try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,u=l.key,h=l.data,f=l.metadata,ss[this.dbname][u]=Object.freeze({data:h,metadata:f})}catch(E){m={error:E}}finally{try{a&&!a.done&&(g=r.return)&&g.call(r)}finally{if(m)throw m.error}}return[3,3];case 2:throw Or.storeNotAvailable;case 3:return[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return ss[this.dbname]?[4,Og(this.delay)]:[3,2];case 1:f.sent();try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,ss[this.dbname][l]&&delete ss[this.dbname][l]}catch(m){u={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[3,3];case 2:throw Or.storeNotAvailable;case 3:return[2]}})})},t.prototype.observe=function(e,r,a){var l=this;this.observer[e]||(this.observer[e]={}),r.forEach(function(u){return l.observer[e][u]=a})},t.prototype.isAvailable=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,!0]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return this.dbname=e,ss[this.dbname]={},[2]})})},t.prototype.set=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){if(this.observer[e.key]&&typeof this.observer[e.key].set=="function"&&(r=this.observer[e.key].set()))throw r;return[2,n.prototype.set.call(this,e)]})})},t.prototype.setMany=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())if(l=a.value,this.observer[l.key]&&typeof this.observer[l.key].set=="function"&&(u=this.observer[l.key].set()))throw u}catch(g){h={error:g}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2,n.prototype.setMany.call(this,e)]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,Og(this.delay)];case 1:return e.sent(),ss[this.dbname]={},[2]}})})},t}(F1),KR="NestDBStore",Cue=function(n){function t(e){e===void 0&&(e={});var r,a=this;return(a=n.call(this,we(we({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:104857600}))||this)._storeName=KR,a._window=typeof window<"u"?window:null,a._indexedDb=a._window?a._window.indexedDB||a._window.mozIndexedDB||a._window.webkitIndexedDB||a._window.msIndexedDB:null,a}return re(t,n),t.prototype._getObjectStore=function(e){return this._database.transaction(this._storeName,e).objectStore(this._storeName)},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,l){var u=e._getObjectStore("readonly").getAllKeys();u.addEventListener("success",function(h){a(h.target.result)}),u.addEventListener("error",function(h){return l(h.target.error)})})];case 1:return[2,r.sent()]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return[4,new Promise(function(l,u){var h=r._getObjectStore("readonly").get(e);h.addEventListener("success",function(f){var m;l((m=f==null?void 0:f.target)===null||m===void 0?void 0:m.result)}),h.addEventListener("error",function(f){return u(f.target.error)})})];case 1:return[2,a.sent()]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(l){return new Promise(function(u,h){var f=r.put(l);f.addEventListener("success",function(m){u(m.target.result)}),f.addEventListener("error",function(){h("Failed to write.")})})}))];case 1:return a.sent(),[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(l){return new Promise(function(u,h){var f=r.delete(l);f.addEventListener("success",function(){return u(l)}),f.addEventListener("error",function(m){return h(m.target.error)})})}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u=this;return F(this,function(h){switch(h.label){case 0:if(!((e=typeof window<"u"?window:null)!=null&&e.indexedDB||e!=null&&e.mozIndexedDB||e!=null&&e.webkitIndexedDB||e!=null&&e.msIndexedDB))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,r=typeof document<"u"&&typeof navigator<"u",a=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),l=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(f,m){if(r)if(a){var g=u._indexedDb.open("_testMozilla");g.onerror=function(){return m("Private browsing mode.")},g.onsuccess=function(){return f()}}else l?(e.PointerEvent||e.MSPointerEvent)&&m("Private browsing mode."):f()})];case 2:return h.sent(),[2,!0];case 3:return h.sent(),[2,!1];case 4:return[2,!1]}})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){switch(l.label){case 0:return this.dbname=e,[4,new Promise(function(u,h){if(a._window&&fc)if(fue){var f=a._indexedDb.open("_testMozilla");f.onerror=function(){return h(Or.storeNotAvailableInPrivateBrowsing)},f.onsuccess=function(){return u()}}else _ue?a._window.indexedDB||!a._window.PointerEvent&&!a._window.MSPointerEvent||h(Or.storeNotAvailableInPrivateBrowsing):u();else h(Or.storeNotAvailable)})];case 1:return l.sent(),r=this,[4,new Promise(function(u,h){var f=a._indexedDb.open(e);f.addEventListener("upgradeneeded",function(m){m.target.result.createObjectStore(KR,{keyPath:"key"})}),f.addEventListener("success",function(m){return u(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 2:return r._database=l.sent(),[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,l){var u=e._getObjectStore("readwrite").clear();u.addEventListener("success",function(){return a()}),u.addEventListener("error",function(h){return l(h.target.error)})})];case 1:return[2,r.sent()]}})})},t}(F1),Nue=function(n){function t(e){var r=this,a=e.AsyncStorage,l=e.itemSizeLimit,u=l===void 0?6291456:l,h=Fse(e,["AsyncStorage","itemSizeLimit"]);return(r=n.call(this,we(we({},h),{itemSizeLimit:u}))||this)._asyncStorage=a,r}return re(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(l){return r._isBelonging(l)}).map(function(l){return l.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:r=[];try{for(a=Cn(e),l=a.next();!l.done;l=a.next())u=l.value,h=u.key,u.data.length<=this.adjustedItemSizeLimit&&r.push([this._getActualKey(h),JSON.stringify(u)])}catch(x){f={error:x}}finally{try{l&&!l.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}}return[4,this._asyncStorage.multiSet(r)];case 1:return g.sent(),[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.multiRemove(e.map(function(l){return r._getActualKey(l)}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,!!this._asyncStorage]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})},t}(F1);(function(n){function t(e){var r,a=this;return(a=n.call(this,we(we({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:6291456}))||this)._mmkv=e.MMKV,a}re(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(l){return r._isBelonging(l)}).map(function(l){return l.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,u=l.key,l.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(u),JSON.stringify(l))}catch(g){h={error:g}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2]})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,this._mmkv.delete(this._getActualKey(l))}catch(m){u={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[2]})})},t.prototype.isAvailable=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,!!this._mmkv]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})}})(F1);var fl,Bw="[NESTDB]",Mg=!0,bd=function(){function n(){}return n.off=function(){Mg=!1},n.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Mg&&console.log.apply(console,et(["".concat(Bw,"[LOG]")],Qn(t),!1))},n.warning=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Mg&&console.warn.apply(console,et(["".concat(Bw,"[WARNING]")],Qn(t),!1))},n.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Mg&&console.error.apply(console,et(["".concat(Bw,"[ERROR]")],Qn(t),!1))},n}();(function(n){n.INIT="INIT",n.OPENING="OPENING",n.OPENED="OPENED",n.CLOSED="CLOSED"})(fl||(fl={}));var Iue=function(){function n(t){var e=t.name,r=t.version,a=t.store,l=t.config;this.name=e,this._version=r,this._state=fl.INIT,this._config=l||new P1({dbname:e}),this._store=a,this._event={success:sb,error:sb,upgrade:qR},this._collections=new Map,this._globalMutex=new ST("".concat(this.name,".lock")),this._config.disableLogger&&bd.off(),new oo({dbname:e,limit:this._config.cacheLimit})}return Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.estimateUsage=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,(e=this._store,H(void 0,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,e.usage()];case 1:return[2,r.sent()]}})}))];case 1:return[2,t.sent()]}var e})})},n.prototype.commitSchema=function(t){return H(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return this._state!==fl.OPENING?[3,2]:[4,Promise.all(t.map(function(a){return H(e,void 0,void 0,function(){var l,u,h,f;return F(this,function(m){switch(m.label){case 0:return l=a.collectionName,u=a.keyName,h=a.index,f=h===void 0?[]:h,this._collections.has(l)||this._collections.set(l,new Hw({dbname:this.name,collectionName:l,keyName:u,indexes:f,store:this._store})),[4,this._collections.get(l).init()];case 1:return m.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw Or.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},n.prototype.open=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l,u=this;return F(this,function(h){switch(h.label){case 0:return[4,this._globalMutex.lock()];case 1:if(h.sent(),this._state===fl.OPENED)return[3,15];this._state=fl.OPENING,h.label=2;case 2:return h.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return h.sent(),f=this.name,e="".concat(y4(f),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(e)];case 4:return a=(t=h.sent())!==null&&t!==void 0?t:r,[2,new Promise(function(m,g){var x=function(w){a.version<u._version?u._event.upgrade(a.version,function(T){return H(u,void 0,void 0,function(){var A;return F(this,function(P){switch(P.label){case 0:if(T)return[3,5];a.version++,a.collectionNames=Array.from(this._collections.keys()),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this._store.set({key:e,value:a,generation:this._version})];case 2:return P.sent(),w({continued:!0}),[3,4];case 3:return A=P.sent(),w({continued:!1,err:A}),[3,4];case 4:return[3,6];case 5:w({continued:!1,err:T}),P.label=6;case 6:return[2]}})})}):w({continued:!1})},E=function(w){var T=w.continued,A=T!==void 0&&T,P=w.err,C=P===void 0?null:P;if(A)setTimeout(function(){return x(E)},10);else if(C)bd.error(C.message),u._globalMutex.unlock(),u._event.error(C),g(C);else{var k=[];a.collectionNames.forEach(function(I){u._collections.has(I)||k.push(H(u,void 0,void 0,function(){var D,U;return F(this,function(O){switch(O.label){case 0:return[4,Hw.metadataOf(this.name,I,this._store)];case 1:return(D=O.sent())?(U=new Hw({dbname:this.name,collectionName:I,keyName:D.keyName,indexes:D.indexes,store:this._store}),this._collections.set(I,U),[4,U.init()]):[3,3];case 2:O.sent(),O.label=3;case 3:return[2]}})}))}),Promise.all(k).then(function(){u._state=fl.OPENED,u._globalMutex.unlock(),u._event.success(),m()}).catch(function(I){bd.error(I.message),u._globalMutex.unlock(),u._event.error(I),g(I)})}};x(E)})];case 5:switch(l=h.sent(),l.code){case Cr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Cr.STORE_NOT_AVAILABLE:return[3,8];case Cr.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return bd.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new T0({}),this._globalMutex.unlock(),this._event.error(l),[4,this.open()];case 7:return h.sent(),[3,14];case 8:return bd.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new T0({}),this._globalMutex.unlock(),this._event.error(l),[4,this.open()];case 9:return h.sent(),[3,14];case 10:return bd.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return h.sent(),this._globalMutex.unlock(),this._event.error(l),[4,this.open()];case 12:return h.sent(),[3,14];case 13:throw bd.error(l.message),this._globalMutex.unlock(),this._event.error(l),l;case 14:return[3,15];case 15:return[2]}var f})})},n.prototype.close=function(){this._collections.forEach(function(t){return t.close()}),this._state=fl.CLOSED},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(e){return e.clear()}))];case 1:return t.sent(),[2]}})})},n.prototype.reset=function(){return H(this,void 0,void 0,function(){var t,e=this;return F(this,function(r){switch(r.label){case 0:return this.close(),(t=oo.get(this.name))&&t.clearByCondition(function(a){return a.key.startsWith(y4(e.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},n.prototype.on=function(t,e){this._event[t]=e},n.prototype.off=function(t){typeof this._event[t]=="function"&&(t==="upgrade"?this._event[t]=qR:this._event[t]=sb)},n.prototype.collection=function(t){return this._collections.get(t)||null},n}(),Aue=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).isMuted=!1,l.isMuted=(a=r.is_muted)!==null&&a!==void 0&&a,l}return re(t,n),t}(It),Oue={profileImage:null,profileUrl:null,nickname:null},Rue=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onSessionExpired=xt,this.onSessionTokenRequired=function(n){return n(null)},this.onSessionError=xt,this.onSessionRefreshed=xt,this.onSessionClosed=xt}),T9=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onConnected=xt,this.onReconnectStarted=xt,this.onReconnectSucceeded=xt,this.onReconnectFailed=xt,this.onDisconnected=xt}),Mue=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onFriendsDiscovered=xt,this.onTotalUnreadMessageCountUpdated=xt}),Due=function(n,t){return function(e,r){e===1?n.clear().then(function(){t.clear().then(function(){(function(a){return H(void 0,void 0,void 0,function(){return F(this,function(l){return[2,a.commitSchema([{collectionName:i9,keyName:lce,index:[ib(ci.LATEST_LAST_MESSAGE),ib(ci.CHRONOLOGICAL),ib(ci.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:a9,keyName:cce,index:[dc(Qi.CHANNEL_LATEST),dc(Qi.NEWEST_CHILD_MESSAGE)]},{collectionName:b9,keyName:yue,index:[dc(Qi.CHANNEL_LATEST),dc(Qi.NEWEST_CHILD_MESSAGE)]},{collectionName:uce,keyName:dce}])]})})})(n).then(function(){return r()}).catch(function(a){return r(a)})}).catch(function(a){return r(a)})}).catch(function(a){return r(a)}):r()}},Lue=function(){return typeof document<"u"?document.visibilityState:"visible"},Uue=function(n){function t(e){var r=e.getVisibilityState,a=r===void 0?Lue:r,l=e.initialState,u=l===void 0?"visible":l,h=e.isEnabled,f=h===void 0||h,m=e.pauseCheckDelay,g=m===void 0?3e4:m,x=n.call(this)||this;return x._pauseCheckDelay=3e4,x._pauseDelayTimer=null,x._currentState="visible",x._getVisibilityState=a,x._pauseCheckDelay=g,x._currentState=u,x._isEnabled=f,x._boundToggleState=x._toggleState.bind(x),x}return re(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,r=this._getVisibilityState();r!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){e._pauseDelayTimer=null,e.dispatch("pause")},this._pauseCheckDelay)),this._currentState=r},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(lh),Pue=function(){function n(t){var e=t.logger,r=t.connectionDelegate,a=r===void 0?null:r,l=this;this._onlineWorker=function(){var u;return(u=l.connectionDelegate)===null||u===void 0?void 0:u.reconnect()},this._offlineWorker=function(){var u;return(u=l.connectionDelegate)===null||u===void 0?void 0:u.disconnect()},this.unsubscribes=[],this._onlineListener=function(u){if(l.isAvailableOnWeb)return window.addEventListener("online",u),function(){return window.removeEventListener("online",u,!1)}},this._offlineListener=function(u){if(l.isAvailableOnWeb)return window.addEventListener("offline",u),function(){return window.removeEventListener("offline",u,!1)}},this.logger=e,a&&(this.connectionDelegate=a)}return Object.defineProperty(n.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),n.prototype.setOnlineListener=function(t){t&&typeof t=="function"&&(this._onlineListener=t)},n.prototype.setOfflineListener=function(t){t&&typeof t=="function"&&(this._offlineListener=t)},n.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},n.prototype.stop=function(){var t=this;this.unsubscribes.forEach(function(e){try{e==null||e()}catch(r){t.logger.warn(r.message)}}),this.unsubscribes=[]},n.prototype.isOnline=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(e){fetch("https://www.google.com",{method:dn.GET,mode:"no-cors"}).then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},n}(),WR=function(n){function t(e){var r=e.userId,a=e.nickname,l=a===void 0?null:a,u=e.profileUrl,h=u===void 0?null:u,f=e.profileImage,m=f===void 0?null:f,g=e.preferredLanguages,x=g===void 0?null:g,E=n.call(this)||this;return E.method=dn.PUT,E.path="".concat(Ht,"/").concat(encodeURIComponent(r)),E.params=st({nickname:l,profile_url:h,profile_file:m,preferred_languages:x}),E}return re(t,n),t}(hn),QR=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=null,a.user=new It(e,we({},r)),a}return re(t,n),t}(mn),Fue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns"),l.params={apns_device_token:a,always_push:!0},l}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Si[r.type.toLowerCase()]:Si.UNKNOWN,a.user=new It(e,r.user),a}re(t,n)})(mn);var Hue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm"),l.params={gcm_reg_token:a,always_push:!0},l}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Si[r.type.toLowerCase()]:Si.UNKNOWN,a.user=new It(e,r.user),a}re(t,n)})(mn);var Bue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(a)),l}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new It(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(mn);var Vue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(a)),l}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new It(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(mn);var zue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.DELETE,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns"),a}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Si[r.type.toLowerCase()]:Si.UNKNOWN,a.user=new It(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(mn);var $ue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.DELETE,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm"),a}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Si[r.type.toLowerCase()]:Si.UNKNOWN,a.user=new It(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(mn);var que=function(n){function t(e){var r=e.userId,a=e.type,l=e.token,u=e.ts,h=n.call(this)||this;return h.method=dn.GET,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(a),"/device_tokens"),h.params={created_ts:u,token:l},h}return re(t,n),t}(hn),Gue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTokens={type:r.type?Si[r.type.toLowerCase()]:Si.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},a}return re(t,n),t}(mn),jue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),a}return re(t,n),t}(hn),Kue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return re(t,n),t}(mn),Wue=function(n){function t(e){var r=e.userId,a=e.willAutoAccept,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),l.params={auto_accept:a},l}return re(t,n),t}(hn),Que=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return re(t,n),t}(mn),Yue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(hn),Xue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return re(t,n),t}(mn),Zue=function(n){function t(e){var r=e.userId,a=e.doNotDisturbOn,l=e.startHour,u=e.startMin,h=e.endHour,f=e.endMin,m=e.timezone,g=n.call(this)||this;return g.method=dn.PUT,g.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),g.params={do_not_disturb:a,start_hour:l,start_min:u,end_hour:h,end_min:f,timezone:m},g}return re(t,n),t}(hn),Jue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return re(t,n),t}(mn),ede=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(hn),nde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return re(t,n),t}(mn),tde=function(n){function t(e){var r=e.userId,a=e.snoozeOn,l=e.startTs,u=e.endTs,h=n.call(this)||this;return h.method=dn.PUT,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),h.params={snooze_enabled:a,snooze_start_ts:l,snooze_end_ts:u},h}return re(t,n),t}(hn),rde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return re(t,n),t}(mn),ide=function(n){function t(e){var r=e.userId,a=e.blockedUserId,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/block"),l.params={target_id:a},l}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=new It(e,r),a}re(t,n)})(mn);var ade=function(n){function t(e){var r=e.userId,a=e.unblockedUserId,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(a)),l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var sde=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(hn),ode=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return re(t,n),t}(mn),lde=function(n){function t(e){var r=e.userId,a=e.pushTriggerOption,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),l.params={push_trigger_option:a},l}return re(t,n),t}(hn),cde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return re(t,n),t}(mn),ude=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/template"),a}return re(t,n),t}(hn),dde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return re(t,n),t}(mn),hde=function(n){function t(e){var r=e.userId,a=e.templateName,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/template"),l.params={name:a},l}return re(t,n),t}(hn),pde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return re(t,n),t}(mn),fde=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=dn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends/changelogs"),l.params={token:a},l}return re(t,n),t}(hn),_de=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.changelogs={addedUsers:r.added.map(function(l){return new It(e,l)}),updatedUsers:r.updated.map(function(l){return new It(e,l)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},a}return re(t,n),t}(mn),mde=function(n){function t(e){var r=e.userId,a=e.discoveries,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friend_discoveries"),l.params={friend_discoveries:a.map(function(u){return{friend_discovery_key:u.friendDiscoveryKey,friend_name:u.friendName}})},l}return re(t,n),t}(hn),vde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.friendDiscoveryRequestId=r.friend_discovery_request_id,a}return re(t,n),t}(mn),gde=function(n){function t(e){var r=e.userId,a=e.discoveryKeys,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friend_discoveries"),l.params={friend_discovery_keys:a},l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var bde=function(n){function t(e){var r=e.userId,a=e.userIds,l=n.call(this)||this;return l.method=dn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),l.params={user_ids:a},l}return re(t,n),t}(hn),yde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new It(e,l)}),a}return re(t,n),t}(mn),Ede=function(n){function t(e){var r=e.userId,a=e.userIds,l=n.call(this)||this;return l.method=dn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),l.params={user_ids:a},l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var wde=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(r,"/allow_friend_discovery"),a.params={},a}return re(t,n),t}(hn),xde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.allowFriendDiscovery=r.allow_friend_discovery,a}return re(t,n),t}(mn),Sde=function(n){function t(e){var r=e.userId,a=e.allowFriendDiscovery,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(r,"/allow_friend_discovery"),l.params={allow_friend_discovery:a},l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var k9=function(n){this.key=null,this.url=null,this.key=n.key,this.url=n.url},C9=function(n){var t,e,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(t=n.id)!==null&&t!==void 0?t:0,this.name=(e=n.name)!==null&&e!==void 0?e:"",this.url=(r=n.url)!==null&&r!==void 0?r:"",this.emojis=n.emojis?n.emojis.map(function(a){return new k9(a)}):[]},Tde=function(n){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=n.emoji_hash||"",this.emojiCategories=n.emoji_categories?n.emoji_categories.map(function(t){return new C9(t)}):[]},kde=function(n){function t(){var e=n.call(this)||this;return e.method=dn.GET,e.path=FP,e}return re(t,n),t}(hn),Cde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiContainer=new Tde(r),a}return re(t,n),t}(mn),Nde=function(n){function t(e){var r=e.categoryId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(FP,"/").concat(r),a}return re(t,n),t}(hn),Ide=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiCategory=new C9(r),a}return re(t,n),t}(mn),Ade=function(n){function t(e){var r=e.key,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(ile,"/").concat(r),a}return re(t,n),t}(hn),Ode=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emoji=new k9(r),a}return re(t,n),t}(mn),Rde=function(n){function t(e){var r=e.limit,a=e.token,l=e.userIdsFilter,u=e.metaDataKeyFilter,h=e.metaDataValuesFilter,f=e.nicknameStartsWithFilter,m=n.call(this)||this;return m.method=dn.GET,m.path=Ht,m.params=st({limit:r,token:a,user_ids:l,metadatakey:u,metadatavalues_in:h,nickname_startswith:f}),m}return re(t,n),t}(hn),Mde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new It(e,l)}),a.next=r.next,a}return re(t,n),t}(mn),Dde=function(n){function t(e,r){var a,l,u,h=this;return(h=n.call(this,e,r)||this).userIdsFilter=null,h.metaDataKeyFilter=null,h.metaDataValuesFilter=null,h.nicknameStartsWithFilter=null,h.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,h.metaDataKeyFilter=(l=r.metaDataKeyFilter)!==null&&l!==void 0?l:null,h.metaDataValuesFilter=(u=r.metaDataValuesFilter)!==null&&u!==void 0?u:null,h.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,h}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&St("string",this.userIdsFilter,!0)&&Ee("string",this.metaDataKeyFilter,!0)&&St("string",this.metaDataValuesFilter,!0)&&Ee("string",this.metaDataKeyFilter,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new Rde(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Mde),u=l.users,h=l.next,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),Lde=function(n){function t(e){var r=e.userId,a=e.limit,l=e.token,u=e.userIdsFilter,h=n.call(this)||this;return h.method=dn.GET,h.path="".concat(Ht,"/").concat(r,"/block"),h.params=st({limit:a,token:l,user_ids:u}),h}return re(t,n),t}(hn),Ude=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new It(e,l)}),a.next=r.next,a}return re(t,n),t}(mn),Pde=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).userIdsFilter=null,l.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,l}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&St("string",this.userIdsFilter,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Lde(we(we({},this),{userId:r.userId,token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return u=g.sent(),h=u.as(Ude),f=h.users,m=h.next,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),Fde=function(n){function t(e){var r=e.userId,a=e.limit,l=e.token,u=n.call(this)||this;return u.method=dn.GET,u.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),u.params={limit:a,token:l},u}return re(t,n),t}(hn),Hde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.hasMore=r.has_more,a.users=r.users.map(function(l){return new It(e,l)}),a.next=r.next,a}return re(t,n),t}(mn),Bde=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Fde(we(we({},this),{userId:r.userId,token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return u=x.sent(),h=u.as(Hde),f=h.users,m=h.hasMore,g=h.next,this._token=g,this._hasNext=m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),wf=null,Vde=function(){function n(t,e,r){var a=this;this._storeInitialized=!1,this._fcmPushToken=null,this._apnsPushToken=null,this._iid=t,this.options=e;var l=Ne.of(t),u=l.sdkState,h=l.cacheContext,f=l.dispatcher,m=l.sessionManager,g=l.requestQueue,x=l.logger,E=l.userEventHandlers,w=l.appStateToggleEnabled;this._onlineDetector=new Pue({logger:x,connectionDelegate:{reconnect:function(){var A=Ne.of(t),P=A.sdkState,C=A.connectionManager,k=A.sessionManager;k.auth.hasSession?P.appState==="foreground"&&C.resetAndReconnect():C.connect(k.auth.authToken)},disconnect:function(){Ne.of(t).connectionManager.disconnect()}}});var T=new zf(t,{localCacheEnabled:h.localCacheEnabled,dispatcher:f,sdkState:u,logger:x});r.forEach(function(A){A.init(t,{sdkState:u,cacheContext:h,dispatcher:f,sessionManager:m,requestQueue:g,logger:x,onlineDetector:a._onlineDetector}),a[A.name]=A}),this._appStateChangeDetector=new Uue({isEnabled:w}),this._appStateChangeDetector.on("resume",function(){x.debug("the page resumes from freeze"),a.setForegroundState()}).on("pause",function(){x.debug("the page freezes"),a.setBackgroundState()}),f.on(function(A){if(A instanceof vs)A.stateType===Qt.CONNECTED&&T.processNonAutoResendRegisteredPendingMessages();else if(A instanceof _r){if(A.code==="USEV"){var P=A.as(S9).event;if(P.category===j_.FRIEND_DISCOVERED){var C=Zb.getDataAsFriendDiscoveredEvent(t,P).friendDiscoveries;zn(function(){return H(a,void 0,void 0,function(){return F(this,function(O){return[2,E.forEach(function(N){N.onFriendsDiscovered(C)})]})})})}}}else if(A instanceof PP){var k=Ne.of(a._iid).subscribedUnreadMessageCount,I=!1,D=A.ts;if(typeof D=="number"&&D>k.ts){if(k.all!==A.all&&(I=!0),k.all=A.all>=0?A.all:0,A.customTypes)for(var U in A.customTypes)k.customTypes[U]!==A.customTypes[U]&&(I=!0),k.customTypes[U]=A.customTypes[U];I=I&&k.ts>0,k.ts=D}I&&zn(function(){return H(a,void 0,void 0,function(){return F(this,function(O){return[2,E.forEach(function(N){N.onTotalUnreadMessageCountUpdated(k.all,k.customTypes)})]})})})}else A instanceof zP&&h.preference.set(a._getUserProfileCacheKey(u.userId),d4.payloadify(A.userProfile))})}return n.init=function(t){var e=t.appId,r=t.appVersion,a=r===void 0?null:r,l=t.modules,u=l===void 0?[]:l,h=t.options,f=h===void 0?new _P:h,m=t.debugMode,g=m!==void 0&&m,x=t.customApiHost,E=t.customWebSocketHost,w=t.newInstance,T=w!==void 0&&w,A=t.logLevel,P=t.localCacheEnabled,C=P!==void 0&&P,k=t.localCacheConfig,I=k===void 0?new vP:k,D=t.localCacheEncryption,U=t.useAsyncStorageStore,O=U===void 0?null:U,N=t.appStateToggleEnabled,L=N===void 0||N;if(!wf||T){var K="su-".concat(Uu()),z=D??{encrypt:function(J){return J},decrypt:function(J){return J}},ae=new T0({encryption:z});g||(ae=gP()?O?new Nue({AsyncStorage:O,encryption:z}):new T0({encryption:z}):new Cue({encryption:z})),new Ne(K,{appId:e,appVersion:a,options:f,apiHost:x??"https://api-".concat(e,".sendbird.com"),websocketHost:E??"wss://ws-".concat(e,".sendbird.com"),store:ae,encryption:z,logLevel:A,localCacheEnabled:C,localCacheConfig:I,debugMode:g,appStateToggleEnabled:L});var fe=[new $le,new oce],B=new n(K,f,et(et([],Qn(u),!1),Qn(fe),!1));return wf||(wf=B),B}return wf},Object.defineProperty(n,"instance",{get:function(){return wf},enumerable:!1,configurable:!0}),Object.defineProperty(n,"version",{get:function(){return pP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appId",{get:function(){return Ne.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appInfo",{get:function(){return Ne.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appVersion",{get:function(){var t;return(t=Ne.of(this._iid).sdkState.appVersion)!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"debugMode",{get:function(){return Ne.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"logLevel",{get:function(){return Ne.of(this._iid).logger.level},set:function(t){Ne.of(this._iid).logger.level=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isCacheEnabled",{get:function(){return Ne.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheConfig",{get:function(){var t=Ne.of(this._iid).cacheContext;return t.localCacheEnabled?t.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ekey",{get:function(){return Ne.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){var t;return(t=Ne.of(this._iid).sessionManager.currentUser)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){var t=Ne.of(this._iid).connectionManager;return t.isConnected?vl.OPEN:t.isConnecting?vl.CONNECTING:vl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastConnectedAt",{get:function(){var t=Ne.of(this._iid),e=t.connectedAt;return t.connectionManager.isConnected?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),n.prototype._getCurrentPreferenceVersion=function(){return 1},n.prototype._getPreferenceCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".pref")},n.prototype._getUserProfileCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".profile")},n.prototype.getMemoryStoreForDebugging=function(){var t=Ne.of(this._iid),e=t.debugMode,r=t.cacheContext;if(e)return r.store instanceof T0?r.store:null;throw Ue.debugModeRequired},n.prototype.addExtension=function(t,e){var r=Ne.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(t)>-1&&(r.extensions[t]=e)},n.prototype.setOnlineListener=function(t){this._onlineDetector.setOnlineListener(t)},n.prototype.setOfflineListener=function(t){this._onlineDetector.setOfflineListener(t)},n.prototype._safeInitializeStore=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:e=Ne.of(this._iid).cacheContext,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,e.store.init(t)];case 2:return r.sent(),this._storeInitialized=!0,[3,5];case 3:return r.sent(),e.store=new T0,[4,this._safeInitializeStore(t)];case 4:return r.sent(),[3,5];case 5:return[2]}})})},n.prototype.initializeCache=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.cacheContext,l=e.connectionManager,u=e.dispatcher,h=e.logger,r.userId&&r.userId===t?[3,10]:[4,l.logout()];case 1:if(x.sent(),f="sendbird@".concat(r.appId,"/").concat(t,".db"),!a.localCacheEnabled)return[3,8];x.label=2;case 2:return x.trys.push([2,5,,7]),a.nestdb&&a.nestdb.state!==fl.CLOSED&&a.nestdb.name===f?[3,4]:((m=a.nestdb=new Iue({name:"sendbird@".concat(r.appId,"/").concat(t,".db"),version:2,store:a.store})).on("upgrade",Due(m,a.store)),[4,m.open()]);case 3:x.sent(),this._storeInitialized=!0,u.dispatch(new w9(this._iid,{userId:t})),x.label=4;case 4:return r.userId=t,[3,7];case 5:return g=x.sent(),h.warn("Nest DB Open Failed. ",g),[4,this._safeInitializeStore(f)];case 6:throw x.sent(),r.userId=t,Ue.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(f)];case 9:x.sent(),r.userId=t,x.label=10;case 10:return[2]}})})},n.prototype.getCacheDataSize=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return(t=Ne.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.estimateUsage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,0]}})})},n.prototype.clearCachedData=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return(t=Ne.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._storeInitialized?[4,t.preference.clear()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},n.prototype.clearCachedMessages=function(t){return H(this,void 0,void 0,function(){var e,r,a=this;return F(this,function(l){switch(l.label){case 0:return _n(St("string",t)).throw(Ue.invalidParameters),e=y9.of(this._iid),r=TT.of(this._iid),e&&r?[4,Promise.all(t.map(function(u){return H(a,void 0,void 0,function(){return F(this,function(h){switch(h.label){case 0:return[4,e.removeMessagesOfChannel(u)];case 1:return h.sent(),[4,r.removeMessagesOfChannel(u)];case 2:return h.sent(),[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},n.prototype.connect=function(t,e){return e===void 0&&(e=null),H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:_n(Ee("string",t)&&Ee("string",e,!0)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.cacheContext,u=r.connectionManager,h=r.statLogCollector,this._onlineDetector.start(),this._appStateChangeDetector.start(),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.initializeCache(t)];case 2:return g.sent(),Ne.of(this._iid).dispatcher.dispatch(new x9),[3,4];case 3:return g.sent(),f=Ne.of(this._iid).logger,l.localCacheEnabled=!1,f.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,l.preference.init(this._getPreferenceCacheKey(t),this._getCurrentPreferenceVersion())];case 5:return g.sent(),[4,l.preference.get(this._getUserProfileCacheKey(t))];case 6:return(m=g.sent())&&new d4(this._iid,m).apply(),[4,h.init("sendbird@".concat(a.appId,"/").concat(t,".statlog"))];case 7:return g.sent(),[4,u.connect(e)];case 8:return g.sent(),[2,this.currentUser]}})})},n.prototype.reconnect=function(){var t=Ne.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.sessionManager.auth.hasSession;return a&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),e.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){})),a},n.prototype.disconnect=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Ne.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.logout()];case 1:return a.sent(),[4,this.clearCachedData()];case 2:return a.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Ne.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.disconnectWebSocket()];case 1:return a.sent(),[2]}})})},n.prototype.setBackgroundState=function(){var t=Ne.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="foreground"&&(r.appState="background",a.debug("going background state"),e.background())},n.prototype.setForegroundState=function(){var t=Ne.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="background"&&(r.appState="foreground",a.debug("going foreground state"),e.resetAndReconnect())},n.prototype.setSessionHandler=function(t){_n(t instanceof Rue).throw(Ue.invalidParameters),Ne.of(this._iid).sessionManager.handler=t},n.prototype.addUserEventHandler=function(t,e){_n(Ee("string",t)&&e instanceof Mue).throw(Ue.invalidParameters),Ne.of(this._iid).userEventHandlers.set(t,e)},n.prototype.removeUserEventHandler=function(t){Ne.of(this._iid).userEventHandlers.delete(t)},n.prototype.removeAllUserEventHandler=function(){Ne.of(this._iid).userEventHandlers.clear()},n.prototype.addConnectionHandler=function(t,e){_n(Ee("string",t)&&e instanceof T9).throw(Ue.invalidParameters),Ne.of(this._iid).connectionHandlers.set(t,e)},n.prototype.removeConnectionHandler=function(t){Ne.of(this._iid).connectionHandlers.delete(t)},n.prototype.removeAllConnectionHandler=function(){Ne.of(this._iid).connectionHandlers.clear()},n.prototype.createApplicationUserListQuery=function(t){return t===void 0&&(t={}),new Dde(this._iid,t)},n.prototype.createBlockedUserListQuery=function(t){return t===void 0&&(t={}),new Pde(this._iid,t)},n.prototype.createFriendListQuery=function(t){return t===void 0&&(t={}),new Bde(this._iid,t)},n.prototype.createMessageSearchQuery=function(t){return new Ble(this._iid,t)},n.prototype.createPollListQuery=function(t){return new n9(this._iid,we({},t))},n.prototype.createPollVoterListQuery=function(t){return new t9(this._iid,we({},t))},n.prototype.buildUserFromSerializedData=function(t){var e=Tu(t);return new It(this._iid,It.payloadify(e))},n.prototype.updateCurrentUserInfo=function(t){return t===void 0&&(t={}),H(this,void 0,void 0,function(){var e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return e=we(we({},Oue),t),_n(function(g){return Ri(g.profileImage,!0)&&Ee("string",g.profileUrl,!0)&&Ee("string",g.nickname,!0)}(e)).throw(Ue.invalidParameters),this.currentUser?(r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new WR(we({userId:a.userId},e)),[4,l.send(u)]):[3,2];case 1:return h=m.sent(),f=h.as(QR).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=f.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=f.profileUrl)),[2,f];case 2:throw Ue.connectionRequired}})})},n.prototype.updateCurrentUserInfoWithPreferredLanguages=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return _n(St("string",t)).throw(Ue.invalidParameters),this.currentUser?(e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new WR({userId:r.userId,preferredLanguages:t}),[4,a.send(l)]):[3,2];case 1:return u=f.sent(),h=u.as(QR).user,this.currentUser&&(this.currentUser.preferredLanguages=h.preferredLanguages),[2,h];case 2:throw Ue.connectionRequired}})})},n.prototype.registerFCMPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h=this;return F(this,function(f){switch(f.label){case 0:if(_n(Ee("string",t)).throw(Ue.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Ne.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,r.hasDeviceToken(Si.FCM,t)?[2,Ra.SUCCESS]:(u=new Hue({userId:a.userId,token:t}),[4,l.send(u)]);case 2:return f.sent(),[4,li(function(){return H(h,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return r.setDeviceToken(Si.FCM,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._fcmPushToken="",[2,Ra.SUCCESS];case 4:return f.sent(),[2,Ra.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ra.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f=this;return F(this,function(m){switch(m.label){case 0:if(_n(Ee("string",t)).throw(Ue.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Ne.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,u=new Vue({userId:a.userId,token:t}),[4,l.send(u)];case 2:return h=m.sent().lastDeletedAt,[4,li(function(){return H(f,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return r.unsetDeviceToken(Si.FCM,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return g.sent(),[2]}})})})];case 3:return m.sent(),this._fcmPushToken="",[2,Ra.SUCCESS];case 4:return m.sent(),[2,Ra.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ra.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h=this;return F(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Ne.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,l=new $ue({userId:r.userId}),[4,a.send(l)]):[3,3];case 1:return u=f.sent().lastDeletedAt,[4,li(function(){return H(h,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(Si.FCM),e.setDeviceTokenDeletedAt(u),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.registerAPNSPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h=this;return F(this,function(f){switch(f.label){case 0:if(_n(Ee("string",t)).throw(Ue.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Ne.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,r.hasDeviceToken(Si.APNS,t)?[2,Ra.SUCCESS]:(u=new Fue({userId:a.userId,token:t}),[4,l.send(u)]);case 2:return f.sent(),[4,li(function(){return H(h,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return r.setDeviceToken(Si.APNS,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._apnsPushToken="",[2,Ra.SUCCESS];case 4:return f.sent(),[2,Ra.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ra.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f=this;return F(this,function(m){switch(m.label){case 0:if(_n(Ee("string",t)).throw(Ue.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Ne.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,u=new Bue({userId:a.userId,token:t}),[4,l.send(u)];case 2:return h=m.sent().lastDeletedAt,[4,li(function(){return H(f,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return r.unsetDeviceToken(Si.APNS,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return g.sent(),[2]}})})})];case 3:return m.sent(),this._apnsPushToken="",[2,Ra.SUCCESS];case 4:return m.sent(),[2,Ra.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ra.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h=this;return F(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Ne.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,l=new zue({userId:r.userId}),[4,a.send(l)]):[3,3];case 1:return u=f.sent().lastDeletedAt,[4,li(function(){return H(h,void 0,void 0,function(){return F(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(Si.APNS),e.setDeviceTokenDeletedAt(u),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.getChannelInvitationPreference=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new jue({userId:e.userId}),[4,r.send(a)];case 1:return l=u.sent(),[2,{autoAccept:l.as(Kue).autoAccept}]}})})},n.prototype.setChannelInvitationPreference=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("boolean",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Wue({userId:r.userId,willAutoAccept:t}),[4,a.send(l)];case 1:return u=h.sent(),[2,{autoAccept:u.as(Que).autoAccept}]}})})},n.prototype.getDoNotDisturb=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Yue({userId:e.userId}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(Xue).preference]}})})},n.prototype.setDoNotDisturb=function(t,e,r,a,l,u){return e===void 0&&(e=0),r===void 0&&(r=0),a===void 0&&(a=0),l===void 0&&(l=0),u===void 0&&(u=""),H(this,void 0,void 0,function(){var h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:return _n(Ee("boolean",t)&&Ee("number",e)&&Ee("number",r)&&Ee("number",a)&&Ee("number",l)&&Ee("string",u)).throw(Ue.invalidParameters),h=Ne.of(this._iid),f=h.sdkState,m=h.requestQueue,g=new Zue({userId:f.userId,doNotDisturbOn:t,startHour:e,startMin:r,endHour:a,endMin:l,timezone:u}),[4,m.send(g)];case 1:return x=E.sent(),[2,x.as(Jue).preference]}})})},n.prototype.getSnoozePeriod=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new ede({userId:e.userId}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(nde).snoozePeriod]}})})},n.prototype.setSnoozePeriod=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),H(this,void 0,void 0,function(){var a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(Ee("boolean",t)&&Ee("number",e)&&Ee("number",r)).throw(Ue.invalidParameters),a=Ne.of(this._iid),l=a.sdkState,u=a.requestQueue,h=new tde({userId:l.userId,snoozeOn:t,startTs:e,endTs:r}),[4,u.send(h)];case 1:return f=m.sent(),[2,f.as(rde).snoozePeriod]}})})},n.prototype.getMyPushTokensByToken=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g,x,E,w,T;return F(this,function(A){switch(A.label){case 0:return _n(Ee("string",t)&&yt(Si,e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=r.sessionManager,h=new que({userId:a.userId,type:e,token:t}),[4,l.send(h)];case 1:f=A.sent(),m=f.as(Gue).pushTokens;try{for(g=Cn(m.deviceTokens),x=g.next();!x.done;x=g.next())E=x.value,u.setDeviceToken(m.type,E)}catch(P){w={error:P}}finally{try{x&&!x.done&&(T=g.return)&&T.call(g)}finally{if(w)throw w.error}}return[4,u.saveDeviceToken()];case 2:return A.sent(),[2,m]}})})},n.prototype.getPushTriggerOption=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new sde({userId:e.userId}),[4,r.send(a)];case 1:return[2,l.sent().as(ode).pushTriggerOption]}})})},n.prototype.setPushTriggerOption=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(yt(Ld,t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new lde({userId:r.userId,pushTriggerOption:t}),[4,a.send(l)];case 1:return[2,u.sent().as(cde).pushTriggerOption]}})})},n.prototype.getPushTemplate=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new ude({userId:e.userId}),[4,r.send(a)];case 1:return[2,l.sent().as(dde).name]}})})},n.prototype.setPushTemplate=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(yt(s4,t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new hde({userId:r.userId,templateName:t}),[4,a.send(l)];case 1:return[2,u.sent().as(pde).name]}})})},n.prototype.blockUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(t instanceof It||Ee("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new ide({userId:r.userId,blockedUserId:t instanceof It?t.userId:t}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},n.prototype.blockUserWithUserId=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.blockUser(t)]})})},n.prototype.unblockUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(t instanceof It||Ee("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new ade({userId:r.userId,unblockedUserId:t instanceof It?t.userId:t}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},n.prototype.unblockUserWithUserId=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.unblockUser(t)]})})},n.prototype.getFriendChangeLogsByToken=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(Ee("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new fde({userId:r.userId,token:t}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(_de).changelogs]}})})},n.prototype.getAllowFriendDiscovery=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new wde({userId:e.userId}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(xde).allowFriendDiscovery]}})})},n.prototype.setAllowFriendDiscovery=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(Ee("boolean",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Sde({userId:r.userId,allowFriendDiscovery:t}),[4,a.send(l)];case 1:return u.sent(),[2,t]}})})},n.prototype.uploadFriendDiscoveries=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new mde({userId:r.userId,discoveries:t}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(vde).friendDiscoveryRequestId]}})})},n.prototype.deleteFriendDiscovery=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.deleteFriendDiscoveries([t])]})})},n.prototype.deleteFriendDiscoveries=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(St("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new gde({userId:r.userId,discoveryKeys:t}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},n.prototype.addFriends=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){switch(h.label){case 0:return _n(St("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new bde({userId:r.userId,userIds:t}),[4,a.send(l)];case 1:return u=h.sent(),[2,u.as(yde).users]}})})},n.prototype.deleteFriend=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.deleteFriends([t])]})})},n.prototype.deleteFriends=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(St("string",t)).throw(Ue.invalidParameters),e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Ede({userId:r.userId,userIds:t}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},n.prototype.getAllEmoji=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Ne.of(this._iid).requestQueue,e=new kde,[4,t.send(e)];case 1:return r=a.sent(),[2,r.as(Cde).emojiContainer]}})})},n.prototype.getEmojiCategory=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Nde({categoryId:t}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(Ide).emojiCategory]}})})},n.prototype.getEmoji=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Ade({key:t}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(Ode).emoji]}})})},n}();const im=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)});var Zt;(function(n){n[n.NONE=0]="NONE",n[n.CHANNEL_ENTER=10102]="CHANNEL_ENTER",n[n.CHANNEL_EXIT=10103]="CHANNEL_EXIT",n[n.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",n[n.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",n[n.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",n[n.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",n[n.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",n[n.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",n[n.TYPING_START=10900]="TYPING_START",n[n.TYPING_END=10901]="TYPING_END",n[n.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",n[n.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",n[n.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",n[n.CHANNEL_INVITE=10020]="CHANNEL_INVITE",n[n.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",n[n.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",n[n.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",n[n.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",n[n.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",n[n.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",n[n.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",n[n.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",n[n.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(Zt||(Zt={}));var zde=function(){function n(t){this.channelUrl=t.channel_url,this.channelType=t.channel_type,this.category=t.cat,this.data=t.data,this.ts=t.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===rr.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===rr.OPEN},enumerable:!1,configurable:!0}),n}(),Tc=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.event=new zde(a),l}return re(t,n),t}(_r),N9=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,u=a.data.operators,h=u===void 0?[]:u;return l.operators=h.map(function(f){return new It(l._iid,f)}),l}return re(t,n),t}(Tc),I9=function(n){function t(e,r,a){var l=n.call(this,e,"MCNT",a)||this;return l.groupChannelMemberCounts=a.group_channels.map(function(u){return{channelUrl:u.channel_url,memberCount:u.member_count,joinedMemberCount:u.joined_member_count,updatedAt:u.ts}}),l.openChannelMemberCounts=a.open_channels.map(function(u){return{channelUrl:u.channel_url,participantCount:u.participant_count,updatedAt:u.ts}}),l}return re(t,n),t}(_r),A9=function(n){function t(e,r,a){var l,u,h,f=this;(f=n.call(this,e,"ADMM",a)||this).message=new j0(e,a);var m=Ne.of(e).sdkState;return f.isMentioned=G0(f.message.mentionType,(l=f.message.mentionedUserIds)!==null&&l!==void 0?l:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(g){return g.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return re(t,n),t}(_r),O9=function(n){function t(e,r,a){var l,u,h,f,m,g,x=this;(x=n.call(this,e,"AEDI",a)||this).message=new j0(e,a);var E=Ne.of(e).sdkState;return x.mentionCountChange=hT({mentionType:(u=(l=a.old_values)===null||l===void 0?void 0:l.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:x.message.mentionType,mentionedUserIds:(m=x.message.mentionedUserIds)!==null&&m!==void 0?m:(g=x.message.mentionedUsers)===null||g===void 0?void 0:g.map(function(w){return w.userId})},E.userId),x}return re(t,n),t}(_r),R9=function(n){function t(e,r,a){var l=n.call(this,e,"MRCT",a)||this;return l.channelUrl=a.channel_url,l.channelType=a.channel_type,l.event=new _T(a),l}return re(t,n),t}(_r),M9=function(n){function t(e,r,a){var l=n.call(this,e,"MTHD",a)||this;return l.event=new Ule(e,a),l}return re(t,n),t}(_r),D9=function(n){function t(e,r,a){var l=n.call(this,e,"PEDI",a)||this;return l.event=null,l.status=null,l.channelUrl=null,l.channelType=null,l.event=new nce(e,a),l.status=h4(a.poll.status)||a.poll.status,l.channelUrl=a.channel_url,l.channelType=a.channel_type,l}return re(t,n),t}(_r),L9=function(){this.onUserMuted=xt,this.onUserUnmuted=xt,this.onUserBanned=xt,this.onUserUnbanned=xt,this.onChannelChanged=xt,this.onChannelDeleted=xt,this.onChannelFrozen=xt,this.onChannelUnfrozen=xt,this.onOperatorUpdated=xt,this.onChannelMemberCountChanged=xt,this.onMetaDataCreated=xt,this.onMetaDataUpdated=xt,this.onMetaDataDeleted=xt,this.onMetaCounterCreated=xt,this.onMetaCounterUpdated=xt,this.onMetaCounterDeleted=xt,this.onMessageReceived=xt,this.onMessageUpdated=xt,this.onMessageDeleted=xt,this.onMentionReceived=xt,this.onReactionUpdated=xt,this.onThreadInfoUpdated=xt},$de=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._channels=new Map,e._enteredChannelUrls=[],e}return re(t,n),Object.defineProperty(t.prototype,"enteredChannels",{get:function(){var e=this;return this._enteredChannelUrls.map(function(r){return e._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),t.prototype.isEnteredChannel=function(e){return this._enteredChannelUrls.includes(e)},t.prototype.enter=function(e){this._enteredChannelUrls.indexOf(e)<0&&this._enteredChannelUrls.push(e)},t.prototype.exit=function(e){var r=this._enteredChannelUrls.indexOf(e);r>=0&&this._enteredChannelUrls.splice(r,1)},t.prototype.exitAll=function(){this._enteredChannelUrls=[]},t.prototype.get=function(e){var r;return H(this,void 0,void 0,function(){return F(this,function(a){return[2,(r=this._channels.get(e))!==null&&r!==void 0?r:null]})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){return e.forEach(function(l){if(r._channels.has(l.url)){var u=r._channels.get(l.url);Object.assign(u,l)}else r._channels.set(l.url,l)}),[2]})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return this._channels.delete(e),this.exit(e),[2]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},t}($s),U9={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null,isEphemeral:null},qde=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,l=n.call(this)||this;return l.method=dn.GET,l.path="".concat(a?tle:uh,"/").concat(encodeURIComponent(r)),l}return re(t,n),t}(hn),YR=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new Q0(e,r),a}return re(t,n),t}(mn),Gde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.coverUrlOrImage,u=e.name,h=e.data,f=e.customType,m=e.operatorUserIds,g=e.isEphemeral;return(r=n.call(this)||this).method=dn.POST,r.path=uh,r.params=st({channel_url:a,cover_url:Ee("string",l)?l:null,cover_file:Ri(l)?l:null,name:u,data:h,custom_type:f,operators:m,is_ephemeral:g}),r}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Q0(e,r),a}re(t,n)})(mn);var jde=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return re(t,n),t}(es),P9=function(n){function t(e,r,a){var l,u,h=this;return h=n.call(this,e,"SYEV",a)||this,a.data&&(h.participantCount=(l=a.data.participant_count)!==null&&l!==void 0?l:0,h.user=new It(e,a.data),h.ts=(u=a.data.edge_ts)!==null&&u!==void 0?u:0),h}return re(t,n),t}(Tc),Kde=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return re(t,n),t}(es),F9=function(n){function t(e,r,a){var l,u,h=this;return h=n.call(this,e,"EXIT",a)||this,a.data&&(h.participantCount=(l=a.data.participant_count)!==null&&l!==void 0?l:0,h.user=new It(e,a.data),h.ts=(u=a.data.edge_ts)!==null&&u!==void 0?u:0),h}return re(t,n),t}(Tc),Dg={},Od=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.requestQueue,u=this;return Dg[t]||(this._iid=t,this._sdkState=r,this._requestQueue=l,this._dispatcher=a,this._openChannelCache=new $de(t),this._openChannelHandlers=new Map,this._dispatcher.on(function(h){var f,m;if(h instanceof _r)u._handleEvent(h);else if(h instanceof vs&&h.stateType===Qt.CONNECTED){var g=u._openChannelCache.enteredChannels;try{for(var x=Cn(g),E=x.next();!E.done;E=x.next())E.value.enter()}catch(w){f={error:w}}finally{try{E&&!E.done&&(m=x.return)&&m.call(x)}finally{if(f)throw f.error}}}}),Dg[t]=this),Dg[t]}return n.of=function(t){return Dg[t]},n.prototype.buildOpenChannelFromSerializedData=function(t){var e=Tu(t);return new Q0(this._iid,Q0.payloadify(e))},n.prototype.getChannelFromCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),e=Cn(t),r=e.next(),f.label=1;case 1:return r.done?[3,4]:(a=r.value,[4,this._openChannelCache.remove(a)]);case 2:f.sent(),f.label=3;case 3:return r=e.next(),[3,1];case 4:return[3,7];case 5:return l=f.sent(),u={error:l},[3,7];case 6:try{r&&!r.done&&(h=e.return)&&h.call(e)}finally{if(u)throw u.error}return[7];case 7:return[2]}})})},n.prototype.setEnteredToCache=function(t){this._openChannelCache.enter(t.url)},n.prototype.setExitedToCache=function(t){this._openChannelCache.exit(t.url)},n.prototype._handleEvent=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N,L,K,z,ae,fe,B,J,ce,W,_e,oe,le,ve,De,pe,he,G,ee,$,ie,Oe,qe,Re,Se,je,Be,We,rn,un,pn,vn,Hn,Tn,j,te,En,Nn,Zn,Gn,$n,Vn,mt,qn,In,Ot,lt=this;return F(this,function(Yn){switch(Yn.label){case 0:switch(Yn.trys.push([0,55,,56]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return l=null,t.code==="MESG"?l=t.as(wT):t.code==="FILE"?l=t.as(vT):t.code!=="ADMM"&&t.code!="BRDM"||(l=t.as(A9)),l?(e=l.message,r=l.isMentioned,e.channelType!==rr.OPEN?[3,3]:[4,this.getChannel(e.channelUrl,!0)]):[3,3];case 2:a=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn,Tt;return F(this,function(Ct){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())ct=fn.value,this._openChannelCache.isEnteredChannel(a.url)&&(ct.onMessageReceived(a,e),r&&ct.onMentionReceived(a,e))}catch(br){jn={error:br}}finally{try{fn&&!fn.done&&(Tt=Fn.return)&&Tt.call(Fn)}finally{if(jn)throw jn.error}}return[2]})})}),Yn.label=3;case 3:return[3,54];case 4:return l=null,t.code==="MEDI"?l=t.as(Yb):t.code==="FEDI"?l=t.as(Xb):t.code==="AEDI"&&(l=t.as(O9)),l?(u=l.message,h=l.mentionCountChange,u.channelType!==rr.OPEN?[3,6]:[4,this.getChannel(u.channelUrl,!0)]):[3,6];case 5:f=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn,Tt;return F(this,function(Ct){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())ct=fn.value,this._openChannelCache.isEnteredChannel(f.url)&&(ct.onMessageUpdated(f,u),h>0&&ct.onMentionReceived(f,u))}catch(br){jn={error:br}}finally{try{fn&&!fn.done&&(Tt=Fn.return)&&Tt.call(Fn)}finally{if(jn)throw jn.error}}return[2]})})}),Yn.label=6;case 6:return[3,54];case 7:return m=t.as(v9),ce=m.channelUrl,W=m.channelType,g=m.messageId,W!==rr.OPEN?[3,9]:[4,this.getChannel(ce,!0)];case 8:x=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn,Tt;return F(this,function(Ct){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())ct=fn.value,this._openChannelCache.isEnteredChannel(x.url)&&ct.onMessageDeleted(x,g)}catch(br){jn={error:br}}finally{try{fn&&!fn.done&&(Tt=Fn.return)&&Tt.call(Fn)}finally{if(jn)throw jn.error}}return[2]})})}),Yn.label=9;case 9:return[3,54];case 10:return E=t.as(R9),ce=E.channelUrl,W=E.channelType,w=E.event,W!==rr.OPEN?[3,12]:[4,this.getChannel(ce,!0)];case 11:T=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn,Tt;return F(this,function(Ct){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())ct=fn.value,this._openChannelCache.isEnteredChannel(T.url)&&ct.onReactionUpdated(T,w)}catch(br){jn={error:br}}finally{try{fn&&!fn.done&&(Tt=Fn.return)&&Tt.call(Fn)}finally{if(jn)throw jn.error}}return[2]})})}),Yn.label=12;case 12:return[3,54];case 13:return(A=t.as(M9).event).channelType!==rr.OPEN?[3,15]:[4,this.getChannel(A.channelUrl,!0)];case 14:P=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn,Tt;return F(this,function(Ct){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())ct=fn.value,this._openChannelCache.isEnteredChannel(P.url)&&ct.onThreadInfoUpdated(P,A)}catch(br){jn={error:br}}finally{try{fn&&!fn.done&&(Tt=Fn.return)&&Tt.call(Fn)}finally{if(jn)throw jn.error}}return[2]})})}),Yn.label=15;case 15:return[3,54];case 16:C=t.as(I9).openChannelMemberCounts,k=[],Yn.label=17;case 17:Yn.trys.push([17,22,23,24]),I=Cn(C),D=I.next(),Yn.label=18;case 18:return D.done?[3,21]:(U=D.value,ce=U.channelUrl,ee=U.participantCount,O=U.updatedAt,[4,this.getChannelFromCache(ce)]);case 19:(N=Yn.sent())&&N._updateParticipantCount(ee,O)&&k.push(N),Yn.label=20;case 20:return D=I.next(),[3,18];case 21:return[3,24];case 22:return L=Yn.sent(),In={error:L},[3,24];case 23:try{D&&!D.done&&(Ot=I.return)&&Ot.call(I)}finally{if(In)throw In.error}return[7];case 24:return k.length>0?[4,this.upsertChannelsToCache(k)]:[3,26];case 25:Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn;return F(this,function(Tt){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())fn.value.onChannelMemberCountChanged(k)}catch(Ct){ct={error:Ct}}finally{try{fn&&!fn.done&&(jn=Fn.return)&&jn.call(Fn)}finally{if(ct)throw ct.error}}return[2]})})}),Yn.label=26;case 26:return[3,54];case 27:return K=t.as(D9),z=K.event,ae=K.status,ce=K.channelUrl,W=K.channelType,ce&&W?[4,this.getChannel(ce,!0)]:[3,54];case 28:return fe=Yn.sent(),this._dispatcher.dispatch(new fT({event:z,source:dt.EVENT_POLL_UPDATED})),zn(ae===GP?function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn;return F(this,function(Tt){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())fn.value.onPollDeleted(fe,z.pollId)}catch(Ct){ct={error:Ct}}finally{try{fn&&!fn.done&&(jn=Fn.return)&&jn.call(Fn)}finally{if(ct)throw ct.error}}return[2]})})}:function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn;return F(this,function(Tt){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())fn.value.onPollUpdated(fe,z)}catch(Ct){ct={error:Ct}}finally{try{fn&&!fn.done&&(jn=Fn.return)&&jn.call(Fn)}finally{if(ct)throw ct.error}}return[2]})})}),[3,54];case 29:return B=t.as(xT),J=B.event,ce=B.channelUrl,W=B.channelType,ce&&W?[4,this.getChannel(ce,!0)]:[3,54];case 30:return _e=Yn.sent(),this._dispatcher.dispatch(new D1({event:J,source:dt.EVENT_POLL_VOTED})),zn(function(){return H(lt,void 0,void 0,function(){var Fn,fn,ct,jn;return F(this,function(Tt){try{for(Fn=Cn(this._openChannelHandlers.values()),fn=Fn.next();!fn.done;fn=Fn.next())fn.value.onPollVoted(_e,J)}catch(Ct){ct={error:Ct}}finally{try{fn&&!fn.done&&(jn=Fn.return)&&jn.call(Fn)}finally{if(ct)throw ct.error}}return[2]})})}),[3,54];case 31:if(!(oe=t.as(Tc).event).isOpenChannelEvent)return[3,53];switch(oe.category){case Zt.CHANNEL_ENTER:return[3,32];case Zt.CHANNEL_EXIT:return[3,34];case Zt.CHANNEL_OPERATOR_UPDATE:return[3,36];case Zt.USER_CHANNEL_MUTE:case Zt.USER_CHANNEL_UNMUTE:return[3,38];case Zt.USER_CHANNEL_BAN:case Zt.USER_CHANNEL_UNBAN:return[3,40];case Zt.CHANNEL_FREEZE:case Zt.CHANNEL_UNFREEZE:return[3,42];case Zt.CHANNEL_DELETED:return[3,44];case Zt.CHANNEL_PROP_CHANGED:return[3,47];case Zt.CHANNEL_META_DATA_CHANGED:return[3,49];case Zt.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(oe.channelUrl,!0)];case 33:return le=Yn.sent(),ve=t.as(P9),ee=ve.participantCount,De=ve.user,pe=le._updateParticipantCount(ee,oe.ts),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){fn.onUserEntered(le,De),pe&&fn.onChannelParticipantCountChanged(le)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(oe.channelUrl,!0)];case 35:return he=Yn.sent(),G=t.as(F9),ee=G.participantCount,$=G.user,ie=he._updateParticipantCount(ee,oe.ts),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){fn.onUserExited(he,$),ie&&fn.onChannelParticipantCountChanged(he)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(oe.channelUrl,!0)];case 37:return Oe=Yn.sent(),qe=t.as(N9).operators,Oe.operators=qe,this.upsertChannelsToCache([Oe]),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){fn.onOperatorUpdated(Oe,qe)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(oe.channelUrl,!0)];case 39:return Re=Yn.sent(),Se=oe.category===Zt.USER_CHANNEL_MUTE,je=t.as(Se?h9:p9).user,zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){Se?fn.onUserMuted(Re,je):fn.onUserUnmuted(Re,je)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(oe.channelUrl,!0)];case 41:return Be=Yn.sent(),We=oe.category===Zt.USER_CHANNEL_BAN,rn=t.as(We?f9:_9).user,zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){We?fn.onUserBanned(Be,rn):fn.onUserUnbanned(Be,rn)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(oe.channelUrl,!0)];case 43:return un=Yn.sent(),pn=t.as(m9).freeze,un.isFrozen=pn,this.upsertChannelsToCache([un]),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){pn?fn.onChannelFrozen(un):fn.onChannelUnfrozen(un)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(oe.channelUrl,!0)];case 45:return vn=Yn.sent(),[4,this.removeChannelsFromCache([vn.url])];case 46:return Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){fn.onChannelDeleted(vn.url,vn.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(oe.channelUrl,!0)];case 48:return Hn=Yn.sent(),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){fn.onChannelChanged(Hn)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(oe.channelUrl,!0)];case 50:return Tn=Yn.sent(),j=t.as(u9),te=j.created,En=j.updated,Nn=j.deleted,te&&Tn._upsertCachedMetaData(te,oe.ts),En&&Tn._upsertCachedMetaData(En,oe.ts),Nn&&Tn._removeFromCachedMetaData(Nn,oe.ts),zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){te&&fn.onMetaDataCreated(Tn,te),En&&fn.onMetaDataUpdated(Tn,En),Nn&&fn.onMetaDataDeleted(Tn,Nn)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(oe.channelUrl,!0)];case 52:return Zn=Yn.sent(),Gn=t.as(d9),$n=Gn.created,Vn=Gn.updated,mt=Gn.deleted,zn(function(){return H(lt,void 0,void 0,function(){return F(this,function(Fn){return this._openChannelHandlers.forEach(function(fn){$n&&fn.onMetaCounterCreated(Zn,$n),Vn&&fn.onMetaCounterUpdated(Zn,Vn),mt&&fn.onMetaCounterDeleted(Zn,mt)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(qn=Yn.sent(),El(qn))throw qn;return[3,56];case 56:return[2]}})})},n.prototype.addHandler=function(t,e){this._openChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._openChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._openChannelHandlers.clear()},n.prototype.getChannel=function(t,e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:_n(Ee("string",t)).throw(Ue.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r,a,l;return F(this,function(u){switch(u.label){case 0:return _n(Ee("string",t)).throw(Ue.invalidParameters),r=new qde({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),l=a.as(YR).channel,[4,this.upsertChannelsToCache([l])];case 2:return u.sent(),[2,l]}})})},n.prototype.createChannel=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=we(we({},U9),t),_n(function(h){return St("string",h.operatorUserIds,!0)&&(Ee("string",h.coverUrlOrImage)||Ri(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&Ee("string",h.name,!0)&&Ee("string",h.data,!0)&&Ee("string",h.customType,!0)&&(Ee("string",h.channelUrl)&&/^\w+$/.test(h.channelUrl)||h.channelUrl===null)&&Ee("boolean",h.isEphemeral,!0)}(e)).throw(Ue.invalidParameters),r=new Gde(e),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),l=a.as(YR).channel,this.upsertChannelsToCache([l]),[2,l]}})})},n}(),XR={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},Wde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.token,u=e.limit;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(uh,"/").concat(encodeURIComponent(a),"/participants"),r.params={token:l,limit:u},r}return re(t,n),t}(hn),Qde=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.participants=[];var l=r.next,u=r.participants;return a.token=l,a.participants=u.map(function(h){return new Aue(e,h)}),a}return re(t,n),t}(mn),Yde=function(n){function t(e,r,a){return n.call(this,e,r,rr.OPEN,a)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new Wde(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Qde),u=l.participants,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),Xde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.coverUrlOrImage,u=e.name,h=e.data,f=e.customType,m=e.operatorUserIds;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(uh,"/").concat(encodeURIComponent(a)),r.params=st({cover_url:Ee("string",l)?l:null,cover_file:Ri(l)?l:null,name:u,data:h,custom_type:f,operators:m}),r}return re(t,n),t}(hn),Zde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Q0(e,r),a}return re(t,n),t}(mn),Jde=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(uh,"/").concat(encodeURIComponent(a)),r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var Q0=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this)._lastParticipantCountUpdated=0,l.participantCount=0,l.operators=[],l.channelType=rr.OPEN,l.participantCount=(a=r.participant_count)!==null&&a!==void 0?a:0,l.operators=Array.isArray(r.operators)?r.operators.map(function(u){return new It(e,u)}):[],l}return re(t,n),t.payloadify=function(e){return e?st(we(we({},v4.payloadify(e)),{participant_count:e.participantCount,operators:e.operators.map(function(r){return It.payloadify(r)})})):null},t.prototype.serialize=function(){return np(this)},t.prototype.isOperator=function(e){return e instanceof It?this.isOperator(e.userId):this.operators.some(function(r){return r.userId===e})},t.prototype._updateParticipantCount=function(e,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=e,this._lastParticipantCountUpdated=r,!0)},t.prototype.createParticipantListQuery=function(e){return new Yde(this._iid,this.url,e)},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,Od.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,e.sent()]}})})},t.prototype.enter=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new jde({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(P9),u=l.participantCount,h=l.ts,this._updateParticipantCount(u,h),Od.of(this._iid).setEnteredToCache(this),[2]}})})},t.prototype.exit=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Kde({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(F9),u=l.participantCount,h=l.ts,this._updateParticipantCount(u,h),Od.of(this._iid).setExitedToCache(this),zi.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},t.prototype.updateChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return r=we(we({},XR),e),_n(function(m){return St("string",m.operatorUserIds,!0)&&(Ee("string",m.coverUrlOrImage)||Ri(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&Ee("string",m.name,!0)&&Ee("string",m.data,!0)&&Ee("string",m.customType,!0)}(r)).throw(Ue.invalidParameters),a=Ne.of(this._iid).requestQueue,l=new Xde(we({channelUrl:this.url},r)),[4,a.send(l)];case 1:return u=f.sent(),h=u.as(Zde).channel,[4,Od.of(this._iid).upsertChannelsToCache([h])];case 2:return f.sent(),[2,h]}})})},t.prototype.updateChannelWithOperatorUserIds=function(e,r,a,l,u){return H(this,void 0,void 0,function(){var h;return F(this,function(f){return h=we(we({},XR),{name:e,coverUrlOrImage:r,data:a,operatorUserIds:l,customType:u}),[2,this.updateChannel(h)]})})},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new Jde({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[4,Od.of(this._iid).removeChannelsFromCache([this.url])];case 2:return a.sent(),[2]}})})},t.prototype.sendUserMessage=function(e){return _n(!e.isPinnedMessage).throw(Ue.notSupportedError),n.prototype.sendUserMessage.call(this,e)},t.prototype.sendFileMessage=function(e){return _n(!e.isPinnedMessage).throw(Ue.notSupportedError),n.prototype.sendFileMessage.call(this,e)},t}(v4),ehe=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserEntered=xt,e.onUserExited=xt,e.onChannelParticipantCountChanged=xt,e.onPollUpdated=xt,e.onPollVoted=xt,e.onPollDeleted=xt,e}return re(t,n),t}(L9)),nhe=function(n){function t(e){var r=this,a=e.token,l=e.limit,u=e.nameKeyword,h=e.urlKeyword,f=e.customTypes,m=e.includeFrozen,g=e.includeMetaData;return(r=n.call(this)||this).method=dn.GET,r.path=uh,r.params=st({token:a,limit:l,name_contains:u,url_contains:h,custom_types:f,show_frozen:m,show_metadata:g}),r}return re(t,n),t}(hn),the=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var l=r.next,u=r.channels,h=r.ts;return a.token=l,u&&u.length>0&&(a.channels=u.map(function(f){return new Q0(e,f)})),a.ts=typeof h=="number"?h:null,a}return re(t,n),t}(mn),rhe=function(n){function t(e,r){var a,l,u,h,f,m=this;return(m=n.call(this,e,r)||this).includeFrozen=!0,m.includeMetaData=!0,m.nameKeyword=null,m.urlKeyword=null,m.customTypes=null,m.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,m.includeMetaData=(l=r.includeMetaData)===null||l===void 0||l,m.nameKeyword=(u=r.nameKeyword)!==null&&u!==void 0?u:null,m.urlKeyword=(h=r.urlKeyword)!==null&&h!==void 0?h:null,m.customTypes=(f=r.customTypes)!==null&&f!==void 0?f:null,m}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("boolean",this.includeFrozen)&&Ee("boolean",this.includeMetaData)&&Ee("string",this.nameKeyword,!0)&&Ee("string",this.urlKeyword,!0)&&St("string",this.customTypes,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new nhe(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,3]:[3,6];case 1:return a=f.sent(),l=a.as(the),u=l.channels,h=l.token,this._token=h,this._hasNext=!!h,[4,Od.of(this._iid).upsertChannelsToCache(u)];case 2:return f.sent(),this._isLoading=!1,[2,u];case 3:return[2,[]];case 4:throw Ue.queryInProgress;case 5:return[3,7];case 6:throw Ue.invalidParameters;case 7:return[2]}})})},t}(xc),ihe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="openChannel",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:g}),this._manager=new Od(e,{sdkState:a,dispatcher:l,requestQueue:h})},t.prototype.createOpenChannelListQuery=function(e){return e===void 0&&(e={}),new rhe(this._iid,e)},t.prototype.addOpenChannelHandler=function(e,r){this._manager.addHandler(e,r)},t.prototype.removeOpenChannelHandler=function(e){this._manager.removeHandler(e)},t.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildOpenChannelFromSerializedData=function(e){return this._manager.buildOpenChannelFromSerializedData(e)},t.prototype.getChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.createChannel=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.createChannel(e)]})})},t.prototype.createChannelWithOperatorUserIds=function(e,r,a,l,u){return H(this,void 0,void 0,function(){var h;return F(this,function(f){return(h=we({},U9)).name=e,h.coverUrlOrImage=r,h.data=a,h.operatorUserIds=l,h.customType=u,[2,this._manager.createChannel(h)]})})},t}(M1),Xr;(function(n){n.NONE="none",n.JOINED="joined",n.INVITED="invited",n.LEFT="left"})(Xr||(Xr={}));var _c,Ls,ms,jd,gl,Jb,ku,K_,uo=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.state=null,a.role=null,a.isMuted=!1,a.isBlockedByMe=!1,a.isBlockingMe=!1,a.state=yt(Xr,r.state)?r.state:null,a.role=yt(co,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(a.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(a.isBlockingMe=r.is_blocking_me),a}return re(t,n),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{state:e.state,role:e.role,is_muted:e.isMuted,is_blocked_by_me:e.isBlockedByMe,is_blocking_me:e.isBlockingMe})):null},t}(hh),H9=function(n){function t(e,r){var a,l,u=this;return(u=n.call(this,e)||this).channelUrl=(a=r.channel_url)!==null&&a!==void 0?a:"",u.channelType=(l=r.channel_type)!==null&&l!==void 0?l:rr.GROUP,u.reader=new It(u._iid,r.user),u.readAt=r.ts,u}return re(t,n),t}($s);(function(n){n.ALL="all",n.PUBLIC="public",n.PRIVATE="private"})(_c||(_c={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Ls||(Ls={})),function(n){n.ALL="all",n.SUPER="super",n.NON_SUPER="nonsuper",n.BROADCAST_ONLY="broadcast_only",n.EXCLUSIVE_ONLY="exclusive_only"}(ms||(ms={})),function(n){n.ALL="all",n.UNREAD_MESSAGE="unread_message"}(jd||(jd={})),function(n){n.ALL="all",n.UNHIDDEN="unhidden_only",n.HIDDEN="hidden_only",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(gl||(gl={})),function(n){n.ALL="all",n.OPERATOR="operator",n.NONOPERATOR="nonoperator"}(Jb||(Jb={})),function(n){n.AND="AND",n.OR="OR"}(ku||(ku={})),function(n){n.MEMBER_NICKNAME="member_nickname",n.CHANNEL_NAME="channel_name"}(K_||(K_={}));var xi,B9=function(){function n(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter=null,this.nicknameStartsWithFilter=null,this.nicknameExactMatchFilter=null,this.channelNameContainsFilter="",this.myMemberStateFilter=Ls.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=ms.ALL,this.publicChannelFilter=_c.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=jd.ALL,this.hiddenChannelFilter=gl.UNHIDDEN,this.includeFrozen=!0}return n.prototype._isFriend=function(t){return!!t.friendDiscoveryKey||!!t.friendName},Object.defineProperty(n.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),n.prototype.setSearchFilter=function(t,e){Array.isArray(t)&&t.length!==0&&typeof e=="string"&&e&&(this._searchFilter={query:e,fields:t})},Object.defineProperty(n.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),n.prototype.setUserIdsFilter=function(t,e,r){r===void 0&&(r=ku.AND),this._userIdsFilter={userIds:t,includeMode:e,queryType:r}},n.prototype.clone=function(){var t=new n;this.searchFilter&&t.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t,e){if(this._searchFilter){var r=this._searchFilter,a=r.query,l=r.fields;if(a&&l&&l.length>0&&!l.some(function(T){switch(T){case K_.CHANNEL_NAME:return t.name.toLowerCase().includes(a.toLowerCase());case K_.MEMBER_NICKNAME:return t.members.some(function(A){return A.nickname.toLowerCase().includes(a.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var u=this._userIdsFilter,h=u.userIds,f=u.includeMode,m=u.queryType,g=t.members.map(function(T){return T.userId});if(f){if(h.length>0)switch(m){case ku.AND:if(h.some(function(T){return!g.includes(T)}))return!1;break;case ku.OR:if(h.every(function(T){return!g.includes(T)}))return!1}}else if(h.includes(e)||h.push(e),t.members.length>h.length||!$se(h,g))return!1}if(!this.includeEmpty&&!t.lastMessage||!this.includeFrozen&&t.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(t.customType)||this.channelNameContainsFilter&&!t.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var x=this.nicknameContainsFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase().includes(x)}))return!1}if(this.nicknameStartsWithFilter){var E=this.nicknameStartsWithFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase().startsWith(E)}))return!1}if(this.nicknameExactMatchFilter){var w=this.nicknameExactMatchFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase()!=w}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(t.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case Ls.JOINED:if(t.myMemberState!=="joined")return!1;break;case Ls.INVITED:if(t.myMemberState!=="invited")return!1;break;case Ls.INVITED_BY_FRIEND:if(t.myMemberState!=="invited"||!this._isFriend(t.inviter))return!1;break;case Ls.INVITED_BY_NON_FRIEND:if(t.myMemberState!=="invited"||this._isFriend(t.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case gl.UNHIDDEN:if(t.isHidden||t.hiddenState!=="unhidden")return!1;break;case gl.HIDDEN:if(!t.isHidden)return!1;break;case gl.HIDDEN_ALLOW_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case gl.HIDDEN_PREVENT_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===jd.UNREAD_MESSAGE&&t.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case _c.PUBLIC:if(!t.isPublic)return!1;break;case _c.PRIVATE:if(t.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case ms.SUPER:if(!t.isSuper)return!1;break;case ms.NON_SUPER:if(t.isSuper)return!1}return!0},n}(),ahe=function(n){function t(e,r){var a=r.sdkState,l=r.cacheContext,u=n.call(this,e)||this;return u._channels=new Map,u._sdkState=a,u._cacheContext=l,u}return re(t,n),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(i9):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,r){return r===void 0&&(r=0),we(we({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:r})},t.prototype._deserialize=function(e){return Gr.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return et([],Qn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var r=this;return e.filter(function(a){if(r._channels.has(a.url))return r._channels.get(a.url).messageOffsetTimestamp<a.messageOffsetTimestamp})},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=l.sent())return a=this._deserialize(r),this._channels.set(e,a),[2,a];l.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(e)]}})})},t.prototype.fetch=function(e){var r=e.token,a=e.limit,l=a===void 0?r9:a,u=e.backward,h=u!==void 0&&u,f=e.filter,m=f===void 0?new B9:f,g=e.order,x=g===void 0?ci.LATEST_LAST_MESSAGE:g,E=e.borderlineChannelUrl,w=E===void 0?null:E;return H(this,void 0,void 0,function(){var T,A,P,C,k=this;return F(this,function(I){switch(I.label){case 0:return this.localCacheEnabled?(T=ib(x),A={where:function(D){if(r)switch(x){case ci.CHANNEL_NAME_ALPHABETICAL:if(!h&&D.name.localeCompare(r)<0||h&&D.name.localeCompare(r)>0||w&&w===D.url)return!1;break;case ci.CHRONOLOGICAL:if(!h&&D.createdAt>r||h&&D.createdAt<r||w&&w===D.url)return!1;break;case ci.LATEST_LAST_MESSAGE:if(!h&&D.lastMessageUpdatedAt>r||h&&D.lastMessageUpdatedAt<r||w&&w===D.url)return!1}return m.match(k._deserialize(D),k._sdkState.userId)},index:T,backward:h},[4,this.collection.query(A)]):[3,3];case 1:return[4,I.sent().fetch({limit:l})];case 2:return P=I.sent(),(C=P.map(function(D){return k._deserialize(D)})).forEach(function(D){k._channels.has(D.url)||k._channels.set(D.url,D)}),[2,C];case 3:return[2,[]]}})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(u){switch(u.label){case 0:if(e.forEach(function(h){if(l._channels.has(h.url)){var f=l._channels.get(h.url);h._pinnedMessagesUpdatedAt<f._pinnedMessagesUpdatedAt&&(h._pinnedMessagesUpdatedAt=f._pinnedMessagesUpdatedAt),Object.assign(f,h,{_iid:l._iid})}else l._channels.set(h.url,h)}),!this.localCacheEnabled)return[3,2];for(a in r=[],e)r.push(this._serialize(e[a],parseInt(a)));return[4,this.collection.upsertMany(r)];case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,7]),r=Cn(e),a=r.next(),m.label=1;case 1:return a.done?[3,4]:(l=a.value,this._channels.delete(l),this.localCacheEnabled?[4,this.collection.remove(l)]:[3,3]);case 2:m.sent(),m.label=3;case 3:return a=r.next(),[3,1];case 4:return[3,7];case 5:return u=m.sent(),h={error:u},[3,7];case 6:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,r,a){return H(this,void 0,void 0,function(){var l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N;return F(this,function(L){switch(L.label){case 0:if(l=[],e===this._sdkState.userId)try{for(u=Cn(this._channels.values()),h=u.next();!h.done;h=u.next()){E=h.value;try{for(k=void 0,f=Cn(E.members),m=f.next();!m.done;m=f.next())if((A=m.value).userId===r){A.isBlockedByMe=a,l.push(E);break}}catch(K){k={error:K}}finally{try{m&&!m.done&&(I=f.return)&&I.call(f)}finally{if(k)throw k.error}}}}catch(K){P={error:K}}finally{try{h&&!h.done&&(C=u.return)&&C.call(u)}finally{if(P)throw P.error}}else if(r===this._sdkState.userId)try{for(g=Cn(this._channels.values()),x=g.next();!x.done;x=g.next()){E=x.value;try{for(O=void 0,w=Cn(E.members),T=w.next();!T.done;T=w.next())if((A=T.value).userId===e){A.isBlockingMe=a,l.push(E);break}}catch(K){O={error:K}}finally{try{T&&!T.done&&(N=w.return)&&N.call(w)}finally{if(O)throw O.error}}}}catch(K){D={error:K}}finally{try{x&&!x.done&&(U=g.return)&&U.call(g)}finally{if(D)throw D.error}}return l.length>0?[4,this.upsert(l)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},t.prototype.block=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!0)];case 1:return a.sent(),[2]}})})},t.prototype.unblock=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!1)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(e,r){return r===void 0&&(r=et([],Qn(this._channels.keys()),!1)),H(this,void 0,void 0,function(){var a,l,u,h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:a=[],E.label=1;case 1:E.trys.push([1,6,7,8]),l=Cn(r),u=l.next(),E.label=2;case 2:return u.done?[3,5]:(h=u.value,[4,this.get(h)]);case 3:(f=E.sent())._updateUnreadMemberState(this._sdkState.userId,e)&&(f._updateUnreadCount(0,0),a.push(f)),E.label=4;case 4:return u=l.next(),[3,2];case 5:return[3,8];case 6:return m=E.sent(),g={error:m},[3,8];case 7:try{u&&!u.done&&(x=l.return)&&x.call(l)}finally{if(g)throw g.error}return[7];case 8:return a.length>0?[4,this.upsert(a)]:[3,10];case 9:E.sent(),E.label=10;case 10:return[2]}})})},t}($s),lb={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},w4=function(n){return St("string",n.invitedUserIds,!0)&&Ee("string",n.channelUrl,!0)&&Ee("string",n.coverUrl,!0)&&(Ri(n.coverImage)||Ee("string",n.coverImage)||n.coverImage===null)&&Ee("boolean",n.isDistinct,!0)&&Ee("boolean",n.isSuper,!0)&&Ee("boolean",n.isBroadcast,!0)&&Ee("boolean",n.isExclusive,!0)&&Ee("boolean",n.isPublic,!0)&&Ee("boolean",n.isStrict,!0)&&Ee("boolean",n.isDiscoverable,!0)&&Ee("boolean",n.isEphemeral,!0)&&Ee("string",n.accessCode,!0)&&Ee("string",n.name,!0)&&Ee("string",n.data,!0)&&Ee("string",n.customType,!0)&&St("string",n.operatorUserIds,!0)&&Ee("number",n.messageSurvivalSeconds,!0)},e1={customTypes:null,includeEmpty:!1,includeFrozen:!0},x4=function(n){return St("string",n.customTypes,!0)&&Ee("boolean",n.includeEmpty)&&Ee("boolean",n.includeFrozen)},V9={myMemberStateFilter:Ls.ALL},z9=function(n){return yt(Ls,n.myMemberStateFilter)};(function(n){n.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",n.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",n.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",n.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",n.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",n.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",n.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",n.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",n.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(xi||(xi={}));var she={keys:[]},ohe={channelCustomTypesFilter:null,superChannelFilter:ms.ALL},lhe={channelUrl:null,scheduledStatus:null,messageTypeFilter:Xi.ALL},che=function(){function n(t){var e=t.groupChannelCache,r=t.messageCache,a=t.unsentMessageCache,l=t.dispatcher,u=this;this._observers=new Map,l.on(function(h){return H(u,void 0,void 0,function(){var f,m,g,x,E,w,T,A,P,C,k,I,D=this;return F(this,function(U){switch(U.label){case 0:if(!(h instanceof Dt))return[3,10];f=h.channels,C=h.source,m=h.data,g=f.filter(function(O){return O instanceof Hs}),x=e.filterOffsetChanged(g),U.label=1;case 1:U.trys.push([1,6,7,8]),E=Cn(x),w=E.next(),U.label=2;case 2:return w.done?[3,5]:(T=w.value,[4,r.removeUnderOffset(T.url,T.messageOffsetTimestamp)]);case 3:U.sent(),U.label=4;case 4:return w=E.next(),[3,2];case 5:return[3,8];case 6:return A=U.sent(),k={error:A},[3,8];case 7:try{w&&!w.done&&(I=E.return)&&I.call(E)}finally{if(k)throw k.error}return[7];case 8:return[4,e.upsert(g)];case 9:return U.sent(),this._broadcastUpdateEvent(g,C,m),[3,15];case 10:return h instanceof Sd?(P=h.channelUrls,C=h.source,[4,e.remove(P)]):[3,13];case 11:return U.sent(),[4,li(function(){return H(D,void 0,void 0,function(){var O,N,L,K,z,ae;return F(this,function(fe){switch(fe.label){case 0:fe.trys.push([0,6,7,8]),O=Cn(P),N=O.next(),fe.label=1;case 1:return N.done?[3,5]:(L=N.value,[4,r.removeMessagesOfChannel(L)]);case 2:return fe.sent(),[4,a.removeMessagesOfChannel(L)];case 3:fe.sent(),fe.label=4;case 4:return N=O.next(),[3,1];case 5:return[3,8];case 6:return K=fe.sent(),z={error:K},[3,8];case 7:try{N&&!N.done&&(ae=O.return)&&ae.call(O)}finally{if(z)throw z.error}return[7];case 8:return[2]}})})})];case 12:return U.sent(),this._broadcastRemoveEvent(P,C),[3,15];case 13:return h instanceof w9?[4,e.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,15];case 14:U.sent(),U.label=15;case 15:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e,r){var a,l;try{for(var u=Cn(this._observers.values()),h=u.next();!h.done;h=u.next())h.value.onUpdate(t,e,r)}catch(f){a={error:f}}finally{try{h&&!h.done&&(l=u.return)&&l.call(u)}finally{if(a)throw a.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),uhe=function(){function n(t){var e=t.cacheContext,r=t.messageCache,a=t.unsentMessageCache,l=t.dispatcher,u=t.logger,h=this;this._cacheContext=null,this._observers=new Map,this._logger=null,this._cacheContext=e,this._logger=u,l.on(function(f){return H(h,void 0,void 0,function(){var m,g,x,E,w,T,A,P,C,k,I,D,U,O=this;return F(this,function(N){switch(N.label){case 0:return f instanceof ri?(m=f.messages,D=f.source,g=m.filter(function(L){return L.messageId>0}),x=m.filter(function(L){return L.messageId===0}),g.length>0?[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,r.upsert(g)];case 1:return L.sent(),[4,a.remove(g.map(function(K){return K instanceof Ai?K.reqId:null}).filter(function(K){return K!==null}))];case 2:return L.sent(),[2]}})})})]:[3,2]):[3,5];case 1:N.sent(),this._broadcastUpdateEvent(g,D),N.label=2;case 2:return x.length>0?[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,a.upsert(x)];case 1:return L.sent(),[2]}})})})]:[3,4];case 3:N.sent(),this._broadcastUpdateEvent(x,D),N.label=4;case 4:return[3,21];case 5:return f instanceof pT?(E=f.messageIds,D=f.source,[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,r.remove(E)];case 1:return L.sent(),[2]}})})})]):[3,7];case 6:return N.sent(),this._broadcastRemoveEvent(E,D),[3,21];case 7:return f instanceof WP?(w=f.reqId,D=f.source,[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,a.remove([w])];case 1:return L.sent(),[2]}})})})]):[3,9];case 8:return N.sent(),this._broadcastRemoveUnsentEvent(w,D),[3,21];case 9:return f instanceof QP?(T=f.polls,D=f.source,this._cacheContext.localCacheEnabled?(A=T.map(function(L){return L.messageId}),[4,Promise.all(A.map(function(L){return r.get(L)}))]):[3,12]):[3,13];case 10:return(P=N.sent().filter(function(L){return L})).length>0&&T.forEach(function(L){var K=P.find(function(z){return z.messageId===L.messageId});K&&K.applyPoll(L)}),[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,r.upsert(P)];case 1:return[2,L.sent()]}})})})];case 11:N.sent(),N.label=12;case 12:return this._broadcastPollChangeLogEvent(T,D),[3,21];case 13:return f instanceof fT?(C=f.event,D=f.source,[4,r.get(C.messageId)]):[3,17];case 14:return(k=N.sent())&&k.isUserMessage()&&k.poll&&k.poll.applyPollUpdateEvent(C)?[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,r.upsert([k])];case 1:return[2,L.sent()]}})})})]:[3,16];case 15:N.sent(),N.label=16;case 16:return this._broadcastPollUpdateEvent(C,D),[3,21];case 17:return f instanceof D1?(I=f.event,D=f.source,[4,r.get(I.messageId)]):[3,21];case 18:return(U=N.sent())&&U.isUserMessage()&&U.poll&&U.poll.applyPollVoteEvent(I)?[4,li(function(){return H(O,void 0,void 0,function(){return F(this,function(L){switch(L.label){case 0:return[4,r.upsert([U])];case 1:return[2,L.sent()]}})})})]:[3,20];case 19:N.sent(),N.label=20;case 20:this._broadcastPollVoteEvent(I,D),N.label=21;case 21:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype._broadcastPollChangeLogEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onPollChangeLogUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype._broadcastPollUpdateEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onPollUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype._broadcastPollVoteEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onPollVote(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveUnsentEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),u=l.next();!u.done;u=l.next())u.value.onRemoveUnsent(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),dhe=function(n){function t(e){var r=e.userId,a=e.ts,l=e.token,u=e.filter,h=n.call(this)||this,f=we(we({},e1),u),m=f.customTypes,g=f.includeEmpty,x=f.includeFrozen;return h.method=dn.GET,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),h.params=st({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:a>0?a:null,token:l,custom_types:m,show_empty:g,show_frozen:x}),h}return re(t,n),t}(hn),hhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedChannels=r.updated.map(function(l){return new Hs(e,l)}),a.deletedChannelUrls=r.deleted,a.hasMore=r.has_more,a.token=r.next,a}return re(t,n),t}(mn),S4=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,l=n.call(this)||this;return l.method=dn.GET,l.path="".concat(a?nle:ya,"/").concat(encodeURIComponent(r)),l.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},l}return re(t,n),t}(hn),T4=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new Hs(e,r),a}return re(t,n),t}(mn),phe=function(n){function t(e){var r=this,a=e.userId,l=e.token,u=e.limit,h=e.order,f=e.includeEmpty,m=e.myMemberStateFilter,g=e.superChannelFilter,x=e.publicChannelFilter,E=e.unreadChannelFilter,w=e.nicknameContainsFilter,T=e.nicknameStartsWithFilter,A=e.nicknameExactMatchFilter,P=e.channelNameContainsFilter,C=e.channelUrlsFilter,k=e.customTypesFilter,I=e.customTypeStartsWithFilter,D=e.hiddenChannelFilter,U=e.metadataOrderKeyFilter,O=e.metadataKey,N=e.metadataValues,L=e.metadataValueStartsWith,K=e.includeFrozen,z=e.includeMetaData,ae=e.searchFilter,fe=e.userIdsFilter;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Ht,"/").concat(encodeURIComponent(a),"/my_group_channels"),r.params=st({token:l,limit:u,order:h,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:f,member_state_filter:m,super_mode:g,public_mode:x,unread_filter:E,members_nickname_contains:w,members_nickname_startswith:T,members_nickname:A,name_contains:P,channel_urls:C,custom_types:k,custom_type_startswith:I,hidden_mode:D,metadata_order_key:U,metadata_key:O,metadata_values:N,metadata_value_startswith:L,show_frozen:K,show_metadata:z}),ae&&ae.query&&ae.fields&&(r.params.search_query=ae.query,r.params.search_fields=ae.fields),fe&&fe.userIds&&fe.userIds.length>0&&(fe.includeMode?(r.params.members_include_in=fe.userIds,r.params.query_type=fe.queryType.toUpperCase()):r.params.members_exactly_in=fe.userIds),r}return re(t,n),t}(hn),fhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var l=r.next,u=r.channels,h=r.ts;return a.token=l,u&&u.length>0&&(a.channels=u.map(function(f){return f.ts=h,new Hs(e,f)})),a.ts=h??null,a}return re(t,n),t}(mn),_he=function(n){function t(e){var r=e.userId,a=e.filter,l=n.call(this)||this,u=a.myMemberStateFilter;return l.method=dn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/group_channel_count"),l.params={state:u??Ls.ALL},l}return re(t,n),t}(hn),mhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.groupChannelCount=r.group_channel_count,a}return re(t,n),t}(mn),vhe=function(n){function t(e){var r=e.userId,a=e.filter,l=n.call(this)||this,u=a.keys;return l.method=dn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_item_count"),l.params={item_keys:u},l}return re(t,n),t}(hn),ghe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return typeof r[xi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(a.groupChannelUnreadMentionCount=r[xi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[xi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(a.groupChannelUnreadMessageCount=r[xi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[xi.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(a.groupChannelInvitationCount=r[xi.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[xi.SUPER_UNREAD_MENTION_COUNT]=="number"&&(a.superGroupChannelUnreadMentionCount=r[xi.SUPER_UNREAD_MENTION_COUNT]),typeof r[xi.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.superGroupChannelUnreadMessageCount=r[xi.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[xi.SUPER_INVITATION_COUNT]=="number"&&(a.superGroupChannelInvitationCount=r[xi.SUPER_INVITATION_COUNT]),typeof r[xi.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMentionCount=r[xi.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[xi.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMessageCount=r[xi.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[xi.NONSUPER_INVITATION_COUNT]=="number"&&(a.nonSuperGroupChannelInvitationCount=r[xi.NONSUPER_INVITATION_COUNT]),a}return re(t,n),t}(mn),bhe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=dn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_channel_count"),a}return re(t,n),t}(hn),yhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return re(t,n),t}(mn),Ehe=function(n){function t(e){var r=e.userId,a=e.filter,l=n.call(this)||this,u=a.channelCustomTypesFilter,h=a.superChannelFilter;return l.method=dn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_message_count"),l.params={super_mode:h??ms.ALL,custom_types:u},l}return re(t,n),t}(hn),whe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return re(t,n),t}(mn),xhe=function(n){function t(e){var r=e.channelUrl,a=e.scheduledStatus,l=e.messageTypeFilter,u=n.call(this)||this;return u.method=dn.GET,u.path="".concat(HP,"/count"),u.params={channel_url:r,status:The(a)},l&&(u.params.message_type=l),u}return re(t,n),t}(hn),She=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.count=r.count,a}return re(t,n),t}(mn),The=function(n){if(n){var t=[];return n.forEach(function(e){switch(e){case uu.PENDING:t.push(Ms.PENDING);break;case uu.SENT:t.push(Ms.IN_QUEUE),t.push(Ms.SENT);break;case uu.CANCELED:t.push(Ms.CANCELED);break;case uu.FAILED:t.push(Ms.FAILED)}}),t}},khe=function(n){function t(e){var r=this,a=e.userId,l=e.channelUrl,u=e.coverUrl,h=e.coverImage,f=e.isDistinct,m=e.isSuper,g=e.isBroadcast,x=e.isPublic,E=e.isExclusive,w=e.isDiscoverable,T=e.isStrict,A=e.isEphemeral,P=e.accessCode,C=e.name,k=e.data,I=e.customType,D=e.messageSurvivalSeconds,U=e.invitedUserIds,O=e.operatorUserIds;return(r=n.call(this)||this).method=dn.POST,r.path=ya,r.params=st({user_ids:et([a],Qn(U??[]),!1).filter(function(N,L,K){return L===K.indexOf(N)}),channel_url:l,cover_url:u,cover_file:h,is_distinct:f,is_super:m,is_broadcast:g,is_exclusive:E,is_public:x,is_discoverable:w,strict:T,is_ephemeral:A,access_code:P,name:C,data:k,custom_type:I,operator_ids:O,message_survival_seconds:D}),r}return re(t,n),t}(hn),Che=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a.isCreated=r.is_created,a}return re(t,n),t}(mn),ZR=function(n){function t(e){var r=e.userId,a=e.channelUrls,l=n.call(this)||this;return l.method=dn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),l.params={channel_urls:a},l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var Nhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,u=e.accessCode;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/join"),r.params={user_id:l,access_code:u},r}return re(t,n),t}(hn),Ihe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a}return re(t,n),t}(mn),Ahe=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,g=m===void 0?null:m,x=u.users,E=x===void 0?null:x;return l.memberCount=f,l.joinedMemberCount=g,l.members=Array.isArray(E)?E.map(function(w){return new uo(e,w)}):[new uo(e,a.data)],l}return re(t,n),t}(Tc),Ohe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,u=e.shouldRemoveOperatorStatus;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/leave"),r.params={user_id:l,should_remove_operator_status:u},r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var Rhe=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,g=m===void 0?null:m;return l.memberCount=f,l.joinedMemberCount=g,l.member=new uo(l._iid,a.data),l}return re(t,n),t}(Tc),Mhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userIds;return(r=n.call(this)||this).method=dn.POST,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/invite"),r.params={user_ids:l},r}return re(t,n),t}(hn),Dhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a}return re(t,n),t}(mn),Lhe=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,g=m===void 0?null:m,x=u.inviter,E=x===void 0?null:x,w=u.invitees,T=w===void 0?[]:w;return l.memberCount=f,l.joinedMemberCount=g,l.inviter=E?new It(e,E):null,l.invitees=T.map(function(A){return new uo(e,A)}),l}return re(t,n),t}(Tc),Uhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/decline"),r.params={user_id:l},r}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a.channel.myMemberState=Xr.NONE,a}re(t,n)})(mn);var Phe=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,g=m===void 0?null:m,x=u.inviter,E=x===void 0?null:x,w=u.invitee,T=w===void 0?null:w;return l.memberCount=f,l.joinedMemberCount=g,l.inviter=E?new It(e,E):null,l.invitee=T?new uo(e,T):null,l}return re(t,n),t}(Tc),Fhe=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return re(t,n),t}(es),$9=function(n){function t(e,r,a){var l=n.call(this,e,"READ",a)||this;return l.readStatus=new H9(e,a),l}return re(t,n),t}(_r),Hhe=function(n){function t(e){var r=e.channelUrl,a=e.userId,l=n.call(this)||this;return(l=n.call(this)||this).method=dn.PUT,l.path="".concat(ya,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),l.params=st({userId:a}),l}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var nc,Bhe=function(n){function t(e,r,a){var l=n.call(this,e,"DLVR",a)||this;return l.channelUrl=a.channel_url,l.deliveredStateUpdate=a.updated,l}return re(t,n),t}(_r),Vhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,u=e.hidePreviousMessages,h=e.allowAutoUnhide;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/hide"),r.params={user_id:l,hide_previous_messages:u,allow_auto_unhide:h},r}return re(t,n),t}(hn),zhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var l=r.ts_message_offset;return a.messageOffsetTimestamp=l??null,a}return re(t,n),t}(mn),$he=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.allowAutoUnhide=null,l.hidePreviousMessages=null,l.messageOffsetTimestamp=null,a.data&&(l.allowAutoUnhide=a.data.allow_auto_unhide,l.hidePreviousMessages=a.data.hide_previous_messages),l.messageOffsetTimestamp=a.ts_message_offset,l}return re(t,n),t}(_r),qhe=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return re(t,n),t}(es),Ghe=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new It(e,a.data),l}return re(t,n),t}(_r),jhe=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return re(t,n),t}(es),Khe=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new It(e,a.data),l}return re(t,n),t}(_r),Whe=function(n){function t(e){var r=e.channelUrl,a=e.messageId;return n.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:a}})||this}return re(t,n),t}(es),q9=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N,L,K,z=this;return(z=n.call(this,e,r)||this).includeEmpty=!1,z.includeFrozen=!0,z.includeMetaData=!0,z.channelUrlsFilter=null,z.customTypesFilter=null,z.customTypeStartsWithFilter=null,z.nicknameContainsFilter=null,z.nicknameStartsWithFilter=null,z.nicknameExactMatchFilter=null,z.channelNameContainsFilter="",z.myMemberStateFilter=Ls.ALL,z.unreadChannelFilter=jd.ALL,z.superChannelFilter=ms.ALL,z.publicChannelFilter=_c.ALL,z.hiddenChannelFilter=gl.UNHIDDEN,z.searchFilter={fields:[],query:null},z.userIdsFilter={userIds:[],includeMode:!0,queryType:ku.AND},z.metadataKey=null,z.metadataValues=null,z.metadataOrderKeyFilter=null,z.metadataValueStartsWith=null,z.order=ci.LATEST_LAST_MESSAGE,z.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,z.includeFrozen=(l=r.includeFrozen)===null||l===void 0||l,z.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,z.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,z.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,z.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:"",z.nicknameContainsFilter=(g=r.nicknameContainsFilter)!==null&&g!==void 0?g:null,z.nicknameStartsWithFilter=(x=r.nicknameStartsWithFilter)!==null&&x!==void 0?x:null,z.nicknameExactMatchFilter=(E=r.nicknameExactMatchFilter)!==null&&E!==void 0?E:null,z.channelNameContainsFilter=(w=r.channelNameContainsFilter)!==null&&w!==void 0?w:"",z.myMemberStateFilter=(T=r.myMemberStateFilter)!==null&&T!==void 0?T:Ls.ALL,z.unreadChannelFilter=(A=r.unreadChannelFilter)!==null&&A!==void 0?A:jd.ALL,z.superChannelFilter=(P=r.superChannelFilter)!==null&&P!==void 0?P:ms.ALL,z.publicChannelFilter=(C=r.publicChannelFilter)!==null&&C!==void 0?C:_c.ALL,z.hiddenChannelFilter=(k=r.hiddenChannelFilter)!==null&&k!==void 0?k:gl.UNHIDDEN,z.searchFilter=(I=r.searchFilter)!==null&&I!==void 0?I:{fields:[],query:null},z.userIdsFilter=(D=r.userIdsFilter)!==null&&D!==void 0?D:{userIds:[],includeMode:!0,queryType:ku.AND},z.metadataKey=(U=r.metadataKey)!==null&&U!==void 0?U:null,z.metadataValues=(O=r.metadataValues)!==null&&O!==void 0?O:null,z.metadataOrderKeyFilter=(N=r.metadataOrderKeyFilter)!==null&&N!==void 0?N:null,z.metadataValueStartsWith=(L=r.metadataValueStartsWith)!==null&&L!==void 0?L:null,z.order=(K=r.order)!==null&&K!==void 0?K:ci.LATEST_LAST_MESSAGE,z}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("boolean",this.includeEmpty)&&Ee("boolean",this.includeFrozen)&&Ee("boolean",this.includeMetaData)&&Ee("string",this.channelNameContainsFilter)&&St("string",this.channelUrlsFilter,!0)&&St("string",this.customTypesFilter,!0)&&Ee("string",this.customTypeStartsWithFilter)&&Ee("string",this.nicknameContainsFilter,!0)&&Ee("string",this.nicknameStartsWithFilter,!0)&&Ee("string",this.nicknameExactMatchFilter,!0)&&yt(Ls,this.myMemberStateFilter)&&yt(ms,this.superChannelFilter)&&yt(_c,this.publicChannelFilter)&&yt(jd,this.unreadChannelFilter)&&yt(gl,this.hiddenChannelFilter)&&St(K_,this.searchFilter.fields)&&Ee("string",this.searchFilter.query,!0)&&St("string",this.userIdsFilter.userIds)&&Ee("boolean",this.userIdsFilter.includeMode)&&yt(ku,this.userIdsFilter.queryType)&&yt(ci,this.order)&&Ee("string",this.metadataOrderKeyFilter,!0)&&Ee("string",this.metadataKey,!0)&&St("string",this.metadataValues,!0)&&Ee("string",this.metadataValueStartsWith,!0)},t.prototype.serialize=function(){return np(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Gr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return e=l.sent(),r=e.channels,a=e.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),lc=function(){function n(t){var e=t.top,r=e===void 0?Number.MAX_SAFE_INTEGER:e,a=t.bottom,l=a===void 0?0:a;this.top=r,this.bottom=l}return n.prototype.includes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.overlap=function(t){return this.includes(t.top)||this.includes(t.bottom)},n.prototype.intersect=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.extends=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.top=Math.min.apply(Math,et([this.top],Qn(t),!1)),this.bottom=Math.max.apply(Math,et([this.bottom],Qn(t),!1))},n}(),Qhe=function(n){function t(e,r,a){var l,u=this;return(u=n.call(this,e,"SYEV",a)||this).pinnedMessageIds=[],u.latestPinnedMessage=null,u.ts=0,a.data&&(u.pinnedMessageIds=(l=a.data.pinned_message_ids)!==null&&l!==void 0?l:[],u.latestPinnedMessage=a.data.latest_pinned_message?Ya(e,we({},a.data.latest_pinned_message)):null),u.ts=a.ts,u}return re(t,n),t}(_r),r0={},Gr=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,l=e.dispatcher,u=e.sessionManager,h=e.requestQueue,f=e.logger,m=e.disableMack,g=m!==void 0&&m,x=this;return this._leftChannels=new Map,this._disableMack=!1,this._markAsReadAllLastSentAt=0,r0[t]||(this._iid=t,this._sdkState=r,this._sessionManager=u,this._requestQueue=h,this._dispatcher=l,this._logger=f,this._disableMack=g,this._groupChannelHandlers=new Map,this._groupChannelCache=new ahe(this._iid,{sdkState:r,cacheContext:a}),this._unsentMessageCache=new TT(this._iid,{sdkState:r,cacheContext:a}),this._messageCache=new y9(this._iid,{sdkState:r,cacheContext:a,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new che({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:l}),this._messageBroadcast=new uhe({cacheContext:a,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:l,logger:f}),setInterval(function(){var E,w,T=function(C){C.invalidateTypingStatus()&&(x._dispatcher.dispatch(new Dt({channels:[C],source:Jn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),x._groupChannelHandlers.forEach(function(k){k.onTypingStatusUpdated(C)}))};try{for(var A=Cn(x._groupChannelCache.channels),P=A.next();!P.done;P=A.next())T(P.value)}catch(C){E={error:C}}finally{try{P&&!P.done&&(w=A.return)&&w.call(A)}finally{if(E)throw E.error}}},1e3),this._dispatcher.on(function(E){E instanceof _r?x._handleEvent(E):E instanceof E9?H(x,void 0,void 0,function(){var w,T;return F(this,function(A){switch(A.label){case 0:return w=E.message,[4,this.getChannel(w.channelUrl,!0)];case 1:return T=A.sent(),w instanceof Yi?T._autoResendUserMessage(w):w instanceof ii&&T._autoResendFileMessage(w),[2]}})}):E instanceof x9&&x.reduceDBSize()}),r0[t]=this),r0[t]}return n.of=function(t){return r0[t]},n.clear=function(t){r0[t]&&delete r0[t]},Object.defineProperty(n.prototype,"handlers",{get:function(){return et([],Qn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.buildGroupChannelFromSerializedData=function(t){var e=Tu(t);return new Hs(this._iid,Hs.payloadify(e))},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){var e=Tu(t);return new q9(this._iid,e)},n.prototype.buildMemberFromSerializedData=function(t){var e=Tu(t);return new uo(this._iid,uo.payloadify(e))},n.prototype.getChannelFromCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getChannelsFromCache=function(t,e,r,a,l){return H(this,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return[4,this._groupChannelCache.fetch({token:t,filter:e,order:r,limit:a,borderlineChannelUrl:l})];case 1:return[2,u.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clearChannelsFromCache=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return t.sent(),[2]}})})},n.prototype.reduceDBSize=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f,m,g,x,E,w,T;return F(this,function(A){switch(A.label){case 0:return t=Ne.of(this._iid).cacheContext,e=t.localCacheConfig,r=t.nestdb,t.localCacheEnabled&&r&&r.state==fl.OPENED?(a=1024*e.maxSize*1024,[4,r.estimateUsage()]):[2];case 1:if((l=A.sent())<a)return[2];u=[],h=this._groupChannelCache.channels,f={},E=0,A.label=2;case 2:return E<h.length?[4,this.getMessagesFromCache(h[E].url,0,"prev",new W0)]:[3,5];case 3:m=A.sent(),f[h[E].url]=JSON.stringify(m).length,g=new jse({channel:h[E],cachedMessageCount:m.length}),u.push(g),A.label=4;case 4:return E++,[3,2];case 5:x=u.sort(e.clearOrderComparator),E=0,A.label=6;case 6:return E<x.length?[4,this._messageCache.removeMessagesOfChannel(x[E].channel.url)]:[3,10];case 7:return A.sent(),[4,this._messageCache._getGroupChannelPreferenceSize(x[E].channel.url)];case 8:if(w=A.sent(),T=f[x[E].channel.url]+w,(l-=T)<a)return[3,10];A.label=9;case 9:return E++,[3,6];case 10:return[2]}})})},n.prototype._handleEvent=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N,L,K,z,ae,fe,B,J,ce,W,_e,oe,le,ve,De,pe,he,G,ee,$,ie,Oe,qe,Re,Se,je,Be,We,rn,un,pn,vn,Hn,Tn,j,te,En,Nn,Zn,Gn,$n,Vn,mt,qn,In,Ot,lt,Yn,Fn,fn,ct,jn,Tt,Ct,br,Wr,Vr,ts,ki,Pa,zr,ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn,Xe,an,On,rt,Ye,ke,Ie,tn,Kn,ln,Un,on,Xn,Gt,Dn,Et,At,mr,Ci,Dr,ir,pi,Mi,Pt,Ni,Di,vi,er,gs,Rl,si,Ml,Dl,Sr,fi,kc,_i,Ll,Li,bo,Ul,ei,qs,Cc,Ft=this;return F(this,function(vt){switch(vt.label){case 0:switch(vt.trys.push([0,78,,79]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,34];case"SYEV":return[3,36];case"USEV":return[3,76]}return[3,77];case 1:return m=null,t.code==="MESG"?m=t.as(wT):t.code==="FILE"?m=t.as(vT):t.code!=="ADMM"&&t.code!="BRDM"||(m=t.as(A9)),m?(e=m.message,r=m.isMentioned,a=m.forceUpdateLastMessage,e.channelType!==rr.GROUP?[3,3]:(this._disableMack||li(function(){return H(Ft,void 0,void 0,function(){var en;return F(this,function(ze){return en=new Whe(e),this._requestQueue.send(en),[2]})})}),K=this._groupChannelCache.isCachedInMemory(e.channelUrl),w=e instanceof Ai&&e.sender.userId===this._sdkState.userId,[4,this.getChannel(e.channelUrl,!0)])):[3,3];case 2:if((l=vt.sent()).hiddenState===ha.HIDDEN_ALLOW_AUTO_UNHIDE&&(l.hiddenState=ha.UNHIDDEN),e instanceof Ai){u=Ne.of(this._iid).useMemberInfoInMessage;try{for(h=Cn(l.members),f=h.next();!f.done;f=h.next())if((Pe=f.value).userId===e.sender.userId){u||(e.sender.nickname=Pe.nickname,e.sender.plainProfileUrl=Pe.plainProfileUrl,e.sender.metaData=Pe.metaData,e.sender.isBlockedByMe=Pe.isBlockedByMe);break}}catch(en){fi={error:en}}finally{try{f&&!f.done&&(kc=h.return)&&kc.call(h)}finally{if(fi)throw fi.error}}!u&&r&&e.mentionedUsers.forEach(function(en){var ze,Wn;try{for(var it=Cn(l.members),zt=it.next();!zt.done;zt=it.next()){var kt=zt.value;if(en.userId===kt.userId){en.nickname=kt.nickname,en.plainProfileUrl=kt.plainProfileUrl,en.metaData=kt.metaData;break}}}catch(Fa){ze={error:Fa}}finally{try{zt&&!zt.done&&(Wn=it.return)&&Wn.call(it)}finally{if(ze)throw ze.error}}}),w&&(A=this._sessionManager.currentUser)&&(A.nickname=e.sender.nickname,A.plainProfileUrl=e.sender.plainProfileUrl,A.metaData=e.sender.metaData)}e.silent&&!w||(l.isEphemeral||K)&&((!l.lastMessage||l.lastMessage.createdAt<e.createdAt)&&(l.lastMessage=e),w||l._updateUnreadCount(l.unreadMessageCount+1,l.unreadMentionCount+(r?1:0))),a&&(!l.lastMessage||l.lastMessage.createdAt<e.createdAt)&&(l.lastMessage=e),this._dispatcher.dispatch(new Dt({channels:[l],source:Jn.EVENT_MESSAGE_RECEIVED})),e.silent&&!w||zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelChanged(l)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),this._dispatcher.dispatch(new ri({messages:[e],source:dt.EVENT_MESSAGE_RECEIVED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it,zt;return F(this,function(kt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())(Wn=ze.value).onMessageReceived(l,e),r&&Wn.onMentionReceived(l,e)}catch(Fa){it={error:Fa}}finally{try{ze&&!ze.done&&(zt=en.return)&&zt.call(en)}finally{if(it)throw it.error}}return[2]})})}),vt.label=3;case 3:return[3,77];case 4:return m=null,t.code==="MEDI"?m=t.as(Yb):t.code==="FEDI"?m=t.as(Xb):t.code==="AEDI"&&(m=t.as(O9)),m?(g=m.message,x=m.mentionCountChange,g.channelType!==rr.GROUP?[3,6]:(K=this._groupChannelCache.isCachedInMemory(g.channelUrl),[4,this.getChannel(g.channelUrl,!0)])):[3,6];case 5:E=vt.sent(),w=g instanceof Ai&&g.sender.userId===this._sdkState.userId,T=!1,w?(A=this._sessionManager.currentUser)&&(A.nickname=g.sender.nickname,A.plainProfileUrl=g.sender.plainProfileUrl,A.metaData=g.sender.metaData):E.isReadMessage(g)||x!==0&&!g.silent&&K&&(E._updateUnreadCount(E.unreadMessageCount,E.unreadMentionCount+x),T=!0),!E.lastMessage||E.lastMessage.createdAt<g.createdAt?(E.lastMessage=g,T=!0):E.lastMessage.isIdentical(g)&&(K?E.lastMessage.updatedAt<g.updatedAt&&(E.lastMessage=g,T=!0):T=!0),P=!1,E.lastPinnedMessage&&E.lastPinnedMessage.messageId===g.messageId&&(E.lastPinnedMessage=g,T=!0,P=!0),T&&(this._dispatcher.dispatch(new Dt({channels:[E],source:P?Jn.EVENT_PINNED_MESSAGE_UPDATED:Jn.EVENT_MESSAGE_UPDATED})),g.silent&&!w||zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelChanged(E)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),P&&zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onPinnedMessageUpdated(E)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})),this._dispatcher.dispatch(new ri({messages:[g],source:dt.EVENT_MESSAGE_UPDATED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it,zt;return F(this,function(kt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())(Wn=ze.value).onMessageUpdated(E,g),x!==0&&Wn.onMentionReceived(E,g)}catch(Fa){it={error:Fa}}finally{try{ze&&!ze.done&&(zt=en.return)&&zt.call(en)}finally{if(it)throw it.error}}return[2]})})}),vt.label=6;case 6:return[3,77];case 7:return C=t.as(v9),je=C.channelUrl,Be=C.channelType,k=C.messageId,Be!==rr.GROUP?[3,9]:[4,this.getChannel(je,!0)];case 8:I=vt.sent(),this._dispatcher.dispatch(new pT({messageIds:[k],source:dt.EVENT_MESSAGE_DELETED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onMessageDeleted(I,k)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),vt.label=9;case 9:return[3,77];case 10:return(D=t.as($9).readStatus).channelType!==rr.GROUP?[3,12]:(K=this._groupChannelCache.isCachedInMemory(D.channelUrl),[4,this.getChannel(D.channelUrl,!0)]);case 11:U=vt.sent(),K&&U._updateUnreadMemberState(D.reader.userId,D.readAt),D.reader.userId===this._sdkState.userId?K?(U.unreadMessageCount>0||U.unreadMentionCount>0)&&(U._updateUnreadCount(0,0),this._dispatcher.dispatch(new Dt({channels:[U],source:Jn.EVENT_CHANNEL_READ})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelChanged(U)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})):U.unreadMessageCount!==0&&U.unreadMentionCount!==0||(this._dispatcher.dispatch(new Dt({channels:[U],source:Jn.EVENT_CHANNEL_READ})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelChanged(U)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})):(this._dispatcher.dispatch(new Dt({channels:[U],source:Jn.EVENT_CHANNEL_READ})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onUnreadMemberStatusUpdated(U)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})),vt.label=12;case 12:return[3,77];case 13:return O=t.as(Bhe),je=O.channelUrl,N=O.deliveredStateUpdate,L=N===void 0?{}:N,K=this._groupChannelCache.isCachedInMemory(je),[4,this.getChannel(je,!0)];case 14:if(z=vt.sent(),K)for(ae in L)z._updateUndeliveredMemberState(ae,L[ae]);return Object.keys(L).some(function(en){return en!==Ft._sdkState.userId})&&(this._dispatcher.dispatch(new Dt({channels:[z],source:Jn.EVENT_CHANNEL_DELIVERED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onUndeliveredMemberStatusUpdated(z)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})),[3,77];case 15:return fe=t.as(R9),je=fe.channelUrl,Be=fe.channelType,B=fe.event,Be!==rr.GROUP?[3,18]:[4,this.getChannel(je,!0)];case 16:return J=vt.sent(),[4,this.getMessageFromCache(B.messageId)];case 17:(_e=vt.sent())&&(_e.applyReactionEvent(B),this._dispatcher.dispatch(new ri({messages:[_e],source:dt.EVENT_MESSAGE_REACTION_UPDATED}))),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onReactionUpdated(J,B)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),vt.label=18;case 18:return[3,77];case 19:return(ce=t.as(M9).event).channelType!==rr.GROUP?[3,22]:[4,this.getChannel(ce.channelUrl,!0)];case 20:return W=vt.sent(),[4,this.getMessageFromCache(ce.targetMessageId)];case 21:(_e=vt.sent())&&(_e.applyThreadInfoUpdateEvent(ce),this._dispatcher.dispatch(new ri({messages:[_e],source:dt.EVENT_MESSAGE_THREADINFO_UPDATED}))),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onThreadInfoUpdated(W,ce)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),vt.label=22;case 22:return[3,77];case 23:oe=t.as(I9).groupChannelMemberCounts,le=[],vt.label=24;case 24:vt.trys.push([24,29,30,31]),ve=Cn(oe),De=ve.next(),vt.label=25;case 25:return De.done?[3,28]:(pe=De.value,je=pe.channelUrl,Wr=pe.memberCount,Vr=pe.joinedMemberCount,he=pe.updatedAt,[4,this.getChannelFromCache(je)]);case 26:(G=vt.sent())&&G._setLatestMemberCount(Wr,Vr,he)&&le.push(G),vt.label=27;case 27:return De=ve.next(),[3,25];case 28:return[3,31];case 29:return ee=vt.sent(),_i={error:ee},[3,31];case 30:try{De&&!De.done&&(Ll=ve.return)&&Ll.call(ve)}finally{if(_i)throw _i.error}return[7];case 31:return le.length>0&&(this._dispatcher.dispatch(new Dt({channels:le,source:Jn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelMemberCountChanged(le)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})})),[3,77];case 32:return $=t.as(D9),ie=$.event,Oe=$.status,je=$.channelUrl,Be=$.channelType,je&&Be?[4,this.getChannel(je,!0)]:[3,77];case 33:return qe=vt.sent(),this._dispatcher.dispatch(new fT({event:ie,source:dt.EVENT_POLL_UPDATED})),zn(Oe===GP?function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onPollDeleted(qe,ie.pollId)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}:function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onPollUpdated(qe,ie)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),[3,77];case 34:return Re=t.as(xT),Se=Re.event,je=Re.channelUrl,Be=Re.channelType,je&&Be?[4,this.getChannel(je,!0)]:[3,77];case 35:return We=vt.sent(),this._dispatcher.dispatch(new D1({event:Se,source:dt.EVENT_POLL_VOTED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onPollVoted(We,Se)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),[3,77];case 36:if(!(rn=t.as(Tc).event).isGroupChannelEvent)return[3,75];switch(rn.category){case Zt.CHANNEL_JOIN:return[3,37];case Zt.CHANNEL_LEAVE:return[3,39];case Zt.CHANNEL_OPERATOR_UPDATE:return[3,43];case Zt.CHANNEL_INVITE:return[3,45];case Zt.CHANNEL_DECLINE_INVITE:return[3,47];case Zt.TYPING_START:case Zt.TYPING_END:return[3,49];case Zt.USER_CHANNEL_MUTE:case Zt.USER_CHANNEL_UNMUTE:return[3,51];case Zt.USER_CHANNEL_BAN:return[3,53];case Zt.USER_CHANNEL_UNBAN:return[3,57];case Zt.CHANNEL_FREEZE:case Zt.CHANNEL_UNFREEZE:return[3,59];case Zt.CHANNEL_HIDE:return[3,61];case Zt.CHANNEL_UNHIDE:return[3,63];case Zt.CHANNEL_DELETED:return[3,65];case Zt.CHANNEL_PROP_CHANGED:return[3,67];case Zt.CHANNEL_META_DATA_CHANGED:return[3,69];case Zt.CHANNEL_META_COUNTERS_CHANGED:return[3,71];case Zt.PINNED_MESSAGE_CHANGED:return[3,73]}return[3,75];case 37:return[4,this.getChannel(rn.channelUrl,!0)];case 38:return un=vt.sent(),pn=t.as(Ahe),vn=pn.memberCount,Hn=pn.joinedMemberCount,Tn=pn.members,j=!1,Tn.forEach(function(en){un.isExclusive||un.isSuper||un.isBroadcast?j=j||un._setLatestMemberCount(vn,Hn,rn.ts):(en.state=Xr.JOINED,un.addMember(en,rn.ts),Ft._updateJoinedMemberCount(un)),en.userId===Ft._sdkState.userId&&(un.myMemberState=Xr.JOINED)}),this._dispatcher.dispatch(new Dt({channels:[un],source:Jn.EVENT_CHANNEL_JOINED})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){var Wn,it;try{for(var zt=Cn(Tn),kt=zt.next();!kt.done;kt=zt.next()){var Fa=kt.value;ze.onUserJoined(un,Fa)}}catch(Nc){Wn={error:Nc}}finally{try{kt&&!kt.done&&(it=zt.return)&&it.call(zt)}finally{if(Wn)throw Wn.error}}un.isBroadcast&&j&&ze.onChannelMemberCountChanged([un])}),[2]})})}),[3,75];case 39:return(Ge=this._leftChannels.get(rn.channelUrl))?(En=Ge.channel,[3,42]):[3,40];case 40:return[4,this.getChannel(rn.channelUrl,!0)];case 41:En=vt.sent(),vt.label=42;case 42:return te=En,Nn=t.as(Rhe),Wr=Nn.memberCount,Vr=Nn.joinedMemberCount,Zn=Nn.member,Gn=!1,$n=Ne.of(this._iid).appInfo,te.isExclusive||te.isSuper||te.isBroadcast?Gn=te._setLatestMemberCount(Wr,Vr,rn.ts):($n.enabledChannelMemberShipHistory?(te.members.find(function(en){return en.userId===Zn.userId}).state=Xr.LEFT,te.memberCount=Wr):te.removeMember(Zn),this._updateJoinedMemberCount(te)),Zn.userId===this._sdkState.userId?(te.myMemberState=Xr.NONE,te.invitedAt=0,te.joinedAt=0,te._updateUnreadCount(0,0),te.isPublic?this._dispatcher.dispatch(new Dt({channels:[te],source:Jn.EVENT_CHANNEL_LEFT})):(this._markAsLeave(te),this._dispatcher.dispatch(new Sd({channelUrls:[te.url],source:Jn.EVENT_CHANNEL_LEFT})))):this._dispatcher.dispatch(new Dt({channels:[te],source:Jn.EVENT_CHANNEL_LEFT})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onUserLeft(te,Zn),te.isBroadcast&&Gn&&ze.onChannelMemberCountChanged([te])}),[2]})})}),[3,75];case 43:return[4,this.getChannel(rn.channelUrl,!0)];case 44:Vn=vt.sent(),mt=t.as(N9).operators,qn=mt.map(function(en){return en.userId});try{for(In=Cn(Vn.members),Ot=In.next();!Ot.done;Ot=In.next())(Pe=Ot.value).role=qn.includes(Pe.userId)?co.OPERATOR:co.NONE}catch(en){Li={error:en}}finally{try{Ot&&!Ot.done&&(bo=In.return)&&bo.call(In)}finally{if(Li)throw Li.error}}return Vn.myRole=qn.includes(this._sdkState.userId)?co.OPERATOR:co.NONE,this._dispatcher.dispatch(new Dt({channels:[Vn],source:Jn.EVENT_CHANNEL_OPERATOR_UPDATED})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onOperatorUpdated(Vn,mt)}),[2]})})}),[3,75];case 45:return[4,this.getChannel(rn.channelUrl,!0)];case 46:lt=vt.sent(),Yn=t.as(Lhe),Wr=Yn.memberCount,Vr=Yn.joinedMemberCount,Fn=Yn.inviter,(fn=Yn.invitees).forEach(function(en){return en.state=Xr.INVITED});try{for(ct=Cn(fn),jn=ct.next();!jn.done;jn=ct.next())Tt=jn.value,lt.isExclusive||lt.isSuper||lt.isBroadcast?lt._setLatestMemberCount(Wr,Vr,rn.ts):lt.addMember(Tt,rn.ts),this._sdkState.userId===Tt.userId&&(lt.hiddenState=ha.UNHIDDEN,lt.myMemberState!==Xr.JOINED&&(lt.myMemberState=Xr.INVITED),lt.invitedAt=rn.ts)}catch(en){Ul={error:en}}finally{try{jn&&!jn.done&&(ei=ct.return)&&ei.call(ct)}finally{if(Ul)throw Ul.error}}return this._dispatcher.dispatch(new Dt({channels:[lt],source:Jn.EVENT_CHANNEL_INVITED})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onUserReceivedInvitation(lt,Fn,fn)}),[2]})})}),[3,75];case 47:return[4,this.getChannel(rn.channelUrl,!0)];case 48:return Ct=vt.sent(),br=t.as(Phe),Wr=br.memberCount,Vr=br.joinedMemberCount,ts=br.inviter,ki=br.invitee,Ct.isExclusive||Ct.isSuper||Ct.isBroadcast?Ct._setLatestMemberCount(Wr,Vr,rn.ts):Ct.removeMember(ki),this._sdkState.userId===ki.userId?(Ct.invitedAt=0,Ct.myMemberState=Xr.NONE,Ct.isPublic?this._dispatcher.dispatch(new Dt({channels:[Ct],source:Jn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new Sd({channelUrls:[Ct.url],source:Jn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new Dt({channels:[Ct],source:Jn.EVENT_CHANNEL_DECLINED_INVITE})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onUserDeclinedInvitation(Ct,ts,ki)}),[2]})})}),[3,75];case 49:return[4,this.getChannel(rn.channelUrl,!0)];case 50:return Pa=vt.sent(),zr=rn.category===Zt.TYPING_START,ue=t.as(zr?Ghe:Khe).user,Pa._updateTypingStatus(ue,zr?rn.ts:0),this._dispatcher.dispatch(new Dt({channels:[Pa],source:Jn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onTypingStatusUpdated(Pa)}),[2]})})}),[3,75];case 51:return[4,this.getChannel(rn.channelUrl,!0)];case 52:de=vt.sent(),Te=rn.category===Zt.USER_CHANNEL_MUTE,(Ae=t.as(Te?h9:p9).user).userId===this._sdkState.userId&&(de.myMutedState=Te?bl.MUTED:bl.UNMUTED,de._myMutedRemainingTime=Ae.restrictionInfo.remainingDuration);try{for(Ve=Cn(de.members),ge=Ve.next();!ge.done;ge=Ve.next())if((Pe=ge.value).userId===Ae.userId){Pe.isMuted=Te;break}}catch(en){qs={error:en}}finally{try{ge&&!ge.done&&(Cc=Ve.return)&&Cc.call(Ve)}finally{if(qs)throw qs.error}}return this._dispatcher.dispatch(new Dt({channels:[de],source:Te?Jn.EVENT_CHANNEL_MUTED:Jn.EVENT_CHANNEL_UNMUTED,data:Ae.userId})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){Te?ze.onUserMuted(de,Ae):ze.onUserUnmuted(de,Ae)}),[2]})})}),[3,75];case 53:return(Ge=this._leftChannels.get(rn.channelUrl))?(sn=Ge.channel,[3,56]):[3,54];case 54:return[4,this.getChannel(rn.channelUrl,!0)];case 55:sn=vt.sent(),vt.label=56;case 56:return He=sn,this._markAsLeave(He),Xe=t.as(f9).user,zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onUserBanned(He,Xe)}),[2]})})}),[3,75];case 57:return[4,this.getChannel(rn.channelUrl,!0)];case 58:return an=vt.sent(),On=t.as(_9).user,zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onUserUnbanned(an,On)}),[2]})})}),[3,75];case 59:return[4,this.getChannel(rn.channelUrl,!0)];case 60:return rt=vt.sent(),Ye=t.as(m9).freeze,rt.isFrozen=Ye,this._dispatcher.dispatch(new Dt({channels:[rt],source:Ye?Jn.EVENT_CHANNEL_FROZEN:Jn.EVENT_CHANNEL_UNFROZEN})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){Ye?ze.onChannelFrozen(rt):ze.onChannelUnfrozen(rt)}),[2]})})}),[3,75];case 61:return[4,this.getChannel(rn.channelUrl,!0)];case 62:return ke=vt.sent(),Ie=t.as($he),tn=Ie.allowAutoUnhide,Kn=Ie.hidePreviousMessages,ln=Ie.messageOffsetTimestamp,tn!==null&&(ke.hiddenState=tn?ha.HIDDEN_ALLOW_AUTO_UNHIDE:ha.HIDDEN_PREVENT_AUTO_UNHIDE),Kn!==null&&Kn&&ke._updateUnreadCount(0,0),ln!==null&&(ke.messageOffsetTimestamp=ln),this._dispatcher.dispatch(new Dt({channels:[ke],source:Jn.EVENT_CHANNEL_HIDDEN})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onChannelHidden(ke)}),[2]})})}),[3,75];case 63:return[4,this.getChannel(rn.channelUrl,!0)];case 64:return(Un=vt.sent()).hiddenState=ha.UNHIDDEN,this._dispatcher.dispatch(new Dt({channels:[Un],source:Jn.EVENT_CHANNEL_UNHIDDEN})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onChannelChanged(Un)}),[2]})})}),[3,75];case 65:return[4,this.getChannel(rn.channelUrl,!0)];case 66:return on=vt.sent(),this._dispatcher.dispatch(new Sd({channelUrls:[rn.channelUrl],source:Jn.EVENT_CHANNEL_DELETED})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onChannelDeleted(on.url,on.channelType)}),[2]})})}),[3,75];case 67:return[4,this.getChannelWithoutCache(rn.channelUrl,!0)];case 68:return Xn=vt.sent(),this._dispatcher.dispatch(new Dt({channels:[Xn],source:Jn.EVENT_CHANNEL_UPDATED})),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onChannelChanged(Xn)}),[2]})})}),[3,75];case 69:return[4,this.getChannel(rn.channelUrl,!0)];case 70:return Gt=vt.sent(),Dn=t.as(u9),Et=Dn.created,At=Dn.updated,mr=Dn.deleted,Et&&Gt._upsertCachedMetaData(Et,rn.ts),At&&Gt._upsertCachedMetaData(At,rn.ts),mr&&Gt._removeFromCachedMetaData(mr,rn.ts),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){Et&&ze.onMetaDataCreated(Gt,Et),At&&ze.onMetaDataUpdated(Gt,At),mr&&ze.onMetaDataDeleted(Gt,mr)}),[2]})})}),[3,75];case 71:return[4,this.getChannel(rn.channelUrl,!0)];case 72:return Ci=vt.sent(),Dr=t.as(d9),ir=Dr.created,pi=Dr.updated,Mi=Dr.deleted,zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ir&&ze.onMetaCounterCreated(Ci,ir),pi&&ze.onMetaCounterUpdated(Ci,pi),Mi&&ze.onMetaCounterDeleted(Ci,Mi)}),[2]})})}),[3,75];case 73:return[4,this.getChannel(rn.channelUrl,!0)];case 74:return Pt=vt.sent(),Ni=t.as(Qhe),Di=Ni.pinnedMessageIds,vi=Ni.latestPinnedMessage,(er=Ni.ts)>Pt._pinnedMessagesUpdatedAt&&(Pt.pinnedMessageIds=Di,Pt.lastPinnedMessage=vi,Pt._pinnedMessagesUpdatedAt=er,this._dispatcher.dispatch(new Dt({channels:[Pt],source:Jn.EVENT_PINNED_MESSAGE_UPDATED})),zn(function(){return H(Ft,void 0,void 0,function(){var en,ze,Wn,it;return F(this,function(zt){try{for(en=Cn(this._groupChannelHandlers.values()),ze=en.next();!ze.done;ze=en.next())ze.value.onChannelChanged(Pt)}catch(kt){Wn={error:kt}}finally{try{ze&&!ze.done&&(it=en.return)&&it.call(en)}finally{if(Wn)throw Wn.error}}return[2]})})}),zn(function(){return H(Ft,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(ze){ze.onPinnedMessageUpdated(Pt)}),[2]})})})),[3,75];case 75:return[3,77];case 76:switch((gs=t.as(S9).event).category){case j_.USER_BLOCK:Rl=Zb.getDataAsUserBlockEvent(this._iid,gs),Ml=Rl.blocker,Dl=Rl.blockee,this._groupChannelCache.block(Ml.userId,Dl.userId);break;case j_.USER_UNBLOCK:si=Zb.getDataAsUserBlockEvent(this._iid,gs),Ml=si.blocker,Dl=si.blockee,this._groupChannelCache.unblock(Ml.userId,Dl.userId)}return[3,77];case 77:return[3,79];case 78:if(Sr=vt.sent(),El(Sr))throw Sr;return[3,79];case 79:return[2]}})})},n.prototype._markAsLeave=function(t){var e,r=this,a=(e=this._leftChannels.get(t.url))!==null&&e!==void 0?e:{channel:t,ref:0};a.ref++,this._leftChannels.set(t.url,a),setTimeout(function(){a.ref--,a.ref===0&&r._leftChannels.delete(t.url)},1e4)},n.prototype.addHandler=function(t,e){this._groupChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._groupChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},n.prototype.subscribeGroupChannelEvent=function(t,e){this._groupChannelBroadcast.subscribe(t,e)},n.prototype.unsubscribeGroupChannelEvent=function(t){this._groupChannelBroadcast.unsubscribe(t)},n.prototype.subscribeMessageEvent=function(t,e){this._messageBroadcast.subscribe(t,e)},n.prototype.unsubscribeMessageEvent=function(t){this._messageBroadcast.unsubscribe(t)},n.prototype._updateJoinedMemberCount=function(t){t.joinedMemberCount=t.members.filter(function(e){return e.state===Xr.JOINED}).length},n.prototype.getChannel=function(t,e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:_n(Ee("string",t)).throw(Ue.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t,e)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return _n(Ee("string",t)).throw(Ue.invalidParameters),r=new S4({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:switch(a=f.sent(),l=a.as(T4).channel,u=l.unreadMessageCount,h=l.unreadMentionCount,l.myCountPreference){case Os.UNREAD_MESSAGE_COUNT_ONLY:h=0;break;case Os.UNREAD_MENTION_COUNT_ONLY:u=0;break;case Os.OFF:u=0,h=0}return l._updateUnreadCount(u,h),[4,this.upsertChannelsToCache([l])];case 2:return f.sent(),[2,l]}})})},n.prototype.refreshChannel=function(t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=Jn.REFRESH_CHANNEL),H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),a=new S4({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(a)];case 1:return l=f.sent(),(u=l.as(T4).channel).myMemberState===Xr.NONE?this._dispatcher.dispatch(new Sd({channelUrls:[u.url],source:r})):this._dispatcher.dispatch(new Dt({channels:[u],source:r})),[3,3];case 2:return(h=f.sent()).code!==Nt.NON_AUTHORIZED&&h.code!==Nt.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new Sd({channelUrls:[t],source:r})),[3,3];case 3:return[2]}})})},n.prototype.getMyGroupChannels=function(t,e,r,a){return a===void 0&&(a=Jn.REQUEST_CHANNEL),H(this,void 0,void 0,function(){var l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return l=new phe(we(we({},e),{userId:this._sdkState.userId,token:t,limit:r})),[4,this._requestQueue.send(l)];case 1:return u=g.sent(),h=u.as(fhe),f=h.channels,m=h.token,this._dispatcher.dispatch(new Dt({channels:f,source:a})),[2,{channels:f,token:m}]}})})},n.prototype.getMessageFromCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._messageCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getMessagesFromCache=function(t,e,r,a,l){return l===void 0&&(l=Qb),H(this,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:l,filter:a,backward:r==="next"})];case 1:return[2,u.sent()]}})})},n.prototype.getPollMessagesFromCache=function(t,e,r,a){return a===void 0&&(a=Qb),H(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:a,filter:r,backward:!1,isPollOnly:!0})];case 1:return[2,l.sent()]}})})},n.prototype.getUnsentMessagesFromCache=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:t,filter:e})];case 1:return[2,r.sent()]}})})},n.prototype.removeFailedMessageFromCache=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._unsentMessageCache.remove([t])];case 1:return e.sent(),[2]}})})},n.prototype.getCachedMessageCountBetween=function(t,e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._messageCache.countBetween(t,e,new lc({top:r,bottom:a}))];case 1:return[2,l.sent()]}})})},n.prototype.getMyGroupChannelChangeLogs=function(t,e,r){return r===void 0&&(r=Jn.REQUEST_CHANNEL_CHANGELOGS),H(this,void 0,void 0,function(){var a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return a=we(we({},e1),e),_n((Ee("string",t)||Ee("number",t))&&x4(a)).throw(Ue.invalidParameters),l=new dhe(st({userId:this._sdkState.userId,ts:typeof t=="number"?t:null,token:typeof t=="string"?t:null,filter:a})),[4,this._requestQueue.send(l)];case 1:return u=x.sent(),h=u.as(hhe),f=h.updatedChannels,m=h.deletedChannelUrls,g=h.hasMore,f.length>0&&this._dispatcher.dispatch(new Dt({channels:f,source:r})),m.length>0&&this._dispatcher.dispatch(new Sd({channelUrls:m,source:r})),[2,{updatedChannels:f,deletedChannelUrls:m,hasMore:g,token:h.token}]}})})},n.prototype.getGroupChannelCount=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=we(we({},V9),t),_n(z9(e)).throw(Ue.invalidParameters),r=new _he({userId:this._sdkState.userId,filter:e}),[4,this._requestQueue.send(r)];case 1:return a=l.sent(),[2,a.as(mhe).groupChannelCount]}})})},n.prototype.getUnreadItemCount=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C;return F(this,function(k){switch(k.label){case 0:return e=we(we({},she),t),_n(function(I){return St(xi,I.keys)}(e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new vhe({userId:a.userId,filter:e}),[4,l.send(u)];case 1:return h=k.sent(),f=h.as(ghe),m=f.groupChannelUnreadMentionCount,g=f.groupChannelUnreadMessageCount,x=f.groupChannelInvitationCount,E=f.superGroupChannelUnreadMentionCount,w=f.superGroupChannelUnreadMessageCount,T=f.superGroupChannelInvitationCount,A=f.nonSuperGroupChannelUnreadMentionCount,P=f.nonSuperGroupChannelUnreadMessageCount,C=f.nonSuperGroupChannelInvitationCount,[2,st({groupChannelUnreadMentionCount:m,groupChannelUnreadMessageCount:g,groupChannelInvitationCount:x,superGroupChannelUnreadMentionCount:E,superGroupChannelUnreadMessageCount:w,superGroupChannelInvitationCount:T,nonSuperGroupChannelUnreadMentionCount:A,nonSuperGroupChannelUnreadMessageCount:P,nonSuperGroupChannelInvitationCount:C})]}})})},n.prototype.getTotalUnreadChannelCount=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(u){switch(u.label){case 0:return t=Ne.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new bhe({userId:e.userId}),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(yhe).unreadCount]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=we(we({},ohe),t),_n(function(m){return St("string",m.channelCustomTypesFilter,!0)&&yt(ms,m.superChannelFilter)}(e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new Ehe({userId:a.userId,filter:e}),[4,l.send(u)];case 1:return h=f.sent(),[2,h.as(whe).unreadCount]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return t===void 0&&(t={}),H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=we(we({},lhe),t),_n(function(h){return Ee("string",h.channelUrl,!0)&&St(uu,h.scheduledStatus,!0)&&yt(Xi,h.messageTypeFilter)}(e)).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new xhe(e),[4,r.send(a)];case 1:return l=u.sent(),[2,l.as(She).count]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){var t=Ne.of(this._iid).subscribedUnreadMessageCount;return t.all>=0?t.all:0},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var t=0,e=Ne.of(this._iid).subscribedUnreadMessageCount;for(var r in e.customTypes)t+=e.customTypes[r];return t},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){var e;return(e=Ne.of(this._iid).subscribedUnreadMessageCount.customTypes[t])!==null&&e!==void 0?e:0},n.prototype.createChannel=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=we(we({},lb),t),_n(w4(e)).throw(Ue.invalidParameters),e.isPublic||(e.accessCode=null),r=new khe(we({userId:this._sdkState.userId},e)),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),l=a.as(Che).channel,[4,this.upsertChannelsToCache([l])];case 2:return u.sent(),[2,l]}})})},n.prototype.markAsReadAll=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return t=Date.now(),_n(t-this._markAsReadAllLastSentAt>=1e3).throw(Ue.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,e=new ZR({userId:this._sdkState.userId}),[4,this._requestQueue.send(e)];case 1:m.sent(),r=this._groupChannelCache.channels;try{for(a=Cn(r),l=a.next();!l.done;l=a.next())(u=l.value)._updateUnreadMemberState(this._sdkState.userId,t),u._updateUnreadCount(0,0)}catch(g){h={error:g}}finally{try{l&&!l.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return r.length>0?[4,this.upsertChannelsToCache(r)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[2]}})})},n.prototype.markAsReadWithChannelUrls=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return e=Date.now(),_n(St("string",t)&&e-this._markAsReadAllLastSentAt>=1e3).throw(Ue.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,r=new ZR({userId:this._sdkState.userId,channelUrls:t}),[4,this._requestQueue.send(r)];case 1:x.sent(),a=this._groupChannelCache.channels,l=[];try{for(u=Cn(a),h=u.next();!h.done;h=u.next())f=h.value,t.includes(f.url)&&(f._updateUnreadMemberState(this._sdkState.userId,e),f._updateUnreadCount(0,0),l.push(f))}catch(E){m={error:E}}finally{try{h&&!h.done&&(g=u.return)&&g.call(u)}finally{if(m)throw m.error}}return l.length>0?[4,this.upsertChannelsToCache(l)]:[3,3];case 2:x.sent(),x.label=3;case 3:return[2]}})})},n.prototype.markAsDelivered=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.getChannel(t)];case 1:return[4,e.sent().markAsDelivered()];case 2:return e.sent(),[2]}})})},n}();(function(n){n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.END=2]="END"})(nc||(nc={}));var k4,Au=function(n){function t(e,r,a,l){var u=n.call(this)||this;return u._worker=null,u._state=nc.IDLE,u._semaphore=null,u._retryCount=0,u._retryLimit=3,u.priority=0,u._worker=r,u}return re(t,n),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===nc.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===nc.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===nc.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:if(!this.isRunning)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return r=l.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return a=l.sent(),this.dispatch("error",a),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}})})},t.prototype.start=function(e){this.isIdle&&(this._state=nc.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=nc.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=nc.END,this.dispatch("end")},t}(lh),v_=function(n){this.source=n},i0=function(n){this.source=n},Io={},Yhe=function(){function n(t){var e=t._iid,r=t.channel,a=t.limit,l=a===void 0?100:a,u=this;this._prevSync=null,this._nextSync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r,this._limit=l,this._prevSyncLoopCount=0,this._nextSyncLoopCount=0;var h,f,m=Ne.of(this._iid),g=m.sdkState,x=m.dispatcher,E=m.logger;this._metadataKey=(h=g.userId,f=r.url,"sendbird:".concat(h,"@groupchannel/").concat(f,"/message/sync.meta"));var w=function(T,A){return"sendbird:".concat(T,"@groupchannel/").concat(A,"/message/sync")}(g.userId,r.url);this._prevSync=new Au(w,function(T){return H(u,void 0,void 0,function(){var A,P,C,k,I,D,U;return F(this,function(O){switch(O.label){case 0:return A={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata(T)];case 1:if(O.sent(),E.debug("message background prev sync from",(D=this._metadata)===null||D===void 0?void 0:D.range.top),this._metadata.previousComplete)return[3,9];O.label=2;case 2:return O.trys.push([2,5,,8]),[4,zi.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((U=this._metadata.range)===null||U===void 0)&&U.top?this._metadata.range.top:T,{prevResultSize:this._limit,nextResultSize:0,replyType:La.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},dt.SYNC_MESSAGE_BACKGROUND)];case 3:return(P=O.sent()).length>0&&(C=P.map(function(N){return N.createdAt}),(I=this._metadata.range).intersect.apply(I,et([],Qn(C),!1))?this.extendRange(P):this._metadata={range:new lc({top:Math.min.apply(Math,et([],Qn(C),!1)),bottom:Math.max.apply(Math,et([],Qn(C),!1))}),previousComplete:!1}),A.hasNext=P.length>=this._limit&&this._prevSyncLoopCount<1,A.nextToken=this._metadata.range.top,this._metadata.previousComplete=P.length<this._limit,E.debug("message background prev sync progress",A),[4,this.saveMetadata()];case 4:return O.sent(),[3,8];case 5:return k=O.sent(),E.debug("message background prev sync error",k),k instanceof Ue&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:O.sent(),O.label=7;case 7:throw k;case 8:return[3,10];case 9:A.hasNext=!1,O.label=10;case 10:return[2,A]}})})}),this._nextSync=new Au(w,function(T){return H(u,void 0,void 0,function(){var A,P,C,k,I,D,U;return F(this,function(O){switch(O.label){case 0:return A={hasNext:!0,nextToken:0},this._nextSyncLoopCount++,[4,this.loadMetadata(T)];case 1:O.sent(),E.debug("message background next sync from",(D=this._metadata)===null||D===void 0?void 0:D.range.bottom),O.label=2;case 2:return O.trys.push([2,5,,6]),[4,zi.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((U=this._metadata.range)===null||U===void 0)&&U.bottom?this._metadata.range.bottom:T,{prevResultSize:0,nextResultSize:this._limit,replyType:La.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},dt.SYNC_MESSAGE_BACKGROUND)];case 3:return(P=O.sent()).length>0&&(C=P.map(function(N){return N.createdAt}),(I=this._metadata.range).intersect.apply(I,et([],Qn(C),!1))?this.extendRange(P):this._metadata={range:new lc({top:Math.min.apply(Math,et([],Qn(C),!1)),bottom:Math.max.apply(Math,et([],Qn(C),!1))}),previousComplete:!1}),A.hasNext=P.length>=this._limit&&this._nextSyncLoopCount<1,A.nextToken=this._metadata.range.bottom,E.debug("message background next sync progress",A),[4,this.saveMetadata()];case 4:return O.sent(),[3,6];case 5:throw k=O.sent(),E.debug("message background next sync error",k),k;case 6:return[2,A]}})})}),this._connectionEventContext=x.on(function(T){T instanceof vs&&(T.stateType===Qt.CONNECTED?u.resume():u.pause())})}return n.of=function(t,e){return Io[t]||(Io[t]={}),Io[t][e.url]||(Io[t][e.url]=new n({_iid:t,channel:e})),Io[t][e.url].ref++,Io[t][e.url]},n.clear=function(t,e){Io[t]&&Io[t][e]&&(Io[t][e].close(),delete Io[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousComplete",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.previousComplete)},enumerable:!1,configurable:!0}),n.prototype.isWrappingMessages=function(t){var e;return(e=this.range)===null||e===void 0?void 0:e.includes.apply(e,et([],Qn(t.map(function(r){return r.createdAt})),!1))},n.prototype.extendRange=function(t){var e;this._metadata&&(e=this._metadata.range).extends.apply(e,et([],Qn(t.map(function(r){return r.createdAt})),!1))},n.prototype.loadMetadata=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this._metadata?[3,2]:[4,Ne.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:(e=r.sent())?e.range.bottom<t?this._metadata={range:new lc({}),previousComplete:!1}:this._metadata={range:new lc(e.range),previousComplete:e.previousComplete}:this._metadata={range:new lc({}),previousComplete:!1},r.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Ne.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Ne.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(t){var e,r,a,l;t===void 0&&(t=Date.now());var u=Ne.of(this._iid),h=u.logger;u.connectionManager.isConnected&&(h.debug("message background sync resume()"),this._prevSyncLoopCount=this._nextSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start((r=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&r!==void 0?r:t),this._nextSync.start((l=(a=this._metadata)===null||a===void 0?void 0:a.range.bottom)!==null&&l!==void 0?l:t))},n.prototype.pause=function(){Ne.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Io[this._iid][this._channel.url])},n}(),Ao={},Xhe=function(){function n(t){var e=t._iid,r=t.channel,a=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var l,u,h=Ne.of(this._iid),f=h.logger,m=h.sdkState,g=h.dispatcher;this._metadataKey=(l=m.userId,u=r.url,"sendbird:".concat(l,"@groupchannel/").concat(u,"/message/changelogs.meta"));var x=function(E,w){return"sendbird:".concat(E,"@groupchannel/").concat(w,"/message/changelogs")}(m.userId,this._channel.url);this._sync=new Au(x,function(){return H(a,void 0,void 0,function(){var E,w,T,A,P,C,k,I;return F(this,function(D){switch(D.label){case 0:return E={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:D.sent(),f.debug("message changelog sync from",(I=this._metadata)===null||I===void 0?void 0:I.token),D.label=2;case 2:return D.trys.push([2,5,,8]),[4,zi.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:La.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0},dt.SYNC_MESSAGE_CHANGELOGS)];case 3:return w=D.sent(),T=w.updatedMessages,A=w.deletedMessageIds,P=w.hasMore,C=w.token,E.hasNext=P,E.nextToken=C,(T.length>0||A.length>0)&&(this._metadata.token=C),f.debug("message changelog sync progress",E),[4,this.saveMetadata()];case 4:return D.sent(),[3,8];case 5:return k=D.sent(),f.debug("message changelog sync error",k),k instanceof Ue&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:D.sent(),D.label=7;case 7:throw k;case 8:return[2,E]}})})}),this._connectionEventContext=g.on(function(E){E instanceof vs&&(E.stateType===Qt.CONNECTED?a.resume():a.pause())})}return n.of=function(t,e){return Ao[t]||(Ao[t]={}),Ao[t][e.url]||(Ao[t][e.url]=new n({_iid:t,channel:e})),Ao[t][e.url].ref++,Ao[t][e.url]},n.clear=function(t,e){Ao[t]&&Ao[t][e]&&(Ao[t][e].close(),delete Ao[t])},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return this._metadata?[3,2]:(t=Ne.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=l.sent(),this._metadata={token:a?a.token:r},l.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Ne.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Ne.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t=Ne.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync resume()"),this._sync.start(0))},n.prototype.pause=function(){var t=Ne.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync pause()"),this._sync.stop())},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Ao[this._iid][this._channel.url])},n}(),yd={},Zhe=function(){function n(t){var e=t._iid,r=t.channel,a=t.hasPollMessage,l=this;this._sync=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var u,h,f=Ne.of(this._iid),m=f.logger,g=f.sdkState,x=f.dispatcher;this._metadataKey=(u=g.userId,h=r.url,"sendbird:".concat(u,"@groupchannel/").concat(h,"/poll/changelogs.meta"));var E=function(w,T){return"sendbird:".concat(w,"@groupchannel/").concat(T,"/poll/changelogs")}(g.userId,this._channel.url);this._sync=new Au(E,function(){return H(l,void 0,void 0,function(){var w,T,A,P,C,k,I,D;return F(this,function(U){switch(U.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return U.sent(),m.debug("poll changelog sync from",(D=this._metadata)===null||D===void 0?void 0:D.token),(T=!this._metadata||!this._metadata.token)?[4,a()]:[3,3];case 2:T=!U.sent(),U.label=3;case 3:if(T)return[2,{hasNext:!1,nextToken:0}];this._metadata||(A=Ne.of(this._iid).firstConnectedAt,this._metadata={token:A}),U.label=4;case 4:return U.trys.push([4,7,,10]),[4,Wb.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return P=U.sent(),C=P.hasMore,k=P.token,w.hasNext=C,w.nextToken=k,this._metadata.token=k,m.debug("poll changelog sync progress",w),[4,this.saveMetadata()];case 6:return U.sent(),[3,10];case 7:return I=U.sent(),m.debug("poll changelog sync error",I),I instanceof Ue&&I.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:U.sent(),U.label=9;case 9:throw I;case 10:return[2,w]}})})}),this._connectionEventContext=x.on(function(w){w instanceof vs&&(w.stateType===Qt.CONNECTED?l.resume():l.pause())})}return n.of=function(t,e,r){return yd[t]||(yd[t]={}),yd[t][e.url]||(yd[t][e.url]=new n({_iid:t,channel:e,hasPollMessage:r})),yd[t][e.url].ref++,yd[t][e.url]},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Ne.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata=t?{token:t.token}:null,e.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Ne.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Ne.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Ne.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},n.prototype.pause=function(){Ne.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete yd[this._iid][this._channel.url])},n}(),Jhe=function(n){function t(e){var r,a,l,u,h,f,m=this;return(m=n.call(this)||this).method=dn.GET,m.path="".concat(Yt(e.channelType),"/").concat(e.channelUrl,"/messages_gap"),m.params=st({prev_start_ts:e.prevStart,prev_end_ts:e.prevEnd,prev_cache_count:e.prevCount,next_start_ts:e.nextStart,next_end_ts:e.nextEnd,next_cache_count:e.nextCount,huge_gap_threshold:(r=e.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(a=e.customTypes)!==null&&a!==void 0?a:["*"],message_type:(l=e.messageType)!==null&&l!==void 0?l:null,include_reactions:(u=e.includeReactions)===null||u===void 0||u,with_sorted_meta_array:(h=e.includeMetaArray)===null||h===void 0||h,show_subchannel_messages_only:(f=e.showSubchannelMessagesOnly)!==null&&f!==void 0&&f,include_poll_details:!0,checking_continuous_messages:e.checkingContinuousMessages}),m}return re(t,n),t}(hn),e0e=function(n){function t(e,r){var a,l,u,h,f,m,g=this;return(g=n.call(this,e,r)||this).isHugeGap=r.is_huge_gap,g.prevMessages=((a=r.prev_messages)!==null&&a!==void 0?a:[]).map(function(x){return Ya(e,x)}),g.prevHasMore=(l=r.prev_hasmore)!==null&&l!==void 0&&l,g.isContinuousPrevMessages=(u=r.is_continuous_prev_messages)!==null&&u!==void 0&&u,g.nextMessages=((h=r.next_messages)!==null&&h!==void 0?h:[]).map(function(x){return Ya(e,x)}),g.nextHasmore=(f=r.next_hasmore)!==null&&f!==void 0&&f,g.isContinuousNextMessages=(m=r.is_continuous_next_messages)!==null&&m!==void 0&&m,g}return re(t,n),t}(mn),kT=function(n,t){return n.findIndex(function(e){return e.isIdentical(t)})},n0e=function(n,t,e){if(n.length>0){for(var r=kT(n,t),a=0,l=n.length-1,u=Math.floor((a+l)/2);a<l;){var h=JR(n[u],t,e);if(h>0)l=u,u=Math.floor((a+l)/2);else{if(!(h<0))return{place:u,oldPosition:r};a=u+1,u=Math.floor((a+l)/2)}}return{place:JR(n[u],t,e)>=0?u:u+1,oldPosition:r}}return{place:n.length,oldPosition:-1}},JR=function(n,t,e){switch(e){case ci.LATEST_LAST_MESSAGE:return n.lastMessage&&t.lastMessage?t.lastMessage.createdAt-n.lastMessage.createdAt:n.lastMessage?-1:t.lastMessage?1:t.createdAt-n.createdAt;case ci.CHRONOLOGICAL:return t.createdAt-n.createdAt;case ci.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(t.name);return r===0?n.createdAt-t.createdAt:r}},Oo=function(n,t){return t instanceof Ai?n.findIndex(function(e){return e instanceof Ai&&t.isIdentical(e)}):n.findIndex(function(e){return e.isIdentical(t)})},Vw=function(n,t){return n.findIndex(function(e){return e.messageId===t})},zw=function(n,t){if(n.length>0){for(var e=0,r=n.length-1,a=Math.floor((e+r)/2);e<r;){var l=n[a].createdAt-t.createdAt;if(l>0)r=a,a=Math.floor((e+r)/2);else{if(!(l<0))return a;e=a+1,a=Math.floor((e+r)/2)}}return n[a].createdAt>t.createdAt?a:a+1}return n.length},eM=6e5;(function(n){n.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(k4||(k4={}));var g_,b_,y_,t0e=function(){function n(){}return n.prototype._invokeResponse=function(t,e,r){var a=this;zn(function(){return H(a,void 0,void 0,function(){return F(this,function(l){switch(t){case"local":this._onCacheResult(e,r);break;case"remote":this._onApiResult(e,r)}return[2]})})})},n.prototype.onCacheResult=function(t){return this._onCacheResult=t,this},n.prototype.onApiResult=function(t){return this._onApiResult=t,this},n}(),r0e=function(){function n(t,e){var r=e.channel,a=e.filter,l=e.startingPoint,u=e.limit,h=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._backgroundSync=null,this._changelogSync=null,this._pollChangelogSync=null,this._checkMyMutedStateTimer=null,this._iid=t,this._key="mc-".concat(Uu()),this.filter=a??new W0,this._channel=r,this._syncRange=new lc({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=typeof l=="number"?l:Date.now()+eM,this._limit=u||Qb;var f=Gr.of(this._iid);f.subscribeGroupChannelEvent(this._key,{onUpdate:function(w,T,A){var P=kT(w,h._channel);if(P>=0)switch(zn(function(){return H(h,void 0,void 0,function(){var N,L;return F(this,function(K){return N=new v_(T),this._channel=w[P],ab(T)&&(!((L=this._handler)===null||L===void 0)&&L.onChannelUpdated)&&this._handler.onChannelUpdated(N,this.channel),[2]})})}),T){case Jn.EVENT_CHANNEL_UPDATED:var C=!1;for(var k in h._messages)if(h._messages[k].createdAt>=h._channel.messageOffsetTimestamp){C=!0;var I=parseInt(k);if(I>0){var D=h._messages.splice(0,I);h._removeMessagesFromView(D.map(function(N){return N.messageId}),dt.EVENT_MESSAGE_OFFSET_UPDATED)}break}!C&&h._messages.length>0&&h._removeMessagesFromView(h._messages.map(function(N){return N.messageId}),dt.EVENT_MESSAGE_OFFSET_UPDATED);break;case Jn.EVENT_CHANNEL_UNMUTED:var U=A;Ne.of(h._iid).sdkState.userId===U&&h._clearCheckMyMutedTimer();break;case Jn.EVENT_CHANNEL_MUTED:var O=A;Ne.of(h._iid).sdkState.userId===O&&h.channel._myMutedRemainingTime!==-1&&h._startCheckMyMutedTimer(h.channel._myMutedRemainingTime);break;case Jn.EVENT_CHANNEL_LEFT:h.channel.isPublic&&h._clearCheckMyMutedTimer()}},onRemove:function(w,T){w.indexOf(h.channel.url)>=0&&(h._clearCheckMyMutedTimer(),zn(function(){return H(h,void 0,void 0,function(){var A,P;return F(this,function(C){return A=new v_(T),!((P=this._handler)===null||P===void 0)&&P.onChannelDeleted&&this._handler.onChannelDeleted(A,this.channel.url),[2]})})}))}}),f.subscribeMessageEvent(this._key,{onUpdate:function(w,T){var A,P,C=[],k=[];try{for(var I=Cn(w),D=I.next();!D.done;D=I.next()){var U=D.value;U.channelUrl===h._channel.url&&(h.filter.match(U)?C.push(U):k.push(U.messageId))}}catch(O){A={error:O}}finally{try{D&&!D.done&&(P=I.return)&&P.call(I)}finally{if(A)throw A.error}}if(gd(T)){if(C.length>0)switch(T){case dt.EVENT_MESSAGE_SENT_FAILED:case dt.EVENT_MESSAGE_SENT_SUCCESS:case dt.EVENT_MESSAGE_UPDATED:case dt.EVENT_MESSAGE_THREADINFO_UPDATED:case dt.EVENT_MESSAGE_REACTION_UPDATED:case dt.SYNC_MESSAGE_CHANGELOGS:h._updateMessagesToView(C,T);break;case dt.EVENT_MESSAGE_SENT_PENDING:h._addMessagesToView(C,T);break;case dt.EVENT_MESSAGE_RECEIVED:h.hasNext||h._addMessagesToView(C,T);break;case dt.SYNC_MESSAGE_FILL:h._addMessagesToView(C,T)}k.length>0&&h._removeMessagesFromView(k,T)}},onRemove:function(w,T){h._removeMessagesFromView(w,T)},onRemoveUnsent:function(w,T){h._removeUnsentMessageFromView(w,T)},onPollChangeLogUpdate:function(w,T){h._updatePollsToView(w,T)},onPollUpdate:function(w,T){h._applyPollUpdateEventToView(w,T)},onPollVote:function(w,T){h._applyPollVoteEventToView(w,T)}});var m=Ne.of(this._iid),g=m.cacheContext,x=m.dispatcher,E=m.logger;this._channel._updateMessageCollectionLastAccessedAt(),x.dispatch(new Dt({channels:[this._channel],source:Jn.CHANNEL_LASTACCESSEDAT_UPDATED})),!this._channel.isSuper&&g.localCacheEnabled&&(this._backgroundSync=Yhe.of(this._iid,this._channel),this._backgroundSync.resume(this._startingPoint)),this._changelogSync=Xhe.of(this._iid,this._channel),this._changelogSync.resume(),this._pollChangelogSync=Zhe.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new Au(this._key,function(w){return H(h,void 0,void 0,function(){var T,A,P,C,k;return F(this,function(I){switch(I.label){case 0:return[4,this._getRemoteMessages(w,{prevLimit:this._limit,source:dt.SYNC_MESSAGE_FILL,checkingContinuousMessages:g.localCacheEnabled})];case 1:return T=I.sent(),A=T.messages,P=T.isContinuousMessages,A.length>0?(C=Math.min.apply(Math,et([],Qn(A.map(function(D){return D.createdAt})),!1)),this._syncRange.extends(C),P&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(C)),[2,{hasNext:A.length>=this._limit&&this.viewTop<C,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Au(this._key,function(w){return H(h,void 0,void 0,function(){var T,A,P,C,k;return F(this,function(I){switch(I.label){case 0:return[4,this._getRemoteMessages(w,{nextLimit:this._limit,source:dt.SYNC_MESSAGE_FILL,checkingContinuousMessages:g.localCacheEnabled})];case 1:return T=I.sent(),A=T.messages,P=T.isContinuousMessages,A.length>0?(C=Math.max.apply(Math,et([],Qn(A.map(function(D){return D.createdAt})),!1)),this._syncRange.extends(C),P&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(C)),[2,{hasNext:!(A.length>=this._limit&&this._hasNext)||this.viewBottom>C,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._connectionEventContext=x.on(function(w){if(w instanceof vs)switch(w.stateType){case Qt.CONNECTED:h._refreshChannel(Jn.SYNC_CHANNEL_CHANGELOGS),li(function(){return H(h,void 0,void 0,function(){var T;return F(this,function(A){switch(A.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(T=A.sent()).isMuted&&T.remainingDuration!==-1&&this._startCheckMyMutedTimer(T.remainingDuration),[2]}})})}),E.debug("check huge gap"),h._checkHugeGap();break;case Qt.LOGOUT:h.dispose();break;default:h._clearCheckMyMutedTimer(),h._prevFill.stop(),h._nextFill.stop()}}),Ne.of(this._iid).statLogCollector.put(new Fd({type:Sl.FEATURE_LOCALCACHE,data:{use_local_cache:g.localCacheEnabled,collection_interface:{message:!0}}}))}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"succeededMessages",{get:function(){return et([],Qn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Rr.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Rr.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewTop",{get:function(){return Math.min.apply(Math,et(et([],Qn(this._messages.map(function(t){return t.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,et(et([],Qn(this._messages.map(function(t){return t.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),n.prototype.setMessageCollectionHandler=function(t){this._handler=t},n.prototype._filterUnderOffsetMessage=function(t){return t},n.prototype._addMessagesToView=function(t,e){var r,a,l=this,u=this._filterUnderOffsetMessage(t),h=[],f=[];try{for(var m=Cn(u),g=m.next();!g.done;g=m.next()){var x=g.value;if(e===dt.SYNC_MESSAGE_FILL)if(x.messageId>0){if((A=Oo(this._messages,x))<0){Oo(this._unsentMessages,x)<0&&h.push(x);var E=zw(this._messages,x);this._messages.splice(E,0,x)}}else x instanceof Ai&&(A=Oo(this._unsentMessages,x))<0&&Oo(this._messages,x)<0&&(this._unsentMessages.push(x),h.push(x));else if(x.messageId>0){if((A=Oo(this._messages,x))<0){var w=Oo(this._unsentMessages,x);w<0?h.push(x):(this._unsentMessages.splice(w,1),f.push(x)),E=zw(this._messages,x),this._messages.splice(E,0,x)}else f.push(x),this._messages[A]=x;if(x.updatedAt>0){var T=this._updateChildMessagesInView(x);f.push.apply(f,et([],Qn(T),!1))}}else if(x instanceof Ai){var A;(A=Oo(this._unsentMessages,x))<0?Oo(this._messages,x)<0&&(this._unsentMessages.push(x),h.push(x)):(f.push(x),this._unsentMessages[A]=x)}}}catch(P){r={error:P}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}gd(e)&&zn(function(){return H(l,void 0,void 0,function(){var P,C,k;return F(this,function(I){return P=new i0(e),h.length>0&&((C=this._handler)===null||C===void 0||C.onMessagesAdded(P,this.channel,h)),f.length>0&&((k=this._handler)===null||k===void 0||k.onMessagesUpdated(P,this.channel,f)),[2]})})})},n.prototype._updateChildMessagesInView=function(t){var e=[];return this._messages.forEach(function(r){r.applyParentMessage(t)&&e.push(r)}),e},n.prototype._updatePollsToView=function(t,e){var r,a,l=this,u=[];try{for(var h=Cn(t),f=h.next();!f.done;f=h.next()){var m=f.value,g=Vw(this._messages,m.messageId);if(g>=0){var x=this._messages[g];x&&x.applyPoll(m),u.push(x)}}}catch(E){r={error:E}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return u.length>0&&gd(e)&&zn(function(){return H(l,void 0,void 0,function(){var E,w;return F(this,function(T){return E=new i0(e),u.length>0&&((w=this._handler)===null||w===void 0||w.onMessagesUpdated(E,this.channel,u)),[2]})})}),u},n.prototype._applyPollUpdateEventToView=function(t,e){var r=this,a=Vw(this._messages,t.messageId);if(a>=0){var l=this._messages[a];l&&l.isUserMessage()&&l.poll&&l.poll.applyPollUpdateEvent(t)&&gd(e)&&zn(function(){return H(r,void 0,void 0,function(){var u,h;return F(this,function(f){return u=new i0(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(u,this.channel,[l]),[2]})})})}},n.prototype._applyPollVoteEventToView=function(t,e){var r=this,a=Vw(this._messages,t.messageId);if(a>=0){var l=this._messages[a];l&&l.isUserMessage()&&l.poll&&l.poll.applyPollVoteEvent(t)&&gd(e)&&zn(function(){return H(r,void 0,void 0,function(){var u,h;return F(this,function(f){return u=new i0(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(u,this.channel,[l]),[2]})})})}},n.prototype._updateMessagesToView=function(t,e){var r,a,l=this,u=[],h=[];try{for(var f=Cn(t),m=f.next();!m.done;m=f.next()){var g,x=m.value;if(x.messageId>0)if((g=Oo(this._messages,x))>=0)u.push(x),this._messages[g]=x;else{var E=Oo(this._unsentMessages,x);if(E>=0){var w=this._unsentMessages.splice(E,1);if(this.hasNext&&w.length>0)h.push(w[0]);else{u.push(x);var T=zw(this._messages,x);this._messages.splice(T,0,x)}}}else x instanceof Ai&&(g=Oo(this._unsentMessages,x))>=0&&(u.push(x),this._unsentMessages[g]=x)}}catch(A){r={error:A}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return gd(e)&&zn(function(){return H(l,void 0,void 0,function(){var A,P,C;return F(this,function(k){return A=new i0(e),u.length>0?(P=this._handler)===null||P===void 0||P.onMessagesUpdated(A,this.channel,u):h.length>0&&((C=this._handler)===null||C===void 0||C.onMessagesDeleted(A,this.channel,[],h)),[2]})})}),u},n.prototype._removeMessagesFromView=function(t,e){var r,a,l=this,u=[],h=[],f=function(E){var w=m._messages.findIndex(function(A){return A.messageId===E});if(w>=0){var T=m._messages[w];u.push(T.messageId),h.push(T),m._messages.splice(w,1)}},m=this;try{for(var g=Cn(t),x=g.next();!x.done;x=g.next())f(x.value)}catch(E){r={error:E}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(r)throw r.error}}return gd(e)&&h.length>0&&zn(function(){return H(l,void 0,void 0,function(){var E,w;return F(this,function(T){return E=new i0(e),(w=this._handler)===null||w===void 0||w.onMessagesDeleted(E,this.channel,u,h),[2]})})}),u},n.prototype._removeUnsentMessageFromView=function(t,e){var r=this._unsentMessages.findIndex(function(a){return a.reqId===t});r>=0&&this._unsentMessages.splice(r,1)},n.prototype._getLocalMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,l=e.nextLimit,u=l===void 0?0:l;return H(this,void 0,void 0,function(){var h,f,m,g,x,E,w;return F(this,function(T){switch(T.label){case 0:return h=Gr.of(this._iid),a>0?[4,h.getMessagesFromCache(this._channel.url,t,"prev",this.filter,a)]:[3,2];case 1:return m=T.sent(),[3,3];case 2:m=[],T.label=3;case 3:return f=m,u>0?[4,h.getMessagesFromCache(this._channel.url,t,"next",this.filter,u)]:[3,5];case 4:return x=T.sent(),[3,6];case 5:x=[],T.label=6;case 6:if(g=x,f.length>0&&g.length>0){for(w in E=f.map(function(A){return A.messageId}),g)if(E.includes(g[w].messageId)){g.splice(parseInt(w),1);break}}return[2,et(et([],Qn(f),!1),Qn(g),!1).sort(function(A,P){return P.createdAt-A.createdAt})]}})})},n.prototype._getRemoteMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,l=e.nextLimit,u=l===void 0?0:l,h=e.source,f=h===void 0?dt.REQUEST_MESSAGE:h,m=e.reverse,g=m!==void 0&&m,x=e.checkingContinuousMessages,E=x!==void 0&&x;return H(this,void 0,void 0,function(){var w,T;return F(this,function(A){switch(A.label){case 0:return w=zi.of(this._iid),a>0||u>0?[4,w._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,t,we(we({},this.filter),{isInclusive:!0,reverse:g,prevResultSize:a,nextResultSize:u,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0}),f,E)]:[3,2];case 1:return T=A.sent(),[3,3];case 2:T={messages:[],isContinuousMessages:!1},A.label=3;case 3:return[2,T]}})})},n.prototype._checkHugeGap=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O=this;return F(this,function(N){switch(N.label){case 0:return this._messages.length>0?(e=this._syncRange.top,r=this.viewTop,a=this._syncRange.bottom,l=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(u=Gr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,r,e)]):[3,4];case 1:return h=N.sent(),[4,u.getCachedMessageCountBetween(this._channel.url,this.filter,a,l)];case 2:return f=N.sent(),[4,A1(function(){return H(O,void 0,void 0,function(){var L,K,z,ae,fe,B,J,ce,W,_e,oe,le,ve,De,pe,he,G,ee,$,ie,Oe,qe=this;return F(this,function(Re){switch(Re.label){case 0:return L=Ne.of(this._iid),K=L.dispatcher,z=L.requestQueue,ae=L.cacheContext,fe=new Jhe(we({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:r,prevEnd:e,prevCount:h,nextStart:a,nextEnd:l,nextCount:f,checkingContinuousMessages:ae.localCacheEnabled},this.filter)),[4,z.send(fe)];case 1:return B=Re.sent(),J=B.as(e0e),ce=J.isHugeGap,W=J.prevMessages,_e=W===void 0?[]:W,oe=J.prevHasMore,le=J.isContinuousPrevMessages,ve=J.nextMessages,De=ve===void 0?[]:ve,pe=J.nextHasmore,he=J.isContinuousNextMessages,ce?zn(function(){return H(qe,void 0,void 0,function(){var Se;return F(this,function(je){return(Se=this._handler)===null||Se===void 0||Se.onHugeGapDetected(),[2]})})}):(this._hasPrevious=oe,this._hasNext=pe,G=this.viewTop,ee=this.viewBottom,$=Math.min.apply(Math,et([Number.MAX_SAFE_INTEGER,G],Qn(_e.map(function(Se){return Se.createdAt})),!1)),ie=Math.max.apply(Math,et([0,ee],Qn(De.map(function(Se){return Se.createdAt})),!1)),K.dispatch(new ri({messages:_e,source:dt.SYNC_MESSAGE_FILL})),K.dispatch(new ri({messages:De,source:dt.SYNC_MESSAGE_FILL})),this._syncRange.extends($,ie),(le||he)&&((Oe=this._backgroundSync)===null||Oe===void 0||Oe.range.extends($,ie)),G<$&&this._prevFill.start($),ee>ie&&this._nextFill.start(ie)),[2]}})})},1)];case 3:return N.sent(),[3,8];case 4:m=Ne.of(this._iid).cacheContext,g=Math.floor(this._limit/2),x=Date.now(),N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this._getRemoteMessages(x,{prevLimit:g,nextLimit:g,source:dt.SYNC_MESSAGE_FILL,checkingContinuousMessages:m.localCacheEnabled})];case 6:if(E=N.sent(),w=E.messages,T=E.isContinuousMessages,w.length>0){for(A=w.map(function(L){return L.createdAt}),P=0,C=0,k=0;k<A.length;k++)(I=A[k])<=x?P++:I>=x&&C++;this._hasPrevious=P>=g,this._hasNext=C>=g,(U=this._syncRange).extends.apply(U,et([],Qn(A),!1)),T&&((t=this._backgroundSync)===null||t===void 0||t.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(w,dt.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,8];case 7:return(D=N.sent())instanceof Ue&&D.code===Nt.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,8];case 8:return[2]}})})},n.prototype._loadUnsentMessages=function(){return H(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return t=Gr.of(this._iid),e=this,[4,t.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return e._unsentMessages=r.sent(),[2]}})})},n.prototype._hasPollMessage=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Gr.of(this._iid).getPollMessagesFromCache(this._channel.url,Date.now()+eM,this.filter,1)];case 1:return t.sent().length>0?[2,!0]:[2,!1]}})})},n.prototype._refreshChannel=function(t){Gr.of(this._iid).refreshChannel(this.channel.url,!0,t)},n.prototype._startCheckMyMutedTimer=function(t){var e=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout(function(){return H(e,void 0,void 0,function(){var r,a,l,u;return F(this,function(h){switch(h.label){case 0:this._checkMyMutedStateTimer=null,r=!0,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return a=h.sent(),r=!a.isMuted,[3,5];case 3:return h.sent(),r=!0,[3,5];case 4:return r&&(this.channel.myMutedState=bl.UNMUTED,l=new v_(Jn.EVENT_CHANNEL_UNMUTED),(u=this._handler)===null||u===void 0||u.onChannelUpdated(l,this.channel)),[7];case 5:return[2]}})})},t+1e3)},n.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=null)},n.prototype.initialize=function(t){var e=this,r=new t0e;this._messages=[],this._unsentMessages=[],this._syncRange=new lc({}),this._hasNext=!0,this._hasPrevious=!0,this._refreshChannel(Jn.REFRESH_CHANNEL),li(function(){return H(e,void 0,void 0,function(){var h;return F(this,function(f){switch(f.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(h=f.sent()).isMuted&&h.remainingDuration!==-1&&this._startCheckMyMutedTimer(h.remainingDuration),[2]}})})});var a=Math.floor(this._limit/2);t===k4.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:a,nextLimit:a}).then(function(h){return H(e,void 0,void 0,function(){var f;return F(this,function(m){switch(m.label){case 0:return f=this._filterUnderOffsetMessage(h),this._addMessagesToView(f,dt.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return m.sent(),r._invokeResponse("local",null,f),[2]}})})}).catch(function(h){if(El(h))throw h;r._invokeResponse("local",h,null)}).finally(function(){var h=Ne.of(e._iid).cacheContext;e._getRemoteMessages(e._startingPoint,{prevLimit:a,nextLimit:a,reverse:!0,checkingContinuousMessages:h.localCacheEnabled}).then(function(f){var m,g,x=f.messages,E=f.isContinuousMessages;e._messages=[];var w=e._filterUnderOffsetMessage(x);if(w.length>0){for(var T=w.map(function(I){return I.createdAt}),A=0,P=0,C=0;C<T.length;C++){var k=T[C];k<=e._startingPoint?A++:k>=e._startingPoint&&P++}e._hasPrevious=A>=a,e._hasNext=P>=a,(m=e._syncRange).extends.apply(m,et([],Qn(w.map(function(I){return I.createdAt})),!1)),E&&((g=e._backgroundSync)===null||g===void 0||g.range.extends(e._syncRange.top,e._syncRange.bottom)),e._addMessagesToView(w,dt.REQUEST_MESSAGE)}else e._hasPrevious=!1,e._hasNext=!1;r._invokeResponse("remote",null,w)}).catch(function(f){if(El(f))throw f;r._invokeResponse("remote",f,null)})});var l=Ne.of(this._iid),u=l.cacheContext;return l.statLogCollector.put(new Fd({type:Sl.FEATURE_LOCALCACHE,data:{use_local_cache:u.localCacheEnabled,collection_interface:{message_init_policy:t}}})),r},n.prototype.loadPrevious=function(){return H(this,void 0,void 0,function(){var t,e,r,a=this;return F(this,function(l){switch(l.label){case 0:return this._hasPrevious?(t=this.viewTop,e=[],[4,li(function(){return H(a,void 0,void 0,function(){var u;return F(this,function(h){switch(h.label){case 0:return u=this._filterUnderOffsetMessage,[4,this._getLocalMessages(t,{prevLimit:this._limit})];case 1:return e=u.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return l.sent(),e.length!==0&&this._backgroundSync&&this._backgroundSync.isWrappingMessages(e)?[3,3]:[4,li(function(){return H(a,void 0,void 0,function(){var u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return u=Ne.of(this._iid).cacheContext,[4,this._getRemoteMessages(t,{prevLimit:this._limit,checkingContinuousMessages:u.localCacheEnabled})];case 1:return h=x.sent(),e=this._filterUnderOffsetMessage(h.messages),this._hasPrevious=e.length>=this._limit,e.length>0&&((f=this._syncRange).extends.apply(f,et([],Qn(e.map(function(E){return E.createdAt})),!1)),!((m=this._backgroundSync)===null||m===void 0)&&m.range.overlap(this._syncRange)&&h.isContinuousMessages&&((g=this._backgroundSync)===null||g===void 0||g.range.extends(this._syncRange.top))),[2]}})})})];case 2:return l.sent(),this._addMessagesToView(e,dt.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=e.length>=this._limit,e.length>0&&((r=this._syncRange).extends.apply(r,et([],Qn(e.map(function(u){return u.createdAt})),!1)),this._addMessagesToView(e,dt.REQUEST_MESSAGE)),l.label=4;case 4:return[2,e];case 5:return[2,[]]}})})},n.prototype.loadNext=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(u){switch(u.label){case 0:return this._hasNext?(e=this.viewBottom,r=[],[4,li(function(){return H(l,void 0,void 0,function(){var h;return F(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{nextLimit:this._limit})];case 1:return r=h.apply(this,[f.sent()]),[2]}})})})]):[2,[]];case 1:return u.sent(),r.length!==0&&(!((t=this._backgroundSync)===null||t===void 0)&&t.isWrappingMessages(r))?[3,3]:[4,li(function(){return H(l,void 0,void 0,function(){var h,f,m,g,x;return F(this,function(E){switch(E.label){case 0:return h=Ne.of(this._iid).cacheContext,[4,this._getRemoteMessages(e,{nextLimit:this._limit,checkingContinuousMessages:h.localCacheEnabled})];case 1:return f=E.sent(),r=this._filterUnderOffsetMessage(f.messages),this._hasNext=r.length>=this._limit,r.length>0&&((m=this._syncRange).extends.apply(m,et([],Qn(r.map(function(w){return w.createdAt})),!1)),!((g=this._backgroundSync)===null||g===void 0)&&g.range.overlap(this._syncRange)&&f.isContinuousMessages&&((x=this._backgroundSync)===null||x===void 0||x.range.extends(this._syncRange.bottom))),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(r,dt.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=r.length>=this._limit,r.length>0&&((a=this._syncRange).extends.apply(a,et([],Qn(r.map(function(h){return h.createdAt})),!1)),this._addMessagesToView(r,dt.REQUEST_MESSAGE)),u.label=4;case 4:return[2,r]}})})},n.prototype.removeFailedMessage=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,Gr.of(this._iid).removeFailedMessageFromCache(t)];case 1:return r.sent(),(e=this._unsentMessages.findIndex(function(a){return a.reqId===t}))>-1&&this._unsentMessages.splice(e,1),[2]}})})},n.prototype.dispose=function(){var t,e,r,a=Ne.of(this._iid),l=a.cacheContext,u=a.dispatcher;this._clearCheckMyMutedTimer(),this._channel._updateMessageCollectionLastAccessedAt(),u.dispatch(new Dt({channels:[this._channel],source:Jn.CHANNEL_LASTACCESSEDAT_UPDATED})),l.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._pollChangelogSync)===null||r===void 0||r.close();var h=Gr.of(this._iid);h.unsubscribeGroupChannelEvent(this._key),h.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()},n}(),i0e={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},a0e={hidePreviousMessages:!1,allowAutoUnhide:!0},s0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.token,u=e.limit,h=e.order,f=e.mutedMemberFilter,m=e.memberStateFilter,g=e.nicknameStartsWithFilter,x=e.operatorFilter;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/members"),r.params={token:l,limit:u,order:h,muted_member_filter:f,member_state_filter:m,nickname_startswith:g,operator_filter:x,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return re(t,n),t}(hn),o0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.members=[];var l=r.next,u=r.members;return a.token=l,u&&u.length>0&&(a.members=u.map(function(h){return new uo(e,h)})),a}return re(t,n),t}(mn);(function(n){n.ALL="all",n.MUTED="muted",n.UNMUTED="unmuted"})(g_||(g_={})),function(n){n.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",n.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(b_||(b_={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(y_||(y_={}));var l0e=function(n){function t(e,r,a){var l,u,h,f,m=this;return(m=n.call(this,e,r,rr.GROUP,a)||this).mutedMemberFilter=g_.ALL,m.memberStateFilter=y_.ALL,m.nicknameStartsWithFilter=null,m.operatorFilter=Jb.ALL,m.order=b_.MEMBER_NICKNAME_ALPHABETICAL,m.mutedMemberFilter=(l=a.mutedMemberFilter)!==null&&l!==void 0?l:g_.ALL,m.memberStateFilter=(u=a.memberStateFilter)!==null&&u!==void 0?u:y_.ALL,m.nicknameStartsWithFilter=(h=a.nicknameStartsWithFilter)!==null&&h!==void 0?h:null,m.order=(f=a.order)!==null&&f!==void 0?f:b_.MEMBER_NICKNAME_ALPHABETICAL,m}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&yt(g_,this.mutedMemberFilter)&&yt(y_,this.memberStateFilter)&&(Ee("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&yt(Jb,this.operatorFilter)&&yt(b_,this.order)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new s0e(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(o0e),u=l.members,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc),c0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,u=e.accessCode;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/accept"),r.params={user_id:l,access_code:u},r}return re(t,n),t}(hn),u0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a.channel.myMemberState=Xr.JOINED,a}return re(t,n),t}(mn),d0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.isDistinct,u=e.isPublic,h=e.isDiscoverable,f=e.coverUrl,m=e.coverImage,g=e.accessCode,x=e.name,E=e.data,w=e.customType,T=e.operatorUserIds,A=e.messageSurvivalSeconds;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a)),r.params=st({is_distinct:l,is_public:u,is_discoverable:h,name:x,data:E,custom_type:w,cover_url:f,cover_file:m,access_code:g,operator_ids:T,message_survival_seconds:A}),r}return re(t,n),t}(hn),h0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Hs(e,r),a}return re(t,n),t}(mn),p0e=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(ya,"/").concat(encodeURIComponent(a)),r}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var f0e=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=dn.DELETE,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/hide"),r}return re(t,n),t}(hn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(mn);var _0e=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=e.countPreference,u=n.call(this)||this;return u.method=dn.PUT,u.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(a)),u.params={count_preference:l},u}return re(t,n),t}(hn),m0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.countPreference=r.count_preference,a}return re(t,n),t}(mn),v0e=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=dn.PUT,r.path="".concat(ya,"/").concat(encodeURIComponent(a),"/reset_user_history"),r}return re(t,n),t}(hn),g0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var l=r.ts_message_offset;return a.messageOffsetTimestamp=l??null,a}return re(t,n),t}(mn),b0e=we(we({},yT),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),y0e=we(we({},l9),{scheduledAt:null}),E0e=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=null;e.mentionType===Ji.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(m){return m.userId})));var u=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=dn.PUT,a.path="".concat(Yt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=st({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:q0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(m){return L1.payloadify(m)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return Ka.payloadify(m)}),apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption}),a}return re(t,n),t}(hn),w0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ii(e,r),a}return re(t,n),t}(mn),x0e=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=null;e.mentionType===Ji.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(m){return m.userId})));var u=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=dn.PUT,a.path="".concat(Yt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=st({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:q0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return Ka.payloadify(m)}),apple_critical_alert_options:kl.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption}),a}return re(t,n),t}(hn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Yi(e,r),a}re(t,n)})(mn);var S0e=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,l=e.channelUrl,u=e.scheduledMessageId;return r.method=dn.DELETE,r.path="".concat(Yt(a),"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(u)),r}return re(t,n),t}(hn),T0e=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,l=e.channelUrl,u=e.scheduledMessageId;return r.method=dn.POST,r.path="".concat(Yt(a),"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(u),"/send_now"),r}return re(t,n),t}(hn),k0e=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=e.pushTriggerOption,u=n.call(this)||this;return u.method=dn.PUT,u.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),u.params={push_trigger_option:l},u}return re(t,n),t}(hn),C0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return re(t,n),t}(mn),N0e=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=n.call(this)||this;return l.method=dn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),l}return re(t,n),t}(hn),I0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return re(t,n),t}(mn),A0e=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=n.call(this)||this;return u.method=dn.POST,u.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/pin"),u}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var O0e=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,u=n.call(this)||this;return u.method=dn.DELETE,u.path="".concat(Yt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/pin"),u}return re(t,n),t}(hn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(mn);var Os,bl,ha,R0e=function(n){function t(e,r){var a=n.call(this,e)||this;return a.message=Ya(e,r.message),a}return re(t,n),t}($s),M0e=function(n){function t(e){var r=this,a=e.channelType,l=e.channelUrl,u=e.limit,h=e.token,f=e.includeReactions,m=e.includeMetaArray,g=e.includeParentMessageInfo,x=e.includeThreadInfo,E=e.includePollDetails;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(Yt(a),"/").concat(encodeURIComponent(l),"/pinned_messages"),r.params=st({limit:u,token:h,include_reactions:f,with_sorted_meta_array:m,include_thread_info:x,include_parent_message_info:g,include_poll_details:E}),r}return re(t,n),t}(hn),D0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.hasMore=null,a.token=null;var l=r.pinned_messages,u=r.has_more,h=r.next;return a.pinnedMessages=l.map(function(f){return new R0e(e,f)}),a.hasMore=u,a.token=h,a}return re(t,n),t}(mn),L0e=function(n){function t(e,r,a,l){var u=n.call(this,e,r,a,l)||this;return u.includeMetaArray=l.includeMetaArray,u.includeReactions=l.includeReactions,u.includeParentMessageInfo=l.includeParentMessageInfo,u.includeThreadInfo=l.includeThreadInfo,u.includePollDetails=l.includePollDetails,u}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("boolean",this.includeMetaArray,!0)&&Ee("boolean",this.includeReactions,!0)&&Ee("boolean",this.includeParentMessageInfo,!0)&&Ee("boolean",this.includeThreadInfo,!0)&&Ee("boolean",this.includePollDetails,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new M0e(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=m.sent(),l=a.as(D0e),u=l.pinnedMessages,h=l.hasMore,f=l.token,this._token=f,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(Sc);(function(n){n.ALL="all",n.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",n.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",n.OFF="off"})(Os||(Os={})),function(n){n.MUTED="muted",n.UNMUTED="unmuted"}(bl||(bl={})),function(n){n.UNHIDDEN="unhidden",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(ha||(ha={}));var E_,Hs=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D,U,O,N=this;return(N=n.call(this,e,r)||this)._unreadMemberStateMap=new Map,N._undeliveredMemberStateMap=new Map,N._typingStatus=new Map,N._lastMemberCountUpdated=0,N._typingStarted=0,N._typingEnded=0,N.isDistinct=!1,N.isSuper=!1,N.isBroadcast=!1,N.isExclusive=!1,N.isPublic=!1,N.isDiscoverable=!0,N.isAccessCodeRequired=!1,N.isPushEnabled=!1,N.unreadMessageCount=0,N.unreadMentionCount=0,N.members=[],N.memberCount=0,N.joinedMemberCount=0,N.hiddenState=ha.UNHIDDEN,N.lastMessage=null,N.messageOffsetTimestamp=0,N.messageSurvivalSeconds=-1,N.myMemberState=Xr.NONE,N.myRole=co.NONE,N.myMutedState=bl.UNMUTED,N.myLastRead=0,N.myCountPreference=Os.ALL,N.myPushTriggerOption=Ld.DEFAULT,N.inviter=null,N.invitedAt=0,N.joinedAt=0,N.pinnedMessageIds=[],N.lastPinnedMessage=null,N._pinnedMessagesUpdatedAt=0,N._myMutedRemainingTime=-1,N.channelType=rr.GROUP,N.isDistinct=(l=r.is_distinct)!==null&&l!==void 0&&l,N.isSuper=(u=r.is_super)!==null&&u!==void 0&&u,N.isBroadcast=(h=r.is_broadcast)!==null&&h!==void 0&&h,N.isExclusive=(f=r.is_exclusive)!==null&&f!==void 0&&f,N.isPublic=(m=r.is_public)!==null&&m!==void 0&&m,N.isDiscoverable=(g=r.is_discoverable)!==null&&g!==void 0?g:N.isPublic,N.isAccessCodeRequired=(x=r.is_access_code_required)!==null&&x!==void 0&&x,N.isPushEnabled=(E=r.is_push_enabled)!==null&&E!==void 0&&E,Array.isArray(r.members)&&(a=N.members).push.apply(a,et([],Qn(r.members.map(function(L){return new uo(N._iid,L)})),!1)),N.memberCount=(w=r.member_count)!==null&&w!==void 0?w:0,N.joinedMemberCount=(T=r.joined_member_count)!==null&&T!==void 0?T:0,N.hiddenState=yt(ha,r.hidden_state)?r.hidden_state:ha.UNHIDDEN,N.messageOffsetTimestamp=(A=r.ts_message_offset)!==null&&A!==void 0?A:0,N.messageSurvivalSeconds=(P=r.message_survival_seconds)!==null&&P!==void 0?P:-1,N.lastMessage=r.last_message?Ya(N._iid,we({channel_type:N.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(L){Ee("number",r.read_receipt[L])&&N._updateUnreadMemberState(L,r.read_receipt[L])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(L){Ee("number",r.delivery_receipt[L])&&N._updateUndeliveredMemberState(L,r.delivery_receipt[L])}),N.myMemberState=yt(Xr,r.member_state)?r.member_state:Xr.NONE,N.myRole=yt(co,r.my_role)?r.my_role:co.NONE,yt(bl,r.is_muted)?N.myMutedState=r.is_muted:Ee("boolean",r.is_muted)?N.myMutedState=r.is_muted?bl.MUTED:bl.UNMUTED:N.myMutedState=bl.UNMUTED,N.myCountPreference=yt(Os,r.count_preference)?r.count_preference:Os.ALL,N.myPushTriggerOption=yt(Ld,r.push_trigger_option)?r.push_trigger_option:Ld.ALL,N.myLastRead=(C=r.user_last_read)!==null&&C!==void 0?C:0,N.inviter=r.inviter?new It(N._iid,r.inviter):null,N.invitedAt=(k=r.invited_at)!==null&&k!==void 0?k:0,N.joinedAt=(I=r.joined_ts)!==null&&I!==void 0?I:0,N._updateUnreadCount((D=r.unread_message_count)!==null&&D!==void 0?D:0,(U=r.unread_mention_count)!==null&&U!==void 0?U:0),N.pinnedMessageIds=(O=r.pinned_message_ids)!==null&&O!==void 0?O:[],N.lastPinnedMessage=r.latest_pinned_message?Ya(N._iid,we({channel_type:N.channelType},r.latest_pinned_message)):null,N}return re(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==ha.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,r,a={};try{for(var l=Cn(this._unreadMemberStateMap),u=l.next();!u.done;u=l.next()){var h=Qn(u.value,2),f=h[0],m=h[1];a[f]=m}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,r,a={};try{for(var l=Cn(this._undeliveredMemberStateMap),u=l.next();!u.done;u=l.next()){var h=Qn(u.value,2),f=h[0],m=h[1];a[f]=m}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),t.payloadify=function(e){return e?st(we(we({},n.payloadify.call(this,e)),{is_access_code_required:e.isAccessCodeRequired,is_distinct:e.isDistinct,is_super:e.isSuper,is_broadcast:e.isBroadcast,is_exclusive:e.isExclusive,is_public:e.isPublic,is_discoverable:e.isDiscoverable,is_muted:e.myMutedState,is_push_enabled:e.isPushEnabled,unread_message_count:e.unreadMessageCount,unread_mention_count:e.unreadMentionCount,push_trigger_option:e.myPushTriggerOption,count_preference:e.myCountPreference,hidden_state:e.hiddenState,member_count:e.memberCount,joined_member_count:e.joinedMemberCount,member_state:e.myMemberState,my_role:e.myRole,user_last_read:e.myLastRead,ts_message_offset:e.messageOffsetTimestamp,message_survival_seconds:e.messageSurvivalSeconds,read_receipt:e.cachedUnreadMemberState,delivery_receipt:e.cachedUndeliveredMemberState,members:e.members.map(function(r){return uo.payloadify(r)}),last_message:G_(e.lastMessage),inviter:e.inviter?It.payloadify(e.inviter):null,invited_at:e.invitedAt,joined_ts:e.joinedAt,pinned_message_ids:e.pinnedMessageIds,latest_pinned_message:G_(e.lastPinnedMessage)})):null},t.prototype._shouldUpdateLastMessageWith=function(e){return!(e instanceof Ai&&e.parentMessageId>0&&!e.replyToChannel)&&(!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt)},t.prototype._updateUnreadCount=function(e,r){if(typeof e=="number"&&e>=0)if(this.myCountPreference===Os.ALL||this.myCountPreference===Os.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var a=Ne.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=a&&e>=a?a:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Os.ALL||this.myCountPreference===Os.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,r){var a=this._unreadMemberStateMap.get(e);return(!a||a<r)&&(this._unreadMemberStateMap.set(e,r),Ne.of(this._iid).sdkState.userId===e&&(this.myLastRead=r),!0)},t.prototype._updateUndeliveredMemberState=function(e,r){var a=this._undeliveredMemberStateMap.get(e);return(!a||a<r)&&(this._undeliveredMemberStateMap.set(e,r),!0)},t.prototype._updateTypingStatus=function(e,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus.set(e.userId,{user:e,ts:r}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,r,a){var l=!1;return a>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=a,l=e!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=r),l},t.prototype.isReadMessage=function(e){var r=Ne.of(this._iid).sdkState,a=this._unreadMemberStateMap.get(r.userId);return a&&a>=e.createdAt},t.prototype.serialize=function(){var e=this;return np(this,function(r){r.cachedUnreadMemberState=e.cachedUnreadMemberState,r.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState})},t.prototype.createMessageCollection=function(e){return e===void 0&&(e={}),new r0e(this._iid,we({channel:this},e))},t.prototype.createMemberListQuery=function(e){return e===void 0&&(e={}),new l0e(this._iid,this.url,e)},t.prototype.createPinnedMessageListQuery=function(e){return e===void 0&&(e={}),new L0e(this._iid,this.url,this.channelType,e)},t.prototype.addMember=function(e,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=this.members.findIndex(function(u){return u.userId===e.userId});if(a>-1){var l=this.members[a];l.state===Xr.JOINED&&(e.state=l.state),this.members.splice(a,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,r),this._updateUndeliveredMemberState(e.userId,r)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=e instanceof uo?e.userId:e,a=this.members.findIndex(function(l){return l.userId===r});if(a>-1)return this.members.splice(a,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var r,a;if(e instanceof Ai&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var l=Ne.of(this._iid).sdkState,u=e.createdAt,h=0;try{for(var f=Cn(this.members),m=f.next();!m.done;m=f.next()){var g=m.value;l.userId!==g.userId&&g.state===Xr.JOINED&&e.sender.userId!==g.userId&&(this.cachedUnreadMemberState[g.userId]||0)<u&&h++}}catch(x){r={error:x}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getUndeliveredMemberCount=function(e){var r,a;if(e instanceof Ai&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var l=Ne.of(this._iid).sdkState,u=e.createdAt,h=0;try{for(var f=Cn(this.members),m=f.next();!m.done;m=f.next()){var g=m.value;l.userId!==g.userId&&g.state===Xr.JOINED&&e.sender.userId!==g.userId&&(this.cachedUndeliveredMemberState[g.userId]||0)<u&&h++}}catch(x){r={error:x}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getReadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var l=Ne.of(this._iid).sdkState;if(!l.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=e instanceof Ai?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==l.userId&&f.userId!==(u==null?void 0:u.userId))&&a._unreadMemberStateMap.get(f.userId)>=e.createdAt&&h.push(f)}),h},t.prototype.getUnreadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var l=Ne.of(this._iid).sdkState;if(!l.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=e instanceof Ai?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==l.userId&&f.userId!==(u==null?void 0:u.userId))&&a._unreadMemberStateMap.get(f.userId)<e.createdAt&&h.push(f)}),h},t.prototype.getReadStatus=function(e){var r=this;e===void 0&&(e=!1);var a=Ne.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var l={};return this.members.forEach(function(u){if(e||u.userId!==a.userId){var h=r._unreadMemberStateMap.get(u.userId);l[u.userId]=new H9(r._iid,{channel_url:r.url,channel_type:r.channelType,user:uo.payloadify(u),ts:h})}}),l},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach(function(r){var a=r.user;e.push(a)}),e},t.prototype.invalidateTypingStatus=function(){var e=this,r=Ne.of(this._iid).typingIndicatorInvalidateTime,a=Date.now(),l=!1;return this._typingStatus.forEach(function(u,h){var f=u.ts;a-f>=r&&(e._typingStatus.delete(h),l=!0)}),l},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid),r=e.requestQueue,a=e.dispatcher,l=new S4({channelUrl:this.url}),[4,r.send(l)];case 1:return u=f.sent(),h=u.as(T4).channel,a.dispatch(new Dt({channels:[h],source:Jn.REQUEST_CHANNEL})),[2,h]}})})},t.prototype.freeze=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,n.prototype.freeze.call(this)];case 1:return e.sent(),Ne.of(this._iid).dispatcher.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_HIDDEN})),[2]}})})},t.prototype.unfreeze=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,n.prototype.unfreeze.call(this)];case 1:return e.sent(),Ne.of(this._iid).dispatcher.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},t.prototype.updateChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return r=we(we({},i0e),e),_n(function(x){return Ee("string",x.coverUrl,!0)&&(Ri(x.coverImage)||Ee("string",x.coverImage)||x.coverImage===null)&&Ee("boolean",x.isDistinct,!0)&&Ee("boolean",x.isPublic,!0)&&Ee("boolean",x.isDiscoverable,!0)&&Ee("string",x.accessCode,!0)&&Ee("string",x.name,!0)&&Ee("string",x.data,!0)&&Ee("string",x.customType,!0)&&St("string",x.operatorUserIds,!0)&&Ee("number",x.messageSurvivalSeconds,!0)}(r)).throw(Ue.invalidParameters),a=Ne.of(this._iid),l=a.dispatcher,u=a.requestQueue,h=new d0e(we({channelUrl:this.url},r)),[4,u.send(h)];case 1:return f=g.sent(),m=f.as(h0e).channel,l.dispatch(new Dt({channels:[m],source:Jn.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.invite=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(e.every(function(a){return a instanceof It})).throw(Ue.invalidParameters),[2,this.inviteWithUserIds(e.map(function(a){return a.userId}))]})})},t.prototype.inviteWithUserIds=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f;return F(this,function(m){switch(m.label){case 0:return _n(St("string",e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.dispatcher,l=r.requestQueue,u=new Mhe({channelUrl:this.url,userIds:e}),[4,l.send(u)];case 1:return h=m.sent(),f=h.as(Dhe).channel,a.dispatch(new Dt({channels:[f],source:Jn.EVENT_CHANNEL_INVITED})),[2,f]}})})},t.prototype.join=function(e){return e===void 0&&(e=null),H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return _n(Ee("string",e)||e===null).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.dispatcher,l=r.sdkState,u=r.requestQueue,h=new Nhe({channelUrl:this.url,userId:l.userId,accessCode:e}),[4,u.send(h)];case 1:return f=g.sent(),(m=f.as(Ihe).channel).myMemberState=this.myMemberState=Xr.JOINED,a.dispatch(new Dt({channels:[m],source:Jn.EVENT_CHANNEL_JOINED})),[2,this]}})})},t.prototype.leave=function(e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r,a,l,u;return F(this,function(h){switch(h.label){case 0:return r=Ne.of(this._iid),a=r.sdkState,l=r.requestQueue,u=new Ohe({channelUrl:this.url,userId:a.userId,shouldRemoveOperatorStatus:e}),[4,l.send(u)];case 1:return h.sent(),this.myMemberState=Xr.NONE,[2]}})})},t.prototype.acceptInvitation=function(e){return e===void 0&&(e=null),H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return _n(Ee("string",e)||e===null).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.dispatcher,l=r.sdkState,u=r.requestQueue,h=new c0e({channelUrl:this.url,userId:l.userId,accessCode:e}),[4,u.send(h)];case 1:return f=g.sent(),(m=f.as(u0e).channel).myMemberState=this.myMemberState=Xr.JOINED,a.dispatch(new Dt({channels:[m],source:Jn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,this]}})})},t.prototype.declineInvitation=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Uhe({channelUrl:this.url,userId:r.userId}),[4,a.send(l)];case 1:return u.sent(),this.myMemberState=Xr.NONE,[2,this]}})})},t.prototype.sendUserMessage=function(e){var r=this,a=new sc,l=Ne.of(this._iid).dispatcher,u=zf.of(this._iid);return n.prototype.sendUserMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){r.hiddenState===ha.HIDDEN_ALLOW_AUTO_UNHIDE&&(r.hiddenState=ha.UNHIDDEN),u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),Gr.of(r._iid).handlers.map(function(f){return f.onChannelChanged(r)}),l.dispatch(new Dt({channels:[r],source:Jn.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h,f=this;return F(this,function(m){switch(m.label){case 0:return a=Ne.of(this._iid).dispatcher,[4,n.prototype.updateUserMessage.call(this,e,r)];case 1:return l=m.sent(),u=!1,!l.silent&&this._shouldUpdateLastMessageWith(l)&&(this.lastMessage=l,u=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===l.messageId&&(this.lastPinnedMessage=l,u=!0,h=!0),u&&(Gr.of(this._iid).handlers.map(function(g){return g.onChannelChanged(f)}),a.dispatch(new Dt({channels:[this],source:h?Jn.EVENT_PINNED_MESSAGE_UPDATED:Jn.EVENT_MESSAGE_UPDATED}))),h&&Gr.of(this._iid).handlers.map(function(g){return g.onPinnedMessageUpdated(f)}),a.dispatch(new ri({messages:[l],source:dt.EVENT_MESSAGE_UPDATED})),[2,l]}})})},t.prototype._autoResendUserMessage=function(e){var r=this,a=new sc,l=Ne.of(this._iid).dispatcher,u=zf.of(this._iid);return n.prototype._autoResendUserMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),l.dispatch(new Dt({channels:[r],source:Jn.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.sendFileMessage=function(e){var r=this,a=new sc,l=Ne.of(this._iid).dispatcher,u=zf.of(this._iid);return n.prototype.sendFileMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),l.dispatch(new Dt({channels:[r],source:Jn.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h,f=this;return F(this,function(m){switch(m.label){case 0:return a=Ne.of(this._iid).dispatcher,[4,n.prototype.updateFileMessage.call(this,e,r)];case 1:return l=m.sent(),u=!1,!l.silent&&this._shouldUpdateLastMessageWith(l)&&(this.lastMessage=l,u=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===l.messageId&&(this.lastPinnedMessage=l,u=!0,h=!0),u&&(Gr.of(this._iid).handlers.map(function(g){return g.onChannelChanged(f)}),a.dispatch(new Dt({channels:[this],source:h?Jn.EVENT_PINNED_MESSAGE_UPDATED:Jn.EVENT_MESSAGE_UPDATED}))),h&&Gr.of(this._iid).handlers.map(function(g){return g.onPinnedMessageUpdated(f)}),a.dispatch(new ri({messages:[l],source:dt.EVENT_MESSAGE_UPDATED})),[2,l]}})})},t.prototype._autoResendFileMessage=function(e){var r=this,a=new sc,l=Ne.of(this._iid).dispatcher,u=zf.of(this._iid);return n.prototype._autoResendFileMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),l.dispatch(new Dt({channels:[r],source:Jn.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.deleteMessage=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,n.prototype.deleteMessage.call(this,e)];case 1:return r.sent(),e.messageId===0&&e instanceof Ai&&Ne.of(this._iid).dispatcher.dispatch(new WP({reqId:e.reqId,source:dt.EVENT_MESSAGE_DELETED})),[2]}})})},t.prototype.hide=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return r=we(we({},a0e),e),_n(function(E){return Ee("boolean",E.hidePreviousMessages)&&Ee("boolean",E.allowAutoUnhide)}(r)).throw(Ue.invalidParameters),a=Ne.of(this._iid),l=a.dispatcher,u=a.sdkState,h=a.requestQueue,f=new Vhe(we({channelUrl:this.url,userId:u.userId},r)),[4,h.send(f)];case 1:return m=x.sent(),g=m.as(zhe).messageOffsetTimestamp,this.hiddenState=r.allowAutoUnhide?ha.HIDDEN_ALLOW_AUTO_UNHIDE:ha.HIDDEN_PREVENT_AUTO_UNHIDE,r.hidePreviousMessages&&this._updateUnreadCount(0,0),g&&(this.messageOffsetTimestamp=g),l.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},t.prototype.unhide=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=Ne.of(this._iid),r=e.dispatcher,a=e.requestQueue,l=new f0e({channelUrl:this.url}),[4,a.send(l)];case 1:return u.sent(),this.hiddenState=ha.UNHIDDEN,r.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Ne.of(this._iid).requestQueue,r=new p0e({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m=this;return F(this,function(g){switch(g.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.dispatcher,l=e.requestQueue,u=new Fhe({channelUrl:this.url}),[4,l.send(u)];case 1:return h=g.sent(),f=h.as($9).readStatus,this._updateUnreadMemberState(r.userId,f.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Gr.of(this._iid).handlers.map(function(x){return x.onChannelChanged(m)})),a.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_READ})),[2]}})})},t.prototype.markAsDelivered=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(u){switch(u.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Hhe({channelUrl:this.url,userId:r.userId}),[4,a.send(l)];case 1:return u.sent(),[2]}})})},t.prototype.startTyping=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){return e=Ne.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(l=new Date().getTime())-this._typingStarted>=a&&(this._typingStarted=l,this._typingEnded=0,u=new qhe({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},t.prototype.endTyping=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u;return F(this,function(h){return e=Ne.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(l=new Date().getTime())-this._typingEnded>=a&&(this._typingStarted=0,this._typingEnded=l,u=new jhe({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},t.prototype.createScheduledUserMessage=function(e){e=we(we({},mue),e),_n(vue(e)).throw(Ue.invalidParameters);var r=new sc;return this._createScheduledUserMessage(e,r),r},t.prototype.updateScheduledUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u,h;return F(this,function(f){switch(f.label){case 0:return a=we(we({},y0e),r),_n(function(m){return c9(m)&&Ee("number",m.scheduledAt,!0)}(a)).throw(Ue.invalidParameters),l=Ne.of(this._iid).requestQueue,u=new x0e(we({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,l.send(u)];case 1:return h=f.sent(),[2,h.as(g9).message]}})})},t.prototype.createScheduledFileMessage=function(e){var r=this;e=we(we({},gue),e),_n(bue(e)).throw(Ue.invalidParameters);var a=Date.now(),l=this._generateRequestId(),u=new sc;return Fo(pue).then(function(){var h=r._createPendingScheduledFileMessage(e,l,a);zn(function(){return H(r,void 0,void 0,function(){return F(this,function(f){return[2,u._trigger(null,h)]})})})}),Ri(e.file)?this._uploadFileAndUpdateParams(e).then(function(){return r._createScheduledFileMessage(e,u,l,a)}):this._createScheduledFileMessage(e,u,l,a),u},t.prototype.updateScheduledFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,u;return F(this,function(h){switch(h.label){case 0:return a=we(we({},b0e),r),_n(function(f){return ET(f)&&Ee("number",f.scheduledAt,!0)&&(Ri(f.file)||Ee("string",f.fileUrl))&&Ee("string",f.fileName,!0)&&Ee("string",f.mimeType,!0)&&Ee("number",f.fileSize,!0)&&(f.thumbnailSizes===null||f.thumbnailSizes.every(function(m){return Ee("object",m)&&m.maxWidth>0&&m.maxHeight>0}))}(a)).throw(Ue.invalidParameters),Ri(a.file)?[4,this._uploadFileAndUpdateParams(a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return l=new E0e(we({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,Ne.of(this._iid).requestQueue.send(l)];case 3:return u=h.sent(),[2,u.as(w0e).message]}})})},t.prototype.cancelScheduledMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=new S0e({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Ne.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.sendScheduledMessageNow=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=new T0e({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Ne.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.getMyPushTriggerOption=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new N0e({userId:r.userId,channelUrl:this.url}),[4,a.send(l)];case 1:return u=f.sent(),h=u.as(I0e).pushTriggerOption,this.myPushTriggerOption=h,[2,h]}})})},t.prototype.setMyPushTriggerOption=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return _n(yt(Ld,e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.dispatcher,l=r.sdkState,u=r.requestQueue,h=new k0e({userId:l.userId,channelUrl:this.url,pushTriggerOption:e}),[4,u.send(h)];case 1:return f=g.sent(),m=f.as(C0e).pushTriggerOption,this.myPushTriggerOption=m,a.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.setMyCountPreference=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m;return F(this,function(g){switch(g.label){case 0:return _n(yt(Os,e)).throw(Ue.invalidParameters),r=Ne.of(this._iid),a=r.dispatcher,l=r.sdkState,u=r.requestQueue,h=new _0e({channelUrl:this.url,userId:l.userId,countPreference:e}),[4,u.send(h)];case 1:return f=g.sent(),m=f.as(m0e).countPreference,this.myCountPreference=m,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),a.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.resetMyHistory=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return e=Ne.of(this._iid),r=e.dispatcher,a=e.requestQueue,l=new v0e({channelUrl:this.url}),[4,a.send(l)];case 1:return u=f.sent(),h=u.as(g0e).messageOffsetTimestamp,this.messageOffsetTimestamp=h,r.dispatch(new Dt({channels:[this],source:Jn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},t.prototype.pinMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(Ee("number",e)&&e>0).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new A0e({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.unpinMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(Ee("number",e)&&e>0).throw(Ue.invalidParameters),r=Ne.of(this._iid).requestQueue,a=new O0e({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype._uploadFileAndUpdateParams=function(e){return H(this,void 0,void 0,function(){var r,a,l,u,h,f,m,g,x,E,w;return F(this,function(T){switch(T.label){case 0:return Ri(e.file)?(r=Ne.of(this._iid).requestQueue,a=new YP({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(a)]):[3,2];case 1:l=T.sent(),u=l.as(XP),h=u.url,f=u.fileSize,m=f===void 0?e.fileSize:f,g=u.thumbnailSizes,x=g===void 0?e.thumbnailSizes:g,E=u.requireAuth,w=E!==void 0&&E,e.fileUrl=h,e.fileSize=m,e.thumbnailSizes=x,e.requireAuth=w,T.label=2;case 2:return[2]}})})},t}(v4),Yc={},U0e=function(){function n(t){var e=t._iid,r=t.limit,a=r===void 0?100:r,l=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._limit=a;var u,h=Ne.of(this._iid),f=h.sdkState,m=h.dispatcher,g=h.logger;this._metadataKey=(u=f.userId,"sendbird:".concat(u,"@groupchannel/sync.meta"));var x=function(E){return"sendbird:".concat(E,"@groupchannel/sync")}(f.userId);this._sync=new Au(x,function(){return H(l,void 0,void 0,function(){var E,w,T,A,P,C;return F(this,function(k){switch(k.label){case 0:return E={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(k.sent(),g.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];k.label=2;case 2:return k.trys.push([2,5,,8]),[4,Gr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:ci.CHRONOLOGICAL},this._limit,Jn.SYNC_CHANNEL_BACKGROUND)];case 3:return w=k.sent(),T=w.channels,A=w.token,E.hasNext=T.length>=this._limit&&!!A,E.nextToken=A,this._metadata.token=A,(C=this._metadata.range).extends.apply(C,et([],Qn(T.map(function(I){return I.createdAt})),!1)),this._metadata.completed=!E.hasNext,g.debug("channel background sync progress",E),[4,this.saveMetadata()];case 4:return k.sent(),[3,8];case 5:return P=k.sent(),g.debug("channel background sync error",P),P instanceof Ue&&P.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:k.sent(),k.label=7;case 7:throw P;case 8:return[3,10];case 9:E.hasNext=!1,E.nextToken="",k.label=10;case 10:return[2,E]}})})}),this._connectionEventContext=m.on(function(E){E instanceof vs&&(E.stateType===Qt.CONNECTED?l.resume():l.pause())})}return n.of=function(t){return Yc[t]||(Yc[t]=new n({_iid:t})),Yc[t].ref++,Yc[t]},n.clear=function(t){Yc[t]&&(Yc[t].close(),delete Yc[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completed",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.completed)},enumerable:!1,configurable:!0}),n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Ne.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata={token:t?t.token:"",range:new lc(t?t.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!t&&t.completed},e.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Ne.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetaData=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Ne.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t,e,r=Ne.of(this._iid),a=r.logger;r.connectionManager.isConnected&&(a.debug("channel background sync resume()"),this._sync.start((e=(t=this._metadata)===null||t===void 0?void 0:t.token)!==null&&e!==void 0?e:""))},n.prototype.pause=function(){Ne.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Yc[this._iid])},n}(),Xc={},P0e=function(){function n(t){var e=t._iid,r=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadataKey=null,this._metadata=null,this._iid=e;var a,l=Ne.of(this._iid),u=l.logger,h=l.sdkState,f=l.dispatcher;this._metadataKey=(a=h.userId,"sendbird:".concat(a,"@groupchannel/changelogs.meta"));var m=function(g){return"sendbird:".concat(g,"@groupchannel/changelogs")}(h.userId);this._sync=new Au(m,function(){return H(r,void 0,void 0,function(){var g,x,E,w,T;return F(this,function(A){switch(A.label){case 0:return g={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:A.sent(),u.debug("channel changelog sync from",this._metadata.token),A.label=2;case 2:return A.trys.push([2,5,,8]),[4,Gr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{includeEmpty:!0},Jn.SYNC_CHANNEL_CHANGELOGS)];case 3:return x=A.sent(),E=x.hasMore,w=x.token,g.hasNext=E,g.nextToken=w,this._metadata.token=w,u.debug("channel changelog sync progress",g),[4,this.saveMetadata()];case 4:return A.sent(),[3,8];case 5:return T=A.sent(),u.debug("channel changelog sync error",T),T instanceof Ue&&T.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:A.sent(),A.label=7;case 7:throw T;case 8:return[2,g]}})})}),this._connectionEventContext=f.on(function(g){g instanceof vs&&(g.stateType===Qt.CONNECTED?r.resume():r.pause())})}return n.of=function(t){return Xc[t]||(Xc[t]=new n({_iid:t})),Xc[t].ref++,Xc[t]},n.clear=function(t){Xc[t]&&(Xc[t].close(),delete Xc[t])},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return this._metadata?[3,2]:(t=Ne.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=l.sent(),this._metadata={token:a?a.token:r},l.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Ne.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Ne.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Ne.of(this._iid).connectionManager.isConnected&&this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Xc[this._iid])},n}(),F0e=function(){function n(t,e){var r=e.filter,a=e.order,l=e.limit,u=this;this.channels=[],this._backgroundSync=null,this._changelogSync=null,this._iid=t,this._key="gcc-".concat(Uu()),this._isDisposed=!1,this.filter=r??new B9,this.order=a??ci.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=l??r9;var h=Ne.of(this._iid),f=h.sdkState,m=h.cacheContext,g=h.dispatcher;m.localCacheEnabled&&(this._backgroundSync=U0e.of(t),this._backgroundSync.resume()),this._changelogSync=P0e.of(t),this._changelogSync.resume(),Gr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(x,E){if(ab(E)){var w=x.filter(function(A){return u.filter.match(A,f.userId)}),T=x.filter(function(A){return!u.filter.match(A,f.userId)}).map(function(A){return A.url});w.length>0&&u._addChannelsToView(w,E),T.length>0&&u._removeChannelsFromView(T,E)}},onRemove:function(x,E){u._removeChannelsFromView(x,E)}}),Ne.of(this._iid).statLogCollector.put(new Fd({type:Sl.FEATURE_LOCALCACHE,data:{use_local_cache:m.localCacheEnabled,collection_interface:{group_channel:!0}}})),g.on(function(x){x instanceof vs&&x.stateType===Qt.LOGOUT&&u.dispose()})}return Object.defineProperty(n.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),n.prototype.setGroupChannelCollectionHandler=function(t){this._handler=t},n.prototype._addChannelsToView=function(t,e,r){var a,l,u,h,f=this;r===void 0&&(r=!1);var m=[],g=[],x=[];try{for(var E=Cn(t),w=E.next();!w.done;w=E.next()){var T=w.value,A=n0e(this.channels,T,this.order),P=A.place,C=A.oldPosition;if(C===-1)P===this.channels.length?!r&&this._hasMore||(m.push(T),this.channels.push(T)):(m.push(T),this.channels.splice(P,0,T));else switch(e){case Jn.EVENT_CHANNEL_UPDATED:case Jn.EVENT_MESSAGE_RECEIVED:case Jn.SYNC_CHANNEL_CHANGELOGS:case Jn.EVENT_MESSAGE_SENT:P!==C?this._hasMore&&P===this.channels.length?x.push(T):(this.channels.splice(C,1),this.channels.splice(C<P?P-1:P,0,T),g.push(T)):(g.push(T),this.channels[C]=T);break;default:g.push(T),this.channels[P]=T}}}catch(U){a={error:U}}finally{try{w&&!w.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}if(x.length>0)try{for(var k=Cn(x),I=k.next();!I.done;I=k.next()){T=I.value;var D=kT(this.channels,T);D!==-1&&this.channels.splice(D,1)}}catch(U){u={error:U}}finally{try{I&&!I.done&&(h=k.return)&&h.call(k)}finally{if(u)throw u.error}}ab(e)&&zn(function(){return H(f,void 0,void 0,function(){var U,O,N,L;return F(this,function(K){return U=new v_(e),m.length>0&&(!((O=this._handler)===null||O===void 0)&&O.onChannelsAdded)&&this._handler.onChannelsAdded(U,m),g.length>0&&(!((N=this._handler)===null||N===void 0)&&N.onChannelsUpdated)&&this._handler.onChannelsUpdated(U,g),x.length>0&&(!((L=this._handler)===null||L===void 0)&&L.onChannelsDeleted)&&this._handler.onChannelsDeleted(U,x.map(function(z){return z.url})),[2]})})})},n.prototype._removeChannelsFromView=function(t,e){var r,a,l=this,u=[],h=function(x){var E=f.channels.findIndex(function(w){return w.url===x});E>=0&&(u.push(f.channels[E].url),f.channels.splice(E,1))},f=this;try{for(var m=Cn(t),g=m.next();!g.done;g=m.next())h(g.value)}catch(x){r={error:x}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}return ab(e)&&u.length>0&&zn(function(){return H(l,void 0,void 0,function(){var x,E;return F(this,function(w){return x=new v_(e),!((E=this._handler)===null||E===void 0)&&E.onChannelsDeleted&&this._handler.onChannelsDeleted(x,u),[2]})})}),u},n.prototype._getLocalChannels=function(){return H(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return t=Gr.of(this._iid),e=this.channels.length>0?function(a,l){var u,h;switch(l){case ci.LATEST_LAST_MESSAGE:return(h=(u=a.lastMessage)===null||u===void 0?void 0:u.createdAt)!==null&&h!==void 0?h:a.createdAt;case ci.CHRONOLOGICAL:return a.createdAt;case ci.CHANNEL_NAME_ALPHABETICAL:return a.name}return null}(this.channels[this.channels.length-1],this.order):null,[4,t.getChannelsFromCache(e,this.filter,this.order,this._limit,e?this.channels[this.channels.length-1].url:null)];case 1:return[2,r.sent()]}})})},n.prototype._getRemoteChannels=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return[4,Gr.of(this._iid).getMyGroupChannels(this._token,we(we({},this.filter),{order:this.order}),this._limit)];case 1:return t=a.sent(),e=t.channels,r=t.token,this._token=r,this._hasMore=!!r,[2,e]}})})},n.prototype.loadMore=function(){return H(this,void 0,void 0,function(){var t,e,r=this;return F(this,function(a){switch(a.label){case 0:if(this._isDisposed)throw new Ue({code:Nt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasMore?(t=Ne.of(this._iid).cacheContext,e=[],t.localCacheEnabled&&this._backgroundSync.completed?[3,2]:[4,li(function(){return H(r,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._getRemoteChannels()];case 1:return e=l.sent(),[2]}})})})]):[3,5];case 1:a.sent(),a.label=2;case 2:return t.localCacheEnabled&&e.length===0?[4,li(function(){return H(r,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._getLocalChannels()];case 1:return e=l.sent(),[2]}})})})]:[3,4];case 3:a.sent(),this._backgroundSync.completed&&(this._hasMore=e.length>=this._limit),a.label=4;case 4:return this._addChannelsToView(e,Jn.REQUEST_CHANNEL,!0),[2,e];case 5:return[2,[]]}})})},n.prototype.dispose=function(){var t,e;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),Gr.of(this._iid).unsubscribeGroupChannelEvent(this._key))},n}(),H0e=function(n){function t(e){var r=this,a=e.token,l=e.limit,u=e.order,h=e.includeEmpty,f=e.membershipFilter,m=e.channelNameContainsFilter,g=e.channelUrlsFilter,x=e.customTypesFilter,E=e.customTypeStartsWithFilter,w=e.superChannelFilter,T=e.metadataOrderKeyFilter,A=e.metadataKey,P=e.metadataValues,C=e.metadataValueStartsWith,k=e.includeFrozen,I=e.includeMetaData;return(r=n.call(this)||this).method=dn.GET,r.path=ya,r.params=st({token:a,limit:l,order:u,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,public_mode:_c.PUBLIC,public_membership_mode:f,name_contains:m,channel_urls:g,custom_types:x,custom_type_startswith:E,super_mode:w,metadata_order_key:T,metadata_key:A,metadata_values:P,metadata_value_startswith:C,show_frozen:k,show_metadata:I}),r}return re(t,n),t}(hn),B0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var l=r.next,u=r.channels,h=r.ts;return a.token=l,u&&u.length>0&&(a.channels=u.map(function(f){return f.ts=h,new Hs(e,f)})),a.ts=typeof h=="number"?h:null,a}return re(t,n),t}(mn);(function(n){n.ALL="all",n.JOINED="joined"})(E_||(E_={}));var V0e=function(n){function t(e,r){var a,l,u,h,f,m,g,x,E,w,T,A,P,C,k=this;return(k=n.call(this,e,r)||this).includeEmpty=!1,k.includeFrozen=!0,k.includeMetaData=!0,k.channelUrlsFilter=null,k.customTypesFilter=null,k.customTypeStartsWithFilter=null,k.channelNameContainsFilter=null,k.membershipFilter=E_.ALL,k.superChannelFilter=ms.ALL,k.metadataKey=null,k.metadataValues=null,k.metadataOrderKeyFilter=null,k.metadataValueStartsWith=null,k.order=__.CHRONOLOGICAL,k.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,k.includeFrozen=(l=r.includeFrozen)===null||l===void 0||l,k.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,k.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,k.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,k.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:null,k.channelNameContainsFilter=(g=r.channelNameContainsFilter)!==null&&g!==void 0?g:null,k.membershipFilter=(x=r.membershipFilter)!==null&&x!==void 0?x:E_.ALL,k.superChannelFilter=(E=r.superChannelFilter)!==null&&E!==void 0?E:ms.ALL,k.metadataKey=(w=r.metadataKey)!==null&&w!==void 0?w:null,k.metadataValues=(T=r.metadataValues)!==null&&T!==void 0?T:null,k.metadataOrderKeyFilter=(A=r.metadataOrderKeyFilter)!==null&&A!==void 0?A:null,k.metadataValueStartsWith=(P=r.metadataValueStartsWith)!==null&&P!==void 0?P:null,k.order=(C=r.order)!==null&&C!==void 0?C:__.CHRONOLOGICAL,k}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("boolean",this.includeEmpty)&&Ee("boolean",this.includeFrozen)&&Ee("boolean",this.includeMetaData)&&Ee("string",this.channelNameContainsFilter,!0)&&St("string",this.channelUrlsFilter,!0)&&St("string",this.customTypesFilter,!0)&&Ee("string",this.customTypeStartsWithFilter,!0)&&yt(E_,this.membershipFilter)&&yt(ms,this.superChannelFilter)&&yt(__,this.order)&&Ee("string",this.metadataOrderKeyFilter,!0)&&Ee("string",this.metadataKey,!0)&&St("string",this.metadataValues,!0)&&Ee("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h,f,m,g;return F(this,function(x){switch(x.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Ne.of(this._iid),a=r.requestQueue,l=r.dispatcher,u=new H0e(we(we({},this),{token:this._token})),[4,a.send(u)]):[3,2]):[3,5];case 1:return h=x.sent(),f=h.as(B0e),m=f.channels,g=f.token,this._token=g,this._hasNext=!!g,l.dispatch(new Dt({channels:m,source:Jn.REQUEST_CHANNEL})),this._isLoading=!1,[2,m];case 2:return[2,e];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),z0e=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserJoined=xt,e.onUserLeft=xt,e.onUserReceivedInvitation=xt,e.onUserDeclinedInvitation=xt,e.onChannelHidden=xt,e.onUnreadMemberStatusUpdated=xt,e.onUndeliveredMemberStatusUpdated=xt,e.onTypingStatusUpdated=xt,e.onPollUpdated=xt,e.onPollVoted=xt,e.onPollDeleted=xt,e.onPinnedMessageUpdated=xt,e}return re(t,n),t}(L9)),$0e=function(n){function t(e){var r=this,a=e.token,l=e.limit,u=e.order,h=e.reverse,f=e.channelUrl,m=e.messageTypeFilter,g=e.scheduledStatus;return(r=n.call(this)||this).method=dn.GET,r.path="".concat(HP),r.params=st({limit:l,reverse:h,channel_url:f,order:u,status:g}),a&&(r.params.token=a),m&&(r.params.message_type=m),r}return re(t,n),t}(hn),q0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.scheduledMessages=[];var l=r.next,u=r.scheduled_messages;return a.token=l,a.scheduledMessages=u.map(function(h){return Ya(e,h)}),a}return re(t,n),t}(mn),G0e=function(n){function t(e,r){var a,l,u,h,f,m=this;return(m=n.call(this,e,r)||this).channelUrl=null,m.order=null,m.reverse=!1,m.scheduledStatus=null,m.messageTypeFilter=Xi.ALL,m.channelUrl=(a=r.channelUrl)!==null&&a!==void 0?a:null,m.order=(l=r.order)!==null&&l!==void 0?l:null,m.reverse=(u=r.reverse)!==null&&u!==void 0&&u,m.scheduledStatus=(h=r.scheduledStatus)!==null&&h!==void 0?h:null,m.messageTypeFilter=(f=r.messageTypeFilter)!==null&&f!==void 0?f:Xi.ALL,m}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Ee("string",this.channelUrl,!0)&&(yt(g4,this.order)||this.order===null)&&Ee("boolean",this.reverse)&&(St(uu,this.scheduledStatus)||this.scheduledStatus===null)&&yt(Xi,this.messageTypeFilter)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,u,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Ne.of(this._iid).requestQueue,r=new $0e(we(we({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(q0e),u=l.scheduledMessages,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw Ue.queryInProgress;case 4:return[3,6];case 5:throw Ue.invalidParameters;case 6:return[2]}})})},t}(xc),j0e=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="groupChannel",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:g}),this._manager=new Gr(e,{sdkState:a,cacheContext:g,dispatcher:l,sessionManager:u,requestQueue:h,logger:f})},t.prototype.createGroupChannelCollection=function(e){return e===void 0&&(e={}),new F0e(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return e===void 0&&(e={}),new q9(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return e===void 0&&(e={}),new V0e(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return e===void 0&&(e={}),new G0e(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,r){_n(Ee("string",e)&&r instanceof z0e).throw(Ue.invalidParameters),this._manager.addHandler(e,r)},t.prototype.removeGroupChannelHandler=function(e){_n(Ee("string",e)).throw(Ue.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(Ee("string",e)).throw(Ue.invalidParameters),[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(Ee("string",e)).throw(Ue.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},e1),r),_n(Ee("string",e)&&x4(a)).throw(Ue.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=we(we({},e1),r),_n(Ee("number",e)&&x4(a)).throw(Ue.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getGroupChannelCount=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},V9),e),_n(z9(r)).throw(Ue.invalidParameters),[2,this._manager.getGroupChannelCount(r)]})})},t.prototype.getUnreadItemCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalUnreadChannelCount=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}})})},t.prototype.getTotalUnreadMessageCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},lb),e),_n(w4(r)).throw(Ue.invalidParameters),[2,this._manager.createChannel(r)]})})},t.prototype.createDistinctChannelIfNotExist=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=we(we({},lb),e),_n(w4(r)).throw(Ue.invalidParameters),r&&(r.isDistinct=!0),[2,this.createChannel(r)]})})},t.prototype.createChannelWithUserIds=function(e,r,a,l,u,h){return r===void 0&&(r=!1),a===void 0&&(a=null),l===void 0&&(l=null),u===void 0&&(u=""),h===void 0&&(h=""),H(this,void 0,void 0,function(){var f;return F(this,function(m){return f=we(we({},lb),{invitedUserIds:e,isDistinct:r,name:a,data:u,customType:h}),typeof l=="string"?f.coverUrl=l:f.coverImage=l,[2,this.createChannel(f)]})})},t.prototype.markAsReadAll=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return this._manager.markAsReadAll(),[2]})})},t.prototype.markAsReadWithChannelUrls=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(St("string",e)).throw(Ue.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]})})},t.prototype.markAsDelivered=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(Ee("string",e)).throw(Ue.invalidParameters),[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},t}(M1);const G9={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},K0e={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},nM=n=>n===""||n===null,j9=n=>G9.IMAGE.indexOf(n)>=0,K9=n=>G9.VIDEO.indexOf(n)>=0,tM=n=>j9(n)||K9(n),W0e=n=>{var t;return n&&((n==null||(t=n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user")},Q0e=n=>W0e(n)&&(n==null?void 0:n.updatedAt)>0,W9=()=>gn({},K0e),Y0e=(n,t)=>Array.isArray(t)?[...n,...t]:(n.push(t),n),C4=n=>Array.isArray(n)?n.reduce(Y0e,[]).join(" "):n,X0e=/^((http|https):\/\/)?([a-z\d]+\.)+[a-z]{2,6}(\:[0-9]{1,5})?(\/[-a-zA-Z\d%_.~+&=]*)*(\?[;&a-zA-Z\d%_.~+=-]*)?(\#[-a-zA-Z\d_]*)?$/,Z0e=n=>X0e.test(n),J0e=(n,t)=>{if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1},epe=10,npe=1e3,tpe=6e5,rpe="audio/webm",ipe=128e3,$w="sendbird-voice-player-provider-root",rM="sendbird-global-audio-player-id",N4="Voice_message.mp3",cb="audio/mp3;sbu_type=voice";function go(){return Q.useContext(sP)}const Q9="INITIALIZE_AUDIO_UNIT",Y9="SET_CURRENT_PLAYER",X9="ON_VOICE_PLAYER_PLAY",Z9="ON_VOICE_PLAYER_PAUSE",J9="ON_CURRENT_TIME_UPDATE",ub={IDLE:"IDLE",PREPARING:"PREPARING",PLAYING:"PLAYING",PAUSED:"PAUSED",COMPLETED:"COMPLETED"},$f=()=>({audioFile:null,playbackTime:0,duration:1e3,playingStatus:ub.IDLE}),ape={currentPlayer:null,currentGroupKey:"",audioStorage:{}};function spe(n,t){switch(t.type){case Q9:{var e;const{groupKey:u}=t.payload,h=(e=n.audioStorage)!==null&&e!==void 0&&e[u]?n.audioStorage[u]:$f();return h.playingStatus=ub.PREPARING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:h})})}case Y9:{const{audioPlayer:u,groupKey:h}=t.payload;return gn(gn({},n),{},{currentPlayer:u,currentGroupKey:h})}case X9:{var r;const{groupKey:u,audioFile:h}=t.payload,f=(r=n.audioStorage)!==null&&r!==void 0&&r[u]?n.audioStorage[u]:$f();return f.audioFile=h,f.playingStatus=ub.PLAYING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:f})})}case Z9:{var a;const{groupKey:u}=t.payload,h=(a=n.audioStorage)!==null&&a!==void 0&&a[u]?n.audioStorage[u]:$f();h.playingStatus=ub.PAUSED;const{currentTime:f,duration:m}=n.currentPlayer;return h.playbackTime===h.duration?h.playbackTime=0:f>0&&m>0&&(h.playbackTime=f,h.duration=m),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:h})})}case J9:{var l;const{groupKey:u}=t.payload,{currentTime:h,duration:f}=n.currentPlayer,m=(l=n.audioStorage)!==null&&l!==void 0&&l[u]?n.audioStorage[u]:$f();return h>0&&f>0&&(m.playbackTime=h,m.duration=f),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:m})})}default:return n}}const qw=()=>{},ope={currentGroupKey:"",currentPlayer:null,audioStorage:{}},lpe=Q.createContext({play:qw,pause:qw,stop:qw,voicePlayerStore:ope}),iM=n=>{let{children:t}=n;const[e,r]=Q.useReducer(spe,ape),{currentGroupKey:a,currentPlayer:l,audioStorage:u}=e,{config:h}=go(),{logger:f}=h,m=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a.includes(E)&&(f.info("VoicePlayer: Pause playing(by text)."),g(a))},g=E=>{a===E&&l!==null&&(f.info("VoicePlayer: Pause playing(by group key)."),l==null||l.pause())},x=E=>{let{groupKey:w,audioFile:T=null,audioFileUrl:A=""}=E;w!==a&&g(a);const P=document.getElementById($w),C=document.getElementById(rM);C&&P.removeChild(C),f.info("VoicePlayer: Start getting audio file."),new Promise(k=>{var I;T&&(k(T),f.info("VoicePlayer: Use the audioFile instance.")),u!=null&&(I=u[w])!==null&&I!==void 0&&I.audioFile&&(k(u[w].audioFile),f.info("VoicePlayer: Get from the audioStorage.")),r({type:Q9,payload:{groupKey:w}}),fetch(A).then(D=>D.blob()).then(D=>{const U=new File([D],N4,{lastModified:new Date().getTime(),type:cb});k(U),f.info("VoicePlayer: Get the audioFile from URL.")})}).then(k=>{var I,D;f.info("VoicePlayer: Succeeded getting audio file.",k);const U=u[w]||$f(),O=new Audio((I=URL)===null||I===void 0||(D=I.createObjectURL)===null||D===void 0?void 0:D.call(I,k));O.id=rM,O.currentTime=U.playbackTime,O.volume=1,O.loop=!1,O.onplaying=()=>{f.info("VoicePlayer: OnPlaying event is called from audioPlayer",{groupKey:w,audioPlayer:O}),r({type:X9,payload:{groupKey:w,audioFile:k}})},O.onpause=()=>{f.info("VoicePlayer: OnPause event is called from audioPlayer",{groupKey:w,audioPlayer:O}),r({type:Z9,payload:{groupKey:w}})},O.ontimeupdate=()=>{r({type:J9,payload:{groupKey:w}})},O==null||O.play(),document.getElementById($w).appendChild(O),r({type:Y9,payload:{groupKey:w,audioPlayer:O}}),f.info("VoicePlayer: Succeeded playing audio player.",{groupKey:w,audioPlayer:O})})};return M.createElement(lpe.Provider,{value:{play:x,pause:g,stop:m,voicePlayerStore:e}},M.createElement("div",{id:$w,style:{display:"none"}}),t)},aM=()=>{},cpe=Q.createContext({start:aM,stop:aM,isRecordable:!1}),upe=n=>{const{children:t}=n,{config:e}=go(),{logger:r,isVoiceMessageEnabled:a}=e,[l,u]=Q.useState(null),[h,f]=Q.useState(!1),[m,g]=Q.useState(null);Q.useEffect(()=>{a&&!m&&Promise.resolve().then(function(){return Bye}).then(w=>{g(w)})},[]);const x=Q.useCallback(w=>{var T,A,P;if(a&&!m){r.error("VoiceRecorder: Recording audio processor is being loaded.");return}r.info("VoiceRecorder: Start recording."),l&&(E(),r.info("VoiceRecorder: Previous mediaRecorder is stopped.")),(T=navigator)===null||T===void 0||(A=T.mediaDevices)===null||A===void 0||(P=A.getUserMedia)===null||P===void 0||P.call(A,{audio:!0}).then(C=>{r.info("VoiceRecorder: Succeeded getting media stream.",C),f(!0);const k=new MediaRecorder(C,{mimeType:rpe,audioBitsPerSecond:ipe});k.ondataavailable=I=>{var D,U,O;r.info("VoiceRecorder: Succeeded getting an available data.",I.data);const N=new File([I.data],N4,{lastModified:new Date().getTime(),type:cb});m==null||m.downsampleToWav(N,L=>{const K=m==null?void 0:m.encodeMp3(L),z=new Blob(K,{type:cb}),ae=new File([z],N4,{lastModified:new Date().getTime(),type:cb});w==null||w.onRecordingEnded(ae),r.info("VoiceRecorder: Succeeded converting audio file.",ae)}),C==null||(D=C.getAudioTracks)===null||D===void 0||(U=(O=D.call(C)).forEach)===null||U===void 0||U.call(O,L=>L==null?void 0:L.stop()),f(!1)},k==null||k.start(),u(k),w==null||w.onRecordingStarted()}).catch(C=>{r.error("VoiceRecorder: Failed getting media stream.",C),u(null)})},[l,m]),E=Q.useCallback(()=>{l==null||l.stop(),u(null),f(!1),r.info("VoiceRecorder: Stop recording.")},[l]);return M.createElement(cpe.Provider,{value:{start:x,stop:E,isRecordable:h}},t)},I4=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";return{en:{MESSAGE_STATUS__YESTERDAY:"Yesterday",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_PREVIEW_MOBILE_LEAVE:"Leave channel",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__SELECT_TITLE:"Select members",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__OPERATORS__ADD_BUTTON:"Add",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__NO_UNMUTED:"No muted members yet",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",CHANNEL_SETTING__MODERATION__EMPTY_BAN:"No banned members yet",CHANNEL_SETTING__MODERATION__ALL_BAN:"All banned members",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS:"Select participants",OPEN_CHANNEL_LIST__TITLE:"Channels",CREATE_OPEN_CHANNEL_LIST__TITLE:"New channel profile",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION:"Channel image",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD:"Upload",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION:"Channel name",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER:"Enter channel name",CREATE_OPEN_CHANNEL_LIST__SUBMIT:"Create",OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",TRYING_TO_CONNECT:"Trying to connect",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTED:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__LEAVE_CHANNEL__TITLE:"Leave this channel?",MODAL__LEAVE_CHANNEL__FOOTER:"Leave",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:"You're muted by the operator.",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN:"Channel is frozen.",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you're muted",MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:"You're muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__OK:"OK",BADGE__OVER:"+",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__THREAD:"Reply in thread",MESSAGE_MENU__OPEN_IN_CHANNEL:"Open in channel",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",MESSAGE_MENU__SAVE:"Save",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",CONTEXT_MENU_DROPDOWN__SAVE:"Save",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",QUOTED_MESSAGE__UNAVAILABLE:"Message unavailable",THREAD__HEADER_TITLE:"Thread",CHANNEL__THREAD_REPLY:"reply",CHANNEL__THREAD_REPLIES:"replies",CHANNEL__THREAD_OVER_MAX:"99+",THREAD__THREAD_REPLY:"reply",THREAD__THREAD_REPLIES:"replies",THREAD__INPUT__REPLY_TO_THREAD:"Reply to thread",THREAD__INPUT__REPLY_IN_THREAD:"Reply in thread",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times at a time.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message",VOICE_MESSAGE:"Voice Message"}}[n]};var dpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hpe=function(t,e,r){var a,l=dpe[t];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Gw(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var ppe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mpe={date:Gw({formats:ppe,defaultWidth:"full"}),time:Gw({formats:fpe,defaultWidth:"full"}),dateTime:Gw({formats:_pe,defaultWidth:"full"})},vpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gpe=function(t,e,r,a){return vpe[t]};function xf(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=e!=null&&e.width?String(e.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var bpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ype={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Epe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Spe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tpe=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kpe={ordinalNumber:Tpe,era:xf({values:bpe,defaultWidth:"wide"}),quarter:xf({values:ype,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:xf({values:Epe,defaultWidth:"wide"}),day:xf({values:wpe,defaultWidth:"wide"}),dayPeriod:xf({values:xpe,defaultWidth:"wide",formattingValues:Spe,defaultFormattingWidth:"wide"})};function Sf(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;var u=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Npe(h,function(x){return x.test(u)}):Cpe(h,function(x){return x.test(u)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var g=t.slice(u.length);return{value:m,rest:g}}}function Cpe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Npe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Ipe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],l=t.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}var Ape=/^(\d+)(th|st|nd|rd)?/i,Ope=/\d+/i,Rpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mpe={any:[/^b/i,/^(a|c)/i]},Dpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lpe={any:[/1/i,/2/i,/3/i,/4/i]},Upe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ppe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zpe={ordinalNumber:Ipe({matchPattern:Ape,parsePattern:Ope,valueCallback:function(t){return parseInt(t,10)}}),era:Sf({matchPatterns:Rpe,defaultMatchWidth:"wide",parsePatterns:Mpe,defaultParseWidth:"any"}),quarter:Sf({matchPatterns:Dpe,defaultMatchWidth:"wide",parsePatterns:Lpe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Sf({matchPatterns:Upe,defaultMatchWidth:"wide",parsePatterns:Ppe,defaultParseWidth:"any"}),day:Sf({matchPatterns:Fpe,defaultMatchWidth:"wide",parsePatterns:Hpe,defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:Bpe,defaultMatchWidth:"any",parsePatterns:Vpe,defaultParseWidth:"any"})},$pe={code:"en-US",formatDistance:hpe,formatLong:mpe,formatRelative:gpe,localize:kpe,match:zpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},eF=$pe;const jo=M.createContext({stringSet:I4("en"),dateLocale:eF}),qpe=n=>{const{children:t}=n;return M.createElement(jo.Provider,{value:n},t)},tp=()=>M.useContext(jo),nF="0px",tF="sendbird--mobile-mode",rF=M.createContext({mediaQueryBreakPoint:nF,isMobile:!1}),sM=()=>{try{document.querySelector("body").classList.add(tF)}catch{}},oM=()=>{try{document.querySelector("body").classList.remove(tF)}catch{}},Gpe=n=>{const{children:t,logger:e}=n,r=(n==null?void 0:n.mediaQueryBreakPoint)||nF,[a,l]=Q.useState(!1);return Q.useEffect(()=>{var u;const h=()=>{if(typeof r=="boolean")if(l(r),r){var f;e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: isMobile: true"),sM()}else{var m;e==null||(m=e.info)===null||m===void 0||m.call(e,"MediaQueryProvider: isMobile: false"),oM()}else{var g;const w=window.matchMedia(`(max-width: ${r})`);if(e==null||(g=e.info)===null||g===void 0||g.call(e,`MediaQueryProvider: Screensize updated to ${r}`),w.matches){var x;l(!0),sM(),e==null||(x=e.info)===null||x===void 0||x.call(e,"MediaQueryProvider: isMobile: true")}else{var E;l(!1),oM(),e==null||(E=e.info)===null||E===void 0||E.call(e,"MediaQueryProvider: isMobile: false")}}};return h(),window.addEventListener("resize",h),e==null||(u=e.info)===null||u===void 0||u.call(e,"MediaQueryProvider: addEventListener",h),()=>{var f;window.removeEventListener("resize",h),e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: removeEventListener",h)}},[r]),M.createElement(rF.Provider,{value:{mediaQueryBreakPoint:r,isMobile:a}},t)},ph=()=>M.useContext(rF),jpe=n=>{if(n==null)return!0;for(const t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},Kpe=n=>{Q.useLayoutEffect(()=>{jpe(n)||oc({variables:gn(gn({},{"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}),n)})},[n])},Hd={INIT_SDK:"INIT_SDK",SET_SDK_LOADING:"SET_SDK_LOADING",RESET_SDK:"RESET_SDK",SDK_ERROR:"SDK_ERROR"},iF={initialized:!1,loading:!1,sdk:{},error:!1};function Wpe(n,t){return oT(t).with({type:Hd.SET_SDK_LOADING},e=>{let{payload:r}=e;return gn(gn({},n),{},{initialized:!1,loading:r})}).with({type:Hd.SDK_ERROR},()=>gn(gn({},n),{},{initialized:!1,loading:!1,error:!0})).with({type:Hd.INIT_SDK},e=>{let{payload:r}=e;return{sdk:r,initialized:!0,loading:!1,error:!1}}).with({type:Hd.RESET_SDK},()=>iF).otherwise(()=>n)}const aF={initialized:!1,loading:!1,user:{}};function Qpe(n,t){return oT(t).with({type:e_.INIT_USER},e=>{let{payload:r}=e;return{initialized:!0,loading:!1,user:r}}).with({type:e_.RESET_USER},()=>aF).with({type:e_.UPDATE_USER_INFO},e=>{let{payload:r}=e;return gn(gn({},n),{},{user:r})}).otherwise(()=>n)}function Ype(n,t){const[e,r]=Q.useState(!0);return Q.useEffect(()=>{const a=im();try{t.warning("sdk changed",a);const l=new T9;l.onDisconnected=()=>{t.warning("onDisconnected",{isOnline:e})},l.onReconnectStarted=()=>{r(!1),t.warning("onReconnectStarted",{isOnline:e})},l.onReconnectSucceeded=()=>{r(!0),t.warning("onReconnectSucceeded",{isOnline:e})},l.onReconnectFailed=()=>{n.reconnect(),t.warning("onReconnectFailed")},t.info("Added ConnectionHandler",a),n!=null&&n.addConnectionHandler&&n.addConnectionHandler(a,l)}catch{}return()=>{try{n.removeConnectionHandler(a),t.info("Removed ConnectionHandler",a)}catch{}}},[n]),Q.useEffect(()=>{const a=()=>{try{t.warning("Try reconnecting SDK"),n.connectionState!=="OPEN"&&n.reconnect()}catch{}};return window.addEventListener("online",a),()=>{window.removeEventListener("online",a)}},[n]),Q.useEffect(()=>{const a=document.querySelector("body");if(e)try{a.classList.remove("sendbird__offline"),t.info("Removed class sendbird__offline from body")}catch{}else try{a.classList.add("sendbird__offline"),t.info("Added class sendbird__offline to body")}catch{}},[e]),e}async function Xpe(n){let{sdkDispatcher:t,userDispatcher:e,sdk:r}=n;return new Promise(a=>{t({type:Hd.SET_SDK_LOADING,payload:!0}),r!=null&&r.disconnect?r.disconnect().then(()=>{t({type:Hd.RESET_SDK}),e({type:e_.RESET_USER})}).finally(()=>{a(!0)}):a(!0)})}const{INIT_SDK:Zpe,SET_SDK_LOADING:Jpe,RESET_SDK:efe,SDK_ERROR:lM}=Hd,{INIT_USER:nfe,UPDATE_USER_INFO:tfe,RESET_USER:rfe}=e_,cM="3.4.7";function ife(n){let{userId:t,appId:e}=n;return`SendbirdProvider | useConnect/setupConnection/Connection failed UserId: ${t} or appId: ${e} missing`}function afe(n){return`SendbirdProvider | useConnect/setupConnection/Connection failed. ${(n==null?void 0:n.code)||""} ${(n==null?void 0:n.message)||""}`}function sfe(n){let{appId:t,customApiHost:e,customWebSocketHost:r}=n;const a={appId:t,modules:[new j0e,new ihe]};return e&&(a.customApiHost=e),r&&(a.customWebSocketHost=r),Vde.init(a)}async function ofe(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:l,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:g,accessToken:x}=n;return new Promise((E,w)=>{var T;if(t==null||(T=t.info)===null||T===void 0||T.call(t,"SendbirdProvider | useConnect/setupConnection/init",{userId:a,appId:l}),e({type:Jpe,payload:!0}),a&&l){const D=sfe({appId:l,customApiHost:u,customWebSocketHost:h});if(f&&typeof f=="function"){var A;const N=f(D);t==null||(A=t.info)===null||A===void 0||A.call(t,"SendbirdProvider | useConnect/setupConnection/configureSession",N),D.setSessionHandler(N)}{var P;t==null||(P=t.info)===null||P===void 0||P.call(t,"SendbirdProvider | useConnect/setupConnection/setVersion",cM),D.addExtension("sb_uikit",cM)}const U=N=>{var L;if(t==null||(L=t.info)===null||L===void 0||L.call(t,"SendbirdProvider | useConnect/setupConnection/connectCbSucess",N),e({type:Zpe,payload:D}),r({type:nfe,payload:N}),(m!==N.nickname||g!==N.profileUrl)&&!(nM(m)&&nM(g))){var K;t==null||(K=t.info)===null||K===void 0||K.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo",{nickname:m,profileUrl:g}),D.updateCurrentUserInfo({nickname:m||N.nickname,profileUrl:g||N.profileUrl}).then(z=>{var ae;t==null||(ae=t.info)===null||ae===void 0||ae.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success",{nickname:m,profileUrl:g}),r({type:tfe,payload:z})}).finally(()=>{E()})}else E()},O=N=>{var L;const K=afe(N);t==null||(L=t.error)===null||L===void 0||L.call(t,K,{e:N,appId:l,userId:a}),e({type:efe}),r({type:rfe}),e({type:lM}),w(K)};if(x){var C;t==null||(C=t.info)===null||C===void 0||C.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using accessToken"),D.connect(a,x).then(N=>U(N)).catch(N=>O(N))}else{var k;t==null||(k=t.info)===null||k===void 0||k.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using userId"),D.connect(a).then(N=>U(N)).catch(N=>O(N))}}else{var I;const D=ife({userId:a,appId:l});e({type:lM}),t==null||(I=t.error)===null||I===void 0||I.call(t,D),w(D)}})}async function uM(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:l,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:g,accessToken:x,sdk:E}=n;await Xpe({logger:t,sdkDispatcher:e,userDispatcher:r,sdk:E}),await ofe({logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:l,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:g,accessToken:x})}function lfe(n,t){var e;const{userId:r,appId:a,accessToken:l}=n,{logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:g,customWebSocketHost:x,sdk:E,sdkDispatcher:w,userDispatcher:T}=t;return u==null||(e=u.info)===null||e===void 0||e.call(u,"SendbirdProvider | useConnect",gn(gn({},n),t)),Q.useEffect(()=>{var P;u==null||(P=u.info)===null||P===void 0||P.call(u,"SendbirdProvider | useConnect/useEffect",{userId:r,appId:a,accessToken:l});try{uM({userId:r,appId:a,accessToken:l,logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:g,customWebSocketHost:x,sdk:E,sdkDispatcher:w,userDispatcher:T})}catch(k){var C;u==null||(C=u.error)===null||C===void 0||C.call(u,"SendbirdProvider | useConnect/useEffect",k)}},[r,a,l]),Q.useCallback(()=>{var P;u==null||(P=u.info)===null||P===void 0||P.call(u,"SendbirdProvider | useConnect/reconnect/useCallback",{sdk:E});try{uM({userId:r,appId:a,accessToken:l,logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:g,customWebSocketHost:x,sdk:E,sdkDispatcher:w,userDispatcher:T})}catch(k){var C;u==null||(C=u.error)===null||C===void 0||C.call(u,"SendbirdProvider | useConnect/reconnect/useCallback",k)}},[E])}const Ns={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},cfe=n=>{switch(n){case Ns.WARNING:return"color: Orange";case Ns.ERROR:return"color: Red";default:return"color: Gray"}},ufe=n=>{let{level:t,title:e,description:r=""}=n;console.log(`%c SendbirdUIKit | ${t} | ${new Date().toISOString()} | ${e} ${r&&"|"}`,cfe(t),r)},jw=()=>{},dfe=()=>({info:jw,error:jw,warning:jw}),dM=(n,t)=>{const e=t||ufe,r=Array.isArray(n)?n:[n],a=u=>(h,f)=>e({level:u,title:h,description:f});return r.reduce((u,h)=>h===Ns.DEBUG||h===Ns.ALL?gn(gn({},u),{},{info:a(Ns.INFO),error:a(Ns.ERROR),warning:a(Ns.WARNING)}):h===Ns.INFO?gn(gn({},u),{},{info:a(Ns.INFO)}):h===Ns.ERROR?gn(gn({},u),{},{error:a(Ns.ERROR)}):h===Ns.WARNING?gn(gn({},u),{},{warning:a(Ns.WARNING)}):gn({},u),dfe())},hfe=()=>{const n={},t=n.hasOwnProperty;return{__getTopics:()=>n,subscribe:(e,r)=>{t.call(n,e)||(n[e]=[]);const a=n[e].push(r)-1;return{remove:()=>{delete n[e][a]}}},publish:(e,r)=>{t.call(n,e)&&n[e].forEach(a=>{a(r!==void 0?r:{})})}}};function pfe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Q.useEffect(()=>{const e=document.querySelector(t);return n.forEach(r=>{const a=document.createElement("div");a.setAttribute("id",r),e.appendChild(a)}),()=>{n.forEach(r=>{const a=document.getElementById(r);a&&e.removeChild(a)})}},[])}const ffe=n=>{let{children:t,isVoiceMessageEnabled:e=!0}=n;return e?M.createElement(upe,null,M.createElement(iM,null,t)):M.createElement(iM,null,t)},_fe=5e3,mfe=(n,t)=>{let e=[],r=null;return{push:u=>{e.find(f=>f.url===u.url)?n.info("Channel: Mark as read already in queue",u):e.push(u),!r&&(r=setInterval(()=>{if(e.length===0){clearInterval(r),r=null;return}const f=e.shift();if(f)try{f.markAsRead()}catch(m){n.error("Channel: Mark as read failed",m)}},t||_fe))},clear:()=>{e=[],r&&(clearInterval(r),r=null)},getQueue:()=>e}};function vfe(n,t){let{isConnected:e}=n,{logger:r}=t;const a=Q.useMemo(()=>mfe(r),[]);return Q.useEffect(()=>{if(!e){a.clear();return}},[e]),a}const gfe=n=>{let{appId:t,userId:e,children:r,accessToken:a="",customApiHost:l="",customWebSocketHost:u="",configureSession:h=null,theme:f="light",config:m={},nickname:g="",colorSet:x=null,stringSet:E=null,replyType:w="NONE",dateLocale:T=null,profileUrl:A="",voiceRecord:P={maxRecordingTime:tpe,minRecordingTime:npe},userListQuery:C=null,imageCompression:k={},allowProfileEdit:I=!1,isMentionEnabled:D=!1,isReactionEnabled:U=!0,disableUserProfile:O=!1,isVoiceMessageEnabled:N=!0,disableMarkAsDelivered:L=!1,isTypingIndicatorEnabledOnChannelList:K=!1,isMessageReceiptStatusEnabledOnChannelList:z=!1,renderUserProfile:ae=null,onUserProfileMessage:fe=null}=n;const B=!1,{logLevel:J="",userMention:ce={},isREMUnitEnabled:W=!1}=m,[_e,oe]=Q.useState(dM(J)),[le]=Q.useState(hfe()),[ve,De]=Q.useReducer(Wpe,iF),[pe,he]=Q.useReducer(Qpe,aF);Kpe(x);const G=lfe({appId:t,userId:e,accessToken:a},{logger:_e,nickname:g,profileUrl:A,configureSession:h,customApiHost:l,customWebSocketHost:u,sdk:ve==null?void 0:ve.sdk,sdkDispatcher:De,userDispatcher:he});Q.useEffect(()=>{oe(dM(J))},[J]),pfe(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");const[ee,$]=Q.useState(f);Q.useEffect(()=>{$(f)},[f]),Q.useEffect(()=>{const Re=document.querySelector("body");Re.classList.remove("sendbird-experimental__rem__units"),W&&Re.classList.add("sendbird-experimental__rem__units")},[W]),Q.useEffect(()=>{_e.info("Setup theme",`Theme: ${ee}`);try{const Re=document.querySelector("body");Re.classList.remove("sendbird-theme--light"),Re.classList.remove("sendbird-theme--dark"),Re.classList.add(`sendbird-theme--${ee||"light"}`),_e.info("Finish setup theme")}catch(Re){_e.warning("Setup theme failed",`${Re}`)}return()=>{try{const Re=document.querySelector("body");Re.classList.remove("sendbird-theme--light"),Re.classList.remove("sendbird-theme--dark")}catch{}}},[ee]);const ie=Ype(ve.sdk,_e),Oe=vfe({isConnected:ie},{logger:_e}),qe=M.useMemo(()=>E?gn(gn({},I4("en")),E):I4("en"),[E]);return M.createElement(sP.Provider,{value:{stores:{sdkStore:ve,userStore:pe},dispatchers:{sdkDispatcher:De,userDispatcher:he,reconnect:G},config:{disableUserProfile:O,disableMarkAsDelivered:L,renderUserProfile:ae,onUserProfileMessage:fe,allowProfileEdit:I,isOnline:ie,userId:e,appId:t,accessToken:a,theme:ee,setCurrenttheme:$,userListQuery:C,logger:_e,pubSub:le,imageCompression:gn({compressionRate:.7},k),isReactionEnabled:U,isMentionEnabled:D||!1,isVoiceMessageEnabled:N,voiceRecord:P,userMention:{maxMentionCount:(ce==null?void 0:ce.maxMentionCount)||10,maxSuggestionCount:(ce==null?void 0:ce.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:K,isMessageReceiptStatusEnabledOnChannelList:z,replyType:w,markAsReadScheduler:Oe}}},M.createElement(Gpe,{logger:_e,mediaQueryBreakPoint:B},M.createElement(qpe,{stringSet:qe,dateLocale:T},M.createElement(ffe,{isVoiceMessageEnabled:N},r))))};var bfe=`.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-word {
  display: inline;
  height: -moz-fit-content;
  height: fit-content;
}
.sendbird-word .sendbird-word__url,
.sendbird-word .sendbird-word__normal {
  margin: 0 4px;
  display: inline-block;
  color: inherit;
}
.sendbird-open-channel-preview {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 264px;
  height: 58px;
  min-width: 264px;
  min-height: 58px;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-preview {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-preview {
  background-color: var(--sendbird-light-background-50);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-preview {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-light-primary-100);
  border-left: solid 4px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-dark-primary-300);
  border-left: solid 4px var(--sendbird-dark-primary-200);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar,
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  flex-direction: column;
  max-width: 178px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 16px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name {
  position: relative;
  display: inline-block;
  max-width: 100%;
  height: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name.frozen {
  max-width: calc(100% - 20px);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__frozen {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__icon {
  position: relative;
  display: inline-flex;
  width: 14px;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__count {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
  width: 160px;
  max-width: 160px;
  height: 12px;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-list,
.sendbird-open-channel-list-ui {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 256px;
  min-width: 256px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-list,
.sendbird--mobile-mode .sendbird-open-channel-list-ui {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-list,
.sendbird-theme--light .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list,
.sendbird-theme--dark .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--light .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--dark .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title {
  position: relative;
  margin-left: 24px;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh {
  position: absolute;
  top: 16px;
  right: 56px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel {
  position: absolute;
  top: 16px;
  right: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__channel-list,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__channel-list {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: calc(100% - 64px);
  box-sizing: border-box;
  overflow-y: scroll;
}

.sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  position: relative;
  min-height: 62px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-create-open-channel-ui {
  position: relative;
  display: inline-flex;
}

.sendbird-create-open-channel-ui__profile-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section {
  position: relative;
  margin-top: 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__button {
  position: relative;
  margin-left: 18px;
  display: inline-flex;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__name-section {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
}
@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: "Roboto", sans-serif;
  --sendbird-message-balloon-width: 404px;
}
.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem;
}
.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: 0.75rem;
}
.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-list {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-list {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-list {
  width: 100%;
}

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px;
}

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}
[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default);
}

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px;
}

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px;
}

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
}

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-header {
  width: 100%;
}
.sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
  cursor: pointer;
}
.sendbird-channel-header .sendbird-channel-header__title {
  display: flex;
  flex-direction: row;
  width: 260px;
  height: 48px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-dark-background-500);
}
.sendbird-channel-header .sendbird-channel-header__title:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
  width: 48px;
  padding: 8px;
  box-sizing: border-box;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
  margin-left: 4px;
  padding-top: 8px;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
  display: block;
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-header .sendbird-channel-header__right-icon {
  position: absolute;
  right: 16px;
  top: 16px;
}
.sendbird-image-renderer {
  overflow: hidden;
  position: relative;
}

.sendbird-image-renderer__hidden-image-loader {
  display: none;
}

.sendbird-image-renderer,
.sendbird-image-renderer__image {
  width: 320px;
  height: 180px;
}
.sendbird-icon {
  display: inline-block;
}
.sendbird-icon:focus {
  outline: none;
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-light-primary-200);
}
.sendbird-theme--dark .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-dark-primary-400);
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round;
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round;
}

.sendbird-theme--light .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-icon-color--white [class*=fill] {
  fill: #ffffff;
}

.sendbird-icon-color--gray [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}

.sendbird-theme--light .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-dark-background-400);
}

.sendbird-theme--light .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-dark-error-200);
}
.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative;
}
.sendbird-avatar:focus {
  outline: none;
}
.sendbird-avatar .sendbird-avatar-img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
  transform: translate(2%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
  transform: translate(-102%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
  transform: translate(-50%, -102%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
  transform: translate(-77%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
  transform: translate(-23%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar-img--default {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px;
}
.sendbird-iconbutton .sendbird-iconbutton__inner {
  height: 100%;
}
.sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-iconbutton:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-iconbutton:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-iconbutton:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-iconbutton:active {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-iconbutton:disabled {
  cursor: not-allowed !important;
}
.sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird--mobile-mode .sendbird-add-channel__modal .sendbird-modal__content {
  margin: 0 40px;
}

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px;
}

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px;
}

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird--mobile-mode .sendbird-add-channel__rectangle {
  min-width: 288px;
  width: 100%;
  padding-right: 0;
}
.sendbird-theme--light .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-add-channel__rectangle .sendbird-icon {
  position: absolute;
  left: 22px;
  top: 24px;
}
.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px;
}

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-create-channel--scroll {
  height: calc(100vh - 200px);
  height: calc(var(--sendbird-vh, 1vh) * 100 - 200px);
}
.sendbird-modal--full-mobile .sendbird-modal__content {
  width: 100vw;
  max-width: 100%;
  height: 100%;
}
.sendbird--mobile-mode .sendbird-modal--full-mobile .sendbird-modal__content {
  height: -webkit-fill-available;
  height: -moz-available;
  height: stretch;
}

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal__backdrop--clickoutside {
  cursor: pointer;
}

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-modal__content {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__content {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}
.sendbird-modal__content .sendbird-modal__close {
  position: absolute;
  top: 16px;
  right: 16px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-modal__content .sendbird-modal__header {
  margin-bottom: 16px;
}
.sendbird-modal__content .sendbird-modal__body {
  height: calc(100% - 116px);
}
.sendbird-modal__content .sendbird-modal__footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin-top: 32px;
  text-align: right;
}
.sendbird--mobile-mode .sendbird-modal__content .sendbird-modal__footer {
  position: sticky;
  bottom: 24px;
}
.sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
  margin-left: 8px;
  min-width: 80px;
  height: 40px;
}

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-modal__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer;
}
.sendbird-button:hover {
  box-shadow: none;
}
.sendbird-button:focus {
  outline: none;
}
.sendbird-button:active {
  box-shadow: none;
}
.sendbird-button.sendbird-button__disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-button--big {
  height: 40px;
}
.sendbird-button--big .sendbird-button__text {
  margin: 10px 16px;
}

.sendbird-button--small {
  height: 32px;
}
.sendbird-button--small .sendbird-button__text {
  margin: 6px 16px;
}

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400);
}

.sendbird-button--secondary {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-button--secondary {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:hover {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary.sendbird-button__disabled {
  cursor: not-allowed;
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-button--secondary.sendbird-button__disabled:hover {
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary:focus {
  border: 1px solid transparent;
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px;
}
.sendbird-theme--dark .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px;
}
.sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-button--danger:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--danger:active {
  background-color: var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active {
  background-color: var(--sendbird-dark-error-500);
}
.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500);
}

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button--disabled {
  background-color: var(--sendbird-light-background-200);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px;
}
.sendbird--mobile-mode .sendbird-user-list-item {
  width: 100%;
}
.sendbird-theme--light .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item .sendbird-user-list-item__avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  cursor: pointer;
}
.sendbird-user-list-item .sendbird-muted-avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  pointer-events: none;
}
.sendbird-user-list-item .sendbird-user-list-item__title {
  position: absolute;
  top: 17px;
  left: 56px;
  max-width: 250px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__title {
  max-width: 62%;
}
.sendbird-user-list-item .sendbird-user-list-item__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item .sendbird-user-list-item__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item .sendbird-user-list-item__action {
  position: absolute;
  right: 0;
  top: 10px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator {
  position: absolute;
  right: 40px;
  top: 22px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
  right: 66px;
}
.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon {
  position: relative;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
  position: absolute;
  top: 4px;
  left: 4px;
}
.sendbird-muted-avatar .sendbird-muted-avatar__bg {
  opacity: 0.5;
  position: absolute;
  border-radius: 50%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-light-background-400);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-dark-background-300);
}
.sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  cursor: default;
}
.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block;
}

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center;
}
.sendbird-theme--light .sendbird__user-profile {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird__user-profile {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird__user-profile .sendbird__user-profile-avatar {
  margin: 8px 0px;
}
.sendbird__user-profile .sendbird__user-profile-name {
  max-width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird__user-profile .sendbird__user-profile-message {
  margin-top: 20px;
}
.sendbird__user-profile .sendbird__user-profile-message button {
  width: 272px;
}
.sendbird__user-profile .sendbird__user-profile-separator {
  margin: 24px 0px;
  height: 1px;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-dark-ondark-04);
}
.sendbird__user-profile .sendbird__user-profile-userId--label,
.sendbird__user-profile .sendbird__user-profile-userId--value {
  width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  display: block;
  text-align: left;
}
.sendbird__user-profile .sendbird__user-profile-userId--label {
  margin-bottom: 8px;
}
.sendbird-context-menu {
  display: "inline";
}

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed;
}

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: pointer;
  white-space: nowrap;
  padding: 8px 16px;
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
  margin: 4px;
}

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed;
}

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px;
}
.sendbird-theme--light .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird--mobile-mode .sendbird-channel-preview {
  width: 100%;
}
.sendbird-channel-preview:focus {
  outline: none;
}
.sendbird-channel-preview .sendbird-channel-preview__avatar {
  width: 56px;
  height: 56px;
}
.sendbird-channel-preview .sendbird-channel-preview__content {
  width: 100%;
  height: 100%;
  margin-left: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content {
  position: relative;
  max-width: calc(100% - 72px);
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  display: flex;
  justify-content: space-between;
  width: 216px;
  height: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  width: auto;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
  display: flex;
  justify-content: flex-start;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
  padding-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 128px;
  word-break: break-all;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
  margin-top: 2px;
  margin-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
  padding-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
  margin-left: 4px;
  margin-bottom: 4px;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
  max-width: 74px;
  justify-content: flex-end;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  margin-top: 8px;
  width: 216px;
  height: 32px;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  width: 100%;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
  display: flex;
  align-items: center;
  margin-left: 8px;
  margin-bottom: 12px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
  display: inline-flex;
  align-items: center;
  margin-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__action {
  position: absolute;
  top: 12px;
  right: 12px;
  display: inline-block;
}
.sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
  display: none;
}
.sendbird-theme--light .sendbird-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
  display: inline-block;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
  display: none;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
  display: none;
}

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px;
}
.sendbird-theme--light .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-light-primary-300);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-dark-primary-200);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-dark-primary-200);
}

.sendbird--mobile-mode .sendbird-channel-preview__content__lower__unread-message-count {
  position: absolute;
  right: 0;
}
.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-dark-secondary-200);
}
.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block;
}
.sendbird-theme--light .sendbird-badge {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-badge {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-badge .sendbird-badge__text {
  margin: 0px 6px;
}
.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  white-space: pre-line;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  height: 16px;
}
.sendbird-mention-user-label:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-mention-user-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-mention-user-label {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-mention-user-label.reverse {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-mention-user-label.reverse {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-mention-user-label.purple {
  font-family: Roboto;
  font-size: 18px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.sendbird-theme--light .sendbird-mention-user-label.purple {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-mention-user-label.purple {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
}

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer;
}

.sendbird-textbutton--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-textbutton--disabled {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-textbutton--disabled {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300);
}
.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-dark-background-400);
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-reaction-button__inner {
  margin: 3px;
}

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-light-primary-100);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-dark-primary-400);
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-reaction-button--selected:hover {
  border: solid 1px var(--sendbird-selected-reaction-button-border-hover);
}
.sendbird-reaction-button--selected__inner {
  margin: 3px;
}
.sendbird-reaction-button--selected.sendbird-reactions--pressed {
  display: block !important;
}
.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%;
}
.sendbird-message-status .sendbird-message-status__icon {
  position: relative;
  display: inline-block;
  top: -2px;
}
.sendbird-message-status .sendbird-message-status__icon.hide-icon {
  display: none;
}
.sendbird-message-status .sendbird-message-status__text {
  position: relative;
  display: inline-block;
  margin-left: 4px;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
  cursor: pointer;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
  cursor: pointer;
}
.sendbird-loader {
  display: inline-block;
  animation: 1s infinite linear;
  animation-name: rotate;
}

@keyframes rotate {
  from {
    transform: rotate(0);
  }
  to {
    transform: rotate(360deg);
  }
}
.sendbird-edit-user-profile section {
  margin-top: 16px;
}
.sendbird-edit-user-profile section .sendbird-input-label {
  display: block;
  margin-bottom: 12px;
}
.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px;
}

.sendbird-edit-user-profile__img {
  position: relative;
}

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px;
}

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer;
}
.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative;
}
.sendbird-input .sendbird-input__input {
  width: 100%;
  height: 100%;
  border-radius: 4px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  padding: 10px 16px;
  box-sizing: border-box;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__input:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-input .sendbird-input__input:disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__placeholder {
  position: absolute;
  pointer-events: none;
  top: 10px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-input-label {
  margin: 4px 0;
}
.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
.sendbird-place-holder .sendbird-place-holder__body {
  display: flex;
  flex-direction: column;
  height: 104px;
  align-items: center;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
  margin-bottom: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
  margin-top: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect {
  margin-top: 18px;
  display: flex;
  flex-direction: row;
  cursor: pointer;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
  margin-right: 4px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top {
  position: absolute;
  top: 24px;
  display: flex;
  width: 100%;
  flex-direction: column;
  justify-content: center;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-left: 16px;
  padding-right: 16px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
  display: flex;
  min-width: 60px;
  margin-right: 2px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
  display: block;
  max-width: calc(100% - 62px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
  display: flex;
  justify-content: center;
}
.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-conversation {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-conversation {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-conversation__messages {
  overflow: hidden;
  flex: 1 1 0;
  order: 2;
}

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end;
}

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px;
}

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6;
  }
  99% {
    background-color: #FFF2B6;
  }
}
@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01);
  }
  99% {
    color: var(--sendbird-dark-onlight-01);
  }
}
@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
}
.sendbird-msg-hoc__animated .sendbird-message-content {
  animation: bounce 1s ease;
}
@keyframes bounce {
  50% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(0);
  }
  90% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0);
  }
}

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  animation-name: sbTextHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-voice-message-item-body {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-conversation__scroll-container .sendbird-conversation__padding {
  flex: 1 1 0;
}

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
  position: absolute;
  display: inline-flex;
  bottom: 8px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
  margin-left: 24px;
  margin-right: 10px;
}
.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px;
}
.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-chat-header__left {
  margin-right: 24px;
}
.sendbird-chat-header__left, .sendbird-chat-header__right {
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-chat-header .sendbird-chat-header__left__title {
  margin-left: 8px;
  margin-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 780px;
}
.sendbird--mobile-mode .sendbird-chat-header .sendbird-chat-header__left__title {
  max-width: calc(100vw - 240px);
}
.sendbird-chat-header .sendbird-chat-header__left__subtitle {
  max-width: 240px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-chat-header .sendbird-chat-header__right__mute {
  margin-right: 18px;
}
.sendbird-chat-header .sendbird-iconbutton--pressed {
  background-color: inherit;
}
.sendbird-chat-header .sendbird-chat-header__right__info {
  margin-left: 16px;
}

.sendbird-chat-header__icon_back {
  margin-right: 8px;
}
.sendbird-conversation__messages {
  position: relative;
}
.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  position: relative;
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px;
}

.sendbird-conversation__messages__notification {
  position: fixed;
  top: 0px;
  width: calc(100% - 50px);
  margin-left: 25px;
}

.sendbird-conversation__scroll-bottom-button {
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-dark-background-400);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-conversation__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-conversation__scroll-bottom-button:focus {
  outline: none;
}
.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px;
}
.sendbird-theme--light .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
  position: relative;
  display: inline-block;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  position: relative;
  display: inline-block;
  margin-left: 16px;
  max-width: calc(100% - 250px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: calc(100% - 150px);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  position: absolute;
  display: inline-block;
  right: 16px;
  max-width: 180px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 100px;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
  margin-right: 4px;
}
.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center;
}
.sendbird-separator .sendbird-separator__left {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__right {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__text {
  margin: 0px 16px;
  display: flex;
  white-space: nowrap;
}
.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative;
}
.sendbird-message-input .sendbird-message-input--textarea {
  position: relative;
  width: 100%;
  border-radius: 4px;
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  height: 56px;
  overflow-y: scroll;
  letter-spacing: normal;
  padding: 18px 64px 18px 16px;
  box-sizing: border-box;
  resize: none;
  font-family: var(--sendbird-font-family-default);
  background-color: inherit;
  white-space: pre-wrap;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-input .sendbird-message-input--textarea:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-message-input);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-message-input);
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-message-input .sendbird-message-input--placeholder {
  position: absolute;
  pointer-events: none;
  top: 18px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-message-input .sendbird-message-input--attach {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach.is-voice-message-enabled {
  right: 48px;
}
.sendbird-message-input .sendbird-message-input--voice-message {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--send {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach-input {
  display: none;
}

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-input__edit {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-input__edit {
  background-color: var(--sendbird-dark-background-700);
}

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px;
}
.sendbird-message-input--edit-action button:last-child {
  margin-left: 8px;
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  width: 80px;
}
.sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
  width: 80px;
}

.sendbird-message-input-form__disabled {
  cursor: not-allowed;
}

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled;
}
.sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-04);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-04);
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-message-content.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content .sendbird-message-content__middle {
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-message-content .sendbird-message-content__middle {
  max-width: calc(100vw - 140px);
}
.sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar.use-thread-replies {
  bottom: 35px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
  width: 70px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
  width: 70px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
  top: 18px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
  position: relative;
  width: 100%;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-message-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-message-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-voice-message-item-body.sendbird-message-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none;
}
.sendbird-text {
  color: var(--primary-1);
}
.sendbird-emoji-reactions {
  display: inline-block;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px;
}
.sendbird-theme--light .sendbird-emoji-reactions {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-emoji-reactions {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
  margin-left: 2px;
  margin-right: 1px;
  margin-bottom: 4px;
}
.sendbird-emoji-reactions:focus {
  outline: none;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  height: 26px;
}

.sendbird-emoji-reactions__add-reaction-badge {
  position: relative;
  top: -4px;
  display: inline-flex;
  width: 36px;
  height: 24px;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  margin-left: 2px;
}
.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px;
}
.sendbird-theme--light .sendbird-tooltip {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip::after {
  content: "";
  position: absolute;
  bottom: -4px;
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}
.sendbird-theme--light .sendbird-tooltip::after {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip::after {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip__text {
  font-family: var(--sendbird-font-family-default);
  font-size: 12px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
  word-break: keep-all;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex;
}
.sendbird-tooltip-wrapper__hover-tooltip {
  position: absolute;
  display: inline-flex;
  width: 200px;
}
.sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
  position: relative;
  display: inline-flex;
}
.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge--is-add:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  left: 8px;
}

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-light-primary-100);
  border: solid 1px var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-dark-primary-400);
  border: solid 1px var(--sendbird-dark-primary-400);
}
.sendbird-reaction-badge--selected:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  position: absolute;
  top: 2px;
  left: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
  margin-left: 4px;
}
.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-admin-message .sendbird-admin-message__text {
  display: flex;
}
.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word;
}
.sendbird-text-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}

div.sendbird-text-message-item-body {
  margin: 0px;
}
.sendbird-word {
  white-space: break-spaces;
}
.sendbird-word .sendbird-word__mention {
  display: inline-block;
}
.sendbird-word .sendbird-word__mention:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-link-label {
  text-decoration: unset;
}
.sendbird-link-label:hover {
  cursor: pointer;
  text-decoration: underline;
}
.sendbird-link-label:focus {
  outline: none;
}
.sendbird-link-label__label {
  display: inline;
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px;
}
.sendbird-file-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  width: 28px;
  height: 28px;
  min-width: 28px;
  min-height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  margin-right: 8px;
}
.sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
  position: relative;
  top: -6px;
}
.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px;
}
.sendbird--mobile-mode .sendbird-thumbnail-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-thumbnail-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
  position: absolute;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 270px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
  position: absolute;
  width: 100%;
  height: 270px;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer;
}
.sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
  display: inline-flex;
}
.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-og-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
  position: relative;
  padding: 8px 12px;
  box-sizing: border-box;
  border-radius: 16px 16px 0px 0px;
  word-break: break-word;
  white-space: pre-line;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
  position: relative;
  overflow: hidden;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
  width: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
  border-radius: 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
  margin-bottom: 4px;
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
  margin: 4px 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-300);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-200);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: none;
  position: absolute;
  top: 0%;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 16px 16px 0px 0px;
}

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px;
}
.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px;
}
.sendbird-unknown-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
  display: block;
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
  display: block;
}
.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px;
}
.sendbird-quote-message.incoming {
  align-items: flex-start;
}
.sendbird-quote-message.outgoing {
  align-items: flex-end;
}
.sendbird-quote-message .sendbird-quote-message__replied-to {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  height: 16px;
  padding: 0px 12px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
  position: relative;
  margin-bottom: 4px;
  margin-right: 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  position: relative;
  max-width: 360px;
  overflow: hidden;
  overflow-x: hidden;
  white-space: nowrap;
  word-break: keep-all;
  text-overflow: ellipsis;
  font-size: 12px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__nickname {
  display: inline-block;
  max-width: 148px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__text {
  margin: 0px 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-message {
  position: relative;
  display: inline-flex;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  position: relative;
  white-space: pre-wrap;
  word-break: break-all;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
  position: relative;
  display: inline-flex;
  max-height: 30px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  position: relative;
  width: 144px;
  height: 108px;
  border-radius: 6.4px;
  overflow: hidden;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
  position: absolute;
  top: 0px;
  display: inline-flex;
  width: 100%;
  height: 100%;
  opacity: 0.5;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  top: 0px;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
  margin-right: 2px;
}
.sendbird-quote-message:hover {
  cursor: pointer;
}

.sendbird-quote-message.unavailable:hover {
  cursor: default;
}
.sendbird-message__mobile-context-menu {
  border-radius: 8px;
  width: 180px;
}

.sendbird-message__contextmenu--hyperlink {
  display: flex;
  justify-content: space-between;
}

.sendbird-message__bottomsheet--hyperlink {
  display: block;
}

.sendbird-message__bottomsheet--hyperlink,
.sendbird-message__contextmenu--hyperlink {
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}

.sendbird-message__mobile-context-menu-item .sendbird-dropdown__menu-item__text {
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-message__bottomsheet {
  width: 100vw;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  padding-top: 16px;
}
.sendbird-theme--light .sendbird-message__bottomsheet {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-message__bottomsheet-reaction-bar {
  padding-left: 0;
  display: flex;
  justify-content: center;
  margin-bottom: 0px;
  margin-top: 0;
}

.sendbird-message__bottomsheet-reaction-bar__row {
  display: inline-block;
}
.sendbird-message__bottomsheet-reaction-bar__row.sendbird-message__bottomsheet-reaction-bar__all {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.sendbird-message__bottomsheet--action {
  cursor: pointer;
  height: 48px;
  display: flex;
  align-items: center;
  padding-left: 16px;
}
.sendbird-message__bottomsheet--action .sendbird-icon {
  margin-right: 24px;
}

.sendbird-message__bottomsheet--action-disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-bottomsheet {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.sendbird-bottomsheet__content {
  z-index: 10001;
  position: fixed;
  bottom: 0;
  left: 0;
}

.sendbird-bottomsheet__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-ui-thread-replies {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: 20px;
  min-height: 20px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  padding: 4px 10px;
  gap: 4px;
  border-radius: 16px;
  flex: none;
  order: 0;
  flex-grow: 0;
}
.sendbird-theme--light .sendbird-ui-thread-replies {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-ui-thread-replies {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-ui-thread-replies:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-ui-thread-replies__user-profiles {
  position: relative;
  width: 100%;
  height: 100%;
  gap: 4px;
  display: inline-flex;
  flex-direction: row;
}

.sendbird-ui-thread-replies__user-profiles__avatar {
  position: relative;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__user-profiles__avatar__image {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
}

.sendbird-ui-thread-replies__user-profiles__avatar__cover {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-ui-thread-replies__user-profiles__avatar__plus {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__reply-counts {
  position: relative;
  min-width: -moz-fit-content;
  min-width: fit-content;
  height: 12px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
}

.sendbird-ui-thread-replies__icon {
  position: relative;
  display: inline-flex;
}
.sendbird-voice-message-item-body {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;
}

.sendbird-voice-message-item-body.is-reactions-contained {
  border-radius: 16px 16px 0px 0px;
}

.sendbird-voice-message-item-body__progress-bar {
  position: absolute;
  width: 100%;
  height: 50px;
}

.sendbird-voice-message-item-body__status-button {
  position: relative;
  top: 8px;
  left: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
}

.sendbird-voice-message-item-body__status-button__button {
  width: 100%;
  height: 100%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-voice-message-item-body__playback-time {
  position: absolute;
  top: 15px;
  right: 12px;
}

.sendbird-voice-message-item-body__status-button__button__pause {
  position: relative;
  display: inline-flex;
  justify-content: space-between;
  align-items: center;
  width: 13.75px;
  height: 13.75px;
}

.sendbird-voice-message-item-body__status-button__button__pause__inner {
  position: relative;
  display: inline-flex;
  width: 4.38px;
  height: 13.75px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-progress-bar, .sendbird-progress-bar__fill {
  display: inline-flex;
  width: 100%;
  height: 100%;
}

.sendbird-progress-bar {
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-progress-bar__fill {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-progress-bar__fill {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .progress-bar-color--primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .progress-bar-color--primary {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--light .progress-bar-color--gray {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--dark .progress-bar-color--gray {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-progress-bar.progress-bar--disabled .sendbird-progress-bar__fill {
  background-color: transparent;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header {
  position: relative;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  position: absolute;
  left: 64px;
  top: 10px;
  display: block;
  max-width: calc(100vw - 240px);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  position: absolute;
  left: 56px;
  top: 24px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-notification--hide,
.sendbird-notification {
  position: absolute;
}

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}

.sendbird-notification--hide {
  display: none;
}
.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}
.sendbird-message-input-wrapper--voice-message,
.sendbird-message-input-wrapper {
  position: relative;
  width: 100%;
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  position: relative;
  width: 100%;
}
.sendbird-theme--light .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  padding-left: 24px;
  padding-right: 24px;
}

.sendbird-theme--light .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  width: 44px;
  min-width: 44px;
  height: 44px;
  min-height: 44px;
  position: relative;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote_message_input .sendbird-quote_message_input__body {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  overflow: hidden;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
  margin-bottom: 8px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button {
  position: absolute;
  top: 26px;
  right: 40px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
  cursor: pointer;
}
.sendbird-voice-message-input-wrapper .sendbird-voice-message-input__indicator {
  height: 40px;
}

.sendbird-voice-message-input-wrapper-alert__body {
  position: relative;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  width: 100%;
  height: 74px;
}

.sendbird-voice-message-input-wrapper-alert__body__ok-button {
  width: 74px;
}
.sendbird-voice-message-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: 110px;
  padding-top: 22px;
  padding-left: 24px;
  padding-right: 24px;
  box-sizing: border-box;
}

.sendbird-voice-message-input__indicator {
  position: relative;
  display: inline-flex;
  width: 100%;
}

.sendbird-voice-message-input__indicator__progress-bar {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 28px;
  overflow: hidden;
}

.sendbird-voice-message-input__indicator__on-rec {
  position: absolute;
  top: 14px;
  right: 53px;
}

.sendbird-voice-message-input__indicator__playback-time {
  position: absolute;
  top: 10px;
  right: 16px;
}

.sendbird-voice-message-input__controler {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin-top: 14px;
  height: 34px;
  min-height: 34px;
}

.sendbird-voice-message-input__controler__main {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__main:hover {
  cursor: pointer;
}

.sendbird-voice-message-input__controler__submit {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-voice-message-input__controler__submit:hover {
  cursor: pointer;
}

.sendbird-theme--light .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__submit.voice-message--disabled:hover {
  cursor: default;
}

@keyframes flickerAnimation {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.sendbird-voice-message-input__indicator__on-rec {
  width: 12px;
  height: 12px;
  min-width: 12px;
  min-height: 12px;
  border-radius: 50%;
  animation: flickerAnimation 1s infinite;
}
.sendbird-theme--light .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-voice-message-input__indicator__progress-bar__bar {
  height: 40px;
}

.sendbird-controler-icon {
  position: relative;
  display: inline-block;
}

.sendbird-controler-icon.record-icon {
  width: 20px;
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-controler-icon.stop-icon {
  width: 14px;
  height: 14px;
  min-width: 14px;
  min-height: 14px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-controler-icon.pause-icon {
  display: inline-flex;
  width: 100%;
  gap: 3.75px;
  width: 13.75px;
  height: 13.75px;
  min-width: 13.75px;
  min-height: 13.75px;
}

.sendbird-controler-icon.pause-icon-inner {
  display: inline-flex;
  min-width: 4.38px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-channel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-channel-settings .sendbird-channel-settings__header-icon {
  cursor: pointer;
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__scroll-area {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  height: calc(100% - 64px);
  overflow-y: auto;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
  outline: none;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  position: absolute;
  top: 10px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
  left: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  right: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
  transform: rotate(90deg);
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-channel-profile .sendbird-channel-profile--inner {
  height: 92px;
}
.sendbird-channel-profile .sendbird-channel-profile__avatar {
  margin-bottom: 16px;
  display: flex;
  justify-content: center;
}
.sendbird-channel-profile .sendbird-channel-profile__title {
  display: block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird--mobile-mode .sendbird-channel-profile .sendbird-channel-profile__title {
  max-width: 100%;
}
.sendbird-channel-profile .sendbird-channel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}

.channel-profile-form .channel-profile-form__img-section {
  position: relative;
}
.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px;
}
.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px;
}
.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px;
}
.channel-profile-form .channel-profile-form__name-section .sendbird-input {
  height: 40px;
}
.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative;
}

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block;
}

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird--mobile-mode .sendbird-channel-settings__freeze {
  max-width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px;
}
.sendbird-channel-settings__frozen-icon .sendbird-icon {
  cursor: pointer;
}

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px;
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-accordion .sendbird-accordion__member {
  position: relative;
  padding: 12px 0px 12px 44px;
  height: 40px;
  box-sizing: border-box;
}
.sendbird-accordion .sendbird-accordion__footer {
  display: flex;
  justify-content: flex-start;
  margin-top: 8px;
}

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-accordion__panel-header {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-accordion__panel-header {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-accordion__panel-header:focus {
  outline: none;
}
.sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
  cursor: not-allowed;
}

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px;
}

.sendbird-accordion__panel-icon-left {
  left: 16px;
}

.sendbird-accordion__panel-icon-right {
  right: 16px;
}

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg);
}

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300);
}
.sendbird-input-toggle-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  cursor: pointer;
}

.sendbird-theme--light .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-light-background-300);
  border: 1px solid var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-light-background-200);
  border: 1px solid var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button input {
  position: absolute;
  display: none;
}

.sendbird-input-toggle-button__inner-dot {
  position: absolute;
  border-radius: 50%;
  animation-iteration-count: 1;
}
.sendbird-theme--light .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-dark-background-600);
}

/* Manage animation and position by status */
@keyframes sendbirdMoveToRight {
  0% {
    right: 60%;
  }
  100% {
    right: 10%;
  }
}
@keyframes sendbirdMoveToLeft {
  0% {
    right: 10%;
  }
  100% {
    right: 60%;
  }
}
.sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}

.sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}

.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}

.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}

.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}
.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}
.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px;
}
.sendbird-user-list-item--small__avatar {
  cursor: pointer;
  position: absolute;
  top: 10px;
  left: 12px;
}
.sendbird-user-list-item--small .sendbird-muted-avatar {
  position: absolute;
  top: 10px;
  left: 12px;
  pointer-events: none;
}
.sendbird-user-list-item--small__title {
  position: absolute;
  top: 10px;
  left: 54px;
  width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-user-list-item--small__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item--small__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item--small__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item--small__action {
  display: none;
  position: absolute;
  right: 10px;
  top: 4px;
}
.sendbird-user-list-item--small__operator {
  position: absolute;
  right: 24px;
  top: 10px;
}
.sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
  display: block;
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
  display: none;
}
.sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-channel-settings__leave-label--mobile {
  text-decoration: none;
}

.sendbird-channel-settings__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__badge {
  position: absolute;
  right: 48px;
}
.sendbird-theme--light .sendbird-channel-settings__badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-channel-settings__user-panel .sendbird-channel-settings-accordion__footer {
  padding-left: 14px;
  padding-top: 14px;
}
.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-message-search-pannel {
  width: 100%;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  position: absolute;
  top: 14px;
  left: 48px;
  margin: 0px;
  padding: 0px;
  border: 0px;
  outline: none;
  font-size: 14px;
  width: calc(100% - 90px);
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-light-onlight-01);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-dark-ondark-01);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  position: relative;
  display: flex;
  width: 100%;
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
  position: absolute;
  top: 20px;
  left: 24px;
  width: calc(100% - 74px);
  overflow-x: hidden;
  word-break: keep-all;
  text-overflow: ellipsis;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input {
  display: flex;
  position: relative;
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  position: relative;
  border-radius: 4px;
  width: 100%;
  height: 44px;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
  position: absolute;
  top: 10px;
  left: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
  cursor: pointer;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  overflow-y: hidden;
}
.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-theme--light .sendbird-message-search {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-item .sendbird-message-search-item__left {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-item .sendbird-message-search-item__right {
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline;
  max-width: 150px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
  box-sizing: border-box;
  display: flex;
  width: inherit;
  height: 32px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: absolute;
  top: 36px;
  word-break: break-word;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-item .sendbird-message-search-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__left {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline-block;
  max-width: 146px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
  position: absolute;
  top: 36px;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  position: relative;
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  min-width: 26px;
  height: 26px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
  height: 16px;
  position: relative;
  display: inline;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
  white-space: nowrap;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-thread-ui {
  position: relative;
  max-width: 320px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
.sendbird-theme--light .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-thread-ui__header {
  width: 100%;
}
.sendbird-theme--light .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui--scroll {
  overflow-y: scroll;
  overflow-x: hidden;
  height: 100%;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-thread-ui__reply-counts {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 42px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  padding: 16px 11px;
}
.sendbird-theme--light .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui__thread-list {
  padding: 16px;
}

.sendbird-thread-ui__message-input {
  padding: 0px 16px;
  margin-bottom: 24px;
}

.sendbird-thread-ui__thread-list.sendbird-place-holder {
  box-sizing: border-box;
}
.sendbird-parent-message-info {
  position: relative;
  width: 100%;
  height: -moz-fit-content;
  height: fit-content;
  padding: 12px 12px 12px 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: flex-start;
  box-sizing: border-box;
}

.sendbird-parent-message-info__sender {
  position: relative;
  min-width: 40px;
  min-height: 40px;
}

.sendbird-parent-message-info__content {
  position: relative;
  margin-left: 12px;
  display: inline-flex;
  flex-direction: column;
}

.sendbird-parent-message-info__content__info {
  position: relative;
  max-width: 188px;
  height: 16px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
}

.sendbird-parent-message-info__content__info__sender-name,
.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  position: relative;
  margin-right: 6px;
  word-break: keep-all;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-parent-message-info__content__info__sender-name {
  max-width: 142px;
}

.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  max-width: 110px;
}

.sendbird-parent-message-info__content__info__sent-at {
  position: relative;
  max-width: 52px;
  height: 12px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
  word-break: keep-all;
}

.sendbird-parent-message-info__content__body {
  position: relative;
  max-width: 210px;
  overflow: hidden;
}

.sendbird-parent-message-info__content__body.sendbird-thumbnail-message-item-body.incoming {
  min-width: 200px;
  height: 148px;
}

.sendbird-parent-message-info__content__reactions {
  position: relative;
  max-width: 240px;
  width: 100%;
  height: 100%;
}

.sendbird-parent-message-info__context-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info__context-menu.use-reaction {
  right: 44px;
}

.sendbird-parent-message-info__reaction-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info .sendbird-text-message-item-body.reactions {
  border-radius: 16px;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-600);
}

.sendbird-parent-message-info:hover .sendbird-parent-message-info__context-menu,
.sendbird-parent-message-info:hover .sendbird-parent-message-info__reaction-menu,
.sendbird-parent-message-info__context-menu.sendbird-mouse-hover,
.sendbird-parent-message-info__reaction-menu.sendbird-mouse-hover {
  display: inline-flex;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-theme--light .sendbird-parent-message-info:hover,
.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover,
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-500);
  background-color: var(--sendbird-dark-background-500);
}

.parent-message-info--suggested-mention-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
  min-height: 200px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 166px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 68px;
}
.sendbird-parent-message-info-item {
  position: relative;
  margin-top: 8px;
}

.sendbird-parent-message-info-item__text-message,
.sendbird-parent-message-info-item__og-field {
  padding-right: 4px;
  display: inline-block;
  white-space: pre-line;
  word-break: break-all;
}

.sendbird-parent-message-info-item__og-field {
  display: inline-flex;
  flex-direction: column;
  margin-top: 4px;
}

.sendbird-parent-message-info-item__og-field__content {
  display: inline-flex;
  flex-direction: column;
  padding: 8px 12px;
  gap: 4px;
}

.sendbird-parent-message-info-item__file-message {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}

.sendbird-parent-message-info-item__file-message__file-name {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 200px;
}

.sendbird-parent-message-info-item__thumbnail-message {
  position: relative;
  display: block;
  width: 200px;
  height: 148px;
}

.sendbird-parent-message-info-item__thumbnail-message__thumbnail {
  position: absolute;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 148px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-parent-message-info-item__thumbnail-message__video {
  position: absolute;
  width: 100%;
  height: 148px;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon {
  width: 56px;
  height: 56px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message:hover {
  cursor: pointer;
}
.sendbird-parent-message-info-item__thumbnail-message:hover .sendbird-parent-message-info-item__thumbnail-message__image-cover {
  display: inline-flex;
}

.sendbird-parent-message-info-item__voice-message__item {
  min-width: 136px;
  height: 50px;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thread-header {
  position: relative;
  min-width: 320px;
  width: 320px;
  min-height: 64px;
  height: 64px;
  display: inline;
  padding: 13px 24px;
  box-sizing: border-box;
}

.sendbird-thread-header__title {
  position: relative;
  max-width: 254px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__channel-name {
  position: relative;
  max-width: 254px;
  height: 12px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__action {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 56px;
  height: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thread-list-item .sendbird-separator {
  margin: 4px 0px;
}

.sendbird-thread-list .sendbird-message-content__middle__sender-name {
  white-space: nowrap;
  max-width: 210px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-list .sendbird-message-content.incoming .sendbird-message-content__middle {
  max-width: 200px;
}

.sendbird-thread-list .sendbird-thumbnail-message-item-body.outgoing {
  min-width: 200px;
  min-height: 148px;
  height: 148px;
}

.sendbird-thread-list .sendbird-message-content .sendbird-message-content__middle {
  max-width: 230px;
}

.sendbird-thread-list .sendbird-message-status__icon.sendbird-message-status--sent {
  display: none;
}

.sendbird-thread-list .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}
.sendbird-thread-list-item-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-thread-list-item-content.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: 200px;
}
.sendbird--mobile-mode .sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: calc(100vw - 100px);
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 198px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-quote .sendbird-thread-list-item-content-menu {
  top: 18px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 200px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at .sendbird-thread-list-item-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__right {
  display: none;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-thread-list-item-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-thread-list-item-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-og-message-item-body,
.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  min-width: 200px;
  max-width: 200px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  height: 148px;
}

.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__placeholder,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__video {
  height: 148px;
}

.sendbird-voice-message-item-body.sendbird-thread-list-item-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-thread-message-input .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}

.sendbird-theme--light .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sb_mobile__panelwrap {
  height: 100vh;
}

.sb-show-main {
  padding: 0 !important;
}
.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box;
}
.sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  width: 320px;
  min-width: 320px;
  overflow-x: hidden;
  overflow-y: scroll;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-app__conversation-wrap {
  flex: 1;
  position: relative;
  width: calc(100% - 320px);
}
.sendbird-app__wrap .sendbird-app__channellist-wrap {
  max-width: 320px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-left: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-chat-header__search {
  margin-right: 16px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-channel-settings {
  border-left: none;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
}
.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-conversation {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-conversation {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2;
  width: 100%;
}
.sendbird-openchannel-conversation .sendbird-openchannel-footer {
  order: 3;
  padding: 12px 24px 24px 24px;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
  flex: 1 1 0;
}
.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-oepnchannel-header__icon_back {
  position: absolute;
  left: 12px;
  top: 18px;
}

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  max-width: calc(100% - 160px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  left: 50px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__sub-title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
  position: sticky;
  width: 100%;
  bottom: 0px;
  height: 100%;
  overflow: hidden;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
  height: 8px;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
  width: 100%;
  height: 100%;
  overflow: scroll;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 8px;
  left: calc(50% - 20px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
  display: block;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
  position: relative;
  display: flex;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
  position: relative;
  display: flex;
  width: 100%;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
  position: relative;
  word-break: break-all;
  white-space: pre-line;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel__mobile-menu-hyperlink {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}
.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
  word-wrap: break-word;
}
.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  display: block;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
  position: absolute;
  display: flex;
  top: 8px;
  left: 24px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
  position: relative;
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
  position: relative;
  display: inline;
  white-space: pre-wrap;
  word-break: break-all;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
  position: relative;
  display: inline;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: calc(100% - 64px);
  max-width: 360px;
  left: 64px;
  padding: 12px 12px 4px 12px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
  position: relative;
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
  position: relative;
  display: inline-block;
  white-space: pre-wrap;
  overflow-wrap: normal;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
  position: relative;
  display: block;
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-all;
  max-height: 32px;
  margin-bottom: 8px;
  width: 100%;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
  box-sizing: border-box;
  position: relative;
  display: block;
  margin-top: 4px;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
  cursor: pointer;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
  position: relative;
  left: 64px;
  top: 2px;
}

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all;
}
.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
  display: block;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
  position: absolute;
  display: inline;
  margin-top: 8px;
  margin-left: 28px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-top: 8px;
  margin-bottom: 8px;
  margin-left: 12px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
  position: relative;
  display: inline;
  margin-bottom: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
  position: relative;
  display: inline;
  margin-right: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
  position: relative;
  display: inline;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
  position: relative;
  display: flex;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  opacity: 1;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
  position: relative;
  box-sizing: content-box;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  max-width: 360px;
  top: 0px;
  left: 0px;
  border-radius: 8px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
  max-width: 360px;
  max-height: 360px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
  cursor: pointer;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
  max-width: 360px;
  max-height: 360px;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
  position: absolute;
  top: calc(50% - 28px);
  left: calc(50% - 28px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
  display: block;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
  position: absolute;
  display: block;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-left: 12px;
  margin-bottom: 4px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
  position: relative;
  display: flex;
  margin-top: 8px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  position: relative;
  display: flex;
  margin-top: 4px;
  margin-bottom: 4px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  position: relative;
  display: inline-block;
  margin: 8px;
  border-radius: 8.6px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
  position: relative;
  display: flex;
  margin-top: 22px;
  margin-right: 16px;
  margin-left: 4px;
  overflow: hidden;
  height: 20px;
  max-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative;
}
.sendbird--mobile-mode .sendbird-openchannel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-participants-accordion__footer {
  text-align: left;
  padding-top: 16px;
  padding-left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
  position: absolute;
  left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
  height: 100%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
  padding-top: 64px;
  height: calc(100% - 64px);
  overflow-y: scroll;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  display: block;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-settings .sendbird-participants-accordion,
.sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
  cursor: pointer;
  position: absolute;
  top: 20px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
  margin-top: 40%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  padding: 16px;
  box-sizing: border-box;
  position: relative;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
  cursor: pointer;
  position: absolute;
  display: none;
  top: 10px;
  right: 18px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  margin-top: 8px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
  text-align: left;
  display: block;
  word-wrap: break-word;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  display: block;
  cursor: pointer;
  box-sizing: border-box;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
  outline: none;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member {
  position: relative;
  padding: 12px 0px 12px 56px;
  width: 100%;
  height: 40px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
  max-width: 190px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.self-operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
  position: absolute;
  right: 16px;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
  position: absolute;
  left: 16px;
  top: 10px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
  position: absolute;
  display: none;
  top: 4px;
  right: 8px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-participants-accordion__member-avatar__avatar {
  position: absolute;
}

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll;
}
.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
  height: 116px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
  margin-bottom: 16px;
  text-align: center;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__title {
  display: inline-block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}`;ba(bfe);var yfe=function(n){var t=n.userId,e=n.appId,r=n.accessToken,a=n.chatInstance;return va(void 0,void 0,void 0,function(){var l;return ga(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),jr.exports.SendbirdLive.init({appId:e,chatInstance:a}),[4,jr.exports.SendbirdLive.authenticate(t,r)];case 1:return u.sent(),[3,3];case 2:return l=u.sent(),console.error(l),[3,3];case 3:return[2]}})})},Efe=function(){function n(){this._topics={},this._topics={}}return n.prototype.subscribe=function(t,e){var r=this;this._topics[t]||(this._topics[t]=[]);var a=this._topics[t].push(e)-1;return{remove:function(){delete r._topics[t][a]}}},n.prototype.publish=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this._topics[t]&&this._topics[t].forEach(function(a){a.apply(void 0,e)})},n}(),Il=M.createContext({});function wfe(n){var t=this,e,r,a,l,u=n.userId,h=n.appId,f=n.accessToken,m=n.customApiHost,g=n.customWebSocketHost,x=n.children,E=n.theme,w=n.colorSet,T=n.stringSet,A=n.imageSet,P=n.fontSet,C=Q.useState(!1),k=C[0],I=C[1],D=Q.useState(),U=D[0],O=D[1],N=go(),L=(r=(e=N==null?void 0:N.stores)===null||e===void 0?void 0:e.sdkStore)===null||r===void 0?void 0:r.sdk,K=(l=(a=N==null?void 0:N.stores)===null||a===void 0?void 0:a.sdkStore)===null||l===void 0?void 0:l.initialized;return Q.useEffect(function(){var z=function(){return va(t,void 0,void 0,function(){return ga(this,function(ae){switch(ae.label){case 0:return K?[4,yfe({userId:u,appId:h,accessToken:f,chatInstance:L})]:[2];case 1:return ae.sent(),O(new Efe),I(!0),[2]}})})};z()},[u,h,f,K]),M.createElement(Il.Provider,{value:{userId:u,appId:h,accessToken:f,customApiHost:m,customWebSocketHost:g,children:x,theme:E,colorSet:w,stringSet:T,imageSet:A,fontSet:P,pubSub:U}},k?x:M.createElement("div",null))}var hM=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(n){return"".concat(n,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(n){return"".concat(n," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(n){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(n){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(n){return"".concat(n)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now  Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function xfe(n){var t=n.userId,e=n.appId,r=n.nickname,a=n.accessToken;n.customApiHost,n.customWebSocketHost,n.children,n.theme;var l=n.colorSet,u=n.stringSet,h=Q.useMemo(function(){return u?yu(yu({},hM()),u):hM()},[u]);return M.createElement(gfe,{userId:t,appId:e,nickname:r,accessToken:a,colorSet:l},M.createElement(wfe,yu({},n,{stringSet:h})))}var pM,fM,_M;function A4(){return A4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},A4.apply(this,arguments)}var Sfe=function(t){return Q.createElement("svg",A4({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},t),pM||(pM=Q.createElement("defs",null,Q.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},Q.createElement("path",{d:"M112 0v64H0V0h112z"})),Q.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},Q.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),fM||(fM=Q.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),_M||(_M=Q.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},Q.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},Q.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),Q.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},Q.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},Tfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;ba(Tfe);function kfe(n){var t,e,r=n.liveEvent,a=n.onClick,l=n.showHostNickname,u=l===void 0?!0:l,h=n.showStatusLabel,f=h===void 0?!0:h,m=Q.useContext(Il).stringSet,g=function(x){switch(x){case"created":return m.EVENT_STATUS_CREATED;case"ready":return m.EVENT_STATUS_READY;case"ongoing":return m.EVENT_STATUS_ONGOING;case"ended":return m.EVENT_STATUS_ENDED}};return M.createElement("div",{className:"live-event-elem",onClick:function(){return a(r)}},M.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?M.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):M.createElement(Sfe,{viewBox:"0 0 112 64",width:112,height:64})),M.createElement("div",{className:"detail"},M.createElement("div",{className:"title__wrapper"},M.createElement("div",{className:"title"},r.title?r.title:m.CREATE_EVENT_DEFAULT_TITLE),M.createElement("div",{className:"participant-count__wrapper"},r.state===jr.exports.LiveEventState.ONGOING?M.createElement("div",{className:"participant-icon--red"}):M.createElement("div",{className:"participant-icon--grey"}),M.createElement("div",{className:"participant-count"},(t=r.participantCount)!==null&&t!==void 0?t:0))),u&&M.createElement("div",{className:"created-by"},r.host?(e=r.host.nickname)!==null&&e!==void 0?e:"HOST":m.LIST_HOST_NICKNAME_PLACEHOLDER),f&&M.createElement("div",{className:"event-state--".concat(r.state)},g(r.state))))}var mM;function O4(){return O4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},O4.apply(this,arguments)}var Cfe=function(t){return Q.createElement("svg",O4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),mM||(mM=Q.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function Nfe(n){var t=this,e=n.onClickCreate,r=n.onClickElem,a=n.queryParams,l=n.renderTitle,u=n.renderCreateButton,h=n.renderLiveEventElem,f=n.showStatusLabel,m=f===void 0?!0:f,g=n.showHostNickname,x=g===void 0?!0:g,E=Q.useContext(Il).stringSet,w=a||{limit:20},T=Q.useState(jr.exports.SendbirdLive.createLiveEventListQuery(w)),A=T[0],P=T[1],C=Q.useRef(null),k=Q.useState([]),I=k[0],D=k[1],U=function(){return va(t,void 0,void 0,function(){return ga(this,function(L){switch(L.label){case 0:return P(jr.exports.SendbirdLive.createLiveEventListQuery(w)),C.current&&(C.current.scrollTop=0),[4,O(!0)];case 1:return L.sent(),[2]}})})},O=function(L){return va(t,void 0,void 0,function(){var K;return ga(this,function(z){switch(z.label){case 0:if(!A.hasNext)return[2];z.label=1;case 1:return z.trys.push([1,3,,4]),[4,A.next()];case 2:return K=z.sent(),L?D(K):(P(A),D(hs(hs([],I,!0),K,!0))),[3,4];case 3:return z.sent(),[3,4];case 4:return[2]}})})},N=function(){if(C.current){var L=C.current,K=L.scrollTop,z=L.scrollHeight,ae=L.clientHeight;K+ae===z&&O(!1)}};return Q.useEffect(function(){U()},[a]),M.createElement("div",{className:"live-event-list-view"},M.createElement("div",{className:"header"},(l==null?void 0:l())||M.createElement("div",{className:"title"},E.LIST_HEADER_TITLE),M.createElement("div",{className:"refresh",onClick:U},M.createElement(Cfe,{viewBox:"0 0 64 64",width:22,height:22})),(u==null?void 0:u())||M.createElement("div",{className:"create-button",onClick:e},E.LIST_HEADER_BUTTON)),M.createElement("div",{className:"list",ref:C,onScroll:N},I.map(function(L){return(h==null?void 0:h({liveEvent:L,onClick:r}))||M.createElement(kfe,{key:L.liveEventId,liveEvent:L,showStatusLabel:m,showHostNickname:x,onClick:r})})))}var cn={exports:{}},Kw,vM;function Ife(){if(vM)return Kw;vM=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kw=n,Kw}var Ww,gM;function Afe(){if(gM)return Ww;gM=1;var n=Ife();function t(){}function e(){}return e.resetWarningCache=t,Ww=function(){function r(u,h,f,m,g,x){if(x!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Ww}cn.exports=Afe()();const Bi={USER_UPDATED:"USER_UPDATED",SEND_MESSAGE_START:"SEND_MESSAGE_START",SEND_USER_MESSAGE:"SEND_USER_MESSAGE",SEND_FILE_MESSAGE:"SEND_FILE_MESSAGE",UPDATE_USER_MESSAGE:"UPDATE_USER_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",LEAVE_CHANNEL:"LEAVE_CHANNEL",CREATE_CHANNEL:"CREATE_CHANNEL",UPDATE_OPEN_CHANNEL:"UPDATE_OPEN_CHANNEL"},db=()=>{},rp=M.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null,onUserProfileMessage:null}),CT=n=>{const{children:t}=n;return M.createElement(rp.Provider,{value:n},t)};CT.propTypes={children:cn.exports.oneOfType([cn.exports.element,cn.exports.arrayOf(cn.exports.element),cn.exports.any]).isRequired,isOpenChannel:cn.exports.bool,disableUserProfile:cn.exports.bool,renderUserProfile:cn.exports.func,onUserProfileMessage:cn.exports.func};CT.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null,onUserProfileMessage:null};const eo={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},cl={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function Ofe(n){switch(n){case eo.H_1:return"sendbird-label--h-1";case eo.H_2:return"sendbird-label--h-2";case eo.SUBTITLE_1:return"sendbird-label--subtitle-1";case eo.SUBTITLE_2:return"sendbird-label--subtitle-2";case eo.BODY_1:return"sendbird-label--body-1";case eo.BODY_2:return"sendbird-label--body-2";case eo.BUTTON_1:return"sendbird-label--button-1";case eo.BUTTON_2:return"sendbird-label--button-2";case eo.CAPTION_1:return"sendbird-label--caption-1";case eo.CAPTION_2:return"sendbird-label--caption-2";case eo.CAPTION_3:return"sendbird-label--caption-3";default:return""}}function sF(n){switch(n){case cl.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case cl.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case cl.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case cl.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case cl.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case cl.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case cl.PRIMARY:return"sendbird-label--color-primary";case cl.ERROR:return"sendbird-label--color-error";case cl.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return""}}function Vt(n){let{className:t,type:e,color:r,children:a}=n;return M.createElement("span",{className:[...Array.isArray(t)?t:[t],"sendbird-label",e?Ofe(e):"",r?sF(r):""].join(" ")},a)}Vt.propTypes={className:cn.exports.oneOfType([cn.exports.string,cn.exports.arrayOf(cn.exports.string)]),type:cn.exports.string,color:cn.exports.string,children:cn.exports.oneOfType([cn.exports.string,cn.exports.number,cn.exports.element,cn.exports.any])};Vt.defaultProps={className:[],type:"",color:"",children:null};const qt=eo,Lt=cl,no=n=>{let{className:t="",url:e,alt:r="",width:a=null,height:l=null,circle:u=!1,fixedSize:h=!1,placeHolder:f=null,defaultComponent:m=null,onLoad:g=()=>{},onError:x=()=>{}}=n;const[E,w]=Q.useState(!1),[T,A]=Q.useState(!0),P=Q.useMemo(()=>typeof m=="function"?m():m,[m]),C=Q.useMemo(()=>f&&typeof f=="function"?f({style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null,[f]),k=Q.useMemo(()=>(w(!1),M.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:e,alt:r,onLoad:()=>{A(!1),g()},onError:()=>{w(!0),x()}})),[e]);return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-image-renderer"].join(" "),style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l}},T&&C,E?P:M.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:`url(${e})`,borderRadius:u?"50%":null}}),k)},xn={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",AUDIO_ON_LINED:"AUDIO_ON_LINED",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},ji={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",PRIMARY_2:"PRIMARY_2",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",ON_BACKGROUND_4:"ON_BACKGROUND_4",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function Rfe(n){switch(n){case ji.PRIMARY:return"sendbird-icon-color--primary";case ji.PRIMARY_2:return"sendbird-icon-color--primary-2";case ji.SECONDARY:return"sendbird-icon-color--secondary";case ji.CONTENT:return"sendbird-icon-color--content";case ji.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case ji.WHITE:return"sendbird-icon-color--white";case ji.GRAY:return"sendbird-icon-color--gray";case ji.SENT:return"sendbird-icon-color--sent";case ji.READ:return"sendbird-icon-color--read";case ji.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case ji.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case ji.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case ji.ON_BACKGROUND_4:return"sendbird-icon-color--on-background-4";case ji.BACKGROUND_3:return"sendbird-icon-color--background-3";case ji.ERROR:return"sendbird-icon-color--error";default:return""}}function Mfe(n){switch(n){case xn.ADD:return"sendbird-icon-add";case xn.ARROW_LEFT:return"sendbird-icon-arrow-left";case xn.ATTACH:return"sendbird-icon-attach";case xn.AUDIO_ON_LINED:return"sendbird-icon-audio-on-lined";case xn.BAN:return"sendbird-icon-ban";case xn.BROADCAST:return"sendbird-icon-broadcast";case xn.CAMERA:return"sendbird-icon-camera";case xn.CHANNELS:return"sendbird-icon-channels";case xn.CHAT:return"sendbird-icon-chat";case xn.CHAT_FILLED:return"sendbird-icon-chat-filled";case xn.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case xn.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case xn.CLOSE:return"sendbird-icon-close";case xn.COLLAPSE:return"sendbird-icon-collapse";case xn.COPY:return"sendbird-icon-copy";case xn.CREATE:return"sendbird-icon-create";case xn.DELETE:return"sendbird-icon-delete";case xn.DISCONNECTED:return"sendbird-icon-disconnected";case xn.DOCUMENT:return"sendbird-icon-document";case xn.DONE:return"sendbird-icon-done";case xn.DONE_ALL:return"sendbird-icon-done-all";case xn.DOWNLOAD:return"sendbird-icon-down-load";case xn.EDIT:return"sendbird-icon-edit";case xn.EMOJI_MORE:return"sendbird-icon-emoji-more";case xn.ERROR:return"sendbird-icon-error";case xn.EXPAND:return"sendbird-icon-expand";case xn.FILE_AUDIO:return"sendbird-icon-file-audio";case xn.FILE_DOCUMENT:return"sendbird-icon-file-document";case xn.FREEZE:return"sendbird-icon-freeze";case xn.GIF:return"sendbird-icon-gif";case xn.INFO:return"sendbird-icon-info";case xn.LEAVE:return"sendbird-icon-leave";case xn.MEMBERS:return"sendbird-icon-members";case xn.MESSAGE:return"sendbird-icon-message";case xn.MODERATIONS:return"sendbird-icon-moderations";case xn.MORE:return"sendbird-icon-more";case xn.MUTE:return"sendbird-icon-mute";case xn.NOTIFICATIONS:return"sendbird-icon-notifications";case xn.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case xn.OPERATOR:return"sendbird-icon-operator";case xn.PHOTO:return"sendbird-icon-photo";case xn.PLAY:return"sendbird-icon-play";case xn.PLUS:return"sendbird-iconn-plus";case xn.QUESTION:return"sendbird-icon-question";case xn.REFRESH:return"sendbird-icon-refresh";case xn.REMOVE:return"sendbird-icon-remove";case xn.REPLY:return"sendbird-icon-reply";case xn.SEARCH:return"sendbird-icon-search";case xn.SEND:return"sendbird-icon-send";case xn.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case xn.SPINNER:return"sendbird-icon-spinner";case xn.SUPERGROUP:return"sendbird-icon-supergroup";case xn.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case xn.TOGGLE_OFF:return"sendbird-icon-toggle-off";case xn.TOGGLE_ON:return"sendbird-icon-toggle-on";case xn.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}var bM;function R4(){return R4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R4.apply(this,arguments)}function Dfe(n){return Q.createElement("svg",R4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),bM||(bM=Q.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var yM;function M4(){return M4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},M4.apply(this,arguments)}function Lfe(n){return Q.createElement("svg",M4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),yM||(yM=Q.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var EM;function D4(){return D4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D4.apply(this,arguments)}function Ufe(n){return Q.createElement("svg",D4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),EM||(EM=Q.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var wM,xM;function L4(){return L4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L4.apply(this,arguments)}function Pfe(n){return Q.createElement("svg",L4({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),wM||(wM=Q.createElement("g",{clipPath:"url(#icon-audio-on-lined_svg__clip0_1_7)"},Q.createElement("path",{className:"icon-audio-on-lined_svg__fill",clipRule:"evenodd",d:"M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0zm-5.333 10.667a5.333 5.333 0 0110.666 0V32a5.333 5.333 0 01-10.666 0V10.667z"}),Q.createElement("path",{className:"icon-audio-on-lined_svg__fill",d:"M16 26.667a2.667 2.667 0 10-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 000 5.333h21.334a2.667 2.667 0 100-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 10-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16v-5.333z"}))),xM||(xM=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icon-audio-on-lined_svg__clip0_1_7"},Q.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))}var SM;function U4(){return U4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U4.apply(this,arguments)}function Ffe(n){return Q.createElement("svg",U4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),SM||(SM=Q.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var TM;function P4(){return P4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},P4.apply(this,arguments)}function Hfe(n){return Q.createElement("svg",P4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),TM||(TM=Q.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var kM;function F4(){return F4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},F4.apply(this,arguments)}function Bfe(n){return Q.createElement("svg",F4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),kM||(kM=Q.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var CM;function H4(){return H4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},H4.apply(this,arguments)}function Vfe(n){return Q.createElement("svg",H4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),CM||(CM=Q.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var NM;function B4(){return B4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},B4.apply(this,arguments)}function zfe(n){return Q.createElement("svg",B4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),NM||(NM=Q.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var IM;function V4(){return V4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},V4.apply(this,arguments)}function $fe(n){return Q.createElement("svg",V4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),IM||(IM=Q.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var AM;function z4(){return z4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},z4.apply(this,arguments)}function qfe(n){return Q.createElement("svg",z4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),AM||(AM=Q.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var OM;function $4(){return $4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$4.apply(this,arguments)}function Gfe(n){return Q.createElement("svg",$4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),OM||(OM=Q.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var RM;function q4(){return q4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},q4.apply(this,arguments)}function jfe(n){return Q.createElement("svg",q4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),RM||(RM=Q.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var MM;function G4(){return G4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},G4.apply(this,arguments)}function Kfe(n){return Q.createElement("svg",G4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),MM||(MM=Q.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var DM;function j4(){return j4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},j4.apply(this,arguments)}function Wfe(n){return Q.createElement("svg",j4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),DM||(DM=Q.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var LM;function K4(){return K4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},K4.apply(this,arguments)}function Qfe(n){return Q.createElement("svg",K4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),LM||(LM=Q.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var UM;function W4(){return W4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},W4.apply(this,arguments)}function Yfe(n){return Q.createElement("svg",W4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),UM||(UM=Q.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var PM;function Q4(){return Q4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q4.apply(this,arguments)}function Xfe(n){return Q.createElement("svg",Q4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),PM||(PM=Q.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var FM;function Y4(){return Y4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y4.apply(this,arguments)}function Zfe(n){return Q.createElement("svg",Y4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),FM||(FM=Q.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var HM;function X4(){return X4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X4.apply(this,arguments)}function Jfe(n){return Q.createElement("svg",X4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),HM||(HM=Q.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var BM;function Z4(){return Z4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Z4.apply(this,arguments)}function e_e(n){return Q.createElement("svg",Z4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),BM||(BM=Q.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var VM;function J4(){return J4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},J4.apply(this,arguments)}function n_e(n){return Q.createElement("svg",J4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),VM||(VM=Q.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var zM;function e6(){return e6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e6.apply(this,arguments)}function t_e(n){return Q.createElement("svg",e6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},n),zM||(zM=Q.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var $M;function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n6.apply(this,arguments)}function r_e(n){return Q.createElement("svg",n6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),$M||($M=Q.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var qM;function t6(){return t6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t6.apply(this,arguments)}function i_e(n){return Q.createElement("svg",t6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),qM||(qM=Q.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var GM;function r6(){return r6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r6.apply(this,arguments)}function a_e(n){return Q.createElement("svg",r6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),GM||(GM=Q.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var jM;function i6(){return i6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i6.apply(this,arguments)}function s_e(n){return Q.createElement("svg",i6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),jM||(jM=Q.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var KM;function a6(){return a6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a6.apply(this,arguments)}function o_e(n){return Q.createElement("svg",a6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),KM||(KM=Q.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var WM;function s6(){return s6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s6.apply(this,arguments)}function l_e(n){return Q.createElement("svg",s6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),WM||(WM=Q.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var QM;function o6(){return o6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o6.apply(this,arguments)}function c_e(n){return Q.createElement("svg",o6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),QM||(QM=Q.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var YM;function l6(){return l6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l6.apply(this,arguments)}function u_e(n){return Q.createElement("svg",l6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),YM||(YM=Q.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var XM;function c6(){return c6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c6.apply(this,arguments)}function d_e(n){return Q.createElement("svg",c6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),XM||(XM=Q.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var ZM;function u6(){return u6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u6.apply(this,arguments)}function h_e(n){return Q.createElement("svg",u6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ZM||(ZM=Q.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var JM;function d6(){return d6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d6.apply(this,arguments)}function p_e(n){return Q.createElement("svg",d6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),JM||(JM=Q.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var e7;function h6(){return h6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h6.apply(this,arguments)}function f_e(n){return Q.createElement("svg",h6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),e7||(e7=Q.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var n7;function p6(){return p6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p6.apply(this,arguments)}function __e(n){return Q.createElement("svg",p6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),n7||(n7=Q.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var t7;function f6(){return f6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f6.apply(this,arguments)}function m_e(n){return Q.createElement("svg",f6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),t7||(t7=Q.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var r7;function _6(){return _6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_6.apply(this,arguments)}function v_e(n){return Q.createElement("svg",_6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),r7||(r7=Q.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var i7;function m6(){return m6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},m6.apply(this,arguments)}function g_e(n){return Q.createElement("svg",m6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),i7||(i7=Q.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var a7;function v6(){return v6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},v6.apply(this,arguments)}function b_e(n){return Q.createElement("svg",v6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),a7||(a7=Q.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var s7;function g6(){return g6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},g6.apply(this,arguments)}function y_e(n){return Q.createElement("svg",g6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),s7||(s7=Q.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var o7;function b6(){return b6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},b6.apply(this,arguments)}function E_e(n){return Q.createElement("svg",b6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),o7||(o7=Q.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var l7;function y6(){return y6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},y6.apply(this,arguments)}function w_e(n){return Q.createElement("svg",y6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),l7||(l7=Q.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var c7;function E6(){return E6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},E6.apply(this,arguments)}function x_e(n){return Q.createElement("svg",E6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),c7||(c7=Q.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var u7;function w6(){return w6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},w6.apply(this,arguments)}function S_e(n){return Q.createElement("svg",w6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),u7||(u7=Q.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var d7;function x6(){return x6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},x6.apply(this,arguments)}function T_e(n){return Q.createElement("svg",x6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),d7||(d7=Q.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var h7;function S6(){return S6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},S6.apply(this,arguments)}function k_e(n){return Q.createElement("svg",S6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},n),h7||(h7=Q.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var p7;function T6(){return T6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},T6.apply(this,arguments)}function C_e(n){return Q.createElement("svg",T6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),p7||(p7=Q.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var f7;function k6(){return k6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},k6.apply(this,arguments)}function N_e(n){return Q.createElement("svg",k6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),f7||(f7=Q.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var _7;function C6(){return C6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C6.apply(this,arguments)}function I_e(n){return Q.createElement("svg",C6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),_7||(_7=Q.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var m7;function N6(){return N6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},N6.apply(this,arguments)}function A_e(n){return Q.createElement("svg",N6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),m7||(m7=Q.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var v7;function I6(){return I6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},I6.apply(this,arguments)}function O_e(n){return Q.createElement("svg",I6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),v7||(v7=Q.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var g7;function A6(){return A6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},A6.apply(this,arguments)}function R_e(n){return Q.createElement("svg",A6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),g7||(g7=Q.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var b7;function O6(){return O6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},O6.apply(this,arguments)}function M_e(n){return Q.createElement("svg",O6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),b7||(b7=Q.createElement("g",{fill:"none",fillRule:"evenodd"},Q.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),Q.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),Q.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),Q.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var y7;function R6(){return R6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R6.apply(this,arguments)}function D_e(n){return Q.createElement("svg",R6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),y7||(y7=Q.createElement("g",{fill:"none",fillRule:"evenodd"},Q.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),Q.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),Q.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),Q.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var E7;function M6(){return M6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},M6.apply(this,arguments)}function L_e(n){return Q.createElement("svg",M6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),E7||(E7=Q.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}function U_e(n){switch(n){case xn.ADD:return M.createElement(Dfe,null);case xn.ARROW_LEFT:return M.createElement(Lfe,null);case xn.ATTACH:return M.createElement(Ufe,null);case xn.AUDIO_ON_LINED:return M.createElement(Pfe,null);case xn.BAN:return M.createElement(Ffe,null);case xn.BROADCAST:return M.createElement(Hfe,null);case xn.CAMERA:return M.createElement(Bfe,null);case xn.CHANNELS:return M.createElement(Vfe,null);case xn.CHAT:return M.createElement(zfe,null);case xn.CHAT_FILLED:return M.createElement($fe,null);case xn.CHEVRON_DOWN:return M.createElement(qfe,null);case xn.CHEVRON_RIGHT:return M.createElement(Gfe,null);case xn.CLOSE:return M.createElement(jfe,null);case xn.COLLAPSE:return M.createElement(Kfe,null);case xn.COPY:return M.createElement(Wfe,null);case xn.CREATE:return M.createElement(Qfe,null);case xn.DELETE:return M.createElement(Yfe,null);case xn.DISCONNECTED:return M.createElement(Xfe,null);case xn.DOCUMENT:return M.createElement(Zfe,null);case xn.DONE:return M.createElement(Jfe,null);case xn.DONE_ALL:return M.createElement(e_e,null);case xn.DOWNLOAD:return M.createElement(n_e,null);case xn.EDIT:return M.createElement(t_e,null);case xn.EMOJI_MORE:return M.createElement(r_e,null);case xn.ERROR:return M.createElement(i_e,null);case xn.EXPAND:return M.createElement(a_e,null);case xn.FILE_AUDIO:return M.createElement(s_e,null);case xn.FILE_DOCUMENT:return M.createElement(o_e,null);case xn.FREEZE:return M.createElement(l_e,null);case xn.GIF:return M.createElement(c_e,null);case xn.INFO:return M.createElement(u_e,null);case xn.LEAVE:return M.createElement(d_e,null);case xn.MEMBERS:return M.createElement(h_e,null);case xn.MESSAGE:return M.createElement(p_e,null);case xn.MODERATIONS:return M.createElement(f_e,null);case xn.MORE:return M.createElement(__e,null);case xn.MUTE:return M.createElement(m_e,null);case xn.NOTIFICATIONS:return M.createElement(v_e,null);case xn.NOTIFICATIONS_OFF_FILLED:return M.createElement(g_e,null);case xn.OPERATOR:return M.createElement(b_e,null);case xn.PHOTO:return M.createElement(y_e,null);case xn.PLAY:return M.createElement(E_e,null);case xn.PLUS:return M.createElement(w_e,null);case xn.QUESTION:return M.createElement(x_e,null);case xn.REFRESH:return M.createElement(S_e,null);case xn.REMOVE:return M.createElement(T_e,null);case xn.REPLY:return M.createElement(k_e,null);case xn.SEARCH:return M.createElement(C_e,null);case xn.SEND:return M.createElement(N_e,null);case xn.SETTINGS_FILLED:return M.createElement(I_e,null);case xn.SPINNER:return M.createElement(A_e,null);case xn.SUPERGROUP:return M.createElement(O_e,null);case xn.THUMBNAIL_NONE:return M.createElement(R_e,null);case xn.TOGGLE_OFF:return M.createElement(M_e,null);case xn.TOGGLE_ON:return M.createElement(D_e,null);case xn.USER:return M.createElement(L_e,null);default:return"icon"}}function Jt(n){let{className:t,type:e,fillColor:r,width:a,height:l,onClick:u,children:h}=n;const f={width:typeof a=="string"?a:`${a}px`,minWidth:typeof a=="string"?a:`${a}px`,height:typeof l=="string"?l:`${l}px`,minHeight:typeof l=="string"?l:`${l}px`};return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-icon",Mfe(e),Rfe(r)].join(" "),role:"button",onClick:u,onKeyDown:u,tabIndex:"0",style:f},h||U_e(e))}Jt.propTypes={className:cn.exports.oneOfType([cn.exports.string,cn.exports.arrayOf(cn.exports.string)]),type:cn.exports.oneOfType([cn.exports.oneOf(Object.keys(xn)),cn.exports.string]).isRequired,fillColor:cn.exports.oneOf(Object.keys(ji)),width:cn.exports.oneOfType([cn.exports.string,cn.exports.number]),height:cn.exports.oneOfType([cn.exports.string,cn.exports.number]),onClick:cn.exports.func,children:cn.exports.element};Jt.defaultProps={className:"",fillColor:ji.DEFAULT,width:26,height:26,onClick:()=>{},children:null};const jt=xn,tr=ji;var w7=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null};const Yl="sendbird-avatar-img",P_e=n=>{let{width:t,height:e}=n,r=w7(t),a=w7(e);return typeof r=="number"&&(r*=.575),typeof a=="number"&&(a*=.575),M.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:e}},M.createElement(Jt,{type:jt.USER,fillColor:tr.CONTENT,width:r,height:a}))},F_e=n=>{let{width:t,height:e}=n;return M.createElement(P_e,{width:t,height:e})},H_e=n=>{let{src:t="",alt:e="",height:r,width:a,customDefaultComponent:l}=n;const u=()=>l?l({width:a,height:r}):F_e({width:a,height:r});return typeof t=="string"?M.createElement(no,{className:Yl,url:t,height:r,width:a,alt:e,defaultComponent:u}):t&&t.length?t.length===1?M.createElement(no,{className:Yl,url:t[0],height:r,width:a,alt:e,defaultComponent:u}):t.length===2?M.createElement("div",{className:"sendbird-avatar--inner__two-child"},M.createElement(no,{className:Yl,url:t[0],height:r,width:a,alt:e,defaultComponent:u}),M.createElement(no,{className:Yl,url:t[1],height:r,width:a,alt:e,defaultComponent:u})):t.length===3?M.createElement(M.Fragment,null,M.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},M.createElement(no,{className:Yl,url:t[0],height:r,width:a,alt:e,defaultComponent:u})),M.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},M.createElement(no,{className:Yl,url:t[1],height:r,width:a,alt:e,defaultComponent:u}),M.createElement(no,{className:Yl,url:t[2],height:r,width:a,alt:e,defaultComponent:u}))):M.createElement("div",{className:"sendbird-avatar--inner__four-child"},t.slice(0,4).map(h=>M.createElement(no,{className:Yl,url:h,height:r,width:a,alt:e,key:im(),defaultComponent:u}))):M.createElement(no,{className:Yl,url:"",height:r,width:a,alt:e,defaultComponent:u})};function B_e(n,t){let{className:e="",src:r="",alt:a="",width:l="56px",height:u="56px",onClick:h,customDefaultComponent:f}=n;return M.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-avatar"].join(" "),role:"button",ref:t,style:{height:u,width:l},onClick:h,onKeyDown:h,tabIndex:0},M.createElement(H_e,{src:r,width:l,height:u,alt:a,customDefaultComponent:f}))}var fh=M.forwardRef(B_e);const mc=M.forwardRef((n,t)=>{const{className:e="",children:r,disabled:a=!1,width:l="56px",height:u="56px",type:h="button",style:f={},onBlur:m=()=>{},onClick:g=()=>{}}=n,[x,E]=Q.useState(!1);return M.createElement("button",{className:[...Array.isArray(e)?e:[e],"sendbird-iconbutton",x?"sendbird-iconbutton--pressed":""].join(" "),disabled:a,ref:t,type:h,style:gn(gn({},f),{},{height:u,width:l}),onClick:w=>{a||(E(!0),g==null||g(w))},onBlur:w=>{E(!1),m==null||m(w)}},M.createElement("span",{className:"sendbird-iconbutton__inner"},r))}),Pu=n=>{const{stores:t={}}=n,{sdkStore:e={}}=t,{sdk:r}=e;return r},Fu=n=>{const{config:t={}}=n,{pubSub:e}=t;return e},V_e=n=>(t,e)=>new Promise((r,a)=>{const l=Pu(n);l||a(new Error("Sdk not found")),l!=null&&l.connect&&typeof l.connect=="function"||a(new Error('Not found the function "connect')),e?l.connect(t,e).then(u=>r(u)).catch(u=>a(u)):l.connect(t).then(u=>r(u)).catch(u=>a(u))}),z_e=n=>()=>new Promise((t,e)=>{const r=Pu(n);r||e(new Error("Sdk not found")),r.disconnect&&typeof r.disconnect=="function"||e(new Error('Not found the function "disconnect')),r.disconnect().then(a=>t(a)).catch(a=>e(a))}),$_e=n=>(t,e)=>new Promise((r,a)=>{const l=Pu(n);l||a(new Error("Sdk not found")),l.updateCurrentUserInfo&&typeof l.updateCurrentUserInfo=="function"||a(new Error('Not found the function "updateCurrentUserInfo"'));const u={nickname:t};e&&(u.profileUrl=e),l.updateCurrentUserInfo(u).then(h=>r(h)).catch(h=>a(h))}),oF=n=>t=>new Promise((e,r)=>{const a=Pu(n),l=Fu(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.createChannel&&typeof a.groupChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.groupChannel.createChannel(t).then(u=>{e(u),l.publish(Bi.CREATE_CHANNEL,{channel:u})}).catch(r)}),q_e=n=>t=>new Promise((e,r)=>{const a=Pu(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.createChannel&&typeof a.openChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.openChannel.createChannel(t).then(l=>{e(l)}).catch(r)}),lF=n=>t=>new Promise((e,r)=>{const a=Pu(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.getChannel&&typeof a.groupChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.groupChannel.getChannel(t).then(l=>{e(l)}).catch(r)}),NT=n=>t=>new Promise((e,r)=>{const a=Pu(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.getChannel&&typeof a.openChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.openChannel.getChannel(t).then(l=>{e(l)}).catch(r)}),G_e=n=>t=>new Promise((e,r)=>{var a;(a=lF(n))===null||a===void 0||a(t).then(l=>{l.leave().then(()=>{e()}).catch(r)}).catch(r)}),j_e=n=>t=>new Promise((e,r)=>{var a;(a=NT(n))===null||a===void 0||a(t).then(l=>{l.enter().then(()=>{e(l)}).catch(r)}).catch(r)}),K_e=n=>t=>new Promise((e,r)=>{var a;(a=NT(n))===null||a===void 0||a(t).then(l=>{l.exit().then(()=>{e(l)}).catch(r)}).catch(r)}),W_e=()=>n=>new Promise((t,e)=>{n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||e(new Error('Not found the function "freeze"')),n.freeze().then(()=>{t()}).catch(e)}),Q_e=()=>n=>new Promise((t,e)=>{n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||e(new Error('Not found the function "unfreeze"')),n.unfreeze().then(()=>{t()}).catch(e)});class cF{constructor(){lu(this,"_onPending",db),lu(this,"_onFailed",db),lu(this,"_onSucceeded",db)}triggerPending(t){this._onPending(t)}triggerFailed(t,e){this._onFailed(t,e.isResendable?e:null)}triggerSucceeded(t){this._onSucceeded(t)}onPending(t){return typeof t=="function"&&(this._onPending=t),this}onFailed(t){return typeof t=="function"&&(this._onFailed=t),this}onSucceeded(t){return typeof t=="function"&&(this._onSucceeded=t),this}}const Y_e=n=>(t,e)=>{const r=new cF,a=Fu(n);return t.sendUserMessage(e).onFailed((l,u)=>r.triggerFailed(l,u)).onPending(l=>{a.publish(Bi.SEND_MESSAGE_START,{message:l,channel:t}),r.triggerPending(l)}).onSucceeded(l=>{a.publish(Bi.SEND_USER_MESSAGE,{message:l,channel:t}),r.triggerSucceeded(l)}),r},X_e=n=>(t,e)=>{const r=new cF,a=Fu(n);return t.sendFileMessage(e).onFailed((l,u)=>r.triggerFailed(l,u)).onPending(l=>{a.publish(Bi.SEND_MESSAGE_START,{message:l,channel:t}),r.triggerPending(l)}).onSucceeded(l=>{a.publish(Bi.SEND_FILE_MESSAGE,{message:l,channel:t}),r.triggerSucceeded(l)}),r},Z_e=n=>(t,e,r)=>new Promise((a,l)=>{const u=Fu(n);t.updateUserMessage(e,r).then(h=>{u.publish(Bi.UPDATE_USER_MESSAGE,{message:h,channel:t,fromSelector:!0}),a(h)}).catch(l)}),J_e=n=>(t,e)=>new Promise((r,a)=>{const l=Fu(n),{messageId:u}=e;t.deleteMessage(e).then(()=>{l.publish(Bi.DELETE_MESSAGE,{messageId:u,channel:t}),r(e)}).catch(a)}),eme=n=>(t,e)=>new Promise((r,a)=>{const l=Fu(n);t.resendUserMessage(e).then(u=>{l.publish(Bi.SEND_USER_MESSAGE,{message:u,channel:t}),r(u)}).catch(a)}),nme=n=>(t,e,r)=>new Promise((a,l)=>{const u=Fu(n);t.resendFileMessage(e,r).then(h=>{u.publish(Bi.SEND_FILE_MESSAGE,{message:h,channel:t}),a(h)}).catch(l)}),IT={getSdk:Pu,getPubSub:Fu,getConnect:V_e,getDisconnect:z_e,getUpdateUserInfo:$_e,getCreateGroupChannel:oF,getCreateOpenChannel:q_e,getGetGroupChannel:lF,getGetOpenChannel:NT,getLeaveGroupChannel:G_e,getEnterOpenChannel:j_e,getExitOpenChannel:K_e,getFreezeChannel:W_e,getUnfreezeChannel:Q_e,getSendUserMessage:Y_e,getSendFileMessage:X_e,getUpdateUserMessage:Z_e,getDeleteMessage:J_e,getResendUserMessage:eme,getResendFileMessage:nme},uF="sendbird-modal-root";let qf=function(n){return n.PRIMARY="PRIMARY",n.SECONDARY="SECONDARY",n.DANGER="DANGER",n.DISABLED="DISABLED",n}({}),D6=function(n){return n.BIG="BIG",n.SMALL="SMALL",n}({});function tme(n){switch(n){case qf.PRIMARY:return"sendbird-button--primary";case qf.SECONDARY:return"sendbird-button--secondary";case qf.DANGER:return"sendbird-button--danger";case qf.DISABLED:return"sendbird-button--disabled";default:return null}}function rme(n){switch(n){case D6.BIG:return"sendbird-button--big";case D6.SMALL:return"sendbird-button--small";default:return null}}const nh=qf,L6=D6;function W_(n){let{className:t,type:e=nh.PRIMARY,size:r=L6.BIG,children:a="Button",disabled:l=!1,onClick:u=()=>{}}=n;const h=[...Array.isArray(t)?t:[t],"sendbird-button",l?"sendbird-button__disabled":"",tme(e),rme(r)].join(" ");return M.createElement("button",{className:h,type:"button",onClick:u,disabled:l},M.createElement(Vt,{className:"sendbird-button__text",type:qt.BUTTON_1,color:Lt.ONCONTENT_1},a))}const ime=n=>{let{titleText:t}=n;return M.createElement("div",{className:"sendbird-modal__header"},M.createElement(Vt,{type:qt.H_1,color:Lt.ONBACKGROUND_1},t))},ame=n=>{let{children:t}=n;return M.createElement("div",{className:"sendbird-modal__body"},M.createElement(Vt,{type:qt.SUBTITLE_1,color:Lt.ONBACKGROUND_2},t))},sme=n=>{let{submitText:t,disabled:e=!1,type:r=nh.DANGER,onSubmit:a,onCancel:l}=n;const{stringSet:u}=Q.useContext(jo);return M.createElement("div",{className:"sendbird-modal__footer"},M.createElement(W_,{type:nh.SECONDARY,onClick:l},M.createElement(Vt,{type:qt.BUTTON_1,color:Lt.ONBACKGROUND_1},u.BUTTON__CANCEL)),M.createElement(W_,{type:r,disabled:e,onClick:a},t))};function ome(n){const{children:t=null,className:e="",isCloseOnClickOutside:r=!1,isFullScreenOnMobile:a=!1,titleText:l,submitText:u,disabled:h=!1,hideFooter:f=!1,type:m=nh.DANGER,onCancel:g=()=>{},onSubmit:x=()=>{},renderHeader:E}=n,{isMobile:w}=ph();return rm.createPortal(M.createElement("div",{className:`
      sendbird-modal ${e}
      ${a&&w?"sendbird-modal--full-mobile":""}
    `},M.createElement("div",{className:"sendbird-modal__content"},(E==null?void 0:E())||M.createElement(ime,{titleText:l}),M.createElement(ame,null,t),!f&&M.createElement(sme,{disabled:h,onCancel:g,onSubmit:x,submitText:u,type:m}),M.createElement("div",{className:"sendbird-modal__close"},M.createElement(mc,{width:"32px",height:"32px",onClick:g},M.createElement(Jt,{type:jt.CLOSE,fillColor:tr.DEFAULT,width:"24px",height:"24px"})))),M.createElement("div",{className:`
          sendbird-modal__backdrop
          ${r&&"sendbird-modal__backdrop--clickoutside"}
        `,onClick:T=>{T==null||T.stopPropagation(),r&&g()}})),document.getElementById(uF))}function am(n){var t,e;let{user:r,currentUserId:a,disableMessaging:l=!1,onSuccess:u}=n;const h=go(),f=oF(h),m=h==null||(t=h.config)===null||t===void 0?void 0:t.logger,{stringSet:g}=Q.useContext(jo),x=a||(h==null||(e=h.config)===null||e===void 0?void 0:e.userId),{onUserProfileMessage:E}=Q.useContext(rp);return M.createElement("div",{className:"sendbird__user-profile"},M.createElement("section",{className:"sendbird__user-profile-avatar"},M.createElement(fh,{height:"80px",width:"80px",src:r==null?void 0:r.profileUrl})),M.createElement("section",{className:"sendbird__user-profile-name"},M.createElement(Vt,{type:qt.H_2,color:Lt.ONBACKGROUND_1},(r==null?void 0:r.nickname)||g.NO_NAME)),(r==null?void 0:r.userId)!==x&&!l&&M.createElement("section",{className:"sendbird__user-profile-message"},M.createElement(W_,{type:nh.SECONDARY,onClick:()=>{const w={isDistinct:!1,invitedUserIds:[r==null?void 0:r.userId],operatorUserIds:[x]};u(),f(w).then(T=>{m.info("UserProfile, channel create",T),typeof E=="function"&&(E==null||E(T))})}},g.USER_PROFILE__MESSAGE)),M.createElement("div",{className:"sendbird__user-profile-separator"}),M.createElement("section",{className:"sendbird__user-profile-userId"},M.createElement(Vt,{className:"sendbird__user-profile-userId--label",type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},g.USER_PROFILE__USER_ID),M.createElement(Vt,{className:"sendbird__user-profile-userId--value",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},r==null?void 0:r.userId)))}const lme=60;class cme extends M.Component{constructor(t){super(t),lu(this,"menuRef",M.createRef()),lu(this,"setupEvents",()=>{const{closeDropdown:e}=this.props,{menuRef:r}=this,a=l=>{var u,h;r!=null&&r.current&&!(r!=null&&(u=r.current)!==null&&u!==void 0&&(h=u.contains)!==null&&h!==void 0&&h.call(u,l.target))&&(e==null||e())};this.setState({handleClickOutside:a}),document.addEventListener("mousedown",a)}),lu(this,"cleanUpEvents",()=>{const{handleClickOutside:e}=this.state;document.removeEventListener("mousedown",e)}),lu(this,"getMenuPosition",()=>{var e,r;const{parentRef:a,openLeft:l}=this.props,u=a==null||(e=a.current)===null||e===void 0||(r=e.getBoundingClientRect)===null||r===void 0?void 0:r.call(e),h=(u==null?void 0:u.x)||(u==null?void 0:u.left)||0,f=(u==null?void 0:u.y)||(u==null?void 0:u.top)||0,m={top:f,left:h};if(!this.menuRef.current)return m;const{innerWidth:g,innerHeight:x}=window,E=this.menuRef.current.getBoundingClientRect();if(f+E.height+lme>x&&(m.top-=E.height),h+E.width>g&&!l&&(m.left-=E.width),m.top<0&&(m.top=E.height<x?(x-E.height)/2:0),m.top+=32,l){const w=Number.isNaN(E.width-30)?108:E.width-30;m.left-=w}return m.left<0&&(m.left=E.width<g?(g-E.width)/2:0),this.setState({menuStyle:m}),m}),this.state={menuStyle:{},handleClickOutside:()=>{}}}componentDidMount(){this.setupEvents(),this.getMenuPosition()}componentWillUnmount(){this.cleanUpEvents()}render(){var t;const{menuStyle:e}=this.state,{children:r,style:a,className:l=""}=this.props;return rm.createPortal(M.createElement("div",{className:(t=this.props)===null||t===void 0?void 0:t.className},M.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),M.createElement("ul",{className:`${l} sendbird-dropdown__menu`,ref:this.menuRef,style:gn({display:"inline-block",position:"fixed",left:`${Math.round(e.left)}px`,top:`${Math.round(e.top)}px`},a)},r)),document.getElementById("sendbird-dropdown-portal"))}}const ume=13,Cl=cme,fa=n=>{let{className:t="",children:e,onClick:r,disable:a=!1}=n;const l=u=>{!a&&r&&(r==null||r(u))};return M.createElement("li",{className:C4([t,"sendbird-dropdown__menu-item",a?"disable":""]),role:"menuitem","aria-disabled":!!a,onClick:l,onKeyPress:u=>{u.keyCode===ume&&l(u)},tabIndex:0},M.createElement(Vt,{className:"sendbird-dropdown__menu-item__text",type:qt.SUBTITLE_2,color:a?Lt.ONBACKGROUND_4:Lt.ONBACKGROUND_1},e))};function Nl(n){let{menuTrigger:t,menuItems:e,isOpen:r}=n;const[a,l]=Q.useState(!1);return M.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},t==null?void 0:t(()=>l(!a)),(a||r)&&e(()=>l(!1)))}function n1(n){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(n)}function Ea(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Ko(n){Ea(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||n1(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function dme(n){return Ea(1,arguments),n instanceof Date||n1(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hme(n){if(Ea(1,arguments),!dme(n)&&typeof n!="number")return!1;var t=Ko(n);return!isNaN(Number(t))}function th(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function pme(n,t){Ea(2,arguments);var e=Ko(n).getTime(),r=th(t);return new Date(e+r)}function fme(n,t){Ea(2,arguments);var e=th(t);return pme(n,-e)}var _me=864e5;function mme(n){Ea(1,arguments);var t=Ko(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/_me)+1}function t1(n){Ea(1,arguments);var t=1,e=Ko(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function dF(n){Ea(1,arguments);var t=Ko(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=t1(r),l=new Date(0);l.setUTCFullYear(e,0,4),l.setUTCHours(0,0,0,0);var u=t1(l);return t.getTime()>=a.getTime()?e+1:t.getTime()>=u.getTime()?e:e-1}function vme(n){Ea(1,arguments);var t=dF(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=t1(e);return r}var gme=6048e5;function bme(n){Ea(1,arguments);var t=Ko(n),e=t1(t).getTime()-vme(t).getTime();return Math.round(e/gme)+1}var yme={};function H1(){return yme}function r1(n,t){var e,r,a,l,u,h,f,m;Ea(1,arguments);var g=H1(),x=th((e=(r=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:g.weekStartsOn)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Ko(n),w=E.getUTCDay(),T=(w<x?7:0)+w-x;return E.setUTCDate(E.getUTCDate()-T),E.setUTCHours(0,0,0,0),E}function hF(n,t){var e,r,a,l,u,h,f,m;Ea(1,arguments);var g=Ko(n),x=g.getUTCFullYear(),E=H1(),w=th((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:E.firstWeekContainsDate)!==null&&r!==void 0?r:(f=E.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(x+1,0,w),T.setUTCHours(0,0,0,0);var A=r1(T,t),P=new Date(0);P.setUTCFullYear(x,0,w),P.setUTCHours(0,0,0,0);var C=r1(P,t);return g.getTime()>=A.getTime()?x+1:g.getTime()>=C.getTime()?x:x-1}function Eme(n,t){var e,r,a,l,u,h,f,m;Ea(1,arguments);var g=H1(),x=th((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),E=hF(n,t),w=new Date(0);w.setUTCFullYear(E,0,x),w.setUTCHours(0,0,0,0);var T=r1(w,t);return T}var wme=6048e5;function xme(n,t){Ea(1,arguments);var e=Ko(n),r=r1(e,t).getTime()-Eme(e,t).getTime();return Math.round(r/wme)+1}function Ir(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Zc={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Ir(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Ir(r+1,2)},d:function(t,e){return Ir(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Ir(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Ir(t.getUTCHours(),e.length)},m:function(t,e){return Ir(t.getUTCMinutes(),e.length)},s:function(t,e){return Ir(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,r-3));return Ir(l,e.length)}},a0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sme={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return r.ordinalNumber(l,{unit:"year"})}return Zc.y(t,e)},Y:function(t,e,r,a){var l=hF(t,a),u=l>0?l:1-l;if(e==="YY"){var h=u%100;return Ir(h,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Ir(u,e.length)},R:function(t,e){var r=dF(t);return Ir(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Ir(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ir(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ir(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return Zc.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Ir(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var l=xme(t,a);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Ir(l,e.length)},I:function(t,e,r){var a=bme(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ir(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Zc.d(t,e)},D:function(t,e,r){var a=mme(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ir(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var l=t.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ir(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var l=t.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ir(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),l=a===0?7:a;switch(e){case"i":return String(l);case"ii":return Ir(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),l;switch(a===12?l=a0.noon:a===0?l=a0.midnight:l=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),l;switch(a>=17?l=a0.evening:a>=12?l=a0.afternoon:a>=4?l=a0.morning:l=a0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Zc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Zc.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ir(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ir(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Zc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Zc.s(t,e)},S:function(t,e){return Zc.S(t,e)},X:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();if(u===0)return"Z";switch(e){case"X":return S7(u);case"XXXX":case"XX":return Td(u);case"XXXXX":case"XXX":default:return Td(u,":")}},x:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"x":return S7(u);case"xxxx":case"xx":return Td(u);case"xxxxx":case"xxx":default:return Td(u,":")}},O:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+x7(u,":");case"OOOO":default:return"GMT"+Td(u,":")}},z:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+x7(u,":");case"zzzz":default:return"GMT"+Td(u,":")}},t:function(t,e,r,a){var l=a._originalDate||t,u=Math.floor(l.getTime()/1e3);return Ir(u,e.length)},T:function(t,e,r,a){var l=a._originalDate||t,u=l.getTime();return Ir(u,e.length)}};function x7(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=r%60;if(l===0)return e+String(a);var u=t||"";return e+String(a)+u+Ir(l,2)}function S7(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Ir(Math.abs(n)/60,2)}return Td(n,t)}function Td(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),l=Ir(Math.floor(a/60),2),u=Ir(a%60,2);return r+l+e+u}var Tme=Sme,T7=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pF=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kme=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],l=r[2];if(!l)return T7(t,e);var u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",T7(a,e)).replace("{{time}}",pF(l,e))},Cme={p:pF,P:kme},Nme=Cme;function Ime(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var Ame=["D","DD"],Ome=["YY","YYYY"];function Rme(n){return Ame.indexOf(n)!==-1}function Mme(n){return Ome.indexOf(n)!==-1}function k7(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Dme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ume=/^'([^]*?)'?$/,Pme=/''/g,Fme=/[a-zA-Z]/;function ip(n,t,e){var r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D;Ea(2,arguments);var U=String(t),O=H1(),N=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:O.locale)!==null&&r!==void 0?r:eF,L=th((l=(u=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&h!==void 0?h:O.firstWeekContainsDate)!==null&&u!==void 0?u:(x=O.locale)===null||x===void 0||(E=x.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=th((w=(T=(A=(P=e==null?void 0:e.weekStartsOn)!==null&&P!==void 0?P:e==null||(C=e.locale)===null||C===void 0||(k=C.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:O.weekStartsOn)!==null&&T!==void 0?T:(I=O.locale)===null||I===void 0||(D=I.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&w!==void 0?w:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var z=Ko(n);if(!hme(z))throw new RangeError("Invalid time value");var ae=Ime(z),fe=fme(z,ae),B={firstWeekContainsDate:L,weekStartsOn:K,locale:N,_originalDate:z},J=U.match(Lme).map(function(ce){var W=ce[0];if(W==="p"||W==="P"){var _e=Nme[W];return _e(ce,N.formatLong)}return ce}).join("").match(Dme).map(function(ce){if(ce==="''")return"'";var W=ce[0];if(W==="'")return Hme(ce);var _e=Tme[W];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Mme(ce)&&k7(ce,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Rme(ce)&&k7(ce,t,String(n)),_e(fe,ce,N.localize,B);if(W.match(Fme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return ce}).join("");return J}function Hme(n){var t=n.match(Ume);return t?t[1].replace(Pme,"'"):n}function sm(n){let{className:t="",width:e="26px",height:r="26px",children:a}=n;return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-loader"].join(" "),style:{width:typeof e=="string"?e:`${e}px`,height:typeof r=="string"?r:`${r}px`}},a||M.createElement(Jt,{type:jt.SPINNER,width:"26px",height:"26px"}))}function C7(n){Ea(1,arguments);var t=Ko(n);return t.setHours(0,0,0,0),t}function Bme(n,t){Ea(2,arguments);var e=C7(n),r=C7(t);return e.getTime()===r.getTime()}const Vme="sendbird-mention-user-label";let tc=function(n){return n.ONBACKGROUND_1="ONBACKGROUND_1",n.ONBACKGROUND_2="ONBACKGROUND_2",n.ONBACKGROUND_3="ONBACKGROUND_3",n.ONBACKGROUND_4="ONBACKGROUND_4",n.ONCONTENT_1="ONCONTENT_1",n.ONCONTENT_2="ONCONTENT_2",n.PRIMARY="PRIMARY",n.ERROR="ERROR",n}({});const U6=n=>{switch(n){case tc.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case tc.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case tc.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case tc.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case tc.ONCONTENT_1:return"sendbird-color--oncontent-1";case tc.PRIMARY:return"sendbird-color--primary";case tc.ERROR:return"sendbird-color--error";default:return null}},zme=n=>{let{className:t="",color:e=tc.ONBACKGROUND_1,disabled:r=!1,disableUnderline:a=!1,onClick:l=()=>{},children:u}=n;return M.createElement("div",{className:[...Array.isArray(t)?t:[t],U6(e),a?"sendbird-textbutton--not-underline":"sendbird-textbutton",r?"sendbird-textbutton--disabled":""].join(" "),role:"button",tabIndex:0,onClick:h=>l(h),onKeyPress:h=>l(h)},u)},N7=n=>n==null;function Xl(n,t){if(N7(n)||N7(t))return!1;const e=n.toString(),r=t.toString();return e===r}const Tf="@";W9();W9();const $me=300;function I7(n){qme(n)&&n.touches.length<2&&n.preventDefault&&n.preventDefault()}function qme(n){return n&&"touches"in n}function B1(n){let{onLongPress:t,onClick:e}=n,{delay:r=$me,shouldPreventDefault:a=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{isMobile:l}=ph(),[u,h]=Q.useState(!1),[f,m]=Q.useState(!1),g=Q.useRef(),x=Q.useRef(),E=Q.useCallback(T=>{T.persist();const A=gn({},T);m(!1),a&&T.target&&(T.target.addEventListener("touchend",I7,{passive:!1}),x.current=T.target),g.current=setTimeout(()=>{t(A),h(!0)},r)},[t,r,a,l]),w=Q.useCallback(function(T){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;m(!!P),g!=null&&g.current&&clearTimeout(g.current),A&&!u&&!f&&(e==null||e(T)),h(!1),a&&x.current&&x.current.removeEventListener("touchend",I7)},[a,e,u,f]);return{onMouseDown:T=>E(T),onMouseUp:T=>w(T),onMouseLeave:T=>w(T,!1),onTouchStart:T=>E(T),onTouchMove:T=>w(T,!1,!0),onTouchEnd:T=>w(T)}}cn.exports.bool,cn.exports.func.isRequired,cn.exports.shape({});function Gme(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var jme=Gme();const Ii=jme;function hb(n){let{className:t="",type:e,iconSize:r,searchInString:a="",retryToConnect:l=null}=n;const{stringSet:u}=Q.useContext(jo);return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-place-holder"].join(" ")},e===Ii.LOADING&&M.createElement(sm,{width:r||"48px",height:r||"48px"},M.createElement(Jt,{type:jt.SPINNER,fillColor:tr.PRIMARY,width:r||"48px",height:r||"48px"})),(e===Ii.NO_CHANNELS||e===Ii.NO_MESSAGES||e===Ii.WRONG)&&M.createElement("div",{className:"sendbird-place-holder__body"},e===Ii.NO_CHANNELS&&M.createElement(Jt,{className:"sendbird-place-holder__body__icon",type:jt.CHAT,fillColor:tr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Ii.WRONG&&M.createElement(Jt,{className:"sendbird-place-holder__body__icon",type:jt.ERROR,fillColor:tr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Ii.NO_MESSAGES&&M.createElement(Jt,{className:"sendbird-place-holder__body__icon",type:jt.MESSAGE,fillColor:tr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),M.createElement(Vt,{className:"sendbird-place-holder__body__text",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},e===Ii.NO_CHANNELS&&u.PLACE_HOLDER__NO_CHANNEL,e===Ii.WRONG&&u.PLACE_HOLDER__WRONG,e===Ii.NO_MESSAGES&&u.PLACE_HOLDER__NO_MESSAGES),l&&M.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:l,onKeyPress:l,tabIndex:0},M.createElement(Jt,{className:"sendbird-place-holder__body__reconnect__icon",type:jt.REFRESH,fillColor:tr.PRIMARY,width:"20px",height:"20px"}),M.createElement(Vt,{className:"sendbird-place-holder__body__reconnect__text",type:qt.BUTTON_1,color:Lt.PRIMARY},u.PLACE_HOLDER__RETRY_TO_CONNECT))),(e===Ii.NO_RESULTS||e===Ii.SEARCH_IN||e===Ii.SEARCHING)&&M.createElement("div",{className:"sendbird-place-holder__body--align-top"},e===Ii.SEARCH_IN&&M.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},M.createElement(Vt,{className:"sendbird-place-holder__body--align-top__text__search-in",type:qt.BUTTON_2,color:Lt.ONBACKGROUND_2},u.SEARCH_IN),M.createElement(Vt,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:qt.BUTTON_2,color:Lt.PRIMARY},`'${a}`),M.createElement(Vt,{className:"sendbird-place-holder__body--align-top__text__quote",type:qt.BUTTON_2,color:Lt.PRIMARY},"'")),e===Ii.SEARCHING&&M.createElement(Vt,{className:"sendbird-place-hlder__body--align-top__searching",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},u.SEARCHING),e===Ii.NO_RESULTS&&M.createElement(Vt,{className:"sendbird-place-hlder__body--align-top__no-result",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},u.NO_SEARCHED_MESSAGE)))}const A7={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Ed={ElementNode:1,TextNode:3},kf={Span:"SPAN",Br:"BR",Div:"DIV"};let Kme=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),Wme=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),Qme=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({});Kme.NIL,Wme.NIL,Qme.NIL;const Yme=n=>{let{children:t=null,className:e="",separatorColor:r=tc.ONBACKGROUND_4}=n;return M.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-separator"].join(" ")},M.createElement("div",{className:["sendbird-separator__left",`${U6(r)}--background-color`].join(" ")}),M.createElement("div",{className:"sendbird-separator__text"},t||M.createElement(Vt,{type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},"Date Separator")),M.createElement("div",{className:["sendbird-separator__right",`${U6(r)}--background-color`].join(" ")}))};/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */const{entries:fF,setPrototypeOf:O7,isFrozen:Xme,getPrototypeOf:Zme,getOwnPropertyDescriptor:Jme}=Object;let{freeze:Xa,seal:qo,create:eve}=Object,{apply:P6,construct:F6}=typeof Reflect<"u"&&Reflect;P6||(P6=function(t,e,r){return t.apply(e,r)});Xa||(Xa=function(t){return t});qo||(qo=function(t){return t});F6||(F6=function(t,e){return new t(...e)});const nve=vo(Array.prototype.forEach),R7=vo(Array.prototype.pop),Cf=vo(Array.prototype.push),pb=vo(String.prototype.toLowerCase),Qw=vo(String.prototype.toString),tve=vo(String.prototype.match),Ro=vo(String.prototype.replace),rve=vo(String.prototype.indexOf),ive=vo(String.prototype.trim),Cs=vo(RegExp.prototype.test),Nf=ave(TypeError);function vo(n){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return P6(n,t,r)}}function ave(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return F6(n,e)}}function Wt(n,t,e){var r;e=(r=e)!==null&&r!==void 0?r:pb,O7&&O7(n,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){const u=e(l);u!==l&&(Xme(t)||(t[a]=u),l=u)}n[l]=!0}return n}function s0(n){const t=eve(null);for(const[e,r]of fF(n))t[e]=r;return t}function Lg(n,t){for(;n!==null;){const r=Jme(n,t);if(r){if(r.get)return vo(r.get);if(typeof r.value=="function")return vo(r.value)}n=Zme(n)}function e(r){return console.warn("fallback value for",r),null}return e}const M7=Xa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yw=Xa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xw=Xa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sve=Xa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zw=Xa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ove=Xa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D7=Xa(["#text"]),L7=Xa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Jw=Xa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U7=Xa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ug=Xa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lve=qo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cve=qo(/<%[\w\W]*|[\w\W]*%>/gm),uve=qo(/\${[\w\W]*}/gm),dve=qo(/^data-[\-\w.\u00B7-\uFFFF]/),hve=qo(/^aria-[\-\w]+$/),_F=qo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pve=qo(/^(?:\w+script|data):/i),fve=qo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mF=qo(/^html$/i);var P7=Object.freeze({__proto__:null,MUSTACHE_EXPR:lve,ERB_EXPR:cve,TMPLIT_EXPR:uve,DATA_ATTR:dve,ARIA_ATTR:hve,IS_ALLOWED_URI:_F,IS_SCRIPT_OR_DATA:pve,ATTR_WHITESPACE:fve,DOCTYPE_NAME:mF});const _ve=()=>typeof window>"u"?null:window,mve=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";e&&e.hasAttribute(a)&&(r=e.getAttribute(a));const l="dompurify"+(r?"#"+r:"");try{return t.createPolicy(l,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function vF(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_ve();const t=Ye=>vF(Ye);if(t.version="3.0.3",t.removed=[],!n||!n.document||n.document.nodeType!==9)return t.isSupported=!1,t;const e=n.document,r=e.currentScript;let{document:a}=n;const{DocumentFragment:l,HTMLTemplateElement:u,Node:h,Element:f,NodeFilter:m,NamedNodeMap:g=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:x,DOMParser:E,trustedTypes:w}=n,T=f.prototype,A=Lg(T,"cloneNode"),P=Lg(T,"nextSibling"),C=Lg(T,"childNodes"),k=Lg(T,"parentNode");if(typeof u=="function"){const Ye=a.createElement("template");Ye.content&&Ye.content.ownerDocument&&(a=Ye.content.ownerDocument)}let I,D="";const{implementation:U,createNodeIterator:O,createDocumentFragment:N,getElementsByTagName:L}=a,{importNode:K}=e;let z={};t.isSupported=typeof fF=="function"&&typeof k=="function"&&U&&U.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ae,ERB_EXPR:fe,TMPLIT_EXPR:B,DATA_ATTR:J,ARIA_ATTR:ce,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:_e}=P7;let{IS_ALLOWED_URI:oe}=P7,le=null;const ve=Wt({},[...M7,...Yw,...Xw,...Zw,...D7]);let De=null;const pe=Wt({},[...L7,...Jw,...U7,...Ug]);let he=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,ee=null,$=!0,ie=!0,Oe=!1,qe=!0,Re=!1,Se=!1,je=!1,Be=!1,We=!1,rn=!1,un=!1,pn=!0,vn=!1;const Hn="user-content-";let Tn=!0,j=!1,te={},En=null;const Nn=Wt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zn=null;const Gn=Wt({},["audio","video","img","source","image","track"]);let $n=null;const Vn=Wt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mt="http://www.w3.org/1998/Math/MathML",qn="http://www.w3.org/2000/svg",In="http://www.w3.org/1999/xhtml";let Ot=In,lt=!1,Yn=null;const Fn=Wt({},[mt,qn,In],Qw);let fn;const ct=["application/xhtml+xml","text/html"],jn="text/html";let Tt,Ct=null;const br=a.createElement("form"),Wr=function(ke){return ke instanceof RegExp||ke instanceof Function},Vr=function(ke){if(!(Ct&&Ct===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=s0(ke),fn=ct.indexOf(ke.PARSER_MEDIA_TYPE)===-1?fn=jn:fn=ke.PARSER_MEDIA_TYPE,Tt=fn==="application/xhtml+xml"?Qw:pb,le="ALLOWED_TAGS"in ke?Wt({},ke.ALLOWED_TAGS,Tt):ve,De="ALLOWED_ATTR"in ke?Wt({},ke.ALLOWED_ATTR,Tt):pe,Yn="ALLOWED_NAMESPACES"in ke?Wt({},ke.ALLOWED_NAMESPACES,Qw):Fn,$n="ADD_URI_SAFE_ATTR"in ke?Wt(s0(Vn),ke.ADD_URI_SAFE_ATTR,Tt):Vn,Zn="ADD_DATA_URI_TAGS"in ke?Wt(s0(Gn),ke.ADD_DATA_URI_TAGS,Tt):Gn,En="FORBID_CONTENTS"in ke?Wt({},ke.FORBID_CONTENTS,Tt):Nn,G="FORBID_TAGS"in ke?Wt({},ke.FORBID_TAGS,Tt):{},ee="FORBID_ATTR"in ke?Wt({},ke.FORBID_ATTR,Tt):{},te="USE_PROFILES"in ke?ke.USE_PROFILES:!1,$=ke.ALLOW_ARIA_ATTR!==!1,ie=ke.ALLOW_DATA_ATTR!==!1,Oe=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,qe=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=ke.SAFE_FOR_TEMPLATES||!1,Se=ke.WHOLE_DOCUMENT||!1,We=ke.RETURN_DOM||!1,rn=ke.RETURN_DOM_FRAGMENT||!1,un=ke.RETURN_TRUSTED_TYPE||!1,Be=ke.FORCE_BODY||!1,pn=ke.SANITIZE_DOM!==!1,vn=ke.SANITIZE_NAMED_PROPS||!1,Tn=ke.KEEP_CONTENT!==!1,j=ke.IN_PLACE||!1,oe=ke.ALLOWED_URI_REGEXP||_F,Ot=ke.NAMESPACE||In,he=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&Wr(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&Wr(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(ie=!1),rn&&(We=!0),te&&(le=Wt({},[...D7]),De=[],te.html===!0&&(Wt(le,M7),Wt(De,L7)),te.svg===!0&&(Wt(le,Yw),Wt(De,Jw),Wt(De,Ug)),te.svgFilters===!0&&(Wt(le,Xw),Wt(De,Jw),Wt(De,Ug)),te.mathMl===!0&&(Wt(le,Zw),Wt(De,U7),Wt(De,Ug))),ke.ADD_TAGS&&(le===ve&&(le=s0(le)),Wt(le,ke.ADD_TAGS,Tt)),ke.ADD_ATTR&&(De===pe&&(De=s0(De)),Wt(De,ke.ADD_ATTR,Tt)),ke.ADD_URI_SAFE_ATTR&&Wt($n,ke.ADD_URI_SAFE_ATTR,Tt),ke.FORBID_CONTENTS&&(En===Nn&&(En=s0(En)),Wt(En,ke.FORBID_CONTENTS,Tt)),Tn&&(le["#text"]=!0),Se&&Wt(le,["html","head","body"]),le.table&&(Wt(le,["tbody"]),delete G.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=ke.TRUSTED_TYPES_POLICY,D=I.createHTML("")}else I===void 0&&(I=mve(w,r)),I!==null&&typeof D=="string"&&(D=I.createHTML(""));Xa&&Xa(ke),Ct=ke}},ts=Wt({},["mi","mo","mn","ms","mtext"]),ki=Wt({},["foreignobject","desc","title","annotation-xml"]),Pa=Wt({},["title","style","font","a","script"]),zr=Wt({},Yw);Wt(zr,Xw),Wt(zr,sve);const ue=Wt({},Zw);Wt(ue,ove);const de=function(ke){let Ie=k(ke);(!Ie||!Ie.tagName)&&(Ie={namespaceURI:Ot,tagName:"template"});const tn=pb(ke.tagName),Kn=pb(Ie.tagName);return Yn[ke.namespaceURI]?ke.namespaceURI===qn?Ie.namespaceURI===In?tn==="svg":Ie.namespaceURI===mt?tn==="svg"&&(Kn==="annotation-xml"||ts[Kn]):!!zr[tn]:ke.namespaceURI===mt?Ie.namespaceURI===In?tn==="math":Ie.namespaceURI===qn?tn==="math"&&ki[Kn]:!!ue[tn]:ke.namespaceURI===In?Ie.namespaceURI===qn&&!ki[Kn]||Ie.namespaceURI===mt&&!ts[Kn]?!1:!ue[tn]&&(Pa[tn]||!zr[tn]):!!(fn==="application/xhtml+xml"&&Yn[ke.namespaceURI]):!1},Te=function(ke){Cf(t.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{ke.remove()}},Ae=function(ke,Ie){try{Cf(t.removed,{attribute:Ie.getAttributeNode(ke),from:Ie})}catch{Cf(t.removed,{attribute:null,from:Ie})}if(Ie.removeAttribute(ke),ke==="is"&&!De[ke])if(We||rn)try{Te(Ie)}catch{}else try{Ie.setAttribute(ke,"")}catch{}},Ve=function(ke){let Ie,tn;if(Be)ke="<remove></remove>"+ke;else{const Un=tve(ke,/^[\r\n\t ]+/);tn=Un&&Un[0]}fn==="application/xhtml+xml"&&Ot===In&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");const Kn=I?I.createHTML(ke):ke;if(Ot===In)try{Ie=new E().parseFromString(Kn,fn)}catch{}if(!Ie||!Ie.documentElement){Ie=U.createDocument(Ot,"template",null);try{Ie.documentElement.innerHTML=lt?D:Kn}catch{}}const ln=Ie.body||Ie.documentElement;return ke&&tn&&ln.insertBefore(a.createTextNode(tn),ln.childNodes[0]||null),Ot===In?L.call(Ie,Se?"html":"body")[0]:Se?Ie.documentElement:ln},ge=function(ke){return O.call(ke.ownerDocument||ke,ke,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},Pe=function(ke){return ke instanceof x&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof g)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},Ge=function(ke){return typeof h=="object"?ke instanceof h:ke&&typeof ke=="object"&&typeof ke.nodeType=="number"&&typeof ke.nodeName=="string"},He=function(ke,Ie,tn){z[ke]&&nve(z[ke],Kn=>{Kn.call(t,Ie,tn,Ct)})},sn=function(ke){let Ie;if(He("beforeSanitizeElements",ke,null),Pe(ke))return Te(ke),!0;const tn=Tt(ke.nodeName);if(He("uponSanitizeElement",ke,{tagName:tn,allowedTags:le}),ke.hasChildNodes()&&!Ge(ke.firstElementChild)&&(!Ge(ke.content)||!Ge(ke.content.firstElementChild))&&Cs(/<[/\w]/g,ke.innerHTML)&&Cs(/<[/\w]/g,ke.textContent))return Te(ke),!0;if(!le[tn]||G[tn]){if(!G[tn]&&an(tn)&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,tn)||he.tagNameCheck instanceof Function&&he.tagNameCheck(tn)))return!1;if(Tn&&!En[tn]){const Kn=k(ke)||ke.parentNode,ln=C(ke)||ke.childNodes;if(ln&&Kn){const Un=ln.length;for(let on=Un-1;on>=0;--on)Kn.insertBefore(A(ln[on],!0),P(ke))}}return Te(ke),!0}return ke instanceof f&&!de(ke)||(tn==="noscript"||tn==="noembed")&&Cs(/<\/no(script|embed)/i,ke.innerHTML)?(Te(ke),!0):(Re&&ke.nodeType===3&&(Ie=ke.textContent,Ie=Ro(Ie,ae," "),Ie=Ro(Ie,fe," "),Ie=Ro(Ie,B," "),ke.textContent!==Ie&&(Cf(t.removed,{element:ke.cloneNode()}),ke.textContent=Ie)),He("afterSanitizeElements",ke,null),!1)},Xe=function(ke,Ie,tn){if(pn&&(Ie==="id"||Ie==="name")&&(tn in a||tn in br))return!1;if(!(ie&&!ee[Ie]&&Cs(J,Ie))){if(!($&&Cs(ce,Ie))){if(!De[Ie]||ee[Ie]){if(!(an(ke)&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,ke)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ke))&&(he.attributeNameCheck instanceof RegExp&&Cs(he.attributeNameCheck,Ie)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(Ie))||Ie==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,tn)||he.tagNameCheck instanceof Function&&he.tagNameCheck(tn))))return!1}else if(!$n[Ie]){if(!Cs(oe,Ro(tn,_e,""))){if(!((Ie==="src"||Ie==="xlink:href"||Ie==="href")&&ke!=="script"&&rve(tn,"data:")===0&&Zn[ke])){if(!(Oe&&!Cs(W,Ro(tn,_e,"")))){if(tn)return!1}}}}}}return!0},an=function(ke){return ke.indexOf("-")>0},On=function(ke){let Ie,tn,Kn,ln;He("beforeSanitizeAttributes",ke,null);const{attributes:Un}=ke;if(!Un)return;const on={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:De};for(ln=Un.length;ln--;){Ie=Un[ln];const{name:Xn,namespaceURI:Gt}=Ie;if(tn=Xn==="value"?Ie.value:ive(Ie.value),Kn=Tt(Xn),on.attrName=Kn,on.attrValue=tn,on.keepAttr=!0,on.forceKeepAttr=void 0,He("uponSanitizeAttribute",ke,on),tn=on.attrValue,on.forceKeepAttr||(Ae(Xn,ke),!on.keepAttr))continue;if(!qe&&Cs(/\/>/i,tn)){Ae(Xn,ke);continue}Re&&(tn=Ro(tn,ae," "),tn=Ro(tn,fe," "),tn=Ro(tn,B," "));const Dn=Tt(ke.nodeName);if(Xe(Dn,Kn,tn)){if(vn&&(Kn==="id"||Kn==="name")&&(Ae(Xn,ke),tn=Hn+tn),I&&typeof w=="object"&&typeof w.getAttributeType=="function"&&!Gt)switch(w.getAttributeType(Dn,Kn)){case"TrustedHTML":{tn=I.createHTML(tn);break}case"TrustedScriptURL":{tn=I.createScriptURL(tn);break}}try{Gt?ke.setAttributeNS(Gt,Xn,tn):ke.setAttribute(Xn,tn),R7(t.removed)}catch{}}}He("afterSanitizeAttributes",ke,null)},rt=function Ye(ke){let Ie;const tn=ge(ke);for(He("beforeSanitizeShadowDOM",ke,null);Ie=tn.nextNode();)He("uponSanitizeShadowNode",Ie,null),!sn(Ie)&&(Ie.content instanceof l&&Ye(Ie.content),On(Ie));He("afterSanitizeShadowDOM",ke,null)};return t.sanitize=function(Ye){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie,tn,Kn,ln;if(lt=!Ye,lt&&(Ye="<!-->"),typeof Ye!="string"&&!Ge(Ye))if(typeof Ye.toString=="function"){if(Ye=Ye.toString(),typeof Ye!="string")throw Nf("dirty is not a string, aborting")}else throw Nf("toString is not a function");if(!t.isSupported)return Ye;if(je||Vr(ke),t.removed=[],typeof Ye=="string"&&(j=!1),j){if(Ye.nodeName){const Xn=Tt(Ye.nodeName);if(!le[Xn]||G[Xn])throw Nf("root node is forbidden and cannot be sanitized in-place")}}else if(Ye instanceof h)Ie=Ve("<!---->"),tn=Ie.ownerDocument.importNode(Ye,!0),tn.nodeType===1&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?Ie=tn:Ie.appendChild(tn);else{if(!We&&!Re&&!Se&&Ye.indexOf("<")===-1)return I&&un?I.createHTML(Ye):Ye;if(Ie=Ve(Ye),!Ie)return We?null:un?D:""}Ie&&Be&&Te(Ie.firstChild);const Un=ge(j?Ye:Ie);for(;Kn=Un.nextNode();)sn(Kn)||(Kn.content instanceof l&&rt(Kn.content),On(Kn));if(j)return Ye;if(We){if(rn)for(ln=N.call(Ie.ownerDocument);Ie.firstChild;)ln.appendChild(Ie.firstChild);else ln=Ie;return(De.shadowroot||De.shadowrootmod)&&(ln=K.call(e,ln,!0)),ln}let on=Se?Ie.outerHTML:Ie.innerHTML;return Se&&le["!doctype"]&&Ie.ownerDocument&&Ie.ownerDocument.doctype&&Ie.ownerDocument.doctype.name&&Cs(mF,Ie.ownerDocument.doctype.name)&&(on="<!DOCTYPE "+Ie.ownerDocument.doctype.name+`>
`+on),Re&&(on=Ro(on,ae," "),on=Ro(on,fe," "),on=Ro(on,B," ")),I&&un?I.createHTML(on):on},t.setConfig=function(Ye){Vr(Ye),je=!0},t.clearConfig=function(){Ct=null,je=!1},t.isValidAttribute=function(Ye,ke,Ie){Ct||Vr({});const tn=Tt(Ye),Kn=Tt(ke);return Xe(tn,Kn,Ie)},t.addHook=function(Ye,ke){typeof ke=="function"&&(z[Ye]=z[Ye]||[],Cf(z[Ye],ke))},t.removeHook=function(Ye){if(z[Ye])return R7(z[Ye])},t.removeHooks=function(Ye){z[Ye]&&(z[Ye]=[])},t.removeAllHooks=function(){z={}},t}var vve=vF(),gF=vve;const gve="sendbird-text-message-item-body",bve="sendbird-og-message-item-body__text-bubble",om="@",po={string:"string",mention:"mention",url:"url",undetermined:"undetermined"};function yve(n,t){const e=t||om;return RegExp(`(${n.map(r=>`${e}{${r.userId}}`).join("|")})`,"g")}function Eve(n){let{tokens:t,mentionedUsers:e=[],templatePrefix:r=om}=n;if(!(e!=null&&e.length))return t;const a=yve(e,r);return t.map(u=>{if(u.type!==po.undetermined)return u;const{value:h}=u;return h.split(a).map(g=>{if(g.match(a)){const x=e.find(w=>`@{${w==null?void 0:w.userId}}`===g);return{value:(x==null?void 0:x.nickname)||"(No name)",type:po.mention,userId:x==null?void 0:x.userId}}else return{value:g,type:po.undetermined}})}).flat()}function wve(n){return n.map(e=>{if(e.type!==po.undetermined)return e;const{value:r=""}=e;return r.split(" ").map(u=>Z0e(u)?{value:u,type:po.url}:{value:u,type:po.string})}).flat()}function xve(n){return n.reduce((e,r)=>{const a=e[e.length-1];return(a==null?void 0:a.type)===po.string&&r.type===po.string?(a.value=`${a.value} ${r.value}`,e):[...e,r]},[])}function bF(n){let{messageText:t,mentionedUsers:e=[],templatePrefix:r=om}=n;const a=[{type:po.undetermined,value:t}],l=Eve({tokens:a,mentionedUsers:e,templatePrefix:r}),u=wve(l);return xve(u)}function Sve(n){return n.replace(/([ \t]+)/g,(t,e)=>"".repeat(e.length))}function H6(n){let{userId:t,nickname:e}=n;const r=`<span data-userid="${t}" data-sb-mention="true" class="${Vme}">${e}</span>`,u=gF(window).sanitize(r).split(" "),[h,...f]=u;return[h,'contenteditable="false"',...f].join(" ")}const Q_=n=>n==null?void 0:n.replace(/[\u00A0-\u9999<>]/gim,t=>"".concat("&#",t.charCodeAt(0),";"));function Tve(n){const t=n.map(e=>{const{text:r,userId:a}=e;return a?H6({userId:a,nickname:r}):Q_(r)}).join(" ").concat(" ");document.execCommand("insertHTML",!1,t)}const F7="sendbird-uikit__paste-node",kve="sendbird-word",yF="sendbird-word__mention",EF="sendbird-mention-user-label",wF=`.${yF}, .${EF}`;function H7(n,t){return[n,...Array.from(n.querySelectorAll(t))].find(r=>r.matches(t))}function Cve(n){const t=H7(n,`.${bve}`);if(t)return Array.from(t.childNodes);const e=H7(n,`.${gve}`);return e?Array.from(e.childNodes):Array.from(n.childNodes)}function Nve(){const n=document.body.querySelector(`#${F7}`);n&&(n==null||n.remove());const t=document.createElement("div");return t.id=F7,t.style.display="none",t}function Ive(n){return!!(n!=null&&n.querySelector(wF))}const xF=n=>{let t="";return n.forEach(e=>{const r=e.querySelectorAll(`.${kve}`);r.length>0&&(t+=xF(Array.from(r))+" "),t+=e.innerText+" "}),t};function Ave(n){return n==null?void 0:n.reduce((e,r)=>{let a,l=r==null?void 0:r.innerText;if(r instanceof Text&&(a=!1,l=r.textContent),r instanceof HTMLElement&&(a=r.classList.contains(yF)||r.classList.contains(EF)?r:r.querySelector(wF)),a){var u;const h=r==null?void 0:r.innerText,f=(u=a.dataset)===null||u===void 0?void 0:u.userid;return[...e,{text:h,userId:f}]}return[...e,{text:l}]},[])}function Ove(n,t){const e={},r=t.members;return n.forEach(a=>{if(a.userId){const l=r.find(u=>u.userId===a.userId);l&&(e[a.userId]=l)}}),Object.values(e)}function Rve(n){let{ref:t,setIsInput:e,setHeight:r,channel:a,setMentionedUsers:l}=n;return Q.useCallback(u=>{u.preventDefault();const h=u==null?void 0:u.clipboardData.getData("text/html");if(!h){const T=u==null?void 0:u.clipboardData.getData("text");document.execCommand("insertHTML",!1,Q_(T)),e(!0),r();return}const m=gF(window).sanitize(h),g=Nve();if(g.innerHTML=m,!Ive(g)){const T=xF(Array.from(g.children));document.execCommand("insertHTML",!1,Q_(T)),g.remove(),e(!0),r();return}const x=Cve(g),E=Ave(x),w=Ove(E,a);l(w),Tve(E),g.remove(),e(!0),r()},[t,e,r,a,l])}const Mve="sendbird-message-input-text-field",Dve=76,Mo=()=>{},Lve=n=>t=>{t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""},Uve=(n,t)=>{const e=document.createRange(),r=window.getSelection();e.setStart(n.childNodes[0],t),e.collapse(!0),r.removeAllRanges(),r.addRange(e),n.focus()},ex=n=>{try{n.current.innerHTML=""}catch{}},B7={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},V1=M.forwardRef((n,t)=>{var e,r;const{className:a,messageFieldId:l,isEdit:u,isMentionEnabled:h,isVoiceMessageEnabled:f,disabled:m,message:g,placeholder:x,maxLength:E,onFileUpload:w,onSendMessage:T,onUpdateMessage:A,onCancelEdit:P,onStartTyping:C,channelUrl:k,channel:I,mentionSelectedUser:D,onUserMentioned:U,onMentionStringChange:O,onMentionedUserIdsUpdated:N,onVoiceMessageIconClick:L,onKeyUp:K,onKeyDown:z,renderFileUploadIcon:ae,renderVoiceMessageIcon:fe,renderSendMessageIcon:B,setMentionedUsers:J}=n,ce=t==null?void 0:t.current,W=l||Mve,{stringSet:_e}=Q.useContext(jo),oe=Q.useRef(null),[le,ve]=Q.useState(!1),[De,pe]=Q.useState([]),[he,G]=Q.useState(gn({},B7)),ee=Q.useMemo(()=>()=>{try{const Be=t==null?void 0:t.current,We=window.document.body.offsetHeight*.6;Be&&Be.scrollHeight>=Dve?We<Be.scrollHeight?(Be.style.height="auto",Be.style.height=`${We}px`):(Be.style.height="auto",Be.style.height=`${Be.scrollHeight}px`):Be.style.height=""}catch{}},[]),$=n==null?void 0:n.value;Q.useEffect(()=>{var Be;const We=t==null?void 0:t.current;try{We.innerHTML=$,Uve(We,$==null?void 0:$.length)}catch{}pe([]),ve((We==null||(Be=We.innerText)===null||Be===void 0?void 0:Be.trim().length)>0),ee()},[$]),Q.useEffect(()=>{u||(ve(!1),ex(t))},[k]),Q.useEffect(()=>{if(u&&g!==null&&g!==void 0&&g.messageId){var Be,We,rn;const un=t==null?void 0:t.current;if(h&&(g==null||(Be=g.mentionedUsers)===null||Be===void 0?void 0:Be.length)>0&&(g==null||(We=g.mentionedMessageTemplate)===null||We===void 0?void 0:We.length)>0){const{mentionedUsers:pn=[]}=g,vn=bF({messageText:g==null?void 0:g.mentionedMessageTemplate,mentionedUsers:pn});un.innerHTML=vn.map(Hn=>{if(Hn.type===po.mention){const Tn=pn.find(te=>te.userId===Hn.userId),j=`${om}${(Tn==null?void 0:Tn.nickname)||Hn.value||_e.MENTION_NAME__NO_NAME}`;return H6({userId:Hn.userId,nickname:j})}return Q_(Hn.value)}).join(" ")}else{try{un.innerHTML=Q_(g==null?void 0:g.message)}catch{}pe([])}ve((un==null||(rn=un.innerText)===null||rn===void 0?void 0:rn.trim().length)>0),ee()}},[u,g]);const ie=Q.useCallback(()=>{const Be=t==null?void 0:t.current;if(h){const We=[...Be.getElementsByClassName("sendbird-mention-user-label")].map(rn=>{var un;return rn==null||(un=rn.dataset)===null||un===void 0?void 0:un.userid});(!J0e(De,We)||We.length===0)&&(N(We),pe(We))}ve(Be.innerText.trim().length>0)},[he,h]);Q.useEffect(()=>{if(h&&D){const{targetString:pn,startNodeIndex:vn,startOffsetIndex:Hn,endNodeIndex:Tn,endOffsetIndex:j}=he;if(pn&&vn!==null&&Hn!==null){var Be,We,rn,un;const te=t==null?void 0:t.current,En=[...te==null?void 0:te.childNodes],Nn=(Be=document)===null||Be===void 0?void 0:Be.createTextNode((We=En[vn])===null||We===void 0?void 0:We.textContent.slice(0,Hn)),Zn=(rn=document)===null||rn===void 0?void 0:rn.createTextNode(`${(un=En[Tn])===null||un===void 0?void 0:un.textContent.slice(j)}`),Gn=H6({userId:D==null?void 0:D.userId,nickname:`${Tf}${(D==null?void 0:D.nickname)||_e.MENTION_NAME__NO_NAME}`}),$n=document.createElement("div");$n.innerHTML=Gn;const Vn=[...En.slice(0,vn),Nn,$n.childNodes[0],Zn,...En.slice(Tn+1)];if(te.innerHTML="",Vn.forEach(mt=>{te.appendChild(mt)}),U(D),window.getSelection||document.getSelection){const mt=window.getSelection()||document.getSelection();mt.removeAllRanges();const qn=new Range;qn.selectNodeContents(te),qn.setStart(te.childNodes[vn+2],1),qn.setEnd(te.childNodes[vn+2],1),qn.collapse(!1),mt.addRange(qn),te.focus()}G(gn({},B7)),ee(),ie()}}},[D,h]);const Oe=Q.useCallback(()=>{var Be,We,rn,un;const pn=((Be=window)===null||Be===void 0||(We=Be.getSelection)===null||We===void 0?void 0:We.call(Be))||((rn=document)===null||rn===void 0||(un=rn.getSelection)===null||un===void 0?void 0:un.call(rn)),vn=t==null?void 0:t.current;if(pn.anchorNode===vn&&O(""),h&&pn&&pn.anchorNode===pn.focusNode&&pn.anchorOffset===pn.focusOffset){let Hn="",Tn=null,j=null;for(let te=0;te<vn.childNodes.length;te+=1){const En=vn.childNodes[te];if(En.nodeType===Ed.TextNode){const Nn=En===pn.anchorNode?(En==null?void 0:En.textContent.slice(0,pn.anchorOffset))||"":(En==null?void 0:En.textContent)||"";if(Hn.length>0)Hn+=Nn;else{let Zn=Nn.lastIndexOf(Tf);for(let Gn=Zn-1;Gn>-1&&Nn[Gn]===Tf;Gn-=1)Zn=Gn;Zn>-1&&(Hn=Nn,Tn=te,j=Zn)}}else Hn="",Tn=null,j=null;if(En===pn.anchorNode){const Nn=Hn?Hn.slice(j):"";G({targetString:Nn,startNodeIndex:Tn,startOffsetIndex:j,endNodeIndex:te,endOffsetIndex:pn.anchorOffset}),O(Nn);return}}}},[h]),qe=()=>{const Be=t==null?void 0:t.current;if(!u&&Be!==null&&Be!==void 0&&Be.innerText){let We="",rn="";Be.childNodes.forEach(pn=>{if(pn.nodeType===Ed.ElementNode&&pn.nodeName===kf.Span){const{innerText:vn,dataset:Hn={}}=pn,{userid:Tn=""}=Hn;We+=vn,rn+=`${Tf}{${Tn}}`}else if(pn.nodeType===Ed.ElementNode&&pn.nodeName===kf.Br)We+=`
`,rn+=`
`;else if((pn==null?void 0:pn.nodeType)===Ed.ElementNode&&(pn==null?void 0:pn.nodeName)===kf.Div){const{textContent:vn=""}=pn;We+=`
${vn}`,rn+=`
${vn}`}else{const{textContent:vn=""}=pn;We+=vn,rn+=vn}}),T({message:We,mentionTemplate:rn}),ex(t),ve(!1),ee()}},Re=!(ce!=null&&(e=ce.innerText)!==null&&e!==void 0&&e.trim()),Se=()=>{const Be=t==null?void 0:t.current,We=g==null?void 0:g.messageId;if(u&&We){let rn="",un="";Be.childNodes.forEach(vn=>{if(vn.nodeType===Ed.ElementNode&&vn.nodeName===kf.Span){const{innerText:Hn,dataset:Tn={}}=vn,{userid:j=""}=Tn;rn+=Hn,un+=`${Tf}{${j}}`}else if(vn.nodeType===Ed.ElementNode&&vn.nodeName===kf.Span)rn+=`
`,un+=`
`;else{const{textContent:Hn=""}=vn;rn+=Hn,un+=Hn}}),A({messageId:We,message:rn,mentionTemplate:un}),ex(t)}},je=Rve({ref:t,setMentionedUserIds:pe,setMentionedUsers:J,channel:I,setIsInput:ve,setHeight:ee});return M.createElement("form",{className:C4([a,u?"sendbird-message-input__edit":"",m?"sendbird-message-input-form__disabled":""])},M.createElement("div",{className:C4(["sendbird-message-input",m?"sendbird-message-input__disabled":""])},M.createElement("div",{id:`${W}${u?g==null?void 0:g.messageId:""}`,className:`sendbird-message-input--textarea ${W}`,contentEditable:!m,role:"textbox","aria-label":"Text Input",disabled:m,ref:t,maxLength:E,onKeyDown:Be=>{if(z(Be))Be.preventDefault();else{var rn,un,pn,vn,Hn,Tn,j,te;!Be.shiftKey&&Be.key===A7.Enter&&(Be==null||(rn=Be.nativeEvent)===null||rn===void 0?void 0:rn.isComposing)!==!0&&(Be.preventDefault(),qe()),Be.key===A7.Backspace&&(t==null||(un=t.current)===null||un===void 0||(pn=un.childNodes)===null||pn===void 0?void 0:pn.length)===2&&!(t!=null&&(vn=t.current)!==null&&vn!==void 0&&(Hn=vn.childNodes)!==null&&Hn!==void 0&&(Tn=Hn[0])!==null&&Tn!==void 0&&Tn.textContent)&&(t==null||(j=t.current.childNodes)===null||j===void 0||(te=j[1])===null||te===void 0?void 0:te.nodeType)===Ed.ElementNode&&(t==null||t.current.removeChild(t==null?void 0:t.current.childNodes[1]))}},onKeyUp:Be=>{K(Be)?Be.preventDefault():Oe()},onClick:()=>{Oe()},onInput:()=>{var Be;ee(),C(),ve(((Be=ce.innerText)===null||Be===void 0?void 0:Be.trim().length)>0),ie()},onPaste:je}),(ce==null||(r=ce.innerText)===null||r===void 0?void 0:r.length)===0&&M.createElement(Vt,{className:"sendbird-message-input--placeholder",type:qt.BODY_1,color:m?Lt.ONBACKGROUND_4:Lt.ONBACKGROUND_3},x||_e.MESSAGE_INPUT__PLACE_HOLDER),!u&&le&&M.createElement(mc,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:()=>qe()},(B==null?void 0:B())||M.createElement(Jt,{type:jt.SEND,fillColor:m?tr.ON_BACKGROUND_4:tr.PRIMARY,width:"20px",height:"20px"})),!u&&!le&&((ae==null?void 0:ae())||M.createElement(mc,{className:`sendbird-message-input--attach ${f?"is-voice-message-enabled":""}`,height:"32px",width:"32px",onClick:()=>{var Be,We;oe==null||(Be=oe.current)===null||Be===void 0||(We=Be.click)===null||We===void 0||We.call(Be)}},M.createElement(Jt,{type:jt.ATTACH,fillColor:m?tr.ON_BACKGROUND_4:tr.CONTENT_INVERSE,width:"20px",height:"20px"}),M.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:oe,onChange:Lve(w)}))),f&&!u&&!le&&M.createElement(mc,{className:"sendbird-message-input--voice-message",width:"32px",height:"32px",onClick:L},(fe==null?void 0:fe())||M.createElement(Jt,{type:jt.AUDIO_ON_LINED,fillColor:m?tr.ON_BACKGROUND_4:tr.CONTENT_INVERSE,width:"20px",height:"20px"}))),u&&M.createElement("div",{className:"sendbird-message-input--edit-action"},M.createElement(W_,{className:"sendbird-message-input--edit-action__cancel",type:nh.SECONDARY,size:L6.SMALL,onClick:P},_e.BUTTON__CANCEL),M.createElement(W_,{className:"sendbird-message-input--edit-action__save",type:nh.PRIMARY,size:L6.SMALL,disabled:Re,onClick:()=>Se()},_e.BUTTON__SAVE)))});V1.propTypes={className:cn.exports.oneOfType([cn.exports.string,cn.exports.arrayOf(cn.exports.string)]),messageFieldId:cn.exports.string,placeholder:cn.exports.oneOfType([cn.exports.string,cn.exports.bool]),value:cn.exports.string,isEdit:cn.exports.bool,isMentionEnabled:cn.exports.bool,isVoiceMessageEnabled:cn.exports.bool,onVoiceMessageIconClick:cn.exports.func,message:cn.exports.shape({messageId:cn.exports.oneOfType([cn.exports.string,cn.exports.number]),message:cn.exports.string,mentionedMessageTemplate:cn.exports.string,mentionedUsers:cn.exports.arrayOf(cn.exports.shape({}))}),disabled:cn.exports.bool,maxLength:cn.exports.number,onFileUpload:cn.exports.func,onSendMessage:cn.exports.func,onUpdateMessage:cn.exports.func,onStartTyping:cn.exports.func,onCancelEdit:cn.exports.func,channelUrl:cn.exports.string,mentionSelectedUser:cn.exports.shape({userId:cn.exports.string,nickname:cn.exports.string}),setMentionedUsers:cn.exports.func,onUserMentioned:cn.exports.func,onMentionStringChange:cn.exports.func,onMentionedUserIdsUpdated:cn.exports.func,onKeyUp:cn.exports.func,onKeyDown:cn.exports.func};V1.defaultProps={className:"",messageFieldId:"",channelUrl:"",onSendMessage:Mo,onUpdateMessage:Mo,value:null,message:null,isEdit:!1,isMentionEnabled:!1,isVoiceMessageEnabled:!0,onVoiceMessageIconClick:Mo,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:Mo,onCancelEdit:Mo,onStartTyping:Mo,mentionSelectedUser:null,onUserMentioned:Mo,onMentionStringChange:Mo,onMentionedUserIdsUpdated:Mo,onKeyUp:Mo,onKeyDown:Mo};const SF=M.createContext(void 0),Pve=n=>{const{children:t,message:e,isByMe:r=!1}=n;return M.createElement(SF.Provider,{value:{message:e,isByMe:r}},t)},Fve=()=>{const n=M.useContext(SF);if(n===void 0)throw new Error("useMessageContext must be used within a MessageProvider");return n};function Hve(n){var t,e,r;const{mentionTemplate:a,mentionedUserId:l,mentionedUserNickname:u,isByMe:h}=n,f=Q.useRef(),m=go(),g=m==null||(t=m.config)===null||t===void 0?void 0:t.userId,x=m==null||(e=m.stores)===null||e===void 0||(r=e.sdkStore)===null||r===void 0?void 0:r.sdk,E=g===l,[w,T]=Q.useState(),A=Q.useCallback(P=>{if(w||!(x!=null&&x.createApplicationUserListQuery)){P();return}(x==null?void 0:x.createApplicationUserListQuery({userIdsFilter:[l]})).next().then(k=>{(k==null?void 0:k.length)>0&&T(k[0]),P()})},[x,l]);return M.createElement(Nl,{menuTrigger:P=>M.createElement("a",{className:`
            sendbird-word__mention
            ${E?"sendbird-word__mention--me":""}
          `,onClick:()=>A(P),ref:f,"data-userid":l,"data-nickname":u,"data-sb-mention":!0},M.createElement(Vt,{type:qt.CAPTION_1,color:h?Lt.ONCONTENT_1:Lt.ONBACKGROUND_1},`${a}${u}`)),menuItems:P=>M.createElement(Cl,{parentRef:f,parentContainRef:f,closeDropdown:P,style:{paddingTop:"0px",paddingBottom:"0px"}},M.createElement(am,{user:w,onSuccess:P,currentUserId:g}))})}const Bve=/https?:\/\//;function z1(n){let{className:t,src:e,type:r,color:a,children:l}=n;const u=Bve.test(e)?e:`http://${e}`;return M.createElement("a",{className:[...Array.isArray(t)?t:[t],"sendbird-link-label",a?sF(a):""].join(" "),href:u,target:"_blank",rel:"noopener noreferrer",onTouchEnd:h=>{h.preventDefault(),h.nativeEvent.stopImmediatePropagation(),window.open(u,"_blank","noopener,noreferrer")}},M.createElement(Vt,{className:"sendbird-link-label__label",type:r,color:a},l))}z1.propTypes={className:cn.exports.oneOfType([cn.exports.string,cn.exports.arrayOf(cn.exports.string)]),src:cn.exports.string.isRequired,type:cn.exports.string,color:cn.exports.string,children:cn.exports.oneOfType([cn.exports.string,cn.exports.element,cn.exports.arrayOf(cn.exports.string),cn.exports.arrayOf(cn.exports.element)]).isRequired};z1.defaultProps={className:"",type:"",color:""};function Vve(n,t,e){return`sb-msg_${n}_${t}_${e}`}function zve(n){let{tokens:t}=n;const e=Fve(),r=e==null?void 0:e.message,a=e==null?void 0:e.isByMe,{updatedAt:l,createdAt:u}=r;return M.createElement(M.Fragment,null,t==null?void 0:t.map((h,f)=>{const m=Vve(u,l,f);return oT(h.type).with(po.mention,()=>M.createElement("span",{className:"sendbird-word",key:m},M.createElement(Hve,{mentionTemplate:om,mentionedUserId:h.userId,mentionedUserNickname:h.value,isByMe:a}))).with(po.url,()=>M.createElement("span",{className:"sendbird-word",key:m},M.createElement(z1,{className:"sendbird-word__url",src:h.value,type:qt.BODY_1},h.value))).otherwise(()=>M.createElement(M.Fragment,{key:m},Sve(h.value)))}))}function $ve(n,t){return n-t}function qve(n){let{hasMore:t,onScroll:e,scrollRef:r,setShowScrollDownButton:a}=n;return Q.useCallback(()=>{const l=r==null?void 0:r.current;if(l==null)return;const{scrollTop:u,scrollHeight:h,clientHeight:f}=l,m=$ve(h,u);typeof a=="function"&&a(h>u+f+1),t&&u<epe&&e(()=>{l.scrollTop=l.scrollHeight-m})},[a,t,e,r])}const TF=M.createContext({opened:"",setOpened:db});TF.Consumer;TF.Provider;const Gve=n=>{let{profileUrl:t,nickname:e,name:r,type:a,url:l,isByMe:u=!0,disableDelete:h=!1,onClose:f,onDelete:m}=n;const{stringSet:g}=Q.useContext(jo);return M.createElement("div",{className:"sendbird-fileviewer"},M.createElement("div",{className:"sendbird-fileviewer__header"},M.createElement("div",{className:"sendbird-fileviewer__header__left"},M.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},M.createElement(fh,{height:"32px",width:"32px",src:t})),M.createElement(Vt,{className:"sendbird-fileviewer__header__left__filename",type:qt.H_2,color:Lt.ONBACKGROUND_1},r),M.createElement(Vt,{className:"sendbird-fileviewer__header__left__sender-name",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},e)),M.createElement("div",{className:"sendbird-fileviewer__header__right"},tM(a)&&M.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},M.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:l,target:"_blank"},M.createElement(Jt,{type:jt.DOWNLOAD,fillColor:tr.ON_BACKGROUND_1,height:"24px",width:"24px"})),m&&u&&M.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},M.createElement(Jt,{className:h?"disabled":"",type:jt.DELETE,fillColor:h?tr.GRAY:tr.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:x=>{h||m==null||m(x)}}))),M.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},M.createElement(Jt,{type:jt.CLOSE,fillColor:tr.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:x=>f==null?void 0:f(x)})))),M.createElement("div",{className:"sendbird-fileviewer__content"},K9(a)&&M.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},M.createElement("source",{src:l,type:a})),j9(a)&&M.createElement("img",{src:l,alt:r,className:"sendbird-fileviewer__content__img"}),!tM(a)&&M.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},M.createElement(Vt,{type:qt.H_1,color:Lt.ONBACKGROUND_1},(g==null?void 0:g.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function jve(n){var t,e,r;let{message:a,isByMe:l=!1,onClose:u,onDelete:h}=n;return rm.createPortal(M.createElement(Gve,{profileUrl:a==null||(t=a.sender)===null||t===void 0?void 0:t.profileUrl,nickname:a==null||(e=a.sender)===null||e===void 0?void 0:e.nickname,name:a==null?void 0:a.name,type:a==null?void 0:a.type,url:a==null?void 0:a.url,isByMe:l,disableDelete:(a==null||(r=a.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:u,onDelete:h}),document.getElementById(uF))}function rh(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ns(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function fb(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fb=function(e){return typeof e}:fb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(n)}function Al(n){ns(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||fb(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Kve(n,t){ns(2,arguments);var e=Al(n).getTime(),r=rh(t);return new Date(e+r)}var Wve={};function $1(){return Wve}function Qve(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function _b(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_b=function(e){return typeof e}:_b=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(n)}function Yve(n){return ns(1,arguments),n instanceof Date||_b(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Xve(n){if(ns(1,arguments),!Yve(n)&&typeof n!="number")return!1;var t=Al(n);return!isNaN(Number(t))}function Zve(n,t){ns(2,arguments);var e=rh(t);return Kve(n,-e)}var Jve=864e5;function ege(n){ns(1,arguments);var t=Al(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/Jve)+1}function i1(n){ns(1,arguments);var t=1,e=Al(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function kF(n){ns(1,arguments);var t=Al(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=i1(r),l=new Date(0);l.setUTCFullYear(e,0,4),l.setUTCHours(0,0,0,0);var u=i1(l);return t.getTime()>=a.getTime()?e+1:t.getTime()>=u.getTime()?e:e-1}function nge(n){ns(1,arguments);var t=kF(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=i1(e);return r}var tge=6048e5;function rge(n){ns(1,arguments);var t=Al(n),e=i1(t).getTime()-nge(t).getTime();return Math.round(e/tge)+1}function a1(n,t){var e,r,a,l,u,h,f,m;ns(1,arguments);var g=$1(),x=rh((e=(r=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:g.weekStartsOn)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Al(n),w=E.getUTCDay(),T=(w<x?7:0)+w-x;return E.setUTCDate(E.getUTCDate()-T),E.setUTCHours(0,0,0,0),E}function CF(n,t){var e,r,a,l,u,h,f,m;ns(1,arguments);var g=Al(n),x=g.getUTCFullYear(),E=$1(),w=rh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:E.firstWeekContainsDate)!==null&&r!==void 0?r:(f=E.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(x+1,0,w),T.setUTCHours(0,0,0,0);var A=a1(T,t),P=new Date(0);P.setUTCFullYear(x,0,w),P.setUTCHours(0,0,0,0);var C=a1(P,t);return g.getTime()>=A.getTime()?x+1:g.getTime()>=C.getTime()?x:x-1}function ige(n,t){var e,r,a,l,u,h,f,m;ns(1,arguments);var g=$1(),x=rh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),E=CF(n,t),w=new Date(0);w.setUTCFullYear(E,0,x),w.setUTCHours(0,0,0,0);var T=a1(w,t);return T}var age=6048e5;function sge(n,t){ns(1,arguments);var e=Al(n),r=a1(e,t).getTime()-ige(e,t).getTime();return Math.round(r/age)+1}function Ar(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Jc={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Ar(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Ar(r+1,2)},d:function(t,e){return Ar(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Ar(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Ar(t.getUTCHours(),e.length)},m:function(t,e){return Ar(t.getUTCMinutes(),e.length)},s:function(t,e){return Ar(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,r-3));return Ar(l,e.length)}},o0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oge={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return r.ordinalNumber(l,{unit:"year"})}return Jc.y(t,e)},Y:function(t,e,r,a){var l=CF(t,a),u=l>0?l:1-l;if(e==="YY"){var h=u%100;return Ar(h,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Ar(u,e.length)},R:function(t,e){var r=kF(t);return Ar(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Ar(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ar(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ar(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return Jc.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Ar(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var l=sge(t,a);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Ar(l,e.length)},I:function(t,e,r){var a=rge(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ar(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Jc.d(t,e)},D:function(t,e,r){var a=ege(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ar(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var l=t.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ar(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var l=t.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ar(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),l=a===0?7:a;switch(e){case"i":return String(l);case"ii":return Ar(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),l;switch(a===12?l=o0.noon:a===0?l=o0.midnight:l=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),l;switch(a>=17?l=o0.evening:a>=12?l=o0.afternoon:a>=4?l=o0.morning:l=o0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Jc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Jc.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ar(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ar(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Jc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Jc.s(t,e)},S:function(t,e){return Jc.S(t,e)},X:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();if(u===0)return"Z";switch(e){case"X":return z7(u);case"XXXX":case"XX":return kd(u);case"XXXXX":case"XXX":default:return kd(u,":")}},x:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"x":return z7(u);case"xxxx":case"xx":return kd(u);case"xxxxx":case"xxx":default:return kd(u,":")}},O:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V7(u,":");case"OOOO":default:return"GMT"+kd(u,":")}},z:function(t,e,r,a){var l=a._originalDate||t,u=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V7(u,":");case"zzzz":default:return"GMT"+kd(u,":")}},t:function(t,e,r,a){var l=a._originalDate||t,u=Math.floor(l.getTime()/1e3);return Ar(u,e.length)},T:function(t,e,r,a){var l=a._originalDate||t,u=l.getTime();return Ar(u,e.length)}};function V7(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=r%60;if(l===0)return e+String(a);var u=t||"";return e+String(a)+u+Ar(l,2)}function z7(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Ar(Math.abs(n)/60,2)}return kd(n,t)}function kd(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),l=Ar(Math.floor(a/60),2),u=Ar(a%60,2);return r+l+e+u}var lge=oge,$7=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},NF=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cge=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],l=r[2];if(!l)return $7(t,e);var u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",$7(a,e)).replace("{{time}}",NF(l,e))},uge={p:NF,P:cge},dge=uge,hge=["D","DD"],pge=["YY","YYYY"];function fge(n){return hge.indexOf(n)!==-1}function _ge(n){return pge.indexOf(n)!==-1}function q7(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var mge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vge=function(t,e,r){var a,l=mge[t];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function nx(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var gge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ege={date:nx({formats:gge,defaultWidth:"full"}),time:nx({formats:bge,defaultWidth:"full"}),dateTime:nx({formats:yge,defaultWidth:"full"})},wge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xge=function(t,e,r,a){return wge[t]};function If(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=e!=null&&e.width?String(e.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var Sge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ige={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Age=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Oge={ordinalNumber:Age,era:If({values:Sge,defaultWidth:"wide"}),quarter:If({values:Tge,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:If({values:kge,defaultWidth:"wide"}),day:If({values:Cge,defaultWidth:"wide"}),dayPeriod:If({values:Nge,defaultWidth:"wide",formattingValues:Ige,defaultFormattingWidth:"wide"})};function Af(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;var u=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Mge(h,function(x){return x.test(u)}):Rge(h,function(x){return x.test(u)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var g=t.slice(u.length);return{value:m,rest:g}}}function Rge(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Mge(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Dge(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],l=t.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}var Lge=/^(\d+)(th|st|nd|rd)?/i,Uge=/\d+/i,Pge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fge={any:[/^b/i,/^(a|c)/i]},Hge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bge={any:[/1/i,/2/i,/3/i,/4/i]},Vge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kge={ordinalNumber:Dge({matchPattern:Lge,parsePattern:Uge,valueCallback:function(t){return parseInt(t,10)}}),era:Af({matchPatterns:Pge,defaultMatchWidth:"wide",parsePatterns:Fge,defaultParseWidth:"any"}),quarter:Af({matchPatterns:Hge,defaultMatchWidth:"wide",parsePatterns:Bge,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Af({matchPatterns:Vge,defaultMatchWidth:"wide",parsePatterns:zge,defaultParseWidth:"any"}),day:Af({matchPatterns:$ge,defaultMatchWidth:"wide",parsePatterns:qge,defaultParseWidth:"any"}),dayPeriod:Af({matchPatterns:Gge,defaultMatchWidth:"any",parsePatterns:jge,defaultParseWidth:"any"})},Wge={code:"en-US",formatDistance:vge,formatLong:Ege,formatRelative:xge,localize:Oge,match:Kge,options:{weekStartsOn:0,firstWeekContainsDate:1}},Qge=Wge,Yge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zge=/^'([^]*?)'?$/,Jge=/''/g,ebe=/[a-zA-Z]/;function G7(n,t,e){var r,a,l,u,h,f,m,g,x,E,w,T,A,P,C,k,I,D;ns(2,arguments);var U=String(t),O=$1(),N=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:O.locale)!==null&&r!==void 0?r:Qge,L=rh((l=(u=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&h!==void 0?h:O.firstWeekContainsDate)!==null&&u!==void 0?u:(x=O.locale)===null||x===void 0||(E=x.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=rh((w=(T=(A=(P=e==null?void 0:e.weekStartsOn)!==null&&P!==void 0?P:e==null||(C=e.locale)===null||C===void 0||(k=C.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:O.weekStartsOn)!==null&&T!==void 0?T:(I=O.locale)===null||I===void 0||(D=I.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&w!==void 0?w:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var z=Al(n);if(!Xve(z))throw new RangeError("Invalid time value");var ae=Qve(z),fe=Zve(z,ae),B={firstWeekContainsDate:L,weekStartsOn:K,locale:N,_originalDate:z},J=U.match(Xge).map(function(ce){var W=ce[0];if(W==="p"||W==="P"){var _e=dge[W];return _e(ce,N.formatLong)}return ce}).join("").match(Yge).map(function(ce){if(ce==="''")return"'";var W=ce[0];if(W==="'")return nbe(ce);var _e=lge[W];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&_ge(ce)&&q7(ce,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&fge(ce)&&q7(ce,t,String(n)),_e(fe,ce,N.localize,B);if(W.match(ebe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return ce}).join("");return J}function nbe(n){var t=n.match(Zge);return t?t[1].replace(Jge,"'"):n}cn.exports.string.isRequired,cn.exports.string.isRequired,cn.exports.string,cn.exports.string,cn.exports.string,cn.exports.string,cn.exports.func,cn.exports.string,cn.exports.string,cn.exports.string,cn.exports.bool,cn.exports.bool,cn.exports.bool,cn.exports.func,cn.exports.func,cn.exports.shape({}),cn.exports.shape({logLevel:cn.exports.oneOfType([cn.exports.string,cn.exports.arrayOf(cn.exports.string)]),isREMUnitEnabled:cn.exports.bool}),cn.exports.bool,cn.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),cn.exports.bool,cn.exports.bool,cn.exports.objectOf(cn.exports.string),cn.exports.objectOf(cn.exports.string),cn.exports.shape({compressionRate:cn.exports.number,resizingWidth:cn.exports.oneOfType([cn.exports.number,cn.exports.string]),resizingHeight:cn.exports.oneOfType([cn.exports.number,cn.exports.string])}),cn.exports.bool,cn.exports.bool,cn.exports.bool,cn.exports.shape({maxRecordingTime:cn.exports.number,minRecordingTime:cn.exports.number}),cn.exports.bool,cn.exports.bool;const j7=n=>ip(n.createdAt,"p"),tbe=(n,t)=>typeof t!="number"||typeof t=="number"&&t>n,Ou=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const e=10,r=n;if(!(r>e))try{const a=(t==null?void 0:t.current)||document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");a.scrollTop=a.scrollHeight}catch{setTimeout(()=>{Ou(r+1,t)},500*r)}},K7=(n,t)=>{var e,r,a,l;if(!(n&&t&&n!==null&&n!==void 0&&n.messageType&&n.messageType!=="admin"&&t!==null&&t!==void 0&&t.messageType&&t.messageType!=="admin"&&n!==null&&n!==void 0&&n.sender&&t!==null&&t!==void 0&&t.sender&&n!==null&&n!==void 0&&n.createdAt&&t!==null&&t!==void 0&&t.createdAt&&n!==null&&n!==void 0&&(e=n.sender)!==null&&e!==void 0&&e.userId&&t!==null&&t!==void 0&&(r=t.sender)!==null&&r!==void 0&&r.userId))return!1;const u=n,h=t;return(u==null?void 0:u.sendingStatus)===(h==null?void 0:h.sendingStatus)&&(u==null||(a=u.sender)===null||a===void 0?void 0:a.userId)===(h==null||(l=h.sender)===null||l===void 0?void 0:l.userId)&&j7(n)===j7(t)},rbe=(n,t,e)=>[K7(n,t),K7(t,e)],ibe=n=>Math.abs(n)>999999?`${(Math.abs(n)/1e6).toFixed(1)}M`:Math.abs(n)>999?`${(Math.abs(n)/1e3).toFixed(1)}K`:`${n}`,abe=(n,t)=>!((n==null?void 0:n.operators).map(r=>r.userId).indexOf(t)<0),sbe=(n,t)=>(n==null?void 0:n.isFrozen)&&!abe(n,t),obe=(n,t)=>n.indexOf(t)>-1,tx=(n,t,e)=>{const r=a=>{const{hasNext:l}=a;l?a.next().then(u=>{e(u),r(a)}).catch(u=>{t.warning("OpenChannel | FetchUserList failed",u)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),r(n)},Pg=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},IF="SET_CURRENT_CHANNEL",B6="SET_CHANNEL_INVALID",AF="RESET_MESSAGES",OF="EXIT_CURRENT_CHANNEL",RF="GET_PREV_MESSAGES_START",AT="GET_PREV_MESSAGES_SUCESS",s1="GET_PREV_MESSAGES_FAIL",Y0="SENDING_MESSAGE_FAILED",Ru="SENDING_MESSAGE_SUCCEEDED",Y_="SENDING_MESSAGE_START",MF="RESENDING_MESSAGE_START",DF="FETCH_PARTICIPANT_LIST",LF="FETCH_BANNED_USER_LIST",V6="FETCH_MUTED_USER_LIST",UF="TRIM_MESSAGE_LIST",PF="ON_MESSAGE_RECEIVED",q1="ON_MESSAGE_UPDATED",G1="ON_MESSAGE_DELETED",FF="ON_MESSAGE_DELETED_BY_REQ_ID",HF="ON_OPERATOR_UPDATED",BF="ON_USER_ENTERED",VF="ON_USER_EXITED",OT="ON_USER_MUTED",zF="ON_USER_UNMUTED",$F="ON_USER_BANNED",qF="ON_USER_UNBANNED",GF="ON_CHANNEL_FROZEN",jF="ON_CHANNEL_UNFROZEN",KF="ON_CHANNEL_CHANGED",WF="ON_CHANNEL_DELETED",QF="ON_META_DATA_CREATED",YF="ON_META_DATA_UPDATED",XF="ON_META_DATA_DELETED",ZF="ON_META_COUNTERS_CREATED",JF="ON_META_COUNTERS_UPDATED",eH="ON_META_COUNTERS_DELETED",nH="ON_MENTION_RECEIVED";function lbe(n,t){switch(t.type){case AF:return gn(gn({},n),{},{allMessages:[]});case OF:{var e,r;return((e=t.payload)===null||e===void 0?void 0:e.url)===((r=n.currentOpenChannel)===null||r===void 0?void 0:r.url)?gn(gn({},n),{},{currentOpenChannel:null}):n}case IF:{const l=t.payload,u=l.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===l.url?n:gn(gn({},n),{},{currentOpenChannel:l,isInvalid:!1,operators:u,participants:u,bannedParticipantIds:[],mutedParticipantIds:[]})}case B6:return gn(gn({},n),{},{isInvalid:!0});case RF:return gn(gn({},n),{},{loading:!0});case AT:case s1:{const l=t.type===s1,{currentOpenChannel:u={},messages:h=[],hasMore:f,lastMessageTimestamp:m}=t.payload,g=u.url,x=l?[]:h,E=l?!1:f,w=l?0:m,A=n.currentOpenChannel.url;if(g!==A)return n;const P=n.allMessages.filter(C=>!x.find(k=>{let{messageId:I}=k;return Xl(I,C.messageId)}));return gn(gn({},n),{},{loading:!1,initialized:!0,hasMore:E,lastMessageTimestamp:w,allMessages:[...x,...P]})}case Y_:{const{message:l,channel:u}=t.payload;return(u==null?void 0:u.url)!==n.currentOpenChannel.url||n.allMessages.some(h=>h.reqId===l.reqId)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,l]})}case Ru:{const l=t.payload,u=n.allMessages.map(h=>Xl(h.reqId,l.reqId)?l:h);return gn(gn({},n),{},{allMessages:u})}case Y0:{const l=t.payload;return l.sendingStatus="failed",n.allMessages.some(u=>(u==null?void 0:u.reqId)===(l==null?void 0:l.reqId))?gn(gn({},n),{},{allMessages:n.allMessages.map(u=>Xl(u.reqId,l.reqId)?l:u)}):gn(gn({},n),{},{allMessages:[...n.allMessages.filter(u=>!Xl(u.reqId,l)),l]})}case UF:{var a;const{allMessages:l}=n,u=(a=t.payload)===null||a===void 0?void 0:a.messageLimit;if(u&&u>0&&(l==null?void 0:l.length)>u){const h=l.length-u;return gn(gn({},n),{},{allMessages:l.slice(h)})}return n}case MF:{const l=t.payload.channel,u=t.payload.message;return l.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(h=>Xl(h.reqId,u.reqId)?u:h)})}case DF:{const l=t.payload.channel,u=t.payload.users;return l.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{participants:[...n.participants,...u]})}case LF:{const l=t.payload.channel,u=t.payload.users;return l.url!==n.currentOpenChannel.url||!u.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,...u.map(h=>h.userId)]})}case V6:{const l=t.payload.channel,u=t.payload.users;return l.url!==n.currentOpenChannel.url||!u.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,...u.map(h=>h.userId)]})}case PF:{const l=t.payload.channel,u=t.payload.message,{currentOpenChannel:h}=n;return!Xl(l.url,h.url)||!(n.allMessages.map(f=>f.messageId).indexOf(u.messageId)<0)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,u]})}case q1:{const l=t.payload.channel,u=t.payload.message,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(f=>f.isIdentical(u)?u:f)})}case G1:{const l=t.payload.channel,u=t.payload.messageId,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{allMessages:n.allMessages.filter(f=>!Xl(f.messageId,u))})}case FF:return gn(gn({},n),{},{allMessages:n.allMessages.filter(l=>!Xl(l.reqId,t.payload))});case HF:{const l=t.payload.channel,u=t.payload.operators,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{currentOpenChannel:l,operators:u})}case BF:{const l=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{participants:[...n.participants,u]})}case VF:{const l=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{participants:n.participants.filter(f=>!Xl(f.userId,u.userId))})}case OT:{const l=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url||n.mutedParticipantIds.indexOf(u.userId)>=0?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,u.userId]})}case zF:{const l=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url||n.mutedParticipantIds.indexOf(u.userId)<0?n:gn(gn({},n),{},{mutedParticipantIds:n.mutedParticipantIds.filter(f=>f!==u.userId)})}case $F:{const l=t.payload.channel,u=t.payload.user,h=t.payload.currentUser,f=n.currentOpenChannel;return(f==null?void 0:f.url)===(l==null?void 0:l.url)&&(u==null?void 0:u.userId)===(h==null?void 0:h.userId)?gn(gn({},n),{},{currentOpenChannel:null}):(f==null?void 0:f.url)===(l==null?void 0:l.url)?gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,u.userId]}):n}case qF:{const l=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return(h==null?void 0:h.url)===(l==null?void 0:l.url)?gn(gn({},n),{},{bannedParticipantIds:n.bannedParticipantIds.filter(f=>f!==u.userId)}):n}case GF:{const l=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==l.url?n:gn(gn({},n),{},{frozen:!0})}case jF:{const l=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==l.url?n:gn(gn({},n),{},{frozen:!1})}case KF:{const l=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==l.url?n:gn(gn({},n),{},{currentOpenChannel:l})}case WF:{const l=t.payload,u=n==null?void 0:n.currentOpenChannel;return(u==null?void 0:u.url)===l?gn(gn({},n),{},{currentOpenChannel:null}):n}case QF:return n;case YF:return n;case XF:return n;case ZF:return n;case JF:return n;case eH:return n;case nH:return n;default:return n}}const cbe={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function ube(n,t){let{channelUrl:e,sdkInit:r,fetchingParticipants:a,userId:l,currentOpenChannel:u}=n,{sdk:h,logger:f,messagesDispatcher:m}=t;Q.useEffect(()=>{if(e&&r&&h!==null&&h!==void 0&&h.openChannel){if(u&&u!==null&&u!==void 0&&u.exit){var g;(g=u.exit)===null||g===void 0||g.call(u).then(()=>{f.info("OpenChannel | useSetChannel: Exit from the previous open channel",u==null?void 0:u.url),m({type:OF,payload:u})})}f.info("OpenChannel | useSetChannel: Fetching channel",e),h.openChannel.getChannel(e).then(x=>{f.info("OpenChannel | useSetChannel: Succeeded to fetch channel",x),m({type:IF,payload:x}),x.enter().then(()=>{if(x.isOperator(l)){const E=x.createBannedUserListQuery(),w=x.createMutedUserListQuery();tx(E,f,T=>{m({type:LF,payload:{channel:x,users:T}})}),tx(w,f,T=>{m({type:V6,payload:{channel:x,users:T}})})}else x.getMyMutedInfo().then(E=>{E!=null&&E.isMuted&&m({type:V6,payload:{channel:x,users:[h==null?void 0:h.currentUser]}})});if(a){const E=x.createParticipantListQuery({limit:x.participantCount});tx(E,f,w=>{m({type:DF,payload:{channel:x,users:w}})})}}).catch(E=>{f.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:e,error:E}),m({type:B6,payload:null})})}).catch(x=>{f.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:e,error:x}),m({type:B6,payload:null})})}},[e,r,a])}function dbe(n,t){let{currentOpenChannel:e,checkScrollBottom:r}=n,{sdk:a,logger:l,messagesDispatcher:u,scrollRef:h}=t;Q.useEffect(()=>{var f;const m=im();if(e&&e.url&&a!==null&&a!==void 0&&(f=a.openChannel)!==null&&f!==void 0&&f.addOpenChannelHandler){var g;l.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",m);const x={onMessageReceived:(w,T)=>{const A=r(),P=w==null?void 0:w.url;if(l.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:P,message:T}),u({type:PF,payload:{channel:w,message:T}}),A)try{setTimeout(()=>{Ou(0,h)})}catch{l.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:A,message:T}),u({type:q1,payload:{channel:w,message:T}})},onMessageDeleted:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:A,messageId:T}),u({type:G1,payload:{channel:w,messageId:T}})},onOperatorUpdated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:A,operators:T}),u({type:HF,payload:{channel:w,operators:T}})},onUserEntered:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:A,user:T}),u({type:BF,payload:{channel:w,user:T}})},onUserExited:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:A,user:T}),u({type:VF,payload:{channel:w,user:T}})},onUserMuted:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:A,user:T}),u({type:OT,payload:{channel:w,user:T}})},onUserUnmuted:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:A,user:T}),u({type:zF,payload:{channel:w,user:T}})},onUserBanned:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:A,user:T}),u({type:$F,payload:{channel:w,user:T,currentUser:a==null?void 0:a.currentUser}})},onUserUnbanned:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:A,user:T}),u({type:qF,payload:{channel:w,user:T}})},onChannelFrozen:w=>{l.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",w),u({type:GF,payload:w})},onChannelUnfrozen:w=>{l.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",w),u({type:jF,payload:w})},onChannelChanged:w=>{l.info("OpenChannel | useHandleChannelEvents: onChannelChanged",w),u({type:KF,payload:w})},onMetaDataCreated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:A,metaData:T}),u({type:QF,payload:{channel:w,metaData:T}})},onMetaDataUpdated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:A,metaData:T}),u({type:YF,payload:{channel:w,metaData:T}})},onMetaDataDeleted:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:A,metaDataKeys:T}),u({type:XF,payload:{channel:w,metaDataKeys:T}})},onMetaCounterCreated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:A,metaCounter:T}),u({type:ZF,payload:{channel:w,metaCounter:T}})},onMetaCounterUpdated:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:A,metaCounter:T}),u({type:JF,payload:{channel:w,metaCounter:T}})},onMetaCounterDeleted:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:A,metaCounterKeys:T}),u({type:eH,payload:{channel:w,metaCounterKeys:T}})},onMentionReceived:(w,T)=>{const A=w==null?void 0:w.url;l.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:A,message:T}),u({type:nH,payload:{channel:w,message:T}})},onChannelDeleted:(w,T)=>{T===rr.OPEN&&(e==null?void 0:e.url)===w&&u({type:WF,payload:w})}},E=new ehe(x);a==null||(g=a.openChannel)===null||g===void 0||g.addOpenChannelHandler(m,E)}return()=>{var x;a!=null&&(x=a.openChannel)!==null&&x!==void 0&&x.removeOpenChannelHandler&&(l.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",m),a.openChannel.removeOpenChannelHandler(m))}},[e])}function hbe(n,t){let{currentOpenChannel:e,userFilledMessageListParams:r}=n,{logger:a,messagesDispatcher:l,scrollRef:u}=t;Q.useEffect(()=>{if(a.info("OpenChannel | useInitialMessagesFetch: Setup started",e),l({type:AF,payload:null}),e&&e.getMessagesByTimestamp){const h={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(f=>{h[f]=r[f]}),a.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),a.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:e,messageListParams:h}),l({type:RF,payload:null}),e.getMessagesByTimestamp(new Date().getTime(),h).then(f=>{a.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",f);const m=f&&f.length>0,g=m?f[0].createdAt:null;l({type:AT,payload:{currentOpenChannel:e,messages:f,hasMore:m,lastMessageTimestamp:g}}),setTimeout(()=>{Ou(0,u)})}).catch(f=>{a.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",f),l({type:s1,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r])}function pbe(n,t){let{currentOpenChannel:e,lastMessageTimestamp:r,fetchMore:a}=n,{sdk:l,logger:u,messagesDispatcher:h,hasMore:f,userFilledMessageListParams:m}=t;return Q.useCallback(g=>{if(a&&f){u.info("OpenChannel | useScrollCallback: start");const x={prevResultSize:30,includeReactions:!1,nextResultSize:0};m&&(Object.keys(m).forEach(E=>{x[E]=m[E]}),u.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",m)),u.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:e,messageListParams:x}),e.getMessagesByTimestamp(r||new Date().getTime(),x).then(E=>{u.info("OpenChannel | useScrollCallback: Fetching messages succeeded",E);const w=E&&E.length>0,T=w?E[0].createdAt:null;h({type:AT,payload:{currentOpenChannel:e,messages:E,hasMore:w,lastMessageTimestamp:T}}),setTimeout(()=>{g()})}).catch(E=>{u.error("OpenChannel | useScrollCallback: Fetching messages failed",E),h({type:s1,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r,a,l])}function fbe(n,t){let{conversationScrollRef:e}=n,{logger:r}=t;return Q.useCallback(()=>{let a=!0;if(e&&e!==null&&e!==void 0&&e.current)try{const l=e.current;a=l.scrollHeight<=l.scrollTop+l.clientHeight}catch(l){r.error("OpenChannel | useCheckScrollBottom",l)}return a},[e])}function _be(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r,checkScrollBottom:a,messageInputRef:l}=n,{sdk:u,logger:h,messagesDispatcher:f,scrollRef:m}=t;return Q.useCallback(()=>{if(u){const g=l.current.innerText,x=P=>({message:P});r&&typeof r=="function"&&h.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);const w=r?r(g):x(g);h.info("OpenChannel | useSendMessageCallback: Sending message has started",w);const T=a();let A=null;e.sendUserMessage(w).onPending(P=>{f({type:Y_,payload:{message:P,channel:e}}),A=P}).onSucceeded(P=>{h.info("OpenChannel | useSendMessageCallback: Sending message succeeded",P),f({type:Ru,payload:P}),T&&setTimeout(()=>{Ou(0,m)})}).onFailed(P=>{h.warning("OpenChannel | useSendMessageCallback: Sending message failed",P),f({type:Y0,payload:A}),(P==null?void 0:P.code)===900041&&f({type:OT,payload:{channel:e,user:u.currentUser}})})}},[e,r,a,l])}function mbe(n,t){let{currentOpenChannel:e,checkScrollBottom:r,imageCompression:a={},onBeforeSendFileMessage:l}=n,{sdk:u,logger:h,messagesDispatcher:f,scrollRef:m}=t;return Q.useCallback(g=>{if(u){const{compressionRate:x,resizingWidth:E,resizingHeight:w}=a,T=l&&typeof l=="function",A=g.type==="image/jpg"||g.type==="image/png"||g.type==="image/jpeg",P=x>0&&x<1,C=Pg(E)||Pg(w),k=A&&(P||C),I=D=>{const U={};return U.file=D,U};if(k)try{const D=document.createElement("img");D.src=URL.createObjectURL(g),D.onload=()=>{URL.revokeObjectURL(D.src);const U=document.createElement("canvas"),O=D.naturalWidth||D.width,N=D.naturalHeight||D.height;let L=Pg(E)||O,K=Pg(w)||N;g.type==="image/png"&&!C&&(L*=x,K*=x),U.width=L,U.height=K;const z=U.getContext("2d");z.drawImage(D,0,0,L,K),z.canvas.toBlob(ae=>{const fe=new File([ae],g.name,{type:g.type});T&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",l);const B=l?l(fe):I(fe);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",B);const J=r();e.sendFileMessage(B).onPending(ce=>{f({type:Y_,payload:{message:gn(gn({},ce),{},{url:URL.createObjectURL(g),requestState:"pending"}),channel:e}})}).onSucceeded(ce=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",ce),f({type:Ru,payload:ce}),J&&setTimeout(()=>{Ou(0,m)})}).onFailed((ce,W)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:W,error:ce}),W.localUrl=URL.createObjectURL(g),W.file=g,f({type:Y0,payload:W})})},g.type,x)}}catch(D){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",D)}else{T&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",l);const D=l?l(g):I(g);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",D);const U=r();e.sendFileMessage(D).onPending(O=>{f({type:Y_,payload:{message:gn(gn({},O),{},{url:URL.createObjectURL(g),requestState:"pending"}),channel:e}})}).onSucceeded(O=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",O),f({type:Ru,payload:O}),U&&setTimeout(()=>{Ou(0,m)})}).onFailed((O,N)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:N,error:O}),N.localUrl=URL.createObjectURL(g),N.file=g,f({type:Y0,payload:N})})}}},[e,l,r,a])}function vbe(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r}=n,{logger:a,messagesDispatcher:l}=t;return Q.useCallback((u,h,f)=>{const m=x=>({message:x});r&&typeof r=="function"&&a.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");const g=r?r(h):m(h);e.updateUserMessage(u,g).then(x=>{f&&f(),a.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:x,params:g}),l({type:q1,payload:{channel:e,message:x}})})},[e,r])}function gbe(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return Q.useCallback((l,u)=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message",l);const{sendingStatus:h}=l;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",h),h==="failed"||h==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",l),a({type:FF,payload:l.reqId}),u&&u();else{if(!(l.messageType==="file"||l.messageType==="user"))return;const f=l;e.deleteMessage(f).then(()=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",h),u&&u(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",l),a({type:G1,payload:{channel:e,messageId:l.messageId}})}).catch(m=>{r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",m)})}},[e])}function bbe(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return Q.useCallback(l=>{r.info("OpenChannel | useResendMessageCallback: Resending message has started",l);const{messageType:u,file:h}=l;l&&typeof l.isResendable=="function"&&l.isResendable?(l.requestState="pending",a({type:MF,payload:{channel:e,message:l}}),u==="user"&&l.messageType==="user"&&e.resendUserMessage(l).then(f=>{r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),a({type:Ru,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),l.requestState="failed",a({type:Y0,payload:l})}),u==="file"&&l.messageType==="file"&&e.resendFileMessage(l,h).then(f=>{r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),a({type:Ru,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),l.requestState="failed",a({type:Y0,payload:l})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",l))},[e])}const ybe=5e3;function Ebe(n,t){let{messagesLength:e,messageLimit:r}=n,{messagesDispatcher:a,logger:l}=t;const[u,h]=Q.useState(!1);Q.useEffect(()=>{u||(typeof e=="number"&&e>r&&(l.info("Trimming MessageList"),a({type:UF,payload:{messageLimit:r}})),h(!0),setTimeout(()=>{h(!1)},ybe))},[e,r])}const tH=M.createContext(void 0),wbe=n=>{var t,e,r,a,l,u;const{channelUrl:h,children:f,isMessageGroupingEnabled:m=!0,queries:g,onBeforeSendUserMessage:x,messageLimit:E,onBeforeSendFileMessage:w,onChatHeaderActionClick:T,onBackClick:A}=n,P=!1,C=go(),k=C==null||(t=C.stores)===null||t===void 0||(e=t.sdkStore)===null||e===void 0?void 0:e.sdk,I=C==null||(r=C.stores)===null||r===void 0||(a=r.sdkStore)===null||a===void 0?void 0:a.initialized,D=C==null||(l=C.stores)===null||l===void 0||(u=l.userStore)===null||u===void 0?void 0:u.user,U=C==null?void 0:C.config,{userId:O,isOnline:N,logger:L,pubSub:K,imageCompression:z}=U,[ae,fe]=Q.useReducer(lbe,cbe),{allMessages:B,loading:J,initialized:ce,currentOpenChannel:W,isInvalid:_e,hasMore:oe,lastMessageTimestamp:le,operators:ve,bannedParticipantIds:De,mutedParticipantIds:pe}=ae,he=Q.useRef(null),G=Q.useRef(null),ee=g==null?void 0:g.messageListParams,$=!ce||!N||sbe(W,O)||obe(pe,O),ie=Q.useMemo(()=>De.indexOf(D.userId)>=0,[h,De,D]),Oe=Q.useMemo(()=>pe.indexOf(D.userId)>=0,[h,pe,D]),qe=Q.useMemo(()=>ve.map(vn=>vn.userId).indexOf(D.userId)>=0,[h,ve,D]);ube({channelUrl:h,sdkInit:I,fetchingParticipants:P,userId:O,currentOpenChannel:W},{sdk:k,logger:L,messagesDispatcher:fe});const Re=fbe({conversationScrollRef:G},{logger:L});dbe({currentOpenChannel:W,checkScrollBottom:Re},{sdk:k,logger:L,messagesDispatcher:fe,scrollRef:G}),hbe({currentOpenChannel:W,userFilledMessageListParams:ee},{logger:L,messagesDispatcher:fe,scrollRef:G});const Se=tbe(B==null?void 0:B.length,E),je=pbe({currentOpenChannel:W,lastMessageTimestamp:le,fetchMore:Se},{sdk:k,logger:L,messagesDispatcher:fe,hasMore:oe,userFilledMessageListParams:ee}),Be=_be({currentOpenChannel:W,onBeforeSendUserMessage:x,checkScrollBottom:Re,messageInputRef:he},{sdk:k,logger:L,messagesDispatcher:fe,scrollRef:G}),We=mbe({currentOpenChannel:W,onBeforeSendFileMessage:w,checkScrollBottom:Re,imageCompression:z},{sdk:k,logger:L,messagesDispatcher:fe,scrollRef:G}),rn=vbe({currentOpenChannel:W,onBeforeSendUserMessage:x},{logger:L,messagesDispatcher:fe}),un=gbe({currentOpenChannel:W},{logger:L,messagesDispatcher:fe}),pn=bbe({currentOpenChannel:W},{logger:L,messagesDispatcher:fe});return Ebe({messagesLength:B==null?void 0:B.length,messageLimit:E},{messagesDispatcher:fe,logger:L}),Q.useEffect(()=>{const vn=new Map;if(!(!K||!K.subscribe))return vn.set(Bi.SEND_USER_MESSAGE,K.subscribe(Bi.SEND_USER_MESSAGE,Hn=>{const{channel:Tn,message:j}=Hn;Ou(0,G),Tn&&h===(Tn==null?void 0:Tn.url)&&fe({type:Ru,payload:j})})),vn.set(Bi.SEND_MESSAGE_START,K.subscribe(Bi.SEND_MESSAGE_START,Hn=>{const{channel:Tn,message:j}=Hn;Tn&&h===(Tn==null?void 0:Tn.url)&&fe({type:Y_,payload:{message:j,channel:Tn}})})),vn.set(Bi.SEND_FILE_MESSAGE,K.subscribe(Bi.SEND_FILE_MESSAGE,Hn=>{const{channel:Tn,message:j}=Hn;Ou(0,G),Tn&&h===(Tn==null?void 0:Tn.url)&&fe({type:Ru,payload:{message:j,channel:Tn}})})),vn.set(Bi.UPDATE_USER_MESSAGE,K.subscribe(Bi.UPDATE_USER_MESSAGE,Hn=>{const{channel:Tn,message:j,fromSelector:te}=Hn;te&&Tn&&h===(Tn==null?void 0:Tn.url)&&fe({type:q1,payload:{channel:Tn,message:j}})})),vn.set(Bi.DELETE_MESSAGE,K.subscribe(Bi.DELETE_MESSAGE,Hn=>{const{channel:Tn,messageId:j}=Hn;Tn&&h===(Tn==null?void 0:Tn.url)&&fe({type:G1,payload:j})})),()=>{vn&&vn.forEach(Hn=>{try{Hn.remove()}catch{}})}},[h,I]),M.createElement(tH.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:m,queries:g,onBeforeSendUserMessage:x,messageLimit:E,onBeforeSendFileMessage:w,onChatHeaderActionClick:T,onBackClick:A,allMessages:B,loading:J,initialized:ce,currentOpenChannel:W,isInvalid:_e,hasMore:oe,lastMessageTimestamp:le,operators:ve,bannedParticipantIds:De,mutedParticipantIds:pe,messageInputRef:he,conversationScrollRef:G,disabled:$,amIBanned:ie,amIMuted:Oe,amIOperator:qe,checkScrollBottom:Re,fetchMore:Se,onScroll:je,handleSendMessage:Be,handleFileUpload:We,updateMessage:rn,deleteMessage:un,resendMessage:pn}},M.createElement(CT,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},f))},lm=()=>M.useContext(tH),xbe=(n,t)=>{const{currentOpenChannel:e,disabled:r,handleSendMessage:a,handleFileUpload:l}=lm();if(!e)return;const{stringSet:h}=Q.useContext(jo),{value:f}=n;return M.createElement("div",{className:"sendbird-openchannel-footer"},M.createElement(V1,{ref:t,value:f,disabled:r,isVoiceMessageEnabled:!1,onSendMessage:a,onFileUpload:l,placeholder:r&&h.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))};var Sbe=M.forwardRef(xbe);const Tbe=()=>{const{stringSet:n}=Q.useContext(jo);return M.createElement("div",{className:"sendbird-frozen-channel-notification"},M.createElement(Vt,{className:"sendbird-frozen-channel-notification__text",type:qt.CAPTION_2},n.CHANNEL_FROZEN))};function kbe(){const{stringSet:n}=Q.useContext(jo),{currentOpenChannel:t,onChatHeaderActionClick:e,amIOperator:r,onBackClick:a}=lm(),l=t==null?void 0:t.name,u=`${ibe(t==null?void 0:t.participantCount)} ${n.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS}`,h=t==null?void 0:t.coverUrl,{isMobile:f}=ph();return M.createElement("div",{className:"sendbird-openchannel-conversation-header"},M.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},f&&M.createElement(Jt,{className:"sendbird-oepnchannel-header__icon_back",onClick:a,fillColor:tr.PRIMARY,width:"24px",height:"24px",type:jt.ARROW_LEFT}),h?M.createElement(fh,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:h,alt:"channel cover image",width:"32px",height:"32px"}):M.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},M.createElement(Jt,{type:jt.CHANNELS,fillColor:tr.CONTENT,width:"18px",height:"18px"})),M.createElement(Vt,{className:"sendbird-openchannel-conversation-header__left__title",type:qt.H_2,color:Lt.ONBACKGROUND_1},l||n.NO_TITLE),M.createElement(Vt,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:qt.BODY_2,color:Lt.ONBACKGROUND_2},u||n.NO_TITLE)),M.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},M.createElement(mc,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:e},M.createElement(Jt,{type:r?jt.INFO:jt.MEMBERS,fillColor:tr.PRIMARY,width:"24px",height:"24px"}))))}const o1=n=>{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},RT={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},cm=n=>n.sender||n._sender,MT=n=>n===RT.SUCCEEDED,j1=n=>n===RT.PENDING,um=n=>n===RT.FAILED,DT=(n,t)=>cm(n).userId===t,K1=n=>{var t;let{message:e}=n;return(e==null?void 0:e.messageType)==="user"&&(e==null||(t=e.message)===null||t===void 0?void 0:t.length)>0},Ec=n=>{let{message:t,status:e,userId:r}=n;return DT(t,r)&&um(e)&&(t==null?void 0:t.isResendable())},W1=n=>{var t;let{message:e,status:r,userId:a}=n;return DT(e,a)&&MT(r)&&(e==null||(t=e.isUserMessage)===null||t===void 0?void 0:t.call(e))},ih=n=>{let{message:t,userId:e}=n;return DT(t,e)},Cbe=n=>{var t;let{message:e,status:r}=n;return!!(e!=null&&(t=e.isFileMessage)!==null&&t!==void 0&&t.call(e)&&MT(r))},Q1=n=>{const{message:t,status:e,userId:r}=n;return t.messageType==="user"?ih({message:t,status:e,userId:r})||W1({message:t,status:e,userId:r})||K1({message:t,status:e,userId:r})||Ec({message:t,status:e,userId:r}):ih({message:t,status:e,userId:r})||Ec({message:t,status:e,userId:r})},Y1=n=>{var t,e;const{message:r,parentRef:a,resendMessage:l,showEdit:u,showRemove:h,copyToClipboard:f,hideMenu:m,isEphemeral:g=!1}=n,x=r,E=r==null?void 0:r.sendingStatus,{stringSet:w}=tp(),T=(t=go())===null||t===void 0||(e=t.config)===null||e===void 0?void 0:e.userId,A=r;return M.createElement(Nl,{isOpen:!0,menuItems:()=>M.createElement(Cl,{className:"sendbird-openchannel__mobile-menu",parentRef:a,parentContainRef:a,closeDropdown:m},K1({message:x,userId:T,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{f()}},M.createElement(M.Fragment,null,w.CONTEXT_MENU_DROPDOWN__COPY)),!g&&W1({message:r,userId:T,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{u()}},M.createElement(M.Fragment,null,w.CONTEXT_MENU_DROPDOWN__EDIT)),Ec({message:r,userId:T,status:E})&&M.createElement(fa,{onClick:()=>{l()}},M.createElement(M.Fragment,null,w.CONTEXT_MENU_DROPDOWN__RESEND)),!g&&ih({message:r,userId:T,status:E})&&M.createElement(fa,{onClick:()=>{h()}},M.createElement(M.Fragment,null,w.CONTEXT_MENU_DROPDOWN__DELETE)),Cbe({message:r,status:E})&&M.createElement(fa,{onClick:()=>{m()}},M.createElement("a",{className:"sendbird-openchannel__mobile-menu-hyperlink",rel:"noopener noreferrer",href:A==null?void 0:A.url,target:"_blank"},w.CONTEXT_MENU_DROPDOWN__SAVE)))})};function Nbe(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:l,resendMessage:u,disabled:h,showEdit:f,showRemove:m,chainTop:g}=n;if(!e||e.messageType!=="user")return null;const{stringSet:x,dateLocale:E}=tp(),{disableUserProfile:w,renderUserProfile:T}=Q.useContext(rp),A=Q.useRef(null),P=Q.useRef(null),C=Q.useRef(null),k=Q.useRef(null),[I,D]=Q.useState({}),[U,O]=Q.useState(!1),N=e==null?void 0:e.sendingStatus,L=j1(N),K=um(N),z=cm(e);Q.useEffect(()=>{var B;(A==null||(B=A.current)===null||B===void 0?void 0:B.clientHeight)>36?D({top:"8px "}):D({top:"2px"})},[window.innerWidth]);const ae=B1({onLongPress:()=>{O(!0)}}),{isMobile:fe}=ph();return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-user-message"].join(" "),ref:A},M.createElement("div",{className:"sendbird-openchannel-user-message__left"},!g&&M.createElement(Nl,{menuTrigger:B=>M.createElement(fh,{className:"sendbird-openchannel-user-message__left__avatar",src:z.profileUrl||"",ref:P,width:"28px",height:"28px",onClick:()=>{w||B()}}),menuItems:B=>M.createElement(Cl,{parentRef:P,parentContainRef:P,closeDropdown:B,style:{paddingTop:"0px",paddingBottom:"0px"}},T?T({user:z,close:B}):M.createElement(am,{user:z,onSuccess:B,disableMessaging:!0}))})),M.createElement("div",{className:"sendbird-openchannel-user-message__right"},!g&&M.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},M.createElement(Vt,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},z&&(z.friendName||z.nickname||z.userId)),M.createElement(Vt,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&ip(e==null?void 0:e.createdAt,"p",{locale:E}))),M.createElement("div",z0({},fe?gn({},ae):{},{className:"sendbird-openchannel-user-message__right__bottom",ref:k}),M.createElement(Vt,{className:"sendbird-openchannel-user-message__right__bottom__message",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},e==null?void 0:e.message,Q0e(e)&&M.createElement(Vt,{key:im(),type:qt.BODY_1,color:Lt.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"},` ${x.MESSAGE_EDITED} `))),(L||K)&&M.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},L&&M.createElement(sm,{width:"16px",height:"16px"},M.createElement(Jt,{className:"sendbird-openchannel-user-message__right__tail__pending",type:jt.SPINNER,fillColor:tr.PRIMARY,width:"16px",height:"16px"})),K&&M.createElement(Jt,{className:"sendbird-openchannel-user-message__right__tail__failed",type:jt.ERROR,fillColor:tr.ERROR,width:"16px",height:"16px"}))),!fe&&M.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:C,style:I},M.createElement(Nl,{menuTrigger:B=>Q1({message:e,userId:l,status:N})&&M.createElement(mc,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:()=>{B()}},M.createElement(Jt,{type:jt.MORE,fillColor:tr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:B=>M.createElement(Cl,{parentRef:C,parentContainRef:C,closeDropdown:B,openLeft:!0},K1({message:e,userId:l,status:N})&&M.createElement(fa,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:()=>{o1(e.message),B()}},x.CONTEXT_MENU_DROPDOWN__COPY),!a&&W1({message:e,userId:l,status:N})&&M.createElement(fa,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:()=>{h||(f(!0),B())}},x.CONTEXT_MENU_DROPDOWN__EDIT),Ec({message:e,userId:l,status:N})&&M.createElement(fa,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:()=>{u(e),B()}},x.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ih({message:e,userId:l,status:N})&&M.createElement(fa,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:()=>{h||(m(!0),B())}},x.CONTEXT_MENU_DROPDOWN__DELETE))})),U&&M.createElement(Y1,{message:e,parentRef:k,hideMenu:()=>{O(!1)},showRemove:()=>{O(!1),m(!0)},showEdit:()=>{O(!1),f(!0)},copyToClipboard:()=>{O(!1),o1(e==null?void 0:e.message)},resendMessage:()=>{O(!1),u(e)}}))}function Ibe(n){let{className:t,message:e}=n;return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-admin-message"].join(" ")},M.createElement(Vt,{className:"sendbird-openchannel-admin-message__text",type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},e.message||""))}const Abe=n=>{const{ogMetaData:t}=n;if(!t)return!1;const{url:e}=t;return!!e};function Obe(n){let{message:t,isOperator:e,isEphemeral:r=!1,className:a,disabled:l,showEdit:u,showRemove:h,resendMessage:f,chainTop:m,userId:g}=n;if(!t||t.messageType!=="user")return null;const x=()=>{if(Abe(t)){const{url:_e}=w;window.open(_e)}},E=t==null?void 0:t.sendingStatus,{ogMetaData:w}=t,{defaultImage:T}=w,{stringSet:A,dateLocale:P}=tp(),{disableUserProfile:C,renderUserProfile:k}=Q.useContext(rp),[I,D]=Q.useState({}),[U,O]=Q.useState(!1),N=B1({onLongPress:()=>O(!0),onClick:x},{delay:300}),L=Q.useRef(null),K=Q.useRef(null),z=Q.useRef(null),ae=Q.useRef(null),fe=j1(E),B=um(E),J=cm(t),{isMobile:ce}=ph(),W=Q.useMemo(()=>bF({messageText:t.message}),[t==null?void 0:t.updatedAt]);return Q.useEffect(()=>{var _e;(L==null||(_e=L.current)===null||_e===void 0?void 0:_e.clientHeight)>36?D({top:"8px "}):D({top:"2px"})},[window.innerWidth]),M.createElement("div",{className:[...Array.isArray(a)?a:[a],"sendbird-openchannel-og-message"].join(" "),ref:L},M.createElement("div",{className:"sendbird-openchannel-og-message__top"},M.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!m&&M.createElement(Nl,{menuTrigger:_e=>M.createElement(fh,{className:"sendbird-openchannel-og-message__top__left__avatar",src:J.profileUrl||"",ref:ae,width:"28px",height:"28px",onClick:()=>{C||_e()}}),menuItems:_e=>M.createElement(Cl,{parentRef:ae,parentContainRef:ae,closeDropdown:_e,style:{paddingTop:"0px",paddingBottom:"0px"}},k?k({user:J,close:_e}):M.createElement(am,{user:J,onSuccess:_e,disableMessaging:!0}))})),M.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!m&&M.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},M.createElement(Vt,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:qt.CAPTION_2,color:e?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},J&&(J.friendName||J.nickname||J.userId)),M.createElement(Vt,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&ip(t==null?void 0:t.createdAt,"p",{locale:P}))),M.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},M.createElement(Vt,{className:"sendbird-openchannel-og-message__top__right__description__message",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},M.createElement(zve,{tokens:W}),(t==null?void 0:t.updatedAt)>0&&M.createElement(Vt,{key:im(),className:"sendbird-openchannel-og-message--word",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},A.MESSAGE_EDITED)))),!ce&&M.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:K,style:I},M.createElement(Nl,{menuTrigger:_e=>Q1({message:t,userId:g,status:E})&&M.createElement(mc,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:()=>{_e()}},M.createElement(Jt,{type:jt.MORE,fillColor:tr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:_e=>M.createElement(Cl,{parentRef:K,parentContainRef:K,closeDropdown:_e,openLeft:!0},K1({message:t,userId:g,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{o1(t.message),_e()}},A.CONTEXT_MENU_DROPDOWN__COPY),!r&&W1({message:t,userId:g,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{l||(u(!0),_e())}},A.CONTEXT_MENU_DROPDOWN__EDIT),Ec({message:t,userId:g,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:()=>{f(t),_e()}},A.CONTEXT_MENU_DROPDOWN__RESEND),!r&&ih({message:t,userId:g,status:E})&&M.createElement(fa,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:()=>{l||(h(!0),_e())}},A.CONTEXT_MENU_DROPDOWN__DELETE))}))),M.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},M.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag",ref:z},w.url&&M.createElement(Vt,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_2},w.url),w.title&&M.createElement(z1,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:w.url,type:qt.SUBTITLE_2,color:Lt.PRIMARY},w.title),w.description&&M.createElement(Vt,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:qt.BODY_2,color:Lt.ONBACKGROUND_1},w.description),w.url&&M.createElement("div",z0({className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:x,onKeyDown:x,tabIndex:0},ce?gn({},N):{}),T&&M.createElement(no,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:T.url||"",alt:T.alt||"",height:"189px",defaultComponent:M.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},M.createElement(Jt,{type:jt.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(fe||B)&&M.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},fe&&M.createElement(sm,{width:"16px",height:"16px"},M.createElement(Jt,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:jt.SPINNER,fillColor:tr.PRIMARY,width:"16px",height:"16px"})),B&&M.createElement(Jt,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:jt.ERROR,fillColor:tr.ERROR,width:"16px",height:"16px"}))),U&&M.createElement(Y1,{message:t,parentRef:z,hideMenu:()=>{O(!1)},showRemove:()=>{O(!1),h(!0)},showEdit:()=>{O(!1),u(!0)},copyToClipboard:()=>{O(!1),o1(t==null?void 0:t.message)},resendMessage:()=>{O(!1),f(t)}}))}const D0={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},W7={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Rbe=n=>W7.IMAGE.indexOf(n)>=0?D0.IMAGE:W7.VIDEO.indexOf(n)>=0?D0.VIDEO:D0.UNSUPPORTED;function Mbe(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,disabled:l,userId:u,chainTop:h,onClick:f,showRemove:m,resendMessage:g}=n;const{type:x,url:E,thumbnails:w,localUrl:T}=e,A=e==null?void 0:e.sendingStatus,P=w&&w.length>0&&w[0].url||null,{stringSet:C,dateLocale:k}=tp(),{disableUserProfile:I,renderUserProfile:D}=Q.useContext(rp),[U,O]=Q.useState(360),[N,L]=Q.useState(!1),K=Q.useRef(null),z=Q.useRef(null),ae=Q.useRef(null),fe=Q.useRef(null),B=B1({onLongPress:()=>{L(!0)},onClick:()=>{f(!0)}}),{isMobile:J}=ph(),ce=Q.useMemo(()=>ve=>De=>{let{style:pe}=De;return M.createElement("div",{style:pe},M.createElement(Jt,{type:ve,fillColor:tr.ON_BACKGROUND_2,width:"56px",height:"56px"}))},[]),W=MT(A),_e=j1(A),oe=um(A),le=cm(e);return Q.useEffect(()=>{var ve;const De=(K==null||(ve=K.current)===null||ve===void 0?void 0:ve.clientWidth)-80;O(De>360?360:De)},[]),M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-thumbnail-message"].join(" "),ref:K},M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!h&&M.createElement(Nl,{menuTrigger:ve=>M.createElement(fh,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:le.profileUrl||"",ref:fe,width:"28px",height:"28px",onClick:()=>{I||ve()}}),menuItems:ve=>M.createElement(Cl,{parentRef:fe,parentContainRef:fe,closeDropdown:ve,style:{paddingTop:"0px",paddingBottom:"0px"}},D?D({user:le,close:ve}):M.createElement(am,{user:le,onSuccess:ve,disableMessaging:!0}))})),M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!h&&M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},M.createElement(Vt,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},le&&(le.friendName||le.nickname||le.userId)),M.createElement(Vt,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&ip(e.createdAt,"p",{locale:k}))),M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body",ref:z},M.createElement("div",z0({className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:()=>{W&&f(!0)},onKeyDown:()=>{W&&f(!0)},tabIndex:0},J?gn({},B):{}),M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),{[D0.VIDEO]:E||T?M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},P?M.createElement(no,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:P,width:U,height:"270px",alt:"image",placeHolder:ce(jt.PLAY)}):M.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},M.createElement("source",{src:E||T,type:x})),M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:jt.PLAY,fillColor:tr.ON_BACKGROUND_2,width:"56px",height:"56px"})):M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:jt.PHOTO,fillColor:tr.ON_BACKGROUND_2,width:"56px",height:"56px"}),[D0.IMAGE]:E||T?M.createElement(no,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:P||E||T,alt:"image",width:U,height:"270px",placeHolder:ce(jt.PHOTO)}):M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:jt.PHOTO,fillColor:tr.ON_BACKGROUND_2,width:"56px",height:"56px"}),[D0.UNSUPPORTED]:M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:jt.PHOTO,fillColor:tr.ON_BACKGROUND_2,width:"56px",height:"56px"})}[Rbe(x)])),(_e||oe)&&M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},_e&&M.createElement(sm,{width:"16px",height:"16px"},M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:jt.SPINNER,fillColor:tr.PRIMARY,width:"16px",height:"16px"})),oe&&M.createElement(Jt,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:jt.ERROR,fillColor:tr.ERROR,width:"16px",height:"16px"}))),!J&&M.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:ae},(Ec({message:e,userId:u,status:A})||!a)&&M.createElement(Nl,{menuTrigger:ve=>Q1({message:e,userId:u,status:A})&&M.createElement(mc,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:ve},M.createElement(Jt,{type:jt.MORE,fillColor:tr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:ve=>M.createElement(Cl,{parentRef:ae,parentContainRef:ae,closeDropdown:ve,openLeft:!0},Ec({message:e,userId:u,status:A})&&M.createElement(fa,{onClick:()=>{g(e),ve()}},C.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ih({message:e,userId:u,status:A})&&M.createElement(fa,{onClick:()=>{l||(m(!0),ve())}},C.CONTEXT_MENU_DROPDOWN__DELETE))})),N&&M.createElement(Y1,{message:e,parentRef:z,hideMenu:()=>{L(!1)},showRemove:()=>{L(!1),m(!0)},resendMessage:()=>{L(!1),g(e)}}))}const Q7=n=>{const t=/(\.mp3)$/i,e=/(\.gif)$/i;return t.test(n)?jt.FILE_AUDIO:e.test(n)?jt.GIF:jt.FILE_DOCUMENT},Dbe=(n,t)=>{if(n==null)return"";if(n.length<=t)return n;const e="...",r=e.length,a=t-r,l=Math.ceil(a/2),u=Math.floor(a/2);return n.substr(0,l)+e+n.substr(n.length-u)};function Lbe(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:l,disabled:u,chainTop:h,showRemove:f,resendMessage:m}=n;const g=e==null?void 0:e.sendingStatus,{dateLocale:x,stringSet:E}=tp(),w=Q.useRef(null),T=Q.useRef(null),A=Q.useRef(null),{disableUserProfile:P,renderUserProfile:C}=Q.useContext(rp),{isMobile:k}=ph(),I=()=>{window.open(e.url)},D=j1(g),U=um(g),O=cm(e),[N,L]=Q.useState(!1),K=B1({onLongPress:()=>{k&&L(!0)},onClick:I},{delay:300});return M.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-file-message"].join(" "),ref:T},M.createElement("div",{className:"sendbird-openchannel-file-message__left"},!h&&M.createElement(Nl,{menuTrigger:z=>M.createElement(fh,{className:"sendbird-openchannel-file-message__left__avatar",src:O.profileUrl||"",ref:A,width:"28px",height:"28px",onClick:()=>{P||z()}}),menuItems:z=>M.createElement(Cl,{parentRef:A,parentContainRef:A,closeDropdown:z,style:{paddingTop:"0px",paddingBottom:"0px"}},C?C({user:O,close:z}):M.createElement(am,{user:O,onSuccess:z,disableMessaging:!0}))})),M.createElement("div",{className:"sendbird-openchannel-file-message__right"},!h&&M.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},M.createElement(Vt,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},O&&(O.friendName||O.nickname||O.userId)),M.createElement(Vt,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&ip(e.createdAt,"p",{locale:x}))),M.createElement("div",z0({className:"sendbird-openchannel-file-message__right__body"},k?gn({},K):{}),Q7(e.url)&&M.createElement(Jt,{className:"sendbird-openchannel-file-message__right__body__icon",type:Q7(e.url),fillColor:tr.PRIMARY,width:"48px",height:"48px"}),M.createElement(zme,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:I},M.createElement(Vt,{type:qt.BODY_1,color:Lt.ONBACKGROUND_1},Dbe(e.name||e.url,40)))),(D||U)&&M.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},D&&M.createElement(sm,{width:"16px",height:"16px"},M.createElement(Jt,{className:"sendbird-openchannel-file-message__right__tail__pending",type:jt.SPINNER,fillColor:tr.PRIMARY,width:"16px",height:"16px"})),U&&M.createElement(Jt,{className:"sendbird-openchannel-file-message__right__tail__failed",type:jt.ERROR,fillColor:tr.ERROR,width:"16px",height:"16px"}))),!k&&M.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:w},(Ec({message:e,userId:l,status:g})||!a)&&M.createElement(Nl,{menuTrigger:z=>Q1({message:e,userId:l,status:g})&&M.createElement(mc,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:z},M.createElement(Jt,{type:jt.MORE,width:"24px",height:"24px"})),menuItems:z=>M.createElement(Cl,{parentRef:w,parentContainRef:w,closeDropdown:z,openLeft:!0},Ec({message:e,userId:l,status:g})&&M.createElement(fa,{onClick:()=>{u||(m(e),z())}},E.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ih({message:e,userId:l,status:g})&&M.createElement(fa,{onClick:()=>{u||(f(!0),z())}},E.CONTEXT_MENU_DROPDOWN__DELETE))})),N&&M.createElement(Y1,{message:e,hideMenu:()=>{L(!1)},parentRef:T,showRemove:()=>{L(!1),f(!0)}}))}function Ube(n){let{onCloseModal:t,onDeleteMessage:e}=n;const{stringSet:r}=Q.useContext(jo);return M.createElement(ome,{onCancel:t,onSubmit:e,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}const LT={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Pbe=n=>LT.IMAGE.indexOf(n)>=0,Fbe=n=>LT.VIDEO.indexOf(n)>=0;gn({},LT);const ao={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},Y7={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},Hbe=n=>{var t,e;return n!=null&&(t=n.isUserMessage)!==null&&t!==void 0&&t.call(n)||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?ao.OG:ao.USER:n!=null&&(e=n.isAdminMessage)!==null&&e!==void 0&&e.call(n)?ao.ADMIN:(n==null?void 0:n.messageType)==="file"?Pbe(n.type)||Fbe(n.type)?ao.THUMBNAIL:ao.FILE:ao.UNKNOWN};function Bbe(n){var t;const{message:e,chainTop:r,chainBottom:a,hasSeparator:l,renderMessage:u}=n,{currentOpenChannel:h,deleteMessage:f,updateMessage:m,resendMessage:g}=lm(),{dateLocale:x}=tp(),E=h==null?void 0:h.isFrozen,w=go(),T=w==null||(t=w.config)===null||t===void 0?void 0:t.userId;let A=null;(e==null?void 0:e.messageType)!=="admin"&&(A=e==null?void 0:e.sender);const P=Q.useMemo(()=>K=>M.createElement(M.Fragment,null,u?u(K):null),[e,u]),[C,k]=Q.useState(!1),[I,D]=Q.useState(!1),[U,O]=Q.useState(!1),N=Q.useRef(null);let L=!1;return A&&(e==null?void 0:e.messageType)!=="admin"&&(L=T===A.userId||(e==null?void 0:e.sendingStatus)===Y7.PENDING||(e==null?void 0:e.sendingStatus)===Y7.FAILED),u&&P?M.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},M.createElement(P,{message:e,chainTop:r,chainBottom:a})):(e==null?void 0:e.messageType)==="user"&&C?M.createElement(V1,{isEdit:!0,disabled:E,ref:N,message:e,name:e==null?void 0:e.messageId,onUpdateMessage:K=>{let{messageId:z,message:ae}=K;m(z,ae),k(!1)},onCancelEdit:()=>{k(!1)}}):M.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},l&&(e==null?void 0:e.createdAt)&&M.createElement(Yme,null,M.createElement(Vt,{type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},ip(e==null?void 0:e.createdAt,"MMMM dd, yyyy",{locale:x}))),{[ao.ADMIN]:(()=>{if((e==null?void 0:e.messageType)==="admin")return M.createElement(Ibe,{message:e})})(),[ao.FILE]:(()=>{if((e==null?void 0:e.messageType)==="file"){var K;return M.createElement(Lbe,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(K=e.sender)===null||K===void 0?void 0:K.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:E,userId:T,showRemove:D,resendMessage:g,chainTop:r,chainBottom:a})}})(),[ao.OG]:(()=>{if((e==null?void 0:e.messageType)==="user"){var K;return M.createElement(Obe,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(K=e.sender)===null||K===void 0?void 0:K.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:T,showEdit:k,disabled:E,showRemove:D,resendMessage:g,chainTop:r,chainBottom:a})}})(),[ao.THUMBNAIL]:(()=>{if((e==null?void 0:e.messageType)==="file"){var K;return M.createElement(Mbe,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(K=e.sender)===null||K===void 0?void 0:K.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:E,userId:T,showRemove:D,resendMessage:g,onClick:O,chainTop:r,chainBottom:a})}})(),[ao.USER]:(()=>{if((e==null?void 0:e.messageType)==="user"){var K;return M.createElement(Nbe,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(K=e.sender)===null||K===void 0?void 0:K.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:T,disabled:E,showEdit:k,showRemove:D,resendMessage:g,chainTop:r,chainBottom:a})}})(),[ao.UNKNOWN]:(()=>{})()}[Hbe(e)],I&&M.createElement(Ube,{onCloseModal:()=>D(!1),onDeleteMessage:()=>{(e==null?void 0:e.messageType)!=="admin"&&f(e)}}),U&&(e==null?void 0:e.messageType)==="file"&&M.createElement(jve,{onClose:()=>O(!1),message:e,onDelete:()=>f(e),isByMe:L}))}function Vbe(n,t){const{isMessageGroupingEnabled:e=!0,allMessages:r,hasMore:a,onScroll:l}=lm(),h=go().config.userId,f=t||Q.useRef(null),[m,g]=Q.useState(!1),x=()=>{f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),g(!1))},E=qve({setShowScrollDownButton:g,hasMore:a,onScroll:l,scrollRef:f}),w=Q.useMemo(()=>{var T;return r.length>0?r.map((A,P)=>{var C;const k=r[P-1],I=r[P-1],D=k&&k.createdAt,U=A==null?void 0:A.createdAt,O=!(D&&Bme(U,D)),[N,L]=e?rbe(k,A,I):[!1,!1],K=(A==null||(C=A.sender)===null||C===void 0?void 0:C.userId)===h,z=(A==null?void 0:A.messageId)||(A==null?void 0:A.reqId);return M.createElement(Pve,{message:A,isByMe:K,key:z},M.createElement(Bbe,{message:A,chainTop:N,chainBottom:L,hasSeparator:O,renderMessage:n==null?void 0:n.renderMessage}))}):(n==null||(T=n.renderPlaceHolderEmptyList)===null||T===void 0?void 0:T.call(n))||M.createElement(hb,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Ii.NO_MESSAGES})},[r]);return M.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},M.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},M.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),M.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",r.length>0?"":"no-messages"].join(" "),onScroll:E,ref:f},w)),m&&M.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:x,onKeyDown:x,tabIndex:0,role:"button"},M.createElement(Jt,{width:"24px",height:"24px",type:jt.CHEVRON_DOWN,fillColor:tr.CONTENT})))}var zbe=M.forwardRef(Vbe);const Fg="sendbird-openchannel-conversation",$be=n=>{let{renderMessage:t,renderHeader:e,renderInput:r,renderPlaceHolderEmptyList:a,renderPlaceHolderError:l,renderPlaceHolderLoading:u}=n;const{currentOpenChannel:h,amIBanned:f,loading:m,isInvalid:g,messageInputRef:x,conversationScrollRef:E}=lm();return!h||!(h!=null&&h.url)||f?(l==null?void 0:l())||M.createElement("div",{className:Fg},M.createElement(hb,{type:Ii.NO_CHANNELS})):m?(u==null?void 0:u())||M.createElement("div",{className:Fg},M.createElement(hb,{type:Ii.LOADING})):g?(l==null?void 0:l())||M.createElement("div",{className:Fg},M.createElement(hb,{type:Ii.WRONG})):M.createElement("div",{className:Fg},(e==null?void 0:e())||M.createElement(kbe,null),(h==null?void 0:h.isFrozen)&&M.createElement(Tbe,null),M.createElement(zbe,{ref:E,renderMessage:t,renderPlaceHolderEmptyList:a}),(r==null?void 0:r())||M.createElement(Sbe,{ref:x}))},qbe=n=>M.createElement(wbe,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile,onBackClick:n==null?void 0:n.onBackClick},M.createElement($be,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}));let Hg;const Gbe=new Uint8Array(16);function jbe(){if(!Hg&&(Hg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hg(Gbe)}var Kbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wbe(n){return typeof n=="string"&&Kbe.test(n)}const oa=[];for(let n=0;n<256;++n)oa.push((n+256).toString(16).slice(1));function rH(n,t=0){return(oa[n[t+0]]+oa[n[t+1]]+oa[n[t+2]]+oa[n[t+3]]+"-"+oa[n[t+4]]+oa[n[t+5]]+"-"+oa[n[t+6]]+oa[n[t+7]]+"-"+oa[n[t+8]]+oa[n[t+9]]+"-"+oa[n[t+10]]+oa[n[t+11]]+oa[n[t+12]]+oa[n[t+13]]+oa[n[t+14]]+oa[n[t+15]]).toLowerCase()}function Qbe(n){if(!Wbe(n))throw TypeError("Invalid UUID");let t;const e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Ybe(n){n=unescape(encodeURIComponent(n));const t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}const Xbe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Zbe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function iH(n,t,e){function r(a,l,u,h){var f;if(typeof a=="string"&&(a=Ybe(a)),typeof l=="string"&&(l=Qbe(l)),((f=l)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+a.length);if(m.set(l),m.set(a,l.length),m=e(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,u){h=h||0;for(let g=0;g<16;++g)u[h+g]=m[g];return u}return rH(m)}try{r.name=n}catch{}return r.DNS=Xbe,r.URL=Zbe,r}function Jbe(n){if(typeof n=="string"){const t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return e1e(n1e(t1e(n),n.length*8))}function e1e(n){const t=[],e=n.length*32,r="0123456789abcdef";for(let a=0;a<e;a+=8){const l=n[a>>5]>>>a%32&255,u=parseInt(r.charAt(l>>>4&15)+r.charAt(l&15),16);t.push(u)}return t}function aH(n){return(n+64>>>9<<4)+14+1}function n1e(n,t){n[t>>5]|=128<<t%32,n[aH(t)-1]=t;let e=1732584193,r=-271733879,a=-1732584194,l=271733878;for(let u=0;u<n.length;u+=16){const h=e,f=r,m=a,g=l;e=Na(e,r,a,l,n[u],7,-680876936),l=Na(l,e,r,a,n[u+1],12,-389564586),a=Na(a,l,e,r,n[u+2],17,606105819),r=Na(r,a,l,e,n[u+3],22,-1044525330),e=Na(e,r,a,l,n[u+4],7,-176418897),l=Na(l,e,r,a,n[u+5],12,1200080426),a=Na(a,l,e,r,n[u+6],17,-1473231341),r=Na(r,a,l,e,n[u+7],22,-45705983),e=Na(e,r,a,l,n[u+8],7,1770035416),l=Na(l,e,r,a,n[u+9],12,-1958414417),a=Na(a,l,e,r,n[u+10],17,-42063),r=Na(r,a,l,e,n[u+11],22,-1990404162),e=Na(e,r,a,l,n[u+12],7,1804603682),l=Na(l,e,r,a,n[u+13],12,-40341101),a=Na(a,l,e,r,n[u+14],17,-1502002290),r=Na(r,a,l,e,n[u+15],22,1236535329),e=Ia(e,r,a,l,n[u+1],5,-165796510),l=Ia(l,e,r,a,n[u+6],9,-1069501632),a=Ia(a,l,e,r,n[u+11],14,643717713),r=Ia(r,a,l,e,n[u],20,-373897302),e=Ia(e,r,a,l,n[u+5],5,-701558691),l=Ia(l,e,r,a,n[u+10],9,38016083),a=Ia(a,l,e,r,n[u+15],14,-660478335),r=Ia(r,a,l,e,n[u+4],20,-405537848),e=Ia(e,r,a,l,n[u+9],5,568446438),l=Ia(l,e,r,a,n[u+14],9,-1019803690),a=Ia(a,l,e,r,n[u+3],14,-187363961),r=Ia(r,a,l,e,n[u+8],20,1163531501),e=Ia(e,r,a,l,n[u+13],5,-1444681467),l=Ia(l,e,r,a,n[u+2],9,-51403784),a=Ia(a,l,e,r,n[u+7],14,1735328473),r=Ia(r,a,l,e,n[u+12],20,-1926607734),e=Aa(e,r,a,l,n[u+5],4,-378558),l=Aa(l,e,r,a,n[u+8],11,-2022574463),a=Aa(a,l,e,r,n[u+11],16,1839030562),r=Aa(r,a,l,e,n[u+14],23,-35309556),e=Aa(e,r,a,l,n[u+1],4,-1530992060),l=Aa(l,e,r,a,n[u+4],11,1272893353),a=Aa(a,l,e,r,n[u+7],16,-155497632),r=Aa(r,a,l,e,n[u+10],23,-1094730640),e=Aa(e,r,a,l,n[u+13],4,681279174),l=Aa(l,e,r,a,n[u],11,-358537222),a=Aa(a,l,e,r,n[u+3],16,-722521979),r=Aa(r,a,l,e,n[u+6],23,76029189),e=Aa(e,r,a,l,n[u+9],4,-640364487),l=Aa(l,e,r,a,n[u+12],11,-421815835),a=Aa(a,l,e,r,n[u+15],16,530742520),r=Aa(r,a,l,e,n[u+2],23,-995338651),e=Oa(e,r,a,l,n[u],6,-198630844),l=Oa(l,e,r,a,n[u+7],10,1126891415),a=Oa(a,l,e,r,n[u+14],15,-1416354905),r=Oa(r,a,l,e,n[u+5],21,-57434055),e=Oa(e,r,a,l,n[u+12],6,1700485571),l=Oa(l,e,r,a,n[u+3],10,-1894986606),a=Oa(a,l,e,r,n[u+10],15,-1051523),r=Oa(r,a,l,e,n[u+1],21,-2054922799),e=Oa(e,r,a,l,n[u+8],6,1873313359),l=Oa(l,e,r,a,n[u+15],10,-30611744),a=Oa(a,l,e,r,n[u+6],15,-1560198380),r=Oa(r,a,l,e,n[u+13],21,1309151649),e=Oa(e,r,a,l,n[u+4],6,-145523070),l=Oa(l,e,r,a,n[u+11],10,-1120210379),a=Oa(a,l,e,r,n[u+2],15,718787259),r=Oa(r,a,l,e,n[u+9],21,-343485551),e=du(e,h),r=du(r,f),a=du(a,m),l=du(l,g)}return[e,r,a,l]}function t1e(n){if(n.length===0)return[];const t=n.length*8,e=new Uint32Array(aH(t));for(let r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function du(n,t){const e=(n&65535)+(t&65535);return(n>>16)+(t>>16)+(e>>16)<<16|e&65535}function r1e(n,t){return n<<t|n>>>32-t}function X1(n,t,e,r,a,l){return du(r1e(du(du(t,n),du(r,l)),a),e)}function Na(n,t,e,r,a,l,u){return X1(t&e|~t&r,n,t,a,l,u)}function Ia(n,t,e,r,a,l,u){return X1(t&r|e&~r,n,t,a,l,u)}function Aa(n,t,e,r,a,l,u){return X1(t^e^r,n,t,a,l,u)}function Oa(n,t,e,r,a,l,u){return X1(e^(t|~r),n,t,a,l,u)}iH("v3",48,Jbe);const i1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var X7={randomUUID:i1e};function a1e(n,t,e){if(X7.randomUUID&&!t&&!n)return X7.randomUUID();n=n||{};const r=n.random||(n.rng||jbe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let a=0;a<16;++a)t[e+a]=r[a];return t}return rH(r)}function s1e(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function rx(n,t){return n<<t|n>>>32-t}function o1e(n){const t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const u=unescape(encodeURIComponent(n));n=[];for(let h=0;h<u.length;++h)n.push(u.charCodeAt(h))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const r=n.length/4+2,a=Math.ceil(r/16),l=new Array(a);for(let u=0;u<a;++u){const h=new Uint32Array(16);for(let f=0;f<16;++f)h[f]=n[u*64+f*4]<<24|n[u*64+f*4+1]<<16|n[u*64+f*4+2]<<8|n[u*64+f*4+3];l[u]=h}l[a-1][14]=(n.length-1)*8/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=(n.length-1)*8&4294967295;for(let u=0;u<a;++u){const h=new Uint32Array(80);for(let w=0;w<16;++w)h[w]=l[u][w];for(let w=16;w<80;++w)h[w]=rx(h[w-3]^h[w-8]^h[w-14]^h[w-16],1);let f=e[0],m=e[1],g=e[2],x=e[3],E=e[4];for(let w=0;w<80;++w){const T=Math.floor(w/20),A=rx(f,5)+s1e(T,m,g,x)+E+t[T]+h[w]>>>0;E=x,x=g,g=rx(m,30)>>>0,m=f,f=A}e[0]=e[0]+f>>>0,e[1]=e[1]+m>>>0,e[2]=e[2]+g>>>0,e[3]=e[3]+x>>>0,e[4]=e[4]+E>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}iH("v5",80,o1e);var l1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;ba(l1e);var Z7,J7;function z6(){return z6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},z6.apply(this,arguments)}var ap=function(t){return Q.createElement("svg",z6({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},t),Z7||(Z7=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-user_svg__a"},Q.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-user_svg__b"},Q.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),J7||(J7=Q.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},Q.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},Q.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},eD;function $6(){return $6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$6.apply(this,arguments)}var Ol=function(t){return Q.createElement("svg",$6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),eD||(eD=Q.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function UT(n){var t=n.key,e=n.userId,r=n.disabled,a=r===void 0?!1:r,l=n.nickname,u=l===void 0?"":l,h=n.profileUrl,f=h===void 0?"":h,m=n.hideProfile,g=m===void 0?!1:m,x=n.onRemove,E=x===void 0?function(){}:x,w=f?M.createElement("img",{src:f,className:"profile-image"}):M.createElement(ap,{fill:"#ccc",className:"profile-image"});return M.createElement("div",{className:"event-host",key:t},g?null:w,M.createElement("div",{className:"nickname"},u),M.createElement("div",{className:"remove-button",onClick:function(){a||E(e)}},M.createElement(Ol,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var nD;function q6(){return q6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},q6.apply(this,arguments)}var c1e=function(t){return Q.createElement("svg",q6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),nD||(nD=Q.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function sH(n){var t=n.message,e=n.count,r=n.maxLength,a=n.error,l=a===void 0?!1:a;return M.createElement("div",{className:"event-host-status"},M.createElement("div",{className:"message ".concat(l?"error":"")},t),M.createElement("div",{className:"count"},M.createElement("span",{className:"value ".concat(l?"error":"")},e)," / ",r," users"),M.createElement(c1e,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var tD;function G6(){return G6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},G6.apply(this,arguments)}var u1e=function(t){return Q.createElement("svg",G6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),tD||(tD=Q.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function d1e(n){var t=n.userId,e=n.nickname,r=e===void 0?"":e,a=n.profileUrl,l=a===void 0?"":a,u=n.onClick,h=u===void 0?function(){}:u,f=l?M.createElement("img",{src:l,className:"profile-image"}):M.createElement(ap,{fill:"#fff",className:"profile-image"});return M.createElement("div",{className:"searched-user",onClick:function(){return h()}},f,M.createElement("div",{className:"info"},M.createElement("div",{className:"nickname"},r),M.createElement("div",{className:"user-id"},t)))}function h1e(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?oH:r,l=n.renderCustomEventHostView,u=l===void 0?UT:l,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=Q.useState([]),g=m[0],x=m[1],E=Q.useState(0),w=E[0],T=E[1],A=Q.useState(!1),P=A[0],C=A[1],k=Q.useState(!1),I=k[0],D=k[1],U=Q.useState(e),O=U[0],N=U[1],L=Q.useState("nickname"),K=L[0],z=L[1],ae=Q.useState(""),fe=ae[0],B=ae[1],J=Q.useState(""),ce=J[0],W=J[1],_e=Q.useState(!1),oe=_e[0],le=_e[1],ve=go();Q.useEffect(function(){N(e)},[e]),Q.useEffect(function(){O.length>a?(le(!0),W("The number of users allowed has exceeded.")):(le(!1),W(""))},[O]);var De=function(pe,he){var G=IT.getSdk(ve);if(G&&he){var ee=null;switch(pe){case"nickname":{ee=G.createApplicationUserListQuery({nicknameStartsWithFilter:he});break}case"user ID":{ee=G.createApplicationUserListQuery({userIdsFilter:[he]});break}}if(ee){var $=w+1;T($),C(!0),D(!1),ee.next().then(function(ie){$>=w&&(x(ie),C(!1),D(!1),T($))}).catch(function(ie){$>=w&&(C(!1),D(!0),T($))})}}};return M.createElement("div",{className:"event-host-form"},M.createElement("div",{className:"input"},M.createElement("div",{className:"search-type-panel"},M.createElement("select",{className:"search-type",value:K,onChange:function(pe){var he=pe.target.value;switch(z(he),he){case"user ID":W("Only an exact match can be found.");break;default:W("")}le(!1),De(he,fe)}},M.createElement("option",{value:"nickname"},"Nickname"),M.createElement("option",{value:"user ID"},"User ID"))),M.createElement("div",{className:"form"},O.map(function(pe){return u({key:pe.userId,userId:pe.userId,disabled:e.map(function(he){return he.userId}).includes(pe.userId),nickname:pe.nickname,profileUrl:pe.profileUrl,onRemove:function(he){var G=O.filter(function(ee){return ee.userId!==he});N(G),f(G.map(function(ee){return ee.userId}))}})}),M.createElement("input",{type:"text",placeholder:"Enter ".concat(K),className:"host-form",value:fe,onChange:function(pe){var he=pe.target.value;B(he),De(K,he)}}))),M.createElement(sH,{message:ce,error:oe,count:O.length,maxLength:a}),fe?M.createElement("div",{className:"search-result"},g.length>0?M.createElement("div",{className:"users"},g.map(function(pe){return M.createElement(d1e,{key:pe.userId,userId:pe.userId,nickname:pe.nickname,profileUrl:pe.profileUrl,onClick:function(){if(!O.map(function(G){return G.userId}).includes(pe.userId)){var he=hs(hs([],O,!0),[pe],!1);N(he),f(he.map(function(G){return G.userId}))}B(""),x([]),D(!1),C(!1)}})})):M.createElement("div",{className:"status"},P?M.createElement(u1e,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!P&&!I&&g.length===0?M.createElement("div",{className:"no-result"},"No matches found with ",fe):null,I?M.createElement("div",{className:"error"},"Search request failed."):null)):null)}function p1e(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?oH:r,l=n.renderCustomEventHostView,u=l===void 0?UT:l,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=Q.useState([]),g=m[0],x=m[1],E=Q.useState(""),w=E[0],T=E[1],A=Q.useState(""),P=A[0],C=A[1],k=Q.useState(!1),I=k[0],D=k[1];return Q.useEffect(function(){x(e.map(function(U){return U.userId}))},[e]),Q.useEffect(function(){g.length>a?(D(!0),C("The number of users allowed has exceeded.")):(D(!1),C("If the ACL attributes are turned on, you can access user list information from the SDK."))},[g]),M.createElement("div",{className:"event-host-form"},M.createElement("div",{className:"input"},M.createElement("div",{className:"form"},g.map(function(U){return u({key:U,userId:U,disabled:e.map(function(O){return O.userId}).includes(U),nickname:U,hideProfile:!0,onRemove:function(O){var N=g.filter(function(L){return L!==O});x(N),f(N)}})}),M.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:w,onChange:function(U){var O,N=U.target.value,L=N.split(",");T((O=L.pop())!==null&&O!==void 0?O:"");var K=L.filter(function(ae,fe){return ae.length>0&&!g.includes(ae)&&L.indexOf(ae)===fe});if(K.length>0){var z=hs(hs([],g,!0),K,!0);x(z),f(z)}}}))),M.createElement(sH,{message:P,error:I,count:g.length,maxLength:a}))}var rD,iD;function j6(){return j6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},j6.apply(this,arguments)}var f1e=function(t){return Q.createElement("svg",j6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),rD||(rD=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-live_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-live_svg__b"},Q.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),iD||(iD=Q.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},Q.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},Q.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},oH=10;function _1e(n){var t=this,e,r,a=n.showUserIdsForHostSelectionView,l=a===void 0?!0:a,u=n.disableAcl,h=u===void 0?!1:u,f=n.renderCustomEventHostView,m=f===void 0?UT:f,g=n.onClose,x=g===void 0?function(){}:g,E=Q.useState(""),w=E[0],T=E[1],A=Q.useState(""),P=A[0],C=A[1],k=Q.useRef(null),I=Q.useRef(null),D=Q.useContext(Il).stringSet,U=go(),O=IT.getSdk(U),N=Q.useState([]),L=N[0],K=N[1];Q.useEffect(function(){l&&O!=null&&O.currentUser&&K([O.currentUser])},[O==null?void 0:O.currentUser]);var z=Q.useState(L.map(function(B){return B.userId})),ae=z[0],fe=z[1];return M.createElement("div",{className:"create-event-view"},M.createElement("div",{className:"close",onClick:function(){return x()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"})),M.createElement("div",{className:"title"},D.LIVE_EVENT_CREATE_HEADER_TITLE),M.createElement("div",{className:"section-title"},D.LIVE_EVENT_CREATE_EVENT_TITLE),M.createElement("div",null,M.createElement("input",{type:"text",placeholder:D.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:w,onChange:function(B){T(B.target.value)}})),M.createElement("div",{className:"section-title"},D.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),M.createElement("div",{className:"cover-image-box"},M.createElement("div",{className:"cover-image-container",ref:k},P?M.createElement("img",{src:P,alt:"Cover image",className:"cover-image"}):M.createElement(f1e,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),M.createElement("input",{type:"file",className:"cover-image-file",ref:I,accept:"image/*",onChange:function(){var B,J=I.current,ce=(B=J==null?void 0:J.files)!==null&&B!==void 0?B:[];if(ce.length===1){var W=new FileReader;W.onload=function(){k.current&&C(W.result)},W.readAsDataURL(ce[0])}}}),M.createElement("div",{className:"cover-image-upload",onClick:function(){I.current.click()}},D.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),M.createElement("div",{className:"cover-image-remove",onClick:function(){I.current&&(I.current.value=""),C("")}},!((r=(e=I.current)===null||e===void 0?void 0:e.files)===null||r===void 0)&&r.length?D.REMOVE_IMAGE:"")),M.createElement("div",{className:"section-title"},D.LIST_USERS_FOR_HOST_HEADER_TITLE),h?M.createElement(p1e,{initialHostUsers:L,renderCustomEventHostView:m,onUpdateHost:function(B){return fe(B)}}):M.createElement(h1e,{initialHostUsers:L,renderCustomEventHostView:m,onUpdateHost:function(B){return fe(B)}}),M.createElement("div",{className:"button-box"},M.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return x()}}),M.createElement("input",{type:"button",className:"major-button",value:D.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return va(t,void 0,void 0,function(){var B,J,ce,W,_e,oe;return ga(this,function(le){switch(le.label){case 0:return B=(oe=(_e=I==null?void 0:I.current)===null||_e===void 0?void 0:_e.files)===null||oe===void 0?void 0:oe[0],J=null,B&&(ce=B.slice(0,B.size,B.type),J=new File([ce],"".concat(a1e(),".").concat(B.type.split("/").pop()),{type:B.type})),[4,jr.exports.SendbirdLive.createLiveEvent({userIdsForHost:hs([],ae,!0),title:w,coverFile:J??void 0})];case 1:return W=le.sent(),[4,W.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return le.sent(),x(W),[2]}})})}})))}var m1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: var(--sendbird-dark-background-500) !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;ba(m1e);var aD;function K6(){return K6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},K6.apply(this,arguments)}var v1e=function(t){return Q.createElement("svg",K6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),aD||(aD=Q.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},sD,oD;function W6(){return W6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},W6.apply(this,arguments)}var g1e=function(t){return Q.createElement("svg",W6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),sD||(sD=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-camera-filled_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-camera-filled_svg__b"},Q.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),oD||(oD=Q.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},Q.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},Q.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},lD,cD;function Q6(){return Q6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q6.apply(this,arguments)}var b1e=function(t){return Q.createElement("svg",Q6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),lD||(lD=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},Q.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),cD||(cD=Q.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},Q.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},Q.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},uD,dD;function Y6(){return Y6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y6.apply(this,arguments)}var y1e=function(t){return Q.createElement("svg",Y6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),uD||(uD=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-mic-filled_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-mic-filled_svg__b"},Q.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),dD||(dD=Q.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},Q.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},Q.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},hD,pD;function X6(){return X6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X6.apply(this,arguments)}var E1e=function(t){return Q.createElement("svg",X6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),hD||(hD=Q.createElement("defs",null,Q.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},Q.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),Q.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},Q.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),pD||(pD=Q.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},Q.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},Q.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},fD,_D;function Z6(){return Z6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Z6.apply(this,arguments)}var w1e=function(t){return Q.createElement("svg",Z6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),fD||(fD=Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.917 4.583a2.75 2.75 0 0 1 2.75-2.75h14.666a2.75 2.75 0 0 1 2.75 2.75v9.167a2.75 2.75 0 0 1-2.75 2.75H3.667a2.75 2.75 0 0 1-2.75-2.75V4.584Zm10.632.901a.916.916 0 0 0-.54-.175l-.059.002a.917.917 0 0 0-.276.06.87.87 0 0 0-.321.203L7.603 8.33a.92.92 0 1 0 1.301 1.3l1.182-1.184-.003 3.96a.92.92 0 0 0 .92.922l.059-.002a.92.92 0 0 0 .862-.917l.003-3.957 1.176 1.178a.918.918 0 1 0 1.302-1.3l-2.74-2.745a1.048 1.048 0 0 0-.074-.067l-.023-.018-.02-.015Z",fill:"#fff",fillOpacity:.88})),_D||(_D=Q.createElement("path",{d:"M.917 18.334a.917.917 0 0 0 0 1.833h20.166a.917.917 0 1 0 0-1.834H.917Z",fill:"#fff",fillOpacity:.88})))},mD;function J6(){return J6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},J6.apply(this,arguments)}var x1e=function(t){return Q.createElement("svg",J6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),mD||(mD=Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.917 3.667a3 3 0 0 0-3 3v8.666a3 3 0 0 0 3 3h14.166a3 3 0 0 0 3-3V6.667a3 3 0 0 0-3-3H3.917Zm9 7.333a1 1 0 0 0-1 1v3.5a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1h-5.334Z",fill:"#fff",fillOpacity:.88})))},S1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background__screen-share {
  background: var(--sendbird-dark-background-500) !important;
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 27px 0 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 27px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share {
  display: flex;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share svg {
  margin-right: 27px;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share .control-bar__screen-share__stop {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  align-items: center;
  padding: 6px 16px;
  width: 160px;
  height: 32px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  border-radius: 4px;
  font-weight: 500;
  font-size: 14px;
  line-height: 20px;
  color: #FFFFFF;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;ba(S1e);var vD,gD;function eS(){return eS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},eS.apply(this,arguments)}var T1e=function(t){return Q.createElement("svg",eS({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),vD||(vD=Q.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),gD||(gD=Q.createElement("rect",{x:20,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},bD,yD;function nS(){return nS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},nS.apply(this,arguments)}var k1e=function(t){return Q.createElement("svg",nS({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),bD||(bD=Q.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),yD||(yD=Q.createElement("rect",{x:4,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},ED,wD;function tS(){return tS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},tS.apply(this,arguments)}var C1e=function(t){return Q.createElement("svg",tS({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ED||(ED=Q.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),wD||(wD=Q.createElement("rect",{x:20,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},xD,SD;function rS(){return rS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},rS.apply(this,arguments)}var N1e=function(t){return Q.createElement("svg",rS({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),xD||(xD=Q.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),SD||(SD=Q.createElement("rect",{x:4,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},TD;function iS(){return iS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},iS.apply(this,arguments)}var I1e=function(t){return Q.createElement("svg",iS({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),TD||(TD=Q.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})))},A1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.screen-share {
  width: 480px;
  padding: 18px 24px;
  background-color: var(--sendbird-dark-background-500);
  color: #fff;
}
.screen-share .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
  margin-bottom: 8px;
  font-style: normal;
  font-weight: 400;
}
.screen-share .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
}
.screen-share .screen-share__preview__container {
  overflow: auto;
  max-width: 100%;
  box-sizing: border-box;
  margin-bottom: 24px;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen {
  position: relative;
  background: var(--sendbird-dark-background-600);
  width: 100%;
  aspect-ratio: 16/9;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 300px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen p {
  line-height: normal;
  display: inline-block;
  vertical-align: middle;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20%;
  aspect-ratio: 16/9;
  background-color: var(--sendbird-dark-background-700);
  line-height: 1;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  top: 75%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left {
  top: 75%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right {
  top: 5%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left {
  top: 5%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--hidden {
  display: none;
}
.screen-share .screen-share__layout-container {
  display: flex;
}
.screen-share .screen-share__layout-container svg {
  margin-right: 8px;
  padding: 3px;
  background: var(--sendbird-dark-background-500);
  border: 1px solid #161616;
  border-radius: 4px;
}
.screen-share .screen-share__layout-container svg:hover {
  cursor: pointer;
  background: var(--sendbird-dark-background-700);
}
.screen-share .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 30px;
}
.screen-share .buttons .major-button, .screen-share .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.screen-share .buttons .major-button:hover, .screen-share .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.screen-share .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.screen-share .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .screen-share .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .screen-share .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ba(A1e);function O1e(n){var t=this,e=n.liveEvent,r=n.onClose,a={TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",HIDDEN:"hidden"},l=Q.useState(a.BOTTOM_RIGHT),u=l[0],h=l[1];return M.createElement("div",{className:"screen-share"},M.createElement("div",{className:"close",onClick:function(){return r()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"})),M.createElement("div",{className:"title"},"Share screen"),M.createElement("div",{className:"screen-share__label"},"Preview"),M.createElement("div",{className:"screen-share__preview__container"},M.createElement("div",{className:"screen-share__preview__screen"},M.createElement("div",{className:"screen-share__preview__camera--".concat(u)},"Camera"),M.createElement("p",null,"The screen you chose to share will be shown here."))),M.createElement("div",{className:"screen-share__label"},"Layout"),M.createElement("div",{className:"screen-share__layout-container"},M.createElement(T1e,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_RIGHT)}}),M.createElement(k1e,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_LEFT)}}),M.createElement(C1e,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_RIGHT)}}),M.createElement(N1e,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_LEFT)}}),M.createElement(I1e,{width:32,height:32,fill:"#000",onClick:function(){return h(a.HIDDEN)}})),M.createElement("div",{className:"buttons"},M.createElement("div",{className:"minor-button",onClick:function(){return r()}},"Cancel"),M.createElement("div",{className:"major-button",onClick:function(){return va(t,void 0,void 0,function(){return ga(this,function(f){switch(f.label){case 0:return[4,e.setScreenShareOptions({cameraOverlayPosition:u})];case 1:return f.sent(),r(),[2]}})})}},"Save")))}function R1e(n){var t=n.liveEvent,e=Q.useState(0),r=e[0],a=e[1];Q.useEffect(function(){var h=setInterval(function(){a(t.duration)},1e3);return function(){return clearInterval(h)}},[]);function l(h){return h.toString().padStart(2,"0")}function u(h){var f=Math.floor(h/1e3),m=Math.floor(f/60),g=Math.floor(m/60);return f=f%60,m=m%60,"".concat(l(g),":").concat(l(m),":").concat(l(f))}return M.createElement("div",{className:"control-bar__duration"},u(r))}function M1e(n){var t=this,e=n.liveEvent,r=n.onStart,a=n.onEnd,l=n.onSettings,u=Q.useState(e.state===jr.exports.LiveEventState.ONGOING),h=u[0],f=u[1],m=Q.useState(!0),g=m[0],x=m[1],E=Q.useState(!0),w=E[0],T=E[1],A=Q.useState(!1),P=A[0],C=A[1];Eu("");var k=Eu("","dark-background__screen-share"),I=k[0],D=k[1],U=k[2],O=Q.useContext(Il).stringSet,N=function(){return va(t,void 0,void 0,function(){return ga(this,function(fe){switch(fe.label){case 0:return[4,e.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return fe.sent(),f(!0),r(e),[2]}})})},L=function(fe){fe?e.startVideo():e.stopVideo(),T(fe)},K=function(fe){fe?e.unmuteAudioInput():e.muteAudioInput(),x(fe)},z=function(){return va(t,void 0,void 0,function(){return ga(this,function(fe){switch(fe.label){case 0:return[4,e.startScreenShare()];case 1:return fe.sent(),C(!0),[2]}})})},ae=function(){e.stopScreenShare(),C(!1)};return M.createElement("div",{className:"control-bar"},M.createElement("div",{className:"control-bar__left-buttons"},M.createElement("div",{className:"control-bar__settings"},M.createElement(v1e,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return l(e)}})),M.createElement("div",{className:"control-bar__video"},w?M.createElement(g1e,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return L(!1)}}):M.createElement(b1e,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return L(!0)}})),M.createElement("div",{className:"control-bar__audio__wrapper"},M.createElement("div",{className:"control-bar__audio"},g?M.createElement(y1e,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return K(!1)}}):M.createElement(E1e,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return K(!0)}})),M.createElement("div",{className:"control-bar__volume"})),M.createElement("div",{className:"control-bar__screen-share"},M.createElement(w1e,{width:22,height:22,fill:"#ccc",onClick:function(){return z()}}),M.createElement(x1e,{width:22,height:22,fill:"#ccc",onClick:function(){return D()}}),P&&M.createElement("div",{className:"control-bar__screen-share__stop",onClick:function(){return ae()}},"Stop ScreenShare"))),M.createElement("div",{className:"control-bar__right-buttons"},h&&M.createElement("div",{className:"participant-icon--red"}),h&&M.createElement(R1e,{liveEvent:e}),h?M.createElement("div",{className:"control-bar__end-live",onClick:function(){a(e)}},O.LIVE_EVENT_END_DIALOG_OPTION_END):M.createElement("div",{className:"control-bar__start-live",onClick:N},O.START_LIVE_EVENT_HEADER_BUTTON)),M.createElement(I,null,M.createElement(O1e,{liveEvent:e,onClose:function(){U()}})))}var D1e=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;ba(D1e);function L1e(n){var t=n.onExit,e=t===void 0?function(){}:t,r=n.onClose,a=r===void 0?function(){}:r,l=Q.useContext(Il).stringSet;return M.createElement("div",{className:"confirm-end-dialog"},M.createElement("div",{className:"header"},M.createElement("div",{className:"title"},l.LIVE_EVENT_END_DIALOG_DESCRIPTION),M.createElement("div",{className:"close",onClick:function(){return a()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),M.createElement("div",{className:"buttons"},M.createElement("div",{className:"minor-button",onClick:function(){return a()}},"Cancel"),M.createElement("div",{className:"minor-button",onClick:function(){return e(!1)}},l.LIVE_EVENT_END_DIALOG_OPTION_EXIT),M.createElement("div",{className:"major-button",onClick:function(){return e(!0)}},l.LIVE_EVENT_END_DIALOG_OPTION_END)))}var kD;function aS(){return aS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},aS.apply(this,arguments)}var CD=function(t){return Q.createElement("svg",aS({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),kD||(kD=Q.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},ND;function sS(){return sS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},sS.apply(this,arguments)}var U1e=function(t){return Q.createElement("svg",sS({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),ND||(ND=Q.createElement("g",{fillRule:"evenodd"},Q.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),Q.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),Q.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),Q.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},ID;function oS(){return oS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},oS.apply(this,arguments)}var P1e=function(t){return Q.createElement("svg",oS({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),ID||(ID=Q.createElement("g",{fillRule:"evenodd"},Q.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),Q.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),Q.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),Q.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},AD;function lS(){return lS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},lS.apply(this,arguments)}var lH=function(t){return Q.createElement("svg",lS({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),AD||(AD=Q.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},OD;function cS(){return cS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},cS.apply(this,arguments)}var cH=function(t){return Q.createElement("svg",cS({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),OD||(OD=Q.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},RD;function uS(){return uS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},uS.apply(this,arguments)}var F1e=function(t){return Q.createElement("svg",uS({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),RD||(RD=Q.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},H1e=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;ba(H1e);function B1e(n){var t=n.liveEvent,e=n.onHostsClick,r=e===void 0?function(){}:e,a=n.onParticipantsClick,l=a===void 0?function(){}:a,u=n.onClose,h=u===void 0?function(){}:u,f=t.openChannel,m=Q.useState(""),g=m[0],x=m[1],E=Q.useState(f.isFrozen),w=E[0],T=E[1],A=Q.useState(t.userIdsForHost.length),P=A[0],C=A[1],k=Q.useState("".concat(f.participantCount)),I=k[0],D=k[1];return Q.useEffect(function(){x(f.name||"Untitled")},[f.name]),Q.useEffect(function(){C(f.operators.length)},[t.userIdsForHost.length]),Q.useEffect(function(){f.participantCount>1e3?D("".concat(Math.floor(f.participantCount/1e3),"k")):D("".concat(f.participantCount))},[f.participantCount]),Q.useEffect(function(){T(t.openChannel.isFrozen)},[f.isFrozen]),M.createElement("div",{className:"event-detail-view"},M.createElement("div",{className:"header"},M.createElement("div",{className:"title"},"Live event information"),M.createElement("div",{className:"close",onClick:function(){return h()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"}))),M.createElement("div",{className:"event-summary"},M.createElement("div",{className:"profile"},t.host?M.createElement("img",{src:t.host.profileURL}):M.createElement(ap,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),M.createElement("div",{className:"title"},g)),M.createElement("div",{className:"event-menu button",onClick:function(){return r()}},M.createElement(lH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),M.createElement("div",{className:"label"},"Hosts"),M.createElement("div",{className:"count"},P),M.createElement(CD,{width:24,height:24,viewBox:"-10 -10 80 80"})),M.createElement("div",{className:"event-menu button",onClick:function(){return l()}},M.createElement(cH,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),M.createElement("div",{className:"label"},"Participants"),M.createElement("div",{className:"count"},I),M.createElement(CD,{width:24,height:24,viewBox:"-10 -10 80 80"})),M.createElement("div",{className:"event-menu"},M.createElement(F1e,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),M.createElement("div",{className:"label"},"Freeze channel"),M.createElement("div",{className:"toggle"},w?M.createElement(U1e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):M.createElement(P1e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),M.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),M.createElement("div",{className:"event-info"},M.createElement("div",{className:"label"},"Live event ID"),M.createElement("div",{className:"value"},t.liveEventId)),M.createElement("div",{className:"event-info"},M.createElement("div",{className:"label"},"Created on"),M.createElement("div",{className:"value"},G7(t.createdAt,"PPp"))),M.createElement("div",{className:"event-info"},M.createElement("div",{className:"label"},"Created by"),M.createElement("div",{className:"value"},t.createdBy)),M.createElement("div",{className:"event-info"},M.createElement("div",{className:"label"},"Started on"),M.createElement("div",{className:"value"},t.startedAt?G7(t.startedAt,"PPp"):"")),M.createElement("div",{className:"event-info"},M.createElement("div",{className:"label"},"Started by"),M.createElement("div",{className:"value"},t.startedBy?t.startedBy:"")))}var V1e=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;ba(V1e);function z1e(n){var t=n.nickname,e=t===void 0?"":t,r=n.profileUrl,a=r===void 0?"":r,l=a?M.createElement("img",{src:a,className:"profile-image"}):M.createElement(ap,{fill:"#fff",className:"profile-image"});return M.createElement("div",{className:"user-view"},l,M.createElement("div",{className:"nickname"},e))}function MD(n){var t=n.title,e=n.count,r=n.query,a=n.onClose,l=a===void 0?function(){}:a,u=Q.useRef(null),h=Q.useState([]),f=h[0],m=h[1],g=Q.useState(!0),x=g[0],E=g[1];Q.useEffect(function(){r().then(function(T){var A=T.result,P=T.hasNext;m(hs([],A,!0)),E(P)})},[]);var w=function(){if(u.current){var T=u.current,A=T.scrollTop,P=T.scrollHeight,C=T.clientHeight;A+C===P&&x&&r().then(function(k){var I=k.result,D=k.hasNext;m(hs(hs([],f,!0),I,!0)),E(D)})}};return M.createElement("div",{className:"user-list-view"},M.createElement("div",{className:"header"},M.createElement("div",{className:"title"},t," ",M.createElement("span",{className:"count"},e)),M.createElement("div",{className:"close",onClick:function(){return l()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"}))),M.createElement("div",{className:"list",ref:u,onScroll:w},f.map(function(T){return M.createElement(z1e,{key:T.userId,userId:T.userId,nickname:T.nickname,profileUrl:T.profileUrl})})))}var $1e=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;ba($1e);var Lo;(function(n){n[n.CHAT=0]="CHAT",n[n.EVENT_INFO=1]="EVENT_INFO",n[n.HOST_LIST=2]="HOST_LIST",n[n.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(Lo||(Lo={}));function uH(n){var t=this,e=n.liveEvent,r=n.initialViewStack,a=r===void 0?[Lo.CHAT]:r,l=e.openChannel,u=go(),h=IT.getSdk(u),f=Q.useState(hs([],a,!0)),m=f[0],g=f[1],x=Q.useState(a[a.length-1]),E=x[0],w=x[1],T=function(P){g(hs(hs([],m,!0),[P],!1))},A=function(){m.length>1&&g(m.slice(0,-1))};return Q.useEffect(function(){e.openChannel,g(hs([],a,!0))},[e]),Q.useEffect(function(){w(m[m.length-1])},[m]),M.createElement("div",{className:"sendbirdlive-right__wrapper"},E===Lo.CHAT?M.createElement(qbe,{channelUrl:e.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var P;((P=e.host)===null||P===void 0?void 0:P.userId)===(h==null?void 0:h.currentUser.userId)?T(Lo.EVENT_INFO):T(Lo.PARTICIPANT_LIST)}}):null,E===Lo.EVENT_INFO?M.createElement(B1e,{liveEvent:e,onHostsClick:function(){return T(Lo.HOST_LIST)},onParticipantsClick:function(){return T(Lo.PARTICIPANT_LIST)},onClose:function(){return A()}}):null,E===Lo.HOST_LIST?M.createElement(MD,{title:"Hosts",count:l.operators.length,query:function(){return va(t,void 0,void 0,function(){return ga(this,function(P){return[2,{result:l.operators,hasNext:!1}]})})},onClose:function(){return A()}}):null,E===Lo.PARTICIPANT_LIST?M.createElement(MD,{title:"Participants",count:l.participantCount,query:function(){return va(t,void 0,void 0,function(){var P,C,k,I;return ga(this,function(D){switch(D.label){case 0:return P=l.createParticipantListQuery({}),P?[4,P.next()]:[3,2];case 1:return k=D.sent(),[3,3];case 2:k=[],D.label=3;case 3:return C=k,I=P==null?void 0:P.hasNext,[2,{result:C,hasNext:I}]}})})},onClose:function(){return A()}}):null)}var q1e=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;ba(q1e);function G1e(n){var t=n.liveEvent,e=n.onClose,r=Q.useState([]),a=r[0],l=r[1],u=Q.useState([]),h=u[0],f=u[1];return Q.useEffect(function(){var m=jr.exports.SendbirdLive.useMedia({audio:!0,video:!0});return l(jr.exports.SendbirdLive.getAvailableAudioInputDevices()),f(jr.exports.SendbirdLive.getAvailableVideoInputDevices()),jr.exports.SendbirdLive.setAudioInputDeviceChanged(function(g,x){console.log("audio input updated",x),l(x)}),jr.exports.SendbirdLive.setVideoInputDeviceChanged(function(g,x){console.log("video input updated",x),f(x)}),jr.exports.SendbirdLive.updateMediaDevices({audio:!0,video:!0}),function(){m&&m.dispose()}}),M.createElement("div",{className:"settings"},M.createElement("div",{className:"close",onClick:function(){return e()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"})),M.createElement("div",{className:"title"},"Settings"),M.createElement("div",{className:"settings__select-container"},M.createElement("div",{className:"settings__select-label"},"Camera"),M.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(m){var g=m.target.value,x=h.find(function(E){return E.deviceId===g});x&&t.selectVideoInput(x)}},h.map(function(m){return M.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))),M.createElement("div",{className:"settings__select-container"},M.createElement("div",{className:"settings__select-label"},"Microphone"),M.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(m){var g=m.target.value,x=a.find(function(E){return E.deviceId===g});x&&t.selectAudioInput(x)}},a.map(function(m){return M.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))))}var j1e=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function K1e(n){var t=this,e=n.liveEvent;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount,n.eventEndViewDisplayTime,n.allowExitWithoutEnding,n.showEventSummaryView;var r=n.onClose,a=Q.useContext(Il).stringSet,l=Q.useRef(null),u=Q.useState(e.title),h=u[0],f=u[1],m=Q.useState(e.coverUrl),g=m[0],x=m[1],E=Q.useState(e.state),w=E[0],T=E[1],A=Q.useState(e.participantCount||0),P=A[0],C=A[1],k=Eu("","dark-background"),I=k[0],D=k[1],U=k[2],O=Eu(""),N=O[0],L=O[1],K=O[2],z=function(fe){switch(fe){case"created":return a.EVENT_STATUS_CREATED;case"ready":return a.EVENT_STATUS_READY;case"ongoing":return a.EVENT_STATUS_ONGOING;case"ended":return a.EVENT_STATUS_ENDED}};Q.useEffect(function(){var fe=function(){return va(t,void 0,void 0,function(){return ga(this,function(B){switch(B.label){case 0:return e.state!==jr.exports.LiveEventState.CREATED?[3,2]:[4,e.setEventReady()];case 1:B.sent(),B.label=2;case 2:return e.state===jr.exports.LiveEventState.ONGOING&&!e.isHostStreaming?[4,e.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:B.sent(),e.setVideoViewForLiveEvent(l.current,e.host.hostId),B.label=4;case 4:return[2]}})})};fe()},[e]),Q.useEffect(function(){var fe=[e.on("participantEntered",function(B,J){C(e.participantCount)}),e.on("participantExited",function(){C(e.participantCount)}),e.on("liveEventUpdated",function(){f(e.title),x(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){fe.map(function(B){return B()})}},[e]);function ae(fe){var B=Math.floor(fe/1e3),J=Math.floor(B/60);return J=J%60,"".concat(J<0?0:J)}return M.createElement("div",{className:"host-view"},M.createElement("div",{className:"host-view__main"},M.createElement("div",{className:"video-wrapper"},M.createElement("video",{className:"host-view__video",ref:l,playsInline:!0,autoPlay:!0,muted:!0,controls:j1e()})),M.createElement("div",{className:"host-view__info"},M.createElement("div",{className:"host-view__profile"},e.coverUrl?M.createElement("img",{src:g,alt:"cover image",className:"host-view__profile__cover-image"}):M.createElement(ap,{viewBox:"-4 -4 20 20",width:56,height:56})),M.createElement("div",{className:"host-view__info__wrapper"},M.createElement("div",{className:"host-view__title__wrapper"},M.createElement("div",{className:"event-state--".concat(w)},z(w)),M.createElement("div",{className:"host-view__title"},h||a.CREATE_EVENT_DEFAULT_TITLE)),M.createElement("div",{className:"host-view__detail"},P??0," watching now ",w===jr.exports.LiveEventState.ONGOING?" Started ".concat(ae(e.duration)," mins ago"):""),M.createElement("div",{className:"host-view__host-name"},e.host?e.host.nickname:"No Host"))),M.createElement(M1e,{liveEvent:e,onStart:function(fe){fe.setVideoViewForLiveEvent(l.current,fe.host.hostId),T(w)},onEnd:function(){D()},onSettings:function(){L()}}),M.createElement(I,null,M.createElement(L1e,{onExit:function(fe){return va(t,void 0,void 0,function(){return ga(this,function(B){switch(B.label){case 0:return fe?[4,e.endEvent()]:[3,2];case 1:return B.sent(),[3,4];case 2:return[4,e.exitAsHost()];case 3:B.sent(),B.label=4;case 4:return U(),r(e),[2]}})})},onClose:function(){U()}})),M.createElement(N,null,M.createElement(G1e,{liveEvent:e,onClose:function(){K()}}))),M.createElement(uH,{liveEvent:e}))}var W1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;ba(W1e);var Q1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;ba(Q1e);var Y1e=function(n){var t=n.message;return M.createElement("div",{className:"toast-container"},t&&M.createElement("div",{className:"toast"},t))},X1e=function(){var n=Q.useState(void 0),t=n[0],e=n[1],r=Q.useState(void 0),a=r[0],l=r[1],u=function(m,g){g===void 0&&(g=1e6),e(m);var x=setTimeout(function(){h()},g);l(x)},h=function(){clearTimeout(a),l(void 0),e(void 0)},f=function(){return M.createElement(Y1e,{message:t})};return[f,u,h]},Z1e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ba(Z1e);function J1e(n){var t=n.onClose;return M.createElement("div",{className:"ended-modal"},M.createElement("div",{className:"header"},M.createElement("div",{className:"title"},"Host has ended this live event."),M.createElement("div",{className:"close",onClick:t},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),M.createElement("div",{className:"buttons"},M.createElement("div",{className:"major-button",onClick:t},"End live")))}var eye=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function nye(n){var t=this,e=n.liveEvent,r=n.onClose;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount;var a=n.eventEndViewDisplayTime,l=Q.useRef(null),u=X1e(),h=u[0],f=u[1],m=Q.useState(e.host),g=m[0],x=m[1],E=Q.useState(e.title),w=E[0],T=E[1],A=Q.useState(e.coverUrl),P=A[0],C=A[1],k=Q.useState(e.state),I=k[0],D=k[1],U=Q.useState(e.participantCount||0),O=U[0],N=U[1],L=Eu("",""),K=L[0],z=L[1],ae=L[2],fe=Q.useState(),B=fe[0],J=fe[1],ce=Q.useContext(Il).stringSet,W=function(De){switch(De){case"created":return ce.EVENT_STATUS_CREATED;case"ready":return ce.EVENT_STATUS_READY;case"ongoing":return ce.EVENT_STATUS_ONGOING;case"ended":return ce.EVENT_STATUS_ENDED}},_e=function(){return va(t,void 0,void 0,function(){return ga(this,function(De){return g&&e.setVideoViewForLiveEvent(l.current,g.hostId),[2]})})},oe=function(){z();var De=setTimeout(function(){le()},a??3e3);J(De)},le=function(){return va(t,void 0,void 0,function(){return ga(this,function(De){return clearTimeout(B),J(void 0),ae(),r(e),[2]})})};Q.useEffect(function(){_e()},[g,I]),Q.useEffect(function(){e.state===jr.exports.LiveEventState.CREATED&&f("Live event will begin soon.");var De=[e.on("liveEventStarted",function(){D(e.state)}),e.on("liveEventEnded",function(){D(e.state),oe()}),e.on("hostEntered",function(){f("Host Entered"),x(e.host)}),e.on("hostConnected",function(pe,he){f("Host Connected"),x(pe.host)}),e.on("hostDisconnected",function(){f("Host Disconnected"),x(e.host)}),e.on("hostExited",function(){f("Host Exited"),x(e.host)}),e.on("hostMutedAudio",function(){f("Host is muted"),x(e.host)}),e.on("hostUnmutedAudio",function(){f("Host is unmuted"),x(e.host)}),e.on("participantEntered",function(){N(e.participantCount)}),e.on("participantExited",function(){N(e.participantCount)}),e.on("liveEventUpdated",function(){T(e.title),C(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){De.map(function(pe){return pe()})}},[e]);function ve(De){var pe=Math.floor(De/1e3),he=Math.floor(pe/60);return he=he%60,"".concat(he<0?0:he)}return M.createElement("div",{className:"participant-view"},M.createElement("div",{className:"participant-view__main"},M.createElement(h,null),M.createElement("div",{className:"video-wrapper"},M.createElement("video",{className:"participant-view__video",ref:l,playsInline:!0,autoPlay:!0,controls:eye()})),M.createElement("div",{className:"participant-view__info"},M.createElement("div",{className:"participant-view__profile"},P?M.createElement("img",{src:P,alt:"cover image",className:"participant-view__profile__cover-image"}):M.createElement(ap,{viewBox:"-4 -4 20 20",width:56,height:56})),M.createElement("div",{className:"participant-view__info__wrapper"},M.createElement("div",{className:"participant-view__title__wrapper"},M.createElement("div",{className:"event-state--".concat(I)},W(I)),M.createElement("div",{className:"participant-view__title"},w||ce.CREATE_EVENT_DEFAULT_TITLE)),M.createElement("div",{className:"participant-view__detail"},O??0," watching now ",I===jr.exports.LiveEventState.ONGOING?" Started ".concat(ve(e.duration)," mins ago"):""),M.createElement("div",{className:"participant-view__host-name"},g?g.nickname||" ":"No Host")))),M.createElement(uH,{liveEvent:e}),M.createElement(K,null,M.createElement(J1e,{onClose:le})))}var tye=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;ba(tye);function rye(n){var t=this,e=n.liveEventId,r=n.onClose,a=Q.useContext(Il).stringSet,l=function(){return va(t,void 0,void 0,function(){var h;return ga(this,function(f){switch(f.label){case 0:return[4,jr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return f.sent(),r(h,!0),[2]}})})},u=function(){return va(t,void 0,void 0,function(){var h;return ga(this,function(f){switch(f.label){case 0:return[4,jr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enter()];case 2:return f.sent(),r(h,!1),[2]}})})};return M.createElement("div",{className:"enter-view"},M.createElement("div",{className:"close",onClick:function(){return r()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"})),M.createElement("div",{className:"title"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),M.createElement("div",{className:"enter-view__item",onClick:l},M.createElement("div",{className:"enter-view__item__icon"},M.createElement(lH,{viewBox:"0 0 64 64",width:28,height:28})),M.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),M.createElement("div",{className:"enter-view__item",onClick:u},M.createElement("div",{className:"enter-view__item__icon"},M.createElement(cH,{viewBox:"0 0 64 64",width:28,height:28})),M.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var iye=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;ba(iye);function aye(n){var t=n.liveEvent,e=n.onClose,r=Q.useContext(Il).stringSet,a=Q.useMemo(function(){return t&&t.state===jr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(t),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[t]);return M.createElement("div",{className:"enter-error-view"},M.createElement("div",{className:"header"},M.createElement("div",{className:"title"},a),M.createElement("div",{className:"close",onClick:function(){return e()}},M.createElement(Ol,{width:22,height:22,viewBox:"0 0 60 60"}))),M.createElement("div",{className:"buttons"},M.createElement("div",{className:"major-button",onClick:function(){return e()}},"OK")))}function sye(n){var t=this,e=n.userId,r=n.appId,a=n.nickname,l=n.accessToken,u=n.customApiHost,h=n.customWebSocketHost,f=n.theme,m=n.colorSet,g=n.stringSet,x=n.customize,E=Q.useState(!1),w=E[0],T=E[1],A=Q.useState(""),P=A[0],C=A[1],k=Q.useState(),I=k[0],D=k[1],U=Eu(""),O=U[0],N=U[1],L=U[2],K=Eu(""),z=K[0],ae=K[1],fe=K[2],B=Eu(""),J=B[0],ce=B[1],W=B[2],_e=yu(yu({},x==null?void 0:x.liveEventList),{onClickCreate:function(){N()},onClickElem:function(le){return va(t,void 0,void 0,function(){var ve;return ga(this,function(De){switch(De.label){case 0:return De.trys.push([0,8,,9]),[4,jr.exports.SendbirdLive.getLiveEvent(le.liveEventId)];case 1:return ve=De.sent(),ve.state===jr.exports.LiveEventState.ENDED?(ce(),[2]):ve.isHost&&!ve.host?ve.state!==jr.exports.LiveEventState.CREATED?[3,3]:[4,ve.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return De.sent(),T(!0),D(ve),[3,4];case 3:C(le.liveEventId),ae(),De.label=4;case 4:return[3,7];case 5:return[4,ve.enter()];case 6:De.sent(),D(ve),De.label=7;case 7:return[3,9];case 8:return De.sent(),ce(),[3,9];case 9:return[2]}})})}}),oe=function(le){var ve=le.onClose;return I?w?M.createElement(K1e,{liveEvent:I,onClose:ve}):M.createElement(nye,{liveEvent:I,onClose:ve}):M.createElement("div",{className:"sendbirdlive-app__no-event"},M.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),M.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),M.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:N},"Create"))};return M.createElement(xfe,{userId:e,appId:r,nickname:a,accessToken:l,customApiHost:u,customWebSocketHost:h,theme:f,colorSet:m,stringSet:g},M.createElement("div",{className:"sendbirdlive-app__wrapper"},M.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!w&&M.createElement(Nfe,yu({},_e))),M.createElement(J,null,M.createElement(aye,{liveEvent:I,onClose:W})),M.createElement(z,null,M.createElement(rye,{liveEventId:P,onClose:function(le,ve){D(le),le&&ve&&T(!0),fe()}})),M.createElement(O,null,M.createElement(_1e,{onClose:function(le){D(le),le!=null&&le.isHost&&T(!0),L()}})),M.createElement(oe,{onClose:function(){T(!1),D(void 0)}})))}var DD={},LD;LD=function(){function n(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function t(E,w){for(var T=0;T<w.length;T++){var A=w[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}function e(E,w,T){return w&&t(E.prototype,w),T&&t(E,T),Object.defineProperty(E,"prototype",{writable:!1}),E}function r(E){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},r(E)}function a(E,w){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},a(E,w)}function l(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function u(E){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,A=r(E);if(w){var P=r(this).constructor;T=Reflect.construct(A,arguments,P)}else T=A.apply(this,arguments);return function(C,k){if(k&&(typeof k=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(C)}(this,T)}}function h(){return h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,w,T){var A=function(C,k){for(;!Object.prototype.hasOwnProperty.call(C,k)&&(C=r(C))!==null;);return C}(E,w);if(A){var P=Object.getOwnPropertyDescriptor(A,w);return P.get?P.get.call(arguments.length<3?E:T):P.value}},h.apply(this,arguments)}var f=function(){function E(){n(this,E),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(E,[{key:"addEventListener",value:function(w,T,A){w in this.listeners||(this.listeners[w]=[]),this.listeners[w].push({callback:T,options:A})}},{key:"removeEventListener",value:function(w,T){if(w in this.listeners){for(var A=this.listeners[w],P=0,C=A.length;P<C;P++)if(A[P].callback===T)return void A.splice(P,1)}}},{key:"dispatchEvent",value:function(w){if(w.type in this.listeners){for(var T=this.listeners[w.type].slice(),A=0,P=T.length;A<P;A++){var C=T[A];try{C.callback.call(this,w)}catch(k){Promise.resolve().then(function(){throw k})}C.options&&C.options.once&&this.removeEventListener(w.type,C.callback)}return!w.defaultPrevented}}}]),E}(),m=function(E){(function(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&a(A,P)})(T,E);var w=u(T);function T(){var A;return n(this,T),(A=w.call(this)).listeners||f.call(l(A)),Object.defineProperty(l(A),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(A),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(l(A),"reason",{value:void 0,writable:!0,configurable:!0}),A}return e(T,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(A){A.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,A)),h(r(T.prototype),"dispatchEvent",this).call(this,A)}}]),T}(f),g=function(){function E(){n(this,E),Object.defineProperty(this,"signal",{value:new m,writable:!0,configurable:!0})}return e(E,[{key:"abort",value:function(w){var T;try{T=new Event("abort")}catch{typeof document<"u"?document.createEvent?(T=document.createEvent("Event")).initEvent("abort",!1,!1):(T=document.createEventObject()).type="abort":T={type:"abort",bubbles:!1,cancelable:!1}}var A=w;if(A===void 0)if(typeof document>"u")(A=new Error("This operation was aborted")).name="AbortError";else try{A=new DOMException("signal is aborted without reason")}catch{(A=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=A,this.signal.dispatchEvent(T)}},{key:"toString",value:function(){return"[object AbortController]"}}]),E}();function x(E){return E.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof E.Request=="function"&&!E.Request.prototype.hasOwnProperty("signal")||!E.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(g.prototype[Symbol.toStringTag]="AbortController",m.prototype[Symbol.toStringTag]="AbortSignal"),function(E){if(x(E))if(E.fetch){var w=function(P){typeof P=="function"&&(P={fetch:P});var C=P,k=C.fetch,I=C.Request,D=I===void 0?k.Request:I,U=C.AbortController,O=C.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,N=O!==void 0&&O;if(!x({fetch:k,Request:D,AbortController:U,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:N}))return{fetch:k,Request:L};var L=D;(L&&!L.prototype.hasOwnProperty("signal")||N)&&((L=function(z,ae){var fe;ae&&ae.signal&&(fe=ae.signal,delete ae.signal);var B=new D(z,ae);return fe&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:fe}),B}).prototype=D.prototype);var K=k;return{fetch:function(z,ae){var fe=L&&L.prototype.isPrototypeOf(z)?z.signal:ae?ae.signal:void 0;if(fe){var B;try{B=new DOMException("Aborted","AbortError")}catch{(B=new Error("Aborted")).name="AbortError"}if(fe.aborted)return Promise.reject(B);var J=new Promise(function(ce,W){fe.addEventListener("abort",function(){return W(B)},{once:!0})});return ae&&ae.signal&&delete ae.signal,Promise.race([J,K(z,ae)])}return K(z,ae)},Request:L}}(E),T=w.fetch,A=w.Request;E.fetch=T,E.Request=A,Object.defineProperty(E,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:g}),Object.defineProperty(E,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:m})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:c0)},LD();var oye=yse({__proto__:null,default:DD},[DD]),Da=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||Da!==void 0&&Da,ls={searchParams:"URLSearchParams"in Da,iterable:"Symbol"in Da&&"iterator"in Symbol,blob:"FileReader"in Da&&"Blob"in Da&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Da,arrayBuffer:"ArrayBuffer"in Da};if(ls.arrayBuffer)var lye=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],cye=ArrayBuffer.isView||function(n){return n&&lye.indexOf(Object.prototype.toString.call(n))>-1};function Of(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function dS(n){return typeof n!="string"&&(n=String(n)),n}function ix(n){var t={next:function(){var e=n.shift();return{done:e===void 0,value:e}}};return ls.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Hi(n){this.map={},n instanceof Hi?n.forEach(function(t,e){this.append(e,t)},this):Array.isArray(n)?n.forEach(function(t){this.append(t[0],t[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function ax(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function dH(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function uye(n){var t=new FileReader,e=dH(t);return t.readAsArrayBuffer(n),e}function UD(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function PD(){return this.bodyUsed=!1,this._initBody=function(n){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:ls.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:ls.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:ls.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():ls.arrayBuffer&&ls.blob&&(t=n)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=UD(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ls.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||cye(n))?this._bodyArrayBuffer=UD(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ls.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ls.blob&&(this.blob=function(){var n=ax(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=ax(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(uye)}),this.text=function(){var n,t,e,r=ax(this);if(r)return r;if(this._bodyBlob)return n=this._bodyBlob,t=new FileReader,e=dH(t),t.readAsText(n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var l=new Uint8Array(a),u=new Array(l.length),h=0;h<l.length;h++)u[h]=String.fromCharCode(l[h]);return u.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ls.formData&&(this.formData=function(){return this.text().then(hye)}),this.json=function(){return this.text().then(JSON.parse)},this}Hi.prototype.append=function(n,t){n=Of(n),t=dS(t);var e=this.map[n];this.map[n]=e?e+", "+t:t},Hi.prototype.delete=function(n){delete this.map[Of(n)]},Hi.prototype.get=function(n){return n=Of(n),this.has(n)?this.map[n]:null},Hi.prototype.has=function(n){return this.map.hasOwnProperty(Of(n))},Hi.prototype.set=function(n,t){this.map[Of(n)]=dS(t)},Hi.prototype.forEach=function(n,t){for(var e in this.map)this.map.hasOwnProperty(e)&&n.call(t,this.map[e],e,this)},Hi.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),ix(n)},Hi.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),ix(n)},Hi.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),ix(n)},ls.iterable&&(Hi.prototype[Symbol.iterator]=Hi.prototype.entries);var dye=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Kd(n,t){if(!(this instanceof Kd))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e,r,a=(t=t||{}).body;if(n instanceof Kd){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new Hi(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,a||n._bodyInit==null||(a=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Hi(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),dye.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!(this.method!=="GET"&&this.method!=="HEAD"||t.cache!=="no-store"&&t.cache!=="no-cache")){var l=/([?&])_=[^&]*/;l.test(this.url)?this.url=this.url.replace(l,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function hye(n){var t=new FormData;return n.trim().split("&").forEach(function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),l=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(l))}}),t}function yl(n,t){if(!(this instanceof yl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Hi(t.headers),this.url=t.url||"",this._initBody(n)}Kd.prototype.clone=function(){return new Kd(this,{body:this._bodyInit})},PD.call(Kd.prototype),PD.call(yl.prototype),yl.prototype.clone=function(){return new yl(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Hi(this.headers),url:this.url})},yl.error=function(){var n=new yl(null,{status:0,statusText:""});return n.type="error",n};var pye=[301,302,303,307,308];yl.redirect=function(n,t){if(pye.indexOf(t)===-1)throw new RangeError("Invalid status code");return new yl(null,{status:t,headers:{location:n}})};var k0=Da.DOMException;try{new k0}catch{(k0=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),k0.prototype.constructor=k0}function FD(n,t){return new Promise(function(e,r){var a=new Kd(n,t);if(a.signal&&a.signal.aborted)return r(new k0("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}l.onload=function(){var h,f,m={status:l.status,statusText:l.statusText,headers:(h=l.getAllResponseHeaders()||"",f=new Hi,h.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(x){return x.indexOf(`
`)===0?x.substr(1,x.length):x}).forEach(function(x){var E=x.split(":"),w=E.shift().trim();if(w){var T=E.join(":").trim();f.append(w,T)}}),f)};m.url="responseURL"in l?l.responseURL:m.headers.get("X-Request-URL");var g="response"in l?l.response:l.responseText;setTimeout(function(){e(new yl(g,m))},0)},l.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},l.onabort=function(){setTimeout(function(){r(new k0("Aborted","AbortError"))},0)},l.open(a.method,function(h){try{return h===""&&Da.location.href?Da.location.href:h}catch{return h}}(a.url),!0),a.credentials==="include"?l.withCredentials=!0:a.credentials==="omit"&&(l.withCredentials=!1),"responseType"in l&&(ls.blob?l.responseType="blob":ls.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(l.responseType="arraybuffer")),!t||typeof t.headers!="object"||t.headers instanceof Hi?a.headers.forEach(function(h,f){l.setRequestHeader(f,h)}):Object.getOwnPropertyNames(t.headers).forEach(function(h){l.setRequestHeader(h,dS(t.headers[h]))}),a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){l.readyState===4&&a.signal.removeEventListener("abort",u)}),l.send(a._bodyInit===void 0?null:a._bodyInit)})}FD.polyfill=!0,Da.fetch||(Da.fetch=FD,Da.Headers=Hi,Da.Request=Kd,Da.Response=yl);var fye=Object.freeze({__proto__:null});function hH(n,t,e,r){Object.defineProperty(n,t,{get:e,set:r,enumerable:!0,configurable:!0})}var pH=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},sx={},Bg={},bn=pH.parcelRequire3f09;bn==null&&(bn=function(n){if(n in sx)return sx[n].exports;if(n in Bg){var t=Bg[n];delete Bg[n];var e={id:n,exports:{}};return sx[n]=e,t.call(e.exports,e,e.exports),e.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r},bn.register=function(t,e){Bg[t]=e},pH.parcelRequire3f09=bn);bn.register("kk1yk",function(n,t){var e=bn("3YDN3"),r=e.System,a=e.VbrMode;e.Float;var l=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var u=e.new_float;e.new_float_n,e.new_int;var h=e.new_int_n,f=e.new_short_n,m=e.assert,g=bn("d2VP0"),x=bn("5HJeD"),E=bn("4SDnr"),w=bn("cU3Yf"),T=bn("2qGTD"),A=bn("e32wu"),P=bn("ctaQC"),C=bn("dQDcS"),k=bn("cPNKB");function I(){var D=bn("jL6I1"),U=this,O=131072;I.V9=410,I.V8=420,I.V7=430,I.V6=440,I.V5=450,I.V4=460,I.V3=470,I.V2=480,I.V1=490,I.V0=500,I.R3MIX=1e3,I.STANDARD=1001,I.EXTREME=1002,I.INSANE=1003,I.STANDARD_FAST=1004,I.EXTREME_FAST=1005,I.MEDIUM=1006,I.MEDIUM_FAST=1007;var N=16384+O;I.LAME_MAXMP3BUFFER=N;var L,K,z,ae,fe,B=new g,J,ce,W;this.enc=new k,this.setModules=function(j,te,En,Nn,Zn,Gn,$n,Vn,mt){L=j,K=te,z=En,ae=Nn,fe=Zn,J=Gn,ce=Vn,W=mt,this.enc.setModules(K,B,ae,J)};function _e(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=u(k.SBMAX_l),this.bo_s_weight=u(k.SBMAX_s)}function oe(){this.lowerlimit=0}function le(j,te){this.lowpass=te}var ve=4294479419;function De(j){var te;return j.class_id=ve,te=j.internal_flags=new E,j.mode=D.NOT_SET,j.original=1,j.in_samplerate=44100,j.num_channels=2,j.num_samples=-1,j.bWriteVbrTag=!0,j.quality=-1,j.short_blocks=null,te.subblock_gain=-1,j.lowpassfreq=0,j.highpassfreq=0,j.lowpasswidth=-1,j.highpasswidth=-1,j.VBR=a.vbr_off,j.VBR_q=4,j.ATHcurve=-1,j.VBR_mean_bitrate_kbps=128,j.VBR_min_bitrate_kbps=0,j.VBR_max_bitrate_kbps=0,j.VBR_hard_min=0,te.VBR_min_bitrate=1,te.VBR_max_bitrate=13,j.quant_comp=-1,j.quant_comp_short=-1,j.msfix=-1,te.resample_ratio=1,te.OldValue[0]=180,te.OldValue[1]=180,te.CurrentStep[0]=4,te.CurrentStep[1]=4,te.masking_lower=1,te.nsPsy.attackthre=-1,te.nsPsy.attackthre_s=-1,j.scale=-1,j.athaa_type=-1,j.ATHtype=-1,j.athaa_loudapprox=-1,j.athaa_sensitivity=0,j.useTemporal=null,j.interChRatio=-1,te.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY,j.encoder_padding=0,te.mf_size=k.ENCDELAY-k.MDCTDELAY,j.findReplayGain=!1,j.decode_on_the_fly=!1,te.decode_on_the_fly=!1,te.findReplayGain=!1,te.findPeakSample=!1,te.RadioGain=0,te.AudiophileGain=0,te.noclipGainChange=0,te.noclipScale=-1,j.preset=0,j.write_id3tag_automatic=!0,0}this.lame_init=function(){var j=new x;return De(j),j.lame_allocated_gfp=1,j};function pe(j){return j>1?0:j<=0?1:Math.cos(Math.PI/2*j)}this.nearestBitrateFullIndex=function(j){var te=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],En=0,Nn=0,Zn=0,Gn=0;Gn=te[16],Zn=16,Nn=te[16],En=16;for(var $n=0;$n<16;$n++)if(Math.max(j,te[$n+1])!=j){Gn=te[$n+1],Zn=$n+1,Nn=te[$n],En=$n;break}return Gn-j>j-Nn?En:Zn};function he(j,te){var En=44100;return te>=48e3?En=48e3:te>=44100?En=44100:te>=32e3?En=32e3:te>=24e3?En=24e3:te>=22050?En=22050:te>=16e3?En=16e3:te>=12e3?En=12e3:te>=11025?En=11025:te>=8e3&&(En=8e3),j==-1?En:(j<=15960&&(En=44100),j<=15250&&(En=32e3),j<=11220&&(En=24e3),j<=9970&&(En=22050),j<=7230&&(En=16e3),j<=5420&&(En=12e3),j<=4510&&(En=11025),j<=3970&&(En=8e3),te<En?te>44100?48e3:te>32e3?44100:te>24e3?32e3:te>22050?24e3:te>16e3?22050:te>12e3?16e3:te>11025?12e3:te>8e3?11025:8e3:En)}function G(j,te){switch(j){case 44100:return te.version=1,0;case 48e3:return te.version=1,1;case 32e3:return te.version=1,2;case 22050:return te.version=0,0;case 24e3:return te.version=0,1;case 16e3:return te.version=0,2;case 11025:return te.version=0,0;case 12e3:return te.version=0,1;case 8e3:return te.version=0,2;default:return te.version=0,-1}}function ee(j,te,En){En<16e3&&(te=2);for(var Nn=C.bitrate_table[te][1],Zn=2;Zn<=14;Zn++)C.bitrate_table[te][Zn]>0&&Math.abs(C.bitrate_table[te][Zn]-j)<Math.abs(Nn-j)&&(Nn=C.bitrate_table[te][Zn]);return Nn}function $(j,te,En){En<16e3&&(te=2);for(var Nn=0;Nn<=14;Nn++)if(C.bitrate_table[te][Nn]>0&&C.bitrate_table[te][Nn]==j)return Nn;return-1}function ie(j,te){var En=[new le(8,2e3),new le(16,3700),new le(24,3900),new le(32,5500),new le(40,7e3),new le(48,7500),new le(56,1e4),new le(64,11e3),new le(80,13500),new le(96,15100),new le(112,15600),new le(128,17e3),new le(160,17500),new le(192,18600),new le(224,19400),new le(256,19700),new le(320,20500)],Nn=U.nearestBitrateFullIndex(te);j.lowerlimit=En[Nn].lowpass}function Oe(j){var te=j.internal_flags,En=32,Nn=-1;if(te.lowpass1>0){for(var Zn=999,Gn=0;Gn<=31;Gn++){var $n=Gn/31;$n>=te.lowpass2&&(En=Math.min(En,Gn)),te.lowpass1<$n&&$n<te.lowpass2&&(Zn=Math.min(Zn,Gn))}Zn==999?te.lowpass1=(En-.75)/31:te.lowpass1=(Zn-.75)/31,te.lowpass2=En/31}if(te.highpass2>0&&te.highpass2<.9*(.75/31)&&(te.highpass1=0,te.highpass2=0,r.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),te.highpass2>0){for(var Vn=-1,Gn=0;Gn<=31;Gn++){var $n=Gn/31;$n<=te.highpass1&&(Nn=Math.max(Nn,Gn)),te.highpass1<$n&&$n<te.highpass2&&(Vn=Math.max(Vn,Gn))}te.highpass1=Nn/31,Vn==-1?te.highpass2=(Nn+.75)/31:te.highpass2=(Vn+.75)/31}for(var Gn=0;Gn<32;Gn++){var mt,qn,$n=Gn/31;te.highpass2>te.highpass1?mt=pe((te.highpass2-$n)/(te.highpass2-te.highpass1+1e-20)):mt=1,te.lowpass2>te.lowpass1?qn=pe(($n-te.lowpass1)/(te.lowpass2-te.lowpass1+1e-20)):qn=1,te.amp_filter[Gn]=mt*qn}}function qe(j){var te=j.internal_flags;switch(j.quality){default:case 9:te.psymodel=0,te.noise_shaping=0,te.noise_shaping_amp=0,te.noise_shaping_stop=0,te.use_best_huffman=0,te.full_outer_loop=0;break;case 8:j.quality=7;case 7:te.psymodel=1,te.noise_shaping=0,te.noise_shaping_amp=0,te.noise_shaping_stop=0,te.use_best_huffman=0,te.full_outer_loop=0;break;case 6:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.noise_shaping_amp=0,te.noise_shaping_stop=0,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=0,te.full_outer_loop=0;break;case 5:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.noise_shaping_amp=0,te.noise_shaping_stop=0,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=0,te.full_outer_loop=0;break;case 4:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.noise_shaping_amp=0,te.noise_shaping_stop=0,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=1,te.full_outer_loop=0;break;case 3:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.noise_shaping_amp=1,te.noise_shaping_stop=1,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=1,te.full_outer_loop=0;break;case 2:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.substep_shaping==0&&(te.substep_shaping=2),te.noise_shaping_amp=1,te.noise_shaping_stop=1,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=1,te.full_outer_loop=0;break;case 1:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.substep_shaping==0&&(te.substep_shaping=2),te.noise_shaping_amp=2,te.noise_shaping_stop=1,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=1,te.full_outer_loop=0;break;case 0:te.psymodel=1,te.noise_shaping==0&&(te.noise_shaping=1),te.substep_shaping==0&&(te.substep_shaping=2),te.noise_shaping_amp=2,te.noise_shaping_stop=1,te.subblock_gain==-1&&(te.subblock_gain=1),te.use_best_huffman=1,te.full_outer_loop=0;break}}function Re(j){var te=j.internal_flags;j.frameNum=0,j.write_id3tag_automatic&&ce.id3tag_write_v2(j),te.bitrate_stereoMode_Hist=h([16,5]),te.bitrate_blockType_Hist=h([16,6]),te.PeakSample=0,j.bWriteVbrTag&&J.InitVbrTag(j)}this.lame_init_params=function(j){var te=j.internal_flags;if(te.Class_ID=0,te.ATH==null&&(te.ATH=new w),te.PSY==null&&(te.PSY=new _e),te.rgdata==null&&(te.rgdata=new T),te.channels_in=j.num_channels,te.channels_in==1&&(j.mode=D.MONO),te.channels_out=j.mode==D.MONO?1:2,te.mode_ext=k.MPG_MD_MS_LR,j.mode==D.MONO&&(j.force_ms=!1),j.VBR==a.vbr_off&&j.VBR_mean_bitrate_kbps!=128&&j.brate==0&&(j.brate=j.VBR_mean_bitrate_kbps),j.VBR==a.vbr_off||j.VBR==a.vbr_mtrh||j.VBR==a.vbr_mt||(j.free_format=!1),j.VBR==a.vbr_off&&j.brate==0&&P.EQ(j.compression_ratio,0)&&(j.compression_ratio=11.025),j.VBR==a.vbr_off&&j.compression_ratio>0&&(j.out_samplerate==0&&(j.out_samplerate=map2MP3Frequency(int(.97*j.in_samplerate))),j.brate=0|j.out_samplerate*16*te.channels_out/(1e3*j.compression_ratio),te.samplerate_index=G(j.out_samplerate,j),j.free_format||(j.brate=ee(j.brate,j.version,j.out_samplerate))),j.out_samplerate!=0&&(j.out_samplerate<16e3?(j.VBR_mean_bitrate_kbps=Math.max(j.VBR_mean_bitrate_kbps,8),j.VBR_mean_bitrate_kbps=Math.min(j.VBR_mean_bitrate_kbps,64)):j.out_samplerate<32e3?(j.VBR_mean_bitrate_kbps=Math.max(j.VBR_mean_bitrate_kbps,8),j.VBR_mean_bitrate_kbps=Math.min(j.VBR_mean_bitrate_kbps,160)):(j.VBR_mean_bitrate_kbps=Math.max(j.VBR_mean_bitrate_kbps,32),j.VBR_mean_bitrate_kbps=Math.min(j.VBR_mean_bitrate_kbps,320))),j.lowpassfreq==0){var En=16e3;switch(j.VBR){case a.vbr_off:var Nn=new oe;ie(Nn,j.brate),En=Nn.lowerlimit;break;case a.vbr_abr:var Nn=new oe;ie(Nn,j.VBR_mean_bitrate_kbps),En=Nn.lowerlimit;break;case a.vbr_rh:var Vn=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=j.VBR_q&&j.VBR_q<=9){var Zn=Vn[j.VBR_q],Gn=Vn[j.VBR_q+1],$n=j.VBR_q_frac;En=linear_int(Zn,Gn,$n)}else En=19500;break;default:var Vn=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=j.VBR_q&&j.VBR_q<=9){var Zn=Vn[j.VBR_q],Gn=Vn[j.VBR_q+1],$n=j.VBR_q_frac;En=linear_int(Zn,Gn,$n)}else En=19500}j.mode==D.MONO&&(j.VBR==a.vbr_off||j.VBR==a.vbr_abr)&&(En*=1.5),j.lowpassfreq=En|0}if(j.out_samplerate==0&&(2*j.lowpassfreq>j.in_samplerate&&(j.lowpassfreq=j.in_samplerate/2),j.out_samplerate=he(j.lowpassfreq|0,j.in_samplerate)),j.lowpassfreq=Math.min(20500,j.lowpassfreq),j.lowpassfreq=Math.min(j.out_samplerate/2,j.lowpassfreq),j.VBR==a.vbr_off&&(j.compression_ratio=j.out_samplerate*16*te.channels_out/(1e3*j.brate)),j.VBR==a.vbr_abr&&(j.compression_ratio=j.out_samplerate*16*te.channels_out/(1e3*j.VBR_mean_bitrate_kbps)),j.bWriteVbrTag||(j.findReplayGain=!1,j.decode_on_the_fly=!1,te.findPeakSample=!1),te.findReplayGain=j.findReplayGain,te.decode_on_the_fly=j.decode_on_the_fly,te.decode_on_the_fly&&(te.findPeakSample=!0),te.findReplayGain&&L.InitGainAnalysis(te.rgdata,j.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return j.internal_flags=null,-6;switch(te.decode_on_the_fly&&!j.decode_only&&(te.hip!=null&&W.hip_decode_exit(te.hip),te.hip=W.hip_decode_init()),te.mode_gr=j.out_samplerate<=24e3?1:2,j.framesize=576*te.mode_gr,j.encoder_delay=k.ENCDELAY,te.resample_ratio=j.in_samplerate/j.out_samplerate,j.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:var mt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];j.compression_ratio=mt[j.VBR_q];break;case a.vbr_abr:j.compression_ratio=j.out_samplerate*16*te.channels_out/(1e3*j.VBR_mean_bitrate_kbps);break;default:j.compression_ratio=j.out_samplerate*16*te.channels_out/(1e3*j.brate);break}if(j.mode==D.NOT_SET&&(j.mode=D.JOINT_STEREO),j.highpassfreq>0?(te.highpass1=2*j.highpassfreq,j.highpasswidth>=0?te.highpass2=2*(j.highpassfreq+j.highpasswidth):te.highpass2=2*j.highpassfreq,te.highpass1/=j.out_samplerate,te.highpass2/=j.out_samplerate):(te.highpass1=0,te.highpass2=0),j.lowpassfreq>0?(te.lowpass2=2*j.lowpassfreq,j.lowpasswidth>=0?(te.lowpass1=2*(j.lowpassfreq-j.lowpasswidth),te.lowpass1<0&&(te.lowpass1=0)):te.lowpass1=2*j.lowpassfreq,te.lowpass1/=j.out_samplerate,te.lowpass2/=j.out_samplerate):(te.lowpass1=0,te.lowpass2=0),Oe(j),te.samplerate_index=G(j.out_samplerate,j),te.samplerate_index<0)return j.internal_flags=null,-1;if(j.VBR==a.vbr_off){if(j.free_format)te.bitrate_index=0;else if(j.brate=ee(j.brate,j.version,j.out_samplerate),te.bitrate_index=$(j.brate,j.version,j.out_samplerate),te.bitrate_index<=0)return j.internal_flags=null,-1}else te.bitrate_index=1;j.analysis&&(j.bWriteVbrTag=!1),te.pinfo!=null&&(j.bWriteVbrTag=!1),K.init_bit_stream_w(te);for(var qn=te.samplerate_index+3*j.version+6*(j.out_samplerate<16e3?1:0),In=0;In<k.SBMAX_l+1;In++)te.scalefac_band.l[In]=ae.sfBandIndex[qn].l[In];for(var In=0;In<k.PSFB21+1;In++){var Ot=(te.scalefac_band.l[22]-te.scalefac_band.l[21])/k.PSFB21,lt=te.scalefac_band.l[21]+In*Ot;te.scalefac_band.psfb21[In]=lt}te.scalefac_band.psfb21[k.PSFB21]=576;for(var In=0;In<k.SBMAX_s+1;In++)te.scalefac_band.s[In]=ae.sfBandIndex[qn].s[In];for(var In=0;In<k.PSFB12+1;In++){var Ot=(te.scalefac_band.s[13]-te.scalefac_band.s[12])/k.PSFB12,lt=te.scalefac_band.s[12]+In*Ot;te.scalefac_band.psfb12[In]=lt}te.scalefac_band.psfb12[k.PSFB12]=192,j.version==1?te.sideinfo_len=te.channels_out==1?21:36:te.sideinfo_len=te.channels_out==1?13:21,j.error_protection&&(te.sideinfo_len+=2),Re(j),te.Class_ID=ve;var Yn;for(Yn=0;Yn<19;Yn++)te.nsPsy.pefirbuf[Yn]=700*te.mode_gr*te.channels_out;switch(j.ATHtype==-1&&(j.ATHtype=4),m(j.VBR_q<=9),m(j.VBR_q>=0),j.VBR){case a.vbr_mt:j.VBR=a.vbr_mtrh;case a.vbr_mtrh:j.useTemporal==null&&(j.useTemporal=!1),z.apply_preset(j,500-j.VBR_q*10,0),j.quality<0&&(j.quality=LAME_DEFAULT_QUALITY),j.quality<5&&(j.quality=0),j.quality>5&&(j.quality=5),te.PSY.mask_adjust=j.maskingadjust,te.PSY.mask_adjust_short=j.maskingadjust_short,j.experimentalY?te.sfb21_extra=!1:te.sfb21_extra=j.out_samplerate>44e3,te.iteration_loop=new VBRNewIterationLoop(fe);break;case a.vbr_rh:z.apply_preset(j,500-j.VBR_q*10,0),te.PSY.mask_adjust=j.maskingadjust,te.PSY.mask_adjust_short=j.maskingadjust_short,j.experimentalY?te.sfb21_extra=!1:te.sfb21_extra=j.out_samplerate>44e3,j.quality>6&&(j.quality=6),j.quality<0&&(j.quality=LAME_DEFAULT_QUALITY),te.iteration_loop=new VBROldIterationLoop(fe);break;default:var Fn;te.sfb21_extra=!1,j.quality<0&&(j.quality=LAME_DEFAULT_QUALITY),Fn=j.VBR,Fn==a.vbr_off&&(j.VBR_mean_bitrate_kbps=j.brate),z.apply_preset(j,j.VBR_mean_bitrate_kbps,0),j.VBR=Fn,te.PSY.mask_adjust=j.maskingadjust,te.PSY.mask_adjust_short=j.maskingadjust_short,Fn==a.vbr_off?te.iteration_loop=new A(fe):te.iteration_loop=new ABRIterationLoop(fe);break}if(m(j.scale>=0),j.VBR!=a.vbr_off){if(te.VBR_min_bitrate=1,te.VBR_max_bitrate=14,j.out_samplerate<16e3&&(te.VBR_max_bitrate=8),j.VBR_min_bitrate_kbps!=0&&(j.VBR_min_bitrate_kbps=ee(j.VBR_min_bitrate_kbps,j.version,j.out_samplerate),te.VBR_min_bitrate=$(j.VBR_min_bitrate_kbps,j.version,j.out_samplerate),te.VBR_min_bitrate<0)||j.VBR_max_bitrate_kbps!=0&&(j.VBR_max_bitrate_kbps=ee(j.VBR_max_bitrate_kbps,j.version,j.out_samplerate),te.VBR_max_bitrate=$(j.VBR_max_bitrate_kbps,j.version,j.out_samplerate),te.VBR_max_bitrate<0))return-1;j.VBR_min_bitrate_kbps=C.bitrate_table[j.version][te.VBR_min_bitrate],j.VBR_max_bitrate_kbps=C.bitrate_table[j.version][te.VBR_max_bitrate],j.VBR_mean_bitrate_kbps=Math.min(C.bitrate_table[j.version][te.VBR_max_bitrate],j.VBR_mean_bitrate_kbps),j.VBR_mean_bitrate_kbps=Math.max(C.bitrate_table[j.version][te.VBR_min_bitrate],j.VBR_mean_bitrate_kbps)}return j.tune&&(te.PSY.mask_adjust+=j.tune_value_a,te.PSY.mask_adjust_short+=j.tune_value_a),qe(j),m(j.scale>=0),j.athaa_type<0?te.ATH.useAdjust=3:te.ATH.useAdjust=j.athaa_type,te.ATH.aaSensitivityP=Math.pow(10,j.athaa_sensitivity/-10),j.short_blocks==null&&(j.short_blocks=l.short_block_allowed),j.short_blocks==l.short_block_allowed&&(j.mode==D.JOINT_STEREO||j.mode==D.STEREO)&&(j.short_blocks=l.short_block_coupled),j.quant_comp<0&&(j.quant_comp=1),j.quant_comp_short<0&&(j.quant_comp_short=0),j.msfix<0&&(j.msfix=0),j.exp_nspsytune=j.exp_nspsytune|1,j.internal_flags.nsPsy.attackthre<0&&(j.internal_flags.nsPsy.attackthre=g.NSATTACKTHRE),j.internal_flags.nsPsy.attackthre_s<0&&(j.internal_flags.nsPsy.attackthre_s=g.NSATTACKTHRE_S),m(j.scale>=0),j.scale<0&&(j.scale=1),j.ATHtype<0&&(j.ATHtype=4),j.ATHcurve<0&&(j.ATHcurve=4),j.athaa_loudapprox<0&&(j.athaa_loudapprox=2),j.interChRatio<0&&(j.interChRatio=0),j.useTemporal==null&&(j.useTemporal=!0),te.slot_lag=te.frac_SpF=0,j.VBR==a.vbr_off&&(te.slot_lag=te.frac_SpF=(j.version+1)*72e3*j.brate%j.out_samplerate|0),ae.iteration_init(j),B.psymodel_init(j),m(j.scale>=0),0};function Se(j,te){(j.in_buffer_0==null||j.in_buffer_nsamples<te)&&(j.in_buffer_0=u(te),j.in_buffer_1=u(te),j.in_buffer_nsamples=te)}this.lame_encode_flush=function(j,te,En,Nn){var Zn=j.internal_flags,Gn=f([2,1152]),$n=0,Vn,mt,qn,In,Ot=Zn.mf_samples_to_encode-k.POSTDELAY,lt=je(j);if(Zn.mf_samples_to_encode<1)return 0;for(Vn=0,j.in_samplerate!=j.out_samplerate&&(Ot+=16*j.out_samplerate/j.in_samplerate),qn=j.framesize-Ot%j.framesize,qn<576&&(qn+=j.framesize),j.encoder_padding=qn,In=(Ot+qn)/j.framesize;In>0&&$n>=0;){var Yn=lt-Zn.mf_size,Fn=j.frameNum;Yn*=j.in_samplerate,Yn/=j.out_samplerate,Yn>1152&&(Yn=1152),Yn<1&&(Yn=1),mt=Nn-Vn,Nn==0&&(mt=0),$n=this.lame_encode_buffer(j,Gn[0],Gn[1],Yn,te,En,mt),En+=$n,Vn+=$n,In-=Fn!=j.frameNum?1:0}if(Zn.mf_samples_to_encode=0,$n<0||(mt=Nn-Vn,Nn==0&&(mt=0),K.flush_bitstream(j),$n=K.copy_buffer(Zn,te,En,mt,1),$n<0))return $n;if(En+=$n,Vn+=$n,mt=Nn-Vn,Nn==0&&(mt=0),j.write_id3tag_automatic){if(ce.id3tag_write_v1(j),$n=K.copy_buffer(Zn,te,En,mt,0),$n<0)return $n;Vn+=$n}return Vn},this.lame_encode_buffer=function(j,te,En,Nn,Zn,Gn,$n){var Vn=j.internal_flags,mt=[null,null];if(Vn.Class_ID!=ve)return-3;if(Nn==0)return 0;Se(Vn,Nn),mt[0]=Vn.in_buffer_0,mt[1]=Vn.in_buffer_1;for(var qn=0;qn<Nn;qn++)mt[0][qn]=te[qn],Vn.channels_in>1&&(mt[1][qn]=En[qn]);return Be(j,mt[0],mt[1],Nn,Zn,Gn,$n)};function je(j){var te=k.BLKSIZE+j.framesize-k.FFTOFFSET;return te=Math.max(te,512+j.framesize-32),m(E.MFSIZE>=te),te}function Be(j,te,En,Nn,Zn,Gn,$n){var Vn=j.internal_flags,mt=0,qn,In,Ot,lt,Yn,Fn=[null,null],fn=[null,null];if(Vn.Class_ID!=ve)return-3;if(Nn==0)return 0;if(Yn=K.copy_buffer(Vn,Zn,Gn,$n,0),Yn<0)return Yn;if(Gn+=Yn,mt+=Yn,fn[0]=te,fn[1]=En,P.NEQ(j.scale,0)&&P.NEQ(j.scale,1))for(In=0;In<Nn;++In)fn[0][In]*=j.scale,Vn.channels_out==2&&(fn[1][In]*=j.scale);if(P.NEQ(j.scale_left,0)&&P.NEQ(j.scale_left,1))for(In=0;In<Nn;++In)fn[0][In]*=j.scale_left;if(P.NEQ(j.scale_right,0)&&P.NEQ(j.scale_right,1))for(In=0;In<Nn;++In)fn[1][In]*=j.scale_right;if(j.num_channels==2&&Vn.channels_out==1)for(In=0;In<Nn;++In)fn[0][In]=.5*(fn[0][In]+fn[1][In]),fn[1][In]=0;lt=je(j),Fn[0]=Vn.mfbuf[0],Fn[1]=Vn.mfbuf[1];for(var ct=0;Nn>0;){var jn=[null,null],Tt=0,Ct=0;jn[0]=fn[0],jn[1]=fn[1];var br=new rn;if(Tn(j,Fn,jn,ct,Nn,br),Tt=br.n_in,Ct=br.n_out,Vn.findReplayGain&&!Vn.decode_on_the_fly&&L.AnalyzeSamples(Vn.rgdata,Fn[0],Vn.mf_size,Fn[1],Vn.mf_size,Ct,Vn.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Nn-=Tt,ct+=Tt,Vn.channels_out,Vn.mf_size+=Ct,m(Vn.mf_size<=E.MFSIZE),Vn.mf_samples_to_encode<1&&(Vn.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY),Vn.mf_samples_to_encode+=Ct,Vn.mf_size>=lt){var Wr=$n-mt;if($n==0&&(Wr=0),qn=We(j,Fn[0],Fn[1],Zn,Gn,Wr),qn<0)return qn;for(Gn+=qn,mt+=qn,Vn.mf_size-=j.framesize,Vn.mf_samples_to_encode-=j.framesize,Ot=0;Ot<Vn.channels_out;Ot++)for(In=0;In<Vn.mf_size;In++)Fn[Ot][In]=Fn[Ot][In+j.framesize]}}return m(Nn==0),mt}function We(j,te,En,Nn,Zn,Gn){var $n=U.enc.lame_encode_mp3_frame(j,te,En,Nn,Zn,Gn);return j.frameNum++,$n}function rn(){this.n_in=0,this.n_out=0}function un(){this.num_used=0}function pn(j,te){return te!=0?pn(te,j%te):j}function vn(j,te,En){var Nn=Math.PI*te;j/=En,j<0&&(j=0),j>1&&(j=1);var Zn=j-.5,Gn=.42-.5*Math.cos(2*j*Math.PI)+.08*Math.cos(4*j*Math.PI);return Math.abs(Zn)<1e-9?Nn/Math.PI:Gn*Math.sin(En*Nn*Zn)/(Math.PI*En*Zn)}function Hn(j,te,En,Nn,Zn,Gn,$n,Vn,mt){var qn=j.internal_flags,In,Ot=0,lt,Yn=j.out_samplerate/pn(j.out_samplerate,j.in_samplerate);Yn>E.BPC&&(Yn=E.BPC);var Fn=Math.abs(qn.resample_ratio-Math.floor(.5+qn.resample_ratio))<1e-4?1:0,fn=1/qn.resample_ratio;fn>1&&(fn=1);var ct=31;ct%2==0&&--ct,ct+=Fn;var jn=ct+1;if(qn.fill_buffer_resample_init==0){for(qn.inbuf_old[0]=u(jn),qn.inbuf_old[1]=u(jn),In=0;In<=2*Yn;++In)qn.blackfilt[In]=u(jn);for(qn.itime[0]=0,qn.itime[1]=0,Ot=0;Ot<=2*Yn;Ot++){var Tt=0,Ct=(Ot-Yn)/(2*Yn);for(In=0;In<=ct;In++)Tt+=qn.blackfilt[Ot][In]=vn(In-Ct,fn,ct);for(In=0;In<=ct;In++)qn.blackfilt[Ot][In]/=Tt}qn.fill_buffer_resample_init=1}var br=qn.inbuf_old[mt];for(lt=0;lt<Nn;lt++){var Wr,Vr;if(Wr=lt*qn.resample_ratio,Ot=0|Math.floor(Wr-qn.itime[mt]),ct+Ot-ct/2>=$n)break;var Ct=Wr-qn.itime[mt]-(Ot+.5*(ct%2));m(Math.abs(Ct)<=.501),Vr=0|Math.floor(Ct*2*Yn+Yn+.5);var ts=0;for(In=0;In<=ct;++In){var ki=0|In+Ot-ct/2,Pa;m(ki<$n),m(ki+jn>=0),Pa=ki<0?br[jn+ki]:Zn[Gn+ki],ts+=Pa*qn.blackfilt[Vr][In]}te[En+lt]=ts}if(Vn.num_used=Math.min($n,ct+Ot-ct/2),qn.itime[mt]+=Vn.num_used-lt*qn.resample_ratio,Vn.num_used>=jn)for(In=0;In<jn;In++)br[In]=Zn[Gn+Vn.num_used+In-jn];else{var zr=jn-Vn.num_used;for(In=0;In<zr;++In)br[In]=br[In+Vn.num_used];for(Ot=0;In<jn;++In,++Ot)br[In]=Zn[Gn+Ot];m(Ot==Vn.num_used)}return lt}function Tn(j,te,En,Nn,Zn,Gn){var $n=j.internal_flags;if($n.resample_ratio<.9999||$n.resample_ratio>1.0001)for(var Vn=0;Vn<$n.channels_out;Vn++){var mt=new un;Gn.n_out=Hn(j,te[Vn],$n.mf_size,j.framesize,En[Vn],Nn,Zn,mt,Vn),Gn.n_in=mt.num_used}else{Gn.n_out=Math.min(j.framesize,Zn),Gn.n_in=Gn.n_out;for(var qn=0;qn<Gn.n_out;++qn)te[0][$n.mf_size+qn]=En[0][Nn+qn],$n.channels_out==2&&(te[1][$n.mf_size+qn]=En[1][Nn+qn])}}}n.exports=I});bn.register("3YDN3",function(n,t){function e(k){return new Int8Array(k)}function r(k){return new Int16Array(k)}function a(k){return new Int32Array(k)}function l(k){return new Float32Array(k)}function u(k){return new Float64Array(k)}function h(k){if(k.length==1)return l(k[0]);var I=k[0];k=k.slice(1);for(var D=[],U=0;U<I;U++)D.push(h(k));return D}function f(k){if(k.length==1)return a(k[0]);var I=k[0];k=k.slice(1);for(var D=[],U=0;U<I;U++)D.push(f(k));return D}function m(k){if(k.length==1)return r(k[0]);var I=k[0];k=k.slice(1);for(var D=[],U=0;U<I;U++)D.push(m(k));return D}function g(k){if(k.length==1)return new Array(k[0]);var I=k[0];k=k.slice(1);for(var D=[],U=0;U<I;U++)D.push(g(k));return D}var x={};x.fill=function(k,I,D,U){if(arguments.length==2)for(var O=0;O<k.length;O++)k[O]=arguments[1];else for(var O=I;O<D;O++)k[O]=U};var E={};E.arraycopy=function(k,I,D,U,O){for(var N=I+O;I<N;)D[U++]=k[I++]},E.out={},E.out.println=function(k){console.log(k)},E.out.printf=function(){console.log.apply(console,arguments)};var w={};w.SQRT2=1.4142135623730951,w.FAST_LOG10=function(k){return Math.log10(k)},w.FAST_LOG10_X=function(k,I){return Math.log10(k)*I};function T(k){this.ordinal=k}T.short_block_allowed=new T(0),T.short_block_coupled=new T(1),T.short_block_dispensed=new T(2),T.short_block_forced=new T(3);var A={};A.MAX_VALUE=34028235e31;function P(k){this.ordinal=k}P.vbr_off=new P(0),P.vbr_mt=new P(1),P.vbr_rh=new P(2),P.vbr_abr=new P(3),P.vbr_mtrh=new P(4),P.vbr_default=P.vbr_mtrh;var C=function(k){};n.exports={System:E,VbrMode:P,Float:A,ShortBlock:T,Util:w,Arrays:x,new_array_n:g,new_byte:e,new_double:u,new_float:l,new_float_n:h,new_int:a,new_int_n:f,new_short:r,new_short_n:m,assert:C}});bn.register("d2VP0",function(n,t){var e=bn("3YDN3");e.System;var r=e.VbrMode,a=e.Float,l=e.ShortBlock,u=e.Util,h=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var f=e.new_float,m=e.new_float_n,g=e.new_int;e.new_int_n;var x=e.assert,E=bn("2g11P"),w=bn("cPNKB");function T(){var A=bn("jL6I1"),P=new E,C=2.302585092994046,k=2,I=16,D=2,U=16,O=.34,N=1/217621504/(w.BLKSIZE/2),L=.01,K=.8,z=.6,ae=.3,fe=3.5,B=21,J=.2302585093;function ce(ue){return ue}function W(ue,de){for(var Te=0,Ae=0;Ae<w.BLKSIZE/2;++Ae)Te+=ue[Ae]*de.ATH.eql_w[Ae];return Te*=N,Te}function _e(ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn,Xe){var an=ue.internal_flags;if(He<2)P.fft_long(an,Ae[Ve],He,sn,Xe),P.fft_short(an,ge[Pe],He,sn,Xe);else if(He==2){for(var On=w.BLKSIZE-1;On>=0;--On){var rt=Ae[Ve+0][On],Ye=Ae[Ve+1][On];Ae[Ve+0][On]=(rt+Ye)*u.SQRT2*.5,Ae[Ve+1][On]=(rt-Ye)*u.SQRT2*.5}for(var ke=2;ke>=0;--ke)for(var On=w.BLKSIZE_s-1;On>=0;--On){var rt=ge[Pe+0][ke][On],Ye=ge[Pe+1][ke][On];ge[Pe+0][ke][On]=(rt+Ye)*u.SQRT2*.5,ge[Pe+1][ke][On]=(rt-Ye)*u.SQRT2*.5}}de[0]=Ae[Ve+0][0],de[0]*=de[0];for(var On=w.BLKSIZE/2-1;On>=0;--On){var Ie=Ae[Ve+0][w.BLKSIZE/2-On],tn=Ae[Ve+0][w.BLKSIZE/2+On];de[w.BLKSIZE/2-On]=(Ie*Ie+tn*tn)*.5}for(var ke=2;ke>=0;--ke){Te[ke][0]=ge[Pe+0][ke][0],Te[ke][0]*=Te[ke][0];for(var On=w.BLKSIZE_s/2-1;On>=0;--On){var Ie=ge[Pe+0][ke][w.BLKSIZE_s/2-On],tn=ge[Pe+0][ke][w.BLKSIZE_s/2+On];Te[ke][w.BLKSIZE_s/2-On]=(Ie*Ie+tn*tn)*.5}}for(var Kn=0,On=11;On<w.HBLKSIZE;On++)Kn+=de[On];if(an.tot_ener[He]=Kn,ue.analysis){for(var On=0;On<w.HBLKSIZE;On++)an.pinfo.energy[Ge][He][On]=an.pinfo.energy_save[He][On],an.pinfo.energy_save[He][On]=de[On];an.pinfo.pe[Ge][He]=an.pe[He]}ue.athaa_loudapprox==2&&He<2&&(an.loudness_sq[Ge][He]=an.loudness_sq_save[He],an.loudness_sq_save[He]=W(de,an))}var oe=8,le=23,ve=15,De,pe,he,G=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function ee(){De=Math.pow(10,(oe+1)/16),pe=Math.pow(10,(le+1)/16),he=Math.pow(10,ve/10)}var $=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],ie=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],Oe=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function qe(ue,de,Te,Ae,Ve,ge){var Pe;if(de>ue)if(de<ue*pe)Pe=de/ue;else return ue+de;else{if(ue>=de*pe)return ue+de;Pe=ue/de}if(x(ue>=0),x(de>=0),ue+=de,Ae+3<=6){if(Pe>=De)return ue;var Ge=0|u.FAST_LOG10_X(Pe,16);return ue*ie[Ge]}var Ge=0|u.FAST_LOG10_X(Pe,16);if(ge!=0?de=Ve.ATH.cb_s[Te]*Ve.ATH.adjust:de=Ve.ATH.cb_l[Te]*Ve.ATH.adjust,x(de>=0),ue<he*de){if(ue>de){var He,sn;return He=1,Ge<=13&&(He=Oe[Ge]),sn=u.FAST_LOG10_X(ue/de,10/15),ue*(($[Ge]-He)*sn+He)}return Ge>13?ue:ue*Oe[Ge]}return ue*$[Ge]}var Re=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function Se(ue,de,Te){var Ae;if(ue<0&&(ue=0),de<0&&(de=0),ue<=0)return de;if(de<=0)return ue;if(de>ue?Ae=de/ue:Ae=ue/de,-2<=Te&&Te<=2){if(Ae>=De)return ue+de;var Ve=0|u.FAST_LOG10_X(Ae,16);return(ue+de)*Re[Ve]}return Ae<pe?ue+de:(ue<de&&(ue=de),ue)}function je(ue,de){var Te=ue.internal_flags;if(Te.channels_out>1){for(var Ae=0;Ae<w.SBMAX_l;Ae++){var Ve=Te.thm[0].l[Ae],ge=Te.thm[1].l[Ae];Te.thm[0].l[Ae]+=ge*de,Te.thm[1].l[Ae]+=Ve*de}for(var Ae=0;Ae<w.SBMAX_s;Ae++)for(var Pe=0;Pe<3;Pe++){var Ve=Te.thm[0].s[Ae][Pe],ge=Te.thm[1].s[Ae][Pe];Te.thm[0].s[Ae][Pe]+=ge*de,Te.thm[1].s[Ae][Pe]+=Ve*de}}}function Be(ue){for(var de=0;de<w.SBMAX_l;de++)if(!(ue.thm[0].l[de]>1.58*ue.thm[1].l[de]||ue.thm[1].l[de]>1.58*ue.thm[0].l[de])){var Te=ue.mld_l[de]*ue.en[3].l[de],Ae=Math.max(ue.thm[2].l[de],Math.min(ue.thm[3].l[de],Te));Te=ue.mld_l[de]*ue.en[2].l[de];var Ve=Math.max(ue.thm[3].l[de],Math.min(ue.thm[2].l[de],Te));ue.thm[2].l[de]=Ae,ue.thm[3].l[de]=Ve}for(var de=0;de<w.SBMAX_s;de++)for(var ge=0;ge<3;ge++)if(!(ue.thm[0].s[de][ge]>1.58*ue.thm[1].s[de][ge]||ue.thm[1].s[de][ge]>1.58*ue.thm[0].s[de][ge])){var Te=ue.mld_s[de]*ue.en[3].s[de][ge],Ae=Math.max(ue.thm[2].s[de][ge],Math.min(ue.thm[3].s[de][ge],Te));Te=ue.mld_s[de]*ue.en[2].s[de][ge];var Ve=Math.max(ue.thm[3].s[de][ge],Math.min(ue.thm[2].s[de][ge],Te));ue.thm[2].s[de][ge]=Ae,ue.thm[3].s[de][ge]=Ve}}function We(ue,de,Te){var Ae=de,Ve=Math.pow(10,Te);de*=2,Ae*=2;for(var ge=0;ge<w.SBMAX_l;ge++){var Pe,Ge,He,sn;if(sn=ue.ATH.cb_l[ue.bm_l[ge]]*Ve,Pe=Math.min(Math.max(ue.thm[0].l[ge],sn),Math.max(ue.thm[1].l[ge],sn)),Ge=Math.max(ue.thm[2].l[ge],sn),He=Math.max(ue.thm[3].l[ge],sn),Pe*de<Ge+He){var Xe=Pe*Ae/(Ge+He);Ge*=Xe,He*=Xe,x(Ge+He>0)}ue.thm[2].l[ge]=Math.min(Ge,ue.thm[2].l[ge]),ue.thm[3].l[ge]=Math.min(He,ue.thm[3].l[ge])}Ve*=w.BLKSIZE_s/w.BLKSIZE;for(var ge=0;ge<w.SBMAX_s;ge++)for(var an=0;an<3;an++){var Pe,Ge,He,sn;if(sn=ue.ATH.cb_s[ue.bm_s[ge]]*Ve,Pe=Math.min(Math.max(ue.thm[0].s[ge][an],sn),Math.max(ue.thm[1].s[ge][an],sn)),Ge=Math.max(ue.thm[2].s[ge][an],sn),He=Math.max(ue.thm[3].s[ge][an],sn),Pe*de<Ge+He){var Xe=Pe*de/(Ge+He);Ge*=Xe,He*=Xe,x(Ge+He>0)}ue.thm[2].s[ge][an]=Math.min(ue.thm[2].s[ge][an],Ge),ue.thm[3].s[ge][an]=Math.min(ue.thm[3].s[ge][an],He)}}function rn(ue,de,Te,Ae,Ve){var ge,Pe,Ge=0,He=0;for(ge=Pe=0;ge<w.SBMAX_s;++Pe,++ge){for(var sn=ue.bo_s[ge],Xe=ue.npart_s,an=sn<Xe?sn:Xe;Pe<an;)x(de[Pe]>=0),x(Te[Pe]>=0),Ge+=de[Pe],He+=Te[Pe],Pe++;if(ue.en[Ae].s[ge][Ve]=Ge,ue.thm[Ae].s[ge][Ve]=He,Pe>=Xe){++ge;break}x(de[Pe]>=0),x(Te[Pe]>=0);var On=ue.PSY.bo_s_weight[ge],rt=1-On;Ge=On*de[Pe],He=On*Te[Pe],ue.en[Ae].s[ge][Ve]+=Ge,ue.thm[Ae].s[ge][Ve]+=He,Ge=rt*de[Pe],He=rt*Te[Pe]}for(;ge<w.SBMAX_s;++ge)ue.en[Ae].s[ge][Ve]=0,ue.thm[Ae].s[ge][Ve]=0}function un(ue,de,Te,Ae){var Ve,ge,Pe=0,Ge=0;for(Ve=ge=0;Ve<w.SBMAX_l;++ge,++Ve){for(var He=ue.bo_l[Ve],sn=ue.npart_l,Xe=He<sn?He:sn;ge<Xe;)x(de[ge]>=0),x(Te[ge]>=0),Pe+=de[ge],Ge+=Te[ge],ge++;if(ue.en[Ae].l[Ve]=Pe,ue.thm[Ae].l[Ve]=Ge,ge>=sn){++Ve;break}x(de[ge]>=0),x(Te[ge]>=0);var an=ue.PSY.bo_l_weight[Ve],On=1-an;Pe=an*de[ge],Ge=an*Te[ge],ue.en[Ae].l[Ve]+=Pe,ue.thm[Ae].l[Ve]+=Ge,Pe=On*de[ge],Ge=On*Te[ge]}for(;Ve<w.SBMAX_l;++Ve)ue.en[Ae].l[Ve]=0,ue.thm[Ae].l[Ve]=0}function pn(ue,de,Te,Ae,Ve,ge){var Pe=ue.internal_flags,Ge,He;for(He=Ge=0;He<Pe.npart_s;++He){for(var sn=0,Xe=Pe.numlines_s[He],an=0;an<Xe;++an,++Ge){var On=de[ge][Ge];sn+=On}Te[He]=sn}for(x(He==Pe.npart_s),x(Ge==129),Ge=He=0;He<Pe.npart_s;He++){var rt=Pe.s3ind_s[He][0],Ye=Pe.s3_ss[Ge++]*Te[rt];for(++rt;rt<=Pe.s3ind_s[He][1];)Ye+=Pe.s3_ss[Ge]*Te[rt],++Ge,++rt;var ke=D*Pe.nb_s1[Ve][He];if(Ae[He]=Math.min(Ye,ke),Pe.blocktype_old[Ve&1]==w.SHORT_TYPE){var ke=U*Pe.nb_s2[Ve][He],Ie=Ae[He];Ae[He]=Math.min(ke,Ie)}Pe.nb_s2[Ve][He]=Pe.nb_s1[Ve][He],Pe.nb_s1[Ve][He]=Ye,x(Ae[He]>=0)}for(;He<=w.CBANDS;++He)Te[He]=0,Ae[He]=0}function vn(ue,de,Te,Ae){var Ve=ue.internal_flags;ue.short_blocks==l.short_block_coupled&&!(de[0]!=0&&de[1]!=0)&&(de[0]=de[1]=0);for(var ge=0;ge<Ve.channels_out;ge++)Ae[ge]=w.NORM_TYPE,ue.short_blocks==l.short_block_dispensed&&(de[ge]=1),ue.short_blocks==l.short_block_forced&&(de[ge]=0),de[ge]!=0?(x(Ve.blocktype_old[ge]!=w.START_TYPE),Ve.blocktype_old[ge]==w.SHORT_TYPE&&(Ae[ge]=w.STOP_TYPE)):(Ae[ge]=w.SHORT_TYPE,Ve.blocktype_old[ge]==w.NORM_TYPE&&(Ve.blocktype_old[ge]=w.START_TYPE),Ve.blocktype_old[ge]==w.STOP_TYPE&&(Ve.blocktype_old[ge]=w.SHORT_TYPE)),Te[ge]=Ve.blocktype_old[ge],Ve.blocktype_old[ge]=Ae[ge]}function Hn(ue,de,Te){return Te>=1?ue:Te<=0?de:de>0?Math.pow(ue/de,Te)*de:0}var Tn=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function j(ue,de){for(var Te=309.07,Ae=0;Ae<w.SBMAX_s-1;Ae++)for(var Ve=0;Ve<3;Ve++){var ge=ue.thm.s[Ae][Ve];if(x(Ae<Tn.length),ge>0){var Pe=ge*de,Ge=ue.en.s[Ae][Ve];Ge>Pe&&(Ge>Pe*1e10?Te+=Tn[Ae]*(10*C):(x(Pe>0),Te+=Tn[Ae]*u.FAST_LOG10(Ge/Pe)))}}return Te}var te=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function En(ue,de){for(var Te=281.0575,Ae=0;Ae<w.SBMAX_l-1;Ae++){var Ve=ue.thm.l[Ae];if(x(Ae<te.length),Ve>0){var ge=Ve*de,Pe=ue.en.l[Ae];Pe>ge&&(Pe>ge*1e10?Te+=te[Ae]*(10*C):(x(ge>0),Te+=te[Ae]*u.FAST_LOG10(Pe/ge)))}}return Te}function Nn(ue,de,Te,Ae,Ve){var ge,Pe;for(ge=Pe=0;ge<ue.npart_l;++ge){var Ge=0,He=0,sn;for(sn=0;sn<ue.numlines_l[ge];++sn,++Pe){var Xe=de[Pe];x(Xe>=0),Ge+=Xe,He<Xe&&(He=Xe)}Te[ge]=Ge,Ae[ge]=He,Ve[ge]=Ge*ue.rnumlines_l[ge],x(ue.rnumlines_l[ge]>=0),x(Ge>=0),x(Te[ge]>=0),x(Ae[ge]>=0),x(Ve[ge]>=0)}}function Zn(ue,de,Te,Ae){var Ve=G.length-1,ge=0,Pe=Te[ge]+Te[ge+1];if(x(Pe>=0),Pe>0){var Ge=de[ge];Ge<de[ge+1]&&(Ge=de[ge+1]),x(ue.numlines_l[ge]+ue.numlines_l[ge+1]-1>0),Pe=20*(Ge*2-Pe)/(Pe*(ue.numlines_l[ge]+ue.numlines_l[ge+1]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;for(ge=1;ge<ue.npart_l-1;ge++)if(Pe=Te[ge-1]+Te[ge]+Te[ge+1],x(Pe>=0),Pe>0){var Ge=de[ge-1];Ge<de[ge]&&(Ge=de[ge]),Ge<de[ge+1]&&(Ge=de[ge+1]),x(ue.numlines_l[ge-1]+ue.numlines_l[ge]+ue.numlines_l[ge+1]-1>0),Pe=20*(Ge*3-Pe)/(Pe*(ue.numlines_l[ge-1]+ue.numlines_l[ge]+ue.numlines_l[ge+1]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;if(x(ge>0),x(ge==ue.npart_l-1),Pe=Te[ge-1]+Te[ge],x(Pe>=0),Pe>0){var Ge=de[ge-1];Ge<de[ge]&&(Ge=de[ge]),x(ue.numlines_l[ge-1]+ue.numlines_l[ge]-1>0),Pe=20*(Ge*2-Pe)/(Pe*(ue.numlines_l[ge-1]+ue.numlines_l[ge]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;x(ge==ue.npart_l-1)}var Gn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];this.L3psycho_anal_ns=function(ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn){var Xe=ue.internal_flags,an=m([2,w.BLKSIZE]),On=m([2,3,w.BLKSIZE_s]),rt=f(w.CBANDS+1),Ye=f(w.CBANDS+1),ke=f(w.CBANDS+2),Ie=g(2),tn=g(2),Kn,ln,Un,on,Xn,Gt,Dn,Et,At=m([2,576]),mr,Ci=g(w.CBANDS+2),Dr=g(w.CBANDS+2);for(h.fill(Dr,0),Kn=Xe.channels_out,ue.mode==A.JOINT_STEREO&&(Kn=4),ue.VBR==r.vbr_off?mr=Xe.ResvMax==0?0:Xe.ResvSize/Xe.ResvMax*.5:ue.VBR==r.vbr_rh||ue.VBR==r.vbr_mtrh||ue.VBR==r.vbr_mt?mr=.6:mr=1,ln=0;ln<Xe.channels_out;ln++){var ir=de[ln],pi=Te+576-350-B+192;for(x(Gn.length==(B-1)/2),on=0;on<576;on++){var Mi,Pt;for(Mi=ir[pi+on+10],Pt=0,Xn=0;Xn<(B-1)/2-1;Xn+=2)Mi+=Gn[Xn]*(ir[pi+on+Xn]+ir[pi+on+B-Xn]),Pt+=Gn[Xn+1]*(ir[pi+on+Xn+1]+ir[pi+on+B-Xn-1]);At[ln][on]=Mi+Pt}Ve[Ae][ln].en.assign(Xe.en[ln]),Ve[Ae][ln].thm.assign(Xe.thm[ln]),Kn>2&&(ge[Ae][ln].en.assign(Xe.en[ln+2]),ge[Ae][ln].thm.assign(Xe.thm[ln+2]))}for(ln=0;ln<Kn;ln++){var Ni,Di,vi=f(12),er=[0,0,0,0],gs=f(12),Rl=1,si,Ml=f(w.CBANDS),Dl=f(w.CBANDS),Sr=[0,0,0,0],fi=f(w.HBLKSIZE),kc=m([3,w.HBLKSIZE_s]);for(x(Xe.npart_s<=w.CBANDS),x(Xe.npart_l<=w.CBANDS),on=0;on<3;on++)vi[on]=Xe.nsPsy.last_en_subshort[ln][on+6],x(Xe.nsPsy.last_en_subshort[ln][on+4]>0),gs[on]=vi[on]/Xe.nsPsy.last_en_subshort[ln][on+4],er[0]+=vi[on];if(ln==2)for(on=0;on<576;on++){var _i,Ll;_i=At[0][on],Ll=At[1][on],At[0][on]=_i+Ll,At[1][on]=_i-Ll}var Li=At[ln&1],bo=0;for(on=0;on<9;on++){for(var Ul=bo+64,ei=1;bo<Ul;bo++)ei<Math.abs(Li[bo])&&(ei=Math.abs(Li[bo]));Xe.nsPsy.last_en_subshort[ln][on]=vi[on+3]=ei,er[1+on/3]+=ei,ei>vi[on+3-2]?(x(vi[on+3-2]>0),ei=ei/vi[on+3-2]):vi[on+3-2]>ei*10?(x(ei>0),ei=vi[on+3-2]/(ei*10)):ei=0,gs[on+3]=ei}if(ue.analysis){var qs=gs[0];for(on=1;on<12;on++)qs<gs[on]&&(qs=gs[on]);Xe.pinfo.ers[Ae][ln]=Xe.pinfo.ers_save[ln],Xe.pinfo.ers_save[ln]=qs}for(si=ln==3?Xe.nsPsy.attackthre_s:Xe.nsPsy.attackthre,on=0;on<12;on++)Sr[on/3]==0&&gs[on]>si&&(Sr[on/3]=on%3+1);for(on=1;on<4;on++){var Cc;er[on-1]>er[on]?(x(er[on]>0),Cc=er[on-1]/er[on]):(x(er[on-1]>0),Cc=er[on]/er[on-1]),Cc<1.7&&(Sr[on]=0,on==1&&(Sr[0]=0))}for(Sr[0]!=0&&Xe.nsPsy.lastAttacks[ln]!=0&&(Sr[0]=0),(Xe.nsPsy.lastAttacks[ln]==3||Sr[0]+Sr[1]+Sr[2]+Sr[3]!=0)&&(Rl=0,Sr[1]!=0&&Sr[0]!=0&&(Sr[1]=0),Sr[2]!=0&&Sr[1]!=0&&(Sr[2]=0),Sr[3]!=0&&Sr[2]!=0&&(Sr[3]=0)),ln<2?tn[ln]=Rl:Rl==0&&(tn[0]=tn[1]=0),He[ln]=Xe.tot_ener[ln],Di=On,Ni=an,_e(ue,fi,kc,Ni,ln&1,Di,ln&1,Ae,ln,de,Te),Nn(Xe,fi,rt,Ml,Dl),Zn(Xe,Ml,Dl,Ci),Et=0;Et<3;Et++){var Ft,vt;for(pn(ue,kc,Ye,ke,ln,Et),rn(Xe,Ye,ke,ln,Et),Dn=0;Dn<w.SBMAX_s;Dn++){if(vt=Xe.thm[ln].s[Dn][Et],vt*=K,Sr[Et]>=2||Sr[Et+1]==1){var en=Et!=0?Et-1:2,ei=Hn(Xe.thm[ln].s[Dn][en],vt,z*mr);vt=Math.min(vt,ei)}if(Sr[Et]==1){var en=Et!=0?Et-1:2,ei=Hn(Xe.thm[ln].s[Dn][en],vt,ae*mr);vt=Math.min(vt,ei)}else if(Et!=0&&Sr[Et-1]==3||Et==0&&Xe.nsPsy.lastAttacks[ln]==3){var en=Et!=2?Et+1:0,ei=Hn(Xe.thm[ln].s[Dn][en],vt,ae*mr);vt=Math.min(vt,ei)}Ft=vi[Et*3+3]+vi[Et*3+4]+vi[Et*3+5],vi[Et*3+5]*6<Ft&&(vt*=.5,vi[Et*3+4]*6<Ft&&(vt*=.5)),Xe.thm[ln].s[Dn][Et]=vt}}for(Xe.nsPsy.lastAttacks[ln]=Sr[2],Gt=0,Un=0;Un<Xe.npart_l;Un++){for(var ze=Xe.s3ind[Un][0],Wn=rt[ze]*G[Ci[ze]],it=Xe.s3_ll[Gt++]*Wn;++ze<=Xe.s3ind[Un][1];)Wn=rt[ze]*G[Ci[ze]],it=qe(it,Xe.s3_ll[Gt++]*Wn,ze,ze-Un,Xe,0);it*=.158489319246111,Xe.blocktype_old[ln&1]==w.SHORT_TYPE?ke[Un]=it:ke[Un]=Hn(Math.min(it,Math.min(k*Xe.nb_1[ln][Un],I*Xe.nb_2[ln][Un])),it,mr),Xe.nb_2[ln][Un]=Xe.nb_1[ln][Un],Xe.nb_1[ln][Un]=it}for(;Un<=w.CBANDS;++Un)rt[Un]=0,ke[Un]=0;un(Xe,rt,ke,ln)}if((ue.mode==A.STEREO||ue.mode==A.JOINT_STEREO)&&ue.interChRatio>0&&je(ue,ue.interChRatio),ue.mode==A.JOINT_STEREO){var zt;Be(Xe),zt=ue.msfix,Math.abs(zt)>0&&We(Xe,zt,ue.ATHlower*Xe.ATH.adjust)}for(vn(ue,tn,sn,Ie),ln=0;ln<Kn;ln++){var kt,Fa=0,Nc,_h;ln>1?(kt=Ge,Fa=-2,Nc=w.NORM_TYPE,(sn[0]==w.SHORT_TYPE||sn[1]==w.SHORT_TYPE)&&(Nc=w.SHORT_TYPE),_h=ge[Ae][ln-2]):(kt=Pe,Fa=0,Nc=sn[ln],_h=Ve[Ae][ln]),Nc==w.SHORT_TYPE?kt[Fa+ln]=j(_h,Xe.masking_lower):kt[Fa+ln]=En(_h,Xe.masking_lower),ue.analysis&&(Xe.pinfo.pe[Ae][ln]=kt[Fa+ln])}return 0};function $n(ue,de,Te,Ae,Ve,ge,Pe,Ge){var He=ue.internal_flags;if(Ae<2)P.fft_long(He,Pe[Ge],Ae,de,Te);else if(Ae==2)for(var sn=w.BLKSIZE-1;sn>=0;--sn){var Xe=Pe[Ge+0][sn],an=Pe[Ge+1][sn];Pe[Ge+0][sn]=(Xe+an)*u.SQRT2*.5,Pe[Ge+1][sn]=(Xe-an)*u.SQRT2*.5}ge[0]=Pe[Ge+0][0],ge[0]*=ge[0];for(var sn=w.BLKSIZE/2-1;sn>=0;--sn){var On=Pe[Ge+0][w.BLKSIZE/2-sn],rt=Pe[Ge+0][w.BLKSIZE/2+sn];ge[w.BLKSIZE/2-sn]=(On*On+rt*rt)*.5}for(var Ye=0,sn=11;sn<w.HBLKSIZE;sn++)Ye+=ge[sn];if(He.tot_ener[Ae]=Ye,ue.analysis){for(var sn=0;sn<w.HBLKSIZE;sn++)He.pinfo.energy[Ve][Ae][sn]=He.pinfo.energy_save[Ae][sn],He.pinfo.energy_save[Ae][sn]=ge[sn];He.pinfo.pe[Ve][Ae]=He.pe[Ae]}}function Vn(ue,de,Te,Ae,Ve,ge,Pe,Ge){var He=ue.internal_flags;if(Ve==0&&Ae<2&&P.fft_short(He,Pe[Ge],Ae,de,Te),Ae==2)for(var sn=w.BLKSIZE_s-1;sn>=0;--sn){var Xe=Pe[Ge+0][Ve][sn],an=Pe[Ge+1][Ve][sn];Pe[Ge+0][Ve][sn]=(Xe+an)*u.SQRT2*.5,Pe[Ge+1][Ve][sn]=(Xe-an)*u.SQRT2*.5}ge[Ve][0]=Pe[Ge+0][Ve][0],ge[Ve][0]*=ge[Ve][0];for(var sn=w.BLKSIZE_s/2-1;sn>=0;--sn){var On=Pe[Ge+0][Ve][w.BLKSIZE_s/2-sn],rt=Pe[Ge+0][Ve][w.BLKSIZE_s/2+sn];ge[Ve][w.BLKSIZE_s/2-sn]=(On*On+rt*rt)*.5}}function mt(ue,de,Te,Ae){var Ve=ue.internal_flags;ue.athaa_loudapprox==2&&Te<2&&(Ve.loudness_sq[de][Te]=Ve.loudness_sq_save[Te],Ve.loudness_sq_save[Te]=W(Ae,Ve))}var qn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];function In(ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn){for(var Xe=m([2,576]),an=ue.internal_flags,On=an.channels_out,rt=ue.mode==A.JOINT_STEREO?4:On,Ye=0;Ye<On;Ye++){firbuf=de[Ye];var ke=Te+576-350-B+192;x(qn.length==(B-1)/2);for(var Ie=0;Ie<576;Ie++){var tn,Kn;tn=firbuf[ke+Ie+10],Kn=0;for(var ln=0;ln<(B-1)/2-1;ln+=2)tn+=qn[ln]*(firbuf[ke+Ie+ln]+firbuf[ke+Ie+B-ln]),Kn+=qn[ln+1]*(firbuf[ke+Ie+ln+1]+firbuf[ke+Ie+B-ln-1]);Xe[Ye][Ie]=tn+Kn}Ve[Ae][Ye].en.assign(an.en[Ye]),Ve[Ae][Ye].thm.assign(an.thm[Ye]),rt>2&&(ge[Ae][Ye].en.assign(an.en[Ye+2]),ge[Ae][Ye].thm.assign(an.thm[Ye+2]))}for(var Ye=0;Ye<rt;Ye++){var Un=f(12),on=f(12),Xn=[0,0,0,0],Gt=Xe[Ye&1],Dn=0,Et=Ye==3?an.nsPsy.attackthre_s:an.nsPsy.attackthre,At=1;if(Ye==2)for(var Ie=0,ln=576;ln>0;++Ie,--ln){var mr=Xe[0][Ie],Ci=Xe[1][Ie];Xe[0][Ie]=mr+Ci,Xe[1][Ie]=mr-Ci}for(var Ie=0;Ie<3;Ie++)on[Ie]=an.nsPsy.last_en_subshort[Ye][Ie+6],x(an.nsPsy.last_en_subshort[Ye][Ie+4]>0),Un[Ie]=on[Ie]/an.nsPsy.last_en_subshort[Ye][Ie+4],Xn[0]+=on[Ie];for(var Ie=0;Ie<9;Ie++){for(var Dr=Dn+64,ir=1;Dn<Dr;Dn++)ir<Math.abs(Gt[Dn])&&(ir=Math.abs(Gt[Dn]));an.nsPsy.last_en_subshort[Ye][Ie]=on[Ie+3]=ir,Xn[1+Ie/3]+=ir,ir>on[Ie+3-2]?(x(on[Ie+3-2]>0),ir=ir/on[Ie+3-2]):on[Ie+3-2]>ir*10?(x(ir>0),ir=on[Ie+3-2]/(ir*10)):ir=0,Un[Ie+3]=ir}for(var Ie=0;Ie<3;++Ie){var pi=on[Ie*3+3]+on[Ie*3+4]+on[Ie*3+5],Mi=1;on[Ie*3+5]*6<pi&&(Mi*=.5,on[Ie*3+4]*6<pi&&(Mi*=.5)),Ge[Ye][Ie]=Mi}if(ue.analysis){for(var Pt=Un[0],Ie=1;Ie<12;Ie++)Pt<Un[Ie]&&(Pt=Un[Ie]);an.pinfo.ers[Ae][Ye]=an.pinfo.ers_save[Ye],an.pinfo.ers_save[Ye]=Pt}for(var Ie=0;Ie<12;Ie++)He[Ye][Ie/3]==0&&Un[Ie]>Et&&(He[Ye][Ie/3]=Ie%3+1);for(var Ie=1;Ie<4;Ie++){var Ni=Xn[Ie-1],Di=Xn[Ie],vi=Math.max(Ni,Di);vi<4e4&&Ni<1.7*Di&&Di<1.7*Ni&&(Ie==1&&He[Ye][0]<=He[Ye][Ie]&&(He[Ye][0]=0),He[Ye][Ie]=0)}He[Ye][0]<=an.nsPsy.lastAttacks[Ye]&&(He[Ye][0]=0),(an.nsPsy.lastAttacks[Ye]==3||He[Ye][0]+He[Ye][1]+He[Ye][2]+He[Ye][3]!=0)&&(At=0,He[Ye][1]!=0&&He[Ye][0]!=0&&(He[Ye][1]=0),He[Ye][2]!=0&&He[Ye][1]!=0&&(He[Ye][2]=0),He[Ye][3]!=0&&He[Ye][2]!=0&&(He[Ye][3]=0)),Ye<2?sn[Ye]=At:At==0&&(sn[0]=sn[1]=0),Pe[Ye]=an.tot_ener[Ye]}}function Ot(ue,de,Te){if(Te==0)for(var Ae=0;Ae<ue.npart_s;Ae++)ue.nb_s2[de][Ae]=ue.nb_s1[de][Ae],ue.nb_s1[de][Ae]=0}function lt(ue,de){for(var Te=0;Te<ue.npart_l;Te++)ue.nb_2[de][Te]=ue.nb_1[de][Te],ue.nb_1[de][Te]=0}function Yn(ue,de,Te,Ae){var Ve=G.length-1,ge=0,Pe=Te[ge]+Te[ge+1];if(x(Pe>=0),Pe>0){var Ge=de[ge];Ge<de[ge+1]&&(Ge=de[ge+1]),x(ue.numlines_s[ge]+ue.numlines_s[ge+1]-1>0),Pe=20*(Ge*2-Pe)/(Pe*(ue.numlines_s[ge]+ue.numlines_s[ge+1]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;for(ge=1;ge<ue.npart_s-1;ge++)if(Pe=Te[ge-1]+Te[ge]+Te[ge+1],x(ge+1<ue.npart_s),x(Pe>=0),Pe>0){var Ge=de[ge-1];Ge<de[ge]&&(Ge=de[ge]),Ge<de[ge+1]&&(Ge=de[ge+1]),x(ue.numlines_s[ge-1]+ue.numlines_s[ge]+ue.numlines_s[ge+1]-1>0),Pe=20*(Ge*3-Pe)/(Pe*(ue.numlines_s[ge-1]+ue.numlines_s[ge]+ue.numlines_s[ge+1]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;if(x(ge>0),x(ge==ue.npart_s-1),Pe=Te[ge-1]+Te[ge],x(Pe>=0),Pe>0){var Ge=de[ge-1];Ge<de[ge]&&(Ge=de[ge]),x(ue.numlines_s[ge-1]+ue.numlines_s[ge]-1>0),Pe=20*(Ge*2-Pe)/(Pe*(ue.numlines_s[ge-1]+ue.numlines_s[ge]-1));var He=0|Pe;He>Ve&&(He=Ve),Ae[ge]=He}else Ae[ge]=0;x(ge==ue.npart_s-1)}function Fn(ue,de,Te,Ae,Ve,ge){var Pe=ue.internal_flags,Ge=new float[w.CBANDS],He=f(w.CBANDS),sn,Xe,an,On=new int[w.CBANDS];for(an=Xe=0;an<Pe.npart_s;++an){var rt=0,Ye=0,ke=Pe.numlines_s[an];for(sn=0;sn<ke;++sn,++Xe){var Ie=de[ge][Xe];rt+=Ie,Ye<Ie&&(Ye=Ie)}Te[an]=rt,x(rt>=0),Ge[an]=Ye,x(ke>0),He[an]=rt/ke,x(He[an]>=0)}for(x(an==Pe.npart_s),x(Xe==129);an<w.CBANDS;++an)Ge[an]=0,He[an]=0;for(Yn(Pe,Ge,He,On),Xe=an=0;an<Pe.npart_s;an++){var tn=Pe.s3ind_s[an][0],Kn=Pe.s3ind_s[an][1],ln,Un,on,Xn,Gt;for(ln=On[tn],Un=1,Xn=Pe.s3_ss[Xe]*Te[tn]*G[On[tn]],++Xe,++tn;tn<=Kn;)ln+=On[tn],Un+=1,on=Pe.s3_ss[Xe]*Te[tn]*G[On[tn]],Xn=Se(Xn,on,tn-an),++Xe,++tn;ln=(1+2*ln)/(2*Un),Gt=G[ln]*.5,Xn*=Gt,Ae[an]=Xn,Pe.nb_s2[Ve][an]=Pe.nb_s1[Ve][an],Pe.nb_s1[Ve][an]=Xn,on=Ge[an],on*=Pe.minval_s[an],on*=Gt,Ae[an]>on&&(Ae[an]=on),Pe.masking_lower>1&&(Ae[an]*=Pe.masking_lower),Ae[an]>Te[an]&&(Ae[an]=Te[an]),Pe.masking_lower<1&&(Ae[an]*=Pe.masking_lower),x(Ae[an]>=0)}for(;an<w.CBANDS;++an)Te[an]=0,Ae[an]=0}function fn(ue,de,Te,Ae,Ve){var ge=f(w.CBANDS),Pe=f(w.CBANDS),Ge=g(w.CBANDS+2),He;Nn(ue,de,Te,ge,Pe),Zn(ue,ge,Pe,Ge);var sn=0;for(He=0;He<ue.npart_l;He++){var Xe,an,On,rt,Ye=ue.s3ind[He][0],ke=ue.s3ind[He][1],Ie=0,tn=0;for(Ie=Ge[Ye],tn+=1,an=ue.s3_ll[sn]*Te[Ye]*G[Ge[Ye]],++sn,++Ye;Ye<=ke;)Ie+=Ge[Ye],tn+=1,Xe=ue.s3_ll[sn]*Te[Ye]*G[Ge[Ye]],rt=Se(an,Xe,Ye-He),an=rt,++sn,++Ye;if(Ie=(1+2*Ie)/(2*tn),On=G[Ie]*.5,an*=On,ue.blocktype_old[Ve&1]==w.SHORT_TYPE){var Kn=k*ue.nb_1[Ve][He];Kn>0?Ae[He]=Math.min(an,Kn):Ae[He]=Math.min(an,Te[He]*ae)}else{var ln=I*ue.nb_2[Ve][He],Un=k*ue.nb_1[Ve][He],Kn;ln<=0&&(ln=an),Un<=0&&(Un=an),ue.blocktype_old[Ve&1]==w.NORM_TYPE?Kn=Math.min(Un,ln):Kn=Un,Ae[He]=Math.min(an,Kn)}ue.nb_2[Ve][He]=ue.nb_1[Ve][He],ue.nb_1[Ve][He]=an,Xe=ge[He],Xe*=ue.minval_l[He],Xe*=On,Ae[He]>Xe&&(Ae[He]=Xe),ue.masking_lower>1&&(Ae[He]*=ue.masking_lower),Ae[He]>Te[He]&&(Ae[He]=Te[He]),ue.masking_lower<1&&(Ae[He]*=ue.masking_lower),x(Ae[He]>=0)}for(;He<w.CBANDS;++He)Te[He]=0,Ae[He]=0}function ct(ue,de){var Te=ue.internal_flags;ue.short_blocks==l.short_block_coupled&&!(de[0]!=0&&de[1]!=0)&&(de[0]=de[1]=0);for(var Ae=0;Ae<Te.channels_out;Ae++)ue.short_blocks==l.short_block_dispensed&&(de[Ae]=1),ue.short_blocks==l.short_block_forced&&(de[Ae]=0)}function jn(ue,de,Te){for(var Ae=ue.internal_flags,Ve=0;Ve<Ae.channels_out;Ve++){var ge=w.NORM_TYPE;de[Ve]!=0?(x(Ae.blocktype_old[Ve]!=w.START_TYPE),Ae.blocktype_old[Ve]==w.SHORT_TYPE&&(ge=w.STOP_TYPE)):(ge=w.SHORT_TYPE,Ae.blocktype_old[Ve]==w.NORM_TYPE&&(Ae.blocktype_old[Ve]=w.START_TYPE),Ae.blocktype_old[Ve]==w.STOP_TYPE&&(Ae.blocktype_old[Ve]=w.SHORT_TYPE)),Te[Ve]=Ae.blocktype_old[Ve],Ae.blocktype_old[Ve]=ge}}function Tt(ue,de,Te,Ae,Ve,ge,Pe){for(var Ge=ge*2,He=ge>0?Math.pow(10,Ve):1,sn,Xe,an=0;an<Pe;++an){var On=ue[2][an],rt=ue[3][an],Ye=de[0][an],ke=de[1][an],Ie=de[2][an],tn=de[3][an];if(Ye<=1.58*ke&&ke<=1.58*Ye){var Kn=Te[an]*rt,ln=Te[an]*On;Xe=Math.max(Ie,Math.min(tn,Kn)),sn=Math.max(tn,Math.min(Ie,ln))}else Xe=Ie,sn=tn;if(ge>0){var Un,on,Xn=Ae[an]*He;if(Un=Math.min(Math.max(Ye,Xn),Math.max(ke,Xn)),Ie=Math.max(Xe,Xn),tn=Math.max(sn,Xn),on=Ie+tn,on>0&&Un*Ge<on){var Gt=Un*Ge/on;Ie*=Gt,tn*=Gt,x(on>0)}Xe=Math.min(Ie,Xe),sn=Math.min(tn,sn)}Xe>On&&(Xe=On),sn>rt&&(sn=rt),de[2][an]=Xe,de[3][an]=sn}}this.L3psycho_anal_vbr=function(ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn){var Xe=ue.internal_flags,an,On,rt=f(w.HBLKSIZE),Ye=m([3,w.HBLKSIZE_s]),ke=m([2,w.BLKSIZE]),Ie=m([2,3,w.BLKSIZE_s]),tn=m([4,w.CBANDS]),Kn=m([4,w.CBANDS]),ln=m([4,3]),Un=.6,on=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Xn=g(2),Gt=ue.mode==A.JOINT_STEREO?4:Xe.channels_out;In(ue,de,Te,Ae,Ve,ge,He,ln,on,Xn),ct(ue,Xn);for(var Dn=0;Dn<Gt;Dn++){var Et=Dn&1;an=ke,$n(ue,de,Te,Dn,Ae,rt,an,Et),mt(ue,Ae,Dn,rt),Xn[Et]!=0?fn(Xe,rt,tn[Dn],Kn[Dn],Dn):lt(Xe,Dn)}Xn[0]+Xn[1]==2&&ue.mode==A.JOINT_STEREO&&Tt(tn,Kn,Xe.mld_cb_l,Xe.ATH.cb_l,ue.ATHlower*Xe.ATH.adjust,ue.msfix,Xe.npart_l);for(var Dn=0;Dn<Gt;Dn++){var Et=Dn&1;Xn[Et]!=0&&un(Xe,tn[Dn],Kn[Dn],Dn)}for(var At=0;At<3;At++){for(var Dn=0;Dn<Gt;++Dn){var Et=Dn&1;Xn[Et]!=0?Ot(Xe,Dn,At):(On=Ie,Vn(ue,de,Te,Dn,At,Ye,On,Et),Fn(ue,Ye,tn[Dn],Kn[Dn],Dn,At))}Xn[0]+Xn[1]==0&&ue.mode==A.JOINT_STEREO&&Tt(tn,Kn,Xe.mld_cb_s,Xe.ATH.cb_s,ue.ATHlower*Xe.ATH.adjust,ue.msfix,Xe.npart_s);for(var Dn=0;Dn<Gt;++Dn){var Et=Dn&1;Xn[Et]==0&&rn(Xe,tn[Dn],Kn[Dn],Dn,At)}}for(var Dn=0;Dn<Gt;Dn++){var Et=Dn&1;if(Xn[Et]==0)for(var mr=0;mr<w.SBMAX_s;mr++){for(var Ci=f(3),At=0;At<3;At++){var Dr=Xe.thm[Dn].s[mr][At];if(Dr*=K,on[Dn][At]>=2||on[Dn][At+1]==1){var ir=At!=0?At-1:2,pi=Hn(Xe.thm[Dn].s[mr][ir],Dr,z*Un);Dr=Math.min(Dr,pi)}else if(on[Dn][At]==1){var ir=At!=0?At-1:2,pi=Hn(Xe.thm[Dn].s[mr][ir],Dr,ae*Un);Dr=Math.min(Dr,pi)}else if(At!=0&&on[Dn][At-1]==3||At==0&&Xe.nsPsy.lastAttacks[Dn]==3){var ir=At!=2?At+1:0,pi=Hn(Xe.thm[Dn].s[mr][ir],Dr,ae*Un);Dr=Math.min(Dr,pi)}Dr*=ln[Dn][At],Ci[At]=Dr}for(var At=0;At<3;At++)Xe.thm[Dn].s[mr][At]=Ci[At]}}for(var Dn=0;Dn<Gt;Dn++)Xe.nsPsy.lastAttacks[Dn]=on[Dn][2];jn(ue,Xn,sn);for(var Dn=0;Dn<Gt;Dn++){var Mi,Pt,Ni,Di;Dn>1?(Mi=Ge,Pt=-2,Ni=w.NORM_TYPE,(sn[0]==w.SHORT_TYPE||sn[1]==w.SHORT_TYPE)&&(Ni=w.SHORT_TYPE),Di=ge[Ae][Dn-2]):(Mi=Pe,Pt=0,Ni=sn[Dn],Di=Ve[Ae][Dn]),Ni==w.SHORT_TYPE?Mi[Pt+Dn]=j(Di,Xe.masking_lower):Mi[Pt+Dn]=En(Di,Xe.masking_lower),ue.analysis&&(Xe.pinfo.pe[Ae][Dn]=Mi[Pt+Dn])}return 0};function Ct(ue,de){var Te=ue,Ae;return Te>=0?Ae=-Te*27:Ae=Te*de,Ae<=-72?0:Math.exp(Ae*J)}function br(ue){var de=0,Te=0,Ae=0,Ve,ge;for(Ae=0;Ct(Ae,ue)>1e-20;Ae-=1);for(Ve=Ae,ge=0;Math.abs(ge-Ve)>1e-12;)Ae=(ge+Ve)/2,Ct(Ae,ue)>0?ge=Ae:Ve=Ae;de=Ve;var Ae=0,Ve,ge;for(Ae=0;Ct(Ae,ue)>1e-20;Ae+=1);for(Ve=0,ge=Ae;Math.abs(ge-Ve)>1e-12;)Ae=(ge+Ve)/2,Ct(Ae,ue)>0?Ve=Ae:ge=Ae;Te=ge;var Pe=0,Ge=1e3,He;for(He=0;He<=Ge;++He){var Ae=de+He*(Te-de)/Ge,sn=Ct(Ae,ue);Pe+=sn}var Xe=(Ge+1)/(Pe*(Te-de));return Xe}function Wr(ue){var de,Te,Ae,Ve;return de=ue,de>=0?de*=3:de*=1.5,de>=.5&&de<=2.5?(Ve=de-.5,Te=8*(Ve*Ve-2*Ve)):Te=0,de+=.474,Ae=15.811389+7.5*de-17.5*Math.sqrt(1+de*de),Ae<=-60?0:(de=Math.exp((Te+Ae)*J),de/=.6609193,de)}function Vr(ue){return ue<0&&(ue=0),ue=ue*.001,13*Math.atan(.76*ue)+3.5*Math.atan(ue*ue/56.25)}function ts(ue,de,Te,Ae,Ve,ge,Pe,Ge,He,sn,Xe,an){var On=f(w.CBANDS+1),rt=Ge/(an>15?1152:384),Ye=g(w.HBLKSIZE),ke;Ge/=He;var Ie=0,tn=0;for(ke=0;ke<w.CBANDS;ke++){var Kn,ln;for(Kn=Vr(Ge*Ie),On[ke]=Ge*Ie,ln=Ie;Vr(Ge*ln)-Kn<O&&ln<=He/2;ln++);for(ue[ke]=ln-Ie,tn=ke+1;Ie<ln;)x(Ie<w.HBLKSIZE),Ye[Ie++]=ke;if(Ie>He/2){Ie=He/2,++ke;break}}x(ke<w.CBANDS),On[ke]=Ge*Ie;for(var Un=0;Un<an;Un++){var on,Xn,Gt,Dn,Et;Gt=sn[Un],Dn=sn[Un+1],on=0|Math.floor(.5+Xe*(Gt-.5)),on<0&&(on=0),Xn=0|Math.floor(.5+Xe*(Dn-.5)),Xn>He/2&&(Xn=He/2),Te[Un]=(Ye[on]+Ye[Xn])/2,de[Un]=Ye[Xn];var At=rt*Dn;Pe[Un]=(At-On[de[Un]])/(On[de[Un]+1]-On[de[Un]]),Pe[Un]<0?Pe[Un]=0:Pe[Un]>1&&(Pe[Un]=1),Et=Vr(Ge*sn[Un]*Xe),Et=Math.min(Et,15.5)/15.5,ge[Un]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Et))-2.5)}Ie=0;for(var mr=0;mr<tn;mr++){var Ci=ue[mr],Kn,Dr;Kn=Vr(Ge*Ie),Dr=Vr(Ge*(Ie+Ci-1)),Ae[mr]=.5*(Kn+Dr),Kn=Vr(Ge*(Ie-.5)),Dr=Vr(Ge*(Ie+Ci-.5)),Ve[mr]=Dr-Kn,Ie+=Ci}return tn}function ki(ue,de,Te,Ae,Ve,ge){var Pe=m([w.CBANDS,w.CBANDS]),Ge,He=0;if(ge)for(var sn=0;sn<de;sn++)for(Ge=0;Ge<de;Ge++){var Xe=Wr(Te[sn]-Te[Ge])*Ae[Ge];Pe[sn][Ge]=Xe*Ve[sn]}else for(Ge=0;Ge<de;Ge++)for(var an=15+Math.min(21/Te[Ge],12),On=br(an),sn=0;sn<de;sn++){var Xe=On*Ct(Te[sn]-Te[Ge],an)*Ae[Ge];Pe[sn][Ge]=Xe*Ve[sn]}for(var sn=0;sn<de;sn++){for(Ge=0;Ge<de&&!(Pe[sn][Ge]>0);Ge++);for(ue[sn][0]=Ge,Ge=de-1;Ge>0&&!(Pe[sn][Ge]>0);Ge--);ue[sn][1]=Ge,He+=ue[sn][1]-ue[sn][0]+1}for(var rt=f(He),Ye=0,sn=0;sn<de;sn++)for(Ge=ue[sn][0];Ge<=ue[sn][1];Ge++)rt[Ye++]=Pe[sn][Ge];return rt}function Pa(ue){var de=Vr(ue);return de=Math.min(de,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*de))-2.5)}this.psymodel_init=function(ue){var de=ue.internal_flags,Te,Ae=!0,Ve=13,ge=24,Pe=0,Ge=0,He=-8.25,sn=-4.5,Xe=f(w.CBANDS),an=f(w.CBANDS),On=f(w.CBANDS),rt=ue.out_samplerate;switch(ue.experimentalZ){default:case 0:Ae=!0;break;case 1:Ae=!(ue.VBR==r.vbr_mtrh||ue.VBR==r.vbr_mt);break;case 2:Ae=!1;break;case 3:Ve=8,Pe=-1.75,Ge=-.0125,He=-8.25,sn=-2.25;break}for(de.ms_ener_ratio_old=.25,de.blocktype_old[0]=de.blocktype_old[1]=w.NORM_TYPE,Te=0;Te<4;++Te){for(var Ie=0;Ie<w.CBANDS;++Ie)de.nb_1[Te][Ie]=1e20,de.nb_2[Te][Ie]=1e20,de.nb_s1[Te][Ie]=de.nb_s2[Te][Ie]=1;for(var Ye=0;Ye<w.SBMAX_l;Ye++)de.en[Te].l[Ye]=1e20,de.thm[Te].l[Ye]=1e20;for(var Ie=0;Ie<3;++Ie){for(var Ye=0;Ye<w.SBMAX_s;Ye++)de.en[Te].s[Ye][Ie]=1e20,de.thm[Te].s[Ye][Ie]=1e20;de.nsPsy.lastAttacks[Te]=0}for(var Ie=0;Ie<9;Ie++)de.nsPsy.last_en_subshort[Te][Ie]=10}for(de.loudness_sq_save[0]=de.loudness_sq_save[1]=0,de.npart_l=ts(de.numlines_l,de.bo_l,de.bm_l,Xe,an,de.mld_l,de.PSY.bo_l_weight,rt,w.BLKSIZE,de.scalefac_band.l,w.BLKSIZE/1152,w.SBMAX_l),x(de.npart_l<w.CBANDS),Te=0;Te<de.npart_l;Te++){var ke=Pe;Xe[Te]>=Ve&&(ke=Ge*(Xe[Te]-Ve)/(ge-Ve)+Pe*(ge-Xe[Te])/(ge-Ve)),On[Te]=Math.pow(10,ke/10),de.numlines_l[Te]>0?de.rnumlines_l[Te]=1/de.numlines_l[Te]:de.rnumlines_l[Te]=0}de.s3_ll=ki(de.s3ind,de.npart_l,Xe,an,On,Ae);var Ie=0;for(Te=0;Te<de.npart_l;Te++){var tn;tn=a.MAX_VALUE;for(var Kn=0;Kn<de.numlines_l[Te];Kn++,Ie++){var ln=rt*Ie/(1e3*w.BLKSIZE),Un;Un=this.ATHformula(ln*1e3,ue)-20,Un=Math.pow(10,.1*Un),Un*=de.numlines_l[Te],tn>Un&&(tn=Un)}de.ATH.cb_l[Te]=tn,tn=-20+Xe[Te]*20/10,tn>6&&(tn=100),tn<-15&&(tn=-15),tn-=8,de.minval_l[Te]=Math.pow(10,tn/10)*de.numlines_l[Te]}for(de.npart_s=ts(de.numlines_s,de.bo_s,de.bm_s,Xe,an,de.mld_s,de.PSY.bo_s_weight,rt,w.BLKSIZE_s,de.scalefac_band.s,w.BLKSIZE_s/384,w.SBMAX_s),x(de.npart_s<w.CBANDS),Ie=0,Te=0;Te<de.npart_s;Te++){var tn,ke=He;Xe[Te]>=Ve&&(ke=sn*(Xe[Te]-Ve)/(ge-Ve)+He*(ge-Xe[Te])/(ge-Ve)),On[Te]=Math.pow(10,ke/10),tn=a.MAX_VALUE;for(var Kn=0;Kn<de.numlines_s[Te];Kn++,Ie++){var ln=rt*Ie/(1e3*w.BLKSIZE_s),Un;Un=this.ATHformula(ln*1e3,ue)-20,Un=Math.pow(10,.1*Un),Un*=de.numlines_s[Te],tn>Un&&(tn=Un)}de.ATH.cb_s[Te]=tn,tn=-7+Xe[Te]*7/12,Xe[Te]>12&&(tn*=1+Math.log(1+tn)*3.1),Xe[Te]<12&&(tn*=1+Math.log(1-tn)*2.3),tn<-15&&(tn=-15),tn-=8,de.minval_s[Te]=Math.pow(10,tn/10)*de.numlines_s[Te]}de.s3_ss=ki(de.s3ind_s,de.npart_s,Xe,an,On,Ae),ee(),P.init_fft(de),de.decay=Math.exp(-1*C/(L*rt/192));var on;on=fe,ue.exp_nspsytune&2&&(on=1),Math.abs(ue.msfix)>0&&(on=ue.msfix),ue.msfix=on;for(var Xn=0;Xn<de.npart_l;Xn++)de.s3ind[Xn][1]>de.npart_l-1&&(de.s3ind[Xn][1]=de.npart_l-1);var Gt=576*de.mode_gr/rt;if(de.ATH.decay=Math.pow(10,-1.2*Gt),de.ATH.adjust=.01,de.ATH.adjustLimit=1,x(de.bo_l[w.SBMAX_l-1]<=de.npart_l),x(de.bo_s[w.SBMAX_s-1]<=de.npart_s),ue.ATHtype!=-1){var ln,Dn=ue.out_samplerate/w.BLKSIZE,Et=0;for(ln=0,Te=0;Te<w.BLKSIZE/2;++Te)ln+=Dn,de.ATH.eql_w[Te]=1/Math.pow(10,this.ATHformula(ln,ue)/10),Et+=de.ATH.eql_w[Te];for(Et=1/Et,Te=w.BLKSIZE/2;--Te>=0;)de.ATH.eql_w[Te]*=Et}for(var Xn=Ie=0;Xn<de.npart_s;++Xn)for(Te=0;Te<de.numlines_s[Xn];++Te)++Ie;x(Ie==129);for(var Xn=Ie=0;Xn<de.npart_l;++Xn)for(Te=0;Te<de.numlines_l[Xn];++Te)++Ie;for(x(Ie==513),Ie=0,Te=0;Te<de.npart_l;Te++){var ln=rt*(Ie+de.numlines_l[Te]/2)/(1*w.BLKSIZE);de.mld_cb_l[Te]=Pa(ln),Ie+=de.numlines_l[Te]}for(;Te<w.CBANDS;++Te)de.mld_cb_l[Te]=1;for(Ie=0,Te=0;Te<de.npart_s;Te++){var ln=rt*(Ie+de.numlines_s[Te]/2)/(1*w.BLKSIZE_s);de.mld_cb_s[Te]=Pa(ln),Ie+=de.numlines_s[Te]}for(;Te<w.CBANDS;++Te)de.mld_cb_s[Te]=1;return 0};function zr(ue,de){ue<-.3&&(ue=3410),ue/=1e3,ue=Math.max(.1,ue);var Te=3.64*Math.pow(ue,-.8)-6.8*Math.exp(-.6*Math.pow(ue-3.4,2))+6*Math.exp(-.15*Math.pow(ue-8.7,2))+(.6+.04*de)*.001*Math.pow(ue,4);return Te}this.ATHformula=function(ue,de){var Te;switch(de.ATHtype){case 0:Te=zr(ue,9);break;case 1:Te=zr(ue,-1);break;case 2:Te=zr(ue,0);break;case 3:Te=zr(ue,1)+6;break;case 4:Te=zr(ue,de.ATHcurve);break;default:Te=zr(ue,0);break}return Te}}n.exports=T});bn.register("2g11P",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock;var r=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var a=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var l=bn("cPNKB");function u(){var h=a(l.BLKSIZE),f=a(l.BLKSIZE_s/2),m=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function g(E,w,T){var A=0,P,C,k;T<<=1;var I=w+T;P=4;do{var D,U,O,N,L,K,z;z=P>>1,N=P,L=P<<1,K=L+N,P=L<<1,C=w,k=C+z;do{var ae,fe,B,J;fe=E[C+0]-E[C+N],ae=E[C+0]+E[C+N],J=E[C+L]-E[C+K],B=E[C+L]+E[C+K],E[C+L]=ae-B,E[C+0]=ae+B,E[C+K]=fe-J,E[C+N]=fe+J,fe=E[k+0]-E[k+N],ae=E[k+0]+E[k+N],J=r.SQRT2*E[k+K],B=r.SQRT2*E[k+L],E[k+L]=ae-B,E[k+0]=ae+B,E[k+K]=fe-J,E[k+N]=fe+J,k+=P,C+=P}while(C<I);for(U=m[A+0],D=m[A+1],O=1;O<z;O++){var ce,W;ce=1-2*D*D,W=2*D*U,C=w+O,k=w+N-O;do{var _e,oe,le,ae,fe,ve,B,De,J,pe;oe=W*E[C+N]-ce*E[k+N],_e=ce*E[C+N]+W*E[k+N],fe=E[C+0]-_e,ae=E[C+0]+_e,ve=E[k+0]-oe,le=E[k+0]+oe,oe=W*E[C+K]-ce*E[k+K],_e=ce*E[C+K]+W*E[k+K],J=E[C+L]-_e,B=E[C+L]+_e,pe=E[k+L]-oe,De=E[k+L]+oe,oe=D*B-U*pe,_e=U*B+D*pe,E[C+L]=ae-_e,E[C+0]=ae+_e,E[k+K]=ve-oe,E[k+N]=ve+oe,oe=U*De-D*J,_e=D*De+U*J,E[k+L]=le-_e,E[k+0]=le+_e,E[C+K]=fe-oe,E[C+N]=fe+oe,k+=P,C+=P}while(C<I);ce=U,U=ce*m[A+0]-D*m[A+1],D=ce*m[A+1]+D*m[A+0]}A+=2}while(P<T)}var x=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(E,w,T,A,P){for(var C=0;C<3;C++){var k=l.BLKSIZE_s/2,I=65535&192*(C+1),D=l.BLKSIZE_s/8-1;do{var U,O,N,L,K,z=x[D<<2]&255;U=f[z]*A[T][P+z+I],K=f[127-z]*A[T][P+z+I+128],O=U-K,U=U+K,N=f[z+64]*A[T][P+z+I+64],K=f[63-z]*A[T][P+z+I+192],L=N-K,N=N+K,k-=4,w[C][k+0]=U+N,w[C][k+2]=U-N,w[C][k+1]=O+L,w[C][k+3]=O-L,U=f[z+1]*A[T][P+z+I+1],K=f[126-z]*A[T][P+z+I+129],O=U-K,U=U+K,N=f[z+65]*A[T][P+z+I+65],K=f[62-z]*A[T][P+z+I+193],L=N-K,N=N+K,w[C][k+l.BLKSIZE_s/2+0]=U+N,w[C][k+l.BLKSIZE_s/2+2]=U-N,w[C][k+l.BLKSIZE_s/2+1]=O+L,w[C][k+l.BLKSIZE_s/2+3]=O-L}while(--D>=0);g(w[C],k,l.BLKSIZE_s/2)}},this.fft_long=function(E,w,T,A,P){var C=l.BLKSIZE/8-1,k=l.BLKSIZE/2;do{var I,D,U,O,N,L=x[C]&255;I=h[L]*A[T][P+L],N=h[L+512]*A[T][P+L+512],D=I-N,I=I+N,U=h[L+256]*A[T][P+L+256],N=h[L+768]*A[T][P+L+768],O=U-N,U=U+N,k-=4,w[k+0]=I+U,w[k+2]=I-U,w[k+1]=D+O,w[k+3]=D-O,I=h[L+1]*A[T][P+L+1],N=h[L+513]*A[T][P+L+513],D=I-N,I=I+N,U=h[L+257]*A[T][P+L+257],N=h[L+769]*A[T][P+L+769],O=U-N,U=U+N,w[k+l.BLKSIZE/2+0]=I+U,w[k+l.BLKSIZE/2+2]=I-U,w[k+l.BLKSIZE/2+1]=D+O,w[k+l.BLKSIZE/2+3]=D-O}while(--C>=0);g(w,k,l.BLKSIZE/2)},this.init_fft=function(E){for(var w=0;w<l.BLKSIZE;w++)h[w]=.42-.5*Math.cos(2*Math.PI*(w+.5)/l.BLKSIZE)+.08*Math.cos(4*Math.PI*(w+.5)/l.BLKSIZE);for(var w=0;w<l.BLKSIZE_s/2;w++)f[w]=.5*(1-Math.cos(2*Math.PI*(w+.5)/l.BLKSIZE_s))}}n.exports=u});bn.register("cPNKB",function(n,t){var e=bn("3YDN3"),r=e.System,a=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var l=e.new_array_n;e.new_byte,e.new_double;var u=e.new_float,h=e.new_float_n,f=e.new_int;e.new_int_n;var m=e.assert;g.ENCDELAY=576,g.POSTDELAY=1152,g.MDCTDELAY=48,g.FFTOFFSET=224+g.MDCTDELAY,g.DECDELAY=528,g.SBLIMIT=32,g.CBANDS=64,g.SBPSY_l=21,g.SBPSY_s=12,g.SBMAX_l=22,g.SBMAX_s=13,g.PSFB21=6,g.PSFB12=6,g.BLKSIZE=1024,g.HBLKSIZE=g.BLKSIZE/2+1,g.BLKSIZE_s=256,g.HBLKSIZE_s=g.BLKSIZE_s/2+1,g.NORM_TYPE=0,g.START_TYPE=1,g.SHORT_TYPE=2,g.STOP_TYPE=3,g.MPG_MD_LR_LR=0,g.MPG_MD_LR_I=1,g.MPG_MD_MS_LR=2,g.MPG_MD_MS_I=3,g.fircoef=[-.1039435,-.1892065,-.0432472*5,-.155915,779609e-23*5,.0467745*5,.50455,.756825,.187098*5];function g(){var x=bn("drj3v"),E=bn("hvy40"),w=bn("jL6I1"),T=g.FFTOFFSET,A=g.MPG_MD_MS_LR,P=null;this.psy=null;var C=null,k=null,I=null;this.setModules=function(L,K,z,ae){P=L,this.psy=K,C=K,k=ae,I=z};var D=new x;function U(L){var K,z;if(L.ATH.useAdjust==0){L.ATH.adjust=1;return}if(z=L.loudness_sq[0][0],K=L.loudness_sq[1][0],L.channels_out==2?(z+=L.loudness_sq[0][1],K+=L.loudness_sq[1][1]):(z+=z,K+=K),L.mode_gr==2&&(z=Math.max(z,K)),z*=.5,z*=L.ATH.aaSensitivityP,z>.03125)L.ATH.adjust>=1?L.ATH.adjust=1:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=1;else{var ae=31.98*z+625e-6;L.ATH.adjust>=ae?(L.ATH.adjust*=ae*.075+.925,L.ATH.adjust<ae&&(L.ATH.adjust=ae)):L.ATH.adjustLimit>=ae?L.ATH.adjust=ae:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=ae}}function O(L){var K,z;for(m(0<=L.bitrate_index&&L.bitrate_index<16),m(0<=L.mode_ext&&L.mode_ext<4),L.bitrate_stereoMode_Hist[L.bitrate_index][4]++,L.bitrate_stereoMode_Hist[15][4]++,L.channels_out==2&&(L.bitrate_stereoMode_Hist[L.bitrate_index][L.mode_ext]++,L.bitrate_stereoMode_Hist[15][L.mode_ext]++),K=0;K<L.mode_gr;++K)for(z=0;z<L.channels_out;++z){var ae=L.l3_side.tt[K][z].block_type|0;L.l3_side.tt[K][z].mixed_block_flag!=0&&(ae=4),L.bitrate_blockType_Hist[L.bitrate_index][ae]++,L.bitrate_blockType_Hist[L.bitrate_index][5]++,L.bitrate_blockType_Hist[15][ae]++,L.bitrate_blockType_Hist[15][5]++}}function N(L,K){var z=L.internal_flags,ae,fe;if(z.lame_encode_frame_init==0){var B,J,ce=u(2014),W=u(2014);for(z.lame_encode_frame_init=1,B=0,J=0;B<286+576*(1+z.mode_gr);++B)B<576*z.mode_gr?(ce[B]=0,z.channels_out==2&&(W[B]=0)):(ce[B]=K[0][J],z.channels_out==2&&(W[B]=K[1][J]),++J);for(fe=0;fe<z.mode_gr;fe++)for(ae=0;ae<z.channels_out;ae++)z.l3_side.tt[fe][ae].block_type=g.SHORT_TYPE;D.mdct_sub48(z,ce,W),m(576>=g.FFTOFFSET),m(z.mf_size>=g.BLKSIZE+L.framesize-g.FFTOFFSET),m(z.mf_size>=512+L.framesize-32)}}this.lame_encode_mp3_frame=function(L,K,z,ae,fe,B){var J,ce=l([2,2]);ce[0][0]=new E,ce[0][1]=new E,ce[1][0]=new E,ce[1][1]=new E;var W=l([2,2]);W[0][0]=new E,W[0][1]=new E,W[1][0]=new E,W[1][1]=new E;var _e,oe=[null,null],le=L.internal_flags,ve=h([2,4]),De=[.5,.5],pe=[[0,0],[0,0]],he=[[0,0],[0,0]],G,ee,$;if(oe[0]=K,oe[1]=z,le.lame_encode_frame_init==0&&N(L,oe),le.padding=0,(le.slot_lag-=le.frac_SpF)<0&&(le.slot_lag+=L.out_samplerate,le.padding=1),le.psymodel!=0){var ie,Oe=[null,null],qe=0,Re=f(2);for($=0;$<le.mode_gr;$++){for(ee=0;ee<le.channels_out;ee++)Oe[ee]=oe[ee],qe=576+$*576-g.FFTOFFSET;if(L.VBR==a.vbr_mtrh||L.VBR==a.vbr_mt?ie=C.L3psycho_anal_vbr(L,Oe,qe,$,ce,W,pe[$],he[$],ve[$],Re):ie=C.L3psycho_anal_ns(L,Oe,qe,$,ce,W,pe[$],he[$],ve[$],Re),ie!=0)return-4;for(L.mode==w.JOINT_STEREO&&(De[$]=ve[$][2]+ve[$][3],De[$]>0&&(De[$]=ve[$][3]/De[$])),ee=0;ee<le.channels_out;ee++){var Se=le.l3_side.tt[$][ee];Se.block_type=Re[ee],Se.mixed_block_flag=0}}}else for($=0;$<le.mode_gr;$++)for(ee=0;ee<le.channels_out;ee++)le.l3_side.tt[$][ee].block_type=g.NORM_TYPE,le.l3_side.tt[$][ee].mixed_block_flag=0,he[$][ee]=pe[$][ee]=700;if(U(le),D.mdct_sub48(le,oe[0],oe[1]),le.mode_ext=g.MPG_MD_LR_LR,L.force_ms)le.mode_ext=g.MPG_MD_MS_LR;else if(L.mode==w.JOINT_STEREO){var je=0,Be=0;for($=0;$<le.mode_gr;$++)for(ee=0;ee<le.channels_out;ee++)je+=he[$][ee],Be+=pe[$][ee];if(je<=1*Be){var We=le.l3_side.tt[0],rn=le.l3_side.tt[le.mode_gr-1];We[0].block_type==We[1].block_type&&rn[0].block_type==rn[1].block_type&&(le.mode_ext=g.MPG_MD_MS_LR)}}if(le.mode_ext==A?(_e=W,G=he):(_e=ce,G=pe),L.analysis&&le.pinfo!=null)for($=0;$<le.mode_gr;$++)for(ee=0;ee<le.channels_out;ee++)le.pinfo.ms_ratio[$]=le.ms_ratio[$],le.pinfo.ms_ener_ratio[$]=De[$],le.pinfo.blocktype[$][ee]=le.l3_side.tt[$][ee].block_type,le.pinfo.pe[$][ee]=G[$][ee],r.arraycopy(le.l3_side.tt[$][ee].xr,0,le.pinfo.xr[$][ee],0,576),le.mode_ext==A&&(le.pinfo.ers[$][ee]=le.pinfo.ers[$][ee+2],r.arraycopy(le.pinfo.energy[$][ee+2],0,le.pinfo.energy[$][ee],0,le.pinfo.energy[$][ee].length));if(L.VBR==a.vbr_off||L.VBR==a.vbr_abr){var un,pn;for(un=0;un<18;un++)le.nsPsy.pefirbuf[un]=le.nsPsy.pefirbuf[un+1];for(pn=0,$=0;$<le.mode_gr;$++)for(ee=0;ee<le.channels_out;ee++)pn+=G[$][ee];for(le.nsPsy.pefirbuf[18]=pn,pn=le.nsPsy.pefirbuf[9],un=0;un<9;un++)pn+=(le.nsPsy.pefirbuf[un]+le.nsPsy.pefirbuf[18-un])*g.fircoef[un];for(pn=3350*le.mode_gr*le.channels_out/pn,$=0;$<le.mode_gr;$++)for(ee=0;ee<le.channels_out;ee++)G[$][ee]*=pn}if(le.iteration_loop.iteration_loop(L,G,De,_e),P.format_bitstream(L),J=P.copy_buffer(le,ae,fe,B,1),L.bWriteVbrTag&&k.addVbrFrame(L),L.analysis&&le.pinfo!=null){for(ee=0;ee<le.channels_out;ee++){var vn;for(vn=0;vn<T;vn++)le.pinfo.pcmdata[ee][vn]=le.pinfo.pcmdata[ee][vn+L.framesize];for(vn=T;vn<1600;vn++)le.pinfo.pcmdata[ee][vn]=oe[ee][vn-T]}I.set_frame_pinfo(L,_e)}return O(le),J}}n.exports=g});bn.register("drj3v",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock;var a=e.Util,l=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var u=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var h=bn("cPNKB");function f(){var m=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],g=12,x=36,E=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],w=E[h.SHORT_TYPE],T=E[h.SHORT_TYPE],A=E[h.SHORT_TYPE],P=E[h.SHORT_TYPE],C=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function k(U,O,N){for(var L=10,K=O+238-14-286,z=-15;z<0;z++){var ae,fe,B;ae=m[L+-10],fe=U[K+-224]*ae,B=U[O+224]*ae,ae=m[L+-9],fe+=U[K+-160]*ae,B+=U[O+160]*ae,ae=m[L+-8],fe+=U[K+-96]*ae,B+=U[O+96]*ae,ae=m[L+-7],fe+=U[K+-32]*ae,B+=U[O+32]*ae,ae=m[L+-6],fe+=U[K+32]*ae,B+=U[O+-32]*ae,ae=m[L+-5],fe+=U[K+96]*ae,B+=U[O+-96]*ae,ae=m[L+-4],fe+=U[K+160]*ae,B+=U[O+-160]*ae,ae=m[L+-3],fe+=U[K+224]*ae,B+=U[O+-224]*ae,ae=m[L+-2],fe+=U[O+-256]*ae,B-=U[K+256]*ae,ae=m[L+-1],fe+=U[O+-192]*ae,B-=U[K+192]*ae,ae=m[L+0],fe+=U[O+-128]*ae,B-=U[K+128]*ae,ae=m[L+1],fe+=U[O+-64]*ae,B-=U[K+64]*ae,ae=m[L+2],fe+=U[O+0]*ae,B-=U[K+0]*ae,ae=m[L+3],fe+=U[O+64]*ae,B-=U[K+-64]*ae,ae=m[L+4],fe+=U[O+128]*ae,B-=U[K+-128]*ae,ae=m[L+5],fe+=U[O+192]*ae,B-=U[K+-192]*ae,fe*=m[L+6],ae=B-fe,N[30+z*2]=B+fe,N[31+z*2]=m[L+7]*ae,L+=18,O--,K++}var fe,B,J,ce;B=U[O+-16]*m[L+-10],fe=U[O+-32]*m[L+-2],B+=(U[O+-48]-U[O+16])*m[L+-9],fe+=U[O+-96]*m[L+-1],B+=(U[O+-80]+U[O+48])*m[L+-8],fe+=U[O+-160]*m[L+0],B+=(U[O+-112]-U[O+80])*m[L+-7],fe+=U[O+-224]*m[L+1],B+=(U[O+-144]+U[O+112])*m[L+-6],fe-=U[O+32]*m[L+2],B+=(U[O+-176]-U[O+144])*m[L+-5],fe-=U[O+96]*m[L+3],B+=(U[O+-208]+U[O+176])*m[L+-4],fe-=U[O+160]*m[L+4],B+=(U[O+-240]-U[O+208])*m[L+-3],fe-=U[O+224],J=fe-B,ce=fe+B,B=N[14],fe=N[15]-B,N[31]=ce+B,N[30]=J+fe,N[15]=J-fe,N[14]=ce-B;var W;W=N[28]-N[0],N[0]+=N[28],N[28]=W*m[L+-36+7],W=N[29]-N[1],N[1]+=N[29],N[29]=W*m[L+-36+7],W=N[26]-N[2],N[2]+=N[26],N[26]=W*m[L+-72+7],W=N[27]-N[3],N[3]+=N[27],N[27]=W*m[L+-72+7],W=N[24]-N[4],N[4]+=N[24],N[24]=W*m[L+-108+7],W=N[25]-N[5],N[5]+=N[25],N[25]=W*m[L+-108+7],W=N[22]-N[6],N[6]+=N[22],N[22]=W*a.SQRT2,W=N[23]-N[7],N[7]+=N[23],N[23]=W*a.SQRT2-N[7],N[7]-=N[6],N[22]-=N[7],N[23]-=N[22],W=N[6],N[6]=N[31]-W,N[31]=N[31]+W,W=N[7],N[7]=N[30]-W,N[30]=N[30]+W,W=N[22],N[22]=N[15]-W,N[15]=N[15]+W,W=N[23],N[23]=N[14]-W,N[14]=N[14]+W,W=N[20]-N[8],N[8]+=N[20],N[20]=W*m[L+-180+7],W=N[21]-N[9],N[9]+=N[21],N[21]=W*m[L+-180+7],W=N[18]-N[10],N[10]+=N[18],N[18]=W*m[L+-216+7],W=N[19]-N[11],N[11]+=N[19],N[19]=W*m[L+-216+7],W=N[16]-N[12],N[12]+=N[16],N[16]=W*m[L+-252+7],W=N[17]-N[13],N[13]+=N[17],N[17]=W*m[L+-252+7],W=-N[20]+N[24],N[20]+=N[24],N[24]=W*m[L+-216+7],W=-N[21]+N[25],N[21]+=N[25],N[25]=W*m[L+-216+7],W=N[4]-N[8],N[4]+=N[8],N[8]=W*m[L+-216+7],W=N[5]-N[9],N[5]+=N[9],N[9]=W*m[L+-216+7],W=N[0]-N[12],N[0]+=N[12],N[12]=W*m[L+-72+7],W=N[1]-N[13],N[1]+=N[13],N[13]=W*m[L+-72+7],W=N[16]-N[28],N[16]+=N[28],N[28]=W*m[L+-72+7],W=-N[17]+N[29],N[17]+=N[29],N[29]=W*m[L+-72+7],W=a.SQRT2*(N[2]-N[10]),N[2]+=N[10],N[10]=W,W=a.SQRT2*(N[3]-N[11]),N[3]+=N[11],N[11]=W,W=a.SQRT2*(-N[18]+N[26]),N[18]+=N[26],N[26]=W-N[18],W=a.SQRT2*(-N[19]+N[27]),N[19]+=N[27],N[27]=W-N[19],W=N[2],N[19]-=N[3],N[3]-=W,N[2]=N[31]-W,N[31]+=W,W=N[3],N[11]-=N[19],N[18]-=W,N[3]=N[30]-W,N[30]+=W,W=N[18],N[27]-=N[11],N[19]-=W,N[18]=N[15]-W,N[15]+=W,W=N[19],N[10]-=W,N[19]=N[14]-W,N[14]+=W,W=N[10],N[11]-=W,N[10]=N[23]-W,N[23]+=W,W=N[11],N[26]-=W,N[11]=N[22]-W,N[22]+=W,W=N[26],N[27]-=W,N[26]=N[7]-W,N[7]+=W,W=N[27],N[27]=N[6]-W,N[6]+=W,W=a.SQRT2*(N[0]-N[4]),N[0]+=N[4],N[4]=W,W=a.SQRT2*(N[1]-N[5]),N[1]+=N[5],N[5]=W,W=a.SQRT2*(N[16]-N[20]),N[16]+=N[20],N[20]=W,W=a.SQRT2*(N[17]-N[21]),N[17]+=N[21],N[21]=W,W=-a.SQRT2*(N[8]-N[12]),N[8]+=N[12],N[12]=W-N[8],W=-a.SQRT2*(N[9]-N[13]),N[9]+=N[13],N[13]=W-N[9],W=-a.SQRT2*(N[25]-N[29]),N[25]+=N[29],N[29]=W-N[25],W=-a.SQRT2*(N[24]+N[28]),N[24]-=N[28],N[28]=W-N[24],W=N[24]-N[16],N[24]=W,W=N[20]-W,N[20]=W,W=N[28]-W,N[28]=W,W=N[25]-N[17],N[25]=W,W=N[21]-W,N[21]=W,W=N[29]-W,N[29]=W,W=N[17]-N[1],N[17]=W,W=N[9]-W,N[9]=W,W=N[25]-W,N[25]=W,W=N[5]-W,N[5]=W,W=N[21]-W,N[21]=W,W=N[13]-W,N[13]=W,W=N[29]-W,N[29]=W,W=N[1]-N[0],N[1]=W,W=N[16]-W,N[16]=W,W=N[17]-W,N[17]=W,W=N[8]-W,N[8]=W,W=N[9]-W,N[9]=W,W=N[24]-W,N[24]=W,W=N[25]-W,N[25]=W,W=N[4]-W,N[4]=W,W=N[5]-W,N[5]=W,W=N[20]-W,N[20]=W,W=N[21]-W,N[21]=W,W=N[12]-W,N[12]=W,W=N[13]-W,N[13]=W,W=N[28]-W,N[28]=W,W=N[29]-W,N[29]=W,W=N[0],N[0]+=N[31],N[31]-=W,W=N[1],N[1]+=N[30],N[30]-=W,W=N[16],N[16]+=N[15],N[15]-=W,W=N[17],N[17]+=N[14],N[14]-=W,W=N[8],N[8]+=N[23],N[23]-=W,W=N[9],N[9]+=N[22],N[22]-=W,W=N[24],N[24]+=N[7],N[7]-=W,W=N[25],N[25]+=N[6],N[6]-=W,W=N[4],N[4]+=N[27],N[27]-=W,W=N[5],N[5]+=N[26],N[26]-=W,W=N[20],N[20]+=N[11],N[11]-=W,W=N[21],N[21]+=N[10],N[10]-=W,W=N[12],N[12]+=N[19],N[19]-=W,W=N[13],N[13]+=N[18],N[18]-=W,W=N[28],N[28]+=N[3],N[3]-=W,W=N[29],N[29]+=N[2],N[2]-=W}function I(U,O){for(var N=0;N<3;N++){var L,K,z,ae,fe,B;ae=U[O+6]*E[h.SHORT_TYPE][0]-U[O+15],L=U[O+0]*E[h.SHORT_TYPE][2]-U[O+9],K=ae+L,z=ae-L,ae=U[O+15]*E[h.SHORT_TYPE][0]+U[O+6],L=U[O+9]*E[h.SHORT_TYPE][2]+U[O+0],fe=ae+L,B=-ae+L,L=(U[O+3]*E[h.SHORT_TYPE][1]-U[O+12])*2069978111953089e-26,ae=(U[O+12]*E[h.SHORT_TYPE][1]+U[O+3])*2069978111953089e-26,U[O+0]=K*190752519173728e-25+L,U[O+15]=-fe*190752519173728e-25+ae,z=z*16519652744032674e-27,fe=fe*.5*1907525191737281e-26+ae,U[O+3]=z-fe,U[O+6]=z+fe,K=K*.5*1907525191737281e-26-L,B=B*16519652744032674e-27,U[O+9]=K+B,U[O+12]=K-B,O++}}function D(U,O,N){var L,K,z,ae,fe,B,J,ce,W,_e;z=N[17]-N[9],fe=N[15]-N[11],B=N[14]-N[12],J=N[0]+N[8],ce=N[1]+N[7],W=N[2]+N[6],_e=N[3]+N[5],U[O+17]=J+W-_e-(ce-N[4]),K=(J+W-_e)*T[19]+(ce-N[4]),L=(z-fe-B)*T[18],U[O+5]=L+K,U[O+6]=L-K,ae=(N[16]-N[10])*T[18],ce=ce*T[19]+N[4],L=z*T[12]+ae+fe*T[13]+B*T[14],K=-J*T[16]+ce-W*T[17]+_e*T[15],U[O+1]=L+K,U[O+2]=L-K,L=z*T[13]-ae-fe*T[14]+B*T[12],K=-J*T[17]+ce-W*T[15]+_e*T[16],U[O+9]=L+K,U[O+10]=L-K,L=z*T[14]-ae+fe*T[12]-B*T[13],K=J*T[15]-ce+W*T[16]-_e*T[17],U[O+13]=L+K,U[O+14]=L-K;var oe,le,ve,De,pe,he,G,ee;oe=N[8]-N[0],ve=N[6]-N[2],De=N[5]-N[3],pe=N[17]+N[9],he=N[16]+N[10],G=N[15]+N[11],ee=N[14]+N[12],U[O+0]=pe+G+ee+(he+N[13]),L=(pe+G+ee)*T[19]-(he+N[13]),K=(oe-ve+De)*T[18],U[O+11]=L+K,U[O+12]=L-K,le=(N[7]-N[1])*T[18],he=N[13]-he*T[19],L=pe*T[15]-he+G*T[16]+ee*T[17],K=oe*T[14]+le+ve*T[12]+De*T[13],U[O+3]=L+K,U[O+4]=L-K,L=-pe*T[17]+he-G*T[15]-ee*T[16],K=oe*T[13]+le-ve*T[14]-De*T[12],U[O+7]=L+K,U[O+8]=L-K,L=-pe*T[16]+he-G*T[17]-ee*T[15],K=oe*T[12]-le+ve*T[13]-De*T[14],U[O+15]=L+K,U[O+16]=L-K}this.mdct_sub48=function(U,O,N){for(var L=O,K=286,z=0;z<U.channels_out;z++){for(var ae=0;ae<U.mode_gr;ae++){for(var fe,B=U.l3_side.tt[ae][z],J=B.xr,ce=0,W=U.sb_sample[z][1-ae],_e=0,oe=0;oe<9;oe++)for(k(L,K,W[_e]),k(L,K+32,W[_e+1]),_e+=2,K+=64,fe=1;fe<32;fe+=2)W[_e-1][fe]*=-1;for(fe=0;fe<32;fe++,ce+=18){var le=B.block_type,ve=U.sb_sample[z][ae],De=U.sb_sample[z][1-ae];if(B.mixed_block_flag!=0&&fe<2&&(le=0),U.amp_filter[fe]<1e-12)l.fill(J,ce+0,ce+18,0);else{if(U.amp_filter[fe]<1)for(var oe=0;oe<18;oe++)De[oe][C[fe]]*=U.amp_filter[fe];if(le==h.SHORT_TYPE){for(var oe=-g/4;oe<0;oe++){var pe=E[h.SHORT_TYPE][oe+3];J[ce+oe*3+9]=ve[9+oe][C[fe]]*pe-ve[8-oe][C[fe]],J[ce+oe*3+18]=ve[14-oe][C[fe]]*pe+ve[15+oe][C[fe]],J[ce+oe*3+10]=ve[15+oe][C[fe]]*pe-ve[14-oe][C[fe]],J[ce+oe*3+19]=De[2-oe][C[fe]]*pe+De[3+oe][C[fe]],J[ce+oe*3+11]=De[3+oe][C[fe]]*pe-De[2-oe][C[fe]],J[ce+oe*3+20]=De[8-oe][C[fe]]*pe+De[9+oe][C[fe]]}I(J,ce)}else{for(var he=u(18),oe=-x/4;oe<0;oe++){var G,ee;G=E[le][oe+27]*De[oe+9][C[fe]]+E[le][oe+36]*De[8-oe][C[fe]],ee=E[le][oe+9]*ve[oe+9][C[fe]]-E[le][oe+18]*ve[8-oe][C[fe]],he[oe+9]=G-ee*w[3+oe+9],he[oe+18]=G*w[3+oe+9]+ee}D(J,ce,he)}}if(le!=h.SHORT_TYPE&&fe!=0)for(var oe=7;oe>=0;--oe){var $,ie;$=J[ce+oe]*A[20+oe]+J[ce+-1-oe]*P[28+oe],ie=J[ce+oe]*P[28+oe]-J[ce+-1-oe]*A[20+oe],J[ce+-1-oe]=$,J[ce+oe]=ie}}}if(L=N,K=286,U.mode_gr==1)for(var Oe=0;Oe<18;Oe++)r.arraycopy(U.sb_sample[z][1][Oe],0,U.sb_sample[z][0][Oe],0,32)}}}n.exports=f});bn.register("hvy40",function(n,t){var e=bn("51XxS");function r(){this.thm=new e,this.en=new e}n.exports=r});bn.register("51XxS",function(n,t){var e=bn("cPNKB"),r=bn("3YDN3"),a=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var l=r.new_float,u=r.new_float_n;r.new_int,r.new_int_n,r.assert;function h(){this.l=l(e.SBMAX_l),this.s=u([e.SBMAX_s,3]);var f=this;this.assign=function(m){a.arraycopy(m.l,0,f.l,0,e.SBMAX_l);for(var g=0;g<e.SBMAX_s;g++)for(var x=0;x<3;x++)f.s[g][x]=m.s[g][x]}}n.exports=h});bn.register("jL6I1",function(n,t){function e(r){var a=r;this.ordinal=function(){return a}}e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),n.exports=e});bn.register("5HJeD",function(n,t){var e=bn("jL6I1");function r(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=e.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}n.exports=r});bn.register("4SDnr",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var r=e.new_byte,a=e.new_double,l=e.new_float,u=e.new_float_n,h=e.new_int,f=e.new_int_n;e.assert;var m=bn("eWXBy"),g=bn("7imnH"),x=bn("7yzUB"),E=bn("jTmCQ"),w=bn("51XxS"),T=bn("cPNKB"),A=bn("arIi9");P.MFSIZE=3456+T.ENCDELAY-T.MDCTDELAY,P.MAX_HEADER_BUF=256,P.MAX_BITS_PER_CHANNEL=4095,P.MAX_BITS_PER_GRANULE=7680,P.BPC=320;function P(){var C=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=u([2,P.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new m,this.ms_ratio=l(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=h(2),this.CurrentStep=h(2),this.masking_lower=0,this.bv_scf=h(576),this.pseudohalf=h(A.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*P.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=u([2,2,18,T.SBLIMIT]),this.amp_filter=l(32);function k(){this.write_timing=0,this.ptr=0,this.buf=r(C)}this.header=new Array(P.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new g,this.minval_l=l(T.CBANDS),this.minval_s=l(T.CBANDS),this.nb_1=u([4,T.CBANDS]),this.nb_2=u([4,T.CBANDS]),this.nb_s1=u([4,T.CBANDS]),this.nb_s2=u([4,T.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=l(4),this.loudness_sq=u([2,2]),this.loudness_sq_save=l(2),this.mld_l=l(T.SBMAX_l),this.mld_s=l(T.SBMAX_s),this.bm_l=h(T.SBMAX_l),this.bo_l=h(T.SBMAX_l),this.bm_s=h(T.SBMAX_s),this.bo_s=h(T.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=f([T.CBANDS,2]),this.s3ind_s=f([T.CBANDS,2]),this.numlines_s=h(T.CBANDS),this.numlines_l=h(T.CBANDS),this.rnumlines_l=l(T.CBANDS),this.mld_cb_l=l(T.CBANDS),this.mld_cb_s=l(T.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=l(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=h(2),this.nsPsy=new x,this.VBR_seek_table=new E,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=f([16,5]),this.bitrate_blockType_Hist=f([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var I=0;I<this.en.length;I++)this.en[I]=new w;for(var I=0;I<this.thm.length;I++)this.thm[I]=new w;for(var I=0;I<this.header.length;I++)this.header[I]=new k}n.exports=P});bn.register("eWXBy",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var a=bn("7weBo");function l(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var u=0;u<2;u++)for(var h=0;h<2;h++)this.tt[u][h]=new a}n.exports=l});bn.register("7weBo",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=bn("arIi9");function u(){this.xr=r(576),this.l3_enc=a(576),this.scalefac=a(l.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(l.SFBMAX),this.window=a(l.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var h=this;function f(g){return new Int32Array(g)}function m(g){return new Float32Array(g)}this.assign=function(g){h.xr=m(g.xr),h.l3_enc=f(g.l3_enc),h.scalefac=f(g.scalefac),h.xrpow_max=g.xrpow_max,h.part2_3_length=g.part2_3_length,h.big_values=g.big_values,h.count1=g.count1,h.global_gain=g.global_gain,h.scalefac_compress=g.scalefac_compress,h.block_type=g.block_type,h.mixed_block_flag=g.mixed_block_flag,h.table_select=f(g.table_select),h.subblock_gain=f(g.subblock_gain),h.region0_count=g.region0_count,h.region1_count=g.region1_count,h.preflag=g.preflag,h.scalefac_scale=g.scalefac_scale,h.count1table_select=g.count1table_select,h.part2_length=g.part2_length,h.sfb_lmax=g.sfb_lmax,h.sfb_smin=g.sfb_smin,h.psy_lmax=g.psy_lmax,h.sfbmax=g.sfbmax,h.psymax=g.psymax,h.sfbdivide=g.sfbdivide,h.width=f(g.width),h.window=f(g.window),h.count1bits=g.count1bits,h.sfb_partition_table=g.sfb_partition_table.slice(0),h.slen=f(g.slen),h.max_nonzero_coeff=g.max_nonzero_coeff}}n.exports=u});bn.register("arIi9",function(n,t){var e=bn("cPNKB"),r={};r.SFBMAX=e.SBMAX_s*3,n.exports=r});bn.register("7imnH",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=bn("cPNKB");function u(h,f,m,g){this.l=a(1+l.SBMAX_l),this.s=a(1+l.SBMAX_s),this.psfb21=a(1+l.PSFB21),this.psfb12=a(1+l.PSFB12);var x=this.l,E=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],r.arraycopy(this.arrL,0,x,0,Math.min(this.arrL.length,this.l.length)),r.arraycopy(this.arrS,0,E,0,Math.min(this.arrS.length,this.s.length)),r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}n.exports=u});bn.register("7yzUB",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float,a=e.new_float_n,l=e.new_int;e.new_int_n,e.assert;var u=bn("cPNKB");function h(){this.last_en_subshort=a([4,9]),this.lastAttacks=l(4),this.pefirbuf=r(19),this.longfact=r(u.SBMAX_l),this.shortfact=r(u.SBMAX_s),this.attackthre=0,this.attackthre_s=0}n.exports=h});bn.register("jTmCQ",function(n,t){function e(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}n.exports=e});bn.register("cU3Yf",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var a=bn("cPNKB");function l(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(a.SBMAX_l),this.s=r(a.SBMAX_s),this.psfb21=r(a.PSFB21),this.psfb12=r(a.PSFB12),this.cb_l=r(a.CBANDS),this.cb_s=r(a.CBANDS),this.eql_w=r(a.BLKSIZE/2)}n.exports=l});bn.register("2qGTD",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=bn("b8dhq");function u(){this.linprebuf=r(l.MAX_ORDER*2),this.linpre=0,this.lstepbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.lstep=0,this.loutbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.lout=0,this.rinprebuf=r(l.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.rstep=0,this.routbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|l.STEPS_per_dB*l.MAX_dB),this.B=a(0|l.STEPS_per_dB*l.MAX_dB)}n.exports=u});bn.register("b8dhq",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert,l.STEPS_per_dB=100,l.MAX_dB=120,l.GAIN_NOT_ENOUGH_SAMPLES=-24601,l.GAIN_ANALYSIS_ERROR=0,l.GAIN_ANALYSIS_OK=1,l.INIT_GAIN_ANALYSIS_ERROR=0,l.INIT_GAIN_ANALYSIS_OK=1,l.YULE_ORDER=10,l.MAX_ORDER=l.YULE_ORDER,l.MAX_SAMP_FREQ=48e3,l.RMS_WINDOW_TIME_NUMERATOR=1,l.RMS_WINDOW_TIME_DENOMINATOR=20,l.MAX_SAMPLES_PER_WINDOW=l.MAX_SAMP_FREQ*l.RMS_WINDOW_TIME_NUMERATOR/l.RMS_WINDOW_TIME_DENOMINATOR+1;function l(){var u=64.82;l.YULE_ORDER;var h=.95;l.MAX_SAMP_FREQ;var f=l.RMS_WINDOW_TIME_NUMERATOR,m=l.RMS_WINDOW_TIME_DENOMINATOR;l.MAX_SAMPLES_PER_WINDOW;var g=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],x=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function E(C,k,I,D,U,O){for(;U--!=0;)I[D]=1e-10+C[k+0]*O[0]-I[D-1]*O[1]+C[k-1]*O[2]-I[D-2]*O[3]+C[k-2]*O[4]-I[D-3]*O[5]+C[k-3]*O[6]-I[D-4]*O[7]+C[k-4]*O[8]-I[D-5]*O[9]+C[k-5]*O[10]-I[D-6]*O[11]+C[k-6]*O[12]-I[D-7]*O[13]+C[k-7]*O[14]-I[D-8]*O[15]+C[k-8]*O[16]-I[D-9]*O[17]+C[k-9]*O[18]-I[D-10]*O[19]+C[k-10]*O[20],++D,++k}function w(C,k,I,D,U,O){for(;U--!=0;)I[D]=C[k+0]*O[0]-I[D-1]*O[1]+C[k-1]*O[2]-I[D-2]*O[3]+C[k-2]*O[4],++D,++k}function T(C,k){for(var I=0;I<MAX_ORDER;I++)C.linprebuf[I]=C.lstepbuf[I]=C.loutbuf[I]=C.rinprebuf[I]=C.rstepbuf[I]=C.routbuf[I]=0;switch(0|k){case 48e3:C.reqindex=0;break;case 44100:C.reqindex=1;break;case 32e3:C.reqindex=2;break;case 24e3:C.reqindex=3;break;case 22050:C.reqindex=4;break;case 16e3:C.reqindex=5;break;case 12e3:C.reqindex=6;break;case 11025:C.reqindex=7;break;case 8e3:C.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return C.sampleWindow=0|(k*f+m-1)/m,C.lsum=0,C.rsum=0,C.totsamp=0,a.ill(C.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(C,k){return T(C,k)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(C.linpre=MAX_ORDER,C.rinpre=MAX_ORDER,C.lstep=MAX_ORDER,C.rstep=MAX_ORDER,C.lout=MAX_ORDER,C.rout=MAX_ORDER,a.fill(C.B,0),INIT_GAIN_ANALYSIS_OK)};function A(C){return C*C}this.AnalyzeSamples=function(C,k,I,D,U,O,N){var L,K,z,ae,fe,B,J;if(O==0)return GAIN_ANALYSIS_OK;switch(J=0,fe=O,N){case 1:D=k,U=I;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(O<MAX_ORDER?(r.arraycopy(k,I,C.linprebuf,MAX_ORDER,O),r.arraycopy(D,U,C.rinprebuf,MAX_ORDER,O)):(r.arraycopy(k,I,C.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(D,U,C.rinprebuf,MAX_ORDER,MAX_ORDER));fe>0;){B=fe>C.sampleWindow-C.totsamp?C.sampleWindow-C.totsamp:fe,J<MAX_ORDER?(L=C.linpre+J,K=C.linprebuf,z=C.rinpre+J,ae=C.rinprebuf,B>MAX_ORDER-J&&(B=MAX_ORDER-J)):(L=I+J,K=k,z=U+J,ae=D),E(K,L,C.lstepbuf,C.lstep+C.totsamp,B,g[C.reqindex]),E(ae,z,C.rstepbuf,C.rstep+C.totsamp,B,g[C.reqindex]),w(C.lstepbuf,C.lstep+C.totsamp,C.loutbuf,C.lout+C.totsamp,B,x[C.reqindex]),w(C.rstepbuf,C.rstep+C.totsamp,C.routbuf,C.rout+C.totsamp,B,x[C.reqindex]),L=C.lout+C.totsamp,K=C.loutbuf,z=C.rout+C.totsamp,ae=C.routbuf;for(var ce=B%8;ce--!=0;)C.lsum+=A(K[L++]),C.rsum+=A(ae[z++]);for(ce=B/8;ce--!=0;)C.lsum+=A(K[L+0])+A(K[L+1])+A(K[L+2])+A(K[L+3])+A(K[L+4])+A(K[L+5])+A(K[L+6])+A(K[L+7]),L+=8,C.rsum+=A(ae[z+0])+A(ae[z+1])+A(ae[z+2])+A(ae[z+3])+A(ae[z+4])+A(ae[z+5])+A(ae[z+6])+A(ae[z+7]),z+=8;if(fe-=B,J+=B,C.totsamp+=B,C.totsamp==C.sampleWindow){var W=l.STEPS_per_dB*10*Math.log10((C.lsum+C.rsum)/C.totsamp*.5+1e-37),_e=W<=0?0:0|W;_e>=C.A.length&&(_e=C.A.length-1),C.A[_e]++,C.lsum=C.rsum=0,r.arraycopy(C.loutbuf,C.totsamp,C.loutbuf,0,MAX_ORDER),r.arraycopy(C.routbuf,C.totsamp,C.routbuf,0,MAX_ORDER),r.arraycopy(C.lstepbuf,C.totsamp,C.lstepbuf,0,MAX_ORDER),r.arraycopy(C.rstepbuf,C.totsamp,C.rstepbuf,0,MAX_ORDER),C.totsamp=0}if(C.totsamp>C.sampleWindow)return GAIN_ANALYSIS_ERROR}return O<MAX_ORDER?(r.arraycopy(C.linprebuf,O,C.linprebuf,0,MAX_ORDER-O),r.arraycopy(C.rinprebuf,O,C.rinprebuf,0,MAX_ORDER-O),r.arraycopy(k,I,C.linprebuf,MAX_ORDER-O,O),r.arraycopy(D,U,C.rinprebuf,MAX_ORDER-O,O)):(r.arraycopy(k,I+O-MAX_ORDER,C.linprebuf,0,MAX_ORDER),r.arraycopy(D,U+O-MAX_ORDER,C.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function P(C,k){var I,D=0;for(I=0;I<k;I++)D+=C[I];if(D==0)return GAIN_NOT_ENOUGH_SAMPLES;var U=0|Math.ceil(D*(1-h));for(I=k;I-- >0&&!((U-=C[I])<=0););return u-I/l.STEPS_per_dB}this.GetTitleGain=function(C){for(var k=P(C.A,C.A.length),I=0;I<C.A.length;I++)C.B[I]+=C.A[I],C.A[I]=0;for(var I=0;I<MAX_ORDER;I++)C.linprebuf[I]=C.lstepbuf[I]=C.loutbuf[I]=C.rinprebuf[I]=C.rstepbuf[I]=C.routbuf[I]=0;return C.totsamp=0,C.lsum=C.rsum=0,k}}n.exports=l});bn.register("e32wu",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n;var l=e.assert,u=bn("lL4Le"),h=bn("cPNKB"),f=bn("arIi9"),m=bn("4SDnr");function g(x){var E=x;this.quantize=E,this.iteration_loop=function(w,T,A,P){var C=w.internal_flags,k=r(f.SFBMAX),I=r(576),D=a(2),U=0,O,N=C.l3_side,L=new u(U);this.quantize.rv.ResvFrameBegin(w,L),U=L.bits;for(var K=0;K<C.mode_gr;K++){O=this.quantize.qupvt.on_pe(w,T,D,U,K,K),C.mode_ext==h.MPG_MD_MS_LR&&(this.quantize.ms_convert(C.l3_side,K),this.quantize.qupvt.reduce_side(D,A[K],U,O));for(var z=0;z<C.channels_out;z++){var ae,fe,B=N.tt[K][z];B.block_type!=h.SHORT_TYPE?(ae=0,fe=C.PSY.mask_adjust-ae):(ae=0,fe=C.PSY.mask_adjust_short-ae),C.masking_lower=Math.pow(10,fe*.1),this.quantize.init_outer_loop(C,B),this.quantize.init_xrpow(C,B,I)&&(this.quantize.qupvt.calc_xmin(w,P[K][z],B,k),this.quantize.outer_loop(w,B,k,I,z,D[z])),this.quantize.iteration_finish_one(C,K,z),l(B.part2_3_length<=m.MAX_BITS_PER_CHANNEL),l(B.part2_3_length<=D[z])}}this.quantize.rv.ResvFrameEnd(C,U)}}n.exports=g});bn.register("lL4Le",function(n,t){function e(r){this.bits=r}n.exports=e});bn.register("ctaQC",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n;var l=e.new_byte;e.new_double,e.new_float;var u=e.new_float_n,h=e.new_int;e.new_int_n;var f=e.assert,m=bn("65Sx2"),g=bn("dQDcS"),x=bn("cPNKB"),E=bn("4SDnr");w.EQ=function(T,A){return Math.abs(T)>Math.abs(A)?Math.abs(T-A)<=Math.abs(T)*1e-6:Math.abs(T-A)<=Math.abs(A)*1e-6},w.NEQ=function(T,A){return!w.EQ(T,A)};function w(){var T=bn("kk1yk"),A=this,P=32773,C=32,k=null,I=null,D=null,U=null;this.setModules=function(G,ee,$,ie){k=G,I=ee,D=$,U=ie};var O=null,N=0,L=0,K=0;this.getframebits=function(G){var ee=G.internal_flags,$;ee.bitrate_index!=0?$=g.bitrate_table[G.version][ee.bitrate_index]:$=G.brate,f(8<=$&&$<=640);var ie=0|(G.version+1)*72e3*$/G.out_samplerate+ee.padding;return 8*ie};function z(G){r.arraycopy(G.header[G.w_ptr].buf,0,O,L,G.sideinfo_len),L+=G.sideinfo_len,N+=G.sideinfo_len*8,G.w_ptr=G.w_ptr+1&E.MAX_HEADER_BUF-1}function ae(G,ee,$){for(f($<C-2);$>0;){var ie;K==0&&(K=8,L++,f(L<T.LAME_MAXMP3BUFFER),f(G.header[G.w_ptr].write_timing>=N),G.header[G.w_ptr].write_timing==N&&z(G),O[L]=0),ie=Math.min($,K),$-=ie,K-=ie,f($<C),f(K<C),O[L]|=ee>>$<<K,N+=ie}}function fe(G,ee,$){for(f($<C-2);$>0;){var ie;K==0&&(K=8,L++,f(L<T.LAME_MAXMP3BUFFER),O[L]=0),ie=Math.min($,K),$-=ie,K-=ie,f($<C),f(K<C),O[L]|=ee>>$<<K,N+=ie}}function B(G,ee){var $=G.internal_flags,ie;if(f(ee>=0),ee>=8&&(ae($,76,8),ee-=8),ee>=8&&(ae($,65,8),ee-=8),ee>=8&&(ae($,77,8),ee-=8),ee>=8&&(ae($,69,8),ee-=8),ee>=32){var Oe=D.getLameShortVersion();if(ee>=32)for(ie=0;ie<Oe.length&&ee>=8;++ie)ee-=8,ae($,Oe.charAt(ie),8)}for(;ee>=1;ee-=1)ae($,$.ancillary_flag,1),$.ancillary_flag^=G.disable_reservoir?0:1;f(ee==0)}function J(G,ee,$){for(var ie=G.header[G.h_ptr].ptr;$>0;){var Oe=Math.min($,8-(ie&7));$-=Oe,f($<C),G.header[G.h_ptr].buf[ie>>3]|=ee>>$<<8-(ie&7)-Oe,ie+=Oe}G.header[G.h_ptr].ptr=ie}function ce(G,ee){G<<=8;for(var $=0;$<8;$++)G<<=1,ee<<=1,(ee^G)&65536&&(ee^=P);return ee}this.CRC_writeheader=function(G,ee){var $=65535;$=ce(ee[2]&255,$),$=ce(ee[3]&255,$);for(var ie=6;ie<G.sideinfo_len;ie++)$=ce(ee[ie]&255,$);ee[4]=byte($>>8),ee[5]=byte($&255)};function W(G,ee){var $=G.internal_flags,ie,Oe,qe;if(ie=$.l3_side,$.header[$.h_ptr].ptr=0,a.fill($.header[$.h_ptr].buf,0,$.sideinfo_len,0),G.out_samplerate<16e3?J($,4094,12):J($,4095,12),J($,G.version,1),J($,1,2),J($,G.error_protection?0:1,1),J($,$.bitrate_index,4),J($,$.samplerate_index,2),J($,$.padding,1),J($,G.extension,1),J($,G.mode.ordinal(),2),J($,$.mode_ext,2),J($,G.copyright,1),J($,G.original,1),J($,G.emphasis,2),G.error_protection&&J($,0,16),G.version==1){for(f(ie.main_data_begin>=0),J($,ie.main_data_begin,9),$.channels_out==2?J($,ie.private_bits,3):J($,ie.private_bits,5),qe=0;qe<$.channels_out;qe++){var Re;for(Re=0;Re<4;Re++)J($,ie.scfsi[qe][Re],1)}for(Oe=0;Oe<2;Oe++)for(qe=0;qe<$.channels_out;qe++){var Se=ie.tt[Oe][qe];J($,Se.part2_3_length+Se.part2_length,12),J($,Se.big_values/2,9),J($,Se.global_gain,8),J($,Se.scalefac_compress,4),Se.block_type!=x.NORM_TYPE?(J($,1,1),J($,Se.block_type,2),J($,Se.mixed_block_flag,1),Se.table_select[0]==14&&(Se.table_select[0]=16),J($,Se.table_select[0],5),Se.table_select[1]==14&&(Se.table_select[1]=16),J($,Se.table_select[1],5),J($,Se.subblock_gain[0],3),J($,Se.subblock_gain[1],3),J($,Se.subblock_gain[2],3)):(J($,0,1),Se.table_select[0]==14&&(Se.table_select[0]=16),J($,Se.table_select[0],5),Se.table_select[1]==14&&(Se.table_select[1]=16),J($,Se.table_select[1],5),Se.table_select[2]==14&&(Se.table_select[2]=16),J($,Se.table_select[2],5),f(0<=Se.region0_count&&Se.region0_count<16),f(0<=Se.region1_count&&Se.region1_count<8),J($,Se.region0_count,4),J($,Se.region1_count,3)),J($,Se.preflag,1),J($,Se.scalefac_scale,1),J($,Se.count1table_select,1)}}else for(f(ie.main_data_begin>=0),J($,ie.main_data_begin,8),J($,ie.private_bits,$.channels_out),Oe=0,qe=0;qe<$.channels_out;qe++){var Se=ie.tt[Oe][qe];J($,Se.part2_3_length+Se.part2_length,12),J($,Se.big_values/2,9),J($,Se.global_gain,8),J($,Se.scalefac_compress,9),Se.block_type!=x.NORM_TYPE?(J($,1,1),J($,Se.block_type,2),J($,Se.mixed_block_flag,1),Se.table_select[0]==14&&(Se.table_select[0]=16),J($,Se.table_select[0],5),Se.table_select[1]==14&&(Se.table_select[1]=16),J($,Se.table_select[1],5),J($,Se.subblock_gain[0],3),J($,Se.subblock_gain[1],3),J($,Se.subblock_gain[2],3)):(J($,0,1),Se.table_select[0]==14&&(Se.table_select[0]=16),J($,Se.table_select[0],5),Se.table_select[1]==14&&(Se.table_select[1]=16),J($,Se.table_select[1],5),Se.table_select[2]==14&&(Se.table_select[2]=16),J($,Se.table_select[2],5),f(0<=Se.region0_count&&Se.region0_count<16),f(0<=Se.region1_count&&Se.region1_count<8),J($,Se.region0_count,4),J($,Se.region1_count,3)),J($,Se.scalefac_scale,1),J($,Se.count1table_select,1)}G.error_protection&&CRC_writeheader($,$.header[$.h_ptr].buf);var je=$.h_ptr;f($.header[je].ptr==$.sideinfo_len*8),$.h_ptr=je+1&E.MAX_HEADER_BUF-1,$.header[$.h_ptr].write_timing=$.header[je].write_timing+ee,$.h_ptr==$.w_ptr&&r.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}function _e(G,ee){var $=g.ht[ee.count1table_select+32],ie,Oe=0,qe=ee.big_values,Re=ee.big_values;for(f(ee.count1table_select<2),ie=(ee.count1-ee.big_values)/4;ie>0;--ie){var Se=0,je=0,Be;Be=ee.l3_enc[qe+0],Be!=0&&(je+=8,ee.xr[Re+0]<0&&Se++,f(Be<=1)),Be=ee.l3_enc[qe+1],Be!=0&&(je+=4,Se*=2,ee.xr[Re+1]<0&&Se++,f(Be<=1)),Be=ee.l3_enc[qe+2],Be!=0&&(je+=2,Se*=2,ee.xr[Re+2]<0&&Se++,f(Be<=1)),Be=ee.l3_enc[qe+3],Be!=0&&(je++,Se*=2,ee.xr[Re+3]<0&&Se++,f(Be<=1)),qe+=4,Re+=4,ae(G,Se+$.table[je],$.hlen[je]),Oe+=$.hlen[je]}return Oe}function oe(G,ee,$,ie,Oe){var qe=g.ht[ee],Re=0;if(f(ee<32),ee==0)return Re;for(var Se=$;Se<ie;Se+=2){var je=0,Be=0,We=qe.xlen,rn=qe.xlen,un=0,pn=Oe.l3_enc[Se],vn=Oe.l3_enc[Se+1];if(pn!=0&&(Oe.xr[Se]<0&&un++,je--),ee>15){if(pn>14){var Hn=pn-15;f(Hn<=qe.linmax),un|=Hn<<1,Be=We,pn=15}if(vn>14){var Tn=vn-15;f(Tn<=qe.linmax),un<<=We,un|=Tn,Be+=We,vn=15}rn=16}vn!=0&&(un<<=1,Oe.xr[Se+1]<0&&un++,je--),f((pn|vn)<16),pn=pn*rn+vn,Be-=je,je+=qe.hlen[pn],f(je<=C),f(Be<=C),ae(G,qe.table[pn],je),ae(G,un,Be),Re+=je+Be}return Re}function le(G,ee){var $=3*G.scalefac_band.s[3];$>ee.big_values&&($=ee.big_values);var ie=oe(G,ee.table_select[0],0,$,ee);return ie+=oe(G,ee.table_select[1],$,ee.big_values,ee),ie}function ve(G,ee){var $,ie,Oe,qe;$=ee.big_values,f(0<=$&&$<=576);var Re=ee.region0_count+1;return f(0<=Re),f(Re<G.scalefac_band.l.length),Oe=G.scalefac_band.l[Re],Re+=ee.region1_count+1,f(0<=Re),f(Re<G.scalefac_band.l.length),qe=G.scalefac_band.l[Re],Oe>$&&(Oe=$),qe>$&&(qe=$),ie=oe(G,ee.table_select[0],0,Oe,ee),ie+=oe(G,ee.table_select[1],Oe,qe,ee),ie+=oe(G,ee.table_select[2],qe,$,ee),ie}function De(G){var ee,$,ie,Oe,qe=0,Re=G.internal_flags,Se=Re.l3_side;if(G.version==1)for(ee=0;ee<2;ee++)for($=0;$<Re.channels_out;$++){var je=Se.tt[ee][$],Be=m.slen1_tab[je.scalefac_compress],We=m.slen2_tab[je.scalefac_compress];for(Oe=0,ie=0;ie<je.sfbdivide;ie++)je.scalefac[ie]!=-1&&(ae(Re,je.scalefac[ie],Be),Oe+=Be);for(;ie<je.sfbmax;ie++)je.scalefac[ie]!=-1&&(ae(Re,je.scalefac[ie],We),Oe+=We);f(Oe==je.part2_length),je.block_type==x.SHORT_TYPE?Oe+=le(Re,je):Oe+=ve(Re,je),Oe+=_e(Re,je),f(Oe==je.part2_3_length+je.part2_length),qe+=Oe}else for(ee=0,$=0;$<Re.channels_out;$++){var je=Se.tt[ee][$],rn,un,pn=0;if(f(je.sfb_partition_table!=null),Oe=0,ie=0,un=0,je.block_type==x.SHORT_TYPE){for(;un<4;un++){var vn=je.sfb_partition_table[un]/3,Hn=je.slen[un];for(rn=0;rn<vn;rn++,ie++)ae(Re,Math.max(je.scalefac[ie*3+0],0),Hn),ae(Re,Math.max(je.scalefac[ie*3+1],0),Hn),ae(Re,Math.max(je.scalefac[ie*3+2],0),Hn),pn+=3*Hn}Oe+=le(Re,je)}else{for(;un<4;un++){var vn=je.sfb_partition_table[un],Hn=je.slen[un];for(rn=0;rn<vn;rn++,ie++)ae(Re,Math.max(je.scalefac[ie],0),Hn),pn+=Hn}Oe+=ve(Re,je)}Oe+=_e(Re,je),f(Oe==je.part2_3_length),f(pn==je.part2_length),qe+=pn+Oe}return qe}function pe(){this.total=0}function he(G,ee){var $=G.internal_flags,ie,Oe,qe,Re,Se;return Se=$.w_ptr,Re=$.h_ptr-1,Re==-1&&(Re=E.MAX_HEADER_BUF-1),ie=$.header[Re].write_timing-N,ee.total=ie,ie>=0&&(Oe=1+Re-Se,Re<Se&&(Oe=1+Re-Se+E.MAX_HEADER_BUF),ie-=Oe*8*$.sideinfo_len),qe=A.getframebits(G),ie+=qe,ee.total+=qe,ee.total%8!=0?ee.total=1+ee.total/8:ee.total=ee.total/8,ee.total+=L+1,ie<0&&r.err.println(`strange error flushing buffer ... 
`),ie}this.flush_bitstream=function(G){var ee=G.internal_flags,$,ie,Oe=ee.h_ptr-1;if(Oe==-1&&(Oe=E.MAX_HEADER_BUF-1),$=ee.l3_side,!((ie=he(G,new pe))<0)){if(B(G,ie),f(ee.header[Oe].write_timing+this.getframebits(G)==N),ee.ResvSize=0,$.main_data_begin=0,ee.findReplayGain){var qe=k.GetTitleGain(ee.rgdata);f(NEQ(qe,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),ee.RadioGain=Math.floor(qe*10+.5)|0}ee.findPeakSample&&(ee.noclipGainChange=Math.ceil(Math.log10(ee.PeakSample/32767)*200)|0,ee.noclipGainChange>0&&(EQ(G.scale,1)||EQ(G.scale,0))?ee.noclipScale=Math.floor(32767/ee.PeakSample*100)/100:ee.noclipScale=-1)}},this.add_dummy_byte=function(G,ee,$){for(var ie=G.internal_flags,Oe;$-- >0;)for(fe(ie,ee,8),Oe=0;Oe<E.MAX_HEADER_BUF;++Oe)ie.header[Oe].write_timing+=8},this.format_bitstream=function(G){var ee=G.internal_flags,$;$=ee.l3_side;var ie=this.getframebits(G);B(G,$.resvDrain_pre),W(G,ie);var Oe=8*ee.sideinfo_len;if(Oe+=De(G),B(G,$.resvDrain_post),Oe+=$.resvDrain_post,$.main_data_begin+=(ie-Oe)/8,he(G,new pe)!=ee.ResvSize&&r.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),$.main_data_begin*8!=ee.ResvSize&&(r.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*$.main_data_begin,ee.ResvSize,$.resvDrain_post,$.resvDrain_pre,8*ee.sideinfo_len,Oe-$.resvDrain_post-8*ee.sideinfo_len,Oe,Oe%8,ie),r.err.println("This is a fatal error.  It has several possible causes:"),r.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),r.err.println(" 9%%  Your system is overclocked"),r.err.println(" 1%%  bug in LAME encoding library"),ee.ResvSize=$.main_data_begin*8),f(N%8==0),N>1e9){var qe;for(qe=0;qe<E.MAX_HEADER_BUF;++qe)ee.header[qe].write_timing-=N;N=0}return 0},this.copy_buffer=function(G,ee,$,ie,Oe){var qe=L+1;if(qe<=0)return 0;if(ie!=0&&qe>ie)return-1;if(r.arraycopy(O,0,ee,$,qe),L=-1,K=0,Oe!=0){var Re=h(1);if(Re[0]=G.nMusicCRC,U.updateMusicCRC(Re,ee,$,qe),G.nMusicCRC=Re[0],qe>0&&(G.VBR_seek_table.nBytesWritten+=qe),G.decode_on_the_fly){for(var Se=u([2,1152]),je=qe,Be=-1,We;Be!=0;)if(Be=I.hip_decode1_unclipped(G.hip,ee,$,je,Se[0],Se[1]),je=0,Be==-1&&(Be=0),Be>0){if(f(Be<=1152),G.findPeakSample){for(We=0;We<Be;We++)Se[0][We]>G.PeakSample?G.PeakSample=Se[0][We]:-Se[0][We]>G.PeakSample&&(G.PeakSample=-Se[0][We]);if(G.channels_out>1)for(We=0;We<Be;We++)Se[1][We]>G.PeakSample?G.PeakSample=Se[1][We]:-Se[1][We]>G.PeakSample&&(G.PeakSample=-Se[1][We])}if(G.findReplayGain&&k.AnalyzeSamples(G.rgdata,Se[0],0,Se[1],0,Be,G.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return qe},this.init_bit_stream_w=function(G){O=l(T.LAME_MAXMP3BUFFER),G.h_ptr=G.w_ptr=0,G.header[G.h_ptr].write_timing=0,L=-1,K=0,N=0}}n.exports=w});bn.register("65Sx2",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var l=e.new_int;e.new_int_n;var u=e.assert,h=bn("cPNKB"),f=bn("dQDcS"),m=bn("7weBo"),g=bn("84mea");function x(){var E=null;this.qupvt=null,this.setModules=function(pe){this.qupvt=pe,E=pe};function w(pe){this.bits=0|pe}var T=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function A(pe,he,G,ee,$,ie){var Oe=.5946/he;for(u(pe>0),pe=pe>>1;pe--!=0;)$[ie++]=Oe>G[ee++]?0:1,$[ie++]=Oe>G[ee++]?0:1}function P(pe,he,G,ee,$,ie){u(pe>0),pe=pe>>1;var Oe=pe%2;for(pe=pe>>1;pe--!=0;){var qe,Re,Se,je,Be,We,rn,un;qe=G[ee++]*he,Re=G[ee++]*he,Be=0|qe,Se=G[ee++]*he,We=0|Re,je=G[ee++]*he,rn=0|Se,qe+=E.adj43[Be],un=0|je,Re+=E.adj43[We],$[ie++]=0|qe,Se+=E.adj43[rn],$[ie++]=0|Re,je+=E.adj43[un],$[ie++]=0|Se,$[ie++]=0|je}if(Oe!=0){var qe,Re,Be,We;qe=G[ee++]*he,Re=G[ee++]*he,Be=0|qe,We=0|Re,qe+=E.adj43[Be],Re+=E.adj43[We],$[ie++]=0|qe,$[ie++]=0|Re}}function C(pe,he,G,ee,$){var ie,Oe,qe=0,Re,Se=0,je=0,Be=0,We=he,rn=0,un=We,pn=0,vn=pe,Hn=0;for(Re=$!=null&&ee.global_gain==$.global_gain,ee.block_type==h.SHORT_TYPE?Oe=38:Oe=21,ie=0;ie<=Oe;ie++){var Tn=-1;if((Re||ee.block_type==h.NORM_TYPE)&&(Tn=ee.global_gain-(ee.scalefac[ie]+(ee.preflag!=0?E.pretab[ie]:0)<<ee.scalefac_scale+1)-ee.subblock_gain[ee.window[ie]]*8),u(ee.width[ie]>=0),Re&&$.step[ie]==Tn)Se!=0&&(P(Se,G,vn,Hn,un,pn),Se=0),je!=0&&(A(je,G,vn,Hn,un,pn),je=0);else{var j=ee.width[ie];if(qe+ee.width[ie]>ee.max_nonzero_coeff){var te;te=ee.max_nonzero_coeff-qe+1,a.fill(he,ee.max_nonzero_coeff,576,0),j=te,j<0&&(j=0),ie=Oe+1}if(Se==0&&je==0&&(un=We,pn=rn,vn=pe,Hn=Be),$!=null&&$.sfb_count1>0&&ie>=$.sfb_count1&&$.step[ie]>0&&Tn>=$.step[ie]?(Se!=0&&(P(Se,G,vn,Hn,un,pn),Se=0,un=We,pn=rn,vn=pe,Hn=Be),je+=j):(je!=0&&(A(je,G,vn,Hn,un,pn),je=0,un=We,pn=rn,vn=pe,Hn=Be),Se+=j),j<=0){je!=0&&(A(je,G,vn,Hn,un,pn),je=0),Se!=0&&(P(Se,G,vn,Hn,un,pn),Se=0);break}}ie<=Oe&&(rn+=ee.width[ie],Be+=ee.width[ie],qe+=ee.width[ie])}Se!=0&&(P(Se,G,vn,Hn,un,pn),Se=0),je!=0&&(A(je,G,vn,Hn,un,pn),je=0)}function k(pe,he,G){var ee=0,$=0;do{var ie=pe[he++],Oe=pe[he++];ee<ie&&(ee=ie),$<Oe&&($=Oe)}while(he<G);return ee<$&&(ee=$),ee}function I(pe,he,G,ee,$,ie){var Oe=f.ht[ee].xlen*65536+f.ht[$].xlen,qe=0,Re;do{var Se=pe[he++],je=pe[he++];Se!=0&&(Se>14&&(Se=15,qe+=Oe),Se*=16),je!=0&&(je>14&&(je=15,qe+=Oe),Se+=je),qe+=f.largetbl[Se]}while(he<G);return Re=qe&65535,qe>>=16,qe>Re&&(qe=Re,ee=$),ie.bits+=qe,ee}function D(pe,he,G,ee){var $=0,ie=f.ht[1].hlen;do{var Oe=pe[he+0]*2+pe[he+1];he+=2,$+=ie[Oe]}while(he<G);return ee.bits+=$,1}function U(pe,he,G,ee,$){var ie=0,Oe,qe=f.ht[ee].xlen,Re;ee==2?Re=f.table23:Re=f.table56;do{var Se=pe[he+0]*qe+pe[he+1];he+=2,ie+=Re[Se]}while(he<G);return Oe=ie&65535,ie>>=16,ie>Oe&&(ie=Oe,ee++),$.bits+=ie,ee}function O(pe,he,G,ee,$){var ie=0,Oe=0,qe=0,Re=f.ht[ee].xlen,Se=f.ht[ee].hlen,je=f.ht[ee+1].hlen,Be=f.ht[ee+2].hlen;do{var We=pe[he+0]*Re+pe[he+1];he+=2,ie+=Se[We],Oe+=je[We],qe+=Be[We]}while(he<G);var rn=ee;return ie>Oe&&(ie=Oe,rn++),ie>qe&&(ie=qe,rn=ee+2),$.bits+=ie,rn}var N=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function L(pe,he,G,ee){var $=k(pe,he,G);switch($){case 0:return $;case 1:return D(pe,he,G,ee);case 2:case 3:return U(pe,he,G,N[$-1],ee);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return O(pe,he,G,N[$-1],ee);default:if($>g.IXMAX_VAL)return ee.bits=g.LARGE_BITS,-1;$-=15;var ie;for(ie=24;ie<32&&!(f.ht[ie].linmax>=$);ie++);var Oe;for(Oe=ie-8;Oe<24&&!(f.ht[Oe].linmax>=$);Oe++);return I(pe,he,G,Oe,ie,ee)}}this.noquant_count_bits=function(pe,he,G){var ee=he.l3_enc,$=Math.min(576,he.max_nonzero_coeff+2>>1<<1);for(G!=null&&(G.sfb_count1=0);$>1&&!(ee[$-1]|ee[$-2]);$-=2);he.count1=$;for(var ie=0,Oe=0;$>3;$-=4){var qe;if(((ee[$-1]|ee[$-2]|ee[$-3]|ee[$-4])&2147483647)>1)break;qe=((ee[$-4]*2+ee[$-3])*2+ee[$-2])*2+ee[$-1],ie+=f.t32l[qe],Oe+=f.t33l[qe]}var Re=ie;if(he.count1table_select=0,ie>Oe&&(Re=Oe,he.count1table_select=1),he.count1bits=Re,he.big_values=$,$==0)return Re;if(he.block_type==h.SHORT_TYPE)ie=3*pe.scalefac_band.s[3],ie>he.big_values&&(ie=he.big_values),Oe=he.big_values;else if(he.block_type==h.NORM_TYPE){if(u($<=576),ie=he.region0_count=pe.bv_scf[$-2],Oe=he.region1_count=pe.bv_scf[$-1],u(ie+Oe+2<h.SBPSY_l),Oe=pe.scalefac_band.l[ie+Oe+2],ie=pe.scalefac_band.l[ie+1],Oe<$){var Se=new w(Re);he.table_select[2]=L(ee,Oe,$,Se),Re=Se.bits}}else he.region0_count=7,he.region1_count=h.SBMAX_l-1-7-1,ie=pe.scalefac_band.l[8],Oe=$,ie>Oe&&(ie=Oe);if(ie=Math.min(ie,$),Oe=Math.min(Oe,$),u(ie>=0),u(Oe>=0),0<ie){var Se=new w(Re);he.table_select[0]=L(ee,0,ie,Se),Re=Se.bits}if(ie<Oe){var Se=new w(Re);he.table_select[1]=L(ee,ie,Oe,Se),Re=Se.bits}if(pe.use_best_huffman==2&&(he.part2_3_length=Re,best_huffman_divide(pe,he),Re=he.part2_3_length),G!=null&&he.block_type==h.NORM_TYPE){for(var je=0;pe.scalefac_band.l[je]<he.big_values;)je++;G.sfb_count1=je}return Re},this.count_bits=function(pe,he,G,ee){var $=G.l3_enc,ie=g.IXMAX_VAL/E.IPOW20(G.global_gain);if(G.xrpow_max>ie)return g.LARGE_BITS;if(C(he,$,E.IPOW20(G.global_gain),G,ee),pe.substep_shaping&2)for(var Oe=0,qe=G.global_gain+G.scalefac_scale,Re=.634521682242439/E.IPOW20(qe),Se=0;Se<G.sfbmax;Se++){var je=G.width[Se];if(u(je>=0),pe.pseudohalf[Se]==0)Oe+=je;else{var Be;for(Be=Oe,Oe+=je;Be<Oe;++Be)$[Be]=he[Be]>=Re?$[Be]:0}}return this.noquant_count_bits(pe,G,ee)};function K(pe,he,G,ee,$,ie,Oe){for(var qe=he.big_values,Re=0;Re<=22;Re++)ee[Re]=g.LARGE_BITS;for(var Re=0;Re<16;Re++){var Se=pe.scalefac_band.l[Re+1];if(Se>=qe)break;var je=0,Be=new w(je),We=L(G,0,Se,Be);je=Be.bits;for(var rn=0;rn<8;rn++){var un=pe.scalefac_band.l[Re+rn+2];if(un>=qe)break;var pn=je;Be=new w(pn);var vn=L(G,Se,un,Be);pn=Be.bits,ee[Re+rn]>pn&&(ee[Re+rn]=pn,$[Re+rn]=Re,ie[Re+rn]=We,Oe[Re+rn]=vn)}}}function z(pe,he,G,ee,$,ie,Oe,qe){for(var Re=he.big_values,Se=2;Se<h.SBMAX_l+1;Se++){var je=pe.scalefac_band.l[Se];if(je>=Re)break;var Be=$[Se-2]+he.count1bits;if(G.part2_3_length<=Be)break;var We=new w(Be),rn=L(ee,je,Re,We);Be=We.bits,!(G.part2_3_length<=Be)&&(G.assign(he),G.part2_3_length=Be,G.region0_count=ie[Se-2],G.region1_count=Se-2-ie[Se-2],G.table_select[0]=Oe[Se-2],G.table_select[1]=qe[Se-2],G.table_select[2]=rn)}}this.best_huffman_divide=function(pe,he){var G=new m,ee=he.l3_enc,$=l(23),ie=l(23),Oe=l(23),qe=l(23);if(!(he.block_type==h.SHORT_TYPE&&pe.mode_gr==1)){G.assign(he),he.block_type==h.NORM_TYPE&&(K(pe,he,ee,$,ie,Oe,qe),z(pe,G,he,ee,$,ie,Oe,qe));var Re=G.big_values;if(!(Re==0||(ee[Re-2]|ee[Re-1])>1)&&(Re=he.count1+2,!(Re>576))){G.assign(he),G.count1=Re;var Se=0,je=0;for(u(Re<=576);Re>G.big_values;Re-=4){var Be=((ee[Re-4]*2+ee[Re-3])*2+ee[Re-2])*2+ee[Re-1];Se+=f.t32l[Be],je+=f.t33l[Be]}if(G.big_values=Re,G.count1table_select=0,Se>je&&(Se=je,G.count1table_select=1),G.count1bits=Se,G.block_type==h.NORM_TYPE)z(pe,G,he,ee,$,ie,Oe,qe);else{if(G.part2_3_length=Se,Se=pe.scalefac_band.l[8],Se>Re&&(Se=Re),Se>0){var We=new w(G.part2_3_length);G.table_select[0]=L(ee,0,Se,We),G.part2_3_length=We.bits}if(Re>Se){var We=new w(G.part2_3_length);G.table_select[1]=L(ee,Se,Re,We),G.part2_3_length=We.bits}he.part2_3_length>G.part2_3_length&&he.assign(G)}}}};var ae=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],fe=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],B=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],J=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];x.slen1_tab=B,x.slen2_tab=J;function ce(pe,he){for(var G,ee=he.tt[1][pe],$=he.tt[0][pe],ie=0;ie<f.scfsi_band.length-1;ie++){for(G=f.scfsi_band[ie];G<f.scfsi_band[ie+1]&&!($.scalefac[G]!=ee.scalefac[G]&&ee.scalefac[G]>=0);G++);if(G==f.scfsi_band[ie+1]){for(G=f.scfsi_band[ie];G<f.scfsi_band[ie+1];G++)ee.scalefac[G]=-1;he.scfsi[pe][ie]=1}}var Oe=0,qe=0;for(G=0;G<11;G++)ee.scalefac[G]!=-1&&(qe++,Oe<ee.scalefac[G]&&(Oe=ee.scalefac[G]));for(var Re=0,Se=0;G<h.SBPSY_l;G++)ee.scalefac[G]!=-1&&(Se++,Re<ee.scalefac[G]&&(Re=ee.scalefac[G]));for(var ie=0;ie<16;ie++)if(Oe<ae[ie]&&Re<fe[ie]){var je=B[ie]*qe+J[ie]*Se;ee.part2_length>je&&(ee.part2_length=je,ee.scalefac_compress=ie)}}this.best_scalefac_store=function(pe,he,G,ee){var $=ee.tt[he][G],ie,Oe,qe,Re,Se=0;for(qe=0,ie=0;ie<$.sfbmax;ie++){var je=$.width[ie];for(u(je>=0),qe+=je,Re=-je;Re<0&&$.l3_enc[Re+qe]==0;Re++);Re==0&&($.scalefac[ie]=Se=-2)}if($.scalefac_scale==0&&$.preflag==0){var Be=0;for(ie=0;ie<$.sfbmax;ie++)$.scalefac[ie]>0&&(Be|=$.scalefac[ie]);if(!(Be&1)&&Be!=0){for(ie=0;ie<$.sfbmax;ie++)$.scalefac[ie]>0&&($.scalefac[ie]>>=1);$.scalefac_scale=Se=1}}if($.preflag==0&&$.block_type!=h.SHORT_TYPE&&pe.mode_gr==2){for(ie=11;ie<h.SBPSY_l&&!($.scalefac[ie]<E.pretab[ie]&&$.scalefac[ie]!=-2);ie++);if(ie==h.SBPSY_l){for(ie=11;ie<h.SBPSY_l;ie++)$.scalefac[ie]>0&&($.scalefac[ie]-=E.pretab[ie]);$.preflag=Se=1}}for(Oe=0;Oe<4;Oe++)ee.scfsi[G][Oe]=0;for(pe.mode_gr==2&&he==1&&ee.tt[0][G].block_type!=h.SHORT_TYPE&&ee.tt[1][G].block_type!=h.SHORT_TYPE&&(ce(G,ee),Se=0),ie=0;ie<$.sfbmax;ie++)$.scalefac[ie]==-2&&($.scalefac[ie]=0);Se!=0&&(pe.mode_gr==2?this.scale_bitcount($):this.scale_bitcount_lsf(pe,$))};function W(pe,he){for(var G=0;G<he;++G)if(pe[G]<0)return!1;return!0}var _e=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],oe=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],le=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(pe){var he,G,ee=0,$=0,ie,Oe=pe.scalefac;if(u(W(Oe,pe.sfbmax)),pe.block_type==h.SHORT_TYPE)ie=_e,pe.mixed_block_flag!=0&&(ie=oe);else if(ie=le,pe.preflag==0){for(G=11;G<h.SBPSY_l&&!(Oe[G]<E.pretab[G]);G++);if(G==h.SBPSY_l)for(pe.preflag=1,G=11;G<h.SBPSY_l;G++)Oe[G]-=E.pretab[G]}for(G=0;G<pe.sfbdivide;G++)ee<Oe[G]&&(ee=Oe[G]);for(;G<pe.sfbmax;G++)$<Oe[G]&&($=Oe[G]);for(pe.part2_length=g.LARGE_BITS,he=0;he<16;he++)ee<ae[he]&&$<fe[he]&&pe.part2_length>ie[he]&&(pe.part2_length=ie[he],pe.scalefac_compress=he);return pe.part2_length==g.LARGE_BITS};var ve=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(pe,he){var G,ee,$,ie,Oe,qe,Re,Se,je=l(4),Be=he.scalefac;for(he.preflag!=0?G=2:G=0,Re=0;Re<4;Re++)je[Re]=0;if(he.block_type==h.SHORT_TYPE){ee=1;var We=E.nr_of_sfb_block[G][ee];for(Se=0,$=0;$<4;$++)for(ie=We[$]/3,Re=0;Re<ie;Re++,Se++)for(Oe=0;Oe<3;Oe++)Be[Se*3+Oe]>je[$]&&(je[$]=Be[Se*3+Oe])}else{ee=0;var We=E.nr_of_sfb_block[G][ee];for(Se=0,$=0;$<4;$++)for(ie=We[$],Re=0;Re<ie;Re++,Se++)Be[Se]>je[$]&&(je[$]=Be[Se])}for(qe=!1,$=0;$<4;$++)je[$]>ve[G][$]&&(qe=!0);if(!qe){var rn,un,pn,vn;for(he.sfb_partition_table=E.nr_of_sfb_block[G][ee],$=0;$<4;$++)he.slen[$]=De[je[$]];switch(rn=he.slen[0],un=he.slen[1],pn=he.slen[2],vn=he.slen[3],G){case 0:he.scalefac_compress=(rn*5+un<<4)+(pn<<2)+vn;break;case 1:he.scalefac_compress=400+(rn*5+un<<2)+pn;break;case 2:he.scalefac_compress=500+rn*3+un;break;default:r.err.printf(`intensity stereo not implemented yet
`);break}}if(!qe)for(u(he.sfb_partition_table!=null),he.part2_length=0,$=0;$<4;$++)he.part2_length+=he.slen[$]*he.sfb_partition_table[$];return qe};var De=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(pe){for(var he=2;he<=576;he+=2){for(var G=0,ee;pe.scalefac_band.l[++G]<he;);for(ee=T[G][0];pe.scalefac_band.l[ee+1]>he;)ee--;for(ee<0&&(ee=T[G][0]),pe.bv_scf[he-2]=ee,ee=T[G][1];pe.scalefac_band.l[ee+pe.bv_scf[he-2]+2]>he;)ee--;ee<0&&(ee=T[G][1]),pe.bv_scf[he-1]=ee}}}n.exports=x});bn.register("dQDcS",function(n,t){function e(a,l,u,h){this.xlen=a,this.linmax=l,this.table=u,this.hlen=h}var r={};r.t1HB=[1,1,1,0],r.t2HB=[1,2,1,3,1,1,3,2,0],r.t3HB=[3,2,1,1,1,1,3,2,0],r.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],r.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],r.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],r.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],r.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],r.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],r.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],r.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],r.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],r.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],r.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],r.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],r.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],r.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],r.t1l=[1,4,3,5],r.t2l=[1,4,7,4,5,7,6,7,8],r.t3l=[2,3,7,4,4,7,6,7,8],r.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],r.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],r.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],r.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],r.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],r.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],r.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],r.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],r.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],r.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],r.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],r.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],r.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],r.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],r.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],r.ht=[new e(0,0,null,null),new e(2,0,r.t1HB,r.t1l),new e(3,0,r.t2HB,r.t2l),new e(3,0,r.t3HB,r.t3l),new e(0,0,null,null),new e(4,0,r.t5HB,r.t5l),new e(4,0,r.t6HB,r.t6l),new e(6,0,r.t7HB,r.t7l),new e(6,0,r.t8HB,r.t8l),new e(6,0,r.t9HB,r.t9l),new e(8,0,r.t10HB,r.t10l),new e(8,0,r.t11HB,r.t11l),new e(8,0,r.t12HB,r.t12l),new e(16,0,r.t13HB,r.t13l),new e(0,0,null,r.t16_5l),new e(16,0,r.t15HB,r.t15l),new e(1,1,r.t16HB,r.t16l),new e(2,3,r.t16HB,r.t16l),new e(3,7,r.t16HB,r.t16l),new e(4,15,r.t16HB,r.t16l),new e(6,63,r.t16HB,r.t16l),new e(8,255,r.t16HB,r.t16l),new e(10,1023,r.t16HB,r.t16l),new e(13,8191,r.t16HB,r.t16l),new e(4,15,r.t24HB,r.t24l),new e(5,31,r.t24HB,r.t24l),new e(6,63,r.t24HB,r.t24l),new e(7,127,r.t24HB,r.t24l),new e(8,255,r.t24HB,r.t24l),new e(9,511,r.t24HB,r.t24l),new e(11,2047,r.t24HB,r.t24l),new e(13,8191,r.t24HB,r.t24l),new e(0,0,r.t32HB,r.t32l),new e(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],n.exports=r});bn.register("84mea",function(n,t){var e=bn("7imnH"),r=bn("3YDN3");r.System;var a=r.VbrMode,l=r.Float;r.ShortBlock;var u=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var h=r.new_float;r.new_float_n;var f=r.new_int;r.new_int_n;var m=r.assert,g=bn("cPNKB"),x=bn("lL4Le"),E=bn("4SDnr");w.Q_MAX=257,w.Q_MAX2=116,w.LARGE_BITS=1e5,w.IXMAX_VAL=8206;function w(){var T=bn("ctaQC"),A=null,P=null,C=null;this.setModules=function(_e,oe,le){A=_e,P=oe,C=le};function k(_e){return m(0<=_e+w.Q_MAX2&&_e<w.Q_MAX),z[_e+w.Q_MAX2]}this.IPOW20=function(_e){return m(0<=_e&&_e<w.Q_MAX),ae[_e]};var I=2220446049250313e-31,D=w.IXMAX_VAL,U=D+2,O=w.Q_MAX,N=w.Q_MAX2;w.LARGE_BITS;var L=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var K=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=K,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var z=h(O+N+1),ae=h(O),fe=h(U),B=h(U);this.adj43=B;function J(_e,oe){var le=C.ATHformula(oe,_e);return le-=L,le=Math.pow(10,le/10+_e.ATHlower),le}function ce(_e){for(var oe=_e.internal_flags.ATH.l,le=_e.internal_flags.ATH.psfb21,ve=_e.internal_flags.ATH.s,De=_e.internal_flags.ATH.psfb12,pe=_e.internal_flags,he=_e.out_samplerate,G=0;G<g.SBMAX_l;G++){var ee=pe.scalefac_band.l[G],$=pe.scalefac_band.l[G+1];oe[G]=l.MAX_VALUE;for(var ie=ee;ie<$;ie++){var Oe=ie*he/1152,qe=J(_e,Oe);oe[G]=Math.min(oe[G],qe)}}for(var G=0;G<g.PSFB21;G++){var ee=pe.scalefac_band.psfb21[G],$=pe.scalefac_band.psfb21[G+1];le[G]=l.MAX_VALUE;for(var ie=ee;ie<$;ie++){var Oe=ie*he/1152,qe=J(_e,Oe);le[G]=Math.min(le[G],qe)}}for(var G=0;G<g.SBMAX_s;G++){var ee=pe.scalefac_band.s[G],$=pe.scalefac_band.s[G+1];ve[G]=l.MAX_VALUE;for(var ie=ee;ie<$;ie++){var Oe=ie*he/384,qe=J(_e,Oe);ve[G]=Math.min(ve[G],qe)}ve[G]*=pe.scalefac_band.s[G+1]-pe.scalefac_band.s[G]}for(var G=0;G<g.PSFB12;G++){var ee=pe.scalefac_band.psfb12[G],$=pe.scalefac_band.psfb12[G+1];De[G]=l.MAX_VALUE;for(var ie=ee;ie<$;ie++){var Oe=ie*he/384,qe=J(_e,Oe);De[G]=Math.min(De[G],qe)}De[G]*=pe.scalefac_band.s[13]-pe.scalefac_band.s[12]}if(_e.noATH){for(var G=0;G<g.SBMAX_l;G++)oe[G]=1e-20;for(var G=0;G<g.PSFB21;G++)le[G]=1e-20;for(var G=0;G<g.SBMAX_s;G++)ve[G]=1e-20;for(var G=0;G<g.PSFB12;G++)De[G]=1e-20}pe.ATH.floor=10*Math.log10(J(_e,-1))}this.iteration_init=function(_e){var oe=_e.internal_flags,le=oe.l3_side,ve;if(oe.iteration_init_init==0){for(oe.iteration_init_init=1,le.main_data_begin=0,ce(_e),fe[0]=0,ve=1;ve<U;ve++)fe[ve]=Math.pow(ve,4/3);for(ve=0;ve<U-1;ve++)B[ve]=ve+1-Math.pow(.5*(fe[ve]+fe[ve+1]),.75);for(B[ve]=.5,ve=0;ve<O;ve++)ae[ve]=Math.pow(2,(ve-210)*-.1875);for(ve=0;ve<=O+N;ve++)z[ve]=Math.pow(2,(ve-210-N)*.25);A.huffman_init(oe);var De,pe,he,G;for(ve=_e.exp_nspsytune>>2&63,ve>=32&&(ve-=64),De=Math.pow(10,ve/4/10),ve=_e.exp_nspsytune>>8&63,ve>=32&&(ve-=64),pe=Math.pow(10,ve/4/10),ve=_e.exp_nspsytune>>14&63,ve>=32&&(ve-=64),he=Math.pow(10,ve/4/10),ve=_e.exp_nspsytune>>20&63,ve>=32&&(ve-=64),G=he*Math.pow(10,ve/4/10),ve=0;ve<g.SBMAX_l;ve++){var ee;ve<=6?ee=De:ve<=13?ee=pe:ve<=20?ee=he:ee=G,oe.nsPsy.longfact[ve]=ee}for(ve=0;ve<g.SBMAX_s;ve++){var ee;ve<=5?ee=De:ve<=10?ee=pe:ve<=11?ee=he:ee=G,oe.nsPsy.shortfact[ve]=ee}}},this.on_pe=function(_e,oe,le,ve,De,pe){var he=_e.internal_flags,G=0,ee,$=f(2),ie,Oe=new x(G),qe=P.ResvMaxBits(_e,ve,Oe,pe);G=Oe.bits;var Re=G+qe;for(Re>E.MAX_BITS_PER_GRANULE&&(Re=E.MAX_BITS_PER_GRANULE),ee=0,ie=0;ie<he.channels_out;++ie)le[ie]=Math.min(E.MAX_BITS_PER_CHANNEL,G/he.channels_out),$[ie]=0|le[ie]*oe[De][ie]/700-le[ie],$[ie]>ve*3/4&&($[ie]=ve*3/4),$[ie]<0&&($[ie]=0),$[ie]+le[ie]>E.MAX_BITS_PER_CHANNEL&&($[ie]=Math.max(0,E.MAX_BITS_PER_CHANNEL-le[ie])),ee+=$[ie];if(ee>qe)for(ie=0;ie<he.channels_out;++ie)$[ie]=qe*$[ie]/ee;for(ie=0;ie<he.channels_out;++ie)le[ie]+=$[ie],qe-=$[ie];for(ee=0,ie=0;ie<he.channels_out;++ie)ee+=le[ie];if(ee>E.MAX_BITS_PER_GRANULE){var Se=0;for(ie=0;ie<he.channels_out;++ie)le[ie]*=E.MAX_BITS_PER_GRANULE,le[ie]/=ee,Se+=le[ie];m(Se<=E.MAX_BITS_PER_GRANULE)}return Re},this.reduce_side=function(_e,oe,le,ve){m(ve<=E.MAX_BITS_PER_GRANULE),m(_e[0]+_e[1]<=E.MAX_BITS_PER_GRANULE);var De=.33*(.5-oe)/.5;De<0&&(De=0),De>.5&&(De=.5);var pe=0|De*.5*(_e[0]+_e[1]);pe>E.MAX_BITS_PER_CHANNEL-_e[0]&&(pe=E.MAX_BITS_PER_CHANNEL-_e[0]),pe<0&&(pe=0),_e[1]>=125&&(_e[1]-pe>125?(_e[0]<le&&(_e[0]+=pe),_e[1]-=pe):(_e[0]+=_e[1]-125,_e[1]=125)),pe=_e[0]+_e[1],pe>ve&&(_e[0]=ve*_e[0]/pe,_e[1]=ve*_e[1]/pe),m(_e[0]<=E.MAX_BITS_PER_CHANNEL),m(_e[1]<=E.MAX_BITS_PER_CHANNEL),m(_e[0]+_e[1]<=E.MAX_BITS_PER_GRANULE)},this.athAdjust=function(_e,oe,le){var ve=90.30873362,De=94.82444863,pe=u.FAST_LOG10_X(oe,10),he=_e*_e,G=0;return pe-=le,he>1e-20&&(G=1+u.FAST_LOG10_X(he,10/ve)),G<0&&(G=0),pe*=G,pe+=le+ve-De,Math.pow(10,.1*pe)},this.calc_xmin=function(_e,oe,le,ve){var De=0,pe=_e.internal_flags,he,G=0,ee=0,$=pe.ATH,ie=le.xr,Oe=_e.VBR==a.vbr_mtrh?1:0,qe=pe.masking_lower;for((_e.VBR==a.vbr_mtrh||_e.VBR==a.vbr_mt)&&(qe=1),he=0;he<le.psy_lmax;he++){var Re,Se,je,Be,We,rn;_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?Se=athAdjust($.adjust,$.l[he],$.floor):Se=$.adjust*$.l[he],We=le.width[he],je=Se/We,Be=I,rn=We>>1,Re=0;do{var un,pn;un=ie[G]*ie[G],Re+=un,Be+=un<je?un:je,G++,pn=ie[G]*ie[G],Re+=pn,Be+=pn<je?pn:je,G++}while(--rn>0);if(Re>Se&&ee++,he==g.SBPSY_l){var vn=Se*pe.nsPsy.longfact[he];Be<vn&&(Be=vn)}if(Oe!=0&&(Se=Be),!_e.ATHonly){var Hn=oe.en.l[he];if(Hn>0){var vn;vn=Re*oe.thm.l[he]*qe/Hn,Oe!=0&&(vn*=pe.nsPsy.longfact[he]),Se<vn&&(Se=vn)}}Oe!=0?ve[De++]=Se:ve[De++]=Se*pe.nsPsy.longfact[he]}var Tn=575;if(le.block_type!=g.SHORT_TYPE)for(var j=576;j--!=0&&T.EQ(ie[j],0);)Tn=j;le.max_nonzero_coeff=Tn;for(var te=le.sfb_smin;he<le.psymax;te++,he+=3){var We,En,Nn;for(_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?Nn=athAdjust($.adjust,$.s[te],$.floor):Nn=$.adjust*$.s[te],We=le.width[he],En=0;En<3;En++){var Re=0,Se,je,Be,rn=We>>1;je=Nn/We,Be=I;do{var un,pn;un=ie[G]*ie[G],Re+=un,Be+=un<je?un:je,G++,pn=ie[G]*ie[G],Re+=pn,Be+=pn<je?pn:je,G++}while(--rn>0);if(Re>Nn&&ee++,te==g.SBPSY_s){var vn=Nn*pe.nsPsy.shortfact[te];Be<vn&&(Be=vn)}if(Oe!=0?Se=Be:Se=Nn,!_e.ATHonly&&!_e.ATHshort){var Hn=oe.en.s[te][En];if(Hn>0){var vn;vn=Re*oe.thm.s[te][En]*qe/Hn,Oe!=0&&(vn*=pe.nsPsy.shortfact[te]),Se<vn&&(Se=vn)}}Oe!=0?ve[De++]=Se:ve[De++]=Se*pe.nsPsy.shortfact[te]}_e.useTemporal&&(ve[De-3]>ve[De-3+1]&&(ve[De-3+1]+=(ve[De-3]-ve[De-3+1])*pe.decay),ve[De-3+1]>ve[De-3+2]&&(ve[De-3+2]+=(ve[De-3+1]-ve[De-3+2])*pe.decay))}return ee};function W(_e){this.s=_e}this.calc_noise_core=function(_e,oe,le,ve){var De=0,pe=oe.s,he=_e.l3_enc;if(pe>_e.count1)for(;le--!=0;){var G;G=_e.xr[pe],pe++,De+=G*G,G=_e.xr[pe],pe++,De+=G*G}else if(pe>_e.big_values){var ee=h(2);for(ee[0]=0,ee[1]=ve;le--!=0;){var G;G=Math.abs(_e.xr[pe])-ee[he[pe]],pe++,De+=G*G,G=Math.abs(_e.xr[pe])-ee[he[pe]],pe++,De+=G*G}}else for(;le--!=0;){var G;G=Math.abs(_e.xr[pe])-fe[he[pe]]*ve,pe++,De+=G*G,G=Math.abs(_e.xr[pe])-fe[he[pe]]*ve,pe++,De+=G*G}return oe.s=pe,De},this.calc_noise=function(_e,oe,le,ve,De){var pe=0,he=0,G,ee,$=0,ie=0,Oe=0,qe=-20,Re=0,Se=_e.scalefac,je=0;for(ve.over_SSD=0,G=0;G<_e.psymax;G++){var Be=_e.global_gain-(Se[je++]+(_e.preflag!=0?K[G]:0)<<_e.scalefac_scale+1)-_e.subblock_gain[_e.window[G]]*8,We=0;if(De!=null&&De.step[G]==Be)We=De.noise[G],Re+=_e.width[G],le[pe++]=We/oe[he++],We=De.noise_log[G];else{var rn=k(Be);if(ee=_e.width[G]>>1,Re+_e.width[G]>_e.max_nonzero_coeff){var un;un=_e.max_nonzero_coeff-Re+1,un>0?ee=un>>1:ee=0}var pn=new W(Re);We=this.calc_noise_core(_e,pn,ee,rn),Re=pn.s,De!=null&&(De.step[G]=Be,De.noise[G]=We),We=le[pe++]=We/oe[he++],We=u.FAST_LOG10(Math.max(We,1e-20)),De!=null&&(De.noise_log[G]=We)}if(De!=null&&(De.global_gain=_e.global_gain),Oe+=We,We>0){var vn;vn=Math.max(0|We*10+.5,1),ve.over_SSD+=vn*vn,$++,ie+=We}qe=Math.max(qe,We)}return ve.over_count=$,ve.tot_noise=Oe,ve.over_noise=ie,ve.max_noise=qe,$},this.set_pinfo=function(_e,oe,le,ve,De){var pe=_e.internal_flags,he,G,ee,$,ie,Oe=oe.scalefac_scale==0?.5:1,qe=oe.scalefac,Re=h(L3Side.SFBMAX),Se=h(L3Side.SFBMAX),je=new CalcNoiseResult;calc_xmin(_e,le,oe,Re),calc_noise(oe,Re,Se,je,null);var Be=0;for(G=oe.sfb_lmax,oe.block_type!=g.SHORT_TYPE&&oe.mixed_block_flag==0&&(G=22),he=0;he<G;he++){var We=pe.scalefac_band.l[he],rn=pe.scalefac_band.l[he+1],un=rn-We;for($=0;Be<rn;Be++)$+=oe.xr[Be]*oe.xr[Be];$/=un,ie=1e15,pe.pinfo.en[ve][De][he]=ie*$,pe.pinfo.xfsf[ve][De][he]=ie*Re[he]*Se[he]/un,le.en.l[he]>0&&!_e.ATHonly?$=$/le.en.l[he]:$=0,pe.pinfo.thr[ve][De][he]=ie*Math.max($*le.thm.l[he],pe.ATH.l[he]),pe.pinfo.LAMEsfb[ve][De][he]=0,oe.preflag!=0&&he>=11&&(pe.pinfo.LAMEsfb[ve][De][he]=-Oe*K[he]),he<g.SBPSY_l&&(m(qe[he]>=0),pe.pinfo.LAMEsfb[ve][De][he]-=Oe*qe[he])}if(oe.block_type==g.SHORT_TYPE)for(G=he,he=oe.sfb_smin;he<g.SBMAX_s;he++)for(var We=pe.scalefac_band.s[he],rn=pe.scalefac_band.s[he+1],un=rn-We,pn=0;pn<3;pn++){for($=0,ee=We;ee<rn;ee++)$+=oe.xr[Be]*oe.xr[Be],Be++;$=Math.max($/un,1e-20),ie=1e15,pe.pinfo.en_s[ve][De][3*he+pn]=ie*$,pe.pinfo.xfsf_s[ve][De][3*he+pn]=ie*Re[G]*Se[G]/un,le.en.s[he][pn]>0?$=$/le.en.s[he][pn]:$=0,(_e.ATHonly||_e.ATHshort)&&($=0),pe.pinfo.thr_s[ve][De][3*he+pn]=ie*Math.max($*le.thm.s[he][pn],pe.ATH.s[he]),pe.pinfo.LAMEsfb_s[ve][De][3*he+pn]=-2*oe.subblock_gain[pn],he<g.SBPSY_s&&(pe.pinfo.LAMEsfb_s[ve][De][3*he+pn]-=Oe*qe[G]),G++}pe.pinfo.LAMEqss[ve][De]=oe.global_gain,pe.pinfo.LAMEmainbits[ve][De]=oe.part2_3_length+oe.part2_length,pe.pinfo.LAMEsfbits[ve][De]=oe.part2_length,pe.pinfo.over[ve][De]=je.over_count,pe.pinfo.max_noise[ve][De]=je.max_noise*10,pe.pinfo.over_noise[ve][De]=je.over_noise*10,pe.pinfo.tot_noise[ve][De]=je.tot_noise*10,pe.pinfo.over_SSD[ve][De]=je.over_SSD}}n.exports=w});var fH={};hH(fH,"Mp3Encoder",()=>l1,n=>l1=n);hH(fH,"WavHeader",()=>c1,n=>c1=n);var l1,c1,ut=bn("3YDN3");ut.System;ut.VbrMode;ut.Float;ut.ShortBlock;ut.Util;ut.Arrays;ut.new_array_n;var HD=ut.new_byte;ut.new_double;ut.new_float;ut.new_float_n;ut.new_int;ut.new_int_n;var BD=ut.assert,_ye=bn("kk1yk"),_H={},ut=bn("3YDN3");ut.System;var ll=ut.VbrMode;ut.Float;ut.ShortBlock;ut.Util;ut.Arrays;ut.new_array_n;ut.new_byte;ut.new_double;ut.new_float;ut.new_float_n;ut.new_int;ut.new_int_n;ut.assert;function mye(){var n=bn("kk1yk");function t(g,x,E,w,T,A,P,C,k,I,D,U,O,N,L){this.vbr_q=g,this.quant_comp=x,this.quant_comp_s=E,this.expY=w,this.st_lrm=T,this.st_s=A,this.masking_adj=P,this.masking_adj_short=C,this.ath_lower=k,this.ath_curve=I,this.ath_sensitivity=D,this.interch=U,this.safejoint=O,this.sfb21mod=N,this.msfix=L}function e(g,x,E,w,T,A,P,C,k,I,D,U,O,N){this.quant_comp=x,this.quant_comp_s=E,this.safejoint=w,this.nsmsfix=T,this.st_lrm=A,this.st_s=P,this.nsbass=C,this.scale=k,this.masking_adj=I,this.ath_lower=D,this.ath_curve=U,this.interch=O,this.sfscale=N}var r;this.setModules=function(g){r=g};var a=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],l=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function u(g,x,E){var w=g.VBR==ll.vbr_rh?a:l,T=g.VBR_q_frac,A=w[x],P=w[x+1],C=A;A.st_lrm=A.st_lrm+T*(P.st_lrm-A.st_lrm),A.st_s=A.st_s+T*(P.st_s-A.st_s),A.masking_adj=A.masking_adj+T*(P.masking_adj-A.masking_adj),A.masking_adj_short=A.masking_adj_short+T*(P.masking_adj_short-A.masking_adj_short),A.ath_lower=A.ath_lower+T*(P.ath_lower-A.ath_lower),A.ath_curve=A.ath_curve+T*(P.ath_curve-A.ath_curve),A.ath_sensitivity=A.ath_sensitivity+T*(P.ath_sensitivity-A.ath_sensitivity),A.interch=A.interch+T*(P.interch-A.interch),A.msfix=A.msfix+T*(P.msfix-A.msfix),m(g,C.vbr_q),E!=0?g.quant_comp=C.quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=C.quant_comp),E!=0?g.quant_comp_short=C.quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=C.quant_comp_s),C.expY!=0&&(g.experimentalY=C.expY!=0),E!=0?g.internal_flags.nsPsy.attackthre=C.st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=C.st_lrm),E!=0?g.internal_flags.nsPsy.attackthre_s=C.st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=C.st_s),E!=0?g.maskingadjust=C.masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=C.masking_adj),E!=0?g.maskingadjust_short=C.masking_adj_short:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=C.masking_adj_short),E!=0?g.ATHlower=-C.ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-C.ath_lower/10),E!=0?g.ATHcurve=C.ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=C.ath_curve),E!=0?g.athaa_sensitivity=C.ath_sensitivity:Math.abs(g.athaa_sensitivity- -1)>0||(g.athaa_sensitivity=C.ath_sensitivity),C.interch>0&&(E!=0?g.interChRatio=C.interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=C.interch)),C.safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|C.safejoint),C.sfb21mod>0&&(g.exp_nspsytune=g.exp_nspsytune|C.sfb21mod<<20),E!=0?g.msfix=C.msfix:Math.abs(g.msfix- -1)>0||(g.msfix=C.msfix),E==0&&(g.VBR_q=x,g.VBR_q_frac=T)}var h=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(g,x,E){var w=x,T=r.nearestBitrateFullIndex(x);if(g.VBR=ll.vbr_abr,g.VBR_mean_bitrate_kbps=w,g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320),g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.brate=g.VBR_mean_bitrate_kbps,g.VBR_mean_bitrate_kbps>320&&(g.disable_reservoir=!0),h[T].safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|2),h[T].sfscale>0&&(g.internal_flags.noise_shaping=2),Math.abs(h[T].nsbass)>0){var A=int(h[T].nsbass*4);A<0&&(A+=64),g.exp_nspsytune=g.exp_nspsytune|A<<2}return E!=0?g.quant_comp=h[T].quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=h[T].quant_comp),E!=0?g.quant_comp_short=h[T].quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=h[T].quant_comp_s),E!=0?g.msfix=h[T].nsmsfix:Math.abs(g.msfix- -1)>0||(g.msfix=h[T].nsmsfix),E!=0?g.internal_flags.nsPsy.attackthre=h[T].st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=h[T].st_lrm),E!=0?g.internal_flags.nsPsy.attackthre_s=h[T].st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=h[T].st_s),E!=0?g.scale=h[T].scale:Math.abs(g.scale- -1)>0||(g.scale=h[T].scale),E!=0?g.maskingadjust=h[T].masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=h[T].masking_adj),h[T].masking_adj>0?E!=0?g.maskingadjust_short=h[T].masking_adj*.9:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=h[T].masking_adj*.9):E!=0?g.maskingadjust_short=h[T].masking_adj*1.1:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=h[T].masking_adj*1.1),E!=0?g.ATHlower=-h[T].ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-h[T].ath_lower/10),E!=0?g.ATHcurve=h[T].ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=h[T].ath_curve),E!=0?g.interChRatio=h[T].interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=h[T].interch),x}this.apply_preset=function(g,x,E){switch(x){case n.R3MIX:x=n.V3,g.VBR=ll.vbr_mtrh;break;case n.MEDIUM:x=n.V4,g.VBR=ll.vbr_rh;break;case n.MEDIUM_FAST:x=n.V4,g.VBR=ll.vbr_mtrh;break;case n.STANDARD:x=n.V2,g.VBR=ll.vbr_rh;break;case n.STANDARD_FAST:x=n.V2,g.VBR=ll.vbr_mtrh;break;case n.EXTREME:x=n.V0,g.VBR=ll.vbr_rh;break;case n.EXTREME_FAST:x=n.V0,g.VBR=ll.vbr_mtrh;break;case n.INSANE:return x=320,g.preset=x,f(g,x,E),g.VBR=ll.vbr_off,x}switch(g.preset=x,x){case n.V9:return u(g,9,E),x;case n.V8:return u(g,8,E),x;case n.V7:return u(g,7,E),x;case n.V6:return u(g,6,E),x;case n.V5:return u(g,5,E),x;case n.V4:return u(g,4,E),x;case n.V3:return u(g,3,E),x;case n.V2:return u(g,2,E),x;case n.V1:return u(g,1,E),x;case n.V0:return u(g,0,E),x}return 8<=x&&x<=320?f(g,x,E):(g.preset=0,x)};function m(g,x){var E=0;return 0>x&&(E=-1,x=0),9<x&&(E=-1,x=9),g.VBR_q=x,g.VBR_q_frac=0,E}}_H=mye;var vye=bn("b8dhq"),gye=bn("84mea"),mH={},ut=bn("3YDN3"),eu=ut.System,VD=ut.VbrMode;ut.Float;ut.ShortBlock;var ox=ut.Util,l0=ut.Arrays;ut.new_array_n;ut.new_byte;ut.new_double;var Rf=ut.new_float;ut.new_float_n;ut.new_int;ut.new_int_n;var Js=ut.assert,vH={};function bye(){this.setModules=function(n,t){}}vH=bye;var mb={};function yye(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}mb=yye;var gH={},ut=bn("3YDN3"),zD=ut.new_float,Eye=ut.new_int;ut.assert;function wye(){this.global_gain=0,this.sfb_count1=0,this.step=Eye(39),this.noise=zD(39),this.noise_log=zD(39)}gH=wye;var dr=bn("cPNKB"),$D=bn("7weBo"),qD=bn("arIi9");function xye(){var n;this.rv=null;var t;this.qupvt=null;var e,r=new vH,a;this.setModules=function(C,k,I,D){n=C,t=k,this.rv=k,e=I,this.qupvt=I,a=D,r.setModules(e,a)},this.ms_convert=function(C,k){for(var I=0;I<576;++I){var D=C.tt[k][0].xr[I],U=C.tt[k][1].xr[I];C.tt[k][0].xr[I]=(D+U)*(ox.SQRT2*.5),C.tt[k][1].xr[I]=(D-U)*(ox.SQRT2*.5)}};function l(C,k,I,D){D=0;for(var U=0;U<=I;++U){var O=Math.abs(C.xr[U]);D+=O,k[U]=Math.sqrt(O*Math.sqrt(O)),k[U]>C.xrpow_max&&(C.xrpow_max=k[U])}return D}this.init_xrpow=function(C,k,I){var D=0,U=0|k.max_nonzero_coeff;if(Js(I!=null),k.xrpow_max=0,Js(0<=U&&U<=575),l0.fill(I,U,576,0),D=l(k,I,U,D),D>1e-20){var O=0;C.substep_shaping&2&&(O=1);for(var N=0;N<k.psymax;N++)C.pseudohalf[N]=O;return!0}return l0.fill(k.l3_enc,0,576,0),!1};function u(C,k){var I=C.ATH,D=k.xr;if(k.block_type!=dr.SHORT_TYPE)for(var U=!1,O=dr.PSFB21-1;O>=0&&!U;O--){var N=C.scalefac_band.psfb21[O],L=C.scalefac_band.psfb21[O+1],K=e.athAdjust(I.adjust,I.psfb21[O],I.floor);C.nsPsy.longfact[21]>1e-12&&(K*=C.nsPsy.longfact[21]);for(var z=L-1;z>=N;z--)if(Math.abs(D[z])<K)D[z]=0;else{U=!0;break}}else for(var ae=0;ae<3;ae++)for(var U=!1,O=dr.PSFB12-1;O>=0&&!U;O--){var N=C.scalefac_band.s[12]*3+(C.scalefac_band.s[13]-C.scalefac_band.s[12])*ae+(C.scalefac_band.psfb12[O]-C.scalefac_band.psfb12[0]),L=N+(C.scalefac_band.psfb12[O+1]-C.scalefac_band.psfb12[O]),fe=e.athAdjust(I.adjust,I.psfb12[O],I.floor);C.nsPsy.shortfact[12]>1e-12&&(fe*=C.nsPsy.shortfact[12]);for(var z=L-1;z>=N;z--)if(Math.abs(D[z])<fe)D[z]=0;else{U=!0;break}}}this.init_outer_loop=function(C,k){k.part2_3_length=0,k.big_values=0,k.count1=0,k.global_gain=210,k.scalefac_compress=0,k.table_select[0]=0,k.table_select[1]=0,k.table_select[2]=0,k.subblock_gain[0]=0,k.subblock_gain[1]=0,k.subblock_gain[2]=0,k.subblock_gain[3]=0,k.region0_count=0,k.region1_count=0,k.preflag=0,k.scalefac_scale=0,k.count1table_select=0,k.part2_length=0,k.sfb_lmax=dr.SBPSY_l,k.sfb_smin=dr.SBPSY_s,k.psy_lmax=C.sfb21_extra?dr.SBMAX_l:dr.SBPSY_l,k.psymax=k.psy_lmax,k.sfbmax=k.sfb_lmax,k.sfbdivide=11;for(var I=0;I<dr.SBMAX_l;I++)k.width[I]=C.scalefac_band.l[I+1]-C.scalefac_band.l[I],k.window[I]=3;if(k.block_type==dr.SHORT_TYPE){var D=Rf(576);k.sfb_smin=0,k.sfb_lmax=0,k.mixed_block_flag!=0&&(k.sfb_smin=3,k.sfb_lmax=C.mode_gr*2+4),k.psymax=k.sfb_lmax+3*((C.sfb21_extra?dr.SBMAX_s:dr.SBPSY_s)-k.sfb_smin),k.sfbmax=k.sfb_lmax+3*(dr.SBPSY_s-k.sfb_smin),k.sfbdivide=k.sfbmax-18,k.psy_lmax=k.sfb_lmax;var U=C.scalefac_band.l[k.sfb_lmax];eu.arraycopy(k.xr,0,D,0,576);for(var I=k.sfb_smin;I<dr.SBMAX_s;I++)for(var O=C.scalefac_band.s[I],N=C.scalefac_band.s[I+1],L=0;L<3;L++)for(var K=O;K<N;K++)k.xr[U++]=D[3*K+L];for(var z=k.sfb_lmax,I=k.sfb_smin;I<dr.SBMAX_s;I++)k.width[z]=k.width[z+1]=k.width[z+2]=C.scalefac_band.s[I+1]-C.scalefac_band.s[I],k.window[z]=0,k.window[z+1]=1,k.window[z+2]=2,z+=3}k.count1bits=0,k.sfb_partition_table=e.nr_of_sfb_block[0][0],k.slen[0]=0,k.slen[1]=0,k.slen[2]=0,k.slen[3]=0,k.max_nonzero_coeff=575,l0.fill(k.scalefac,0),u(C,k)};function h(C){this.ordinal=C}h.BINSEARCH_NONE=new h(0),h.BINSEARCH_UP=new h(1),h.BINSEARCH_DOWN=new h(2);function f(C,k,I,D,U){var O,N=C.CurrentStep[D],L=!1,K=C.OldValue[D],z=h.BINSEARCH_NONE;for(k.global_gain=K,I-=k.part2_length,Js(N!=0);;){var ae;if(O=a.count_bits(C,U,k,null),N==1||O==I)break;O>I?(z==h.BINSEARCH_DOWN&&(L=!0),L&&(N/=2),z=h.BINSEARCH_UP,ae=N):(z==h.BINSEARCH_UP&&(L=!0),L&&(N/=2),z=h.BINSEARCH_DOWN,ae=-N),k.global_gain+=ae,k.global_gain<0&&(k.global_gain=0,L=!0),k.global_gain>255&&(k.global_gain=255,L=!0)}for(Js(k.global_gain>=0),Js(k.global_gain<256);O>I&&k.global_gain<255;)k.global_gain++,O=a.count_bits(C,U,k,null);return C.CurrentStep[D]=K-k.global_gain>=4?4:2,C.OldValue[D]=k.global_gain,k.part2_3_length=O,O}this.trancate_smallspectrums=function(C,k,I,D){var U=Rf(qD.SFBMAX);if(!(!(C.substep_shaping&4)&&k.block_type==dr.SHORT_TYPE||C.substep_shaping&128)){e.calc_noise(k,I,U,new mb,null);for(var N=0;N<576;N++){var O=0;k.l3_enc[N]!=0&&(O=Math.abs(k.xr[N])),D[N]=O}var N=0,L=8;k.block_type==dr.SHORT_TYPE&&(L=6);do{var K,z,ae,fe,B=k.width[L];if(N+=B,!(U[L]>=1)&&(l0.sort(D,N-B,B),!BitStream.EQ(D[N-1],0))){K=(1-U[L])*I[L],z=0,fe=0;do{var J;for(ae=1;fe+ae<B&&!BitStream.NEQ(D[fe+N-B],D[fe+N+ae-B]);ae++);if(J=D[fe+N-B]*D[fe+N-B]*ae,K<J){fe!=0&&(z=D[fe+N-B-1]);break}K-=J,fe+=ae}while(fe<B);if(!BitStream.EQ(z,0))do Math.abs(k.xr[N-B])<=z&&(k.l3_enc[N-B]=0);while(--B>0)}}while(++L<k.psymax);k.part2_3_length=a.noquant_count_bits(C,k,null)}};function m(C){for(var k=0;k<C.sfbmax;k++)if(C.scalefac[k]+C.subblock_gain[C.window[k]]==0)return!1;return!0}function g(C){return ox.FAST_LOG10(.368+.632*C*C*C)}function x(C,k){for(var I=1e-37,D=0;D<k.psymax;D++)I+=g(C[D]);return Math.max(1e-20,I)}function E(C,k,I,D,U){var O;switch(C){default:case 9:k.over_count>0?(O=I.over_SSD<=k.over_SSD,I.over_SSD==k.over_SSD&&(O=I.bits<k.bits)):O=I.max_noise<0&&I.max_noise*10+I.bits<=k.max_noise*10+k.bits;break;case 0:O=I.over_count<k.over_count||I.over_count==k.over_count&&I.over_noise<k.over_noise||I.over_count==k.over_count&&BitStream.EQ(I.over_noise,k.over_noise)&&I.tot_noise<k.tot_noise;break;case 8:I.max_noise=x(U,D);case 1:O=I.max_noise<k.max_noise;break;case 2:O=I.tot_noise<k.tot_noise;break;case 3:O=I.tot_noise<k.tot_noise&&I.max_noise<k.max_noise;break;case 4:O=I.max_noise<=0&&k.max_noise>.2||I.max_noise<=0&&k.max_noise<0&&k.max_noise>I.max_noise-.2&&I.tot_noise<k.tot_noise||I.max_noise<=0&&k.max_noise>0&&k.max_noise>I.max_noise-.2&&I.tot_noise<k.tot_noise+k.over_noise||I.max_noise>0&&k.max_noise>-.05&&k.max_noise>I.max_noise-.1&&I.tot_noise+I.over_noise<k.tot_noise+k.over_noise||I.max_noise>0&&k.max_noise>-.1&&k.max_noise>I.max_noise-.15&&I.tot_noise+I.over_noise+I.over_noise<k.tot_noise+k.over_noise+k.over_noise;break;case 5:O=I.over_noise<k.over_noise||BitStream.EQ(I.over_noise,k.over_noise)&&I.tot_noise<k.tot_noise;break;case 6:O=I.over_noise<k.over_noise||BitStream.EQ(I.over_noise,k.over_noise)&&(I.max_noise<k.max_noise||BitStream.EQ(I.max_noise,k.max_noise)&&I.tot_noise<=k.tot_noise);break;case 7:O=I.over_count<k.over_count||I.over_noise<k.over_noise;break}return k.over_count==0&&(O=O&&I.bits<k.bits),O}function w(C,k,I,D,U){var O=C.internal_flags,N;k.scalefac_scale==0?N=1.2968395546510096:N=1.6817928305074292;for(var L=0,K=0;K<k.sfbmax;K++)L<I[K]&&(L=I[K]);var z=O.noise_shaping_amp;switch(z==3&&(U?z=2:z=1),z){case 2:break;case 1:L>1?L=Math.pow(L,.5):L*=.95;break;case 0:default:L>1?L=1:L*=.95;break}for(var ae=0,K=0;K<k.sfbmax;K++){var fe=k.width[K],B;if(ae+=fe,!(I[K]<L)){if(O.substep_shaping&2&&(O.pseudohalf[K]=O.pseudohalf[K]==0?1:0,O.pseudohalf[K]==0&&O.noise_shaping_amp==2))return;for(k.scalefac[K]++,B=-fe;B<0;B++)D[ae+B]*=N,D[ae+B]>k.xrpow_max&&(k.xrpow_max=D[ae+B]);if(O.noise_shaping_amp==2)return}}}function T(C,k){for(var I=1.2968395546510096,D=0,U=0;U<C.sfbmax;U++){var O=C.width[U],N=C.scalefac[U];if(C.preflag!=0&&(N+=e.pretab[U]),D+=O,N&1){N++;for(var L=-O;L<0;L++)k[D+L]*=I,k[D+L]>C.xrpow_max&&(C.xrpow_max=k[D+L])}C.scalefac[U]=N>>1}C.preflag=0,C.scalefac_scale=1}function A(C,k,I){var D,U=k.scalefac;for(D=0;D<k.sfb_lmax;D++)if(U[D]>=16)return!0;for(var O=0;O<3;O++){var N=0,L=0;for(D=k.sfb_lmax+O;D<k.sfbdivide;D+=3)N<U[D]&&(N=U[D]);for(;D<k.sfbmax;D+=3)L<U[D]&&(L=U[D]);if(!(N<16&&L<8)){if(k.subblock_gain[O]>=7)return!0;k.subblock_gain[O]++;var K=C.scalefac_band.l[k.sfb_lmax];for(D=k.sfb_lmax+O;D<k.sfbmax;D+=3){var J,z=k.width[D],ae=U[D];if(Js(ae>=0),ae=ae-(4>>k.scalefac_scale),ae>=0){U[D]=ae,K+=z*3;continue}U[D]=0;var fe=210+(ae<<k.scalefac_scale+1);J=e.IPOW20(fe),K+=z*(O+1);for(var B=-z;B<0;B++)I[K+B]*=J,I[K+B]>k.xrpow_max&&(k.xrpow_max=I[K+B]);K+=z*(3-O-1)}var J=e.IPOW20(202);K+=k.width[D]*(O+1);for(var B=-k.width[D];B<0;B++)I[K+B]*=J,I[K+B]>k.xrpow_max&&(k.xrpow_max=I[K+B])}}return!1}function P(C,k,I,D,U){var O=C.internal_flags;w(C,k,I,D,U);var N=m(k);return N?!1:(O.mode_gr==2?N=a.scale_bitcount(k):N=a.scale_bitcount_lsf(O,k),N?(O.noise_shaping>1&&(l0.fill(O.pseudohalf,0),k.scalefac_scale==0?(T(k,D),N=!1):k.block_type==dr.SHORT_TYPE&&O.subblock_gain>0&&(N=A(O,k,D)||m(k))),N||(O.mode_gr==2?N=a.scale_bitcount(k):N=a.scale_bitcount_lsf(O,k)),!N):!0)}this.outer_loop=function(C,k,I,D,U,O){var N=C.internal_flags,L=new $D,K=Rf(576),z=Rf(qD.SFBMAX),ae=new mb,fe,B=new gH,J=9999999,ce=!1,W=!1,_e=0;if(f(N,k,O,U,D),N.noise_shaping==0)return 100;e.calc_noise(k,I,z,ae,B),ae.bits=k.part2_3_length,L.assign(k);var oe=0;for(eu.arraycopy(D,0,K,0,576);!ce;){do{var le=new mb,ve,De=255;if(N.substep_shaping&2?ve=20:ve=3,N.sfb21_extra&&(z[L.sfbmax]>1||L.block_type==dr.SHORT_TYPE&&(z[L.sfbmax+1]>1||z[L.sfbmax+2]>1))||!P(C,L,z,D,W))break;L.scalefac_scale!=0&&(De=254);var pe=O-L.part2_length;if(pe<=0)break;for(;(L.part2_3_length=a.count_bits(N,D,L,B))>pe&&L.global_gain<=De;)L.global_gain++;if(L.global_gain>De)break;if(ae.over_count==0){for(;(L.part2_3_length=a.count_bits(N,D,L,B))>J&&L.global_gain<=De;)L.global_gain++;if(L.global_gain>De)break}if(e.calc_noise(L,I,z,le,B),le.bits=L.part2_3_length,k.block_type!=dr.SHORT_TYPE?fe=C.quant_comp:fe=C.quant_comp_short,fe=E(fe,ae,le,L,z)?1:0,fe!=0)J=k.part2_3_length,ae=le,k.assign(L),oe=0,eu.arraycopy(D,0,K,0,576);else if(N.full_outer_loop==0&&(++oe>ve&&ae.over_count==0||N.noise_shaping_amp==3&&W&&oe>30||N.noise_shaping_amp==3&&W&&L.global_gain-_e>15))break}while(L.global_gain+L.scalefac_scale<255);N.noise_shaping_amp==3?W?ce=!0:(L.assign(k),eu.arraycopy(K,0,D,0,576),oe=0,_e=L.global_gain,W=!0):ce=!0}return Js(k.global_gain+k.scalefac_scale<=255),C.VBR==VD.vbr_rh||C.VBR==VD.vbr_mtrh?eu.arraycopy(K,0,D,0,576):N.substep_shaping&1&&trancate_smallspectrums(N,k,I,D),ae.over_count},this.iteration_finish_one=function(C,k,I){var D=C.l3_side,U=D.tt[k][I];a.best_scalefac_store(C,k,I,D),C.use_best_huffman==1&&a.best_huffman_divide(C,U),t.ResvAdjust(C,U)},this.VBR_encode_granule=function(C,k,I,D,U,O,N){var L=C.internal_flags,K=new $D,z=Rf(576),ae=N,fe=N+1,B=(N+O)/2,J,ce,W=0,_e=L.sfb21_extra;Js(ae<=LameInternalFlags.MAX_BITS_PER_CHANNEL),l0.fill(K.l3_enc,0);do Js(B>=O),Js(B<=N),Js(O<=N),B>ae-42?L.sfb21_extra=!1:L.sfb21_extra=_e,ce=outer_loop(C,k,I,D,U,B),ce<=0?(W=1,fe=k.part2_3_length,K.assign(k),eu.arraycopy(D,0,z,0,576),N=fe-32,J=N-O,B=(N+O)/2):(O=B+32,J=N-O,B=(N+O)/2,W!=0&&(W=2,k.assign(K),eu.arraycopy(z,0,D,0,576)));while(J>12);L.sfb21_extra=_e,W==2&&eu.arraycopy(K.l3_enc,0,k.l3_enc,0,576),Js(k.part2_3_length<=ae)},this.get_framebits=function(C,k){var I=C.internal_flags;I.bitrate_index=I.VBR_min_bitrate;var D=n.getframebits(C);I.bitrate_index=1,D=n.getframebits(C);for(var U=1;U<=I.VBR_max_bitrate;U++){I.bitrate_index=U;var O=new MeanBits(D);k[U]=t.ResvFrameBegin(C,O),D=O.bits}},this.VBR_old_prepare=function(C,k,I,D,U,O,N,L,K){var z=C.internal_flags,ae,fe=0,B=1,J=0;z.bitrate_index=z.VBR_max_bitrate;var ce=t.ResvFrameBegin(C,new MeanBits(0))/z.mode_gr;get_framebits(C,O);for(var W=0;W<z.mode_gr;W++){var _e=e.on_pe(C,k,L[W],ce,W,0);z.mode_ext==dr.MPG_MD_MS_LR&&(ms_convert(z.l3_side,W),e.reduce_side(L[W],I[W],ce,_e));for(var oe=0;oe<z.channels_out;++oe){var le=z.l3_side.tt[W][oe];le.block_type!=dr.SHORT_TYPE?(fe=1.28/(1+Math.exp(3.5-k[W][oe]/300))-.05,ae=z.PSY.mask_adjust-fe):(fe=2.56/(1+Math.exp(3.5-k[W][oe]/300))-.14,ae=z.PSY.mask_adjust_short-fe),z.masking_lower=Math.pow(10,ae*.1),init_outer_loop(z,le),K[W][oe]=e.calc_xmin(C,D[W][oe],le,U[W][oe]),K[W][oe]!=0&&(B=0),N[W][oe]=126,J+=L[W][oe]}}for(var W=0;W<z.mode_gr;W++)for(var oe=0;oe<z.channels_out;oe++)J>O[z.VBR_max_bitrate]&&(L[W][oe]*=O[z.VBR_max_bitrate],L[W][oe]/=J),N[W][oe]>L[W][oe]&&(N[W][oe]=L[W][oe]);return B},this.bitpressure_strategy=function(C,k,I,D){for(var U=0;U<C.mode_gr;U++)for(var O=0;O<C.channels_out;O++){for(var N=C.l3_side.tt[U][O],L=k[U][O],K=0,z=0;z<N.psy_lmax;z++)L[K++]*=1+.029*z*z/dr.SBMAX_l/dr.SBMAX_l;if(N.block_type==dr.SHORT_TYPE)for(var z=N.sfb_smin;z<dr.SBMAX_s;z++)L[K++]*=1+.029*z*z/dr.SBMAX_s/dr.SBMAX_s,L[K++]*=1+.029*z*z/dr.SBMAX_s/dr.SBMAX_s,L[K++]*=1+.029*z*z/dr.SBMAX_s/dr.SBMAX_s;D[U][O]=0|Math.max(I[U][O],.9*D[U][O])}},this.VBR_new_prepare=function(C,k,I,D,U,O){var N=C.internal_flags,L=1,K=0,z=0,ae;if(C.free_format){N.bitrate_index=0;var fe=new MeanBits(K);ae=t.ResvFrameBegin(C,fe),K=fe.bits,U[0]=ae}else{N.bitrate_index=N.VBR_max_bitrate;var fe=new MeanBits(K);t.ResvFrameBegin(C,fe),K=fe.bits,get_framebits(C,U),ae=U[N.VBR_max_bitrate]}for(var B=0;B<N.mode_gr;B++){e.on_pe(C,k,O[B],K,B,0),N.mode_ext==dr.MPG_MD_MS_LR&&ms_convert(N.l3_side,B);for(var J=0;J<N.channels_out;++J){var ce=N.l3_side.tt[B][J];N.masking_lower=Math.pow(10,N.PSY.mask_adjust*.1),init_outer_loop(N,ce),e.calc_xmin(C,I[B][J],ce,D[B][J])!=0&&(L=0),z+=O[B][J]}}for(var B=0;B<N.mode_gr;B++)for(var J=0;J<N.channels_out;J++)z>ae&&(O[B][J]*=ae,O[B][J]/=z);return L},this.calc_target_bits=function(C,k,I,D,U,O){var N=C.internal_flags,L=N.l3_side,K,z,ae,fe,B=0;N.bitrate_index=N.VBR_max_bitrate;var J=new MeanBits(B);for(O[0]=t.ResvFrameBegin(C,J),B=J.bits,N.bitrate_index=1,B=n.getframebits(C)-N.sideinfo_len*8,U[0]=B/(N.mode_gr*N.channels_out),B=C.VBR_mean_bitrate_kbps*C.framesize*1e3,N.substep_shaping&1&&(B*=1.09),B/=C.out_samplerate,B-=N.sideinfo_len*8,B/=N.mode_gr*N.channels_out,K=.93+.07*(11-C.compression_ratio)/5.5,K<.9&&(K=.9),K>1&&(K=1),z=0;z<N.mode_gr;z++){var ce=0;for(ae=0;ae<N.channels_out;ae++){if(D[z][ae]=int(K*B),k[z][ae]>700){var W=int((k[z][ae]-700)/1.4),_e=L.tt[z][ae];D[z][ae]=int(K*B),_e.block_type==dr.SHORT_TYPE&&W<B/2&&(W=B/2),W>B*3/2?W=B*3/2:W<0&&(W=0),D[z][ae]+=W}D[z][ae]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(D[z][ae]=LameInternalFlags.MAX_BITS_PER_CHANNEL),ce+=D[z][ae]}if(ce>LameInternalFlags.MAX_BITS_PER_GRANULE)for(ae=0;ae<N.channels_out;++ae)D[z][ae]*=LameInternalFlags.MAX_BITS_PER_GRANULE,D[z][ae]/=ce}if(N.mode_ext==dr.MPG_MD_MS_LR)for(z=0;z<N.mode_gr;z++)e.reduce_side(D[z],I[z],B*N.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(fe=0,z=0;z<N.mode_gr;z++)for(ae=0;ae<N.channels_out;ae++)D[z][ae]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(D[z][ae]=LameInternalFlags.MAX_BITS_PER_CHANNEL),fe+=D[z][ae];if(fe>O[0])for(z=0;z<N.mode_gr;z++)for(ae=0;ae<N.channels_out;ae++)D[z][ae]*=O[0],D[z][ae]/=fe}}mH=xye;var Sye=bn("65Sx2"),bH={},ut=bn("3YDN3"),Vg=ut.assert;function Tye(){var n;this.setModules=function(t){n=t},this.ResvFrameBegin=function(t,e){var r=t.internal_flags,a,l=r.l3_side,u=n.getframebits(t);e.bits=(u-r.sideinfo_len*8)/r.mode_gr;var h=2048*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=11520,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-u,r.ResvMax>h&&(r.ResvMax=h),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var f=e.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return f>a&&(f=a),Vg(r.ResvMax%8==0),Vg(r.ResvMax>=0),l.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=e.bits/2,r.pinfo.resvsize=r.ResvSize),f},this.ResvMaxBits=function(t,e,r,a){var l=t.internal_flags,u,h=l.ResvSize,f=l.ResvMax;a!=0&&(h+=e),l.substep_shaping&1&&(f*=.9),r.bits=e,h*10>f*9?(u=h-f*9/10,r.bits+=u,l.substep_shaping|=128):(u=0,l.substep_shaping&=127,!t.disable_reservoir&&!(l.substep_shaping&1)&&(r.bits-=.1*e));var m=h<l.ResvMax*6/10?h:l.ResvMax*6/10;return m-=u,m<0&&(m=0),m},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var r,a=t.l3_side;t.ResvSize+=e*t.mode_gr;var l=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(l+=r),r=t.ResvSize-l-t.ResvMax,r>0&&(Vg(r%8==0),Vg(r>=0),l+=r);var u=Math.min(a.main_data_begin*8,l)/8;a.resvDrain_pre+=8*u,l-=8*u,t.ResvSize-=8*u,a.main_data_begin-=u,a.resvDrain_post+=l,t.ResvSize-=l}}bH=Tye;var kye=bn("jL6I1"),Cye=bn("ctaQC");bn("cPNKB");var yH={};function Nye(){var n="http://www.mp3dev.org/",t=3,e=98,r=4,a=0,l=93;this.getLameVersion=function(){return t+"."+e+"."+r},this.getLameShortVersion=function(){return t+"."+e+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+e+"r"},this.getPsyVersion=function(){return a+"."+l},this.getLameUrl=function(){return n},this.getLameOsBitness=function(){return"32bits"}}yH=Nye;var EH={},ut=bn("3YDN3"),Iye=ut.System,lx=ut.VbrMode;ut.Float;var GD=ut.ShortBlock;ut.Util;var Aye=ut.Arrays;ut.new_array_n;var zg=ut.new_byte;ut.new_double;ut.new_float;ut.new_float_n;ut.new_int;ut.new_int_n;var Oye=ut.assert;X_.NUMTOCENTRIES=100;X_.MAXFRAMESIZE=2880;function X_(){var n,t,e;this.setModules=function(B,J,ce){n=B,t=J,e=ce};var r=1,a=2,l=4,u=8,h=X_.NUMTOCENTRIES,f=X_.MAXFRAMESIZE,m=h+4+4+4+4+4,g=m+9+1+1+8+1+1+3+1+1+2+4+2+2,x=128,E=64,w=32,T=null,A="Xing",P="Info",C=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function k(B,J){if(B.nVbrNumFrames++,B.sum+=J,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var ce=1;ce<B.size;ce+=2)B.bag[ce/2]=B.bag[ce];B.want*=2,B.pos/=2}}function I(B,J){if(!(B.pos<=0))for(var ce=1;ce<h;++ce){var W=ce/h,_e,oe,le=0|Math.floor(W*B.pos);le>B.pos-1&&(le=B.pos-1),_e=B.bag[le],oe=B.sum;var ve=0|256*_e/oe;ve>255&&(ve=255),J[ce]=255&ve}}this.addVbrFrame=function(B){var J=B.internal_flags,ce=Tables.bitrate_table[B.version][J.bitrate_index];Oye(J.VBR_seek_table.bag!=null),k(J.VBR_seek_table,ce)};function D(B,J){var ce=B[J+0]&255;return ce<<=8,ce|=B[J+1]&255,ce<<=8,ce|=B[J+2]&255,ce<<=8,ce|=B[J+3]&255,ce}function U(B,J,ce){B[J+0]=255&(ce>>24&255),B[J+1]=255&(ce>>16&255),B[J+2]=255&(ce>>8&255),B[J+3]=255&(ce&255)}function O(B,J,ce){B[J+0]=255&(ce>>8&255),B[J+1]=255&(ce&255)}function N(B,J){return new String(B,J,A.length(),T).equals(A)||new String(B,J,P.length(),T).equals(P)}function L(B,J,ce){return 255&(B<<J|ce&~(-1<<J))}function K(B,J){var ce=B.internal_flags;J[0]=L(J[0],8,255),J[1]=L(J[1],3,7),J[1]=L(J[1],1,B.out_samplerate<16e3?0:1),J[1]=L(J[1],1,B.version),J[1]=L(J[1],2,1),J[1]=L(J[1],1,B.error_protection?0:1),J[2]=L(J[2],4,ce.bitrate_index),J[2]=L(J[2],2,ce.samplerate_index),J[2]=L(J[2],1,0),J[2]=L(J[2],1,B.extension),J[3]=L(J[3],2,B.mode.ordinal()),J[3]=L(J[3],2,ce.mode_ext),J[3]=L(J[3],1,B.copyright),J[3]=L(J[3],1,B.original),J[3]=L(J[3],2,B.emphasis),J[0]=255;var W=255&(J[1]&241),_e;B.version==1?_e=x:B.out_samplerate<16e3?_e=w:_e=E,B.VBR==lx.vbr_off&&(_e=B.brate);var oe;B.free_format?oe=0:oe=255&16*n.BitrateIndex(_e,B.version,B.out_samplerate),B.version==1?(J[1]=255&(W|10),W=255&(J[2]&13),J[2]=255&(oe|W)):(J[1]=255&(W|2),W=255&(J[2]&13),J[2]=255&(oe|W))}this.getVbrTag=function(B){var J=new VBRTagData,ce=0;J.flags=0;var W=B[ce+1]>>3&1,_e=B[ce+2]>>2&3,oe=B[ce+3]>>6&3,le=B[ce+2]>>4&15;if(le=Tables.bitrate_table[W][le],B[ce+1]>>4==14?J.samprate=Tables.samplerate_table[2][_e]:J.samprate=Tables.samplerate_table[W][_e],W!=0?oe!=3?ce+=36:ce+=21:oe!=3?ce+=21:ce+=13,!N(B,ce))return null;ce+=4,J.hId=W;var ve=J.flags=D(B,ce);if(ce+=4,ve&r&&(J.frames=D(B,ce),ce+=4),ve&a&&(J.bytes=D(B,ce),ce+=4),ve&l){if(J.toc!=null)for(var De=0;De<h;De++)J.toc[De]=B[ce+De];ce+=h}J.vbrScale=-1,ve&u&&(J.vbrScale=D(B,ce),ce+=4),J.headersize=(W+1)*72e3*le/J.samprate,ce+=21;var pe=B[ce+0]<<4;pe+=B[ce+1]>>4;var he=(B[ce+1]&15)<<8;return he+=B[ce+2]&255,(pe<0||pe>3e3)&&(pe=-1),(he<0||he>3e3)&&(he=-1),J.encDelay=pe,J.encPadding=he,J},this.InitVbrTag=function(B){var J=B.internal_flags,ce;B.version==1?ce=x:B.out_samplerate<16e3?ce=w:ce=E,B.VBR==lx.vbr_off&&(ce=B.brate);var W=(B.version+1)*72e3*ce/B.out_samplerate,_e=J.sideinfo_len+g;if(J.VBR_seek_table.TotalFrameSize=W,W<_e||W>f){B.bWriteVbrTag=!1;return}J.VBR_seek_table.nVbrNumFrames=0,J.VBR_seek_table.nBytesWritten=0,J.VBR_seek_table.sum=0,J.VBR_seek_table.seen=0,J.VBR_seek_table.want=1,J.VBR_seek_table.pos=0,J.VBR_seek_table.bag==null&&(J.VBR_seek_table.bag=new int[400],J.VBR_seek_table.size=400);var oe=zg(f);K(B,oe);for(var le=J.VBR_seek_table.TotalFrameSize,ve=0;ve<le;++ve)t.add_dummy_byte(B,oe[ve]&255,1)};function z(B,J){var ce=J^B;return J=J>>8^C[ce&255],J}this.updateMusicCRC=function(B,J,ce,W){for(var _e=0;_e<W;++_e)B[0]=z(J[ce+_e],B[0])};function ae(B,J,ce,W,_e){var oe=B.internal_flags,le=0,ve=B.encoder_delay,De=B.encoder_padding,pe=100-10*B.VBR_q-B.quality,he=e.getLameVeryShortVersion(),G,ee=0,$,ie=[1,5,3,2,4,0,3],Oe=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),qe=0,Re=0,Se=0,je=B.internal_flags.noise_shaping,Be=0,We=0,rn=0,un=0,pn=0,vn=(B.exp_nspsytune&1)!=0,Hn=(B.exp_nspsytune&2)!=0,Tn=!1,j=!1,te=B.internal_flags.nogap_total,En=B.internal_flags.nogap_current,Nn=B.ATHtype,Zn=0,Gn;switch(B.VBR){case vbr_abr:Gn=B.VBR_mean_bitrate_kbps;break;case vbr_off:Gn=B.brate;break;default:Gn=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<ie.length?G=ie[B.VBR.ordinal()]:G=0,$=16*ee+G,oe.findReplayGain&&(oe.RadioGain>510&&(oe.RadioGain=510),oe.RadioGain<-510&&(oe.RadioGain=-510),Re=8192,Re|=3072,oe.RadioGain>=0?Re|=oe.RadioGain:(Re|=512,Re|=-oe.RadioGain)),oe.findPeakSample&&(qe=Math.abs(0|oe.PeakSample/32767*Math.pow(2,23)+.5)),te!=-1&&(En>0&&(j=!0),En<te-1&&(Tn=!0)),Zn=Nn+((vn?1:0)<<4)+((Hn?1:0)<<5)+((Tn?1:0)<<6)+((j?1:0)<<7),pe<0&&(pe=0),B.mode){case MONO:Be=0;break;case STEREO:Be=1;break;case DUAL_CHANNEL:Be=2;break;case JOINT_STEREO:B.force_ms?Be=4:Be=3;break;case NOT_SET:default:Be=7;break}B.in_samplerate<=32e3?rn=0:B.in_samplerate==48e3?rn=2:B.in_samplerate>48e3?rn=3:rn=1,(B.short_blocks==GD.short_block_forced||B.short_blocks==GD.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||Nn==0||B.in_samplerate<=32e3)&&(We=1),un=je+(Be<<2)+(We<<5)+(rn<<6),pn=oe.nMusicCRC,U(ce,W+le,pe),le+=4;for(var $n=0;$n<9;$n++)ce[W+le+$n]=255&he.charAt($n);le+=9,ce[W+le]=255&$,le++,ce[W+le]=255&Oe,le++,U(ce,W+le,qe),le+=4,O(ce,W+le,Re),le+=2,O(ce,W+le,Se),le+=2,ce[W+le]=255&Zn,le++,Gn>=255?ce[W+le]=255:ce[W+le]=255&Gn,le++,ce[W+le]=255&ve>>4,ce[W+le+1]=255&(ve<<4)+(De>>8),ce[W+le+2]=255&De,le+=3,ce[W+le]=255&un,le++,ce[W+le++]=0,O(ce,W+le,B.preset),le+=2,U(ce,W+le,J),le+=4,O(ce,W+le,pn),le+=2;for(var Vn=0;Vn<le;Vn++)_e=z(ce[W+Vn],_e);return O(ce,W+le,_e),le+=2,le}function fe(B){B.seek(0);var J=zg(10);B.readFully(J);var ce;return new String(J,"ISO-8859-1").startsWith("ID3")?ce=0:ce=((J[6]&127)<<21|(J[7]&127)<<14|(J[8]&127)<<7|J[9]&127)+J.length,ce}this.getLameTagFrame=function(B,J){var ce=B.internal_flags;if(!B.bWriteVbrTag||ce.Class_ID!=Lame.LAME_ID||ce.VBR_seek_table.pos<=0)return 0;if(J.length<ce.VBR_seek_table.TotalFrameSize)return ce.VBR_seek_table.TotalFrameSize;Aye.fill(J,0,ce.VBR_seek_table.TotalFrameSize,0),K(B,J);var W=zg(h);if(B.free_format)for(var _e=1;_e<h;++_e)W[_e]=255&255*_e/100;else I(ce.VBR_seek_table,W);var oe=ce.sideinfo_len;B.error_protection&&(oe-=2),B.VBR==lx.vbr_off?(J[oe++]=255&P.charAt(0),J[oe++]=255&P.charAt(1),J[oe++]=255&P.charAt(2),J[oe++]=255&P.charAt(3)):(J[oe++]=255&A.charAt(0),J[oe++]=255&A.charAt(1),J[oe++]=255&A.charAt(2),J[oe++]=255&A.charAt(3)),U(J,oe,r+a+l+u),oe+=4,U(J,oe,ce.VBR_seek_table.nVbrNumFrames),oe+=4;var le=ce.VBR_seek_table.nBytesWritten+ce.VBR_seek_table.TotalFrameSize;U(J,oe,0|le),oe+=4,Iye.arraycopy(W,0,J,oe,W.length),oe+=W.length,B.error_protection&&t.CRC_writeheader(ce,J);for(var ve=0,_e=0;_e<oe;_e++)ve=z(J[_e],ve);return oe+=ae(B,le,J,oe,ve),ce.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,J){var ce=B.internal_flags;if(ce.VBR_seek_table.pos<=0||(J.seek(J.length()),J.length()==0))return-1;var W=fe(J);J.seek(W);var _e=zg(f),oe=getLameTagFrame(B,_e);return oe>_e.length?-1:(oe<1||J.write(_e,0,oe),0)}}EH=X_;function Rye(){this.setModules=function(n,t){}}function Mye(){this.setModules=function(n,t,e){}}function Dye(){}function Lye(){this.setModules=function(n,t){}}function Uye(n,t,e){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),n=1,t=44100,e=128);var r=new _ye,a=new Rye,l=new vye,u=new Cye,h=new _H,f=new gye,m=new mH,g=new EH,x=new yH,E=new Lye,w=new bH,T=new Sye,A=new Mye,P=new Dye;r.setModules(l,u,h,f,m,g,x,E,P),u.setModules(l,P,x,g),E.setModules(u,x),h.setModules(r),m.setModules(u,w,f,T),f.setModules(T,w,r.enc.psy),w.setModules(u),T.setModules(f),g.setModules(r,u,x),a.setModules(A,P),A.setModules(x,E,h);var C=r.lame_init();C.num_channels=n,C.in_samplerate=t,C.brate=e,C.mode=kye.STEREO,C.quality=3,C.bWriteVbrTag=!1,C.disable_reservoir=!0,C.write_id3tag_automatic=!1;var k=r.lame_init_params(C);BD(k==0);var I=1152,D=0|1.25*I+7200,U=HD(D);this.encodeBuffer=function(O,N){n==1&&(N=O),BD(O.length==N.length),O.length>I&&(I=O.length,D=0|1.25*I+7200,U=HD(D));var L=r.lame_encode_buffer(C,O,N,O.length,U,0,D);return new Int8Array(U.subarray(0,L))},this.flush=function(){var O=r.lame_encode_flush(C,U,0,D);return new Int8Array(U.subarray(0,O))}}function Bo(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Z1(n){return n.charCodeAt(0)<<24|n.charCodeAt(1)<<16|n.charCodeAt(2)<<8|n.charCodeAt(3)}Bo.RIFF=Z1("RIFF");Bo.WAVE=Z1("WAVE");Bo.fmt_=Z1("fmt ");Bo.data=Z1("data");Bo.readHeader=function(n){var t=new Bo,e=n.getUint32(0,!1);if(Bo.RIFF==e&&(n.getUint32(4,!0),Bo.WAVE==n.getUint32(8,!1)&&Bo.fmt_==n.getUint32(12,!1))){var r=n.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=n.getUint16(a+2,!0),t.sampleRate=n.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var l=Bo.data,u=0;l!=e&&(e=n.getUint32(a,!1),u=n.getUint32(a+4,!0),l!=e);)a+=u+8;return t.dataLen=u,t.dataOffset=a+8,t}};l1=Uye;c1=Bo;function Pye(n){const t=c1.readHeader(new DataView(n)),e=new Int16Array(n,t.dataOffset,t.dataLen/2),r=new l1(t.channels,t.sampleRate,128),a=1152,l=t.channels===1?e:new Int16Array(t.dataLen/(2*t.channels)),u=t.channels===2?new Int16Array(t.dataLen/(2*t.channels)):void 0;if(t.channels>1)for(let g=0;g<l.length;g++)l[g]=e[g*2],u[g]=e[g*2+1];const h=[];let f=l.length;for(let g=0;f>=a;g+=a){const x=l.subarray(g,g+a);let E;u&&(E=u.subarray(g,g+a));const w=r.encodeBuffer(x,E);h.push(new Int8Array(w)),f-=a}const m=r.flush();return h.push(new Int8Array(m)),h}function Fye(n,t){const e=new AudioContext,r=new FileReader;r.onload=function(a){e.decodeAudioData(a.target.result,l=>{const u=!window.OfflineAudioContext,h=new OfflineAudioContext(1,16e3*l.duration,16e3),f=h.createBufferSource();f.buffer=l,f.connect(h.destination);const m=new FileReader;m.onload=function(){const g=x=>{const E=u?x.renderedBuffer:x,w=Hye(E,E.length);t&&t(w)};u?(h.oncomplete=g,h.startRendering()):h.startRendering().then(g).catch(x=>console.warn(x))},m.readAsArrayBuffer(n),f.start(0)})},r.readAsArrayBuffer(n)}function Hye(n,t){const e=n.numberOfChannels,r=t*e*2+44,a=new ArrayBuffer(r),l=new DataView(a),u=[];let h=0,f,m=0,g=0;for(E(1179011410),E(r-8),E(1163280727),E(544501094),E(16),x(1),x(e),E(n.sampleRate),E(n.sampleRate*2*e),x(e*2),x(16),E(1635017060),E(r-g-4),h=0;h<n.numberOfChannels;h++)u.push(n.getChannelData(h));for(;g<r;){for(h=0;h<e;h++)f=Math.max(-1,Math.min(1,u[h][m])),f=(.5+f<0?f*32768:f*32767)|0,l.setInt16(g,f,!0),g+=2;m++}return a;function x(w){l.setUint16(g,w,!0),g+=2}function E(w){l.setUint32(g,w,!0),g+=4}}var Bye=Object.freeze({__proto__:null,downsampleToWav:Fye,encodeMp3:Pye});function Vye(){const[n,t]=Q.useState(""),[e,r]=Q.useState(""),[a,l]=Q.useState(""),[u,h]=Q.useState(!1),f=new URLSearchParams(bse().search);return Q.useEffect(()=>{let m={};const g=f.get("q");if(g)try{m=JSON.parse(decodeURIComponent(atob(g))),m.app_id&&t(m.app_id),m.user_id&&r(m.user_id),m.access_token&&l(m.access_token),h(!0)}catch{console.error("incorrect auth query")}},[]),qa.jsx("div",{className:"App",children:u?qa.jsx(sye,{appId:n,userId:e,nickname:e,accessToken:a||null}):qa.jsxs("div",{className:"login-panel",children:[qa.jsx("img",{src:"./logo.png",className:"logo"}),qa.jsxs("div",{className:"login-form",children:[qa.jsx("div",{className:"section",children:"Application ID"}),qa.jsx("input",{type:"text",className:"input",placeholder:"Application ID",value:n,onChange:m=>t(m.target.value)}),qa.jsx("div",{className:"section",children:"User ID"}),qa.jsx("input",{type:"text",className:"input",placeholder:"User ID",value:e,onChange:m=>r(m.target.value)}),qa.jsx("div",{className:"section",children:"Access token (optional)"}),qa.jsx("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:a,onChange:m=>l(m.target.value)}),qa.jsx("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>h(!0)})]}),qa.jsx("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}cx.createRoot(document.getElementById("root")).render(qa.jsx(M.StrictMode,{children:qa.jsx(Vye,{})}));
